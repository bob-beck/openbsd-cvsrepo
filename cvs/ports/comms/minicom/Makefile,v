head	1.62;
access;
symbols
	OPENBSD_6_2:1.62.0.2
	OPENBSD_6_2_BASE:1.62
	OPENBSD_6_1:1.60.0.4
	OPENBSD_6_1_BASE:1.60
	OPENBSD_6_0:1.60.0.2
	OPENBSD_6_0_BASE:1.60
	OPENBSD_5_9:1.59.0.4
	OPENBSD_5_9_BASE:1.59
	OPENBSD_5_8:1.59.0.6
	OPENBSD_5_8_BASE:1.59
	OPENBSD_5_7:1.59.0.2
	OPENBSD_5_7_BASE:1.59
	OPENBSD_5_6:1.57.0.4
	OPENBSD_5_6_BASE:1.57
	OPENBSD_5_5:1.57.0.2
	OPENBSD_5_5_BASE:1.57
	OPENBSD_5_4:1.55.0.2
	OPENBSD_5_4_BASE:1.55
	OPENBSD_5_3:1.53.0.4
	OPENBSD_5_3_BASE:1.53
	OPENBSD_5_2:1.53.0.2
	OPENBSD_5_2_BASE:1.53
	OPENBSD_5_1_BASE:1.52
	OPENBSD_5_1:1.52.0.4
	OPENBSD_5_0:1.52.0.2
	OPENBSD_5_0_BASE:1.52
	OPENBSD_4_9:1.51.0.2
	OPENBSD_4_9_BASE:1.51
	OPENBSD_4_8:1.48.0.12
	OPENBSD_4_8_BASE:1.48
	OPENBSD_4_7:1.48.0.10
	OPENBSD_4_7_BASE:1.48
	OPENBSD_4_6:1.48.0.8
	OPENBSD_4_6_BASE:1.48
	OPENBSD_4_5:1.48.0.6
	OPENBSD_4_5_BASE:1.48
	OPENBSD_4_4:1.48.0.4
	OPENBSD_4_4_BASE:1.48
	OPENBSD_4_3:1.48.0.2
	OPENBSD_4_3_BASE:1.48
	OPENBSD_4_2:1.47.0.2
	OPENBSD_4_2_BASE:1.47
	OPENBSD_4_1:1.46.0.4
	OPENBSD_4_1_BASE:1.46
	OPENBSD_4_0:1.46.0.2
	OPENBSD_4_0_BASE:1.46
	OPENBSD_3_9:1.45.0.2
	OPENBSD_3_9_BASE:1.45
	OPENBSD_3_8:1.43.0.4
	OPENBSD_3_8_BASE:1.43
	OPENBSD_3_7:1.43.0.2
	OPENBSD_3_7_BASE:1.43
	OPENBSD_3_6:1.41.0.2
	OPENBSD_3_6_BASE:1.41
	OPENBSD_3_5:1.40.0.2
	OPENBSD_3_5_BASE:1.40
	OPENBSD_3_4:1.39.0.2
	OPENBSD_3_4_BASE:1.39
	OPENBSD_3_3:1.38.0.4
	OPENBSD_3_3_BASE:1.38
	OPENBSD_3_2:1.38.0.2
	OPENBSD_3_2_BASE:1.38
	OPENBSD_3_1:1.34.0.2
	OPENBSD_3_1_BASE:1.34
	OPENBSD_3_0:1.32.0.2
	OPENBSD_3_0_BASE:1.32
	OPENBSD_2_9_TRACKING_SWITCH:1.31
	OPENBSD_2_9:1.31.0.2
	OPENBSD_2_9_BASE:1.31
	OPENBSD_2_8:1.29.0.2
	OPENBSD_2_8_BASE:1.29
	OPENBSD_2_7:1.23.0.2
	OPENBSD_2_7_BASE:1.23
	OPENBSD_2_6:1.13.0.2
	OPENBSD_2_6_BASE:1.13
	OPENBSD_2_5:1.11.0.2
	OPENBSD_2_5_BASE:1.11
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	form_980506:1.1.1.2
	form_980505:1.1.1.2
	form:1.1.1
	minicom1_75:1.1.1.1
	minicom:1.1.1;
locks; strict;
comment	@# @;


1.62
date	2017.05.06.22.00.53;	author sthen;	state Exp;
branches;
next	1.61;
commitid	BCYmLNKlySGOhlYO;

1.61
date	2017.04.18.21.05.09;	author sthen;	state Exp;
branches;
next	1.60;
commitid	EY0AiOZyCtDK0mSE;

1.60
date	2016.04.12.15.19.39;	author naddy;	state Exp;
branches
	1.60.4.1;
next	1.59;
commitid	N3rcp9eNnhmCMrQO;

1.59
date	2015.01.24.13.46.44;	author schwarze;	state Exp;
branches;
next	1.58;
commitid	r3ywIYD0rT3uuQW8;

1.58
date	2014.08.21.08.23.00;	author jasper;	state Exp;
branches;
next	1.57;
commitid	oSmjowuvjnTnoeYS;

1.57
date	2014.01.14.00.38.39;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2013.10.10.02.08.20;	author brad;	state Exp;
branches;
next	1.55;

1.55
date	2013.03.27.12.14.28;	author gonzalo;	state Exp;
branches;
next	1.54;

1.54
date	2013.03.11.01.30.26;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2012.03.19.22.17.43;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2011.04.22.11.21.46;	author stsp;	state Exp;
branches;
next	1.51;

1.51
date	2010.11.15.00.22.50;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2010.10.18.21.35.48;	author sthen;	state Exp;
branches;
next	1.49;

1.49
date	2010.10.18.16.57.48;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2007.09.16.01.37.09;	author merdely;	state Exp;
branches;
next	1.47;

1.47
date	2007.05.23.16.40.55;	author ckuethe;	state Exp;
branches;
next	1.46;

1.46
date	2006.07.13.06.47.09;	author steven;	state Exp;
branches;
next	1.45;

1.45
date	2006.02.08.04.54.48;	author david;	state Exp;
branches;
next	1.44;

1.44
date	2005.11.03.18.28.55;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2005.01.06.19.51.44;	author alek;	state Exp;
branches;
next	1.42;

1.42
date	2004.11.21.22.29.50;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2004.08.10.08.12.09;	author xsa;	state Exp;
branches;
next	1.40;

1.40
date	2003.12.04.05.34.52;	author pvalchev;	state Exp;
branches;
next	1.39;

1.39
date	2003.04.24.19.03.22;	author sturm;	state Exp;
branches;
next	1.38;

1.38
date	2002.09.28.00.46.11;	author pvalchev;	state Exp;
branches;
next	1.37;

1.37
date	2002.09.01.18.49.00;	author mpech;	state Exp;
branches;
next	1.36;

1.36
date	2002.06.13.03.26.44;	author form;	state Exp;
branches;
next	1.35;

1.35
date	2002.05.13.02.36.24;	author form;	state Exp;
branches;
next	1.34;

1.34
date	2002.03.22.05.31.37;	author form;	state Exp;
branches;
next	1.33;

1.33
date	2002.03.21.20.46.23;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2001.10.12.03.30.30;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2001.03.30.11.33.39;	author form;	state Exp;
branches;
next	1.30;

1.30
date	2001.03.29.09.56.43;	author form;	state Exp;
branches;
next	1.29;

1.29
date	2000.10.22.14.03.00;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2000.08.31.00.40.30;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2000.06.14.16.45.01;	author form;	state Exp;
branches;
next	1.26;

1.26
date	2000.06.09.16.14.40;	author form;	state Exp;
branches;
next	1.25;

1.25
date	2000.06.03.06.20.56;	author form;	state Exp;
branches;
next	1.24;

1.24
date	2000.05.18.04.41.30;	author form;	state Exp;
branches;
next	1.23;

1.23
date	2000.04.09.17.36.09;	author espie;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2000.03.24.23.28.04;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2000.03.05.18.30.23;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.03.03.12.08.04;	author turan;	state Exp;
branches;
next	1.19;

1.19
date	2000.02.15.05.04.05;	author turan;	state Exp;
branches;
next	1.18;

1.18
date	2000.02.12.08.02.11;	author turan;	state Exp;
branches;
next	1.17;

1.17
date	2000.02.11.01.10.01;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2000.02.11.00.37.19;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2000.02.01.02.57.59;	author form;	state Exp;
branches;
next	1.14;

1.14
date	99.12.09.03.28.30;	author form;	state Exp;
branches;
next	1.13;

1.13
date	99.10.01.17.01.52;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	99.06.23.06.39.12;	author form;	state Exp;
branches;
next	1.11;

1.11
date	99.04.01.02.57.56;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.02.17.03.57.12;	author marc;	state Exp;
branches;
next	1.9;

1.9
date	99.02.17.03.42.35;	author marc;	state Exp;
branches;
next	1.8;

1.8
date	98.12.18.10.49.20;	author form;	state Exp;
branches;
next	1.7;

1.7
date	98.10.20.08.39.44;	author form;	state Exp;
branches;
next	1.6;

1.6
date	98.10.18.05.01.59;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	98.10.07.18.51.26;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.05.06.03.36.37;	author form;	state Exp;
branches;
next	1.3;

1.3
date	98.04.10.05.55.06;	author marc;	state dead;
branches;
next	1.2;

1.2
date	98.03.04.22.47.44;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.12.31.16.28.39;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.31.16.28.39;	author joey;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.05.05.05.25.40;	author form;	state Exp;
branches;
next	;

1.23.2.1
date	2000.09.15.04.47.02;	author marc;	state Exp;
branches;
next	;

1.60.4.1
date	2017.04.18.21.05.42;	author sthen;	state Exp;
branches;
next	;
commitid	d7LXBR8yTK90SIz8;


desc
@@


1.62
log
@fix format string for 64-bit time_t, found by clang warning
@
text
@# $OpenBSD: Makefile,v 1.61 2017/04/18 21:05:09 sthen Exp $

COMMENT=	MS-DOS Telix-like serial communication program

DISTNAME=	minicom-2.7.1
REVISION=	0
CATEGORIES=	comms
MASTER_SITES=	https://www.alioth.debian.org/frs/download.php/latestfile/3/

HOMEPAGE=	http://alioth.debian.org/projects/minicom/

LIB_DEPENDS=	devel/gettext
RUN_DEPENDS=	comms/kermit \
		comms/lrzsz

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c iconv intl ncurses

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		LDFLAGS="-L${LOCALBASE}/lib" \
			CPPFLAGS="${CFLAGS} -I${LOCALBASE}/include"
CONFIGURE_ARGS=		--enable-cfg-dir=${SYSCONFDIR}/minicom \
			--enable-lock-dir=/var/spool/lock \
			--enable-dfl-port=/dev/cua00 \
			--enable-dfl-baud=9600

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/minicom
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/minicom
	${INSTALL_DATA} ${WRKDIST}/doc/* ${PREFIX}/share/doc/minicom
	@@rm ${PREFIX}/share/doc/minicom/Makefile*
	${INSTALL_DATA} ${WRKDIST}/AUTHORS ${PREFIX}/share/doc/minicom
	${INSTALL_DATA} ${WRKDIST}/COPYING ${PREFIX}/share/doc/minicom
	${INSTALL_DATA} ${WRKDIST}/ChangeLog ${PREFIX}/share/doc/minicom
	@@(umask 022; cp -RP ${WRKDIST}/extras ${PREFIX}/share/examples/minicom)
	@@find ${PREFIX}/share/examples/minicom -name Makefile\* \
		-exec rm -f {} \;

.include <bsd.port.mk>
@


1.61
log
@Update to minicom-2.7.1

CVE-2017-7467: Fix an out of bounds data access that can lead to remote
code execution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2016/04/12 15:19:39 naddy Exp $
d3 1
a3 1
COMMENT=		MS-DOS Telix-like serial communication program
d5 4
a8 3
DISTNAME=		minicom-2.7.1
CATEGORIES=		comms
MASTER_SITES=		https://www.alioth.debian.org/frs/download.php/latestfile/3/
d10 1
a10 1
HOMEPAGE=		http://alioth.debian.org/projects/minicom/
d12 3
a14 3
LIB_DEPENDS=		devel/gettext
RUN_DEPENDS=		comms/kermit \
			comms/lrzsz
@


1.60
log
@replace gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/01/24 13:46:44 schwarze Exp $
d5 1
a5 1
DISTNAME=		minicom-2.7
a7 1
REVISION=		0
@


1.60.4.1
log
@MFC Update to minicom-2.7.1

CVE-2017-7467: Fix an out of bounds data access that can lead to remote
code execution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2016/04/12 15:19:39 naddy Exp $
d5 1
a5 1
DISTNAME=		minicom-2.7.1
d8 1
@


1.59
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/08/21 08:23:00 jasper Exp $
d8 1
d12 1
a12 1
MODULES=		devel/gettext
d19 1
a19 1
WANTLIB=		c ncurses
@


1.58
log
@update to minicom-2.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/01/14 00:38:39 sthen Exp $
a26 1
USE_GROFF =		Yes
@


1.57
log
@Fix up alioth.debian.org MASTER_SITES URLs.

Old https://alioth.debian.org/frs/download.php/xxx/ URLs now give a 0-byte
file, the "proper" https://alioth.debian.org/frs/download.php/file/xxx/
URLs give a 406 error unless there's an http Accept: header, but URLs in the
form https://alioth.debian.org/frs/download.php/latestfile/yyy/ do work, and
don't need changing for each release of the distfile ("yyy" is different to
the per-file "xxx" value and needs to be looked up on the project's file
listing page...)

(These URLs also need the relevant ca cert; that is a separate issue.)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/10/10 02:08:20 brad Exp $
d5 1
a5 2
DISTNAME=		minicom-2.6.2
REVISION=		0
a19 1
COPTS+=			-DHAS_EUID
@


1.56
log
@Remove Chris Kuethe as maintainer. OpenBSD e-mail address bounces and has been
inactive for quite awhile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/03/27 12:14:28 gonzalo Exp $
d8 1
a8 1
MASTER_SITES=		http://alioth.debian.org/frs/download.php/3869/
@


1.55
log
@Update for minicom to 2.6.2

Maintainer timeout.

Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/03/11 01:30:26 espie Exp $
d6 1
a10 1
MAINTAINER=		Chris Kuethe <ckuethe@@openbsd.org>
@


1.54
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/03/19 22:17:43 sthen Exp $
d5 1
a5 1
DISTNAME=		minicom-2.5
d7 1
a7 1
MASTER_SITES=		http://alioth.debian.org/frs/download.php/3487/
@


1.53
log
@update to minicom 2.5
- rolls in a huge bunch of wprintf patches, also fixes conflict with getline()
- note that the setuid support has been removed from the code
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/04/22 11:21:46 stsp Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.52
log
@minicom contains a function called wprintf() (print to a window) which
collides with the standard C wprintf() (print a wide character string).
Upstream already realised this was a bad idea and changed the function's
name to mc_wprintf(). Do the same for our port.
ok ajacoutot landry dcoppa
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/11/15 00:22:50 espie Exp $
d5 1
a5 2
DISTNAME=		minicom-2.2
REVISION=		0
d7 1
a7 1
MASTER_SITES=		http://alioth.debian.org/frs/download.php/1806/
d21 1
a35 2
	${INSTALL_DATA} ${WRKDIST}/doc/minicom.users \
		${PREFIX}/share/examples/minicom/minicom.users.sample
@


1.51
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/10/18 21:35:48 sthen Exp $
d6 1
@


1.50
log
@fix a few tabtabUSE_GROFF, problem pointed out by Alexandr Shadchin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/10/18 16:57:48 espie Exp $
d13 2
a14 2
RUN_DEPENDS=		::comms/kermit \
			::comms/lrzsz
d31 1
a31 1
USE_GROFF =	Yes
@


1.49
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/09/16 01:37:09 merdely Exp $
d31 1
a31 1
			USE_GROFF =	Yes
@


1.48
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/05/23 16:40:55 ckuethe Exp $
d31 1
@


1.47
log
@As I seem to be the only minicom user, take maintainership.
Update from 2.00.0 to 2.2.
Minicom 2.2 includes improved logging
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2006/07/13 06:47:09 steven Exp $
d3 1
a3 1
COMMENT=		"MS-DOS Telix-like serial communication program"
@


1.46
log
@new HOMEPAGE, add license marker, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/02/08 04:54:48 david Exp $
d5 1
a5 3
VER=			2.00.0
DISTNAME=		minicom-${VER}.src
PKGNAME=		minicom-${VER}p2
d7 1
a7 1
MASTER_SITES=		${MASTER_SITE_SUNSITE:=apps/serialcomm/dialout/}
d10 1
a22 2
WRKDIST=		${WRKDIR}/minicom-${VER}

d24 1
a24 2
AUTOCONF_VERSION=	2.13
CONFIGURE_STYLE=	autoconf
d28 3
a30 7
			--enable-lock-dir=/var/spool/lock

pre-configure:
	@@perl -pi -e "s@@/usr/local/bin/@@${LOCALBASE}/bin/@@g;s@@/sz@@/lsz@@g; \
		s@@/sb@@/lsb@@g;s@@/sx@@/lsx@@g;s@@/rz@@/lrz@@g;s@@/rb@@/lrb@@g; \
		s@@/rx@@/lrx@@g" ${WRKSRC}/src/rwconf.c

@


1.45
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/11/03 18:28:55 naddy Exp $
d7 1
a7 1
PKGNAME=		minicom-${VER}p1
d11 1
a11 1
HOMEPAGE=		http://www.netsonic.fi/~walker/minicom.html
d17 1
@


1.44
log
@Always explicitly set the AUTOCONF_VERSION to use.  In some cases
the default was not appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2005/01/06 19:51:44 alek Exp $
d33 1
a33 1
post-patch:
@


1.43
log
@Fix libintl detection (previously this port was using bundled libintl)

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/11/21 22:29:50 espie Exp $
d26 1
@


1.42
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2004/08/10 08:12:09 xsa Exp $
d27 2
@


1.41
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/12/04 05:34:52 pvalchev Exp $
d21 1
@


1.40
log
@COPTS+= (don't override)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/04/24 19:03:22 sturm Exp $
d13 1
a13 1
MODULES=		gettext
@


1.39
log
@- /etc -> ${SYSCONFDIR}
- remove MASTER_SITE_BACKUP
- update checksums, the author just changed email addresses and urls
  in different files without bumping the version number
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2002/09/28 00:46:11 pvalchev Exp $
d24 1
a24 1
COPTS=			-DHAS_EUID
@


1.38
log
@Do not install setuid uucp; use group dialer to control access to modem
Print a message saying that if someone wishes to use minicom's
minicom.users file to control access they have to change the perms; help from S@@mSmith.net
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2002/09/01 18:49:00 mpech Exp $
d9 1
a9 2
MASTER_SITES=		${MASTER_SITE_BACKUP} \
			${MASTER_SITE_SUNSITE:=apps/serialcomm/dialout/}
@


1.37
log
@Remove Oleg Safiullin from MAINTAINERS.

form@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/06/13 03:26:44 form Exp $
d5 3
a7 2
DISTNAME=		${PKGNAME}.src
PKGNAME=		minicom-2.00.0
a8 1
NEED_VERSION=		1.528
d23 1
a23 1
WRKDIST=		${WRKDIR}/${PKGNAME}
a36 2
	@@chown uucp:dialer ${PREFIX}/bin/minicom
	@@chmod 4111 ${PREFIX}/bin/minicom
@


1.36
log
@o New homepage.
o Get distfile from MASTER_SITE_BACKUP.

Minicom distfile has been changed. It seems the distfile contains new
version of minicom (and some garbage - backup files, config.cache, etc...),
but distfile name isn't changed. Homepage says nothing about new version of
minicom, so I've decided to not update the port until I understand what's
hapenning with it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/05/13 02:36:24 form Exp $
a16 2

MAINTAINER=     	Oleg Safiullin <form@@openbsd.org>
@


1.35
log
@bye bye MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/03/22 05:31:37 form Exp $
d9 2
a10 1
MASTER_SITES=		${MASTER_SITE_SUNSITE:=apps/serialcomm/dialout/}
d12 1
a12 1
HOMEPAGE=		http://www.pp.clinet.fi/~walker/minicom.html
@


1.34
log
@upgrade to 2.00.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/03/21 20:46:23 espie Exp $
d8 2
a9 3
NEED_VERSION=		1.515
MASTER_SITES=		${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=	apps/serialcomm/dialout
@


1.33
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/10/12 03:30:30 brad Exp $
d3 1
a3 1
COMMENT=	"MS-DOS Telix-like serial communication program"
d5 6
a10 6
DISTNAME=	${PKGNAME}.src
PKGNAME=	minicom-1.83.1
CATEGORIES=	comms
NEED_VERSION=	1.515
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR= apps/serialcomm/dialout
d12 1
a12 1
HOMEPAGE=	http://www.pp.clinet.fi/~walker/minicom.html
d14 3
a16 3
MODULES=	gettext
RUN_DEPENDS=	::comms/kermit \
		::comms/lrzsz
d18 1
a18 1
MAINTAINER=     Oleg Safiullin <form@@openbsd.org>
d25 11
a35 1
WRKDIST=	${WRKDIR}/${PKGNAME}/src
a36 4
pre-build:
	@@mv ${WRKBUILD}/xminicom ${WRKBUILD}/xminicom.orig
	@@sed -e "s,@@PREFIX@@,${PREFIX},g" -e "s,@@X11BASE@@,${X11BASE},g" \
		${FILESDIR}/xminicom.in > ${WRKBUILD}/xminicom
d39 2
d42 11
a52 2
	${INSTALL_DATA} ${WRKBUILD}/minicom.users \
		${PREFIX}/share/examples/minicom
@


1.32
log
@If we are going to install the I18N files then we might as well enable the
support for it to make use of the files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2001/03/30 11:33:39 form Exp $
d8 1
a8 1
NEED_VERSION=	1.460
@


1.31
log
@add HOMEPAGE; mpech@@openbsd.ru
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/03/29 09:56:43 form Exp $
d8 1
a8 1
NEED_VERSION=	1.320
d14 3
a16 3
BUILD_DEPENDS=	msgfmt::devel/gettext
RUN_DEPENDS=	kermit::comms/kermit \
		lrz::comms/lrzsz
@


1.30
log
@move COMMENT to Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/10/22 14:03:00 espie Exp $
d11 2
@


1.29
log
@Complete a few MAINTAINER names.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.28 2000/08/31 00:40:30 brad Exp $
@


1.28
log
@- move examples from share/minicom to share/examples/minicom
- ${FOO} -> $FOO in DEINSTALL/INSTALL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/06/14 16:45:01 form Exp $
d14 1
a14 1
MAINTAINER=     form@@openbsd.org
@


1.27
log
@remove FAKE=yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/06/09 16:14:40 form Exp $
d3 1
a4 1
DISTNAME=	${PKGNAME}.src
d6 7
a12 1
NEED_VERSION=	1.230
a20 9
MASTER_SITES=	${MASTER_SITE_SUNSITE} \
		http://www.pp.clinet.fi/~walker/mc-dev/  \
		http://www.clinet.fi/~walker/  \
		http://www.pp.clinet.fi/~walker/
MASTER_SITE_SUBDIR=     apps/serialcomm/dialout

BUILD_DEPENDS=	msgfmt::devel/gettext
RUN_DEPENDS=	kermit::comms/kermit lrz::comms/lrzsz

d29 3
a31 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/minicom
	${INSTALL_DATA} ${WRKBUILD}/minicom.users ${PREFIX}/share/minicom
@


1.26
log
@do not use gmake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/06/03 06:20:56 form Exp $
a6 1
FAKE=		Yes
@


1.25
log
@upgrade to 1.83.1
fix INSTALL script
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/05/18 04:41:30 form Exp $
d22 1
a22 1
BUILD_DEPENDS=	gmake::devel/gmake msgfmt::devel/gettext
a23 2

MAKE_ENV=	GMAKE="${GMAKE}"
@


1.24
log
@Upgrade to 1.83.0.
Use INSTALL/DEINSTALL.
Fake.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/04/09 17:36:09 espie Exp $
d3 1
a3 1
PKGNAME=	minicom-1.83.0
@


1.23
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/03/24 23:28:04 espie Exp $
d3 1
a3 3
BROKEN=		installs files automatically in /etc

PKGNAME=	minicom-1.82.1
d6 2
a7 2
NEED_VERSION=	 1.230
FAKE=No
d11 10
a20 5
LICENSE_TYPE=		GPL
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d22 2
a23 2
MASTER_SITES=	${MASTER_SITE_SUNSITE}  \
		http://www.clinet.fi/~walker/
d25 1
a25 1
MASTER_SITE_SUBDIR=     apps/serialcomm/dialout
d27 1
a27 2
RUN_DEPENDS=	kermit::comms/kermit
RUN_DEPENDS+=	lrz::comms/lrzsz
d29 4
a32 1
WRKDIST=		${WRKDIR}/${PKGNAME}/src
d35 2
a36 5
.if exists(/etc/minicom/minicom.users)
	@@echo "*** Found existing /etc/minicom/minicom.users -- not replacing."
.else
	${INSTALL_DATA} ${WRKSRC}/minicom.users /etc/minicom
.endif
@


1.23.2.1
log
@bring comms as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/06/14 16:45:01 form Exp $
d3 3
a5 1
PKGNAME=	minicom-1.83.1
d8 2
a9 1
NEED_VERSION=	1.230
d13 9
a21 9
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=	${MASTER_SITE_SUNSITE} \
		http://www.pp.clinet.fi/~walker/mc-dev/  \
		http://www.clinet.fi/~walker/  \
		http://www.pp.clinet.fi/~walker/
d24 2
a25 4
BUILD_DEPENDS=	msgfmt::devel/gettext
RUN_DEPENDS=	kermit::comms/kermit lrz::comms/lrzsz

WRKDIST=	${WRKDIR}/${PKGNAME}/src
d27 1
a27 4
pre-build:
	@@mv ${WRKBUILD}/xminicom ${WRKBUILD}/xminicom.orig
	@@sed -e "s,@@PREFIX@@,${PREFIX},g" -e "s,@@X11BASE@@,${X11BASE},g" \
		${FILESDIR}/xminicom.in > ${WRKBUILD}/xminicom
d30 5
a34 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/minicom
	${INSTALL_DATA} ${WRKBUILD}/minicom.users ${PREFIX}/share/minicom
@


1.22
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/03/05 18:30:23 espie Exp $
d9 1
@


1.21
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/03/03 12:08:04 turan Exp $
d8 1
a8 1
NEED_VERSION=	1.223
d23 2
a24 2
RUN_DEPENDS=	kermit:comms/kermit
RUN_DEPENDS+=	lrz:comms/lrzsz
@


1.20
log
@broken, installs files automatically in /etc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/02/15 05:04:05 turan Exp $
d8 1
a19 1
NEED_VERSION=	1.191
d23 2
a24 2
RUN_DEPENDS=	kermit:${PORTSDIR}/comms/kermit
RUN_DEPENDS+=	lrz:${PORTSDIR}/comms/lrzsz
@


1.19
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 3
a3 2
# $OpenBSD: Makefile,v 1.18 2000/02/12 08:02:11 turan Exp $
#
@


1.18
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/02/11 01:10:01 espie Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.17
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/02/11 00:37:19 espie Exp $
d9 6
@


1.16
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/02/01 02:57:59 form Exp $
d23 1
a23 1
	@@${ECHO} "*** Found existing /etc/minicom/minicom.users -- not replacing."
@


1.15
log
@Do not use rzsz port. Always use lrzsz.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/12/09 03:28:30 form Exp $
d12 1
d19 1
a19 1
WRKSRC=		${WRKDIR}/${PKGNAME}/src
@


1.14
log
@Improve Makefile.
.if defined(USE_LRZSZ) -> .if defined(USE_LRZSZ) && ${USE_LRZSZ:U} == "YES".
Default config: Only root can access minicom by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/10/01 17:01:52 espie Exp $
a2 1
# Use make LRZSZ=yes to build minicom with lrzsz package support.
d16 1
a16 5
.if defined(USE_LRZSZ) && ${USE_LRZSZ:U} == "YES"
RUN_DEPENDS+=	lrz:${PORTSDIR}/comms/lrzsz lsz:${PORTSDIR}/comms/lrzsz
.else
RUN_DEPENDS+=	rz:${PORTSDIR}/comms/rzsz sz:${PORTSDIR}/comms/rzsz
.endif
a18 6

.if defined(USE_LRZSZ) && ${USE_LRZSZ:U} == "YES"
post-patch:
	@@cd ${WRKSRC}; ${PATCH} ${PATCH_STRIP} < ${FILESDIR}/patch-lrzsz \
		2>/dev/null
.endif
@


1.13
log
@Fix port to work with recent bsd.port.mk (have to ensure RUN_DEPENDS is
defined before including bsd.port.mk)
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.12 1999/06/23 06:39:12 form Exp $
d16 7
d25 4
a28 10
pre-build:
.if defined(USE_LRZSZ)
	@@cd ${WRKSRC}; /usr/bin/patch -p0 < ${FILESDIR}/patch-lrzsz; \
	touch ${WRKDIR}/.with_lrzsz
.else
	@@${ECHO} "***"
	@@${ECHO} "*** Building minicom with rzsz support."
	@@${ECHO} "*** If you wish to use lrzsz package instead of rzsz,"
	@@${ECHO} "*** do 'make USE_LRZSZ=yes'."
	@@${ECHO} "***"
a37 1
RUN_DEPENDS=	kermit:${PORTSDIR}/comms/kermit
a38 6

.if exists(${WRKDIR}/.with_lrzsz)
RUN_DEPENDS+=	lrz:${PORTSDIR}/comms/lrzsz lsz:${PORTSDIR}/comms/lrzsz
.else
RUN_DEPENDS+=	rz:${PORTSDIR}/comms/rzsz sz:${PORTSDIR}/comms/rzsz
.endif
@


1.12
log
@update to 1.82.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/04/01 02:57:56 brad Exp $
d35 1
d39 1
a39 1
RUN_DEPENDS=	lrz:${PORTSDIR}/comms/lrzsz lsz:${PORTSDIR}/comms/lrzsz
d41 1
a41 1
RUN_DEPENDS=	rz:${PORTSDIR}/comms/rzsz sz:${PORTSDIR}/comms/rzsz
a42 1
RUN_DEPENDS+=	kermit:${PORTSDIR}/comms/kermit
@


1.11
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/02/17 03:57:12 marc Exp $
d3 1
a3 1
PKGNAME=	minicom-1.82
d7 1
a7 4
BROKEN=		"can't find this version as of 16feb99"
MIRROR_DISTFILE="can't find this version as of 16feb99"

MAINTAINER=     ports@@openbsd.org
a9 1
		ftp://ftp.cistron.nl/pub/people/miquels/software/  \
@


1.10
log
@Ooops, forgot to add MIRROR_DISTFILE=no, too
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.9 1999/02/17 03:42:35 marc Exp $
#
d9 2
a10 1
MAINTAINER=     form@@OpenBSD.ORG
@


1.9
log
@broken until updated (can't find sources)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1998/12/18 10:49:20 form Exp $
d9 1
@


1.8
log
@update to 1.82
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1998/10/20 08:39:44 form Exp $
d8 1
@


1.7
log
@form@@vs.itam.nsc.ru -> form@@openbsd.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1998/10/18 05:01:59 marc Exp $
d4 1
a4 1
PKGNAME=	minicom-1.78
a7 2
#BROKEN=	"newer version available"

d10 3
a12 1
MASTER_SITES=	ftp://ftp.cistron.nl/pub/people/miquels/software/
d14 1
a14 3
RUN_DEPENDS=	rz:${PORTSDIR}/comms/rzsz \
		sz:${PORTSDIR}/comms/rzsz \
		kermit:${PORTSDIR}/comms/kermit
d18 19
d38 7
@


1.6
log
@comment out the BROKEN reason for all ports where the reason
was source files out of date and we have a copy of the required
version on ftp.openbsd.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1998/10/07 18:51:26 marc Exp $
d10 1
a10 1
MAINTAINER=     form@@vs.itam.nsc.ru
@


1.5
log
@BROKEN: newer version available
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/05/06 03:36:37 form Exp $
d8 1
a8 1
BROKEN=		"newer version available"
@


1.4
log
@update minicom
@
text
@d1 1
a1 6
# New ports collection makefile for:    minicom
# Version required:     1.78
# Date created:         5 May 1998
# Whom:                 form@@vs.itam.nsc.ru
#
# $OpenBSD: Makefile,v 1.1.1.2 1998/05/05 05:25:40 form Exp $
d7 2
a8 1
MASTER_SITES=	ftp://ftp.cistron.nl/pub/people/miquels/software/
d12 2
a18 1
MAN1=		minicom.1 runscript.1 ascii-xfr.1
@


1.3
log
@add NO_CDROM to kermit, remove broken minicom
@
text
@d2 3
a4 3
# Version required:     1.74
# Date created:         Fri Dec 01, 1995
# Whom:                 obrien@@cs.ucdavis.edu
d6 1
a6 1
# $Id: Makefile,v 1.2 1998/03/04 22:47:44 marc Exp $
d9 2
a10 1
DISTNAME=	minicom-1.75
d14 1
a14 1
MAINTAINER=     obrien@@FreeBSD.org
d16 2
a17 4
BROKEN=		"Run time requires package not yet ported to OpenBSD"

RUN_DEPENDS=	lrz:${PORTSDIR}/comms/lrzsz \
		lsz:${PORTSDIR}/comms/lrzsz \
a21 6

.if !defined(BATCH)
pre-install:
	# this script creates a link from your comm port to /dev/modem
	${SH} ${SCRIPTDIR}/create-dev-link
.endif
@


1.2
log
@mark as broken -- required run time package not
yet ported to openbsd.  Change makefile to install in standard
locations. Update packing list.  Change create-dev-link to
match OpenBSD owners, modes, and device names.  Get rid of
setre{uid,gid}.
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.1.1.1 1997/12/31 16:28:39 joey Exp $
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.11 1997/07/13 18:49:13 max Exp $
d14 2
@


1.1.1.1
log
@
minicom
@
text
@@


1.1.1.2
log
@minicom 1.78, Telix-like communication program
@
text
@d2 3
a4 3
# Version required:     1.78
# Date created:         5 May 1998
# Whom:                 form@@vs.itam.nsc.ru
d6 1
a6 1
# $OpenBSD: Makefile,v 1.0 1998/05/05 10:36:00 form Exp $
d9 1
a9 2
PKGNAME=	minicom-1.78
DISTNAME=	${PKGNAME}.src
d13 1
a13 1
MAINTAINER=     form@@vs.itam.nsc.ru
d15 2
a16 2
RUN_DEPENDS=	rz:${PORTSDIR}/comms/rzsz \
		sz:${PORTSDIR}/comms/rzsz \
d21 6
@


