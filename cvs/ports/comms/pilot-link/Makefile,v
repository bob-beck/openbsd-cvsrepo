head	1.81;
access;
symbols
	OPENBSD_6_1:1.81.0.2
	OPENBSD_6_1_BASE:1.81
	OPENBSD_6_0:1.80.0.2
	OPENBSD_6_0_BASE:1.80
	OPENBSD_5_9:1.78.0.2
	OPENBSD_5_9_BASE:1.78
	OPENBSD_5_8:1.76.0.4
	OPENBSD_5_8_BASE:1.76
	OPENBSD_5_7:1.74.0.2
	OPENBSD_5_7_BASE:1.74
	OPENBSD_5_6:1.73.0.2
	OPENBSD_5_6_BASE:1.73
	OPENBSD_5_5:1.72.0.4
	OPENBSD_5_5_BASE:1.72
	OPENBSD_5_4:1.72.0.2
	OPENBSD_5_4_BASE:1.72
	OPENBSD_5_3:1.68.0.2
	OPENBSD_5_3_BASE:1.68
	OPENBSD_5_2:1.66.0.4
	OPENBSD_5_2_BASE:1.66
	OPENBSD_5_1_BASE:1.66
	OPENBSD_5_1:1.66.0.2
	OPENBSD_5_0:1.65.0.2
	OPENBSD_5_0_BASE:1.65
	OPENBSD_4_9:1.63.0.2
	OPENBSD_4_9_BASE:1.63
	OPENBSD_4_8:1.59.0.2
	OPENBSD_4_8_BASE:1.59
	OPENBSD_4_7:1.58.0.2
	OPENBSD_4_7_BASE:1.58
	OPENBSD_4_6:1.57.0.2
	OPENBSD_4_6_BASE:1.57
	OPENBSD_4_5:1.56.0.2
	OPENBSD_4_5_BASE:1.56
	OPENBSD_4_4:1.55.0.4
	OPENBSD_4_4_BASE:1.55
	OPENBSD_4_3:1.55.0.2
	OPENBSD_4_3_BASE:1.55
	OPENBSD_4_2:1.52.0.2
	OPENBSD_4_2_BASE:1.52
	OPENBSD_4_1:1.50.0.2
	OPENBSD_4_1_BASE:1.50
	OPENBSD_4_0:1.46.0.2
	OPENBSD_4_0_BASE:1.46
	OPENBSD_3_9:1.44.0.2
	OPENBSD_3_9_BASE:1.44
	OPENBSD_3_8:1.40.0.2
	OPENBSD_3_8_BASE:1.40
	OPENBSD_3_7:1.39.0.2
	OPENBSD_3_7_BASE:1.39
	OPENBSD_3_6:1.34.0.2
	OPENBSD_3_6_BASE:1.34
	OPENBSD_3_5:1.31.0.2
	OPENBSD_3_5_BASE:1.31
	OPENBSD_3_4:1.30.0.4
	OPENBSD_3_4_BASE:1.30
	OPENBSD_3_3:1.30.0.2
	OPENBSD_3_3_BASE:1.30
	OPENBSD_3_2:1.29.0.2
	OPENBSD_3_2_BASE:1.29
	OPENBSD_3_1:1.28.0.2
	OPENBSD_3_1_BASE:1.28
	OPENBSD_3_0:1.26.0.2
	OPENBSD_3_0_BASE:1.26
	OPENBSD_2_9_TRACKING_SWITCH:1.24
	OPENBSD_2_9:1.21.0.4
	OPENBSD_2_9_BASE:1.21
	OPENBSD_2_8:1.21.0.2
	OPENBSD_2_8_BASE:1.21
	OPENBSD_2_7:1.16.0.2
	OPENBSD_2_7_BASE:1.16
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.5.0.2
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	pilot-link_0_8_13:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.81
date	2017.02.06.20.20.23;	author sthen;	state Exp;
branches;
next	1.80;
commitid	5y3PZ7bZF4hgO1nQ;

1.80
date	2016.03.18.21.38.23;	author naddy;	state Exp;
branches;
next	1.79;
commitid	BVkebQSTXSZokeRG;

1.79
date	2016.03.11.20.28.22;	author naddy;	state Exp;
branches;
next	1.78;
commitid	UYLP8TE6V7RS2GhJ;

1.78
date	2015.09.21.08.46.50;	author ajacoutot;	state Exp;
branches;
next	1.77;
commitid	qxAynPFk39itTkXT;

1.77
date	2015.09.19.22.20.42;	author ajacoutot;	state dead;
branches;
next	1.76;
commitid	hLuBYFVO6kgFV1f5;

1.76
date	2015.07.18.15.31.16;	author jasper;	state Exp;
branches;
next	1.75;
commitid	f4C5VBirmu8AeiLk;

1.75
date	2015.05.22.11.31.11;	author ajacoutot;	state Exp;
branches;
next	1.74;
commitid	2khjHXfpTaOuNVcx;

1.74
date	2014.10.31.18.28.54;	author ajacoutot;	state Exp;
branches;
next	1.73;
commitid	FHmkOWoJvrNRzFAI;

1.73
date	2014.06.14.10.34.44;	author sthen;	state Exp;
branches;
next	1.72;
commitid	HiKZ10xJk2o55vyF;

1.72
date	2013.06.04.18.41.40;	author naddy;	state Exp;
branches;
next	1.71;

1.71
date	2013.03.21.08.45.13;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2013.03.18.22.13.42;	author sthen;	state Exp;
branches;
next	1.69;

1.69
date	2013.03.11.01.30.27;	author espie;	state Exp;
branches;
next	1.68;

1.68
date	2012.09.04.07.35.52;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2012.08.19.22.30.37;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2011.11.04.08.21.59;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2011.03.16.23.32.06;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2011.03.14.08.51.25;	author sthen;	state Exp;
branches;
next	1.63;

1.63
date	2011.01.03.11.11.43;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2010.11.15.00.22.50;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.10.18.16.57.48;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2010.09.03.14.39.07;	author sthen;	state Exp;
branches;
next	1.59;

1.59
date	2010.03.25.10.32.53;	author giovanni;	state Exp;
branches;
next	1.58;

1.58
date	2009.08.06.13.23.34;	author giovanni;	state Exp;
branches;
next	1.57;

1.57
date	2009.06.06.21.51.40;	author landry;	state Exp;
branches;
next	1.56;

1.56
date	2008.10.02.20.32.19;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2008.01.20.15.19.31;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2007.11.29.22.56.49;	author okan;	state Exp;
branches;
next	1.53;

1.53
date	2007.09.16.01.37.10;	author merdely;	state Exp;
branches;
next	1.52;

1.52
date	2007.06.05.10.50.07;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2007.03.22.23.41.28;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2007.01.02.19.39.27;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2007.01.02.11.11.18;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2006.10.28.11.19.20;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2006.10.20.11.48.06;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2006.08.01.22.19.46;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2006.03.07.19.31.46;	author sturm;	state Exp;
branches;
next	1.44;

1.44
date	2006.01.13.19.12.15;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2006.01.10.11.31.01;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2005.12.23.14.16.01;	author bernd;	state Exp;
branches;
next	1.41;

1.41
date	2005.12.14.21.47.17;	author steven;	state Exp;
branches;
next	1.40;

1.40
date	2005.03.31.04.08.21;	author pvalchev;	state Exp;
branches;
next	1.39;

1.39
date	2005.03.15.22.08.39;	author pvalchev;	state Exp;
branches;
next	1.38;

1.38
date	2005.01.10.23.18.32;	author pvalchev;	state Exp;
branches;
next	1.37;

1.37
date	2004.12.29.16.44.10;	author pvalchev;	state Exp;
branches;
next	1.36;

1.36
date	2004.12.11.04.59.46;	author pvalchev;	state Exp;
branches;
next	1.35;

1.35
date	2004.11.21.22.29.51;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2004.08.17.23.44.30;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2004.08.17.22.36.02;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2004.07.31.19.29.35;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2003.10.07.17.17.31;	author fgsch;	state Exp;
branches;
next	1.30;

1.30
date	2002.12.29.19.32.37;	author fgsch;	state Exp;
branches;
next	1.29;

1.29
date	2002.06.15.19.07.08;	author pvalchev;	state Exp;
branches;
next	1.28;

1.28
date	2002.02.19.00.42.24;	author pvalchev;	state Exp;
branches;
next	1.27;

1.27
date	2002.02.18.21.37.41;	author pvalchev;	state Exp;
branches;
next	1.26;

1.26
date	2001.10.17.11.19.59;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2001.09.27.00.32.36;	author pvalchev;	state Exp;
branches;
next	1.24;

1.24
date	2001.06.03.23.58.35;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2001.06.02.23.41.45;	author pvalchev;	state Exp;
branches;
next	1.22;

1.22
date	2001.05.05.22.40.09;	author jakob;	state Exp;
branches;
next	1.21;

1.21
date	2000.10.22.15.41.37;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.10.22.14.03.00;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.09.27.01.01.10;	author marc;	state Exp;
branches;
next	1.18;

1.18
date	2000.09.27.00.44.52;	author marc;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.05.01.28.14;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2000.04.09.17.36.10;	author espie;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2000.04.01.08.58.06;	author jakob;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.27.18.17.27;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.24.23.28.04;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.05.18.30.24;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.15.05.04.06;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.12.08.02.11;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	99.11.08.02.30.36;	author kevlo;	state Exp;
branches;
next	1.8;

1.8
date	99.10.30.21.51.56;	author angelos;	state Exp;
branches;
next	1.7;

1.7
date	99.10.28.07.55.56;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	99.06.12.20.45.36;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	99.04.01.06.20.03;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.04.01.02.57.56;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	98.10.07.18.58.10;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.09.01.00.08.59;	author angelos;	state Exp;
branches;
next	1.1;

1.1
date	98.06.26.02.05.00;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.06.26.02.05.00;	author angelos;	state Exp;
branches;
next	;

1.16.2.1
date	2000.09.15.04.47.05;	author marc;	state Exp;
branches;
next	;


desc
@@


1.81
log
@Add perl to WANTLIB, first batch. This used to be done automatically but
since SHARED_ONLY support was removed across the ports tree the perl module
no longer adds it, so it must be done manually for any perl ports that
provide perl shared-library modules (i.e. libdata/perl5/site_perl/$ARCH/*.so)
and you must not remove them from WANTLIB even if they show as "Extra".
@
text
@# $OpenBSD: Makefile,v 1.80 2016/03/18 21:38:23 naddy Exp $

COMMENT=	tools to connect your PalmOS(R) compatible handheld

DISTNAME=	pilot-link-0.12.5
REVISION=	9

SHARED_LIBS +=  pisock               11.0     # 9.2
SHARED_LIBS +=  pisync               2.0      # 1.3

CATEGORIES=	comms

MASTER_SITES=	http://downloads.pilot-link.org/ \
		http://ftp.belnet.be/mirror/rsync.gentoo.org/gentoo/distfiles/ \
		http://gentoo.oregonstate.edu/distfiles/

HOMEPAGE=	http://www.pilot-link.org/

EXTRACT_SUFX=	.tar.bz2

# GPLv2 - LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c m perl png popt pthread readline termcap z
# uses perl ABI

MODULES=		devel/gettext

LIB_DEPENDS=		graphics/png \
			devel/popt

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib" \
			ac_cv_lib_png_main=yes
CONFIGURE_ARGS+=	--with-libiconv=${LOCALBASE} \
			--with-libpng=${LOCALBASE} \
			--with-perl=/usr/bin/perl \
			--with-readline \
			--enable-conduits \
			--enable-threads \
			--without-bluez \
			--without-efence \
			--without-java \
			--without-python \
			--without-tcl

post-extract:
	rm ${WRKSRC}/bindings/Perl/Pilot.xs.orig

pre-configure:
	sed -i "s,!!CFLAGS!!,${CFLAGS},g" ${WRKSRC}/bindings/Perl/Makefile.PL.in
	sed -i "s,Libs: ,Libs: -pthread ,g" \
		${WRKSRC}/pilot-link.pc.in ${WRKSRC}/pilot-link-pp.pc.in

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pilot-link
	${INSTALL_DATA} ${WRKSRC}/doc/README.debugging ${PREFIX}/share/doc/pilot-link
	${INSTALL_DATA} ${WRKSRC}/doc/README.usb ${PREFIX}/share/doc/pilot-link
	${INSTALL_MAN} ${WRKSRC}/doc/man/*.1 ${PREFIX}/man/man1
	${INSTALL_MAN} ${WRKSRC}/doc/man/*.7 ${PREFIX}/man/man7
	rm -rf ${PREFIX}/share/pilot-link/udev/

.include <bsd.port.mk>
@


1.80
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2016/03/11 20:28:22 naddy Exp $
d6 1
a6 1
REVISION=	8
d24 2
a25 1
WANTLIB += c m png popt pthread readline termcap z
@


1.79
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.78 2015/09/21 08:46:50 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.78
log
@Revert removal of pilot-link and jpilot; we still have one user of these...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/07/18 15:31:16 jasper Exp $
d39 1
a39 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--with-libiconv=${LOCALBASE} \
@


1.77
log
@It's 2015, remove pilot-link...
@
text
@@


1.76
log
@use sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2015/05/22 11:31:11 ajacoutot Exp $
@


1.75
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2014/10/31 18:28:54 ajacoutot Exp $
d56 2
a57 2
	perl -pi -e "s,!!CFLAGS!!,${CFLAGS},g" ${WRKSRC}/bindings/Perl/Makefile.PL.in
	perl -pi -e "s,Libs: ,Libs: -pthread ,g" \
@


1.74
log
@Cleanup.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/06/14 10:34:44 sthen Exp $
d8 1
a8 1
REVISION=	7
@


1.73
log
@@@comment zero-byte perl .bs files in all packages which don't have p5-* PKGNAMEs
and bump
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.72 2013/06/04 18:41:40 naddy Exp $
d8 1
a8 2
SHARED_LIBS +=	pisock               11.0      # .9.2
SHARED_LIBS +=	pisync               2.0      # .0.3
d10 2
a11 1
REVISION=	6
d26 1
a26 1
WANTLIB=		c m png>=4 popt readline termcap z pthread
d29 1
a33 1
USE_GROFF =		Yes
d37 1
a37 3
			LDFLAGS="-L${LOCALBASE}/lib -pthread" \
			PTHREAD_CFLAGS="-pthread" \
			PTHREAD_LIBS="-pthread" \
d53 1
a53 1
	@@rm ${WRKSRC}/bindings/Perl/Pilot.xs.orig
d56 2
a57 2
	@@perl -pi -e "s,!!CFLAGS!!,${CFLAGS},g" ${WRKSRC}/bindings/Perl/Makefile.PL.in
	@@perl -pi -e "s,Libs: ,Libs: -pthread ,g" \
d66 1
@


1.72
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/03/21 08:45:13 ajacoutot Exp $
d9 1
a9 1
REVISION=	5
@


1.71
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/03/18 22:13:42 sthen Exp $
d34 1
a34 1
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
@


1.70
log
@Allow pilot-link's perl bindings to build with newer Perl (also OK with
5.12.x in -current).  From Debian ticket 628510.

Sync PLIST while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/03/11 01:30:27 espie Exp $
a30 1
USE_LIBTOOL=		Yes
@


1.69
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/09/04 07:35:52 ajacoutot Exp $
d9 1
a9 1
REVISION=	4
@


1.68
log
@No more palm in CATEGORIES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2012/08/19 22:30:37 ajacoutot Exp $
a22 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.67
log
@RCS id cleanup; also add OpenBSD RCS Id where missing...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/11/04 08:21:59 jasper Exp $
d9 1
a9 1
REVISION=	3
d11 1
a11 1
CATEGORIES=	comms palm
@


1.66
log
@- regen WANTLIB
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.65 2011/03/16 23:32:06 jasper Exp $
# $NetBSD: Makefile,v 1.37 2004/10/03 00:13:16 tv Exp $
@


1.65
log
@use ASCII format for (R) in COMMENT

pointed out by Anthony J. Bentley
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/03/14 08:51:25 sthen Exp $
d10 1
a10 1
REVISION=	2
d30 1
a30 1
MODULES=		converters/libiconv
@


1.64
log
@remove iso-8859-1 chars that display badly with a utf-8 terminal.
pointed out by Anthony J. Bentley
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/01/03 11:11:43 ajacoutot Exp $
d4 1
a4 1
COMMENT=	tools to connect your PalmOS® compatible handheld
d10 1
a10 1
REVISION=	1
@


1.63
log
@Remove myself from MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/11/15 00:22:50 espie Exp $
d10 1
a10 1
REVISION=	0
@


1.62
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/10/18 16:57:48 espie Exp $
d10 2
a18 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.61
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/09/03 14:39:07 sthen Exp $
d28 1
a28 1
WANTLIB=		c m png.>=4 popt readline termcap z pthread
d31 2
a32 2
LIB_DEPENDS=		::graphics/png \
			::devel/popt
d36 1
a36 1
USE_GROFF =	Yes
@


1.60
log
@new lib_depends/revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/03/25 10:32:53 giovanni Exp $
d36 1
@


1.59
log
@
Update to 0.12.5
ok ajacoutot@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2009/08/06 13:23:34 giovanni Exp $
d28 1
a28 1
WANTLIB=		c m readline termcap z pthread
d31 2
a32 2
LIB_DEPENDS=		png.>=4::graphics/png \
			popt::devel/popt
@


1.58
log
@
Update to 0.12.4
Help and ok ajacoutot@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2009/06/06 21:51:40 landry Exp $
d6 3
a8 3
DISTNAME=	pilot-link-0.12.4
SHARED_LIBS +=	pisock               10.0      # .9.2
SHARED_LIBS +=	pisync               1.1      # .0.3
@


1.57
log
@Remove a patch which causes problem in other ports when pilot-link is
installed. It wasn't the good fix anyway, and upstream pilot-link.m4 is
clean now. cf
http://lists.pilot-link.org/pipermail/pilot-link-devel/2007-May.txt
'commit commit' naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2008/10/02 20:32:19 sthen Exp $
d6 2
a7 3
DISTNAME=	pilot-link-0.12.3
PKGNAME=	${DISTNAME}p1
SHARED_LIBS +=	pisock               9.1      # .9.2
d22 1
a22 1
# GPL - LGPL
@


1.56
log
@bump packages with Perl .so modules; the old ones don't work
with new perl and the package signature doesn't change, so we
have to do this ourselves to make pkg_add updates work.

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2008/01/20 15:19:31 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
@


1.55
log
@- update to pilot-link-0.12.3

thanks to Giovanni Bechis <bigionews at snb dot it> who sent me a
similar diff of what I had in my tree but totally forgot about

tested under Treo 680 and LiveDrive (netsync) with jpilot and libmal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2007/11/29 22:56:49 okan Exp $
d7 1
@


1.54
log
@fix broken m4

sure ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2007/09/16 01:37:10 merdely Exp $
d6 3
a8 4
DISTNAME=	pilot-link-0.12.2
PKGNAME=	${DISTNAME}p0
SHARED_LIBS +=	pisock               9.0      # .9.1
SHARED_LIBS +=	pisync               1.0      # .0.2
d11 1
d22 1
a22 1
# GPLv2
d36 1
a37 1

d56 3
d60 2
a61 13
	@@if pkg_info -e 'pilot-link-*'; then \
		echo 1>&2 "+-------------------"; \
		echo 1>&2 "| Error: you must remove the existing pilot-link installation"; \
		echo 1>&2 "| before compiling this version. To fully remove run"; \
		echo 1>&2 "| these commands as user root"; \
		echo 1>&2 "|"; \
		echo 1>&2 "|      pkg_delete pilot-link"; \
		echo 1>&2 "+-------------------"; \
		exit 1; \
	fi
	@@rm -f ${WRKSRC}/bindings/Perl/pm_to_blib
	perl -pi -e "s,!!CFLAGS!!,${CFLAGS},g" ${WRKSRC}/bindings/Perl/Makefile.PL.in
	perl -pi -e "s,Libs: ,Libs: -pthread ,g" \
d68 2
@


1.53
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2007/06/05 10:50:07 ajacoutot Exp $
d7 1
@


1.52
log
@- remove broken MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/03/22 23:41:28 ajacoutot Exp $
d4 1
a4 1
COMMENT=	"tools to connect your PalmOS® compatible handheld"
@


1.51
log
@- update to pilot-link-0.12.2

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2007/01/02 19:39:27 ajacoutot Exp $
a11 1
		http://www.slackware.at/data/slackware-10.2/source/l/pilot-link/ \
@


1.50
log
@- add -pthread to all pc files for pkg-config usage
- bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2007/01/02 11:11:18 ajacoutot Exp $
d6 1
a6 2
DISTNAME=	pilot-link-0.12.1
PKGNAME=	${DISTNAME}p1
d50 1
d67 1
@


1.49
log
@- enable threads
- some cosmetic while here

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2006/10/28 11:19:20 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d68 2
a69 1
	perl -pi -e "s,Libs: ,Libs: -pthread ,g" ${WRKSRC}/pilot-link-pp.pc.in
@


1.48
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2006/10/20 11:48:06 ajacoutot Exp $
d7 1
d11 1
a11 1
CATEGORIES=	comms
d29 1
a29 1
WANTLIB=		c m readline termcap z
d40 3
a42 1
			LDFLAGS="-L${LOCALBASE}/lib" \
d50 1
d57 1
a57 1
	@@if pkg_info -e 'pilot-link-0.11.*'; then \
a63 1
		echo 1>&2 "|"; \
d67 2
a68 1
	perl -pi -e "s,\@@\@@CFLAGS\@@\@@,${CFLAGS},g" ${WRKSRC}/bindings/Perl/Makefile.PL.in
@


1.47
log
@Update to pilot-link-0.12.1.
With some inputs from steven@@ and espie@@

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2006/08/01 22:19:46 espie Exp $
d7 2
a8 2
SHARED_LIBS=	pisock		9.0 \
		pisync 		1.0
@


1.46
log
@more new libspecs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/03/07 19:31:46 sturm Exp $
d6 3
a8 5
DISTNAME=	pilot-link-0.11.8
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=		pisock++	1.0 \
			pisock		8.5 \
			pisync 		0.1
d11 1
a11 1
MASTER_SITES=	http://gentoo.oregonstate.edu/distfiles/ \
d14 1
a14 1
		http://downloads.pilot-link.org/
d18 1
a18 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@lphp.org>
d28 1
a28 1
WANTLIB=		c m ncurses readline stdc++ z
d31 2
a32 1
LIB_DEPENDS=		png.>=4::graphics/png
d45 2
d51 19
@


1.45
log
@remove useless pre-configure target

from Antoine Jacoutot <ajacoutot at lphp.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/01/13 19:12:15 espie Exp $
d33 1
a33 1
LIB_DEPENDS=		png.4::graphics/png
@


1.44
log
@Bump C++ shared libs numbers and corresponding package names,
handles a through databases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/01/10 11:31:01 espie Exp $
a49 17

pre-configure:
	@@if pkg dependencies check pilot-link-\*; then \
		if pkg dependencies check ${DISTNAME}; then \
			:; \
		else \
			echo 1>&2 "+-------------------"; \
			echo 1>&2 "| Error: you must remove the existing pilot-link installation"; \
			echo 1>&2 "| before compiling this version. To fully remove run"; \
			echo 1>&2 "| these commands as user root"; \
			echo 1>&2 "|"; \
			echo 1>&2 "|      pkg_delete `pkg_info -e 'pilot-link-*'`"; \
			echo 1>&2 "|"; \
			echo 1>&2 "+-------------------"; \
			exit 1; \
		fi; \
	fi
@


1.43
log
@zap MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2005/12/23 14:16:01 bernd Exp $
d7 2
a8 1
SHARED_LIBS=		pisock++	0.0 \
@


1.42
log
@- Use new SHARED_LIBS framework
- USE_LIBTOOL and bump PKGNAME where appropriate

ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2005/12/14 21:47:17 steven Exp $
a9 4
MODGNU_SHARED_LIBS=	pisock++ 	'-export-dynamic' \
			pisock 		'-export-dynamic' \
			pisync 		'-export-dynamic'
LIBpisock++_ALIAS=	pisock__
@


1.41
log
@better MASTER_SITES, replace spaces with tabs

from Antoine Jacoutot (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/03/31 04:08:21 pvalchev Exp $
d7 8
@


1.40
log
@no -f option to new pkg tools (in echo message)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2005/03/15 22:08:39 pvalchev Exp $
d7 4
a10 5
CATEGORIES=     comms
MASTER_SITES=	http://fresh.t-systems-sfr.com/unix/src/misc/ \
		http://mirror.astro.ufl.edu/pub/slackware/slackware-current/source/l/pilot-link/ \
		http://gentoo.oregonstate.edu/distfiles/ \
		http://oss.redundant.com/pub/gentoo/distfiles/ \
d17 1
a17 1
EXTRACT_SUFX=   .tar.bz2
@


1.39
log
@powerpc: no longer need gcc workaround for bug etoh fixed a while ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2005/01/10 23:18:32 pvalchev Exp $
d57 1
a57 1
			echo 1>&2 "|      pkg_delete -f `pkg_info -e 'pilot-link-*'`"; \
@


1.38
log
@better check for old versions, ala evolution. from maintainer Antoine Jacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/12/29 16:44:10 pvalchev Exp $
a29 4

.if ${MACHINE_ARCH} == "powerpc"
PATCH_LIST=		patch-* gcc-*
.endif
@


1.37
log
@temp workaround for powerpc propolice bug (that etoh is aware of)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/12/11 04:59:46 pvalchev Exp $
a30 4
.if exists(${LOCALBASE}/lib/libpisock.a)
BROKEN=		"You must remove the existing pilot-link installation before compiling this version"
.endif

d50 17
@


1.36
log
@Update to pilot-link-0.11.8, remove debug flavour
From new maintainer Antoine Jacoutot <ajacoutot@@lphp.org>
@
text
@d1 1
a1 1
# $OpenBSD$
d33 4
@


1.35
log
@WANTLIB markers
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.34 2004/08/17 23:44:30 naddy Exp $
d4 1
a4 1
COMMENT=	"PalmPilot communication utilities"
d6 7
a12 5
VERSION=	0.9.5
DISTNAME=	pilot-link.${VERSION}
PKGNAME=	pilot-link-${VERSION}p1
CATEGORIES=	comms palm
EXTRACT_SUFX=	.tar.bz2
d14 7
a24 3
WANTLIB=		c m stdc++

MAINTAINER=	Peter Valchev <pvalchev@@openbsd.org>
d26 1
a26 1
HOMEPAGE=	http://www.pilot-link.org
d28 2
a29 1
MASTER_SITES=	${HOMEPAGE}/source/
d31 2
a32 17
FLAVORS=	debug
FLAVOR?=

USE_GMAKE=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS= --enable-static \
		--with-perl5="/usr/bin/perl" \
		--without-itcl \
		--without-python \
		--without-java

.if ${FLAVOR:L:Mdebug} 
LIB_DEPENDS=	tk83::x11/tk/8.3
WANTLIB+=	X11 Xext readline tcl83 termcap
.else
CONFIGURE_ARGS+= --without-tcl --without-tk
d35 15
a49 1
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/scripts
@


1.34
log
@but don't break the debug flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/08/17 22:36:02 espie Exp $
d15 1
d37 1
@


1.33
log
@remove hidden dependency on tcl.
okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/07/31 19:29:35 naddy Exp $
d32 1
a32 2
		--without-java \
		--without-tcl
d37 1
a37 1
CONFIGURE_ARGS+= --without-tk
@


1.32
log
@fix MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2003/10/07 17:17:31 fgsch Exp $
d32 2
a33 1
		--without-java
@


1.31
log
@move tcl dependency to the new debug flavor.
while i'm here remove WWW.
input and ok maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/12/29 19:32:37 fgsch Exp $
d40 1
a40 1
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/scripts
@


1.30
log
@more NEED_VERSION removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/06/15 19:07:08 pvalchev Exp $
d22 2
a23 1
LIB_DEPENDS=	tk83::x11/tk/8.3
d33 6
@


1.29
log
@- Fix a bug in pilot-schlep, found by M.Bruening@@GNU-Generation.de -
print the instructional message on stderr instead of stdout, or it gets
mixed up with the data from the device and results in a corrupted file.
- bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/02/19 00:42:24 pvalchev Exp $
a8 1
NEED_VERSION=	1.504
@


1.28
log
@Take maintainership.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/02/18 21:37:41 pvalchev Exp $
d7 1
a7 1
PKGNAME=	pilot-link-${VERSION}
@


1.27
log
@Update to pilot-link-0.9.5
It now has a homepage (www.pilot-link.org), put live master sites, cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/10/17 11:19:59 naddy Exp $
d16 2
@


1.26
log
@install actual executables rather than libtool wrappers; some cleanup
ok jcs@@, pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/09/27 00:32:36 pvalchev Exp $
d5 1
a5 1
VERSION=	0.9.3
d9 2
a10 3
NEED_VERSION=	1.475
MASTER_SITES=	ftp://ryeham.ee.ryerson.ca/pub/PalmOS/ \
		ftp://ftp.forth.org/pub/PalmOS/ryerson/
d16 4
@


1.25
log
@fill in MODGNU_CONFIG_GUESS_DIRS accordingly, for powerpc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/06/03 23:58:35 brad Exp $
d9 1
a9 1
NEED_VERSION=	1.406
a12 4
LIB_DEPENDS=	tk83::x11/tk/8.3

MAINTAINER=	Angelos D. Keromytis <angelos@@openbsd.org>

d17 2
@


1.24
log
@- rename patches
- add another distsite
- tk 8.0 -> tk 8.3
- ensure no hidden dependencies on Python/Java
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/06/02 23:41:45 pvalchev Exp $
d30 2
@


1.23
log
@add palm to categories
okay naddy@@, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/05/05 22:40:09 jakob Exp $
d5 3
a7 2
DISTNAME=	pilot-link.0.9.3
PKGNAME=	pilot-link-0.9.3
d10 4
d22 8
a29 8
MASTER_SITES=	ftp://ryeham.ee.ryerson.ca/pub/PalmOS/

LIB_DEPENDS=	tk80::x11/tk/8.0

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=	--with-perl5=/usr/bin/perl \
		--with-readline21=no \
		--with-readline20=no
@


1.22
log
@integrate COMMENT & bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/10/22 15:41:37 espie Exp $
d7 1
a7 1
CATEGORIES=	comms
@


1.21
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.20 2000/10/22 14:03:00 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.305
@


1.20
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/09/27 01:01:10 marc Exp $
d6 1
a6 2
NEED_VERSION=	1.230
FAKE=	 	Yes	
d19 1
a19 1
GNU_CONFIGURE=	Yes
@


1.19
log
@revert last commit for Makefile (local change)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/05 01:28:14 espie Exp $
d9 1
a9 1
MAINTAINER=	angelos@@openbsd.org
@


1.18
log
@fix packing list
@
text
@d18 1
a18 1
LIB_DEPENDS=	tk83::x11/tk/8.3
@


1.17
log
@- fake, patch from Matt Behrens.
- revert dependency to tcl/tk 8.0, as this port still looks for tcl/tk 8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/04/09 17:36:10 espie Exp $
d18 1
a18 1
LIB_DEPENDS=	tk80::x11/tk/8.0
@


1.16
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/04/01 08:58:06 jakob Exp $
d7 1
a7 1
FAKE=No
d18 1
a18 1
LIB_DEPENDS=	tk83::x11/tk/8.3
@


1.16.2.1
log
@bring comms as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/05 01:28:14 espie Exp $
d7 1
a7 1
FAKE=	 	Yes	
d18 1
a18 1
LIB_DEPENDS=	tk80::x11/tk/8.0
@


1.15
log
@update dependency to tcl 8.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/03/27 18:17:27 espie Exp $
d7 1
@


1.14
log
@Fix tcl/tk 8.0 and 8.3 dependencies...

tcl/tk 8.2 still needs to be updated to 8.3 to fully clean up that mess.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/24 23:28:04 espie Exp $
a9 1
LICENSE_TYPE=		GPL
d17 1
a17 1
LIB_DEPENDS=	tk80::x11/tk/8.0
@


1.13
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/05 18:30:24 espie Exp $
d6 1
a6 1
NEED_VERSION=	 1.230
d18 1
a18 1
LIB_DEPENDS=	tk80::x11/tk80
@


1.12
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/15 05:04:06 turan Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d18 1
a18 1
LIB_DEPENDS=	tk80:x11/tk80
@


1.11
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/12 08:02:11 turan Exp $
d6 1
d11 4
a14 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d18 1
a18 1
LIB_DEPENDS=	tk80:${PORTSDIR}/x11/tk80
d20 1
a20 1
GNU_CONFIGURE=	yes
@


1.10
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/11/08 02:30:36 kevlo Exp $
d10 4
a13 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.9
log
@Mark it unbroken. Fix PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/10/30 21:51:56 angelos Exp $
d8 6
@


1.8
log
@Fix PLIST, left broken for turans@@ (or someone else) to verify
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.7 1999/10/28 07:55:56 turan Exp $

BROKEN=		broken, waiting for turans@@ to review
@


1.7
log
@broken, bad packing lists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/06/12 20:45:36 jakob Exp $
d3 1
a3 1
BROKEN=		bad packing lists
@


1.6
log
@Updated to v0.9.3.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.5 1999/04/01 06:20:03 brad Exp $
@


1.5
log
@fix dependency lists, fix email address's and remove unnecessary comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/04/01 02:57:56 brad Exp $
d3 2
a4 2
DISTNAME=	pilot-link.0.9.0
PKGNAME=	pilot-link-0.9.0
@


1.4
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1998/10/07 18:58:10 marc Exp $
d11 1
a11 1
LIB_DEPENDS=	tk80\\.1:${PORTSDIR}/x11/tk80
@


1.3
log
@clean up makefile
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.2 1998/09/01 00:08:59 angelos Exp $
#
@


1.2
log
@Update to pilot-link-0.9.0
@
text
@d1 1
a1 4
# OpenBSD makefile for: pilot-link
# Version required:     0.9.0
# Date created:         August 31, 1998
# Whom:                 Angelos D. Keromytis
a2 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/06/26 02:05:00 angelos Exp $
a6 1
MASTER_SITES=	ftp://ryeham.ee.ryerson.ca/pub/PalmOS/
d10 2
a13 1
USE_PERL5=	yes
d15 3
a17 5
CONFIGURE_ARGS=	--with-perl5=/usr/bin/perl --with-readline21=no --with-readline20=no

MAN1=		dlpsh.1 ietf2datebook.1 install-datebook.1 \
		install-memo.1 install-user.1 pilot-xfer.1 \
		read-ical.1
@


1.1
log
@Initial revision
@
text
@d2 2
a3 2
# Version required:     0.8.13
# Date created:         June 25, 1998
d6 1
a6 1
# $OpenBSD$
d8 2
a9 2
DISTNAME=	pilot-link.0.8.13
PKGNAME=	pilot-link-0.8.13
@


1.1.1.1
log
@pilot-link 0.8.13 port
@
text
@@
