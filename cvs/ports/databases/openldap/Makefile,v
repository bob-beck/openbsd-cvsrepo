head	1.148;
access;
symbols
	OPENBSD_6_0:1.145.0.2
	OPENBSD_6_0_BASE:1.145
	OPENBSD_5_9:1.142.0.2
	OPENBSD_5_9_BASE:1.142
	OPENBSD_5_8:1.138.0.4
	OPENBSD_5_8_BASE:1.138
	OPENBSD_5_7:1.136.0.2
	OPENBSD_5_7_BASE:1.136
	OPENBSD_5_6:1.133.0.2
	OPENBSD_5_6_BASE:1.133
	OPENBSD_5_5:1.129.0.2
	OPENBSD_5_5_BASE:1.129
	OPENBSD_5_4:1.126.0.2
	OPENBSD_5_4_BASE:1.126
	OPENBSD_5_3:1.120.0.2
	OPENBSD_5_3_BASE:1.120
	OPENBSD_5_2:1.116.0.2
	OPENBSD_5_2_BASE:1.116
	OPENBSD_5_1_BASE:1.110
	OPENBSD_5_1:1.110.0.2
	OPENBSD_5_0:1.104.0.2
	OPENBSD_5_0_BASE:1.104
	OPENBSD_4_9:1.100.0.2
	OPENBSD_4_9_BASE:1.100
	OPENBSD_4_8:1.91.0.2
	OPENBSD_4_8_BASE:1.91
	OPENBSD_4_7:1.90.0.2
	OPENBSD_4_7_BASE:1.90
	OPENBSD_4_6:1.85.0.6
	OPENBSD_4_6_BASE:1.85
	OPENBSD_4_5:1.85.0.4
	OPENBSD_4_5_BASE:1.85
	OPENBSD_4_4:1.85.0.2
	OPENBSD_4_4_BASE:1.85
	OPENBSD_4_3:1.83.0.2
	OPENBSD_4_3_BASE:1.83
	OPENBSD_4_2:1.78.0.2
	OPENBSD_4_2_BASE:1.78
	OPENBSD_4_1:1.77.0.2
	OPENBSD_4_1_BASE:1.77
	OPENBSD_4_0:1.66.0.2
	OPENBSD_4_0_BASE:1.66
	OPENBSD_3_9:1.64.0.2
	OPENBSD_3_9_BASE:1.64
	OPENBSD_3_8:1.53.0.2
	OPENBSD_3_8_BASE:1.53
	OPENBSD_3_7:1.48.0.2
	OPENBSD_3_7_BASE:1.48
	OPENBSD_3_6:1.42.0.2
	OPENBSD_3_6_BASE:1.42
	OPENBSD_3_5:1.39.0.2
	OPENBSD_3_5_BASE:1.39
	OPENBSD_3_4:1.33.0.2
	OPENBSD_3_4_BASE:1.33
	OPENBSD_3_3:1.32.0.2
	OPENBSD_3_3_BASE:1.32
	OPENBSD_3_2:1.31.0.2
	OPENBSD_3_2_BASE:1.31
	OPENBSD_3_1:1.27.0.2
	OPENBSD_3_1_BASE:1.27
	OPENBSD_3_0:1.17.0.2
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9_TRACKING_SWITCH:1.12
	OPENBSD_2_9:1.10.0.2
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	jakob_20001004:1.1.1.1
	jakob:1.1.1;
locks; strict;
comment	@# @;


1.148
date	2016.12.17.14.11.21;	author sthen;	state Exp;
branches;
next	1.147;
commitid	2VA0ebh28yA2UNyl;

1.147
date	2016.10.25.17.25.55;	author sthen;	state Exp;
branches;
next	1.146;
commitid	O7PTX9QdWD5MYc4j;

1.146
date	2016.09.01.16.50.35;	author landry;	state Exp;
branches;
next	1.145;
commitid	ZmnpWAX8TP4e2Cou;

1.145
date	2016.06.29.16.14.38;	author espie;	state Exp;
branches;
next	1.144;
commitid	c1yQMbJbfo0CFBcL;

1.144
date	2016.03.11.20.28.23;	author naddy;	state Exp;
branches;
next	1.143;
commitid	UYLP8TE6V7RS2GhJ;

1.143
date	2016.02.25.00.45.43;	author sthen;	state Exp;
branches;
next	1.142;
commitid	iOxh6XxJ2yQbLHGp;

1.142
date	2015.12.03.14.55.22;	author sthen;	state Exp;
branches;
next	1.141;
commitid	bkA2qrldCmBxvCra;

1.141
date	2015.10.08.21.19.21;	author sthen;	state Exp;
branches;
next	1.140;
commitid	pVDZUjJm7yyuQSI1;

1.140
date	2015.09.11.09.00.01;	author sthen;	state Exp;
branches;
next	1.139;
commitid	Eufye5MoOUrmPmLf;

1.139
date	2015.08.21.21.49.42;	author sthen;	state Exp;
branches;
next	1.138;
commitid	nqnSnckhJ3FpiciC;

1.138
date	2015.07.16.16.30.55;	author sthen;	state Exp;
branches
	1.138.4.1;
next	1.137;
commitid	bk8Lj7t7RZgNXGJC;

1.137
date	2015.07.16.15.30.47;	author sthen;	state Exp;
branches;
next	1.136;
commitid	MZArVChz9Tw9CQrx;

1.136
date	2015.02.16.15.32.08;	author sthen;	state Exp;
branches
	1.136.2.1;
next	1.135;
commitid	Z8RJT9EUGTVlAVzx;

1.135
date	2015.02.06.11.19.33;	author sthen;	state Exp;
branches;
next	1.134;
commitid	W55TxvNeH7CleTMk;

1.134
date	2014.10.03.23.19.44;	author sthen;	state Exp;
branches;
next	1.133;
commitid	7x9tvOr0n0WL8SDv;

1.133
date	2014.04.21.12.41.49;	author sthen;	state Exp;
branches;
next	1.132;

1.132
date	2014.03.24.12.53.37;	author naddy;	state Exp;
branches;
next	1.131;

1.131
date	2014.03.16.19.43.59;	author sthen;	state Exp;
branches;
next	1.130;

1.130
date	2014.03.09.20.52.51;	author sthen;	state Exp;
branches;
next	1.129;

1.129
date	2013.11.18.16.40.07;	author sthen;	state Exp;
branches;
next	1.128;

1.128
date	2013.11.12.15.57.00;	author sthen;	state Exp;
branches;
next	1.127;

1.127
date	2013.10.01.13.33.36;	author pea;	state Exp;
branches;
next	1.126;

1.126
date	2013.06.26.19.09.13;	author sthen;	state Exp;
branches;
next	1.125;

1.125
date	2013.06.20.06.54.36;	author ajacoutot;	state Exp;
branches;
next	1.124;

1.124
date	2013.06.17.19.30.22;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2013.04.29.14.29.56;	author sthen;	state Exp;
branches;
next	1.122;

1.122
date	2013.03.21.08.45.14;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2013.03.11.02.52.05;	author espie;	state Exp;
branches;
next	1.120;

1.120
date	2013.01.03.11.52.29;	author sthen;	state Exp;
branches;
next	1.119;

1.119
date	2012.12.07.12.19.27;	author sthen;	state Exp;
branches;
next	1.118;

1.118
date	2012.12.07.12.11.28;	author sthen;	state Exp;
branches;
next	1.117;

1.117
date	2012.10.20.08.36.13;	author sthen;	state Exp;
branches;
next	1.116;

1.116
date	2012.06.04.11.35.54;	author pea;	state Exp;
branches;
next	1.115;

1.115
date	2012.05.09.09.37.21;	author pea;	state Exp;
branches;
next	1.114;

1.114
date	2012.05.05.14.41.30;	author sthen;	state Exp;
branches;
next	1.113;

1.113
date	2012.04.28.10.52.08;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2012.03.29.13.38.13;	author sthen;	state Exp;
branches;
next	1.111;

1.111
date	2012.03.09.09.48.32;	author pea;	state Exp;
branches;
next	1.110;

1.110
date	2012.01.29.13.46.18;	author espie;	state Exp;
branches;
next	1.109;

1.109
date	2011.10.29.11.54.04;	author gsoares;	state Exp;
branches;
next	1.108;

1.108
date	2011.09.21.14.07.47;	author pea;	state Exp;
branches;
next	1.107;

1.107
date	2011.09.16.08.48.03;	author espie;	state Exp;
branches;
next	1.106;

1.106
date	2011.09.12.21.02.23;	author naddy;	state Exp;
branches;
next	1.105;

1.105
date	2011.09.12.10.04.48;	author espie;	state Exp;
branches;
next	1.104;

1.104
date	2011.05.20.08.08.04;	author sthen;	state Exp;
branches;
next	1.103;

1.103
date	2011.05.02.11.43.37;	author pea;	state Exp;
branches;
next	1.102;

1.102
date	2011.04.07.12.08.02;	author pea;	state Exp;
branches;
next	1.101;

1.101
date	2011.03.03.14.52.04;	author jasper;	state Exp;
branches;
next	1.100;

1.100
date	2011.01.13.15.41.40;	author pea;	state Exp;
branches
	1.100.2.1;
next	1.99;

1.99
date	2011.01.07.12.24.32;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2011.01.07.10.24.30;	author pea;	state Exp;
branches;
next	1.97;

1.97
date	2010.11.15.00.22.51;	author espie;	state Exp;
branches;
next	1.96;

1.96
date	2010.11.06.22.50.02;	author espie;	state Exp;
branches;
next	1.95;

1.95
date	2010.10.27.12.54.44;	author steven;	state Exp;
branches;
next	1.94;

1.94
date	2010.10.18.17.06.07;	author espie;	state Exp;
branches;
next	1.93;

1.93
date	2010.10.09.10.25.06;	author pea;	state Exp;
branches;
next	1.92;

1.92
date	2010.10.09.09.26.02;	author pea;	state Exp;
branches;
next	1.91;

1.91
date	2010.08.06.02.52.05;	author william;	state Exp;
branches;
next	1.90;

1.90
date	2010.02.27.07.30.44;	author espie;	state Exp;
branches;
next	1.89;

1.89
date	2009.12.04.15.26.48;	author pea;	state Exp;
branches;
next	1.88;

1.88
date	2009.09.15.17.37.21;	author jasper;	state Exp;
branches;
next	1.87;

1.87
date	2009.08.21.13.21.19;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2009.07.18.15.52.21;	author naddy;	state Exp;
branches;
next	1.85;

1.85
date	2008.07.21.06.07.10;	author brad;	state Exp;
branches
	1.85.6.1;
next	1.84;

1.84
date	2008.07.15.18.25.53;	author brad;	state Exp;
branches;
next	1.83;

1.83
date	2008.02.15.12.34.20;	author sthen;	state Exp;
branches;
next	1.82;

1.82
date	2008.02.13.09.45.54;	author landry;	state Exp;
branches;
next	1.81;

1.81
date	2008.01.09.11.06.08;	author mbalmer;	state Exp;
branches;
next	1.80;

1.80
date	2007.10.25.21.05.33;	author steven;	state Exp;
branches;
next	1.79;

1.79
date	2007.09.15.20.34.01;	author simon;	state Exp;
branches;
next	1.78;

1.78
date	2007.05.26.10.35.51;	author steven;	state Exp;
branches;
next	1.77;

1.77
date	2007.02.14.10.17.26;	author msf;	state Exp;
branches;
next	1.76;

1.76
date	2007.01.23.12.57.32;	author mbalmer;	state Exp;
branches;
next	1.75;

1.75
date	2007.01.23.11.04.09;	author mbalmer;	state Exp;
branches;
next	1.74;

1.74
date	2007.01.13.16.35.11;	author mbalmer;	state Exp;
branches;
next	1.73;

1.73
date	2007.01.13.13.37.33;	author mbalmer;	state Exp;
branches;
next	1.72;

1.72
date	2006.11.25.16.50.24;	author espie;	state Exp;
branches;
next	1.71;

1.71
date	2006.11.20.13.07.19;	author espie;	state Exp;
branches;
next	1.70;

1.70
date	2006.10.29.10.37.59;	author mbalmer;	state Exp;
branches;
next	1.69;

1.69
date	2006.10.28.11.19.20;	author espie;	state Exp;
branches;
next	1.68;

1.68
date	2006.10.15.20.26.33;	author mbalmer;	state Exp;
branches;
next	1.67;

1.67
date	2006.10.04.19.13.16;	author mbalmer;	state Exp;
branches;
next	1.66;

1.66
date	2006.06.19.08.22.35;	author bernd;	state Exp;
branches;
next	1.65;

1.65
date	2006.04.08.20.28.36;	author sturm;	state Exp;
branches;
next	1.64;

1.64
date	2006.02.28.16.27.52;	author bernd;	state Exp;
branches
	1.64.2.1;
next	1.63;

1.63
date	2006.02.08.04.54.48;	author david;	state Exp;
branches;
next	1.62;

1.62
date	2006.01.14.20.03.36;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2006.01.11.12.19.43;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2005.12.29.14.00.35;	author bernd;	state Exp;
branches;
next	1.59;

1.59
date	2005.11.12.18.12.06;	author mbalmer;	state Exp;
branches;
next	1.58;

1.58
date	2005.11.12.17.22.58;	author mbalmer;	state Exp;
branches;
next	1.57;

1.57
date	2005.11.09.15.42.49;	author mbalmer;	state Exp;
branches;
next	1.56;

1.56
date	2005.11.07.15.59.08;	author mbalmer;	state Exp;
branches;
next	1.55;

1.55
date	2005.10.08.09.12.38;	author jakob;	state Exp;
branches;
next	1.54;

1.54
date	2005.09.26.05.55.03;	author jakob;	state Exp;
branches;
next	1.53;

1.53
date	2005.06.29.13.25.19;	author msf;	state Exp;
branches
	1.53.2.1;
next	1.52;

1.52
date	2005.06.15.20.23.10;	author jakob;	state Exp;
branches;
next	1.51;

1.51
date	2005.04.30.14.45.58;	author jakob;	state Exp;
branches;
next	1.50;

1.50
date	2005.04.24.16.46.34;	author jakob;	state Exp;
branches;
next	1.49;

1.49
date	2005.03.22.09.13.47;	author jakob;	state Exp;
branches;
next	1.48;

1.48
date	2005.01.27.23.43.02;	author alek;	state Exp;
branches;
next	1.47;

1.47
date	2005.01.26.08.27.47;	author jakob;	state Exp;
branches;
next	1.46;

1.46
date	2005.01.04.18.35.49;	author jakob;	state Exp;
branches;
next	1.45;

1.45
date	2004.11.22.16.59.29;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2004.11.10.21.33.55;	author biorn;	state Exp;
branches;
next	1.43;

1.43
date	2004.10.18.06.44.18;	author jakob;	state Exp;
branches;
next	1.42;

1.42
date	2004.07.31.21.17.21;	author naddy;	state Exp;
branches;
next	1.41;

1.41
date	2004.06.12.17.44.56;	author pedro;	state Exp;
branches;
next	1.40;

1.40
date	2004.04.04.21.53.37;	author jakob;	state Exp;
branches;
next	1.39;

1.39
date	2004.03.01.07.03.54;	author jakob;	state Exp;
branches;
next	1.38;

1.38
date	2004.02.24.00.06.43;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2004.02.17.07.22.17;	author kevlo;	state Exp;
branches;
next	1.36;

1.36
date	2004.02.17.01.23.03;	author kevlo;	state Exp;
branches;
next	1.35;

1.35
date	2003.12.26.10.44.10;	author jakob;	state Exp;
branches;
next	1.34;

1.34
date	2003.11.23.02.55.20;	author pvalchev;	state Exp;
branches;
next	1.33;

1.33
date	2003.05.11.18.46.33;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2002.10.25.16.21.31;	author naddy;	state Exp;
branches;
next	1.31;

1.31
date	2002.09.23.13.12.28;	author jakob;	state Exp;
branches;
next	1.30;

1.30
date	2002.09.13.23.06.06;	author jakob;	state Exp;
branches;
next	1.29;

1.29
date	2002.06.11.07.48.38;	author jakob;	state Exp;
branches;
next	1.28;

1.28
date	2002.06.09.21.18.53;	author jakob;	state Exp;
branches;
next	1.27;

1.27
date	2002.02.18.14.30.04;	author jakob;	state Exp;
branches;
next	1.26;

1.26
date	2002.02.04.07.57.59;	author jakob;	state Exp;
branches;
next	1.25;

1.25
date	2002.01.29.06.10.22;	author pvalchev;	state Exp;
branches;
next	1.24;

1.24
date	2002.01.16.09.03.33;	author jakob;	state Exp;
branches;
next	1.23;

1.23
date	2002.01.16.07.17.38;	author jakob;	state Exp;
branches;
next	1.22;

1.22
date	2002.01.15.08.35.52;	author jakob;	state Exp;
branches;
next	1.21;

1.21
date	2001.12.20.16.49.11;	author jakob;	state Exp;
branches;
next	1.20;

1.20
date	2001.10.28.08.44.21;	author shell;	state Exp;
branches;
next	1.19;

1.19
date	2001.10.26.16.54.51;	author jakob;	state Exp;
branches;
next	1.18;

1.18
date	2001.10.24.15.08.11;	author jakob;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.28.17.56.09;	author jakob;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2001.09.27.00.32.36;	author pvalchev;	state Exp;
branches;
next	1.15;

1.15
date	2001.09.21.07.29.35;	author jakob;	state Exp;
branches;
next	1.14;

1.14
date	2001.09.11.15.54.12;	author jakob;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.08.22.27.54;	author jakob;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.24.14.30.27;	author jakob;	state Exp;
branches;
next	1.11;

1.11
date	2001.05.21.21.19.25;	author jakob;	state Exp;
branches;
next	1.10;

1.10
date	2001.04.20.23.10.43;	author jakob;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.16.15.36.13;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2001.03.12.15.13.14;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2001.02.18.22.22.30;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2001.02.11.10.44.00;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2000.11.18.10.29.49;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2000.10.22.18.43.58;	author espie;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	2000.10.22.14.03.04;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.05.15.54.37;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2000.10.04.21.22.24;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.10.04.21.22.24;	author jakob;	state Exp;
branches;
next	;

1.4.2.1
date	2001.02.12.23.48.21;	author naddy;	state Exp;
branches;
next	;

1.17.2.1
date	2001.11.16.17.29.05;	author jakob;	state Exp;
branches;
next	1.17.2.2;

1.17.2.2
date	2002.01.08.11.03.37;	author jakob;	state Exp;
branches;
next	1.17.2.3;

1.17.2.3
date	2002.01.15.08.35.54;	author jakob;	state Exp;
branches;
next	1.17.2.4;

1.17.2.4
date	2002.01.16.07.20.01;	author jakob;	state Exp;
branches;
next	1.17.2.5;

1.17.2.5
date	2002.01.16.09.04.03;	author jakob;	state Exp;
branches;
next	1.17.2.6;

1.17.2.6
date	2002.02.16.23.13.53;	author jakob;	state Exp;
branches;
next	;

1.53.2.1
date	2006.06.23.22.23.23;	author sturm;	state Exp;
branches;
next	;

1.64.2.1
date	2006.06.23.22.23.49;	author sturm;	state Exp;
branches;
next	;

1.85.6.1
date	2009.12.10.00.36.14;	author william;	state Exp;
branches;
next	;

1.100.2.1
date	2011.03.13.21.26.45;	author jasper;	state Exp;
branches;
next	;

1.136.2.1
date	2015.09.11.09.09.28;	author sthen;	state Exp;
branches;
next	;
commitid	U0b9bwrCpy46xg5a;

1.138.4.1
date	2015.09.11.09.03.50;	author sthen;	state Exp;
branches;
next	;
commitid	9qG6d8E45kBkUcpV;


desc
@@


1.148
log
@revert openldap gssapi stuff that doesn't work. pointed out by aja@@
@
text
@# $OpenBSD: Makefile,v 1.146 2016/09/01 16:50:35 landry Exp $

DPB_PROPERTIES =	parallel

COMMENT-main =		open-source LDAP software (client)
COMMENT-server =	open-source LDAP software (server)

DISTNAME =		openldap-2.4.44
PKGNAME-main =		${DISTNAME:S/-/-client-/}
PKGNAME-server =	${DISTNAME:S/-/-server-/}
REVISION =		3

# overwrite -main pkgname/path to strip FLAVOR, aci only affects the server
FULLPKGNAME-main =	${DISTNAME:S/-/-client-/}
FULLPKGPATH-main =	databases/openldap,-main

SHARED_LIBS +=	lber                 12.0     # 12.6
SHARED_LIBS +=	lber-2.4             12.0

SHARED_LIBS +=	ldap                 13.1     # 12.6
SHARED_LIBS +=	ldap-2.4             13.1
SHARED_LIBS +=	ldap_r               13.1
SHARED_LIBS +=	ldap_r-2.4           13.1

CATEGORIES =	databases net

HOMEPAGE =	http://www.openldap.org/

MAINTAINER =	Stuart Henderson <sthen@@openbsd.org>

# OpenLDAP Public License
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c crypto ssl

MASTER_SITES =	http://mirror.switch.ch/ftp/mirror/OpenLDAP/openldap-release/ \
		http://gd.tuwien.ac.at/infosys/network/OpenLDAP/openldap-release/ \
		http://mirror.aarnet.edu.au/pub/openldap/openldap-release/ \
		ftp://ftp.OpenLDAP.org/pub/OpenLDAP/openldap-release/ \
		http://ftp.ntua.gr/mirror/OpenLDAP/openldap-release/

EXTRACT_SUFX =		.tgz

SEPARATE_BUILD =	Yes
AUTOCONF_VERSION =	2.65
CONFIGURE_STYLE =	autoconf

# formatting is ok with mandoc, but it uses soelim
USE_GROFF =		Yes

FLAVOR ?=
FLAVORS =		aci

CONFIGURE_ARGS +=	--enable-ipv6 \
			--with-tls=openssl

# slapd options
CONFIGURE_ARGS +=	--enable-slapd \
			--enable-cleartext \
			--enable-crypt \
			--enable-rewrite \
			--with-cyrus-sasl \
			--enable-spasswd

# slapd modules
CONFIGURE_ARGS +=	--enable-bdb \
			--enable-dnssrv \
			--enable-hdb \
			--enable-ldap \
			--enable-meta \
			--enable-monitor \
			--enable-null \
			--enable-overlays \
			--enable-passwd \
			--enable-perl \
			--enable-shell

# MDB assumes UBC; see http://www.openldap.org/pub/hyc/mdm-paper.pdf
# section 3.1, references 17, 18, and 19.
#
# However, note (from Howard Chu): "This requirement can be relaxed in
# the current version of the library. If you create the environment
# with the MDB_WRITEMAP option then all reads and writes are performed
# using mmap, so the file buffer cache is irrelevant. Of course then
# you lose the protection that the read-only map offers."
#
# A patch has been added to this port to enforce that MDB_WRITEMAP is
# used, however crashes have been seen with mdb in use, so this is
# disabled at this time.
#
CONFIGURE_ARGS +=	--disable-mdb

.if ${FLAVOR:Maci}
CONFIGURE_ARGS +=	--enable-aci
.endif

MODGNU_CONFIG_GUESS_DIRS = ${WRKSRC} ${WRKSRC}/build

TEST_TARGET =	test

MULTI_PACKAGES =	-main -server

LIB_DEPENDS +=		security/cyrus-sasl2 
WANTLIB +=		pthread sasl2
CPPFLAGS +=		-I${LOCALBASE}/include/sasl

LIB_DEPENDS-server =	${LIB_DEPENDS-main} \
			sysutils/e2fsprogs \
			textproc/icu4c \
			databases/db/v4,no_java,no_tcl

CONFIGURE_ENV +=	CPPFLAGS="-I${LOCALBASE}/include/sasl -I${LOCALBASE}/include/db4 -I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib/db4 -L${LOCALBASE}/lib"

RUN_DEPENDS-server =	databases/openldap,-main
WANTLIB-server +=	${WANTLIB} perl util m icudata icuuc uuid
WANTLIB-server +=	stdc++ lib/db4/db>=4

pre-build:
	@@cd ${WRKBUILD}; ${MAKE_PROGRAM} depend

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/openldap
	${INSTALL_DATA} ${DESTDIR}${SYSCONFDIR}/openldap/*.conf \
		${PREFIX}/share/examples/openldap
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/openldap/schema
	${INSTALL_DATA} ${DESTDIR}${SYSCONFDIR}/openldap/schema/*.schema \
		 ${PREFIX}/share/examples/openldap/schema
	${INSTALL_DATA} ${WRKSRC}/servers/slapd/DB_CONFIG \
		${PREFIX}/share/examples/openldap
	@@rm -rf ${DESTDIR}${SYSCONFDIR}/openldap

.include <bsd.port.mk>
@


1.147
log
@add a gssapi flavour to openldap, based on a diff from William Leuschner
@
text
@d11 1
a11 2
REVISION-main =		0
REVISION-server =	2
d34 1
a34 2
cWANTLIB =	c crypto pthread sasl2 ssl
WANTLIB-main =	${cWANTLIB}
d52 1
a52 1
FLAVORS =		aci gssapi
a96 6
.if ${FLAVOR:Mgssapi}
CONFIGURE_ARGS +=	--with-kerberos
WANTLIB-server +=	${MODHEIMDAL_WANTLIB}
MODULES +=		security/heimdal
.endif

d103 2
a104 1
LIB_DEPENDS-main +=	security/cyrus-sasl2 
a107 1
			${MODHEIMDAL_LIB_DEPENDS} \
d116 1
a116 1
WANTLIB-server +=	${cWANTLIB} perl m icudata icuuc uuid
@


1.146
log
@Patch the default config to use bdb backend by default, this way slapd
works ootb instead of blowing out because we can't use mdb.

discussed with sthen@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2016/06/29 16:14:38 espie Exp $
d11 2
a12 1
REVISION-server =	1
d35 2
a36 1
WANTLIB += c crypto ssl
d54 1
a54 1
FLAVORS =		aci
d99 6
d111 1
a111 2
LIB_DEPENDS +=		security/cyrus-sasl2 
WANTLIB +=		pthread sasl2
d115 1
d124 1
a124 1
WANTLIB-server +=	${WANTLIB} perl util m icudata icuuc uuid
@


1.145
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2016/03/11 20:28:23 naddy Exp $
d11 1
a11 1
REVISION-server =	0
@


1.144
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2016/02/25 00:45:43 sthen Exp $
d11 1
@


1.143
log
@update to openldap-2.4.44
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2015/12/03 14:55:22 sthen Exp $
d53 1
a53 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--enable-ipv6 \
@


1.142
log
@update to openldap-2.4.43

note, syntax parsing is more strict ("fixed slapd configuration parser
with unbalanced quotes"), if you have problems starting slapd then run it
manually with debug output for clues.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2015/10/08 21:19:21 sthen Exp $
d8 1
a8 1
DISTNAME =		openldap-2.4.43
@


1.141
log
@Bump some ports which reference if_msghdr in their source, so that package
updates are triggered. This is following the struct if_data ABI change a few
days ago; if_msghdr has an embedded if_data.  Some may be unnecessary, but
some are definitely needed and bumps are cheaper than debugging.
Problem reported with wpa_supplicant by Mikolaj Kucharski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2015/09/11 09:00:01 sthen Exp $
d8 1
a8 3
DISTNAME =		openldap-2.4.42
REVISION-server =	1
REVISION-main =		0
d16 2
a17 3
SHARED_LIBS +=	lber                 12.0     # 12.3
SHARED_LIBS +=	ldap                 13.0     # 12.3
SHARED_LIBS +=	ldap_r               13.0     # 12.3
d19 4
a22 3
SHARED_LIBS +=	lber-2.4             12.0
SHARED_LIBS +=	ldap-2.4             13.0
SHARED_LIBS +=	ldap_r-2.4           13.0
@


1.140
log
@Add upstream commit to fix assert() with invalid BER, pointed out by landry@@
http://seclists.org/fulldisclosure/2015/Sep/35
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2015/08/21 21:49:42 sthen Exp $
d9 2
a10 1
REVISION-server =	0
@


1.139
log
@bugfix update to OpenLDAP-2.4.42
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2015/07/16 16:30:55 sthen Exp $
d9 1
@


1.138
log
@update to openldap-2.4.41 and take maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2015/07/16 15:30:47 sthen Exp $
d8 1
a8 1
DISTNAME =		openldap-2.4.41
@


1.138.4.1
log
@MFC: Add upstream commit to fix assert() with invalid BER
http://seclists.org/fulldisclosure/2015/Sep/35
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2015/07/16 16:30:55 sthen Exp $
a8 1
REVISION-server =	0
@


1.137
log
@add DPB_PROPERTIES=parallel, works ok and though it's not a huge port
this is on the path to building libreoffice
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2015/02/16 15:32:08 sthen Exp $
d8 1
a8 2
DISTNAME =		openldap-2.4.40
REVISION-server =	1
d28 2
d47 1
@


1.136
log
@Turn off MDB in openldap-server, as shown by the p5-ldap regress tests it
does not work correctly on OpenBSD (slapd segfaults).
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.135 2015/02/06 11:19:33 sthen Exp $
@


1.136.2.1
log
@MFC: Add upstream commit to fix assert() with invalid BER
http://seclists.org/fulldisclosure/2015/Sep/35
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2015/02/16 15:32:08 sthen Exp $
d7 1
a7 1
REVISION-server =	2
@


1.135
log
@add a couple of openldap patches from upstream (slapd crash fixes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2014/10/03 23:19:44 sthen Exp $
d7 1
a7 1
REVISION-server =	0
d83 3
a85 2
# This is now enabled in the port, but a patch has been added to
# enforce that MDB_WRITEMAP is used.
d87 1
a87 1
CONFIGURE_ARGS +=	--enable-mdb
@


1.134
log
@update to openldap 2.4.40

enable mdb (as an option), but if used, enforce that it's configured with
writemap as otherwise it assumes that mmap and file io are coherent
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2014/04/21 12:41:49 sthen Exp $
d7 1
@


1.133
log
@kerb5 wantlib were only pulled in via sasl; regen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2014/03/24 12:53:37 naddy Exp $
d6 1
a6 2
DISTNAME =		openldap-2.4.39
REVISION =		1
d14 7
a20 6
SHARED_LIBS +=	lber                 12.0      # .10.5
SHARED_LIBS +=	ldap                 13.0      # .10.5
SHARED_LIBS +=	ldap_r               13.0      # .10.5
SHARED_LIBS +=	lber-2.4             12.0      # .10.5
SHARED_LIBS +=	ldap-2.4             13.0      # .10.5
SHARED_LIBS +=	ldap_r-2.4           13.0      # .10.5
d76 1
a76 3
CONFIGURE_ARGS +=	--disable-mdb
#
# however, note (from Howard Chu): "This requirement can be relaxed in
d81 5
@


1.132
log
@disable TCP wrappers support; with/ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2014/03/16 19:43:59 sthen Exp $
d7 1
a7 2
REVISION-main =		0
REVISION-server =	0
d29 1
a29 2
WANTLIB += asn1 c com_err crypto gssapi heimbase
WANTLIB += krb5 roken ssl wind
@


1.131
log
@remove an old explicit @@pkgpath ${BASE_PKGPATH} in the plist from when
this port was first converted to multi-packages that is now getting in
the way, problem reported by nigel@@, espie noticed the @@pkgpath line.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2014/03/09 20:52:51 sthen Exp $
d8 1
a58 1
			--enable-wrappers \
d109 1
a109 1
WANTLIB-server +=	${WANTLIB} perl util wrap m icudata icuuc uuid
@


1.130
log
@update to openldap 2.4.39
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2013/11/18 16:40:07 sthen Exp $
d7 1
a9 1

@


1.129
log
@update to openldap-2.4.38
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2013/10/01 13:33:36 pea Exp $
d6 1
a6 1
DISTNAME =		openldap-2.4.38
@


1.128
log
@update to openldap-2.4.37
@
text
@d6 1
a6 1
DISTNAME =		openldap-2.4.37
@


1.127
log
@Update to 2.4.36

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2013/06/26 19:09:13 sthen Exp $
d6 1
a6 1
DISTNAME =		openldap-2.4.36
@


1.126
log
@hidden dep on e2fsprogs libuuid
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2013/06/20 06:54:36 ajacoutot Exp $
d6 1
a6 1
DISTNAME =		openldap-2.4.35
a9 2
REVISION-main =		1
REVISION-server =	2
@


1.125
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2013/06/17 19:30:22 ajacoutot Exp $
d11 1
a11 1
REVISION-server =	1
d98 1
a98 1
LIB_DEPENDS +=		security/cyrus-sasl2
d103 1
d111 1
a111 1
WANTLIB-server +=	${WANTLIB} perl util wrap m icudata icuuc
@


1.124
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2013/04/29 14:29:56 sthen Exp $
d10 2
a11 2
REVISION-main =		0
REVISION-server =	0
d31 1
a31 1
WANTLIB += asn1 c com_err crypto gssapi heimbase heimntlm hx509
@


1.123
log
@update to OpenLDAP 2.4.35 and add some comments about mdb
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2013/03/21 08:45:14 ajacoutot Exp $
d10 3
d31 2
a32 1
WANTLIB += c crypto ssl asn1 com_err gssapi krb5 sasl2
@


1.122
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2013/03/11 02:52:05 espie Exp $
d6 1
a6 1
DISTNAME =		openldap-2.4.33
d68 1
d71 12
a82 3
			--enable-shell \
			--enable-overlays \
			--disable-mdb
@


1.121
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2013/01/03 11:52:29 sthen Exp $
a41 1
USE_LIBTOOL =		Yes
@


1.120
log
@update OpenLDAP to 2.4.33
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2012/12/07 12:19:27 sthen Exp $
a26 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
d81 1
a81 1
REGRESS_TARGET =	test
@


1.119
log
@Use a RUN_DEPENDS-server which doesn't change depending on the flavour;
avoids PLIST_DB problem reported by nigel@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2012/12/07 12:11:28 sthen Exp $
d6 1
a6 1
DISTNAME =		openldap-2.4.31
d14 6
a19 9
REVISION-server =	2
REVISION-main =		0

SHARED_LIBS +=	lber                 12.0      # .10.1
SHARED_LIBS +=	ldap                 12.0      # .10.1
SHARED_LIBS +=	ldap_r               12.0      # .10.1
SHARED_LIBS +=	lber-2.4             12.0      # .10.1
SHARED_LIBS +=	ldap-2.4             12.0      # .10.1
SHARED_LIBS +=	ldap_r-2.4           12.0      # .10.1
@


1.118
log
@use more consistent spacing in Makefile, no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2012/10/20 08:36:13 sthen Exp $
d14 1
a14 1
REVISION-server =	1
d102 1
a102 1
RUN_DEPENDS-server =	${BASE_PKGPATH}
@


1.117
log
@add a FLAVOR to enable the experimental ACI support in OpenLDAP,
req by Brian Empson. ok pea@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2012/06/04 11:35:54 pea Exp $
d3 2
a4 2
COMMENT-main=	open-source LDAP software (client)
COMMENT-server=	open-source LDAP software (server)
d6 3
a8 3
DISTNAME=		openldap-2.4.31
PKGNAME-main=		${DISTNAME:S/-/-client-/}
PKGNAME-server=		${DISTNAME:S/-/-server-/}
d11 2
a12 2
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}
FULLPKGPATH-main=	databases/openldap,-main
d14 2
a15 2
REVISION-server=	1
REVISION-main=		0
a22 1
CATEGORIES=	databases net
d24 3
a26 1
HOMEPAGE=	http://www.openldap.org/
d29 4
a32 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d36 1
a36 1
MASTER_SITES=	http://mirror.switch.ch/ftp/mirror/OpenLDAP/openldap-release/ \
d42 5
a46 1
EXTRACT_SUFX=		.tgz
d48 2
a49 4
SEPARATE_BUILD=		Yes
AUTOCONF_VERSION=	2.65
CONFIGURE_STYLE=	autoconf
USE_GROFF=		Yes
d51 2
a52 2
FLAVOR?=
FLAVORS=		aci
d54 1
a54 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
d59 1
a59 1
CONFIGURE_ARGS+=	--enable-slapd \
d68 1
a68 1
CONFIGURE_ARGS+=	--enable-bdb \
d82 1
a82 1
CONFIGURE_ARGS+=	--enable-aci
d85 1
a85 1
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/build
d87 1
a87 1
REGRESS_TARGET=	test
d89 1
a89 1
MULTI_PACKAGES=	-main -server
d102 1
a102 1
RUN_DEPENDS-server=	${BASE_PKGPATH}
a104 2

USE_LIBTOOL=	Yes
@


1.116
log
@This patch is already committed upstream.
Spotted by guenther@@

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2012/05/09 09:37:21 pea Exp $
d3 2
a4 2
COMMENT-main=	Open source LDAP software (client)
COMMENT-server=	Open source LDAP software (server)
d10 6
a15 1
REVISION-server=	0
d48 3
d78 4
d89 1
a89 1
WANTLIB +=		sasl2
d100 1
a100 1
WANTLIB-server +=	${WANTLIB} perl util wrap m pthread icudata icuuc
@


1.115
log
@Bugfix update to 2.4.31

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2012/05/05 14:41:30 sthen Exp $
d10 1
@


1.114
log
@Add a comment to slapd.rc showing how to bind to multiple URLs as it's not
obvious how to do this without breaking pexp. Zap some stray whitespace in
Makefile while there. ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2012/04/28 10:52:08 ajacoutot Exp $
d6 1
a6 1
DISTNAME=		openldap-2.4.30
a8 1
REVISION-server=	0
@


1.113
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2012/03/29 13:38:13 sthen Exp $
d9 1
d25 1
a25 1
PERMIT_DISTFILES_CDROM=	Yes 
d28 1
a28 1
WANTLIB += c crypto ssl asn1 com_err gssapi krb5 sasl2 
d83 1
a83 1
			
d88 2
a89 2
WANTLIB-server += 	${WANTLIB} perl util wrap m pthread icudata icuuc
WANTLIB-server += 	stdc++ lib/db4/db>=4
@


1.112
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2012/03/09 09:48:32 pea Exp $
a42 1
			--localstatedir="/var" \
@


1.111
log
@Update to 2.4.30

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2012/01/29 13:46:18 espie Exp $
d37 1
a37 1
SEPARATE_BUILD=		concurrent
@


1.110
log
@openldap doesn't require db,-java, so avoid it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2011/10/29 11:54:04 gsoares Exp $
d6 1
a6 1
DISTNAME=		openldap-2.4.26
a9 1
REVISION-server=	0
d11 6
a16 6
SHARED_LIBS +=	lber                 11.0      # .9.1
SHARED_LIBS +=	ldap                 11.1      # .9.1
SHARED_LIBS +=	ldap_r               11.1      # .9.1
SHARED_LIBS +=	lber-2.4             11.0      # .9.1
SHARED_LIBS +=	ldap-2.4             11.1      # .9.1
SHARED_LIBS +=	ldap_r-2.4           11.1      # .9.1
d67 2
a68 1
			--enable-overlays
@


1.109
log
@security fix to SA46599;
"UTF8StringNormalize()" Off-by-One Denial of Service Vulnerability

ok pea@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2011/09/21 14:07:47 pea Exp $
d82 1
a82 1
			databases/db/v4
@


1.108
log
@Update to 2.4.26
With tweaks from gsoares@@ (thanks).

looks good to sthen@@, ok gsoares@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2011/09/16 08:48:03 espie Exp $
d9 2
@


1.107
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2011/09/12 21:02:23 naddy Exp $
d6 1
a6 1
DISTNAME=		openldap-2.4.25
d10 6
a15 8
REVISION-server=	2

SHARED_LIBS +=	lber                 11.0      # .8.0
SHARED_LIBS +=	ldap                 11.0      # .8.0
SHARED_LIBS +=	ldap_r               11.0      # .8.0
SHARED_LIBS +=	lber-2.4             11.0      # .8.0
SHARED_LIBS +=	ldap-2.4             11.0      # .8.0
SHARED_LIBS +=	ldap_r-2.4           11.0      # .8.0
d20 1
d83 1
a83 1
			LDFLAGS="-L${LOCALBASE}/lib/db4 -L${LOCALBASE}/lib" 
@


1.106
log
@remove redundant package spec already supplied by PKGSPEC
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2011/09/12 10:04:48 espie Exp $
d10 1
a10 1
REVISION-server=	1
@


1.105
log
@fix for db change
noticed by antoine
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2011/05/20 08:08:04 sthen Exp $
d81 1
a81 1
			db->=4.6.21,<5|db->=4.6.21v0,<5v0:databases/db/v4
@


1.104
log
@prefer http MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2011/05/02 11:43:37 pea Exp $
d10 1
a10 1
REVISION-server=	0
d81 1
a81 1
			db->=4.6.21,<5:databases/db/v4
@


1.103
log
@+ use proper AUTOCONF_VERSION (from Brad)
+ fix CONFIGURE_ARGS

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2011/04/07 12:08:02 pea Exp $
d29 5
a33 6
MASTER_SITES=	ftp://ftp.OpenLDAP.org/pub/OpenLDAP/openldap-release/ \
		http://mirror.switch.ch/ftp/mirror/OpenLDAP/openldap-release/ \
		ftp://mirror.aarnet.edu.au/pub/openldap/openldap-release/ \
		ftp://gd.tuwien.ac.at/infosys/network/OpenLDAP/openldap-release/ \
		http://www.unibase.cz/ldapcz/Programy/Free/OpenLDAP/openldap-release/ \
		ftp://ftp.ntua.gr/mirror/OpenLDAP/openldap-release/
@


1.102
log
@Update to 2.4.25

ok landry@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2011/03/03 14:52:04 jasper Exp $
d10 2
d39 2
a40 2
AUTOCONF_VERSION=	2.61
CONFIGURE_STYLE=	gnu autoconf
d68 1
a68 1
			--enable-overlay
@


1.101
log
@- update openldap to 2.4.24, fixes CVE-2011-1024 and CVE-2011-1025.

ok pea@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2011/01/13 15:41:40 pea Exp $
d6 1
a6 1
DISTNAME=		openldap-2.4.24
@


1.100
log
@Run slapd as a non-privileged user
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2011/01/07 12:24:32 ajacoutot Exp $
d6 1
a6 1
DISTNAME=		openldap-2.4.23
d10 6
a15 8
REVISION-server=	1

SHARED_LIBS +=	lber                 10.0      # .7.6
SHARED_LIBS +=	ldap                 10.0      # .7.6
SHARED_LIBS +=	ldap_r               10.0      # .7.6
SHARED_LIBS +=	lber-2.4             10.0      # .7.6
SHARED_LIBS +=	ldap-2.4             10.0      # .7.6
SHARED_LIBS +=	ldap_r-2.4           10.0      # .7.6
@


1.100.2.1
log
@Security fixes for CVE-2011-1024, CVE-2011-1025 and CVE-2011-1081.
Backported from upstream CVS.

ok pea@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2011/01/13 15:41:40 pea Exp $
d10 1
a10 1
REVISION-server=	2
@


1.99
log
@Unbreak rc script.
Remove bogus MESSAGE-server.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2011/01/07 10:24:30 pea Exp $
d10 1
a10 1
REVISION-server=	0
@


1.98
log
@*MAJOR UPGRADE*

Upgrade to OpenLDAP 2.4.23.
Important things to know:

+ ldbm backend has been removed
+ bdb is the default backend
+ slurp has been removed

Backup all your data before this upgrade !!

Tested in a bulk by landry@@
Lot of help/comments/ideas/tests from ajacoutot@@, jasper@@, landry@@, sthen@@, stephan@@

ok ajacoutot@@, landry@@, jasper@@, stephan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2010/11/15 00:22:51 espie Exp $
d9 2
@


1.97
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2010/11/06 22:50:02 espie Exp $
d6 1
a6 1
DISTNAME=		openldap-2.3.43
a8 2
REVISION-main=		2
REVISION-server= 	4
d10 6
a15 6
SHARED_LIBS +=	lber                 9.1      # .2.15
SHARED_LIBS +=	ldap                 9.1      # .2.15
SHARED_LIBS +=	ldap_r               9.1      # .2.15
SHARED_LIBS +=	lber-2.3             9.1      # .2.15
SHARED_LIBS +=	ldap-2.3             9.1      # .2.15
SHARED_LIBS +=	ldap_r-2.3           9.1      # .2.15
d24 2
a25 1
WANTLIB=		c crypto ssl asn1 com_err gssapi krb5
d28 1
a28 1
		ftp://sunsite.cnlab-switch.ch/mirror/OpenLDAP/openldap-release/ \
d37 3
a39 2
CONFIGURE_STYLE=	gnu
USE_GROFF =	Yes
d43 2
a44 1
			--enable-ipv6
d56 3
a58 1
CONFIGURE_ARGS+=	--enable-dnssrv \
a59 1
			--enable-ldbm \
d65 2
a66 4
			--enable-shell

# slurpd modules
CONFIGURE_ARGS+=	 --enable-slurpd
a71 3
FLAVORS=	bdb
FLAVOR?=

d78 6
a83 15
.if ${FLAVOR:L:Mbdb}
BROKEN =		OpenLDAP 2.3 is incompatible with Berkeley DB 4.6
CONFIGURE_ARGS +=	--enable-bdb --enable-hdb
LIB_DEPENDS +=		db->=4,<5:databases/db/v4
WANTLIB +=		lib/db4/db>=4
CPPFLAGS +=		-I${LOCALBASE}/include/db4
LDFLAGS +=		-L${LOCALBASE}/lib/db4
LIBS +=			-ldb
.else
CONFIGURE_ARGS+=	--disable-bdb --disable-hdb
.endif

CONFIGURE_ENV+=		CPPFLAGS="${CPPFLAGS}" \
			LDFLAGS="-L${LOCALBASE}/lib ${LDFLAGS}" \
			LIBS="${LIBS}"
d86 2
a87 1
WANTLIB-server=		${WANTLIB} perl util wrap m pthread
a93 8
pre-configure:
	@@perl -pi -e 's,KRB5_LIBS=,KRB5_LIBS="-lgssapi -lkrb5 -lasn1 \
		-lcom_err",g' ${WRKSRC}/configure
.if ${FLAVOR} != "bdb"
	@@perl -pi -e 's,database	bdb,database	ldbm,' \
		${WRKSRC}/servers/slapd/slapd.conf
.endif

d103 1
a103 2
	@@rm -r ${DESTDIR}${SYSCONFDIR}/openldap
	@@rm -r ${DESTDIR}/var/openldap-data ${DESTDIR}/var/openldap-slurp
@


1.96
log
@bye bye old LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2010/10/27 12:54:44 steven Exp $
d77 1
a77 1
LIB_DEPENDS +=		::security/cyrus-sasl2
d84 2
a85 2
LIB_DEPENDS +=		:db->=4,<5:databases/db/v4
WANTLIB +=		lib/db4/db.>=4
d97 1
a97 1
RUN_DEPENDS-server=	:${FULLPKGNAME-main}:databases/openldap
@


1.95
log
@works with openbsd libtool. verified by pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2010/10/09 10:25:06 pea Exp $
d77 3
a79 2
LIB_DEPENDS+=		sasl2::security/cyrus-sasl2
CPPFLAGS+=		-I${LOCALBASE}/include/sasl
d82 7
a88 6
BROKEN=			OpenLDAP 2.3 is incompatible with Berkeley DB 4.6
CONFIGURE_ARGS+=	--enable-bdb --enable-hdb
LIB_DEPENDS+=		lib/db4/db.>=4:db->=4,<5:databases/db/v4
CPPFLAGS+=		-I${LOCALBASE}/include/db4
LDFLAGS+=		-L${LOCALBASE}/lib/db4
LIBS+=			-ldb
@


1.94
log
@USE_GROFF=Yes
@
text
@d98 1
a98 2
# XXX Perl libtools produces an invalid executable
USE_LIBTOOL=	gnu
@


1.93
log
@Add a comment about libtools
no need to bump

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2010/10/09 09:26:02 pea Exp $
d39 1
@


1.92
log
@OpenLDAP doesn't build correctly with our libtool.
Unbreak it.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2010/08/06 02:52:05 william Exp $
d97 1
@


1.91
log
@SECURITY FIX

Resolves CVE-2010-0211 and CVE-2010-0212 (ITS#6570)
from upstream.  Also fixes a segfault in IA5StringNormalize() by
sync'ing that function with the same function from 2.4.23.

ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2010/02/27 07:30:44 espie Exp $
d7 4
a10 2
PKGNAME-main=		${DISTNAME:S/-/-client-/}p1
PKGNAME-server=		${DISTNAME:S/-/-server-/}p3
d97 1
a97 1
USE_LIBTOOL=	Yes
@


1.90
log
@avoid warning, FLAVOR is broken anyways
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2009/12/04 15:26:48 pea Exp $
d8 1
a8 1
PKGNAME-server=		${DISTNAME:S/-/-server-/}p2
@


1.89
log
@Security fix for OpenLDAP.
See:
+ http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-3767
+ http://www.openldap.org/devel/cvsweb.cgi/libraries/libldap/tls_o.c.diff?r1=1.8&r2=1.11&f=h

ok jasper@@, go ahead sthen@@, aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2009/09/15 17:37:21 jasper Exp $
d7 1
a7 1
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}p1
@


1.88
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2009/08/21 13:21:19 ajacoutot Exp $
d7 2
a8 2
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}p0
PKGNAME-server=		${DISTNAME:S/-/-server-/}p1
@


1.87
log
@Protect slapd.conf as it may contain passwords and/or other sensitive
informations.

"makes a lot of sense" sthen@@
"ja ja" landry@@
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2009/07/18 15:52:21 naddy Exp $
d7 2
a8 2
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}
PKGNAME-server=		${DISTNAME:S/-/-server-/}p0
a18 2

MAINTAINER=     Marc Balmer <mbalmer@@openbsd.org>
@


1.86
log
@fix package spec in depend
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2008/07/21 06:07:10 brad Exp $
d8 1
a8 1
PKGNAME-server=		${DISTNAME:S/-/-server-/}
@


1.85
log
@Update to OpenLDAP 2.3.43. bug fix release.

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2008/07/15 18:25:53 brad Exp $
d82 1
a82 1
LIB_DEPENDS+=		lib/db4/db.>=4:db-4.*:databases/db/v4
@


1.85.6.1
log
@MFC:

SECURITY FIX

Resolves CVE-2009-3767

from pea@@, thanks!

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2008/07/21 06:07:10 brad Exp $
d7 2
a8 2
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}p0
PKGNAME-server=		${DISTNAME:S/-/-server-/}p0
@


1.84
log
@Update to OpenLDAP 2.3.42. bug fix release.

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2008/02/15 12:34:20 sthen Exp $
d6 1
a6 1
DISTNAME=		openldap-2.3.42
d103 1
a103 1
	perl -pi -e 's,KRB5_LIBS=,KRB5_LIBS="-lgssapi -lkrb5 -lasn1 \
d106 1
a106 1
	perl -pi -e 's,database	bdb,database	ldbm,' \
@


1.83
log
@OpenLDAP 2.3 segfaults with DB >= 4.6.3 due to an API change.

After discussions with a few people and testing of how upgrades will
be handled, mark this FLAVOR as broken so existing -bdb users don't
break their installation with pkg_add -u. Those wishing to upgrade
must dump their database, remove the openldap-*-bdb package, then
they are free to install the new unFLAVORed version and restore
the database.

This can be revisited after release, hopefully OpenLDAP 2.4 (which
requires newer DB) will be stable by then.

ok mbalmer (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2008/02/13 09:45:54 landry Exp $
d6 1
a6 1
DISTNAME=		openldap-2.3.39
d8 1
a8 1
PKGNAME-server=		${DISTNAME:S/-/-server-/}p0
@


1.82
log
@Install @@sample /var/openldap-* as owned by unpriviledged user _openldap, and
add a pkg/MESSAGE-server teaching the user how to launch slapd in rc.local as
_openldap user.

english 'looks fine' jmc@@, and ok ajacoutot@@ mbalmer@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2008/01/09 11:06:08 mbalmer Exp $
d80 1
@


1.81
log
@Maintenance update to OpenLDAP 2.3.39.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2007/10/25 21:05:33 steven Exp $
d8 1
a8 1
PKGNAME-server=		${DISTNAME:S/-/-server-/}
@


1.80
log
@db.=4 -> db.>=4  in preparation of db4 update

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2007/09/15 20:34:01 simon Exp $
d6 3
a8 3
DISTNAME=		openldap-2.3.33
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}p0
PKGNAME-server=		${DISTNAME:S/-/-server-/}p2
@


1.79
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2007/05/26 10:35:51 steven Exp $
d7 2
a8 2
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}
PKGNAME-server=		${DISTNAME:S/-/-server-/}p1
d81 1
a81 1
LIB_DEPENDS+=		lib/db4/db.=4:db-4.*:databases/db/v4
@


1.78
log
@remove unneeded BASE_PKGPATH definition
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2007/02/14 10:17:26 msf Exp $
d3 2
a4 2
COMMENT-main=	"Open source LDAP software (client)"
COMMENT-server=	"Open source LDAP software (server)"
@


1.77
log
@add a bit of perl magic to make slapd just work regardless of which flavor
you install and bump PKGNAME. Regen distinfo with SHA256 while we're at it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2007/01/23 12:57:32 mbalmer Exp $
a94 3

BASE_PKGPATH=	${PKGPATH}${FLAVOR_EXT:S/-/,/g}
SUBST_VARS=	BASE_PKGPATH
@


1.76
log
@Create required data directories when installing the -server subpackage and
install a sample configuration file in there.

discussed with bernd
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2007/01/23 11:04:09 mbalmer Exp $
d8 1
a8 1
PKGNAME-server=		${DISTNAME:S/-/-server-/}p0
d107 4
@


1.75
log
@Maintenance update to 2.3.33, mostly bugfixes in slapd, no API changes.
See http://www.openldap.org/software/release/changes.html for a complete
list of changes made.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2007/01/13 16:35:11 mbalmer Exp $
d8 1
a8 1
PKGNAME-server=		${DISTNAME:S/-/-server-/}
d115 2
d118 1
@


1.74
log
@Maintenance update to 2.3.32, no new APIs or API changes in the libraries.
See http://www.openldap.org/software/release/changes.html for details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2007/01/13 13:37:33 mbalmer Exp $
d6 1
a6 1
DISTNAME=		openldap-2.3.32
@


1.73
log
@slapacl and slapauth are symbolic links to slapd which is in -server, not
-client, so move them to the right PLIST.  clean up the Makefile while here.

from Mikolaj Kucharski <eth0@@o2.pl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2006/11/25 16:50:24 espie Exp $
d6 3
a8 3
DISTNAME=		openldap-2.3.27
FULLPKGNAME-main=	${DISTNAME:S/-/-client-/}p2
PKGNAME-server=		${DISTNAME:S/-/-server-/}p2
@


1.72
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2006/11/20 13:07:19 espie Exp $
d6 4
a9 4
V=		2.3.27
DISTNAME=	openldap-$V
FULLPKGNAME-main=openldap-client-$Vp1
PKGNAME-server=	openldap-server-$Vp1
@


1.71
log
@fix a few obviously wrong dependencies, and remove extra shells in ghc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2006/10/29 10:37:59 mbalmer Exp $
d3 1
a3 1
COMMENT=	"Open source LDAP software (client)"
d6 4
a9 3
DISTNAME=	openldap-2.3.27
FULLPKGNAME=	${DISTNAME:S/-/-client-/}p0
PKGNAME-server=	${DISTNAME:S/-/-server-/}p0
d74 1
a74 2
MULTI_PACKAGES=	-server
SUBPACKAGE?=
d93 5
a97 4
.if ${SUBPACKAGE} == "-server"
RUN_DEPENDS=	:${FULLPKGNAME}:databases/openldap
WANTLIB+=	perl util wrap m pthread
.endif
@


1.70
log
@Bring back support for KerberosV, from Bjoern Sandell <biorn@@chalmers.se>
Thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2006/10/28 11:19:20 espie Exp $
d94 1
a94 1
RUN_DEPENDS=	openldap:${FULLPKGNAME}:databases/openldap
@


1.69
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2006/10/15 20:26:33 mbalmer Exp $
d7 2
a8 2
FULLPKGNAME=	${DISTNAME:S/-/-client-/}
PKGNAME-server=	${DISTNAME:S/-/-server-/}
d25 1
a25 1
WANTLIB=		c crypto ssl
d104 2
a105 5
.if ${FLAVOR:L:Msasl}
	perl -pi -e 's,KRB5_LIBS=,KRB5_LIBS="-lgssapi -lkrb5 -lasn1
	    -lcom_err",g' \
		${WRKSRC}/configure
.endif
@


1.68
log
@Renove some stupid strays and fold a long line.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2006/10/04 19:13:16 mbalmer Exp $
d9 6
a14 6
SHARED_LIBS=	lber-2.3	9.1 \
		lber		9.1 \
		ldap-2.3	9.1 \
		ldap		9.1 \
		ldap_r-2.3	9.1 \
		ldap_r		9.1
@


1.67
log
@Update OpenLDAP to the current version.

That's one small committ for a developer, one giant leap for the community.
The giant leap, however, may come later.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2006/06/19 08:22:35 bernd Exp $
d39 1
a39 2
CONFIGURE_ARGS+=	\
			${CONFIGURE_SHARED} \
d44 1
a44 2
CONFIGURE_ARGS+=	\
			--enable-slapd \
d53 1
a53 2
CONFIGURE_ARGS+=	\
			--enable-dnssrv \
d64 1
a64 2
CONFIGURE_ARGS+=	\
			--enable-slurpd
d105 2
a106 1
	perl -pi -e 's,KRB5_LIBS=,KRB5_LIBS="-lgssapi -lkrb5 -lasn1 -lcom_err",g' \
@


1.66
log
@Security update to openldap-2.3.24. (CVE-2006-2754)

Fixes a status file handling buffer overflow in slurpd.

More information:
http://secunia.com/advisories/20126/

Remove obsolete MODGNU_SHARED_LIBS stuff.

ok mbalmer@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2006/04/08 20:28:36 sturm Exp $
d6 1
a6 1
DISTNAME=	openldap-2.3.24
d9 6
a14 6
SHARED_LIBS=	lber-2.3	9.0 \
		lber		9.0 \
		ldap-2.3	9.0 \
		ldap		9.0 \
		ldap_r-2.3	9.0 \
		ldap_r		9.0
d120 1
@


1.65
log
@remove references to shellhung.org in MASTER_SITES and assorted cleanup

from jim razmus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2006/02/28 16:27:52 bernd Exp $
d6 9
a14 15
DISTNAME=	openldap-2.3.11
FULLPKGNAME=	${DISTNAME:S/-/-client-/}p4
PKGNAME-server=	${DISTNAME:S/-/-server-/}p4
SHARED_LIBS=		lber-2.3	8.1 \
			lber		8.1 \
			ldap-2.3	8.1 \
			ldap		8.1 \
			ldap_r-2.3	8.1 \
			ldap_r		8.1
MODGNU_SHARED_LIBS=	lber-2.3	'' \
			lber		'' \
			ldap-2.3	'' \
			ldap		'' \
			ldap_r-2.3	'' \
			ldap_r		''
@


1.64
log
@Three manpages went to the wrong package during the 2.3.x update.
Move them back to the -server package.

This makes updates from 3.8 conflict-free.

found by steven@@, help from espie@@

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2006/02/08 04:54:48 david Exp $
a33 1
		ftp://ftp.net.lut.ac.uk/openldap/openldap-release/ \
d35 1
a35 1
		ftp://mirror.aarnet.edu.au/pub/OpenLDAP/openldap-release/ \
d38 1
a38 2
		ftp://ftp.ntua.gr/mirror/OpenLDAP/openldap-release/ \
		ftp://ftp.shellhung.org/pub/OpenLDAP/openldap-release/
@


1.64.2.1
log
@backport a diff that fixes a status file handling buffer overflow in slurpd.
(CVE-2006-2754)

More information:
http://secunia.com/advisories/20126/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2006/02/28 16:27:52 bernd Exp $
d7 2
a8 2
FULLPKGNAME=	${DISTNAME:S/-/-client-/}p5
PKGNAME-server=	${DISTNAME:S/-/-server-/}p5
@


1.63
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2006/01/14 20:03:36 espie Exp $
d7 2
a8 2
FULLPKGNAME=	${DISTNAME:S/-/-client-/}p3
PKGNAME-server=	${DISTNAME:S/-/-server-/}p3
@


1.62
log
@oops, sorry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2005/12/29 14:00:35 bernd Exp $
d115 1
a115 1
post-patch:
@


1.61
log
@zap MODGNU_SHARED_LIBS
@
text
@d15 6
@


1.60
log
@SHARED_LIBS. Teamwork by mbalmer and me.

ok mbalmer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2005/11/12 18:12:06 mbalmer Exp $
a14 6
MODGNU_SHARED_LIBS=	lber-2.3	'' \
			lber		'' \
			ldap-2.3	'' \
			ldap		'' \
			ldap_r-2.3	'' \
			ldap_r		''
@


1.59
log
@Move some files from the client to the server package and bump the
package name.

hint by wilfried@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2005/11/12 17:22:58 mbalmer Exp $
d7 14
a20 2
FULLPKGNAME=	${DISTNAME:S/-/-client-/}p2
PKGNAME-server=	${DISTNAME:S/-/-server-/}p2
@


1.58
log
@Set USE_LIBTOOL=Yes and bump package name.  Make sure libsasl2 is linked.

Caveat:  older versions of the port/package must be removed before building
the package.

thanks to espie@@ and bernd@@ for helping.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2005/11/09 15:42:49 mbalmer Exp $
d7 2
a8 2
FULLPKGNAME=	${DISTNAME:S/-/-client-/}p1
PKGNAME-server=	${DISTNAME:S/-/-server-/}p1
@


1.57
log
@Make sure libldap.so and libldap_r.so are linked against the newly built
liblber.so and not a liblber.so that might be installed in the system.

Bump package name.

problem reported by bernd@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2005/11/07 15:59:08 mbalmer Exp $
d7 2
a8 2
FULLPKGNAME=	${DISTNAME:S/-/-client-/}p0
PKGNAME-server=	${DISTNAME:S/-/-server-/}p0
d47 1
a47 1
			--enable-sasl \
d97 2
@


1.56
log
@Update to OpenLDAP 2.3.11 and take maintainership.

Support for sasl2 is now built by default.

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2005/10/08 09:12:38 jakob Exp $
d7 2
a8 2
FULLPKGNAME=	${DISTNAME:S/-/-client-/}
PKGNAME-server=	${DISTNAME:S/-/-server-/}
@


1.55
log
@OpenLDAP 2.2.29
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2005/09/26 05:55:03 jakob Exp $
d6 3
a8 4
VERSION=	2.2.29
DISTNAME=	openldap-${VERSION}
FULLPKGNAME=	openldap-client-${VERSION}
PKGNAME-server=	openldap-server-${VERSION}
d13 1
a13 1
MAINTAINER=     Jakob Schlyter <jakob@@openbsd.org>
d46 3
a48 1
			--enable-wrappers
d70 1
a70 1
FLAVORS=	sasl bdb
a75 3
.if ${FLAVOR:L:Msasl}
CONFIGURE_ARGS+=	--with-cyrus-sasl \
			--enable-spasswd
a77 4
.else
CONFIGURE_ARGS+=	--without-cyrus-sasl \
			--disable-spasswd
.endif
d80 1
a80 1
CONFIGURE_ARGS+=	--enable-bdb
d86 1
a86 1
CONFIGURE_ARGS+=	--disable-bdb
d90 1
a90 1
			LDFLAGS="${LDFLAGS} -L${LOCALBASE}/lib" \
d94 1
a94 1
RUN_DEPENDS=	openldap:openldap-client-${VERSION}:databases/openldap
d103 2
a104 1
	perl -pi -e 's,KRB5_LIBS=,KRB5_LIBS="-lgssapi -lkrb5 -lasn1 -lcom_err",g' ${WRKSRC}/configure
@


1.54
log
@fix Berkley DB dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2005/06/29 13:25:19 msf Exp $
d6 1
a6 1
VERSION=	2.2.27
d8 2
a9 2
FULLPKGNAME=	openldap-client-${VERSION}p1
PKGNAME-server=	openldap-server-${VERSION}p1
@


1.53
log
@- install the configuration files at install time with @@sample
- bump PKGNAME

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2005/06/15 20:23:10 jakob Exp $
d8 2
a9 2
FULLPKGNAME=	openldap-client-${VERSION}p0
PKGNAME-server=	openldap-server-${VERSION}p0
d87 1
a87 1
BUILD_DEPENDS+=   	:db-4.*:databases/db/v4
@


1.53.2.1
log
@backport a diff that fixes a status file handling buffer overflow in slurpd.
(CVE-2006-2754)

More information:
http://secunia.com/advisories/20126/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2005/06/29 13:25:19 msf Exp $
d8 2
a9 2
FULLPKGNAME=	openldap-client-${VERSION}p1
PKGNAME-server=	openldap-server-${VERSION}p1
@


1.52
log
@openldap release 2.2.27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2005/04/30 14:45:58 jakob Exp $
d8 2
a9 2
FULLPKGNAME=	openldap-client-${VERSION}
PKGNAME-server=	openldap-server-${VERSION}
@


1.51
log
@OpenLDAP v2.2.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/04/24 16:46:34 jakob Exp $
d6 1
a6 1
VERSION=	2.2.26
@


1.50
log
@OpenLDAP 2.2.25 release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/03/22 09:13:47 jakob Exp $
d6 1
a6 1
VERSION=	2.2.25
@


1.49
log
@OpenLDAP v2.2.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/01/27 23:43:02 alek Exp $
d6 1
a6 1
VERSION=	2.2.24
@


1.48
log
@Fix WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/01/26 08:27:47 jakob Exp $
d6 1
a6 1
VERSION=	2.2.23
@


1.47
log
@openldap v2.2.23
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/01/04 18:35:49 jakob Exp $
d20 1
a20 1
WANTLIB=		c crypto m perl pthread ssl util wrap
d101 1
@


1.46
log
@OpenLDAP release 2.2.20 (stable)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2004/11/22 16:59:29 espie Exp $
d6 1
a6 1
VERSION=	2.2.20
@


1.45
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2004/11/10 21:33:55 biorn Exp $
d6 1
a6 1
VERSION=	2.2.17
d8 2
a9 2
FULLPKGNAME=	openldap-client-${VERSION}p0
PKGNAME-server=	openldap-server-${VERSION}p0
@


1.44
log
@bump pkgname due to recent changes in PLIST/PLIST-server

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/10/18 06:44:18 jakob Exp $
d20 1
@


1.43
log
@upgrade to OpenLDAP 2.2.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/07/31 21:17:21 naddy Exp $
d8 2
a9 2
FULLPKGNAME=	openldap-client-${VERSION}
PKGNAME-server=	openldap-server-${VERSION}
@


1.42
log
@fix up MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2004/06/12 17:44:56 pedro Exp $
d6 1
a6 1
VERSION=	2.1.30
d38 4
a41 1
			--enable-ipv6 \
d45 2
a46 3
			--enable-phonetic \
			--enable-wrappers \
			--enable-slurpd
a53 1
			--enable-rewrite \
d60 5
a64 1
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/build
@


1.41
log
@update to version 2.1.30, maintainer (jakob@@) timeout, ok jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2004/04/04 21:53:37 jakob Exp $
d59 1
a59 1
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/build
@


1.40
log
@update to 2.1.29 stable release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2004/03/01 07:03:54 jakob Exp $
d6 1
a6 1
VERSION=	2.1.29
@


1.39
log
@update to v2.1.27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2004/02/24 00:06:43 naddy Exp $
d6 1
a6 1
VERSION=	2.1.27
@


1.38
log
@remove workarounds for gcc2.95/sparc64 optimizer bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/02/17 07:22:17 kevlo Exp $
d6 1
a6 1
VERSION=	2.1.25
@


1.37
log
@support multiple flavors(sasl + bdb)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/02/17 01:23:03 kevlo Exp $
a59 5

# XXX workaround sparc64 gcc optimization bug
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST=	gcc-* patch-*
.endif
@


1.36
log
@fix sasl flavor. ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2003/12/26 10:44:10 jakob Exp $
d74 1
a74 1
.if ${FLAVOR:L} == "sasl"
d84 1
a84 1
.if ${FLAVOR:L} == "bdb"
d89 1
@


1.35
log
@update to OpenLDAP v2.1.25; work by claudio@@ and myself

major port changes:

- enable IPv6
- disable kerberos
- enable meta, monitor, null and perl backends by default
- add berkley db flavour (bdb)
- remove SQL flavour (sql)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2003/11/23 02:55:20 pvalchev Exp $
a78 1
LIBS+=			-lkrb
d103 5
@


1.34
log
@build on static arches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2003/05/11 18:46:33 brad Exp $
d6 1
a6 1
VERSION=	2.0.27
d36 2
a38 1
			--with-kerberos \
d44 4
d50 5
a54 1
			--enable-shell \
d56 2
a57 5
			--enable-slurpd \
			${CONFIGURE_SHARED}

# disable IPv6 until implemented correctly
CONFIGURE_ARGS+=	--disable-ipv6
d66 3
a68 1
FLAVORS=	sasl pgsql
d77 1
a77 1
LIB_DEPENDS+=		sasl::security/cyrus-sasl
d85 7
a91 4
.if ${FLAVOR:L} == "pgsql"
CONFIGURE_ARGS+=	--enable-sql
BUILD_DEPENDS+=   	:postgresql-*-odbc:databases/postgresql,odbc
CPPFLAGS+=		-I${LOCALBASE}/include
d95 1
a95 1
			LDFLAGS="-L${LOCALBASE}/lib" \
a101 2
REGRESS_TARGET=		test

a113 1

@


1.33
log
@argh! use SYSCONFDIR instead of hardcoded /etc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2002/10/25 16:21:31 naddy Exp $
d47 2
a48 1
			--enable-slurpd
@


1.32
log
@Enable regression tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/09/23 13:12:28 jakob Exp $
d97 1
a97 1
	${INSTALL_DATA} ${DESTDIR}/etc/openldap/*.conf \
d100 1
a100 1
	${INSTALL_DATA} ${DESTDIR}/etc/openldap/schema/*.schema \
@


1.31
log
@update to OpenLDAP 2.0.27 (stable release), bugfixes only
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/09/13 23:06:06 jakob Exp $
d89 2
@


1.30
log
@add postgresql flavour; submitted by Maurice Nonnekes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/06/11 07:48:38 jakob Exp $
d6 1
a6 1
VERSION=	2.0.25
@


1.29
log
@update to 2.0.25, slapd crash bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/06/09 21:18:53 jakob Exp $
a10 1
NEED_VERSION=	1.500
d59 1
a59 1
FLAVORS=	sasl
a67 2
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include/sasl" \
			LDFLAGS="-L${LOCALBASE}/lib" LIBS="-lkrb"
d69 2
d75 10
@


1.28
log
@update to OpenLDAP-stable 2.0.24, bugfix release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/02/18 14:30:04 jakob Exp $
d6 1
a6 1
VERSION=	2.0.24
@


1.27
log
@update to v2.0.23, bug fix release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/02/04 07:57:59 jakob Exp $
d6 1
a6 1
VERSION=	2.0.23
d36 3
a38 1
CONFIGURE_ARGS+=	--without-kerberos \
d47 1
@


1.26
log
@update to OpenLDAP 2.0.22, bugfix release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/01/29 06:10:22 pvalchev Exp $
d6 1
a6 1
VERSION=	2.0.22
@


1.25
log
@workaround sparc64 gcc optimization bug; ok jakob
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/01/16 09:03:33 jakob Exp $
d6 1
a6 1
VERSION=	2.0.21
@


1.24
log
@disable IPv6 until implemented correctly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/01/16 07:17:38 jakob Exp $
d51 5
@


1.23
log
@update to v2.0.21, minor bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/01/15 08:35:52 jakob Exp $
d46 3
@


1.22
log
@update to OpenLDAP 2.0.20; recommended security update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/12/20 16:49:11 jakob Exp $
d6 1
a6 1
VERSION=	2.0.20
@


1.21
log
@update to OpenLDAP v2.0.19 (maintenance release)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/10/28 08:44:21 shell Exp $
d6 1
a6 1
VERSION=	2.0.19
@


1.20
log
@Add my HK mirror for OpenLDAP, ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/10/26 16:54:51 jakob Exp $
d6 1
a6 1
VERSION=	2.0.18
d11 1
a11 1
NEED_VERSION=	1.451
@


1.19
log
@OpenLDAP 2.0.18
- Fixed -llber ber_bvecadd bug
- Fixed slap tools replica config bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/10/24 15:08:11 jakob Exp $
d28 2
a29 1
		ftp://ftp.ntua.gr/mirror/OpenLDAP/openldap-release/
@


1.18
log
@update to v2.0.17. mostly bugfixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/09/28 17:56:09 jakob Exp $
d6 1
a6 1
VERSION=	2.0.17
@


1.17
log
@split into -client and -server packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/09/27 00:32:36 pvalchev Exp $
d6 1
a6 1
VERSION=	2.0.15
@


1.17.2.1
log
@update to v2.0.18 (OpenLDAP-stable)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/10/28 08:44:21 shell Exp $
d6 1
a6 1
VERSION=	2.0.18
d28 1
a28 2
		ftp://ftp.ntua.gr/mirror/OpenLDAP/openldap-release/ \
		ftp://ftp.shellhung.org/pub/OpenLDAP/openldap-release/
@


1.17.2.2
log
@update to 2.0.19 aka OpenLDAP-stable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17.2.1 2001/11/16 17:29:05 jakob Exp $
d6 1
a6 1
VERSION=	2.0.19
@


1.17.2.3
log
@update to OpenLDAP 2.0.20; recommended security update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17.2.2 2002/01/08 11:03:37 jakob Exp $
d6 1
a6 1
VERSION=	2.0.20
@


1.17.2.4
log
@update to v2.0.21, minor bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17.2.3 2002/01/15 08:35:54 jakob Exp $
d6 1
a6 1
VERSION=	2.0.21
@


1.17.2.5
log
@disable IPv6 until implemented correctly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17.2.4 2002/01/16 07:20:01 jakob Exp $
a45 3

# disable IPv6 until implemented correctly
CONFIGURE_ARGS+=	--disable-ipv6
@


1.17.2.6
log
@- update to v2.0.23 (OpenLDAP-stable)
- add sparc64 workaround
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2002/02/04 07:57:59 jakob Exp $
d6 1
a6 1
VERSION=	2.0.23
a50 5

# XXX workaround sparc64 gcc optimization bug
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST=	gcc-* patch-*
.endif
@


1.16
log
@fill in MODGNU_CONFIG_GUESS_DIRS accordingly, for powerpc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/09/21 07:29:35 jakob Exp $
d3 2
a4 5
MULTI_PACKAGES=	-client
PKGNAME-client=	openldap-client-${VERSION}

COMMENT= 	Open source LDAP client and server software
COMMENT-client=	Open source LDAP client software
d8 2
d51 3
d63 4
@


1.15
log
@update to v2.0.15

- Fixed -lldap TLS external handling
- Fixed -lldap ldaps:// no host bug
- Fixed slapd Statslog bug
- Fixed slapd oidm support (ITS#1258)
- Added -lldap oidm support (ITS#1213)
- Added slapd supportedFeatures support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/09/11 15:54:12 jakob Exp $
d46 2
@


1.14
log
@update to v2.0.14 (fixed slurpd millionth second bug)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/09/08 22:27:54 jakob Exp $
d9 1
a9 1
VERSION=	2.0.14
@


1.13
log
@update to v2.0.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/05/24 14:30:27 jakob Exp $
d9 1
a9 1
VERSION=	2.0.13
@


1.12
log
@update to v2.0.11. from CHANGES:

OpenLDAP 2.0.11 Release
Fix attribute parse bug (ITS#1159)

OpenLDAP 2.0.10 Release
Build Environment; Fix TLS-less build (ITS#1156)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/05/21 21:19:25 jakob Exp $
d9 1
a9 1
VERSION=	2.0.11
d12 1
a12 1
NEED_VERSION=	1.361
@


1.11
log
@update to OpenLDAP v2.0.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/04/20 23:10:43 jakob Exp $
d9 1
a9 1
VERSION=	2.0.9
@


1.10
log
@fix sasl flavour; <op21@@squish.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/03/16 15:36:13 espie Exp $
d9 1
a9 1
VERSION=	2.0.7
@


1.9
log
@Simpler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/03/12 15:13:14 brad Exp $
d53 2
a54 2
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include/sasl"
			LIBS="-L${LOCALBASE}/lib -lkrb"
@


1.8
log
@- Fix the -client subpackage package name.
- PREFIX -> LOCALBASE
- make -> ${MAKE_PROGRAM}
- move SUBPACKAGE variable check to after bsd.port.mk has been included.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/02/18 22:22:30 brad Exp $
d4 4
a7 1
SUBPACKAGE?=
d12 1
a12 1
NEED_VERSION=	1.336
a73 3
.if ${SUBPACKAGE} == "-client"
PKGNAME:=	openldap-client-${VERSION}
.endif
@


1.7
log
@remove USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/02/11 10:44:00 jakob Exp $
d9 1
a9 7
NEED_VERSION=	1.338

.if ${SUBPACKAGE} == "-client"
PKGNAME=	openldapclient-${VERSION}
.else
PKGNAME=	openldap-${VERSION}
.endif
d50 2
a51 2
CONFIGURE_ENV+=		CPPFLAGS="-I${PREFIX}/include/sasl" \
			LIBS="-L${PREFIX}/lib -lkrb"
d59 1
a59 1
	cd ${WRKBUILD} ; make depend
d70 4
@


1.6
log
@fix SASL flavour; <jladwig@@aravox.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/11/18 10:29:49 jakob Exp $
d36 1
a37 2
SEPARATE_BUILD=		concurrent
USE_LIBTOOL=		Yes
@


1.5
log
@update to v2.0.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/10/22 18:43:58 espie Exp $
d58 1
a58 1
			LIBS="-L${PREFIX}/lib"
@


1.4
log
@One of the ickiest points of multi packages is the correct handling of
package conflicts.

openldap-client -> openldapclient. This will have to do, until we have
much better package tools.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/10/22 14:03:04 espie Exp $
d6 1
a6 1
VERSION=	2.0.6
@


1.4.2.1
log
@MFC: fix SASL flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/10/22 18:43:58 espie Exp $
d12 1
a12 1
PKGNAME=	openldapclient-${VERSION}p1
d14 1
a14 1
PKGNAME=	openldap-${VERSION}p1
d58 1
a58 1
			LIBS="-L${PREFIX}/lib -lkrb"
@


1.3
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/10/05 15:54:37 jakob Exp $
d12 1
a12 1
PKGNAME=	openldap-client-${VERSION}
@


1.2
log
@update to v2.0.6

--
OpenLDAP 2.0.6 Release
    Build Environment
        Fixed schema install (ITS#802)
        Added libtool customizations
        Re-enabled module support
    Documentation
        Update ldapsearch(1)

OpenLDAP 2.0.5 Release
    Fixed slapd/ldbm/search confusing log message (ITS#771)
    Fixed slapd/sasl no cred bug
    Fixed slapd idletimeout lock bug (ITS#767)
    Fixed slapd caseIgnoreIA5string indexing bug (ITS#786)
    Fixed slurpd TLS initialization bug (ITS#768)
    Fixed slurpd empty one shot hang (ITS#798)
    Fixed -lldap SASL ctx close bug (ITS#790)
    Fixed -lldap first/next attribute bug (ITS#778)
    Fixed -lldap (v2) rebind URL bug
    Fixed -lldap msgfree NULL bug (ITS#800)
    Fixed -lldif empty value bug
    Fixed -llber stringal len=0 bug
    Updated -llber bprint routine
    Build Environment
        Fixed LDFLAGS/-rpath usage
        Fixed IPv6 detection (ITS#669,ITS#770)
        Fixed VPATH schema install
        Updated libtool to 1.3.5
        Added Darwin support
        Disabled module support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/10/04 21:22:24 jakob Exp $
d19 1
a19 1
MAINTAINER=     jakob@@openbsd.org
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/03/28 13:56:58 jakob Exp $
d6 1
a6 1
VERSION=	2.0.4
@


1.1.1.1
log
@OpenLDAP - Lightweight Directory Access Protocol (LDAP) server suite
@
text
@@
