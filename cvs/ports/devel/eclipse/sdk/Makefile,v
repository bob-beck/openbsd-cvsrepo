head	1.80;
access;
symbols
	OPENBSD_6_0:1.80.0.2
	OPENBSD_6_0_BASE:1.80
	OPENBSD_5_9:1.79.0.2
	OPENBSD_5_9_BASE:1.79
	OPENBSD_5_8:1.79.0.4
	OPENBSD_5_8_BASE:1.79
	OPENBSD_5_7:1.77.0.4
	OPENBSD_5_7_BASE:1.77
	OPENBSD_5_6:1.77.0.2
	OPENBSD_5_6_BASE:1.77
	OPENBSD_5_5:1.75.0.2
	OPENBSD_5_5_BASE:1.75
	OPENBSD_5_4:1.71.0.2
	OPENBSD_5_4_BASE:1.71
	OPENBSD_5_3:1.68.0.4
	OPENBSD_5_3_BASE:1.68
	OPENBSD_5_2:1.68.0.2
	OPENBSD_5_2_BASE:1.68
	OPENBSD_5_1_BASE:1.67
	OPENBSD_5_1:1.67.0.2
	OPENBSD_5_0:1.63.0.2
	OPENBSD_5_0_BASE:1.63
	OPENBSD_4_9:1.62.0.2
	OPENBSD_4_9_BASE:1.62
	OPENBSD_4_8:1.53.0.4
	OPENBSD_4_8_BASE:1.53
	OPENBSD_4_7:1.53.0.2
	OPENBSD_4_7_BASE:1.53
	OPENBSD_4_6:1.48.0.2
	OPENBSD_4_6_BASE:1.48
	OPENBSD_4_5:1.44.0.2
	OPENBSD_4_5_BASE:1.44
	OPENBSD_4_4:1.43.0.2
	OPENBSD_4_4_BASE:1.43
	OPENBSD_4_3:1.38.0.2
	OPENBSD_4_3_BASE:1.38
	OPENBSD_4_2:1.34.0.2
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.30.0.2
	OPENBSD_4_1_BASE:1.30
	OPENBSD_4_0:1.20.0.2
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.15.0.2
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.7.0.2
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	kurt_20050204:1.1.1.1
	kurt:1.1.1;
locks; strict;
comment	@# @;


1.80
date	2016.03.18.23.12.16;	author naddy;	state Exp;
branches;
next	1.79;
commitid	KZAl4KEiw6a3Jixw;

1.79
date	2015.06.05.12.20.38;	author ajacoutot;	state Exp;
branches;
next	1.78;
commitid	EN63WAVsZfWHjAV3;

1.78
date	2015.05.07.19.19.23;	author kurt;	state Exp;
branches;
next	1.77;
commitid	dUiuKy4IhxPvbM0Z;

1.77
date	2014.05.09.21.33.44;	author kili;	state Exp;
branches;
next	1.76;

1.76
date	2014.05.07.15.42.15;	author kurt;	state Exp;
branches;
next	1.75;

1.75
date	2013.12.08.08.01.00;	author landry;	state Exp;
branches;
next	1.74;

1.74
date	2013.12.07.12.03.27;	author landry;	state Exp;
branches;
next	1.73;

1.73
date	2013.11.25.14.16.22;	author sthen;	state Exp;
branches;
next	1.72;

1.72
date	2013.10.21.09.34.42;	author landry;	state Exp;
branches;
next	1.71;

1.71
date	2013.05.17.09.40.35;	author sthen;	state Exp;
branches;
next	1.70;

1.70
date	2013.03.11.10.50.03;	author espie;	state Exp;
branches;
next	1.69;

1.69
date	2013.03.02.12.45.19;	author jasper;	state Exp;
branches;
next	1.68;

1.68
date	2012.04.07.13.11.27;	author landry;	state Exp;
branches;
next	1.67;

1.67
date	2011.10.07.13.54.30;	author kurt;	state Exp;
branches;
next	1.66;

1.66
date	2011.09.16.09.24.49;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2011.09.11.16.32.27;	author fgsch;	state Exp;
branches;
next	1.64;

1.64
date	2011.08.30.17.16.35;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2011.07.06.22.56.23;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2010.11.26.07.19.00;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.11.15.19.45.57;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2010.11.12.21.32.17;	author kurt;	state Exp;
branches;
next	1.59;

1.59
date	2010.11.08.18.18.11;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2010.11.08.09.57.39;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2010.10.24.21.10.56;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2010.10.24.13.12.16;	author landry;	state Exp;
branches;
next	1.55;

1.55
date	2010.10.11.08.12.30;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2010.09.30.07.21.18;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2009.12.22.15.31.26;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2009.11.24.09.01.47;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2009.08.10.06.31.07;	author kili;	state Exp;
branches;
next	1.50;

1.50
date	2009.07.27.21.44.14;	author martynas;	state Exp;
branches;
next	1.49;

1.49
date	2009.07.18.15.50.40;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2009.04.05.14.11.14;	author steven;	state Exp;
branches;
next	1.47;

1.47
date	2009.03.28.17.05.38;	author naddy;	state Exp;
branches;
next	1.46;

1.46
date	2009.03.16.18.40.40;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2009.03.11.23.22.00;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2008.10.28.13.39.12;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2008.06.15.00.06.25;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2008.04.14.13.26.06;	author bernd;	state Exp;
branches;
next	1.41;

1.41
date	2008.04.14.07.17.41;	author bernd;	state Exp;
branches;
next	1.40;

1.40
date	2008.04.06.10.08.17;	author bernd;	state Exp;
branches;
next	1.39;

1.39
date	2008.03.26.13.07.04;	author sturm;	state Exp;
branches;
next	1.38;

1.38
date	2008.02.28.22.11.28;	author kurt;	state Exp;
branches;
next	1.37;

1.37
date	2008.01.25.20.17.26;	author ian;	state Exp;
branches;
next	1.36;

1.36
date	2007.11.13.14.06.21;	author steven;	state Exp;
branches;
next	1.35;

1.35
date	2007.09.16.02.52.58;	author merdely;	state Exp;
branches;
next	1.34;

1.34
date	2007.08.02.16.15.07;	author kurt;	state Exp;
branches;
next	1.33;

1.33
date	2007.05.15.18.40.26;	author kurt;	state Exp;
branches;
next	1.32;

1.32
date	2007.04.13.14.30.43;	author kurt;	state Exp;
branches;
next	1.31;

1.31
date	2007.04.06.02.16.21;	author kurt;	state Exp;
branches;
next	1.30;

1.30
date	2007.01.26.14.15.37;	author kurt;	state Exp;
branches;
next	1.29;

1.29
date	2007.01.12.18.46.37;	author kurt;	state Exp;
branches;
next	1.28;

1.28
date	2007.01.04.20.19.53;	author steven;	state Exp;
branches;
next	1.27;

1.27
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2006.12.13.20.57.16;	author kurt;	state Exp;
branches;
next	1.25;

1.25
date	2006.11.28.21.20.16;	author kurt;	state Exp;
branches;
next	1.24;

1.24
date	2006.11.22.15.42.39;	author kurt;	state Exp;
branches;
next	1.23;

1.23
date	2006.11.17.19.44.11;	author kurt;	state Exp;
branches;
next	1.22;

1.22
date	2006.11.02.10.59.17;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2006.09.18.11.40.07;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2006.08.13.16.11.58;	author kurt;	state Exp;
branches;
next	1.19;

1.19
date	2006.08.01.20.07.30;	author kurt;	state Exp;
branches;
next	1.18;

1.18
date	2006.07.19.17.27.15;	author kurt;	state Exp;
branches;
next	1.17;

1.17
date	2006.07.07.01.48.54;	author kurt;	state Exp;
branches;
next	1.16;

1.16
date	2006.06.13.13.21.48;	author bernd;	state Exp;
branches;
next	1.15;

1.15
date	2006.02.06.16.57.26;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2006.01.23.17.22.32;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2006.01.10.13.29.57;	author bernd;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.02.03.49.58;	author kurt;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.30.18.34.25;	author kurt;	state Exp;
branches;
next	1.10;

1.10
date	2005.11.16.13.41.46;	author kurt;	state Exp;
branches;
next	1.9;

1.9
date	2005.09.22.17.07.20;	author kurt;	state Exp;
branches;
next	1.8;

1.8
date	2005.09.07.15.44.36;	author kurt;	state Exp;
branches;
next	1.7;

1.7
date	2005.08.26.21.39.14;	author kurt;	state Exp;
branches;
next	1.6;

1.6
date	2005.08.16.09.49.51;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2005.08.09.14.49.09;	author kurt;	state Exp;
branches;
next	1.4;

1.4
date	2005.06.17.19.15.29;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2005.05.12.15.09.15;	author kurt;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.19.13.56.47;	author kurt;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.04.17.18.10;	author kurt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.04.17.18.10;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.80
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@# $OpenBSD: Makefile,v 1.79 2015/06/05 12:20:38 ajacoutot Exp $

ONLY_FOR_ARCHS=		amd64 i386

COMMENT-main=		general-purpose, extensible IDE for Java & other langs
COMMENT-swt=		widget toolkit for Java
COMMENT-gnome=		GNOME integration library for swt/eclipse

ECLIPSE_VER=		3.2.2
DISTNAME=		eclipse-sourceBuild-srcIncluded-${ECLIPSE_VER}
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}
REVISION-main=		24
PKGNAME-swt=		swt-${ECLIPSE_VER}
REVISION-swt=		7
PKGNAME-gnome=		swt-gnome-${ECLIPSE_VER}
REVISION-gnome=		6
SHARED_LIBS=		swt-atk-gtk-3236	4.0 \
			swt-awt-gtk-3236	4.0 \
			swt-gtk-3236		4.0 \
			swt-pi-gtk-3236		4.0 \
			swt-cairo-gtk-3236	4.0 \
			swt-gnome-gtk-3236	4.0 \
			swt-glx-gtk-3236	4.0

CATEGORIES=		devel

HOMEPAGE=		http://www.eclipse.org/

# Eclipse Public License Version 1.0 (http://www.eclipse.org/legal/epl-v10.html)
# Apache Software License 2.0 (http://www.apache.org/licenses/LICENSE-2.0)
# IBM Public License 1.0 (http://oss.software.ibm.com/developerworks/opensource/license10.html)
# Metro Link Public License 1.00 (http://www.opengroup.org/openmotif/supporters/metrolink/license.html)
# Mozilla Public License Version 1.1 (http://www.mozilla.org/MPL/MPL-1.1.html)
# LGPL 2.1 
PERMIT_PACKAGE_CDROM=	commercial distribution defend and indemnify clauses
PERMIT_PACKAGE_FTP=	Yes

MASTER_SITE_ECLIPSE+=	\
	http://archive.eclipse.org/eclipse/downloads/drops/
 
MASTER_SITES=		${MASTER_SITE_ECLIPSE:=R-3.2.2-200702121330/}
EXTRACT_SUFX=		.zip

MODULES=		java devel/gettext
MODJAVA_VER=		1.6+

BUILD_DEPENDS=		devel/apache-ant>=1.6.1

USE_GMAKE=		Yes

MULTI_PACKAGES=		-main -swt -gnome

RUN_DEPENDS-main=	java/javaPathHelper \
			${MODJAVA_RUN_DEPENDS} \
			devel/desktop-file-utils \
			devel/eclipse/sdk,-swt
LIB_DEPENDS-main=	x11/gtk+2

WANTLIB-main=		X11 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama \
			Xcomposite Xdamage gdk_pixbuf-2.0 \
			Xrandr Xrender c expat m z fontconfig \
			freetype atk-1.0 glib-2.0 gmodule-2.0 \
			gobject-2.0 png \
			pango-1.0 pangoft2-1.0 pangocairo-1.0 cairo \
			pixman-1 gio-2.0 pthread-stubs xcb \
			gthread-2.0 pthread xcb-render GL Xxf86vm drm xcb-shm \
			gdk-x11-2.0 gtk-x11-2.0 ${MODGETTEXT_WANTLIB}

LIB_DEPENDS-swt=	x11/gtk+2
WANTLIB-swt=		GL GLU Xtst m atk-1.0 cairo gthread-2.0 gtk-x11-2.0

RUN_DEPENDS-gnome=	swt-${ECLIPSE_VER}:devel/eclipse/sdk,-swt
LIB_DEPENDS-gnome=	x11/gnome/libgnomeui
WANTLIB-gnome=		gnome-2 gnomevfs-2 gnomeui-2

ECLIPSE_WS=		gtk
ECLIPSE_BUILD=		3236
ECLIPSE_OS=		openbsd
.if ${MACHINE_ARCH} == "i386"
ECLIPSE_ARCH=		x86
.else
ECLIPSE_ARCH=		x86_64
.endif

MAKE_ENV=		ECLIPSE_BUILD=${ECLIPSE_BUILD} \
			ECLIPSE_ARCH=${ECLIPSE_ARCH} \
			ECLIPSE_OS=${ECLIPSE_OS} \
			ECLIPSE_WS=${ECLIPSE_WS} \
			JAVA_HOME=${JAVA_HOME} \
			CC="${CC}" CXX="${CXX}" \
			LIBswt_atk_gtk_VERSION=${LIBswt-atk-gtk-3236_VERSION} \
			LIBswt_awt_gtk_VERSION=${LIBswt-awt-gtk-3236_VERSION} \
			LIBswt_gtk_VERSION=${LIBswt-gtk-3236_VERSION} \
			LIBswt_pi_gtk_VERSION=${LIBswt-pi-gtk-3236_VERSION} \
			LIBswt_cairo_gtk_VERSION=${LIBswt-cairo-gtk-3236_VERSION} \
			LIBswt_gnome_gtk_VERSION=${LIBswt-gnome-gtk-3236_VERSION} \
			LIBswt_glx_gtk_VERSION=${LIBswt-glx-gtk-3236_VERSION}

FAKE_FLAGS=		${MAKE_ENV}

NO_TEST=		Yes

WRKDIST=		${WRKDIR}

SUBST_VARS=		ECLIPSE_ARCH

# Build out openbsd source from linux source
pre-patch:
	@@${SETENV} WRKSRC=${WRKSRC} ECLIPSE_WS=${ECLIPSE_WS} \
		sh ${FILESDIR}/prepatch.sh

do-build:
	@@cd ${WRKBUILD} && ${SETENV} ${MAKE_ENV} \
		./build -os ${ECLIPSE_OS} -ws ${ECLIPSE_WS} -arch ${ECLIPSE_ARCH} -java5home ${JAVA_HOME} -compilelibs

do-install:
	@@tar xzf ${WRKBUILD}/result/openbsd-gtk-${ECLIPSE_ARCH}-sdk.tar.gz \
		-C ${PREFIX}
	@@sed -e "s+%%ECLIPSE_HOME%%+${TRUEPREFIX}/eclipse+g" \
		${WRKBUILD}/eclipse.in > ${WRKBUILD}/eclipse.tmp
	${INSTALL_SCRIPT} ${WRKBUILD}/eclipse.tmp ${PREFIX}/bin/eclipse
	${INSTALL_PROGRAM} ${WRKBUILD}/launchertmp/eclipse ${PREFIX}/eclipse/eclipse
	${INSTALL_DATA} ${WRKBUILD}/plugins/org.eclipse.swt.gtk.openbsd.${ECLIPSE_ARCH}/libswt-*.so.* \
		${PREFIX}/lib/
	${INSTALL_DATA_DIR} ${PREFIX}/share/java/classes/
	${INSTALL_DATA} ${WRKBUILD}/eclipse/plugins/org.eclipse.swt.gtk.openbsd.${ECLIPSE_ARCH}_${ECLIPSE_VER}.v${ECLIPSE_BUILD}.jar \
		${PREFIX}/share/java/classes/swt.jar
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	@@sed -e 's+%%PREFIX%%+${TRUEPREFIX}+' ${FILESDIR}/eclipse.desktop > \
		${PREFIX}/share/applications/eclipse.desktop

.include <bsd.port.mk>
@


1.79
log
@Sync PLIST for share/applications/.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/05/07 19:19:23 kurt Exp $
a2 1
SHARED_ONLY=		Yes
@


1.78
log
@- fix run depend in sdk. it requires swt to run.
- remove myself as mantainer
- bump revisions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2014/05/09 21:33:44 kili Exp $
d14 1
a14 1
REVISION-main=		23
@


1.77
log
@-swt needs a bump, too

ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2014/05/07 15:42:15 kurt Exp $
d14 1
a14 1
REVISION-main=		22
d16 1
a16 1
REVISION-swt=		6
d18 1
a18 1
REVISION-gnome=		5
a30 2
MAINTAINER=		Kurt Miller <kurt@@openbsd.org>

d57 2
a58 1
			devel/desktop-file-utils
@


1.76
log
@- Unlink jdk/1.6 and make jdk/1.7 the default jdk for all java ports
- Adjust java.port.mk and cmake to use 1.7
- Adjust jdk/1.7 for pkg_add upgrades
okay sthen@@, jasper@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2013/12/08 08:01:00 landry Exp $
d16 1
a16 1
REVISION-swt=		5
@


1.75
log
@Remove leftover BDEP on the now-disappeared xul 1.9 (spotted by nigel@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2013/12/07 12:03:27 landry Exp $
d14 1
a14 1
REVISION-main=		21
@


1.74
log
@Remove the -browser subpackage.

It's broken at runtime anyway since the switch from xul 1.8 to 1.9 three
years ago, is now the last user of xul 1.9, and noone is probably using
an eclipse from 2007 to do "serious" java development. Lots of cursing
involved to find the correct magic to properly disable the building of
swt-mozilla-gtk.

Discussed with kurt@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/11/25 14:16:22 sthen Exp $
d51 1
a51 2
BUILD_DEPENDS=		devel/xulrunner/1.9,-devel \
			devel/apache-ant>=1.6.1
@


1.73
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/10/21 09:34:42 landry Exp $
a8 1
COMMENT-browser=	HTML Browser Widget library for swt/eclipse
d14 1
a14 1
REVISION-main=		20
a18 2
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}
REVISION-browser=	9
a24 1
			swt-mozilla-gtk-3236	4.0 \
d56 1
a56 1
MULTI_PACKAGES=		-main -swt -gnome -browser
a59 1
			swt-browser-${ECLIPSE_VER}:devel/eclipse/sdk,-browser \
a79 5
RUN_DEPENDS-browser=	swt-${ECLIPSE_VER}:devel/eclipse/sdk,-swt
LIB_DEPENDS-browser=	devel/xulrunner/1.9
WANTLIB-browser=	xulrunner1.9/xpcom xulrunner1.9/xul c nspr4 plc4 plds4 m stdc++

MOZILLA_HOME=		${LOCALBASE}/xulrunner1.9
a93 1
			MOZILLA_HOME=${MOZILLA_HOME} \
a100 1
			LIBswt_mozilla_gtk_VERSION=${LIBswt-mozilla-gtk-3236_VERSION} \
a123 1
		-e "s+%%MOZILLA_FIVE_HOME%%+${TRUEPREFIX}/xulrunner1.9+g" \
@


1.72
log
@Fix LDEP-browser to ensure it uses the old xulrunner 1.9 (for now..) and
doesnt pick up the newer one (and fail)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/05/17 09:40:35 sthen Exp $
a50 2

VMEM_WARNING=		Yes
@


1.71
log
@tweak CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/03/11 10:50:03 espie Exp $
d21 1
a21 1
REVISION-browser=	8
d57 1
a57 1
BUILD_DEPENDS=		devel/xulrunner/1.9,-devel>=1.9 \
d88 1
a88 1
LIB_DEPENDS-browser=	devel/xulrunner/1.9>=1.9
@


1.70
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/03/02 12:45:19 jasper Exp $
d31 1
a31 1
CATEGORIES=		devel/eclipse 
@


1.69
log
@for ports built from source, bump the MODJAVA_VER from 1.5 to 1.6.

as discussed with/ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2012/04/07 13:11:27 landry Exp $
a44 2
PERMIT_DISTFILES_CDROM=	commercial distribution defend and indemnify clauses
PERMIT_DISTFILES_FTP=	Yes
d119 1
a119 1
NO_REGRESS=		Yes
@


1.68
log
@Cope with libxul.pc -> libxul19.pc renaming.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2011/10/07 13:54:30 kurt Exp $
d15 1
a15 1
REVISION-main=		19
d17 1
a17 1
REVISION-swt=		4
d19 1
a19 1
REVISION-gnome=		4
d21 1
a21 1
REVISION-browser=	7
d57 1
a57 1
MODJAVA_VER=		1.5+
@


1.67
log
@- remove devel/jdk/1.5 and lang/kaffe
- adjust java.port.mk for their removal
- bump affected packages
okay jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/09/16 09:24:49 espie Exp $
d21 1
a21 1
REVISION-browser=	6
@


1.66
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/09/11 16:32:27 fgsch Exp $
d15 1
a15 1
REVISION-main=		18
@


1.65
log
@kill deprecated USE_ZIP.
kurt@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/08/30 17:16:35 jasper Exp $
d15 1
a15 1
REVISION-main=		17
d17 1
a17 1
REVISION-swt=		3
d21 1
a21 1
REVISION-browser=	5
@


1.64
log
@- bump REVISION after recent java.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/07/06 22:56:23 ajacoutot Exp $
a62 1
USE_ZIP=		Yes
@


1.63
log
@Use the gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/11/26 07:19:00 espie Exp $
d15 1
a15 1
REVISION-main=		16
d17 1
a17 1
REVISION-swt=		2
d19 1
a19 1
REVISION-gnome=		3
d21 1
a21 1
REVISION-browser=	4
d31 1
a31 1
CATEGORIES=		devel/eclipse java 
@


1.62
log
@newer depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/11/15 19:45:57 espie Exp $
d15 1
a15 1
REVISION-main=		15
d77 1
a77 1
			gobject-2.0 png iconv intl \
d81 1
a81 1
			gdk-x11-2.0 gtk-x11-2.0
@


1.61
log
@move depends to new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/11/12 21:32:17 kurt Exp $
d59 2
a60 2
BUILD_DEPENDS=		xulrunner-devel->=1.9:devel/xulrunner/1.9,-devel \
			apache-ant->=1.6.1:devel/apache-ant
d91 1
a91 1
LIB_DEPENDS-browser=	xulrunner->=1.9:devel/xulrunner/1.9
@


1.60
log
@Fix MASTER_SITE_ECLIPSE. Prodded by Diana Eichert, Thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/11/08 18:18:11 espie Exp $
d59 2
a60 2
BUILD_DEPENDS=		:xulrunner-devel->=1.9:devel/xulrunner/1.9,-devel \
			:apache-ant->=1.6.1:devel/apache-ant
d67 1
a67 1
RUN_DEPENDS-main=	::java/javaPathHelper \
d69 3
a71 3
			:swt-browser-${ECLIPSE_VER}:devel/eclipse/sdk,-browser \
			::devel/desktop-file-utils
LIB_DEPENDS-main=	::x11/gtk+2
d83 1
a83 1
LIB_DEPENDS-swt=	::x11/gtk+2
d86 2
a87 2
RUN_DEPENDS-gnome=	:swt-${ECLIPSE_VER}:devel/eclipse/sdk,-swt
LIB_DEPENDS-gnome=	::x11/gnome/libgnomeui
d90 2
a91 2
RUN_DEPENDS-browser=	:swt-${ECLIPSE_VER}:devel/eclipse/sdk,-swt
LIB_DEPENDS-browser=	:xulrunner->=1.9:devel/xulrunner/1.9
@


1.59
log
@oops
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/11/08 09:57:39 espie Exp $
d49 1
a49 6
	http://ftp.osuosl.org/pub/eclipse/eclipse/downloads/drops/ \
	http://ftp-stud.fht-esslingen.de/pub/Mirrors/eclipse/ \
	ftp://eclipse.mirrors.tds.net/pub/eclipse.org/eclipse/downloads/drops/ \
	http://eclipse.objectweb.org/downloads/drops/ \
	http://mirror.pacific.net.au/eclipse/eclipse/downloads/drops/ \
	http://download2.eclipse.org/eclipse/downloads/drops/
@


1.58
log
@kill a few libspecs in LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/10/24 21:10:56 ajacoutot Exp $
d85 1
a85 1
			gthread-2.0 pthread xcb-render GL Xxf86vm drm xcb-shm
@


1.57
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/10/24 13:12:16 landry Exp $
d76 1
a76 1
LIB_DEPENDS-main=	gdk-x11-2.0,gtk-x11-2.0::x11/gtk+2
d86 1
d88 2
a89 2
LIB_DEPENDS-swt=	gtk-x11-2.0::x11/gtk+2
WANTLIB-swt=		GL GLU Xtst m atk-1.0 cairo gthread-2.0
d92 2
a93 2
LIB_DEPENDS-gnome=	gnomeui-2::x11/gnome/libgnomeui
WANTLIB-gnome=		gnome-2 gnomevfs-2
@


1.56
log
@Eclipse is now the only user of xulrunner 1.8, so in order to kill the latter
make eclipse-browser build against xulrunner 1.9. This breaks the swt html browser
widget, and according to http://www.eclipse.org/swt/faq.php#browserlinux
only newer eclipse versions work fine with recent xulrunners.

Eclipse itself definitely needs an update, any takers ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/10/11 08:12:30 jasper Exp $
a67 1
USE_X11=		Yes
@


1.55
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/09/30 07:21:18 ajacoutot Exp $
d14 8
a21 4
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p14
PKGNAME-swt=		swt-${ECLIPSE_VER}p2
PKGNAME-gnome=		swt-gnome-${ECLIPSE_VER}p3
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}p3
d64 1
a64 1
BUILD_DEPENDS=		:xulrunner-devel->=1.8,<1.9:devel/xulrunner/1.8,-devel \
d85 2
a86 1
			pixman-1 gio-2.0 pthread-stubs xcb
d96 2
a97 2
LIB_DEPENDS-browser=	xulrunner/gtkembedmoz,xulrunner/xpcom:xulrunner->=1.8,<1.9:devel/xulrunner/1.8
WANTLIB-browser=	c nspr4 plc4 plds4
d99 1
a99 1
MOZILLA_HOME=		${LOCALBASE}/xulrunner
d146 1
a146 1
		-e "s+%%MOZILLA_FIVE_HOME%%+${TRUEPREFIX}/xulrunner+g" \
@


1.54
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/12/22 15:31:26 ajacoutot Exp $
d14 3
a16 3
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p13
PKGNAME-swt=		swt-${ECLIPSE_VER}p1
PKGNAME-gnome=		swt-gnome-${ECLIPSE_VER}p2
d79 1
a79 1
			gobject-2.0 glitz png iconv intl \
@


1.53
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/11/24 09:01:47 ajacoutot Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p12
d73 1
a73 1
LIB_DEPENDS-main=	gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2
d76 1
a76 1
			Xcomposite Xdamage \
@


1.52
log
@Fix xulrunner package spec.

from an original diff for yelp by Mikolaj Kucharski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/08/10 06:31:07 kili Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p11
@


1.51
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/07/27 21:44:14 martynas Exp $
d17 1
a17 1
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}p2
d60 1
a60 1
BUILD_DEPENDS=		::devel/xulrunner/1.8,-devel \
d91 1
a91 1
LIB_DEPENDS-browser=	xulrunner/gtkembedmoz,xulrunner/xpcom::devel/xulrunner/1.8
@


1.50
log
@adapt for the new xulrunner infrastructure.
no breakage in bulk build & bumps done by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/07/18 15:50:40 naddy Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p10
d81 1
a81 1
			pixman-1 gio-2.0
@


1.49
log
@fix package specs in depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/04/05 14:11:14 steven Exp $
d17 1
a17 1
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}p1
d60 1
a60 1
BUILD_DEPENDS=		::devel/xulrunner,-devel \
d91 1
a91 1
LIB_DEPENDS-browser=	xulrunner/gtkembedmoz,xulrunner/xpcom::devel/xulrunner
@


1.48
log
@remove unneeded exec

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/03/16 18:40:40 ajacoutot Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p9
d16 2
a17 2
PKGNAME-gnome=		swt-gnome-${ECLIPSE_VER}p1
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}p0
d71 1
a71 1
			:swt-browser-${ECLIPSE_VER}*:devel/eclipse/sdk,-browser \
d86 1
a86 1
RUN_DEPENDS-gnome=	:swt-${ECLIPSE_VER}*:devel/eclipse/sdk,-swt
d90 1
a90 1
RUN_DEPENDS-browser=	:swt-${ECLIPSE_VER}*:devel/eclipse/sdk,-swt
@


1.47
log
@missing bump after java dependency change
@
text
@d130 2
a131 2
	@@exec ${SETENV} WRKSRC=${WRKSRC} ECLIPSE_WS=${ECLIPSE_WS} \
		${FILESDIR}/prepatch.sh
d134 1
a134 1
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} \
@


1.46
log
@- fix wantlib & bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/03/11 23:22:00 sthen Exp $
d15 1
a15 1
PKGNAME-swt=		swt-${ECLIPSE_VER}p0
@


1.45
log
@bump pkgname following java dep change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2008/10/28 13:39:12 jasper Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p8
d81 1
a81 1
			pixman-1
@


1.44
log
@- it's GNOME, not Gnome2 or gnome or any other variation

discussed with and agreed by ajacoutot@@ some time ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2008/06/15 00:06:25 sthen Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p7
@


1.43
log
@sync wantlib and bump packages. ok ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/04/14 13:26:06 bernd Exp $
d8 1
a8 1
COMMENT-gnome=		gnome integration library for swt/eclipse
d16 1
a16 1
PKGNAME-gnome=		swt-gnome-${ECLIPSE_VER}p0
@


1.42
log
@Bump -main PKGNAME and loose depends too.

ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2008/04/14 07:17:41 bernd Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p6
d80 2
a81 1
			pango-1.0 pangoft2-1.0 pangocairo-1.0 cairo
@


1.41
log
@I missed to bump swt-gnome and swt-browser after the swt bump.
Loose the swt-gnome and swt-browser RUN_DEPENDS a bit.

ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/04/06 10:08:17 bernd Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p5
d71 1
a71 1
			:${PKGNAME-browser}:devel/eclipse/sdk,-browser \
@


1.40
log
@The swt package needs a bump as well. (java.port.mk changes)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/03/26 13:07:04 sturm Exp $
d16 2
a17 2
PKGNAME-gnome=		swt-gnome-${ECLIPSE_VER}
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}
d85 1
a85 1
RUN_DEPENDS-gnome=	:${PKGNAME-swt}:devel/eclipse/sdk,-swt
d89 1
a89 1
RUN_DEPENDS-browser=	:${PKGNAME-swt}:devel/eclipse/sdk,-swt
@


1.39
log
@missing PKGNAME bumps after java.port.mk changes

noticed by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/02/28 22:11:28 kurt Exp $
d15 1
a15 1
PKGNAME-swt=		swt-${ECLIPSE_VER}
@


1.38
log
@- fix eclipse.desktop Exec line. from Stefan Sperling
- clean up / add other eclipse.desktop lines
okay naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/01/25 20:17:26 ian Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p4
@


1.37
log
@Desktop goo. Pkg bump. ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/11/13 14:06:21 steven Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p3
@


1.36
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/09/16 02:52:58 merdely Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p2
d71 2
a72 1
			:${PKGNAME-browser}:devel/eclipse/sdk,-browser
d149 3
@


1.35
log
@Remove quotes surrounding COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/08/02 16:15:07 kurt Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p1
d75 1
@


1.34
log
@- add a profile for 1.7 jdk. from fedora eclipse port:
http://www.redhat.com/archives/fedora-cvs-commits/2007-June/msg00097.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/05/15 18:40:26 kurt Exp $
d6 4
a9 4
COMMENT-main=		"general-purpose, extensible IDE for Java & other langs"
COMMENT-swt=		"widget toolkit for Java"
COMMENT-gnome=		"gnome integration library for swt/eclipse"
COMMENT-browser=	"HTML Browser Widget library for swt/eclipse"
d39 1
a39 1
PERMIT_PACKAGE_CDROM=	"commercial distribution defend and indemnify clauses"
d41 1
a41 1
PERMIT_DISTFILES_CDROM=	"commercial distribution defend and indemnify clauses"
@


1.33
log
@- fix main package's RUN_DEPENDS to properly depend on swt-browser so that
the internal browser always works.
- chase WANTLIB changes from depends.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/04/13 14:30:43 kurt Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p0
@


1.32
log
@- update to 3.2.2
- SHARED_ONLY=Yes
- sprinkle some -nowarn to reduce verbosity caused by building with
  1.5 only (reqested by espie@@)
- increase memory use during build to reduce jvm thrashing and cut 1/3 off
  the build time
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/04/06 02:16:21 kurt Exp $
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}
d71 1
a71 1
			:${PKGNAME-swt}:devel/eclipse/sdk,-browser
d73 3
a75 1
WANTLIB-main=		X11 Xau Xdmcp Xrender c expat m z fontconfig \
@


1.31
log
@Fix build on amd64 by adding missing -fPIC to swt-browser link. also
regen patches while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/01/26 14:15:37 kurt Exp $
d3 1
d11 1
a11 1
ECLIPSE_VER=		3.2.1
d14 1
a14 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p1
d17 9
a25 9
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}p1
SHARED_LIBS=		swt-atk-gtk-3235	4.0 \
			swt-awt-gtk-3235	4.0 \
			swt-gtk-3235		4.0 \
			swt-pi-gtk-3235		4.0 \
			swt-cairo-gtk-3235	4.0 \
			swt-gnome-gtk-3235	4.0 \
			swt-mozilla-gtk-3235	4.0 \
			swt-glx-gtk-3235	4.0
d52 1
a52 1
MASTER_SITES=		${MASTER_SITE_ECLIPSE:=R-3.2.1-200609210945/}
d73 1
a73 1
WANTLIB-main=		X11 Xext Xrender c m z fontconfig \
d91 1
a91 1
ECLIPSE_BUILD=		3235
d106 8
a113 8
			LIBswt_atk_gtk_VERSION=${LIBswt-atk-gtk-3235_VERSION} \
			LIBswt_awt_gtk_VERSION=${LIBswt-awt-gtk-3235_VERSION} \
			LIBswt_gtk_VERSION=${LIBswt-gtk-3235_VERSION} \
			LIBswt_pi_gtk_VERSION=${LIBswt-pi-gtk-3235_VERSION} \
			LIBswt_cairo_gtk_VERSION=${LIBswt-cairo-gtk-3235_VERSION} \
			LIBswt_gnome_gtk_VERSION=${LIBswt-gnome-gtk-3235_VERSION} \
			LIBswt_mozilla_gtk_VERSION=${LIBswt-mozilla-gtk-3235_VERSION} \
			LIBswt_glx_gtk_VERSION=${LIBswt-glx-gtk-3235_VERSION}
@


1.30
log
@+USE_ZIP=yes - no pkg bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/01/12 18:46:37 kurt Exp $
d16 1
a16 1
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}p0
@


1.29
log
@- use xulrunner for gecko libs now
- make swt-browser a run depend of eclipse-sdk so the internal browser
always works
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/01/04 20:19:53 steven Exp $
d64 1
@


1.28
log
@fix WANTLIB of ports using gtk, needed after switch to our own pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/12/16 12:22:33 espie Exp $
d13 1
a13 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p0
d16 1
a16 1
PKGNAME-browser=	swt-browser-${ECLIPSE_VER}
d59 1
a59 1
BUILD_DEPENDS=		:mozilla-devel->=1.7.13p2:www/mozilla,-devel \
d69 1
a69 1
			:${PKGNAME-swt}:devel/eclipse/sdk,-swt
d84 1
a84 1
LIB_DEPENDS-browser=	mozilla/gtkembedmoz,mozilla/xpcom:mozilla->=1.7.13p2:www/mozilla
d87 1
a87 1
MOZILLA_HOME=		${LOCALBASE}/mozilla
d134 1
a134 1
		-e "s+%%MOZILLA_FIVE_HOME%%+${TRUEPREFIX}/mozilla+g" \
@


1.27
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/12/13 20:57:16 kurt Exp $
d13 1
a13 1
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}
d71 1
a71 1
WANTLIB-main=		X11 m c fontconfig \
d73 1
a73 1
			gobject-2.0 iconv intl \
@


1.26
log
@- update to 3.2.1
- incorporate patches to allow building with newer gecko from
http://overlays.gentoo.org/proj/java/browser/other/eclipse-patches/3.2.1/.
however still building/depending on www/mozilla since we don't have a
-devel firefox package yet. Also use NS_InitXPCOM2 instead of NS_InitXPCOM3
since exists in both the suite and firefox.
- restructure sub-packages for standalone swt installs. people using
eclipse-gnome and/or eclipse-mozilla will need to manually pkg_delete /
pkg_add due to the restructure.
tested by ian@@, jolan@@ and some input steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/11/28 21:20:16 kurt Exp $
d60 1
a60 2
			:apache-ant->=1.6.1:devel/apache-ant \
			:pkgconfig-*:devel/pkgconfig
@


1.25
log
@fix a typo that resulted in a missing RUN_DEPEND on the jdk.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/11/22 15:42:39 kurt Exp $
d6 3
a8 2
COMMENT-gnome=		"gnome integration library for eclipse"
COMMENT-mozilla=	"mozilla integration library for eclipse HTML Browser Widget"
d10 1
a10 1
ECLIPSE_VER=		3.2
d12 13
a24 12
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p5
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p5
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p5
SHARED_LIBS=		swt-atk-gtk-3232	3.0 \
			swt-cde-gtk-3232	3.0 \
			swt-awt-gtk-3232	3.0 \
			swt-gtk-3232		3.0 \
			swt-pi-gtk-3232		3.0 \
			swt-cairo-gtk-3232	3.0 \
			swt-gnome-gtk-3232	3.0 \
			swt-mozilla-gtk-3232	3.0 \
			swt-glx-gtk-3232	3.0
d51 1
a51 1
MASTER_SITES=		${MASTER_SITE_ECLIPSE:=R-3.2-200606291905/}
d66 1
a66 1
MULTI_PACKAGES=		-main -gnome -mozilla
d69 2
a70 1
			${MODJAVA_RUN_DEPENDS}
d72 1
a72 1
WANTLIB-main=		GL GLU X11 Xtst c m fontconfig \
d74 1
a74 1
			gobject-2.0 gthread-2.0 iconv intl \
d77 4
a80 1
RUN_DEPENDS-gnome=	:${PKGNAME-main}:devel/eclipse/sdk
d84 3
a86 3
RUN_DEPENDS-mozilla=	:${PKGNAME-main}:devel/eclipse/sdk
LIB_DEPENDS-mozilla=	mozilla/gtkembedmoz,mozilla/xpcom:mozilla->=1.7.13p2:www/mozilla
WANTLIB-mozilla=	c nspr4 plc4 plds4
d90 1
a90 1
ECLIPSE_BUILD=		3232
d105 8
a112 9
			LIBswt_atk_gtk_VERSION=${LIBswt-atk-gtk-3232_VERSION} \
			LIBswt_cdt_gtk_VERSION=${LIBswt-cdt-gtk-3232_VERSION} \
			LIBswt_awt_gtk_VERSION=${LIBswt-awt-gtk-3232_VERSION} \
			LIBswt_gtk_VERSION=${LIBswt-gtk-3232_VERSION} \
			LIBswt_pi_gtk_VERSION=${LIBswt-pi-gtk-3232_VERSION} \
			LIBswt_cairo_gtk_VERSION=${LIBswt-cairo-gtk-3232_VERSION} \
			LIBswt_gnome_gtk_VERSION=${LIBswt-gnome-gtk-3232_VERSION} \
			LIBswt_mozilla_gtk_VERSION=${LIBswt-mozilla-gtk-3232_VERSION} \
			LIBswt_glx_gtk_VERSION=${LIBswt-glx-gtk-3232_VERSION}
d132 1
a132 1
	@@tar xzf ${WRKBUILD}/result/${ECLIPSE_OS}-${ECLIPSE_WS}-${ECLIPSE_ARCH}-sdk.tar.gz \
d137 1
a137 1
	${INSTALL_SCRIPT} ${WRKBUILD}/eclipse.tmp $(PREFIX)/bin/eclipse
d139 5
a143 1
	${INSTALL_DATA} ${WRKBUILD}/plugins/org.eclipse.swt.gtk.openbsd.${ECLIPSE_ARCH}/libswt-*.so.* ${PREFIX}/lib
@


1.24
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2006/11/17 19:44:11 kurt Exp $
d11 3
a13 3
PKGNAME-main=		eclipse-sdk-${ECLIPSE_VER}p4
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p4
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p4
d67 1
a67 1
			${MODJAVA_RUNDEPENDS}
@


1.23
log
@adjust depends due to www/mozilla conversion to devel/nspr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2006/11/02 10:59:17 espie Exp $
d5 1
a5 1
COMMENT=		"general-purpose, extensible IDE for Java & other langs"
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p3
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p3
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p3
d54 1
a54 1
MODULES=		java
d57 1
a57 1
BUILD_DEPENDS=		:mozilla-devel->=1.7.11:www/mozilla,-devel \
a60 2
LIB_DEPENDS=		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2

d64 1
a64 6
MULTI_PACKAGES=		-gnome -mozilla
SUBPACKAGE?=

GNOME_LIB_DEPENDS=	gnomeui-2::x11/gnome/libgnomeui

MOZILLA_LIB_DEPENDS=	mozilla/gtkembedmoz,mozilla/xpcom:mozilla->=1.7.13p2:www/mozilla
d66 4
a69 1
WANTLIB=		GL GLU X11 Xtst c m fontconfig \
d71 1
a71 1
			gobject-2.0 gthread-2.0 \
d74 7
a80 17
.if defined(PACKAGING)
. if ${SUBPACKAGE} == "-gnome"
RUN_DEPENDS=		:${PKGNAME}:devel/eclipse/sdk
LIB_DEPENDS=		${GNOME_LIB_DEPENDS}
WANTLIB=		gnome-2 gnomevfs-2
. elif ${SUBPACKAGE} == "-mozilla"
RUN_DEPENDS=		:${PKGNAME}:devel/eclipse/sdk
LIB_DEPENDS=		${MOZILLA_LIB_DEPENDS}
WANTLIB=		c nspr4 plc4 plds4
. else
RUN_DEPENDS=		::java/javaPathHelper
MODULES+=		devel/gettext
. endif
.else
MODULES+=		devel/gettext
LIB_DEPENDS+=		${GNOME_LIB_DEPENDS} ${MOZILLA_LIB_DEPENDS}
.endif
@


1.22
log
@move script prior to zapping SCRIPTDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/09/18 11:40:07 espie Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p2
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p2
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p2
d71 6
a76 1
MOZILLA_LIB_DEPENDS=	mozilla/xpcom,mozilla/gtkembedmoz,mozilla/nspr4,mozilla/plc4,mozilla/plds4:mozilla->=1.7.11:www/mozilla
d86 1
a89 4
WANTLIB=		GL GLU X11 Xtst c m fontconfig \
			freetype atk-1.0 glib-2.0 gmodule-2.0 \
			gobject-2.0 gthread-2.0 pango-1.0 \
			pangoft2-1.0 pangocairo-1.0 cairo
d93 1
a93 6
. if ${MULTI_PACKAGES:M-gnome}
LIB_DEPENDS+=		${GNOME_LIB_DEPENDS}
. endif
. if ${MULTI_PACKAGES:M-mozilla}
LIB_DEPENDS+=		${MOZILLA_LIB_DEPENDS}
. endif
@


1.21
log
@remove `empty' version spec (.0.0) which is no longer needed to desambiguate
library names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/08/13 16:11:58 kurt Exp $
d137 1
a137 1
		${SCRIPTDIR}/prepatch.sh
@


1.20
log
@Add missing RUN_DEPENDS on javaPathHelper. Noticed by Hans Zimmerman.
okay nikolay@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/08/01 20:07:30 kurt Exp $
d61 1
a61 1
LIB_DEPENDS=		gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2
d85 3
a87 3
			freetype atk-1.0.0.0 glib-2.0.0.0 gmodule-2.0.0.0 \
			gobject-2.0.0.0 gthread-2.0.0.0 pango-1.0.0.0 \
			pangoft2-1.0.0.0 pangocairo-1.0.0.0 cairo
@


1.19
log
@convert eclipse startup script to use javaPathHelper
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/07/19 17:27:15 kurt Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p1
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p1
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p1
d82 1
@


1.18
log
@Rewrite eclipse startup script to support the JAVACMD env var.
Now the startup script checks JAVACMD, JAVA_HOME, java found
in PATH then a default JAVACMD value. discussed with ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/07/07 01:48:54 kurt Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p0
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p0
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p0
a145 1
		-e "s+%%DEFAULT_JAVACMD%%+${JAVA_HOME}/bin/java+g" \
@


1.17
log
@- update eclipse to 3.2
- add amd64 support
Thanks to Henrik Kramshøj for providing access to amd64. Tested by ian@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/06/13 13:21:48 bernd Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}
d146 2
a147 2
		-e "s+%%JAVA_HOME%%+${JAVA_HOME}+g" \
		-e "s+%%LOCALBASE%%+${TRUEPREFIX}+g" \
@


1.16
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/02/06 16:57:26 naddy Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=		i386
d9 1
a9 1
ECLIPSE_VER=		3.1
d11 12
a22 10
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p6
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p6
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p6
SHARED_LIBS=		core_3_1_0		2.0 \
			swt-atk-gtk-3138	2.0 \
			swt-awt-gtk-3138	2.0 \
			swt-gtk-3138		2.0 \
			swt-pi-gtk-3138		2.0 \
			swt-gnome-gtk-3138	2.0 \
			swt-mozilla-gtk-3138	2.0
d42 1
a42 1
	ftp://ftp.cse.buffalo.edu/pub/Eclipse/eclipse/downloads/drops/ \
d47 3
a49 4
	ftp://download.eclipse.org/ \
	ftp://download2.eclipse.org/

MASTER_SITES=		${MASTER_SITE_ECLIPSE:=R-3.1-200506271435/}
d55 1
a55 1
MODJAVA_VER=		1.4+
d83 2
a84 2
WANTLIB=		X11 Xtst c m fontconfig freetype \
			atk-1.0.0.0 glib-2.0.0.0 gmodule-2.0.0.0 \
d100 1
a100 2
ECLIPSE_BUILD=		3138
ECLIPSE_COREVER=	3.1.0
d102 1
d104 3
d115 9
a123 6
			LIBswt_atk_gtk_VERSION=${LIBswt-atk-gtk-3138_VERSION} \
			LIBswt_awt_gtk_VERSION=${LIBswt-awt-gtk-3138_VERSION} \
			LIBswt_gtk_VERSION=${LIBswt-gtk-3138_VERSION} \
			LIBswt_pi_gtk_VERSION=${LIBswt-pi-gtk-3138_VERSION} \
			LIBswt_gnome_gtk_VERSION=${LIBswt-gnome-gtk-3138_VERSION} \
			LIBswt_mozilla_gtk_VERSION=${LIBswt-mozilla-gtk-3138_VERSION}
d131 1
a131 7
SUBST_VARS=		ECLIPSE_COREVER ECLIPSE_BUILD

FIXUP_FILES=		build \
			features/org.eclipse.platform.launchers/target.build.properties \
			plugins/org.eclipse.swt/Eclipse\ SWT\ PI/gtk/library/build.xml \
			plugins/org.eclipse.swt.gtk.openbsd.x86/build.xml \
			plugins/org.eclipse.update.core.openbsd/src/build.xml
a133 1
# Avoid patch problems by adding the missing last line feeds
a136 8
.for file in ${FIXUP_FILES}
	@@echo >> ${WRKSRC}/${file}
.endfor

# Needed for SHARED_LIBS support.
pre-build:
	@@perl -pi -e s,%%LIBcore_3_1_0_VERSION%%,${LIBcore_3_1_0_VERSION},g \
		${WRKSRC}/plugins/org.eclipse.core.resources.openbsd/build.xml
d140 1
a140 1
		./build -os ${ECLIPSE_OS} -ws ${ECLIPSE_WS} -arch ${ECLIPSE_ARCH} -compilelibs
d151 1
a151 2
	${INSTALL_DATA} ${WRKBUILD}/plugins/org.eclipse.core.resources.openbsd/os/openbsd/x86/libcore_*.so.* ${PREFIX}/lib
	${INSTALL_DATA} ${WRKBUILD}/plugins/org.eclipse.swt.gtk.openbsd.x86/libswt-*.so.* ${PREFIX}/lib
@


1.15
log
@bump subpackages too, because they have the main package version in their plists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/01/23 17:22:32 steven Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p5
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p5
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p5
d82 1
a82 1
WANTLIB=		X11 Xext Xft Xrender Xtst c m fontconfig freetype \
d85 1
a85 1
			pangoft2-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0
@


1.14
log
@fix WANTLIB after gtk+2 downgrade

tested by and ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/01/10 13:29:57 bernd Exp $
d12 2
a13 2
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p4
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p4
@


1.13
log
@SHARED_LIBS

okay kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/01/02 03:49:58 kurt Exp $
d11 1
a11 1
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p4
d82 4
a85 4
WANTLIB=		X11 Xtst atk-1.0.0.0 c cairo fontconfig \
			freetype glib-2.0.0.0 gmodule-2.0.0.0 \
			gobject-2.0.0.0 gthread-2.0.0.0 m pango-1.0.0.0 \
			pangocairo-1.0.0.0 pangoft2-1.0.0.0
@


1.12
log
@remove MALLOC_OPTIONS="j" now that java has it disabled. ok ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/11/30 18:34:25 kurt Exp $
d11 11
a21 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p3
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p3
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p3
d110 7
a116 1
			CC="${CC}" CXX="${CXX}"
d140 5
@


1.11
log
@Disable malloc option J because it causes a SEGV loop in java
after forking (child process frees inherited threads that have
portions mprotected by the jvm as stack guard pages. J option
tries to write to the protected pages). no pkg bump, since
no change in package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/11/16 13:41:46 kurt Exp $
d102 1
a102 2
			CC="${CC}" CXX="${CXX}" \
			MALLOC_OPTIONS="j"
@


1.10
log
@fix wantlib + bump. looks sane wilfried@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/09/22 17:07:20 kurt Exp $
d102 2
a103 1
			CC="${CC}" CXX="${CXX}"
@


1.9
log
@update depends now that mozilla is gtk2 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/09/07 15:44:36 kurt Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p2
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p2
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p2
d74 1
a74 1
WANTLIB=		X11 Xft Xrender Xtst atk-1.0.0.0 c fontconfig \
d77 1
a77 1
			pangox-1.0.0.0 pangoxft-1.0.0.0
@


1.8
log
@fix internal browser when -mozilla subpackage is installed. from FreeBSD

okay ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/08/26 21:39:14 kurt Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p1
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p1
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p1
d48 1
a48 1
BUILD_DEPENDS=		:mozilla-devel-*-gtk2:www/mozilla,-devel,gtk2 \
d62 1
a62 1
MOZILLA_LIB_DEPENDS=	mozilla/xpcom,mozilla/gtkembedmoz,mozilla/nspr4,mozilla/plc4,mozilla/plds4:mozilla-*-gtk2:www/mozilla,gtk2
@


1.7
log
@fix building with systrace. no pkg bump since package doesn't change.
noticed by Matthias Kilian <kili@@outback.escape.de>

okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/08/16 09:49:51 espie Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p0
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p0
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p0
@


1.6
log
@conflicts from the past: history since 3.7.

As noted on ports@@ recently, pkg_add -r relies on conflicts, and the
sheer existence of updates means we MUST take the past into account in
conflicts now.

Note the renaming of hugs98 to valid package names where versions are
concerned.

This commit shows clearly the renaming of the xfce4 plugin packages, the
ditching of eclipse flavors, the splitting of nessus into subpackages,
the splitting of various other software documentations, some packaging bugs
in kdeedu, and a lot of files moving around...

okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/08/09 14:49:09 kurt Exp $
d128 1
a128 1
	@@cd ${WRKBUILD} && exec ${_SYSTRACE_CMD} ${SETENV} ${MAKE_ENV} \
@


1.5
log
@update to 3.1
now needs 640M datasize to build

testing and okay ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/06/17 19:15:29 kurt Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}
@


1.4
log
@- begin using java MODULE
- keeping ONLY_FOR_ARCHS=i386 was intentional
- bump pkgname
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/05/12 15:09:15 kurt Exp $
d9 1
a9 1
ECLIPSE_VER=		3.0.2
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}p0
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}p0
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}p0
a19 1
# Common Public License Version 1.0 (http://www.eclipse.org/legal/cpl-v10.html)
d21 1
a21 1
# Apache Software License 1.1 (http://www.apache.org/licenses/LICENSE-1.1)
d25 1
d40 1
a40 1
MASTER_SITES=		${MASTER_SITE_ECLIPSE:=R-3.0.2-200503110845/}
a51 2
RUN_DEPENDS=		:apache-ant->=1.6.1:devel/apache-ant

a53 2
WANTLIB_COMMON=		atk-1.0.0.0 gobject-2.0.0.0 

d73 5
a77 1
WANTLIB=		Xtst atk-1.0.0.0 c gobject-2.0.0.0 gthread-2.0.0.0
d80 1
d91 2
a92 2
ECLIPSE_BUILD=		3064
ECLIPSE_COREVER=	3.0.0
d96 1
a96 1
MAKE_FLAGS=		ECLIPSE_BUILD=${ECLIPSE_BUILD} \
d101 2
a102 2
			MOZILLA_HOME=${MOZILLA_HOME}
MAKE_ENV=		CXX="${CXX}"
d104 1
a104 1
FAKE_FLAGS=		${MAKE_FLAGS}
d110 1
a110 1
SUBST_VARS=		ECLIPSE_VER ECLIPSE_COREVER ECLIPSE_BUILD
d112 5
a116 4
FIXUP_FILES=		plugins/org.eclipse.update.core.openbsd/src/build.xml \
			plugins/org.eclipse.swt/Eclipse\ SWT\ PI/gtk/library/make_gtk.xml \
			plugins/org.eclipse.swt.gtk/build.xml \
			plugins/org.eclipse.osgi/eclipseAdaptor/src/org/eclipse/core/runtime/adaptor/EclipseBundleData.java
d126 16
@


1.3
log
@Fix spelling errors in COMMENTs and replace COMMENT with better version.
From ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/04/19 13:56:47 kurt Exp $
d11 3
a13 3
PKGNAME=		eclipse-sdk-${ECLIPSE_VER}
PKGNAME-gnome=		eclipse-sdk-gnome-${ECLIPSE_VER}
PKGNAME-mozilla=	eclipse-sdk-mozilla-${ECLIPSE_VER}
d44 5
a48 2
BUILD_DEPENDS=		:jdk->=1.4.2p0,<1.5:devel/jdk/1.4 \
			:mozilla-devel-*-gtk2:www/mozilla,-devel,gtk2 \
d52 1
a52 2
RUN_DEPENDS=		:jdk->=1.4.2p0:devel/jdk/1.4 \
			:apache-ant->=1.6.1:devel/apache-ant
a87 1
JAVA_HOME=		${LOCALBASE}/jdk-1.4.2
@


1.2
log
@- update to 3.0.2. From David Leonard <d@@adaptive-enterprises.com.au>
- drop motif flavor
- respect CC, CXX, etc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/02/04 17:18:10 kurt Exp $
d5 3
a7 3
COMMENT=		"IDE for anything and nothing in particular"
COMMENT-gnome=		"gnome intergration library for eclipse"
COMMENT-mozilla=	"mozilla intergration library for eclipse HTML Browser Widget"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a6 1
COMMENT-kde=		"kde intergration library for eclipse"
d9 1
a9 1
ECLIPSE_VER=		3.0.1
d11 3
a13 4
FULLPKGNAME=		eclipse-sdk${FLAVOR_EXT}-${ECLIPSE_VER}
FULLPKGNAME-gnome=	eclipse-sdk${FLAVOR_EXT}-gnome-${ECLIPSE_VER}
FULLPKGNAME-kde=	eclipse-sdk${FLAVOR_EXT}-kde-${ECLIPSE_VER}
FULLPKGNAME-mozilla=	eclipse-sdk${FLAVOR_EXT}-mozilla-${ECLIPSE_VER}
d40 1
a40 1
MASTER_SITES=		${MASTER_SITE_ECLIPSE:=R-3.0.1-200409161125/}
d45 1
d54 1
a54 4
WANTLIB_COMMON=		X11 Xcursor Xext Xft Xinerama Xrender atk-1.0.0.0 \
			fontconfig freetype glib-2.0.0.0 gmodule-2.0.0.0 \
			gobject-2.0.0.0 iconv intl m pango-1.0.0.0 \
			pangox-1.0.0.0 pangoxft-1.0.0.0
d59 1
a59 4
FLAVORS=		gtk2 motif
FLAVOR?=		gtk2

MULTI_PACKAGES=		-gnome
a61 14
.if ${FLAVOR:L:Mgtk2} && ${FLAVOR:L:Mmotif}
ERRORS+= "Fatal: You must select only one of the following flavors: gtk2 motif"
.elif ${FLAVOR:L:Mgtk2}
MULTI_PACKAGES+=	-mozilla
ECLIPSE_WS=		gtk
BUILD_DEPENDS+=		:mozilla-devel-*-gtk2:www/mozilla,-devel,gtk2
.elif ${FLAVOR:L:Mmotif}
MULTI_PACKAGES+=	-kde
ECLIPSE_WS=		motif
USE_MOTIF=		openmotif
.else
ERRORS+= "Fatal: You must select one of the following flavors: ${FLAVORS}"
.endif

d64 1
a64 4
KDE_LIB_DEPENDS=	kdecore.6::x11/kde/libs3 \
			qt-mt.3::x11/qt3,mt

MOZILLA_LIB_DEPENDS=	mozilla/xpcom.1,mozilla/gtkembedmoz.1:mozilla-*-gtk2:www/mozilla,gtk2
d68 3
a70 9
RUN_DEPENDS=		::devel/eclipse/sdk,${FLAVOR}
LIB_DEPENDS+=		${GNOME_LIB_DEPENDS}
WANTLIB=		${WANTLIB_COMMON} \
			ICE ORBit-2 SM art_lgpl_2 bonobo-2 bonobo-activation \
			bonoboui-2 gconf-2 gnome-2 gnomecanvas-2 gnomevfs-2 \
			gthread-2.0.0.0 pangoft2-1.0.0.0 popt xml2 z
. elif ${SUBPACKAGE} == "-kde"
RUN_DEPENDS=		::devel/eclipse/sdk,${FLAVOR}
LIB_DEPENDS=		${KDE_LIB_DEPENDS}
d72 1
a72 1
RUN_DEPENDS=		::devel/eclipse/sdk,${FLAVOR}
d75 1
a75 6
WANTLIB=		${WANTLIB_COMMON} Xtst c
.  if ${FLAVOR:L:Mgtk2}
WANTLIB+=		gthread-2.0.0.0
.  elif ${FLAVOR:L:Mmotif}
WANTLIB+=		Xp Xt
.  endif
a80 3
. if ${MULTI_PACKAGES:M-kde}
LIB_DEPENDS+=		${KDE_LIB_DEPENDS}
. endif
d88 2
a89 1
ECLIPSE_BUILD=		3063
d100 1
d108 1
a108 1
SUBST_VARS=		ECLIPSE_WS ECLIPSE_VER ECLIPSE_COREVER ECLIPSE_BUILD
a111 2
			plugins/org.eclipse.swt/Eclipse\ SWT\ PI/motif/library/make_motif.xml \
			plugins/org.eclipse.swt.motif/build.xml \
@


1.1.1.1
log
@Eclipse sdk and three eclipse plugins

sdk:
   The Eclipse Platform is an IDE for anything, and for nothing in
   particular.

   flavors: gtk2, motif
   subpackages: -gnome, -mozilla (gtk2 only), -kde (motif only)

plugins/emf:
   Eclipse Modeling Framework (EMF)

plugins/gef:
   graphical editing environment for eclipse

plugins/uml2
   UML diagram framework for Eclipse

ok alek@@, todd@@
@
text
@@
