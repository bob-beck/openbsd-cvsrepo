head	1.48;
access;
symbols
	OPENBSD_6_1:1.45.0.6
	OPENBSD_6_1_BASE:1.45
	OPENBSD_6_0:1.45.0.4
	OPENBSD_6_0_BASE:1.45
	OPENBSD_5_9:1.45.0.2
	OPENBSD_5_9_BASE:1.45
	OPENBSD_5_8:1.43.0.12
	OPENBSD_5_8_BASE:1.43
	OPENBSD_5_7:1.43.0.8
	OPENBSD_5_7_BASE:1.43
	OPENBSD_5_6:1.43.0.6
	OPENBSD_5_6_BASE:1.43
	OPENBSD_5_5:1.43.0.4
	OPENBSD_5_5_BASE:1.43
	OPENBSD_5_4:1.43.0.2
	OPENBSD_5_4_BASE:1.43
	OPENBSD_5_3:1.41.0.2
	OPENBSD_5_3_BASE:1.41
	OPENBSD_5_2:1.38.0.2
	OPENBSD_5_2_BASE:1.38
	OPENBSD_5_1_BASE:1.37
	OPENBSD_5_1:1.37.0.6
	OPENBSD_5_0:1.37.0.4
	OPENBSD_5_0_BASE:1.37
	OPENBSD_4_9:1.37.0.2
	OPENBSD_4_9_BASE:1.37
	OPENBSD_4_8:1.32.0.4
	OPENBSD_4_8_BASE:1.32
	OPENBSD_4_7:1.32.0.2
	OPENBSD_4_7_BASE:1.32
	OPENBSD_4_6:1.31.0.2
	OPENBSD_4_6_BASE:1.31
	OPENBSD_4_5:1.30.0.4
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.30.0.2
	OPENBSD_4_4_BASE:1.30
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.26.0.8
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.26.0.6
	OPENBSD_4_1_BASE:1.26
	OPENBSD_4_0:1.26.0.4
	OPENBSD_4_0_BASE:1.26
	OPENBSD_3_9:1.26.0.2
	OPENBSD_3_9_BASE:1.26
	OPENBSD_3_8:1.24.0.4
	OPENBSD_3_8_BASE:1.24
	OPENBSD_3_7:1.24.0.2
	OPENBSD_3_7_BASE:1.24
	OPENBSD_3_6:1.21.0.2
	OPENBSD_3_6_BASE:1.21
	OPENBSD_3_5:1.17.0.2
	OPENBSD_3_5_BASE:1.17
	OPENBSD_3_4:1.16.0.2
	OPENBSD_3_4_BASE:1.16
	OPENBSD_3_3:1.14.0.4
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.14.0.2
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.11.0.4
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_TRACKING_SWITCH:1.10
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_9_BASE:1.6
	jsmith:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.48
date	2017.06.04.21.09.15;	author kili;	state Exp;
branches;
next	1.47;
commitid	growHFr1v3MoCXE5;

1.47
date	2017.06.02.23.43.00;	author kili;	state Exp;
branches;
next	1.46;
commitid	wCTomLrvo1GZoedJ;

1.46
date	2017.06.02.08.29.19;	author schwarze;	state Exp;
branches;
next	1.45;
commitid	mtCuDcWD6X88xXbH;

1.45
date	2015.12.20.15.40.17;	author naddy;	state Exp;
branches;
next	1.44;
commitid	13TCJohfGBDR6GJr;

1.44
date	2015.10.06.11.37.06;	author jca;	state Exp;
branches;
next	1.43;
commitid	RkQAfNZRWeUUsLyL;

1.43
date	2013.03.21.08.46.32;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2013.03.11.11.20.27;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2012.10.11.18.12.53;	author pascal;	state Exp;
branches;
next	1.40;

1.40
date	2012.08.30.20.54.59;	author pascal;	state Exp;
branches;
next	1.39;

1.39
date	2012.08.20.09.23.15;	author pascal;	state Exp;
branches;
next	1.38;

1.38
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2010.11.17.08.05.17;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.09.21.28.36;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.18.19.20.41;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.09.23.13.42.22;	author joshe;	state Exp;
branches;
next	1.33;

1.33
date	2010.08.23.16.31.33;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2010.01.07.10.55.28;	author edd;	state Exp;
branches;
next	1.31;

1.31
date	2009.03.05.23.44.38;	author martynas;	state Exp;
branches;
next	1.30;

1.30
date	2008.06.03.13.54.18;	author okan;	state Exp;
branches;
next	1.29;

1.29
date	2007.11.25.22.16.21;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2007.11.24.23.52.55;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2007.09.16.00.27.05;	author merdely;	state Exp;
branches;
next	1.26;

1.26
date	2006.02.27.17.22.09;	author pvalchev;	state Exp;
branches;
next	1.25;

1.25
date	2006.02.16.20.56.58;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2005.02.11.12.14.37;	author alek;	state Exp;
branches;
next	1.23;

1.23
date	2005.01.20.10.48.56;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2004.09.18.16.06.55;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2004.08.10.09.14.47;	author xsa;	state Exp;
branches;
next	1.20;

1.20
date	2004.08.01.21.19.17;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2004.05.10.18.32.41;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2004.04.06.05.28.01;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2004.01.20.23.15.19;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2003.06.26.21.51.22;	author pvalchev;	state Exp;
branches;
next	1.15;

1.15
date	2003.05.17.03.15.31;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2002.09.15.11.46.09;	author shell;	state Exp;
branches;
next	1.13;

1.13
date	2002.07.15.06.29.20;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2002.05.13.23.31.25;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2001.10.07.22.41.46;	author wilfried;	state Exp;
branches;
next	1.10;

1.10
date	2001.08.01.02.38.30;	author shell;	state Exp;
branches;
next	1.9;

1.9
date	2001.07.18.13.56.29;	author shell;	state Exp;
branches;
next	1.8;

1.8
date	2001.05.30.10.46.45;	author shell;	state Exp;
branches;
next	1.7;

1.7
date	2001.05.25.19.40.05;	author shell;	state Exp;
branches;
next	1.6;

1.6
date	2001.04.17.06.26.54;	author shell;	state Exp;
branches;
next	1.5;

1.5
date	2001.03.31.11.51.05;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2001.03.30.13.57.06;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.03.29.13.43.58;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.02.12.13.54.25;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.11.18.13.43.27;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.11.18.13.43.27;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.48
log
@Disable the use of groff.

Otherwise, the PostScript versions of the man pages may
be created or not during build, depending on wether groff
is installed or not, which may lead to consusion when
updating this port.

Suggested by Ingo a few days ago.
@
text
@# $OpenBSD: Makefile,v 1.47 2017/06/02 23:43:00 kili Exp $

ONLY_FOR_ARCHS =	amd64 i386 powerpc sparc64

COMMENT =		ANSI Common Lisp implementation

DISTNAME=		clisp-2.49
REVISION =		1
CATEGORIES=		lang
HOMEPAGE=		http://clisp.cons.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		devel/gettext

LIB_DEPENDS =		devel/libsigsegv \
			devel/ffcall>=1.10p1
WANTLIB =		avcall c callback m ncurses readline sigsegv

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=clisp/}
EXTRACT_SUFX=		.tar.bz2

USE_GMAKE=		Yes

SEPARATE_BUILD=		Yes

CONFIGURE_STYLE=	gnu old
CONFIGURE_ARGS=		--fsstnd=openbsd \
			--disable-mmap \
			--with-gettext \
			--mandir=${PREFIX}/man \
			--docdir=${PREFIX}/share/doc/clisp \
			--elispdir=${PREFIX}/share/emacs/site-lisp \
			--vimdir=${PREFIX}/share/doc/clisp \
			--srcdir=${WRKSRC} ${WRKBUILD} \
			--without-dynamic-modules

CONFIGURE_ENV =		ac_cv_prog_DVIPDF='' \
			ac_cv_prog_GROFF='' \
			ac_cv_prog_PS2PDF=''

.if ${MACHINE_ARCH} == "sparc64"
CFLAGS +=		-DSAFETY=2 -DNO_ASM -mcmodel=medany
.endif

.if ${MACHINE_ARCH} == "powerpc"
CONFIGURE_ARGS +=	--with-gmalloc
CFLAGS +=		-fno-pie -nopie
LDFLAGS +=		-nopie
.else
CONFIGURE_ARGS +=	--without-gmalloc
.endif

pre-build:
	ln -sf ${LOCALBASE}/bin/gmake ${WRKDIR}/bin/make

.include <bsd.port.mk>
@


1.47
log
@Quick fix: drop manpages rendered to PostScript from plist.

However, this is not enough, because if groff is installed,
the .ps files will be generated. I'll have a look on how to
completely disable the use of groff here, as suggested by
Ingo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2017/06/02 08:29:19 schwarze Exp $
d40 1
@


1.46
log
@Drop USE_GROFF and bump.
Mandoc now copes with DocBook lists implemented with \h.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/12/20 15:40:17 naddy Exp $
d8 1
a8 1
REVISION =		0
@


1.45
log
@don't try to use ps2pdf if it happens to be around during configure
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2015/10/06 11:37:06 jca Exp $
d8 1
a24 1
USE_GROFF =		Yes
@


1.44
log
@Update to clisp-2.49

Dynamic modules have been disabled so that the port looks like
clisp-2.48.  People willing to enable and test them are welcome.

Build can fail on i386 but clisp-2.48 has the same problem.  clisp
makes bad assumptions about adress space layout.

Tests by krw@@ joshe@@ and Markus Lude, ok krw@@ joshe@@ (ex. maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/03/21 08:46:32 ajacoutot Exp $
d39 2
a40 1
CONFIGURE_ENV =		ac_cv_prog_DVIPDF=''
@


1.43
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/03/11 11:20:27 espie Exp $
d7 1
a7 2
DISTNAME=		clisp-2.48
REVISION =		3
a9 1
MAINTAINER =		Joshua Elsasser <joshe@@openbsd.org>
d36 3
a38 1
			--srcdir=${WRKSRC} ${WRKBUILD}
d52 3
@


1.42
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/10/11 18:12:53 pascal Exp $
a25 1
USE_LIBTOOL=		Yes
@


1.41
log
@configure doesn't pass LDFLAGS for some tests, so add -nopie to CFLAGS as well
on powerpc.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/08/30 20:54:59 pascal Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.40
log
@Adapt PIE fixes to new gcc/ld behaviour: Use -nopie as LDFLAGS and -fno-pie as
CFLAGS.

found in a bulk by and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/08/20 09:23:15 pascal Exp $
d51 1
a51 1
CFLAGS +=		-fno-pie
@


1.39
log
@PIE preparations: Do not use gmalloc, except on powerpc, which breaks with
libc malloc and as a result must use -fno-pie for now.

Various diffs tested by joshe@@ and landry@@ on sparc64/powerpc;
ok joshe@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/03/29 13:38:40 sthen Exp $
d52 1
a52 1
LDFLAGS +=		-fno-pie
@


1.38
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/11/17 08:05:17 espie Exp $
d8 1
a8 1
REVISION =		2
a35 1
			--with-gmalloc \
d47 8
@


1.37
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/11/09 21:28:36 naddy Exp $
d32 1
a32 1
SEPARATE_BUILD=		simple
@


1.36
log
@Undo bogus change to PLIST that slipped in with an unrelated commit.
Bump, in case people built the package in the meantime.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/18 19:20:41 espie Exp $
d21 2
a22 2
LIB_DEPENDS =		::devel/libsigsegv \
			:ffcall->=1.10p1:devel/ffcall
d30 1
a30 1
USE_GROFF =	Yes
@


1.35
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/09/23 13:42:22 joshe Exp $
d8 1
a8 1
REVISION =		1
@


1.34
log
@Build on sparc64.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/08/23 16:31:33 jasper Exp $
d30 1
@


1.33
log
@- allow clisp to build on powerpc too
- switch to new style LIB_DEPENDS/WANTLIB
- move emacs lisp files to a location where emacs can find and use them

from josh elasser, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/01/07 10:55:28 edd Exp $
d3 1
a3 1
ONLY_FOR_ARCHS =	amd64 i386 powerpc
d8 1
a8 1
REVISION =		0
d11 1
d22 1
a22 1
			::devel/ffcall
d44 4
@


1.32
log
@update to clisp-2.48. patch for texlive follows.

OK kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/03/05 23:44:38 martynas Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=		amd64 i386
d5 1
a5 1
COMMENT=		ANSI Common Lisp compiler
d8 1
d20 3
a22 3
LIB_DEPENDS=		sigsegv::devel/libsigsegv \
			avcall,callback::devel/ffcall
WANTLIB=		c m ncurses readline
d35 1
d39 1
a39 1
			--elispdir=${PREFIX}/share/doc/clisp \
d42 1
a42 4

.if ${MACHINE_ARCH} == "amd64"
CONFIGURE_ARGS+=	--disable-mmap
.endif
@


1.31
log
@make it build on amd64.  ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/06/03 13:54:18 okan Exp $
d3 1
a3 1
ONLY_FOR_ARCHS= amd64 i386
d5 1
a5 1
COMMENT=	ANSI Common Lisp compiler
d7 3
a9 4
DISTNAME=	clisp-2.43
PKGNAME=	${DISTNAME}p1
CATEGORIES=	lang
HOMEPAGE=	http://clisp.cons.org/
d11 1
a11 1
# GPL
d17 1
a17 1
MODULES=	devel/gettext
d19 21
a39 2
LIB_DEPENDS=	sigsegv::devel/libsigsegv
WANTLIB=	c m ncurses readline
a40 14
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=clisp/}
EXTRACT_SUFX=	.tar.bz2

USE_LIBTOOL=	Yes
CONFIGURE_STYLE=gnu old
CONFIGURE_ARGS= --with-gmalloc \
		--srcdir=${WRKSRC} ${WRKBUILD}
MAKEMAKE_ARGS=	--fsstnd=openbsd \
		--prefix=${PREFIX} \
		--with-dynamic-ffi \
		--with-gmalloc \
		--mandir=${PREFIX}/man \
		--vimdir=${PREFIX}/share/doc/clisp \
		--docdir=${PREFIX}/share/doc/clisp
d42 1
a42 1
MAKEMAKE_ARGS+=	--disable-mmap
a43 11
SEPARATE_BUILD=	simple
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/ffcall/autoconf
USE_GMAKE=	Yes
MAKE_FLAGS=	INSTALL='install -c' \
		INSTALL_PROGRAM='install -c -s -m 555' \
		INSTALL_DATA='install -c -m 644'


post-configure:
	@@cd ${WRKBUILD} && ./makemake ${MAKEMAKE_ARGS} >Makefile && \
	make config.lisp
@


1.30
log
@- use gettext module

noticed by Dasn <dasn@@lavabit.com> -thanks!

mkay jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/11/25 22:16:21 jasper Exp $
d3 1
a3 1
ONLY_FOR_ARCHS= i386
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d30 10
d47 1
d49 1
a49 8
	@@cd ${WRKBUILD} && ./makemake \
		--fsstnd=openbsd \
		--prefix=${PREFIX} \
		--with-dynamic-ffi \
		--with-gmalloc \
		--mandir=${PREFIX}/man \
		--vimdir=${PREFIX}/share/doc/clisp \
		--docdir=${PREFIX}/share/doc/clisp >Makefile && \
@


1.29
log
@- update clisp to 2.43
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/11/24 23:52:55 jasper Exp $
d8 1
d17 2
@


1.28
log
@- update clisp to 2.42

from pedro martelletto, with tweaks by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/09/16 00:27:05 merdely Exp $
d7 1
a7 1
DISTNAME=	clisp-2.42
d23 1
d28 2
a29 4
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC}/src/autoconf \
				${WRKSRC}/ffcall/autoconf \
				${WRKSRC}/libcharset/autoconf

d41 2
a42 1
		--vimdir=${PREFIX}/share/doc/clisp >Makefile && \
@


1.27
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/02/27 17:22:09 pvalchev Exp $
d3 1
a3 1
ONLY_FOR_ARCHS=	i386
d7 1
a7 2
DISTNAME=	clisp-2.33.2
PKGNAME=	${DISTNAME}p1
d16 3
a18 1
WANTLIB=	c ncurses readline
a22 2
MODULES=	devel/gettext

d24 2
a25 1
CONFIGURE_ARGS=	--srcdir=${WRKSRC} ${WRKBUILD}
d36 7
a42 3
	@@cd ${WRKBUILD} && \
	    ./makemake --fsstnd=openbsd --prefix=${PREFIX} \
		--with-dynamic-ffi >Makefile && \
@


1.26
log
@use GNU malloc for now which unbreaks this (which is borked due to
our random mmap malloc); from Andreas Vögele <voegelas@@gmx.net>
maxima seems happy with this too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/02/16 20:56:58 naddy Exp $
d5 1
a5 1
COMMENT=	"ANSI Common Lisp compiler"
@


1.25
log
@Admit that it's BROKEN due to randomized mmap().
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/02/11 12:14:37 alek Exp $
a2 1
BROKEN=		"does not handle randomized mmap()"
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.24
log
@- Fix libintl/libiconv linking
- Add WANTLIB marker
- Bump PKGNAME

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/01/20 10:48:56 espie Exp $
d3 1
@


1.23
log
@update to 2.33.2, passes all its tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/09/18 16:06:55 naddy Exp $
d8 1
d17 1
@


1.22
log
@drop kluge, now that trailing spaces are stripped from CFLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/08/10 09:14:47 xsa Exp $
d7 1
a7 1
DISTNAME=	clisp-2.33
@


1.21
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/08/01 21:19:17 naddy Exp $
a31 9

# configure can't handle multiple blanks
CONFIGURE_SCRIPT=${WRKSRC}/configure.wrapper

pre-configure:
	@@(echo '#!/bin/sh'; \
	  echo 'CFLAGS=`echo "$$CFLAGS" | tr -s "[:space:]"`'; \
	  echo '${WRKSRC}/configure $$@@') >${CONFIGURE_SCRIPT}; \
	chmod u+rx ${CONFIGURE_SCRIPT}
@


1.20
log
@fix up MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/05/10 18:32:41 naddy Exp $
d20 1
a20 1
MODULES=	gettext
@


1.19
log
@update to 2.33; from Rich Cannings <rich@@cannings.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/04/06 05:28:01 brad Exp $
d25 3
@


1.18
log
@this is silly, use ONLY_FOR_ARCHS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/01/20 23:15:19 naddy Exp $
d7 1
a7 1
DISTNAME=	clisp-2.32
@


1.17
log
@Update to 2.32: fixes compilation with gcc3.
Mostly from cannings@@, cleanup by yours truly, some help from espie@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2003/06/26 21:51:22 pvalchev Exp $
d3 1
a3 3
NOT_FOR_ARCHS=	alpha powerpc sparc sparc64 vax
# XXX This will panic any m68k
NOT_FOR_ARCHS+=	m68k
@


1.16
log
@not for vax, until someone hacks support
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.15 2003/05/17 03:15:31 naddy Exp $
# $FreeBSD: ports/lang/clisp/Makefile,v 1.4 2000/05/14 05:40:46 billf Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	powerpc sparc sparc64 vax
d9 1
a9 2
VERSION=	2.27
DISTNAME=	clisp-${VERSION}
d13 1
d19 2
a20 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=clisp/} \
		ftp://clisp.cons.org/pub/lisp/clisp/source/${VERSION}/
d22 1
a22 1
EXTRACT_SUFX=	.tar.bz2
d24 1
a24 1
CONFIGURE_STYLE= gnu old
d26 1
a26 1
SEPARATE_BUILD=	concurrent
d28 12
a39 3
MAKE_FLAGS= INSTALL='install -c' \
	    INSTALL_PROGRAM='install -c -s -m 555' \
	    INSTALL_DATA='install -c -m 644'
d43 3
a45 3
	    ./makemake --fsstnd=openbsd --prefix=${PREFIX} --with-readline \
		--with-gettext --with-dynamic-ffi >Makefile && \
    	    make config.lisp
@


1.15
log
@As per miod@@, the vax problem has been fixed but trying to build this
port will still panic any m68k machine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/09/15 11:46:09 shell Exp $
d4 1
a4 1
NOT_FOR_ARCHS=	powerpc sparc sparc64
@


1.14
log
@Drop maintainership, follow-up ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2002/07/15 06:29:20 pvalchev Exp $
d5 2
a6 2
# XXX This will panic any vax
NOT_FOR_ARCHS+=	vax
@


1.13
log
@Miod says attempting to build those will panic any vax, and while a fix
is being looked at, marked those with a nice fat NOT_FOR_ARCHS so that
people do not get bitten.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/05/13 23:31:25 espie Exp $
a12 1
NEED_VERSION=	1.378
a13 2

MAINTAINER=	Shell Hung <shell@@openbsd.org>
@


1.12
log
@More MASTER_SITES_SUBDIR out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/10/07 22:41:46 wilfried Exp $
d5 2
@


1.11
log
@not for sparc64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/08/01 02:38:30 shell Exp $
d21 1
a21 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE} \
a22 1
MASTER_SITE_SUBDIR=	clisp
@


1.10
log
@Use MASTER_SITE_SOURCEFORGE

Report by Oscar Sznajder <os@@atina.ar>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/07/18 13:56:29 shell Exp $
d4 1
a4 1
NOT_FOR_ARCHS=	powerpc sparc
@


1.9
log
@Upgrade to 2.27
- Remove not-used patches
- Add patch for libiconv
- fixes non-root users to 'make configure' problem
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/05/30 10:46:45 shell Exp $
d21 4
a24 1
MASTER_SITES=	ftp://clisp.cons.org/pub/lisp/clisp/source/${VERSION}/
@


1.8
log
@- Modifly MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/05/25 19:40:05 shell Exp $
d8 1
a8 1
VERSION=	2.26
@


1.7
log
@- Upgrade to 2.26
- Regen patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/04/17 06:26:54 shell Exp $
d8 2
a9 1
DISTNAME=	clisp-2.26
d21 1
a21 2
MASTER_SITES=	ftp://clisp.cons.org/pub/lisp/clisp/source/ \
		ftp://ftp.freesoftware.com/pub/lisp/clisp/source/
@


1.6
log
@
Change MAINTAINER email address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/03/31 11:51:05 naddy Exp $
d6 1
a6 1
COMMENT=	'ANSI Common Lisp compiler'
d8 1
a8 1
DISTNAME=	clisp-2.25
@


1.5
log
@- Update to 2.25.
- Pull COMMENT into Makefile.
- Switch to .bz2 distfile.
- New maintainer; ok jsmith@@mcs.drexel.edu.
- Doesn't build on powerpc either.
Partly submitted by Shell Hung <i@@shellhung.org>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/03/30 13:57:06 espie Exp $
d13 1
a13 1
MAINTAINER=	Shell Hung <i@@shellhung.org>
@


1.4
log
@Perfectly happy on i386.
naddy, send me a broken build log on i386 if you want to convince me...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/03/29 13:43:58 naddy Exp $
d4 1
a4 1
NOT_FOR_ARCHS=	sparc
d6 1
d8 1
a8 2
DISTNAME=	clisp-2000-03-06
PKGNAME=	clisp-20000306
d10 1
a10 1
NEED_VERSION=	1.338
a11 2
MASTER_SITES=	ftp://clisp.cons.org/pub/lisp/clisp/source/ \
		ftp://ftp.freesoftware.com/pub/lisp/clisp/source/
d13 1
a13 1
MAINTAINER=	Justin R. Smith <jsmith@@mcs.drexel.edu>
d20 4
a27 11
# The source doesn't include a top-level Makefile, so we'll fake one.
post-extract:
	printf "all install:\n\t@@cd ${WRKBUILD} && \$${MAKE} \$${MAKEFLAGS} \$$@@\n" >${WRKSRC}/Makefile

post-configure:
	cd ${WRKBUILD} && \
	    env WRKINST=${WRKINST} ./makemake --fsstnd=bsd \
		--prefix=${PREFIX} --with-readline --with-gettext \
		--with-dynamic-ffi >Makefile && \
    	    make config.lsp

d31 6
@


1.3
log
@Mark BROKEN.  Doesn't build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/02/12 13:54:25 espie Exp $
d4 2
a5 1
BROKEN=		"Does not build"
@


1.2
log
@Provide a specific value for INSTALL that allows building to proceed
as non-root.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/11/18 13:43:27 naddy Exp $
d3 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d33 4
@


1.1.1.1
log
@Initial import of clisp-2000-03-06.

CLISP is a Common Lisp implementation by Bruno Haible of Karlsruhe
University and Michael Stoll of Munich University, both in Germany.
It mostly supports the Lisp described in the ANSI Common Lisp
standard.
@
text
@@
