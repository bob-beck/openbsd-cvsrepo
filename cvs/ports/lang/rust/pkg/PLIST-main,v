head	1.12;
access;
symbols
	OPENBSD_6_1:1.12.0.2
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	landry_20150406:1.1.1.1
	semarie:1.1.1;
locks; strict;
comment	@# @;


1.12
date	2017.02.15.12.52.35;	author landry;	state Exp;
branches;
next	1.11;
commitid	NM74A8PX4zxQ5FFL;

1.11
date	2016.12.26.13.52.46;	author landry;	state Exp;
branches;
next	1.10;
commitid	iU6h7FSgPqiZKnfv;

1.10
date	2016.11.12.16.42.24;	author danj;	state Exp;
branches;
next	1.9;
commitid	cBPPfooKD474cfpO;

1.9
date	2016.08.31.08.33.19;	author landry;	state Exp;
branches;
next	1.8;
commitid	rjCKCwuvdXGdhOcu;

1.8
date	2016.05.29.07.26.46;	author semarie;	state Exp;
branches;
next	1.7;
commitid	roUcrlyczCPIKJzh;

1.7
date	2016.05.25.06.39.35;	author semarie;	state Exp;
branches;
next	1.6;
commitid	MXspGwnScCXVczTc;

1.6
date	2016.03.05.15.05.33;	author semarie;	state Exp;
branches;
next	1.5;
commitid	zHXYqXJVlpEY1lFN;

1.5
date	2016.01.22.09.03.15;	author semarie;	state Exp;
branches;
next	1.4;
commitid	soVo5L7O4D1hyBye;

1.4
date	2016.01.13.07.39.08;	author semarie;	state Exp;
branches;
next	1.3;
commitid	byiYh0dzYB8WFAob;

1.3
date	2015.11.02.12.44.24;	author semarie;	state Exp;
branches;
next	1.2;
commitid	cBxaRRTWphtbz6LU;

1.2
date	2015.06.27.15.37.32;	author semarie;	state Exp;
branches;
next	1.1;
commitid	SygdTu2DEOHIWMnn;

1.1
date	2015.04.06.16.01.08;	author landry;	state Exp;
branches
	1.1.1.1;
next	;
commitid	uNXShIOtritg9vBI;

1.1.1.1
date	2015.04.06.16.01.08;	author landry;	state Exp;
branches;
next	;
commitid	uNXShIOtritg9vBI;


desc
@@


1.12
log
@Update to rust 1.15.1.

- switch to rustbuild build system instead of configure (the world
  definitely needed one more build system!)
- the build still takes +INF hours, this is being investigated

Note that rust will be a hard-requirement for gecko 54... sigh.

Tested by semarie@@ and myself on i386 & amd64.

All the hard work and countless build hours by semarie@@, thanks!
@
text
@@@comment $OpenBSD: PLIST-main,v 1.11 2016/12/26 13:52:46 landry Exp $
bin/rust-gdb
@@bin bin/rustc
@@bin bin/rustdoc
lib/rustlib/
lib/rustlib/etc/
lib/rustlib/etc/debugger_pretty_printers_common.py
lib/rustlib/etc/gdb_load_rust_pretty_printers.py
lib/rustlib/etc/gdb_rust_pretty_printing.py
lib/rustlib/etc/lldb_rust_formatters.py
%%amd64%%
%%i386%%
@@man man/man1/rustc.1
@@man man/man1/rustdoc.1
share/doc/rust/
share/doc/rust/COPYRIGHT
share/doc/rust/LICENSE-APACHE
share/doc/rust/LICENSE-MIT
share/doc/rust/README.md
@


1.11
log
@update rust to 1.14.0, from MAINTAINER semarie@@

for details, please see https://blog.rust-lang.org/2016/12/22/Rust-1.14.html

tested on i386 w/ llvm 3.9.0 here, and sebastien tested both amd64 & i386.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.10 2016/11/12 16:42:24 danj Exp $
a4 38
lib/libarena-${RUST_HASH}.so
lib/libflate-${RUST_HASH}.so
lib/libfmt_macros-${RUST_HASH}.so
lib/libgetopts-${RUST_HASH}.so
lib/libgraphviz-${RUST_HASH}.so
lib/liblog-${RUST_HASH}.so
lib/libproc_macro-${RUST_HASH}.so
lib/libproc_macro_plugin-${RUST_HASH}.so
lib/libproc_macro_tokens-${RUST_HASH}.so
lib/librustc-${RUST_HASH}.so
lib/librustc_back-${RUST_HASH}.so
lib/librustc_borrowck-${RUST_HASH}.so
lib/librustc_const_eval-${RUST_HASH}.so
lib/librustc_const_math-${RUST_HASH}.so
lib/librustc_data_structures-${RUST_HASH}.so
lib/librustc_driver-${RUST_HASH}.so
lib/librustc_errors-${RUST_HASH}.so
lib/librustc_incremental-${RUST_HASH}.so
lib/librustc_lint-${RUST_HASH}.so
lib/librustc_llvm-${RUST_HASH}.so
lib/librustc_metadata-${RUST_HASH}.so
lib/librustc_mir-${RUST_HASH}.so
lib/librustc_passes-${RUST_HASH}.so
lib/librustc_platform_intrinsics-${RUST_HASH}.so
lib/librustc_plugin-${RUST_HASH}.so
lib/librustc_privacy-${RUST_HASH}.so
lib/librustc_resolve-${RUST_HASH}.so
lib/librustc_save_analysis-${RUST_HASH}.so
lib/librustc_trans-${RUST_HASH}.so
lib/librustc_typeck-${RUST_HASH}.so
lib/librustdoc-${RUST_HASH}.so
lib/libserialize-${RUST_HASH}.so
lib/libstd-${RUST_HASH}.so
lib/libsyntax-${RUST_HASH}.so
lib/libsyntax_ext-${RUST_HASH}.so
lib/libsyntax_pos-${RUST_HASH}.so
lib/libterm-${RUST_HASH}.so
lib/libtest-${RUST_HASH}.so
a5 1
lib/rustlib/components
d10 3
a12 59
lib/rustlib/manifest-rust-docs
lib/rustlib/manifest-rust-std-${TRIPLE_ARCH}
lib/rustlib/manifest-rustc
lib/rustlib/${TRIPLE_ARCH}/
lib/rustlib/${TRIPLE_ARCH}/lib/
lib/rustlib/${TRIPLE_ARCH}/lib/liballoc-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/liballoc_system-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libarena-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libcollections-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libcompiler_builtins-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libcore-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libflate-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libfmt_macros-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libgetopts-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libgetopts-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libgraphviz-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/liblibc-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/liblog-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libpanic_abort-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libpanic_unwind-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libproc_macro-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libproc_macro_plugin-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libproc_macro_tokens-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librand-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/librustc-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_back-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_bitflags-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_borrowck-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_const_eval-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_const_math-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_data_structures-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_driver-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_errors-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_incremental-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_lint-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_llvm-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_metadata-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_mir-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_passes-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_platform_intrinsics-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_plugin-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_privacy-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_resolve-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_save_analysis-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_trans-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_typeck-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_unicode-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/librustdoc-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libserialize-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libstd-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libstd-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libsyntax-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libsyntax_ext-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libsyntax_pos-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libterm-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libterm-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libtest-${RUST_HASH}.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libtest-${RUST_HASH}.so
lib/rustlib/${TRIPLE_ARCH}/lib/libunwind-${RUST_HASH}.rlib
@


1.10
log
@Update to rust-1.13.0, from semarie who takes maintainership again

ok aja@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.9 2016/08/31 08:33:19 landry Exp $
d12 2
a24 1
lib/librustc_macro-${RUST_HASH}.so
d70 2
a84 1
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_macro-${RUST_HASH}.so
@


1.9
log
@Update to rust 1.11.0, from semarie@@, thanks!
All tests passing here.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.8 2016/05/29 07:26:46 semarie Exp $
d11 1
a11 1
lib/librbml-${RUST_HASH}.so
d23 1
d57 1
a57 1
lib/rustlib/${TRIPLE_ARCH}/lib/libcompiler-rt.a
d68 1
a69 1
lib/rustlib/${TRIPLE_ARCH}/lib/librbml-${RUST_HASH}.so
d82 1
@


1.8
log
@lang/rust update to 1.9.0

- changes in Makefile to make it compute itself the RUST_HASH value

- use new configure option --disable-codegen-tests as with don't have FileCheck
  (from llvm) binary. remove the patches in configure and src/compiletest/runtest.rs

- disable (for now) two news tests added with unix socket support, that doesn't
  pass. I will investigate them later.

- disable run-pass/backtrace test. The support of libbacktrace has been remove
  recently.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.7 2016/05/25 06:39:35 semarie Exp $
d19 1
d38 1
d65 2
d77 1
d98 1
d103 1
@


1.7
log
@lang/rust: fallback to LOCALBASE for sysroot

- std::env::current_exe() returns an error instead of returning wrong
  pathname (no complete, but rust build scripts makes (bad)
  assumptions that I couldn't patch for now).

- rustc / rustdoc to use CFG_PREFIX (configure --prefix value) when
  std::env::current_exe() return an error

- remove the installed wrapper used to pass --sysroot argument to
  rustc (the wrapper was used for workaround the problem differently
  for rustc, but didn't resolv the problem for rustdoc as it doesn't
  have --sysroot argument).

looks ok edd@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.6 2016/03/05 15:05:33 semarie Exp $
d15 2
d19 1
a19 1
lib/librustc_front-${RUST_HASH}.so
d29 1
a51 1
lib/rustlib/${TRIPLE_ARCH}/lib/libarena-${RUST_HASH}.rlib
a55 1
lib/rustlib/${TRIPLE_ARCH}/lib/libflate-${RUST_HASH}.rlib
a59 1
lib/rustlib/${TRIPLE_ARCH}/lib/libgraphviz-${RUST_HASH}.rlib
a61 1
lib/rustlib/${TRIPLE_ARCH}/lib/liblog-${RUST_HASH}.rlib
a63 1
lib/rustlib/${TRIPLE_ARCH}/lib/librbml-${RUST_HASH}.rlib
d69 2
d73 1
a73 1
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_front-${RUST_HASH}.so
d83 1
a87 1
lib/rustlib/${TRIPLE_ARCH}/lib/libserialize-${RUST_HASH}.rlib
@


1.6
log
@update lang/rust to 1.7.0

"looks reasonable" bmercer@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.5 2016/01/22 09:03:15 semarie Exp $
d3 1
a3 1
bin/rustc
a45 2
lib/rustlib/${TRIPLE_ARCH}/bin/
@@bin lib/rustlib/${TRIPLE_ARCH}/bin/rustc
@


1.5
log
@update lang/rust to 1.6.0

ok juanfra@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.4 2016/01/13 07:39:08 semarie Exp $
d22 1
d33 1
d80 1
d94 1
@


1.4
log
@install libraries with rustc

- remove now unneeded MAKE_ENV option to pass --sysroot argument to bootstrapper
- backport the latest changes for building rustc under openbsd
- switch the install from installing a stage3 rustc binary to installing a stage2 rustc binary (and all required libraries)

ok juanfra@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.3 2015/11/02 12:44:24 semarie Exp $
d20 1
d23 1
d76 1
d79 1
@


1.3
log
@update lang/rust to 1.4.0

tested by mmc@@ and bmercer@@
@
text
@d1 2
a2 1
@@comment $OpenBSD: PLIST-main,v 1.2 2015/06/27 15:37:32 semarie Exp $
d5 27
d33 8
d54 1
d65 2
d68 12
d81 1
d86 1
@


1.2
log
@Update to rust-1.1.0

OK landry@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-main,v 1.1.1.1 2015/04/06 16:01:08 landry Exp $
d10 1
a24 1
lib/rustlib/${TRIPLE_ARCH}/lib/libmorestack.a
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
@@comment $OpenBSD$
d9 4
a12 4
lib/rustlib/${TRIPLE_ARCH}/lib/liballoc-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libarena-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libarena-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/libcollections-4e7c5e5c.rlib
d14 10
a23 10
lib/rustlib/${TRIPLE_ARCH}/lib/libcore-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libflate-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libflate-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/libgetopts-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libgetopts-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/libgraphviz-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libgraphviz-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/liblibc-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/liblog-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/liblog-4e7c5e5c.so
d25 13
a37 13
lib/rustlib/${TRIPLE_ARCH}/lib/librand-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/librbml-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/librbml-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/librustc_bitflags-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libserialize-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libserialize-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/libstd-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libstd-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/libterm-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libterm-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/libtest-4e7c5e5c.rlib
lib/rustlib/${TRIPLE_ARCH}/lib/libtest-4e7c5e5c.so
lib/rustlib/${TRIPLE_ARCH}/lib/libunicode-4e7c5e5c.rlib
@


1.1.1.1
log
@Import rust 1.0.0beta, all the hard work from Sébastien Marie (thanks!)

Rust is a systems programming language that runs blazingly fast, prevents
almost all crashes, and eliminates data races.

Featuring:
- zero-cost abstractions
- move semantics
- guaranteed memory safety
- threads without data races
- trait-based generics
- pattern matching
- type inference
- minimal runtime
- efficient C bindings

some packaging tweaks by me, ok/testing bcallah@@ jca@@
@
text
@@
