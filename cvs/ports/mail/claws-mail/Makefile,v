head	1.104;
access;
symbols
	OPENBSD_6_1:1.100.0.2
	OPENBSD_6_1_BASE:1.100
	OPENBSD_6_0:1.89.0.2
	OPENBSD_6_0_BASE:1.89
	OPENBSD_5_9:1.86.0.2
	OPENBSD_5_9_BASE:1.86
	OPENBSD_5_8:1.80.0.4
	OPENBSD_5_8_BASE:1.80
	OPENBSD_5_7:1.76.0.2
	OPENBSD_5_7_BASE:1.76
	OPENBSD_5_6:1.72.0.2
	OPENBSD_5_6_BASE:1.72
	OPENBSD_5_5:1.67.0.2
	OPENBSD_5_5_BASE:1.67
	OPENBSD_5_4:1.62.0.2
	OPENBSD_5_4_BASE:1.62
	OPENBSD_5_3:1.57.0.2
	OPENBSD_5_3_BASE:1.57
	OPENBSD_5_2:1.53.0.2
	OPENBSD_5_2_BASE:1.53
	OPENBSD_5_1_BASE:1.51
	OPENBSD_5_1:1.51.0.2
	OPENBSD_5_0:1.45.0.2
	OPENBSD_5_0_BASE:1.45
	OPENBSD_4_9:1.41.0.2
	OPENBSD_4_9_BASE:1.41
	OPENBSD_4_8:1.34.0.2
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.31.0.2
	OPENBSD_4_7_BASE:1.31
	OPENBSD_4_6:1.26.0.2
	OPENBSD_4_6_BASE:1.26
	OPENBSD_4_5:1.24.0.2
	OPENBSD_4_5_BASE:1.24
	OPENBSD_4_4:1.21.0.2
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.16.0.2
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.7.0.2
	OPENBSD_4_2_BASE:1.7
	deanna_20070323:1.1.1.1
	deanna:1.1.1;
locks; strict;
comment	@# @;


1.104
date	2017.08.15.15.44.44;	author danj;	state Exp;
branches;
next	1.103;
commitid	jYidXlRy8KFDuHBV;

1.103
date	2017.07.26.22.45.25;	author sthen;	state Exp;
branches;
next	1.102;
commitid	tD4MFrpYYDDL2UFT;

1.102
date	2017.07.16.19.18.59;	author espie;	state Exp;
branches;
next	1.101;
commitid	tt0GhWK5c4uf9ILG;

1.101
date	2017.04.10.11.46.22;	author sthen;	state Exp;
branches;
next	1.100;
commitid	BLsh88fJB8thZTwY;

1.100
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.99;
commitid	kjw4RQ4AAUYktD89;

1.99
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.98;
commitid	bw6Y0vDo3oixdVWL;

1.98
date	2017.02.03.19.36.03;	author danj;	state Exp;
branches;
next	1.97;
commitid	jWU30LJhvIuHkqak;

1.97
date	2017.02.03.19.34.35;	author danj;	state Exp;
branches;
next	1.96;
commitid	XMD3Ynpr9bwZfIpO;

1.96
date	2016.12.17.20.43.36;	author zhuk;	state Exp;
branches;
next	1.95;
commitid	Wh28qWFW7XmUYTOu;

1.95
date	2016.11.11.12.31.19;	author danj;	state Exp;
branches;
next	1.94;
commitid	fJHRiek9yBekXyzZ;

1.94
date	2016.11.11.10.07.51;	author sthen;	state Exp;
branches;
next	1.93;
commitid	LBXgRQCmN92sNjgc;

1.93
date	2016.11.07.10.51.36;	author sthen;	state Exp;
branches;
next	1.92;
commitid	bXhLeQYbQdffqUSF;

1.92
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.91;
commitid	Gg5LRcnQlqj5M3F7;

1.91
date	2016.08.19.16.52.38;	author danj;	state Exp;
branches;
next	1.90;
commitid	8w6ic5Tc6VJRYWhy;

1.90
date	2016.08.03.18.47.57;	author edd;	state Exp;
branches;
next	1.89;
commitid	dhBBYkaq89HJzZjf;

1.89
date	2016.07.09.08.46.24;	author sthen;	state Exp;
branches;
next	1.88;
commitid	5V5x7yAKWjzdrmlj;

1.88
date	2016.03.18.21.38.24;	author naddy;	state Exp;
branches;
next	1.87;
commitid	BVkebQSTXSZokeRG;

1.87
date	2016.03.02.12.38.03;	author sthen;	state Exp;
branches;
next	1.86;
commitid	MWwr6Mcf3URGc1DU;

1.86
date	2016.01.19.18.19.22;	author landry;	state Exp;
branches;
next	1.85;
commitid	DObFpPCHrwPb3OXy;

1.85
date	2016.01.17.17.29.09;	author sthen;	state Exp;
branches;
next	1.84;
commitid	bS2FIbTCCkF3XjOq;

1.84
date	2015.12.23.23.12.23;	author sthen;	state Exp;
branches;
next	1.83;
commitid	bWa56KPJXGvYiHF5;

1.83
date	2015.10.30.12.47.40;	author sthen;	state Exp;
branches;
next	1.82;
commitid	IIzCiS5xiW9Dmxlk;

1.82
date	2015.10.13.07.10.22;	author landry;	state Exp;
branches;
next	1.81;
commitid	s1jxRK1GR21leM6F;

1.81
date	2015.09.12.14.14.17;	author sthen;	state Exp;
branches;
next	1.80;
commitid	T2m2Snx964xWJhWt;

1.80
date	2015.07.19.02.14.57;	author ajacoutot;	state Exp;
branches
	1.80.4.1;
next	1.79;
commitid	c3tyZBovnFWQazMD;

1.79
date	2015.06.10.21.27.21;	author sthen;	state Exp;
branches;
next	1.78;
commitid	rzyrjain1lC5cNJa;

1.78
date	2015.04.04.09.21.02;	author ajacoutot;	state Exp;
branches;
next	1.77;
commitid	kS3kwKZogsvzYmEY;

1.77
date	2015.03.27.08.41.04;	author ajacoutot;	state Exp;
branches;
next	1.76;
commitid	bGtJfGn7cri3zP6L;

1.76
date	2015.02.16.22.57.09;	author naddy;	state Exp;
branches;
next	1.75;
commitid	0dx3c9ckf7dE4tx1;

1.75
date	2015.01.14.12.18.42;	author landry;	state Exp;
branches;
next	1.74;
commitid	9dscizohMcjzS98o;

1.74
date	2015.01.12.21.47.13;	author landry;	state Exp;
branches;
next	1.73;
commitid	KUjGYxCjLET7uqXv;

1.73
date	2014.10.25.14.53.04;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	IlIOUo5RJ6YCK9d0;

1.72
date	2014.04.22.19.26.45;	author naddy;	state Exp;
branches;
next	1.71;

1.71
date	2014.04.21.17.59.18;	author sthen;	state Exp;
branches;
next	1.70;

1.70
date	2014.04.14.19.50.09;	author matthieu;	state Exp;
branches;
next	1.69;

1.69
date	2014.04.14.09.08.44;	author landry;	state Exp;
branches;
next	1.68;

1.68
date	2014.04.14.08.53.35;	author landry;	state Exp;
branches;
next	1.67;

1.67
date	2013.10.11.22.14.18;	author landry;	state Exp;
branches;
next	1.66;

1.66
date	2013.09.26.13.46.28;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2013.09.25.08.03.13;	author landry;	state Exp;
branches;
next	1.64;

1.64
date	2013.09.06.16.28.48;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2013.08.20.22.30.36;	author zhuk;	state Exp;
branches;
next	1.62;

1.62
date	2013.06.20.06.54.36;	author ajacoutot;	state Exp;
branches;
next	1.61;

1.61
date	2013.06.17.19.28.36;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2013.05.31.15.34.49;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2013.03.21.08.46.32;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.11.11.23.50;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2013.02.24.14.46.29;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2012.12.23.12.25.30;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2012.10.09.17.01.15;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2012.10.09.16.41.29;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2012.06.29.14.02.54;	author landry;	state Exp;
branches;
next	1.52;

1.52
date	2012.06.15.08.32.16;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2012.01.23.18.57.33;	author landry;	state Exp;
branches;
next	1.50;

1.50
date	2011.12.15.21.09.38;	author kili;	state Exp;
branches;
next	1.49;

1.49
date	2011.12.03.20.30.09;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2011.12.02.14.36.15;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.16.10.31.21;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2011.08.30.06.54.11;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2011.06.13.20.52.26;	author landry;	state Exp;
branches;
next	1.44;

1.44
date	2011.04.21.13.10.42;	author landry;	state Exp;
branches;
next	1.43;

1.43
date	2011.04.15.16.10.38;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2011.03.10.21.37.33;	author landry;	state Exp;
branches;
next	1.41;

1.41
date	2011.01.15.09.21.31;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2010.11.19.07.23.05;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.09.20.13.25;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.24.21.25.11;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.18.19.59.15;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2010.10.11.08.15.27;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2010.09.30.07.21.19;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.06.11.17.08.32;	author landry;	state Exp;
branches;
next	1.33;

1.33
date	2010.04.15.14.11.01;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2010.03.31.11.50.46;	author landry;	state Exp;
branches;
next	1.31;

1.31
date	2010.02.26.19.04.04;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2009.12.21.22.20.12;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2009.10.23.17.12.36;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2009.08.10.06.32.42;	author kili;	state Exp;
branches;
next	1.27;

1.27
date	2009.07.17.17.02.45;	author landry;	state Exp;
branches;
next	1.26;

1.26
date	2009.06.29.09.23.39;	author landry;	state Exp;
branches;
next	1.25;

1.25
date	2009.03.18.08.31.21;	author pea;	state Exp;
branches;
next	1.24;

1.24
date	2009.02.10.20.52.39;	author landry;	state Exp;
branches;
next	1.23;

1.23
date	2008.10.20.12.22.42;	author landry;	state Exp;
branches;
next	1.22;

1.22
date	2008.10.17.12.46.33;	author landry;	state Exp;
branches;
next	1.21;

1.21
date	2008.07.02.09.28.09;	author landry;	state Exp;
branches;
next	1.20;

1.20
date	2008.06.29.20.44.52;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2008.04.23.21.11.29;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2008.04.17.08.10.10;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2008.04.05.11.43.22;	author landry;	state Exp;
branches;
next	1.16;

1.16
date	2008.02.25.17.14.18;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2008.02.13.13.17.26;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2008.01.25.14.20.31;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2008.01.08.23.13.23;	author landry;	state Exp;
branches;
next	1.12;

1.12
date	2007.12.18.15.56.16;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2007.11.14.09.43.40;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2007.09.28.22.12.00;	author pyr;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.16.00.17.04;	author merdely;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.08.15.22.40;	author pyr;	state Exp;
branches;
next	1.7;

1.7
date	2007.07.10.06.14.43;	author pyr;	state Exp;
branches;
next	1.6;

1.6
date	2007.05.14.22.24.26;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2007.05.10.07.43.39;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2007.05.04.12.13.14;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.20.05.42.51;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2007.04.11.20.48.43;	author deanna;	state Exp;
branches;
next	1.1;

1.1
date	2007.03.23.17.38.22;	author deanna;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.03.23.17.38.22;	author deanna;	state Exp;
branches;
next	;

1.80.4.1
date	2015.12.24.09.05.55;	author jasper;	state Exp;
branches;
next	;
commitid	d6tpM9Fsj249ri6J;


desc
@@


1.104
log
@Update to claws-mail-3.15.0
@
text
@# $OpenBSD: Makefile,v 1.103 2017/07/26 22:45:25 sthen Exp $

COMMENT-main=		mail and news client
COMMENT-bogofilter=	bogofilter plugin
COMMENT-clamav=		clamav plugin
COMMENT-spamassassin=	spamassassin plugin
COMMENT-pdfviewer=	pdfviewer plugin
COMMENT-gdata=		gdata plugin

V=			3.15.0
DISTNAME=		claws-mail-${V}
PKGNAME-main=		${DISTNAME}
PKGNAME-bogofilter=	claws-mail-bogofilter-${V}
PKGNAME-spamassassin=	claws-mail-spamassassin-${V}
PKGNAME-pdfviewer=	claws-mail-pdfviewer-${V}
PKGNAME-gdata=		claws-mail-gdata-${V}

CATEGORIES=		mail news

HOMEPAGE=		http://www.claws-mail.org/
MAINTAINER=		Daniel Jakots <obsd@@chown.me>

# GPLv3+
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=		http://www.claws-mail.org/releases/

DIST_SUBDIR=		claws

MULTI_PACKAGES=		-main -bogofilter -spamassassin -pdfviewer -gdata
FLAVORS=		jpilot ldap
FLAVOR?=

FLAVOR_STRING=		${FLAVOR_EXT:S/-/,/g}
SUBST_VARS=		FLAVOR_STRING

RUN_DEPENDS-bogofilter=	${BUILD_PKGPATH} \
			mail/bogofilter
RUN_DEPENDS-spamassassin=${BUILD_PKGPATH} \
			mail/p5-Mail-SpamAssassin

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 cairo crypto curl etpan execinfo
WANTLIB += expat ffi fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 graphite2
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz m nghttp2 pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs sasl2 ssl xcb xcb-render xcb-shm z

WANTLIB-main =  ${WANTLIB}
WANTLIB-main += ICE SM X11-xcb archive assuan bz2 c canberra canberra-gtk
WANTLIB-main += dbus-1 dbus-glib-1 enchant gmp gnutls gpg-error gpgme
WANTLIB-main += hogweed idn2 ltdl lz4 lzma lzo2 nettle notify ogg p11-kit
WANTLIB-main += perl startup-notification-1 ${COMPILER_LIBCXX} tasn1 unistring vorbis
WANTLIB-main += vorbisfile xcb-util

WANTLIB-gdata = ${WANTLIB}
WANTLIB-gdata += gck-1 gcr-base-3 gcrypt gdata goa-1.0 gpg-error json-glib-1.0
WANTLIB-gdata += lzma nspr4 nss3 oauth p11-kit plc4 plds4 smime3 softokn3
WANTLIB-gdata += soup-2.4 sqlite3 ssl3 xml2

WANTLIB-pdfviewer =  ${WANTLIB}
WANTLIB-pdfviewer += jpeg lcms2 openjp2 poppler poppler-glib tiff

LIB_DEPENDS=		devel/libexecinfo \
			mail/libetpan \
			security/cyrus-sasl2 \
			x11/gtk+2

RUN_DEPENDS-main=	${RUN_DEPENDS} \
			devel/desktop-file-utils \
			x11/gtk+3,-guic

LIB_DEPENDS-main=	${LIB_DEPENDS} \
			archivers/libarchive \
			archivers/xz \
			devel/startup-notification \
			textproc/enchant \
			audio/libcanberra,-gtk \
			devel/libnotify \
			security/gnutls>=2.2 \
			security/gpgme \
			x11/dbus-glib

LIB_DEPENDS-pdfviewer=	${LIB_DEPENDS} \
			print/poppler

LIB_DEPENDS-gdata=	${LIB_DEPENDS} \
			devel/libgdata

#geolocation looks for champlain <= 0.10
#python tries to dlopen libpython2.7.so
CONFIGURE_ARGS+=	--disable-acpi_notifier-plugin \
			--disable-compface \
			--disable-fancy-plugin \
			--disable-geolocation-plugin \
			--disable-python-plugin \
			--enable-new-addrbook

MODULES=		devel/gettext
USE_GMAKE=		Yes
LIBTOOL_FLAGS=		--tag=disable-static
CONFIGURE_STYLE=	autoconf

AUTOCONF_VERSION=	2.69
CONFIGURE_ENV+=		CPPFLAGS="-I${X11BASE}/include" \
			LDFLAGS="-L${X11BASE}/lib"

.if ${FLAVOR:Mjpilot}
LIB_DEPENDS-main+=	comms/pilot-link
WANTLIB-main +=		pisock
RUN_DEPENDS-main+=	comms/jpilot
.else
CONFIGURE_ARGS+=	--disable-jpilot
.endif

.if ${FLAVOR:Mldap}
WANTLIB-main+=		lber-2.4 ldap-2.4
LIB_DEPENDS-main+=	databases/openldap
.else
CONFIGURE_ARGS+=	--disable-ldap
.endif

TOOLS=		OOo2claws-mail.pl \
		acroread2claws-mail.pl \
		calypso_convert.pl \
		claws-mail-compose-insert-files.pl \
		convert_mbox.pl \
		csv2addressbook.pl \
		eud2gc.py \
		filter_conv.pl filter_conv_new.pl \
		fix_date.sh \
		gif2xface.pl \
		google_msgid.pl google_search.pl \
		kmail-mailbox2claws-mail.pl \
		kmail2claws-mail.pl kmail2claws-mail_v2.pl \
		mairix.sh \
		mew2claws-mail.pl \
		multiwebsearch.conf multiwebsearch.pl \
		nautilus2claws-mail.sh \
		outlook2claws-mail.pl \
		popfile-link.sh \
		tb2claws-mail tbird2claws.py \
		textviewer.pl textviewer.sh \
		thunderbird-filters-convertor.pl \
		uudec uuooffice \
		vcard2xml.py \
		README \
		kdeservicemenu/claws-mail-attach-files.desktop.kde4template \
		kdeservicemenu/claws-mail-attach-files.desktop.template \
		kdeservicemenu/claws-mail-kdeservicemenu.pl \
		kdeservicemenu/install.sh \
		kdeservicemenu/README

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/icons/hicolor/48x48/apps
	${INSTALL_DATA} ${WRKSRC}/claws-mail.png ${PREFIX}/share/icons/hicolor/48x48/apps/claws-mail.png
	${INSTALL_DATA_DIR} ${PREFIX}/share/icons/hicolor/64x64/apps
	${INSTALL_DATA} ${WRKSRC}/claws-mail-64x64.png ${PREFIX}/share/icons/hicolor/64x64/apps/claws-mail.png
	${INSTALL_DATA_DIR} ${PREFIX}/share/icons/hicolor/128x128/apps
	${INSTALL_DATA} ${WRKSRC}/claws-mail-128x128.png ${PREFIX}/share/icons/hicolor/128x128/apps/claws-mail.png
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications/
	${INSTALL_DATA} ${WRKSRC}/claws-mail.desktop ${PREFIX}/share/applications/claws-mail.desktop
	${INSTALL_DATA_DIR} ${PREFIX}/share/claws-mail/tools/kdeservicemenu
.for i in ${TOOLS}
	${INSTALL_DATA} ${WRKSRC}/tools/${i} \
	${PREFIX}/share/claws-mail/tools/${i}
.endfor

.include <bsd.port.mk>
@


1.103
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2017/07/16 19:18:59 espie Exp $
d10 1
a10 1
V=			3.14.1
a16 5
REVISION-main=		2
REVISION-pdfviewer=	2
REVISION-bogofilter=	1
REVISION-gdata=		1
REVISION-spamassassin=	1
@


1.102
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2017/04/10 11:46:22 sthen Exp $
d17 5
a21 5
REVISION-main=		1
REVISION-pdfviewer=	1
REVISION-bogofilter=	0
REVISION-gdata=		0
REVISION-spamassassin=	0
@


1.101
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2017/02/18 17:33:51 ajacoutot Exp $
d59 1
a59 1
WANTLIB-main += perl startup-notification-1 ${LIBCXX} tasn1 unistring vorbis
@


1.100
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2017/02/18 17:32:37 ajacoutot Exp $
d59 1
a59 1
WANTLIB-main += perl startup-notification-1 stdc++ tasn1 unistring vorbis
@


1.99
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2017/02/03 19:36:03 danj Exp $
d17 5
a21 2
REVISION-main=		0
REVISION-pdfviewer=	0
@


1.98
log
@Remove claws-mail-htmlviewer, it uses an old and insecure webkit

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2016/12/17 20:43:36 zhuk Exp $
d55 1
a55 1
WANTLIB-main += hogweed idn ltdl lz4 lzma lzo2 nettle notify ogg p11-kit
@


1.97
log
@fix WANTLIB-main
@
text
@a6 1
COMMENT-htmlviewer=	fancy htmlviewer plugin
a14 1
PKGNAME-htmlviewer=	claws-mail-htmlviewer-${V}
d32 1
a32 1
MULTI_PACKAGES=		-main -bogofilter -spamassassin -htmlviewer -pdfviewer -gdata
a63 9
WANTLIB-htmlviewer =  ${WANTLIB}
WANTLIB-htmlviewer += EGL GL ICE SM X11-xcb Xt Xxf86vm drm enchant gbm gcrypt
WANTLIB-htmlviewer += glapi gpg-error gstapp-1.0 gstaudio-1.0 gstbase-1.0
WANTLIB-htmlviewer += gstfft-1.0 gstpbutils-1.0 gstreamer-1.0 gsttag-1.0
WANTLIB-htmlviewer += gstvideo-1.0 harfbuzz-icu icudata icui18n icuuc
WANTLIB-htmlviewer += javascriptcoregtk-1.0 jpeg lzma orc-0.4 secret-1
WANTLIB-htmlviewer += soup-2.4 soup-gnome-2.4 sqlite3 stdc++ webkitgtk-1.0
WANTLIB-htmlviewer += webp xcb-dri2 xcb-glx xcb-xfixes xml2 xslt

a86 3
LIB_DEPENDS-htmlviewer=	${LIB_DEPENDS} \
			www/webkit>=2.0.0

d97 1
@


1.96
log
@Unbreak after poppler switch from openjpeg to openjp2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2016/11/11 12:31:19 danj Exp $
d19 1
d58 2
a59 2
WANTLIB-main += perl startup-notification-1 stdc++ tasn1 vorbis vorbisfile
WANTLIB-main += xcb-util
@


1.95
log
@Update to claws-mail-3.14.1

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2016/11/11 10:07:51 sthen Exp $
d19 1
d75 1
a75 1
WANTLIB-pdfviewer += jpeg lcms2 openjpeg poppler poppler-glib tiff
@


1.94
log
@regen all WANTLIBs in claws-mail to unbreak - packaging failed after removing idn from
libetpan's WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2016/11/07 10:51:36 sthen Exp $
d11 1
a11 1
V=			3.14.0
a12 1
REVISION=		2
d76 1
a76 3
LIB_DEPENDS=		archivers/libarchive \
			archivers/xz \
			devel/libexecinfo \
d86 2
@


1.93
log
@sync WANTLIB (readding idn to some where I was overzealous, plus some lzma/pthread)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2016/11/04 11:35:19 sthen Exp $
d13 1
a13 1
REVISION=		1
d46 6
a51 7
WANTLIB += Xrandr Xrender archive atk-1.0 bz2 cairo crypto curl
WANTLIB += etpan execinfo expat ffi fontconfig freetype gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += graphite2 gthread-2.0 gtk-x11-2.0 harfbuzz idn lzma lzo2
WANTLIB += m nghttp2 pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs sasl2 ssl xcb xcb-render
WANTLIB += xcb-shm z
d54 5
a58 4
WANTLIB-main += ICE SM X11-xcb assuan c dbus-1 dbus-glib-1 enchant
WANTLIB-main += gmp gnutls gpg-error gpgme hogweed lz4 nettle p11-kit
WANTLIB-main += perl startup-notification-1 stdc++ tasn1 xcb-util
WANTLIB-main += canberra canberra-gtk notify ltdl ogg vorbis vorbisfile
d61 3
a63 3
WANTLIB-gdata += gck-1 gcr-base-3 gcrypt gdata goa-1.0 gpg-error nspr4
WANTLIB-gdata += nss3 oauth p11-kit plc4 plds4 smime3 softokn3 soup-2.4
WANTLIB-gdata += sqlite3 ssl3 xml2 json-glib-1.0
d66 7
a72 8
WANTLIB-htmlviewer += EGL GL ICE SM Xt enchant gbm orc-0.4 gcrypt gpg-error
WANTLIB-htmlviewer += gstapp-1.0 gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0
WANTLIB-htmlviewer += gstreamer-1.0 gsttag-1.0 gstvideo-1.0 harfbuzz-icu
WANTLIB-htmlviewer += icudata icui18n icuuc javascriptcoregtk-1.0
WANTLIB-htmlviewer += jpeg secret-1 soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB-htmlviewer += stdc++ webkitgtk-1.0 webp xml2 xslt
WANTLIB-htmlviewer += X11-xcb Xxf86vm drm glapi xcb-dri2 xcb-glx xcb-shape
WANTLIB-htmlviewer += xcb-xfixes
@


1.92
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2016/08/19 16:52:38 danj Exp $
d13 1
a13 1
REVISION=		0
d49 1
a49 1
WANTLIB += graphite2 gthread-2.0 gtk-x11-2.0 harfbuzz lzma lzo2
@


1.91
log
@update to claws-mail-3.14.0

Diff reads good to sthen@@, ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2016/08/03 18:47:57 edd Exp $
d13 1
d49 1
a49 1
WANTLIB += graphite2 gthread-2.0 gtk-x11-2.0 harfbuzz idn lzma lzo2
@


1.90
log
@mail/claws-mail: Fix SSL cert verification.

Also re-gen a patch.

OK danj@@, jung@@. Thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2016/07/09 08:46:24 sthen Exp $
d11 1
a11 3
V=			3.13.2
REVISION=		0
REVISION-main=		2
@


1.89
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2016/03/18 21:38:24 naddy Exp $
d13 1
a13 1
REVISION-main=		1
@


1.88
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2016/03/02 12:38:03 sthen Exp $
d13 1
d57 2
a58 2
WANTLIB-main += gmp gnutls gpg-error gpgme hogweed nettle p11-kit perl
WANTLIB-main += startup-notification-1 stdc++ tasn1 util xcb-util
@


1.87
log
@remove the compface flavour from claws-mail, it wasn't built in bulk builds
anyway and mmcc is going on a ports terminator rampage. original diff from
mmcc, I did the awkward @@pkgpath bits.

ok landry and Daniel Jakots (maintainer, who spotted that my further attempt
at cleanup in post-install was broken)
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.86 2016/01/19 18:19:22 landry Exp $

SHARED_ONLY=		Yes
@


1.86
log
@claws-mail 3.13.2, from MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2016/01/17 17:29:09 sthen Exp $
d14 1
d36 1
a36 1
FLAVORS=		jpilot compface ldap
d112 1
a116 1

a131 9
.endif

.if ${FLAVOR:Mcompface}
PERMIT_PACKAGE_CDROM=	No Fee
PERMIT_PACKAGE_FTP=	Yes
LIB_DEPENDS-main+=	mail/faces
WANTLIB-main +=		compface>=1
.else
CONFIGURE_ARGS+=	--disable-compface
@


1.85
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2015/12/23 23:12:23 sthen Exp $
d13 1
a13 2
V=			3.13.1
REVISION-htmlviewer=	0
@


1.84
log
@update to claws-mail 3.13.1, from maintainer Daniel Jakots.  CVE-2015-8614
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2015/10/30 12:47:40 sthen Exp $
d14 1
d74 2
@


1.83
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2015/10/13 07:10:22 landry Exp $
d13 1
a13 1
V=			3.13.0
a14 1
REVISION=		0
a155 1
		freshmeat_search.pl \
@


1.82
log
@Update to claws-mail 3.13.0, from maintainer Daniel Jakots.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2015/09/12 14:14:17 sthen Exp $
d15 1
d52 1
a52 1
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
@


1.81
log
@update to claws-mail-3.12.0, from Daniel Jakots who takes maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/07/19 02:14:57 ajacoutot Exp $
d13 1
a13 1
V=			3.12.0
@


1.80
log
@Kill debug FLAVOR; same can be achieved by running "make DEBUG= ... "
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2015/06/10 21:27:21 sthen Exp $
d13 1
a13 1
V=			3.11.1
a20 6
REVISION-main=		2
REVISION-bogofilter=	2
REVISION-spamassassin=	2
REVISION-htmlviewer=	2
REVISION-pdfviewer=	2
REVISION-gdata=		2
d25 1
d30 1
a30 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=claws-mail/}
EXTRACT_SUFX=		.tar.bz2
@


1.80.4.1
log
@Security fix for CVE-2015-8614
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/07/19 02:14:57 ajacoutot Exp $
d21 1
a21 1
REVISION-main=		3
@


1.79
log
@WANTLIB += lzo2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/04/04 09:21:02 ajacoutot Exp $
d41 1
a41 1
FLAVORS=		jpilot compface ldap debug
a150 5
.endif

.if ${FLAVOR:Mdebug}
CFLAGS+=	-O0 -g
INSTALL_STRIP=
@


1.78
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/03/27 08:41:04 ajacoutot Exp $
d21 6
a26 6
REVISION-bogofilter=	1
REVISION-gdata=		1
REVISION-htmlviewer=	1
REVISION-main=		1
REVISION-pdfviewer=	1
REVISION-spamassassin=	1
d56 1
a56 1
WANTLIB += graphite2 gthread-2.0 gtk-x11-2.0 harfbuzz idn lzma
@


1.77
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/02/16 22:57:09 naddy Exp $
d21 6
a26 6
REVISION-bogofilter=	0
REVISION-gdata=		0
REVISION-htmlviewer=	0
REVISION-main=		0
REVISION-pdfviewer=	0
REVISION-spamassassin=	0
@


1.76
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2015/01/14 12:18:42 landry Exp $
d21 6
d92 1
a92 1
			x11/gtk+2,-guic
@


1.75
log
@Update to claws-mail 3.11.1

See http://www.claws-mail.org/news.php for list of bugfixes.

Tested by Daniel Jakots and Benjamin Baier, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2015/01/12 21:47:13 landry Exp $
a115 1
USE_GROFF =		Yes
@


1.74
log
@Unbreak after encrypt() removal from libc a while ago.

Patch from Benjamin Baier (thanks!), updated to apply on -current by
jca@@, ok sthen@@. This is backwards-compatible with a 5.6 config file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2014/10/25 14:53:04 ajacoutot Exp $
d13 1
a13 4
V=			3.9.3
REVISION=		1
REVISION-htmlviewer=	2
REVISION-main=		2
d29 1
a29 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=sylpheed-claws/}
d58 1
a58 1
WANTLIB-main += startup-notification-1 stdc++ tasn1 util xcb-util xml2
d64 1
a64 1
WANTLIB-gdata += sqlite3 ssl3 xml2
d67 1
a67 1
WANTLIB-htmlviewer += EGL GL ICE SM Xt dbus-1 enchant orc-0.4 gcrypt gpg-error
d192 2
@


1.73
log
@Regen DEPS/WANTLIB after recent webkit update; should be the last ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/04/22 19:26:45 naddy Exp $
d16 1
@


1.72
log
@oops, s/xcb-aux/xcb-util/; from sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/04/21 17:59:18 sthen Exp $
d15 1
d69 1
a69 2
WANTLIB-htmlviewer += EGL GL ICE SM Xt dbus-1 dbus-glib-1 enchant
WANTLIB-htmlviewer += orc-0.4 gcrypt geoclue gpg-error
@


1.71
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/04/14 19:50:09 matthieu Exp $
d59 1
a59 1
WANTLIB-main += startup-notification-1 stdc++ tasn1 util xcb-aux xml2
@


1.70
log
@Update WANTLIB for xcb libs update. Tested by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/04/14 09:08:44 landry Exp $
d14 1
a14 1
REVISION=		0
d51 4
a54 4
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz idn lzma m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs sasl2 ssl xcb xcb-render xcb-shm z
WANTLIB += asn1 com_err graphite2 gssapi heimbase krb5 roken wind
d59 1
a59 1
WANTLIB-main += startup-notification-1 stdc++ tasn1 util xcb-util xml2
d62 1
a62 1
WANTLIB-gdata = ${WANTLIB} 
d65 1
a65 1
WANTLIB-gdata += soup-gnome-2.4 sqlite3 ssl3 xml2
@


1.69
log
@Remove commented out REVISION line as intended.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2014/04/14 08:53:35 landry Exp $
d14 1
d59 1
a59 1
WANTLIB-main += startup-notification-1 stdc++ tasn1 util xcb-aux xml2
@


1.68
log
@Update to claws-mail 3.9.3.

From jack.szmidt, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/10/11 22:14:18 landry Exp $
a13 1
#REVISION=		1
@


1.67
log
@Assorted fixes prompted by naddy@@:

- add a -gdata subpackage for the plugin interacting with google
  contacts, since it picks up libgdata if present.
- add libnotify & libcanberra-gtk to LDEP-main since they're picked up
  for the notification plugin if present.
- tidy WANTLIB, put the krb5 & friends only once in WANTLIB.
- remove a leftover empty WANTLIB-docs
- cleanup WANTLIB-* in the ldap FLAVOR, they made no sense
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/09/26 13:46:28 sthen Exp $
d13 2
a14 2
V=			3.9.2
REVISION=		1
@


1.66
log
@unbreak WANTLIB/LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/09/25 08:03:13 landry Exp $
d11 1
d14 1
a14 1
REVISION=		0
d21 1
d35 1
a35 1
MULTI_PACKAGES=		-main -bogofilter -spamassassin -htmlviewer -pdfviewer
d54 1
d60 6
d68 2
a69 2
WANTLIB-htmlviewer += EGL GL ICE SM Xt asn1 com_err dbus-1 dbus-glib-1 enchant
WANTLIB-htmlviewer += gailutil gcrypt geoclue gpg-error graphite2 gssapi
d72 3
a74 3
WANTLIB-htmlviewer += heimbase icudata icui18n icuuc javascriptcoregtk-1.0
WANTLIB-htmlviewer += jpeg krb5 roken secret-1 soup-2.4 soup-gnome-2.4 sqlite3
WANTLIB-htmlviewer += stdc++ webkitgtk-1.0 webp wind xml2 xslt
d77 1
a77 4
WANTLIB-pdfviewer += asn1 com_err graphite2 gssapi heimbase jpeg krb5 lcms2
WANTLIB-pdfviewer += openjpeg poppler poppler-glib roken tiff wind

WANTLIB-docs=
d93 2
d105 3
d144 1
a144 6
WANTLIB-main+=		roken wind krb5 lber-2.4 ldap-2.4
WANTLIB-main+=		asn1 com_err graphite2 gssapi heimbase
WANTLIB-bogofilter+=	${WANTLIB} asn1 com_err graphite2 gssapi heimbase
WANTLIB-bogofilter+=	krb5 roken wind
WANTLIB-spamassassin+=	${WANTLIB} asn1 com_err graphite2 gssapi heimbase
WANTLIB-spamassassin+=	krb5 roken wind
@


1.65
log
@Update to claws-mail 3.9.2.

- all the plugins which were distributed separately are now bundled in.
- @@conflict/@@pkgpath markers added for upgrade path.
- add a pdfviewer plugin using poppler
- replace the dead gtkhtml2-based htmlviewer plugin by one using webkit.
- given the deps, pdfviewer and htmlviewer are subpackages.
- remove BDEP on libgcrypt, shouldnt be needed with gnutls >= 2.11.
- remove patches merged upstream.

From Ido Admon, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/09/06 16:28:48 ajacoutot Exp $
d13 1
d45 25
a69 24
WANTLIB=		X11 Xcomposite Xcursor Xdamage Xext Xfixes \
			Xi Xinerama Xrandr Xrender asn1 atk-1.0 bz2 cairo \
			com_err crypto curl etpan>=13 execinfo expat ffi \
			fontconfig freetype gdk_pixbuf-2.0 gdk-x11-2.0 gio-2.0 \
			glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gssapi \
			gthread-2.0 gtk-x11-2.0 harfbuzz heimbase idn krb5 \
			m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre \
			pixman-1 png pthread pthread-stubs roken sasl2 ssl \
			stdc++ wind xcb xcb-render xcb-shm z

WANTLIB-main=		${WANTLIB} ICE SM X11-xcb c dbus-1 gmp hogweed nettle \
			tasn1 xcb-aux assuan startup-notification-1 enchant \
			gnutls gpgme dbus-glib-1 gpg-error p11-kit perl util \
			xml2

WANTLIB-htmlviewer=	${WANTLIB} EGL GL ICE SM Xt archive dbus-1 dbus-glib-1 \
			enchant gailutil gcrypt geoclue gpg-error gstapp-1.0 \
			gstaudio-1.0 gstbase-1.0 gstfft-1.0 gstpbutils-1.0 \
			gsttag-1.0 gstreamer-1.0 gstvideo-1.0 harfbuzz-icu \
			icudata icui18n icuuc javascriptcoregtk-1.0 jpeg \
			orc-0.4 secret-1 soup-2.4 soup-gnome-2.4 sqlite3 \
			webkitgtk-1.0 webp xml2 xslt

WANTLIB-pdfviewer=	${WANTLIB} jpeg lcms2 openjpeg poppler poppler-glib tiff
d73 2
a74 1
LIB_DEPENDS=		x11/gtk+2 \
d77 2
a78 1
			security/cyrus-sasl2
@


1.64
log
@Sync WANTLIB after gnutls/p11-kit update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/08/20 22:30:36 zhuk Exp $
d9 2
d12 1
a12 1
V=			3.8.1
a13 4
REVISION-main=		7
REVISION-bogofilter=	6
REVISION-clamav=	1
REVISION-spamassassin=	6
d17 3
d32 1
a32 1
MULTI_PACKAGES=		-main -bogofilter -spamassassin
d45 8
a52 8
			Xi Xinerama Xrandr Xrender atk-1.0 cairo crypto curl \
			expat fontconfig freetype gio-2.0 glib-2.0 gthread-2.0 \
			gmodule-2.0 gobject-2.0 idn m pango-1.0 pangocairo-1.0 \
			pangoft2-1.0 pcre pixman-1 png pthread-stubs ssl \
			xcb z gdk_pixbuf-2.0 pthread \
			gdk-x11-2.0 gtk-x11-2.0 execinfo etpan>=13 sasl2 \
			xcb-render xcb-shm heimbase krb5 roken wind \
			ffi harfbuzz asn1 com_err graphite2 gssapi
d55 13
a67 2
			tasn1 xcb-aux assuan startup-notification-1 stdc++ \
			enchant gnutls gpgme dbus-glib-1 gpg-error p11-kit
a70 2
# XXX libgcrypt shouldn't be needed:
BUILD_DEPENDS+=		security/libgcrypt
d87 13
a99 3
CONFIGURE_ARGS+=	--disable-gnomeprint \
			--disable-networkmanager-support \
			--disable-dillo-viewer-plugin
d107 1
a107 1
AUTOCONF_VERSION=	2.68
@


1.63
log
@Fix incomplete licensing information for "compface" FLAVORs. Found with
portcheck

okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/06/20 06:54:36 ajacoutot Exp $
d12 4
a15 4
REVISION-main=		6
REVISION-bogofilter=	5
REVISION-clamav=	0
REVISION-spamassassin=	5
d50 2
a51 2
			xcb-render xcb-shm \
			ffi harfbuzz
@


1.62
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/06/17 19:28:36 ajacoutot Exp $
d12 4
a15 3
REVISION-main=		5
REVISION-bogofilter=	4
REVISION-spamassassin=	4
d101 1
@


1.61
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/05/31 15:34:49 ajacoutot Exp $
d12 3
a14 3
REVISION-main=		4
REVISION-bogofilter=	3
REVISION-spamassassin=	3
d108 2
a109 2
WANTLIB-main+=		asn1 com_err graphite2 gssapi heimbase heimntlm hx509
WANTLIB-bogofilter+=	${WANTLIB} asn1 com_err graphite2 gssapi heimbase heimntlm hx509
d111 1
a111 1
WANTLIB-spamassassin+=	${WANTLIB} asn1 com_err graphite2 gssapi heimbase heimntlm hx509
@


1.60
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/03/21 08:46:32 ajacoutot Exp $
d12 3
a14 3
REVISION-main=		3
REVISION-bogofilter=	2
REVISION-spamassassin=	2
d42 1
a42 1
WANTLIB=		X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
d47 1
a47 1
			xcb z gdk_pixbuf-2.0 pthread stdc++ \
d49 1
a49 1
			GL Xxf86vm drm xcb-render xcb-shm \
d53 1
a53 1
			tasn1 xcb-aux assuan startup-notification-1 \
d107 6
a112 1
WANTLIB-main+=		asn1 com_err gssapi krb5 lber-2.4 ldap-2.4
@


1.59
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/11 11:23:50 espie Exp $
d12 3
a14 3
REVISION-main=		2
REVISION-bogofilter=	1
REVISION-spamassassin=	1
d50 1
a50 1
			ffi harfbuzz icudata icule icuuc
@


1.58
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/02/24 14:46:29 sthen Exp $
a81 1
USE_LIBTOOL=		Yes
@


1.57
log
@hidden build dep on libgcrypt (which shouldn't be necessary, but to be
fixed properly later). ok naddy@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/12/23 12:25:30 sthen Exp $
a23 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a100 1
PERMIT_DISTFILES_CDROM=	No Fee
@


1.56
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/10/09 17:01:15 sthen Exp $
d61 2
@


1.55
log
@avoid a null pointer deref in claws-mail;
http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=2743
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/10/09 16:41:29 sthen Exp $
d12 3
a14 3
REVISION-main=		1
REVISION-bogofilter=	0
REVISION-spamassassin=	0
d50 1
a50 1
			gcrypt gpg-error xcb z gdk_pixbuf-2.0 \
d52 2
a53 1
			GL Xxf86vm drm xcb-render xcb-shm
d55 3
a57 3
WANTLIB-main=		${WANTLIB} ICE SM c dbus-1 gmp hogweed nettle \
			pthread stdc++ tasn1 xcb-atom xcb-aux xcb-event assuan \
			startup-notification-1 enchant gnutls gpgme dbus-glib-1
d64 1
a64 2
			security/cyrus-sasl2 \
			security/libgcrypt
d101 3
a103 3
PERMIT_PACKAGE_CDROM=   No Fee
PERMIT_DISTFILES_CDROM= No Fee
LIB_DEPENDS-main+=     	mail/faces
d106 1
a106 1
CONFIGURE_ARGS+=       --disable-compface
d110 1
a110 1
WANTLIB-main+=		asn1 com_err gssapi krb5 lber ldap
@


1.54
log
@clean up @@pkgpath lines now we have a nicer notation,
zap some [space][eol] in Makefile while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/06/29 14:02:54 landry Exp $
d12 3
a14 1
REVISION=		0
@


1.53
log
@Update to claws-mail 3.8.1 and plugins :

- attremover 1.0.14
- htmlviewer 0.32
- notification 0.30
- rssyl 0.33
- vcalendar 2.0.13

While here add patches for upstream bugs #2840, #2841 and #2842. Add
links to corresponding patches for tracking purposes.

All from Christopher Zimmermann, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/06/15 08:32:16 ajacoutot Exp $
d12 1
d39 1
a39 1
			mail/bogofilter 
d41 1
a41 1
			mail/p5-Mail-SpamAssassin 
d91 1
a91 1
LIB_DEPENDS-main+=	comms/pilot-link 
@


1.52
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2012/01/23 18:57:33 landry Exp $
d10 1
a10 1
V=			3.8.0
a15 2

REVISION-main=		0
@


1.51
log
@Update to claws-mail 3.8.0 and its plugins, from robert at openbsd dot
pap dot st, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/12/15 21:09:38 kili Exp $
d16 2
@


1.50
log
@Remove maintainer as per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/12/03 20:30:09 ajacoutot Exp $
d10 1
a10 1
V=			3.7.9
a12 1
REVISION-main=		4
a13 2
REVISION-bogofilter =	1
REVISION-clamav =	0
a14 1
REVISION-spamassassin =	1
d70 1
a70 1
			security/gnutls \
d85 1
a85 1
AUTOCONF_VERSION=	2.67
@


1.49
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/12/02 14:36:15 espie Exp $
d13 1
a13 1
REVISION-main=		3
d15 2
a16 1
REVISION-bogofilter =	0
d18 1
a18 1
REVISION-spamassassin =	0
a21 2

MAINTAINER=		Ulrich Kahl <ulrich.kahl@@cityweb.de>
@


1.48
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/16 10:31:21 espie Exp $
d13 1
a13 1
REVISION-main=		2
d69 2
a70 1
			devel/desktop-file-utils
@


1.47
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/08/30 06:54:11 ajacoutot Exp $
d93 1
a93 1
.if ${FLAVOR:L:Mjpilot}
d101 1
a101 1
.if ${FLAVOR:L:Mcompface}
d110 1
a110 1
.if ${FLAVOR:L:Mldap}
d117 1
a117 1
.if ${FLAVOR:L:Mdebug}
@


1.46
log
@Fix WANTLIB after gpgme update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/06/13 20:52:26 landry Exp $
a11 1
REVISION-main=		1
d13 1
d15 1
d17 1
@


1.45
log
@Fix a crash at startup when notification plugin is enabled, fix from
upstream bug
http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=2414

From Guillaume Pinot on ports@@, thanks!
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/04/21 13:10:42 landry Exp $
d12 1
a12 1
REVISION-main=		0
d55 1
a55 1
			pthread stdc++ tasn1 xcb-atom xcb-aux xcb-event \
@


1.44
log
@Update to claws-mail 3.7.9, from robert at openbsd dot pap dot st, thanks!
Fix AUTOCONF_VERSION while here, 2.67 works fine.
Maintainer timeout/mbox full....
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/04/15 16:10:38 ajacoutot Exp $
d12 1
@


1.43
log
@Fix DEPENDS after gnutls update.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/03/10 21:37:33 landry Exp $
d10 1
a10 1
V=			3.7.8
a16 4
REVISION-main=		0
REVISION-bogofilter=	0
REVISION-spamassassin=	0

d85 2
a86 2
# autoconf 2.65 still has some issues with it
AUTOCONF_VERSION=	2.62
@


1.42
log
@Update to claws-mail 3.7.8, from robert at openbsd dot pap dot st (and
also following plugin updates, thanks!).

Remove -docs subpackage as upstream switched to docbook2html for doc
generation and doesn't seem to provide a way to install distributed
docs.. might come back later.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/01/15 09:21:31 sthen Exp $
d17 4
d57 1
a57 1
WANTLIB-main=		${WANTLIB} ICE SM c dbus-1 \
d66 2
a67 1
			security/cyrus-sasl2
@


1.41
log
@Repair @@pkgpath markers, problem spotted by jasper@@, discussed with
landry/espie. While there, sync WANTLIB (gthread in subpackages, and
GL/Xxf86vm/xcb-* etc).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/11/19 07:23:05 espie Exp $
a5 1
COMMENT-docs=		documentation
d10 1
a10 1
V=			3.7.6
a12 3
REVISION-main =		2
FULLPKGNAME-docs=	claws-mail-docs-${V}
FULLPKGPATH-docs=	mail/claws-mail,-docs
a13 1
REVISION-bogofilter =	2
a14 2
REVISION-spamassassin =	2
REVISION-docs =		0
d32 1
a32 1
MULTI_PACKAGES=		-main -docs -bogofilter -spamassassin
a77 3
LIB_DEPENDS-docs=
PKG_ARCH-docs=	*

a161 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/claws-mail
	${INSTALL_DATA} ${WRKSRC}/COPYING ${PREFIX}/share/doc/claws-mail
@


1.40
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/09 20:13:25 espie Exp $
d14 1
a14 1
REVISION-main =		1
d18 1
a18 1
REVISION-bogofilter =	1
d20 2
a21 1
REVISION-spamassassin =	1
d53 1
a53 1
			expat fontconfig freetype gio-2.0 glib-2.0 \
d57 2
a58 1
			gdk-x11-2.0 gtk-x11-2.0 execinfo etpan>=13 sasl2
d60 1
a60 1
WANTLIB-main=		${WANTLIB} ICE SM c dbus-1 gthread-2.0 \
@


1.39
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/24 21:25:11 ajacoutot Exp $
d45 4
a48 4
RUN_DEPENDS-bogofilter=	::${BUILD_PKGPATH} \
			::mail/bogofilter 
RUN_DEPENDS-spamassassin=::${BUILD_PKGPATH} \
			::mail/p5-Mail-SpamAssassin 
d56 1
a56 1
			gdk-x11-2.0 gtk-x11-2.0 execinfo etpan.>=13 sasl2
d64 4
a67 4
LIB_DEPENDS=		::x11/gtk+2 \
			::devel/libexecinfo \
			::mail/libetpan \
			::security/cyrus-sasl2
d70 1
a70 1
			:desktop-file-utils-*:devel/desktop-file-utils
d73 5
a77 5
			::devel/startup-notification \
			::textproc/enchant \
			::security/gnutls \
			::security/gpgme \
			::x11/dbus-glib
d89 1
a89 1
USE_GROFF =	Yes
d98 1
a98 1
LIB_DEPENDS-main+=	::comms/pilot-link 
d100 1
a100 1
RUN_DEPENDS-main+=	::comms/jpilot
d108 2
a109 2
LIB_DEPENDS-main+=     	::mail/faces
WANTLIB-main +=		compface.>=1
d116 1
a116 1
LIB_DEPENDS-main+=	:openldap-client-*:databases/openldap
@


1.38
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/18 19:59:15 espie Exp $
d13 2
a14 1
PKGNAME-main=		${DISTNAME}p1
d17 4
a20 2
PKGNAME-bogofilter=	claws-mail-bogofilter-${V}p1
PKGNAME-spamassassin=	claws-mail-spamassassin-${V}p1
d55 2
a56 1
			gcrypt gpg-error xcb z gdk_pixbuf-2.0
d59 2
a60 1
			pthread stdc++ tasn1 xcb-atom xcb-aux xcb-event
d64 4
a67 4
LIB_DEPENDS=		gdk-x11-2.0,gtk-x11-2.0::x11/gtk+2 \
			execinfo::devel/libexecinfo \
			etpan.>=13::mail/libetpan \
			sasl2::security/cyrus-sasl2
d73 5
a77 5
			startup-notification-1::devel/startup-notification \
			enchant::textproc/enchant \
			gnutls::security/gnutls \
			gpgme::security/gpgme \
			dbus-glib-1::x11/dbus-glib
d98 2
a99 1
LIB_DEPENDS-main+=	pisock::comms/pilot-link 
d108 2
a109 1
LIB_DEPENDS-main+=     compface.>=1::mail/faces
d115 2
a116 2
WANTLIB-main+=		asn1 com_err gssapi krb5
LIB_DEPENDS-main+=	lber,ldap:openldap-client-*:databases/openldap
@


1.37
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/10/11 08:15:27 jasper Exp $
a81 1
USE_X11=		Yes
@


1.36
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/09/30 07:21:19 ajacoutot Exp $
d85 1
@


1.35
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/06/11 17:08:32 landry Exp $
d13 1
a13 1
PKGNAME-main=		${DISTNAME}p0
d16 2
a17 2
PKGNAME-bogofilter=	claws-mail-bogofilter-${V}p0
PKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
d49 1
a49 1
			expat fontconfig freetype gio-2.0 glib-2.0 glitz \
@


1.34
log
@Update to claws-mail 3.7.6, based on a diff from robert at openbsd dot
pap dot st with some tweaks by me.
Discussed with and ok Ulrich Kahl (maintainer) and stephan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/04/15 14:11:01 ajacoutot Exp $
d13 1
a13 1
PKGNAME-main=		${DISTNAME}
d16 2
a17 2
PKGNAME-bogofilter=	claws-mail-bogofilter-${V}
PKGNAME-spamassassin=	claws-mail-spamassassin-${V}
d52 1
a52 1
			gcrypt gpg-error xcb z
d59 1
a59 1
LIB_DEPENDS=		gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
@


1.33
log
@Consistency: remove the 1, 2 or even 3 empty blank lines.

sthen@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/03/31 11:50:46 landry Exp $
d11 1
a11 1
V=			3.7.5
d14 1
a14 1
FULLPKGNAME-docs=	claws-mail-docs-${V}p0
d87 1
@


1.32
log
@Update to claws-mail 3.7.5, based on a diff from robert at
openbsd.pap.st (thanks!) with PLIST update by me.
looks good to pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/02/26 19:04:04 espie Exp $
d14 1
a14 1
FULLPKGNAME-docs=	claws-mail-docs-${V}
@


1.31
log
@fix PKGNAMES and PKGPATH.

sorry, but the bogofilter and spamassassin subpackages cannot have changing
RUN_DEPENDS like that (and there's a debug flavor that affects them anyways)

The port may need further cleanup for optimization, but play it safe for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/12/21 22:20:12 ajacoutot Exp $
d11 1
a11 1
V=			3.7.3
d13 2
a14 2
PKGNAME-main=		${DISTNAME}p0
FULLPKGNAME-docs=	claws-mail-docs-${V}p0
d16 2
a17 2
PKGNAME-bogofilter=	claws-mail-bogofilter-${V}p0
PKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
@


1.30
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/10/23 17:12:36 landry Exp $
d13 5
a17 4
PKGNAME-main=			${DISTNAME}p0
FULLPKGNAME-docs=		claws-mail-docs-${V}
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}
@


1.29
log
@Update to claws-mail 3.7.3, diff from Pawlowski Marcin Piotr, thanks!
Some tweaks by me to fix WANTLIB/LIB_DEPENDS maze and clean PLIST.
Looks good to maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/08/10 06:32:42 kili Exp $
d13 1
a13 1
PKGNAME-main=			${DISTNAME}
@


1.28
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/07/17 17:02:45 landry Exp $
d11 1
a11 1
V=			3.7.2
d13 1
a13 1
PKGNAME-main=			${DISTNAME}p0
d15 2
a16 2
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}p0
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
d50 2
a51 2
			pangoft2-1.0 pcre pixman-1 png pthread-stubs ssl tasn1 \
			xcb z
d53 2
a54 2
WANTLIB-main=		${WANTLIB} ICE SM c dbus-1 gthread-2.0 gpg-error \
			gcrypt pthread stdc++
a57 4
WANTLIB-bogofilter=	${WANTLIB} gcrypt gnutls gpg-error

WANTLIB-spamassassin=	${WANTLIB} gcrypt gnutls gpg-error

d86 1
a86 1
AUTOCONF_VERSION=	2.61
@


1.27
log
@Update to claws-mail 3.7.2, prodded by an initial diff from Pawlowski
Marcin Piotr, diff put into shape by Ulrich Kahl (MAINTAINER).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/06/29 09:23:39 landry Exp $
d13 1
a13 1
PKGNAME-main=			${DISTNAME}
d15 2
a16 2
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}
d50 2
a51 1
			pangoft2-1.0 pcre pixman-1 png ssl tasn1 z
@


1.26
log
@Claws-mail picks devel/libexecinfo if installed, add it to LIB_DEPENDS
and bump PKGNAMEs. Reported by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/03/18 08:31:21 pea Exp $
d11 1
a11 1
V=			3.7.1
d13 1
a13 1
PKGNAME-main=			${DISTNAME}p0
d15 2
a16 2
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}p0
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
@


1.25
log
@Update to 3.7.1

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/02/10 20:52:39 landry Exp $
d13 1
a13 1
PKGNAME-main=			${DISTNAME}
d15 2
a16 2
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}
d62 1
@


1.24
log
@Update to claws-mail 3.7.0, from MAINTAINER Ulrich Kahl, thanks!
While here, get rid of some openssl env vars forgotten in last update.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/10/20 12:22:42 landry Exp $
d11 1
a11 1
V=			3.7.0
@


1.23
log
@Remove -dillo subpackage, claws devs don't plan to support dillo2, and
claws-mail-htmlviewer plugin is far better anyway.

From Ulrich Kahl (MAINTAINER) and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/10/17 12:46:33 landry Exp $
d11 1
a11 1
V=			3.6.1
d13 1
a13 1
PKGNAME-main=			${DISTNAME}p0
d48 3
a50 3
			expat fontconfig freetype glib-2.0 glitz gmodule-2.0 \
			gobject-2.0 idn m pango-1.0 pangocairo-1.0 \
			pangoft2-1.0 pcre pixman-1 png ssl z
d55 5
a59 1
WANTLIB-docs=		
d89 1
a89 3
CONFIGURE_ENV+=		OPENSSL_CFLAGS="-I/usr/include/openssl" \
			OPENSSL_LIBS="-lssl -lcrypto" \
			CPPFLAGS="-I${X11BASE}/include" \
d145 1
a145 1
		kdeservicemenu/install.sh \
d148 1
@


1.22
log
@Update to claws-mail 3.6.1.
Due to some licensing mess, it now uses GnuTLS instead of OpenSSL.
Switched to textproc/enchant instead of textproc/aspell for spelling.

No objection from ajacoutot@@, looks good to MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/07/02 09:28:09 landry Exp $
a8 1
COMMENT-dillo=		dillo plugin
d13 1
a13 1
PKGNAME-main=			${DISTNAME}
a15 1
FULLPKGNAME-dillo=		claws-mail-dillo-${V}
d34 1
a34 1
MULTI_PACKAGES=		-main -docs -bogofilter -dillo -spamassassin
a42 2
RUN_DEPENDS-dillo=	::${BUILD_PKGPATH} \
			::www/dillo 
d72 2
a73 1
			--disable-networkmanager-support
@


1.21
log
@Update to claws-mail 3.5.0, diff from Ulrich Kahl (MAINTAINER)
Removes an integrated patch and some unmaintained/outdated translations.
Update patches and PLIST while here.

Tested by myself, pyr@@ and pea at raveland dot org, thanks!
ok ajacoutot@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.20 2008/06/29 20:44:52 sthen Exp $
d12 1
a12 1
V=			3.5.0
d25 1
a25 1
# GPLv3
a42 1
SHARED_ONLY=		Yes
d57 1
a57 1
			pthread stdc++
d62 1
a62 1
			etpan::mail/libetpan \
d70 2
a71 1
			aspell::textproc/aspell/core \
a162 1

@


1.20
log
@sync WANTLIB following cairo update. ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/04/23 21:11:29 landry Exp $
d10 1
a10 1
V=			3.4.0
d12 1
a12 1
PKGNAME-main=			${DISTNAME}p0
d14 3
a16 3
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}p0
FULLPKGNAME-dillo=		claws-mail-dillo-${V}p0
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
@


1.19
log
@Update to claws-mail 3.4.0 from maintainer Ulrich Kahl
Add a temporary patch from brad@@ to fix upstream bug #1566, see
http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=1566
(it's already fixed in upstream cvs, but slightly differently)

ok ajacoutot@@, 'ok ok ok ok' pyr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/04/17 08:10:10 ajacoutot Exp $
d12 1
a12 1
PKGNAME-main=			${DISTNAME}
d14 3
a16 3
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}
FULLPKGNAME-dillo=		claws-mail-dillo-${V}
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}
d53 1
a53 1
			pangoft2-1.0 pcre png ssl z
@


1.18
log
@- tweak the way the gtk-update-icon-cache goo is run

gtk-update-icon-cache is part of gtk+2: adding gtk+2 to run_depends just
to update the icon cache (which only gtk apps can use) is overkill to
say the least!
As from now, each time icons are installed under %D/share/icons, we try
to execute gtk-update-icon-cache and if it is not there, we just ignore
the error.
What it means is that if you have gtk+2 installed, then it'll run fine
and your apps will be able to use the cache. Otherwise, it will silently
fails which is fine since it means none of your apps would have been
able to take advantage of the cache anyway.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/04/05 11:43:22 landry Exp $
d10 1
a10 1
V=			3.3.1
d12 1
a12 1
PKGNAME-main=			${DISTNAME}p0
d50 4
a53 3
			Xi Xinerama Xrandr Xrender atk-1.0 cairo crypto expat \
			fontconfig freetype glib-2.0 glitz gmodule-2.0 gobject-2.0 \
			m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre png ssl z
d55 2
a56 1
WANTLIB-main=		${WANTLIB} ICE SM c dbus-1 gthread-2.0 gpg-error pthread stdc++
@


1.17
log
@Update to claws-mail 3.3.1, from brad@@

ok MAINTAINER & pyr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/02/25 17:14:18 landry Exp $
d12 1
a12 1
PKGNAME-main=			${DISTNAME}
@


1.16
log
@backport a security fix from claws-mail 3.3.1 to "Forbid attaching anything
containing "../" or ".ssh/" in mailto: URIs."
backporting (we're in freeze) adviced by sthen@@, update noticed by MAINTAINER
ok espie@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/02/13 13:17:26 landry Exp $
d10 1
a10 1
V=			3.3.0
d12 1
a12 2

PKGNAME-main=			${DISTNAME}p0
a16 1

d88 1
@


1.15
log
@Update to claws-mail 3.3.0, from Ulrich Kahl (maintainer) with some tweaks
by me to clean/reorder LIB_DEPENDS/WANTLIB. Remove two integrated patches.
clamav plugin is not part of it anymore due to licence issues, it will be
reimported soon in a standalone port.

Tested too by Pierre-Emmanuel Andre @@i386, thanks !
ok ajacoutot@@ pyr@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/01/25 14:20:31 landry Exp $
d13 1
a13 1
PKGNAME-main=			${DISTNAME}
@


1.14
log
@Add two patches to fix thread deadlock issue when pgp plugins were loaded.
Fixes http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=1348
Re-enable pgp plugins in PLIST and bump PKGNAME.

additional testing from Pierre Emmanuel Andr, thanks !
ok ajacoutot@@ Andreas Kuhl (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2008/01/08 23:13:23 landry Exp $
d10 1
a10 1
V=			3.2.0
d13 1
a13 1
PKGNAME-main=			${DISTNAME}p0
a15 1
FULLPKGNAME-clamav=		claws-mail-clamav-${V}
d36 1
a36 2
MULTI_PACKAGES=		-main -docs -bogofilter -clamav -dillo \
			-spamassassin
a45 1
RUN_DEPENDS-clamav=	::${BUILD_PKGPATH}
d52 3
a54 2
			Xi Xinerama Xrandr Xrender crypto expat fontconfig \
			freetype m ssl z pcre
d56 1
a56 1
WANTLIB-main=		${WANTLIB} ICE SM c pthread stdc++
a58 1
WANTLIB-clamav=		${WANTLIB} bz2 gmp
d60 1
a60 7
LIB_DEPENDS=		atk-1.0::devel/atk \
			cairo::graphics/cairo \
			gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
			glib-2.0,gmodule-2.0,gobject-2.0::devel/glib2 \
			glitz::graphics/glitz \
			pango-1.0,pangocairo-1.0,pangoft2-1.0::devel/pango \
			png::graphics/png \
a67 1
			gthread-2.0::devel/glib2 \
d71 4
a74 2
			gpg-error::security/libgpg-error
CONFIGURE_ARGS+=	--disable-gnomeprint
a77 3

LIB_DEPENDS-clamav=	${LIB_DEPENDS} \
			clamav::security/clamav
@


1.13
log
@Long due update to 3.2.0, diff mostly from Ulrich Kahl (MAINTAINER)
- gnomeprint flavor has been removed, it uses gtkprint now
- patch-src_procmime_c updated to fix a problem reported by Marten King
- pgp* plugins are built but not installed, due to a severe threading bug :
see http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=1348

tested by many, ok ajacoutot@@ kili@@ and MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/12/18 15:56:16 ajacoutot Exp $
d12 2
a13 1
PKGNAME-main=			${DISTNAME}
d75 1
a75 2
# at the moment, pgpcore/pgpinline/pgpmime plugins are built but not installed
# http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=1348
@


1.12
log
@- add missing update-desktop-database goo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/11/14 09:43:40 steven Exp $
d10 1
a10 1
V=			3.0.1
d12 1
a12 1
PKGNAME-main=			${DISTNAME}p1
d14 4
a17 4
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}p0
FULLPKGNAME-clamav=		claws-mail-clamav-${V}p0
FULLPKGNAME-dillo=		claws-mail-dillo-${V}p0
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
d38 1
a38 1
FLAVORS=		jpilot gnomeprint compface ldap debug
d53 3
a55 3
WANTLIB=		X11 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama Xrandr \
			Xcomposite Xdamage pcre \
			Xrender crypto expat fontconfig freetype m ssl z
d74 2
d82 1
a107 9
.if ${FLAVOR:L:Mgnomeprint}
WANTLIB-main+=		art_lgpl_2 xml2
LIB_DEPENDS-main+=	gnomecanvas-2::x11/gnome/libgnomecanvas \
			gnomeprint-2-2::x11/gnome/libgnomeprint \
			gnomeprintui-2-2::x11/gnome/libgnomeprintui 
.else
CONFIGURE_ARGS+=	--disable-gnomeprint
.endif

d131 1
d133 1
d140 1
d142 3
a144 2
		kmail-mailbox2claws-mail.pl \
		multiwebsearch.pl \
d147 1
a147 1
		sylprint.pl sylprint.rc \
a150 1
		update-po \
d153 4
a156 2
		README README.sylprint \
		kdeservicemenu/install.sh kdeservicemenu/claws-mail-kdeservicemenu.pl \
a159 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	${INSTALL_DATA} ${WRKSRC}/claws-mail.desktop ${PREFIX}/share/applications/claws-mail.desktop
d171 3
@


1.11
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/09/28 22:12:00 pyr Exp $
d12 1
a12 1
PKGNAME-main=			${DISTNAME}p0
d72 2
@


1.10
log
@Update to 3.0.1 from brad.
Tested on many workstations.
ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/16 00:17:04 merdely Exp $
d12 1
a12 1
PKGNAME-main=			${DISTNAME}
d14 4
a17 4
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}
FULLPKGNAME-clamav=		claws-mail-clamav-${V}
FULLPKGNAME-dillo=		claws-mail-dillo-${V}
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}
d54 1
@


1.9
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/09/08 15:22:40 pyr Exp $
d10 1
a10 1
V=			3.0.0
d25 1
a25 1
# GPL
d59 1
a59 1
WANTLIB-clamav=		${WANTLIB} bz2 gmp idn
d82 1
a82 2
			clamav::security/clamav \
			curl::net/curl
@


1.8
log
@update to 3.0.0
ok eric@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/07/10 06:14:43 pyr Exp $
d3 6
a8 6
COMMENT-main=		"mail and news client"
COMMENT-docs=		"documentation"
COMMENT-bogofilter=	"bogofilter plugin"
COMMENT-clamav=		"clamav plugin"
COMMENT-dillo=		"dillo plugin"
COMMENT-spamassassin=	"spamassassin plugin"
d113 2
a114 2
PERMIT_PACKAGE_CDROM=   "No Fee"
PERMIT_DISTFILES_CDROM= "No Fee"
@


1.7
log
@update to 2.10.0 from Ulrich Kahl (maintainer) and Brad.
tested by me on i386 and amd64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/05/14 22:24:26 naddy Exp $
d10 1
a10 1
V=			2.10.0
@


1.6
log
@chase wantlib changes from curl update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/05/10 07:43:39 steven Exp $
d10 1
a10 1
V=			2.9.2
d12 6
a17 6
PKGNAME-main=			${DISTNAME}p0
FULLPKGNAME-docs=		claws-mail-docs-${V}p0
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}p0
FULLPKGNAME-clamav=		claws-mail-clamav-${V}p0
FULLPKGNAME-dillo=		claws-mail-dillo-${V}p0
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
d38 1
a38 1
FLAVORS=		jpilot gnomeprint compface ldap
d90 2
a91 10
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--enable-aspell \
			--enable-bogofilter-plugin \
			--enable-clamav-plugin \
			--enable-dillo-viewer-plugin \
			--enable-pgpcore-plugin \
			--enable-pgpmime-plugin \
			--enable-pgpinline-plugin \
			--enable-spamassassin-plugin

a96 1
CONFIGURE_ARGS+=	--enable-jpilot
a103 1
CONFIGURE_ARGS+=	--enable-gnomeprint
a114 1
CONFIGURE_ARGS+=       --enable-compface
a120 1
CONFIGURE_ARGS+=	--enable-ldap
d125 5
@


1.5
log
@update to 2.9.2, various bugfixes

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/05/04 12:13:14 steven Exp $
d12 6
a17 6
PKGNAME-main=			${DISTNAME}
FULLPKGNAME-docs=		claws-mail-docs-${V}
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}
FULLPKGNAME-clamav=		claws-mail-clamav-${V}
FULLPKGNAME-dillo=		claws-mail-dillo-${V}
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}
d53 2
a54 2
WANTLIB=		X11 Xau Xdmcp Xrender crypto expat fontconfig \
			freetype m ssl z
d59 1
a59 1
WANTLIB-clamav=		${WANTLIB} bz2 gmp
@


1.4
log
@update to 2.9.1

from brad, okay maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/04/20 05:42:51 steven Exp $
d10 1
a10 1
V=			2.9.1
@


1.3
log
@smoothen upgrades from old sylpheed-claws packages using a few @@pkgpath lines
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/04/11 20:48:43 deanna Exp $
d10 1
a10 1
V=			2.8.1
d12 6
a17 6
PKGNAME-main=			${DISTNAME}p1
FULLPKGNAME-docs=		claws-mail-docs-${V}p1
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}p1
FULLPKGNAME-clamav=		claws-mail-clamav-${V}p1
FULLPKGNAME-dillo=		claws-mail-dillo-${V}p1
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}p1
@


1.2
log
@Rework completely.

- disable useless static plugins
- remove unnecessary pseudo flavors
- build pgp and aspell support by default
- install tools and scripts
- shorter DESCRs for plugins

Should be ready now, but more testing is welcome.

Input from Brad, Ulrich (maintainer), espie@@ and steven@@.

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/03/23 17:38:22 deanna Exp $
d12 6
a17 6
PKGNAME-main=			${DISTNAME}p0
FULLPKGNAME-docs=		claws-mail-docs-${V}p0
FULLPKGNAME-bogofilter=		claws-mail-bogofilter-${V}p0
FULLPKGNAME-clamav=		claws-mail-clamav-${V}p0
FULLPKGNAME-dillo=		claws-mail-dillo-${V}p0
FULLPKGNAME-spamassassin=	claws-mail-spamassassin-${V}p0
d40 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a7 1
COMMENT-pgp=		"several pgp plugins"
d11 7
a17 9
DISTNAME=		claws-mail-$V
PKGNAME=		claws-mail
PKGNAME-main=		${DISTNAME}
FULLPKGNAME-docs=		${PKGNAME}-docs-$V
FULLPKGNAME-bogofilter=		${PKGNAME}-bogofilter-$V
FULLPKGNAME-clamav=		${PKGNAME}-clamav-$V
FULLPKGNAME-dillo=		${PKGNAME}-dillo-$V
FULLPKGNAME-pgp=		${PKGNAME}-pgp-$V
FULLPKGNAME-spamassassin=	${PKGNAME}-spamassassin-$V
d36 3
a38 4
MULTI_PACKAGES=		-main -docs
PSEUDO_FLAVORS=		no_bogofilter no_clamav no_dillo no_pgp \
			no_spamassassin
FLAVORS=		aspell compface jpilot ldap gnomeprint # gnome
a41 1
RUN_DEPENDS-docs=	::${BUILD_PKGPATH}
d43 1
a43 1
			:bogofilter-*:mail/bogofilter 
d47 2
a48 3
RUN_DEPENDS-pgp=	::${BUILD_PKGPATH}
RUN_DEPENDS-spamassassin=	::mail/claws-mail \
				:p5-Mail-SpamAssassin-*:mail/p5-Mail-SpamAssassin 
d53 1
a53 1
WANTLIB-main=		${WANTLIB} ICE SM c pthread
d56 1
a57 1
MODULES=		devel/gettext
d70 5
a74 1
			startup-notification-1::devel/startup-notification
d76 5
d82 1
d86 1
d88 9
a96 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
d101 4
a104 3

.if !empty(FLAVOR:L:Mno_bogofilter)
CONFIGURE_ARGS+=	--disable-bogofilter-plugin
d106 1
a106 3
MULTI_PACKAGES+=	-bogofilter
CONFIGURE_ARGS+=	--enable-bogofilter-plugin
LIB_DEPENDS-bogofilter= ${LIB_DEPENDS}
d109 6
a114 2
.if !empty(FLAVOR:L:Mno_clamav)
CONFIGURE_ARGS+=	--disable-clamav-plugin
d116 1
a116 49
MULTI_PACKAGES+=	-clamav
CONFIGURE_ARGS+=	--enable-clamav-plugin
WANTLIB-clamav=		${WANTLIB} bz2 gmp
LIB_DEPENDS-clamav=	${LIB_DEPENDS} \
			clamav::security/clamav \
			curl::net/curl
.endif

.if !empty(FLAVOR:L:Mno_dillo)
CONFIGURE_ARGS+=	--disable-dillo-viewer-plugin
.else
MULTI_PACKAGES+=	-dillo
CONFIGURE_ARGS+=	--enable-dillo-viewer-plugin
WANTLIB-dillo=		${WANTLIB}
LIB_DEPENDS-dillo=	${LIB_DEPENDS}
.endif

.if !empty(FLAVOR:L:Mno_pgp)
CONFIGURE_ARGS+=	--disable-pgpcore-plugin \
			--disable-pgpmime-plugin \
			--disable-pgpinline-plugin
.else
MULTI_PACKAGES+=	-pgp
CONFIGURE_ARGS+=	--enable-pgpcore-plugin \
			--enable-pgpmime-plugin \
			--enable-pgpinline-plugin
LIB_DEPENDS-main+=	gpgme::security/gpgme \
			gpg-error::security/libgpg-error
WANTLIB-pgp=		${WANTLIB}
LIB_DEPENDS-pgp=	${LIB_DEPENDS} \
			gpgme::security/gpgme \
			gpg-error::security/libgpg-error 
.endif

.if !empty(FLAVOR:L:Mno_spamassassin)
CONFIGURE_ARGS+=	--disable-spamassassin-plugin
.else
MULTI_PACKAGES+=	-spamassassin
CONFIGURE_ARGS+=	--enable-spamassassin-plugin
WANTLIB-spamassassin=	${WANTLIB}
LIB_DEPENDS-spamassassin=${LIB_DEPENDS}
.endif

.if ${FLAVOR:L:Maspell}
CONFIGURE_ARGS+=	--enable-aspell
WANTLIB-main+=		stdc++	
LIB_DEPENDS-main+=	aspell::textproc/aspell/core 
.else
CONFIGURE_ARGS+=	--disable-aspell
d122 2
a123 2
CONFIGURE_ARGS+=	--enable-compface
LIB_DEPENDS-main+=	compface.>=1::mail/faces
d125 1
a125 10
CONFIGURE_ARGS+=	--disable-compface
.endif

# needs some work
.if ${FLAVOR:L:Mjpilot}
CONFIGURE_ARGS+=	--enable-jpilot
LIB_DEPENDS-main+=	pisock::comms/pilot-link 
RUN_DEPENDS-main+=	::comms/jpilot
.else
CONFIGURE_ARGS+=	--disable-jpilot
d130 2
a131 2
WANTLIB-main+=		
LIB_DEPENDS-main+=	
d136 25
a160 11
.if ${FLAVOR:L:Mgnomeprint}
CONFIGURE_ARGS+=	--enable-gnomeprint
WANTLIB-main+=		art_lgpl_2 xml2
LIB_DEPENDS-main+=	gnomecanvas-2::x11/gnome/libgnomecanvas \
			gnomeprint-2-2::x11/gnome/libgnomeprint \
			gnomeprintui-2-2::x11/gnome/libgnomeprintui 
.else
CONFIGURE_ARGS+=	--disable-gnomeprint
.endif

# gnome
d171 5
@


1.1.1.1
log
@Import claws-mail 2.8.1, a many-featured mail and news reader.

From Ulrich Kahl, with work by pyr@@, brad, myself and various people
on ports@@.  Not quite finished, but with this many contributers, it's
nice to have some version control.

ok pvalchev

----------------------------------------------------------------------
----------------------------------------------------------------------
@
text
@@
