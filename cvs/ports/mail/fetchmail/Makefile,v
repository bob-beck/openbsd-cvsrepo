head	1.149;
access;
symbols
	OPENBSD_6_2:1.149.0.2
	OPENBSD_6_2_BASE:1.149
	OPENBSD_6_1:1.148.0.6
	OPENBSD_6_1_BASE:1.148
	OPENBSD_6_0:1.148.0.4
	OPENBSD_6_0_BASE:1.148
	OPENBSD_5_9:1.148.0.2
	OPENBSD_5_9_BASE:1.148
	OPENBSD_5_8:1.146.0.4
	OPENBSD_5_8_BASE:1.146
	OPENBSD_5_7:1.144.0.4
	OPENBSD_5_7_BASE:1.144
	OPENBSD_5_6:1.144.0.2
	OPENBSD_5_6_BASE:1.144
	OPENBSD_5_5:1.141.0.2
	OPENBSD_5_5_BASE:1.141
	OPENBSD_5_4:1.140.0.2
	OPENBSD_5_4_BASE:1.140
	OPENBSD_5_3:1.136.0.2
	OPENBSD_5_3_BASE:1.136
	OPENBSD_5_2:1.134.0.2
	OPENBSD_5_2_BASE:1.134
	OPENBSD_5_1_BASE:1.130
	OPENBSD_5_1:1.130.0.2
	OPENBSD_5_0:1.126.0.2
	OPENBSD_5_0_BASE:1.126
	OPENBSD_4_9:1.125.0.2
	OPENBSD_4_9_BASE:1.125
	OPENBSD_4_8:1.122.0.2
	OPENBSD_4_8_BASE:1.122
	OPENBSD_4_7:1.118.0.2
	OPENBSD_4_7_BASE:1.118
	OPENBSD_4_6:1.116.0.4
	OPENBSD_4_6_BASE:1.116
	OPENBSD_4_5:1.116.0.2
	OPENBSD_4_5_BASE:1.116
	OPENBSD_4_4:1.112.0.4
	OPENBSD_4_4_BASE:1.112
	OPENBSD_4_3:1.112.0.2
	OPENBSD_4_3_BASE:1.112
	OPENBSD_4_2:1.110.0.2
	OPENBSD_4_2_BASE:1.110
	OPENBSD_4_1:1.109.0.2
	OPENBSD_4_1_BASE:1.109
	OPENBSD_4_0:1.108.0.2
	OPENBSD_4_0_BASE:1.108
	OPENBSD_3_9:1.105.0.2
	OPENBSD_3_9_BASE:1.105
	OPENBSD_3_8:1.103.0.2
	OPENBSD_3_8_BASE:1.103
	OPENBSD_3_7:1.101.0.2
	OPENBSD_3_7_BASE:1.101
	OPENBSD_3_6:1.99.0.2
	OPENBSD_3_6_BASE:1.99
	OPENBSD_3_5:1.98.0.2
	OPENBSD_3_5_BASE:1.98
	OPENBSD_3_4:1.97.0.2
	OPENBSD_3_4_BASE:1.97
	OPENBSD_3_3:1.93.0.2
	OPENBSD_3_3_BASE:1.93
	OPENBSD_3_2:1.87.0.2
	OPENBSD_3_2_BASE:1.87
	OPENBSD_3_1:1.79.0.2
	OPENBSD_3_1_BASE:1.79
	OPENBSD_3_0:1.74.0.2
	OPENBSD_3_0_BASE:1.74
	OPENBSD_2_9_TRACKING_SWITCH:1.74
	OPENBSD_2_9:1.64.0.2
	OPENBSD_2_9_BASE:1.64
	OPENBSD_2_8:1.59.0.2
	OPENBSD_2_8_BASE:1.59
	OPENBSD_2_7:1.40.0.2
	OPENBSD_2_7_BASE:1.40
	OPENBSD_2_6:1.24.0.2
	OPENBSD_2_6_BASE:1.24
	OPENBSD_2_5:1.12.0.2
	OPENBSD_2_5_BASE:1.12
	OPENBSD_2_4:1.6.0.2
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.5.0.2
	OPENBSD_2_3_BASE:1.5
	joey_1_1:1.1.1.1
	joey_1:1.1.1;
locks; strict;
comment	@# @;


1.149
date	2017.08.11.04.18.19;	author bluhm;	state Exp;
branches;
next	1.148;
commitid	ktOIAruXWEvrbWxm;

1.148
date	2015.11.02.11.56.54;	author espie;	state Exp;
branches;
next	1.147;
commitid	ox8NBCUwS6UB4UwE;

1.147
date	2015.10.08.21.19.22;	author sthen;	state Exp;
branches;
next	1.146;
commitid	pVDZUjJm7yyuQSI1;

1.146
date	2015.07.18.04.51.29;	author sthen;	state Exp;
branches;
next	1.145;
commitid	EoshB3HR845zFq5S;

1.145
date	2015.05.25.07.54.27;	author jasper;	state Exp;
branches;
next	1.144;
commitid	jsaRAQWqOGFN8HTC;

1.144
date	2014.06.21.07.58.28;	author jasper;	state Exp;
branches;
next	1.143;
commitid	yyYc79jx3Drt7GKO;

1.143
date	2014.04.21.22.24.49;	author ajacoutot;	state Exp;
branches;
next	1.142;

1.142
date	2014.04.21.13.18.31;	author ajacoutot;	state Exp;
branches;
next	1.141;

1.141
date	2013.10.31.21.12.12;	author sthen;	state Exp;
branches;
next	1.140;

1.140
date	2013.06.20.08.26.13;	author ajacoutot;	state Exp;
branches;
next	1.139;

1.139
date	2013.06.20.06.54.36;	author ajacoutot;	state Exp;
branches;
next	1.138;

1.138
date	2013.06.17.19.30.44;	author ajacoutot;	state Exp;
branches;
next	1.137;

1.137
date	2013.03.11.11.23.51;	author espie;	state Exp;
branches;
next	1.136;

1.136
date	2013.01.14.01.42.24;	author sthen;	state Exp;
branches;
next	1.135;

1.135
date	2012.08.21.23.18.24;	author sthen;	state Exp;
branches;
next	1.134;

1.134
date	2012.06.26.10.10.20;	author jasper;	state Exp;
branches;
next	1.133;

1.133
date	2012.06.22.14.38.28;	author jasper;	state Exp;
branches;
next	1.132;

1.132
date	2012.06.21.15.43.59;	author jasper;	state Exp;
branches;
next	1.131;

1.131
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.130;

1.130
date	2011.11.16.00.02.38;	author sthen;	state Exp;
branches
	1.130.2.1;
next	1.129;

1.129
date	2011.10.11.10.43.13;	author sthen;	state Exp;
branches;
next	1.128;

1.128
date	2011.08.24.19.18.57;	author sthen;	state Exp;
branches;
next	1.127;

1.127
date	2011.08.21.16.41.30;	author jasper;	state Exp;
branches;
next	1.126;

1.126
date	2011.06.06.13.57.07;	author sthen;	state Exp;
branches;
next	1.125;

1.125
date	2010.11.19.07.23.06;	author espie;	state Exp;
branches;
next	1.124;

1.124
date	2010.10.18.21.50.39;	author sthen;	state Exp;
branches;
next	1.123;

1.123
date	2010.10.18.19.59.16;	author espie;	state Exp;
branches;
next	1.122;

1.122
date	2010.06.09.08.34.59;	author stsp;	state Exp;
branches;
next	1.121;

1.121
date	2010.05.19.15.27.18;	author giovanni;	state Exp;
branches;
next	1.120;

1.120
date	2010.03.31.19.12.06;	author jasper;	state Exp;
branches;
next	1.119;

1.119
date	2010.03.22.01.28.40;	author sthen;	state Exp;
branches;
next	1.118;

1.118
date	2009.11.02.19.47.49;	author sthen;	state Exp;
branches
	1.118.2.1;
next	1.117;

1.117
date	2009.10.11.20.52.17;	author sthen;	state Exp;
branches;
next	1.116;

1.116
date	2009.02.17.12.08.44;	author jasper;	state Exp;
branches
	1.116.2.1
	1.116.4.1;
next	1.115;

1.115
date	2009.02.02.11.42.13;	author bernd;	state Exp;
branches;
next	1.114;

1.114
date	2008.10.30.15.33.59;	author bernd;	state Exp;
branches;
next	1.113;

1.113
date	2008.08.19.22.41.24;	author jasper;	state Exp;
branches;
next	1.112;

1.112
date	2007.09.16.00.17.04;	author merdely;	state Exp;
branches;
next	1.111;

1.111
date	2007.08.31.14.20.46;	author rui;	state Exp;
branches;
next	1.110;

1.110
date	2007.04.13.13.22.25;	author bernd;	state Exp;
branches;
next	1.109;

1.109
date	2007.01.09.10.35.42;	author bernd;	state Exp;
branches
	1.109.2.1;
next	1.108;

1.108
date	2006.08.01.18.38.23;	author alek;	state Exp;
branches
	1.108.2.1;
next	1.107;

1.107
date	2006.04.21.09.21.59;	author bernd;	state Exp;
branches;
next	1.106;

1.106
date	2006.04.01.11.57.44;	author bernd;	state Exp;
branches;
next	1.105;

1.105
date	2006.01.31.14.30.34;	author bernd;	state Exp;
branches
	1.105.2.1;
next	1.104;

1.104
date	2005.10.27.21.58.51;	author bernd;	state Exp;
branches;
next	1.103;

1.103
date	2005.08.31.19.55.36;	author sturm;	state Exp;
branches
	1.103.2.1;
next	1.102;

1.102
date	2005.07.25.17.41.51;	author fgsch;	state Exp;
branches;
next	1.101;

1.101
date	2005.02.19.21.27.35;	author alek;	state Exp;
branches
	1.101.2.1;
next	1.100;

1.100
date	2005.01.02.12.56.05;	author alek;	state Exp;
branches;
next	1.99;

1.99
date	2004.08.10.09.14.48;	author xsa;	state Exp;
branches
	1.99.2.1;
next	1.98;

1.98
date	2003.10.15.23.08.49;	author fgsch;	state Exp;
branches;
next	1.97;

1.97
date	2003.08.13.23.28.24;	author fgsch;	state Exp;
branches;
next	1.96;

1.96
date	2003.07.17.22.36.44;	author fgsch;	state Exp;
branches;
next	1.95;

1.95
date	2003.05.20.01.55.59;	author fgsch;	state Exp;
branches;
next	1.94;

1.94
date	2003.04.04.04.34.18;	author fgsch;	state Exp;
branches;
next	1.93;

1.93
date	2003.02.18.10.30.17;	author fgsch;	state Exp;
branches;
next	1.92;

1.92
date	2002.12.13.08.53.56;	author fgsch;	state Exp;
branches;
next	1.91;

1.91
date	2002.11.28.16.34.15;	author fgsch;	state Exp;
branches;
next	1.90;

1.90
date	2002.11.02.20.23.34;	author fgsch;	state Exp;
branches;
next	1.89;

1.89
date	2002.10.27.17.21.39;	author naddy;	state Exp;
branches;
next	1.88;

1.88
date	2002.10.18.20.31.21;	author fgsch;	state Exp;
branches;
next	1.87;

1.87
date	2002.09.30.16.37.14;	author brad;	state Exp;
branches
	1.87.2.1;
next	1.86;

1.86
date	2002.09.18.01.02.51;	author fgsch;	state Exp;
branches;
next	1.85;

1.85
date	2002.09.10.10.14.24;	author fgsch;	state Exp;
branches;
next	1.84;

1.84
date	2002.06.26.22.14.48;	author fgsch;	state Exp;
branches;
next	1.83;

1.83
date	2002.06.06.00.56.48;	author fgsch;	state Exp;
branches;
next	1.82;

1.82
date	2002.05.27.17.48.13;	author fgsch;	state Exp;
branches;
next	1.81;

1.81
date	2002.05.27.17.43.43;	author fgsch;	state Exp;
branches;
next	1.80;

1.80
date	2002.05.01.22.19.36;	author fgsch;	state Exp;
branches;
next	1.79;

1.79
date	2002.01.06.18.33.17;	author espie;	state Exp;
branches
	1.79.2.1;
next	1.78;

1.78
date	2001.12.17.21.45.49;	author fgsch;	state Exp;
branches;
next	1.77;

1.77
date	2001.11.27.15.29.28;	author brad;	state Exp;
branches;
next	1.76;

1.76
date	2001.11.12.19.24.54;	author fgsch;	state Exp;
branches;
next	1.75;

1.75
date	2001.10.26.03.52.49;	author fgsch;	state Exp;
branches;
next	1.74;

1.74
date	2001.08.15.14.15.03;	author fgsch;	state Exp;
branches;
next	1.73;

1.73
date	2001.08.08.08.40.54;	author fgsch;	state Exp;
branches;
next	1.72;

1.72
date	2001.08.06.09.50.23;	author fgsch;	state Exp;
branches;
next	1.71;

1.71
date	2001.08.03.14.47.07;	author fgsch;	state Exp;
branches;
next	1.70;

1.70
date	2001.07.11.17.53.30;	author fgsch;	state Exp;
branches;
next	1.69;

1.69
date	2001.07.09.00.19.47;	author fgsch;	state Exp;
branches;
next	1.68;

1.68
date	2001.06.26.02.35.44;	author fgsch;	state Exp;
branches;
next	1.67;

1.67
date	2001.06.25.06.34.20;	author fgsch;	state Exp;
branches;
next	1.66;

1.66
date	2001.06.23.05.29.57;	author fgsch;	state Exp;
branches;
next	1.65;

1.65
date	2001.05.23.02.16.40;	author brad;	state Exp;
branches;
next	1.64;

1.64
date	2001.04.13.20.35.49;	author brad;	state Exp;
branches
	1.64.2.1;
next	1.63;

1.63
date	2001.03.18.21.06.52;	author fgsch;	state Exp;
branches;
next	1.62;

1.62
date	2001.02.15.21.21.37;	author brad;	state Exp;
branches;
next	1.61;

1.61
date	2000.12.14.15.20.28;	author brad;	state Exp;
branches;
next	1.60;

1.60
date	2000.11.17.21.56.33;	author brad;	state Exp;
branches;
next	1.59;

1.59
date	2000.10.16.13.30.33;	author fgsch;	state Exp;
branches;
next	1.58;

1.58
date	2000.09.27.07.14.31;	author fgsch;	state Exp;
branches;
next	1.57;

1.57
date	2000.09.12.22.27.34;	author fgsch;	state Exp;
branches;
next	1.56;

1.56
date	2000.09.07.06.48.01;	author brad;	state Exp;
branches;
next	1.55;

1.55
date	2000.08.30.03.40.23;	author brad;	state Exp;
branches;
next	1.54;

1.54
date	2000.08.26.18.12.53;	author brad;	state Exp;
branches;
next	1.53;

1.53
date	2000.08.15.06.31.31;	author fgsch;	state Exp;
branches;
next	1.52;

1.52
date	2000.08.04.23.41.33;	author fgsch;	state Exp;
branches;
next	1.51;

1.51
date	2000.08.04.22.49.55;	author fgsch;	state Exp;
branches;
next	1.50;

1.50
date	2000.07.23.22.42.52;	author brad;	state Exp;
branches;
next	1.49;

1.49
date	2000.07.23.22.08.23;	author brad;	state Exp;
branches;
next	1.48;

1.48
date	2000.07.15.07.18.01;	author brad;	state Exp;
branches;
next	1.47;

1.47
date	2000.07.08.08.54.01;	author fgsch;	state Exp;
branches;
next	1.46;

1.46
date	2000.07.03.15.08.04;	author fgsch;	state Exp;
branches;
next	1.45;

1.45
date	2000.06.28.17.13.53;	author fgsch;	state Exp;
branches;
next	1.44;

1.44
date	2000.06.27.23.22.03;	author fgsch;	state Exp;
branches;
next	1.43;

1.43
date	2000.06.12.15.38.34;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2000.06.11.01.25.45;	author fgsch;	state Exp;
branches;
next	1.41;

1.41
date	2000.06.08.16.58.54;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2000.04.26.18.43.53;	author fgsch;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2000.04.09.17.36.56;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2000.02.15.05.04.40;	author turan;	state Exp;
branches;
next	1.37;

1.37
date	2000.02.12.08.02.23;	author turan;	state Exp;
branches;
next	1.36;

1.36
date	2000.02.01.19.49.07;	author fgsch;	state Exp;
branches;
next	1.35;

1.35
date	2000.01.18.21.09.35;	author fgsch;	state Exp;
branches;
next	1.34;

1.34
date	2000.01.04.14.13.23;	author fgsch;	state Exp;
branches;
next	1.33;

1.33
date	99.12.26.16.41.11;	author fgsch;	state Exp;
branches;
next	1.32;

1.32
date	99.12.26.16.04.06;	author fgsch;	state Exp;
branches;
next	1.31;

1.31
date	99.12.26.15.30.36;	author fgsch;	state Exp;
branches;
next	1.30;

1.30
date	99.12.25.07.48.19;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	99.12.25.06.50.21;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	99.12.25.06.48.46;	author fgsch;	state Exp;
branches;
next	1.27;

1.27
date	99.12.21.20.36.39;	author fgsch;	state Exp;
branches;
next	1.26;

1.26
date	99.12.18.19.51.57;	author fgsch;	state Exp;
branches;
next	1.25;

1.25
date	99.10.27.05.23.39;	author fgsch;	state Exp;
branches;
next	1.24;

1.24
date	99.10.01.00.23.48;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	99.09.30.12.23.26;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	99.09.30.12.02.05;	author fgsch;	state Exp;
branches;
next	1.21;

1.21
date	99.09.22.16.32.37;	author fgsch;	state Exp;
branches;
next	1.20;

1.20
date	99.09.15.05.18.36;	author fgsch;	state Exp;
branches;
next	1.19;

1.19
date	99.08.21.22.01.49;	author fgsch;	state Exp;
branches;
next	1.18;

1.18
date	99.08.03.14.40.26;	author fgsch;	state Exp;
branches;
next	1.17;

1.17
date	99.06.28.19.40.45;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	99.06.12.23.07.44;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	99.05.03.06.41.08;	author fgsch;	state Exp;
branches;
next	1.14;

1.14
date	99.04.30.07.46.22;	author fgsch;	state Exp;
branches;
next	1.13;

1.13
date	99.04.19.06.56.22;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	99.04.07.04.52.26;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	99.03.10.05.07.45;	author fgsch;	state Exp;
branches;
next	1.10;

1.10
date	99.02.23.03.33.25;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	99.02.10.05.03.37;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	99.01.16.06.09.56;	author fgsch;	state Exp;
branches;
next	1.7;

1.7
date	98.12.28.05.12.46;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	98.08.01.02.01.55;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	98.03.01.05.40.44;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	97.12.31.11.34.28;	author tacho;	state Exp;
branches;
next	1.3;

1.3
date	97.11.24.03.27.38;	author angelos;	state Exp;
branches;
next	1.2;

1.2
date	97.11.17.21.47.29;	author joey;	state Exp;
branches;
next	1.1;

1.1
date	97.11.15.00.04.33;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.15.00.04.33;	author deraadt;	state Exp;
branches;
next	;

1.40.2.1
date	2000.09.15.05.01.32;	author marc;	state Exp;
branches;
next	;

1.64.2.1
date	2001.08.08.09.18.48;	author fgsch;	state Exp;
branches;
next	;

1.79.2.1
date	2002.09.30.19.53.38;	author brad;	state Exp;
branches;
next	1.79.2.2;

1.79.2.2
date	2002.12.13.15.29.59;	author naddy;	state Exp;
branches;
next	;

1.87.2.1
date	2002.12.13.15.07.07;	author naddy;	state Exp;
branches;
next	;

1.99.2.1
date	2005.07.29.17.19.14;	author robert;	state Exp;
branches;
next	1.99.2.2;

1.99.2.2
date	2005.08.31.19.46.33;	author sturm;	state Exp;
branches;
next	1.99.2.3;

1.99.2.3
date	2005.10.30.07.14.00;	author sturm;	state Exp;
branches;
next	;

1.101.2.1
date	2005.07.29.17.14.48;	author robert;	state Exp;
branches;
next	1.101.2.2;

1.101.2.2
date	2005.08.31.19.51.41;	author sturm;	state Exp;
branches;
next	1.101.2.3;

1.101.2.3
date	2005.10.30.07.23.47;	author sturm;	state Exp;
branches;
next	1.101.2.4;

1.101.2.4
date	2006.02.01.20.59.34;	author sturm;	state Exp;
branches;
next	;

1.103.2.1
date	2005.11.01.11.33.50;	author sturm;	state Exp;
branches;
next	1.103.2.2;

1.103.2.2
date	2006.02.01.21.00.20;	author sturm;	state Exp;
branches;
next	;

1.105.2.1
date	2007.01.10.19.46.20;	author sturm;	state Exp;
branches;
next	1.105.2.2;

1.105.2.2
date	2007.04.19.12.38.08;	author sturm;	state Exp;
branches;
next	;

1.108.2.1
date	2007.01.10.19.00.25;	author sturm;	state Exp;
branches;
next	1.108.2.2;

1.108.2.2
date	2007.04.19.13.55.35;	author sturm;	state Exp;
branches;
next	1.108.2.3;

1.108.2.3
date	2007.09.04.06.11.20;	author ajacoutot;	state Exp;
branches;
next	;

1.109.2.1
date	2007.05.01.16.31.36;	author sturm;	state Exp;
branches;
next	1.109.2.2;

1.109.2.2
date	2007.09.04.06.11.47;	author ajacoutot;	state Exp;
branches;
next	;

1.116.2.1
date	2009.10.16.23.36.51;	author william;	state Exp;
branches;
next	;

1.116.4.1
date	2009.10.25.03.51.32;	author william;	state Exp;
branches;
next	;

1.118.2.1
date	2010.06.11.01.36.22;	author william;	state Exp;
branches;
next	;

1.130.2.1
date	2012.06.21.15.45.05;	author jasper;	state Exp;
branches;
next	1.130.2.2;

1.130.2.2
date	2012.06.22.14.39.16;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.149
log
@Do not overrun plugin string when copying it.  Prevents sporadic
segmentation fault in fetchmail.  Fix reported to upstream.
OK jca@@
@
text
@# $OpenBSD: Makefile,v 1.148 2015/11/02 11:56:54 espie Exp $

COMMENT=	mail retrieval utility for POP2, POP3, KPOP, IMAP and more

DISTNAME=	fetchmail-6.3.26
CATEGORIES=	mail
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=fetchmail/}
REVISION=	1

HOMEPAGE=	http://www.fetchmail.info/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c crypto ssl

MODULES=		devel/gettext \
			lang/python
MODPY_RUNDEP=		No
MODPY_ADJ_FILES=	fetchmailconf.py
SUBST_VARS+=		MODPY_LIBDIR
BUILD_DEPENDS=		devel/bison

SEPARATE_BUILD=		Yes
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.68
CFLAGS=			-I${LOCALBASE}/include
CONFIGURE_ENV=		PYTHON=: YACC="bison -y"
CONFIGURE_ARGS=		--with-ssl \
			--enable-NTLM

USE_GROFF=		Yes# uses www.tmac for .URL tags

EXTRACT_SUFX=		.tar.xz

DOCS=			FAQ NOTES FEATURES README COPYING fetchmail-FAQ.html \
			fetchmail-features.html design-notes.html todo.html

# Remove those so they get rebuild. Fixes problems with gcc2.
post-extract:
	rm ${WRKSRC}/rcfile_y.[ch]

pre-patch:
	${SUBST_CMD} -m 555 -c ${FILESDIR}/fetchmailconf ${WRKDIR}/fetchmailconf
	@@tbl ${WRKSRC}/fetchmail.man > ${WRKSRC}/fetchmail.tbl && \
		cp -f ${WRKSRC}/fetchmail.tbl ${WRKSRC}/fetchmail.man

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/fetchmail
	@@cd ${PREFIX}/man/man1 && ln -sf fetchmail.1 fetchmailconf.1
	cd ${WRKSRC} && ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/fetchmail
	${INSTALL_SCRIPT} ${WRKSRC}/fetchmailconf.py \
		${PREFIX}/libexec/fetchmailconf.bin
	${INSTALL_SCRIPT} ${WRKDIR}/fetchmailconf ${PREFIX}/bin

.include <bsd.port.mk>
@


1.148
log
@a few minor pkg_subst fixes, for the coming patch (disallow -c without -m
outside of WRKDIR)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2015/10/08 21:19:22 sthen Exp $
d8 1
a8 1
REVISION=	0
@


1.147
log
@Bump some ports which reference if_msghdr in their source, so that package
updates are triggered. This is following the struct if_data ABI change a few
days ago; if_msghdr has an embedded if_data.  Some may be unnecessary, but
some are definitely needed and bumps are cheaper than debugging.
Problem reported with wpa_supplicant by Mikolaj Kucharski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2015/07/18 04:51:29 sthen Exp $
d44 1
a44 1
	${SUBST_CMD} -c ${FILESDIR}/fetchmailconf ${WRKDIR}/fetchmailconf
@


1.146
log
@cope if SSLv3 is disabled
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2015/05/25 07:54:27 jasper Exp $
d8 1
@


1.145
log
@remove a whole bunch more @@rm -f cases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2014/06/21 07:58:28 jasper Exp $
d24 2
a25 1
CONFIGURE_STYLE=	gnu
@


1.144
log
@update to fetchmail-6.3.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2014/04/21 22:24:49 ajacoutot Exp $
d39 1
a39 1
	@@rm -f ${WRKSRC}/rcfile_y.[ch]
@


1.143
log
@No Kerberos 4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2014/04/21 13:18:31 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.24
d7 1
a7 2
MASTER_SITES=	${MASTER_SITE_BERLIOS:=fetchmail/}
REVISION=	5
d32 1
a32 1
EXTRACT_SUFX=		.tar.bz2
@


1.142
log
@Drop kerberos support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2013/10/31 21:12:12 sthen Exp $
d8 1
a8 1
REVISION=	4
@


1.141
log
@bump REVISION for any ports using route messages. regen some distinfos and
remove unnecessary USE_GROFFs while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2013/06/20 08:26:13 ajacoutot Exp $
d8 1
a8 1
REVISION=	3
d15 1
a15 2
WANTLIB += asn1 c com_err crypto heimbase krb5 roken
WANTLIB += ssl wind
d25 1
a25 2
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.68
a28 1
			--with-kerberos5 \
@


1.140
log
@No need for pthread.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2013/06/20 06:54:36 ajacoutot Exp $
d8 1
a8 1
REVISION=	2
d33 2
a34 1
USE_GROFF =		Yes
@


1.139
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2013/06/17 19:30:44 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
d15 1
a15 1
WANTLIB += asn1 c com_err crypto heimbase krb5 pthread roken
@


1.138
log
@Unbreak with new Heimdal; get rid of self-cooked krb5-config since we
have it in base now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2013/03/11 11:23:51 espie Exp $
d8 1
a8 1
REVISION=	0
d15 1
a15 1
WANTLIB += asn1 c com_err crypto heimbase hx509 krb5 pthread roken
@


1.137
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2013/01/14 01:42:24 sthen Exp $
d8 1
d14 3
a16 1
WANTLIB=		c crypto krb5 ssl
@


1.136
log
@update to fetchmail 6.3.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2012/08/21 23:18:24 sthen Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.135
log
@adjust HOMEPAGE, it moved off berlios to fetchmail.info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2012/06/26 10:10:20 jasper Exp $
d5 1
a5 2
DISTNAME=	fetchmail-6.3.21
REVISION=	6
@


1.134
log
@- let these work if sslv2 is disabled, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2012/06/22 14:38:28 jasper Exp $
d6 1
a6 1
REVISION=	5
d10 1
a10 1
HOMEPAGE=	http://fetchmail.berlios.de/
@


1.133
log
@somehow i folded two commits into one, revert non-security fix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2012/06/21 15:43:59 jasper Exp $
d6 1
a6 1
REVISION=	4
d27 2
a28 1
CONFIGURE_STYLE=	gnu
@


1.132
log
@Fix potential for information disclosure under active attack. CVE-2011-3389

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2012/03/29 13:38:40 sthen Exp $
d6 1
a6 1
REVISION=	3
a25 2
CFLAGS+=		-I${LOCALBASE}/include

d27 2
a28 2
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.68
@


1.131
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2011/11/16 00:02:38 sthen Exp $
d6 1
a6 1
REVISION=	1
d26 2
d29 2
a30 2
CONFIGURE_STYLE=	gnu
CFLAGS=			-I${LOCALBASE}/include
@


1.130
log
@struct ifnet; bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2011/10/11 10:43:13 sthen Exp $
d26 1
a26 1
SEPARATE_BUILD=		concurrent
@


1.130.2.1
log
@Fix potential for information disclosure under active attack. CVE-2011-338

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2011/11/16 00:02:38 sthen Exp $
d6 1
a6 1
REVISION=	2
@


1.130.2.2
log
@somehow i folded two commits into one, revert non-security fix.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130.2.1 2012/06/21 15:45:05 jasper Exp $
d6 1
a6 1
REVISION=	3
@


1.129
log
@python is actually a build dep. pointed out jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2011/08/24 19:18:57 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.128
log
@Adjust the fetchmailconf wrapper to check ${MODPY_BIN} rather than
/usr/local/bin/python. Also check that python-tkinter is installed.
From Pascal Stumpf with tweaks from me.

(Python + tkinter aren't RUN_DEPENDs as many fetchmail installations
don't use this and it's a heavy dependency chain).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2011/08/21 16:41:30 jasper Exp $
a20 1
MODPY_BUILDDEP=		No
@


1.127
log
@- update fetchmail to 6.3.21, includes a critical fix for imap/maildir users
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2011/06/06 13:57:07 sthen Exp $
d6 1
d12 1
a12 1
# GPLv2(+)
d19 6
a24 1
MODULES=		devel/gettext
d46 1
a46 2
	@@sed -e "s|@@PREFIX@@|${LOCALBASE}|" \
		${FILESDIR}/fetchmailconf > ${WRKDIR}/fetchmailconf
@


1.126
log
@update fetchmail to 6.3.20, tested by jasper@@, lots of fixes including:

* CVE-2011-1947
- use timeouts for IMAP STARTTLS/POP3 STLS negotiation which could cause
  fetchmail freezes if a server was hanging.
* security improvements to defang X.509 certificate abuse
- require wildcard CN/subject alternative names to start with "*." not just "*"
- don't allow wildcards to match domain literals (such as 10.9.8.7) or
  wildcards in domain literals ("*.168.23.23").
- don't allow wildcarding top-level domains.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2010/11/19 07:23:06 espie Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.20
@


1.125
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2010/10/18 21:50:39 sthen Exp $
d5 1
a5 2
DISTNAME=	fetchmail-6.3.17
REVISION =	0
@


1.124
log
@fix tabs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2010/10/18 19:59:16 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d20 1
a20 1
BUILD_DEPENDS=		::devel/bison
d29 1
a29 1
USE_GROFF =	Yes
@


1.123
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2010/06/09 08:34:59 stsp Exp $
d29 1
a29 1
			USE_GROFF =	Yes
@


1.122
log
@Add patch from upstream to fix bogus ssl check warning when the
sslfingerprint option is used.
hints and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2010/05/19 15:27:18 giovanni Exp $
d29 1
@


1.121
log
@
Update to 6.3.17
ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2010/03/31 19:12:06 jasper Exp $
d6 1
@


1.120
log
@- update fetchmail to 6.3.15

from charles smith, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2010/03/22 01:28:40 sthen Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.15
d19 1
d24 1
a24 1
CONFIGURE_ENV=		PYTHON=:
@


1.119
log
@security update to 6.3.14, heap overflow in verbose mode SSL cert display
on signed char arch. http://www.fetchmail.info/fetchmail-SA-2010-01.txt

"This might be exploitable to inject code if
- - fetchmail is run in verbose mode
AND
- - the host running fetchmail considers char signed
AND
- - the server uses malicious certificates with non-printing characters
  that have the high bit set
AND
- - these certificates manage to inject shell-code that consists purely of
  printable characters.

It is believed to be difficult to achieve all this."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2009/11/02 19:47:49 sthen Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.14
@


1.118
log
@update to 6.3.13, fixing a regression introduced in 6.3.12. ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2009/10/11 20:52:17 sthen Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.13
@


1.118.2.1
log
@SECURITY FIX

Resolves fetchmail-SA-2010-01

patch from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2009/11/02 19:47:49 sthen Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.117
log
@SECURITY update to 6.3.12, fixes CVE-2009-2666 (bad handling of nulls
in SSL domain names).  ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2009/02/17 12:08:44 jasper Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.12
@


1.116
log
@- update fetchmail to 6.3.9

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2009/02/02 11:42:13 bernd Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.9
d22 5
a26 2
CONFIGURE_ARGS=		--enable-inet6 --with-ssl \
			--with-kerberos5 --enable-NTLM
@


1.116.4.1
log
@SECURITY FIX

Resolves CVE-2009-2666:

Detect malicious certificates that use a null byte injection in the
Common Name or subjectAltName (CVE-2009-2666).

patch from debian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2009/02/17 12:08:44 jasper Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.116.2.1
log
@SECURITY FIX

Resolves CVE-2009-2666:

Detect malicious certificates that use a null byte injection in the
Common Name or subjectAltName (CVE-2009-2666).

patch from debian

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2009/02/17 12:08:44 jasper Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.115
log
@Fix stunnel usage with TLS1 encryption.

From https://lists.berlios.de/pipermail/fetchmail-users/2007-December/001396.html
via Dieter Rauschenberger. Thank you!

Regen PLIST and drop maintainership. I don't use it anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2008/10/30 15:33:59 bernd Exp $
d5 1
a5 2
DISTNAME=	fetchmail-6.3.8
PKGNAME=	${DISTNAME}p3
d11 1
a11 1
# GPL
@


1.114
log
@Remove the pre-generated yacc files so they will be re-build.
This fixes a problem with gcc2. Also fix a format string.

From miod@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2008/08/19 22:41:24 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
a10 2

MAINTAINER=	Bernd Ahlers <bernd@@openbsd.org>
@


1.113
log
@SECURITY FIX for http://secunia.com/advisories/30742/
(Fetchmail Large Header Processing Denial of Service)

Patch was taken from upstream advisory.
http://www.fetchmail.info/fetchmail-SA-2008-01.txt

ok bernd@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2007/09/16 00:17:04 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d32 4
@


1.112
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2007/08/31 14:20:46 rui Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.111
log
@SECURITY: roll in a distribution patch which fixes CVE-2007-4565
Reference: http://securitytracker.com/alerts/2007/Aug/1018627.html

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2007/04/13 13:22:25 bernd Exp $
d3 1
a3 1
COMMENT=	"mail retrieval utility for POP2, POP3, KPOP, IMAP and more"
@


1.110
log
@Security update to fetchmail-6.3.8. (CVE-2007-1558)

Make the APOP challenge parser more distrustful and have it reject challenges
that do not conform to RFC-822 msg-id format, in the hope to make mounting
man-in-the-middle attacks (MITM) against APOP a bit more difficult.

Detailed information:
http://fetchmail.berlios.de/fetchmail-SA-2007-01.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2007/01/09 10:35:42 bernd Exp $
d6 1
@


1.109
log
@Security update to fetchmail-6.3.6:

A password disclosure vulnerability (CVE-2006-5867, fetchmail's using unsafe
logins or omitting TLS) and a denial of service vulnerability (CVE-2006-5974,
fetchmail crashes, dereferencing the null page, when rejecting a message sent
to an MDA).

Fetchmail 6.3.6 also fixes several regressions and long-standing bugs.

Details:
https://lists.berlios.de/pipermail/fetchmail-announce/2007-January/000042.html

tests & ok jasper@@, simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2006/08/01 18:38:23 alek Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.6
@


1.109.2.1
log
@MFC:
Security update to fetchmail-6.3.8. (CVE-2007-1558)

Make the APOP challenge parser more distrustful and have it reject challenges
that do not conform to RFC-822 msg-id format, in the hope to make mounting
man-in-the-middle attacks (MITM) against APOP a bit more difficult.

Detailed information:
http://fetchmail.berlios.de/fetchmail-SA-2007-01.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2007/01/09 10:35:42 bernd Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.8
@


1.109.2.2
log
@MFC (original commit rui@@):
roll in a distribution patch which fixes CVE-2007-4565
Reference: http://securitytracker.com/alerts/2007/Aug/1018627.html

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109.2.1 2007/05/01 16:31:36 sturm Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.108
log
@Use MASTER_SITE_BERLIOS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2006/04/21 09:21:59 bernd Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.4
@


1.108.2.1
log
@MFC:
Security update to fetchmail-6.3.6:

A password disclosure vulnerability (CVE-2006-5867, fetchmail's using unsafe
logins or omitting TLS) and a denial of service vulnerability (CVE-2006-5974,
fetchmail crashes, dereferencing the null page, when rejecting a message sent
to an MDA).

Fetchmail 6.3.6 also fixes several regressions and long-standing bugs.

Details:
https://lists.berlios.de/pipermail/fetchmail-announce/2007-January/000042.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2006/08/01 18:38:23 alek Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.6
@


1.108.2.2
log
@MFC:
Security update to fetchmail-6.3.8. (CVE-2007-1558)

Make the APOP challenge parser more distrustful and have it reject challenges
that do not conform to RFC-822 msg-id format, in the hope to make mounting
man-in-the-middle attacks (MITM) against APOP a bit more difficult.

Detailed information:
http://fetchmail.berlios.de/fetchmail-SA-2007-01.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108.2.1 2007/01/10 19:00:25 sturm Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.8
@


1.108.2.3
log
@MFC (original commit rui@@):
roll in a distribution patch which fixes CVE-2007-4565
Reference: http://securitytracker.com/alerts/2007/Aug/1018627.html

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108.2.2 2007/04/19 13:55:35 sturm Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.107
log
@Update to fetchmail-6.3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2006/04/01 11:57:44 bernd Exp $
d7 1
a7 1
MASTER_SITES=	http://download2.berlios.de/fetchmail/
@


1.106
log
@Update to fetchmail-6.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2006/01/31 14:30:34 bernd Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.3
d7 1
a7 1
MASTER_SITES=	http://download.berlios.de/fetchmail/
@


1.105
log
@Update to fetchmail-6.3.2.

This update includes security fixes for CVE-2005-2335, CVE-2005-4348
and CVE-2006-0321.

Take over maintainership. (With permission from old MAINTAINER fgsch@@.)

Tested by Sigfred Håversen and aanriot@@.

ok aanriot@@, brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2005/10/27 21:58:51 bernd Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.2
@


1.105.2.1
log
@MFC:
Security update to fetchmail-6.3.6:

A password disclosure vulnerability (CVE-2006-5867, fetchmail's using unsafe
logins or omitting TLS) and a denial of service vulnerability (CVE-2006-5974,
fetchmail crashes, dereferencing the null page, when rejecting a message sent
to an MDA).

Fetchmail 6.3.6 also fixes several regressions and long-standing bugs.

Details:
https://lists.berlios.de/pipermail/fetchmail-announce/2007-January/000042.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2006/01/31 14:30:34 bernd Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.6
d25 1
a25 2
			--with-kerberos5 --enable-NTLM \
			--mandir='${PREFIX}/man'
@


1.105.2.2
log
@MFC:
Security update to fetchmail-6.3.8. (CVE-2007-1558)

Make the APOP challenge parser more distrustful and have it reject challenges
that do not conform to RFC-822 msg-id format, in the hope to make mounting
man-in-the-middle attacks (MITM) against APOP a bit more difficult.

Detailed information:
http://fetchmail.berlios.de/fetchmail-SA-2007-01.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105.2.1 2007/01/10 19:46:20 sturm Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.3.8
@


1.104
log
@Fix the latest security issue in fetchmailconf.
http://fetchmail.berlios.de/fetchmail-SA-2005-02.txt
"passwords are written to a world-readable file"

nicer fetchmailconf diff & ok fgsch@@ (thanks!)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2005/08/31 19:55:36 sturm Exp $
d5 1
a5 2
DISTNAME=	fetchmail-6.2.5.2
PKGNAME=	${DISTNAME}p1
d11 1
a11 1
MAINTAINER=	Federico Schwindt <fgsch@@openbsd.org>
d13 1
d20 1
a20 1
MODULES=	devel/gettext
d22 4
a25 6
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--disable-nls --enable-inet6 --with-ssl \
		--with-kerberos5 --enable-NTLM
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
d27 1
a27 1
NO_REGRESS=	Yes
d29 2
a30 2
DOCS=	FAQ NOTES FEATURES README COPYING fetchmail-FAQ.html \
	fetchmail-features.html design-notes.html todo.html
d34 1
a34 1
	  ${FILESDIR}/fetchmailconf > ${WRKDIR}/fetchmailconf
d36 1
a36 1
	  cp -f ${WRKSRC}/fetchmail.tbl ${WRKSRC}/fetchmail.man
d42 2
a43 2
	${INSTALL_SCRIPT} ${WRKSRC}/fetchmailconf \
	  ${PREFIX}/libexec/fetchmailconf.bin
@


1.103
log
@bump PKGNAME so that 3.7 won't have higher PKGNAMEs than 3.8

suggested by espie@@, ok pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2005/07/25 17:41:51 fgsch Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.103.2.1
log
@MFC:
Fix the latest security issue in fetchmailconf.
http://fetchmail.berlios.de/fetchmail-SA-2005-02.txt
"passwords are written to a world-readable file"

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2005/08/31 19:55:36 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.103.2.2
log
@update to fetchmail 6.2.5.5, fixing CVE-2005-3088 and CVE-2005-4348

from bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103.2.1 2005/11/01 11:33:50 sturm Exp $
d5 2
a6 1
DISTNAME=	fetchmail-6.2.5.5
@


1.102
log
@SECURITY FIX: update to 6.2.5.2, see
http://www.vuxml.org/openbsd/aee27100-fcf2-11d9-b3c7-00065bd5b0b6.html.
Update master sites and homepage (project moved to belios.de).
From Bernd Ahlers <b dot ahlers at ba-net dot org>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2005/02/19 21:27:35 alek Exp $
d6 1
@


1.101
log
@- Fix libintl detection
- Don't use bundled libintl headers
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2005/01/02 12:56:05 alek Exp $
d5 1
a5 2
DISTNAME=	fetchmail-6.2.5
PKGNAME=	${DISTNAME}p0
d7 1
a7 2
MASTER_SITES=	http://catb.org/~esr/fetchmail/ \
		ftp://ftp.ccil.org/pub/esr/fetchmail/ 
d9 1
a9 1
HOMEPAGE=	http://catb.org/~esr/fetchmail/
@


1.101.2.1
log
@SECURITY FIX: update to 6.2.5.2, see
http://www.vuxml.org/openbsd/aee27100-fcf2-11d9-b3c7-00065bd5b0b6.html.
Update master sites and homepage (project moved to belios.de).
From Bernd Ahlers <b dot ahlers at ba-net dot org>.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2005/02/19 21:27:35 alek Exp $
d5 2
a6 1
DISTNAME=	fetchmail-6.2.5.2
d8 2
a9 1
MASTER_SITES=	http://download.berlios.de/fetchmail/
d11 1
a11 1
HOMEPAGE=	http://fetchmail.berlios.de/
@


1.101.2.2
log
@updated packages for these ports where not build in a sane environment
bump PKGNAME for fixed packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101.2.1 2005/07/29 17:14:48 robert Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.101.2.3
log
@MFC:
Fix the latest security issue in fetchmailconf.
http://fetchmail.berlios.de/fetchmail-SA-2005-02.txt
"passwords are written to a world-readable file"

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101.2.2 2005/08/31 19:51:41 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.101.2.4
log
@update to fetchmail 6.2.5.5, fixing CVE-2005-3088 and CVE-2005-4348

from bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101.2.3 2005/10/30 07:23:47 sturm Exp $
d5 2
a6 1
DISTNAME=	fetchmail-6.2.5.5
@


1.100
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2004/08/10 09:14:48 xsa Exp $
d6 1
@


1.99
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2003/10/15 23:08:49 fgsch Exp $
d18 1
@


1.99.2.1
log
@SECURITY FIX: update to 6.2.5.2, see
http://www.vuxml.org/openbsd/aee27100-fcf2-11d9-b3c7-00065bd5b0b6.html.
Update master sites and homepage (project moved to belios.de).
From Bernd Ahlers <b dot ahlers at ba-net dot org>.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2004/08/10 09:14:48 xsa Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.2.5.2
d7 2
a8 1
MASTER_SITES=	http://download.berlios.de/fetchmail/
d10 1
a10 1
HOMEPAGE=	http://fetchmail.berlios.de/
@


1.99.2.2
log
@updated packages for these ports where not build in a sane environment
bump PKGNAME for fixed packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99.2.1 2005/07/29 17:19:14 robert Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.99.2.3
log
@MFC:
Fix the latest security issue in fetchmailconf.
http://fetchmail.berlios.de/fetchmail-SA-2005-02.txt
"passwords are written to a world-readable file"

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99.2.2 2005/08/31 19:46:33 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.98
log
@update to 6.2.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2003/08/13 23:28:24 fgsch Exp $
d19 1
a19 1
MODULES=	gettext
@


1.97
log
@update to fetchmail 6.2.4; bugfix release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2003/07/17 22:36:44 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.2.4
@


1.96
log
@update to fetchmail 6.2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2003/05/20 01:55:59 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.2.3
@


1.95
log
@no more kerberosIV stuff; reported and tested by krw.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2003/04/04 04:34:18 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.2.2
@


1.94
log
@update to fetchmail 6.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2003/02/18 10:30:17 fgsch Exp $
d24 1
a24 1
		--with-kerberos --with-kerberos5 --enable-NTLM
@


1.93
log
@new MASTER_SITES and HOMEPAGE.
from by Joseph C. Bender <jcbender at benderhome dot net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2002/12/13 08:53:56 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.2.0
@


1.92
log
@SECURITY FIX: update to fetchmail 6.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2002/11/28 16:34:15 fgsch Exp $
d7 1
a7 1
MASTER_SITES=	http://www.tuxedo.org/~esr/fetchmail/ \
d10 1
a10 1
HOMEPAGE=	http://www.tuxedo.org/~esr/fetchmail/
@


1.91
log
@Update to fetchmail 6.1.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2002/11/02 20:23:34 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.1.3
@


1.90
log
@update to fetchmail 6.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2002/10/27 17:21:39 naddy Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.1.2
@


1.89
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2002/10/18 20:31:21 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.1.1
@


1.88
log
@update to fetchmail 6.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2002/09/30 16:37:14 brad Exp $
d27 2
@


1.87
log
@upgrade to fetchmail 6.1.0
- fixes a few buffer overflows and a broken boundary check
which could potentially lead to a remote vulnerability.

http://marc.theaimsgroup.com/?l=bugtraq&m=103340148625187&w=2
--
Ok'd by: pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2002/09/18 01:02:51 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.1.0
@


1.87.2.1
log
@MFC:
SECURITY FIX: update to fetchmail 6.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2002/12/13 08:53:56 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.2.0
a26 2

NO_REGRESS=	Yes
@


1.86
log
@update to 6.0.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2002/09/10 10:14:24 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.0.0
@


1.85
log
@- update to fetchmail 5.9.14.
- remove deprecated NEED_VERSION.
- enable NTLM support as requested by Nick Nauwelaerts <nick@@wanadoo.be>.
- add gettext to MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2002/06/26 22:14:48 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.14
@


1.84
log
@update to 5.9.13; see http://www.tuxedo.org/~esr/fetchmail/NEWS for changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2002/06/06 00:56:48 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.13
a6 1
NEED_VERSION=	1.525
d19 2
d24 3
a26 1
		--with-kerberos --with-kerberos5
@


1.83
log
@update to fetchmail 5.9.12; for my chani.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2002/05/27 17:48:13 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.12
@


1.82
log
@ops, revert local change while testing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2002/05/27 17:43:43 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.11
@


1.81
log
@make this compile again after recent openssl changes; reported by krw@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2002/05/01 22:19:36 fgsch Exp $
d20 1
a20 1
#SEPARATE_BUILD=	concurrent
@


1.80
log
@o Update to fetchmail 5.9.11.
o bump need_version.
o remove the need for autoconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2002/01/06 18:33:17 espie Exp $
d20 1
a20 1
SEPARATE_BUILD=	concurrent
@


1.79
log
@happy with new autoconf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2001/12/17 21:45:49 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.6
d7 1
a7 1
NEED_VERSION=	1.500
d21 1
a21 2
CONFIGURE_STYLE= autoconf
AUTOCONF_NEW=	Yes
@


1.79.2.1
log
@upgrade to fetchmail 6.1.0
- fixes a few buffer overflows and a broken boundary check
which could potentially lead to a remote vulnerability.

http://marc.theaimsgroup.com/?l=bugtraq&m=103340148625187&w=2
--
Ok'd by: fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2002/01/06 18:33:17 espie Exp $
d5 1
a5 1
DISTNAME=	fetchmail-6.1.0
a19 2
MODULES=	gettext

d21 2
a22 1
CONFIGURE_STYLE= gnu
d24 1
a24 3
		--with-kerberos --with-kerberos5 --enable-NTLM
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.79.2.2
log
@MFC:
SECURITY FIX: update to fetchmail 6.2.0.
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	fetchmail-6.2.0
d7 1
a27 2

NO_REGRESS=	Yes
@


1.78
log
@o update to fetchmail 5.9.6
o regenerate checksum files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2001/11/27 15:29:28 brad Exp $
d22 1
@


1.77
log
@add a missing library so fetchmail links on ELF-based archs when using Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2001/11/12 19:24:54 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.5
@


1.76
log
@o Update to fetchmail 5.9.5.
o Bump version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2001/10/26 03:52:49 fgsch Exp $
d7 1
a7 1
NEED_VERSION=	1.480
d21 1
a21 1
CONFIGURE_STYLE= gnu
@


1.75
log
@o Upgrade to fetchmail 5.9.4.
o Remove kerberos4/5 from flavors list and use them by default.
  Suggested by Jakob Schlyter <jakob@@crt.se>.
o Update diffs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2001/08/15 14:15:03 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.4
d7 1
a7 1
NEED_VERSION=	1.402
@


1.74
log
@Fetchmail 5.9.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2001/08/08 08:40:54 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.9.0
d21 3
a23 12
CONFIGURE_STYLE= gnu autoconf
CONFIGURE_ARGS=	--disable-nls --enable-inet6 --with-ssl

FLAVORS=	kerberos4 kerberos5
FLAVOR?=

.if ${FLAVOR:L:Mkerberos4}
CONFIGURE_ARGS+= --with-kerberos
.endif
.if ${FLAVOR:L:Mkerberos5}
CONFIGURE_ARGS+= --with-kerberos5
.endif
@


1.73
log
@Security fix: update to fetchmail 5.8.17.
http://www.tuxedo.org/~esr/fetchmail/NEWS for more info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2001/08/06 09:50:23 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.17
@


1.72
log
@Fetchmail 8.5.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2001/08/03 14:47:07 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.16
@


1.71
log
@Fetchmail 5.8.15.
Update flavors list.

Nobody has yet reported if kerberos5 works; if you're using it, mail me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2001/07/11 17:53:30 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.15
@


1.70
log
@fetchmail 5.8.13; minor bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2001/07/09 00:19:47 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.13
@


1.69
log
@- Update to fetchmail 5.8.11.
- Move old kerberosIV flavor to kerberos4.
- Add kerberosV support via kerberos5 flavor.

KerberosV support is not really tested. I'm not sure if that diff is
100% correct, so I'm gonna hold a bit to submit it. Please test.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2001/06/26 02:35:44 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.11
@


1.68
log
@Fetchmail 5.8.10; more bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2001/06/25 06:34:20 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.10
d21 1
a21 1
CONFIGURE_STYLE= gnu
d24 1
a24 1
FLAVORS=	kerberos
d27 1
a27 1
.if ${FLAVOR:L:Mkerberos}
d30 3
d40 1
a40 1
	@@tbl ${WRKSRC}/fetchmail.man > ${WRKSRC}/fetchmail.tbl; \
@


1.67
log
@Fetchmail 5.8.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2001/06/23 05:29:57 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.9
@


1.66
log
@Update to 5.8.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2001/05/23 02:16:40 brad Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.8
@


1.65
log
@upgrade to fetchmail 5.8.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2001/04/13 20:35:49 brad Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.4
@


1.64
log
@upgrade to fetchmail 5.8.1
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2001/03/18 21:06:52 fgsch Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.1
d7 1
a7 1
NEED_VERSION=	1.384
@


1.64.2.1
log
@Pull patch from current:
Fix (fgsch):
Security fix: update to fetchmail 5.8.17.
http://www.tuxedo.org/~esr/fetchmail/NEWS for more info.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2001/04/13 20:35:49 brad Exp $
d5 1
a5 1
DISTNAME=	fetchmail-5.8.17
@


1.63
log
@Move to `gold' 5.7.0 version; pointed out by several ppl.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2001/02/15 21:21:37 brad Exp $
d3 3
a5 1
DISTNAME=	fetchmail-5.7.0
d7 1
a7 1
NEED_VERSION=	1.362
d20 1
@


1.62
log
@upgrade to fetchmail 5.6.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2000/12/14 15:20:28 brad Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.6.5
d5 1
a5 1
NEED_VERSION=	1.336
@


1.61
log
@upgrade to fetchmail 5.6.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2000/11/17 21:56:33 brad Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.6.1
d28 3
d40 1
a40 4
	cd ${WRKSRC} && ${INSTALL_DATA} \
	  sample.rcfile FAQ NOTES FEATURES README COPYING \
	  fetchmail-FAQ.html fetchmail-features.html \
	  design-notes.html ${PREFIX}/share/doc/fetchmail
@


1.60
log
@upgrade to fetchmail 5.5.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2000/10/16 13:30:33 fgsch Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.5.6
@


1.59
log
@add real names to MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2000/09/27 07:14:31 fgsch Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.5.3
d5 1
a5 1
NEED_VERSION=	1.326
d18 1
a18 1
CONFIGURE_STYLE= gnu dest
@


1.58
log
@update to release 5.5.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2000/09/12 22:27:34 fgsch Exp $
d11 1
a11 1
MAINTAINER=	fgsch@@openbsd.org
@


1.57
log
@update to release 5.5.2 and bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2000/09/07 06:48:01 brad Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.5.2
@


1.56
log
@enable ssl by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2000/08/30 03:40:23 brad Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.5.1
d5 1
a5 1
NEED_VERSION=	1.310
@


1.55
log
@oops, fix Makefile so that its possible to use both FLAVORs at once
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2000/08/26 18:12:53 brad Exp $
d19 1
a19 1
CONFIGURE_ARGS=	--disable-nls --enable-inet6
d21 1
a21 1
FLAVORS=	kerberos ssl
a25 3
.endif
.if ${FLAVOR:L:Mssl}
CONFIGURE_ARGS+= --with-ssl
@


1.54
log
@upgrade to fetchmail 5.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2000/08/15 06:31:31 fgsch Exp $
d24 1
a24 1
.if ${FLAVOR:L} == "kerberos"
d27 1
a27 1
.if ${FLAVOR:L} == "ssl"
@


1.53
log
@Update to release 5.5.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2000/08/04 23:41:33 fgsch Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.5.0
@


1.52
log
@use @@ on tbl and -f on cp.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2000/08/04 22:49:55 fgsch Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.4.4
@


1.51
log
@use tbl to format the manpage prior installation; now fetchmail(1) can
be viewed properly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2000/07/23 22:42:52 brad Exp $
d34 2
a35 2
	tbl ${WRKSRC}/fetchmail.man > ${WRKSRC}/fetchmail.tbl
	cp ${WRKSRC}/fetchmail.tbl ${WRKSRC}/fetchmail.man
@


1.50
log
@add wrapper for fetchmailconf to check for Python and if it does not exist
point the user in the right direction.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2000/07/23 22:08:23 brad Exp $
d33 3
a35 1
		${FILESDIR}/fetchmailconf > ${WRKDIR}/fetchmailconf
d41 3
a43 3
	   sample.rcfile FAQ NOTES FEATURES README COPYING \
	   fetchmail-FAQ.html fetchmail-features.html \
	   design-notes.html ${PREFIX}/share/doc/fetchmail
d45 1
a45 1
	 ${PREFIX}/libexec/fetchmailconf.bin
@


1.49
log
@upgrade to fetchmail 5.4.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2000/07/15 07:18:01 brad Exp $
d31 4
d42 3
@


1.48
log
@force creation of proper symlink durring post-install and remove
unnecessary patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2000/07/08 08:54:01 fgsch Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.4.3
d18 2
a19 2
CONFIGURE_STYLE=	gnu dest
CONFIGURE_ARGS+= --disable-nls --enable-inet6
@


1.47
log
@use dest in CONFIGURE_STYLE, thus simplifying patch-aa.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2000/07/03 15:08:04 fgsch Exp $
d19 1
d22 1
a23 2
FLAVOR?=
CONFIGURE_ARGS+= --disable-nls --enable-inet6
d33 1
@


1.46
log
@update to release 5.4.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2000/06/28 17:13:53 fgsch Exp $
d5 1
a5 1
NEED_VERSION=	1.308
d18 1
a18 1
CONFIGURE_STYLE=	gnu
@


1.45
log
@Update to release 5.4.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2000/06/27 23:22:03 fgsch Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.4.2
@


1.44
log
@Use flavors. bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2000/06/12 15:38:34 brad Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.4.1
@


1.43
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2000/06/11 01:25:45 fgsch Exp $
d5 1
a5 1
NEED_VERSION=	1.301
d20 3
d24 1
a24 1
.if defined(WITH_KERBEROS) && ${WITH_KERBEROS:U} == YES
d27 1
a27 1
.if defined(WITH_SSL) && ${WITH_SSL:U} == YES
@


1.42
log
@CONFIGURE_STYLE and tag. add NEED_VERSION too (is this really needed?)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2000/06/08 16:58:54 brad Exp $
d8 2
@


1.41
log
@upgrade to fetchmail 5.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/04/26 18:43:53 fgsch Exp $
d5 1
d16 1
a16 1
FAKE=	Yes
a17 1
GNU_CONFIGURE=	Yes
@


1.40
log
@Update to 5.3.8; fake; change upper to lower in comment; turan@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2000/04/09 17:36:56 espie Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.3.8
d7 1
d10 4
a13 1
FAKE=			YES
d15 1
a15 5
LICENSE_TYPE=		GPL
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d17 2
a18 2
GNU_CONFIGURE=		YES
CONFIGURE_ARGS+= --disable-nls
a23 3
.endif
.if defined(WITH_INET6) && ${WITH_INET6:U} == YES
CONFIGURE_ARGS+= --enable-inet6
@


1.40.2.1
log
@bring mail as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2000/08/04 23:41:33 fgsch Exp $
d3 1
a3 1
DISTNAME=	fetchmail-5.4.4
a4 1
NEED_VERSION=	1.310
a6 3

HOMEPAGE=	http://www.tuxedo.org/~esr/fetchmail/

d9 1
a9 7
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE= gnu dest
CONFIGURE_ARGS=	--disable-nls --enable-inet6
d11 9
a19 4
FLAVORS=	kerberos ssl
FLAVOR?=

.if ${FLAVOR:L} == "kerberos"
d22 1
a22 1
.if ${FLAVOR:L} == "ssl"
d25 3
a27 6

pre-patch:
	@@sed -e "s|@@PREFIX@@|${LOCALBASE}|" \
	  ${FILESDIR}/fetchmailconf > ${WRKDIR}/fetchmailconf
	@@tbl ${WRKSRC}/fetchmail.man > ${WRKSRC}/fetchmail.tbl; \
	  cp -f ${WRKSRC}/fetchmail.tbl ${WRKSRC}/fetchmail.man
a30 1
	@@cd ${PREFIX}/man/man1 && ln -sf fetchmail.1 fetchmailconf.1
d32 3
a34 6
	  sample.rcfile FAQ NOTES FEATURES README COPYING \
	  fetchmail-FAQ.html fetchmail-features.html \
	  design-notes.html ${PREFIX}/share/doc/fetchmail
	${INSTALL_SCRIPT} ${WRKSRC}/fetchmailconf \
	  ${PREFIX}/libexec/fetchmailconf.bin
	${INSTALL_SCRIPT} ${WRKDIR}/fetchmailconf ${PREFIX}/bin
@


1.39
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2000/02/15 05:04:40 turan Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.2.5
a4 1
FAKE=No
d7 1
d9 1
a9 1
MAINTAINER=	fgsch@@openbsd.org
d17 1
a17 1
GNU_CONFIGURE=	yes
@


1.38
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2000/02/12 08:02:23 turan Exp $
d5 1
@


1.37
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2000/02/01 19:49:07 fgsch Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.36
log
@Update to 5.2.5; minor bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2000/01/18 21:09:35 fgsch Exp $
d9 6
@


1.35
log
@Update to 5.2.4; minor bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2000/01/04 14:13:23 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.2.4
d18 1
a18 1
.if defined(WITH_IPV6) && ${WITH_IPV6:U} == YES
@


1.34
log
@Update to release 5.2.3; this time is working fine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 1999/12/26 16:41:11 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.2.3
@


1.33
log
@rollback to 5.2.1; too many problems in very short time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 1999/12/26 16:04:06 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.2.1
@


1.32
log
@Add ipv6 support via WITH_IPV6. Any testers?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 1999/12/26 15:30:36 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.2.2
@


1.31
log
@Update to release 5.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 1999/12/25 07:48:19 brad Exp $
d17 3
@


1.30
log
@remove =yes after --with-foo options, using --with-foo implies yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 1999/12/25 06:50:21 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.2.1
@


1.29
log
@ok, right, remove /usr/lib/libkrb.a check too; brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 1999/12/25 06:48:46 fgsch Exp $
d13 1
a13 1
CONFIGURE_ARGS+= --with-kerberos=yes
d16 1
a16 1
CONFIGURE_ARGS+= --with-ssl=yes
@


1.28
log
@remove /usr/local/lib/libssl.a check; brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 1999/12/21 20:36:39 fgsch Exp $
d12 1
a12 2
.if exists(/usr/lib/libkrb.a) && defined(WITH_KERBEROS) && \
    ${WITH_KERBEROS:U} == YES
@


1.27
log
@update to release 5.2.1. SSL should compile & work fine now.
brad@@ patches comming. Testers needed. =)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 1999/12/18 19:51:57 fgsch Exp $
d16 1
a16 2
.if exists(/usr/local/lib/libssl.a) && defined(WITH_SSL) && \
    ${WITH_SSL:U} == YES
@


1.26
log
@Update to release 5.2.0. Use INSTALL_DATA_DIR.
MAKE_EBONES -> WITH_KERBEROS. Add ssl support via WITH_SSL.
Still to merge some changes brad@@ sent me.
Note: if ssl is enabled, it'll compile, but ssl will not be
actually included. Patches sent again to author, sigh, sigh.
Don't even think in enabling inet6 yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 1999/10/27 05:23:39 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.2.0
@


1.25
log
@Update to release 5.1.2. package ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 1999/10/01 00:23:48 brad Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.1.2
d12 2
a13 1
.if exists(/usr/lib/libkrb.a) && defined(MAKE_EBONES)
d16 4
a19 3
CONFIGURE_ENV=	LDFLAGS="${CFLAGS}"

FDOC=   ${PREFIX}/share/doc/fetchmail
d22 1
a22 1
	install -d -m 555 -o ${DOCOWN} -g ${DOCGRP} ${FDOC}
d26 1
a26 1
	   design-notes.html ${FDOC}
@


1.24
log
@upgrade to fetchmail 5.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 1999/09/30 12:23:26 espie Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.1.1
@


1.23
log
@Backout.

NO NEW PORTS RULES


STUFF GOING INTO PORTS HAS TO GET THROUGH *ME* FIRST,
OR BE APPROVED BY BRAD OR TURAN.

e.g., no commit from anybody else, unless it says
approved by brad@@ or turan@@ or espie@@ and you don't lie about it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 1999/09/22 16:32:37 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.1.0
@


1.22
log
@Update to release 5.1.1.
@
text
@d3 1
a3 1
DISTNAME=       fetchmail-5.1.1
@


1.21
log
@Update to fetchmail 5.1.0. Add a second master site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 1999/09/15 05:18:36 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.1.0
@


1.20
log
@Update to fetchmail 5.0.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 1999/08/21 22:01:49 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.8
d5 2
a6 1
MASTER_SITES=	ftp://ftp.ccil.org/pub/esr/fetchmail/
d13 1
a13 1
CONFIGURE_ARGS+= --with-kerberos=/usr/include/kerberosIV
@


1.19
log
@Update to fetchmail 5.0.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 1999/08/03 14:40:26 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.7
@


1.18
log
@Update to fetchmail 5.0.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/06/28 19:40:45 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.6
@


1.17
log
@Update to fetchmail-5.0.5.
Remove unnecessary patches. They're part of the regular distribution now.
Change the maintainer to myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/06/12 23:07:44 brad Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.5
@


1.16
log
@upgrade to fetchmail 5.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/05/03 06:41:08 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.4
d7 1
a7 1
MAINTAINER=	ports@@openbsd.org
@


1.15
log
@Update to fetchmail 5.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/04/30 07:46:22 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.3
d7 1
a7 1
MAINTAINER=	ports@@OpenBSD.ORG
d12 1
a12 1
CONFIGURE_ARGS += --with-kerberos=/usr/include/kerberosIV
d14 1
a14 1
CONFIGURE_ENV+= ${SETENV} LDFLAGS="${CFLAGS}"
@


1.14
log
@Update to fetchmail 5.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/04/19 06:56:22 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.2
@


1.13
log
@Update to 5.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/04/07 04:52:26 brad Exp $
d3 1
a3 1
DISTNAME=       fetchmail-5.0.1
@


1.12
log
@fixup CONFIGURE_ARGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/03/10 05:07:45 fgsch Exp $
d3 1
a3 1
DISTNAME=       fetchmail-4.7.9
@


1.11
log
@Update to 4.7.9
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.10 1999/02/23 03:33:25 fgsch Exp $
#
d10 1
a10 1
#CONFIGURE_ARGS+= --enable-opie
@


1.10
log
@Update to 4.7.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/02/10 05:03:37 fgsch Exp $
d4 1
a4 1
DISTNAME=       fetchmail-4.7.8
@


1.9
log
@Update to 4.7.7.
@
text
@d1 1
a1 6
# OpenBSD makefile for:	fetchmail
# Version required:     4.7.7
# Date created:		10 Nov 1997
# Whom:			ejovi
#
# $OpenBSD: Makefile,v 1.8 1999/01/16 06:09:56 fgsch Exp $
d4 1
a4 1
DISTNAME=       fetchmail-4.7.7
@


1.8
log
@Update to 4.7.5
@
text
@d2 1
a2 1
# Version required:     4.7.5
d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 1998/12/28 05:12:46 fgsch Exp $
d9 1
a9 1
DISTNAME=       fetchmail-4.7.5
@


1.7
log
@Update to 4.7.2. Make COMMENT < 60 chars.
@
text
@d2 1
a2 1
# Version required:     4.7.2
d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 1998/08/01 02:01:55 marc Exp $
d9 1
a9 1
DISTNAME=       fetchmail-4.7.2
@


1.6
log
@updated to version to 4.5.8
@
text
@d2 1
a2 1
# Version required:     4.5.4
d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 1998/03/01 05:40:44 marc Exp $
d9 1
a9 1
DISTNAME=       fetchmail-4.5.4
@


1.5
log
@Updated to version to 4.3.8.  Required one new patch.
@
text
@d2 1
a2 1
# Version required:     4.3.8
d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 1997/12/31 11:34:28 tacho Exp $
d9 1
a9 1
DISTNAME=       fetchmail-4.3.8
a16 3
CONFIGURE_ENV+= LDFLAGS="${CFLAGS}"
MAN1=		fetchmail.1

d20 1
@


1.4
log
@recent changes - new versions. all work.
@
text
@d2 1
a2 1
# Version required:     4.3.0
d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1997/11/24 03:27:38 angelos Exp $
d9 1
a9 1
DISTNAME=       fetchmail-4.3.3
d13 1
a13 1
MAINTAINER=	joey@@OpenBSD.ORG
@


1.3
log
@Not everyone uses opie.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1997/11/17 21:47:29 joey Exp $
d9 1
a9 1
DISTNAME=       fetchmail-4.3.0
a24 3

post-patch:
	@@${CP} -f  /usr/include/md5.h ${WRKSRC}
@


1.2
log
@added $OpenBSD$, changed ejovi to joey...removed freebsd contact from ssh
@
text
@d6 1
a6 1
# $OpenBSD$
d16 1
a16 1
CONFIGURE_ARGS+= --enable-opie
@


1.1
log
@Initial revision
@
text
@d5 3
d13 1
a13 1
MAINTAINER=	ve@@sci.fi
@


1.1.1.1
log
@initial ports subsystem from joey
@
text
@@

