head	1.61;
access;
symbols
	OPENBSD_6_1:1.61.0.2
	OPENBSD_6_1_BASE:1.61
	OPENBSD_6_0:1.60.0.4
	OPENBSD_6_0_BASE:1.60
	OPENBSD_5_9:1.60.0.2
	OPENBSD_5_9_BASE:1.60
	OPENBSD_5_8:1.59.0.4
	OPENBSD_5_8_BASE:1.59
	OPENBSD_5_7:1.58.0.2
	OPENBSD_5_7_BASE:1.58
	OPENBSD_5_6:1.57.0.2
	OPENBSD_5_6_BASE:1.57
	OPENBSD_5_5:1.56.0.4
	OPENBSD_5_5_BASE:1.56
	OPENBSD_5_4:1.56.0.2
	OPENBSD_5_4_BASE:1.56
	OPENBSD_5_3:1.55.0.4
	OPENBSD_5_3_BASE:1.55
	OPENBSD_5_2:1.55.0.2
	OPENBSD_5_2_BASE:1.55
	OPENBSD_5_1_BASE:1.54
	OPENBSD_5_1:1.54.0.2
	OPENBSD_5_0:1.53.0.2
	OPENBSD_5_0_BASE:1.53
	OPENBSD_4_9:1.51.0.2
	OPENBSD_4_9_BASE:1.51
	OPENBSD_4_8:1.49.0.2
	OPENBSD_4_8_BASE:1.49
	OPENBSD_4_7:1.48.0.6
	OPENBSD_4_7_BASE:1.48
	OPENBSD_4_6:1.48.0.4
	OPENBSD_4_6_BASE:1.48
	OPENBSD_4_5:1.48.0.2
	OPENBSD_4_5_BASE:1.48
	OPENBSD_4_4:1.47.0.4
	OPENBSD_4_4_BASE:1.47
	OPENBSD_4_3:1.47.0.2
	OPENBSD_4_3_BASE:1.47
	OPENBSD_4_2:1.46.0.2
	OPENBSD_4_2_BASE:1.46
	OPENBSD_4_1:1.45.0.6
	OPENBSD_4_1_BASE:1.45
	OPENBSD_4_0:1.45.0.4
	OPENBSD_4_0_BASE:1.45
	OPENBSD_3_9:1.45.0.2
	OPENBSD_3_9_BASE:1.45
	OPENBSD_3_8:1.44.0.2
	OPENBSD_3_8_BASE:1.44
	OPENBSD_3_7:1.40.0.2
	OPENBSD_3_7_BASE:1.40
	OPENBSD_3_6:1.36.0.2
	OPENBSD_3_6_BASE:1.36
	OPENBSD_3_5:1.31.0.2
	OPENBSD_3_5_BASE:1.31
	OPENBSD_3_4:1.29.0.2
	OPENBSD_3_4_BASE:1.29
	OPENBSD_3_3:1.25.0.2
	OPENBSD_3_3_BASE:1.25
	OPENBSD_3_2:1.21.0.2
	OPENBSD_3_2_BASE:1.21
	OPENBSD_3_1:1.20.0.2
	OPENBSD_3_1_BASE:1.20
	OPENBSD_3_0:1.19.0.2
	OPENBSD_3_0_BASE:1.19
	OPENBSD_2_9_TRACKING_SWITCH:1.19
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.16.0.2
	OPENBSD_2_8_BASE:1.16
	OPENBSD_2_7:1.12.0.2
	OPENBSD_2_7_BASE:1.12
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.7.0.2
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	leadnode1_0_2:1.1.1.1
	leafnode:1.1.1;
locks; strict;
comment	@# @;


1.61
date	2016.12.18.19.50.59;	author jca;	state Exp;
branches;
next	1.60;
commitid	7qkxtREHO0RtKfqD;

1.60
date	2015.10.02.11.55.05;	author jca;	state Exp;
branches;
next	1.59;
commitid	zsErqw09w8r68ErS;

1.59
date	2015.04.06.16.26.22;	author jca;	state Exp;
branches;
next	1.58;
commitid	olDrecDDhk4YfGqV;

1.58
date	2015.02.16.22.57.11;	author naddy;	state Exp;
branches;
next	1.57;
commitid	0dx3c9ckf7dE4tx1;

1.57
date	2014.03.25.12.23.36;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2013.03.11.11.35.58;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2012.04.28.10.52.08;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2012.01.26.08.03.57;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.06.20.08.52.31;	author fgsch;	state Exp;
branches;
next	1.52;

1.52
date	2011.05.11.07.45.52;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2010.11.20.09.48.38;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2010.10.18.21.25.08;	author espie;	state Exp;
branches;
next	1.49;

1.49
date	2010.07.24.17.43.17;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2009.02.12.13.33.07;	author giovanni;	state Exp;
branches;
next	1.47;

1.47
date	2007.09.15.21.41.50;	author merdely;	state Exp;
branches;
next	1.46;

1.46
date	2007.04.06.22.21.30;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2005.11.24.20.06.32;	author sturm;	state Exp;
branches;
next	1.44;

1.44
date	2005.06.09.16.52.04;	author robert;	state Exp;
branches;
next	1.43;

1.43
date	2005.05.05.19.58.52;	author robert;	state Exp;
branches;
next	1.42;

1.42
date	2005.05.03.17.43.24;	author sturm;	state Exp;
branches;
next	1.41;

1.41
date	2005.03.22.21.43.12;	author sturm;	state Exp;
branches;
next	1.40;

1.40
date	2005.01.24.11.48.30;	author sturm;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2004.12.02.19.19.58;	author alek;	state Exp;
branches;
next	1.38;

1.38
date	2004.11.23.10.54.04;	author alek;	state Exp;
branches;
next	1.37;

1.37
date	2004.10.07.05.15.25;	author sturm;	state Exp;
branches;
next	1.36;

1.36
date	2004.08.02.19.00.30;	author sturm;	state Exp;
branches
	1.36.2.1;
next	1.35;

1.35
date	2004.08.01.09.48.52;	author sturm;	state Exp;
branches;
next	1.34;

1.34
date	2004.06.29.19.03.03;	author sturm;	state Exp;
branches;
next	1.33;

1.33
date	2004.06.14.05.06.20;	author sturm;	state Exp;
branches;
next	1.32;

1.32
date	2004.05.07.20.46.59;	author sturm;	state Exp;
branches;
next	1.31;

1.31
date	2004.01.12.21.33.12;	author sturm;	state Exp;
branches
	1.31.2.1;
next	1.30;

1.30
date	2003.11.08.21.55.50;	author sturm;	state Exp;
branches;
next	1.29;

1.29
date	2003.07.26.13.24.08;	author sturm;	state Exp;
branches;
next	1.28;

1.28
date	2003.06.23.19.11.10;	author sturm;	state Exp;
branches;
next	1.27;

1.27
date	2003.05.21.06.51.43;	author marcm;	state Exp;
branches;
next	1.26;

1.26
date	2003.03.30.22.23.28;	author rohee;	state Exp;
branches;
next	1.25;

1.25
date	2003.02.22.22.32.12;	author rohee;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2003.02.19.22.34.25;	author rohee;	state Exp;
branches;
next	1.23;

1.23
date	2003.01.21.16.58.11;	author marcm;	state Exp;
branches;
next	1.22;

1.22
date	2002.10.21.16.49.06;	author marcm;	state Exp;
branches;
next	1.21;

1.21
date	2002.09.24.00.24.19;	author marcm;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2001.10.28.13.05.48;	author espie;	state Exp;
branches
	1.20.2.1;
next	1.19;

1.19
date	2001.06.10.21.32.25;	author rohee;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.06.02.59.32;	author lebel;	state Exp;
branches;
next	1.17;

1.17
date	2001.02.24.18.04.53;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2000.09.12.15.55.52;	author fgsch;	state Exp;
branches;
next	1.15;

1.15
date	2000.08.29.05.20.46;	author fgsch;	state Exp;
branches;
next	1.14;

1.14
date	2000.06.17.19.03.46;	author fgsch;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.10.19.00.14;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2000.04.09.17.37.42;	author espie;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2000.03.23.03.43.41;	author turan;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.26.00.42.12;	author rohee;	state Exp;
branches;
next	1.9;

1.9
date	2000.01.26.22.14.01;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.04.23.23.40.25;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.03.22.01.39.49;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.03.17.03.46.25;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.03.10.05.12.19;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	99.02.21.20.26.35;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	99.01.31.01.38.06;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.07.25.06.16.10;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.12.20.02.03.08;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.20.02.03.08;	author joey;	state Exp;
branches;
next	;

1.12.2.1
date	2000.09.15.05.11.44;	author marc;	state Exp;
branches;
next	;

1.20.2.1
date	2003.01.28.19.11.52;	author marcm;	state Exp;
branches;
next	;

1.21.2.1
date	2003.01.22.07.02.47;	author marcm;	state Exp;
branches;
next	;

1.25.2.1
date	2003.06.01.04.05.06;	author marcm;	state Exp;
branches;
next	;

1.31.2.1
date	2005.05.06.14.46.44;	author robert;	state Exp;
branches;
next	;

1.36.2.1
date	2005.05.06.14.46.04;	author robert;	state Exp;
branches;
next	1.36.2.2;

1.36.2.2
date	2005.06.12.07.49.25;	author robert;	state Exp;
branches;
next	;

1.40.2.1
date	2005.05.23.04.01.30;	author robert;	state Exp;
branches;
next	1.40.2.2;

1.40.2.2
date	2005.06.12.07.49.54;	author robert;	state Exp;
branches;
next	;


desc
@@


1.61
log
@Run as group `_news'.

ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.60 2015/10/02 11:55:05 jca Exp $

COMMENT=		USENET software package designed for small sites

DISTNAME=		leafnode-1.11.11
REVISION=		0
CATEGORIES=		news

HOMEPAGE=		http://leafnode.sourceforge.net/

# MIT/BSD like
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c pcre

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=leafnode/}
EXTRACT_SUFX=		.tar.xz

LIB_DEPENDS=		devel/pcre

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--with-lockfile=/var/spool/news/fetchnews.lck
CONFIGURE_ARGS+=	--with-user=_news \
			--with-group=_news

DOCS=		README README-FQDN INSTALL FAQ.txt NEWS OLDNEWS

post-install:
	$(INSTALL_DATA_DIR) ${PREFIX}/share/doc/leafnode
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/leafnode
	cd ${WRKSRC} && $(INSTALL_DATA) ${DOCS} \
		${PREFIX}/share/doc/leafnode
	${INSTALL_DATA} ${WRKINST}/${SYSCONFDIR}/leafnode/* \
		${PREFIX}/share/examples/leafnode/

.include <bsd.port.mk>
CONFIGURE_ARGS+=	--sysconfdir=${SYSCONFDIR}/leafnode
@


1.60
log
@Update to leafnode-1.11.11

NEWS entries (the last entry doesn't affect OpenBSD):

### BUGFIXES
- The configfile parser now strips whitespace between a configuration
  parameter's value and a trailing comment. Found by Cecil Westerhof.
- The roff manual page sources now render proper hyphens (-), minus characters
  (\-) and en-dashes (\[en]) depending on their context. This is so that
  copying-and-pasting from the manual page works properly.
- The code that checks if the peer is local now properly deals with IPv4
  mapped IPv6 addresses.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/04/06 16:26:22 jca Exp $
d6 1
d23 2
a24 1
CONFIGURE_ARGS+=	--with-user=_news
@


1.59
log
@Update to leafnode-1.11.10

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2015/02/16 22:57:11 naddy Exp $
d5 1
a5 1
DISTNAME=		leafnode-1.11.10
@


1.58
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/03/25 12:23:36 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		leafnode-1.11.8
a6 1
REVISION=		1
d16 1
a16 1
EXTRACT_SUFX=		.tar.bz2
@


1.57
log
@tcp wrappers are gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2013/03/11 11:35:58 espie Exp $
a23 1
USE_GROFF =		Yes
@


1.56
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/04/28 10:52:08 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.55
log
@--localstatedir=/var is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/01/26 08:03:57 ajacoutot Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.54
log
@Put these users in the daemon class to be consistent with all the other
ones in ports.

discussed with and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/06/20 08:52:31 fgsch Exp $
a24 1
CONFIGURE_ARGS+=	--localstatedir=/var
@


1.53
log
@Update to leafnode 1.11.8.
giovanni@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/05/11 07:45:52 ajacoutot Exp $
d7 1
@


1.52
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/11/20 09:48:38 espie Exp $
d5 1
a5 4
VERSION=		1.11.6
DISTNAME=		leafnode-${VERSION}
REVISION=		1
EXTRACT_SUFX=		.tar.bz2
a25 1
CONFIGURE_ARGS+=	--with-ipv6
@


1.51
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/10/18 21:25:08 espie Exp $
d7 1
a7 1
REVISION=		0
@


1.50
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/07/24 17:43:17 ajacoutot Exp $
d24 1
a24 1
LIB_DEPENDS=		::devel/pcre
d31 1
a31 1
USE_GROFF =	Yes
@


1.49
log
@Move to new DEPENDS/WANTLIB/REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/02/12 13:33:07 giovanni Exp $
d31 1
@


1.48
log
@
Update to 1.11.6
Tweaks and ok by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/09/15 21:41:50 merdely Exp $
d7 1
d18 2
a19 1
WANTLIB=		c
d24 1
a24 1
LIB_DEPENDS=		pcre::devel/pcre
@


1.47
log
@Remove surrounding quotes in COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/04/06 22:21:30 espie Exp $
d5 1
a5 1
VERSION=		1.11.4
a6 1
PKGNAME=		${DISTNAME}p0
d41 1
@


1.46
log
@remove MAINTAINER, at his request, and bump pkgnames.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/11/24 20:06:32 sturm Exp $
d3 1
a3 1
COMMENT=		"USENET software package designed for small sites"
@


1.45
log
@update to leafnode 1.11.4

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/06/09 16:52:04 robert Exp $
d7 1
a11 2

MAINTAINER=		Bruno Rohee <rohee@@openbsd.org>
@


1.44
log
@SECURITY: update to 1.11.3
fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/3f283964-d905-11d9-b5e0-00065bd5b0b6.html

ok rohee@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2005/05/05 19:58:52 robert Exp $
d5 3
a7 3
VERSION=		1.11.3
DISTNAME=		leafnode-${VERSION}.rel
PKGNAME=		leafnode-${VERSION}
@


1.43
log
@SECURITY:
update to 1.11.2; fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/92248e4e-bd88-11d9-985a-00065bd5b0b6.html

ok rohee@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2005/05/03 17:43:24 sturm Exp $
d5 1
a5 1
VERSION=		1.11.2
@


1.42
log
@update to 1.11.1

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2005/03/22 21:43:12 sturm Exp $
d5 1
a5 1
VERSION=		1.11.1
@


1.41
log
@update to leafnode 1.11.0, which brings support for ipv6 in fetchnews

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/01/24 11:48:30 sturm Exp $
d5 1
a5 1
VERSION=		1.11.0
@


1.40
log
@update to 1.10.8

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2004/12/02 19:19:58 alek Exp $
d5 1
a5 1
VERSION=		1.10.8
@


1.40.2.1
log
@SECURITY: update to 1.11.2
fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/92248e4e-bd88-11d9-985a-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/01/24 11:48:30 sturm Exp $
d5 1
a5 1
VERSION=		1.11.2
@


1.40.2.2
log
@SECURITY: update to 1.11.3
fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/3f283964-d905-11d9-b5e0-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40.2.1 2005/05/23 04:01:30 robert Exp $
d5 1
a5 1
VERSION=		1.11.3
@


1.39
log
@Add WANTLIB markers

looks good espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2004/11/23 10:54:04 alek Exp $
d5 1
a5 1
VERSION=		1.10.6
d7 1
a7 1
PKGNAME=		leafnode-${VERSION}p0
@


1.38
log
@- Replace INSTALL script with @@samples
- Bump PKGNAME

ok rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/10/07 05:15:25 sturm Exp $
d19 1
@


1.37
log
@update to leafnode 1.10.6

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/08/02 19:00:30 sturm Exp $
d7 1
a7 1
PKGNAME=		leafnode-${VERSION}
@


1.36
log
@update to leafnode 1.10.3

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2004/08/01 09:48:52 sturm Exp $
d5 1
a5 1
VERSION=		1.10.3
d31 1
a31 1
DOCS=		README README-FQDN INSTALL FAQ.txt
@


1.36.2.1
log
@SECURITY:
update to 1.11.2; fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/92248e4e-bd88-11d9-985a-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2004/08/02 19:00:30 sturm Exp $
d5 1
a5 1
VERSION=		1.11.2
@


1.36.2.2
log
@SECURITY: update to 1.11.3
fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/3f283964-d905-11d9-b5e0-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36.2.1 2005/05/06 14:46:04 robert Exp $
d5 1
a5 1
VERSION=		1.11.3
@


1.35
log
@update to leafnode 1.10.2
from maintainer rohee@@

@@dirrm -> dir/ while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2004/06/29 19:03:03 sturm Exp $
d5 1
a5 1
VERSION=		1.10.2
@


1.34
log
@update to leafnode 1.10.1

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/06/14 05:06:20 sturm Exp $
d5 1
a5 1
VERSION=		1.10.1
@


1.33
log
@update to leafnode 1.10.0

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2004/05/07 20:46:59 sturm Exp $
d5 1
a5 1
VERSION=		1.10.0
d10 1
a10 1
HOMEPAGE=		http://www.leafnode.org/
@


1.32
log
@update to leafnode 1.9.53

from rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/01/12 21:33:12 sturm Exp $
d5 1
a5 1
VERSION=		1.9.53
@


1.31
log
@update to leafnode 1.9.49

from rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/11/08 21:55:50 sturm Exp $
d5 1
a5 1
VERSION=		1.9.49
d29 1
@


1.31.2.1
log
@SECURITY:
update to 1.11.2; fixes a denial of service vulnerability
http://www.vuxml.org/openbsd/92248e4e-bd88-11d9-985a-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/01/12 21:33:12 sturm Exp $
d5 1
a5 1
VERSION=		1.11.2
d28 1
a28 1
CONFIGURE_ARGS+=	--with-ipv6 --with-user=_news
@


1.30
log
@update to leafnode 1.9.46

from rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2003/07/26 13:24:08 sturm Exp $
d5 1
a5 1
VERSION=		1.9.46
@


1.29
log
@- leafnode has its username hardcoded, change this to '_news'
- bump PKGNAME

reported and tested by Marco S Hyman,  maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2003/06/23 19:11:10 sturm Exp $
d5 1
a5 1
VERSION=		1.9.40
d7 1
a7 1
PKGNAME=		leafnode-${VERSION}p1
@


1.28
log
@new user naming schema

bump PKGNAME where necessary

rohee@@ ok leafnode
"you don't have to wait for oks" pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2003/05/21 06:51:43 marcm Exp $
d7 1
a7 1
PKGNAME=		leafnode-${VERSION}p0
@


1.27
log
@Update to 1.9.40.

Among other things this fixes the annoying "cannot parse
server reply" error messages that come spewing forth on server replies that
should otherwise be parsed just fine.

ok rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/03/30 22:23:28 rohee Exp $
d7 1
a7 1
PKGNAME=		leafnode-${VERSION}
@


1.26
log
@update to version 1.9.36, only minor bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/02/22 22:32:12 rohee Exp $
d5 1
a5 1
VERSION=		1.9.36
d12 1
a12 1
MAINTAINER=		Bruno Rohée <rohee@@openbsd.org>
@


1.25
log
@Update to 1.9.35 and take maintainership from marcm@@ who have more
than enough work with Gnome.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/02/19 22:34:25 rohee Exp $
d5 1
a5 1
VERSION=		1.9.35
@


1.25.2.1
log
@MFC: Fix an issue where leafnode would error with "cannot parse
server reply" on server replies that should have otherwise been parsed
just fine.

ok rohee@@ brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/02/22 22:32:12 rohee Exp $
d5 1
a5 1
VERSION=		1.9.40
d12 1
a12 1
MAINTAINER=		Bruno Rohee <rohee@@openbsd.org>
@


1.24
log
@Update to leafnode 1.9.33
CVSfnod: ----------------------------------------------------------------------
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/01/21 16:58:11 marcm Exp $
d5 1
a5 1
VERSION=		1.9.33
d12 1
a12 1
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>
d14 1
a14 1
# GPL/LGPL/Other
@


1.23
log
@Update to 1.9.32.  In addition to the general updates this fixes
Bugtraq #6490, a DoS vulnerability.

Also thanks to margarita@@ for the SYSCONFDIR cluestick :)

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/10/21 16:49:06 marcm Exp $
d5 1
a5 1
VERSION=		1.9.32
@


1.22
log
@Update to 1.9.27.

This version natively includes the patches/bugfixes that were frantically
added pre-3.2 (includung the 64-bit fixes from naddy@@).

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/09/24 00:24:19 marcm Exp $
d5 1
a5 1
VERSION=		1.9.27
a24 1
SYSCONFDIR=		/etc/leafnode
d30 2
d33 3
a35 3
	@@$(INSTALL_DATA_DIR) ${PREFIX}/share/doc/leafnode && \
	cd ${WRKSRC} && \
	$(INSTALL_DATA) README README-FQDN INSTALL FAQ.txt \
d37 2
a38 4
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/leafnode && \
	mv ${WRKINST}/${SYSCONFDIR}/config.example \
		${PREFIX}/share/examples/leafnode/config && \
	cp -Rp ${WRKINST}/${SYSCONFDIR}/* ${PREFIX}/share/examples/leafnode/
@


1.21
log
@Update to 1.9.26.  This fixes numerous bugs (security and otherwise)
since version 1.9.19 as mentioned by the developer on ports@@.

Also brought the port itself up to date and added myself as maintainer.

ok pvalchev@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/10/28 13:05:48 espie Exp $
d5 1
a5 1
VERSION=		1.9.26
d34 1
a34 1
	$(INSTALL_DATA) README README-FQDN TROUBLESHOOTING INSTALL FAQ \
@


1.21.2.1
log
@SECURITY fix:
Update to 1.9.32 to fix Bugtraq #6490, a DoS vulnerability.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/10/21 16:49:06 marcm Exp $
d5 1
a5 1
VERSION=		1.9.32
d25 1
a30 2
DOCS=		README README-FQDN INSTALL FAQ.txt

d32 3
a34 3
	$(INSTALL_DATA_DIR) ${PREFIX}/share/doc/leafnode
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/leafnode
	cd ${WRKSRC} && $(INSTALL_DATA) ${DOCS} \
d36 4
a39 2
	${INSTALL_DATA} ${WRKINST}/${SYSCONFDIR}/leafnode/* \
		${PREFIX}/share/examples/leafnode/
@


1.20
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/06/10 21:32:25 rohee Exp $
d3 1
a3 1
COMMENT=	"USENET software package designed for small sites"
d5 4
a8 8
DISTNAME=	leafnode-1.9.19
CATEGORIES=	news
NEED_VERSION=	1.402
MASTER_SITES=	ftp://wpxx02.toxi.uni-wuerzburg.de/pub/			\
		ftp://ftp.karlsruhe.org/pub/news/servers/leafnode/	\
		ftp://ftp.unixpower.org/pub/leafnode/			\
		ftp://ftp.stikman.com/pub/leafnode/			\
		ftp://ftp.gigabell.net/pub/leafnode/
d10 1
a10 1
HOMEPAGE=	http://www.leafnode.org/
d12 3
d20 6
d27 3
a29 1
CONFIGURE_ARGS+= --sysconfdir=/etc/leafnode --localstatedir=/var
d32 8
a39 3
	$(INSTALL_DATA_DIR) ${PREFIX}/share/doc/leafnode
	cd ${WRKSRC} && $(INSTALL_DATA) README INSTALL FAQ config.example \
	  ${PREFIX}/share/doc/leafnode
@


1.20.2.1
log
@SECURITY fix:
Update to 1.9.32 to fix Bugtraq #6490, a DoS vulnerability.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/01/21 16:58:11 marcm Exp $
d3 1
a3 1
COMMENT=		"USENET software package designed for small sites"
d5 8
a12 4
VERSION=		1.9.32
DISTNAME=		leafnode-${VERSION}.rel
PKGNAME=		leafnode-${VERSION}
CATEGORIES=		news
d14 1
a14 1
HOMEPAGE=		http://www.leafnode.org/
a15 3
MAINTAINER=		Marc Matteo <marcm@@openbsd.org>

# GPL/LGPL/Other
a20 5
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=leafnode/}
EXTRACT_SUFX=		.tar.bz2

LIB_DEPENDS=		pcre::devel/pcre

d22 1
a22 5
CONFIGURE_ARGS+=	--localstatedir=/var
CONFIGURE_ARGS+=	--with-lockfile=/var/spool/news/fetchnews.lck
CONFIGURE_ARGS+=	--with-ipv6

DOCS=		README README-FQDN INSTALL FAQ.txt
d26 2
a27 5
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/leafnode
	cd ${WRKSRC} && $(INSTALL_DATA) ${DOCS} \
		${PREFIX}/share/doc/leafnode
	${INSTALL_DATA} ${WRKINST}/${SYSCONFDIR}/leafnode/* \
		${PREFIX}/share/examples/leafnode/
@


1.19
log
@update to version 1.9.19, a bugfix release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/05/06 02:59:32 lebel Exp $
a12 2

MAINTAINER=	ports@@openbsd.org
@


1.18
log
@news: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/02/24 18:04:53 fgsch Exp $
d5 1
a5 1
DISTNAME=	leafnode-1.9.18
@


1.17
log
@Update to rel. 1.9.18; regen patches.
Thanks to Shell Hung <i@@shellhung.org> for the info.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2000/09/12 15:55:52 fgsch Exp $
d7 1
a7 1
NEED_VERSION=	1.355
@


1.16
log
@update to release 1.9.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/08/29 05:20:46 fgsch Exp $
d3 1
a3 1
DISTNAME=	leafnode-1.9.17
d5 1
a5 1
NEED_VERSION=	1.326
@


1.15
log
@Update to release 1.9.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/06/17 19:03:46 fgsch Exp $
d3 1
a3 1
DISTNAME=	leafnode-1.9.16
d5 1
a5 1
NEED_VERSION=	1.310
@


1.14
log
@Use CONFIGURE_STYLE. Cosmetical changes as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/06/10 19:00:14 fgsch Exp $
d3 1
a3 1
DISTNAME=	leafnode-1.9.14
d5 1
a5 1
NEED_VERSION=	1.303
d13 2
@


1.13
log
@Update to 1.9.14; fake.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/04/09 17:37:42 espie Exp $
d5 6
a10 1
NEED_VERSION=	1.291
d19 1
a19 7
MASTER_SITES=	ftp://wpxx02.toxi.uni-wuerzburg.de/pub/			\
		ftp://ftp.karlsruhe.org/pub/news/servers/leafnode/	\
		ftp://ftp.unixpower.org/pub/leafnode/			\
		ftp://ftp.stikman.com/pub/leafnode/			\
		ftp://ftp.gigabell.net/pub/leafnode/

GNU_CONFIGURE=	Yes
d25 1
a25 1
		${PREFIX}/share/doc/leafnode
@


1.12
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/23 03:43:41 turan Exp $
d3 1
a3 1
DISTNAME=	leafnode-1.9.2
d5 1
a5 1
FAKE=No
d14 5
a18 2
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR= system/news/transport
a19 1
SYSCONFDIR=	/etc/leafnode
d21 1
a21 1
CONFIGURE_ARGS+= --sysconfdir=${SYSCONFDIR} --localstatedir=/var
d23 4
a26 5
pre-install:
	@@perl ${SCRIPTDIR}/pre-install.pl

update: install
	cd $(WRKSRC) && make update
a28 1

@


1.12.2.1
log
@bring news as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/06/17 19:03:46 fgsch Exp $
d3 1
a3 1
DISTNAME=	leafnode-1.9.14
d5 1
a5 6
NEED_VERSION=	1.303
MASTER_SITES=	ftp://wpxx02.toxi.uni-wuerzburg.de/pub/			\
		ftp://ftp.karlsruhe.org/pub/news/servers/leafnode/	\
		ftp://ftp.unixpower.org/pub/leafnode/			\
		ftp://ftp.stikman.com/pub/leafnode/			\
		ftp://ftp.gigabell.net/pub/leafnode/
d14 2
a15 2
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+= --sysconfdir=/etc/leafnode --localstatedir=/var
d17 9
a25 4
post-install:
	$(INSTALL_DATA_DIR) ${PREFIX}/share/doc/leafnode
	cd ${WRKSRC} && $(INSTALL_DATA) README INSTALL FAQ config.example \
	  ${PREFIX}/share/doc/leafnode
d28 1
@


1.11
log
@license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/26 00:42:12 rohee Exp $
d5 1
@


1.10
log
@Licencing information.

Changed maintenair to ports@@, as original maintainer requested
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/01/26 22:14:01 espie Exp $
d8 4
a11 1
LICENCE_TYPE=	GPL
@


1.9
log
@Move pre-install out of the way.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/04/23 23:40:25 brad Exp $
d6 3
a8 1
MAINTAINER=	bob@@prophecy.lu
@


1.8
log
@remove useless MAN tags
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/03/22 01:39:49 brad Exp $
d12 1
a12 1
GNU_CONFIGURE=	yes
d15 3
d19 1
a19 1
	(cd $(WRKSRC) && make update)
@


1.7
log
@fixup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/03/17 03:46:25 brad Exp $
d3 2
a4 2
DISTNAME=		leafnode-1.9.2
CATEGORIES=		news
d6 1
a6 1
MAINTAINER=		bob@@prophecy.lu
d8 2
a9 9
MASTER_SITES=		${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=	system/news/transport

SYSCONFDIR=		/etc/leafnode
GNU_CONFIGURE=          yes
CONFIGURE_ARGS+=	--sysconfdir=${SYSCONFDIR} --localstatedir=/var

MAN1=	newsq.1
MAN8=	fetch.8 applyfilter.8 leafnode.8 texpire.8 checkgroups.8
d11 3
@


1.6
log
@upgrade to leafnode 1.9.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/03/10 05:12:19 marc Exp $
d15 3
a17 1
.include <bsd.port.mk>
d21 3
@


1.5
log
@Note that a newer version is available
@
text
@d1 1
a1 7
# OpenBSD makefile for:	leafnode
# Version required:	1.9
# Date created:		13 Jan 1999
# Whom:			Bob Pepin
#
# $OpenBSD: Makefile,v 1.4 1999/02/21 20:26:35 marc Exp $
#
d3 1
a3 1
DISTNAME=		leafnode-1.9
a5 1
#BROKEN=		"the MASTER_SITES now contain only version 1.9.2"
d11 1
d13 1
a13 1
CONFIGURE_ARGS+=	--sysconfdir=/etc/leafnode --localstatedir=/var
@


1.4
log
@update to version 1.9; Bob Pepin <bob@@sendar.prophecy.lu>
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1999/01/31 01:38:06 marc Exp $
d12 1
@


1.3
log
@leafnode 1.8.1; ob Pepin <bob@@sendar.prophecy.lu>
@
text
@d2 1
a2 1
# Version required:	1.8.1
d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/07/25 06:16:10 marc Exp $
d9 1
a9 1
DISTNAME=		leafnode-1.8.1
d16 3
@


1.2
log
@update to 1.4-7; generate news user if necessary;
use BSD install programs, not cp; mktemp -> mkstemp;
setreuid -> setuid; update packing list; don't
even try to build a package as it won't install
correctly
@
text
@d2 3
a4 3
# Version required:	1.4-7
# Date created:		19 Dec 1997
# Whom:			joey
d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/20 02:03:08 joey Exp $
d9 1
a9 2
DISTNAME=		leafnode-1.4-7
PKGNAME=		leafnode-1.4.7
d12 1
a12 1
MAINTAINER=		marc@@OpenBSD.ORG
d15 1
a15 2
MASTER_SITE_SUBDIR=	system/news/readers
EXTRACT_SUFX=		.src.elf.tar.gz
d17 1
a17 1
NO_PACKAGE=		"won't install correctly"
d19 2
a20 1
.include <bsd.port.mk>
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# Version required:	1.0.2
d6 1
a6 1
# $OpenBSD$
d9 3
a11 5
DISTNAME=	leafnode-1.0.2
CATEGORIES=	news
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=	system/news/readers
EXTRACT_SUFX=	.src.elf.tgz
d13 1
a13 1
MAINTAINER=	joey@@OpenBSD.ORG
d15 3
a17 1
MAN8=		fetch.8 leafnode.8 texpire.8
d19 1
a19 2
post-install:
	strip ${PREFIX}/sbin/fetch ${PREFIX}/sbin/leafnode ${PREFIX}/sbin/texpire
@


1.1.1.1
log
@
@
text
@@
