head	1.105;
access;
symbols
	OPENBSD_6_1:1.104.0.2
	OPENBSD_6_1_BASE:1.104
	OPENBSD_6_0:1.100.0.2
	OPENBSD_6_0_BASE:1.100
	OPENBSD_5_9:1.98.0.2
	OPENBSD_5_9_BASE:1.98
	OPENBSD_5_8:1.97.0.6
	OPENBSD_5_8_BASE:1.97
	OPENBSD_5_7:1.97.0.2
	OPENBSD_5_7_BASE:1.97
	OPENBSD_5_6:1.94.0.2
	OPENBSD_5_6_BASE:1.94
	OPENBSD_5_5:1.92.0.2
	OPENBSD_5_5_BASE:1.92
	OPENBSD_5_4:1.89.0.2
	OPENBSD_5_4_BASE:1.89
	OPENBSD_5_3:1.84.0.2
	OPENBSD_5_3_BASE:1.84
	OPENBSD_5_2:1.81.0.2
	OPENBSD_5_2_BASE:1.81
	OPENBSD_5_1_BASE:1.80
	OPENBSD_5_1:1.80.0.2
	OPENBSD_5_0:1.78.0.4
	OPENBSD_5_0_BASE:1.78
	OPENBSD_4_9:1.78.0.2
	OPENBSD_4_9_BASE:1.78
	OPENBSD_4_8:1.72.0.2
	OPENBSD_4_8_BASE:1.72
	OPENBSD_4_7:1.71.0.2
	OPENBSD_4_7_BASE:1.71
	OPENBSD_4_6:1.70.0.6
	OPENBSD_4_6_BASE:1.70
	OPENBSD_4_5:1.70.0.4
	OPENBSD_4_5_BASE:1.70
	OPENBSD_4_4:1.70.0.2
	OPENBSD_4_4_BASE:1.70
	OPENBSD_4_3:1.69.0.2
	OPENBSD_4_3_BASE:1.69
	OPENBSD_4_2:1.67.0.2
	OPENBSD_4_2_BASE:1.67
	OPENBSD_4_1:1.65.0.2
	OPENBSD_4_1_BASE:1.65
	OPENBSD_4_0:1.61.0.2
	OPENBSD_4_0_BASE:1.61
	OPENBSD_3_9:1.55.0.2
	OPENBSD_3_9_BASE:1.55
	OPENBSD_3_8:1.52.0.2
	OPENBSD_3_8_BASE:1.52
	OPENBSD_3_7:1.49.0.2
	OPENBSD_3_7_BASE:1.49
	OPENBSD_3_6:1.44.0.2
	OPENBSD_3_6_BASE:1.44
	OPENBSD_3_5:1.42.0.2
	OPENBSD_3_5_BASE:1.42
	OPENBSD_3_4:1.40.0.2
	OPENBSD_3_4_BASE:1.40
	OPENBSD_3_3:1.37.0.2
	OPENBSD_3_3_BASE:1.37
	OPENBSD_3_2:1.35.0.2
	OPENBSD_3_2_BASE:1.35
	OPENBSD_3_1:1.33.0.2
	OPENBSD_3_1_BASE:1.33
	OPENBSD_3_0:1.32.0.2
	OPENBSD_3_0_BASE:1.32
	OPENBSD_2_9_TRACKING_SWITCH:1.31
	OPENBSD_2_9:1.28.0.2
	OPENBSD_2_9_BASE:1.28
	OPENBSD_2_8:1.22.0.2
	OPENBSD_2_8_BASE:1.22
	OPENBSD_2_7:1.16.0.2
	OPENBSD_2_7_BASE:1.16
	OPENBSD_2_6:1.9.0.2
	OPENBSD_2_6_BASE:1.9
	brad_1999-04-22:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.105
date	2017.07.27.20.12.47;	author sthen;	state Exp;
branches;
next	1.104;
commitid	FFZ4b9qPAMMcTk3M;

1.104
date	2016.11.04.11.35.20;	author sthen;	state Exp;
branches;
next	1.103;
commitid	Gg5LRcnQlqj5M3F7;

1.103
date	2016.10.01.13.56.26;	author naddy;	state Exp;
branches;
next	1.102;
commitid	cUPMiTKZjgsMqHEJ;

1.102
date	2016.09.28.19.33.37;	author jca;	state Exp;
branches;
next	1.101;
commitid	J7chIyaEYg2YAiGd;

1.101
date	2016.08.26.08.27.48;	author jca;	state Exp;
branches;
next	1.100;
commitid	7BOV2lO1NGpnyKOU;

1.100
date	2016.06.29.16.14.44;	author espie;	state Exp;
branches
	1.100.2.1;
next	1.99;
commitid	c1yQMbJbfo0CFBcL;

1.99
date	2016.03.09.19.52.52;	author naddy;	state Exp;
branches;
next	1.98;
commitid	6YzbOC7ZI3MD86Gl;

1.98
date	2015.11.06.18.30.31;	author sthen;	state Exp;
branches
	1.98.2.1;
next	1.97;
commitid	ydlzj78BXtIubV2e;

1.97
date	2015.03.01.12.12.54;	author jca;	state Exp;
branches;
next	1.96;
commitid	RKP79hBXI27kR1Yt;

1.96
date	2015.01.04.22.12.55;	author jca;	state Exp;
branches;
next	1.95;
commitid	EEnzJo0uYbCi61IH;

1.95
date	2014.10.13.19.21.16;	author sthen;	state Exp;
branches;
next	1.94;
commitid	DK6fNR0Zzlz8hujA;

1.94
date	2014.06.26.00.30.15;	author sthen;	state Exp;
branches
	1.94.2.1;
next	1.93;
commitid	2mkaXDlzm2goluij;

1.93
date	2014.03.19.13.40.59;	author jasper;	state Exp;
branches;
next	1.92;

1.92
date	2013.12.19.21.22.30;	author pea;	state Exp;
branches
	1.92.2.1;
next	1.91;

1.91
date	2013.11.16.20.29.00;	author jca;	state Exp;
branches;
next	1.90;

1.90
date	2013.08.06.19.28.57;	author jasper;	state Exp;
branches;
next	1.89;

1.89
date	2013.07.12.00.49.23;	author jca;	state Exp;
branches
	1.89.2.1;
next	1.88;

1.88
date	2013.07.02.16.20.25;	author espie;	state Exp;
branches;
next	1.87;

1.87
date	2013.07.02.08.09.43;	author espie;	state Exp;
branches;
next	1.86;

1.86
date	2013.03.31.19.12.37;	author fgsch;	state Exp;
branches;
next	1.85;

1.85
date	2013.03.11.11.41.24;	author espie;	state Exp;
branches;
next	1.84;

1.84
date	2013.02.09.14.49.52;	author sthen;	state Exp;
branches
	1.84.2.1;
next	1.83;

1.83
date	2012.12.31.16.34.35;	author sthen;	state Exp;
branches;
next	1.82;

1.82
date	2012.12.11.21.12.36;	author landry;	state Exp;
branches;
next	1.81;

1.81
date	2012.07.12.16.32.47;	author naddy;	state Exp;
branches
	1.81.2.1;
next	1.80;

1.80
date	2012.01.31.10.51.48;	author espie;	state Exp;
branches;
next	1.79;

1.79
date	2011.11.13.22.39.50;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2010.11.26.07.50.07;	author espie;	state Exp;
branches;
next	1.77;

1.77
date	2010.11.20.17.22.43;	author espie;	state Exp;
branches;
next	1.76;

1.76
date	2010.11.11.18.34.59;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	2010.10.25.12.57.13;	author pea;	state Exp;
branches;
next	1.74;

1.74
date	2010.10.18.21.41.45;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2010.09.22.09.02.42;	author jasper;	state Exp;
branches;
next	1.72;

1.72
date	2010.07.08.17.01.57;	author pea;	state Exp;
branches;
next	1.71;

1.71
date	2009.09.15.13.44.41;	author dhill;	state Exp;
branches;
next	1.70;

1.70
date	2008.04.03.10.13.00;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2008.01.30.20.18.09;	author bernd;	state Exp;
branches;
next	1.68;

1.68
date	2007.09.15.23.29.58;	author merdely;	state Exp;
branches;
next	1.67;

1.67
date	2007.05.15.15.09.12;	author naddy;	state Exp;
branches;
next	1.66;

1.66
date	2007.05.10.11.38.28;	author steven;	state Exp;
branches;
next	1.65;

1.65
date	2007.02.22.00.17.09;	author steven;	state Exp;
branches;
next	1.64;

1.64
date	2007.01.16.09.50.36;	author bernd;	state Exp;
branches;
next	1.63;

1.63
date	2006.12.06.23.11.58;	author deanna;	state Exp;
branches;
next	1.62;

1.62
date	2006.11.28.10.18.49;	author bernd;	state Exp;
branches;
next	1.61;

1.61
date	2006.08.07.19.59.20;	author bernd;	state Exp;
branches
	1.61.2.1;
next	1.60;

1.60
date	2006.08.03.23.28.12;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2006.07.13.13.11.28;	author bernd;	state Exp;
branches;
next	1.58;

1.58
date	2006.06.23.11.35.36;	author bernd;	state Exp;
branches;
next	1.57;

1.57
date	2006.04.12.09.55.24;	author bernd;	state Exp;
branches;
next	1.56;

1.56
date	2006.03.10.20.57.50;	author steven;	state Exp;
branches;
next	1.55;

1.55
date	2006.02.22.12.30.52;	author steven;	state Exp;
branches
	1.55.2.1;
next	1.54;

1.54
date	2006.02.06.21.57.56;	author bernd;	state Exp;
branches;
next	1.53;

1.53
date	2005.10.29.14.59.08;	author sturm;	state Exp;
branches;
next	1.52;

1.52
date	2005.05.17.15.08.34;	author martin;	state Exp;
branches
	1.52.2.1;
next	1.51;

1.51
date	2005.04.09.12.43.08;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2005.03.27.15.16.07;	author robert;	state Exp;
branches;
next	1.49;

1.49
date	2005.02.19.12.10.03;	author alek;	state Exp;
branches
	1.49.2.1;
next	1.48;

1.48
date	2005.02.16.01.40.24;	author kevlo;	state Exp;
branches;
next	1.47;

1.47
date	2005.01.29.19.27.18;	author sturm;	state Exp;
branches;
next	1.46;

1.46
date	2005.01.05.19.45.26;	author naddy;	state Exp;
branches;
next	1.45;

1.45
date	2004.12.27.13.28.33;	author alek;	state Exp;
branches;
next	1.44;

1.44
date	2004.08.10.09.26.14;	author xsa;	state Exp;
branches
	1.44.2.1;
next	1.43;

1.43
date	2004.08.04.14.51.31;	author naddy;	state Exp;
branches;
next	1.42;

1.42
date	2004.02.24.19.48.16;	author naddy;	state Exp;
branches
	1.42.2.1;
next	1.41;

1.41
date	2003.12.13.03.22.16;	author margarida;	state Exp;
branches;
next	1.40;

1.40
date	2003.06.09.17.24.47;	author brad;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2003.06.03.10.21.33;	author markus;	state Exp;
branches;
next	1.38;

1.38
date	2003.05.27.14.54.43;	author brad;	state Exp;
branches;
next	1.37;

1.37
date	2003.02.05.18.35.03;	author reinhard;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2002.11.16.05.02.21;	author mark;	state Exp;
branches;
next	1.35;

1.35
date	2002.07.19.19.27.42;	author fgsch;	state Exp;
branches
	1.35.2.1;
next	1.34;

1.34
date	2002.07.05.07.13.00;	author reinhard;	state Exp;
branches;
next	1.33;

1.33
date	2001.12.09.12.51.40;	author reinhard;	state Exp;
branches;
next	1.32;

1.32
date	2001.09.28.06.02.14;	author pvalchev;	state Exp;
branches;
next	1.31;

1.31
date	2001.07.12.16.07.17;	author reinhard;	state Exp;
branches;
next	1.30;

1.30
date	2001.06.05.09.19.05;	author reinhard;	state Exp;
branches;
next	1.29;

1.29
date	2001.05.23.15.28.49;	author jakob;	state Exp;
branches;
next	1.28;

1.28
date	2001.04.17.20.53.04;	author reinhard;	state Exp;
branches
	1.28.2.1;
next	1.27;

1.27
date	2001.03.23.16.32.15;	author reinhard;	state Exp;
branches;
next	1.26;

1.26
date	2001.03.23.13.10.20;	author reinhard;	state Exp;
branches;
next	1.25;

1.25
date	2001.03.05.18.54.06;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2001.03.03.17.17.28;	author reinhard;	state Exp;
branches;
next	1.23;

1.23
date	2000.12.23.16.48.06;	author reinhard;	state Exp;
branches;
next	1.22;

1.22
date	2000.10.30.12.52.32;	author markus;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2000.10.22.17.02.41;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.09.19.13.18.50;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2000.08.12.18.21.45;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2000.07.13.19.39.24;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.29.06.06.31;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.03.24.22.11.57;	author espie;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2000.03.11.02.54.18;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.02.15.05.05.10;	author turan;	state Exp;
branches;
next	1.13;

1.13
date	2000.02.12.08.02.30;	author turan;	state Exp;
branches;
next	1.12;

1.12
date	99.12.23.02.54.24;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	99.11.30.23.13.52;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.11.30.02.54.31;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.09.09.02.54.30;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.09.04.21.54.06;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.08.04.22.41.02;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.07.25.23.33.41;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.06.28.20.05.41;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.06.03.13.49.50;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.05.24.20.55.44;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.05.08.17.38.40;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.04.23.03.16.05;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.23.03.16.05;	author brad;	state Exp;
branches;
next	;

1.16.2.1
date	2000.09.15.05.15.11;	author marc;	state Exp;
branches;
next	;

1.22.2.1
date	2000.12.23.17.21.49;	author naddy;	state Exp;
branches;
next	1.22.2.2;

1.22.2.2
date	2001.03.25.11.48.41;	author naddy;	state Exp;
branches;
next	;

1.28.2.1
date	2001.06.05.19.32.13;	author naddy;	state Exp;
branches;
next	;

1.35.2.1
date	2003.06.04.16.03.58;	author brad;	state Exp;
branches;
next	;

1.37.2.1
date	2003.07.10.23.26.18;	author brad;	state Exp;
branches;
next	1.37.2.2;

1.37.2.2
date	2003.12.13.03.50.23;	author margarida;	state Exp;
branches;
next	;

1.40.2.1
date	2003.12.13.03.30.24;	author margarida;	state Exp;
branches;
next	;

1.42.2.1
date	2005.04.17.08.18.45;	author robert;	state Exp;
branches;
next	;

1.44.2.1
date	2005.04.17.08.16.05;	author robert;	state Exp;
branches;
next	;

1.49.2.1
date	2005.05.23.22.08.31;	author robert;	state Exp;
branches;
next	1.49.2.2;

1.49.2.2
date	2006.02.22.21.20.00;	author sturm;	state Exp;
branches;
next	1.49.2.3;

1.49.2.3
date	2006.03.11.16.47.53;	author sturm;	state Exp;
branches;
next	;

1.52.2.1
date	2006.02.22.21.19.14;	author sturm;	state Exp;
branches;
next	1.52.2.2;

1.52.2.2
date	2006.03.11.16.48.28;	author sturm;	state Exp;
branches;
next	1.52.2.3;

1.52.2.3
date	2006.06.25.14.38.02;	author sturm;	state Exp;
branches;
next	1.52.2.4;

1.52.2.4
date	2006.08.09.20.47.19;	author sturm;	state Exp;
branches;
next	;

1.55.2.1
date	2006.05.01.08.42.46;	author sturm;	state Exp;
branches;
next	1.55.2.2;

1.55.2.2
date	2006.06.25.14.38.23;	author sturm;	state Exp;
branches;
next	1.55.2.3;

1.55.2.3
date	2006.08.09.20.17.02;	author sturm;	state Exp;
branches;
next	1.55.2.4;

1.55.2.4
date	2006.11.30.21.59.12;	author sturm;	state Exp;
branches;
next	1.55.2.5;

1.55.2.5
date	2006.12.07.22.12.47;	author sturm;	state Exp;
branches;
next	;

1.61.2.1
date	2006.11.30.20.49.29;	author sturm;	state Exp;
branches;
next	1.61.2.2;

1.61.2.2
date	2006.12.07.21.23.58;	author sturm;	state Exp;
branches;
next	;

1.81.2.1
date	2013.01.02.11.14.11;	author sthen;	state Exp;
branches;
next	;

1.84.2.1
date	2013.07.30.10.16.23;	author jasper;	state Exp;
branches;
next	1.84.2.2;

1.84.2.2
date	2013.11.17.17.09.11;	author jca;	state Exp;
branches;
next	;

1.89.2.1
date	2013.11.17.16.04.04;	author jca;	state Exp;
branches;
next	1.89.2.2;

1.89.2.2
date	2013.12.20.20.01.47;	author jasper;	state Exp;
branches;
next	;

1.92.2.1
date	2014.06.26.00.31.23;	author sthen;	state Exp;
branches;
next	;
commitid	C1VY0m71Q394cESV;

1.94.2.1
date	2015.03.03.14.09.18;	author jca;	state Exp;
branches;
next	;
commitid	PhE3mGcIv1AAclJy;

1.98.2.1
date	2016.08.26.08.30.10;	author jca;	state Exp;
branches;
next	1.98.2.2;
commitid	rdBUPesqrJufN5HL;

1.98.2.2
date	2016.08.26.15.56.30;	author jca;	state Exp;
branches;
next	;
commitid	ijqWqBlKaB4F8w6b;

1.100.2.1
date	2016.08.26.08.32.28;	author jca;	state Exp;
branches;
next	;
commitid	DHWZ3X34kAQBtleQ;


desc
@@


1.105
log
@fix security/gnupg build on i386+clang with -fheinous-gnu-extensions.
from FreeBSD.  ok jca@@
@
text
@# $OpenBSD: Makefile,v 1.104 2016/11/04 11:35:20 sthen Exp $

COMMENT=	GNU privacy guard - a free PGP replacement

DISTNAME=	gnupg-1.4.21
REVISION=	2
CATEGORIES=	security

# restrict, not compatible with gnupg-2.
PKGSPEC =	gnupg-<2

MASTER_SITES=	${MASTER_SITE_GNUPG:=gnupg/}

HOMEPAGE=	http://www.gnupg.org/

MAINTAINER=	Jeremie Courreges-Anglas <jca@@wxcvbn.org>

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += bz2 c crypto curl iconv intl nghttp2 readline ssl
WANTLIB += termcap z

LIB_DEPENDS=	archivers/bzip2 \
		devel/gettext \
		net/curl

CONFIGURE_STYLE= gnu
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/scripts
CONFIGURE_ARGS+= --disable-gnupg-iconv
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
MAKE_FLAGS=	LIBINTL="-L${LOCALBASE}/lib -lintl -liconv" \
		LIBICONV="-L${LOCALBASE}/lib -liconv"

FLAVORS=	card ldap
FLAVOR?=

.if ${FLAVOR:Mcard}
LIB_DEPENDS+=		devel/libusb-compat
WANTLIB +=		usb pthread
.else
CONFIGURE_ARGS+=	--disable-card-support --without-libusb
.endif

.if ${FLAVOR:Mldap}
CONFIGURE_ARGS+=	--enable-ldap
LIB_DEPENDS+=		databases/openldap
WANTLIB +=		ldap>=8
.else
CONFIGURE_ARGS+=	--disable-ldap
.endif


GNUPGDOCFILES=	README AUTHORS COPYING THANKS TODO BUGS \
		doc/DETAILS doc/FAQ doc/OpenPGP doc/HACKING

.include <bsd.port.arch.mk>
.if ${MACHINE_ARCH} == "i386" && ${PROPERTIES:Mclang}
CFLAGS += -fheinous-gnu-extensions
.endif

.if ${MACHINE_ARCH} == "hppa"
pre-configure:
	# mpi/hppa1.1/udiv-qrnnd.S is not PIE-safe
	mv ${WRKSRC}/mpi/hppa/udiv-qrnnd.S ${WRKSRC}/mpi/hppa1.1/
.endif

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/gnupg
	cd ${WRKSRC}; ${INSTALL_DATA} ${GNUPGDOCFILES} \
		${PREFIX}/share/doc/gnupg

.include <bsd.port.mk>
@


1.104
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2016/10/01 13:56:26 naddy Exp $
d6 1
a6 1
REVISION=	1
d57 5
@


1.103
log
@rename MASTER_SITES_GNUPG to MASTER_SITE_GNUPG, like all the others
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2016/09/28 19:33:37 jca Exp $
d6 1
a6 1
REVISION=	0
d21 1
a21 1
WANTLIB += bz2 c crypto curl iconv idn intl nghttp2 readline ssl
@


1.102
log
@Drop the gettext module from gnupg.org ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2016/08/26 08:27:48 jca Exp $
d12 1
a12 1
MASTER_SITES=	${MASTER_SITES_GNUPG:=gnupg/}
@


1.101
log
@SECURITY update to gnupg-1.4.21

CVE-2016-6313:  * Fix critical security bug in the RNG [CVE-2016-6313].
   An attacker who obtains 580 bytes from the standard RNG can trivially
   predict  the next 20 bytes of output.  Problem detected by Felix
   DÃ¶rre and Vladimir Klebanov, KIT.

Main behavior changes:
- CAST5 -> AES for symmetric encryption
- MD5 sigs rejected by default

ok danj@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2016/06/29 16:14:44 espie Exp $
d6 1
d21 3
a23 1
MODULES= devel/gettext
d25 1
a26 1
WANTLIB=	c z readline termcap ssl crypto idn bz2>=10 curl>=3 nghttp2
@


1.100
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2016/03/09 19:52:52 naddy Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.19
REVISION=	2
@


1.100.2.1
log
@SECURITY fix for CVE-2016-6313

 * Fix critical security bug in the RNG [CVE-2016-6313].  An attacker
   who obtains 580 bytes from the standard RNG can trivially predict
   the next 20 bytes of output.  Problem detected by Felix DÃ¶rre and
   Vladimir Klebanov, KIT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2016/06/29 16:14:44 espie Exp $
d6 1
a6 1
REVISION=	3
@


1.99
log
@drop workaround for static linking
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2015/11/06 18:30:31 sthen Exp $
d6 1
a6 1
REVISION=	1
@


1.98
log
@WANTLIB sync, missed from the big batch of curl nghttp2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2015/03/01 12:12:54 jca Exp $
d6 1
a6 1
REVISION=	0
a24 3

# XXX give it a chance on vax
LIB_DEPENDS += devel/libidn
@


1.98.2.1
log
@SECURITY fix for CVE-2016-6313

 * Fix critical security bug in the RNG [CVE-2016-6313].  An attacker
   who obtains 580 bytes from the standard RNG can trivially predict
   the next 20 bytes of output.  Problem detected by Felix DÃ¶rre and
   Vladimir Klebanov, KIT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2015/11/06 18:30:31 sthen Exp $
d6 1
a6 1
REVISION=	1
@


1.98.2.2
log
@SECURITY fix for CVE-2016-6313 (actual fix)

I failed to add the patch with the security fix in the previous commit.
Spotted by Markus Lude.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98.2.1 2016/08/26 08:30:10 jca Exp $
d6 1
a6 1
REVISION=	2
@


1.97
log
@SECURITY update to gnupg-1.4.19

* Use ciphertext blinding for Elgamal decryption [CVE-2014-3591].
  See http://www.cs.tau.ac.il/~tromer/radioexp/ for details.

* Fixed data-dependent timing variations in modular exponentiation
  [related to CVE-2015-0837, Last-Level Cache Side-Channel Attacks
   are Practical].

This update introduces additional fixes and features, see

  http://lists.gnupg.org/pipermail/gnupg-announce/2015q1/000363.html

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2015/01/04 22:12:55 jca Exp $
d6 1
d24 1
a24 1
WANTLIB=	c z readline termcap ssl crypto idn bz2>=10 curl>=3
@


1.96
log
@Update to gnupg-1.4.18 and take maintainership.

* fix regression in --recv-key {multiple keys}
* cap the sizes for automatic key generation

While here, delete unneeded do-test target.

"looks ok" sthen@@, ok daniel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2014/10/13 19:21:16 sthen Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.18
@


1.95
log
@unnecessary param.h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2014/06/26 00:30:15 sthen Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.17
REVISION=	0
d15 2
a67 3

do-test:
	@@cd ${WRKSRC}/checks && ${MAKE_PROGRAM} check
@


1.94
log
@update to gnupg-1.4.17
http://lists.gnupg.org/pipermail/gnupg-announce/2014q2/000344.html

CVE-2014-4617: DoS due to garbled compressed data packets
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2014/03/19 13:40:59 jasper Exp $
d6 1
@


1.94.2.1
log
@SECURITY backport for gnupg-1.4.17

This merge two fixes from gnupg-1.4.19:

 * Use ciphertext blinding for Elgamal decryption [CVE-2014-3591].
   See http://www.cs.tau.ac.il/~tromer/radioexp/ for details.

 * Fixed data-dependent timing variations in modular exponentiation
   [related to CVE-2015-0837, Last-Level Cache Side-Channel Attacks
   are Practical].

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2014/06/26 00:30:15 sthen Exp $
a5 1
REVISION=	0
@


1.93
log
@remove m68k-related workarounds
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/12/19 21:22:30 pea Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.16
@


1.92
log
@Security update to 1.4.16 (CVE-2013-4576)

ok jca@@, brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/11/16 20:29:00 jca Exp $
a28 3
.if ${MACHINE_ARCH} == "m68k"
CONFIGURE_ARGS+= --disable-asm
.endif
@


1.92.2.1
log
@MFC: update to gnupg-1.4.17
http://lists.gnupg.org/pipermail/gnupg-announce/2014q2/000344.html

CVE-2014-4617: DoS due to garbled compressed data packets
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2014/06/26 00:30:15 sthen Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.17
d29 3
@


1.91
log
@SECURITY update to gnupg-1.4.15, fixes CVE-2013-4402 (infinite recursion
parsing compressed packets) and includes the patch we had for
CVE-2013-4242 (Yarom/Falkner flush+reload side-channel attack on RSA
secret keys already had a patch).  Input from and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/08/06 19:28:57 jasper Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.15
@


1.90
log
@Security fix for CVE-2013-4242 GnuPG side-channel attack on RSA secret keys

ok pea@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/07/12 00:49:23 jca Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.13
REVISION=	1
d26 1
a26 2
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.69
a28 1
USE_GROFF =	Yes
@


1.89
log
@Introduce MASTER_SITES_GNUPG and reuse it for various GnuPG
(sub)projects.  http:// urls first, then the primary ftp
site for ''make peek-ftp'', as suggested by sthen@@.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/07/02 16:20:25 espie Exp $
d6 1
a7 1
REVISION =	0
@


1.89.2.1
log
@MFC

Backport security fixes for CVE-2013-4402 (infinite recursion parsing
compressed packets) and CVE-2013-4242 (Yarom/Falkner flush+reload
side-channel attack on RSA secret keys) from gnupg-1.4.15.
Requested by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/07/12 00:49:23 jca Exp $
d7 1
a7 1
REVISION =	1
@


1.89.2.2
log
@Security fix for CVE-2013-4576
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89.2.1 2013/11/17 16:04:04 jca Exp $
d7 1
a7 1
REVISION =	2
@


1.88
log
@grumble, thx fgs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/07/02 08:09:43 espie Exp $
d12 1
a12 5
MASTER_SITES=	ftp://gd.tuwien.ac.at/privacy/gnupg/gnupg/ \
		ftp://mirrors.dotsrc.org/gcrypt/gnupg/ \
		ftp://ftp.linux.it/pub/mirrors/gnupg/gnupg/ \
		ftp://ftp.ring.gr.jp/pub/net/gnupg/ \
		ftp://ftp.gnupg.org/gcrypt/gnupg/
@


1.87
log
@LIB_DEPENDS don't propagate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/03/31 19:12:37 fgsch Exp $
d29 1
a29 1
LIB_DEPENDS += devel/idn
@


1.86
log
@Update mirrors list and move ftp.gnupg.org at the bottom
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/03/11 11:41:24 espie Exp $
d7 1
d27 3
@


1.85
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/02/09 14:49:52 sthen Exp $
d11 2
a12 5
MASTER_SITES=	ftp://ftp.gnupg.org/gcrypt/gnupg/ \
		ftp://gd.tuwien.ac.at/privacy/gnupg/gnupg/ \
		ftp://crypto.yashy.com/pub/cryptography/gnupg/ \
		ftp://ftp.planetmirror.com/pub/gnupg/gnupg/ \
		ftp://sunsite.dk/pub/security/gcrypt/gnupg/ \
d14 2
a15 2
		ftp://pgp.iijlab.net/pub/pgp/gnupg/ \
		ftp://ring.aist.go.jp/pub/net/gnupg/gnupg/
@


1.84
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/12/31 16:34:35 sthen Exp $
a23 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d76 1
a76 1
do-regress:
@


1.84.2.1
log
@Security fix for CVE-2013-4242 GnuPG side-channel attack on RSA secret keys

ok pea@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2013/02/09 14:49:52 sthen Exp $
a5 1
REVISION=	0
@


1.84.2.2
log
@MFC

Backport security fixes for CVE-2013-4402 (infinite recursion parsing
compressed packets) from gnupg-1.4.15.  Tests by merderly@@ and jasper@@,
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84.2.1 2013/07/30 10:16:23 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.83
log
@SECURITY update GnuPG to 1.4.13; earlier versions were vulnerable to memory
access violations and public keyring database corruption when importing
manipulated public keys.  http://seclists.org/bugtraq/2012/Dec/151

Tweaked from a submission from David Hill.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/12/11 21:12:36 landry Exp $
d49 1
a49 1
.if ${FLAVOR:L:Mcard}
d56 1
a56 1
.if ${FLAVOR:L:Mldap}
@


1.82
log
@Fix on hppa, broken since the PIE switch.
mpi/hppa1.1/udiv-qrnnd.S is not PIE-safe, let's use mpi/hppa/udiv-qrnnd.S
instead.
with kettenis@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/07/12 16:32:47 naddy Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.11
a6 1
REVISION=	2
a19 4
MASTER_SITES0=	ftp://ftp.gnupg.dk/contrib-dk/

DISTFILES=	${DISTNAME}${EXTRACT_SUFX} idea.c.gz:0

d34 1
a34 1
AUTOCONF_VERSION= 2.64
a72 3

post-extract:
	ln -s ${WRKDIR}/idea.c ${WRKSRC}/cipher/idea.c
@


1.81
log
@The American/European/Japanese patents on IDEA have expired.  Remove
the flavor and just include it by default.  ok zinke@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/01/31 10:51:48 espie Exp $
d72 6
@


1.81.2.1
log
@MFC gnupg update. CVE-2012-6085 has now been assigned to this issue.

======
SECURITY update GnuPG to 1.4.13; earlier versions were vulnerable to memory
access violations and public keyring database corruption when importing
manipulated public keys.  http://seclists.org/bugtraq/2012/Dec/151

Tweaked from a submission from David Hill.
======
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/12/31 16:34:35 sthen Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.13
d7 1
d21 4
d39 1
a39 1
AUTOCONF_VERSION= 2.69
d73 2
a74 5
.if ${MACHINE_ARCH} == "hppa"
pre-configure:
	# mpi/hppa1.1/udiv-qrnnd.S is not PIE-safe
	mv ${WRKSRC}/mpi/hppa/udiv-qrnnd.S ${WRKSRC}/mpi/hppa1.1/
.endif
@


1.80
log
@properly re-conflict gpg1/2. Noticed by naddy@@
okay ajacoutot@@, pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2011/11/13 22:39:50 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
d21 3
a23 1
MASTER_SITES0=	ftp://ftp.gnupg.dk/pub/contrib-dk/
d51 1
a51 1
FLAVORS=	idea card ldap
a53 11
.if ${FLAVOR:L:Midea}
PERMIT_PACKAGE_CDROM=	a patented algorithm
PERMIT_DISTFILES_CDROM=	a patented algorithm
DISTFILES=		${DISTNAME}${EXTRACT_SUFX} idea.c.gz:0

post-extract:
	ln -s ${WRKDIR}/idea.c ${WRKSRC}/cipher/idea.c
.else
SUPDISTFILES=	idea.c.gz:0
.endif

d72 3
@


1.79
log
@Unbreak the "card" FLAVOR after the libusb->libusb-compat switch, spotted
by naddy@@ (thanks).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2010/11/26 07:50:07 espie Exp $
d7 1
a7 1
REVISION=	0
@


1.78
log
@use PKGSPEC, every dependent port uses this
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2010/11/20 17:22:43 espie Exp $
d7 1
d64 2
a65 2
LIB_DEPENDS+=		devel/libusb
WANTLIB +=		usb
@


1.77
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2010/11/11 18:34:59 espie Exp $
d7 3
@


1.76
log
@more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2010/10/25 12:57:13 pea Exp $
d28 3
a30 3
LIB_DEPENDS=	::archivers/bzip2 \
		::net/curl
WANTLIB=	c z readline termcap ssl crypto idn bz2.>=10 curl.>=3
d60 1
a60 1
LIB_DEPENDS+=		::devel/libusb
d68 2
a69 2
LIB_DEPENDS+=		::databases/openldap
WANTLIB +=		ldap.>=8
@


1.75
log
@Bugfixes update to 1.4.11

ok benoit@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2010/10/18 21:41:45 espie Exp $
a25 1
WANTLIB=		c z readline termcap ssl crypto idn
d28 3
a30 2
LIB_DEPENDS=	bz2.>=10::archivers/bzip2 \
		curl.>=3::net/curl
d60 2
a61 1
LIB_DEPENDS+=		usb::devel/libusb
d68 2
a69 1
LIB_DEPENDS+=		ldap.>=8::databases/openldap
@


1.74
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2010/09/22 09:02:42 jasper Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.10
REVISION=	1
d33 1
a33 1
AUTOCONF_VERSION= 2.61
d74 1
a74 1
		doc/DETAILS doc/FAQ doc/OpenPGP doc/HACKING doc/faq.html
@


1.73
log
@- reset maintainer, requested by reinhard@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2010/07/08 17:01:57 pea Exp $
d37 1
@


1.72
log
@Avoid conflict with gnupg2. Like this you can install both in the same time.

ok aja@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2009/09/15 13:44:41 dhill Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
a20 2

MAINTAINER=	Reinhard J. Sammer <reinhard@@openbsd.org>
@


1.71
log
@update to 1.4.10.

From Pierre-Emmanuel André <pea@@raveland.org>

OK reinhard@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2008/04/03 10:13:00 jasper Exp $
d6 1
@


1.70
log
@SECURITY UPDATE to gnupg 1.4.9
http://secunia.com/advisories/29568/

tested by many, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2008/01/30 20:18:09 bernd Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.9
@


1.69
log
@Update to gnupg-1.4.8. (GPLv3 now)

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2007/09/15 23:29:58 merdely Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.8
@


1.68
log
@Remove surrounding quotes in NO_REGRESS/COMMENT*/PERMIT_*

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2007/05/15 15:09:12 naddy Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.7
PKGNAME=	${DISTNAME}p0
d23 1
a23 1
# GPL
d35 1
a35 1
AUTOCONF_VERSION= 2.60
d83 1
a83 1
	@@cd ${WRKSRC}/checks && ${MAKE_PROGRAM}
@


1.67
log
@chase wantlib changes after curl update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2007/05/10 11:38:28 steven Exp $
d3 1
a3 1
COMMENT=	"GNU privacy guard - a free PGP replacement"
d51 2
a52 2
PERMIT_PACKAGE_CDROM=	"a patented algorithm"
PERMIT_DISTFILES_CDROM=	"a patented algorithm"
@


1.66
log
@update to 1.4.7

feedback and ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2007/02/22 00:17:09 steven Exp $
d6 1
d29 1
a29 1
WANTLIB=		c z readline termcap ssl crypto
@


1.65
log
@adjust another texinfo file so it does not leave entries behind.
rerun makesum while here.

from Moritz Grimm <mlist at scapa.dnsalias.net>

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2007/01/16 09:50:36 bernd Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.6
PKGNAME=	${DISTNAME}p0
d35 1
a35 1
AUTOCONF_VERSION= 2.59
@


1.64
log
@Update to gnupg-1.4.6.

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2006/12/06 23:11:58 deanna Exp $
d6 1
@


1.63
log
@Security fix:
remotely controllable function pointer [CVE-2006-6235]
from Werner Koch via fsf announce
ok steven
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2006/11/28 10:18:49 bernd Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.5
PKGNAME=	${DISTNAME}p1
@


1.62
log
@Security fix for a buffer overflow when running gnupg in interactive mode.

More info:
http://lists.gnupg.org/pipermail/gnupg-announce/2006q4/000241.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2006/08/07 19:59:20 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.61
log
@Security update to gnupg-1.4.5. (CVE-2006-3746)

This fixes a denial of service vulnerability.

For more information see:
http://secunia.com/advisories/21297/
http://lists.gnupg.org/pipermail/gnupg-announce/2006q3/000229.html

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2006/08/03 23:28:12 espie Exp $
d6 1
@


1.61.2.1
log
@MFC:
Security fix for a buffer overflow when running gnupg in interactive mode.

More info:
http://lists.gnupg.org/pipermail/gnupg-announce/2006q4/000241.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2006/08/07 19:59:20 bernd Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.61.2.2
log
@MFC:
Security fix:
remotely controllable function pointer [CVE-2006-6235]
from Werner Koch via fsf announce
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61.2.1 2006/11/30 20:49:29 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.60
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2006/07/13 13:11:28 bernd Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.4
@


1.59
log
@Update to gnupg-1.4.4.

ok reinhard@@ (MAINTAINER), "looks good" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2006/06/23 11:35:36 bernd Exp $
d31 2
a32 2
LIB_DEPENDS=	bz2.10::archivers/bzip2 \
		curl.3::net/curl
d68 1
a68 1
LIB_DEPENDS+=		ldap.8::databases/openldap
@


1.58
log
@Security update! Fixes an integer overflow. (CVE-2006-3082)

Detailed information: http://secunia.com/advisories/20783/

Diff from gnupg CVS.

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2006/04/12 09:55:24 bernd Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.3
PKGNAME=	${DISTNAME}p0
@


1.57
log
@- Update to gnupg-1.4.3
- Add ldap FLAVOR
- Describe the FLAVORs in pkg/DESCR

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2006/03/10 20:57:50 steven Exp $
d6 1
@


1.56
log
@security update to gnupg-1.4.2.2

from gnupg.org:
Signature verification of non-detached signatures may give a positive
result but when extracting the signed data, this data may be prepended
or appended with extra data not covered by the signature.  Thus it is
possible for an attacker to take any signed message and inject extra
arbitrary data.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2006/02/22 12:30:52 steven Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.2.2
d28 1
a28 1
WANTLIB=		c z readline.3 termcap
d31 2
a32 1
LIB_DEPENDS=	bz2.10::archivers/bzip2
d37 1
a37 2
CONFIGURE_ARGS+= --disable-ldap \
		 --disable-gnupg-iconv
d46 1
a46 1
FLAVORS=	idea card
d64 7
@


1.55
log
@security update to 1.4.2.1

The security issue is caused due to "gpgv" exiting with a return code
of 0 even if the detached signature file did not carry any signature.
This may result in certain scripts that use "gpgv" to conclude that
the signature is correctly verified.

More info: http://secunia.com/advisories/18845/

ok bernd@@ pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2006/02/06 21:57:56 bernd Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.2.1
@


1.55.2.1
log
@security update to gnupg-1.4.2.2

from gnupg.org:
Signature verification of non-detached signatures may give a positive
result but when extracting the signed data, this data may be prepended
or appended with extra data not covered by the signature.  Thus it is
possible for an attacker to take any signed message and inject extra
arbitrary data.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2006/02/22 12:30:52 steven Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.2.2
@


1.55.2.2
log
@MFC:
Security update! Fixes an integer overflow. (CVE-2006-3082)

Detailed information: http://secunia.com/advisories/20783/

Diff from gnupg CVS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55.2.1 2006/05/01 08:42:46 sturm Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.55.2.3
log
@backport from gnupg 1.4.5 which fixes a denial of service vulnerability
(CVE-2006-3746)

For more information see:
http://secunia.com/advisories/21297/
http://lists.gnupg.org/pipermail/gnupg-announce/2006q3/000229.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55.2.2 2006/06/25 14:38:23 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.55.2.4
log
@MFC:
Security fix for a buffer overflow when running gnupg in interactive mode.

More info:
http://lists.gnupg.org/pipermail/gnupg-announce/2006q4/000241.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55.2.3 2006/08/09 20:17:02 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.55.2.5
log
@MFC:
Security fix:
remotely controllable function pointer [CVE-2006-6235]
from Werner Koch via fsf announce
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55.2.4 2006/11/30 21:59:12 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.54
log
@Since we have swap encryption on OpenBSD, only warn about insecure
memory if swap encryption is disabled. (It's enabled by default.)

This supersedes pkg/MESSAGE.

Regen patches with update-patches while I'm here. Bump PKGNAME.

idea and ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2005/10/29 14:59:08 sturm Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.1
PKGNAME=	${DISTNAME}p2
@


1.53
log
@sync MESSAGE with reality

from Antoine Jacoutot <ajacoutot at lphp.org>
maintainer timeout
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2005/05/17 15:08:34 martin Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.52
log
@don't build the homegrown assembler modules on m68k platforms
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2005/04/09 12:43:08 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.52.2.1
log
@MFC:
security update to 1.4.2.1

The security issue is caused due to "gpgv" exiting with a return code
of 0 even if the detached signature file did not carry any signature.
This may result in certain scripts that use "gpgv" to conclude that
the signature is correctly verified.

More info: http://secunia.com/advisories/18845/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2005/05/17 15:08:34 martin Exp $
d5 2
a6 1
DISTNAME=	gnupg-1.4.2.1
@


1.52.2.2
log
@MFC:
security update to gnupg-1.4.2.2

from gnupg.org:
Signature verification of non-detached signatures may give a positive
result but when extracting the signed data, this data may be prepended
or appended with extra data not covered by the signature.  Thus it is
possible for an attacker to take any signed message and inject extra
arbitrary data.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52.2.1 2006/02/22 21:19:14 sturm Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.2.2
@


1.52.2.3
log
@MFC:
Security update! Fixes an integer overflow. (CVE-2006-3082)

Detailed information: http://secunia.com/advisories/20783/

Diff from gnupg CVS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52.2.2 2006/03/11 16:48:28 sturm Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.52.2.4
log
@backport from gnupg 1.4.5 which fixes a denial of service vulnerability
(CVE-2006-3746)

For more information see:
http://secunia.com/advisories/21297/
http://lists.gnupg.org/pipermail/gnupg-announce/2006q3/000229.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52.2.3 2006/06/25 14:38:02 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.51
log
@minor dependency nits (make sure we don't pick libusb, and readline
now pulls in termcap and not ncurses)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2005/03/27 15:16:07 robert Exp $
d39 3
@


1.50
log
@SECURITY:
update to 1.4.1; fix a openpgp protocol vulnerability
http://www.vuxml.org/openbsd/be6057f4-9ecf-11d9-82a1-00065bd5b0b6.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/02/19 12:10:03 alek Exp $
d6 1
d29 1
a29 1
WANTLIB=		c z ncurses readline
d61 1
a61 1
CONFIGURE_ARGS+=	--disable-card-support
@


1.49
log
@- Add bzip2 to dependency list (from Okan Demirmen <okan@@demirmen.com>)
- Fix libintl/libiconv linking
- Don't include bundled libintl headers
- Update WANTLIB marker
- Bump PKGNAME

help & go ahead espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2005/02/16 01:40:24 kevlo Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.4.0
PKGNAME=	${DISTNAME}p0
@


1.49.2.1
log
@SECURITY: update to 1.4.1
fix a openpgp protocol vulnerability
http://www.vuxml.org/openbsd/be6057f4-9ecf-11d9-82a1-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2005/02/19 12:10:03 alek Exp $
d5 2
a6 1
DISTNAME=	gnupg-1.4.1
@


1.49.2.2
log
@MFC:
security update to 1.4.2.1

The security issue is caused due to "gpgv" exiting with a return code
of 0 even if the detached signature file did not carry any signature.
This may result in certain scripts that use "gpgv" to conclude that
the signature is correctly verified.

More info: http://secunia.com/advisories/18845/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49.2.1 2005/05/23 22:08:31 robert Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.2.1
@


1.49.2.3
log
@MFC:
security update to gnupg-1.4.2.2

from gnupg.org:
Signature verification of non-detached signatures may give a positive
result but when extracting the signed data, this data may be prepended
or appended with extra data not covered by the signature.  Thus it is
possible for an attacker to take any signed message and inject extra
arbitrary data.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49.2.2 2006/02/22 21:20:00 sturm Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.4.2.2
@


1.48
log
@don't use gnupg's own iconv library
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2005/01/29 19:27:18 sturm Exp $
d6 1
d29 1
a29 1
WANTLIB=		c z
d32 1
d41 2
@


1.47
log
@update to GnuPG 1.4, new FLAVOR "card" to support usb card readers

initial version from Chris K. Young <cky at pobox.com>, adapted to
-current by Alec Berryman <alec at thened.net>

ok maintainer reinhard@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/01/05 19:45:26 naddy Exp $
d35 2
a36 1
CONFIGURE_ARGS+= --disable-ldap
@


1.46
log
@proper SUPDISTFILES, restore checksums
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2004/12/27 13:28:33 alek Exp $
d5 1
a5 2
DISTNAME=	gnupg-1.2.2
PKGNAME=	${DISTNAME}p1
d33 1
a33 1
AUTOCONF_VERSION= 2.52
d39 1
a39 1
FLAVORS=	idea
d42 1
a42 1
.if ${FLAVOR:L} == "idea"
d52 7
@


1.45
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2004/08/10 09:26:14 xsa Exp $
d50 2
@


1.44
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/08/04 14:51:31 naddy Exp $
d29 1
@


1.44.2.1
log
@SECURITY:
update to 1.4.1; fix a openpgp protocol vulnerability
http://www.vuxml.org/openbsd/be6057f4-9ecf-11d9-82a1-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2004/08/10 09:26:14 xsa Exp $
d5 2
a6 1
DISTNAME=	gnupg-1.4.1
d33 1
a33 1
AUTOCONF_VERSION= 2.59
d35 1
a35 1
CONFIGURE_ARGS+= --disable-ldap --disable-gnupg-iconv
@


1.43
log
@fix up MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/02/24 19:48:16 naddy Exp $
d30 1
a30 1
MODULES= gettext
@


1.42
log
@remove workaround for gcc2.95/sparc64 optimizer bug: sha1.c compiles fine now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2003/12/13 03:22:16 margarida Exp $
d34 1
a34 1
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/scripts
@


1.42.2.1
log
@SECURITY:
update to 1.4.1; fix a openpgp protocol vulnerability
http://www.vuxml.org/openbsd/be6057f4-9ecf-11d9-82a1-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/02/24 19:48:16 naddy Exp $
d5 2
a6 1
DISTNAME=	gnupg-1.4.1
d33 1
a33 1
AUTOCONF_VERSION= 2.59
d35 1
a35 1
CONFIGURE_ARGS+= --disable-ldap --disable-gnupg-iconv
@


1.41
log
@Security fix:
Add workaround for GnuPG's ElGamal signing keys bug.
URL: http://lists.gnupg.org/pipermail/gnupg-announce/2003q4/000276.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/06/09 17:24:47 brad Exp $
a28 5

# XXX workaround gcc bugs on sparc64
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST= patch-* gcc-*
.endif
@


1.40
log
@run these tests as part of the regression target.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/06/03 10:21:33 markus Exp $
d6 1
d8 1
@


1.40.2.1
log
@MFC:
Security fix:
Add workaround for GnuPG's ElGamal signing keys bug.
URL: http://lists.gnupg.org/pipermail/gnupg-announce/2003q4/000276.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/06/09 17:24:47 brad Exp $
a5 1
PKGNAME=	${DISTNAME}p1
@


1.39
log
@re-add IDEA flavor; ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2003/05/27 14:54:43 brad Exp $
a41 2
REGRESS_TARGET=	check

d61 3
@


1.38
log
@upgrade to gnupg 1.2.2

A bug was discovered in the key validation code.  This bug causes keys
with more than one user ID to give all user IDs on the key the amount
of validity given to the most-valid key.

http://marc.theaimsgroup.com/?l=bugtraq&m=105215110111174&w=2
--
MAINTAINER ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2003/02/05 18:35:03 reinhard Exp $
d16 2
d43 12
@


1.37
log
@update MASTER_SITES; inspired by Xavier Santolaria <xsa@@ucmb.ulb.ac.be>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/11/16 05:02:21 mark Exp $
d3 1
a3 1
COMMENT=	'GNU privacy guard - a free PGP replacement'
d5 1
a5 2
DISTNAME=	gnupg-1.2.1
PKGNAME=	${DISTNAME}
a15 3
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}
EXTRACT_ONLY=	${DISTNAME}${EXTRACT_SUFX}

d20 1
d26 4
a29 1
.include <bsd.own.mk>
d31 1
a31 1
MODULES=	gettext
d33 6
a38 2
CONFIGURE_STYLE=	gnu
MODGNU_CONFIG_GUESS_DIRS=	${WRKSRC} ${WRKSRC}/scripts
a48 5

# XXX workaround gcc bugs on sparc64
.if ${MACHINE_ARCH:Msparc64}
CFLAGS+=-O0
.endif
@


1.37.2.1
log
@MFC:
upgrade to gnupg 1.2.2

A bug was discovered in the key validation code.  This bug causes keys
with more than one user ID to give all user IDs on the key the amount
of validity given to the most-valid key.

http://marc.theaimsgroup.com/?l=bugtraq&m=105215110111174&w=2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2003/02/05 18:35:03 reinhard Exp $
d3 1
a3 1
COMMENT=	"GNU privacy guard - a free PGP replacement"
d5 2
a6 1
DISTNAME=	gnupg-1.2.2
d17 3
a23 1
# GPL
d29 3
a31 4
# XXX workaround gcc bugs on sparc64
.if ${MACHINE_ARCH:Msparc64}
PATCH_LIST= patch-* gcc-*
.endif
d33 2
a34 1
MODULES= gettext
d36 1
a36 6
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.52
MODGNU_CONFIG_GUESS_DIRS= ${WRKSRC} ${WRKSRC}/scripts
CONFIGURE_ARGS+= --disable-ldap
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
d46 4
a49 2
do-regress:
	@@cd ${WRKSRC}/checks && ${MAKE_PROGRAM}
@


1.37.2.2
log
@MFC:
Security fix:
Add workaround for GnuPG's ElGamal signing keys bug.
URL: http://lists.gnupg.org/pipermail/gnupg-announce/2003q4/000276.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37.2.1 2003/07/10 23:26:18 brad Exp $
a5 1
PKGNAME=	${DISTNAME}p1
a38 2

REGRESS_TARGET=	check
@


1.36
log
@gnupg-1.2.1 update
tested on macppc, i386

ok reinhard@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/07/19 19:27:42 fgsch Exp $
d9 4
a12 3
		ftp://ftp.progsoc.uts.edu.au/pub/gnupg/gnupg/ \
		ftp://openbsd.rug.ac.be/pub/gcrypt/gnupg/ \
		ftp://sunsite.auc.dk/pub/security/gcrypt/gnupg/ \
d14 2
a15 6
		ftp://pgp.iijlab.net/pub/gnupg/gnupg/ \
		ftp://ring.aist.go.jp/pub/net/gnupg/gnupg/ \
		ftp://sunsite.icm.edu.pl/pub/security/gcrypt/gnupg/ \
		ftp://ftp.stacken.kth.se/pub/crypto/gnupg/gnupg/ \
		ftp://ftp.net.lut.ac.uk/gcrypt/gnupg/ \
		ftp://gd.tuwien.ac.at/privacy/gnupg/gnupg/
@


1.35
log
@- use in tree gas, thus removing binutils dependency.
- move idea patches to patches directory.
- remove unneeded patch-cipher_Makefile_am.
- remove deprecated NEED_VERSION.

you need an updated gas for this to work on i386.
discussed with reinhard@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/07/05 07:13:00 reinhard Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.0.7
d8 1
a8 1
MASTER_SITES=	ftp://ftp.gnupg.org/pub/gcrypt/gnupg/ \
a19 5
MASTER_SITES0=	ftp://ftp.ruhr-uni-bochum.de/mirrors/ftp.gnupg.org/pub/gcrypt/contrib/ \
	ftp://ftp.uni-bielefeld.de/pub/crypto/replay/mirror/ftp.pgp.net/gnupgp/contrib/ \
	ftp://ftp.hacktic.nl/pub/crypto/mirror/ftp.gnupg.org/contrib/ \
	ftp://ftp.fh-schmalkalden.de/pub/dfncert/crypt/gcrypt/contrib/

a39 15

FLAVORS=	idea
FLAVOR?=

.if ${FLAVOR:L} == "idea"
PERMIT_PACKAGE_CDROM=	"a patented algorithm"
PERMIT_PACKAGE_FTP=	"a patented algorithm"
PERMIT_DISTFILES_CDROM=	"a patented algorithm"
PERMIT_DISTFILES_FTP=	"a patented algorithm"
# NB: idea.c is found in ${MASTER_SITES0}
DISTFILES+=	idea.c:0
PATCH_LIST=	idea-* patch-*
pre-patch:
	@@cp ${DISTDIR}/idea.c ${WRKSRC}/cipher
.endif
@


1.35.2.1
log
@A bug was discovered in the key validation code.  This bug causes keys
with more than one user ID to give all user IDs on the key the amount
of validity given to the most-valid key.

http://marc.theaimsgroup.com/?l=bugtraq&m=105215110111174&w=2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/07/19 19:27:42 fgsch Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d8 4
a11 5
MASTER_SITES=	ftp://ftp.gnupg.org/gcrypt/gnupg/ \
		ftp://gd.tuwien.ac.at/privacy/gnupg/gnupg/ \
		ftp://crypto.yashy.com/pub/cryptography/gnupg/ \
		ftp://ftp.planetmirror.com/pub/gnupg/gnupg/ \
		ftp://sunsite.dk/pub/security/gcrypt/gnupg/ \
d13 6
a18 2
		ftp://pgp.iijlab.net/pub/pgp/gnupg/ \
		ftp://ring.aist.go.jp/pub/net/gnupg/gnupg/
d22 1
@


1.34
log
@update to gnupg-1.0.7; thx Nikolay Sturm
* use 'as' of new binutils on non elf-toolchain archs

see http://lists.gnupg.org/pipermail/gnupg-announce/2002q2/000251.html
for a list of changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2001/12/09 12:51:40 reinhard Exp $
a7 1
NEED_VERSION=	1.531
a38 5
.if ${ELF_TOOLCHAIN} == "no"
BUILD_DEPENDS=	::devel/binutils/stable
MAKE_ENV= AS="${LOCALBASE}/${MACHINE_ARCH}-unknown-openbsd${OPSYS_VER}/bin/as"
.endif

d56 1
a56 3
PATCH_LIST=	patch-*
PATCH_LIST+=	${FILESDIR}/patch-cipher_Makefile_am
PATCH_LIST+=	${FILESDIR}/patch-cipher_Makefile_in
@


1.33
log
@- pkg/MESSAGE from Sebastian Stark <seb@@todesplanet.de>
- distinfo, NEED_VERSION
- REGRESS_TARGET
- maintainer; markus@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/09/28 06:02:14 pvalchev Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.0.6
d8 1
a8 1
NEED_VERSION=	1.500
d38 10
a47 1
CONFIGURE_STYLE= gnu
a48 1
CONFIGURE_ARGS=	--with-included-gettext
d63 1
a63 1
PATCH_LIST+=	${FILESDIR}/patch-cipher_Makefile_am 
d76 5
@


1.32
log
@CONFIGURE_STYLE=gnu w/ proper MODGNU_CONFIG_GUESS_DIRS
needed for the powerpc -> macppc name change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2001/07/12 16:07:17 reinhard Exp $
d8 1
a8 1
NEED_VERSION=	1.419
d21 2
a22 6
MASTER_SITES0=	ftp://ftp.sunet.se/pub7/security/tools/crypt/gcrypt/contrib/ \
	ftp://ftp.netsw.org/crypto/systems/gnupg/rsaidea/ \
	ftp://ftp.sunsite.auc.dk/afs/mirror/cryptoarchive/mirrors/ftp.gnupg.org/pub/gcrypt/contrib/ \
	ftp://ftp.uni-passau.de/mount/common.lib.archive.unix/Network/mail/GnuPG/ \
	ftp://ftp.ruhr-uni-bochum.de/mirrors/ftp.gnupg.org/pub/gcrypt/contrib/ \
	ftp://ftp.csua.berkeley.edu/pub/.1/ports/distfiles/gnupg-idea/ \
d24 2
a25 2
	ftp://ftp.uni-bielefeld.de/pub/crypto/replay/mirror/ftp.pgp.net/gnupgp/contrib/ \
	ftp://ftp.fh-schmalkalden.de/pub/dfncert/crypt/gcrypt/contrib/ 
d31 1
a31 1
MAINTAINER=	Markus Friedl <markus@@openbsd.org>
d41 2
@


1.31
log
@add new MASTER_SITES for idea flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/06/05 09:19:05 reinhard Exp $
d43 1
@


1.30
log
@update to gnupg-1.0.6; SECURITY FIX

*) Fixed a format string bug which is exploitable if --batch is not used.
*) Checked all translations for format strings bugs.
*) Removed the Russian translation due to too many bugs.
*) Fixed keyserver access and expire time calculation.

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/05/23 15:28:49 jakob Exp $
d8 1
a8 1
NEED_VERSION=	1.413
d20 10
a29 1
MASTER_SITES0=	ftp://ftp.gnupg.org/pub/gcrypt/contrib/ 
@


1.29
log
@update to v1.0.5. ok markus@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/04/17 20:53:04 reinhard Exp $
d5 1
a5 1
DISTNAME=	gnupg-1.0.5
d8 1
a8 1
NEED_VERSION=	1.363
@


1.28
log
@better fetch target for idea flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/03/23 16:32:15 reinhard Exp $
d5 2
a6 2
DISTNAME=	gnupg-1.0.4
PKGNAME=	${DISTNAME}p2
d21 2
a22 2
DISTFILES=	gnupg-1.0.4.tar.gz 
EXTRACT_ONLY=	gnupg-1.0.4.tar.gz 
d46 1
a48 1
SED_PLIST+=	-e 's,^!%%idea%%,lib/gnupg/idea,'
@


1.28.2.1
log
@MFC:
update to gnupg-1.0.6; SECURITY FIX
- Fixed a format string bug which is exploitable if --batch is not used.
- Checked all translations for format strings bugs.
- Removed the Russian translation due to too many bugs.
- Fixed keyserver access and expire time calculation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/06/05 09:19:05 reinhard Exp $
d5 2
a6 2
DISTNAME=	gnupg-1.0.6
PKGNAME=	${DISTNAME}
d8 1
a8 1
NEED_VERSION=	1.406
d21 2
a22 2
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}
EXTRACT_ONLY=	${DISTNAME}${EXTRACT_SUFX}
a45 1
PATCH_LIST=	patch-*
d48 1
@


1.27
log
@kill pkg/COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/03/23 13:10:20 reinhard Exp $
d45 1
a45 1
DISTFILES+=	idea.c
@


1.26
log
@SECURITY UPDATE (Klima-Rosa attack)

patch from:
Florian Weimer <Florian.Weimer@@RUS.UNI-STUTTGART.DE>
# http://cert.uni-stuttgart.de/files/fw/gnupg-klima-rosa.diff
# http://cert.uni-stuttgart.de/files/fw/gnupg-klima-rosa.diff.asc

It introduces additional consistency checks, as suggested by the
authors of the paper.  The checks are slightly different, but they
make the two additional attacks infeasible, I think.  In the future,
it might be a good idea to add a check the generated signature for
validity, this will detect bugs in the MPI implementation which could
result in a revealed secret key, too.


ok markus@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.25 2001/03/05 18:54:06 brad Exp $
@


1.25
log
@fixup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/03/03 17:17:28 reinhard Exp $
d4 1
a4 1
PKGNAME=	${DISTNAME}p1
d6 1
a6 1
NEED_VERSION=	1.358
d18 1
a18 1
MASTER_SITES0=	ftp://ftp.gnupg.org/pub/gcrypt/contrib/
@


1.24
log
@o) minor fix for one of the MASTER_SITES; Pete Fritchman <petef@@databits.net>
o) use /dev/arandom; suggested by markus@@
o) add idea FLAVOR; suggested by markus@@
o) add another MASTER_SITE
o) bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/12/23 16:48:06 reinhard Exp $
a33 4
GNUPGDOCDIR=	${PREFIX}/share/doc/gnupg
GNUPGDOCFILES=	README AUTHORS COPYING THANKS TODO BUGS \
		doc/DETAILS doc/FAQ doc/OpenPGP doc/HACKING doc/faq.html

d38 4
a41 4
PERMIT_PACKAGE_CDROM=	"patented algorithm (US patent 5,214,703, EPO patent 0482154, Japanese patent application 508119/1991)"
PERMIT_PACKAGE_FTP=	"patented algorithm (US patent 5,214,703, EPO patent 0482154, Japanese patent application 508119/1991)"
PERMIT_DISTFILES_CDROM=	"patented algorithm (US patent 5,214,703, EPO patent 0482154, Japanese patent application 508119/1991)"
PERMIT_DISTFILES_FTP=	"patented algorithm (US patent 5,214,703, EPO patent 0482154, Japanese patent application 508119/1991)"
d51 3
d55 3
a57 2
	${INSTALL_DATA_DIR} ${GNUPGDOCDIR}
	cd ${WRKSRC}; ${INSTALL_DATA} ${GNUPGDOCFILES} ${GNUPGDOCDIR}
@


1.23
log
@increment PKGNAME; thx naddy@@ for pointing out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/10/30 12:52:32 markus Exp $
d6 1
a6 1
NEED_VERSION=	1.320
d9 1
a9 1
		ftp://openbsd.rug.ac.be/pub/gcrypt/ \
d16 5
a20 1
		ftp://ftp.net.lut.ac.uk/gcrypt/gnupg/
d32 1
a32 1
CONFIGURE_ARGS=	--disable-nls
d37 17
@


1.22
log
@security update, since 1.0.3 does not detect modifications of files with multiple signatures
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/10/22 17:02:41 espie Exp $
d4 1
@


1.22.2.1
log
@MFC:
Signature verification fix corresponding to gnupg-1.0.4.security-patch1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/12/23 16:48:06 reinhard Exp $
a3 1
PKGNAME=	${DISTNAME}p1
@


1.22.2.2
log
@MFC:
- SECURITY: protect against Klima-Rosa attack
- Update MASTER_SITES
- /dev/srandom -> /dev/arandom
- bump package revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22.2.1 2000/12/23 17:21:49 naddy Exp $
d4 1
a4 1
PKGNAME=	${DISTNAME}p2
d9 1
a9 1
		ftp://openbsd.rug.ac.be/pub/gcrypt/gnupg/ \
d16 1
a16 2
		ftp://ftp.net.lut.ac.uk/gcrypt/gnupg/ \
		ftp://gd.tuwien.ac.at/privacy/gnupg/gnupg/
@


1.21
log
@Maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/09/19 13:18:50 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-1.0.3
d31 1
a31 1
		doc/DETAILS doc/FAQ doc/OpenPGP doc/HACKING
@


1.20
log
@upgrade to gnupg 1.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/08/12 18:21:45 brad Exp $
d19 1
a19 1
MAINTAINER=	markus@@openbsd.org
@


1.19
log
@remove old man page; pointed out by Fabian Kroenner <escher@@spoiled.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/07/13 19:39:24 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-1.0.2
d5 1
a5 1
NEED_VERSION=	1.310
d35 1
a35 3
	@@set -e; for f in ${GNUPGDOCFILES}; do \
	 ${INSTALL_DATA} ${WRKSRC}/$${f} ${GNUPGDOCDIR}; \
	done
@


1.18
log
@upgrade to gnupg 1.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/29 06:06:31 brad Exp $
a15 2
DISTFILES=	${DISTNAME}.tar.gz gpg.1.gz
EXTRACT_ONLY=	${DISTNAME}.tar.gz
a31 3

post-extract:
	@@gunzip -c ${FULLDISTDIR}/gpg.1.gz > ${WRKSRC}/doc/gpg.1
@


1.17
log
@- add HOMEPAGE
- GNU_CONFIGURE -> CONFIGURE_STYLE
- remove license type
- mkdir -> ${INSTALL_DATA_DIR}
- add @@comment with RCS id to PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/03/24 22:11:57 espie Exp $
d3 1
a3 1
DISTNAME=	gnupg-1.0.1
d5 1
a5 1
NEED_VERSION=	1.301
@


1.16
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/03/11 02:54:18 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.226
d19 2
a22 1
LICENSE_TYPE=		GPL
d28 1
a28 3
# For now, because OpenBSD make seems to have a weird bug in suffix handling
#USE_GMAKE=	Yes
GNU_CONFIGURE=	yes
a29 1
FAKE=		Yes
d39 1
a39 1
	@@mkdir -p ${GNUPGDOCDIR}
@


1.16.2.1
log
@bring security as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/08/12 18:21:45 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-1.0.2
d5 1
a5 1
NEED_VERSION=	1.310
d16 2
a17 2

HOMEPAGE=	http://www.gnupg.org/
d21 1
d27 3
a29 1
CONFIGURE_STYLE= gnu
d31 1
d37 3
d41 1
a41 1
	${INSTALL_DATA_DIR} ${GNUPGDOCDIR}
@


1.15
log
@Fake. Leave gnu-make along for now, it suspiciously looks like an OpenBSD
make bug.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/02/15 05:05:10 turan Exp $
d28 1
a28 1
USE_GMAKE=	Yes
@


1.14
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/02/12 08:02:30 turan Exp $
d5 1
d22 4
a25 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d27 2
a28 1
USE_GMAKE=	yes
d31 1
@


1.13
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/12/23 02:54:24 brad Exp $
d21 4
a24 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.12
log
@upgrade to gnupg 1.0.1 (minus the html documentation which does not come
with the distribution anymore it seems)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/11/30 23:13:52 brad Exp $
d19 6
@


1.11
log
@remove unnecessary CONFIGURE_ENV tag; ok'd by markus@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/11/30 02:54:31 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-1.0.0
d15 2
d28 3
a32 1
	@@mkdir -p ${GNUPGDOCDIR}/html
a35 1
	@@cp ${WRKSRC}/doc/gph/manual/* ${GNUPGDOCDIR}/html
@


1.10
log
@- change maintainers email address to markus@@openbsd.org
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/09/09 02:54:30 brad Exp $
a20 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.9
log
@upgrade to gnupg 1.0.0; maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/09/04 21:54:06 brad Exp $
d16 1
a16 1
MAINTAINER=	markus.friedl@@informatik.uni-erlangen.de
d29 4
a32 4
	@@${MKDIR} ${GNUPGDOCDIR}
	@@${MKDIR} ${GNUPGDOCDIR}/html
	@@for f in ${GNUPGDOCFILES}; do \
		${INSTALL_DATA} ${WRKSRC}/$${f} ${GNUPGDOCDIR}/; \
d34 1
a34 1
	@@${CP} ${WRKSRC}/doc/gph/manual/* ${GNUPGDOCDIR}/html
@


1.8
log
@upgrade to GNUpg 0.9.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/08/04 22:41:02 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-0.9.11
a18 1
SEPARATE_BUILD=	concurrent
d30 1
d34 1
@


1.7
log
@upgrade to gnupg 0.9.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/07/25 23:33:41 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-0.9.10
d5 2
a6 2
MASTER_SITES=	ftp://ftp.gnupg.org/pub/gcrypt/ \
		ftp://ftp.progsoc.uts.edu.au/pub/gnupg/ \
d8 7
a14 7
		ftp://sunsite.auc.dk/pub/security/gcrypt/ \
		ftp://ftp.linux.it/pub/mirrors/gnupg/ \
		ftp://pgp.iijlab.net/pub/gnupg/ \
		ftp://ring.aist.go.jp/pub/net/gnupg/ \
		ftp://sunsite.icm.edu.pl/pub/security/gcrypt/ \
		ftp://ftp.stacken.kth.se/pub/crypto/gnupg/ \
		ftp://ftp.net.lut.ac.uk/gcrypt/
d31 1
a31 1
	@@set -e; for f in ${GNUPGDOCFILES}; do \
@


1.6
log
@upgrade to GNUPG 0.9.9; -
Markus Friedl <markus.friedl@@informatik.uni-erlangen.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/06/28 20:05:41 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-0.9.9
@


1.5
log
@upgrade to GNUpg 0.9.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/06/03 13:49:50 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-0.9.8
d18 1
d30 1
a30 1
	${MKDIR} ${GNUPGDOCDIR}
@


1.4
log
@change SEPARATE_BUILD= yes -> concurrent
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/05/24 20:55:44 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-0.9.7
@


1.3
log
@upgrade to GnuPG 0.9.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/05/08 17:38:40 brad Exp $
d18 1
a18 1
SEPARATE_BUILD=	yes
@


1.2
log
@upgrade to GnuPG 0.9.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/04/23 03:16:05 brad Exp $
d3 1
a3 1
DISTNAME=	gnupg-0.9.6
d5 10
a14 1
MASTER_SITES=	ftp://ftp.gnupg.org/pub/gcrypt/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
DISTNAME=	gnupg-0.9.5
@


1.1.1.1
log
@add gnupg port; markus.friedl@@informatik.uni-erlangen.de
-
GNU privacy guard - a free PGP replacement.
@
text
@@
