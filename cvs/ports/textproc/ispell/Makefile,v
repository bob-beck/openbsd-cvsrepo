head	1.65;
access;
symbols
	OPENBSD_6_1:1.64.0.6
	OPENBSD_6_1_BASE:1.64
	OPENBSD_6_0:1.64.0.4
	OPENBSD_6_0_BASE:1.64
	OPENBSD_5_9:1.64.0.2
	OPENBSD_5_9_BASE:1.64
	OPENBSD_5_8:1.63.0.4
	OPENBSD_5_8_BASE:1.63
	OPENBSD_5_7:1.62.0.2
	OPENBSD_5_7_BASE:1.62
	OPENBSD_5_6:1.61.0.2
	OPENBSD_5_6_BASE:1.61
	OPENBSD_5_5:1.60.0.2
	OPENBSD_5_5_BASE:1.60
	OPENBSD_5_4:1.59.0.2
	OPENBSD_5_4_BASE:1.59
	OPENBSD_5_3:1.56.0.4
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.56.0.2
	OPENBSD_5_2_BASE:1.56
	OPENBSD_5_1_BASE:1.55
	OPENBSD_5_1:1.55.0.2
	OPENBSD_5_0:1.54.0.2
	OPENBSD_5_0_BASE:1.54
	OPENBSD_4_9:1.53.0.2
	OPENBSD_4_9_BASE:1.53
	OPENBSD_4_8:1.49.0.2
	OPENBSD_4_8_BASE:1.49
	OPENBSD_4_7:1.48.0.6
	OPENBSD_4_7_BASE:1.48
	OPENBSD_4_6:1.48.0.4
	OPENBSD_4_6_BASE:1.48
	OPENBSD_4_5:1.48.0.2
	OPENBSD_4_5_BASE:1.48
	OPENBSD_4_4:1.47.0.4
	OPENBSD_4_4_BASE:1.47
	OPENBSD_4_3:1.47.0.2
	OPENBSD_4_3_BASE:1.47
	OPENBSD_4_2:1.46.0.4
	OPENBSD_4_2_BASE:1.46
	OPENBSD_4_1:1.46.0.2
	OPENBSD_4_1_BASE:1.46
	OPENBSD_4_0:1.43.0.4
	OPENBSD_4_0_BASE:1.43
	OPENBSD_3_9:1.43.0.2
	OPENBSD_3_9_BASE:1.43
	OPENBSD_3_8:1.41.0.4
	OPENBSD_3_8_BASE:1.41
	OPENBSD_3_7:1.41.0.2
	OPENBSD_3_7_BASE:1.41
	OPENBSD_3_6:1.37.0.4
	OPENBSD_3_6_BASE:1.37
	OPENBSD_3_5:1.37.0.2
	OPENBSD_3_5_BASE:1.37
	OPENBSD_3_4:1.34.0.2
	OPENBSD_3_4_BASE:1.34
	OPENBSD_3_3:1.32.0.2
	OPENBSD_3_3_BASE:1.32
	OPENBSD_3_2:1.27.0.2
	OPENBSD_3_2_BASE:1.27
	OPENBSD_3_1:1.25.0.2
	OPENBSD_3_1_BASE:1.25
	OPENBSD_3_0:1.24.0.2
	OPENBSD_3_0_BASE:1.24
	OPENBSD_2_9_TRACKING_SWITCH:1.24
	OPENBSD_2_9:1.20.0.2
	OPENBSD_2_9_BASE:1.20
	OPENBSD_2_8:1.19.0.2
	OPENBSD_2_8_BASE:1.19
	OPENBSD_2_7:1.17.0.2
	OPENBSD_2_7_BASE:1.17
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.5.0.2
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	ispell3_1:1.1.1.1
	ispell:1.1.1;
locks; strict;
comment	@# @;


1.65
date	2017.06.03.12.46.37;	author sthen;	state Exp;
branches;
next	1.64;
commitid	eIOVk2yovrNMh5oy;

1.64
date	2015.12.03.21.24.32;	author sthen;	state Exp;
branches;
next	1.63;
commitid	qh8BBe4z9PLvLPKf;

1.63
date	2015.06.05.08.11.53;	author bentley;	state Exp;
branches;
next	1.62;
commitid	xfQd7SPjRpEW8loB;

1.62
date	2015.02.16.22.57.13;	author naddy;	state Exp;
branches;
next	1.61;
commitid	0dx3c9ckf7dE4tx1;

1.61
date	2014.07.21.17.19.02;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	UyF8Pn1Paa7uwJTG;

1.60
date	2013.12.06.15.37.42;	author naddy;	state Exp;
branches;
next	1.59;

1.59
date	2013.03.14.09.25.09;	author sthen;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.14.09.20.17;	author landry;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.11.11.42.42;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2012.03.17.17.19.59;	author naddy;	state Exp;
branches;
next	1.55;

1.55
date	2011.09.16.11.41.40;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2011.05.11.07.45.52;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2010.12.05.18.24.33;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2010.11.20.19.56.48;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2010.10.19.07.54.22;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2010.08.31.12.35.19;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2010.05.31.17.12.49;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2008.10.04.16.08.16;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2007.09.15.20.59.38;	author merdely;	state Exp;
branches;
next	1.46;

1.46
date	2006.12.27.13.43.55;	author jakob;	state Exp;
branches;
next	1.45;

1.45
date	2006.12.27.13.33.06;	author jakob;	state Exp;
branches;
next	1.44;

1.44
date	2006.11.23.19.41.40;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2006.02.08.04.54.50;	author david;	state Exp;
branches;
next	1.42;

1.42
date	2005.11.13.18.19.31;	author jakob;	state Exp;
branches;
next	1.41;

1.41
date	2005.02.21.21.04.13;	author alek;	state Exp;
branches;
next	1.40;

1.40
date	2004.12.25.22.37.36;	author sturm;	state Exp;
branches;
next	1.39;

1.39
date	2004.12.07.00.23.21;	author alek;	state Exp;
branches;
next	1.38;

1.38
date	2004.11.17.01.19.28;	author alek;	state Exp;
branches;
next	1.37;

1.37
date	2004.01.14.17.09.08;	author jakob;	state Exp;
branches;
next	1.36;

1.36
date	2003.11.15.15.12.53;	author sturm;	state Exp;
branches;
next	1.35;

1.35
date	2003.10.26.23.49.40;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2003.04.30.10.51.43;	author jakob;	state Exp;
branches;
next	1.33;

1.33
date	2003.04.10.10.30.07;	author jsyn;	state Exp;
branches;
next	1.32;

1.32
date	2003.01.17.19.24.26;	author jakob;	state Exp;
branches;
next	1.31;

1.31
date	2002.12.26.18.51.40;	author jakob;	state Exp;
branches;
next	1.30;

1.30
date	2002.12.07.16.51.14;	author jakob;	state Exp;
branches;
next	1.29;

1.29
date	2002.11.28.22.38.41;	author jakob;	state Exp;
branches;
next	1.28;

1.28
date	2002.10.28.22.43.46;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2002.05.31.18.09.47;	author jakob;	state Exp;
branches;
next	1.26;

1.26
date	2002.04.17.16.09.40;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2002.01.24.11.20.17;	author jakob;	state Exp;
branches;
next	1.24;

1.24
date	2001.07.29.18.43.27;	author jakob;	state Exp;
branches;
next	1.23;

1.23
date	2001.07.11.12.34.28;	author jakob;	state Exp;
branches;
next	1.22;

1.22
date	2001.07.09.17.34.11;	author jakob;	state Exp;
branches;
next	1.21;

1.21
date	2001.05.05.20.26.47;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2001.03.16.16.50.48;	author espie;	state Exp;
branches
	1.20.2.1;
next	1.19;

1.19
date	2000.06.23.13.25.42;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.23.03.06.34;	author jasoni;	state Exp;
branches;
next	1.17;

1.17
date	2000.04.09.17.38.27;	author espie;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2000.03.24.22.12.02;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2000.02.15.05.05.21;	author turan;	state Exp;
branches;
next	1.14;

1.14
date	2000.02.12.06.30.05;	author turan;	state Exp;
branches;
next	1.13;

1.13
date	2000.02.12.00.44.01;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.02.10.20.40.19;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.02.17.02.38;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.01.04.19.12.46;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2000.01.04.19.09.57;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.06.28.17.45.51;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.06.21.23.17.01;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.06.21.04.07.05;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.04.06.19.34.19;	author rohee;	state Exp;
branches;
next	1.4;

1.4
date	98.12.16.20.16.44;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.07.13.02.24.49;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	97.11.19.01.07.57;	author joey;	state Exp;
branches;
next	1.1;

1.1
date	97.11.18.02.46.09;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.18.02.46.09;	author joey;	state Exp;
branches;
next	;

1.17.2.1
date	2000.09.15.05.19.55;	author marc;	state Exp;
branches;
next	;

1.20.2.1
date	2001.05.05.20.34.21;	author espie;	state Exp;
branches;
next	;


desc
@@


1.65
log
@update to ispell-3.4.00 and patch to fix some implicit declarations, done
while investigating a crash (bogus free) reported by Bryan Linton when running
"DICTIONARY=/usr/local/lib/ispell/american.hash ispell" (but it doesn't fix this)
@
text
@# $OpenBSD: Makefile,v 1.64 2015/12/03 21:24:32 sthen Exp $

COMMENT-main=		interactive spelling checker
COMMENT-dutch=		ispell dictionary for Dutch
COMMENT-french=		ispell dictionary for French
COMMENT-german=		ispell dictionary for German
COMMENT-russian=	ispell dictionary for Russian
COMMENT-portuguese=	ispell dictionary for Portuguese
COMMENT-slovak=		ispell dictionary for Slovak
COMMENT-spanish=	ispell dictionary for Spanish
COMMENT-swedish=	ispell dictionary for Swedish

VERSION=	3.4.00
DISTNAME=	ispell-${VERSION}
PKGNAME-main=	${DISTNAME}

CATEGORIES=	textproc

HOMEPAGE=	http://fmg-www.cs.ucla.edu/geoff/ispell.html

MASTER_SITES=	http://fmg-www.cs.ucla.edu/geoff/tars/ \
		ftp://ftp.netsw.org/dict/tools/
MASTER_SITES0=	http://distcache.freebsd.org/ports-distfiles/
MASTER_SITES1=	https://spacehopper.org/mirrors/
MASTER_SITES2=	ftp://ftp.informatik.uni-kiel.de/pub/kiel/dicts/
MASTER_SITES3=	http://www.sslug.dk/locale/ispell/iswedish/
MASTER_SITES4=	http://natura.di.uminho.pt/download/sources/Dictionaries/ispell/
MASTER_SITES5=	http://sk-spell.sk.cx/files/
MASTER_SITES6=	http://www.datsi.fi.upm.es/~coes/

DIST_SUBDIR=	ispell

DUTCH_DICT=		ispell-nl-1.0.0
FRENCH_DICT=		francais-IREQ-1.4
GERMAN_DICT=		hk2-deutsch
SWEDISH_DICT=		iswedish-1.2.1
RUSSIAN_DICT=		rus-ispell-0.99e7
PORTUGUESE_DICT=	ispell.pt-20091013
SLOVAK_DICT=		ispell-sk-0.3.2
SPANISH_DICT=		espa~nol-1.7

DISTFILES=	${DISTNAME}.tar.gz \
		${DUTCH_DICT}.tar.gz:0 \
		${FRENCH_DICT}.tar.gz:1 \
		${GERMAN_DICT}.tar.gz:2 \
		${SWEDISH_DICT}.tar.gz:3 \
		${RUSSIAN_DICT}.tar.gz:1 \
		${PORTUGUESE_DICT}.tar.gz:4 \
		${SLOVAK_DICT}.tar.gz:5  \
		${SPANISH_DICT}.tar.gz:6

EXTRACT_ONLY=	${DISTNAME}.tar.gz \
		${DUTCH_DICT}.tar.gz \
		${SWEDISH_DICT}.tar.gz \
		${PORTUGUESE_DICT}.tar.gz \
		${SLOVAK_DICT}.tar.gz  \
		${SPANISH_DICT}.tar.gz

SUBST_VARS+=	VERSION

MULTI_PACKAGES=	-main -dutch -french -german -swedish -russian -portuguese \
		-slovak -spanish

# ispell: BSD-like
# dictionaries: GPL or BSD-like
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB-main=		c termcap

PERMIT_PACKAGE_CDROM-german=	no license
PERMIT_PACKAGE_FTP-german=	no license

RUN_DEPENDS=	textproc/ispell
RUN_DEPENDS-main=

MAKE_FLAGS=	TMPDIR=${WRKDIR}

NO_TEST=	Yes

post-extract:
	@@mkdir -p ${WRKDIR}/french
	@@(cd ${WRKDIR}/french; \
	tar xzf ${FULLDISTDIR}/${FRENCH_DICT}${EXTRACT_SUFX})

	@@mkdir -p ${WRKDIR}/german
	@@(cd ${WRKDIR}/german; \
	tar xzf ${FULLDISTDIR}/${GERMAN_DICT}${EXTRACT_SUFX})

	@@mkdir -p ${WRKDIR}/russian
	@@(cd ${WRKDIR}/russian; \
	tar xzf ${FULLDISTDIR}/${RUSSIAN_DICT}${EXTRACT_SUFX})

	@@(cd ${WRKDIR}/${SPANISH_DICT}/; \
	mv espa~nol.aff spanish.aff; \
	mv espa~nol.words+ spanish.words+)

pre-configure:
	@@sed "s%/usr/local%${PREFIX}%g" ${WRKSRC}/local.h.bsd > \
		${WRKSRC}/local.h
	@@echo "#define CFLAGS \"${CFLAGS}\"" >> ${WRKSRC}/local.h
	@@echo "#define CC \"${CC}\"" >> ${WRKSRC}/local.h

post-build:
	@@sed "s%/usr/local%${PREFIX}%g" ${FILESDIR}/ispell-config > \
		${WRKDIST}/ispell-config

	@@(cd ${WRKDIR}/${DUTCH_DICT}; \
	${WRKDIST}/buildhash words-nl.ispell nederlands.aff nederlands.hash)

	@@(cd ${WRKDIR}/french; \
	$(MAKE) RM='rm -f' HASH=${WRKDIST}/buildhash)

	@@(cd ${WRKDIR}/german; \
	sort -u *.txt | ./tex2iso >all.words; \
	${WRKDIST}/buildhash all.words deutsch.aff deutsch.hash)

	@@(cd ${WRKDIR}/${SWEDISH_DICT}; \
	${WRKDIST}/buildhash svenska.datalista svenska.aff svenska.hash)

	@@(cd ${WRKDIR}/russian; \
	sort -u base.koi computer.koi geography.koi science.koi >all.words; \
	sed -e "s/^\#y//;s/^\#koi/wordchars/" < russian.aff.koi > russian.aff; \
	${WRKDIST}/buildhash all.words russian.aff russian.hash)

	@@(cd ${WRKDIR}/${PORTUGUESE_DICT}; \
	${WRKDIST}/buildhash portugues.dic portugues.aff portuguese.hash; \
	cp portugues.aff portuguese.aff)

	@@(cd ${WRKDIR}/${SLOVAK_DICT}; \
	${WRKDIST}/buildhash slovak.words slovak.aff slovak.hash)

	@@(cd ${WRKDIR}/${SPANISH_DICT}; \
	${WRKDIST}/buildhash spanish.words+ spanish.aff spanish.hash)

do-install:
	${INSTALL_PROGRAM} ${WRKDIST}/ispell ${PREFIX}/bin/ispell
	${INSTALL_PROGRAM} ${WRKDIST}/buildhash ${PREFIX}/bin/buildhash
	${INSTALL_PROGRAM} ${WRKDIST}/tryaffix ${PREFIX}/bin/tryaffix
	${INSTALL_PROGRAM} ${WRKDIST}/ijoin ${PREFIX}/bin/ijoin
	${INSTALL_PROGRAM} ${WRKDIST}/findaffix ${PREFIX}/bin/findaffix
	${INSTALL_PROGRAM} ${WRKDIST}/munchlist ${PREFIX}/bin/munchlist
	${INSTALL_PROGRAM} ${WRKDIST}/icombine ${PREFIX}/bin/icombine
	${INSTALL_SCRIPT} ${WRKDIST}/ispell-config ${PREFIX}/bin/ispell-config

	${INSTALL_MAN} ${WRKDIST}/ispell.1 ${PREFIX}/man/man1/
	ln -s ispell.1 ${PREFIX}/man/man1/buildhash.1
	ln -s ispell.1 ${PREFIX}/man/man1/munchlist.1
	ln -s ispell.1 ${PREFIX}/man/man1/findaffix.1
	ln -s ispell.1 ${PREFIX}/man/man1/tryaffix.1
	${INSTALL_MAN} ${WRKDIST}/ispell.5 ${PREFIX}/man/man5/
	ln -s ispell.5 ${PREFIX}/man/man5/english.5

	${INSTALL_DATA_DIR} ${PREFIX}/lib/ispell

	${INSTALL_DATA} ${WRKDIST}/languages/english/english.aff \
		${PREFIX}/lib/ispell/american.aff
	ln -s american.aff ${PREFIX}/lib/ispell/british.aff
	${INSTALL_DATA} ${WRKDIST}/languages/american/americanmed+.hash \
		${PREFIX}/lib/ispell/americanmed+.hash
	ln -s americanmed+.hash ${PREFIX}/lib/ispell/american.hash
	${INSTALL_DATA} ${WRKDIST}/languages/british/britishxlg.hash \
		${PREFIX}/lib/ispell/britishxlg.hash
	ln -s britishxlg.hash ${PREFIX}/lib/ispell/british.hash

	${INSTALL_DATA} ${WRKDIR}/${DUTCH_DICT}/nederlands.{aff,hash} \
		${PREFIX}/lib/ispell
	${INSTALL_DATA} ${WRKDIR}/german/deutsch.{aff,hash} \
		${PREFIX}/lib/ispell
	${INSTALL_DATA} ${WRKDIR}/french/francais.{aff,hash} \
		${PREFIX}/lib/ispell
	${INSTALL_DATA} ${WRKDIR}/${SWEDISH_DICT}/svenska.{aff,hash} \
		${PREFIX}/lib/ispell
	${INSTALL_DATA} ${WRKDIR}/russian/russian.{aff,hash} \
		${PREFIX}/lib/ispell
	${INSTALL_DATA} ${WRKDIR}/${PORTUGUESE_DICT}/portuguese.{aff,hash} \
		${PREFIX}/lib/ispell
	${INSTALL_DATA} ${WRKDIR}/${SLOVAK_DICT}/slovak.{aff,hash} \
		${PREFIX}/lib/ispell
	${INSTALL_DATA} ${WRKDIR}/${SPANISH_DICT}/spanish.{aff,hash} \
		${PREFIX}/lib/ispell

.include <bsd.port.mk>
@


1.64
log
@switch my distfiles mirror to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/06/05 08:11:53 bentley Exp $
d13 1
a13 1
VERSION=	3.2.06
d15 2
a60 2
PKGNAME-main=	${DISTNAME}
REVISION-main=	9
a62 4
.for i in ${MULTI_PACKAGES}
PKGNAME$i?=	ispell$i-${VERSION}
REVISION$i?=	6
.endfor
d98 1
a98 1
	@@sed "s%/usr/local%${PREFIX}%g" ${WRKSRC}/local.h.samp > \
d145 1
a145 1
	${INSTALL_MAN} ${WRKDIST}/ispell.1 ${PREFIX}/man/man1/ispell.1
d150 2
a151 2
	${INSTALL_MAN} ${WRKDIST}/ispell.4 ${PREFIX}/man/man4/ispell.4
	ln -s ispell.4 ${PREFIX}/man/man4/english.4
@


1.63
log
@Update FreeBSD mirrors.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/02/16 22:57:13 naddy Exp $
d22 1
a22 1
MASTER_SITES1=	http://spacehopper.org/mirrors/
@


1.62
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/07/21 17:19:02 ajacoutot Exp $
d21 1
a21 1
MASTER_SITES0=	ftp://ftp.freebsd.org/pub/FreeBSD/ports/distfiles/
@


1.61
log
@Do not output "Default dictionary has been set to `british'" each time the
pkg is updated; because that is not true.
Tweak the @@exec line.
Move MESSAGE into a README.

after a comment by guenther@@ on icb
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/12/06 15:37:42 naddy Exp $
a80 1
USE_GROFF =	Yes
@


1.60
log
@welcome ispell into the 1990s and switch from sgtty ioctls to POSIX termios
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/03/14 09:25:09 sthen Exp $
d60 1
a60 1
REVISION-main=	8
@


1.59
log
@replace some dead MASTER_SITES with a mirror.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/14 09:20:17 landry Exp $
d60 1
a60 1
REVISION-main=	7
@


1.58
log
@Fix packaging after previous PERMIT_* sweep, PLIST changed because
PERMIT_PACKAGE_FTP-german defaults to PERMIT_PACKAGE_FTP which defaults to
yes in that case. spotted by rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/11 11:42:42 espie Exp $
d22 1
a22 1
MASTER_SITES1=	ftp://ftp.robot.ireq.ca/pub/ispell/
d25 3
a27 5
MASTER_SITES4=	ftp://mch5.chem.msu.su/pub/russian/ispell/ \
		ftp://ftp.afti.nsu.ru/pub/mirrors/russian-ispell/
MASTER_SITES5=	http://natura.di.uminho.pt/download/sources/Dictionaries/ispell/
MASTER_SITES6=	http://sk-spell.sk.cx/files/
MASTER_SITES7=	http://www.datsi.fi.upm.es/~coes/
d45 4
a48 4
		${RUSSIAN_DICT}.tar.gz:4 \
		${PORTUGUESE_DICT}.tar.gz:5 \
		${SLOVAK_DICT}.tar.gz:6  \
		${SPANISH_DICT}.tar.gz:7
d71 1
@


1.57
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/03/17 17:19:59 naddy Exp $
d76 1
@


1.56
log
@getline -> get_line
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2011/09/16 11:41:40 espie Exp $
a72 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a75 1
PERMIT_PACKAGE_FTP-german=	no license
d83 1
a83 1
NO_REGRESS=	Yes
@


1.55
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/05/11 07:45:52 ajacoutot Exp $
d62 1
a62 1
REVISION-main=	6
@


1.54
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/12/05 18:24:33 jasper Exp $
d67 1
a67 1
REVISION$i?=	5
@


1.53
log
@- use REVISION instead of a patch-level

from mikolaj kucharski, with a tweak by me in qt3-sqlite3-plugin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/11/20 19:56:48 espie Exp $
d62 1
a62 1
REVISION-main=	5
@


1.52
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/10/19 07:54:22 espie Exp $
d61 2
a62 1
PKGNAME-main=	${DISTNAME}p5
d66 2
a67 1
PKGNAME$i?=	ispell$i-${VERSION}p5
@


1.51
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/08/31 12:35:19 jasper Exp $
d79 1
a79 1
RUN_DEPENDS=	::textproc/ispell
@


1.50
log
@- switch to versioned portuguese dictionary, as the old unversioned
one disappeared from the master site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/05/31 17:12:49 espie Exp $
d83 1
@


1.49
log
@fix ispell. We've had @@exec-add/@@unexec-delete for ages.
(actually, use a trick on @@exec because the old package will delete the
default config one last time, so do add a new one for the last time).

Remove PATCHLEVEL "improvement". No need to reinstall other ispell
dictionaries, thank you.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2008/10/04 16:08:16 ajacoutot Exp $
d27 1
a27 1
MASTER_SITES5=	http://natura.di.uminho.pt/~jj/pln/
d38 1
a38 1
PORTUGUESE_DICT=	UMportugues
d48 1
a48 1
		${PORTUGUESE_DICT}.tgz:5 \
d55 1
a55 1
		${PORTUGUESE_DICT}.tgz \
d65 1
a65 1
PKGNAME$i?=	ispell$i-${VERSION}p4
d131 1
a131 1
	@@(cd ${WRKDIR}/portugues; \
d181 1
a181 1
	${INSTALL_DATA} ${WRKDIR}/portugues/portuguese.{aff,hash} \
@


1.48
log
@- update slovak dictionary; from frantisek holop
- regen PLIST while here
- bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/09/15 20:59:38 merdely Exp $
a12 2
PATCHLEVEL=	p4

a14 1
PKGNAME-main=	${DISTNAME}${PATCHLEVEL}
d61 1
d65 1
a65 1
PKGNAME$i?=	ispell$i-${VERSION}${PATCHLEVEL}
@


1.47
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2006/12/27 13:43:55 jakob Exp $
d13 1
a13 1
PATCHLEVEL=	p3
d31 1
a31 1
MASTER_SITES6=	http://ispell.hq.sk/
d42 1
a42 1
SLOVAK_DICT=		ispell-sk-0.2.0
d76 1
a76 1
WANTLIB-main=		c termcap 
d80 1
a80 1
 
d84 1
a84 1
MAKE_FLAGS=	TMPDIR=${WRKDIR} 
d100 1
a100 1
	
a137 1
	cat *.words | sort -u -f > slovak.words; \
@


1.46
log
@bump pkgname(s)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/12/27 13:33:06 jakob Exp $
d3 9
a11 9
COMMENT-main=		"interactive spelling checker"
COMMENT-dutch=		"ispell dictionary for Dutch"
COMMENT-french=		"ispell dictionary for French"
COMMENT-german=		"ispell dictionary for German"
COMMENT-russian=	"ispell dictionary for Russian"
COMMENT-portuguese=	"ispell dictionary for Portuguese"
COMMENT-slovak=		"ispell dictionary for Slovak"
COMMENT-spanish=	"ispell dictionary for Spanish"
COMMENT-swedish=	"ispell dictionary for Swedish"
d78 2
a79 2
PERMIT_PACKAGE_CDROM-german=	"no license"
PERMIT_PACKAGE_FTP-german=	"no license"
@


1.45
log
@drop MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/11/23 19:41:40 espie Exp $
d13 2
d17 1
a17 1
PKGNAME-main=	${DISTNAME}p2
d67 1
a67 1
PKGNAME$i?=	ispell$i-${VERSION}p0
@


1.44
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2006/02/08 04:54:50 david Exp $
a16 2

MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>
@


1.43
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2005/11/13 18:19:31 jakob Exp $
d3 1
a3 1
COMMENT=		"interactive spelling checker"
d15 1
a15 1
PKGNAME=	${DISTNAME}p1
d64 1
a64 1
MULTI_PACKAGES=	-dutch -french -german -swedish -russian -portuguese \
d67 1
a67 1
PKGNAME$i=	ispell$i-${VERSION}p0
a68 1
SUBPACKAGE?=
d76 4
a79 10
.if empty(SUBPACKAGE)
WANTLIB=		c termcap 
.endif

.if defined(PACKAGING) && ${SUBPACKAGE} == "-german"
PERMIT_PACKAGE_CDROM=	"no license"
PERMIT_PACKAGE_FTP=	"no license"
PERMIT_DISTFILES_CDROM=	"no license"
PERMIT_DISTFILES_FTP=	"no license"
.endif
a80 1
.if defined(PACKAGING) && !empty(SUBPACKAGE)
d82 1
a82 1
.endif
@


1.42
log
@fix deinstall of default dictionary; reported by Moritz Grimm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2005/02/21 21:04:13 alek Exp $
d113 1
a113 1
post-patch:
@


1.41
log
@Adjust WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2004/12/25 22:37:36 sturm Exp $
d15 1
a15 1
PKGNAME=	${DISTNAME}p0
a180 3

	ln -s american.aff ${PREFIX}/lib/ispell/default.aff
	ln -s american.hash ${PREFIX}/lib/ispell/default.hash
@


1.40
log
@dictionary packages are no longer interactive
bump PKGNAMEs

ok maintainer jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2004/12/07 00:23:21 alek Exp $
d77 1
d79 1
@


1.39
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2004/11/17 01:19:28 alek Exp $
d67 1
a67 1
PKGNAME$i=	ispell$i-${VERSION}
@


1.38
log
@- ispell-config groks now command line arguments
- Replace INSTALL script with MESSAGE and @@exec in PLIST
- Bump PKGNAME

ok sturm@@, pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2004/01/14 17:09:08 jakob Exp $
d77 1
@


1.37
log
@fix german license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2003/11/15 15:12:53 sturm Exp $
d15 1
@


1.36
log
@license checks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2003/10/26 23:49:40 naddy Exp $
d70 1
a71 2
# XXX no license on german dictionary
# ispell: BSD-like
d77 7
@


1.35
log
@Use FULLDISTDIR to refer to distribution file location.
From: Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2003/04/30 10:51:43 jakob Exp $
d70 3
@


1.34
log
@update slovak dictionary; fred at pentacom dot sk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2003/04/10 10:30:07 jsyn Exp $
d86 1
a86 1
	tar xzf ${DISTDIR}/${DIST_SUBDIR}/${FRENCH_DICT}.tar.gz)
d90 1
a90 1
	tar xzf ${DISTDIR}/${DIST_SUBDIR}/${GERMAN_DICT}.tar.gz)
d94 1
a94 1
	tar xzf ${DISTDIR}/${DIST_SUBDIR}/${RUSSIAN_DICT}.tar.gz)
@


1.33
log
@s/Rortuguese/Portuguese/; quoting
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2003/01/17 19:24:26 jakob Exp $
d41 1
a41 1
SLOVAK_DICT=		ispell-sk-0.1.10
@


1.32
log
@add dutch dictionary; Mathieu Braem
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2002/12/26 18:51:40 jakob Exp $
d3 9
a11 9
COMMENT=		interactive spelling checker
COMMENT-dutch=		ispell dictionary for Dutch
COMMENT-french=		ispell dictionary for French
COMMENT-german=		ispell dictionary for German
COMMENT-russian=	ispell dictionary for Russian
COMMENT-portuguese=	ispell dictionary for Rortuguese
COMMENT-slovak=		ispell dictionary for Slovak
COMMENT-spanish=	ispell dictionary for Spanish
COMMENT-swedish=	ispell dictionary for Swedish
@


1.31
log
@version numbers on spanish distfile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/12/07 16:51:14 jakob Exp $
d4 1
a6 1
COMMENT-swedish=	ispell dictionary for Swedish
d11 1
d23 5
a27 4
MASTER_SITES0=	ftp://ftp.robot.ireq.ca/pub/ispell/
MASTER_SITES1=	ftp://ftp.informatik.uni-kiel.de/pub/kiel/dicts/
MASTER_SITES2=	http://www.sslug.dk/locale/ispell/iswedish/
MASTER_SITES3=	ftp://mch5.chem.msu.su/pub/russian/ispell/ \
d29 3
a31 3
MASTER_SITES4=	http://natura.di.uminho.pt/~jj/pln/
MASTER_SITES5=	http://ispell.hq.sk/
MASTER_SITES6=	http://www.datsi.fi.upm.es/~coes/
d35 1
d45 8
a52 7
		${FRENCH_DICT}.tar.gz:0 \
		${GERMAN_DICT}.tar.gz:1 \
		${SWEDISH_DICT}.tar.gz:2 \
		${RUSSIAN_DICT}.tar.gz:3 \
		${PORTUGUESE_DICT}.tgz:4 \
		${SLOVAK_DICT}.tar.gz:5  \
		${SPANISH_DICT}.tar.gz:6
d55 1
d63 2
a64 1
MULTI_PACKAGES=	-french -german -swedish -russian -portuguese -slovak -spanish
d110 3
d172 2
@


1.30
log
@add spanish dictionary; from Gerardo Santana Gomez Garrido
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/11/28 22:38:41 jakob Exp $
d29 1
a29 1
MASTER_SITES6=	ftp://ftp.fi.upm.es/pub/unix/
d39 1
a39 1
SPANISH_DICT=		espa~nol
d90 1
a90 1
	@@(cd ${WRKDIR}/${SPANISH_DICT}-1.7/; \
d127 1
a127 1
	@@(cd ${WRKDIR}/${SPANISH_DICT}-1.7; \
d175 1
a175 1
	${INSTALL_DATA} ${WRKDIR}/${SPANISH_DICT}-1.7/spanish.{aff,hash} \
@


1.29
log
@add slovak dictionary; contributed by fransoa holop
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/10/28 22:43:46 naddy Exp $
d10 1
d29 1
d39 1
d47 2
a48 1
		${SLOVAK_DICT}.tar.gz:5
d53 2
a54 1
		${SLOVAK_DICT}.tar.gz
d58 1
a58 1
MULTI_PACKAGES=	-french -german -swedish -russian -portuguese -slovak
d89 4
d127 3
d174 2
@


1.28
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2002/05/31 18:09:47 jakob Exp $
d9 1
d27 1
d36 1
d43 2
a44 1
		${PORTUGUESE_DICT}.tgz:4
d48 2
a49 1
		${PORTUGUESE_DICT}.tgz
d53 1
a53 1
MULTI_PACKAGES=	-french -german -swedish -russian -portuguese
d114 4
d160 2
@


1.27
log
@add portuguese dictionary
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.26 2002/04/17 16:09:40 naddy Exp $
# Original from: Ejovi Nuwere <ejovi@@ejovi.net>
a12 1
NEED_VERSION=	1.504
d64 2
@


1.26
log
@fix subpackage dependencies; silence from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/01/24 11:20:17 jakob Exp $
d9 1
d27 1
d31 5
a35 4
FRENCH_DICT=	francais-IREQ-1.4
GERMAN_DICT=	hk2-deutsch
SWEDISH_DICT=	iswedish-1.2.1
RUSSIAN_DICT=	rus-ispell-0.99e7
d41 2
a42 1
		${RUSSIAN_DICT}.tar.gz:3
d44 3
a46 1
EXTRACT_ONLY=	${DISTNAME}.tar.gz ${SWEDISH_DICT}.tar.gz
d50 1
a50 1
MULTI_PACKAGES=	-french -german -swedish -russian
d105 4
d149 2
@


1.25
log
@update to version 3.2.06; dfa@@solo.ee
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/07/29 18:43:27 jakob Exp $
d48 1
d54 4
@


1.24
log
@honor CC; <heko@@iki.fi>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/07/11 12:34:28 jakob Exp $
d10 1
a10 1
VERSION=	3.1.20
d13 1
a13 1
NEED_VERSION=	1.361
d19 2
a20 1
MASTER_SITES=	ftp://ftp.cs.ucla.edu/pub/ispell-3.1/
d23 2
a24 3
MASTER_SITES2=	ftp://ftp.kiarchive.ru/pub/unix/text/ispell/
MASTER_SITES3=	http://www.sslug.dk/locale/ispell/iswedish/
MASTER_SITES4=	ftp://mch5.chem.msu.su/pub/russian/ispell/ \
d32 7
a38 1
RUSSIAN_DICT=	rus-ispell-0.99e1
a39 1
DISTFILES=	${DISTNAME}.tar.gz ${FRENCH_DICT}.tar.gz:0 ${GERMAN_DICT}.tar.gz:1 ${SWEDISH_DICT}.tar.gz:3 ${RUSSIAN_DICT}.tar.gz:4
d41 2
a42 1
PATCHFILES=	ispell-html-mode.patch:2
a53 1
WRKDIST=	${WRKDIR}/ispell-3.1
d69 3
a71 1
post-configure:
d76 1
a76 1
	@@sed "s%/usr/local%${PREFIX}%g" ${SCRIPTDIR}/ispell-config > \
d90 3
a92 4
	cat base.koi computer.koi geography.koi science.koi >russian.sml; \
	cat russian.aff.koi | sed -e "s/^\#y//;s/^\#koi/wordchars/" \
		> russian.aff; \
	${WRKDIST}/buildhash russian.sml russian.aff russian.hash)
a96 1
	${INSTALL_PROGRAM} ${WRKDIST}/sq ${PREFIX}/bin/sq
a101 1
	${INSTALL_PROGRAM} ${WRKDIST}/unsq ${PREFIX}/bin/unsq
a102 1
	${INSTALL_DATA} ${WRKDIST}/ispell.info ${PREFIX}/info/ispell.info
a104 1
	ln -s ispell.1 ${PREFIX}/man/man1/sq.1
a108 1
	ln -s ispell.1 ${PREFIX}/man/man1/unsq.1
@


1.23
log
@add russion dictionary and clean up patches; dfa@@solo.ee
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/07/09 17:34:11 jakob Exp $
d66 1
@


1.22
log
@clean up and add swedish dictionary.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/05/05 20:26:47 espie Exp $
d8 1
d24 2
d32 1
d34 1
a34 1
DISTFILES=	${DISTNAME}.tar.gz ${FRENCH_DICT}.tar.gz:0 ${GERMAN_DICT}.tar.gz:1 ${SWEDISH_DICT}.tar.gz:3
d38 1
a38 1
MULTI_PACKAGES=	-french -german -swedish
d60 4
d81 6
d130 2
@


1.21
log
@Fix subpackage names
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/03/16 16:50:48 espie Exp $
d4 4
a7 3
COMMENT=	interactive spelling checker
COMMENT-french=	ispell dictionary for French
COMMENT-german=	ispell dictionary for German
d9 2
a10 2
V=		3.1.20
DISTNAME=	ispell-$V
d13 5
d22 4
d28 1
a28 3
DISTFILES=	${DISTNAME}.tar.gz ${FRENCH_DICT}.tar.gz:0 ${GERMAN_DICT}.tar.gz:1
EXTRACT_ONLY=	${DISTNAME}.tar.gz ${GERMAN_DICT}.tar.gz
HOMEPAGE=	http://fmg-www.cs.ucla.edu/geoff/ispell.html
d30 2
d34 1
a34 3
MAINTAINER=	ports@@openbsd.org

MULTI_PACKAGES=	-french -german
d36 1
a36 1
PKGNAME$i=	ispell$i-$V
d48 7
a54 2
	@@mkdir ${WRKDIST}/languages/francais-IREQ
	@@(cd ${WRKDIST}/languages/francais-IREQ; tar zxf ${DISTDIR}/${FRENCH_DICT}.tar.gz)
d63 10
d107 1
a107 8
	${INSTALL_DATA} ${WRKDIST}/languages/deutsch/deutsch.aff \
		${PREFIX}/lib/ispell/deutsch.aff
	${INSTALL_DATA} ${WRKDIST}/languages/deutsch/deutsch.hash \
		${PREFIX}/lib/ispell/deutsch.hash
	${INSTALL_DATA} ${WRKDIST}//languages/francais-IREQ/francais.aff \
		${PREFIX}/lib/ispell/francais.aff
	${INSTALL_DATA} ${WRKDIST}/languages/francais-IREQ/francais.hash \
		${PREFIX}/lib/ispell/francais.hash
d110 8
a117 1
	
@


1.20
log
@Simplify
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/06/23 13:25:42 espie Exp $
d28 1
a28 1
PKGNAME-$i=	ispell-$i-$V
@


1.20.2.1
log
@MFC: fixes that were discovered while building packages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/05/05 20:26:47 espie Exp $
d28 1
a28 1
PKGNAME$i=	ispell$i-$V
@


1.19
log
@Found HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/06/23 03:06:34 jasoni Exp $
d4 6
a9 1
DISTNAME=	ispell-3.1.20
d11 1
a11 1
NEED_VERSION=	1.270
d27 3
a95 4

.if defined(SUBPACKAGE)
PKGNAME=ispell${SUBPACKAGE}-3.1.20
.endif
@


1.18
log
@Fake.
Split languages into separate packages.
Include a script for choosing the default language.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/04/09 17:38:27 espie Exp $
d15 1
@


1.17
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/03/24 22:12:02 espie Exp $
a3 3
FRENCH_DICT=	francais-IREQ-1.4
GERMAN_DICT=	hk2-deutsch

d6 1
a6 2
NEED_VERSION=	1.195
FAKE=No
d11 4
a14 1
SUPDISTFILES=	${FRENCH_DICT}.tar.gz:0 ${GERMAN_DICT}.tar.gz:1
d20 1
a20 5
LICENSE_TYPE=		BSD
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d22 4
a25 1
MAKE_FLAGS=	TMPDIR=${WRKDIR} 
d28 1
d30 3
a32 36
pre-fetch pre-build pre-install:
.if !defined(NO_WARNINGS)
.if !defined(ISPELL_FR) && !defined(ISPELL_DE)
	@@echo ''
	@@echo '******************************************************' 
	@@echo '* Note that you can build a french/english or a      *' 
	@@echo '* german/english version by setting the shell        *'
	@@echo '* variable ISPELL_FR or ISPELL_DE to yes, ie.        *'
	@@echo '* "make ISPELL_FR=yes" or "make ISPELL_DE=yes"       *'
	@@echo '******************************************************' 
	@@echo ''
.elif defined(ISPELL_FR) && ${ISPELL_FR:U} == YES
EXTRA_DICT=	${FRENCH_DICT}.tar.gz
DISTFILES=	${DISTNAME}.tar.gz ${EXTRA_DICT}:0
PLIST=		${PKGDIR}/PLIST.french
.elif defined(ISPELL_DE) && ${ISPELL_DE:U} == YES
EXTRA_DICT=	${GERMAN_DICT}.tar.gz
DISTFILES=	${DISTNAME}.tar.gz ${EXTRA_DICT}:1
PLIST=		${PKGDIR}/PLIST.german
.endif
.endif

pre-extract:
.if !defined(LANG) 
	@@echo ''
	@@echo '******************************************************' 
	@@echo '* Note that you can build a british version by       *' 
	@@echo '* typing "make british" following a "make clean"     *' 
	@@echo '******************************************************' 
	@@echo ''
.endif	

pre-configure:
.if defined(EXTRA_DICT)
	@@echo ${EXTRA_DICT} > ${WRKDIR}/extra_dict
.endif
d37 50
a86 11
british:
	@@echo "Okay, making a british version of ispell...."
	@@make ${.MAKEFLAGS} LANG=british

french:
	@@echo "Okay, making a french/english version of ispell...."
	@@make ${.MAKEFLAGS} ISPELL_FR=Yes

german:
	@@echo "Okay, making a german/english version of ispell...."
	@@make ${.MAKEFLAGS} ISPELL_DE=Yes
d88 3
a90 4
post-install:
	@@install-info ${PREFIX}/info/ispell.info ${PREFIX}/info/dir

.include <bsd.port.mk>
@


1.17.2.1
log
@bring textproc as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/06/23 13:25:42 espie Exp $
d4 3
d9 2
a10 1
NEED_VERSION=	1.270
d15 1
a15 5
FRENCH_DICT=	francais-IREQ-1.4
GERMAN_DICT=	hk2-deutsch
DISTFILES=	${DISTNAME}.tar.gz ${FRENCH_DICT}.tar.gz:0 ${GERMAN_DICT}.tar.gz:1
EXTRACT_ONLY=	${DISTNAME}.tar.gz ${GERMAN_DICT}.tar.gz
HOMEPAGE=	http://fmg-www.cs.ucla.edu/geoff/ispell.html
d21 5
a25 1
MULTI_PACKAGES=	-french -german
d27 1
a27 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a29 1
MAKE_FLAGS=	TMPDIR=${WRKDIR} 
d31 36
a66 3
post-extract:
	@@mkdir ${WRKDIST}/languages/francais-IREQ
	@@(cd ${WRKDIST}/languages/francais-IREQ; tar zxf ${DISTDIR}/${FRENCH_DICT}.tar.gz)
d71 15
a85 49
post-build:
	@@sed "s%/usr/local%${PREFIX}%g" ${SCRIPTDIR}/ispell-config > \
		${WRKDIST}/ispell-config

do-install:
	${INSTALL_PROGRAM} ${WRKDIST}/ispell ${PREFIX}/bin/ispell
	${INSTALL_PROGRAM} ${WRKDIST}/buildhash ${PREFIX}/bin/buildhash
	${INSTALL_PROGRAM} ${WRKDIST}/sq ${PREFIX}/bin/sq
	${INSTALL_PROGRAM} ${WRKDIST}/tryaffix ${PREFIX}/bin/tryaffix
	${INSTALL_PROGRAM} ${WRKDIST}/ijoin ${PREFIX}/bin/ijoin
	${INSTALL_PROGRAM} ${WRKDIST}/findaffix ${PREFIX}/bin/findaffix
	${INSTALL_PROGRAM} ${WRKDIST}/munchlist ${PREFIX}/bin/munchlist
	${INSTALL_PROGRAM} ${WRKDIST}/icombine ${PREFIX}/bin/icombine
	${INSTALL_PROGRAM} ${WRKDIST}/unsq ${PREFIX}/bin/unsq
	${INSTALL_SCRIPT} ${WRKDIST}/ispell-config ${PREFIX}/bin/ispell-config
	${INSTALL_DATA} ${WRKDIST}/ispell.info ${PREFIX}/info/ispell.info

	${INSTALL_MAN} ${WRKDIST}/ispell.1 ${PREFIX}/man/man1/ispell.1
	ln -s ispell.1 ${PREFIX}/man/man1/sq.1
	ln -s ispell.1 ${PREFIX}/man/man1/buildhash.1
	ln -s ispell.1 ${PREFIX}/man/man1/munchlist.1
	ln -s ispell.1 ${PREFIX}/man/man1/findaffix.1
	ln -s ispell.1 ${PREFIX}/man/man1/tryaffix.1
	ln -s ispell.1 ${PREFIX}/man/man1/unsq.1
	${INSTALL_MAN} ${WRKDIST}/ispell.4 ${PREFIX}/man/man4/ispell.4
	ln -s ispell.4 ${PREFIX}/man/man4/english.4

	${INSTALL_DATA_DIR} ${PREFIX}/lib/ispell

	${INSTALL_DATA} ${WRKDIST}/languages/english/english.aff \
		${PREFIX}/lib/ispell/american.aff
	ln -s american.aff ${PREFIX}/lib/ispell/british.aff
	${INSTALL_DATA} ${WRKDIST}/languages/american/americanmed+.hash \
		${PREFIX}/lib/ispell/americanmed+.hash
	ln -s americanmed+.hash ${PREFIX}/lib/ispell/american.hash
	${INSTALL_DATA} ${WRKDIST}/languages/british/britishxlg.hash \
		${PREFIX}/lib/ispell/britishxlg.hash
	ln -s britishxlg.hash ${PREFIX}/lib/ispell/british.hash
	${INSTALL_DATA} ${WRKDIST}/languages/deutsch/deutsch.aff \
		${PREFIX}/lib/ispell/deutsch.aff
	${INSTALL_DATA} ${WRKDIST}/languages/deutsch/deutsch.hash \
		${PREFIX}/lib/ispell/deutsch.hash
	${INSTALL_DATA} ${WRKDIST}//languages/francais-IREQ/francais.aff \
		${PREFIX}/lib/ispell/francais.aff
	${INSTALL_DATA} ${WRKDIST}/languages/francais-IREQ/francais.hash \
		${PREFIX}/lib/ispell/francais.hash
	ln -s american.aff ${PREFIX}/lib/ispell/default.aff
	ln -s american.hash ${PREFIX}/lib/ispell/default.hash
	
a86 4

.if defined(SUBPACKAGE)
PKGNAME=ispell${SUBPACKAGE}-3.1.20
.endif
@


1.16
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/02/15 05:05:21 turan Exp $
d10 1
@


1.15
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/02/12 06:30:05 turan Exp $
a2 2

NEED_VERSION=	1.163
@


1.14
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/02/12 00:44:01 espie Exp $
d23 4
a26 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.13
log
@Change MAKE_FLAGS to remove the -f.

Actually reading the Makefiles proved that about one third of them was
confused about this already...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/02/10 20:40:19 espie Exp $
d21 6
@


1.12
log
@WRKDIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/02 17:02:38 espie Exp $
d11 1
a11 1
NEED_VERSION=	1.175
d22 1
a22 1
MAKE_FLAGS=	TMPDIR=${WRKDIR} -f 
@


1.11
log
@Kill most instances of PATCH_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/01/04 19:12:46 brad Exp $
d24 1
a24 1
WRKSRC=	${WRKDIR}/ispell-3.1
@


1.10
log
@bump NEED_VERSION for multiple MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/01/04 19:09:57 brad Exp $
d11 1
d15 1
d18 1
a18 2
PATCH_SITES=	ftp://ftp.kiarchive.ru/pub/unix/text/ispell/
PATCHFILES=	ispell-html-mode.patch
@


1.9
log
@- make use of multiple MASTER_SITES
- remove deprecated variables
- remove workaround for texinfo install-info bug
- correct filename of ispell info page, ispell -> ispell.info
- add SHA1 and RMD160 checksums for francais-IREQ-1.4.tar.gz
- stop installing ispell.el to share/emacs/site-lisp, since the one
coming with emacs is newer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/06/28 17:45:51 brad Exp $
d4 1
a4 1
NEED_VERSION=	1.89
@


1.8
log
@typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/06/21 23:17:01 brad Exp $
d11 4
a14 4
MASTER_SITES=	ftp://ftp.cs.ucla.edu/pub/ispell-3.1/ \
		ftp://ftp.robot.ireq.ca/pub/ispell/ \
		ftp://ftp.informatik.uni-kiel.de/pub/kiel/dicts/
SUPDISTFILES=	${DISTNAME}.tar.gz ${FRENCH_DICT}.tar.gz ${GERMAN_DICT}.tar.gz
d23 1
a23 1
WRKSRC=		${WRKDIR}/ispell-3.1
d28 9
a36 6
	@@${ECHO} '******************************************************' 
	@@${ECHO} '* Note that you can build a french/english or a      *' 
	@@${ECHO} '* german/english version by setting the shell        *'
	@@${ECHO} '* variable ISPELL_FR or ISPELL_DE                    *'
	@@${ECHO} '******************************************************' 
.elif defined(ISPELL_FR)
d38 1
a38 1
DISTFILES=	${DISTNAME}.tar.gz ${EXTRA_DICT}
d40 1
a40 1
.elif defined(ISPELL_DE)
d42 1
a42 1
DISTFILES=	${DISTNAME}.tar.gz ${EXTRA_DICT}
d49 6
a54 4
	@@${ECHO} '******************************************************' 
	@@${ECHO} '* Note that you can build a british version by       *' 
	@@${ECHO} '* typing "make british" following a "make clean"     *' 
	@@${ECHO} '******************************************************' 
d59 1
a59 3
	@@${ECHO} ${EXTRA_DICT} > ${WRKDIR}/extra_dict
.else
	@@${ECHO} -n
d63 1
a63 1
	@@${ECHO} "#define CFLAGS \"${CFLAGS}\"" >> ${WRKSRC}/local.h
d66 2
a67 2
	@@${ECHO} "Okay, making a british version of ispell...."
	@@${MAKE} ${.MAKEFLAGS} LANG=british all 
d70 2
a71 2
	@@${ECHO} "Okay, making a french/english version of ispell...."
	@@${MAKE} ${.MAKEFLAGS} ISPELL_FR=yes
d74 2
a75 5
	@@${ECHO} "Okay, making a german/english version of ispell...."
	@@${MAKE} ${.MAKEFLAGS} ISPELL_DE=yes

pre-install:
	@@${MKDIR} ${PREFIX}/share/emacs/site-lisp
d78 1
a78 4
	@@if [ ! -f ${PREFIX}/info/dir ]; then \
	  ${SED} -ne '1,/Menu:/p' /usr/share/info/dir > ${PREFIX}/info/dir; \
	 fi
	@@install-info ${PREFIX}/info/ispell ${PREFIX}/info/dir
@


1.7
log
@- fix installation for French language by adding a separate PLIST
- add German language support
--
Markus Friedl <markus.friedl@@informatik.uni-erlangen.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/06/21 04:07:05 brad Exp $
d7 1
a7 1
GERMAN_DICT=	hk2-deutch
d31 1
a31 1
	@@${ECHO} '* variable ISPELL_FR or ISPELL_DE"                   *'
@


1.6
log
@- remove unneccesary PKGNAME, DISTFILES and MAN tags
- use ${WRKDIR} as yacc TMPDIR
- echo -> ${ECHO}
- add semi-official patch to handle HTML files
- fix ispell.texinfo so makeinfo does not choke on it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/04/06 19:34:19 rohee Exp $
d4 5
d11 4
a14 1
MASTER_SITES=	ftp://ftp.cs.ucla.edu/pub/ispell-3.1/
d21 2
a24 2
MAKE_FLAGS=	TMPDIR=${WRKDIR} -f 

d27 1
a27 1
.if !defined(ISPELL_FR)
d29 3
a31 2
	@@${ECHO} '* Note that you can build a french/english version   *' 
	@@${ECHO} '* by typing "make french"                            *'
d33 9
a41 5
.else
EXTRA_DICT=	francais-IREQ-1.4.tar.gz
MASTER_SITES+=	ftp://ftp.robot.ireq.ca/pub/ispell/
DISTFILES+=	${EXTRA_DICT}
.endif	
d69 4
@


1.5
log
@joey@@OpenBSD.ORG -> ports@@OpenBSD.ORG, as requested by the author
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/12/16 20:16:44 marc Exp $
d4 1
a4 2
DISTNAME=	ispell-3.1
PKGNAME=	ispell-3.1.20
a6 1
DISTFILES=	ispell-3.1.20.tar.gz
d8 2
a9 1
MAINTAINER=	ports@@OpenBSD.ORG
d11 1
a11 4
MAKE_FLAGS=	TMPDIR=${.CURDIR} -f 
MAN1=		buildhash.1 findaffix.1 ispell.1 munchlist.1 \
		sq.1 tryaffix.1 unsq.1
MAN4=		ispell.4 english.4
d13 5
a18 1
pre-fetch pre-build pre-install:
d20 4
a23 4
	@@echo '******************************************************' 
	@@echo '* Note that you can build a french/english version   *' 
	@@echo '* by typing "make french"                            *'
	@@echo '******************************************************' 
d33 4
a36 4
	@@echo '******************************************************' 
	@@echo '* Note that you can build a british version by       *' 
	@@echo '* typing "make british" following a "make clean"     *' 
	@@echo '******************************************************' 
a38 1

d41 1
a41 1
	@@echo ${EXTRA_DICT} > ${WRKDIR}/extra_dict
d43 1
a43 1
	@@echo -n
d47 1
a47 1
	@@echo "#define CFLAGS \"${CFLAGS}\"" >> ${WRKSRC}/local.h
d50 1
a50 1
	@@echo "Okay, making a british version of ispell...."
d54 1
a54 1
	@@echo "Okay, making a french/english version of ispell...."
@


1.4
log
@guard build instructions with NO_WARNINGS flag
@
text
@d1 2
a2 7
# OpenBSD makefile for:    ispell
# Version required:     3.1.20
# Date created:         17 Nov 1997
# Whom:                 ejovi
#
# $OpenBSD: Makefile,v 1.3 1998/07/13 02:24:49 marc Exp $
#
d10 1
a10 1
MAINTAINER=	joey@@OpenBSD.ORG
@


1.3
log
@update info directory; deinstall info file when pkg deleted
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1997/11/19 01:07:57 joey Exp $
d22 1
d34 1
@


1.2
log
@the first line of the Makefile should be `OpenBSD makefile for:` not `New ports...`
removed FreeBSD's $id. no need for it.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/11/18 02:46:09 joey Exp $
d63 6
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# New ports collection makefile for:    ispell
d6 1
a6 2
# $OpenBSD$
# Id: Makefile,v 1.21 1997/08/13 23:29:52 jmz Exp $
@


1.1.1.1
log
@
@
text
@@
