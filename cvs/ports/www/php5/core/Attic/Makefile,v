head	1.68;
access;
symbols
	OPENBSD_4_9:1.64.0.2
	OPENBSD_4_9_BASE:1.64
	OPENBSD_4_8:1.58.0.2
	OPENBSD_4_8_BASE:1.58
	OPENBSD_4_7:1.55.0.2
	OPENBSD_4_7_BASE:1.55
	OPENBSD_4_6:1.45.0.2
	OPENBSD_4_6_BASE:1.45
	OPENBSD_4_5:1.40.0.2
	OPENBSD_4_5_BASE:1.40
	OPENBSD_4_4:1.37.0.2
	OPENBSD_4_4_BASE:1.37
	OPENBSD_4_3:1.35.0.2
	OPENBSD_4_3_BASE:1.35
	OPENBSD_4_2:1.25.0.2
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.19.0.2
	OPENBSD_4_1_BASE:1.19
	OPENBSD_4_0:1.17.0.2
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	robert_20041002:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.68
date	2011.07.09.00.28.53;	author robert;	state dead;
branches;
next	1.67;

1.67
date	2011.03.26.10.23.13;	author sthen;	state Exp;
branches;
next	1.66;

1.66
date	2011.03.21.19.50.18;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2011.03.21.18.29.07;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2011.01.03.15.03.03;	author robert;	state Exp;
branches;
next	1.63;

1.63
date	2010.11.22.08.36.52;	author espie;	state Exp;
branches;
next	1.62;

1.62
date	2010.11.11.19.56.19;	author espie;	state Exp;
branches;
next	1.61;

1.61
date	2010.10.19.08.02.57;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2010.09.26.17.45.14;	author sebastia;	state Exp;
branches;
next	1.59;

1.59
date	2010.08.24.09.14.43;	author robert;	state Exp;
branches;
next	1.58;

1.58
date	2010.08.08.10.46.34;	author sthen;	state Exp;
branches;
next	1.57;

1.57
date	2010.03.21.09.05.55;	author robert;	state Exp;
branches;
next	1.56;

1.56
date	2010.03.20.17.00.21;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.02.26.14.45.03;	author sthen;	state Exp;
branches
	1.55.2.1;
next	1.54;

1.54
date	2010.02.25.09.05.04;	author robert;	state Exp;
branches;
next	1.53;

1.53
date	2009.12.22.10.39.28;	author robert;	state Exp;
branches;
next	1.52;

1.52
date	2009.10.01.12.22.32;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2009.09.21.20.04.24;	author robert;	state Exp;
branches;
next	1.50;

1.50
date	2009.09.19.13.08.31;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2009.08.21.09.44.12;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2009.08.17.20.13.27;	author jolan;	state Exp;
branches;
next	1.47;

1.47
date	2009.07.20.18.48.29;	author jolan;	state Exp;
branches;
next	1.46;

1.46
date	2009.07.20.16.30.14;	author robert;	state Exp;
branches;
next	1.45;

1.45
date	2009.06.22.11.27.00;	author robert;	state Exp;
branches
	1.45.2.1;
next	1.44;

1.44
date	2009.06.03.00.50.38;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2009.04.29.11.36.58;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2009.03.10.22.07.22;	author robert;	state Exp;
branches;
next	1.41;

1.41
date	2009.03.06.09.18.31;	author robert;	state Exp;
branches;
next	1.40;

1.40
date	2008.12.20.21.35.38;	author sthen;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2008.12.09.21.52.31;	author robert;	state Exp;
branches;
next	1.38;

1.38
date	2008.08.21.15.51.51;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2008.05.20.14.01.45;	author robert;	state Exp;
branches;
next	1.36;

1.36
date	2008.03.20.23.06.53;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2008.02.11.13.47.12;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2008.01.04.17.48.38;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2007.12.11.12.45.08;	author robert;	state Exp;
branches;
next	1.32;

1.32
date	2007.11.15.20.24.02;	author alek;	state Exp;
branches;
next	1.31;

1.31
date	2007.11.14.10.53.50;	author robert;	state Exp;
branches;
next	1.30;

1.30
date	2007.11.05.10.11.09;	author robert;	state Exp;
branches;
next	1.29;

1.29
date	2007.09.17.08.37.22;	author robert;	state Exp;
branches;
next	1.28;

1.28
date	2007.09.15.20.38.25;	author merdely;	state Exp;
branches;
next	1.27;

1.27
date	2007.09.05.09.11.34;	author robert;	state Exp;
branches;
next	1.26;

1.26
date	2007.09.03.19.22.32;	author sturm;	state Exp;
branches;
next	1.25;

1.25
date	2007.07.02.08.53.17;	author robert;	state Exp;
branches;
next	1.24;

1.24
date	2007.05.11.15.05.15;	author robert;	state Exp;
branches;
next	1.23;

1.23
date	2007.04.30.21.22.00;	author robert;	state Exp;
branches;
next	1.22;

1.22
date	2007.04.03.12.17.34;	author robert;	state Exp;
branches;
next	1.21;

1.21
date	2007.04.01.21.37.27;	author robert;	state Exp;
branches;
next	1.20;

1.20
date	2007.03.22.22.43.20;	author robert;	state Exp;
branches;
next	1.19;

1.19
date	2006.11.25.11.09.04;	author espie;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2006.10.21.11.44.10;	author robert;	state Exp;
branches;
next	1.17;

1.17
date	2006.08.04.00.10.42;	author espie;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2006.07.18.21.44.40;	author alek;	state Exp;
branches;
next	1.15;

1.15
date	2006.05.21.20.46.06;	author aanriot;	state Exp;
branches;
next	1.14;

1.14
date	2006.05.09.14.15.40;	author robert;	state Exp;
branches;
next	1.13;

1.13
date	2006.02.08.04.54.50;	author david;	state Exp;
branches;
next	1.12;

1.12
date	2005.12.29.23.03.29;	author sturm;	state Exp;
branches;
next	1.11;

1.11
date	2005.12.21.15.42.06;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2005.09.14.15.44.19;	author robert;	state Exp;
branches;
next	1.9;

1.9
date	2005.08.31.22.13.43;	author robert;	state Exp;
branches;
next	1.8;

1.8
date	2005.04.04.21.13.21;	author robert;	state Exp;
branches;
next	1.7;

1.7
date	2005.03.16.20.09.41;	author robert;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2004.12.20.20.59.44;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2004.12.11.13.29.22;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.24.17.37.49;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2004.11.24.17.27.22;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2004.11.24.13.15.09;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2004.10.02.12.36.49;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.10.02.12.36.49;	author robert;	state Exp;
branches;
next	;

1.7.2.1
date	2005.05.23.20.20.08;	author robert;	state Exp;
branches;
next	1.7.2.2;

1.7.2.2
date	2005.09.12.19.29.43;	author sturm;	state Exp;
branches;
next	;

1.17.2.1
date	2007.06.17.07.55.52;	author sturm;	state Exp;
branches;
next	;

1.19.2.1
date	2007.06.17.07.54.57;	author sturm;	state Exp;
branches;
next	;

1.40.2.1
date	2009.07.19.02.11.36;	author william;	state Exp;
branches;
next	1.40.2.2;

1.40.2.2
date	2009.08.13.01.04.31;	author william;	state Exp;
branches;
next	1.40.2.3;

1.40.2.3
date	2009.08.22.16.58.14;	author william;	state Exp;
branches;
next	1.40.2.4;

1.40.2.4
date	2009.09.29.00.07.15;	author william;	state Exp;
branches;
next	;

1.45.2.1
date	2009.10.25.03.07.30;	author william;	state Exp;
branches;
next	1.45.2.2;

1.45.2.2
date	2009.12.23.01.07.26;	author william;	state Exp;
branches;
next	;

1.55.2.1
date	2010.05.27.03.55.15;	author william;	state Exp;
branches;
next	;


desc
@@


1.68
log
@bye bye
@
text
@# $OpenBSD: Makefile,v 1.67 2011/03/26 10:23:13 sthen Exp $

# doesn't set USE_LIBTOOL but use the bundled one because it needs some
# specific options we don't have.

COMMENT-main=	server-side HTML-embedded scripting language
COMMENT-fastcgi=stand-alone FastCGI version of PHP

PKGNAME=	php5-core-${V}
PKGNAME-main=	php5-core-${V}
PKGNAME-fastcgi=php5-fastcgi-${V}

REVISION-main=		2
REVISION-fastcgi=	0

DISTFILES=	php-${V}.tar.gz

MULTI_PACKAGES=	-main -fastcgi

CONFIGURE_ARGS+=--with-apxs=/usr/sbin/apxs \
		--without-mysql \
		--enable-xml \
		--enable-wddx \
		--enable-cli \
		--with-iconv=${LOCALBASE} \
		--with-gettext=${LOCALBASE} \
		--enable-bcmath \
		--enable-session \
		--enable-calendar \
		--enable-ctype \
		--enable-ftp \
		--with-pcre-regex \
		--enable-sockets \
		--enable-sysvmsg \
		--enable-sysvsem \
		--enable-sysvshm \
		--enable-exif \
		--enable-zend-multibyte \
		--without-sqlite \
		--without-pdo-sqlite \
		--with-pear=${LOCALBASE}/share/php5 \
		--enable-fastcgi \
		--enable-force-cgi-redirect \
		--with-config-file-scan-dir=${PHP_CONFIG_PATH}/php5
USE_GROFF =	Yes
		
MODULES=	devel/gettext

# some variables to substitute
SUBST_VARS=	PHP_CONFIG_FILE PHP_CONFIG_PATH
PHP_VERSION=	${V}

.for i in TRUEPREFIX PHP_CONFIG_FILE MODULES_DIR PHP_VERSION APACHE_MODULE_DIR
PHPXS_SUBST+= -e 's,${i},${${i}},'
.endfor

WANTLIB=	c crypto m ssl z pthread xml2>=8
LIB_DEPENDS=	textproc/libxml

RUN_DEPENDS-main= ${MODGETTEXT_RUN_DEPENDS} \
		mail/femail,-chroot

pre-fake:
	${INSTALL_DATA_DIR} ${PREFIX}/${APACHE_MODULE_SUBDIR}
INSTALL_TARGET= install-headers install-build install-programs
DESTDIRNAME=	INSTALL_ROOT

pre-configure:
	@@perl -pi -e "s,OPENBSD_PEAR_ROOT,'${CHROOT_DIR}/pear',g" \
		${WRKSRC}/scripts/phpize.in \
		${WRKSRC}/scripts/php-config.in

post-install:
	${INSTALL_DATA} ${WRKBUILD}/.libs/libphp5.so \
		${PREFIX}/${APACHE_MODULE_SUBDIR}
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/php5
	${INSTALL_PROGRAM} ${WRKBUILD}/sapi/cli/php ${PREFIX}/bin
	${INSTALL_PROGRAM} ${WRKBUILD}/sapi/cgi/php-cgi ${PREFIX}/bin/php-fastcgi
	${INSTALL_DATA} ${FILESDIR}/php5.conf \
		${PREFIX}/share/examples/php5/php5.conf
	@@perl -pi -e "s,!!PREFIX!!,${TRUEPREFIX},g" \
		${PREFIX}/share/examples/php5/php5.conf
	
.for i in dist recommended
	@@sed -e 's,MODULES_DIR,${MODULES_DIR},' \
	     -e 's,OPENBSD_INCLUDE_PATH,/pear/lib:${CHROOT_DIR}/pear/lib,' \
		<${WRKSRC}/php.ini-${i} \
		>${PREFIX}/share/examples/php5/php.ini-${i}
.endfor
	${INSTALL_MAN} ${WRKSRC}/sapi/cli/php.1 ${PREFIX}/man/man1

.include <bsd.port.mk>
@


1.67
log
@don't pick up an installed gsed; problem noticed by landry@@, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2011/03/21 19:50:18 jasper Exp $
@


1.66
log
@- fix the autoconf bits for openssl's pkg-config files as well as a fix
for one of the autoconf tests which assumes libssl is linked with libcrypto.

from brad
ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2011/03/21 18:29:07 ajacoutot Exp $
d13 1
a13 1
REVISION-main=		1
@


1.65
log
@Add femail,-chroot as a RUN_DEPENDS for php*-core. It is super small and
is nice to have around from the start.

Idea from sthen@@

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/01/03 15:03:03 robert Exp $
d13 2
a14 1
REVISION-main=	0
@


1.64
log
@Update to 5.2.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/11/22 08:36:52 espie Exp $
d13 2
d58 3
@


1.63
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/11/11 19:56:19 espie Exp $
a10 1
REVISION-main=	0
@


1.62
log
@every WANTLIB that's linked to the build should be okay
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/10/19 08:02:57 espie Exp $
d55 2
a56 2
WANTLIB=	c crypto m ssl z pthread xml2.>=8
LIB_DEPENDS=	::textproc/libxml
@


1.61
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/09/26 17:45:14 sebastia Exp $
d55 2
a56 2
WANTLIB=	c crypto m ssl z pthread
LIB_DEPENDS=	xml2.>=8::textproc/libxml
@


1.60
log
@bump apache modules, since mod_headers in base httpd was updated.

OK, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/08/24 09:14:43 robert Exp $
d43 1
@


1.59
log
@Update to 5.2.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/08/08 10:46:34 sthen Exp $
d11 1
@


1.58
log
@SECURITY: limited fixes cherry picked from 5.2.14.  If upstream had
mentioned the release on their announcements list maybe we would have
had time to get the full update in but, as it is, we just found out
about it and there are too many changes to test properly at short
notice, so we are just fixing these for now.

CVE-2010-2225: fix SplObjectStorage unserialization, upstream r300843

CVE-2010-0397: null pointer dereference when processing invalid XML-RPC
requests, upstream r296152

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/03/21 09:05:55 robert Exp $
a11 1
REVISION=	0
d53 1
a53 1
WANTLIB=	c crypto m ssl stdc++ z pthread
@


1.57
log
@update to version 5.2.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/03/20 17:00:21 ajacoutot Exp $
d12 1
@


1.56
log
@Add a comment about why we don't use libtool from ports.

"yeah... sure... ok" robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/02/26 14:45:03 sthen Exp $
d10 1
a10 1
PKGNAME-main=	php5-core-${V}p1
@


1.55
log
@bump PKGNAMEs, the httpd abi changed, resulting in segfaults after
updating httpd until newly-built packages are installed.

ok espie@@
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.54 2010/02/25 09:05:04 robert Exp $
@


1.55.2.1
log
@SECURITY UPDATE to 5.2.13

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/02/26 14:45:03 sthen Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
@


1.54
log
@Install the tmp dir in the chroot with stricter permissions and change
owner to the www users.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/12/22 10:39:28 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p0
@


1.53
log
@Update to php-5.2.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/10/01 12:22:32 ajacoutot Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
@


1.52
log
@Create /var/www/tmp/ directory on install.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/09/21 20:04:24 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p0
@


1.51
log
@Update to php 5.2.11;

 Security Enhancements and Fixes in PHP 5.2.11:

    * Fixed certificate validation inside php_openssl_apply_verification_policy. (Ryan Sleevi, Ilia)
    * Fixed sanity check for the color index in imagecolortransparent(). (Pierre)
    * Added missing sanity checks around exif processing. (Ilia)
    * Fixed bug #44683 (popen crashes when an invalid mode is passed). (Pierre)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/09/19 13:08:31 ajacoutot Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
@


1.50
log
@Zap trailing blank space.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/08/21 09:44:12 sthen Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p3
PKGNAME-main=	php5-core-${V}p4
PKGNAME-fastcgi=php5-fastcgi-${V}p3
@


1.49
log
@update Suhosin extension to 0.9.29; fixes segfaults with session encryption.
revert workaround (change default back to encrypted sessions).

ok robert@@, similar diff jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/08/17 20:13:27 jolan Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p3
@


1.48
log
@enable zend multibyte support, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/07/20 18:48:29 jolan Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p2
PKGNAME-main=	php5-core-${V}p2
PKGNAME-fastcgi=php5-fastcgi-${V}p2
@


1.47
log
@enable sysvmsg support, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/07/20 16:30:14 robert Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p1
PKGNAME-main=	php5-core-${V}p1
PKGNAME-fastcgi=php5-fastcgi-${V}p1
d32 1
@


1.46
log
@Make suhosin.session.encrypt=off by default because there are some problems
with php 5.2.10 and the suhosin patch. noted by william@@ and people on ports@@
It's going to be re-enabled when it gets fixed upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/06/22 11:27:00 robert Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p0
PKGNAME-main=	php5-core-${V}p0
PKGNAME-fastcgi=php5-fastcgi-${V}p0
d28 1
@


1.45
log
@update to php-5.2.10:
This is a SECURITY FIX that fixes:
  Fixed bug #48378 (exif_read_data() segfaults on certain corrupted .jpeg files.

Update the suhosin patch to the current one while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/06/03 00:50:38 sthen Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}
PKGNAME-main=	php5-core-${V}
PKGNAME-fastcgi=php5-fastcgi-${V}
@


1.45.2.1
log
@MFC:

Update to php 5.2.11;

 Security Enhancements and Fixes in PHP 5.2.11:

    * Fixed certificate validation inside php_openssl_apply_verification_policy. (Ryan Sleevi, Ilia)
    * Fixed sanity check for the color index in imagecolortransparent(). (Pierre)
    * Added missing sanity checks around exif processing. (Ilia)
    * Fixed bug #44683 (popen crashes when an invalid mode is passed). (Pierre)

and

update Suhosin extension to 0.9.29; fixes segfaults with session encryption.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/10/01 12:22:32 ajacoutot Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p0
@


1.45.2.2
log
@MFC:

SECURITY FIX

php5-5.2.12

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45.2.1 2009/10/25 03:07:30 william Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
@


1.44
log
@bump following api change in base httpd
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/04/29 11:36:58 sthen Exp $
d7 2
a8 2
PKGNAME-main=	php5-core-${V}p2
PKGNAME-fastcgi=php5-fastcgi-${V}p0
@


1.43
log
@don't zap /var/www/conf/php5.sample ini file fragments when you
upgrade php5-core. problem noticed by Alexander Hall, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/03/10 22:07:22 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p1
@


1.42
log
@Add an environment variable called PHP_INI_PATH so people can set a path
to their php.ini file in a SAPI independent way. This way can easily run
more instances of httpd with different php configs.
Idea after a discussion with "L. V. Lammert" <lvl@@omnitec.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/03/06 09:18:31 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p0
@


1.41
log
@update to php 5.2.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/12/20 21:35:38 sthen Exp $
d7 2
a8 2
PKGNAME-main=	php5-core-${V}
PKGNAME-fastcgi=php5-fastcgi-${V}
@


1.40
log
@PHP 5.2.8 broke strtotime (making it leak memory badly, very obvious to
cacti users): add a patch from the upstream repository to fix this.
Thanks Steven Surdock for reporting the problem and testing this diff
(and similar patches sent by William Yodlowsky). While there, remove
a zero-byte patch that crept in before.  ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/12/09 21:52:31 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p0
@


1.40.2.1
log
@MFC:

SECURITY FIX

php5-5.2.10

Resolves:

- bug #48378 (exif_read_data() segfaults on certain corrupted .jpeg files)
- in imagerotate(), background colour isn't validated correctly with a
non-truecolour image (CVE-2008-5498)
- crash on extract in zip when files or directories entry names contain a
relative path
- explode() behavior with empty string to respect negative limit
- segfault when malformed string is passed to json_decode()
- bug in xml_error_string() which resulted in messages being off by one

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/06/22 11:27:00 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
@


1.40.2.2
log
@MFC:

Make suhosin.session.encrypt=off by default because there are some problems
with php 5.2.10 and the suhosin patch. noted by william@@ and people on ports@@
It's going to be re-enabled when it gets fixed upstream.

and

patch-ext_suhosin_suhosin_c has to go the the shared patch
dir.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40.2.1 2009/07/19 02:11:36 william Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p0
PKGNAME-main=	php5-core-${V}p0
PKGNAME-fastcgi=php5-fastcgi-${V}p0
@


1.40.2.3
log
@MFC:

update Suhosin extension to 0.9.29; fixes segfaults with session encryption.
revert workaround (change default back to encrypted sessions).

ok sthen@@ robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40.2.2 2009/08/13 01:04:31 william Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p3
PKGNAME-main=	php5-core-${V}p3
PKGNAME-fastcgi=php5-fastcgi-${V}p3
@


1.40.2.4
log
@MFC:

Update to php 5.2.11;

 Security Enhancements and Fixes in PHP 5.2.11:

    * Fixed certificate validation inside php_openssl_apply_verification_policy. (Ryan Sleevi, Ilia)
    * Fixed sanity check for the color index in imagecolortransparent(). (Pierre)
    * Added missing sanity checks around exif processing. (Ilia)
    * Fixed bug #44683 (popen crashes when an invalid mode is passed). (Pierre)

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/09/21 20:04:24 robert Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}
PKGNAME-main=	php5-core-${V}
PKGNAME-fastcgi=php5-fastcgi-${V}
@


1.39
log
@update to php-5.2.8 and fix the no_suhosin flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/08/21 15:51:51 ajacoutot Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
@


1.38
log
@- s/LOCALBASE/PREFIX/

"of course" robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/05/20 14:01:45 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p0
a54 3

post-patch:
	mv ${WRKDIR}/suhosin-${SUHOSIN_V} ${WRKSRC}/ext/suhosin
@


1.37
log
@update to php-5.2.6; from Brad Walker <me@@bradmwalker.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/03/20 23:06:53 sthen Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
d72 1
a72 1
	@@perl -pi -e "s,!!LOCALBASE!!,${LOCALBASE},g" \
@


1.36
log
@change @@unexec to @@extraunexec for the /var/www/conf/php5 directory
where users are supposed to create symlinks to config file fragments
in ../php5.sample, otherwise the symlinks are destroyed when someone
updates php5/core.

ok brad, seems ok to landry.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/02/11 13:47:12 espie Exp $
d7 2
a8 2
PKGNAME-main=	php5-core-${V}p3
PKGNAME-fastcgi=php5-fastcgi-${V}p0
@


1.35
log
@activate index.php as directory index, since most php apps want that.
okay robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/01/04 17:48:38 espie Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p2
@


1.34
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/12/11 12:45:08 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p1
@


1.33
log
@Integrate a patch from php's CVS repo to fix a crashing issue due
to an uninitialized variable.

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/11/15 20:24:02 alek Exp $
d54 1
a54 1
FAKE_FLAGS=	INSTALL_ROOT=${DESTDIR}
@


1.32
log
@- default config file contains ${LOCALBASE} variable that doesn't resolve
  to any value
- fix a typo in MESSAGE-main file -- wrong name of default config
  file.
- bump pkgname

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/11/14 10:53:50 robert Exp $
d7 2
a8 2
PKGNAME-main=	php5-core-${V}p0
PKGNAME-fastcgi=php5-fastcgi-${V}
@


1.31
log
@- update to php-5.2.5
- include the suhosin extension and suhosin patch by default unless
  the no_suhosin flavor is defined
- add all the suhosin configuration options to the sample config
  files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/11/05 10:11:09 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
d71 2
@


1.30
log
@Kill the phpxs script that was used for enabling and disabling
the php core module and extenions.
Install a sample configuration file to /var/www/conf/modules.sample
which can be symlinked or copied over to /var/www/conf/modules
so apache is going to pick it up.

Allow php to scan /var/www/conf/php5 for php configuration
files so if the user installs or creates a symlink from the
sample configuration files from the php5.sample directory,
it is going to be picked up by php5.

Create a dummy pwd.db file in the php5-imap package in the apache
chroot because it is needed by c-client.

feedback and tests by sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/09/17 08:37:22 robert Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p1
PKGNAME-main=	php5-core-${V}p1
PKGNAME-fastcgi=php5-fastcgi-${V}p1
d55 3
@


1.29
log
@provide correct include paths by fixing a typo in patch-scripts_php_config_in;
bump PKGNAME; noticed by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/09/15 20:38:25 merdely Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p0
PKGNAME-main=	php5-core-${V}p0
PKGNAME-fastcgi=php5-fastcgi-${V}p0
d35 2
a36 1
		--enable-force-cgi-redirect
d41 1
a41 1
SUBST_VARS=	PHP_CONFIG_FILE
d67 2
a75 3
	@@sed ${PHPXS_SUBST} <${FILESDIR}/phpxs >${PREFIX}/sbin/phpxs
	@@chown ${BINOWN}:${BINGRP} ${PREFIX}/sbin/phpxs
	@@chmod ${BINMODE} ${PREFIX}/sbin/phpxs
@


1.28
log
@Remove surrounding quotes from
COMMENT-*/ERRORS/NO_REGRESS/PERMIT_*/REGRESS_IS_INTERACTIVE

Change '.include "bsd.port.mk"' to '.include <bsd.port.mk>' while here
(ok naddy@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/09/05 09:11:34 robert Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}
PKGNAME-main=	php5-core-${V}
PKGNAME-fastcgi=php5-fastcgi-${V}
@


1.27
log
@update to version 5.2.4 and remove some obsolete CONFIGURE_ARGS;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/09/03 19:22:32 sturm Exp $
d3 2
a4 2
COMMENT-main=	"server-side HTML-embedded scripting language"
COMMENT-fastcgi="stand-alone FastCGI version of PHP"
@


1.26
log
@bump PKGNAME after PLIST change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/07/02 08:53:17 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}p0
a20 1
		--enable-dio \
a22 1
		--enable-trans-sid \
a26 1
		--with-posix \
a29 1
		--enable-yp \
@


1.25
log
@update to version 5.2.3;
fixes many vulnerabilities just as usual. for more information
read http://www.php.net/releases/5_2_3.php

add a no_suhosin pseudo-flavor because horde has some problems
with the suhosin security patchset
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/05/11 15:05:15 robert Exp $
d7 1
a7 1
PKGNAME-main=	php5-core-${V}
@


1.24
log
@update to version 5.2.2;
fixes many vulnerabilities http://www.php.net/ChangeLog-5.php#5.2.2

from Lawrence Teo <lteo.openbsd1@@calyptix.com>;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/04/30 21:22:00 robert Exp $
d69 1
a69 1
	${INSTALL_PROGRAM} ${WRKBUILD}/sapi/cgi/php ${PREFIX}/bin/php-fastcgi
@


1.23
log
@point to the correct fastcgi website;
from Pierre Riteau <pierre.riteau@@free.fr>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/04/03 12:17:34 robert Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p1
PKGNAME-main=	php5-core-${V}p1
PKGNAME-fastcgi=php5-fastcgi-${V}p1
@


1.22
log
@compile zend_alloc.c with -O0 to prevent a compiler bug on sparc64
and regen patches while here; bump PKGNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/04/01 21:37:27 robert Exp $
d8 1
a8 1
PKGNAME-fastcgi=php5-fastcgi-${V}p0
@


1.21
log
@- add a fastcgi subpackage to core because now we are able to build
more than one php binaries within one workdir (idea from FreeBSD)
- move pdo_sqlite support from core to extensions and also add a pdo_mysql
and a pdo_sqlite subpackage
- regen patches while here
- bump PKGNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2007/03/22 22:43:20 robert Exp $
d6 3
a8 3
PKGNAME=	php5-core-${V}p0
PKGNAME-main=	php5-core-${V}p0
PKGNAME-fastcgi=php5-fastcgi-${V}
@


1.20
log
@- update to php 5.2.1 and suhosin 0.9.2.6
- remove the pear subpackage as it is now replaced with www/pear
- the filepro extension is no longer available

tested by a couple of people
@
text
@d1 8
a8 1
# $OpenBSD: Makefile,v 1.19 2006/11/25 11:09:04 espie Exp $
a9 2
COMMENT=	"server-side HTML-embedded scripting language"
PKGNAME=	php5-core-${V}
d12 2
d36 4
a39 1
		--with-pear=${LOCALBASE}/share/php5
d69 1
@


1.19
log
@new MULTI_PACKAGES.
give pear to daemon, explicitly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/10/21 11:44:10 robert Exp $
d3 3
a5 8
MULTI_PACKAGES=	-main -pear

COMMENT-main=	"server-side HTML-embedded scripting language"
COMMENT-pear=	"base classes for common PHP tasks"
PKGNAME-main=	php5-core-${V}p0
FULLPKGNAME-pear= php5-pear-${V}p0
DISTFILES=	php-${V}.tar.gz \
		pear-${PEAR_V}.tar.gz:0
a14 1
		--with-pear=${PEAR_DIR} \
d28 2
a29 1
		--without-sqlite
a43 6
PREFIX-pear=		${CHROOT_DIR}
RUN_DEPENDS-pear=	:php5-core-${V}:www/php5/core
WANTLIB-pear=
LIB_DEPENDS-pear=


a49 1
	@@cd ${WRKDIR}/pear && ${PATCH} -p0 --quiet < patch-OpenBSD 
d51 1
a51 1
		${WRKDIR}/pear/PEAR/Config.php ${WRKSRC}/scripts/phpize.in \
a56 1
	${INSTALL_DATA_DIR} ${WRKINST}/${CHROOT_DIR}/pear/lib
a59 14
	@@cd ${WRKDIR}/pear && ${PREFIX}/bin/php \
		-n -dshort_open_tag=0 -dsafe_mode=0 -derror_reporting=E_ALL \
		-ddetect_unicode=0 install-pear.php -b ${PREFIX}/bin \
		-c ${WRKINST} -d ${WRKINST}${CHROOT_DIR}/pear *.tar 

	@@cp ${WRKDIR}/pear/PEAR/Config.php \
		${WRKINST}${CHROOT_DIR}/pear/lib/PEAR/Config.php
	@@perl -pi -e "s,${WRKINST},,g" ${PREFIX}/bin/pear \
				${PREFIX}/bin/peardev \
				${PREFIX}/bin/pecl \
				${WRKINST}${PEAR_DIR}/lib/pearcmd.php \
				${WRKINST}${PEAR_DIR}/lib/peclcmd.php \
				${WRKINST}${PEAR_DIR}/lib/PEAR/Command/Package.php

@


1.19.2.1
log
@assorted security patches, from debian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/11/25 11:09:04 espie Exp $
d7 2
a8 2
PKGNAME-main=	php5-core-${V}p1
FULLPKGNAME-pear= php5-pear-${V}p1
d53 1
@


1.18
log
@update to version 5.1.6 and replace the hardened patchset with
the suhosin patchset;

kill the hardened flavor because we are going to use suhosin
patchet by default;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/08/04 00:10:42 espie Exp $
d3 1
a3 2
MULTI_PACKAGES=	-pear
SUBPACKAGE?=
d5 1
a5 1
COMMENT=	"server-side HTML-embedded scripting language"
d7 2
a8 2
PKGNAME=	php5-core-${V}
FULLPKGNAME-pear= php5-pear-${V}
d47 6
a53 8
.if defined(PACKAGING) && !empty(SUBPACKAGE)
PREFIX=		${CHROOT_DIR}
RUN_DEPENDS=	:php5-core-${V}:www/php5/core
WANTLIB=
MODULES=
.else
LIB_DEPENDS=	xml2.>=8::textproc/libxml
.endif
@


1.17
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/07/18 21:44:40 alek Exp $
d8 2
a9 2
PKGNAME=	php5-core-${V}p1
FULLPKGNAME-pear= php5-pear-${V}p0
@


1.17.2.1
log
@assorted security patches, from debian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/08/04 00:10:42 espie Exp $
d8 2
a9 2
PKGNAME=	php5-core-${V}p2
FULLPKGNAME-pear= php5-pear-${V}p1
@


1.16
log
@Make it work after recent iodbc changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/05/21 20:46:06 aanriot Exp $
d55 1
a55 1
LIB_DEPENDS=	xml2.8::textproc/libxml
@


1.15
log
@- php-5.1.4 tarball has been rerolled, so update distinfo.
- add pear's distfile to SUPDISTFILES .
- bump relevent PKGNAMEs.

prompted by and ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/05/09 14:15:40 robert Exp $
d8 1
a8 1
PKGNAME=	php5-core-${V}p0
d47 1
a47 1
WANTLIB=	c crypto m ssl stdc++ z
@


1.14
log
@Update to version 5.1.4;

Add a hardened flavor for both core and extensions (inspired by niallo@@);
Use our own way to install pear because the bundled installer is totally
broken and upstream refuses to fix it.

Add a mysqli subpackage which can be used to access the functionality
provided by MySQL 4.1 and above.

Other minor changes and fixes are also included.

ok sturm@@; tested by many
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/12/29 23:03:29 sturm Exp $
d8 2
a9 2
PKGNAME=	php5-core-${V}
FULLPKGNAME-pear= php5-pear-${V}
d11 1
a11 1
		pear-20060428.tar.gz:0
@


1.13
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d10 2
d13 1
a13 1
CONFIGURE_ARGS+= --with-apxs=/usr/sbin/apxs \
d36 1
a36 1

d47 1
a47 1
WANTLIB=	c crypto des m ssl stdc++ z
d60 2
a61 3

INSTALL_TARGET= install-pear install-headers install-build install-programs
FAKE_FLAGS= 	INSTALL_ROOT=${DESTDIR}
d64 3
a66 2
	@@perl -p -i.orig -e "s,OPENBSD_PEAR_ROOT,'${CHROOT_DIR}/pear',g" \
		${WRKSRC}/pear/PEAR/Config.php ${WRKSRC}/scripts/phpize.in \
d70 3
a72 1
	${INSTALL_DATA} ${WRKBUILD}/.libs/libphp5.so ${PREFIX}/${APACHE_MODULE_SUBDIR}
d75 15
@


1.12
log
@revert completely broken update, we are back at 5.0.5 now
discussed on icb
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/09/14 15:44:19 robert Exp $
d62 1
a62 1
post-patch:
@


1.11
log
@Update to php-5.1.1;
for more information please check
http://www.php.net/ChangeLog-5.php#5.1.1
and
http://www.php.net/ChangeLog-5.php#5.1.0

The port now uses a CVS snapshot of PEAR;
@
text
@a9 2
DISTFILES=	php-${V}.tar.gz \
			pear-core-20051215.tar.gz:0
a57 4
	@@perl -p -i.orig -e "s,OPENBSD_PEAR_ROOT,'${CHROOT_DIR}/pear',g" \
		${WRKDIR}/pear-core/PEAR/Config.php ${WRKDIR}/pear-core/install-pear.php
	@@cd ${WRKDIR}/pear-core && ${WRKSRC}/sapi/cli/php -n make-installpear-nozlib-phar.php
	@@cp ${WRKDIR}/pear-core/install-pear-nozlib.phar ${WRKSRC}/pear/
d60 1
a60 1
FAKE_FLAGS=     INSTALL_ROOT=${DESTDIR}
d64 2
a65 1
		${WRKSRC}/scripts/phpize.in ${WRKSRC}/scripts/php-config.in 
@


1.10
log
@upgrade to php-5.0.5;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/08/31 22:13:43 robert Exp $
d10 2
d60 4
d66 1
a66 1
FAKE_FLAGS= 	INSTALL_ROOT=${DESTDIR}
d70 1
a70 2
		${WRKSRC}/pear/PEAR/Config.php ${WRKSRC}/scripts/phpize.in \
		${WRKSRC}/scripts/php-config.in
@


1.9
log
@SECURITY: fix a heap overflow in internal pcre; bump PKGNAME
http://www.vuxml.org/openbsd/b552a55a-136d-11da-a0d4-00065bd5b0b6.html

ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/04/04 21:13:21 robert Exp $
d8 1
a8 1
PKGNAME=	php5-core-${V}p0
@


1.8
log
@update to 5.0.4;
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/03/16 20:09:41 robert Exp $
d8 1
a8 1
PKGNAME=	php5-core-${V}
@


1.7
log
@- fix WANTLIB markers and dependencies (from alek@@ and wilfried@@)
- delete some whitespaces (from wilfried@@)
- don't leave mess in ldconfig search path
(reported by Moritz Grimm <mlist@@scapa.dnsalias.net>)
- bump PKGNAMEs

tested by many; ok pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/12/20 20:59:44 robert Exp $
d8 2
a9 2
PKGNAME=	php5-core-${V}p1
FULLPKGNAME-pear= php5-pear-${V}p1
@


1.7.2.1
log
@SECURITY: update to 5.0.4
fixes multiple vulnerabilities
http://www.vuxml.org/openbsd/7612fe54-b00c-11d9-9c1d-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/03/16 20:09:41 robert Exp $
d8 2
a9 2
PKGNAME=	php5-core-${V}
FULLPKGNAME-pear= php5-pear-${V}
@


1.7.2.2
log
@MFC:
SECURITY: fix a heap overflow in internal pcre; bump PKGNAME
http://www.vuxml.org/openbsd/b552a55a-136d-11da-a0d4-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7.2.1 2005/05/23 20:20:08 robert Exp $
d8 1
a8 1
PKGNAME=	php5-core-${V}p0
@


1.6
log
@SECURITY:
update to 5.0.3;

add libstdc++ to WANTLIB;
use {.CURDIR} for PATCH_LIST and CHECKSUM_FILE from jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/12/11 13:29:22 alek Exp $
d8 2
a9 2
PKGNAME=	php5-core-${V}
FULLPKGNAME-pear= php5-pear-${V}
d37 1
a37 1
# some variables to substitute 
d49 5
a53 1
RUN_DEPENDS=	:php5-core-${V}:www/php5/core 
@


1.5
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/11/24 17:37:49 robert Exp $
d8 1
a8 1
PKGNAME=	php5-core-${V}p1
d45 1
a45 1
WANTLIB=	c crypto des m ssl z
@


1.4
log
@Let's use ${PREFIX}/share/examples/php5/ for the example configuration
files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/11/24 17:27:22 robert Exp $
d44 2
@


1.3
log
@switch to MESSAGE and UNMESSAGE; fix the redefinition of socklen_t;
bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/11/24 13:15:09 alek Exp $
d63 1
a63 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/php5
d69 1
a69 1
		>${PREFIX}/share/doc/php5/php.ini-${i}
@


1.2
log
@Put correct paths into php-config and phpize scripts.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/10/02 12:36:49 robert Exp $
d8 1
a8 1
PKGNAME=	php5-core-${V}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d57 3
a59 1
	@@perl -p -i.orig -e "s,OPENBSD_PEAR_ROOT,'${CHROOT_DIR}/pear',g" ${WRKSRC}/pear/PEAR/Config.php
@


1.1.1.1
log
@import ports/php5/core; missed from the php5 import
@
text
@@
