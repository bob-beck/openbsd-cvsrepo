head	1.30;
access;
symbols
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.29.0.4
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.29.0.6
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.29.0.2
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.28.0.4
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.2
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.23.0.6
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.4
	OPENBSD_5_0:1.23.0.2
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.21.0.2
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.20.0.2
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.18.0.6
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.4
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.12.0.4
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.12.0.2
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.11.0.4
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.2
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.8.0.2
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	biorn_20020508:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2016.03.14.19.50.13;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	qy3kOZbBj36dlQSa;

1.29
date	2014.11.14.06.18.42;	author brad;	state Exp;
branches;
next	1.28;
commitid	MO3F9wGuewRw1ml3;

1.28
date	2014.01.10.21.52.29;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2013.09.06.23.14.40;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2013.08.19.14.40.21;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.13.02.28.11;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2013.01.21.16.23.05;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2011.06.25.14.15.43;	author edd;	state Exp;
branches;
next	1.22;

1.22
date	2011.03.29.20.04.41;	author edd;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.08.21.25.44;	author edd;	state Exp;
branches;
next	1.20;

1.20
date	2010.05.26.21.29.56;	author jakemsr;	state Exp;
branches;
next	1.19;

1.19
date	2009.10.11.13.36.23;	author edd;	state Exp;
branches;
next	1.18;

1.18
date	2008.07.09.02.19.36;	author jakemsr;	state Exp;
branches;
next	1.17;

1.17
date	2008.02.12.11.33.16;	author jakemsr;	state Exp;
branches;
next	1.16;

1.16
date	2008.02.08.17.32.41;	author jakemsr;	state dead;
branches;
next	1.15;

1.15
date	2007.04.19.08.37.09;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2007.04.13.23.13.21;	author robert;	state Exp;
branches;
next	1.13;

1.13
date	2007.04.08.17.33.39;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2006.07.19.21.40.47;	author robert;	state Exp;
branches
	1.12.4.1;
next	1.11;

1.11
date	2005.05.09.12.24.38;	author biorn;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.09.16.07.29;	author biorn;	state Exp;
branches;
next	1.9;

1.9
date	2004.10.18.06.48.20;	author biorn;	state Exp;
branches;
next	1.8;

1.8
date	2004.05.06.07.27.49;	author biorn;	state Exp;
branches;
next	1.7;

1.7
date	2003.12.16.17.17.33;	author biorn;	state Exp;
branches;
next	1.6;

1.6
date	2003.11.02.23.30.27;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2003.10.26.19.54.46;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2003.05.18.11.49.55;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.06.27.22.03.49;	author espie;	state dead;
branches;
next	1.2;

1.2
date	2002.05.15.22.27.01;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2002.05.09.05.19.10;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.05.09.05.19.10;	author pvalchev;	state Exp;
branches;
next	;

1.12.4.1
date	2007.05.01.16.43.14;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.30
log
@Update to mplayer-20160306.

from Brad (maintainer)
@
text
@$OpenBSD: patch-Makefile,v 1.29 2014/11/14 06:18:42 brad Exp $
--- Makefile.orig	Sun Mar  6 20:22:53 2016
+++ Makefile	Sun Mar  6 20:29:00 2016
@@@@ -35,6 +35,7 @@@@ OS_FEATURE-$(VSSCANF)                += osdep/vsscanf.
 # conditional source declarations
 SRCS_AUDIO_INPUT-$(ALSA)             += stream/ai_alsa.c
 SRCS_AUDIO_INPUT-$(OSS)              += stream/ai_oss.c
+SRCS_AUDIO_INPUT-$(SNDIO)            += stream/ai_sndio.c
 SRCS_COMMON-$(AUDIO_INPUT)           += $(SRCS_AUDIO_INPUT-yes)
 SRCS_COMMON-$(BITMAP_FONT)           += sub/font_load.c
 SRCS_COMMON-$(CDDA)                  += stream/stream_cdda.c            \
@@@@ -612,7 +613,8 @@@@ SRCS_MPLAYER = command.c                \
                libvo/vo_mpegpes.c       \
                libvo/vo_null.c          \
                sub/spuenc.c             \
-               $(SRCS_MPLAYER-yes)
+               $(SRCS_MPLAYER-yes)      \
+               libao2/ao_rtunes.c
 
 #MEncoder
 SRCS_MENCODER-$(FAAC)             += libmpcodecs/ae_faac.c
@


1.29
log
@Update to MPlayer 20141103 snapshot.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.28 2014/01/10 21:52:29 brad Exp $
--- Makefile.orig	Mon Nov  3 01:28:57 2014
+++ Makefile	Mon Nov  3 01:34:51 2014
d12 1
a12 1
@@@@ -615,7 +616,8 @@@@ SRCS_MPLAYER = command.c                \
@


1.28
log
@Update to MPlayer 20140106 snapshot.

ok edd@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.27 2013/09/06 23:14:40 brad Exp $
--- Makefile.orig	Mon Jan  6 17:02:58 2014
+++ Makefile	Mon Jan  6 17:22:43 2014
d12 1
a12 1
@@@@ -639,7 +640,8 @@@@ SRCS_MPLAYER = command.c                \
@


1.27
log
@Update to MPlayer 20130819 snapshot.

ok gonzalo@@ sthen@@ edd@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.26 2013/08/19 14:40:21 brad Exp $
--- Makefile.orig	Mon Aug 19 10:49:12 2013
+++ Makefile	Tue Aug 20 02:49:57 2013
d12 1
a12 9
@@@@ -573,6 +574,7 @@@@ SRCS_MPLAYER-$(SDL)           += libao2/ao_sdl.c      
                                  libvo/sdl_common.c
 SRCS_MPLAYER-$(SGIAUDIO)      += libao2/ao_sgi.c
 SRCS_MPLAYER-$(SUNAUDIO)      += libao2/ao_sun.c
+SRCS_MPLAYER-$(SNDIO)         += libao2/ao_sndio.c
 SRCS_MPLAYER-$(SVGA)          += libvo/vo_svga.c
 SRCS_MPLAYER-$(TDFXFB)        += libvo/vo_tdfxfb.c
 SRCS_MPLAYER-$(TDFXVID)       += libvo/vo_tdfx_vid.c
@@@@ -638,7 +640,8 @@@@ SRCS_MPLAYER = command.c                \
@


1.26
log
@Update after FFmpeg 20130718 update plus remove some unnecessary patching.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.25 2013/03/13 02:28:11 brad Exp $
--- Makefile.orig	Thu Feb 14 14:46:11 2013
+++ Makefile	Tue Jun  4 22:13:48 2013
d11 3
a13 3
 SRCS_COMMON-$(CDDA)                  += stream/stream_cdda.c \
@@@@ -565,6 +566,7 @@@@ SRCS_MPLAYER-$(S3FB)          += libvo/vo_s3fb.c
 SRCS_MPLAYER-$(SDL)           += libao2/ao_sdl.c libvo/vo_sdl.c libvo/sdl_common.c
d20 4
a23 4
@@@@ -628,7 +630,8 @@@@ SRCS_MPLAYER = command.c \
                libvo/vo_mpegpes.c \
                libvo/vo_null.c \
                sub/spuenc.c \
d25 2
a26 3
+               $(SRCS_MPLAYER-yes) \
+	       libao2/ao_rtunes.c
 
d28 1
@


1.25
log
@Update to MPlayer 20130214 snapshot.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.24 2013/01/21 16:23:05 brad Exp $
--- Makefile.orig	Sun Jan 13 23:53:54 2013
+++ Makefile	Mon Jan 21 11:45:15 2013
a29 27
@@@@ -767,7 +770,7 @@@@ mencoder$(EXESUF) mplayer$(EXESUF):
 	$(CC) -o $@@ $^ $(EXTRALIBS)
 
 codec-cfg$(EXESUF): codec-cfg.c codec-cfg.h help_mp.h
-	$(HOST_CC) -O -DCODECS2HTML -I. -Iffmpeg -o $@@ $<
+	$(HOST_CC) ${CFLAGS} -O -DCODECS2HTML -I. -Iffmpeg -o $@@ $<
 
 codecs.conf.h: codec-cfg$(EXESUF) etc/codecs.conf
 	./$^ > $@@
@@@@ -855,7 +858,16 @@@@ loader/%: CFLAGS += -fno-omit-frame-pointer $(CFLAGS_N
 #loader/%: CFLAGS += -Ddbg_printf=__vprintf -DTRACE=__vprintf -DDETAILED_OUT
 loader/win32%: CFLAGS += $(CFLAGS_STACKREALIGN)
 
-mp3lib/decode_i586%: CFLAGS += -fomit-frame-pointer
+ifdef ARCH_X86_32
+ifeq (,$(findstring -O,$(CFLAGS)))
+mp3lib/decode_i586.o: CFLAGS += -O
+mp3lib/dct64_sse.o: CFLAGS += -O
+liba52/imdct.o: CFLAGS += -O
+endif
+mp3lib/decode_i586.o: CFLAGS += -fomit-frame-pointer
+mp3lib/dct64_sse.o: CFLAGS += -fomit-frame-pointer
+liba52/imdct.o: CFLAGS += -fomit-frame-pointer
+endif
 
 stream/stream_dvdnav%: CFLAGS := $(CFLAGS_LIBDVDNAV) $(CFLAGS)
 
@


1.24
log
@Update to MPlayer 20120725 snapshot.

Testing by naddy@@ sthen@@ landry@@ dcoppa@@
OK naddy@@ dcoppa@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.23 2011/06/25 14:15:43 edd Exp $
--- Makefile.orig	Sat Jan 19 01:18:43 2013
+++ Makefile	Sat Jan 19 01:24:15 2013
d12 1
a12 1
@@@@ -593,6 +594,7 @@@@ SRCS_MPLAYER-$(S3FB)          += libvo/vo_s3fb.c
d20 1
a20 1
@@@@ -656,7 +658,8 @@@@ SRCS_MPLAYER = command.c \
d30 1
a30 1
@@@@ -794,7 +797,7 @@@@ mencoder$(EXESUF) mplayer$(EXESUF):
d39 1
a39 1
@@@@ -882,7 +885,16 @@@@ loader/%: CFLAGS += -fno-omit-frame-pointer $(CFLAGS_N
@


1.23
log
@make mplayer build with thew new libass.

OK sthen@@
@
text
@d1 6
a6 6
$OpenBSD: patch-Makefile,v 1.22 2011/03/29 20:04:41 edd Exp $
--- Makefile.orig	Wed Mar  9 00:33:03 2011
+++ Makefile	Fri Jun 24 12:19:26 2011
@@@@ -26,6 +26,7 @@@@ include config.mak
 SRCS_AUDIO_INPUT-$(ALSA1X)           += stream/ai_alsa1x.c
 SRCS_AUDIO_INPUT-$(ALSA9)            += stream/ai_alsa.c
d12 1
a12 1
@@@@ -585,6 +586,7 @@@@ SRCS_MPLAYER-$(S3FB)          += libvo/vo_s3fb.c
d20 1
a20 1
@@@@ -648,7 +650,8 @@@@ SRCS_MPLAYER = command.c \
d30 1
a30 1
@@@@ -814,7 +817,7 @@@@ mencoder$(EXESUF) mplayer$(EXESUF):
d39 1
a39 1
@@@@ -864,7 +867,16 @@@@ loader/%: CFLAGS += -fno-omit-frame-pointer $(CFLAGS_N
@


1.22
log
@Update mplayer to a newer snapshot, this time with dynamic linking of ffmpeg!
With help from and OK landry@@, jakemsr@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.21 2010/11/08 21:25:44 edd Exp $
--- Makefile.orig	Thu Mar  3 12:35:16 2011
+++ Makefile	Thu Mar  3 13:22:00 2011
d30 9
@


1.21
log
@Update to mplayer-20101024. Noteworthy improvements include vpx
(webm) support and alpha support. This work is a joint effort from
myself, naddy@@ and jakemsr@@. Cheers.

OK jakemsr@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.20 2010/05/26 21:29:56 jakemsr Exp $
--- Makefile.orig	Fri Oct 22 21:39:43 2010
+++ Makefile	Sun Oct 24 10:38:28 2010
d10 1
a10 1
 SRCS_COMMON-$(BITMAP_FONT)           += libvo/font_load.c
d12 1
a12 1
@@@@ -623,6 +624,7 @@@@ SRCS_MPLAYER-$(S3FB)          += libvo/vo_s3fb.c
d20 1
a20 2
@@@@ -686,7 +688,8 @@@@ SRCS_MPLAYER = command.c \
                libvo/video_out.c \
d23 1
d26 1
a26 1
+               libao2/ao_rtunes.c
d30 1
a30 1
@@@@ -906,7 +909,16 @@@@ loader/%: CFLAGS += -fno-omit-frame-pointer $(CFLAGS_N
@


1.20
log
@update to mplayer-export-snapshot-20100308

locally:
* fix audio when using bsdbt848 video driver (problems noted by simon@@)
* allow 24-bit audio output formats in the sndio backend (from ratchov@@)

mostly from edd@@ (MAINTAINER)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.19 2009/10/11 13:36:23 edd Exp $
--- Makefile.orig	Fri Mar  5 23:13:08 2010
+++ Makefile	Mon Mar  8 21:24:09 2010
@@@@ -28,6 +28,7 @@@@ include config.mak
d12 2
a13 2
@@@@ -627,6 +628,7 @@@@ SRCS_MPLAYER-$(S3FB)          += libvo/vo_s3fb.c
 SRCS_MPLAYER-$(SDL)           += libao2/ao_sdl.c libvo/vo_sdl.c
d20 1
a20 1
@@@@ -689,7 +691,8 @@@@ SRCS_MPLAYER = command.c \
d30 1
a30 12
@@@@ -901,7 +904,9 @@@@ version.h: version.sh
 # Make sure all generated header files are created.
 codec-cfg.d codec-cfg.o: codecs.conf.h
 $(DEPS) $(MENCODER_DEPS) $(MPLAYER_DEPS): help_mp.h
-$(call ADDSUFFIXES,.d .o,mpcommon vobsub stream/stream_cddb stream/network libmpdemux/muxer_avi gui/win32/gui osdep/mplayer.rc): version.h
+#$(call ADDSUFFIXES,.d .o,mpcommon vobsub stream/stream_cddb stream/network libmpdemux/muxer_avi gui/win32/gui osdep/mplayer.rc): version.h
+# OpenBSD - don't run version.sh, it requres SVN, see post-configure
+$(call ADDSUFFIXES,.d .o,mpcommon vobsub stream/stream_cddb stream/network libmpdemux/muxer_avi gui/win32/gui osdep/mplayer.rc): 
 
 libdvdcss/%:   CFLAGS := -Ilibdvdcss -D__USE_UNIX98 -D_GNU_SOURCE -DVERSION=\"1.2.10\" $(CFLAGS_LIBDVDCSS) $(CFLAGS)
 libdvdnav/%:   CFLAGS := -Ilibdvdnav -D__USE_UNIX98 -D_GNU_SOURCE -DHAVE_CONFIG_H -DVERSION=\"MPlayer-custom\" $(CFLAGS)
@@@@ -912,7 +917,16 @@@@ loader/%: CFLAGS += -fno-omit-frame-pointer $(CFLAGS_N
@


1.19
log
@New version of mplayer based upon a snapshot (20090708).
  * fixes some flv playback
  * removed ggi output - broken i386/sparc64.
  * removed gui (deprecated) - use gnome-mplayer instead.
  * removed win32 codecs - opensource codecs are good quality.

OK, naddy@@, sthen@@
@
text
@d1 4
a4 12
$OpenBSD$
--- Makefile.orig	Mon Jul  6 19:01:36 2009
+++ Makefile	Tue Jul 21 15:13:33 2009
@@@@ -29,6 +29,7 @@@@ COMMON_LDFLAGS += $(EXTRA_LIB)\
 
 LDFLAGS_MPLAYER = $(EXTRALIBS_MPLAYER) \
                   $(COMMON_LDFLAGS) \
+                  -lrtunes -lcrypto
 
 LDFLAGS_MENCODER = $(EXTRALIBS_MENCODER) \
                    $(COMMON_LDFLAGS) \
@@@@ -36,6 +37,7 @@@@ LDFLAGS_MENCODER = $(EXTRALIBS_MENCODER) \
d12 1
a12 1
@@@@ -615,6 +617,7 @@@@ SRCS_MPLAYER-$(S3FB)          += libvo/vo_s3fb.c
d20 1
a20 1
@@@@ -677,7 +680,8 @@@@ SRCS_MPLAYER = command.c \
d30 12
a41 1
@@@@ -888,7 +892,16 @@@@ loader/%: CFLAGS += -Iloader -fno-omit-frame-pointer $
@


1.18
log
@
* stop mplayer from picking up installed FFmpeg headers
* update WANTLIB
* add @@bin markers
* bump PKGNAME

feedback/ok brad@@
@
text
@d1 55
a55 12
$OpenBSD: patch-Makefile,v 1.17 2008/02/12 11:33:16 jakemsr Exp $
--- Makefile.orig	Sun Oct  7 12:49:33 2007
+++ Makefile	Sat Jun 28 14:12:25 2008
@@@@ -88,7 +88,7 @@@@ ALL_PRG-$(MPLAYER)  += mplayer$(EXESUF)
 ALL_PRG-$(MENCODER) += mencoder$(EXESUF)
 
 COMMON_LIBS  += $(COMMON_LIBS-yes)
-LIBS_MPLAYER += $(LIBS_MPLAYER-yes)
+LIBS_MPLAYER += $(LIBS_MPLAYER-yes) -lrtunes -lcrypto
 OBJS_MPLAYER += $(OBJS_MPLAYER-yes)
 PARTS        += $(PARTS-yes)
 ALL_PRG      += $(ALL_PRG-yes)
@


1.17
log
@
add support for librtunes-0.7.  this allows one to stream audio output
from mplayer to AirPort Express devices.  supports both IPv4 and IPv6.

example:

$ mplayer -ao rtunes:device=192.168.0.10:af=inet music.mp3

requested/tested/ok mglocker@@ (librtunes author)
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ Makefile	Tue Feb 12 02:49:30 2008
@


1.16
log
@
maintenence update to mplayer-1.0rc2

ok biorn@@ (MAINTAINER), ajacoutot@@, brad@@
@
text
@d1 5
a5 5
$OpenBSD: patch-Makefile,v 1.15 2007/04/19 08:37:09 ajacoutot Exp $
--- Makefile.orig	Thu Apr 19 09:41:02 2007
+++ Makefile	Thu Apr 19 09:41:02 2007
@@@@ -429,7 +429,7 @@@@ LIBS_MENCODER = libmpcodecs/libmpencoders.a \
                 $(LIBC_LIB) \
d7 6
a12 15
 $(PRG_MENCODER): $(MENCODER_DEP)
-	$(CC) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) $(LIBS_MENCODER)
+	$(CXX) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) $(LIBS_MENCODER)
 endif
 
 codecs.conf.h: $(PRG_CFG) etc/codecs.conf
@@@@ -488,8 +488,6 @@@@ ifeq ($(GUI),yes)
 	@@$(INSTALL) -d $(prefix)/share/applications
 	$(INSTALL) -m 644 etc/mplayer.desktop $(prefix)/share/applications/mplayer.desktop
 endif
-	@@$(INSTALL) -d $(CONFDIR)
-	@@if test -f $(CONFDIR)/codecs.conf ; then mv -f $(CONFDIR)/codecs.conf $(CONFDIR)/codecs.conf.old ; fi
 
 uninstall:
 	-rm -f $(BINDIR)/$(PRG) $(BINDIR)/gmplayer $(MANDIR)/man1/mplayer.1
@


1.15
log
@- add live555 support
- regen patches while here

from brad
ok robert@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.14 2007/04/13 23:13:21 robert Exp $
@


1.14
log
@- Fix heap overflow in DMO loader. (CVE-2007-1246)
- regen patches while here

pulled from MPlayer SVN by Brad <brad@@comstyle.com>
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.13 2007/04/08 17:33:39 ajacoutot Exp $
--- Makefile.orig	Sat Apr 14 00:35:28 2007
+++ Makefile	Sat Apr 14 00:35:28 2007
@@@@ -429,7 +429,7 @@@@ LIBS_MENCODER = libmpcodecs/libmpencoder
@


1.13
log
@- add support for x264
- regen patches while here

"go for it" naddy@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.12 2006/07/19 21:40:47 robert Exp $
--- Makefile.orig	Sun Apr  8 10:17:01 2007
+++ Makefile	Sun Apr  8 10:17:01 2007
@@@@ -429,7 +429,7 @@@@ LIBS_MENCODER = libmpcodecs/libmpencoders.a \
@


1.12
log
@update to versio 1.0pre8; include the speex and mpcdec codecs by default;
this version of mplayer now uses gtk2;

ok biorn@@ and tested by many
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Sun Jun 11 20:35:47 2006
+++ Makefile	Thu Jul  6 00:08:11 2006
@@@@ -426,7 +426,7 @@@@ LIBS_MENCODER = libmpcodecs/libmpencoder
d13 1
a13 1
@@@@ -485,8 +485,6 @@@@ ifeq ($(GUI),yes)
@


1.12.4.1
log
@MFC:
- Fix heap overflow in DMO loader. (CVE-2007-1246)
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.12 2006/07/19 21:40:47 robert Exp $
--- Makefile.orig	Tue May  1 09:48:58 2007
+++ Makefile	Tue May  1 09:48:58 2007
@@@@ -429,7 +429,7 @@@@ LIBS_MENCODER = libmpcodecs/libmpencoder
d13 1
a13 1
@@@@ -488,8 +488,6 @@@@ ifeq ($(GUI),yes)
@


1.11
log
@Update to 1.0pre7
Don't depend on ogg/vorbis as it's built in now
Put fontconfig and freetype in WANTLIB and BUILD_DEPEND on pkgconfig if
 FLAVOR is not no_x11.
@
text
@d1 5
a5 4
$OpenBSD: patch-Makefile,v 1.10 2005/03/09 16:07:29 biorn Exp $
--- Makefile.orig	Sat Apr 16 22:18:12 2005
+++ Makefile	Wed Apr 20 06:35:54 2005
@@@@ -259,7 +259,7 @@@@ mplayer_wine.so:	$(MPLAYER_DEP)
a6 1
 ifeq ($(MENCODER),yes)
d8 2
a9 2
-	$(CC) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) libmpcodecs/libmpencoders.a $(ENCORE_LIB) $(COMMON_LIBS) $(EXTRA_LIB) $(MLIB_LIB) $(LIRC_LIB) $(LIRCC_LIB) $(ARCH_LIB) $(I18NLIBS) $(MATH_LIB)
+	$(CXX) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) libmpcodecs/libmpencoders.a $(ENCORE_LIB) $(COMMON_LIBS) $(EXTRA_LIB) $(MLIB_LIB) $(LIRC_LIB) $(LIRCC_LIB) $(ARCH_LIB) $(I18NLIBS) $(MATH_LIB)
d13 2
a14 2
@@@@ -325,8 +325,6 @@@@ ifeq ($(GUI),yes)
 	@@if test ! -d $(prefix)/share/applications ; then mkdir -p $(prefix)/share/applications ; fi
d17 1
a17 1
-	@@if test ! -d $(CONFDIR) ; then mkdir -p $(CONFDIR) ; fi
d19 3
a21 3
 ifeq ($(DVDKIT_SHARED),yes)
 ifeq ($(DVDKIT2),yes)
 	if test ! -d $(LIBDIR) ; then mkdir -p $(LIBDIR) ; fi
@


1.10
log
@
Finally take it to 1.0pre6a

Prodded by espi@@, ok sturm@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.9 2004/10/18 06:48:20 biorn Exp $
--- Makefile.orig	Fri Nov  5 15:02:40 2004
+++ Makefile	Sat Dec 25 16:15:14 2004
@@@@ -249,7 +249,7 @@@@ mplayer_wine.so:	$(MPLAYER_DEP)
d13 1
a13 1
@@@@ -312,8 +312,6 @@@@ ifeq ($(GUI),yes)
@


1.9
log
@update to 1.0pre5
ok pvalchev@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.8 2004/05/06 07:27:49 biorn Exp $
--- Makefile.orig	Fri Jul  9 19:32:17 2004
+++ Makefile	Sat Sep 18 21:43:32 2004
@@@@ -224,7 +224,7 @@@@ mplayer_wine.so:	$(MPLAYER_DEP)
d8 2
a9 2
-	$(CC) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) libmpcodecs/libmpencoders.a $(ENCORE_LIB) $(COMMON_LIBS) $(EXTRA_LIB) $(MLIB_LIB) $(LIRC_LIB) $(LIRCC_LIB) $(ARCH_LIB) $(I18NLIBS) -lm 
+	$(CXX) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) libmpcodecs/libmpencoders.a $(ENCORE_LIB) $(COMMON_LIBS) $(EXTRA_LIB) $(MLIB_LIB) $(LIRC_LIB) $(LIRCC_LIB) $(ARCH_LIB) $(I18NLIBS) -lm 
d13 3
a15 3
@@@@ -282,8 +282,6 @@@@ ifeq ($(GUI),yes)
 	@@echo "*** Download skin(s) at http://www.mplayerhq.hu/homepage/dload.html"
 	@@echo "*** for GUI, and extract to $(DATADIR)/Skin/"
@


1.8
log
@Take it to 1.0pre4

ok brad@@
@
text
@d1 5
a5 4
$OpenBSD: patch-Makefile,v 1.7 2003/12/16 17:17:33 biorn Exp $
--- Makefile.orig	2004-04-13 13:22:37.000000000 +0200
+++ Makefile	2004-04-28 12:24:12.000000000 +0200
@@@@ -229,7 +229,7 @@@@ mplayer_wine.so:	$(MPLAYER_DEP)
a7 1
 	./darwinfixlib.sh $(MENCODER_DEP) libmpcodecs/libmpencoders.a
d13 1
a13 1
@@@@ -287,8 +287,6 @@@@ ifeq ($(GUI),yes)
@


1.7
log
@Update to 1.0pre3
Ok espie@@ pvalchev@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.6 2003/11/02 23:30:27 brad Exp $
--- Makefile.orig	2003-12-08 22:33:31.000000000 +0100
+++ Makefile	2003-12-09 14:32:23.000000000 +0100
d12 1
a12 1
 codecs.conf.h: $(PRG_CFG)
@


1.6
log
@upgrade to mplayer 1.0pre2

based on diff from MAINTAINER
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.5 2003/10/26 19:54:46 brad Exp $
--- Makefile.orig	2003-10-04 18:00:01.000000000 -0400
+++ Makefile	2003-10-26 19:57:37.000000000 -0500
@@@@ -236,7 +236,7 @@@@ $(PRG_FIBMAP): fibmap_mplayer.o
d13 1
a13 1
@@@@ -294,8 +294,6 @@@@ ifeq ($(GUI),yes)
@


1.5
log
@- move global config files from LOCALBASE/share/mplayer (bad enough no one
noticed it wasn't using SYSCONFDIR nevermind LOCALBASE) to SYSCONFDIR/mplayer
- move install time message via @@exec's in the PLIST to MESSAGE
- add @@extra stuff
- remove WWW: from DESCR
--
ok jolan@@ pvalchev@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.4 2003/05/18 11:49:55 espie Exp $
--- Makefile.orig	2003-08-09 10:12:30.000000000 -0400
+++ Makefile	2003-08-21 17:28:02.000000000 -0400
@@@@ -228,7 +228,7 @@@@ $(PRG_FIBMAP): fibmap_mplayer.o
d8 2
a9 2
-	$(CC) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) libmpcodecs/libmpencoders.a $(ENCORE_LIB) $(COMMON_LIBS) $(EXTRA_LIB) $(MLIB_LIB) $(LIRC_LIB) $(ARCH_LIB) $(I18NLIBS) -lm 
+	$(CXX) $(CFLAGS) -o $(PRG_MENCODER) $(OBJS_MENCODER) libmpcodecs/libmpencoders.a $(ENCORE_LIB) $(COMMON_LIBS) $(EXTRA_LIB) $(MLIB_LIB) $(LIRC_LIB) $(ARCH_LIB) $(I18NLIBS) -lm 
d13 1
a13 1
@@@@ -276,8 +276,6 @@@@ ifeq ($(GUI),yes)
@


1.4
log
@Partial real video support. Need manual installation of the codecs.
mplayer was already working, but if linked with g++, mencoder also
works, so one can convert stuff from realvideo into other more palateable
formats.

With help from Bjorn, who suggested linking with g++.
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Sun May 18 13:13:23 2003
+++ Makefile	Sun May 18 13:13:43 2003
d13 9
@


1.3
log
@Update to 0.90pre5
Most work by Biorn, some testing by pval and me.
@
text
@d1 4
a4 12
$OpenBSD: patch-Makefile,v 1.2 2002/05/15 22:27:01 pvalchev Exp $
--- Makefile.orig	Sun May 12 03:07:24 2002
+++ Makefile	Wed May 15 11:14:53 2002
@@@@ -223,13 +223,13 @@@@ endif
 	if test ! -d $(BINDIR) ; then mkdir -p $(BINDIR) ; fi
 	$(INSTALL) -m 755 -s $(PRG) $(BINDIR)/$(PRG)
 ifeq ($(GUI),yes)
-	-ln -sf $(BINDIR)/$(PRG) $(BINDIR)/gmplayer
+	-ln -sf $(PRG) $(BINDIR)/gmplayer
 endif
 	if test ! -d $(MANDIR)/man1 ; then mkdir -p $(MANDIR)/man1; fi
 	$(INSTALL) -c -m 644 DOCS/mplayer.1 $(MANDIR)/man1/mplayer.1
d6 4
a9 3
 	$(INSTALL) -m 755 -s $(PRG_MENCODER) $(BINDIR)/$(PRG_MENCODER)
-	-ln -sf $(MANDIR)/man1/mplayer.1 $(MANDIR)/man1/mencoder.1
+	-ln -sf mplayer.1 $(MANDIR)/man1/mencoder.1
d11 2
a12 2
 	@@if test ! -d $(DATADIR) ; then mkdir -p $(DATADIR) ; fi
 	@@if test ! -d $(DATADIR)/font ; then mkdir -p $(DATADIR)/font ; fi
@


1.2
log
@MPlayer-0.90pre4; from Björn Sandell <biorn@@dce.chalmers.se>
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- Makefile.orig	Thu May  9 01:22:27 2002
+++ Makefile	Thu May  9 01:23:12 2002
@@@@ -223,7 +223,7 @@@@ endif
d13 7
@


1.1.1.1
log
@Import of mplayer-0.90pre3 - Movie Player

MPlayer is a movie player for LINUX (runs on many other Unices, and
non-x86 CPUs, see the documentation). It plays most MPEG, VOB, AVI,
VIVO, ASF/WMV, QT/MOV, FLI, NuppelVideo, yuv4mpeg, FILM, RoQ, and some
RealMedia files, supported by many native, XAnim, and Win32 DLL codecs.
You can watch VideoCD, SVCD, DVD, 3ivx, FLI, and even DivX movies too
(and you don't need the avifile library at all!).

Submitted by Björn Sandell <biorn@@dce.chalmers.se>, work also done by me

Withstanding issues: see how to deal with optimization detection at build
time so that binary packages can be created; check make it work on
platforms other than i386, etc. things can be done in-tree.
@
text
@@
