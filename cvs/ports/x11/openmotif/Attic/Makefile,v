head	1.64;
access;
symbols
	OPENBSD_5_9:1.62.0.2
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.61.0.4
	OPENBSD_5_8_BASE:1.61
	OPENBSD_5_7:1.59.0.8
	OPENBSD_5_7_BASE:1.59
	OPENBSD_5_6:1.59.0.6
	OPENBSD_5_6_BASE:1.59
	OPENBSD_5_5:1.59.0.4
	OPENBSD_5_5_BASE:1.59
	OPENBSD_5_4:1.59.0.2
	OPENBSD_5_4_BASE:1.59
	OPENBSD_5_3:1.56.0.2
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.51.0.4
	OPENBSD_5_2_BASE:1.51
	OPENBSD_5_1_BASE:1.51
	OPENBSD_5_1:1.51.0.2
	OPENBSD_5_0:1.50.0.2
	OPENBSD_5_0_BASE:1.50
	OPENBSD_4_9:1.48.0.2
	OPENBSD_4_9_BASE:1.48
	OPENBSD_4_8:1.42.0.2
	OPENBSD_4_8_BASE:1.42
	OPENBSD_4_7:1.40.0.2
	OPENBSD_4_7_BASE:1.40
	OPENBSD_4_6:1.34.0.8
	OPENBSD_4_6_BASE:1.34
	OPENBSD_4_5:1.34.0.6
	OPENBSD_4_5_BASE:1.34
	OPENBSD_4_4:1.34.0.4
	OPENBSD_4_4_BASE:1.34
	OPENBSD_4_3:1.34.0.2
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.31.0.2
	OPENBSD_4_2_BASE:1.31
	OPENBSD_4_1:1.28.0.2
	OPENBSD_4_1_BASE:1.28
	OPENBSD_4_0:1.25.0.4
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.25.0.2
	OPENBSD_3_9_BASE:1.25
	OPENBSD_3_8:1.23.0.2
	OPENBSD_3_8_BASE:1.23
	OPENBSD_3_7:1.22.0.2
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.20.0.4
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.2
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.15.0.4
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.15.0.2
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.14.0.2
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9_TRACKING_SWITCH:1.12
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.5.0.2
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.4.0.2
	MATT_2000-JUL-08:1.1.1.1
	MATT:1.1.1;
locks; strict;
comment	@# @;


1.64
date	2016.05.05.19.55.11;	author naddy;	state dead;
branches;
next	1.63;
commitid	5Bb99lDZs4iX5nbL;

1.63
date	2016.04.27.13.58.19;	author naddy;	state Exp;
branches;
next	1.62;
commitid	Gjf8d0QahmictcD1;

1.62
date	2015.08.19.20.34.33;	author sthen;	state Exp;
branches;
next	1.61;
commitid	u0p8xTHc4ptteIkB;

1.61
date	2015.06.06.14.19.35;	author espie;	state Exp;
branches;
next	1.60;
commitid	e3jWRAoWRx7vPptY;

1.60
date	2015.03.19.20.25.27;	author naddy;	state Exp;
branches;
next	1.59;
commitid	zN8twHQGaJf3YJpT;

1.59
date	2013.06.04.18.41.59;	author naddy;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.21.08.48.56;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.11.11.46.14;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2012.10.29.12.16.48;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2012.10.29.09.47.05;	author landry;	state Exp;
branches;
next	1.54;

1.54
date	2012.10.29.09.36.05;	author landry;	state Exp;
branches;
next	1.53;

1.53
date	2012.10.28.11.05.44;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2012.09.23.08.05.53;	author matthieu;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.16.12.29.16;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2011.06.22.17.22.37;	author sebastia;	state Exp;
branches;
next	1.49;

1.49
date	2011.06.02.13.41.42;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.11.22.08.37.03;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2010.11.07.19.52.00;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.24.21.15.33;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2010.10.19.08.13.58;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2010.09.12.16.49.09;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2010.08.31.21.04.06;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2010.07.30.12.03.09;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.04.24.20.17.13;	author naddy;	state Exp;
branches;
next	1.40;

1.40
date	2010.02.17.18.15.09;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2009.12.14.21.51.52;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2009.12.14.18.03.36;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2009.09.15.17.37.22;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2009.08.12.14.12.22;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2009.08.11.08.42.08;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2008.01.04.17.48.38;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2007.10.17.07.57.03;	author mbalmer;	state Exp;
branches;
next	1.32;

1.32
date	2007.10.15.21.55.53;	author mbalmer;	state Exp;
branches;
next	1.31;

1.31
date	2007.08.14.14.19.11;	author mbalmer;	state Exp;
branches;
next	1.30;

1.30
date	2007.08.03.17.42.45;	author bernd;	state Exp;
branches;
next	1.29;

1.29
date	2007.07.18.21.41.05;	author mbalmer;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.23.23.30.06;	author kili;	state Exp;
branches;
next	1.27;

1.27
date	2006.11.07.21.32.47;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2006.09.18.10.21.49;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2006.02.08.04.54.50;	author david;	state Exp;
branches;
next	1.24;

1.24
date	2005.12.30.22.21.21;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2005.05.11.19.08.53;	author alek;	state Exp;
branches;
next	1.22;

1.22
date	2004.12.19.15.06.23;	author alek;	state Exp;
branches;
next	1.21;

1.21
date	2004.12.17.15.18.34;	author alek;	state Exp;
branches;
next	1.20;

1.20
date	2004.02.22.16.47.58;	author naddy;	state Exp;
branches
	1.20.2.1;
next	1.19;

1.19
date	2003.10.08.17.13.17;	author sturm;	state Exp;
branches;
next	1.18;

1.18
date	2003.09.02.22.07.17;	author pvalchev;	state Exp;
branches
	1.18.2.1;
next	1.17;

1.17
date	2003.06.29.19.42.23;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2002.10.29.19.48.58;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2002.03.21.21.25.55;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2001.09.30.07.21.44;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.17.02.38.44;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.05.21.29.21;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2001.04.15.13.27.41;	author matt;	state Exp;
branches;
next	1.10;

1.10
date	2001.04.10.20.01.29;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.13.04.19.08;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2001.01.21.20.06.29;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2001.01.21.18.36.56;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2001.01.03.00.02.55;	author matt;	state Exp;
branches;
next	1.5;

1.5
date	2000.10.23.16.08.12;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2000.08.10.01.40.40;	author matt;	state Exp;
branches;
next	1.3;

1.3
date	2000.07.08.18.19.49;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.07.08.18.11.23;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.07.08.14.21.58;	author matt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.07.08.14.21.58;	author matt;	state Exp;
branches;
next	;

1.18.2.1
date	2004.09.30.04.52.10;	author brad;	state Exp;
branches;
next	;

1.20.2.1
date	2004.09.30.04.54.26;	author brad;	state Exp;
branches;
next	;


desc
@@


1.64
log
@remove x11/openmotif, replaced by x11/motif
@
text
@# $OpenBSD: Makefile,v 1.63 2016/04/27 13:58:19 naddy Exp $

COMMENT-main=		Motif toolkit
COMMENT-demos=		Motif toolkit demos

VERSION=		2.3.4
REVISION-main=		2
REVISION-demos=		0
DISTNAME=		motif-${VERSION}
EXTRACT_SUFX=		-src.tgz
PKGNAME-main=		openmotif-${VERSION}
PKGNAME-demos=		openmotif-demos-${VERSION}

SHARED_LIBS=		Mrm	4.1	\
			Uil	5.0	\
			Xm	6.0

CATEGORIES=		x11
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=motif/}
DIST_SUBDIR=		openmotif

HOMEPAGE=		http://motif.ics.com/

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

MULTI_PACKAGES=		-demos -main

USE_GROFF=		Yes
CONFIGURE_STYLE=	gnu
AUTOCONF_VERSION=	2.69
AUTOMAKE_VERSION=	1.12
CONFIGURE_ARGS=		--enable-themes \
			--enable-xft \
			--enable-jpeg \
			--disable-printing \
			--enable-png
CONFIGURE_ENV=		CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -lm"
MAKE_ENV=		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
			AUTOMAKE_VERSION=${AUTOMAKE_VERSION}


MAKE_FLAGS=		SOMRMREV=${LIBMrm_VERSION}	\
			SOUILREV=${LIBUil_VERSION}	\
			SOXMREV=${LIBXm_VERSION}
FAKE_FLAGS+=		bindir=${PREFIX}/bin/

BUILD_DEPENDS=		${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS} \
			devel/libtool

LIB_DEPENDS=		converters/libiconv \
			graphics/jpeg \
			graphics/png
LIB_DEPENDS-demos=	x11/openmotif \
			${LIB_DEPENDS}
WANTLIB=		ICE SM X11 Xext Xt c Xft Xmu Xrender \
			expat fontconfig freetype iconv m z xcb \
			jpeg png pthread-stubs
WANTLIB-demos=		${WANTLIB} Xm Mrm

# XXX  Large, complicated, only partially automated test suite available
NO_TEST=	Yes

post-patch:
	cd ${WRKSRC}; AUTOCONF_VERSION=${AUTOCONF_VERSION} AUTOMAKE_VERSION=${AUTOMAKE_VERSION} ./autogen.sh

pre-configure:
# fix sections
	@@cd ${WRKSRC}/doc/man/man1 && perl -pi -e "s|user cmd|1|" *.1
	@@cd ${WRKSRC}/doc/man/man3 && perl -pi -e "s|library call|3|" *.3
# mwmrc is not a kernel interface!!
	@@cd ${WRKSRC}/doc/man/man4 && perl -pi -e "s|special file|5|" *.4
	@@cd ${WRKSRC}/doc/man/man5 && perl -pi -e "s|file formats|5|" *.5
	@@mkdir -p ${WRKSRC}/imports/x11
	@@cd ${WRKSRC}/imports/x11 && for i in bin include lib ; do \
	    if [ -f $$i ] ; then rm $$i; fi; \
	    ln -s ${X11BASE}/$$i $$i; \
	done

	${SUBST_CMD} ${WRKSRC}/config/cf/host.def \
		${WRKSRC}/config/cf/Motif.tmpl \
		${WRKSRC}/lib/Xm/Makefile.am

DOCS=BUGREPORT COPYING README RELEASE RELNOTES TODO

DOCDIR=${PREFIX}/share/doc/openmotif

post-install:
	@@${INSTALL_DATA_DIR} ${DOCDIR}
	@@for i in ${DOCS}; do ${INSTALL_DATA} ${WRKSRC}/$$i ${DOCDIR}; done
	@@${INSTALL_DATA_DIR} ${PREFIX}/lib/X11/config
	@@${INSTALL_DATA} ${WRKSRC}/config/cf/Motif.rules \
	    ${PREFIX}/lib/X11/config/Motif.rules
	@@${INSTALL_DATA} ${WRKSRC}/config/cf/Motif.tmpl \
	    ${PREFIX}/lib/X11/config/Motif.tmpl

.include <bsd.port.mk>
@


1.63
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/08/19 20:34:33 sthen Exp $
@


1.62
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/06/06 14:19:35 espie Exp $
a48 2
MODULES=		converters/libiconv

d53 2
a54 1
LIB_DEPENDS=		graphics/jpeg \
a56 1
			${MODLIBICONV_LIB_DEPENDS} \
d59 1
a59 1
			expat fontconfig freetype m z xcb \
@


1.61
log
@back&forth moved autogen to pre-patch... so configure would run twice,
sometimes tripping over itself. Just found gawk and found it gone again.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/03/19 20:25:27 naddy Exp $
d7 2
a8 1
REVISION-main=		1
d62 1
a62 1
			jpeg png
@


1.60
log
@fold lib-only PFRAG.shared into PLIST, and some related cleanups
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/06/04 18:41:59 naddy Exp $
d67 1
a67 1
pre-patch:
@


1.59
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/21 08:48:56 ajacoutot Exp $
d7 1
a7 1
REVISION-main=		0
@


1.58
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/11 11:46:14 espie Exp $
d37 1
a37 1
CONFIGURE_ENV=		CPPFLAGS="-I${X11BASE}/include -I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
@


1.57
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/10/29 12:16:48 sthen Exp $
a41 1
USE_LIBTOOL=		Yes
@


1.56
log
@Run autogen.sh in post-patch again, so the configure script can be run
normally with CONFIGURE_ARGS/CONFIGURE_ENV. But patch the script to
avoid running configure twice.  ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/10/29 09:47:05 landry Exp $
a24 3
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_FTP=	Yes
d66 1
a66 1
NO_REGRESS=	Yes
@


1.55
log
@Set USE_LIBTOOL to Yes and add devel/libtool to BUILD_DEPENDS instead.
prodded by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/10/29 09:36:05 landry Exp $
d7 1
d31 1
a31 1
USE_GROFF =		Yes
d42 2
d71 1
a71 1
do-configure:
@


1.54
log
@Fix build dependencies:

- set CONFIGURE_STYLE to gnu, and add MODGNU_AUTOCONF_DEPENDS +
 MODGNU_AUTOMAKE_DEPENDS to BUILD_DEPENDS (from brad@@)
- set USE_LIBTOOL to gnu since autogen.sh calls libtoolize
- run autogen.sh in do-configure instead of post-patch to avoid running it twice
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2012/10/28 11:05:44 sthen Exp $
d42 1
a42 2
# uses libtoolize
USE_LIBTOOL=		gnu
d52 2
a53 1
			${MODGNU_AUTOMAKE_DEPENDS}
@


1.53
log
@Update to Motif 2.3.4, which is now released under LGPLv2.1.
"Motif 2.3.4 is an updated version of Open Motif 2.3 and is a major
bug fix release."

Keeping current package naming (openmotif) for now.
Feedback from pascal@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2012/09/23 08:05:53 matthieu Exp $
d31 1
a31 1
CONFIGURE_STYLE=	autoconf
d42 2
a43 1
USE_LIBTOOL=		Yes
d52 3
d68 1
a68 1
post-patch:
@


1.52
log
@Don't overwrite imake config files under /usr/X11R6 anymore.
They are gone. ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/16 12:29:16 espie Exp $
d6 3
a8 2
VERSION=		2.3.3
DISTNAME=		openmotif-${VERSION}
a11 3
REVISION-main=		4
REVISION-demos= 	2

d17 1
a17 3
#MASTER_SITES=		ftp://ftp.ics.com/openmotif/2.3/${VERSION}/
MASTER_SITES=		http://distfiles.nl/ \
			ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/openmotif/
d20 1
a20 1
HOMEPAGE=		http://www.opengroup.org/openmotif/
d22 1
d28 1
a28 1
MULTI_PACKAGES= 	-demos -main
d31 3
a33 1
CONFIGURE_STYLE=	gnu
d39 1
a39 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
d56 2
a57 2
WANTLIB=		ICE SM X11 Xext Xt c Xau Xdmcp Xft Xmu Xrender \
			expat fontconfig freetype m z pthread-stubs xcb \
d64 3
d82 3
a84 1
		${WRKSRC}/lib/Xm/Makefile.in
a85 1
DOCS=BUGREPORT COPYRIGHT.MOTIF LICENSE README RELEASE RELNOTES TODO
@


1.51
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/06/22 17:22:37 sebastia Exp $
d11 1
a11 1
REVISION-main=		3
@


1.50
log
@Fix to build with gcc-2.95

OK jasper@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/06/02 13:41:42 ajacoutot Exp $
d12 1
a12 1
REVISION-demos= 	1
@


1.49
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/11/22 08:37:03 espie Exp $
d11 1
a11 1
REVISION-main=		2
@


1.48
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/11/07 19:52:00 jasper Exp $
d11 1
a11 1
REVISION-main=		1
@


1.47
log
@- switch to pkg-readmes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/24 21:15:33 ajacoutot Exp $
d33 1
a33 1
USE_GROFF =	Yes
d52 3
a54 3
LIB_DEPENDS=		::graphics/jpeg \
			::graphics/png
LIB_DEPENDS-demos=	::x11/openmotif \
@


1.46
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/10/19 08:13:58 espie Exp $
d11 1
a11 1
REVISION-main=		0
a87 1
	@@${INSTALL_DATA} ${FILESDIR}/README.OpenBSD ${DOCDIR}
@


1.45
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/09/12 16:49:09 jasper Exp $
a32 1
USE_X11=		Yes
@


1.44
log
@- move distfiles/ to a proper mirroring location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/08/31 21:04:06 jasper Exp $
d34 1
@


1.43
log
@- fix a few of the more scarier implicit declarations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/07/30 12:03:09 ajacoutot Exp $
d20 1
a20 1
MASTER_SITES=		http://www.phil.uu.nl/~lievisse/distfiles/ \
@


1.42
log
@Move to new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/04/24 20:17:13 naddy Exp $
d12 1
a12 1
REVISION-demos= 	0
@


1.41
log
@update to 2.3.3, which doesn't need libXp any longer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/02/17 18:15:09 jasper Exp $
d11 3
d52 3
a54 3
LIB_DEPENDS=		jpeg::graphics/jpeg \
			png::graphics/png
LIB_DEPENDS-demos=	Xm.>=4.0,Mrm.>=4.0::x11/openmotif \
d58 3
a60 2
			expat fontconfig freetype m z pthread-stubs xcb
WANTLIB-demos=		${WANTLIB}
@


1.40
log
@- fix a regression from the last openmotif update, which would manifest
in an extra (empty) pane in xpdf.

from upstream bug #1476.

from sthen@@, tested by kili@@ and me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/12/14 21:51:52 jasper Exp $
d6 1
a6 1
VERSION=		2.3.2
d8 2
a9 2
PKGNAME-main=		openmotif-${VERSION}p1
PKGNAME-demos=		openmotif-demos-${VERSION}p0
d12 2
a13 2
			Uil	4.1	\
			Xm	5.0
d34 2
a35 1
			--enable-jpg \
d54 1
a54 1
WANTLIB=		ICE SM X11 Xext Xp Xt c Xau Xdmcp Xft Xrender \
@


1.39
log
@- add png and jpeg support
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/12/14 18:03:36 jasper Exp $
d8 1
a8 1
PKGNAME-main=		openmotif-${VERSION}p0
@


1.38
log
@- update openmotif to 2.3.2
- minor tweaks to the port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/09/15 17:37:22 jasper Exp $
d8 2
a9 2
PKGNAME-main=		openmotif-${VERSION}
PKGNAME-demos=		openmotif-demos-${VERSION}
d33 5
a37 1
			--enable-xft
d48 2
d51 2
a52 1
			${MODLIBICONV_LIB_DEPENDS}
d54 2
a55 2
			expat fontconfig freetype z pthread-stubs xcb
WANTLIB-demos=		${WANTLIB} m
@


1.37
log
@remove marc balmer as maintainer of all of his ports, to take away the
illusion marc still maintains them. as requested by himself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2009/08/12 14:12:22 ajacoutot Exp $
d6 1
a6 1
VERSION=		2.3.0
d8 2
a9 2
PKGNAME-main=		openmotif-${VERSION}p3
PKGNAME-demos=		openmotif-demos-${VERSION}p4
d11 3
a13 3
SHARED_LIBS=		Mrm	4.0	\
			Uil	4.0	\
			Xm	4.0
d16 3
a18 2
#MASTER_SITES=		http://ftp.ics.com/openmotif/2.3/${VERSION}/
MASTER_SITES=		ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/openmotif/
d40 12
d65 4
a68 4
# respect PREFIX
	@@cd ${WRKSRC}/config/cf && \
	    perl -pi -e "s|%%PREFIX%%|${PREFIX}|g" host.def Motif.tmpl \
	    config.cf
a81 11

MODULES=		converters/libiconv

LIB_DEPENDS-demos=	Xm.>=4.0,Mrm.>=4.0::x11/openmotif \
			${MODLIBICONV_LIB_DEPENDS}
WANTLIB=		ICE SM X11 Xext Xp Xt c Xau Xdmcp Xft Xmu Xrender \
			expat fontconfig freetype z pthread-stubs xcb
WANTLIB-demos=		${WANTLIB} m

# XXX  Large, complicated, only partially automated test suite available
NO_REGRESS=	Yes
@


1.36
log
@Use converters/libiconv module and add MODLIBICONV_LIB_DEPENDS where
needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/08/11 08:42:08 ajacoutot Exp $
d8 2
a9 2
PKGNAME-main=		openmotif-${VERSION}p2
PKGNAME-demos=		openmotif-demos-${VERSION}p3
a18 2

MAINTAINER=		Marc Balmer <mbalmer@@openbsd.org>
@


1.35
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/01/04 17:48:38 espie Exp $
d8 2
a9 2
PKGNAME-main=		openmotif-${VERSION}p1
PKGNAME-demos=		openmotif-demos-${VERSION}p2
d72 4
a75 2
LIB_DEPENDS=		iconv.>=1.9::converters/libiconv
LIB_DEPENDS-demos=	Xm.>=4.0,Mrm.>=4.0::x11/openmotif
d77 1
a77 1
			expat fontconfig freetype z iconv pthread-stubs xcb
@


1.34
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/10/17 07:57:03 mbalmer Exp $
d8 2
a9 2
PKGNAME-main=		openmotif-${VERSION}p0
PKGNAME-demos=		openmotif-demos-${VERSION}p1
d75 1
a75 1
			expat fontconfig freetype z iconv
@


1.33
log
@Remove some C99 idioms and allow this package to be build on gcc2
architectures.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/10/15 21:55:53 mbalmer Exp $
a40 1
FAKE_FLAGS=		${MAKE_FLAGS} ${DESTDIRNAME}=${WRKINST}
@


1.32
log
@OpenMotif can not be build on the vax at the moment.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.31 2007/08/14 14:19:11 mbalmer Exp $

NOT_FOR_ARCHS=		vax
d8 2
a9 2
PKGNAME-main=		openmotif-${VERSION}
PKGNAME-demos=		openmotif-demos-${VERSION}p0
@


1.31
log
@Change master site to match distinfo/distfile (openmotif people rerolled
a new tarball without bumping the version number).

ok espie, naddy
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.30 2007/08/03 17:42:45 bernd Exp $
@


1.30
log
@Add @@conflict markers for the following conflicts:

devtodo-0.1.17p1,openmotif-demos-2.3.0
        /usr/local/bin/todo
gnokii-0.6.14p2,gnokii-0.6.14p2-no_x11,smstools-3.0.9
        /usr/local/bin/sendsms
openmotif-demos-2.3.0,tree-0.61
        /usr/local/bin/tree

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/07/18 21:41:05 mbalmer Exp $
d16 2
a17 1
MASTER_SITES=		http://ftp.ics.com/openmotif/2.3/${VERSION}/
@


1.29
log
@Update OpenMotif to version 2.3.0.  This brings the additions of OpenMotif
2.2 and the new support for antialiased fonts (using Xft) and UTF-8.

I take maintainership of OpenMotif with this update.

ok simon@@, kurt@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/11/23 23:30:06 kili Exp $
d9 1
a9 1
PKGNAME-demos=		openmotif-demos-${VERSION}
@


1.28
log
@
MULTI_PACKAGES

ok, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/11/07 21:32:47 espie Exp $
d3 2
a4 26
COMMENT-main=	"Motif toolkit"
COMMENT-debuglibs="Motif toolkit debug libraries"
COMMENT-demos=	"Motif toolkit demos"
VERSION=	2.1.30
DISTNAME=	motif
PATCHLEVEL=	5
PKGNAME-main=	openmotif-${VERSION}.${PATCHLEVEL}p2
PKGNAME-demos=	openmotif-demos-${VERSION}.${PATCHLEVEL}p0
PKGNAME-debuglibs=openmotif-debuglibs-${VERSION}.${PATCHLEVEL}p0

SHARED_LIBS=	Mrm	3.0	\
		Uil	3.0	\
		Xm	3.0

CATEGORIES=	x11

MASTER_SITES=	ftp://ftp.opengroup.org/pub/openmotif/R${VERSION}/tars/ \
		ftp://openmotif.opengroup.org/pub/openmotif/R${VERSION}/tars/ \
		ftp://ftp.kddlabs.co.jp/X11/openmotif/R${VERSION}/tars/
MASTER_SITES0=	ftp://ftp.opengroup.org/pub/openmotif/R${VERSION}/fixes/ \
		ftp://openmotif.opengroup.org/pub/openmotif/R${VERSION}/fixes/ \
		ftp://ftp.kddlabs.co.jp/X11/openmotif/R${VERSION}/fixes/
MASTER_SITES1=	http://www.opengroup.org/openmotif/license/
DISTFILES=	openmotif${VERSION}.tar.gz index.html:1
DIST_SUBDIR=	openmotif
EXTRACT_ONLY=	openmotif${VERSION}.tar.gz
d6 4
a9 2
PATCHFILES=	patch1:0 patch2:0 patch3:0 patch4:0 patch5:0
PATCH_DIST_STRIP=	-p1
d11 11
a21 1
HOMEPAGE=	http://www.opengroup.org/openmotif/
a22 2
# license only available on webpage
# http://www.opengroup.org/openmotif/license
d28 1
a28 1
MULTI_PACKAGES=	-demos -debuglibs -main
d30 11
a40 32
USE_X11=	Yes

ALL_TARGET=	World
INSTALL_TARGET=	install install.man

MAKE_FLAGS=	SOMRMREV=${LIBMrm_VERSION}	\
		SOUILREV=${LIBUil_VERSION}	\
		SOXMREV=${LIBXm_VERSION}
FAKE_FLAGS=	${MAKE_FLAGS} ${DESTDIRNAME}=${WRKINST}

# This dialog has been copied from the lesstif port.
.if defined(HAVE_MOTIF) && ${HAVE_MOTIF:L} == "yes"
IS_INTERACTIVE=	Yes

pre-extract:
	@@echo "***********************************************************"
	@@echo "*                      W a r n i n g                      *"
	@@echo "* This port will overwrite your Motif installation.       *"
	@@echo "***********************************************************"
	@@echo -n "Is this ok? (y/n) ==> "
	@@(read ans; \
	  case x"$$ans" in \
	    xy*|xY*) \
		return 0; \
		;; \
	    *) \
		echo "Okay, I won't install it then...."; \
		echo "(Don't worry about the following \"*** Error code 1's)"; \
		return 1; \
		;; \
	esac)
.endif
a48 2
# Import from our current X installation.
	@@cp -f `ls ${X11BASE}/lib/X11/config/* | egrep -v '(Motif|bsdLib.tmpl|cde|\/site.def|host.def)'` ${WRKDIR}/motif/config/cf
d56 2
a57 1
	    perl -pi -e "s|%%PREFIX%%|${PREFIX}|g" host.def Motif.tmpl config.cf
d59 1
a59 1
DOCS=BUGREPORT CLOSEDBUGS COPYRIGHT.MOTIF OPENBUGS README RELEASE RELNOTES
a63 1
	@@${INSTALL_DATA} ${FULLDISTDIR}/index.html ${DOCDIR}/LICENSE.html
d66 11
a76 5

LIB_DEPENDS-demos=	Xm.>=2.1,Uil.>=2.1,Mrm.>=2.1::x11/openmotif
RUN_DEPENDS-debuglibs=	::x11/openmotif
WANTLIB-debuglibs=
WANTLIB=		ICE SM X11 Xext Xp Xt c m 
@


1.27
log
@prevent recursive builds. It's a wonder it worked until now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/09/18 10:21:49 espie Exp $
d3 1
a3 1
COMMENT=	"Motif toolkit"
d9 1
a9 1
PKGNAME=	openmotif-${VERSION}.${PATCHLEVEL}p1
d42 1
a42 2
MULTI_PACKAGES=	-demos -debuglibs
SUBPACKAGE?=
d104 4
a107 12
.if defined(PACKAGING)
.  if ${SUBPACKAGE} == "-demos"
LIB_DEPENDS+=	Xm.>=2.1,Uil.>=2.1,Mrm.>=2.1::x11/openmotif
.  endif
.  if ${SUBPACKAGE} == "-debuglibs"
RUN_DEPENDS+=	::x11/openmotif
.  endif
.endif

.if ${SUBPACKAGE} != "-debuglibs"
WANTLIB=	ICE SM X11 Xext Xp Xt c m 
.endif
@


1.26
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/02/08 04:54:50 david Exp $
d105 2
a106 1
.if ${SUBPACKAGE} == "-demos"
d108 4
d113 2
a114 3
.if ${SUBPACKAGE} == "-debuglibs"
RUN_DEPENDS+=	::x11/openmotif
.else
@


1.25
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/12/30 22:21:21 steven Exp $
d106 1
a106 1
LIB_DEPENDS+=	Xm.2.1,Uil.2.1,Mrm.2.1::x11/openmotif
@


1.24
log
@SHARED_LIBS, remove inactive maintainer, bump PKGNAMEs
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/05/11 19:08:53 alek Exp $
d78 1
a78 1
post-patch:
@


1.23
log
@- Bump lib major after recent libc changes
- Bump PKGNAME

go ahead espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/12/19 15:06:23 alek Exp $
d9 7
a15 3
PKGNAME=	openmotif-${VERSION}.${PATCHLEVEL}p0
PKGNAME-demos=	openmotif-demos-${VERSION}.${PATCHLEVEL}
PKGNAME-debuglibs=openmotif-debuglibs-${VERSION}.${PATCHLEVEL}
a34 2
MAINTAINER=	Sungman Cho <smcho@@tsp.korea.ac.kr>

d49 5
@


1.22
log
@- Fix WANTLIB
- Fix -debuglibs dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/12/17 15:18:34 alek Exp $
d9 1
a9 1
PKGNAME=	openmotif-${VERSION}.${PATCHLEVEL}
@


1.21
log
@Add WANTLIB markers, part two
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/02/22 16:47:58 naddy Exp $
a38 1
WANTLIB=		ICE SM X11 Xext Xp Xt c m 
d98 7
a104 2
.if ${SUBPACKAGE} == "-demos" || ${SUBPACKAGE} == "-debuglibs"
LIB_DEPENDS+=	Xm.2.1::x11/openmotif
@


1.20
log
@This works on sparc64 when built with gcc3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2003/10/08 17:13:17 sturm Exp $
d39 1
@


1.20.2.1
log
@fix stack and integer overflows in the Xpm library code

CAN-2004-0687, CAN-2004-0688
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/02/22 16:47:58 naddy Exp $
d9 1
a9 1
PKGNAME=	openmotif-${VERSION}.${PATCHLEVEL}p1
@


1.19
log
@first bunch of license cleanup, some discussions about interpretation
during the release with pval@@

other categories will follow once they are finished
@
text
@d1 1
a1 5
# $OpenBSD: Makefile,v 1.18 2003/09/02 22:07:17 pvalchev Exp $

.if ${MACHINE_ARCH} == "sparc64"
BROKEN=		"programs compiled with this miss menus, fonts, etc."
.endif
@


1.18
log
@mark as broken on sparc64: programs compiled with this miss menus, fonts, etc
reminded by brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/06/29 19:42:23 naddy Exp $
d37 2
@


1.18.2.1
log
@fix stack and integer overflows in the Xpm library code

CAN-2004-0687, CAN-2004-0688
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/09/02 22:07:17 pvalchev Exp $
d4 1
a4 1
#BROKEN=		"programs compiled with this miss menus, fonts, etc."
d13 1
a13 1
PKGNAME=	openmotif-${VERSION}.${PATCHLEVEL}p1
@


1.17
log
@Use egrep rather than relying on non-standard GNU grep syntax.
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.16 2002/10/29 19:48:58 naddy Exp $
@


1.16
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/03/21 21:25:55 espie Exp $
d77 1
a77 1
	@@cp -f `ls ${X11BASE}/lib/X11/config/* | grep -v '\(Motif\|bsdLib.tmpl\|cde\|\/site.def\|host.def\)'` ${WRKDIR}/motif/config/cf
@


1.15
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/09/30 07:21:44 pvalchev Exp $
d14 1
a14 1
NEED_VERSION=	1.515
d99 3
@


1.14
log
@- Do not copy bsdLib.tmpl from X11 and overwrite the existing one, instead
add a patch ensuring the expected functionality.
- Add missing libXp to the linking, so that openmotif ports build with
binutils.
tested on macppc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/08/17 02:38:44 pvalchev Exp $
d14 1
a14 1
NEED_VERSION=	1.340
@


1.13
log
@/usr/X11R6 -> ${X11BASE}, tar -> ${TAR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/05/05 21:29:21 espie Exp $
d77 1
a77 1
	@@cp -f `ls ${X11BASE}/lib/X11/config/* | grep -v '\(Motif\|cde\|\/site.def\|host.def\)'` ${WRKDIR}/motif/config/cf
@


1.12
log
@PKGNAME nailed before include bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/04/15 13:27:41 matt Exp $
d77 1
a77 1
	@@cp -f `ls /usr/X11R6/lib/X11/config/* | grep -v '\(Motif\|cde\|\/site.def\|host.def\)'` ${WRKDIR}/motif/config/cf
@


1.11
log
@Respect PREFIX when installing Motif.{rules,tmpl}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/04/10 20:01:29 espie Exp $
d3 3
d10 3
a95 2
.include <bsd.port.mk>

d97 1
a97 2
PKGNAME:=	openmotif${SUBPACKAGE}-${VERSION}.${PATCHLEVEL}
LIB_DEPENDS=	Xm.2.1::x11/openmotif
d99 2
@


1.10
log
@And put it together
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/03/13 04:19:08 brad Exp $
a69 2
	@@cd ${WRKSRC}/config/cf && \
	    perl -pi -e "s|%%PREFIX%%|${PREFIX}|g" host.def Motif.tmpl
d77 3
@


1.9
log
@- better comment
- move check for SUBPACKAGE until after bsd.port.mk has been included.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/01/21 20:06:29 brad Exp $
d15 2
a16 1
DISTFILES=	openmotif${VERSION}.tar.gz
d18 1
d27 2
a28 2
PERMIT_PACKAGE_CDROM=	Unclear
PERMIT_DISTFILES_CDROM=	Unclear
d79 9
@


1.8
log
@yes -> Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/01/21 18:36:56 brad Exp $
a32 5
.if ${SUBPACKAGE} == "-demos" || ${SUBPACKAGE} == "-debuglibs"
PKGNAME:=	openmotif${SUBPACKAGE}-${VERSION}.${PATCHLEVEL}
LIB_DEPENDS=	Xm.2::x11/openmotif
.endif

d38 1
a38 1
# This dialog has been copied off from lesstif port.
d79 5
@


1.7
log
@cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/01/03 00:02:55 matt Exp $
d38 1
a38 1
USE_X11=	yes
@


1.6
log
@From maintainer (smcho@@tsp.korea.ac.kr):
- bring in latest patches
- added subpackages for demos and debuglibs
- only install Motif.rules and Motif.tmpl in config
- don't build config tools that OpenBSD already has
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/10/23 16:08:12 espie Exp $
d3 1
a4 1
VERSION=	2.1.30
d9 11
a29 12
MASTER_SITES=	ftp://ftp.opengroup.org/pub/openmotif/R${VERSION}/tars/ \
		ftp://openmotif.opengroup.org/pub/openmotif/R${VERSION}/tars/ \
		ftp://ftp.kddlabs.co.jp/X11/openmotif/R${VERSION}/tars/
MASTER_SITES0=	ftp://ftp.opengroup.org/pub/openmotif/R${VERSION}/fixes/ \
		ftp://openmotif.opengroup.org/pub/openmotif/R${VERSION}/fixes/ \
		ftp://ftp.kddlabs.co.jp/X11/openmotif/R${VERSION}/fixes/

DISTFILES=	openmotif${VERSION}.tar.gz
PATCHFILES=	patch1:0 patch2:0 patch3:0 patch4:0 patch5:0
PATCH_DIST_STRIP=-p1
DIST_SUBDIR=	openmotif

d31 1
a32 2
.if defined(SUBPACKAGE)
PKGNAME=	openmotif${SUBPACKAGE}-${VERSION}.${PATCHLEVEL}
d34 2
a35 2
RUN_DEPENDS=	Xm.2::x11/openmotif
.endif
d39 1
d44 3
a46 2
.if defined(HAVE_MOTIF)
IS_INTERACTIVE= yes
a72 1

a83 1

@


1.5
log
@MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/08/10 01:40:40 matt Exp $
d4 3
a6 2
PKGNAME=	openmotif-2.1.30

d8 1
a8 1
NEED_VERSION=	1.310
d19 20
a38 4
MASTER_SITES=	ftp://openmotif.opengroup.org/pub/openmotif/R2.1.30/tars/ \
		ftp://ftp.opengroup.org/pub/openmotif/R2.1.30/tars/ \
		ftp://ftp.isca.uiowa.edu/pub/mirrors/openmotif/tars
DISTFILES=	openmotif2.1.30.tar.gz
d42 1
d71 1
a71 2
	@@cd ${WRKSRC}/doc/man/man4 && perl -pi -e "s|special file|5|" *.4 \
	    && mv mwmrc.4 ../man5/mwmrc.5
d73 1
d75 1
a75 4
	    sed -e "s|%%PREFIX%%|${PREFIX}|g" < site.def > site.def.new && \
	    mv -f site.def.new site.def && \
	    sed -e "s|%%PREFIX%%|${PREFIX}|g" < Motif.tmpl > Motif.tmpl.new && \
	    mv -f Motif.tmpl.new Motif.tmpl
d77 1
a77 1
	@@cp -f `ls /usr/X11R6/lib/X11/config/* | grep -v '\(Motif\|cde\|\/site.def\)'` ${WRKDIR}/motif/config/cf
a81 20
	done

post-build:
# tblize the manpages.
	@@for i in man1 man3 man5 ; do cd ${WRKSRC}/doc/man/$$i; \
	    echo "building in doc/man/$$i"; \
	    for m in *; do \
		tbl $$m > $$m.new && \
		mv -f $$m.new $$m; \
	    done; \
	done

# Install the manpages.
post-install:
	@@for i in man1 man3 man5 ; do cd ${WRKSRC}/doc/man/$$i; \
	    echo "installing in doc/man/$$i"; \
	    for m in *; do \
		mkdir -p ${PREFIX}/man/$$i; \
		$(INSTALL_MAN) $$m ${PREFIX}/man/$$i; \
	    done; \
@


1.4
log
@- consolidate pre-build steps into post-patch
- eliminate XCONFIGF in Makefile to prevent multiple evaluations
- point mwm at PROJECTROOT (i.e. /usr/local) instead of XPROJECTROOT
  (i.e. /usr/X11R6) to find lib/X11/system.mwmrc
- tblize manpages
- break up patches and rename to match current convention
- prettify Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/07/08 18:19:49 brad Exp $
d11 1
a11 1
MAINTAINER=	smcho@@tsp.korea.ac.kr
@


1.3
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/07/08 18:11:23 espie Exp $
d5 1
a7 4
MASTER_SITES=	ftp://openmotif.opengroup.org/pub/openmotif/R2.1.30/tars/ \
		ftp://ftp.opengroup.org/pub/openmotif/R2.1.30/tars/ \
		ftp://ftp.isca.uiowa.edu/pub/mirrors/openmotif/tars
DISTFILES=	openmotif2.1.30.tar.gz
d18 5
a23 1

d61 2
a62 4

pre-build:
	# Import from our current X installation.
	@@cp -f ${XCONFIGF} ${WRKDIR}/motif/config/cf
d69 11
a79 2
# Install the manpages, because the Open Group doesn't think we need them.
# Silly Open Group.
a80 1
	@@echo -n "installing man pages:"
d82 1
a82 1
	    echo -n " $$i"; \
d84 2
a85 2
		 mkdir -p ${PREFIX}/man/$$i; \
		 $(INSTALL_MAN) $$m ${PREFIX}/man/$$i; \
a87 1
	@@echo "."
a90 4
# This is your current XFree86 configuration files.
# You don't want to use the vanilla configuration files in the DISTFILE.
# The distributed config files do not know what OpenBSD is.
XCONFIGF!= ls /usr/X11R6/lib/X11/config/* | grep -v '\(Motif\|cde\|\/site.def\)'
@


1.2
log
@- fake is on by default;
- no blank line between CATEGORIES and NEED_VERSION
- no version number in COMMENT
- remove unnecessary extra subshells
- fix PFRAG.shared (bug in make plist)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/07/08 14:21:58 matt Exp $
a6 1

d10 1
d12 1
a12 1
DISTFILES=	openmotif2.1.30.tar.gz
a88 1

@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a5 1

a15 2
FAKE=		Yes

d49 2
a50 2
	@@(cd ${WRKSRC}/doc/man/man1 && perl -pi -e "s|user cmd|1|" *.1)
	@@(cd ${WRKSRC}/doc/man/man3 && perl -pi -e "s|library call|3|" *.3)
d52 4
a55 4
	@@(cd ${WRKSRC}/doc/man/man4 && perl -pi -e "s|special file|5|" *.4 \
	    && mv mwmrc.4 ../man5/mwmrc.5)
	@@(cd ${WRKSRC}/doc/man/man5 && perl -pi -e "s|file formats|5|" *.5)
	@@(cd ${WRKSRC}/config/cf && \
d59 1
a59 1
	    mv -f Motif.tmpl.new Motif.tmpl )
d65 1
a65 1
	@@(cd ${WRKSRC}/imports/x11 && for i in bin include lib ; do \
d68 1
a68 1
	done)
d72 1
a72 2
do-install:
	@@(cd ${WRKSRC} && ${MAKE} install)
d74 1
a74 1
	@@(for i in man1 man3 man5 ; do cd ${WRKSRC}/doc/man/$$i; \
d80 1
a80 1
	done)
@


1.1.1.1
log
@New port: openmotif; maintainer: smcho@@tsp.korea.ac.kr
@
text
@@
