head	1.76;
access;
symbols
	OPENBSD_4_4:1.75.0.4
	OPENBSD_4_4_BASE:1.75
	OPENBSD_4_3:1.75.0.2
	OPENBSD_4_3_BASE:1.75
	OPENBSD_4_2:1.74.0.2
	OPENBSD_4_2_BASE:1.74
	OPENBSD_4_1:1.73.0.2
	OPENBSD_4_1_BASE:1.73
	OPENBSD_4_0:1.71.0.4
	OPENBSD_4_0_BASE:1.71
	OPENBSD_3_9:1.71.0.2
	OPENBSD_3_9_BASE:1.71
	OPENBSD_3_8:1.66.0.4
	OPENBSD_3_8_BASE:1.66
	OPENBSD_3_7:1.66.0.2
	OPENBSD_3_7_BASE:1.66
	OPENBSD_3_6:1.65.0.4
	OPENBSD_3_6_BASE:1.65
	OPENBSD_3_5:1.65.0.2
	OPENBSD_3_5_BASE:1.65
	OPENBSD_3_4:1.63.0.4
	OPENBSD_3_4_BASE:1.63
	OPENBSD_3_3:1.63.0.2
	OPENBSD_3_3_BASE:1.63
	OPENBSD_3_2:1.62.0.2
	OPENBSD_3_2_BASE:1.62
	OPENBSD_3_1:1.61.0.2
	OPENBSD_3_1_BASE:1.61
	OPENBSD_3_0:1.57.0.2
	OPENBSD_3_0_BASE:1.57
	OPENBSD_2_9_TRACKING_SWITCH:1.57
	OPENBSD_2_9:1.55.0.2
	OPENBSD_2_9_BASE:1.55
	OPENBSD_2_8:1.53.0.2
	OPENBSD_2_8_BASE:1.53
	OPENBSD_2_7:1.34.0.2
	OPENBSD_2_7_BASE:1.34
	OPENBSD_2_6:1.23.0.2
	OPENBSD_2_6_BASE:1.23
	OPENBSD_2_5:1.17.0.2
	OPENBSD_2_5_BASE:1.17
	OPENBSD_2_4:1.6.0.2
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	qt-1_31:1.1.1.1
	qt:1.1.1;
locks; strict;
comment	@# @;


1.76
date	2008.09.08.08.48.31;	author brad;	state dead;
branches;
next	1.75;

1.75
date	2007.09.15.20.04.23;	author merdely;	state Exp;
branches;
next	1.74;

1.74
date	2007.05.22.11.16.00;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2006.11.21.11.54.02;	author espie;	state Exp;
branches;
next	1.72;

1.72
date	2006.09.18.10.21.49;	author espie;	state Exp;
branches;
next	1.71;

1.71
date	2006.02.08.04.54.50;	author david;	state Exp;
branches;
next	1.70;

1.70
date	2006.01.14.06.38.56;	author pvalchev;	state Exp;
branches;
next	1.69;

1.69
date	2006.01.13.19.18.49;	author espie;	state Exp;
branches;
next	1.68;

1.68
date	2005.12.29.13.09.10;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2005.10.30.00.10.42;	author fgsch;	state Exp;
branches;
next	1.66;

1.66
date	2004.12.19.20.18.55;	author alek;	state Exp;
branches;
next	1.65;

1.65
date	2004.02.04.07.39.19;	author sturm;	state Exp;
branches;
next	1.64;

1.64
date	2004.01.01.15.39.29;	author espie;	state Exp;
branches;
next	1.63;

1.63
date	2002.12.29.20.31.41;	author fgsch;	state Exp;
branches;
next	1.62;

1.62
date	2002.05.26.19.04.00;	author brad;	state Exp;
branches;
next	1.61;

1.61
date	2002.03.21.21.25.55;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2001.11.11.13.57.32;	author heko;	state Exp;
branches;
next	1.59;

1.59
date	2001.10.28.19.05.23;	author brad;	state Exp;
branches;
next	1.58;

1.58
date	2001.10.28.12.30.14;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2001.07.03.12.07.53;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2001.06.09.19.53.22;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2001.04.18.14.59.28;	author brad;	state Exp;
branches;
next	1.54;

1.54
date	2001.04.18.14.48.54;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2000.10.08.04.29.58;	author brad;	state Exp;
branches;
next	1.52;

1.52
date	2000.09.24.07.04.16;	author brad;	state Exp;
branches;
next	1.51;

1.51
date	2000.09.07.00.42.05;	author brad;	state Exp;
branches;
next	1.50;

1.50
date	2000.09.06.21.35.06;	author brad;	state Exp;
branches;
next	1.49;

1.49
date	2000.09.02.21.20.58;	author brad;	state Exp;
branches;
next	1.48;

1.48
date	2000.08.30.02.37.52;	author brad;	state Exp;
branches;
next	1.47;

1.47
date	2000.08.25.03.55.24;	author brad;	state Exp;
branches;
next	1.46;

1.46
date	2000.08.08.21.55.57;	author brad;	state Exp;
branches;
next	1.45;

1.45
date	2000.07.09.01.23.21;	author brad;	state Exp;
branches;
next	1.44;

1.44
date	2000.07.08.20.25.40;	author brad;	state Exp;
branches;
next	1.43;

1.43
date	2000.06.30.07.01.33;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2000.06.23.09.45.14;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2000.06.14.06.16.55;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2000.06.09.19.18.14;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2000.05.24.00.16.03;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2000.05.23.21.25.37;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2000.05.22.11.31.15;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2000.05.22.10.48.55;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2000.05.19.13.36.21;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2000.03.26.21.36.09;	author brad;	state Exp;
branches
	1.34.2.1;
next	1.33;

1.33
date	2000.03.26.20.43.10;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2000.03.24.22.12.05;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2000.03.08.08.55.32;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2000.03.08.01.27.42;	author kevlo;	state Exp;
branches;
next	1.29;

1.29
date	2000.03.05.18.30.47;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2000.01.12.05.38.55;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2000.01.12.05.26.01;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2000.01.12.05.19.49;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	99.12.20.01.15.21;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	99.11.30.02.32.22;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	99.06.20.23.54.29;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	99.06.13.03.44.49;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	99.06.07.15.58.48;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	99.05.28.18.10.19;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	99.05.27.21.02.16;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	99.05.27.20.13.30;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	99.04.12.23.23.09;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	99.04.09.05.12.32;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	99.04.09.04.51.39;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.03.23.22.00.04;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.03.10.04.00.14;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.03.07.03.40.09;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	99.03.07.02.25.55;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.03.02.04.41.10;	author marc;	state Exp;
branches;
next	1.9;

1.9
date	99.02.21.04.26.16;	author marc;	state Exp;
branches;
next	1.8;

1.8
date	99.02.18.02.37.40;	author marc;	state Exp;
branches;
next	1.7;

1.7
date	98.11.27.10.42.45;	author form;	state Exp;
branches;
next	1.6;

1.6
date	98.10.20.08.39.50;	author form;	state Exp;
branches;
next	1.5;

1.5
date	98.07.23.03.57.51;	author form;	state Exp;
branches;
next	1.4;

1.4
date	98.07.22.12.49.44;	author form;	state Exp;
branches;
next	1.3;

1.3
date	98.07.15.05.51.23;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.04.13.03.23.26;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.01.24.21.31.53;	author don;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.01.24.21.31.53;	author don;	state Exp;
branches;
next	;

1.34.2.1
date	2000.09.15.05.25.19;	author marc;	state Exp;
branches;
next	;


desc
@@


1.76
log
@Bye bye Qt. No longer being used by anything in the ports tree.

"I'm all in favor of dropping old unmaintained stuffs" ajacoutot@@
"I can only fully agree to antoine and you wrt ditching the old stuff" jasper@@
@
text
@# $OpenBSD: Makefile,v 1.75 2007/09/15 20:04:23 merdely Exp $
# $FreeBSD: Makefile,v 1.33 1999/02/27 03:09:57 andreas Exp $

COMMENT-main=	C++ X11 GUI toolkit
COMMENT-examples=examples and tutorial for qt
COMMENT-html=	off-line html documentation for qt

VERSION=	1.45
DISTNAME=	qt-${VERSION}
PKGNAME-examples=qt-examples-${VERSION}
PKGNAME-html=	qt-html-${VERSION}p0
PKGNAME-main=	qt-${VERSION}p3
CATEGORIES=	x11
MASTER_SITES=	ftp://ftp.troll.no/qt/source/
SHARED_LIBS=	qt	10.0 \
		qimgio	2.0

HOMEPAGE=	http://www.trolltech.com/products/qt/

# for the qt image extension
BUILD_DEPENDS=	::graphics/jpeg \
		::graphics/png

PERMIT_PACKAGE_CDROM=	Restrictive license
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Restrictive license
PERMIT_DISTFILES_FTP=	Yes

MAKE_FLAGS=	QT_VER_MAJ=${LIBqt_VERSION:R} QT_VER_MIN=${LIBqt_VERSION:E} \
    QIMGIO_VER_MAJ=${LIBqimgio_VERSION:R} QIMGIO_VER_MIN=${LIBqimgio_VERSION:E}

USE_X11=	Yes
USE_GMAKE=	Yes
MAKE_ENV=	QTDIR="${WRKSRC}" SYS_CXX="${CXX}" SYS_CXXFLAGS="${CXXFLAGS}"

MULTI_PACKAGES=	-main -examples -html


WANTLIB=		X11 Xext c m stdc++
LIB_DEPENDS-examples=	lib/qt/qt.>=1::x11/qt
PKG_ARCH-html=	*
WANTLIB-html=	

NO_REGRESS=	Yes

QT_INCDIR=	${PREFIX}/include/X11/qt
QT_LIBDIR=	${PREFIX}/lib/qt
QT_MANDIR=	${QT_LIBDIR}/man
QT_EXAMPLES=	${QT_LIBDIR}/examples
QT_TUTORIAL=	${QT_LIBDIR}/tutorial
QT_DOC=		${PREFIX}/share/doc/qt

# for manpages in MESSAGE
SUBST_VARS=	QT_LIBDIR QT_DOC

IMAGEIODIR=	${WRKSRC}/extensions/imageio/src

DOCS=	ANNOUNCE FAQ LICENSE README README.QT changes-1.40 changes-1.41 \
	changes-1.42 changes-1.43 changes-1.44 changes-1.45

pre-configure:
	@@cd ${WRKSRC}/configs; for i in openbsd-*; do \
	    mv -f $$i $$i.bak && \
		sed -e s,/usr/local,${LOCALBASE}, \
		-e s,/usr/X11R6,${X11BASE}, <$$i.bak >$$i; \
	done

do-configure:
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE} ${USE_TARGET}

post-configure:
	@@cd ${WRKSRC} && cp -R examples examples-src
	@@cd ${WRKSRC} && cp -R tutorial tutorial-src

VMEM_WARNING=	Yes

post-build:
	@@cd ${IMAGEIODIR} && \
		${SETENV} ${MAKE_ENV} SYS_CXXFLAGS='-I$(LOCALBASE)/include/libpng -I$(LOCALBASE)/include ${CXXFLAGS}' ${MAKE} ${MAKE_FLAGS}

do-install:
	${INSTALL_DATA_DIR} ${QT_INCDIR}
	${INSTALL_DATA_DIR} ${QT_MANDIR}/man1
	${INSTALL_DATA_DIR} ${QT_MANDIR}/man3
	${INSTALL_DATA_DIR} ${QT_EXAMPLES}
	${INSTALL_DATA_DIR} ${QT_TUTORIAL}
	${INSTALL_DATA_DIR} ${QT_DOC}/html
	${INSTALL_DATA_DIR} ${PREFIX}/lib/qt
	@@if [ -f ${WRKBUILD}/lib/libqt.a ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.a ${PREFIX}/lib/qt; \
	fi
	@@if [ -f ${WRKBUILD}/lib/libqt.so.${LIBqt_VERSION} ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.so.${LIBqt_VERSION} ${PREFIX}/lib/qt; \
	 ln -sf qt/libqt.so.${LIBqt_VERSION} ${PREFIX}/lib; \
	fi
	@@if [ -f ${WRKBUILD}/lib/libqimgio.a ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqimgio.a ${PREFIX}/lib; \
	fi
	@@if [ -f ${WRKBUILD}/lib/libqimgio.so.${LIBqimgio_VERSION} ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqimgio.so.${LIBqimgio_VERSION} ${PREFIX}/lib; \
	fi
	${INSTALL_PROGRAM} ${WRKBUILD}/bin/moc ${PREFIX}/bin
	${INSTALL_DATA} ${WRKSRC}/include/* ${QT_INCDIR}
	${INSTALL_MAN} ${WRKSRC}/man/man1/* ${QT_MANDIR}/man1
	@@for i in ${WRKSRC}/man/man3/*; do \
	  j=$${i%qt}; \
	  sed -e 's,\.3qt,\.3,g' <$$i >$$j && \
	  	${INSTALL_MAN} $$j ${QT_MANDIR}/man3; \
	done
	cp -R ${WRKSRC}/examples-src/* ${QT_EXAMPLES}
	@@cd ${WRKSRC}/examples; for i in *; do \
	if [ -x $$i/$$i ]; then \
	    ${INSTALL_PROGRAM} $$i/$$i ${QT_EXAMPLES}/$$i; \
	fi; done
	cp -R ${WRKSRC}/tutorial-src/* ${QT_TUTORIAL}
	@@cd ${WRKSRC}/tutorial; for i in *; do \
	if [ -x $$i/$$i ]; then \
	    ${INSTALL_PROGRAM} $$i/$$i ${QT_TUTORIAL}/$$i; \
	fi; done
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${QT_DOC}
	cp -R ${WRKSRC}/html/* ${QT_DOC}/html

.include <bsd.port.mk>

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
USE_TARGET=	openbsd-g++-static
.else
USE_TARGET=	openbsd-g++-shared
.endif
@


1.75
log
@Remove surrounding quotes in COMMENT/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2007/05/22 11:16:00 espie Exp $
@


1.74
log
@zap extra homepage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2006/11/21 11:54:02 espie Exp $
d4 3
a6 3
COMMENT-main=	"C++ X11 GUI toolkit"
COMMENT-examples="examples and tutorial for qt"
COMMENT-html=	"off-line html documentation for qt"
d24 1
a24 1
PERMIT_PACKAGE_CDROM=	"Restrictive license"
d26 1
a26 1
PERMIT_DISTFILES_CDROM=	"Restrictive license"
@


1.73
log
@switch to new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2006/09/18 10:21:49 espie Exp $
d11 2
a12 2
PKGNAME-html=	qt-html-${VERSION}
PKGNAME-main=	qt-${VERSION}p2
@


1.72
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2006/02/08 04:54:50 david Exp $
d4 1
a4 1
COMMENT=	"C++ X11 GUI toolkit"
d12 1
a12 1
PKGNAME=	qt-${VERSION}p1
a27 1
WANTLIB=		X11 Xext c m stdc++
d36 2
a37 2
MULTI_PACKAGES=	-examples -html
SUBPACKAGE?=
d39 4
a42 8
.if defined(PACKAGING)
.  if ${SUBPACKAGE} == "-examples"
LIB_DEPENDS+=	lib/qt/qt.>=1::x11/qt
.  elif ${SUBPACKAGE} == "-html"
PKG_ARCH=	*
WANTLIB=
.  endif
.endif
@


1.71
log
@move any perl or sed substitutions from post-patch to pre-configure
(fixes make update-patches)
ok sturm@@; "looks reasonable" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2006/01/14 06:38:56 pvalchev Exp $
d42 1
a42 1
LIB_DEPENDS+=	lib/qt/qt.1::x11/qt
@


1.70
log
@fix typo; jim@@bonetruck.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2006/01/13 19:18:49 espie Exp $
d66 1
a66 1
post-patch:
@


1.69
log
@bunp all qt shared libs at the same time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2005/12/29 13:09:10 espie Exp $
d15 1
a15 1
SHARED_LIBS=	qt	10.0
@


1.68
log
@SHARED_LIBS...
takes so little time to build compared to qt3 it's not even funny.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2005/10/30 00:10:42 fgsch Exp $
d12 1
a12 1
PKGNAME=	qt-${VERSION}p0
d15 2
a16 2
SHARED_LIBS=	qt	1.45 \
		qimgio	1.45
@


1.67
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2004/12/19 20:18:55 alek Exp $
d15 2
d30 2
a31 4
VER_MAJ=	1
VER_MIN=	45

MAKE_FLAGS=	VER_MAJ="${VER_MAJ}" VER_MIN="${VER_MIN}"
d97 3
a99 3
	@@if [ -f ${WRKBUILD}/lib/libqt.so.${VER_MAJ}.${VER_MIN} ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.so.${VER_MAJ}.${VER_MIN} ${PREFIX}/lib/qt; \
	 ln -sf qt/libqt.so.${VER_MAJ}.${VER_MIN} ${PREFIX}/lib; \
d104 2
a105 2
	@@if [ -f ${WRKBUILD}/lib/libqimgio.so.${VER_MAJ}.${VER_MIN} ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqimgio.so.${VER_MAJ}.${VER_MIN} ${PREFIX}/lib; \
@


1.66
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2004/02/04 07:39:19 sturm Exp $
a20 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.65
log
@mark some subpackages arch independent

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2004/01/01 15:39:29 espie Exp $
d28 1
d47 1
@


1.64
log
@kill xor method, which was already marked as obsolete,
and which gcc3 complains loudly about.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2002/12/29 20:31:41 fgsch Exp $
d41 2
a42 1
.if defined(PACKAGING) && ${SUBPACKAGE} == "-examples"
d44 3
@


1.63
log
@zap NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2002/05/26 19:04:00 brad Exp $
d12 1
@


1.62
log
@new png header path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2002/03/21 21:25:55 espie Exp $
a12 1
NEED_VERSION=	1.525
@


1.61
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2001/11/11 13:57:32 heko Exp $
d13 1
a13 1
NEED_VERSION=	1.515
d80 1
a80 1
		${SETENV} ${MAKE_ENV} SYS_CXXFLAGS='-I$(LOCALBASE)/include ${CXXFLAGS}' ${MAKE} ${MAKE_FLAGS}
@


1.60
log
@o Instead of copying the "virtual memory exhausted" warning for each
individual port, introduce a new variable for bsd.port.mk, VMEM_WARNING.
By setting this variable to `Yes', the user is given a warning about the
virtual memory requirements just before the pre-build stage.
o Also give some examples for different shells for what to do about
it, and mention login.conf(5). bash, for example, has a confusing
-v flag to ulimit.
o Document this in bsd.port.mk.5
espie@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2001/07/03 12:07:53 espie Exp $
d13 1
a13 1
NEED_VERSION=	1.483
@


1.59
log
@- fill in PERMIT_
- no regression tests
@
text
@d76 1
a76 8
pre-build:
	@@echo ""
	@@echo "*** WARNING: you may see an error such as"
	@@echo "***       virtual memory exhausted"
	@@echo "*** when building this package.  If you do you must increase"
	@@echo "*** your limits.  See the man page for your shell and look"
	@@echo "*** for the 'limit' or 'ulimit' command."
	@@echo ""
@


1.58
log
@Use full path for libqt and libqt2
Bump need version.
@
text
@d24 4
a27 4
PERMIT_PACKAGE_CDROM= "Restrictive licence"
PERMIT_PACKAGE_FTP=
PERMIT_DISTFILES_CDROM= "Restrictive licence"
PERMIT_DISTFILES_FTP=
d40 1
d42 1
a42 1
LIB_DEPENDS+=	lib/qt/qt.1.::x11/qt
d44 2
@


1.57
log
@%%!SHARED%% -> !%%SHARED%%
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2001/06/09 19:53:22 espie Exp $
d13 1
a13 1
NEED_VERSION=	1.419
d19 2
a20 2
BUILD_DEPENDS=	${PREFIX}/include/jpeglib.h::graphics/jpeg \
		${PREFIX}/include/png.h::graphics/png
d24 1
a24 1
PERMIT_PACKAGE_CDROM=
d26 1
a26 1
PERMIT_DISTFILES_CDROM=
d40 3
@


1.56
log
@Rearrange qt and qt2 slightly, so that both libraries appear in
/usr/local/lib.

This removes the need to add to shlib_dirs.

HOWEVER, ports that depend on these should explicitly use
-L/usr/local/lib/qt  or -L/usr/local/lib/qt2 to be sure to grab the right
library, even if the other library is installed as well.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2001/04/18 14:59:28 brad Exp $
d13 1
a13 1
NEED_VERSION=	1.399
@


1.55
log
@better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2001/04/18 14:48:54 espie Exp $
d90 1
d92 1
a92 1
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.a ${PREFIX}/lib; \
d95 2
a96 1
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.so.${VER_MAJ}.${VER_MIN} ${PREFIX}/lib; \
@


1.54
log
@Pull PKGNAME setup before bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2000/10/08 04:29:58 brad Exp $
d10 2
a11 2
PKGNAME-examples=	qt-examples-${VERSION}
PKGNAME-html:=	qt-html-${VERSION}
d125 1
a125 2

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:U} == YES
@


1.53
log
@VERSION variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2000/09/24 07:04:16 brad Exp $
d4 4
d10 2
d13 1
a13 1
NEED_VERSION=	1.336
a124 5
.if ${SUBPACKAGE} == "-examples"
PKGNAME:=	qt-examples-${VERSION}
.elif ${SUBPACKAGE} == "-html"
PKGNAME:=	qt-html-${VERSION}
.endif
@


1.52
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2000/09/07 00:42:05 brad Exp $
d4 2
a5 1
DISTNAME=	qt-1.45
d7 1
a7 1
NEED_VERSION=	1.330
d120 1
a120 1
PKGNAME:=qt-examples-1.45
d122 1
a122 1
PKGNAME:=qt-html-1.45
@


1.51
log
@add pre-build warning, tell the end-user they might need to increase there
soft memory limits
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2000/09/06 21:35:06 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.322
d15 1
a15 1
MAINTAINER=	brad@@openbsd.org
@


1.50
log
@add USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2000/09/02 21:20:58 brad Exp $
d62 9
@


1.49
log
@better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2000/08/30 02:37:52 brad Exp $
d27 1
@


1.48
log
@use VER_MAJ & VER_MIN durring do-install instead of hardcoding the
version numbers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2000/08/25 03:55:24 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.320
d45 3
d103 1
a103 3
	cd ${WRKSRC}; ${INSTALL_DATA} ANNOUNCE FAQ LICENSE README \
	    README.QT changes-1.40 changes-1.41 changes-1.42 changes-1.43 \
	    changes-1.44 changes-1.45 ${QT_DOC}
@


1.47
log
@- bump NEED_VERSION
- style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2000/08/08 21:55:57 brad Exp $
d22 4
a25 2
MULTI_PACKAGES=	-examples -html
SUBPACKAGE?=
d29 3
a31 1
MAKE_FLAGS=	VER_MAJ="1" VER_MIN="45"
d73 2
a74 2
	@@if [ -f ${WRKBUILD}/lib/libqt.so.1.45 ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.so.1.45 ${PREFIX}/lib; \
d79 2
a80 2
	@@if [ -f ${WRKBUILD}/lib/libqimgio.so.1.45 ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqimgio.so.1.45 ${PREFIX}/lib; \
@


1.46
log
@finally double checked this myself, add a BUILD_DEPENDS on png.h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2000/07/09 01:23:21 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.310
d22 1
a22 2
MULTI_PACKAGES=-examples -html

d103 1
a103 1
.if ${SUBPACKAGE} =="-examples"
d105 1
a105 1
.elif ${SUBPACKAGE} =="-html"
@


1.45
log
@revert the addition of the library dependencies on jpeg and png
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2000/07/08 20:25:40 brad Exp $
d12 2
a13 1
BUILD_DEPENDS=	${PREFIX}/include/jpeglib.h::graphics/jpeg
@


1.44
log
@- bump NEED_VERSION
- add library dependency on jpeg and png
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2000/06/30 07:01:33 brad Exp $
a12 2
LIB_DEPENDS=	png.1.::graphics/png \
		jpeg.62.::graphics/jpeg
@


1.43
log
@- don't try to be smart with examples and tutorial, moving those files
  around doesn't work, as there are cross-dependencies.
- move LOCALBASE/X11BASE setting to post-patch, as this allows having
  complete, independent Makefiles for examples/tutorial.
- use better filenames for patches and include patches to setup the debug
  Qt config files.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2000/06/23 09:45:14 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.301
d13 2
@


1.42
log
@- use sub-packages to split examples/tutorial bins/source into an
  examples subpackage and the html documentation (which is now being
  installed) into an html subpackage
- cleanup install target a bit
- make use of a few variables to specify paths for installation, QT_INCDIR,
  QT_LIBDIR, QT_MANDIR, QT_EXAMPLES, QT_TUTORIAL and QT_DOC
- man pages have moved from PREFIX/man to PREFIX/lib/qt/man to stay
  consistant with the qt2 port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2000/06/14 06:16:55 brad Exp $
d37 1
a37 1
SUBST_VARS=	QT_LIBDIR
d42 5
a46 2
	@@cd ${WRKSRC} && cp -R examples examples-src
	@@cd ${WRKSRC} && cp -R tutorial tutorial-src
d51 4
d63 2
a64 4
	${INSTALL_DATA_DIR} ${QT_EXAMPLES}/bin
	${INSTALL_DATA_DIR} ${QT_EXAMPLES}/src
	${INSTALL_DATA_DIR} ${QT_TUTORIAL}/bin
	${INSTALL_DATA_DIR} ${QT_TUTORIAL}/src
d86 1
a86 1
	cp -R ${WRKSRC}/examples-src/* ${QT_EXAMPLES}/src
d89 1
a89 1
	    ${INSTALL_PROGRAM} $$i/$$i ${QT_EXAMPLES}/bin; \
d91 1
a91 1
	cp -R ${WRKSRC}/tutorial-src/* ${QT_TUTORIAL}/src
d94 1
a94 1
	    ${INSTALL_PROGRAM} $$i/$$i ${QT_TUTORIAL}/bin; \
@


1.41
log
@remove FAKE=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/06/09 19:18:14 espie Exp $
d9 2
d21 4
d29 9
a37 4
EXAMPLES=aclock application biff connect cursor dclock desktop dirview \
	dragdrop drawdemo forever hello layout life menu movies pref \
	progress qdir qmag qwerty scrollview showimg splitter table \
	tetrix tictac timestmp tooltip validator widgets xform
d41 7
a51 3
do-configure:
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE} ${USE_TARGET}

d53 10
a62 6
	${INSTALL_DATA_DIR} ${PREFIX}/include/X11/qt
	${INSTALL_DATA_DIR} ${PREFIX}/lib/qt/examples
	${INSTALL_DATA_DIR} ${PREFIX}/lib/qt/tutorial
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/qt
	@@if [ -f ${WRKSRC}/lib/libqt.a ]; then \
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqt.a ${PREFIX}/lib; \
d64 2
a65 2
	@@if [ -f ${WRKSRC}/lib/libqt.so.1.45 ]; then \
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqt.so.1.45 ${PREFIX}/lib; \
d67 2
a68 2
	@@if [ -f ${WRKSRC}/lib/libqimgio.a ]; then \
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqimgio.a ${PREFIX}/lib; \
d70 2
a71 2
	@@if [ -f ${WRKSRC}/lib/libqimgio.so.1.45 ]; then \
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqimgio.so.1.45 ${PREFIX}/lib; \
d73 3
a75 3
	${INSTALL_PROGRAM} ${WRKSRC}/bin/moc ${PREFIX}/bin
	${INSTALL_DATA} ${WRKSRC}/include/* ${PREFIX}/include/X11/qt
	${INSTALL_MAN} ${WRKSRC}/man/man1/* ${PREFIX}/man/man1
d79 1
a79 1
	  	${INSTALL_MAN} $$j ${PREFIX}/man/man3; \
d81 14
a94 15
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/qt
	${INSTALL_DATA} ${WRKSRC}/README.QT ${PREFIX}/share/doc/qt
	@@echo -n "Installing tutorials:"
.for n in 1 2 3 4 5 6 7 8 9 10 11 12 13 14
	@@echo -n " ${n}"
	@@${INSTALL_PROGRAM} ${WRKSRC}/tutorial/t${n}/t${n} ${PREFIX}/lib/qt/tutorial
.endfor
	@@echo "."
	@@echo -n "Installing examples:"
.for f in ${EXAMPLES}
	@@echo -n " ${f}"
	@@${INSTALL_PROGRAM} ${WRKSRC}/examples/${f}/${f} ${PREFIX}/lib/qt/examples
.endfor
	@@echo "."
	${INSTALL_DATA} ${WRKSRC}/examples/README ${PREFIX}/lib/qt/examples
d97 6
@


1.40
log
@Use new rules to generate simpler PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2000/05/24 00:16:03 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.295
a18 3
FAKE=	Yes

USE_X11=	Yes
@


1.39
log
@bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2000/05/23 21:25:37 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.283
@


1.38
log
@Activate gif support, per Theo's request.
Fix packing list... I need to add a check for duplicates to bsd.port.mk,
this is stupid.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2000/05/22 11:31:15 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.218
d9 3
d31 1
a31 4
# for the qt image extension
BUILD_DEPENDS=${PREFIX}/include/jpeglib.h::graphics/jpeg

IMAGEIODIR=${WRKSRC}/extensions/imageio/src
@


1.37
log
@I'm dyslexic
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2000/05/22 10:48:55 espie Exp $
a58 1
	${INSTALL_DATA} ${IMAGEIODIR}/*.h ${PREFIX}/include/X11/qt
@


1.36
log
@Fix PLIST.noshared by removing it :)
Add qimgio support (other graphics formats).
This adds a build time dependency, but no runtime dependency,
as users have to explicitly link against libqimgio, as of qt 1.xx
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2000/05/19 13:36:21 espie Exp $
d29 1
a29 1
BUILD_DEPENDS=${PREFIX}/include/libjpeg.h::graphics/jpeg
@


1.35
log
@Let manpages be readable. Problem reported by Marco, fix was slightly
less obvious than first foreseen (pesky .so use)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2000/03/26 21:36:09 brad Exp $
d28 9
d38 1
a38 1
	@@cd ${WRKSRC} && env ${MAKE_ENV} make ${USE_TARGET}
d51 6
d59 1
@


1.34
log
@re-add USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2000/03/26 20:43:10 brad Exp $
d45 5
a49 1
	${INSTALL_MAN} ${WRKSRC}/man/man3/* ${PREFIX}/man/man3
@


1.34.2.1
log
@bring x11 as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2000/08/08 21:55:57 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.310
a8 6
HOMEPAGE=	http://www.trolltech.com/products/qt/

# for the qt image extension
BUILD_DEPENDS=	${PREFIX}/include/jpeglib.h::graphics/jpeg \
		${PREFIX}/include/png.h::graphics/png

d16 1
a16 3
MULTI_PACKAGES=-examples -html

SUBPACKAGE?=
d18 1
d23 4
a26 18
QT_INCDIR=	${PREFIX}/include/X11/qt
QT_LIBDIR=	${PREFIX}/lib/qt
QT_MANDIR=	${QT_LIBDIR}/man
QT_EXAMPLES=	${QT_LIBDIR}/examples
QT_TUTORIAL=	${QT_LIBDIR}/tutorial
QT_DOC=		${PREFIX}/share/doc/qt

# for manpages in MESSAGE
SUBST_VARS=	QT_LIBDIR QT_DOC

IMAGEIODIR=	${WRKSRC}/extensions/imageio/src

post-patch:
	@@cd ${WRKSRC}/configs; for i in openbsd-*; do \
	    mv -f $$i $$i.bak && \
		sed -e s,/usr/local,${LOCALBASE}, \
		-e s,/usr/X11R6,${X11BASE}, <$$i.bak >$$i; \
	done
d29 1
a29 9
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${MAKE} ${USE_TARGET}

post-configure:
	@@cd ${WRKSRC} && cp -R examples examples-src
	@@cd ${WRKSRC} && cp -R tutorial tutorial-src

post-build:
	@@cd ${IMAGEIODIR} && \
		${SETENV} ${MAKE_ENV} SYS_CXXFLAGS='-I$(LOCALBASE)/include ${CXXFLAGS}' ${MAKE} ${MAKE_FLAGS}
d32 6
a37 8
	${INSTALL_DATA_DIR} ${QT_INCDIR}
	${INSTALL_DATA_DIR} ${QT_MANDIR}/man1
	${INSTALL_DATA_DIR} ${QT_MANDIR}/man3
	${INSTALL_DATA_DIR} ${QT_EXAMPLES}
	${INSTALL_DATA_DIR} ${QT_TUTORIAL}
	${INSTALL_DATA_DIR} ${QT_DOC}/html
	@@if [ -f ${WRKBUILD}/lib/libqt.a ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.a ${PREFIX}/lib; \
d39 2
a40 2
	@@if [ -f ${WRKBUILD}/lib/libqt.so.1.45 ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqt.so.1.45 ${PREFIX}/lib; \
d42 19
a60 28
	@@if [ -f ${WRKBUILD}/lib/libqimgio.a ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqimgio.a ${PREFIX}/lib; \
	fi
	@@if [ -f ${WRKBUILD}/lib/libqimgio.so.1.45 ]; then \
	 ${INSTALL_DATA} ${WRKBUILD}/lib/libqimgio.so.1.45 ${PREFIX}/lib; \
	fi
	${INSTALL_PROGRAM} ${WRKBUILD}/bin/moc ${PREFIX}/bin
	${INSTALL_DATA} ${WRKSRC}/include/* ${QT_INCDIR}
	${INSTALL_MAN} ${WRKSRC}/man/man1/* ${QT_MANDIR}/man1
	@@for i in ${WRKSRC}/man/man3/*; do \
	  j=$${i%qt}; \
	  sed -e 's,\.3qt,\.3,g' <$$i >$$j && \
	  	${INSTALL_MAN} $$j ${QT_MANDIR}/man3; \
	done
	cp -R ${WRKSRC}/examples-src/* ${QT_EXAMPLES}
	@@cd ${WRKSRC}/examples; for i in *; do \
	if [ -x $$i/$$i ]; then \
	    ${INSTALL_PROGRAM} $$i/$$i ${QT_EXAMPLES}/$$i; \
	fi; done
	cp -R ${WRKSRC}/tutorial-src/* ${QT_TUTORIAL}
	@@cd ${WRKSRC}/tutorial; for i in *; do \
	if [ -x $$i/$$i ]; then \
	    ${INSTALL_PROGRAM} $$i/$$i ${QT_TUTORIAL}/$$i; \
	fi; done
	cd ${WRKSRC}; ${INSTALL_DATA} ANNOUNCE FAQ LICENSE README \
	    README.QT changes-1.40 changes-1.41 changes-1.42 changes-1.43 \
	    changes-1.44 changes-1.45 ${QT_DOC}
	cp -R ${WRKSRC}/html/* ${QT_DOC}/html
a62 6

.if ${SUBPACKAGE} =="-examples"
PKGNAME:=qt-examples-1.45
.elif ${SUBPACKAGE} =="-html"
PKGNAME:=qt-html-1.45
.endif
@


1.33
log
@remove USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2000/03/24 22:12:05 espie Exp $
d18 1
@


1.32
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/03/08 08:55:32 brad Exp $
a18 1
USE_X11=	Yes
@


1.31
log
@merge in a few minor diffs from my upgrade to qt 1.45
- remove dependency on Mesa since this isn't actually used by Qt for the
"default" installation
- use MAKE_FLAGS to bump the MINOR version number of the Qt lib upto 45
from 44
- ${MAKE_PROGRAM} -> make
- remove ldconfig
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2000/03/08 01:27:42 kevlo Exp $
d6 1
a7 2

NEED_VERSION=	1.218
@


1.30
log
@Upgrade to version 1.45.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/03/05 18:30:47 espie Exp $
a5 1
NEED_VERSION=	1.223
d8 1
d12 6
a17 1
LIB_DEPENDS=	MesaGL.3.0:graphics/Mesa
a20 1
FAKE=           Yes
d22 1
d30 1
a30 1
	@@cd ${WRKSRC} && env ${MAKE_ENV} ${MAKE_PROGRAM} ${USE_TARGET}
a61 1
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.29
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/01/12 05:38:55 brad Exp $
d4 1
a4 1
DISTNAME=	qt-1.44
d16 1
d35 2
a36 2
	@@if [ -f ${WRKSRC}/lib/libqt.so.1.44 ]; then \
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqt.so.1.44 ${PREFIX}/lib; \
@


1.28
log
@post-configure -> do-configure
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/01/12 05:26:01 brad Exp $
d6 1
a8 1
NEED_VERSION=	1.96
d12 1
a12 1
LIB_DEPENDS=	MesaGL.3.0:${PORTSDIR}/graphics/Mesa
d14 2
a15 2
USE_GMAKE=	yes
USE_X11=	yes
@


1.27
log
@somehow I managed to use ${X11BASE} in a few places durring the install
target where they should have been ${PREFIX} and never noticed the mistake
until now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/01/12 05:19:49 brad Exp $
d23 1
a23 1
post-configure:
@


1.26
log
@- no need to list both MesaGL and MesaGLU for LIB_DEPENDS
- hardcoded gmake -> ${MAKE_PROGRAM}
- mkdir -> ${INSTALL_DATA_DIR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 1999/12/20 01:15:21 brad Exp $
d32 1
a32 1
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqt.a ${X11BASE}/lib; \
d35 1
a35 1
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqt.so.1.44 ${X11BASE}/lib; \
d37 1
a37 1
	${INSTALL_PROGRAM} ${WRKSRC}/bin/moc ${X11BASE}/bin
@


1.25
log
@- cleanup Makefile
- use -Bforacrchive when linking shared lib
- stop patching static build config with shared lib options
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 1999/11/30 02:32:22 brad Exp $
d12 1
a12 2
LIB_DEPENDS=	MesaGL.3.0:${PORTSDIR}/graphics/Mesa \
		MesaGLU.3.0:${PORTSDIR}/graphics/Mesa
d16 1
a16 1
MAKE_ENV+=	QTDIR="${WRKSRC}" SYS_CXX="${CXX}" SYS_CXXFLAGS="${CXXFLAGS}"
d24 1
a24 1
	@@cd ${WRKSRC} && env ${MAKE_ENV} gmake ${USE_TARGET}
d27 4
a30 4
	@@mkdir -p ${PREFIX}/include/X11/qt
	@@mkdir -p ${PREFIX}/lib/qt/examples
	@@mkdir -p ${PREFIX}/lib/qt/tutorial
	@@mkdir -p ${PREFIX}/share/doc/qt
@


1.24
log
@- remove unnecessary USE_EGXX tag now that we have GCC 2.95.x in-tree
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 1999/06/20 23:54:29 brad Exp $
d17 1
a17 1
MAKE_ENV+=	QTDIR=${WRKSRC} SYS_CXX="${CXX}" SYS_CXXFLAGS="${CXXFLAGS}"
d47 1
a47 2
	@@${INSTALL_PROGRAM} ${WRKSRC}/tutorial/t${n}/t${n} \
		${PREFIX}/lib/qt/tutorial
d53 1
a53 2
	@@${INSTALL_PROGRAM} ${WRKSRC}/examples/${f}/${f} \
	${PREFIX}/lib/qt/examples
d61 1
a61 1
.if defined(NO_SHARED_LIBS)
@


1.23
log
@MesaGL is now known as Mesa in the ports tree
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 1999/06/13 03:44:49 brad Exp $
a14 1
USE_EGXX=	yes
d25 1
a25 1
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${GMAKE} ${USE_TARGET}
d28 4
a38 2
	${LDCONFIG} -m ${PREFIX}/lib
	${MKDIR} -p ${PREFIX}/include/X11/qt
a41 1
	${MKDIR} -p ${PREFIX}/share/doc/qt
d44 1
a44 2
	${MKDIR} -p ${PREFIX}/lib/qt/tutorial
	@@${ECHO} -n "Installing tutorials:"
d46 1
a46 1
	@@${ECHO} -n " ${n}"
d50 2
a51 3
	@@${ECHO} "."
	${MKDIR} -p ${PREFIX}/lib/qt/examples
	@@${ECHO} -n "Installing examples:"
d53 1
a53 1
	@@${ECHO} -n " ${f}"
d57 1
a57 1
	@@${ECHO} "."
d59 1
@


1.22
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 1999/06/07 15:58:48 brad Exp $
d12 2
a13 2
LIB_DEPENDS=	MesaGL.3.0:${PORTSDIR}/graphics/MesaGL \
		MesaGLU.3.0:${PORTSDIR}/graphics/MesaGL
@


1.21
log
@use EGCS to compile this port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 1999/05/28 18:10:19 brad Exp $
d29 1
a29 1
	if [ -f ${WRKSRC}/lib/libqt.a ]; then \
d32 1
a32 1
	if [ -f ${WRKSRC}/lib/libqt.so.1.44 ]; then \
@


1.20
log
@- fixup patches
- remove BROKEN tag, Qt now compiles and works on SPARC
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 1999/05/27 21:02:16 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.64
d15 1
a15 5
# Internal Compiler errors
.if ${MACHINE_ARCH} == "sparc"
PATCH_LIST=	patch-* sup-sparc
.endif

d18 1
a18 1
MAKE_ENV+=	QTDIR=${WRKSRC} CX="${CXX}" CXFLAGS="${CXXFLAGS}"
@


1.19
log
@- style
- fix typo in SPARC patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 1999/05/27 20:13:30 brad Exp $
a17 1
BROKEN=		"Currently does not build on sparc due to ld bug"
@


1.18
log
@Qt 1.44 Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/04/12 23:23:09 brad Exp $
d15 1
a15 1
# internal compiler error
@


1.17
log
@remove non-existant example, fixes install
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/04/09 05:12:32 brad Exp $
d4 1
a4 1
DISTNAME=	qt-1.42
d12 2
a13 4
.if defined(USE_MESAGL)
LIB_DEPENDS=	MesaGL:${PORTSDIR}/graphics/MesaGL \
		MesaGLU:${PORTSDIR}/graphics/MesaGL
.endif
d15 1
d17 2
a18 1
BROKEN=		"Currently does not build on sparc due to g++ bug"
d23 1
a23 1
MAKE_ENV+=	QTDIR=${WRKSRC} CXX="${CXX}" CXXFLAGS="${CXXFLAGS}"
d37 2
a38 2
	if [ -f ${WRKSRC}/lib/libqt.so.1.42 ]; then \
	 ${INSTALL_DATA} ${WRKSRC}/lib/libqt.so.1.42 ${X11BASE}/lib; \
@


1.16
log
@remove unnecessary creation of sym link and tidy up Makefile and PLIST
some more
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/04/09 04:51:39 brad Exp $
d25 4
a28 5
EXAMPLES=aclock application biff connect cursor dclock desktop \
	dirview dragdrop drawdemo forever hello layout life menu \
	movies picture pref progress qdir qmag qwerty scrollview \
	showimg splitter table tetrix tictac timestmp tooltip \
	validator widgets xform
@


1.15
log
@remove unnecessary MAN tags and fix examples list so Qt installs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/03/23 22:00:04 brad Exp $
d6 1
d10 1
a10 3
MAINTAINER=	brad@@OpenBSD.ORG

MASTER_SITES=	ftp://ftp.troll.no/qt/source/
d13 2
a14 1
LIB_DEPENDS=	MesaGL:${PORTSDIR}/graphics/MesaGL
a39 1
	 ${LN} -sf ${X11BASE}/lib/libqt.so.1.42 ${X11BASE}/lib/libqt.so; \
@


1.14
log
@fix install target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/03/10 04:00:14 brad Exp $
d14 1
a14 1
LIB_DEPENDS=	MesaGL\\.3\\.:${PORTSDIR}/graphics/MesaGL
a24 93
MAN1=	moc.1
MAN3=	QAccel.3qt QApplication.3qt QArray.3qt QAsyncIO.3qt \
	QBitArray.3qt QBitVal.3qt QBitmap.3qt QBoxLayout.3qt \
	QBrush.3qt QBuffer.3qt QButton.3qt QButtonGroup.3qt \
	QByteArray.3qt QCache.3qt QCacheIterator.3qt QCheckBox.3qt \
	QCheckListItem.3qt QChildEvent.3qt QClipboard.3qt \
	QCloseEvent.3qt QCollection.3qt QColor.3qt QColorGroup.3qt \
	QComboBox.3qt QConnection.3qt QCursor.3qt QCustomEvent.3qt \
	QDataPump.3qt QDataSink.3qt QDataSource.3qt QDataStream.3qt \
	QDate.3qt QDateTime.3qt QDialog.3qt QDict.3qt QDictIterator.3qt \
	QDir.3qt QDoubleValidator.3qt QDragMoveEvent.3qt QDragObject.3qt \
	QDropEvent.3qt QEvent.3qt QFile.3qt QFileDialog.3qt \
	QFileIconProvider.3qt QFileInfo.3qt QFocusData.3qt \
	QFocusEvent.3qt QFont.3qt QFontInfo.3qt QFontMetrics.3qt \
	QFrame.3qt QGArray.3qt QGCache.3qt QGCacheIterator.3qt \
	QGDict.3qt QGDictIterator.3qt QGIFFormat.3qt QGIFFormatType.3qt \
	QGLContext.3qt QGLFormat.3qt QGLWidget.3qt QGList.3qt \
	QGListIterator.3qt QGManager.3qt QGridLayout.3qt QGroupBox.3qt \
	QHBoxLayout.3qt QHeader.3qt QIODevice.3qt QIODeviceSource.3qt \
	QIconSet.3qt QImage.3qt QImageConsumer.3qt QImageDecoder.3qt \
	QImageDrag.3qt QImageFormat.3qt QImageFormatType.3qt \
	QImageIO.3qt QIntCache.3qt QIntCacheIterator.3qt QIntDict.3qt \
	QIntDictIterator.3qt QIntValidator.3qt QKeyEvent.3qt \
	QLCDNumber.3qt QLNode.3qt QLabel.3qt QLayout.3qt QLineEdit.3qt \
	QList.3qt QListBox.3qt QListBoxItem.3qt QListBoxPixmap.3qt \
	QListBoxText.3qt QListIterator.3qt QListView.3qt \
	QListViewItem.3qt QMainWindow.3qt QMenuBar.3qt QMenuData.3qt \
	QMessageBox.3qt QMouseEvent.3qt QMoveEvent.3qt QMovie.3qt \
	QMultiLineEdit.3qt QNPInstance.3qt QNPStream.3qt QNPWidget.3qt \
	QNPlugin.3qt QObject.3qt QPaintDevice.3qt QPaintDeviceMetrics.3qt \
	QPaintEvent.3qt QPainter.3qt QPalette.3qt QPen.3qt QPicture.3qt \
	QPixmap.3qt QPixmapCache.3qt QPoint.3qt QPointArray.3qt \
	QPointVal.3qt QPopupMenu.3qt QPrintDialog.3qt QPrinter.3qt \
	QProgressBar.3qt QProgressDialog.3qt QPtrDict.3qt \
	QPtrDictIterator.3qt QPushButton.3qt QQueue.3qt QRadioButton.3qt \
	QRangeControl.3qt QRect.3qt QRegExp.3qt QRegion.3qt \
	QResizeEvent.3qt QScrollBar.3qt QScrollView.3qt QSemiModal.3qt \
	QShared.3qt QSignal.3qt QSignalMapper.3qt QSize.3qt \
	QSlider.3qt QSocketNotifier.3qt QSpinBox.3qt QSplitter.3qt \
	QStack.3qt QStatusBar.3qt QStoredDrag.3qt QStrIList.3qt \
	QStrList.3qt QString.3qt QTabBar.3qt QTabDialog.3qt \
	QTableView.3qt QTextDrag.3qt QTextStream.3qt QTime.3qt \
	QTimer.3qt QTimerEvent.3qt QToolBar.3qt QToolButton.3qt \
	QToolTip.3qt QToolTipGroup.3qt QUrlDrag.3qt QVBoxLayout.3qt \
	QValidator.3qt QWMatrix.3qt QWhatsThis.3qt QWidget.3qt \
	QWidgetStack.3qt QWindow.3qt QXtApplication.3qt QXtWidget.3qt \
	qaccel.3qt qapplication.3qt qarray.3qt qasyncio.3qt \
	qbitarray.3qt qbitmap.3qt qbitval.3qt qboxlayout.3qt \
	qbrush.3qt qbuffer.3qt qbutton.3qt qbuttongroup.3qt \
	qbytearray.3qt qcache.3qt qcacheiterator.3qt qcheckbox.3qt \
	qchecklistitem.3qt qchildevent.3qt qclipboard.3qt \
	qcloseevent.3qt qcollection.3qt qcolor.3qt qcolorgroup.3qt \
	qcombobox.3qt qconnection.3qt qcursor.3qt qcustomevent.3qt \
	qdatapump.3qt qdatasink.3qt qdatasource.3qt qdatastream.3qt \
	qdate.3qt qdatetime.3qt qdialog.3qt qdict.3qt qdictiterator.3qt \
	qdir.3qt qdoublevalidator.3qt qdragmoveevent.3qt qdragobject.3qt \
	qdropevent.3qt qevent.3qt qfile.3qt qfiledialog.3qt \
	qfileiconprovider.3qt qfileinfo.3qt qfocusdata.3qt \
	qfocusevent.3qt qfont.3qt qfontinfo.3qt qfontmetrics.3qt \
	qframe.3qt qgarray.3qt qgcache.3qt qgcacheiterator.3qt \
	qgdict.3qt qgdictiterator.3qt qgifformat.3qt qgifformattype.3qt \
	qglcontext.3qt qglformat.3qt qglist.3qt qglistiterator.3qt \
	qglwidget.3qt qgmanager.3qt qgridlayout.3qt qgroupbox.3qt \
	qhboxlayout.3qt qheader.3qt qiconset.3qt qimage.3qt \
	qimageconsumer.3qt qimagedecoder.3qt qimagedrag.3qt \
	qimageformat.3qt qimageformattype.3qt qimageio.3qt \
	qintcache.3qt qintcacheiterator.3qt qintdict.3qt \
	qintdictiterator.3qt qintvalidator.3qt qiodevice.3qt \
	qiodevicesource.3qt qkeyevent.3qt qlabel.3qt qlayout.3qt \
	qlcdnumber.3qt qlineedit.3qt qlist.3qt qlistbox.3qt \
	qlistboxitem.3qt qlistboxpixmap.3qt qlistboxtext.3qt \
	qlistiterator.3qt qlistview.3qt qlistviewitem.3qt qlnode.3qt \
	qmainwindow.3qt qmenubar.3qt qmenudata.3qt qmessagebox.3qt \
	qmouseevent.3qt qmoveevent.3qt qmovie.3qt qmultilineedit.3qt \
	qnpinstance.3qt qnplugin.3qt qnpstream.3qt qnpwidget.3qt \
	qobject.3qt qpaintdevice.3qt qpaintdevicemetrics.3qt \
	qpainter.3qt qpaintevent.3qt qpalette.3qt qpen.3qt qpicture.3qt \
	qpixmap.3qt qpixmapcache.3qt qpoint.3qt qpointarray.3qt \
	qpointval.3qt qpopupmenu.3qt qprintdialog.3qt qprinter.3qt \
	qprogressbar.3qt qprogressdialog.3qt qptrdict.3qt \
	qptrdictiterator.3qt qpushbutton.3qt qqueue.3qt qradiobutton.3qt \
	qrangecontrol.3qt qrect.3qt qregexp.3qt qregion.3qt \
	qresizeevent.3qt qscrollbar.3qt qscrollview.3qt qsemimodal.3qt \
	qshared.3qt qsignal.3qt qsignalmapper.3qt qsize.3qt \
	qslider.3qt qsocketnotifier.3qt qspinbox.3qt qsplitter.3qt \
	qstack.3qt qstatusbar.3qt qstoreddrag.3qt qstrilist.3qt \
	qstring.3qt qstrlist.3qt qtabbar.3qt qtabdialog.3qt \
	qtableview.3qt qtextdrag.3qt qtextstream.3qt qtime.3qt \
	qtimer.3qt qtimerevent.3qt qtoolbar.3qt qtoolbutton.3qt \
	qtooltip.3qt qtooltipgroup.3qt qurldrag.3qt qvalidator.3qt \
	qvboxlayout.3qt qwhatsthis.3qt qwidget.3qt qwidgetstack.3qt \
	qwindow.3qt qwmatrix.3qt qxtapplication.3qt qxtwidget.3qt

d26 4
a29 4
	dirview dragdrop drawdemo forever hello layout layouts \
	life menu movies picture pref progress qdir qmag qwerty \
	scrollview showimg splitter table tetrix tictac timestmp \
	tooltip validator widgets xform
@


1.13
log
@uncomment MesaGL LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/03/07 03:40:09 brad Exp $
d18 1
a18 1
BROKEN=		"Currently doesn't build on sparc due to g++ bug"
d128 7
a135 6
.if exists(${WRKSRC}/lib/libqt.a)
	${INSTALL_DATA} ${WRKSRC}/lib/libqt.a ${X11BASE}/lib
.endif
.if exists(${WRKSRC}/lib/libqt.so.1.42)
	${INSTALL_DATA} ${WRKSRC}/lib/libqt.so.1.42 ${X11BASE}/lib
	${LN} -sf ${X11BASE}/lib/libqt.so.1.42 ${X11BASE}/lib/libqt.so
a136 1
.endif
@


1.12
log
@oops, uncomment BROKEN lines
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/03/07 02:25:55 brad Exp $
d13 3
a15 6
#
# MesaGL library support is currently in progress...
#
#.if defined(USE_MESAGL)
#LIB_DEPENDS=	MesaGL\\.2\\.:${PORTSDIR}/graphics/MesaGL
#.endif
@


1.11
log
@upgrade to Qt 1.42
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/03/02 04:41:10 marc Exp $
d20 3
a22 3
#.if ( ${MACHINE_ARCH} == "sparc" )
#BROKEN=		"Currently doesn't build on sparc due to g++ bug"
#.endif
@


1.10
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 2
a2 3
# $OpenBSD: Makefile,v 1.9 1999/02/21 04:26:16 marc Exp $
# FreeBSD: Makefile,v 1.18 1998/07/20 16:51:14 andreas Exp
#
d4 1
a4 3
MAJ=		1
MIN=		41
DISTNAME=	qt-${MAJ}.${MIN}
d9 1
a9 1
MAINTAINER=	form@@OpenBSD.ORG
d20 3
a22 3
.if ( ${MACHINE_ARCH} == "sparc" )
BROKEN=		"Currently doesn't build on sparc due to g++ bug"
.endif
d26 1
a26 1
MAKE_ENV+=	QTDIR=${WRKSRC}
d38 20
a57 20
	QDir.3qt QDoubleValidator.3qt QEvent.3qt QFile.3qt \
	QFileDialog.3qt QFileIconProvider.3qt QFileInfo.3qt \
	QFocusData.3qt QFocusEvent.3qt QFont.3qt QFontInfo.3qt \
	QFontMetrics.3qt QFrame.3qt QGArray.3qt QGCache.3qt \
	QGCacheIterator.3qt QGDict.3qt QGDictIterator.3qt QGIFFormat.3qt \
	QGIFFormatType.3qt QGLContext.3qt QGLFormat.3qt QGLWidget.3qt \
	QGList.3qt QGListIterator.3qt QGManager.3qt QGridLayout.3qt \
	QGroupBox.3qt QHBoxLayout.3qt QHeader.3qt QIODevice.3qt \
	QIODeviceSource.3qt QIconSet.3qt QImage.3qt QImageConsumer.3qt \
	QImageDecoder.3qt QImageDrag.3qt QImageFormat.3qt \
	QImageFormatType.3qt QImageIO.3qt QIntCache.3qt \
	QIntCacheIterator.3qt QIntDict.3qt QIntDictIterator.3qt \
	QIntValidator.3qt QKeyEvent.3qt QLCDNumber.3qt QLNode.3qt \
	QLabel.3qt QLayout.3qt QLineEdit.3qt QList.3qt QListBox.3qt \
	QListBoxItem.3qt QListBoxPixmap.3qt QListBoxText.3qt \
	QListIterator.3qt QListView.3qt QListViewItem.3qt \
	QMainWindow.3qt QMenuBar.3qt QMenuData.3qt QMessageBox.3qt \
	QMouseEvent.3qt QMoveEvent.3qt QMovie.3qt QMultiLineEdit.3qt \
	QNPInstance.3qt QNPStream.3qt QNPWidget.3qt QNPlugin.3qt \
	QObject.3qt QPaintDevice.3qt QPaintDeviceMetrics.3qt \
d71 14
a84 13
	QToolTip.3qt QToolTipGroup.3qt QVBoxLayout.3qt QValidator.3qt \
	QWMatrix.3qt QWhatsThis.3qt QWidget.3qt QWidgetStack.3qt \
	QWindow.3qt QXtApplication.3qt QXtWidget.3qt qaccel.3qt \
	qapplication.3qt qarray.3qt qasyncio.3qt qbitarray.3qt \
	qbitmap.3qt qbitval.3qt qboxlayout.3qt qbrush.3qt qbuffer.3qt \
	qbutton.3qt qbuttongroup.3qt qbytearray.3qt qcache.3qt \
	qcacheiterator.3qt qcheckbox.3qt qchecklistitem.3qt \
	qchildevent.3qt qclipboard.3qt qcloseevent.3qt qcollection.3qt \
	qcolor.3qt qcolorgroup.3qt qcombobox.3qt qconnection.3qt \
	qcursor.3qt qcustomevent.3qt qdatapump.3qt qdatasink.3qt \
	qdatasource.3qt qdatastream.3qt qdate.3qt qdatetime.3qt \
	qdialog.3qt qdict.3qt qdictiterator.3qt qdir.3qt \
	qdoublevalidator.3qt qevent.3qt qfile.3qt qfiledialog.3qt \
d117 7
a123 7
	qtooltip.3qt qtooltipgroup.3qt qvalidator.3qt qvboxlayout.3qt \
	qwhatsthis.3qt qwidget.3qt qwidgetstack.3qt qwindow.3qt \
	qwmatrix.3qt qxtapplication.3qt qxtwidget.3qt

EXAMPLES=	aclock application biff connect cursor dclock desktop \
	dirview dragdrop drawdemo forever hello layout \
	life menu movies pref progress qdir qmag qwerty \
d131 3
a133 3
	${INSTALL_PROGRAM} $(WRKDIR)/qt-${MAJ}.${MIN}/bin/moc $(X11BASE)/bin
.if exists($(WRKDIR)/qt-${MAJ}.${MIN}/lib/libqt.a)
	${INSTALL_DATA} $(WRKDIR)/qt-${MAJ}.${MIN}/lib/libqt.a $(X11BASE)/lib
d135 4
a138 5
.if exists($(WRKDIR)/qt-${MAJ}.${MIN}/lib/libqt.so.${MAJ}.${MIN})
	${INSTALL_DATA} $(WRKDIR)/qt-${MAJ}.${MIN}/lib/libqt.so.${MAJ}.${MIN} \
		$(X11BASE)/lib
	${LN} -sf $(X11BASE)/lib/libqt.so.${MAJ}.${MIN} $(X11BASE)/lib/libqt.so
	${LDCONFIG} -m $(PREFIX)/lib
d140 4
a143 5
	${MKDIR} -p $(PREFIX)/include/X11/qt
	${INSTALL_DATA} $(WRKDIR)/qt-${MAJ}.${MIN}/include/* \
		$(PREFIX)/include/X11/qt
	${INSTALL_MAN} $(WRKDIR)/qt-${MAJ}.${MIN}/man/man1/* $(PREFIX)/man/man1
	${INSTALL_MAN} $(WRKDIR)/qt-${MAJ}.${MIN}/man/man3/* $(PREFIX)/man/man3
d145 2
a146 4
	${INSTALL_DATA} ${WRKDIR}/qt-${MAJ}.${MIN}/README \
		${PREFIX}/share/doc/qt
	${INSTALL_DATA} ${WRKDIR}/qt-${MAJ}.${MIN}/README.QT \
		${PREFIX}/share/doc/qt
@


1.9
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/02/18 02:37:40 marc Exp $
a30 6
.if defined(NO_SHARED_LIBS)
USE_TARGET=	openbsd-g++-static
.else
USE_TARGET=	openbsd-g++-shared
.endif

d134 1
a134 1
.if defined(NO_SHARED_LIBS)
d136 2
a137 1
.else
d172 6
@


1.8
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@d1 1
a1 6
# OpenBSD makefile for:	qt
# Version required:	1.40
# Date created:		9 January 1998
# Whom:			Don Schmidt
#
# $OpenBSD: Makefile,v 1.7 1998/11/27 10:42:45 form Exp $
d9 2
a10 1
MASTER_SITES=	ftp://ftp.troll.no/qt/source/
d13 2
@


1.7
log
@update to 1.41
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 1998/10/20 08:39:50 form Exp $
d33 1
a33 1
.if ( ${MACHINE_ARCH} == "alpha" )
d142 1
a142 1
.if ( ${MACHINE_ARCH} == "alpha" )
@


1.6
log
@form@@vs.itam.nsc.ru -> form@@openbsd.org
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 1998/07/23 03:57:51 form Exp $
d11 1
a11 1
MIN=		40
@


1.5
log
@mark broken for /sparc
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 1998/07/22 12:49:44 form Exp $
d16 1
a16 1
MAINTAINER=	form@@vs.itam.nsc.ru
@


1.4
log
@update to 1.40
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/07/15 05:51:23 marc Exp $
d24 4
@


1.3
log
@update to version 1.33; broken on sparc due to g++ bug (reported)
@
text
@d6 2
a7 1
# $OpenBSD: Makefile,v 1.2 1998/04/13 03:23:26 marc Exp $
d10 3
a12 3
# Note: qt-1.40 is available but DOES NOT BUILD.
#
DISTNAME=	qt-1.33
d14 1
d16 1
a16 1
MAINTAINER=	marc@@OpenBSD.ORG
d18 6
a23 5
.if (${MACHINE_ARCH} == "sparc")
BROKEN=		"won't build due to g++ bug; reported"
.endif

MASTER_SITES=	ftp://ftp.troll.no/qt/source/
d27 1
d29 2
a30 3
post-configure:
.if (${MACHINE_ARCH} == "alpha")
	@@(cd ${WRKSRC}; ${SETENV} ${CONFIGURE_ENV} ${GMAKE} ${MAKE_FLAGS} ${MAKEFILE} openbsd-gcc-static)
d32 1
a32 1
	@@(cd ${WRKSRC}; ${SETENV} ${CONFIGURE_ENV} ${GMAKE} ${MAKE_FLAGS} ${MAKEFILE} openbsd-gcc-shared)
d35 100
a134 75
# Things to install
#
MAN3=		QAccel.3qt QApplication.3qt QArray.3qt QBitArray.3qt \
		QBitVal.3qt QBitmap.3qt QBoxLayout.3qt QBrush.3qt \
		QBuffer.3qt QButton.3qt QButtonGroup.3qt QByteArray.3qt \
		QCheckBox.3qt QClipboard.3qt QCloseEvent.3qt QCollection.3qt \
		QColor.3qt QColorGroup.3qt QComboBox.3qt QConnection.3qt \
		QCursor.3qt QCustomEvent.3qt QDataStream.3qt QDate.3qt \
		QDateTime.3qt QDialog.3qt QDict.3qt QDictIterator.3qt \
		QDir.3qt QDoubleValidator.3qt QEvent.3qt QFile.3qt \
		QFileDialog.3qt QFileInfo.3qt QFocusEvent.3qt QFont.3qt \
		QFontInfo.3qt QFontMetrics.3qt QFrame.3qt QGArray.3qt \
		QGCache.3qt QGCacheIterator.3qt QGDict.3qt QGDictIterator.3qt \
		QGList.3qt QGListIterator.3qt QGManager.3qt QGridLayout.3qt \
		QGroupBox.3qt QHBoxLayout.3qt QIODevice.3qt QImage.3qt \
		QImageIO.3qt QIntDict.3qt QIntDictIterator.3qt \
		QIntValidator.3qt QKeyEvent.3qt QLCDNumber.3qt QLNode.3qt \
		QLabel.3qt QLayout.3qt QLineEdit.3qt QList.3qt QListBox.3qt \
		QListBoxItem.3qt QListBoxPixmap.3qt QListBoxText.3qt \
		QListIterator.3qt QMenuBar.3qt QMenuData.3qt QMessageBox.3qt \
		QMouseEvent.3qt QMoveEvent.3qt QMovie.3qt QMultiLineEdit.3qt \
		QObject.3qt QPaintDevice.3qt QPaintDeviceMetrics.3qt \
		QPaintEvent.3qt QPainter.3qt QPalette.3qt QPen.3qt \
		QPicture.3qt QPixmap.3qt QPixmapCache.3qt QPoint.3qt \
		QPointArray.3qt QPointVal.3qt QPopupMenu.3qt QPrinter.3qt \
		QProgressBar.3qt QProgressDialog.3qt QPtrDict.3qt \
		QPtrDictIterator.3qt QPushButton.3qt QQueue.3qt \
		QRadioButton.3qt QRangeControl.3qt QRect.3qt QRegExp.3qt \
		QRegion.3qt QResizeEvent.3qt QScrollBar.3qt QSemiModal.3qt \
		QSenderObject.3qt QShared.3qt QSignal.3qt QSize.3qt \
		QSlider.3qt QSocketNotifier.3qt QStack.3qt QStrIList.3qt \
		QStrList.3qt QString.3qt QTSManip.3qt QTabBar.3qt \
		QTabDialog.3qt QTableView.3qt QTextStream.3qt QTime.3qt \
		QTimer.3qt QTimerEvent.3qt QToolTip.3qt QToolTipGroup.3qt \
		QVBoxLayout.3qt QValidator.3qt QWMatrix.3qt QWidget.3qt \
		QWindow.3qt qaccel.3qt qapplication.3qt qarray.3qt \
		qbitarray.3qt qbitmap.3qt qbitval.3qt qboxlayout.3qt \
		qbrush.3qt qbuffer.3qt qbutton.3qt qbuttongroup.3qt \
		qbytearray.3qt qcheckbox.3qt qclipboard.3qt qcloseevent.3qt \
		qcollection.3qt qcolor.3qt qcolorgroup.3qt qcombobox.3qt \
		qconnection.3qt qcursor.3qt qcustomevent.3qt qdatastream.3qt \
		qdate.3qt qdatetime.3qt qdialog.3qt qdict.3qt \
		qdictiterator.3qt qdir.3qt qdoublevalidator.3qt qevent.3qt \
		qfile.3qt qfiledialog.3qt qfileinfo.3qt qfocusevent.3qt \
		qfont.3qt qfontinfo.3qt qfontmetrics.3qt qframe.3qt \
		qgarray.3qt qgcache.3qt qgcacheiterator.3qt qgdict.3qt \
		qgdictiterator.3qt qglist.3qt qglistiterator.3qt qgmanager.3qt \
		qgridlayout.3qt qgroupbox.3qt qhboxlayout.3qt qimage.3qt \
		qimageio.3qt qintdict.3qt qintdictiterator.3qt \
		qintvalidator.3qt qiodevice.3qt qkeyevent.3qt qlabel.3qt \
		qlayout.3qt qlcdnumber.3qt qlineedit.3qt qlist.3qt \
		qlistbox.3qt qlistboxitem.3qt qlistboxpixmap.3qt \
		qlistboxtext.3qt qlistiterator.3qt \
		qlnode.3qt qmenubar.3qt qmenudata.3qt qmessagebox.3qt \
		qmouseevent.3qt qmoveevent.3qt qmovie.3qt qmultilineedit.3qt \
		qobject.3qt qpaintdevice.3qt qpaintdevicemetrics.3qt \
		qpainter.3qt qpaintevent.3qt qpalette.3qt qpen.3qt \
		qpicture.3qt qpixmap.3qt qpixmapcache.3qt qpoint.3qt \
		qpointarray.3qt qpointval.3qt qpopupmenu.3qt qprinter.3qt \
		qprogressbar.3qt qprogressdialog.3qt qptrdict.3qt \
		qptrdictiterator.3qt qpushbutton.3qt qqueue.3qt \
		qradiobutton.3qt qrangecontrol.3qt qrect.3qt qregexp.3qt \
		qregion.3qt qresizeevent.3qt qscrollbar.3qt qsemimodal.3qt \
		qsenderobject.3qt qshared.3qt qsignal.3qt qsize.3qt \
		qslider.3qt qsocketnotifier.3qt qstack.3qt qstrilist.3qt \
		qstring.3qt qstrlist.3qt qtabbar.3qt qtabdialog.3qt \
		qtableview.3qt qtextstream.3qt qtime.3qt qtimer.3qt \
		qtimerevent.3qt qtooltip.3qt qtooltipgroup.3qt qtsmanip.3qt \
		qvalidator.3qt qvboxlayout.3qt qwidget.3qt qwindow.3qt \
		qwmatrix.3qt

EXAMPLES=	aclock biff connect cursor dclock desktop drawdemo \
		forever hello layout life menu movies pref \
		progress qmag qwerty showimg table tetrix tictac \
		timestmp tooltip widgets
d137 8
a144 6
	@@${INSTALL_PROGRAM} ${WRKSRC}/bin/moc ${PREFIX}/bin
	@@${INSTALL_DATA} ${WRKSRC}/lib/libqt.a ${PREFIX}/lib
	@@ranlib ${PREFIX}/lib/libqt.a
.if (${MACHINE_ARCH} != "alpha")
	@@${INSTALL_DATA} ${WRKSRC}/lib/libqt.so.1.33 ${PREFIX}/lib
	@@${LDCONFIG} -m ${PREFIX}/lib
d146 12
a157 12
	@@${MKDIR} ${PREFIX}/include/X11/qt
	@@${INSTALL_DATA} ${WRKSRC}/include/* ${PREFIX}/include/X11/qt
	@@${INSTALL_MAN} ${WRKSRC}/man/man1/* ${PREFIX}/man/man1
.for m in ${MAN3}
	@@${INSTALL_MAN} ${WRKSRC}/man/man3/${m} ${PREFIX}/man/man3/${m:S/qt$//}
.endfor
	@@${MKDIR} ${PREFIX}/share/doc/qt
	@@${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/qt
	@@${INSTALL_DATA} ${WRKSRC}/README.QT ${PREFIX}/share/doc/qt
	@@${MKDIR} ${PREFIX}/share/doc/qt/html
	@@${INSTALL_DATA} ${WRKSRC}/html/* ${PREFIX}/share/doc/qt/html
	@@${MKDIR} ${PREFIX}/lib/qt/tutorial
d159 1
d163 3
a165 2
	@@${MKDIR} ${PREFIX}/lib/qt/examples
	@@${INSTALL_DATA} ${WRKSRC}/examples/README ${PREFIX}/lib/qt/examples
d167 1
d169 1
a169 1
		${PREFIX}/lib/qt/examples
d171 2
a172 4
	@@${INSTALL_PROGRAM} ${WRKSRC}/examples/picture/makepic \
		${PREFIX}/lib/qt/examples
	@@${INSTALL_PROGRAM} ${WRKSRC}/examples/picture/makepic \
		${PREFIX}/lib/qt/examples
@


1.2
log
@update NO_CDROM status
@
text
@d2 1
a2 1
# Version required:	1.31
d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/01/24 21:31:53 don Exp $
d9 3
a11 1
DISTNAME=	qt-1.31
d13 6
a18 1
NO_CDROM=	"REST: Restrictive licence"
a21 2
MAINTAINER=	don@@OpenBSD.ORG

d25 14
a38 47
MAN1=		moc.1
MAN3=		qaccel.3qt qapplication.3qt qarray.3qt qbitarray.3qt \
		qbitmap.3qt qbitval.3qt qboxlayout.3qt qbrush.3qt qbuffer.3qt \
		qbutton.3qt qbuttongroup.3qt qbytearray.3qt \
		qcheckbox.3qt qclipboard.3qt qcloseevent.3qt \
		qcollection.3qt qcolor.3qt qcolorgroup.3qt \
		qcombobox.3qt qconnection.3qt qcursor.3qt \
		qcustomevent.3qt qdatastream.3qt qdate.3qt \
		qdatetime.3qt qdialog.3qt qdict.3qt qdictiterator.3qt \
		qdir.3qt qdoublevalidator.3qt qevent.3qt qfile.3qt \
		qfiledialog.3qt qfileinfo.3qt qfocusevent.3qt qfont.3qt \
		qfontinfo.3qt qfontmetrics.3qt qframe.3qt qgarray.3qt \
		qgcache.3qt qgcacheiterator.3qt qgdict.3qt qgdictiterator.3qt \
		qglist.3qt qglistiterator.3qt qgmanager.3qt qgridlayout.3qt \
		qgroupbox.3qt qhboxlayout.3qt qimage.3qt \
		qimageio.3qt qintdict.3qt qintdictiterator.3qt \
		qintvalidator.3qt \
		qiodevice.3qt qkeyevent.3qt qlabel.3qt qlayout.3qt \
		qlcdnumber.3qt \
		qlineedit.3qt qlist.3qt qlistbox.3qt qlistboxitem.3qt \
		qlistboxpixmap.3qt qlistboxtext.3qt qlistiterator.3qt \
		qlnode.3qt qmenubar.3qt qmenudata.3qt qmessagebox.3qt \
		qmouseevent.3qt qmoveevent.3qt qmultilineedit.3qt qobject.3qt \
		qmovie.3qt \
		qpaintdevice.3qt qpaintdevicemetrics.3qt qpainter.3qt \
		qpaintevent.3qt qpalette.3qt qpen.3qt qpicture.3qt \
		qpixmap.3qt qpixmapcache.3qt qpoint.3qt \
		qpointarray.3qt qpointval.3qt qpopupmenu.3qt qprinter.3qt \
		qprogressbar.3qt qprogressdialog.3qt qptrdict.3qt \
		qptrdictiterator.3qt \
		qpushbutton.3qt qqueue.3qt qradiobutton.3qt \
		qrangecontrol.3qt qrect.3qt qregexp.3qt qregion.3qt \
		qresizeevent.3qt qscrollbar.3qt qsenderobject.3qt \
		qsemimodal.3qt \
		qshared.3qt qsignal.3qt qsize.3qt qslider.3qt \
		qsocketnotifier.3qt qstack.3qt qstrilist.3qt qstring.3qt \
		qstrlist.3qt qtabbar.3qt qtabdialog.3qt qtableview.3qt \
		qtextstream.3qt qtime.3qt \
		qtimer.3qt qtimerevent.3qt qtooltip.3qt qtooltipgroup.3qt \
		qtsmanip.3qt qvalidator.3qt qvboxlayout.3qt qwidget.3qt \
		qwindow.3qt qwmatrix.3qt QAccel.3qt QApplication.3qt \
		QArray.3qt QBitArray.3qt QBitmap.3qt QBitVal.3qt \
		QBoxLayout.3qt QBrush.3qt \
		QBuffer.3qt QButton.3qt QButtonGroup.3qt \
		QByteArray.3qt QCheckBox.3qt QClipboard.3qt \
		QCloseEvent.3qt QCollection.3qt QColor.3qt \
		QColorGroup.3qt QComboBox.3qt QConnection.3qt \
d45 2
a46 2
		QGList.3qt QGListIterator.3qt QGManager.3qt \
		QGridLayout.3qt QGroupBox.3qt QHBoxLayout.3qt QImage.3qt \
d48 17
a64 22
		QIntValidator.3qt \
		QIODevice.3qt QKeyEvent.3qt QLCDNumber.3qt QLabel.3qt \
		QLayout.3qt \
		QLineEdit.3qt QList.3qt QListBox.3qt QListBoxItem.3qt \
		QListBoxPixmap.3qt QListBoxText.3qt QListIterator.3qt \
		QLNode.3qt QMenuBar.3qt QMenuData.3qt QMessageBox.3qt \
		QMovie.3qt \
		QMouseEvent.3qt QMoveEvent.3qt QMultiLineEdit.3qt QObject.3qt \
		QPaintDevice.3qt QPaintDeviceMetrics.3qt QPainter.3qt \
		QPaintEvent.3qt QPalette.3qt QPen.3qt QPicture.3qt \
		QPixmap.3qt QPixmapCache.3qt QPoint.3qt QPointVal.3qt\
		QPointArray.3qt QPopupMenu.3qt QPrinter.3qt \
		QProgressBar.3qt QProgressDialog.3qt \
		QPtrDict.3qt QPtrDictIterator.3qt \
		QPushButton.3qt QQueue.3qt QRadioButton.3qt \
		QRangeControl.3qt QRect.3qt QRegExp.3qt QRegion.3qt \
		QResizeEvent.3qt QScrollBar.3qt QSenderObject.3qt \
		QSemiModal.3qt QVBoxLayout.3qt QValidator.3qt \
		QShared.3qt QSignal.3qt QSize.3qt QSlider.3qt \
		QSocketNotifier.3qt QStack.3qt QStrIList.3qt QString.3qt \
		QStrList.3qt QTabBar.3qt QTabDialog.3qt QTableView.3qt \
		QTextStream.3qt QTime.3qt \
d66 41
a106 4
		QTSManip.3qt QWidget.3qt QWindow.3qt QWMatrix.3qt

post-configure:
	cd ${WRKSRC} && make freebsd-gcc-shared
d109 33
a141 10
	${INSTALL_PROGRAM} $(WRKDIR)/qt-1.31/bin/moc $(X11BASE)/bin
	${INSTALL_DATA} $(WRKDIR)/qt-1.31/lib/libqt.so.1.31 $(X11BASE)/lib
	${LDCONFIG} -m $(PREFIX)/lib
	${MKDIR} $(PREFIX)/include/X11/qt
	${INSTALL_DATA} $(WRKDIR)/qt-1.31/include/* $(PREFIX)/include/X11/qt
	${INSTALL_MAN} $(WRKDIR)/qt-1.31/man/man1/* $(PREFIX)/man/man1
	${INSTALL_MAN} $(WRKDIR)/qt-1.31/man/man3/* $(PREFIX)/man/man3
	${MKDIR} ${PREFIX}/share/doc/qt
	${INSTALL_DATA} ${WRKDIR}/qt-1.31/README ${PREFIX}/share/doc/qt
	${INSTALL_DATA} ${WRKDIR}/qt-1.31/README.QT ${PREFIX}/share/doc/qt
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d11 2
@


1.1.1.1
log
@Initial import.
@
text
@@
