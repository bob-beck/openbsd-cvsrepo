head	1.18;
access;
symbols
	OPENBSD_5_5:1.16.0.4
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.15.0.10
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.8
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.6
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.4
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.6
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.14.0.4
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.2
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.12.0.4
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.11.0.14
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.12
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.10
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.8
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.6
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.4
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.9.0.6
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.4
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.2
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.7.0.4
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.7.0.2
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.6.0.14
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.12
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.10
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.8
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9:1.6.0.6
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.4.0.8
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.6
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.4
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.2
	OPENBSD_2_3_BASE:1.4
	LYNX_2_8:1.1.1.1
	LYNX:1.1.1;
locks; strict;
comment	@# @;


1.18
date	2014.07.23.19.13.23;	author deraadt;	state dead;
branches;
next	1.17;
commitid	EcR8E7r0stjLUV4p;

1.17
date	2014.07.09.04.11.34;	author daniel;	state Exp;
branches;
next	1.16;
commitid	lGGuvDWEniklWrQe;

1.16
date	2013.12.02.21.31.29;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2011.07.22.14.10.37;	author avsm;	state Exp;
branches;
next	1.14;

1.14
date	2009.08.08.12.20.30;	author fgsch;	state Exp;
branches;
next	1.13;

1.13
date	2009.08.08.12.11.09;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2009.05.31.09.16.50;	author avsm;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.27.21.45.19;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2005.11.04.04.24.02;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2004.06.22.04.52.35;	author avsm;	state Exp;
branches;
next	1.8;

1.8
date	2004.06.22.04.01.41;	author avsm;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.01.18.59.36;	author avsm;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.21.18.53.16;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.25.18.16.43;	author maja;	state Exp;
branches;
next	1.4;

1.4
date	98.03.11.22.40.03;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	98.03.11.22.30.21;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.03.11.20.06.34;	author maja;	state Exp;
branches;
next	1.1;

1.1
date	98.03.11.17.47.35;	author maja;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.03.11.17.47.35;	author maja;	state Exp;
branches;
next	;


desc
@@


1.18
log
@delinked from tree, now it goes to the bit bucket
@
text
@#! /bin/sh
# From configure.in 2.8.8rel.2.
# Guess values for system-dependent variables and create Makefiles.
# Generated by Autoconf 2.52.20121002.
#
# Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
# Free Software Foundation, Inc.
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits

# Sed expression to map a string onto a valid variable name.
as_tr_sh="sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g"

# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"

# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
  set -o posix
fi

# Name of the executable.
as_me=`echo "$0" |sed 's,.*[\\/],,'`

if expr a : '\(a\)' >/dev/null 2>&1; then
  as_expr=expr
else
  as_expr=false
fi

rm -f conf$$ conf$$.exe conf$$.file
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  # We could just check for DJGPP; but this test a) works b) is more generic
  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
  if test -f conf$$.exe; then
    # Don't use ln at all; we don't have any links
    as_ln_s='cp -p'
  else
    as_ln_s='ln -s'
  fi
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.file

as_executable_p="test -f"

# Support unset when possible.
if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
  as_unset=unset
else
  as_unset=false
fi

# NLS nuisances.
$as_unset LANG || test "${LANG+set}" != set || { LANG=C; export LANG; }
$as_unset LC_ALL || test "${LC_ALL+set}" != set || { LC_ALL=C; export LC_ALL; }
$as_unset LC_TIME || test "${LC_TIME+set}" != set || { LC_TIME=C; export LC_TIME; }
$as_unset LC_CTYPE || test "${LC_CTYPE+set}" != set || { LC_CTYPE=C; export LC_CTYPE; }
$as_unset LANGUAGE || test "${LANGUAGE+set}" != set || { LANGUAGE=C; export LANGUAGE; }
$as_unset LC_COLLATE || test "${LC_COLLATE+set}" != set || { LC_COLLATE=C; export LC_COLLATE; }
$as_unset LC_NUMERIC || test "${LC_NUMERIC+set}" != set || { LC_NUMERIC=C; export LC_NUMERIC; }
$as_unset LC_MESSAGES || test "${LC_MESSAGES+set}" != set || { LC_MESSAGES=C; export LC_MESSAGES; }

# IFS
# We need space, tab and new line, in precisely that order.
as_nl='
'
IFS=" 	$as_nl"

# CDPATH.
$as_unset CDPATH || test "${CDPATH+set}" != set || { CDPATH=:; export CDPATH; }

# Name of the host.
# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
# so uname gets run too.
ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`

exec 6>&1

#
# Initializations.
#
ac_default_prefix=/usr/local
cross_compiling=no
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}

# Maximum number of lines to put in a shell here document.
# This variable seems obsolete.  It should probably be removed, and
# only ac_max_sed_lines should be used.
: ${ac_max_here_lines=38}

ac_unique_file="userdefs.h"
ac_default_prefix=/usr/local
# Factoring default headers for most tests.
ac_includes_default="\
#include <stdio.h>
#if HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#if HAVE_SYS_STAT_H
# include <sys/stat.h>
#endif
#if STDC_HEADERS
# include <stdlib.h>
# include <stddef.h>
#else
# if HAVE_STDLIB_H
#  include <stdlib.h>
# endif
#endif
#if HAVE_STRING_H
# if !STDC_HEADERS && HAVE_MEMORY_H
#  include <memory.h>
# endif
# include <string.h>
#endif
#if HAVE_STRINGS_H
# include <strings.h>
#endif
#if HAVE_INTTYPES_H
# include <inttypes.h>
#else
# if HAVE_STDINT_H
#  include <stdint.h>
# endif
#endif
#if HAVE_UNISTD_H
# include <unistd.h>
#endif"

# Initialize some variables set by options.
ac_init_help=
ac_init_version=false
# The variables have the same names as the options, with
# dashes changed to underlines.
cache_file=/dev/null
exec_prefix=NONE
no_create=
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
verbose=
x_includes=NONE
x_libraries=NONE

# Installation directory options.
# These are left unexpanded so users can "make install exec_prefix=/foo"
# and all the variables that are supposed to be based on exec_prefix
# by default will actually change.
# Use braces instead of parens because sh, perl, etc. also accept them.
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datarootdir='${prefix}/share'
datadir='${datarootdir}'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${datarootdir}/info'
mandir='${datarootdir}/man'

# Identity of this package.
PACKAGE_NAME=
PACKAGE_TARNAME=
PACKAGE_VERSION=
PACKAGE_STRING=
PACKAGE_BUGREPORT=

ac_prev=
for ac_option
do
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  ac_optarg=`expr "x$ac_option" : 'x[^=]*=\(.*\)'`

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case $ac_option in

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir=$ac_optarg ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build_alias ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build_alias=$ac_optarg ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file=$ac_optarg ;;

  --config-cache | -C)
    cache_file=config.cache ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir=$ac_optarg ;;

  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
  | --dataroo | --dataro | --datar)
    ac_prev=datarootdir ;;
  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
    datarootdir=$ac_optarg ;;

  -disable-* | --disable-*)
    ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    eval "enable_$ac_feature=no" ;;

  -enable-* | --enable-*)
    ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    case $ac_option in
      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_$ac_feature='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix=$ac_optarg ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he | -h)
    ac_init_help=long ;;
  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
    ac_init_help=recursive ;;
  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
    ac_init_help=short ;;

  -host | --host | --hos | --ho)
    ac_prev=host_alias ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host_alias=$ac_optarg ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir=$ac_optarg ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir=$ac_optarg ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir=$ac_optarg ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir=$ac_optarg ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir=$ac_optarg ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir=$ac_optarg ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir=$ac_optarg ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix=$ac_optarg ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix=$ac_optarg ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix=$ac_optarg ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name=$ac_optarg ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir=$ac_optarg ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir=$ac_optarg ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site=$ac_optarg ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir=$ac_optarg ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir=$ac_optarg ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target_alias ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target_alias=$ac_optarg ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers | -V)
    ac_init_version=: ;;

  -with-* | --with-*)
    ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case $ac_option in
      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
      *) ac_optarg=yes ;;
    esac
    eval "with_$ac_package='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
    # Reject names that are not valid shell variable names.
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package | sed 's/-/_/g'`
    eval "with_$ac_package=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes=$ac_optarg ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries=$ac_optarg ;;

  -*) { echo "$as_me: error: unrecognized option: $ac_option
Try \`$0 --help' for more information." >&2
   { (exit 1); exit 1; }; }
    ;;

  *=*)
    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
    # Reject names that are not valid shell variable names.
    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
   { (exit 1); exit 1; }; }
    ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
    eval "$ac_envvar='$ac_optarg'"
    export $ac_envvar ;;

  *)
    # FIXME: should be removed in autoconf 3.0.
    echo "$as_me: WARNING: you should use --build, --host, --target" >&2
    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
      echo "$as_me: WARNING: invalid host type: $ac_option" >&2
    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
    ;;

  esac
done

if test -n "$ac_prev"; then
  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
  { echo "$as_me: error: missing argument to $ac_option" >&2
   { (exit 1); exit 1; }; }
fi

# Be sure to have absolute paths.
for ac_var in exec_prefix prefix
do
  eval ac_val=$`echo $ac_var`
  case $ac_val in
    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
    *)  { echo "$as_me: error: expected an absolute path for --$ac_var: $ac_val" >&2
   { (exit 1); exit 1; }; };;
  esac
done

# Be sure to have absolute paths.
for ac_var in bindir sbindir libexecdir datarootdir datadir sysconfdir sharedstatedir \
              localstatedir libdir includedir oldincludedir infodir mandir
do
  eval ac_val=$`echo $ac_var`
  case $ac_val in
    [\\/$]* | ?:[\\/]* ) ;;
    *)  { echo "$as_me: error: expected an absolute path for --$ac_var: $ac_val" >&2
   { (exit 1); exit 1; }; };;
  esac
done

# There might be people who depend on the old broken behavior: `$host'
# used to hold the argument of --host etc.
build=$build_alias
host=$host_alias
target=$target_alias

# FIXME: should be removed in autoconf 3.0.
if test "x$host_alias" != x; then
  if test "x$build_alias" = x; then
    cross_compiling=maybe
    echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
    If a cross compiler is detected then cross compile mode will be used." >&2
  elif test "x$build_alias" != "x$host_alias"; then
    cross_compiling=yes
  fi
fi

ac_tool_prefix=
test -n "$host_alias" && ac_tool_prefix=$host_alias-

test "$silent" = yes && exec 6>/dev/null

# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo "$ac_prog" | sed 's%[\\/][^\\/][^\\/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "$as_me: error: cannot find sources in $ac_confdir or .." >&2
   { (exit 1); exit 1; }; }
  else
    { echo "$as_me: error: cannot find sources in $srcdir" >&2
   { (exit 1); exit 1; }; }
  fi
fi
srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
ac_env_build_alias_set=${build_alias+set}
ac_env_build_alias_value=$build_alias
ac_cv_env_build_alias_set=${build_alias+set}
ac_cv_env_build_alias_value=$build_alias
ac_env_host_alias_set=${host_alias+set}
ac_env_host_alias_value=$host_alias
ac_cv_env_host_alias_set=${host_alias+set}
ac_cv_env_host_alias_value=$host_alias
ac_env_target_alias_set=${target_alias+set}
ac_env_target_alias_value=$target_alias
ac_cv_env_target_alias_set=${target_alias+set}
ac_cv_env_target_alias_value=$target_alias
ac_env_CC_set=${CC+set}
ac_env_CC_value=$CC
ac_cv_env_CC_set=${CC+set}
ac_cv_env_CC_value=$CC
ac_env_CFLAGS_set=${CFLAGS+set}
ac_env_CFLAGS_value=$CFLAGS
ac_cv_env_CFLAGS_set=${CFLAGS+set}
ac_cv_env_CFLAGS_value=$CFLAGS
ac_env_LDFLAGS_set=${LDFLAGS+set}
ac_env_LDFLAGS_value=$LDFLAGS
ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
ac_cv_env_LDFLAGS_value=$LDFLAGS
ac_env_CPPFLAGS_set=${CPPFLAGS+set}
ac_env_CPPFLAGS_value=$CPPFLAGS
ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
ac_cv_env_CPPFLAGS_value=$CPPFLAGS
ac_env_CPP_set=${CPP+set}
ac_env_CPP_value=$CPP
ac_cv_env_CPP_set=${CPP+set}
ac_cv_env_CPP_value=$CPP

#
# Report the --help message.
#
if test "$ac_init_help" = "long"; then
  # Omit some internal or obsolete options to make the list less imposing.
  # This message is too long to be a string in the A/UX 3.1 sh.
  cat <<EOF
\`configure' configures this package to adapt to many kinds of systems.

Usage: $0 [OPTION]... [VAR=VALUE]...

To assign environment variables (e.g., CC, CFLAGS...), specify them as
VAR=VALUE.  See below for descriptions of some of the useful variables.

Defaults for the options are specified in brackets.

Configuration:
  -h, --help              display this help and exit
      --help=short        display options specific to this package
      --help=recursive    display the short help of all the included packages
  -V, --version           display version information and exit
  -q, --quiet, --silent   do not print \`checking...' messages
      --cache-file=FILE   cache test results in FILE [disabled]
  -C, --config-cache      alias for \`--cache-file=config.cache'
  -n, --no-create         do not create output files
      --srcdir=DIR        find the sources in DIR [configure dir or \`..']

EOF

  cat <<EOF
Installation directories:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [PREFIX]

By default, \`make install' will install all the files in
\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
an installation prefix other than \`$ac_default_prefix' using \`--prefix',
for instance \`--prefix=\$HOME'.

For better control, use the options below.

Fine tuning of the installation directories:
  --bindir=DIR            user executables [EPREFIX/bin]
  --sbindir=DIR           system admin executables [EPREFIX/sbin]
  --libexecdir=DIR        program executables [EPREFIX/libexec]
  --datarootdir=DIR       read-only architecture-independent data [PREFIX/share]
  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]
  --libdir=DIR            object code libraries [EPREFIX/lib]
  --includedir=DIR        C header files [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc [/usr/include]
  --infodir=DIR           info documentation [DATAROOTDIR/info]
  --mandir=DIR            man documentation [DATAROOTDIR/man]
EOF

  cat <<\EOF

Program names:
  --program-prefix=PREFIX            prepend PREFIX to installed program names
  --program-suffix=SUFFIX            append SUFFIX to installed program names
  --program-transform-name=PROGRAM   run sed PROGRAM on installed program names

X features:
  --x-includes=DIR    X include files are in DIR
  --x-libraries=DIR   X library files are in DIR

System types:
  --build=BUILD           configure for building on BUILD [guessed]
  --host=HOST       build programs to run on HOST [BUILD]
  --target=TARGET   configure for building compilers for TARGET [HOST]
EOF
fi

if test -n "$ac_init_help"; then

  cat <<\EOF

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)

Optional Features:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]

  --with-system-type=XXX  test: override derived host system-type
  --with-destdir=XXX      set DESTDIR destination for install (default: $DESTDIR)
  --with-build-cc=XXX     the build C compiler ($BUILD_CC)
  --with-build-cpp=XXX    the build C preprocessor ($BUILD_CPP)
  --with-build-cflags=XXX the build C compiler-flags ($BUILD_CFLAGS)
  --with-build-cppflags=XXX the build C preprocessor-flags ($BUILD_CPPFLAGS)
  --with-build-ldflags=XXX the build linker-flags ($BUILD_LDFLAGS)
  --with-build-libs=XXX   the build libraries (${BUILD_LIBS})
Development Options:
  --disable-echo          do not display "compiling" commands
  --enable-find-leaks     logic for testing memory leaks
  --enable-debug          compile w/ debugging (if \$CFLAGS is set, add -g there, too)
  --disable-trace         disable logic for trace code
  --enable-vertrace       verbose trace code
  --enable-warnings       GCC compiler warnings
  --with-dbmalloc         test: use Conor Cahill's dbmalloc library
  --with-dmalloc          test: use Gray Watson's dmalloc library
Basic Configuration Options:
  --disable-largefile     omit support for large files
  --with-libiconv-prefix=DIR
                          search for libiconv in DIR/include and DIR/lib
  --enable-nls            use Native Language Support
  --with-included-gettext use the GNU gettext library included here
  --with-textdomain=PKG   NLS text-domain (default is package name)
  --disable-included-msgs use included messages, for i18n support
  --with-nls-datadir=DIR  NLS data, parent of locale (default: PREFIX/DATADIR)
  --disable-full-paths    control whether full utility pathnames are used
  --with-nss-compat{=path}       link with nss_compat library if available
  --with-ssl{=path}       link with ssl library if available
  --with-gnutls{=path}    link with gnutls support
  --enable-gnutls-compat  link with gnutls-openssl compat
  --with-socks{=path}     link with socks library if available
  --with-socks5{=path}    link with socks5 library if available
  --with-pkg-config{=path} enable/disable use of pkg-config
  --enable-ipv6           use ipv6 (with ipv4) support
  --with-screen=XXX       select screen type (XXX is curses (default),
                          ncurses, ncursesw, pdcurses or slang)
  --with-curses-dir=DIR   directory in which (n)curses is installed
  --enable-widec          enable wide-curses features
  --disable-color-style   use color style (ncurses/curses)
  --with-lss-file{=path}  specify the default style-sheet file
                          (default: SYSCONFDIR/lynx.lss)
  --with-cfg-file{=path}  specify the default configuration file
                          (default: SYSCONFDIR/lynx.cfg)
  --with-cfg-path{=path}  specify the default configuration directories
                          (default: SYSCONFDIR)
  --enable-htmlized-cfg   build htmlized lynx.cfg
  --enable-local-docs     link local doc-directory to help-page
  --with-mime-libdir=DIR  MIME data, mime.types and mailcap (default: /etc)
  --disable-locale-charset use locale-charset selection logic
  --with-charsets=list    limit charsets to given list of MIME names
Experimental Options:
  --disable-bibp-urls     disable support for bibp: URLs
  --disable-config-info   disable browsable configuration-info
  --disable-forms-options disable forms-based options
  --disable-menu-options  disable old-style option menu
  --disable-sessions      use sessions code
  --disable-session-cache use session-caching code
  --disable-addrlist-page disable address-list page
  --enable-cjk            use experimental CJK logic
  --enable-japanese-utf8  use experimental Japanese UTF-8 logic
  --enable-default-colors enable use of default-colors (ncurses/slang)
  --enable-kbd-layout     use experimental keyboard-layout support
  --enable-nested-tables  use experimental nested-table support
Miscellaneous Options:
  --disable-alt-bindings  disable alternative line-edit bindings
  --disable-ascii-ctypes  disable use of ascii case-conversion
  --disable-extended-dtd  disable extended HTML DTD logic
  --disable-file-upload   disable file-upload support
  --disable-idna          disable IDNA support
  --disable-justify-elts  disable element-justification logic
  --disable-partial       disable partial-display logic
  --disable-persistent-cookies  disable persistent-cookie support
  --disable-prettysrc     disable colorization of HTML source
  --disable-progressbar   disable progress-bar
  --disable-read-eta      disable read-progress message shows ETA
  --disable-source-cache  do not cache HTML source for parse mode changes
  --disable-scrollbar     disable scrollbar with mouse
  --enable-charset-choice use charset-selection logic
  --enable-externs        use external commands
  --enable-font-switch    use Linux setfont for character-translation
  --enable-cgi-links      support cgi links w/o a http daemon
  --enable-change-exec    allow users to change exec options
  --enable-exec-links     allow lynx to execute programs accessed via a link
  --enable-exec-scripts   allow lynx to execute programs inferred from a link
  --enable-internal-links handle following links to same doc differently
  --enable-nsl-fork       fork NSL requests, allowing them to be aborted
  --enable-syslog         log URL requests via syslog
  --enable-underlines     underline links rather than using boldface
  --enable-gzip-help      install gzip'ed help files
  --with-bzlib            use libbz2 for decompression of some bzip2 files
  --with-zlib             use zlib for decompression of some gzip files
Other Network Services:
  --disable-finger        disable FINGER logic
  --disable-gopher        disable GOPHER logic
  --disable-news          disable NEWS logic
  --disable-ftp           disable FTP logic
  --enable-wais           enable WAIS logic
Directory Editor Options:
  --disable-dired          disable optional directory-editor, DirEd
  --disable-dired-dearchive disable dearchiving commands
  --disable-dired-override disable DirEd override keymap
  --disable-dired-permit  disable chmod/attrib commands
  --disable-dired-xpermit disable chmod/attrib commands
  --disable-dired-tar     disable "tar" command
  --disable-dired-uudecode disable "uudecode" command
  --disable-dired-zip     disable "zip", "unzip"  commands
  --disable-dired-gzip    disable "gzip", "gunzip" commands
  --disable-long-list     disable long "ls -l" directory listings
  --disable-parent-dir-refs
                          disable "Up-to" links in directory listings
Special Libraries for PDCurses X11:
  --with-Xaw3d            link with Xaw 3d library
  --with-neXtaw           link with neXT Athena library
  --with-XawPlus          link with Athena-Plus library
  --with-x                use the X Window System
  --disable-rpath-hack    don't add rpath options for additional libraries

Some influential environment variables:
  CC          C compiler command
  CFLAGS      C compiler flags
  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a
              nonstandard directory <lib dir>
  CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have
              headers in a nonstandard directory <include dir>
  CPP         C preprocessor

Use these variables to override the choices made by `configure' or to help
it to find libraries and programs with nonstandard names/locations.

EOF
fi

if test "$ac_init_help" = "recursive"; then
  # If there are subdirs, report their specific --help.
  ac_popdir=`pwd`
  for ac_subdir in : $ac_subdirs_all; do test "x$ac_subdir" = x: && continue
    cd $ac_subdir
    # A "../" for each directory in /$ac_subdir.
    ac_dots=`echo $ac_subdir |
             sed 's,^\./,,;s,[^/]$,&/,;s,[^/]*/,../,g'`

    case $srcdir in
    .) # No --srcdir option.  We are building in place.
      ac_sub_srcdir=$srcdir ;;
    [\\/]* | ?:[\\/]* ) # Absolute path.
      ac_sub_srcdir=$srcdir/$ac_subdir ;;
    *) # Relative path.
      ac_sub_srcdir=$ac_dots$srcdir/$ac_subdir ;;
    esac

    # Check for guested configure; otherwise get Cygnus style configure.
    if test -f $ac_sub_srcdir/configure.gnu; then
      echo
      $SHELL $ac_sub_srcdir/configure.gnu  --help=recursive
    elif test -f $ac_sub_srcdir/configure; then
      echo
      $SHELL $ac_sub_srcdir/configure  --help=recursive
    elif test -f $ac_sub_srcdir/configure.ac ||
           test -f $ac_sub_srcdir/configure.in; then
      echo
      $ac_configure --help
    else
      echo "$as_me: WARNING: no configuration information is in $ac_subdir" >&2
    fi
    cd $ac_popdir
  done
fi

test -n "$ac_init_help" && exit 0
if $ac_init_version; then
  cat <<\EOF

Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
Free Software Foundation, Inc.
This configure script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it.
EOF
  exit 0
fi
exec 5>config.log
cat >&5 <<EOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by $as_me, which was
generated by GNU Autoconf 2.52.20121002.  Invocation command line was

  $ $0 $@@

EOF
{
cat <<_ASUNAME
## ---------- ##
## Platform.  ##
## ---------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`

PATH = $PATH

_ASUNAME
} >&5

cat >&5 <<EOF
## ------------ ##
## Core tests.  ##
## ------------ ##

EOF

# Keep a trace of the command line.
# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell meta-characters.
ac_configure_args=
ac_sep=
for ac_arg
do
  case $ac_arg in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
    ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"`
    ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
    ac_sep=" " ;;
  *) ac_configure_args="$ac_configure_args$ac_sep$ac_arg"
     ac_sep=" " ;;
  esac
  # Get rid of the leading space.
done

# When interrupted or exit'd, cleanup temporary files, and complete
# config.log.  We remove comments because anyway the quotes in there
# would cause problems or look ugly.
trap 'exit_status=$?
  # Save into config.log some information that might help in debugging.
  echo >&5
  echo "## ----------------- ##" >&5
  echo "## Cache variables.  ##" >&5
  echo "## ----------------- ##" >&5
  echo >&5
  # The following way of writing the cache mishandles newlines in values,
{
  (set) 2>&1 |
    case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
    *ac_space=\ *)
      sed -n \
        "s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
      ;;
    *)
      sed -n \
        "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
      ;;
    esac;
} >&5
  sed "/^$/d" confdefs.h >conftest.log
  if test -s conftest.log; then
    echo >&5
    echo "## ------------ ##" >&5
    echo "## confdefs.h.  ##" >&5
    echo "## ------------ ##" >&5
    echo >&5
    cat conftest.log >&5
  fi
  (echo; echo) >&5
  test "$ac_signal" != 0 &&
    echo "$as_me: caught signal $ac_signal" >&5
  echo "$as_me: exit $exit_status" >&5
  rm -rf conftest* confdefs* core core.* *.core conf$$* $ac_clean_files &&
    exit $exit_status
     ' 0
for ac_signal in 1 2 13 15; do
  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
done
ac_signal=0

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo >confdefs.h

# Let the site file select an alternate cache file if it wants to.
# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    { echo "$as_me:1006: loading site script $ac_site_file" >&5
echo "$as_me: loading site script $ac_site_file" >&6;}
    cat "$ac_site_file" >&5
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  # Some versions of bash will fail to source /dev/null (special
  # files actually), so we avoid doing that.
  if test -f "$cache_file"; then
    { echo "$as_me:1017: loading cache $cache_file" >&5
echo "$as_me: loading cache $cache_file" >&6;}
    case $cache_file in
      [\\/]* | ?:[\\/]* ) . $cache_file;;
      *)                      . ./$cache_file;;
    esac
  fi
else
  { echo "$as_me:1025: creating cache $cache_file" >&5
echo "$as_me: creating cache $cache_file" >&6;}
  >$cache_file
fi

# Check that the precious variables saved in the cache have kept the same
# value.
ac_cache_corrupted=false
for ac_var in `(set) 2>&1 |
               sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
  eval ac_old_set=\$ac_cv_env_${ac_var}_set
  eval ac_new_set=\$ac_env_${ac_var}_set
  eval ac_old_val="\$ac_cv_env_${ac_var}_value"
  eval ac_new_val="\$ac_env_${ac_var}_value"
  case $ac_old_set,$ac_new_set in
    set,)
      { echo "$as_me:1041: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,set)
      { echo "$as_me:1045: error: \`$ac_var' was not set in the previous run" >&5
echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
      ac_cache_corrupted=: ;;
    ,);;
    *)
      if test "x$ac_old_val" != "x$ac_new_val"; then
        { echo "$as_me:1051: error: \`$ac_var' has changed since the previous run:" >&5
echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
        { echo "$as_me:1053:   former value:  $ac_old_val" >&5
echo "$as_me:   former value:  $ac_old_val" >&2;}
        { echo "$as_me:1055:   current value: $ac_new_val" >&5
echo "$as_me:   current value: $ac_new_val" >&2;}
        ac_cache_corrupted=:
      fi;;
  esac
  # Pass precious variables to config.status.  It doesn't matter if
  # we pass some twice (in addition to the command line arguments).
  if test "$ac_new_set" = set; then
    case $ac_new_val in
    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
      ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"`
      ac_configure_args="$ac_configure_args '$ac_arg'"
      ;;
    *) ac_configure_args="$ac_configure_args $ac_var=$ac_new_val"
       ;;
    esac
  fi
done
if $ac_cache_corrupted; then
  { echo "$as_me:1074: error: changes in the environment can compromise the build" >&5
echo "$as_me: error: changes in the environment can compromise the build" >&2;}
  { { echo "$as_me:1076: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
   { (exit 1); exit 1; }; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
ac_main_return=return

case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
  *c*,-n*) ECHO_N= ECHO_C='
' ECHO_T='	' ;;
  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
  *)      ECHO_N= ECHO_C='\c' ECHO_T= ;;
esac
echo "#! $SHELL" >conftest.sh
echo  "exit 0"   >>conftest.sh
chmod +x conftest.sh
if { (echo "$as_me:1097: PATH=\".;.\"; conftest.sh") >&5
  (PATH=".;."; conftest.sh) 2>&5
  ac_status=$?
  echo "$as_me:1100: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  ac_path_separator=';'
else
  ac_path_separator=:
fi
PATH_SEPARATOR="$ac_path_separator"
rm -f conftest.sh

# autoconf 2.5x defaults to no cache file; we need the cache file's information
# for building the config page.  But start with it empty to avoid confusion by
# people who don't do a "make distclean" after applying patches.
cache_file=config.cache
rm -f config.cache; touch config.cache

CONFIG_H=lynx_cfg.h
ac_config_headers="$ac_config_headers $CONFIG_H:config.hin"

ac_aux_dir=
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  elif test -f $ac_dir/shtool; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/shtool install -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { { echo "$as_me:1135: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&5
echo "$as_me: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&2;}
   { (exit 1); exit 1; }; }
fi
ac_config_guess="$SHELL $ac_aux_dir/config.guess"
ac_config_sub="$SHELL $ac_aux_dir/config.sub"
ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.

# Make sure we can run config.sub.
$ac_config_sub sun4 >/dev/null 2>&1 ||
  { { echo "$as_me:1145: error: cannot run $ac_config_sub" >&5
echo "$as_me: error: cannot run $ac_config_sub" >&2;}
   { (exit 1); exit 1; }; }

echo "$as_me:1149: checking build system type" >&5
echo $ECHO_N "checking build system type... $ECHO_C" >&6
if test "${ac_cv_build+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_build_alias=$build_alias
test -z "$ac_cv_build_alias" &&
  ac_cv_build_alias=`$ac_config_guess`
test -z "$ac_cv_build_alias" &&
  { { echo "$as_me:1158: error: cannot guess build type; you must specify one" >&5
echo "$as_me: error: cannot guess build type; you must specify one" >&2;}
   { (exit 1); exit 1; }; }
ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||
  { { echo "$as_me:1162: error: $ac_config_sub $ac_cv_build_alias failed." >&5
echo "$as_me: error: $ac_config_sub $ac_cv_build_alias failed." >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:1167: result: $ac_cv_build" >&5
echo "${ECHO_T}$ac_cv_build" >&6
build=$ac_cv_build
build_cpu=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`

echo "$as_me:1174: checking host system type" >&5
echo $ECHO_N "checking host system type... $ECHO_C" >&6
if test "${ac_cv_host+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_host_alias=$host_alias
test -z "$ac_cv_host_alias" &&
  ac_cv_host_alias=$ac_cv_build_alias
ac_cv_host=`$ac_config_sub $ac_cv_host_alias` ||
  { { echo "$as_me:1183: error: $ac_config_sub $ac_cv_host_alias failed" >&5
echo "$as_me: error: $ac_config_sub $ac_cv_host_alias failed" >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:1188: result: $ac_cv_host" >&5
echo "${ECHO_T}$ac_cv_host" >&6
host=$ac_cv_host
host_cpu=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`

if test -f $srcdir/config.guess || test -f $ac_aux_dir/config.guess ; then
	echo "$as_me:1196: checking target system type" >&5
echo $ECHO_N "checking target system type... $ECHO_C" >&6
if test "${ac_cv_target+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_target_alias=$target_alias
test "x$ac_cv_target_alias" = "x" &&
  ac_cv_target_alias=$ac_cv_host_alias
ac_cv_target=`$ac_config_sub $ac_cv_target_alias` ||
  { { echo "$as_me:1205: error: $ac_config_sub $ac_cv_target_alias failed" >&5
echo "$as_me: error: $ac_config_sub $ac_cv_target_alias failed" >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:1210: result: $ac_cv_target" >&5
echo "${ECHO_T}$ac_cv_target" >&6
target=$ac_cv_target
target_cpu=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`

# The aliases save the names the user supplied, while $host etc.
# will get canonicalized.
test -n "$target_alias" &&
  test "$program_prefix$program_suffix$program_transform_name" = \
    NONENONEs,x,x, &&
  program_prefix=${target_alias}-
	system_name="$host_os"
else
	system_name="`(uname -s -r) 2>/dev/null`"
	if test -z "$system_name" ; then
		system_name="`(hostname) 2>/dev/null`"
	fi
fi
test -n "$system_name" &&
cat >>confdefs.h <<EOF
#define SYSTEM_NAME "$system_name"
EOF

if test "${cf_cv_system_name+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cf_cv_system_name="$system_name"
fi

test -z "$system_name" && system_name="$cf_cv_system_name"
test -n "$cf_cv_system_name" && echo "$as_me:1242: result: Configuring for $cf_cv_system_name" >&5
echo "${ECHO_T}Configuring for $cf_cv_system_name" >&6

if test ".$system_name" != ".$cf_cv_system_name" ; then
	echo "$as_me:1246: result: Cached system name ($system_name) does not agree with actual ($cf_cv_system_name)" >&5
echo "${ECHO_T}Cached system name ($system_name) does not agree with actual ($cf_cv_system_name)" >&6
	{ { echo "$as_me:1248: error: \"Please remove config.cache and try again.\"" >&5
echo "$as_me: error: \"Please remove config.cache and try again.\"" >&2;}
   { (exit 1); exit 1; }; }
fi

# Check whether --with-system-type or --without-system-type was given.
if test "${with_system_type+set}" = set; then
  withval="$with_system_type"
  { echo "$as_me:1256: WARNING: overriding system type $host_os to $withval" >&5
echo "$as_me: WARNING: overriding system type $host_os to $withval" >&2;}
 host_os=$withval
fi;

test "$program_prefix" != NONE &&
  program_transform_name="s,^,$program_prefix,;$program_transform_name"
# Use a double $ so make ignores it.
test "$program_suffix" != NONE &&
  program_transform_name="s,\$,$program_suffix,;$program_transform_name"
# Double any \ or $.  echo might interpret backslashes.
# By default was `s,x,x', remove it if useless.
cat <<\_ACEOF >conftest.sed
s/[\\$]/&&/g;s/;s,x,x,$//
_ACEOF
program_transform_name=`echo $program_transform_name | sed -f conftest.sed`
rm conftest.sed

PACKAGE=lynx
# $Format: "VERSION=$ProjectVersion$"$
VERSION=2.8.8rel.2

echo "$as_me:1278: checking for DESTDIR" >&5
echo $ECHO_N "checking for DESTDIR... $ECHO_C" >&6

# Check whether --with-destdir or --without-destdir was given.
if test "${with_destdir+set}" = set; then
  withval="$with_destdir"

else
  withval="${DESTDIR:-$DESTDIR}"
fi; if test -n "$DESTDIR" ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:1314: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

fi
eval DESTDIR="$withval"

echo "$as_me:1323: result: $DESTDIR" >&5
echo "${ECHO_T}$DESTDIR" >&6

case $host_os in
openedition)
	: ${CFLAGS="-D_ALL_SOURCE -Wl,EDIT=NO"}
	: ${CC=c89}
	;;
esac

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
ac_main_return=return
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
echo "$as_me:1342: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="${ac_tool_prefix}gcc"
echo "$as_me:1357: found $ac_dir/$ac_word" >&5
break
done

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:1365: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:1368: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo "$as_me:1377: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_CC="gcc"
echo "$as_me:1392: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  echo "$as_me:1400: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
else
  echo "$as_me:1403: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  CC=$ac_ct_CC
else
  CC="$ac_cv_prog_CC"
fi

if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
set dummy ${ac_tool_prefix}cc; ac_word=$2
echo "$as_me:1416: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="${ac_tool_prefix}cc"
echo "$as_me:1431: found $ac_dir/$ac_word" >&5
break
done

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:1439: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:1442: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo "$as_me:1451: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_CC="cc"
echo "$as_me:1466: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  echo "$as_me:1474: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
else
  echo "$as_me:1477: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  CC=$ac_ct_CC
else
  CC="$ac_cv_prog_CC"
fi

fi
if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo "$as_me:1490: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_prog_rejected=no
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
  ac_prog_rejected=yes
  continue
fi
ac_cv_prog_CC="cc"
echo "$as_me:1510: found $ac_dir/$ac_word" >&5
break
done

if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# != 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" ${1+"$@@"}
    shift
    ac_cv_prog_CC="$@@"
  fi
fi
fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:1532: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:1535: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$CC"; then
  if test -n "$ac_tool_prefix"; then
  for ac_prog in cl
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
echo "$as_me:1546: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
echo "$as_me:1561: found $ac_dir/$ac_word" >&5
break
done

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:1569: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:1572: result: no" >&5
echo "${ECHO_T}no" >&6
fi

    test -n "$CC" && break
  done
fi
if test -z "$CC"; then
  ac_ct_CC=$CC
  for ac_prog in cl
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:1585: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_CC="$ac_prog"
echo "$as_me:1600: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  echo "$as_me:1608: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
else
  echo "$as_me:1611: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ac_ct_CC" && break
done

  CC=$ac_ct_CC
fi

fi

test -z "$CC" && { { echo "$as_me:1623: error: no acceptable cc found in \$PATH" >&5
echo "$as_me: error: no acceptable cc found in \$PATH" >&2;}
   { (exit 1); exit 1; }; }

# Provide some information about the compiler.
echo "$as_me:1628:" \
     "checking for C compiler version" >&5
ac_compiler=`set X $ac_compile; echo $2`
{ (eval echo "$as_me:1631: \"$ac_compiler --version </dev/null >&5\"") >&5
  (eval $ac_compiler --version </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:1634: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (eval echo "$as_me:1636: \"$ac_compiler -v </dev/null >&5\"") >&5
  (eval $ac_compiler -v </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:1639: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (eval echo "$as_me:1641: \"$ac_compiler -V </dev/null >&5\"") >&5
  (eval $ac_compiler -V </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:1644: \$? = $ac_status" >&5
  (exit $ac_status); }

cat >conftest.$ac_ext <<_ACEOF
#line 1648 "configure"
#include "confdefs.h"

int
main ()
{

  ;
  return 0;
}
_ACEOF
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files a.out a.exe"
# Try to create an executable without -o first, disregard a.out.
# It will help us diagnose broken compilers, and finding out an intuition
# of exeext.
echo "$as_me:1664: checking for C compiler default output" >&5
echo $ECHO_N "checking for C compiler default output... $ECHO_C" >&6
ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
if { (eval echo "$as_me:1667: \"$ac_link_default\"") >&5
  (eval $ac_link_default) 2>&5
  ac_status=$?
  echo "$as_me:1670: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  # Find the output, starting from the most likely.  This scheme is
# not robust to junk in `.', hence go to wildcards (a.*) only as a last
# resort.
for ac_file in `ls a.exe conftest.exe 2>/dev/null;
                ls a.out conftest 2>/dev/null;
                ls a.* conftest.* 2>/dev/null`; do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.dbg | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj ) ;;
    a.out ) # We found the default executable, but exeext='' is most
            # certainly right.
            break;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
          # FIXME: I believe we export ac_cv_exeext for Libtool --akim.
          export ac_cv_exeext
          break;;
    * ) break;;
  esac
done
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:1693: error: C compiler cannot create executables" >&5
echo "$as_me: error: C compiler cannot create executables" >&2;}
   { (exit 77); exit 77; }; }
fi

ac_exeext=$ac_cv_exeext
echo "$as_me:1699: result: $ac_file" >&5
echo "${ECHO_T}$ac_file" >&6

# Check the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
echo "$as_me:1704: checking whether the C compiler works" >&5
echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6
# FIXME: These cross compiler hacks should be removed for Autoconf 3.0
# If not cross compiling, check that we can run a simple program.
if test "$cross_compiling" != yes; then
  if { ac_try='./$ac_file'
  { (eval echo "$as_me:1710: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1713: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { echo "$as_me:1720: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'." >&5
echo "$as_me: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'." >&2;}
   { (exit 1); exit 1; }; }
    fi
  fi
fi
echo "$as_me:1728: result: yes" >&5
echo "${ECHO_T}yes" >&6

rm -f a.out a.exe conftest$ac_cv_exeext
ac_clean_files=$ac_clean_files_save
# Check the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
echo "$as_me:1735: checking whether we are cross compiling" >&5
echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6
echo "$as_me:1737: result: $cross_compiling" >&5
echo "${ECHO_T}$cross_compiling" >&6

echo "$as_me:1740: checking for executable suffix" >&5
echo $ECHO_N "checking for executable suffix... $ECHO_C" >&6
if { (eval echo "$as_me:1742: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:1745: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  # If both `conftest.exe' and `conftest' are `present' (well, observable)
# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
# work properly (i.e., refer to `conftest.exe'), while it won't with
# `rm'.
for ac_file in `(ls conftest.exe; ls conftest; ls conftest.*) 2>/dev/null`; do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.dbg | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.o | *.obj ) ;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
          export ac_cv_exeext
          break;;
    * ) break;;
  esac
done
else
  { { echo "$as_me:1761: error: cannot compute EXEEXT: cannot compile and link" >&5
echo "$as_me: error: cannot compute EXEEXT: cannot compile and link" >&2;}
   { (exit 1); exit 1; }; }
fi

rm -f conftest$ac_cv_exeext
echo "$as_me:1767: result: $ac_cv_exeext" >&5
echo "${ECHO_T}$ac_cv_exeext" >&6

rm -f conftest.$ac_ext
EXEEXT=$ac_cv_exeext
ac_exeext=$EXEEXT
echo "$as_me:1773: checking for object suffix" >&5
echo $ECHO_N "checking for object suffix... $ECHO_C" >&6
if test "${ac_cv_objext+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 1779 "configure"
#include "confdefs.h"

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.o conftest.obj
if { (eval echo "$as_me:1791: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1794: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.dbg | *.pdb | *.xSYM | *.map | *.inf ) ;;
    *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
       break;;
  esac
done
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:1806: error: cannot compute OBJEXT: cannot compile" >&5
echo "$as_me: error: cannot compute OBJEXT: cannot compile" >&2;}
   { (exit 1); exit 1; }; }
fi

rm -f conftest.$ac_cv_objext conftest.$ac_ext
fi
echo "$as_me:1813: result: $ac_cv_objext" >&5
echo "${ECHO_T}$ac_cv_objext" >&6
OBJEXT=$ac_cv_objext
ac_objext=$OBJEXT
echo "$as_me:1817: checking whether we are using the GNU C compiler" >&5
echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6
if test "${ac_cv_c_compiler_gnu+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 1823 "configure"
#include "confdefs.h"

int
main ()
{
#ifndef __GNUC__
       choke me
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1838: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1841: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1844: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1847: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_compiler_gnu=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_compiler_gnu=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
ac_cv_c_compiler_gnu=$ac_compiler_gnu

fi
echo "$as_me:1859: result: $ac_cv_c_compiler_gnu" >&5
echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6
GCC=`test $ac_compiler_gnu = yes && echo yes`
ac_test_CFLAGS=${CFLAGS+set}
ac_save_CFLAGS=$CFLAGS
CFLAGS="-g"
echo "$as_me:1865: checking whether $CC accepts -g" >&5
echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6
if test "${ac_cv_prog_cc_g+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 1871 "configure"
#include "confdefs.h"

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1883: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1886: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1889: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1892: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_g=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_prog_cc_g=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:1902: result: $ac_cv_prog_cc_g" >&5
echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
# Some people use a C++ compiler to compile C.  Since we use `exit',
# in C++ we need to declare it.  In case someone uses the same compiler
# for both compiling C and C++ we need to have the C++ compiler decide
# the declaration of exit, since it's the most demanding environment.
cat >conftest.$ac_ext <<_ACEOF
#ifndef __cplusplus
  choke me
#endif
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1929: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1932: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1935: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1938: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  for ac_declaration in \
   ''\
   '#include <stdlib.h>' \
   'extern "C" void std::exit (int) throw (); using std::exit;' \
   'extern "C" void std::exit (int); using std::exit;' \
   'extern "C" void exit (int) throw ();' \
   'extern "C" void exit (int);' \
   'void exit (int);'
do
  cat >conftest.$ac_ext <<_ACEOF
#line 1950 "configure"
#include "confdefs.h"
#include <stdlib.h>
$ac_declaration
int
main ()
{
exit (42);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1963: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1966: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1969: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1972: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
continue
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 1982 "configure"
#include "confdefs.h"
$ac_declaration
int
main ()
{
exit (42);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1994: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1997: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:2000: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:2003: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done
rm -rf conftest*
if test -n "$ac_declaration"; then
  echo '#ifdef __cplusplus' >>confdefs.h
  echo $ac_declaration      >>confdefs.h
  echo '#endif'             >>confdefs.h
fi

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
ac_main_return=return

GCC_VERSION=none
if test "$GCC" = yes ; then
	echo "$as_me:2033: checking version of $CC" >&5
echo $ECHO_N "checking version of $CC... $ECHO_C" >&6
	GCC_VERSION="`${CC} --version 2>/dev/null | sed -e '2,$d' -e 's/^.*(GCC[^)]*) //' -e 's/^.*(Debian[^)]*) //' -e 's/^[^0-9.]*//' -e 's/[^0-9.].*//'`"
	test -z "$GCC_VERSION" && GCC_VERSION=unknown
	echo "$as_me:2037: result: $GCC_VERSION" >&5
echo "${ECHO_T}$GCC_VERSION" >&6
fi

echo "$as_me:2041: checking for $CC option to accept ANSI C" >&5
echo $ECHO_N "checking for $CC option to accept ANSI C... $ECHO_C" >&6
if test "${ac_cv_prog_cc_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_prog_cc_stdc=no
ac_save_CC=$CC
cat >conftest.$ac_ext <<_ACEOF
#line 2049 "configure"
#include "confdefs.h"
#include <stdarg.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
struct buf { int x; };
FILE * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}
int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
int argc;
char **argv;
int
main ()
{
return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
  ;
  return 0;
}
_ACEOF
# Don't try gcc -ansi; that turns off useful extensions and
# breaks some systems' header files.
# AIX			-qlanglvl=ansi
# Ultrix and OSF/1	-std1
# HP-UX 10.20 and later	-Ae
# HP-UX older versions	-Aa -D_HPUX_SOURCE
# SVR4			-Xc -D__EXTENSIONS__
for ac_arg in "" -qlanglvl=ansi -std1 -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  rm -f conftest.$ac_objext
if { (eval echo "$as_me:2098: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:2101: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:2104: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:2107: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_stdc=$ac_arg
break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext
done
rm -f conftest.$ac_ext conftest.$ac_objext
CC=$ac_save_CC

fi

case "x$ac_cv_prog_cc_stdc" in
  x|xno)
    echo "$as_me:2124: result: none needed" >&5
echo "${ECHO_T}none needed" >&6 ;;
  *)
    echo "$as_me:2127: result: $ac_cv_prog_cc_stdc" >&5
echo "${ECHO_T}$ac_cv_prog_cc_stdc" >&6
    CC="$CC $ac_cv_prog_cc_stdc" ;;
esac

# This should have been defined by AC_PROG_CC
: ${CC:=cc}

echo "$as_me:2135: checking \$CC variable" >&5
echo $ECHO_N "checking \$CC variable... $ECHO_C" >&6
case "$CC" in #(vi
*[\ \	]-[IUD]*)
	echo "$as_me:2139: result: broken" >&5
echo "${ECHO_T}broken" >&6
	{ echo "$as_me:2141: WARNING: your environment misuses the CC variable to hold CFLAGS/CPPFLAGS options" >&5
echo "$as_me: WARNING: your environment misuses the CC variable to hold CFLAGS/CPPFLAGS options" >&2;}
	# humor him...
	cf_flags=`echo "$CC" | sed -e 's/^[^ 	]*[ 	]//'`
	CC=`echo "$CC" | sed -e 's/[ 	].*//'`

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_flags
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	;;
*)
	echo "$as_me:2227: result: ok" >&5
echo "${ECHO_T}ok" >&6
	;;
esac

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
ac_main_return=return
echo "$as_me:2238: checking how to run the C preprocessor" >&5
echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
  if test "${ac_cv_prog_CPP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
      # Double quotes because CPP needs to be expanded
    for CPP in "$CC -E" "$CC -E -traditional-cpp" "/lib/cpp"
    do
      ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat >conftest.$ac_ext <<_ACEOF
#line 2259 "configure"
#include "confdefs.h"
#include <assert.h>
                     Syntax error
_ACEOF
if { (eval echo "$as_me:2264: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:2270: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.$ac_ext

  # OK, works on sane cases.  Now check whether non-existent headers
  # can be detected and how.
  cat >conftest.$ac_ext <<_ACEOF
#line 2293 "configure"
#include "confdefs.h"
#include <ac_nonexistent.h>
_ACEOF
if { (eval echo "$as_me:2297: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:2303: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  # Broken: success on invalid input.
continue
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
  break
fi

    done
    ac_cv_prog_CPP=$CPP

fi
  CPP=$ac_cv_prog_CPP
else
  ac_cv_prog_CPP=$CPP
fi
echo "$as_me:2340: result: $CPP" >&5
echo "${ECHO_T}$CPP" >&6
ac_preproc_ok=false
for ac_c_preproc_warn_flag in '' yes
do
  # Use a header file that comes with gcc, so configuring glibc
  # with a fresh cross-compiler works.
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp. "Syntax error" is here to catch this case.
  cat >conftest.$ac_ext <<_ACEOF
#line 2350 "configure"
#include "confdefs.h"
#include <assert.h>
                     Syntax error
_ACEOF
if { (eval echo "$as_me:2355: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:2361: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  # Broken: fails on valid input.
continue
fi
rm -f conftest.err conftest.$ac_ext

  # OK, works on sane cases.  Now check whether non-existent headers
  # can be detected and how.
  cat >conftest.$ac_ext <<_ACEOF
#line 2384 "configure"
#include "confdefs.h"
#include <ac_nonexistent.h>
_ACEOF
if { (eval echo "$as_me:2388: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:2394: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  # Broken: success on invalid input.
continue
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  # Passes both tests.
ac_preproc_ok=:
break
fi
rm -f conftest.err conftest.$ac_ext

done
# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
  :
else
  { { echo "$as_me:2422: error: C preprocessor \"$CPP\" fails sanity check" >&5
echo "$as_me: error: C preprocessor \"$CPP\" fails sanity check" >&2;}
   { (exit 1); exit 1; }; }
fi

ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
ac_main_return=return

echo "$as_me:2434: checking whether ln -s works" >&5
echo $ECHO_N "checking whether ln -s works... $ECHO_C" >&6
LN_S=$as_ln_s
if test "$LN_S" = "ln -s"; then
  echo "$as_me:2438: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
  echo "$as_me:2441: result: no, using $LN_S" >&5
echo "${ECHO_T}no, using $LN_S" >&6
fi

case $host_os in
mingw*)
LN_S="cp -p"
echo "$as_me:2448: result: Override: No symbolic links in mingw." >&5
echo "${ECHO_T}Override: No symbolic links in mingw." >&6
	;;
*)
	;;
esac
echo "$as_me:2454: checking whether ${MAKE-make} sets \${MAKE}" >&5
echo $ECHO_N "checking whether ${MAKE-make} sets \${MAKE}... $ECHO_C" >&6
set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y,./+-,__p_,'`
if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.make <<\EOF
all:
	@@echo 'ac_maketemp="${MAKE}"'
EOF
# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
eval `${MAKE-make} -f conftest.make 2>/dev/null | grep temp=`
if test -n "$ac_maketemp"; then
  eval ac_cv_prog_make_${ac_make}_set=yes
else
  eval ac_cv_prog_make_${ac_make}_set=no
fi
rm -f conftest.make
fi
if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
  echo "$as_me:2474: result: yes" >&5
echo "${ECHO_T}yes" >&6
  SET_MAKE=
else
  echo "$as_me:2478: result: no" >&5
echo "${ECHO_T}no" >&6
  SET_MAKE="MAKE=${MAKE-make}"
fi

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AmigaOS /C/install, which installs bootblocks on floppy discs
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# ./install, which can be erroneously created by make from ./install.sh.
echo "$as_me:2495: checking for a BSD compatible install" >&5
echo $ECHO_N "checking for a BSD compatible install... $ECHO_C" >&6
if test -z "$INSTALL"; then
if test "${ac_cv_path_install+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
    ac_save_IFS=$IFS; IFS=$ac_path_separator
  for ac_dir in $PATH; do
    IFS=$ac_save_IFS
    # Account for people who put trailing slashes in PATH elements.
    case $ac_dir/ in
    / | ./ | .// | /cC/* \
    | /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* \
    | /usr/ucb/* ) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
        if $as_executable_p "$ac_dir/$ac_prog"; then
	  if test $ac_prog = install &&
            grep dspmsg "$ac_dir/$ac_prog" >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  elif test $ac_prog = install &&
	    grep pwplus "$ac_dir/$ac_prog" >/dev/null 2>&1; then
	    # program-specific install script used by HP pwplus--don't use.
	    :
	  else
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
	  fi
	fi
      done
      ;;
    esac
  done

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL=$ac_cv_path_install
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL=$ac_install_sh
  fi
fi
echo "$as_me:2544: result: $INSTALL" >&5
echo "${ECHO_T}$INSTALL" >&6

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'

for ac_prog in 'bison -y' byacc
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:2559: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_YACC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$YACC"; then
  ac_cv_prog_YACC="$YACC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_YACC="$ac_prog"
echo "$as_me:2574: found $ac_dir/$ac_word" >&5
break
done

fi
fi
YACC=$ac_cv_prog_YACC
if test -n "$YACC"; then
  echo "$as_me:2582: result: $YACC" >&5
echo "${ECHO_T}$YACC" >&6
else
  echo "$as_me:2585: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$YACC" && break
done
test -n "$YACC" || YACC="yacc"

for ac_prog in tdlint lint alint splint lclint
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:2597: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_LINT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$LINT"; then
  ac_cv_prog_LINT="$LINT" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_LINT="$ac_prog"
echo "$as_me:2612: found $ac_dir/$ac_word" >&5
break
done

fi
fi
LINT=$ac_cv_prog_LINT
if test -n "$LINT"; then
  echo "$as_me:2620: result: $LINT" >&5
echo "${ECHO_T}$LINT" >&6
else
  echo "$as_me:2623: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$LINT" && break
done

echo "$as_me:2630: checking for makeflags variable" >&5
echo $ECHO_N "checking for makeflags variable... $ECHO_C" >&6
if test "${cf_cv_makeflags+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_makeflags=''
	for cf_option in '-${MAKEFLAGS}' '${MFLAGS}'
	do
		cat >cf_makeflags.tmp <<CF_EOF
SHELL = /bin/sh
all :
	@@ echo '.$cf_option'
CF_EOF
		cf_result=`${MAKE:-make} -k -f cf_makeflags.tmp 2>/dev/null | fgrep -v "ing directory" | sed -e 's,[ 	]*$,,'`
		case "$cf_result" in
		.*k)
			cf_result=`${MAKE:-make} -k -f cf_makeflags.tmp CC=cc 2>/dev/null`
			case "$cf_result" in
			.*CC=*)	cf_cv_makeflags=
				;;
			*)	cf_cv_makeflags=$cf_option
				;;
			esac
			break
			;;
		.-)	;;
		*)	echo "given option \"$cf_option\", no match \"$cf_result\""
			;;
		esac
	done
	rm -f cf_makeflags.tmp

fi
echo "$as_me:2664: result: $cf_cv_makeflags" >&5
echo "${ECHO_T}$cf_cv_makeflags" >&6

echo "$as_me:2667: checking if filesystem supports mixed-case filenames" >&5
echo $ECHO_N "checking if filesystem supports mixed-case filenames... $ECHO_C" >&6
if test "${cf_cv_mixedcase+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

if test "$cross_compiling" = yes ; then
	case $target_alias in #(vi
	*-os2-emx*|*-msdosdjgpp*|*-cygwin*|*-msys*|*-mingw*|*-uwin*) #(vi
		cf_cv_mixedcase=no
		;;
	*)
		cf_cv_mixedcase=yes
		;;
	esac
else
	rm -f conftest CONFTEST
	echo test >conftest
	if test -f CONFTEST ; then
		cf_cv_mixedcase=no
	else
		cf_cv_mixedcase=yes
	fi
	rm -f conftest CONFTEST
fi

fi
echo "$as_me:2694: result: $cf_cv_mixedcase" >&5
echo "${ECHO_T}$cf_cv_mixedcase" >&6
test "$cf_cv_mixedcase" = yes &&
cat >>confdefs.h <<\EOF
#define MIXEDCASE_FILENAMES 1
EOF

for ac_prog in exctags ctags
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:2705: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CTAGS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CTAGS"; then
  ac_cv_prog_CTAGS="$CTAGS" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CTAGS="$ac_prog"
echo "$as_me:2720: found $ac_dir/$ac_word" >&5
break
done

fi
fi
CTAGS=$ac_cv_prog_CTAGS
if test -n "$CTAGS"; then
  echo "$as_me:2728: result: $CTAGS" >&5
echo "${ECHO_T}$CTAGS" >&6
else
  echo "$as_me:2731: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$CTAGS" && break
done

for ac_prog in exetags etags
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:2742: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ETAGS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ETAGS"; then
  ac_cv_prog_ETAGS="$ETAGS" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ETAGS="$ac_prog"
echo "$as_me:2757: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ETAGS=$ac_cv_prog_ETAGS
if test -n "$ETAGS"; then
  echo "$as_me:2765: result: $ETAGS" >&5
echo "${ECHO_T}$ETAGS" >&6
else
  echo "$as_me:2768: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ETAGS" && break
done

# Extract the first word of "${CTAGS:-ctags}", so it can be a program name with args.
set dummy ${CTAGS:-ctags}; ac_word=$2
echo "$as_me:2777: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_MAKE_LOWER_TAGS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$MAKE_LOWER_TAGS"; then
  ac_cv_prog_MAKE_LOWER_TAGS="$MAKE_LOWER_TAGS" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_MAKE_LOWER_TAGS="yes"
echo "$as_me:2792: found $ac_dir/$ac_word" >&5
break
done

  test -z "$ac_cv_prog_MAKE_LOWER_TAGS" && ac_cv_prog_MAKE_LOWER_TAGS="no"
fi
fi
MAKE_LOWER_TAGS=$ac_cv_prog_MAKE_LOWER_TAGS
if test -n "$MAKE_LOWER_TAGS"; then
  echo "$as_me:2801: result: $MAKE_LOWER_TAGS" >&5
echo "${ECHO_T}$MAKE_LOWER_TAGS" >&6
else
  echo "$as_me:2804: result: no" >&5
echo "${ECHO_T}no" >&6
fi

if test "$cf_cv_mixedcase" = yes ; then
	# Extract the first word of "${ETAGS:-etags}", so it can be a program name with args.
set dummy ${ETAGS:-etags}; ac_word=$2
echo "$as_me:2811: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_MAKE_UPPER_TAGS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$MAKE_UPPER_TAGS"; then
  ac_cv_prog_MAKE_UPPER_TAGS="$MAKE_UPPER_TAGS" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_MAKE_UPPER_TAGS="yes"
echo "$as_me:2826: found $ac_dir/$ac_word" >&5
break
done

  test -z "$ac_cv_prog_MAKE_UPPER_TAGS" && ac_cv_prog_MAKE_UPPER_TAGS="no"
fi
fi
MAKE_UPPER_TAGS=$ac_cv_prog_MAKE_UPPER_TAGS
if test -n "$MAKE_UPPER_TAGS"; then
  echo "$as_me:2835: result: $MAKE_UPPER_TAGS" >&5
echo "${ECHO_T}$MAKE_UPPER_TAGS" >&6
else
  echo "$as_me:2838: result: no" >&5
echo "${ECHO_T}no" >&6
fi

else
	MAKE_UPPER_TAGS=no
fi

if test "$MAKE_UPPER_TAGS" = yes ; then
	MAKE_UPPER_TAGS=
else
	MAKE_UPPER_TAGS="#"
fi

if test "$MAKE_LOWER_TAGS" = yes ; then
	MAKE_LOWER_TAGS=
else
	MAKE_LOWER_TAGS="#"
fi

if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}windres", so it can be a program name with args.
set dummy ${ac_tool_prefix}windres; ac_word=$2
echo "$as_me:2861: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_WINDRES+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $WINDRES in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_WINDRES="$WINDRES" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_WINDRES="$ac_dir/$ac_word"
   echo "$as_me:2878: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
WINDRES=$ac_cv_path_WINDRES

if test -n "$WINDRES"; then
  echo "$as_me:2889: result: $WINDRES" >&5
echo "${ECHO_T}$WINDRES" >&6
else
  echo "$as_me:2892: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_path_WINDRES"; then
  ac_pt_WINDRES=$WINDRES
  # Extract the first word of "windres", so it can be a program name with args.
set dummy windres; ac_word=$2
echo "$as_me:2901: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_ac_pt_WINDRES+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $ac_pt_WINDRES in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_ac_pt_WINDRES="$ac_pt_WINDRES" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_ac_pt_WINDRES="$ac_dir/$ac_word"
   echo "$as_me:2918: found $ac_dir/$ac_word" >&5
   break
fi
done

  test -z "$ac_cv_path_ac_pt_WINDRES" && ac_cv_path_ac_pt_WINDRES="none"
  ;;
esac
fi
ac_pt_WINDRES=$ac_cv_path_ac_pt_WINDRES

if test -n "$ac_pt_WINDRES"; then
  echo "$as_me:2930: result: $ac_pt_WINDRES" >&5
echo "${ECHO_T}$ac_pt_WINDRES" >&6
else
  echo "$as_me:2933: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  WINDRES=$ac_pt_WINDRES
else
  WINDRES="$ac_cv_path_WINDRES"
fi

if test "$cross_compiling" = yes ; then

	# defaults that we might want to override
	: ${BUILD_CFLAGS:=''}
	: ${BUILD_CPPFLAGS:='#'}
	: ${BUILD_LDFLAGS:=''}
	: ${BUILD_LIBS:=''}
	: ${BUILD_EXEEXT:='$x'}
	: ${BUILD_OBJEXT:='o'}

# Check whether --with-build-cc or --without-build-cc was given.
if test "${with_build_cc+set}" = set; then
  withval="$with_build_cc"
  BUILD_CC="$withval"
else
  for ac_prog in gcc cc cl
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:2961: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_BUILD_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$BUILD_CC"; then
  ac_cv_prog_BUILD_CC="$BUILD_CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_BUILD_CC="$ac_prog"
echo "$as_me:2976: found $ac_dir/$ac_word" >&5
break
done

fi
fi
BUILD_CC=$ac_cv_prog_BUILD_CC
if test -n "$BUILD_CC"; then
  echo "$as_me:2984: result: $BUILD_CC" >&5
echo "${ECHO_T}$BUILD_CC" >&6
else
  echo "$as_me:2987: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$BUILD_CC" && break
done

fi;
	echo "$as_me:2995: checking for native build C compiler" >&5
echo $ECHO_N "checking for native build C compiler... $ECHO_C" >&6
	echo "$as_me:2997: result: $BUILD_CC" >&5
echo "${ECHO_T}$BUILD_CC" >&6

	echo "$as_me:3000: checking for native build C preprocessor" >&5
echo $ECHO_N "checking for native build C preprocessor... $ECHO_C" >&6

# Check whether --with-build-cpp or --without-build-cpp was given.
if test "${with_build_cpp+set}" = set; then
  withval="$with_build_cpp"
  BUILD_CPP="$withval"
else
  BUILD_CPP='${BUILD_CC} -E'
fi;
	echo "$as_me:3010: result: $BUILD_CPP" >&5
echo "${ECHO_T}$BUILD_CPP" >&6

	echo "$as_me:3013: checking for native build C flags" >&5
echo $ECHO_N "checking for native build C flags... $ECHO_C" >&6

# Check whether --with-build-cflags or --without-build-cflags was given.
if test "${with_build_cflags+set}" = set; then
  withval="$with_build_cflags"
  BUILD_CFLAGS="$withval"
fi;
	echo "$as_me:3021: result: $BUILD_CFLAGS" >&5
echo "${ECHO_T}$BUILD_CFLAGS" >&6

	echo "$as_me:3024: checking for native build C preprocessor-flags" >&5
echo $ECHO_N "checking for native build C preprocessor-flags... $ECHO_C" >&6

# Check whether --with-build-cppflags or --without-build-cppflags was given.
if test "${with_build_cppflags+set}" = set; then
  withval="$with_build_cppflags"
  BUILD_CPPFLAGS="$withval"
fi;
	echo "$as_me:3032: result: $BUILD_CPPFLAGS" >&5
echo "${ECHO_T}$BUILD_CPPFLAGS" >&6

	echo "$as_me:3035: checking for native build linker-flags" >&5
echo $ECHO_N "checking for native build linker-flags... $ECHO_C" >&6

# Check whether --with-build-ldflags or --without-build-ldflags was given.
if test "${with_build_ldflags+set}" = set; then
  withval="$with_build_ldflags"
  BUILD_LDFLAGS="$withval"
fi;
	echo "$as_me:3043: result: $BUILD_LDFLAGS" >&5
echo "${ECHO_T}$BUILD_LDFLAGS" >&6

	echo "$as_me:3046: checking for native build linker-libraries" >&5
echo $ECHO_N "checking for native build linker-libraries... $ECHO_C" >&6

# Check whether --with-build-libs or --without-build-libs was given.
if test "${with_build_libs+set}" = set; then
  withval="$with_build_libs"
  BUILD_LIBS="$withval"
fi;
	echo "$as_me:3054: result: $BUILD_LIBS" >&5
echo "${ECHO_T}$BUILD_LIBS" >&6

	# this assumes we're on Unix.
	BUILD_EXEEXT=
	BUILD_OBJEXT=o

	: ${BUILD_CC:='${CC}'}

	if ( test "$BUILD_CC" = "$CC" || test "$BUILD_CC" = '${CC}' ) ; then
		{ { echo "$as_me:3064: error: Cross-build requires two compilers.
Use --with-build-cc to specify the native compiler." >&5
echo "$as_me: error: Cross-build requires two compilers.
Use --with-build-cc to specify the native compiler." >&2;}
   { (exit 1); exit 1; }; }
	fi

else
	: ${BUILD_CC:='${CC}'}
	: ${BUILD_CPP:='${CPP}'}
	: ${BUILD_CFLAGS:='${CFLAGS}'}
	: ${BUILD_CPPFLAGS:='${CPPFLAGS}'}
	: ${BUILD_LDFLAGS:='${LDFLAGS}'}
	: ${BUILD_LIBS:='${LIBS}'}
	: ${BUILD_EXEEXT:='$x'}
	: ${BUILD_OBJEXT:='o'}
fi

if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
echo "$as_me:3085: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
echo "$as_me:3100: found $ac_dir/$ac_word" >&5
break
done

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  echo "$as_me:3108: result: $RANLIB" >&5
echo "${ECHO_T}$RANLIB" >&6
else
  echo "$as_me:3111: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo "$as_me:3120: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_RANLIB="ranlib"
echo "$as_me:3135: found $ac_dir/$ac_word" >&5
break
done

  test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB="':'"
fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  echo "$as_me:3144: result: $ac_ct_RANLIB" >&5
echo "${ECHO_T}$ac_ct_RANLIB" >&6
else
  echo "$as_me:3147: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  RANLIB=$ac_ct_RANLIB
else
  RANLIB="$ac_cv_prog_RANLIB"
fi

if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ar", so it can be a program name with args.
set dummy ${ac_tool_prefix}ar; ac_word=$2
echo "$as_me:3159: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_AR+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$AR"; then
  ac_cv_prog_AR="$AR" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_AR="${ac_tool_prefix}ar"
echo "$as_me:3174: found $ac_dir/$ac_word" >&5
break
done

fi
fi
AR=$ac_cv_prog_AR
if test -n "$AR"; then
  echo "$as_me:3182: result: $AR" >&5
echo "${ECHO_T}$AR" >&6
else
  echo "$as_me:3185: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_AR"; then
  ac_ct_AR=$AR
  # Extract the first word of "ar", so it can be a program name with args.
set dummy ar; ac_word=$2
echo "$as_me:3194: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_AR+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_AR"; then
  ac_cv_prog_ac_ct_AR="$ac_ct_AR" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_AR="ar"
echo "$as_me:3209: found $ac_dir/$ac_word" >&5
break
done

  test -z "$ac_cv_prog_ac_ct_AR" && ac_cv_prog_ac_ct_AR="ar"
fi
fi
ac_ct_AR=$ac_cv_prog_ac_ct_AR
if test -n "$ac_ct_AR"; then
  echo "$as_me:3218: result: $ac_ct_AR" >&5
echo "${ECHO_T}$ac_ct_AR" >&6
else
  echo "$as_me:3221: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  AR=$ac_ct_AR
else
  AR="$ac_cv_prog_AR"
fi

echo "$as_me:3230: checking for options to update archives" >&5
echo $ECHO_N "checking for options to update archives... $ECHO_C" >&6
if test "${cf_cv_ar_flags+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_ar_flags=unknown
	for cf_ar_flags in -curv curv -crv crv -cqv cqv -rv rv
	do

		# check if $ARFLAGS already contains this choice
		if test "x$ARFLAGS" != "x" ; then
			cf_check_ar_flags=`echo "x$ARFLAGS" | sed -e "s/$cf_ar_flags\$//" -e "s/$cf_ar_flags / /"`
			if test "x$ARFLAGS" != "$cf_check_ar_flags" ; then
				cf_cv_ar_flags=
				break
			fi
		fi

		rm -f conftest.$ac_cv_objext
		rm -f conftest.a

		cat >conftest.$ac_ext <<EOF
#line 3253 "configure"
int	testdata[3] = { 123, 456, 789 };
EOF
		if { (eval echo "$as_me:3256: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3259: \$? = $ac_status" >&5
  (exit $ac_status); } ; then
			echo "$AR $ARFLAGS $cf_ar_flags conftest.a conftest.$ac_cv_objext" >&5
			$AR $ARFLAGS $cf_ar_flags conftest.a conftest.$ac_cv_objext 2>&5 1>/dev/null
			if test -f conftest.a ; then
				cf_cv_ar_flags=$cf_ar_flags
				break
			fi
		else
			test -n "$verbose" && echo "	cannot compile test-program" 1>&6

echo "${as_me:-configure}:3270: testing cannot compile test-program ..." 1>&5

			break
		fi
	done
	rm -f conftest.a conftest.$ac_ext conftest.$ac_cv_objext

fi
echo "$as_me:3278: result: $cf_cv_ar_flags" >&5
echo "${ECHO_T}$cf_cv_ar_flags" >&6

if test -n "$ARFLAGS" ; then
	if test -n "$cf_cv_ar_flags" ; then
		ARFLAGS="$ARFLAGS $cf_cv_ar_flags"
	fi
else
	ARFLAGS=$cf_cv_ar_flags
fi

echo "$as_me:3289: checking if you want to see long compiling messages" >&5
echo $ECHO_N "checking if you want to see long compiling messages... $ECHO_C" >&6

# Check whether --enable-echo or --disable-echo was given.
if test "${enable_echo+set}" = set; then
  enableval="$enable_echo"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then

    ECHO_LT='--silent'
    ECHO_LD='@@echo linking $@@;'
    RULE_CC='@@echo compiling $<'
    SHOW_CC='@@echo compiling $@@'
    ECHO_CC='@@'

  else

    ECHO_LT=''
    ECHO_LD=''
    RULE_CC=''
    SHOW_CC=''
    ECHO_CC=''

  fi
else
  enableval=yes

    ECHO_LT=''
    ECHO_LD=''
    RULE_CC=''
    SHOW_CC=''
    ECHO_CC=''

fi;
echo "$as_me:3323: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

# special case for WWW/*
if test -n "$ECHO_CC" ; then
	DONT_ECHO_CC="$SHOW_CC ;"
else
	DONT_ECHO_CC=''
fi

echo "$as_me:3333: checking if you want to check memory-leaks" >&5
echo $ECHO_N "checking if you want to check memory-leaks... $ECHO_C" >&6

# Check whether --enable-find-leaks or --disable-find-leaks was given.
if test "${enable_find_leaks+set}" = set; then
  enableval="$enable_find_leaks"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    with_leak_checks=yes
  else
    with_leak_checks=no
  fi
else
  enableval=no
  with_leak_checks=no

fi;
echo "$as_me:3350: result: $with_leak_checks" >&5
echo "${ECHO_T}$with_leak_checks" >&6
test "$with_leak_checks" = "yes" &&
cat >>confdefs.h <<\EOF
#define LY_FIND_LEAKS 1
EOF

# The comment about adding -g to $CFLAGS is unclear.  Autoconf tries to add
# a -g flag; we remove it if the user's $CFLAGS was not set and debugging is
# disabled.
echo "$as_me:3360: checking if you want to enable debug-code" >&5
echo $ECHO_N "checking if you want to enable debug-code... $ECHO_C" >&6

# Check whether --enable-debug or --disable-debug was given.
if test "${enable_debug+set}" = set; then
  enableval="$enable_debug"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    with_debug=yes
  else
    with_debug=no
  fi
else
  enableval=no
  with_debug=no

fi;
echo "$as_me:3377: result: $with_debug" >&5
echo "${ECHO_T}$with_debug" >&6
if test "$with_debug" = "yes" ; then
	case $host_os in
	ultrix*|osf*)
		test -z "$ORIGINAL_CFLAGS" &&
CFLAGS=`echo ${CFLAGS} | sed -e 's/-O[1-9]\? //' -e 's/-O[1-9]\?$//'`

		if test -z "$GCC" ; then
			CFLAGS="$CFLAGS -g3"
		fi
		;;
	esac
else
	case $host_os in
	osf*) #(vi
		test -z "$GCC" && CFLAGS="$CFLAGS -std1"
		test -z "$ORIGINAL_CFLAGS" && CFLAGS=`echo ${CFLAGS} | sed -e 's%-g %%' -e 's%-g$%%'`
		;;
	*)
		test -z "$ORIGINAL_CFLAGS" && CFLAGS=`echo ${CFLAGS} | sed -e 's%-g %%' -e 's%-g$%%'`
		;;
	esac
fi

echo "$as_me:3402: checking if you want to enable lynx trace code *recommended* " >&5
echo $ECHO_N "checking if you want to enable lynx trace code *recommended* ... $ECHO_C" >&6

# Check whether --enable-trace or --disable-trace was given.
if test "${enable_trace+set}" = set; then
  enableval="$enable_trace"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    with_trace=$enableval
  else
    with_trace=yes
  fi
else
  enableval=yes
  with_trace=yes

fi;
echo "$as_me:3419: result: $with_trace" >&5
echo "${ECHO_T}$with_trace" >&6
test $with_trace = no &&
cat >>confdefs.h <<\EOF
#define NO_LYNX_TRACE 1
EOF

echo "$as_me:3426: checking if you want verbose trace code" >&5
echo $ECHO_N "checking if you want verbose trace code... $ECHO_C" >&6

# Check whether --enable-vertrace or --disable-vertrace was given.
if test "${enable_vertrace+set}" = set; then
  enableval="$enable_vertrace"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    with_vertrace=yes
  else
    with_vertrace=no
  fi
else
  enableval=no
  with_vertrace=no

fi;
echo "$as_me:3443: result: $with_vertrace" >&5
echo "${ECHO_T}$with_vertrace" >&6
test $with_vertrace = yes &&
cat >>confdefs.h <<\EOF
#define LY_TRACELINE __LINE__
EOF

if test -n "$GCC"
then
echo "$as_me:3452: checking if you want to turn on gcc warnings" >&5
echo $ECHO_N "checking if you want to turn on gcc warnings... $ECHO_C" >&6

# Check whether --enable-warnings or --disable-warnings was given.
if test "${enable_warnings+set}" = set; then
  enableval="$enable_warnings"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    with_warnings=yes
  else
    with_warnings=no
  fi
else
  enableval=no
  with_warnings=no

fi;
echo "$as_me:3469: result: $with_warnings" >&5
echo "${ECHO_T}$with_warnings" >&6
if test "$with_warnings" = "yes"
then

if test "$GCC" = yes
then
cat > conftest.i <<EOF
#ifndef GCC_PRINTF
#define GCC_PRINTF 0
#endif
#ifndef GCC_SCANF
#define GCC_SCANF 0
#endif
#ifndef GCC_NORETURN
#define GCC_NORETURN /* nothing */
#endif
#ifndef GCC_UNUSED
#define GCC_UNUSED /* nothing */
#endif
EOF
if test "$GCC" = yes
then
	{ echo "$as_me:3492: checking for $CC __attribute__ directives..." >&5
echo "$as_me: checking for $CC __attribute__ directives..." >&6;}
cat > conftest.$ac_ext <<EOF
#line 3495 "${as_me:-configure}"
#include "confdefs.h"
#include "conftest.h"
#include "conftest.i"
#if	GCC_PRINTF
#define GCC_PRINTFLIKE(fmt,var) __attribute__((format(printf,fmt,var)))
#else
#define GCC_PRINTFLIKE(fmt,var) /*nothing*/
#endif
#if	GCC_SCANF
#define GCC_SCANFLIKE(fmt,var)  __attribute__((format(scanf,fmt,var)))
#else
#define GCC_SCANFLIKE(fmt,var)  /*nothing*/
#endif
extern void wow(char *,...) GCC_SCANFLIKE(1,2);
extern void oops(char *,...) GCC_PRINTFLIKE(1,2) GCC_NORETURN;
extern void foo(void) GCC_NORETURN;
int main(int argc GCC_UNUSED, char *argv[] GCC_UNUSED) { return 0; }
EOF
	cf_printf_attribute=no
	cf_scanf_attribute=no
	for cf_attribute in scanf printf unused noreturn
	do

cf_ATTRIBUTE=`echo "$cf_attribute" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

		cf_directive="__attribute__(($cf_attribute))"
		echo "checking for $CC $cf_directive" 1>&5

		case $cf_attribute in #(vi
		printf) #(vi
			cf_printf_attribute=yes
			cat >conftest.h <<EOF
#define GCC_$cf_ATTRIBUTE 1
EOF
			;;
		scanf) #(vi
			cf_scanf_attribute=yes
			cat >conftest.h <<EOF
#define GCC_$cf_ATTRIBUTE 1
EOF
			;;
		*) #(vi
			cat >conftest.h <<EOF
#define GCC_$cf_ATTRIBUTE $cf_directive
EOF
			;;
		esac

		if { (eval echo "$as_me:3544: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3547: \$? = $ac_status" >&5
  (exit $ac_status); }; then
			test -n "$verbose" && echo "$as_me:3549: result: ... $cf_attribute" >&5
echo "${ECHO_T}... $cf_attribute" >&6
			cat conftest.h >>confdefs.h
			case $cf_attribute in #(vi
			noreturn) #(vi

cat >>confdefs.h <<EOF
#define GCC_NORETURN $cf_directive
EOF

				;;
			printf) #(vi
				cf_value='/* nothing */'
				if test "$cf_printf_attribute" != no ; then
					cf_value='__attribute__((format(printf,fmt,var)))'

cat >>confdefs.h <<\EOF
#define GCC_PRINTF 1
EOF

				fi

cat >>confdefs.h <<EOF
#define GCC_PRINTFLIKE(fmt,var) $cf_value
EOF

				;;
			scanf) #(vi
				cf_value='/* nothing */'
				if test "$cf_scanf_attribute" != no ; then
					cf_value='__attribute__((format(scanf,fmt,var)))'

cat >>confdefs.h <<\EOF
#define GCC_SCANF 1
EOF

				fi

cat >>confdefs.h <<EOF
#define GCC_SCANFLIKE(fmt,var) $cf_value
EOF

				;;
			unused) #(vi

cat >>confdefs.h <<EOF
#define GCC_UNUSED $cf_directive
EOF

				;;
			esac
		fi
	done
else
	fgrep define conftest.i >>confdefs.h
fi
rm -rf conftest*
fi

INTEL_COMPILER=no

if test "$GCC" = yes ; then
	case $host_os in
	linux*|gnu*)
		echo "$as_me:3613: checking if this is really Intel C compiler" >&5
echo $ECHO_N "checking if this is really Intel C compiler... $ECHO_C" >&6
		cf_save_CFLAGS="$CFLAGS"
		CFLAGS="$CFLAGS -no-gcc"
		cat >conftest.$ac_ext <<_ACEOF
#line 3618 "configure"
#include "confdefs.h"

int
main ()
{

#ifdef __INTEL_COMPILER
#else
make an error
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:3635: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3638: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:3641: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3644: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  INTEL_COMPILER=yes
cf_save_CFLAGS="$cf_save_CFLAGS -we147 -no-gcc"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
		CFLAGS="$cf_save_CFLAGS"
		echo "$as_me:3655: result: $INTEL_COMPILER" >&5
echo "${ECHO_T}$INTEL_COMPILER" >&6
		;;
	esac
fi

CLANG_COMPILER=no

if test "$GCC" = yes ; then
	echo "$as_me:3664: checking if this is really Clang C compiler" >&5
echo $ECHO_N "checking if this is really Clang C compiler... $ECHO_C" >&6
	cf_save_CFLAGS="$CFLAGS"
	CFLAGS="$CFLAGS -Qunused-arguments"
	cat >conftest.$ac_ext <<_ACEOF
#line 3669 "configure"
#include "confdefs.h"

int
main ()
{

#ifdef __clang__
#else
make an error
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:3686: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3689: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:3692: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3695: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  CLANG_COMPILER=yes
cf_save_CFLAGS="$cf_save_CFLAGS -Qunused-arguments"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	CFLAGS="$cf_save_CFLAGS"
	echo "$as_me:3706: result: $CLANG_COMPILER" >&5
echo "${ECHO_T}$CLANG_COMPILER" >&6
fi

cat > conftest.$ac_ext <<EOF
#line 3711 "${as_me:-configure}"
int main(int argc, char *argv[]) { return (argv[argc-1] == 0) ; }
EOF

if test "$INTEL_COMPILER" = yes
then
# The "-wdXXX" options suppress warnings:
# remark #1419: external declaration in primary source file
# remark #1683: explicit conversion of a 64-bit integral type to a smaller integral type (potential portability problem)
# remark #1684: conversion from pointer to same-sized integral type (potential portability problem)
# remark #193: zero used for undefined preprocessing identifier
# remark #593: variable "curs_sb_left_arrow" was set but never used
# remark #810: conversion from "int" to "Dimension={unsigned short}" may lose significant bits
# remark #869: parameter "tw" was never referenced
# remark #981: operands are evaluated in unspecified order
# warning #279: controlling expression is constant

	{ echo "$as_me:3728: checking for $CC warning options..." >&5
echo "$as_me: checking for $CC warning options..." >&6;}
	cf_save_CFLAGS="$CFLAGS"
	EXTRA_CFLAGS="-Wall"
	for cf_opt in \
		wd1419 \
		wd1683 \
		wd1684 \
		wd193 \
		wd593 \
		wd279 \
		wd810 \
		wd869 \
		wd981
	do
		CFLAGS="$cf_save_CFLAGS $EXTRA_CFLAGS -$cf_opt"
		if { (eval echo "$as_me:3744: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3747: \$? = $ac_status" >&5
  (exit $ac_status); }; then
			test -n "$verbose" && echo "$as_me:3749: result: ... -$cf_opt" >&5
echo "${ECHO_T}... -$cf_opt" >&6
			EXTRA_CFLAGS="$EXTRA_CFLAGS -$cf_opt"
		fi
	done
	CFLAGS="$cf_save_CFLAGS"

elif test "$GCC" = yes
then
	{ echo "$as_me:3758: checking for $CC warning options..." >&5
echo "$as_me: checking for $CC warning options..." >&6;}
	cf_save_CFLAGS="$CFLAGS"
	EXTRA_CFLAGS=
	cf_warn_CONST=""
	test "$with_ext_const" = yes && cf_warn_CONST="Wwrite-strings"
	cf_gcc_warnings="Wignored-qualifiers Wlogical-op Wvarargs"
	test "x$CLANG_COMPILER" = xyes && cf_gcc_warnings=
	for cf_opt in W Wall \
		Wbad-function-cast \
		Wcast-align \
		Wcast-qual \
		Wdeclaration-after-statement \
		Wextra \
		Winline \
		Wmissing-declarations \
		Wmissing-prototypes \
		Wnested-externs \
		Wpointer-arith \
		Wshadow \
		Wstrict-prototypes \
		Wundef $cf_gcc_warnings $cf_warn_CONST
	do
		CFLAGS="$cf_save_CFLAGS $EXTRA_CFLAGS -$cf_opt"
		if { (eval echo "$as_me:3782: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3785: \$? = $ac_status" >&5
  (exit $ac_status); }; then
			test -n "$verbose" && echo "$as_me:3787: result: ... -$cf_opt" >&5
echo "${ECHO_T}... -$cf_opt" >&6
			case $cf_opt in #(vi
			Wcast-qual) #(vi
				CPPFLAGS="$CPPFLAGS -DXTSTRINGDEFINES"
				;;
			Winline) #(vi
				case $GCC_VERSION in
				[34].*)
					test -n "$verbose" && echo "	feature is broken in gcc $GCC_VERSION" 1>&6

echo "${as_me:-configure}:3798: testing feature is broken in gcc $GCC_VERSION ..." 1>&5

					continue;;
				esac
				;;
			Wpointer-arith) #(vi
				case $GCC_VERSION in
				[12].*)
					test -n "$verbose" && echo "	feature is broken in gcc $GCC_VERSION" 1>&6

echo "${as_me:-configure}:3808: testing feature is broken in gcc $GCC_VERSION ..." 1>&5

					continue;;
				esac
				;;
			esac
			EXTRA_CFLAGS="$EXTRA_CFLAGS -$cf_opt"
		fi
	done
	CFLAGS="$cf_save_CFLAGS"
fi
rm -rf conftest*

fi
fi

echo "$as_me:3824: checking if you want to use dbmalloc for testing" >&5
echo $ECHO_N "checking if you want to use dbmalloc for testing... $ECHO_C" >&6

# Check whether --with-dbmalloc or --without-dbmalloc was given.
if test "${with_dbmalloc+set}" = set; then
  withval="$with_dbmalloc"

cat >>confdefs.h <<EOF
#define USE_DBMALLOC 1
EOF

	: ${with_cflags:=-g}
	: ${with_no_leaks:=yes}
	 with_dbmalloc=yes
else
  with_dbmalloc=
fi;
echo "$as_me:3841: result: ${with_dbmalloc:-no}" >&5
echo "${ECHO_T}${with_dbmalloc:-no}" >&6

case .$with_cflags in #(vi
.*-g*)
	case .$CFLAGS in #(vi
	.*-g*) #(vi
		;;
	*)

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in -g
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

		;;
	esac
	;;
esac

if test "$with_dbmalloc" = yes ; then
	echo "$as_me:3935: checking for dbmalloc.h" >&5
echo $ECHO_N "checking for dbmalloc.h... $ECHO_C" >&6
if test "${ac_cv_header_dbmalloc_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 3941 "configure"
#include "confdefs.h"
#include <dbmalloc.h>
_ACEOF
if { (eval echo "$as_me:3945: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:3951: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_cv_header_dbmalloc_h=yes
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_dbmalloc_h=no
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:3970: result: $ac_cv_header_dbmalloc_h" >&5
echo "${ECHO_T}$ac_cv_header_dbmalloc_h" >&6
if test $ac_cv_header_dbmalloc_h = yes; then

echo "$as_me:3974: checking for debug_malloc in -ldbmalloc" >&5
echo $ECHO_N "checking for debug_malloc in -ldbmalloc... $ECHO_C" >&6
if test "${ac_cv_lib_dbmalloc_debug_malloc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldbmalloc  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 3982 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char debug_malloc ();
int
main ()
{
debug_malloc ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:4001: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:4004: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:4007: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4010: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dbmalloc_debug_malloc=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dbmalloc_debug_malloc=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:4021: result: $ac_cv_lib_dbmalloc_debug_malloc" >&5
echo "${ECHO_T}$ac_cv_lib_dbmalloc_debug_malloc" >&6
if test $ac_cv_lib_dbmalloc_debug_malloc = yes; then
  cat >>confdefs.h <<EOF
#define HAVE_LIBDBMALLOC 1
EOF

  LIBS="-ldbmalloc $LIBS"

fi

fi

fi

echo "$as_me:4036: checking if you want to use dmalloc for testing" >&5
echo $ECHO_N "checking if you want to use dmalloc for testing... $ECHO_C" >&6

# Check whether --with-dmalloc or --without-dmalloc was given.
if test "${with_dmalloc+set}" = set; then
  withval="$with_dmalloc"

cat >>confdefs.h <<EOF
#define USE_DMALLOC 1
EOF

	: ${with_cflags:=-g}
	: ${with_no_leaks:=yes}
	 with_dmalloc=yes
else
  with_dmalloc=
fi;
echo "$as_me:4053: result: ${with_dmalloc:-no}" >&5
echo "${ECHO_T}${with_dmalloc:-no}" >&6

case .$with_cflags in #(vi
.*-g*)
	case .$CFLAGS in #(vi
	.*-g*) #(vi
		;;
	*)

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in -g
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

		;;
	esac
	;;
esac

if test "$with_dmalloc" = yes ; then
	echo "$as_me:4147: checking for dmalloc.h" >&5
echo $ECHO_N "checking for dmalloc.h... $ECHO_C" >&6
if test "${ac_cv_header_dmalloc_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4153 "configure"
#include "confdefs.h"
#include <dmalloc.h>
_ACEOF
if { (eval echo "$as_me:4157: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:4163: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_cv_header_dmalloc_h=yes
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_dmalloc_h=no
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:4182: result: $ac_cv_header_dmalloc_h" >&5
echo "${ECHO_T}$ac_cv_header_dmalloc_h" >&6
if test $ac_cv_header_dmalloc_h = yes; then

echo "$as_me:4186: checking for dmalloc_debug in -ldmalloc" >&5
echo $ECHO_N "checking for dmalloc_debug in -ldmalloc... $ECHO_C" >&6
if test "${ac_cv_lib_dmalloc_dmalloc_debug+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldmalloc  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 4194 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char dmalloc_debug ();
int
main ()
{
dmalloc_debug ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:4213: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:4216: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:4219: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4222: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dmalloc_dmalloc_debug=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dmalloc_dmalloc_debug=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:4233: result: $ac_cv_lib_dmalloc_dmalloc_debug" >&5
echo "${ECHO_T}$ac_cv_lib_dmalloc_dmalloc_debug" >&6
if test $ac_cv_lib_dmalloc_dmalloc_debug = yes; then
  cat >>confdefs.h <<EOF
#define HAVE_LIBDMALLOC 1
EOF

  LIBS="-ldmalloc $LIBS"

fi

fi

fi

cat >>confdefs.h <<\EOF
#define UNIX 1
EOF

TRY_CFLAGS=
case $host_os in
aix4*)
	TRY_CFLAGS="$TRY_CFLAGS -DAIX4 -D_BSD=44 -D_AIX"
	LIBS="$LIBS -lbsd"
	;;
aix*)
	TRY_CFLAGS="$TRY_CFLAGS -D_ACS_COMPAT_CODE"
	LIBS="$LIBS -lbsd"
	;;
apollo*)
	TRY_CFLAGS="$TRY_CFLAGS -D_BUILTINS -W0,-opt,4"
	;;
bsdi*)
	TRY_CFLAGS="$TRY_CFLAGS -DBSDI"
	;;
clix*)
	# Tested on CLIX 3.1 (T.Dickey).  The original makefile entry
	# contributed by Alex Matulich (matuli_a@@marlin.navsea.navy.mil) also
	# references -lmalloc and -lbsd.

echo "$as_me:4273: checking for strcmp in -lc_s" >&5
echo $ECHO_N "checking for strcmp in -lc_s... $ECHO_C" >&6
if test "${ac_cv_lib_c_s_strcmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lc_s  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 4281 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char strcmp ();
int
main ()
{
strcmp ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:4300: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:4303: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:4306: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4309: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_c_s_strcmp=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_c_s_strcmp=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:4320: result: $ac_cv_lib_c_s_strcmp" >&5
echo "${ECHO_T}$ac_cv_lib_c_s_strcmp" >&6
if test $ac_cv_lib_c_s_strcmp = yes; then
  cat >>confdefs.h <<EOF
#define HAVE_LIBC_S 1
EOF

  LIBS="-lc_s $LIBS"

fi

	;;
convex*)
	TRY_CFLAGS="$TRY_CFLAGS -D__STDC__ -Dunix"
	;;
cygwin*)
	TRY_CFLAGS="$TRY_CFLAGS -DWIN_EX -D_WINDOWS_NSL"
	LIBS="$LIBS -luser32"
	;;
dgux*)
	TRY_CFLAGS="$TRY_CFLAGS -DDGUX"
	;;
hpux*)
	TRY_CFLAGS="$TRY_CFLAGS -DSNAKE -D_XOPEN_SOURCE_EXTENDED"
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -Wp,-H600000 -DSYS_HPUX"
	;;
isc*)
	# -DPOSIX_JC is necessary, else LYBookmark.c never finds out what a mode_t is.
	TRY_CFLAGS="$TRY_CFLAGS -DISC -DPOSIX_JC"
	LIBS="$LIBS -linet -lnsl_s -lcposix"
	;;
irix6.*) #(vi
	TRY_CFLAGS="$TRY_CFLAGS -DSYS_IRIX64"
	;;
irix*)
	# The original makefile used the $CFLAGS option -cckr for some form
	# of K&R compatibility.  However, this causes compilation warnings for
	# varargs on IRIX 5.2, and does not appear to be needed.
	;;
linux*)
	TRY_CFLAGS="$TRY_CFLAGS -DLINUX"
	;;
mingw*)
	# put these directly in CPPFLAGS since they will not work in lynx_cfg.h

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in \
		-DWIN32_LEAN_AND_MEAN \
		-DDOSPATH \
		-DNOSIGHUP \
		-DNOUSERS \
		-DWIN_EX \
		-D_CONSOLE \
		-D_MBCS \
		-D_WINDOWS \
		-D_WIN_CC \
		-D__WIN32__ \

do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	EXTRA_OBJS="$EXTRA_OBJS Xsystem\$o"
	;;
msdosdjgpp*)
	LIBS="$LIBS -lwatt"
	TRY_CFLAGS="$TRY_CFLAGS -DDOSPATH -DNOUSERS"
	;;
next*)
	TRY_CFLAGS="$TRY_CFLAGS -DNEXT"
	;;
osf4*)
	# The -Olimit flag (see below) is no longer available with
	# Digital C 5.2, which is bundled with Digital UNIX 4.0.
	TRY_CFLAGS="$TRY_CFLAGS -DDSYS5 -DSYS_TRU64"
	;;
osf*)
	# Increase the maximum size of functions that will be optimized.
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -O -Olimit 4000"
	TRY_CFLAGS="$TRY_CFLAGS -DDSYS5 -DSYS_TRU64"
	;;
sco3.2v5*)
	test $ac_cv_c_compiler_gnu != yes && TRY_CFLAGS="$TRY_CFLAGS -belf"
	;;
sco*)
	LIBS="$LIBS -lmalloc"
	# It's a little late to do much, but try to warn user if he's using
	# SCO's cc (which is reported to have broken const/volatile).
	case "$CC" in #(vi
	cc|*/cc)
		{ echo "$as_me:4482: WARNING: You should consider using gcc or rcc if available" >&5
echo "$as_me: WARNING: You should consider using gcc or rcc if available" >&2;}
		unset ac_cv_prog_CC
		for ac_prog in gcc rcc
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:4489: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="$ac_prog"
echo "$as_me:4504: found $ac_dir/$ac_word" >&5
break
done

fi
fi
CC=$ac_cv_prog_CC
if test -n "$CC"; then
  echo "$as_me:4512: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:4515: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$CC" && break
done
test -n "$CC" || CC="$CC"

		;;
	esac
	;;
sequent-ptx)
	TRY_CFLAGS="$TRY_CFLAGS -DSVR4_BSDSELECT -DNO_IOCTL -DUSE_FCNTL"
	;;
sequent-ptx2)
	TRY_CFLAGS="$TRY_CFLAGS -DSVR4_BSDSELECT"
	;;
sony-newsos*)
	TRY_CFLAGS="$TRY_CFLAGS -I/usr/sony/include"

for ac_header in jcurses.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:4538: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4544 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:4548: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:4554: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:4573: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

	;;
svr4)
	TRY_CFLAGS="$TRY_CFLAGS -DSVR4_BSDSELECT -DSVR4"
	;;
sunos3*)
	TRY_CFLAGS="$TRY_CFLAGS -DSUN"
	;;
sunos4*)
	TRY_CFLAGS="$TRY_CFLAGS -DSUN -DSUN4"
	;;
ultrix*)
	# Increase the maximum size of functions that will be optimized.
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -O -Olimit 600 -G 7"
	TRY_CFLAGS="$TRY_CFLAGS -DULTRIX"

for ac_header in cursesX.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:4601: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4607 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:4611: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:4617: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:4636: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

cat >>confdefs.h <<\EOF
#define HAVE_CURSESX_H 1
EOF

		 cf_cv_ncurses_header=cursesX.h
fi
done

	;;
esac

case $host_os in
mingw*)
	EXTRA_OBJS="$EXTRA_OBJS LYIcon\$o"
	;;
esac

# This should have been defined by AC_PROG_CC
: ${CC:=cc}

echo "$as_me:4663: checking \$CC variable" >&5
echo $ECHO_N "checking \$CC variable... $ECHO_C" >&6
case "$CC" in #(vi
*[\ \	]-[IUD]*)
	echo "$as_me:4667: result: broken" >&5
echo "${ECHO_T}broken" >&6
	{ echo "$as_me:4669: WARNING: your environment misuses the CC variable to hold CFLAGS/CPPFLAGS options" >&5
echo "$as_me: WARNING: your environment misuses the CC variable to hold CFLAGS/CPPFLAGS options" >&2;}
	# humor him...
	cf_flags=`echo "$CC" | sed -e 's/^[^ 	]*[ 	]//'`
	CC=`echo "$CC" | sed -e 's/[ 	].*//'`

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_flags
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	;;
*)
	echo "$as_me:4755: result: ok" >&5
echo "${ECHO_T}ok" >&6
	;;
esac

echo "$as_me:4760: checking for ${CC:-cc} option to accept ANSI C" >&5
echo $ECHO_N "checking for ${CC:-cc} option to accept ANSI C... $ECHO_C" >&6
if test "${cf_cv_ansi_cc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_ansi_cc=no
cf_save_CFLAGS="$CFLAGS"
cf_save_CPPFLAGS="$CPPFLAGS"
# Don't try gcc -ansi; that turns off useful extensions and
# breaks some systems' header files.
# AIX			-qlanglvl=ansi
# Ultrix and OSF/1	-std1
# HP-UX			-Aa -D_HPUX_SOURCE
# SVR4			-Xc
# UnixWare 1.2		(cannot use -Xc, since ANSI/POSIX clashes)
for cf_arg in "-DCC_HAS_PROTOS" \
	"" \
	-qlanglvl=ansi \
	-std1 \
	-Ae \
	"-Aa -D_HPUX_SOURCE" \
	-Xc
do

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_arg
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	cat >conftest.$ac_ext <<_ACEOF
#line 4864 "configure"
#include "confdefs.h"

#ifndef CC_HAS_PROTOS
#if !defined(__STDC__) || (__STDC__ != 1)
choke me
#endif
#endif

int
main ()
{

	int test (int i, double x);
	struct s1 {int (*f) (int a);};
	struct s2 {int (*f) (double a);};
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4885: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4888: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4891: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4894: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ansi_cc="$cf_arg"; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done
CFLAGS="$cf_save_CFLAGS"
CPPFLAGS="$cf_save_CPPFLAGS"

fi
echo "$as_me:4907: result: $cf_cv_ansi_cc" >&5
echo "${ECHO_T}$cf_cv_ansi_cc" >&6

if test "$cf_cv_ansi_cc" != "no"; then
if test ".$cf_cv_ansi_cc" != ".-DCC_HAS_PROTOS"; then

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_cv_ansi_cc
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

else

cat >>confdefs.h <<\EOF
#define CC_HAS_PROTOS 1
EOF

fi
fi

if test "$cf_cv_ansi_cc" = "no"; then
	{ { echo "$as_me:5001: error: Your compiler does not appear to recognize prototypes.
You have the following choices:
	a. adjust your compiler options
	b. get an up-to-date compiler
	c. use a wrapper such as unproto" >&5
echo "$as_me: error: Your compiler does not appear to recognize prototypes.
You have the following choices:
	a. adjust your compiler options
	b. get an up-to-date compiler
	c. use a wrapper such as unproto" >&2;}
   { (exit 1); exit 1; }; }
fi

# Check whether --enable-largefile or --disable-largefile was given.
if test "${enable_largefile+set}" = set; then
  enableval="$enable_largefile"

fi;
if test "$enable_largefile" != no; then

  echo "$as_me:5021: checking for special C compiler options needed for large files" >&5
echo $ECHO_N "checking for special C compiler options needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_largefile_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_sys_largefile_CC=no
     if test "$GCC" != yes; then
       ac_save_CC=$CC
       while :; do
     	 # IRIX 6.2 and later do not support large files by default,
     	 # so use the C compiler's -n32 option if that helps.
         cat >conftest.$ac_ext <<_ACEOF
#line 5033 "configure"
#include "confdefs.h"
#include <sys/types.h>
 /* Check that off_t can represent 2**63 - 1 correctly.
    We can't simply define LARGE_OFF_T to be 9223372036854775807,
    since some C++ compilers masquerading as C compilers
    incorrectly reject 9223372036854775807.  */
#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))
  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
		       && LARGE_OFF_T % 2147483647 == 1)
		      ? 1 : -1];
int
main ()
{

  ;
  return 0;
}
_ACEOF
     	 rm -f conftest.$ac_objext
if { (eval echo "$as_me:5053: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5056: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5059: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5062: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext
     	 CC="$CC -n32"
     	 rm -f conftest.$ac_objext
if { (eval echo "$as_me:5072: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5075: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5078: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5081: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sys_largefile_CC=' -n32'; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext
         break
       done
       CC=$ac_save_CC
       rm -f conftest.$ac_ext
    fi
fi
echo "$as_me:5095: result: $ac_cv_sys_largefile_CC" >&5
echo "${ECHO_T}$ac_cv_sys_largefile_CC" >&6
  if test "$ac_cv_sys_largefile_CC" != no; then
    CC=$CC$ac_cv_sys_largefile_CC
  fi

  echo "$as_me:5101: checking for _FILE_OFFSET_BITS value needed for large files" >&5
echo $ECHO_N "checking for _FILE_OFFSET_BITS value needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_file_offset_bits+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  while :; do
  ac_cv_sys_file_offset_bits=no
  cat >conftest.$ac_ext <<_ACEOF
#line 5109 "configure"
#include "confdefs.h"
#include <sys/types.h>
 /* Check that off_t can represent 2**63 - 1 correctly.
    We can't simply define LARGE_OFF_T to be 9223372036854775807,
    since some C++ compilers masquerading as C compilers
    incorrectly reject 9223372036854775807.  */
#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))
  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
		       && LARGE_OFF_T % 2147483647 == 1)
		      ? 1 : -1];
int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5129: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5132: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5135: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5138: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 5147 "configure"
#include "confdefs.h"
#define _FILE_OFFSET_BITS 64
#include <sys/types.h>
 /* Check that off_t can represent 2**63 - 1 correctly.
    We can't simply define LARGE_OFF_T to be 9223372036854775807,
    since some C++ compilers masquerading as C compilers
    incorrectly reject 9223372036854775807.  */
#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))
  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
		       && LARGE_OFF_T % 2147483647 == 1)
		      ? 1 : -1];
int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5168: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5171: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5174: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5177: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sys_file_offset_bits=64; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  break
done
fi
echo "$as_me:5188: result: $ac_cv_sys_file_offset_bits" >&5
echo "${ECHO_T}$ac_cv_sys_file_offset_bits" >&6
if test "$ac_cv_sys_file_offset_bits" != no; then

cat >>confdefs.h <<EOF
#define _FILE_OFFSET_BITS $ac_cv_sys_file_offset_bits
EOF

fi
rm -rf conftest*
  echo "$as_me:5198: checking for _LARGE_FILES value needed for large files" >&5
echo $ECHO_N "checking for _LARGE_FILES value needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_large_files+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  while :; do
  ac_cv_sys_large_files=no
  cat >conftest.$ac_ext <<_ACEOF
#line 5206 "configure"
#include "confdefs.h"
#include <sys/types.h>
 /* Check that off_t can represent 2**63 - 1 correctly.
    We can't simply define LARGE_OFF_T to be 9223372036854775807,
    since some C++ compilers masquerading as C compilers
    incorrectly reject 9223372036854775807.  */
#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))
  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
		       && LARGE_OFF_T % 2147483647 == 1)
		      ? 1 : -1];
int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5226: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5229: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5232: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5235: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 5244 "configure"
#include "confdefs.h"
#define _LARGE_FILES 1
#include <sys/types.h>
 /* Check that off_t can represent 2**63 - 1 correctly.
    We can't simply define LARGE_OFF_T to be 9223372036854775807,
    since some C++ compilers masquerading as C compilers
    incorrectly reject 9223372036854775807.  */
#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))
  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
		       && LARGE_OFF_T % 2147483647 == 1)
		      ? 1 : -1];
int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5265: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5268: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5271: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5274: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sys_large_files=1; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  break
done
fi
echo "$as_me:5285: result: $ac_cv_sys_large_files" >&5
echo "${ECHO_T}$ac_cv_sys_large_files" >&6
if test "$ac_cv_sys_large_files" != no; then

cat >>confdefs.h <<EOF
#define _LARGE_FILES $ac_cv_sys_large_files
EOF

fi
rm -rf conftest*
fi

    if test "$enable_largefile" != no ; then
	echo "$as_me:5298: checking for _LARGEFILE_SOURCE value needed for large files" >&5
echo $ECHO_N "checking for _LARGEFILE_SOURCE value needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_largefile_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  while :; do
  ac_cv_sys_largefile_source=no
  cat >conftest.$ac_ext <<_ACEOF
#line 5306 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
return !fseeko;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5318: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5321: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5324: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5327: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 5336 "configure"
#include "confdefs.h"
#define _LARGEFILE_SOURCE 1
#include <stdio.h>
int
main ()
{
return !fseeko;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5349: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5352: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5355: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5358: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sys_largefile_source=1; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  break
done
fi
echo "$as_me:5369: result: $ac_cv_sys_largefile_source" >&5
echo "${ECHO_T}$ac_cv_sys_largefile_source" >&6
if test "$ac_cv_sys_largefile_source" != no; then

cat >>confdefs.h <<EOF
#define _LARGEFILE_SOURCE $ac_cv_sys_largefile_source
EOF

fi
rm -rf conftest*

# We used to try defining _XOPEN_SOURCE=500 too, to work around a bug
# in glibc 2.1.3, but that breaks too many other things.
# If you want fseeko and ftello with glibc, upgrade to a fixed glibc.
echo "$as_me:5383: checking for fseeko" >&5
echo $ECHO_N "checking for fseeko... $ECHO_C" >&6
if test "${ac_cv_func_fseeko+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5389 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
return fseeko && fseeko (stdin, 0, 0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5401: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5404: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5407: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5410: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_fseeko=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_fseeko=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:5420: result: $ac_cv_func_fseeko" >&5
echo "${ECHO_T}$ac_cv_func_fseeko" >&6
if test $ac_cv_func_fseeko = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_FSEEKO 1
EOF

fi

	# Normally we would collect these definitions in the config.h,
	# but (like _XOPEN_SOURCE), some environments rely on having these
	# defined before any of the system headers are included.  Another
	# case comes up with C++, e.g., on AIX the compiler compiles the
	# header files by themselves before looking at the body files it is
	# told to compile.  For ncurses, those header files do not include
	# the config.h
	test "$ac_cv_sys_large_files"      != no && CPPFLAGS="$CPPFLAGS -D_LARGE_FILES "
	test "$ac_cv_sys_largefile_source" != no && CPPFLAGS="$CPPFLAGS -D_LARGEFILE_SOURCE "
	test "$ac_cv_sys_file_offset_bits" != no && CPPFLAGS="$CPPFLAGS -D_FILE_OFFSET_BITS=$ac_cv_sys_file_offset_bits "

	echo "$as_me:5441: checking whether to use struct dirent64" >&5
echo $ECHO_N "checking whether to use struct dirent64... $ECHO_C" >&6
if test "${cf_cv_struct_dirent64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		cat >conftest.$ac_ext <<_ACEOF
#line 5448 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <dirent.h>

int
main ()
{

		/* if transitional largefile support is setup, this is true */
		extern struct dirent64 * readdir(DIR *);
		struct dirent64 *x = readdir((DIR *)0);
		struct dirent *y = readdir((DIR *)0);
		int z = x - y;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5469: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5472: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5475: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5478: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_struct_dirent64=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_struct_dirent64=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:5489: result: $cf_cv_struct_dirent64" >&5
echo "${ECHO_T}$cf_cv_struct_dirent64" >&6
	test "$cf_cv_struct_dirent64" = yes &&
cat >>confdefs.h <<\EOF
#define HAVE_STRUCT_DIRENT64 1
EOF

    fi

if test -z "$ALL_LINGUAS" ; then
	ALL_LINGUAS=`test -d $srcdir/po && cd $srcdir/po && echo *.po|sed -e 's/\.po//g' -e 's/*//'`

	echo "$as_me:5501: checking for PATH separator" >&5
echo $ECHO_N "checking for PATH separator... $ECHO_C" >&6
	case $cf_cv_system_name in
	os2*)	PATH_SEPARATOR=';'  ;;
	*)	${PATH_SEPARATOR:=':'}  ;;
	esac

	echo "$as_me:5508: result: $PATH_SEPARATOR" >&5
echo "${ECHO_T}$PATH_SEPARATOR" >&6

# Extract the first word of "msginit", so it can be a program name with args.

set dummy msginit; ac_word=$2
echo "$as_me:5514: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_MSGINIT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case "$MSGINIT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_MSGINIT="$MSGINIT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATH_SEPARATOR}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --no-translator --version /dev/null >/dev/null 2>&1; then
	ac_cv_path_MSGINIT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MSGINIT" && ac_cv_path_MSGINIT=":"
  ;;
esac
fi
MSGINIT="$ac_cv_path_MSGINIT"
if test "$MSGINIT" != ":"; then
  echo "$as_me:5541: result: $MSGINIT" >&5
echo "${ECHO_T}$MSGINIT" >&6
else
  echo "$as_me:5544: result: no" >&5
echo "${ECHO_T}no" >&6
fi

	if test "$MSGINIT" != ":" ; then
		test -n "$verbose" && echo "	adding en.po" 1>&6

echo "${as_me:-configure}:5551: testing adding en.po ..." 1>&5

		ALL_LINGUAS="$ALL_LINGUAS en"
	fi
fi

if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
set dummy ${ac_tool_prefix}ranlib; ac_word=$2
echo "$as_me:5560: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
echo "$as_me:5575: found $ac_dir/$ac_word" >&5
break
done

fi
fi
RANLIB=$ac_cv_prog_RANLIB
if test -n "$RANLIB"; then
  echo "$as_me:5583: result: $RANLIB" >&5
echo "${ECHO_T}$RANLIB" >&6
else
  echo "$as_me:5586: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_RANLIB"; then
  ac_ct_RANLIB=$RANLIB
  # Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo "$as_me:5595: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_RANLIB"; then
  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_RANLIB="ranlib"
echo "$as_me:5610: found $ac_dir/$ac_word" >&5
break
done

  test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB=":"
fi
fi
ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
if test -n "$ac_ct_RANLIB"; then
  echo "$as_me:5619: result: $ac_ct_RANLIB" >&5
echo "${ECHO_T}$ac_ct_RANLIB" >&6
else
  echo "$as_me:5622: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  RANLIB=$ac_ct_RANLIB
else
  RANLIB="$ac_cv_prog_RANLIB"
fi

echo "$as_me:5631: checking for ANSI C header files" >&5
echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
if test "${ac_cv_header_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5637 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>

_ACEOF
if { (eval echo "$as_me:5645: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:5651: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_cv_header_stdc=yes
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_stdc=no
fi
rm -f conftest.err conftest.$ac_ext

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 5673 "configure"
#include "confdefs.h"
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -rf conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 5691 "configure"
#include "confdefs.h"
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -rf conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then
  :
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5712 "configure"
#include "confdefs.h"
#include <ctype.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) (('a' <= (c) && (c) <= 'i') \
                     || ('j' <= (c) && (c) <= 'r') \
                     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
        || toupper (i) != TOUPPER (i))
      $ac_main_return(2);
  $ac_main_return (0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:5738: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5741: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:5743: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5746: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_header_stdc=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
fi
echo "$as_me:5759: result: $ac_cv_header_stdc" >&5
echo "${ECHO_T}$ac_cv_header_stdc" >&6
if test $ac_cv_header_stdc = yes; then

cat >>confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF

fi

echo "$as_me:5769: checking for inline" >&5
echo $ECHO_N "checking for inline... $ECHO_C" >&6
if test "${ac_cv_c_inline+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat >conftest.$ac_ext <<_ACEOF
#line 5777 "configure"
#include "confdefs.h"
#ifndef __cplusplus
static $ac_kw int static_foo () {return 0; }
$ac_kw int foo () {return 0; }
#endif

_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5786: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5789: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5792: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5795: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_inline=$ac_kw; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:5806: result: $ac_cv_c_inline" >&5
echo "${ECHO_T}$ac_cv_c_inline" >&6
case $ac_cv_c_inline in
  inline | yes) ;;
  no)
cat >>confdefs.h <<\EOF
#define inline
EOF
 ;;
  *)  cat >>confdefs.h <<EOF
#define inline $ac_cv_c_inline
EOF
 ;;
esac

# On IRIX 5.3, sys/types and inttypes.h are conflicting.

for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
                  inttypes.h stdint.h unistd.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:5827: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5833 "configure"
#include "confdefs.h"
$ac_includes_default
#include <$ac_header>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5839: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5842: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5845: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5848: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Header=no"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:5858: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

echo "$as_me:5868: checking for off_t" >&5
echo $ECHO_N "checking for off_t... $ECHO_C" >&6
if test "${ac_cv_type_off_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5874 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((off_t *) 0)
  return 0;
if (sizeof (off_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5889: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5892: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5895: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5898: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_off_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_off_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:5908: result: $ac_cv_type_off_t" >&5
echo "${ECHO_T}$ac_cv_type_off_t" >&6
if test $ac_cv_type_off_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define off_t long
EOF

fi

echo "$as_me:5920: checking for size_t" >&5
echo $ECHO_N "checking for size_t... $ECHO_C" >&6
if test "${ac_cv_type_size_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5926 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((size_t *) 0)
  return 0;
if (sizeof (size_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5941: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5944: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5947: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5950: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_size_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_size_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:5960: result: $ac_cv_type_size_t" >&5
echo "${ECHO_T}$ac_cv_type_size_t" >&6
if test $ac_cv_type_size_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define size_t unsigned
EOF

fi

# The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
# for constant arguments.  Useless!
echo "$as_me:5974: checking for working alloca.h" >&5
echo $ECHO_N "checking for working alloca.h... $ECHO_C" >&6
if test "${ac_cv_working_alloca_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5980 "configure"
#include "confdefs.h"
#include <alloca.h>
int
main ()
{
char *p = (char *) alloca (2 * sizeof (int));
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5992: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5995: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5998: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6001: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_working_alloca_h=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_working_alloca_h=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:6011: result: $ac_cv_working_alloca_h" >&5
echo "${ECHO_T}$ac_cv_working_alloca_h" >&6
if test $ac_cv_working_alloca_h = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA_H 1
EOF

fi

echo "$as_me:6021: checking for alloca" >&5
echo $ECHO_N "checking for alloca... $ECHO_C" >&6
if test "${ac_cv_func_alloca_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6027 "configure"
#include "confdefs.h"
#ifdef __GNUC__
# define alloca __builtin_alloca
#else
# ifdef _MSC_VER
#  include <malloc.h>
#  define alloca _alloca
# else
#  if HAVE_ALLOCA_H
#   include <alloca.h>
#  else
#   ifdef _AIX
 #pragma alloca
#   else
#    ifndef alloca /* predefined by HP cc +Olibcalls */
char *alloca ();
#    endif
#   endif
#  endif
# endif
#endif

int
main ()
{
char *p = (char *) alloca (1);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6059: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6062: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6065: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6068: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_alloca_works=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_alloca_works=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:6078: result: $ac_cv_func_alloca_works" >&5
echo "${ECHO_T}$ac_cv_func_alloca_works" >&6

if test $ac_cv_func_alloca_works = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA 1
EOF

else
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
# that cause trouble.  Some versions do not even contain alloca or
# contain a buggy version.  If you still want to use their alloca,
# use ar to extract alloca.o from them instead of compiling alloca.c.

ALLOCA=alloca.$ac_objext

cat >>confdefs.h <<\EOF
#define C_ALLOCA 1
EOF

echo "$as_me:6099: checking whether \`alloca.c' needs Cray hooks" >&5
echo $ECHO_N "checking whether \`alloca.c' needs Cray hooks... $ECHO_C" >&6
if test "${ac_cv_os_cray+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6105 "configure"
#include "confdefs.h"
#if defined(CRAY) && ! defined(CRAY2)
webecray
#else
wenotbecray
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "webecray" >/dev/null 2>&1; then
  ac_cv_os_cray=yes
else
  ac_cv_os_cray=no
fi
rm -rf conftest*

fi
echo "$as_me:6123: result: $ac_cv_os_cray" >&5
echo "${ECHO_T}$ac_cv_os_cray" >&6
if test $ac_cv_os_cray = yes; then
  for ac_func in _getb67 GETB67 getb67; do
    as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:6128: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6134 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6165: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6168: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6171: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6174: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:6184: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then

cat >>confdefs.h <<EOF
#define CRAY_STACKSEG_END $ac_func
EOF

    break
fi

  done
fi

echo "$as_me:6198: checking stack direction for C alloca" >&5
echo $ECHO_N "checking stack direction for C alloca... $ECHO_C" >&6
if test "${ac_cv_c_stack_direction+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_stack_direction=0
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6207 "configure"
#include "confdefs.h"
int
find_stack_direction ()
{
  static char *addr = 0;
  auto char dummy;
  if (addr == 0)
    {
      addr = &dummy;
      return find_stack_direction ();
    }
  else
    return (&dummy > addr) ? 1 : -1;
}

int
main ()
{
  $ac_main_return (find_stack_direction () < 0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:6230: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6233: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:6235: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6238: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_stack_direction=1
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_c_stack_direction=-1
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:6250: result: $ac_cv_c_stack_direction" >&5
echo "${ECHO_T}$ac_cv_c_stack_direction" >&6

cat >>confdefs.h <<EOF
#define STACK_DIRECTION $ac_cv_c_stack_direction
EOF

fi

for ac_header in stdlib.h unistd.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:6262: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6268 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:6272: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:6278: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:6297: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

for ac_func in getpagesize
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:6310: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6316 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6347: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6350: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6353: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6356: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:6366: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

echo "$as_me:6376: checking for working mmap" >&5
echo $ECHO_N "checking for working mmap... $ECHO_C" >&6
if test "${ac_cv_func_mmap_fixed_mapped+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_func_mmap_fixed_mapped=no
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6385 "configure"
#include "confdefs.h"
$ac_includes_default
/* Thanks to Mike Haertel and Jim Avera for this test.
   Here is a matrix of mmap possibilities:
	mmap private not fixed
	mmap private fixed at somewhere currently unmapped
	mmap private fixed at somewhere already mapped
	mmap shared not fixed
	mmap shared fixed at somewhere currently unmapped
	mmap shared fixed at somewhere already mapped
   For private mappings, we should verify that changes cannot be read()
   back from the file, nor mmap's back from the file at a different
   address.  (There have been systems where private was not correctly
   implemented like the infamous i386 svr4.0, and systems where the
   VM page cache was not coherent with the file system buffer cache
   like early versions of FreeBSD and possibly contemporary NetBSD.)
   For shared mappings, we should conversely verify that changes get
   propogated back to all the places they're supposed to be.

   Grep wants private fixed already mapped.
   The main things grep needs to know about mmap are:
   * does it exist and is it safe to write into the mmap'd area
   * how to use it (BSD variants)  */

#include <fcntl.h>
#include <sys/mman.h>

#if !STDC_HEADERS && !HAVE_STDLIB_H
char *malloc ();
#endif

/* This mess was copied from the GNU getpagesize.h.  */
#if !HAVE_GETPAGESIZE
/* Assume that all systems that can run configure have sys/param.h.  */
# if !HAVE_SYS_PARAM_H
#  define HAVE_SYS_PARAM_H 1
# endif

# ifdef _SC_PAGESIZE
#  define getpagesize() sysconf(_SC_PAGESIZE)
# else /* no _SC_PAGESIZE */
#  if HAVE_SYS_PARAM_H
#   include <sys/param.h>
#   ifdef EXEC_PAGESIZE
#    define getpagesize() EXEC_PAGESIZE
#   else /* no EXEC_PAGESIZE */
#    ifdef NBPG
#     define getpagesize() NBPG * CLSIZE
#     ifndef CLSIZE
#      define CLSIZE 1
#     endif /* no CLSIZE */
#    else /* no NBPG */
#     ifdef NBPC
#      define getpagesize() NBPC
#     else /* no NBPC */
#      ifdef PAGESIZE
#       define getpagesize() PAGESIZE
#      endif /* PAGESIZE */
#     endif /* no NBPC */
#    endif /* no NBPG */
#   endif /* no EXEC_PAGESIZE */
#  else /* no HAVE_SYS_PARAM_H */
#   define getpagesize() 8192	/* punt totally */
#  endif /* no HAVE_SYS_PARAM_H */
# endif /* no _SC_PAGESIZE */

#endif /* no HAVE_GETPAGESIZE */

int
main ()
{
  char *data, *data2, *data3;
  int i, pagesize;
  int fd;

  pagesize = getpagesize ();

  /* First, make a file with some known garbage in it. */
  data = (char *) malloc (pagesize);
  if (!data)
    $ac_main_return (1);
  for (i = 0; i < pagesize; ++i)
    *(data + i) = rand ();
  umask (0);
  fd = creat ("conftest.mmap", 0600);
  if (fd < 0)
    $ac_main_return (1);
  if (write (fd, data, pagesize) != pagesize)
    $ac_main_return (1);
  close (fd);

  /* Next, try to mmap the file at a fixed address which already has
     something else allocated at it.  If we can, also make sure that
     we see the same garbage.  */
  fd = open ("conftest.mmap", O_RDWR);
  if (fd < 0)
    $ac_main_return (1);
  data2 = (char *) malloc (2 * pagesize);
  if (!data2)
    $ac_main_return (1);
  data2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);
  if (data2 != mmap (data2, pagesize, PROT_READ | PROT_WRITE,
                     MAP_PRIVATE | MAP_FIXED, fd, 0L))
    $ac_main_return (1);
  for (i = 0; i < pagesize; ++i)
    if (*(data + i) != *(data2 + i))
      $ac_main_return (1);

  /* Finally, make sure that changes to the mapped area do not
     percolate back to the file as seen by read().  (This is a bug on
     some variants of i386 svr4.0.)  */
  for (i = 0; i < pagesize; ++i)
    *(data2 + i) = *(data2 + i) + 1;
  data3 = (char *) malloc (pagesize);
  if (!data3)
    $ac_main_return (1);
  if (read (fd, data3, pagesize) != pagesize)
    $ac_main_return (1);
  for (i = 0; i < pagesize; ++i)
    if (*(data + i) != *(data3 + i))
      $ac_main_return (1);
  close (fd);
  $ac_main_return (0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:6512: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6515: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:6517: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6520: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_mmap_fixed_mapped=yes
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_mmap_fixed_mapped=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:6532: result: $ac_cv_func_mmap_fixed_mapped" >&5
echo "${ECHO_T}$ac_cv_func_mmap_fixed_mapped" >&6
if test $ac_cv_func_mmap_fixed_mapped = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_MMAP 1
EOF

fi
rm -f conftest.mmap

    echo "$as_me:6543: checking whether we are using the GNU C Library 2.1 or newer" >&5
echo $ECHO_N "checking whether we are using the GNU C Library 2.1 or newer... $ECHO_C" >&6
if test "${ac_cv_gnu_library_2_1+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6549 "configure"
#include "confdefs.h"

#include <features.h>
#ifdef __GNU_LIBRARY__
 #if (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 1) || (__GLIBC__ > 2)
  Lucky GNU user
 #endif
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "Lucky GNU user" >/dev/null 2>&1; then
  ac_cv_gnu_library_2_1=yes
else
  ac_cv_gnu_library_2_1=no
fi
rm -rf conftest*

fi
echo "$as_me:6569: result: $ac_cv_gnu_library_2_1" >&5
echo "${ECHO_T}$ac_cv_gnu_library_2_1" >&6

    GLIBC21="$ac_cv_gnu_library_2_1"

cf_makefile=makefile

test -z "$ALL_LINGUAS" && ALL_LINGUAS=`test -d $srcdir/po && cd $srcdir/po && echo *.po|sed -e 's/\.po//g' -e 's/*//'`

# Allow override of "config.h" definition:
: ${CONFIG_H:=config.h}

if test -z "$PACKAGE" ; then
	{ { echo "$as_me:6582: error: CF_BUNDLED_INTL used without setting PACKAGE variable" >&5
echo "$as_me: error: CF_BUNDLED_INTL used without setting PACKAGE variable" >&2;}
   { (exit 1); exit 1; }; }
fi

if test -z "$VERSION" ; then
if test -f $srcdir/VERSION ; then
	VERSION=`sed -e '2,$d' $srcdir/VERSION|cut -f1`
else
	VERSION=unknown
fi
fi

for ac_header in argz.h limits.h locale.h nl_types.h malloc.h stddef.h \
stdlib.h string.h unistd.h sys/param.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:6599: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6605 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:6609: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:6615: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:6634: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

for ac_func in feof_unlocked fgets_unlocked getcwd getegid geteuid \
getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \
strdup strtoul tsearch __argz_count __argz_stringify __argz_next
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:6649: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6655 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6686: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6689: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6692: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6695: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:6705: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

# Check whether --with-libiconv-prefix or --without-libiconv-prefix was given.
if test "${with_libiconv_prefix+set}" = set; then
  withval="$with_libiconv_prefix"

  case "$withval" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$withval" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 6753 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:6765: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:6768: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:6771: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6774: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:6791: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 6832 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:6844: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:6847: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:6850: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6853: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:6870: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:6886: error: cannot find libiconv under $withval" >&5
echo "$as_me: error: cannot find libiconv under $withval" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:6911: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:6940: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:6949: error: cannot find libiconv under $withval" >&5
echo "$as_me: error: cannot find libiconv under $withval" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

fi;

  echo "$as_me:6960: checking for iconv" >&5
echo $ECHO_N "checking for iconv... $ECHO_C" >&6
if test "${am_cv_func_iconv+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_iconv=
cf_cv_library_path_iconv=

echo "${as_me:-configure}:6971: testing Starting FIND_LINKAGE(iconv,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 6976 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6995: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6998: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7001: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7004: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_iconv=yes
	cf_cv_header_path_iconv=/usr/include
	cf_cv_library_path_iconv=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-liconv  $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 7018 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7037: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7040: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7043: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7046: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_iconv=yes
	cf_cv_header_path_iconv=/usr/include
	cf_cv_library_path_iconv=/usr/lib
	cf_cv_library_file_iconv="-liconv"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_iconv=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for iconv library" 1>&6

echo "${as_me:-configure}:7063: testing find linkage for iconv library ..." 1>&5

echo "${as_me:-configure}:7065: testing Searching for headers in FIND_LINKAGE(iconv,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/iconv &&       cf_search="$cf_search $cf_header_path/include/iconv"
	test -d $cf_header_path/include/iconv/include &&    cf_search="$cf_search $cf_header_path/include/iconv/include"
	test -d $cf_header_path/iconv/include &&       cf_search="$cf_search $cf_header_path/iconv/include"
	test -d $cf_header_path/iconv/include/iconv &&    cf_search="$cf_search $cf_header_path/iconv/include/iconv"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/iconv &&       cf_search="$cf_search /usr/include/iconv"
	test -d /usr/include/iconv/include &&    cf_search="$cf_search /usr/include/iconv/include"
	test -d /usr/iconv/include &&       cf_search="$cf_search /usr/iconv/include"
	test -d /usr/iconv/include/iconv &&    cf_search="$cf_search /usr/iconv/include/iconv"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/iconv &&       cf_search="$cf_search $prefix/include/iconv"
	test -d $prefix/include/iconv/include &&    cf_search="$cf_search $prefix/include/iconv/include"
	test -d $prefix/iconv/include &&       cf_search="$cf_search $prefix/iconv/include"
	test -d $prefix/iconv/include/iconv &&    cf_search="$cf_search $prefix/iconv/include/iconv"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/iconv &&       cf_search="$cf_search /usr/local/include/iconv"
	test -d /usr/local/include/iconv/include &&    cf_search="$cf_search /usr/local/include/iconv/include"
	test -d /usr/local/iconv/include &&       cf_search="$cf_search /usr/local/iconv/include"
	test -d /usr/local/iconv/include/iconv &&    cf_search="$cf_search /usr/local/iconv/include/iconv"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/iconv &&       cf_search="$cf_search /opt/include/iconv"
	test -d /opt/include/iconv/include &&    cf_search="$cf_search /opt/include/iconv/include"
	test -d /opt/iconv/include &&       cf_search="$cf_search /opt/iconv/include"
	test -d /opt/iconv/include/iconv &&    cf_search="$cf_search /opt/iconv/include/iconv"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/iconv &&       cf_search="$cf_search $HOME/include/iconv"
	test -d $HOME/include/iconv/include &&    cf_search="$cf_search $HOME/include/iconv/include"
	test -d $HOME/iconv/include &&       cf_search="$cf_search $HOME/iconv/include"
	test -d $HOME/iconv/include/iconv &&    cf_search="$cf_search $HOME/iconv/include/iconv"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/iconv && cf_search="$cf_search $includedir/iconv"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/iconv && cf_search="$cf_search $oldincludedir/iconv"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_iconv in $cf_search
    do
      if test -d $cf_cv_header_path_iconv ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_iconv" 1>&6

echo "${as_me:-configure}:7178: testing ... testing $cf_cv_header_path_iconv ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_iconv"
        cat >conftest.$ac_ext <<_ACEOF
#line 7182 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7201: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7204: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7207: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7210: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found iconv headers in $cf_cv_header_path_iconv" 1>&6

echo "${as_me:-configure}:7215: testing ... found iconv headers in $cf_cv_header_path_iconv ..." 1>&5

            cf_cv_find_linkage_iconv=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_iconv" = maybe ; then

echo "${as_me:-configure}:7233: testing Searching for iconv library in FIND_LINKAGE(iconv,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_iconv" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/iconv &&       cf_search="$cf_search $cf_library_path/lib/iconv"
	test -d $cf_library_path/lib/iconv/lib &&    cf_search="$cf_search $cf_library_path/lib/iconv/lib"
	test -d $cf_library_path/iconv/lib &&       cf_search="$cf_search $cf_library_path/iconv/lib"
	test -d $cf_library_path/iconv/lib/iconv &&    cf_search="$cf_search $cf_library_path/iconv/lib/iconv"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/iconv &&       cf_search="$cf_search /usr/lib/iconv"
	test -d /usr/lib/iconv/lib &&    cf_search="$cf_search /usr/lib/iconv/lib"
	test -d /usr/iconv/lib &&       cf_search="$cf_search /usr/iconv/lib"
	test -d /usr/iconv/lib/iconv &&    cf_search="$cf_search /usr/iconv/lib/iconv"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/iconv &&       cf_search="$cf_search $prefix/lib/iconv"
	test -d $prefix/lib/iconv/lib &&    cf_search="$cf_search $prefix/lib/iconv/lib"
	test -d $prefix/iconv/lib &&       cf_search="$cf_search $prefix/iconv/lib"
	test -d $prefix/iconv/lib/iconv &&    cf_search="$cf_search $prefix/iconv/lib/iconv"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/iconv &&       cf_search="$cf_search /usr/local/lib/iconv"
	test -d /usr/local/lib/iconv/lib &&    cf_search="$cf_search /usr/local/lib/iconv/lib"
	test -d /usr/local/iconv/lib &&       cf_search="$cf_search /usr/local/iconv/lib"
	test -d /usr/local/iconv/lib/iconv &&    cf_search="$cf_search /usr/local/iconv/lib/iconv"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/iconv &&       cf_search="$cf_search /opt/lib/iconv"
	test -d /opt/lib/iconv/lib &&    cf_search="$cf_search /opt/lib/iconv/lib"
	test -d /opt/iconv/lib &&       cf_search="$cf_search /opt/iconv/lib"
	test -d /opt/iconv/lib/iconv &&    cf_search="$cf_search /opt/iconv/lib/iconv"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/iconv &&       cf_search="$cf_search $HOME/lib/iconv"
	test -d $HOME/lib/iconv/lib &&    cf_search="$cf_search $HOME/lib/iconv/lib"
	test -d $HOME/iconv/lib &&       cf_search="$cf_search $HOME/iconv/lib"
	test -d $HOME/iconv/lib/iconv &&    cf_search="$cf_search $HOME/iconv/lib/iconv"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_iconv in $cf_search
        do
          if test -d $cf_cv_library_path_iconv ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_iconv" 1>&6

echo "${as_me:-configure}:7330: testing ... testing $cf_cv_library_path_iconv ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-liconv  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_iconv"
            cat >conftest.$ac_ext <<_ACEOF
#line 7336 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7355: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7358: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7361: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7364: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found iconv library in $cf_cv_library_path_iconv" 1>&6

echo "${as_me:-configure}:7369: testing ... found iconv library in $cf_cv_library_path_iconv ..." 1>&5

                cf_cv_find_linkage_iconv=yes
                cf_cv_library_file_iconv="-liconv"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_iconv=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_iconv" = yes ; then
am_cv_func_iconv=yes
else
am_cv_func_iconv="no, consider installing GNU libiconv"
fi

fi
echo "$as_me:7409: result: $am_cv_func_iconv" >&5
echo "${ECHO_T}$am_cv_func_iconv" >&6

  if test "$am_cv_func_iconv" = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_ICONV 1
EOF

    echo "$as_me:7418: checking if the declaration of iconv() needs const." >&5
echo $ECHO_N "checking if the declaration of iconv() needs const.... $ECHO_C" >&6
if test "${am_cv_proto_iconv_const+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

      cat >conftest.$ac_ext <<_ACEOF
#line 7425 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

extern
#ifdef __cplusplus
"C"
#endif
#if defined(__STDC__) || defined(__cplusplus)
size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
#else
size_t iconv();
#endif

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7450: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7453: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7456: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7459: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_proto_iconv_const=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
am_cv_proto_iconv_const=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:7469: result: $am_cv_proto_iconv_const" >&5
echo "${ECHO_T}$am_cv_proto_iconv_const" >&6

    if test "$am_cv_proto_iconv_const" = yes ; then
      am_cv_proto_iconv_arg1="const"
    else
      am_cv_proto_iconv_arg1=""
    fi

cat >>confdefs.h <<EOF
#define ICONV_CONST $am_cv_proto_iconv_arg1
EOF

  fi

  LIBICONV=
  if test "$cf_cv_find_linkage_iconv" = yes; then

if test -n "$cf_cv_header_path_iconv" ; then
  for cf_add_incdir in $cf_cv_header_path_iconv
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 7511 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7523: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7526: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7529: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7532: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:7549: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

    if test -n "$cf_cv_library_file_iconv" ; then
      LIBICONV="-liconv"

if test -n "$cf_cv_library_path_iconv" ; then
  for cf_add_libdir in $cf_cv_library_path_iconv
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:7586: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

    fi
  fi

  echo "$as_me:7597: checking for nl_langinfo and CODESET" >&5
echo $ECHO_N "checking for nl_langinfo and CODESET... $ECHO_C" >&6
if test "${am_cv_langinfo_codeset+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 7603 "configure"
#include "confdefs.h"
#include <langinfo.h>
int
main ()
{
char* cs = nl_langinfo(CODESET);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7615: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7618: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7621: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7624: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_langinfo_codeset=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
am_cv_langinfo_codeset=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:7635: result: $am_cv_langinfo_codeset" >&5
echo "${ECHO_T}$am_cv_langinfo_codeset" >&6
  if test $am_cv_langinfo_codeset = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_LANGINFO_CODESET 1
EOF

  fi

   if test $ac_cv_header_locale_h = yes; then
    echo "$as_me:7646: checking for LC_MESSAGES" >&5
echo $ECHO_N "checking for LC_MESSAGES... $ECHO_C" >&6
if test "${am_cv_val_LC_MESSAGES+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 7652 "configure"
#include "confdefs.h"
#include <locale.h>
int
main ()
{
return LC_MESSAGES
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7664: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7667: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7670: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7673: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_val_LC_MESSAGES=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
am_cv_val_LC_MESSAGES=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:7683: result: $am_cv_val_LC_MESSAGES" >&5
echo "${ECHO_T}$am_cv_val_LC_MESSAGES" >&6
    if test $am_cv_val_LC_MESSAGES = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_LC_MESSAGES 1
EOF

    fi
  fi
   echo "$as_me:7693: checking whether NLS is requested" >&5
echo $ECHO_N "checking whether NLS is requested... $ECHO_C" >&6

# Check whether --enable-nls or --disable-nls was given.
if test "${enable_nls+set}" = set; then
  enableval="$enable_nls"
  USE_NLS=$enableval
else
  USE_NLS=no
fi;
  echo "$as_me:7703: result: $USE_NLS" >&5
echo "${ECHO_T}$USE_NLS" >&6

  BUILD_INCLUDED_LIBINTL=no
  USE_INCLUDED_LIBINTL=no
  INTLLIBS=

    if test "$USE_NLS" = "yes"; then

cat >>confdefs.h <<\EOF
#define ENABLE_NLS 1
EOF

    echo "$as_me:7716: checking whether included gettext is requested" >&5
echo $ECHO_N "checking whether included gettext is requested... $ECHO_C" >&6

# Check whether --with-included-gettext or --without-included-gettext was given.
if test "${with_included_gettext+set}" = set; then
  withval="$with_included_gettext"
  nls_cv_force_use_gnu_gettext=$withval
else
  nls_cv_force_use_gnu_gettext=no
fi;
    echo "$as_me:7726: result: $nls_cv_force_use_gnu_gettext" >&5
echo "${ECHO_T}$nls_cv_force_use_gnu_gettext" >&6

    nls_cv_use_gnu_gettext="$nls_cv_force_use_gnu_gettext"
    if test "$nls_cv_force_use_gnu_gettext" != "yes"; then
                        CATOBJEXT=NONE

      cf_save_LIBS_1="$LIBS"
      LIBS="$LIBICONV $LIBS"
      echo "$as_me:7735: checking for libintl.h and gettext()" >&5
echo $ECHO_N "checking for libintl.h and gettext()... $ECHO_C" >&6
if test "${cf_cv_func_gettext+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_intl=
cf_cv_library_path_intl=

echo "${as_me:-configure}:7746: testing Starting FIND_LINKAGE(intl,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 7751 "configure"
#include "confdefs.h"

#include <libintl.h>
extern int _nl_msg_cat_cntr;

int
main ()
{

    bindtextdomain ("", "");
    return (int) gettext ("")

             + _nl_msg_cat_cntr

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7771: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7774: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7777: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7780: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_intl=yes
	cf_cv_header_path_intl=/usr/include
	cf_cv_library_path_intl=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lintl  $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 7794 "configure"
#include "confdefs.h"

#include <libintl.h>
extern int _nl_msg_cat_cntr;

int
main ()
{

    bindtextdomain ("", "");
    return (int) gettext ("")

             + _nl_msg_cat_cntr

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7814: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7817: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7820: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7823: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_intl=yes
	cf_cv_header_path_intl=/usr/include
	cf_cv_library_path_intl=/usr/lib
	cf_cv_library_file_intl="-lintl"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_intl=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for intl library" 1>&6

echo "${as_me:-configure}:7840: testing find linkage for intl library ..." 1>&5

echo "${as_me:-configure}:7842: testing Searching for headers in FIND_LINKAGE(intl,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/intl &&       cf_search="$cf_search $cf_header_path/include/intl"
	test -d $cf_header_path/include/intl/include &&    cf_search="$cf_search $cf_header_path/include/intl/include"
	test -d $cf_header_path/intl/include &&       cf_search="$cf_search $cf_header_path/intl/include"
	test -d $cf_header_path/intl/include/intl &&    cf_search="$cf_search $cf_header_path/intl/include/intl"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/intl &&       cf_search="$cf_search /usr/include/intl"
	test -d /usr/include/intl/include &&    cf_search="$cf_search /usr/include/intl/include"
	test -d /usr/intl/include &&       cf_search="$cf_search /usr/intl/include"
	test -d /usr/intl/include/intl &&    cf_search="$cf_search /usr/intl/include/intl"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/intl &&       cf_search="$cf_search $prefix/include/intl"
	test -d $prefix/include/intl/include &&    cf_search="$cf_search $prefix/include/intl/include"
	test -d $prefix/intl/include &&       cf_search="$cf_search $prefix/intl/include"
	test -d $prefix/intl/include/intl &&    cf_search="$cf_search $prefix/intl/include/intl"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/intl &&       cf_search="$cf_search /usr/local/include/intl"
	test -d /usr/local/include/intl/include &&    cf_search="$cf_search /usr/local/include/intl/include"
	test -d /usr/local/intl/include &&       cf_search="$cf_search /usr/local/intl/include"
	test -d /usr/local/intl/include/intl &&    cf_search="$cf_search /usr/local/intl/include/intl"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/intl &&       cf_search="$cf_search /opt/include/intl"
	test -d /opt/include/intl/include &&    cf_search="$cf_search /opt/include/intl/include"
	test -d /opt/intl/include &&       cf_search="$cf_search /opt/intl/include"
	test -d /opt/intl/include/intl &&    cf_search="$cf_search /opt/intl/include/intl"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/intl &&       cf_search="$cf_search $HOME/include/intl"
	test -d $HOME/include/intl/include &&    cf_search="$cf_search $HOME/include/intl/include"
	test -d $HOME/intl/include &&       cf_search="$cf_search $HOME/intl/include"
	test -d $HOME/intl/include/intl &&    cf_search="$cf_search $HOME/intl/include/intl"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/intl && cf_search="$cf_search $includedir/intl"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/intl && cf_search="$cf_search $oldincludedir/intl"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_intl in $cf_search
    do
      if test -d $cf_cv_header_path_intl ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_intl" 1>&6

echo "${as_me:-configure}:7955: testing ... testing $cf_cv_header_path_intl ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_intl"
        cat >conftest.$ac_ext <<_ACEOF
#line 7959 "configure"
#include "confdefs.h"

#include <libintl.h>
extern int _nl_msg_cat_cntr;

int
main ()
{

    bindtextdomain ("", "");
    return (int) gettext ("")

             + _nl_msg_cat_cntr

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7979: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7982: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7985: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7988: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found intl headers in $cf_cv_header_path_intl" 1>&6

echo "${as_me:-configure}:7993: testing ... found intl headers in $cf_cv_header_path_intl ..." 1>&5

            cf_cv_find_linkage_intl=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_intl" = maybe ; then

echo "${as_me:-configure}:8011: testing Searching for intl library in FIND_LINKAGE(intl,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_intl" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/intl &&       cf_search="$cf_search $cf_library_path/lib/intl"
	test -d $cf_library_path/lib/intl/lib &&    cf_search="$cf_search $cf_library_path/lib/intl/lib"
	test -d $cf_library_path/intl/lib &&       cf_search="$cf_search $cf_library_path/intl/lib"
	test -d $cf_library_path/intl/lib/intl &&    cf_search="$cf_search $cf_library_path/intl/lib/intl"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/intl &&       cf_search="$cf_search /usr/lib/intl"
	test -d /usr/lib/intl/lib &&    cf_search="$cf_search /usr/lib/intl/lib"
	test -d /usr/intl/lib &&       cf_search="$cf_search /usr/intl/lib"
	test -d /usr/intl/lib/intl &&    cf_search="$cf_search /usr/intl/lib/intl"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/intl &&       cf_search="$cf_search $prefix/lib/intl"
	test -d $prefix/lib/intl/lib &&    cf_search="$cf_search $prefix/lib/intl/lib"
	test -d $prefix/intl/lib &&       cf_search="$cf_search $prefix/intl/lib"
	test -d $prefix/intl/lib/intl &&    cf_search="$cf_search $prefix/intl/lib/intl"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/intl &&       cf_search="$cf_search /usr/local/lib/intl"
	test -d /usr/local/lib/intl/lib &&    cf_search="$cf_search /usr/local/lib/intl/lib"
	test -d /usr/local/intl/lib &&       cf_search="$cf_search /usr/local/intl/lib"
	test -d /usr/local/intl/lib/intl &&    cf_search="$cf_search /usr/local/intl/lib/intl"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/intl &&       cf_search="$cf_search /opt/lib/intl"
	test -d /opt/lib/intl/lib &&    cf_search="$cf_search /opt/lib/intl/lib"
	test -d /opt/intl/lib &&       cf_search="$cf_search /opt/intl/lib"
	test -d /opt/intl/lib/intl &&    cf_search="$cf_search /opt/intl/lib/intl"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/intl &&       cf_search="$cf_search $HOME/lib/intl"
	test -d $HOME/lib/intl/lib &&    cf_search="$cf_search $HOME/lib/intl/lib"
	test -d $HOME/intl/lib &&       cf_search="$cf_search $HOME/intl/lib"
	test -d $HOME/intl/lib/intl &&    cf_search="$cf_search $HOME/intl/lib/intl"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_intl in $cf_search
        do
          if test -d $cf_cv_library_path_intl ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_intl" 1>&6

echo "${as_me:-configure}:8108: testing ... testing $cf_cv_library_path_intl ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lintl  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_intl"
            cat >conftest.$ac_ext <<_ACEOF
#line 8114 "configure"
#include "confdefs.h"

#include <libintl.h>
extern int _nl_msg_cat_cntr;

int
main ()
{

    bindtextdomain ("", "");
    return (int) gettext ("")

             + _nl_msg_cat_cntr

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8134: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8137: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8140: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8143: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found intl library in $cf_cv_library_path_intl" 1>&6

echo "${as_me:-configure}:8148: testing ... found intl library in $cf_cv_library_path_intl ..." 1>&5

                cf_cv_find_linkage_intl=yes
                cf_cv_library_file_intl="-lintl"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_intl=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_intl" = yes ; then
cf_cv_func_gettext=yes
else
cf_cv_func_gettext=no
fi

fi
echo "$as_me:8188: result: $cf_cv_func_gettext" >&5
echo "${ECHO_T}$cf_cv_func_gettext" >&6
      LIBS="$cf_save_LIBS_1"

      if test "$cf_cv_func_gettext" = yes ; then

cat >>confdefs.h <<\EOF
#define HAVE_LIBINTL_H 1
EOF

                                        if test "$PACKAGE" != gettext; then

cat >>confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF

if test -n "$cf_cv_header_path_intl" ; then
  for cf_add_incdir in $cf_cv_header_path_intl
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 8228 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:8240: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:8243: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:8246: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8249: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:8266: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

          if test -n "$cf_cv_library_file_intl" ; then
                                                INTLLIBS="$cf_cv_library_file_intl $LIBICONV"

if test -n "$cf_cv_library_path_intl" ; then
  for cf_add_libdir in $cf_cv_library_path_intl
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:8303: testing adding $cf_add_libdir to library-path ..." 1>&5

        INTLLIBS="-L$cf_add_libdir $INTLLIBS"
      fi
    fi
  done
fi

          fi

          gt_save_LIBS="$LIBS"
          LIBS="$LIBS $INTLLIBS"

for ac_func in dcgettext
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:8319: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 8325 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8356: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8359: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8362: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8365: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:8375: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

          LIBS="$gt_save_LIBS"

                    # Extract the first word of "msgfmt", so it can be a program name with args.

set dummy msgfmt; ac_word=$2
echo "$as_me:8390: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_MSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case "$MSGFMT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATH_SEPARATOR}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1; then
	ac_cv_path_MSGFMT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT=":"
  ;;
esac
fi
MSGFMT="$ac_cv_path_MSGFMT"
if test "$MSGFMT" != ":"; then
  echo "$as_me:8417: result: $MSGFMT" >&5
echo "${ECHO_T}$MSGFMT" >&6
else
  echo "$as_me:8420: result: no" >&5
echo "${ECHO_T}no" >&6
fi

          # Extract the first word of "gmsgfmt", so it can be a program name with args.
set dummy gmsgfmt; ac_word=$2
echo "$as_me:8426: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_GMSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $GMSGFMT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
   echo "$as_me:8443: found $ac_dir/$ac_word" >&5
   break
fi
done

  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="$MSGFMT"
  ;;
esac
fi
GMSGFMT=$ac_cv_path_GMSGFMT

if test -n "$GMSGFMT"; then
  echo "$as_me:8455: result: $GMSGFMT" >&5
echo "${ECHO_T}$GMSGFMT" >&6
else
  echo "$as_me:8458: result: no" >&5
echo "${ECHO_T}no" >&6
fi

                    # Extract the first word of "xgettext", so it can be a program name with args.

set dummy xgettext; ac_word=$2
echo "$as_me:8465: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_XGETTEXT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case "$XGETTEXT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATH_SEPARATOR}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1; then
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
  ;;
esac
fi
XGETTEXT="$ac_cv_path_XGETTEXT"
if test "$XGETTEXT" != ":"; then
  echo "$as_me:8492: result: $XGETTEXT" >&5
echo "${ECHO_T}$XGETTEXT" >&6
else
  echo "$as_me:8495: result: no" >&5
echo "${ECHO_T}no" >&6
fi

          CATOBJEXT=.gmo
        fi
      fi

      if test "$CATOBJEXT" = "NONE"; then
                        nls_cv_use_gnu_gettext=yes
      fi
    fi

    if test "$nls_cv_use_gnu_gettext" = "yes"; then
      if test ! -d $srcdir/intl ; then
        { { echo "$as_me:8510: error: no NLS library is packaged with this application" >&5
echo "$as_me: error: no NLS library is packaged with this application" >&2;}
   { (exit 1); exit 1; }; }
      fi
            INTLOBJS="\$(GETTOBJS)"
      # Extract the first word of "msgfmt", so it can be a program name with args.

set dummy msgfmt; ac_word=$2
echo "$as_me:8518: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_MSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case "$MSGFMT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATH_SEPARATOR}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1; then
	ac_cv_path_MSGFMT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT=":"
  ;;
esac
fi
MSGFMT="$ac_cv_path_MSGFMT"
if test "$MSGFMT" != ":"; then
  echo "$as_me:8545: result: $MSGFMT" >&5
echo "${ECHO_T}$MSGFMT" >&6
else
  echo "$as_me:8548: result: no" >&5
echo "${ECHO_T}no" >&6
fi

      # Extract the first word of "gmsgfmt", so it can be a program name with args.
set dummy gmsgfmt; ac_word=$2
echo "$as_me:8554: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_GMSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $GMSGFMT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
   echo "$as_me:8571: found $ac_dir/$ac_word" >&5
   break
fi
done

  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="$MSGFMT"
  ;;
esac
fi
GMSGFMT=$ac_cv_path_GMSGFMT

if test -n "$GMSGFMT"; then
  echo "$as_me:8583: result: $GMSGFMT" >&5
echo "${ECHO_T}$GMSGFMT" >&6
else
  echo "$as_me:8586: result: no" >&5
echo "${ECHO_T}no" >&6
fi

      # Extract the first word of "xgettext", so it can be a program name with args.

set dummy xgettext; ac_word=$2
echo "$as_me:8593: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_XGETTEXT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case "$XGETTEXT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATH_SEPARATOR}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1; then
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
  ;;
esac
fi
XGETTEXT="$ac_cv_path_XGETTEXT"
if test "$XGETTEXT" != ":"; then
  echo "$as_me:8620: result: $XGETTEXT" >&5
echo "${ECHO_T}$XGETTEXT" >&6
else
  echo "$as_me:8623: result: no" >&5
echo "${ECHO_T}no" >&6
fi

      BUILD_INCLUDED_LIBINTL=yes
      USE_INCLUDED_LIBINTL=yes
      CATOBJEXT=.gmo
      INTLLIBS="\$(top_builddir)/intl/libintl.a $LIBICONV"
      LIBS=`echo " $LIBS " | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`
    fi

            if test "$GMSGFMT" != ":"; then
                  if $GMSGFMT --statistics /dev/null >/dev/null 2>&1; then
        : ;
      else
        echo "$as_me:8638: result: found msgfmt program is not GNU msgfmt; ignore it" >&5
echo "${ECHO_T}found msgfmt program is not GNU msgfmt; ignore it" >&6
        GMSGFMT=":"
      fi
    fi

            if test "$XGETTEXT" != ":"; then
                      if $XGETTEXT --omit-header /dev/null >/dev/null 2>&1; then
        : ;
      else
        echo "$as_me:8648: result: found xgettext program is not GNU xgettext; ignore it" >&5
echo "${ECHO_T}found xgettext program is not GNU xgettext; ignore it" >&6
        XGETTEXT=":"
      fi
    fi

        POSUB=po
  fi

  ac_config_commands="$ac_config_commands default-1"

      if test "$PACKAGE" = gettext; then
    BUILD_INCLUDED_LIBINTL=yes
  fi

                      if test "$nls_cv_use_gnu_gettext" = "yes"; then
    for ac_prog in bison
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:8668: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_INTLBISON+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$INTLBISON"; then
  ac_cv_prog_INTLBISON="$INTLBISON" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_INTLBISON="$ac_prog"
echo "$as_me:8683: found $ac_dir/$ac_word" >&5
break
done

fi
fi
INTLBISON=$ac_cv_prog_INTLBISON
if test -n "$INTLBISON"; then
  echo "$as_me:8691: result: $INTLBISON" >&5
echo "${ECHO_T}$INTLBISON" >&6
else
  echo "$as_me:8694: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$INTLBISON" && break
done

    if test -z "$INTLBISON"; then
      ac_verc_fail=yes
    else
            echo "$as_me:8704: checking version of bison" >&5
echo $ECHO_N "checking version of bison... $ECHO_C" >&6
      ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \([0-9]*\.[0-9.]*\).*$/\1/p'`
      case $ac_prog_version in
        '') ac_prog_version="v. ?.??, bad"; ac_verc_fail=yes;;
        1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)
           ac_prog_version="$ac_prog_version, ok"; ac_verc_fail=no;;
        *) ac_prog_version="$ac_prog_version, bad"; ac_verc_fail=yes;;
      esac
    echo "$as_me:8713: result: $ac_prog_version" >&5
echo "${ECHO_T}$ac_prog_version" >&6
    fi
    if test $ac_verc_fail = yes; then
      INTLBISON=:
    fi
  fi

        for lang in $ALL_LINGUAS; do
    GMOFILES="$GMOFILES $lang.gmo"
    POFILES="$POFILES $lang.po"
  done

    nls_cv_header_intl=
  nls_cv_header_libgt=

    DATADIRNAME=share

    INSTOBJEXT=.mo

    GENCAT=gencat

   if test "x$CATOBJEXT" != "x"; then
     if test "x$ALL_LINGUAS" = "x"; then
       LINGUAS=
     else
       echo "$as_me:8739: checking for catalogs to be installed" >&5
echo $ECHO_N "checking for catalogs to be installed... $ECHO_C" >&6
       NEW_LINGUAS=
       for presentlang in $ALL_LINGUAS; do
         useit=no
         for desiredlang in ${LINGUAS-$ALL_LINGUAS}; do
           # Use the presentlang catalog if desiredlang is
           #   a. equal to presentlang, or
           #   b. a variant of presentlang (because in this case,
           #      presentlang can be used as a fallback for messages
           #      which are not translated in the desiredlang catalog).
           case "$desiredlang" in
             "$presentlang"*) useit=yes;;
           esac
         done
         if test $useit = yes; then
           NEW_LINGUAS="$NEW_LINGUAS $presentlang"
         fi
       done
       LINGUAS=$NEW_LINGUAS
       echo "$as_me:8759: result: $LINGUAS" >&5
echo "${ECHO_T}$LINGUAS" >&6
     fi

          if test -n "$LINGUAS"; then
       for lang in $LINGUAS; do CATALOGS="$CATALOGS $lang$CATOBJEXT"; done
     fi
   fi

      INTL_LIBTOOL_SUFFIX_PREFIX=

if test "$USE_NLS" = yes ; then

# Check whether --with-textdomain or --without-textdomain was given.
if test "${with_textdomain+set}" = set; then
  withval="$with_textdomain"
  NLS_TEXTDOMAIN=$withval
else
  NLS_TEXTDOMAIN=$PACKAGE
fi;

cat >>confdefs.h <<EOF
#define NLS_TEXTDOMAIN "$NLS_TEXTDOMAIN"
EOF

fi

INTLDIR_MAKE=
MSG_DIR_MAKE=
SUB_MAKEFILE=

cf_makefile=makefile

use_our_messages=no
if test "$USE_NLS" = yes ; then
if test -d $srcdir/po ; then
echo "$as_me:8795: checking if we should use included message-library" >&5
echo $ECHO_N "checking if we should use included message-library... $ECHO_C" >&6

# Check whether --enable-included-msgs or --disable-included-msgs was given.
if test "${enable_included_msgs+set}" = set; then
  enableval="$enable_included_msgs"
  use_our_messages=$enableval
else
  use_our_messages=yes
fi;
fi
echo "$as_me:8806: result: $use_our_messages" >&5
echo "${ECHO_T}$use_our_messages" >&6
fi

MSG_DIR_MAKE="#"
if test "$use_our_messages" = yes
then
	SUB_MAKEFILE="$SUB_MAKEFILE po/$cf_makefile.in:$srcdir/po/$cf_makefile.inn"
	MSG_DIR_MAKE=
fi

if test "$USE_INCLUDED_LIBINTL" = yes ; then
        if test "$nls_cv_force_use_gnu_gettext" = yes ; then
		:
	elif test "$nls_cv_use_gnu_gettext" = yes ; then
		:
	else
		INTLDIR_MAKE="#"
	fi
	if test -z "$INTLDIR_MAKE"; then

cat >>confdefs.h <<\EOF
#define HAVE_LIBGETTEXT_H 1
EOF

		for cf_makefile in \
			$srcdir/intl/Makefile.in \
			$srcdir/intl/makefile.in
		do
			if test -f "$cf_makefile" ; then
				SUB_MAKEFILE="$SUB_MAKEFILE `echo \"${cf_makefile}\"|sed -e 's,^'$srcdir/',,' -e 's/\.in$//'`:${cf_makefile}"
				break
			fi
		done
	fi
else
	INTLDIR_MAKE="#"
	if test "$USE_NLS" = yes ; then

for ac_header in libintl.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:8848: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 8854 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:8858: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:8864: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:8883: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

	fi
fi

if test -z "$INTLDIR_MAKE" ; then
	CPPFLAGS="$CPPFLAGS -I../intl"
fi

if test "$BUILD_INCLUDED_LIBINTL" = yes ; then
	GT_YES="#"
	GT_NO=
else
	GT_YES=
	GT_NO="#"
fi

if test "$USE_INCLUDED_LIBINTL" = yes ; then
	if test "$nls_cv_force_use_gnu_gettext" = yes ; then

cat >>confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF

	elif test "$nls_cv_use_gnu_gettext" = yes ; then

cat >>confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF

	fi
	if test -n "$nls_cv_header_intl" ; then

cat >>confdefs.h <<\EOF
#define HAVE_LIBINTL_H 1
EOF

	fi
fi

INTLDIR_CPPFLAGS="#"
if test -z "$INTLDIR_MAKE" ; then
	INTLDIR_CPPFLAGS=
fi

# Check whether --with-nls-datadir or --without-nls-datadir was given.
if test "${with_nls_datadir+set}" = set; then
  withval="$with_nls_datadir"

else
  withval="${NLS_DATADIR:-$prefix/$DATADIRNAME}"
fi; if test -n "$prefix/$DATADIRNAME" ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:8969: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

fi
eval NLS_DATADIR="$withval"

echo "$as_me:8978: checking if you want full utility pathnames" >&5
echo $ECHO_N "checking if you want full utility pathnames... $ECHO_C" >&6

# Check whether --enable-full-paths or --disable-full-paths was given.
if test "${enable_full_paths+set}" = set; then
  enableval="$enable_full_paths"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    with_full_paths=no
  else
    with_full_paths=yes
  fi
else
  enableval=yes
  with_full_paths=yes

fi;
echo "$as_me:8995: result: $with_full_paths" >&5
echo "${ECHO_T}$with_full_paths" >&6
test $with_full_paths = no &&
cat >>confdefs.h <<\EOF
#define USE_EXECVP 1
EOF

echo "$as_me:9002: checking for system mailer" >&5
echo $ECHO_N "checking for system mailer... $ECHO_C" >&6
if test "${cf_cv_SYSTEM_MAIL+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_SYSTEM_MAIL=unknown
	for cv_path in /usr/mmdf/bin/submit \
	/usr/sbin/sendmail \
	/usr/lib/sendmail  \

	do
		if test -f $cv_path ; then
			cf_cv_SYSTEM_MAIL=$cv_path
			break
		fi
	done

fi

echo "$as_me:9022: result: $cf_cv_SYSTEM_MAIL" >&5
echo "${ECHO_T}$cf_cv_SYSTEM_MAIL" >&6

cat >>confdefs.h <<EOF
#define SYSTEM_MAIL "$cf_cv_SYSTEM_MAIL"
EOF

echo "$as_me:9029: checking system mail flags" >&5
echo $ECHO_N "checking system mail flags... $ECHO_C" >&6
if test "${cf_cv_system_mail_flags+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	case $cf_cv_SYSTEM_MAIL in
	*/mmdf/*)
		cf_cv_system_mail_flags="-mlruxto,cc\\\\*"
        	;;
	*)
        	cf_cv_system_mail_flags="-t -oi"
	esac

fi

echo "$as_me:9045: result: $cf_cv_system_mail_flags" >&5
echo "${ECHO_T}$cf_cv_system_mail_flags" >&6

cat >>confdefs.h <<EOF
#define SYSTEM_MAIL_FLAGS "$cf_cv_system_mail_flags"
EOF

if test -n "$SYSTEM_MAIL" ; then
if test $with_full_paths = no ; then
	SYSTEM_MAIL=`basename $SYSTEM_MAIL`
fi
fi

cf_XOPEN_SOURCE=500
cf_POSIX_C_SOURCE=199506L
cf_xopen_source=

case $host_os in #(vi
aix[4-7]*) #(vi
	cf_xopen_source="-D_ALL_SOURCE"
	;;
cygwin|msys) #(vi
	cf_XOPEN_SOURCE=600
	;;
darwin[0-8].*) #(vi
	cf_xopen_source="-D_APPLE_C_SOURCE"
	;;
darwin*) #(vi
	cf_xopen_source="-D_DARWIN_C_SOURCE"
	cf_XOPEN_SOURCE=
	;;
freebsd*|dragonfly*) #(vi
	# 5.x headers associate
	#	_XOPEN_SOURCE=600 with _POSIX_C_SOURCE=200112L
	#	_XOPEN_SOURCE=500 with _POSIX_C_SOURCE=199506L
	cf_POSIX_C_SOURCE=200112L
	cf_XOPEN_SOURCE=600
	cf_xopen_source="-D_BSD_TYPES -D__BSD_VISIBLE -D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE"
	;;
hpux11*) #(vi
	cf_xopen_source="-D_HPUX_SOURCE -D_XOPEN_SOURCE=500"
	;;
hpux*) #(vi
	cf_xopen_source="-D_HPUX_SOURCE"
	;;
irix[56].*) #(vi
	cf_xopen_source="-D_SGI_SOURCE"
	cf_XOPEN_SOURCE=
	;;
linux*|gnu*|mint*|k*bsd*-gnu) #(vi

echo "$as_me:9096: checking if we must define _GNU_SOURCE" >&5
echo $ECHO_N "checking if we must define _GNU_SOURCE... $ECHO_C" >&6
if test "${cf_cv_gnu_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 9103 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifndef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9118: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9121: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9124: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9127: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_gnu_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE"
	 cat >conftest.$ac_ext <<_ACEOF
#line 9136 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifdef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9151: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9154: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9157: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9160: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_gnu_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_gnu_source=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save"

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:9175: result: $cf_cv_gnu_source" >&5
echo "${ECHO_T}$cf_cv_gnu_source" >&6
test "$cf_cv_gnu_source" = yes && CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE"

	;;
mirbsd*) #(vi
	# setting _XOPEN_SOURCE or _POSIX_SOURCE breaks <sys/select.h> and other headers which use u_int / u_short types
	cf_XOPEN_SOURCE=

cf_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE

cf_save_CFLAGS="$CFLAGS"
cf_save_CPPFLAGS="$CPPFLAGS"

cf_trim_CFLAGS=`echo "$cf_save_CFLAGS" | \
	sed	-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?$//g'`

cf_trim_CPPFLAGS=`echo "$cf_save_CPPFLAGS" | \
	sed	-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?$//g'`

echo "$as_me:9197: checking if we should define _POSIX_C_SOURCE" >&5
echo $ECHO_N "checking if we should define _POSIX_C_SOURCE... $ECHO_C" >&6
if test "${cf_cv_posix_c_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

echo "${as_me:-configure}:9203: testing if the symbol is already defined go no further ..." 1>&5

	cat >conftest.$ac_ext <<_ACEOF
#line 9206 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifndef _POSIX_C_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9221: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9224: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9227: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9230: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_posix_c_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_want_posix_source=no
	 case .$cf_POSIX_C_SOURCE in #(vi
	 .[12]??*) #(vi
		cf_cv_posix_c_source="-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE"
		;;
	 .2) #(vi
		cf_cv_posix_c_source="-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE"
		cf_want_posix_source=yes
		;;
	 .*)
		cf_want_posix_source=yes
		;;
	 esac
	 if test "$cf_want_posix_source" = yes ; then
		cat >conftest.$ac_ext <<_ACEOF
#line 9251 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifdef _POSIX_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9266: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9269: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9272: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9275: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_posix_c_source="$cf_cv_posix_c_source -D_POSIX_SOURCE"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	 fi

echo "${as_me:-configure}:9286: testing ifdef from value $cf_POSIX_C_SOURCE ..." 1>&5

	 CFLAGS="$cf_trim_CFLAGS"
	 CPPFLAGS="$cf_trim_CPPFLAGS $cf_cv_posix_c_source"

echo "${as_me:-configure}:9291: testing if the second compile does not leave our definition intact error ..." 1>&5

	 cat >conftest.$ac_ext <<_ACEOF
#line 9294 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifndef _POSIX_C_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9309: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9312: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9315: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9318: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_posix_c_source=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	 CFLAGS="$cf_save_CFLAGS"
	 CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:9334: result: $cf_cv_posix_c_source" >&5
echo "${ECHO_T}$cf_cv_posix_c_source" >&6

if test "$cf_cv_posix_c_source" != no ; then
	CFLAGS="$cf_trim_CFLAGS"
	CPPFLAGS="$cf_trim_CPPFLAGS"

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_cv_posix_c_source
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

fi

	;;
netbsd*) #(vi
	cf_xopen_source="-D_NETBSD_SOURCE" # setting _XOPEN_SOURCE breaks IPv6 for lynx on NetBSD 1.6, breaks xterm, is not needed for ncursesw
	;;
openbsd[4-9]*) #(vi
	# setting _XOPEN_SOURCE lower than 500 breaks g++ compile with wchar.h, needed for ncursesw
	cf_xopen_source="-D_BSD_SOURCE"
	cf_XOPEN_SOURCE=600
	;;
openbsd*) #(vi
	# setting _XOPEN_SOURCE breaks xterm on OpenBSD 2.8, is not needed for ncursesw
	;;
osf[45]*) #(vi
	cf_xopen_source="-D_OSF_SOURCE"
	;;
nto-qnx*) #(vi
	cf_xopen_source="-D_QNX_SOURCE"
	;;
sco*) #(vi
	# setting _XOPEN_SOURCE breaks Lynx on SCO Unix / OpenServer
	;;
solaris2.*) #(vi
	cf_xopen_source="-D__EXTENSIONS__"
	;;
*)

echo "$as_me:9447: checking if we should define _XOPEN_SOURCE" >&5
echo $ECHO_N "checking if we should define _XOPEN_SOURCE... $ECHO_C" >&6
if test "${cf_cv_xopen_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 9454 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <string.h>
#include <sys/types.h>

int
main ()
{

#ifndef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9473: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9476: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9479: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9482: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xopen_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE"
	 cat >conftest.$ac_ext <<_ACEOF
#line 9491 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <string.h>
#include <sys/types.h>

int
main ()
{

#ifdef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9510: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9513: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9516: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9519: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xopen_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_xopen_source=$cf_XOPEN_SOURCE
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save"

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:9534: result: $cf_cv_xopen_source" >&5
echo "${ECHO_T}$cf_cv_xopen_source" >&6

if test "$cf_cv_xopen_source" != no ; then

CFLAGS=`echo "$CFLAGS" | \
	sed	-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?$//g'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?$//g'`

	cf_temp_xopen_source="-D_XOPEN_SOURCE=$cf_cv_xopen_source"

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_temp_xopen_source
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

fi

cf_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE

cf_save_CFLAGS="$CFLAGS"
cf_save_CPPFLAGS="$CPPFLAGS"

cf_trim_CFLAGS=`echo "$cf_save_CFLAGS" | \
	sed	-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?$//g'`

cf_trim_CPPFLAGS=`echo "$cf_save_CPPFLAGS" | \
	sed	-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_POSIX_C_SOURCE"'\(=[^ 	]*\)\?$//g'`

echo "$as_me:9642: checking if we should define _POSIX_C_SOURCE" >&5
echo $ECHO_N "checking if we should define _POSIX_C_SOURCE... $ECHO_C" >&6
if test "${cf_cv_posix_c_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

echo "${as_me:-configure}:9648: testing if the symbol is already defined go no further ..." 1>&5

	cat >conftest.$ac_ext <<_ACEOF
#line 9651 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifndef _POSIX_C_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9666: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9669: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9672: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9675: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_posix_c_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_want_posix_source=no
	 case .$cf_POSIX_C_SOURCE in #(vi
	 .[12]??*) #(vi
		cf_cv_posix_c_source="-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE"
		;;
	 .2) #(vi
		cf_cv_posix_c_source="-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE"
		cf_want_posix_source=yes
		;;
	 .*)
		cf_want_posix_source=yes
		;;
	 esac
	 if test "$cf_want_posix_source" = yes ; then
		cat >conftest.$ac_ext <<_ACEOF
#line 9696 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifdef _POSIX_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9711: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9714: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9717: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9720: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_posix_c_source="$cf_cv_posix_c_source -D_POSIX_SOURCE"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	 fi

echo "${as_me:-configure}:9731: testing ifdef from value $cf_POSIX_C_SOURCE ..." 1>&5

	 CFLAGS="$cf_trim_CFLAGS"
	 CPPFLAGS="$cf_trim_CPPFLAGS $cf_cv_posix_c_source"

echo "${as_me:-configure}:9736: testing if the second compile does not leave our definition intact error ..." 1>&5

	 cat >conftest.$ac_ext <<_ACEOF
#line 9739 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{

#ifndef _POSIX_C_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9754: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9757: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9760: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9763: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_posix_c_source=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	 CFLAGS="$cf_save_CFLAGS"
	 CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:9779: result: $cf_cv_posix_c_source" >&5
echo "${ECHO_T}$cf_cv_posix_c_source" >&6

if test "$cf_cv_posix_c_source" != no ; then
	CFLAGS="$cf_trim_CFLAGS"
	CPPFLAGS="$cf_trim_CPPFLAGS"

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_cv_posix_c_source
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

fi

	;;
esac

if test -n "$cf_xopen_source" ; then

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_xopen_source
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

fi

if test -n "$cf_XOPEN_SOURCE" && test -z "$cf_cv_xopen_source" ; then
	echo "$as_me:9952: checking if _XOPEN_SOURCE really is set" >&5
echo $ECHO_N "checking if _XOPEN_SOURCE really is set... $ECHO_C" >&6
	cat >conftest.$ac_ext <<_ACEOF
#line 9955 "configure"
#include "confdefs.h"
#include <stdlib.h>
int
main ()
{

#ifndef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9970: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9973: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9976: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9979: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_XOPEN_SOURCE_set=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_XOPEN_SOURCE_set=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	echo "$as_me:9988: result: $cf_XOPEN_SOURCE_set" >&5
echo "${ECHO_T}$cf_XOPEN_SOURCE_set" >&6
	if test $cf_XOPEN_SOURCE_set = yes
	then
		cat >conftest.$ac_ext <<_ACEOF
#line 9993 "configure"
#include "confdefs.h"
#include <stdlib.h>
int
main ()
{

#if (_XOPEN_SOURCE - 0) < $cf_XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10008: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10011: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10014: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10017: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_XOPEN_SOURCE_set_ok=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_XOPEN_SOURCE_set_ok=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
		if test $cf_XOPEN_SOURCE_set_ok = no
		then
			{ echo "$as_me:10028: WARNING: _XOPEN_SOURCE is lower than requested" >&5
echo "$as_me: WARNING: _XOPEN_SOURCE is lower than requested" >&2;}
		fi
	else

echo "$as_me:10033: checking if we should define _XOPEN_SOURCE" >&5
echo $ECHO_N "checking if we should define _XOPEN_SOURCE... $ECHO_C" >&6
if test "${cf_cv_xopen_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 10040 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <string.h>
#include <sys/types.h>

int
main ()
{

#ifndef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10059: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10062: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10065: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10068: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xopen_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE"
	 cat >conftest.$ac_ext <<_ACEOF
#line 10077 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <string.h>
#include <sys/types.h>

int
main ()
{

#ifdef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10096: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10099: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10102: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10105: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xopen_source=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_xopen_source=$cf_XOPEN_SOURCE
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save"

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:10120: result: $cf_cv_xopen_source" >&5
echo "${ECHO_T}$cf_cv_xopen_source" >&6

if test "$cf_cv_xopen_source" != no ; then

CFLAGS=`echo "$CFLAGS" | \
	sed	-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?$//g'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"_XOPEN_SOURCE"'\(=[^ 	]*\)\?$//g'`

	cf_temp_xopen_source="-D_XOPEN_SOURCE=$cf_cv_xopen_source"

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_temp_xopen_source
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

fi

	fi
fi

echo "$as_me:10218: checking if SIGWINCH is defined" >&5
echo $ECHO_N "checking if SIGWINCH is defined... $ECHO_C" >&6
if test "${cf_cv_define_sigwinch+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 10225 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/signal.h>

int
main ()
{
int x = SIGWINCH
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10240: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10243: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10246: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10249: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_define_sigwinch=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 10256 "configure"
#include "confdefs.h"

#undef _XOPEN_SOURCE
#undef _POSIX_SOURCE
#undef _POSIX_C_SOURCE
#include <sys/types.h>
#include <sys/signal.h>

int
main ()
{
int x = SIGWINCH
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10274: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10277: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10280: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10283: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_define_sigwinch=maybe
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_define_sigwinch=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:10297: result: $cf_cv_define_sigwinch" >&5
echo "${ECHO_T}$cf_cv_define_sigwinch" >&6

if test "$cf_cv_define_sigwinch" = maybe ; then
echo "$as_me:10301: checking for actual SIGWINCH definition" >&5
echo $ECHO_N "checking for actual SIGWINCH definition... $ECHO_C" >&6
if test "${cf_cv_fixup_sigwinch+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_fixup_sigwinch=unknown
cf_sigwinch=32
while test $cf_sigwinch != 1
do
	cat >conftest.$ac_ext <<_ACEOF
#line 10312 "configure"
#include "confdefs.h"

#undef _XOPEN_SOURCE
#undef _POSIX_SOURCE
#undef _POSIX_C_SOURCE
#include <sys/types.h>
#include <sys/signal.h>

int
main ()
{

#if SIGWINCH != $cf_sigwinch
make an error
#endif
int x = SIGWINCH
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10334: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10337: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10340: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10343: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_fixup_sigwinch=$cf_sigwinch
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext

cf_sigwinch=`expr $cf_sigwinch - 1`
done

fi
echo "$as_me:10357: result: $cf_cv_fixup_sigwinch" >&5
echo "${ECHO_T}$cf_cv_fixup_sigwinch" >&6

	if test "$cf_cv_fixup_sigwinch" != unknown ; then
		CPPFLAGS="$CPPFLAGS -DSIGWINCH=$cf_cv_fixup_sigwinch"
	fi
fi

if test -n "$TRY_CFLAGS" ; then

test -n "$verbose" && echo "	checking additions to CFLAGS" 1>&6

echo "${as_me:-configure}:10369: testing checking additions to CFLAGS ..." 1>&5

cf_check_cflags="$CFLAGS"
cf_check_cppflags="$CPPFLAGS"

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $TRY_CFLAGS
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then
	test -n "$verbose" && echo "	add to \$CFLAGS $cf_new_cflags" 1>&6

echo "${as_me:-configure}:10440: testing add to \$CFLAGS $cf_new_cflags ..." 1>&5

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then
	test -n "$verbose" && echo "	add to \$CPPFLAGS $cf_new_cppflags" 1>&6

echo "${as_me:-configure}:10448: testing add to \$CPPFLAGS $cf_new_cppflags ..." 1>&5

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then
	test -n "$verbose" && echo "	add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags" 1>&6

echo "${as_me:-configure}:10456: testing add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags ..." 1>&5

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

if test "$cf_check_cflags" != "$CFLAGS" ; then
cat >conftest.$ac_ext <<_ACEOF
#line 10463 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello world");
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10475: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10478: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10481: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10484: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6

echo "${as_me:-configure}:10492: testing test-compile failed.  Undoing change to \$CFLAGS ..." 1>&5

	 if test "$cf_check_cppflags" != "$CPPFLAGS" ; then
		 test -n "$verbose" && echo "	but keeping change to \$CPPFLAGS" 1>&6

echo "${as_me:-configure}:10497: testing but keeping change to \$CPPFLAGS ..." 1>&5

	 fi
	 CFLAGS="$cf_check_flags"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi

fi

### Look for network libraries first, since some functions (such as gethostname)
### are used in a lot of places.
echo "$as_me:10509: checking if you want NSS compatible SSL libraries" >&5
echo $ECHO_N "checking if you want NSS compatible SSL libraries... $ECHO_C" >&6
if test "${cf_cv_use_libnss_compat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --with-nss-compat or --without-nss-compat was given.
if test "${with_nss_compat+set}" = set; then
  withval="$with_nss_compat"
  cf_cv_use_libnss_compat=$withval
else
  cf_cv_use_libnss_compat=no
fi;

fi
echo "$as_me:10524: result: $cf_cv_use_libnss_compat" >&5
echo "${ECHO_T}$cf_cv_use_libnss_compat" >&6

echo "$as_me:10527: checking if you want ssl library" >&5
echo $ECHO_N "checking if you want ssl library... $ECHO_C" >&6
if test "${cf_cv_use_libssl+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --with-ssl or --without-ssl was given.
if test "${with_ssl+set}" = set; then
  withval="$with_ssl"
  cf_cv_use_libssl=$withval
else
  cf_cv_use_libssl=no
fi;

fi
echo "$as_me:10542: result: $cf_cv_use_libssl" >&5
echo "${ECHO_T}$cf_cv_use_libssl" >&6

echo "$as_me:10545: checking if you want gnutls support" >&5
echo $ECHO_N "checking if you want gnutls support... $ECHO_C" >&6
if test "${cf_cv_use_libgnutls+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --with-gnutls or --without-gnutls was given.
if test "${with_gnutls+set}" = set; then
  withval="$with_gnutls"
  cf_cv_use_libgnutls=$withval
else
  cf_cv_use_libgnutls=no
fi;

fi
echo "$as_me:10560: result: $cf_cv_use_libgnutls" >&5
echo "${ECHO_T}$cf_cv_use_libgnutls" >&6

# this option is mainly for comparing with/without Lynx's wrapper for GNUTLS.
echo "$as_me:10564: checking if you want gnutls-openssl compat" >&5
echo $ECHO_N "checking if you want gnutls-openssl compat... $ECHO_C" >&6
if test "${cf_cv_gnutls_compat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --enable-gnutls-compat or --disable-gnutls-compat was given.
if test "${enable_gnutls_compat+set}" = set; then
  enableval="$enable_gnutls_compat"
  cf_cv_gnutls_compat=$enableval
else
  cf_cv_gnutls_compat=no
fi;

fi
echo "$as_me:10579: result: $cf_cv_gnutls_compat" >&5
echo "${ECHO_T}$cf_cv_gnutls_compat" >&6

echo "$as_me:10582: checking if you want socks library" >&5
echo $ECHO_N "checking if you want socks library... $ECHO_C" >&6
if test "${cf_cv_use_libsocks+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --with-socks or --without-socks was given.
if test "${with_socks+set}" = set; then
  withval="$with_socks"
  cf_cv_use_libsocks=$withval
else
  cf_cv_use_libsocks=no
fi;

fi
echo "$as_me:10597: result: $cf_cv_use_libsocks" >&5
echo "${ECHO_T}$cf_cv_use_libsocks" >&6

echo "$as_me:10600: checking if you want socks5 library" >&5
echo $ECHO_N "checking if you want socks5 library... $ECHO_C" >&6
if test "${cf_cv_use_libsocks5+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --with-socks5 or --without-socks5 was given.
if test "${with_socks5+set}" = set; then
  withval="$with_socks5"
  cf_cv_use_libsocks5=$withval
else
  cf_cv_use_libsocks5=no
fi;

fi
echo "$as_me:10615: result: $cf_cv_use_libsocks5" >&5
echo "${ECHO_T}$cf_cv_use_libsocks5" >&6

if test "x$cf_cv_use_libsocks" != xno ; then

  case "$cf_cv_use_libsocks" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$cf_cv_use_libsocks" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 10654 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10666: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10669: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10672: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10675: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:10692: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 10733 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10745: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10748: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10751: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10754: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:10771: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:10787: error: cannot find socks library under $cf_cv_use_libsocks" >&5
echo "$as_me: error: cannot find socks library under $cf_cv_use_libsocks" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:10812: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:10841: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:10850: error: cannot find socks library under $cf_cv_use_libsocks" >&5
echo "$as_me: error: cannot find socks library under $cf_cv_use_libsocks" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_socks=
cf_cv_library_path_socks=

echo "${as_me:-configure}:10864: testing Starting FIND_LINKAGE(socks,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 10869 "configure"
#include "confdefs.h"

#include <stdio.h>

int
main ()
{

      Raccept((char *)0)

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10885: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10888: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10891: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10894: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_socks=yes
	cf_cv_header_path_socks=/usr/include
	cf_cv_library_path_socks=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lsocks  $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 10908 "configure"
#include "confdefs.h"

#include <stdio.h>

int
main ()
{

      Raccept((char *)0)

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10924: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10927: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10930: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10933: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_socks=yes
	cf_cv_header_path_socks=/usr/include
	cf_cv_library_path_socks=/usr/lib
	cf_cv_library_file_socks="-lsocks"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_socks=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for socks library" 1>&6

echo "${as_me:-configure}:10950: testing find linkage for socks library ..." 1>&5

echo "${as_me:-configure}:10952: testing Searching for headers in FIND_LINKAGE(socks,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/socks &&       cf_search="$cf_search $cf_header_path/include/socks"
	test -d $cf_header_path/include/socks/include &&    cf_search="$cf_search $cf_header_path/include/socks/include"
	test -d $cf_header_path/socks/include &&       cf_search="$cf_search $cf_header_path/socks/include"
	test -d $cf_header_path/socks/include/socks &&    cf_search="$cf_search $cf_header_path/socks/include/socks"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/socks &&       cf_search="$cf_search /usr/include/socks"
	test -d /usr/include/socks/include &&    cf_search="$cf_search /usr/include/socks/include"
	test -d /usr/socks/include &&       cf_search="$cf_search /usr/socks/include"
	test -d /usr/socks/include/socks &&    cf_search="$cf_search /usr/socks/include/socks"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/socks &&       cf_search="$cf_search $prefix/include/socks"
	test -d $prefix/include/socks/include &&    cf_search="$cf_search $prefix/include/socks/include"
	test -d $prefix/socks/include &&       cf_search="$cf_search $prefix/socks/include"
	test -d $prefix/socks/include/socks &&    cf_search="$cf_search $prefix/socks/include/socks"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/socks &&       cf_search="$cf_search /usr/local/include/socks"
	test -d /usr/local/include/socks/include &&    cf_search="$cf_search /usr/local/include/socks/include"
	test -d /usr/local/socks/include &&       cf_search="$cf_search /usr/local/socks/include"
	test -d /usr/local/socks/include/socks &&    cf_search="$cf_search /usr/local/socks/include/socks"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/socks &&       cf_search="$cf_search /opt/include/socks"
	test -d /opt/include/socks/include &&    cf_search="$cf_search /opt/include/socks/include"
	test -d /opt/socks/include &&       cf_search="$cf_search /opt/socks/include"
	test -d /opt/socks/include/socks &&    cf_search="$cf_search /opt/socks/include/socks"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/socks &&       cf_search="$cf_search $HOME/include/socks"
	test -d $HOME/include/socks/include &&    cf_search="$cf_search $HOME/include/socks/include"
	test -d $HOME/socks/include &&       cf_search="$cf_search $HOME/socks/include"
	test -d $HOME/socks/include/socks &&    cf_search="$cf_search $HOME/socks/include/socks"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/socks && cf_search="$cf_search $includedir/socks"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/socks && cf_search="$cf_search $oldincludedir/socks"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_socks in $cf_search
    do
      if test -d $cf_cv_header_path_socks ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_socks" 1>&6

echo "${as_me:-configure}:11065: testing ... testing $cf_cv_header_path_socks ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_socks"
        cat >conftest.$ac_ext <<_ACEOF
#line 11069 "configure"
#include "confdefs.h"

#include <stdio.h>

int
main ()
{

      Raccept((char *)0)

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11085: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11088: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11091: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11094: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found socks headers in $cf_cv_header_path_socks" 1>&6

echo "${as_me:-configure}:11099: testing ... found socks headers in $cf_cv_header_path_socks ..." 1>&5

            cf_cv_find_linkage_socks=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_socks" = maybe ; then

echo "${as_me:-configure}:11117: testing Searching for socks library in FIND_LINKAGE(socks,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_socks" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/socks &&       cf_search="$cf_search $cf_library_path/lib/socks"
	test -d $cf_library_path/lib/socks/lib &&    cf_search="$cf_search $cf_library_path/lib/socks/lib"
	test -d $cf_library_path/socks/lib &&       cf_search="$cf_search $cf_library_path/socks/lib"
	test -d $cf_library_path/socks/lib/socks &&    cf_search="$cf_search $cf_library_path/socks/lib/socks"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/socks &&       cf_search="$cf_search /usr/lib/socks"
	test -d /usr/lib/socks/lib &&    cf_search="$cf_search /usr/lib/socks/lib"
	test -d /usr/socks/lib &&       cf_search="$cf_search /usr/socks/lib"
	test -d /usr/socks/lib/socks &&    cf_search="$cf_search /usr/socks/lib/socks"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/socks &&       cf_search="$cf_search $prefix/lib/socks"
	test -d $prefix/lib/socks/lib &&    cf_search="$cf_search $prefix/lib/socks/lib"
	test -d $prefix/socks/lib &&       cf_search="$cf_search $prefix/socks/lib"
	test -d $prefix/socks/lib/socks &&    cf_search="$cf_search $prefix/socks/lib/socks"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/socks &&       cf_search="$cf_search /usr/local/lib/socks"
	test -d /usr/local/lib/socks/lib &&    cf_search="$cf_search /usr/local/lib/socks/lib"
	test -d /usr/local/socks/lib &&       cf_search="$cf_search /usr/local/socks/lib"
	test -d /usr/local/socks/lib/socks &&    cf_search="$cf_search /usr/local/socks/lib/socks"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/socks &&       cf_search="$cf_search /opt/lib/socks"
	test -d /opt/lib/socks/lib &&    cf_search="$cf_search /opt/lib/socks/lib"
	test -d /opt/socks/lib &&       cf_search="$cf_search /opt/socks/lib"
	test -d /opt/socks/lib/socks &&    cf_search="$cf_search /opt/socks/lib/socks"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/socks &&       cf_search="$cf_search $HOME/lib/socks"
	test -d $HOME/lib/socks/lib &&    cf_search="$cf_search $HOME/lib/socks/lib"
	test -d $HOME/socks/lib &&       cf_search="$cf_search $HOME/socks/lib"
	test -d $HOME/socks/lib/socks &&    cf_search="$cf_search $HOME/socks/lib/socks"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_socks in $cf_search
        do
          if test -d $cf_cv_library_path_socks ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_socks" 1>&6

echo "${as_me:-configure}:11214: testing ... testing $cf_cv_library_path_socks ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lsocks  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_socks"
            cat >conftest.$ac_ext <<_ACEOF
#line 11220 "configure"
#include "confdefs.h"

#include <stdio.h>

int
main ()
{

      Raccept((char *)0)

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11236: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11239: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11242: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11245: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found socks library in $cf_cv_library_path_socks" 1>&6

echo "${as_me:-configure}:11250: testing ... found socks library in $cf_cv_library_path_socks ..." 1>&5

                cf_cv_find_linkage_socks=yes
                cf_cv_library_file_socks="-lsocks"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_socks=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_socks" = yes ; then

if test -n "$cf_cv_header_path_socks" ; then
  for cf_add_incdir in $cf_cv_header_path_socks
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 11309 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11321: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11324: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11327: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11330: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:11347: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

if test -n "$cf_cv_library_path_socks" ; then
  for cf_add_libdir in $cf_cv_library_path_socks
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:11381: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	LIBS="-lsocks $LIBS"

else
{ echo "$as_me:11392: WARNING: Cannot find socks library" >&5
echo "$as_me: WARNING: Cannot find socks library" >&2;}
fi

  if test "x$cf_cv_find_linkage_socks" = "xyes" ; then

cat >>confdefs.h <<\EOF
#define SOCKS 1
EOF

cat >>confdefs.h <<\EOF
#define accept Raccept
EOF

cat >>confdefs.h <<\EOF
#define bind Rbind
EOF

cat >>confdefs.h <<\EOF
#define connect Rconnect
EOF

cat >>confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF

cat >>confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF

cat >>confdefs.h <<\EOF
#define listen Rlisten
EOF

cat >>confdefs.h <<\EOF
#define recvfrom Rrecvfrom
EOF

cat >>confdefs.h <<\EOF
#define select Rselect
EOF

  else
    { { echo "$as_me:11435: error: cannot link with socks library" >&5
echo "$as_me: error: cannot link with socks library" >&2;}
   { (exit 1); exit 1; }; }
  fi

elif test "x$cf_cv_use_libsocks5" != xno ; then

  case "$cf_cv_use_libsocks5" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$cf_cv_use_libsocks5" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 11476 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11488: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11491: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11494: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11497: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:11514: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 11555 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11567: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11570: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11573: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11576: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:11593: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:11609: error: cannot find socks5 library under $cf_cv_use_libsocks5" >&5
echo "$as_me: error: cannot find socks5 library under $cf_cv_use_libsocks5" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:11634: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:11663: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:11672: error: cannot find socks5 library under $cf_cv_use_libsocks5" >&5
echo "$as_me: error: cannot find socks5 library under $cf_cv_use_libsocks5" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

LIBS="-lsocks5 $LIBS"

cat >>confdefs.h <<\EOF
#define USE_SOCKS5 1
EOF

cat >>confdefs.h <<\EOF
#define SOCKS 1
EOF

echo "$as_me:11691: checking if the socks library uses socks4 prefix" >&5
echo $ECHO_N "checking if the socks library uses socks4 prefix... $ECHO_C" >&6
cf_use_socks4=error
cat >conftest.$ac_ext <<_ACEOF
#line 11695 "configure"
#include "confdefs.h"

#include <socks.h>
int
main ()
{

	Rinit((char *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11709: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11712: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11715: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11718: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

cat >>confdefs.h <<\EOF
#define USE_SOCKS4_PREFIX 1
EOF

	 cf_use_socks4=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 11730 "configure"
#include "confdefs.h"
#include <socks.h>
int
main ()
{
SOCKSinit((char *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11742: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11745: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11748: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11751: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_use_socks4=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:11757: error: Cannot link with socks5 library" >&5
echo "$as_me: error: Cannot link with socks5 library" >&2;}
   { (exit 1); exit 1; }; }
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:11764: result: $cf_use_socks4" >&5
echo "${ECHO_T}$cf_use_socks4" >&6

if test "$cf_use_socks4" = "yes" ; then
	cat >>confdefs.h <<\EOF
#define accept Raccept
EOF

	cat >>confdefs.h <<\EOF
#define bind Rbind
EOF

	cat >>confdefs.h <<\EOF
#define connect Rconnect
EOF

	cat >>confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF

	cat >>confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF

	cat >>confdefs.h <<\EOF
#define listen Rlisten
EOF

	cat >>confdefs.h <<\EOF
#define recvfrom Rrecvfrom
EOF

	cat >>confdefs.h <<\EOF
#define select Rselect
EOF

else
	cat >>confdefs.h <<\EOF
#define accept SOCKSaccept
EOF

	cat >>confdefs.h <<\EOF
#define getpeername SOCKSgetpeername
EOF

	cat >>confdefs.h <<\EOF
#define getsockname SOCKSgetsockname
EOF

	cat >>confdefs.h <<\EOF
#define recvfrom SOCKSrecvfrom
EOF

fi

echo "$as_me:11819: checking if socks5p.h is available" >&5
echo $ECHO_N "checking if socks5p.h is available... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 11822 "configure"
#include "confdefs.h"

#define INCLUDE_PROTOTYPES
#include <socks.h>
int
main ()
{

	init((char *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11837: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11840: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11843: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11846: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_use_socks5p_h=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_use_socks5p_h=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
echo "$as_me:11855: result: $cf_use_socks5p_h" >&5
echo "${ECHO_T}$cf_use_socks5p_h" >&6

test "$cf_use_socks5p_h" = yes &&
cat >>confdefs.h <<\EOF
#define INCLUDE_PROTOTYPES 1
EOF

else

cf_test_netlibs=no

echo "$as_me:11867: checking for network libraries" >&5
echo $ECHO_N "checking for network libraries... $ECHO_C" >&6

if test "${cf_cv_netlibs+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

echo "$as_me:11874: result: working..." >&5
echo "${ECHO_T}working..." >&6

cf_cv_netlibs=""
cf_test_netlibs=yes

case $host_os in #(vi
mingw*) # (vi

for ac_header in windows.h winsock.h winsock2.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:11886: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 11892 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:11896: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:11902: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:11921: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

	if test "$ac_cv_header_winsock2_h" = "yes" ; then
		cf_winsock_lib="-lws2_32"
	elif test "$ac_cv_header_winsock_h" = "yes" ; then
		cf_winsock_lib="-lwsock32"
	fi

	cf_save_LIBS="$LIBS"
	LIBS="$cf_winsock_lib $LIBS"

	cat >conftest.$ac_ext <<_ACEOF
#line 11941 "configure"
#include "confdefs.h"

#ifdef HAVE_WINDOWS_H
#undef WIN32_LEAN_AND_MEAN
#define WIN32_LEAN_AND_MEAN
#include <windows.h>
#ifdef HAVE_WINSOCK2_H
#include <winsock2.h>
#else
#ifdef HAVE_WINSOCK_H
#include <winsock.h>
#endif
#endif
#endif

int
main ()
{

	char buffer[1024];
	gethostname(buffer, sizeof(buffer));
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11968: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11971: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11974: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11977: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_netlibs="$cf_winsock_lib $cf_cv_netlibs"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:11983: error: Cannot link against winsock library" >&5
echo "$as_me: error: Cannot link against winsock library" >&2;}
   { (exit 1); exit 1; }; }
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

	LIBS="$cf_save_LIBS"
	;;
*)

for ac_func in gethostname
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:11996: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 12002 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12033: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12036: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12039: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12042: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12052: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

else

echo "$as_me:12061: checking for gethostname in -lnsl" >&5
echo $ECHO_N "checking for gethostname in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_gethostname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12069 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostname ();
int
main ()
{
gethostname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12088: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12091: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12094: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12097: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nsl_gethostname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nsl_gethostname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12108: result: $ac_cv_lib_nsl_gethostname" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_gethostname" >&6
if test $ac_cv_lib_nsl_gethostname = yes; then

cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else

	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null

echo "$as_me:12125: checking for gethostname in -lsocket" >&5
echo $ECHO_N "checking for gethostname in -lsocket... $ECHO_C" >&6
if test "${ac_cv_lib_socket_gethostname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12133 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostname ();
int
main ()
{
gethostname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12152: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12155: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12158: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12161: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_socket_gethostname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_socket_gethostname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12172: result: $ac_cv_lib_socket_gethostname" >&5
echo "${ECHO_T}$ac_cv_lib_socket_gethostname" >&6
if test $ac_cv_lib_socket_gethostname = yes; then

cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
else

	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null

fi

fi

fi
done

	echo "$as_me:12196: checking for main in -linet" >&5
echo $ECHO_N "checking for main in -linet... $ECHO_C" >&6
if test "${ac_cv_lib_inet_main+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-linet  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12204 "configure"
#include "confdefs.h"

int
main ()
{
main ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12216: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12219: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12222: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12225: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_inet_main=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_inet_main=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12236: result: $ac_cv_lib_inet_main" >&5
echo "${ECHO_T}$ac_cv_lib_inet_main" >&6
if test $ac_cv_lib_inet_main = yes; then
  cf_cv_netlibs="-linet $cf_cv_netlibs"
fi

	if test "$ac_cv_func_lsocket" != no ; then

for ac_func in socket
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:12247: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 12253 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12284: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12287: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12290: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12293: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12303: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

else

echo "$as_me:12312: checking for socket in -lsocket" >&5
echo $ECHO_N "checking for socket in -lsocket... $ECHO_C" >&6
if test "${ac_cv_lib_socket_socket+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12320 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char socket ();
int
main ()
{
socket ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12339: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12342: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12345: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12348: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_socket_socket=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_socket_socket=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12359: result: $ac_cv_lib_socket_socket" >&5
echo "${ECHO_T}$ac_cv_lib_socket_socket" >&6
if test $ac_cv_lib_socket_socket = yes; then

cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_socket=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
else

	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null

echo "$as_me:12376: checking for socket in -lbsd" >&5
echo $ECHO_N "checking for socket in -lbsd... $ECHO_C" >&6
if test "${ac_cv_lib_bsd_socket+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lbsd $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12384 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char socket ();
int
main ()
{
socket ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12403: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12406: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12409: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12412: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_bsd_socket=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_bsd_socket=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12423: result: $ac_cv_lib_bsd_socket" >&5
echo "${ECHO_T}$ac_cv_lib_bsd_socket" >&6
if test $ac_cv_lib_bsd_socket = yes; then

cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_socket=yes
	if test "$cf_used_lib_bsd" != yes ; then cf_used_lib_bsd=yes; cf_cv_netlibs="-lbsd $cf_cv_netlibs"; fi
else

	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null

fi

fi

fi
done

	fi

for ac_func in gethostbyname
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:12452: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 12458 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12489: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12492: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12495: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12498: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12508: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

else

echo "$as_me:12517: checking for gethostbyname in -lnsl" >&5
echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12525 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
int
main ()
{
gethostbyname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12544: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12547: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12550: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12553: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nsl_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nsl_gethostbyname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12564: result: $ac_cv_lib_nsl_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6
if test $ac_cv_lib_nsl_gethostbyname = yes; then

cf_tr_func=`echo "gethostbyname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_gethostbyname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else

	ac_cv_func_gethostbyname=unknown
	unset ac_cv_func_gethostbyname 2>/dev/null

fi

fi
done

for ac_func in inet_ntoa
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:12589: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 12595 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12626: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12629: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12632: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12635: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12645: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

else

echo "$as_me:12654: checking for inet_ntoa in -lnsl" >&5
echo $ECHO_N "checking for inet_ntoa in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_inet_ntoa+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12662 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char inet_ntoa ();
int
main ()
{
inet_ntoa ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12681: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12684: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12687: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12690: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nsl_inet_ntoa=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nsl_inet_ntoa=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12701: result: $ac_cv_lib_nsl_inet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_inet_ntoa" >&6
if test $ac_cv_lib_nsl_inet_ntoa = yes; then

cf_tr_func=`echo "inet_ntoa" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_inet_ntoa=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else

	ac_cv_func_inet_ntoa=unknown
	unset ac_cv_func_inet_ntoa 2>/dev/null

fi

fi
done

for ac_func in gethostbyname
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:12726: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 12732 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12763: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12766: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12769: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12772: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12782: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

else

echo "$as_me:12791: checking for gethostbyname in -lnetwork" >&5
echo $ECHO_N "checking for gethostbyname in -lnetwork... $ECHO_C" >&6
if test "${ac_cv_lib_network_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnetwork $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12799 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
int
main ()
{
gethostbyname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12818: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12821: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12824: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12827: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_network_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_network_gethostbyname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12838: result: $ac_cv_lib_network_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_network_gethostbyname" >&6
if test $ac_cv_lib_network_gethostbyname = yes; then

cf_tr_func=`echo "gethostbyname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_gethostbyname=yes
	if test "$cf_used_lib_network" != yes ; then cf_used_lib_network=yes; cf_cv_netlibs="-lnetwork $cf_cv_netlibs"; fi
else

	ac_cv_func_gethostbyname=unknown
	unset ac_cv_func_gethostbyname 2>/dev/null

fi

fi
done

for ac_func in strcasecmp
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:12863: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 12869 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12900: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12903: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12906: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12909: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12919: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

else

echo "$as_me:12928: checking for strcasecmp in -lresolv" >&5
echo $ECHO_N "checking for strcasecmp in -lresolv... $ECHO_C" >&6
if test "${ac_cv_lib_resolv_strcasecmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lresolv $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12936 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char strcasecmp ();
int
main ()
{
strcasecmp ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12955: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12958: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12961: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12964: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_resolv_strcasecmp=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_resolv_strcasecmp=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12975: result: $ac_cv_lib_resolv_strcasecmp" >&5
echo "${ECHO_T}$ac_cv_lib_resolv_strcasecmp" >&6
if test $ac_cv_lib_resolv_strcasecmp = yes; then

cf_tr_func=`echo "strcasecmp" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_strcasecmp=yes
	if test "$cf_used_lib_resolv" != yes ; then cf_used_lib_resolv=yes; cf_cv_netlibs="-lresolv $cf_cv_netlibs"; fi
else

	ac_cv_func_strcasecmp=unknown
	unset ac_cv_func_strcasecmp 2>/dev/null

fi

fi
done

	;;
esac

fi

case $cf_cv_netlibs in #(vi
*ws2_32*)

cat >>confdefs.h <<\EOF
#define USE_WINSOCK2_H 1
EOF

	;;
esac

LIBS="$cf_cv_netlibs $LIBS"
test $cf_test_netlibs = no && echo "$cf_cv_netlibs" >&6

fi

echo "$as_me:13017: checking for inet_aton function" >&5
echo $ECHO_N "checking for inet_aton function... $ECHO_C" >&6
if test "${cf_cv_have_inet_aton+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 13024 "configure"
#include "confdefs.h"

#if defined(__MINGW32__)

#undef WIN32_LEAN_AND_MEAN
#define WIN32_LEAN_AND_MEAN
#include <windows.h>

#ifdef HAVE_WINSOCK2_H
#include <winsock2.h>
#else
#ifdef HAVE_WINSOCK_H
#include <winsock.h>
#endif
#endif

#else

#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>

#endif

int
main ()
{
inet_aton(0, (struct in_addr *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13059: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13062: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13065: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13068: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_inet_aton=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_inet_aton=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:13078: result: $cf_cv_have_inet_aton" >&5
echo "${ECHO_T}$cf_cv_have_inet_aton" >&6
if test "$cf_cv_have_inet_aton" = yes ; then

cat >>confdefs.h <<\EOF
#define HAVE_INET_ATON 1
EOF

else
    echo "$as_me:13087: checking for inet_addr function" >&5
echo $ECHO_N "checking for inet_addr function... $ECHO_C" >&6
if test "${cf_cv_have_inet_addr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 13094 "configure"
#include "confdefs.h"

#if defined(__MINGW32__)

#undef WIN32_LEAN_AND_MEAN
#define WIN32_LEAN_AND_MEAN
#include <windows.h>

#ifdef HAVE_WINSOCK2_H
#include <winsock2.h>
#else
#ifdef HAVE_WINSOCK_H
#include <winsock.h>
#endif
#endif

#else

#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>

#endif

int
main ()
{
inet_addr(0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13129: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13132: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13135: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13138: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_inet_addr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_inet_addr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:13148: result: $cf_cv_have_inet_addr" >&5
echo "${ECHO_T}$cf_cv_have_inet_addr" >&6
    if test "$cf_cv_have_inet_addr" = no ; then
	echo "$as_me:13151: checking for library with inet_addr" >&5
echo $ECHO_N "checking for library with inet_addr... $ECHO_C" >&6
if test "${cf_cv_lib_inet_addr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	    cf_save_LIBS="$LIBS"
	    for cf_inetlib in -lbind -lresolv
	    do
		LIBS="$cf_save_LIBS $cf_inetlib"
		cat >conftest.$ac_ext <<_ACEOF
#line 13162 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>

int
main ()
{
inet_addr(0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13178: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13181: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13184: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13187: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_lib_inet_addr=$cf_inetlib
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_lib_inet_addr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		LIBS="$cf_save_LIBS"
		test "$cf_cv_lib_inet_addr" != no && break
	    done

fi
echo "$as_me:13201: result: $cf_cv_lib_inet_addr" >&5
echo "${ECHO_T}$cf_cv_lib_inet_addr" >&6
	if test "$cf_cv_lib_inet_addr" != no ; then
	    LIBS="$cf_cv_lib_inet_addr $LIBS"
	else
	    { echo "$as_me:13206: WARNING: Unable to find library for inet_addr function" >&5
echo "$as_me: WARNING: Unable to find library for inet_addr function" >&2;}
	fi
    fi
fi

echo "$as_me:13212: checking if you want to use pkg-config" >&5
echo $ECHO_N "checking if you want to use pkg-config... $ECHO_C" >&6

# Check whether --with-pkg-config or --without-pkg-config was given.
if test "${with_pkg_config+set}" = set; then
  withval="$with_pkg_config"
  cf_pkg_config=$withval
else
  cf_pkg_config=yes
fi;
echo "$as_me:13222: result: $cf_pkg_config" >&5
echo "${ECHO_T}$cf_pkg_config" >&6

case $cf_pkg_config in #(vi
no) #(vi
	PKG_CONFIG=none
	;;
yes) #(vi

if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
set dummy ${ac_tool_prefix}pkg-config; ac_word=$2
echo "$as_me:13234: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_PKG_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $PKG_CONFIG in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_PKG_CONFIG="$ac_dir/$ac_word"
   echo "$as_me:13251: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
PKG_CONFIG=$ac_cv_path_PKG_CONFIG

if test -n "$PKG_CONFIG"; then
  echo "$as_me:13262: result: $PKG_CONFIG" >&5
echo "${ECHO_T}$PKG_CONFIG" >&6
else
  echo "$as_me:13265: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_path_PKG_CONFIG"; then
  ac_pt_PKG_CONFIG=$PKG_CONFIG
  # Extract the first word of "pkg-config", so it can be a program name with args.
set dummy pkg-config; ac_word=$2
echo "$as_me:13274: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_ac_pt_PKG_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $ac_pt_PKG_CONFIG in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_ac_pt_PKG_CONFIG="$ac_pt_PKG_CONFIG" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_ac_pt_PKG_CONFIG="$ac_dir/$ac_word"
   echo "$as_me:13291: found $ac_dir/$ac_word" >&5
   break
fi
done

  test -z "$ac_cv_path_ac_pt_PKG_CONFIG" && ac_cv_path_ac_pt_PKG_CONFIG="none"
  ;;
esac
fi
ac_pt_PKG_CONFIG=$ac_cv_path_ac_pt_PKG_CONFIG

if test -n "$ac_pt_PKG_CONFIG"; then
  echo "$as_me:13303: result: $ac_pt_PKG_CONFIG" >&5
echo "${ECHO_T}$ac_pt_PKG_CONFIG" >&6
else
  echo "$as_me:13306: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  PKG_CONFIG=$ac_pt_PKG_CONFIG
else
  PKG_CONFIG="$ac_cv_path_PKG_CONFIG"
fi

	;;
*)
	PKG_CONFIG=$withval
	;;
esac

test -z "$PKG_CONFIG" && PKG_CONFIG=none
if test "$PKG_CONFIG" != none ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$PKG_CONFIG" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval PKG_CONFIG="$PKG_CONFIG"
  case ".$PKG_CONFIG" in #(vi
  .NONE/*)
    PKG_CONFIG=`echo $PKG_CONFIG | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  PKG_CONFIG=`echo $PKG_CONFIG | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:13349: error: expected a pathname, not \"$PKG_CONFIG\"" >&5
echo "$as_me: error: expected a pathname, not \"$PKG_CONFIG\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

fi

if test "x$cf_cv_use_libssl"  != xno ; then

	cf_cv_have_ssl=no
	cf_cv_pkg_config_ssl=no

	# command-line option, etc., override default behavior

  case "$cf_cv_use_libssl" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$cf_cv_use_libssl" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 13398 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:13410: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:13413: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:13416: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13419: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:13436: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 13477 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:13489: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:13492: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:13495: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13498: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:13515: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:13531: error: cannot find ssl library under $cf_cv_use_libssl" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libssl" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:13556: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:13585: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:13594: error: cannot find ssl library under $cf_cv_use_libssl" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libssl" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

	if test "x$PKG_CONFIG" != xnone; then
		case $cf_cv_use_libssl in #(vi
		no) #(vi
			;;
		yes) # if no explicit directory given, try pkg-config
			cf_cv_pkg_ssl=
			for cf_try_package in openssl libssl
			do
				echo "$as_me:13611: checking pkg-config for $cf_try_package" >&5
echo $ECHO_N "checking pkg-config for $cf_try_package... $ECHO_C" >&6
				if "$PKG_CONFIG" --exists $cf_try_package ; then
					cf_cv_pkg_ssl=$cf_try_package
					echo "$as_me:13615: result: yes" >&5
echo "${ECHO_T}yes" >&6
					break
				else
					echo "$as_me:13619: result: no" >&5
echo "${ECHO_T}no" >&6
				fi
			done
			if test -n "$cf_cv_pkg_ssl" ; then
				cf_cv_have_ssl=yes
				cf_cv_pkg_config_ssl=yes

				cf_cflags_ssl=`$PKG_CONFIG --cflags $cf_cv_pkg_ssl`
				cf_libs_ssl=`$PKG_CONFIG --libs $cf_cv_pkg_ssl`

				if test -n "$cf_cflags_ssl" ; then
					case "$cf_cflags_ssl" in #(vi
					*-I*) #(vi
						cf_cv_header_path_ssl=`echo "$cf_cflags_ssl" | sed -e 's/^.*-I//' -e 's/ .*//'`
						;;
					*)
						cf_cv_header_path_ssl=/usr/include
						;;
					esac

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_cflags_ssl
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

					# workaround for broken openssl package using kerberos
					case "$cf_cflags_ssl" in #(vi
					*kerberos*)
						cf_cv_have_ssl=maybe
						;;
					esac
				else
					cf_cv_header_path_ssl=/usr/include
				fi

				if test -d $cf_cv_header_path_ssl/openssl ; then
					cf_cv_header_path_ssl=$cf_cv_header_path_ssl/openssl
				fi

				if test -n "$cf_libs_ssl" ; then
					case "x$cf_libs_ssl" in #(vi
					*-L*) #(vi
						cf_cv_library_path_ssl=`echo "$cf_libs_ssl" | sed -e 's/^.*-L//' -e 's/ .*//'`
						;;
					*)
						cf_cv_library_path_ssl=/usr/lib
						;;
					esac
					test -n "$verbose" && echo "	adding $cf_libs_ssl to LIBS" 1>&6

echo "${as_me:-configure}:13743: testing adding $cf_libs_ssl to LIBS ..." 1>&5

					LIBS="$cf_libs_ssl $LIBS"
				fi
			fi
			;;
		esac
	fi

	if test "$cf_cv_have_ssl" != yes; then
		case $host_os in #(vi
		mingw*) #(vi
			cf_extra_ssl_libs="-lcrypto -lgdi32"
			;;
		*)
			# openssl 0.9.6 and up use dynamic loading for engines.
			cf_extra_ssl_libs="-lcrypto"
			case "x$LIBS" in #(vi
			*-ldl) #(vi
				;;
			*)
				echo "$as_me:13764: checking for dlsym in -ldl" >&5
echo $ECHO_N "checking for dlsym in -ldl... $ECHO_C" >&6
if test "${ac_cv_lib_dl_dlsym+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldl  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 13772 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char dlsym ();
int
main ()
{
dlsym ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13791: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13794: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13797: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13800: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dl_dlsym=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dl_dlsym=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:13811: result: $ac_cv_lib_dl_dlsym" >&5
echo "${ECHO_T}$ac_cv_lib_dl_dlsym" >&6
if test $ac_cv_lib_dl_dlsym = yes; then
  cf_extra_ssl_libs="$cf_extra_ssl_libs -ldl"
fi

				;;
			esac
			;;
		esac

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_ssl=
cf_cv_library_path_ssl=

echo "${as_me:-configure}:13827: testing Starting FIND_LINKAGE(ssl,openssl) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 13832 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13861: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13864: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13867: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13870: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_ssl=yes
	cf_cv_header_path_ssl=/usr/include
	cf_cv_library_path_ssl=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lssl $cf_extra_ssl_libs $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 13884 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13913: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13916: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13919: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13922: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_ssl=yes
	cf_cv_header_path_ssl=/usr/include
	cf_cv_library_path_ssl=/usr/lib
	cf_cv_library_file_ssl="-lssl"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_ssl=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for ssl library" 1>&6

echo "${as_me:-configure}:13939: testing find linkage for ssl library ..." 1>&5

echo "${as_me:-configure}:13941: testing Searching for headers in FIND_LINKAGE(ssl,openssl) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/openssl &&       cf_search="$cf_search $cf_header_path/include/openssl"
	test -d $cf_header_path/include/openssl/include &&    cf_search="$cf_search $cf_header_path/include/openssl/include"
	test -d $cf_header_path/openssl/include &&       cf_search="$cf_search $cf_header_path/openssl/include"
	test -d $cf_header_path/openssl/include/openssl &&    cf_search="$cf_search $cf_header_path/openssl/include/openssl"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/openssl &&       cf_search="$cf_search /usr/include/openssl"
	test -d /usr/include/openssl/include &&    cf_search="$cf_search /usr/include/openssl/include"
	test -d /usr/openssl/include &&       cf_search="$cf_search /usr/openssl/include"
	test -d /usr/openssl/include/openssl &&    cf_search="$cf_search /usr/openssl/include/openssl"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/openssl &&       cf_search="$cf_search $prefix/include/openssl"
	test -d $prefix/include/openssl/include &&    cf_search="$cf_search $prefix/include/openssl/include"
	test -d $prefix/openssl/include &&       cf_search="$cf_search $prefix/openssl/include"
	test -d $prefix/openssl/include/openssl &&    cf_search="$cf_search $prefix/openssl/include/openssl"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/openssl &&       cf_search="$cf_search /usr/local/include/openssl"
	test -d /usr/local/include/openssl/include &&    cf_search="$cf_search /usr/local/include/openssl/include"
	test -d /usr/local/openssl/include &&       cf_search="$cf_search /usr/local/openssl/include"
	test -d /usr/local/openssl/include/openssl &&    cf_search="$cf_search /usr/local/openssl/include/openssl"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/openssl &&       cf_search="$cf_search /opt/include/openssl"
	test -d /opt/include/openssl/include &&    cf_search="$cf_search /opt/include/openssl/include"
	test -d /opt/openssl/include &&       cf_search="$cf_search /opt/openssl/include"
	test -d /opt/openssl/include/openssl &&    cf_search="$cf_search /opt/openssl/include/openssl"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/openssl &&       cf_search="$cf_search $HOME/include/openssl"
	test -d $HOME/include/openssl/include &&    cf_search="$cf_search $HOME/include/openssl/include"
	test -d $HOME/openssl/include &&       cf_search="$cf_search $HOME/openssl/include"
	test -d $HOME/openssl/include/openssl &&    cf_search="$cf_search $HOME/openssl/include/openssl"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/openssl && cf_search="$cf_search $includedir/openssl"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/openssl && cf_search="$cf_search $oldincludedir/openssl"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_ssl in $cf_search
    do
      if test -d $cf_cv_header_path_ssl ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_ssl" 1>&6

echo "${as_me:-configure}:14054: testing ... testing $cf_cv_header_path_ssl ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_ssl"
        cat >conftest.$ac_ext <<_ACEOF
#line 14058 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:14087: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:14090: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:14093: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14096: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found ssl headers in $cf_cv_header_path_ssl" 1>&6

echo "${as_me:-configure}:14101: testing ... found ssl headers in $cf_cv_header_path_ssl ..." 1>&5

            cf_cv_find_linkage_ssl=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_ssl" = maybe ; then

echo "${as_me:-configure}:14119: testing Searching for ssl library in FIND_LINKAGE(ssl,openssl) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

        CPPFLAGS="$cf_test_CPPFLAGS"
        LIBS="-lssl $cf_extra_ssl_libs $cf_save_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
#line 14127 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14156: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14159: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14162: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14165: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found ssl library in system" 1>&6

echo "${as_me:-configure}:14170: testing ... found ssl library in system ..." 1>&5

            cf_cv_find_linkage_ssl=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
            CPPFLAGS="$cf_save_CPPFLAGS"
            LIBS="$cf_save_LIBS"

      if test "$cf_cv_find_linkage_ssl" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/ssl &&       cf_search="$cf_search $cf_library_path/lib/ssl"
	test -d $cf_library_path/lib/ssl/lib &&    cf_search="$cf_search $cf_library_path/lib/ssl/lib"
	test -d $cf_library_path/ssl/lib &&       cf_search="$cf_search $cf_library_path/ssl/lib"
	test -d $cf_library_path/ssl/lib/ssl &&    cf_search="$cf_search $cf_library_path/ssl/lib/ssl"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/ssl &&       cf_search="$cf_search /usr/lib/ssl"
	test -d /usr/lib/ssl/lib &&    cf_search="$cf_search /usr/lib/ssl/lib"
	test -d /usr/ssl/lib &&       cf_search="$cf_search /usr/ssl/lib"
	test -d /usr/ssl/lib/ssl &&    cf_search="$cf_search /usr/ssl/lib/ssl"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/ssl &&       cf_search="$cf_search $prefix/lib/ssl"
	test -d $prefix/lib/ssl/lib &&    cf_search="$cf_search $prefix/lib/ssl/lib"
	test -d $prefix/ssl/lib &&       cf_search="$cf_search $prefix/ssl/lib"
	test -d $prefix/ssl/lib/ssl &&    cf_search="$cf_search $prefix/ssl/lib/ssl"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/ssl &&       cf_search="$cf_search /usr/local/lib/ssl"
	test -d /usr/local/lib/ssl/lib &&    cf_search="$cf_search /usr/local/lib/ssl/lib"
	test -d /usr/local/ssl/lib &&       cf_search="$cf_search /usr/local/ssl/lib"
	test -d /usr/local/ssl/lib/ssl &&    cf_search="$cf_search /usr/local/ssl/lib/ssl"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/ssl &&       cf_search="$cf_search /opt/lib/ssl"
	test -d /opt/lib/ssl/lib &&    cf_search="$cf_search /opt/lib/ssl/lib"
	test -d /opt/ssl/lib &&       cf_search="$cf_search /opt/ssl/lib"
	test -d /opt/ssl/lib/ssl &&    cf_search="$cf_search /opt/ssl/lib/ssl"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/ssl &&       cf_search="$cf_search $HOME/lib/ssl"
	test -d $HOME/lib/ssl/lib &&    cf_search="$cf_search $HOME/lib/ssl/lib"
	test -d $HOME/ssl/lib &&       cf_search="$cf_search $HOME/ssl/lib"
	test -d $HOME/ssl/lib/ssl &&    cf_search="$cf_search $HOME/ssl/lib/ssl"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_ssl in $cf_search
        do
          if test -d $cf_cv_library_path_ssl ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_ssl" 1>&6

echo "${as_me:-configure}:14273: testing ... testing $cf_cv_library_path_ssl ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lssl $cf_extra_ssl_libs $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_ssl"
            cat >conftest.$ac_ext <<_ACEOF
#line 14279 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14308: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14311: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14314: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14317: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found ssl library in $cf_cv_library_path_ssl" 1>&6

echo "${as_me:-configure}:14322: testing ... found ssl library in $cf_cv_library_path_ssl ..." 1>&5

                cf_cv_find_linkage_ssl=yes
                cf_cv_library_file_ssl="-lssl"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_ssl=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_ssl" = yes ; then
cf_cv_have_ssl=yes
else
cf_cv_have_ssl=no
fi

		if test "$cf_cv_pkg_config_ssl" != yes ; then
			if test "$cf_cv_have_ssl" = yes ; then
				if test -n "$cf_cv_library_path_ssl" ; then

if test -n "$cf_cv_library_path_ssl" ; then
  for cf_add_libdir in $cf_cv_library_path_ssl
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:14384: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

				fi
				LIBS="-lssl $cf_extra_ssl_libs $LIBS"
				if test -n "$cf_cv_header_path_ssl" ; then
					case $cf_cv_header_path_ssl in #(vi
					/usr/include/openssl) #(vi
						;;
					*)

if test -n "$cf_cv_header_path_ssl" ; then
  for cf_add_incdir in $cf_cv_header_path_ssl
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 14424 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:14436: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:14439: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:14442: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14445: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:14462: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

						;;
					esac
				fi
			fi
		fi
	fi

	if test "$cf_cv_have_ssl" = yes ; then

cat >>confdefs.h <<\EOF
#define USE_SSL 1
EOF

		if test -n "$cf_cv_header_path_ssl" ; then
			test -n "$verbose" && echo "	checking ssl header-path $cf_cv_header_path_ssl" 1>&6

echo "${as_me:-configure}:14493: testing checking ssl header-path $cf_cv_header_path_ssl ..." 1>&5

			case $cf_cv_header_path_ssl in #(vi
			*/openssl)

cat >>confdefs.h <<\EOF
#define USE_OPENSSL_INCL 1
EOF

				;;
			esac
		fi

echo "$as_me:14506: checking for X509 support" >&5
echo $ECHO_N "checking for X509 support... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 14509 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

#include <openssl/x509.h>
int
main ()
{
X509_verify_cert_error_string(X509_STORE_CTX_get_error(NULL))
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14533: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14536: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14539: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14542: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_x509_support=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_x509_support=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:14551: result: $cf_x509_support" >&5
echo "${ECHO_T}$cf_x509_support" >&6

if test "$cf_x509_support" = yes ; then
	cat >>confdefs.h <<\EOF
#define USE_X509_SUPPORT 1
EOF

fi

	fi

elif test "x$cf_cv_use_libgnutls" != xno ; then
    if test "x$cf_cv_gnutls_compat" = xno ; then

	cf_cv_have_gnutls=no
	cf_cv_pkg_config_ssl=no

  case "$cf_cv_use_libgnutls" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$cf_cv_use_libgnutls" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 14603 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:14615: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:14618: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:14621: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14624: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:14641: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 14682 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:14694: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:14697: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:14700: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14703: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:14720: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:14736: error: cannot find ssl library under $cf_cv_use_libgnutls" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libgnutls" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:14761: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:14790: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:14799: error: cannot find ssl library under $cf_cv_use_libgnutls" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libgnutls" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

	cf_pkg_gnutls=none
	if test "x$PKG_CONFIG" != xnone; then
		cf_pkg_gnutls=gnutls
		case $cf_cv_use_libgnutls in #(vi
		no) #(vi
			;;
		yes) # if no explicit directory given, try pkg-config
			test -n "$verbose" && echo "	checking pkg-config for $cf_pkg_gnutls" 1>&6

echo "${as_me:-configure}:14817: testing checking pkg-config for $cf_pkg_gnutls ..." 1>&5

			if "$PKG_CONFIG" --exists $cf_pkg_gnutls ; then
				test -n "$verbose" && echo "	... found $cf_pkg_gnutls in pkg-config" 1>&6

echo "${as_me:-configure}:14822: testing ... found $cf_pkg_gnutls in pkg-config ..." 1>&5

				cf_cv_have_gnutls=yes
				cf_cv_pkg_config_ssl=yes

				cf_cflags_ssl=`$PKG_CONFIG --cflags $cf_pkg_gnutls`
				cf_libs_ssl=`$PKG_CONFIG --libs $cf_pkg_gnutls`

				if test -n "$cf_cflags_ssl" ; then
					case "$cf_cflags_ssl" in #(vi
					*-I*) #(vi
						cf_cv_header_path_gnutls=`echo "$cf_cflags_ssl" | sed -e 's/^.*-I//' -e 's/ .*//'`
						;;
					*)
						cf_cv_header_path_gnutls=/usr/include
						;;
					esac
					if test -d $cf_cv_header_path_gnutls/gnutls ; then
						cf_cv_header_path_gnutls=$cf_cv_header_path_gnutls/gnutls
					fi

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_cflags_ssl
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

				fi

				if test -n "$cf_libs_ssl" ; then
					case "x$cf_libs_ssl" in #(vi
					*-L*) #(vi
						cf_cv_library_path_gnutls=`echo "$cf_libs_ssl" | sed -e 's/^.*-L//' -e 's/ .*//'`
						;;
					*)
						cf_cv_library_path_gnutls=/usr/lib
						;;
					esac
					test -n "$verbose" && echo "	adding $cf_libs_ssl to LIBS" 1>&6

echo "${as_me:-configure}:14934: testing adding $cf_libs_ssl to LIBS ..." 1>&5

					LIBS="$cf_libs_ssl $LIBS"
				fi
			else
				test -n "$verbose" && echo "	... did not find $cf_pkg_gnutls in pkg-config" 1>&6

echo "${as_me:-configure}:14941: testing ... did not find $cf_pkg_gnutls in pkg-config ..." 1>&5

				cf_pkg_gnutls=none
			fi
			;;
		esac
	fi

cat >>confdefs.h <<\EOF
#define USE_GNUTLS_FUNCS 1
EOF

	if test "$cf_cv_have_gnutls" = no ; then
		cf_gnutls_CPPFLAGS=$CPPFLAGS

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_gnutls=
cf_cv_library_path_gnutls=

echo "${as_me:-configure}:14961: testing Starting FIND_LINKAGE(gnutls,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 14966 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14995: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14998: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15001: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15004: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_gnutls=yes
	cf_cv_header_path_gnutls=/usr/include
	cf_cv_library_path_gnutls=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lgnutls -lgnutls -lgcrypt $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 15018 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15047: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15050: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15053: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15056: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_gnutls=yes
	cf_cv_header_path_gnutls=/usr/include
	cf_cv_library_path_gnutls=/usr/lib
	cf_cv_library_file_gnutls="-lgnutls"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_gnutls=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for gnutls library" 1>&6

echo "${as_me:-configure}:15073: testing find linkage for gnutls library ..." 1>&5

echo "${as_me:-configure}:15075: testing Searching for headers in FIND_LINKAGE(gnutls,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/gnutls &&       cf_search="$cf_search $cf_header_path/include/gnutls"
	test -d $cf_header_path/include/gnutls/include &&    cf_search="$cf_search $cf_header_path/include/gnutls/include"
	test -d $cf_header_path/gnutls/include &&       cf_search="$cf_search $cf_header_path/gnutls/include"
	test -d $cf_header_path/gnutls/include/gnutls &&    cf_search="$cf_search $cf_header_path/gnutls/include/gnutls"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/gnutls &&       cf_search="$cf_search /usr/include/gnutls"
	test -d /usr/include/gnutls/include &&    cf_search="$cf_search /usr/include/gnutls/include"
	test -d /usr/gnutls/include &&       cf_search="$cf_search /usr/gnutls/include"
	test -d /usr/gnutls/include/gnutls &&    cf_search="$cf_search /usr/gnutls/include/gnutls"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/gnutls &&       cf_search="$cf_search $prefix/include/gnutls"
	test -d $prefix/include/gnutls/include &&    cf_search="$cf_search $prefix/include/gnutls/include"
	test -d $prefix/gnutls/include &&       cf_search="$cf_search $prefix/gnutls/include"
	test -d $prefix/gnutls/include/gnutls &&    cf_search="$cf_search $prefix/gnutls/include/gnutls"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/gnutls &&       cf_search="$cf_search /usr/local/include/gnutls"
	test -d /usr/local/include/gnutls/include &&    cf_search="$cf_search /usr/local/include/gnutls/include"
	test -d /usr/local/gnutls/include &&       cf_search="$cf_search /usr/local/gnutls/include"
	test -d /usr/local/gnutls/include/gnutls &&    cf_search="$cf_search /usr/local/gnutls/include/gnutls"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/gnutls &&       cf_search="$cf_search /opt/include/gnutls"
	test -d /opt/include/gnutls/include &&    cf_search="$cf_search /opt/include/gnutls/include"
	test -d /opt/gnutls/include &&       cf_search="$cf_search /opt/gnutls/include"
	test -d /opt/gnutls/include/gnutls &&    cf_search="$cf_search /opt/gnutls/include/gnutls"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/gnutls &&       cf_search="$cf_search $HOME/include/gnutls"
	test -d $HOME/include/gnutls/include &&    cf_search="$cf_search $HOME/include/gnutls/include"
	test -d $HOME/gnutls/include &&       cf_search="$cf_search $HOME/gnutls/include"
	test -d $HOME/gnutls/include/gnutls &&    cf_search="$cf_search $HOME/gnutls/include/gnutls"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/gnutls && cf_search="$cf_search $includedir/gnutls"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/gnutls && cf_search="$cf_search $oldincludedir/gnutls"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_gnutls in $cf_search
    do
      if test -d $cf_cv_header_path_gnutls ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_gnutls" 1>&6

echo "${as_me:-configure}:15188: testing ... testing $cf_cv_header_path_gnutls ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_gnutls"
        cat >conftest.$ac_ext <<_ACEOF
#line 15192 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15221: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15224: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15227: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15230: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found gnutls headers in $cf_cv_header_path_gnutls" 1>&6

echo "${as_me:-configure}:15235: testing ... found gnutls headers in $cf_cv_header_path_gnutls ..." 1>&5

            cf_cv_find_linkage_gnutls=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_gnutls" = maybe ; then

echo "${as_me:-configure}:15253: testing Searching for gnutls library in FIND_LINKAGE(gnutls,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_gnutls" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/gnutls &&       cf_search="$cf_search $cf_library_path/lib/gnutls"
	test -d $cf_library_path/lib/gnutls/lib &&    cf_search="$cf_search $cf_library_path/lib/gnutls/lib"
	test -d $cf_library_path/gnutls/lib &&       cf_search="$cf_search $cf_library_path/gnutls/lib"
	test -d $cf_library_path/gnutls/lib/gnutls &&    cf_search="$cf_search $cf_library_path/gnutls/lib/gnutls"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/gnutls &&       cf_search="$cf_search /usr/lib/gnutls"
	test -d /usr/lib/gnutls/lib &&    cf_search="$cf_search /usr/lib/gnutls/lib"
	test -d /usr/gnutls/lib &&       cf_search="$cf_search /usr/gnutls/lib"
	test -d /usr/gnutls/lib/gnutls &&    cf_search="$cf_search /usr/gnutls/lib/gnutls"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/gnutls &&       cf_search="$cf_search $prefix/lib/gnutls"
	test -d $prefix/lib/gnutls/lib &&    cf_search="$cf_search $prefix/lib/gnutls/lib"
	test -d $prefix/gnutls/lib &&       cf_search="$cf_search $prefix/gnutls/lib"
	test -d $prefix/gnutls/lib/gnutls &&    cf_search="$cf_search $prefix/gnutls/lib/gnutls"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/gnutls &&       cf_search="$cf_search /usr/local/lib/gnutls"
	test -d /usr/local/lib/gnutls/lib &&    cf_search="$cf_search /usr/local/lib/gnutls/lib"
	test -d /usr/local/gnutls/lib &&       cf_search="$cf_search /usr/local/gnutls/lib"
	test -d /usr/local/gnutls/lib/gnutls &&    cf_search="$cf_search /usr/local/gnutls/lib/gnutls"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/gnutls &&       cf_search="$cf_search /opt/lib/gnutls"
	test -d /opt/lib/gnutls/lib &&    cf_search="$cf_search /opt/lib/gnutls/lib"
	test -d /opt/gnutls/lib &&       cf_search="$cf_search /opt/gnutls/lib"
	test -d /opt/gnutls/lib/gnutls &&    cf_search="$cf_search /opt/gnutls/lib/gnutls"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/gnutls &&       cf_search="$cf_search $HOME/lib/gnutls"
	test -d $HOME/lib/gnutls/lib &&    cf_search="$cf_search $HOME/lib/gnutls/lib"
	test -d $HOME/gnutls/lib &&       cf_search="$cf_search $HOME/gnutls/lib"
	test -d $HOME/gnutls/lib/gnutls &&    cf_search="$cf_search $HOME/gnutls/lib/gnutls"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_gnutls in $cf_search
        do
          if test -d $cf_cv_library_path_gnutls ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_gnutls" 1>&6

echo "${as_me:-configure}:15350: testing ... testing $cf_cv_library_path_gnutls ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lgnutls -lgnutls -lgcrypt $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_gnutls"
            cat >conftest.$ac_ext <<_ACEOF
#line 15356 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15385: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15388: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15391: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15394: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found gnutls library in $cf_cv_library_path_gnutls" 1>&6

echo "${as_me:-configure}:15399: testing ... found gnutls library in $cf_cv_library_path_gnutls ..." 1>&5

                cf_cv_find_linkage_gnutls=yes
                cf_cv_library_file_gnutls="-lgnutls"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_gnutls=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_gnutls" = yes ; then
cf_cv_have_gnutls=yes
else
cf_cv_have_gnutls=no
fi

		CPPFLAGS=$cf_gnutls_CPPFLAGS
	fi

	if test "$cf_cv_have_gnutls" = yes ; then
		if test -n "$cf_cv_header_path_gnutls" ; then
			cat >>confdefs.h <<\EOF
#define USE_SSL 1
EOF

			case $cf_cv_header_path_gnutls in
				/usr/include/gnutls)
				;;
			*)

if test -n "$cf_cv_header_path_gnutls" ; then
  for cf_add_incdir in $cf_cv_header_path_gnutls
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 15476 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15488: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15491: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15494: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15497: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:15514: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

				;;
			esac
		fi
		if test -n "$cf_cv_library_path_gnutls" ; then

if test -n "$cf_cv_library_path_gnutls" ; then
  for cf_add_libdir in $cf_cv_library_path_gnutls
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:15553: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

		fi
		LIBS="-lgnutls -lgcrypt $LIBS"

		EXTRA_OBJS="$EXTRA_OBJS tidy_tls\$o"

echo "$as_me:15566: checking for X509 support" >&5
echo $ECHO_N "checking for X509 support... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 15569 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

#include <openssl/x509.h>
int
main ()
{
X509_verify_cert_error_string(X509_STORE_CTX_get_error(NULL))
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15593: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15596: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15599: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15602: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_x509_support=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_x509_support=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:15611: result: $cf_x509_support" >&5
echo "${ECHO_T}$cf_x509_support" >&6

if test "$cf_x509_support" = yes ; then
	cat >>confdefs.h <<\EOF
#define USE_X509_SUPPORT 1
EOF

fi

	fi

for ac_func in gnutls_priority_set_direct
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:15626: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 15632 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15663: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15666: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15669: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15672: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:15682: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

    else

	cf_cv_have_gnutls=no
	cf_cv_pkg_config_ssl=no

  case "$cf_cv_use_libgnutls" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$cf_cv_use_libgnutls" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 15731 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15743: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15746: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15749: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15752: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:15769: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 15810 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15822: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15825: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15828: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15831: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:15848: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:15864: error: cannot find ssl library under $cf_cv_use_libgnutls" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libgnutls" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:15889: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:15918: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:15927: error: cannot find ssl library under $cf_cv_use_libgnutls" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libgnutls" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

	cf_pkg_gnutls=none
	if test "x$PKG_CONFIG" != xnone; then
		cf_pkg_gnutls=gnutls-openssl
		case $cf_cv_use_libgnutls in #(vi
		no) #(vi
			;;
		yes) # if no explicit directory given, try pkg-config
			test -n "$verbose" && echo "	checking pkg-config for $cf_pkg_gnutls" 1>&6

echo "${as_me:-configure}:15945: testing checking pkg-config for $cf_pkg_gnutls ..." 1>&5

			if "$PKG_CONFIG" --exists $cf_pkg_gnutls ; then
				test -n "$verbose" && echo "	... found $cf_pkg_gnutls in pkg-config" 1>&6

echo "${as_me:-configure}:15950: testing ... found $cf_pkg_gnutls in pkg-config ..." 1>&5

				cf_cv_have_gnutls=yes
				cf_cv_pkg_config_ssl=yes

				cf_cflags_ssl=`$PKG_CONFIG --cflags $cf_pkg_gnutls`
				cf_libs_ssl=`$PKG_CONFIG --libs $cf_pkg_gnutls`

				if test -n "$cf_cflags_ssl" ; then
					case "$cf_cflags_ssl" in #(vi
					*-I*) #(vi
						cf_cv_header_path_gnutls=`echo "$cf_cflags_ssl" | sed -e 's/^.*-I//' -e 's/ .*//'`
						;;
					*)
						cf_cv_header_path_gnutls=/usr/include
						;;
					esac
					if test -d $cf_cv_header_path_gnutls/gnutls ; then
						cf_cv_header_path_gnutls=$cf_cv_header_path_gnutls/gnutls
					fi

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_cflags_ssl
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

				fi

				if test -n "$cf_libs_ssl" ; then
					case "x$cf_libs_ssl" in #(vi
					*-L*) #(vi
						cf_cv_library_path_gnutls=`echo "$cf_libs_ssl" | sed -e 's/^.*-L//' -e 's/ .*//'`
						;;
					*)
						cf_cv_library_path_gnutls=/usr/lib
						;;
					esac
					test -n "$verbose" && echo "	adding $cf_libs_ssl to LIBS" 1>&6

echo "${as_me:-configure}:16062: testing adding $cf_libs_ssl to LIBS ..." 1>&5

					LIBS="$cf_libs_ssl $LIBS"
				fi
			else
				test -n "$verbose" && echo "	... did not find $cf_pkg_gnutls in pkg-config" 1>&6

echo "${as_me:-configure}:16069: testing ... did not find $cf_pkg_gnutls in pkg-config ..." 1>&5

				cf_pkg_gnutls=none
			fi
			;;
		esac
	fi

cat >>confdefs.h <<\EOF
#define USE_GNUTLS_INCL 1
EOF

	if test "$cf_cv_have_gnutls" = no ; then
		cf_gnutls_CPPFLAGS=$CPPFLAGS

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_gnutls=
cf_cv_library_path_gnutls=

echo "${as_me:-configure}:16089: testing Starting FIND_LINKAGE(gnutls,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 16094 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16123: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16126: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16129: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16132: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_gnutls=yes
	cf_cv_header_path_gnutls=/usr/include
	cf_cv_library_path_gnutls=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lgnutls -lgnutls-openssl -lgnutls-extra -lgnutls -lgcrypt $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 16146 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16175: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16178: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16181: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16184: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_gnutls=yes
	cf_cv_header_path_gnutls=/usr/include
	cf_cv_library_path_gnutls=/usr/lib
	cf_cv_library_file_gnutls="-lgnutls"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_gnutls=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for gnutls library" 1>&6

echo "${as_me:-configure}:16201: testing find linkage for gnutls library ..." 1>&5

echo "${as_me:-configure}:16203: testing Searching for headers in FIND_LINKAGE(gnutls,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/gnutls &&       cf_search="$cf_search $cf_header_path/include/gnutls"
	test -d $cf_header_path/include/gnutls/include &&    cf_search="$cf_search $cf_header_path/include/gnutls/include"
	test -d $cf_header_path/gnutls/include &&       cf_search="$cf_search $cf_header_path/gnutls/include"
	test -d $cf_header_path/gnutls/include/gnutls &&    cf_search="$cf_search $cf_header_path/gnutls/include/gnutls"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/gnutls &&       cf_search="$cf_search /usr/include/gnutls"
	test -d /usr/include/gnutls/include &&    cf_search="$cf_search /usr/include/gnutls/include"
	test -d /usr/gnutls/include &&       cf_search="$cf_search /usr/gnutls/include"
	test -d /usr/gnutls/include/gnutls &&    cf_search="$cf_search /usr/gnutls/include/gnutls"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/gnutls &&       cf_search="$cf_search $prefix/include/gnutls"
	test -d $prefix/include/gnutls/include &&    cf_search="$cf_search $prefix/include/gnutls/include"
	test -d $prefix/gnutls/include &&       cf_search="$cf_search $prefix/gnutls/include"
	test -d $prefix/gnutls/include/gnutls &&    cf_search="$cf_search $prefix/gnutls/include/gnutls"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/gnutls &&       cf_search="$cf_search /usr/local/include/gnutls"
	test -d /usr/local/include/gnutls/include &&    cf_search="$cf_search /usr/local/include/gnutls/include"
	test -d /usr/local/gnutls/include &&       cf_search="$cf_search /usr/local/gnutls/include"
	test -d /usr/local/gnutls/include/gnutls &&    cf_search="$cf_search /usr/local/gnutls/include/gnutls"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/gnutls &&       cf_search="$cf_search /opt/include/gnutls"
	test -d /opt/include/gnutls/include &&    cf_search="$cf_search /opt/include/gnutls/include"
	test -d /opt/gnutls/include &&       cf_search="$cf_search /opt/gnutls/include"
	test -d /opt/gnutls/include/gnutls &&    cf_search="$cf_search /opt/gnutls/include/gnutls"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/gnutls &&       cf_search="$cf_search $HOME/include/gnutls"
	test -d $HOME/include/gnutls/include &&    cf_search="$cf_search $HOME/include/gnutls/include"
	test -d $HOME/gnutls/include &&       cf_search="$cf_search $HOME/gnutls/include"
	test -d $HOME/gnutls/include/gnutls &&    cf_search="$cf_search $HOME/gnutls/include/gnutls"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/gnutls && cf_search="$cf_search $includedir/gnutls"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/gnutls && cf_search="$cf_search $oldincludedir/gnutls"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_gnutls in $cf_search
    do
      if test -d $cf_cv_header_path_gnutls ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_gnutls" 1>&6

echo "${as_me:-configure}:16316: testing ... testing $cf_cv_header_path_gnutls ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_gnutls"
        cat >conftest.$ac_ext <<_ACEOF
#line 16320 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:16349: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:16352: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:16355: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16358: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found gnutls headers in $cf_cv_header_path_gnutls" 1>&6

echo "${as_me:-configure}:16363: testing ... found gnutls headers in $cf_cv_header_path_gnutls ..." 1>&5

            cf_cv_find_linkage_gnutls=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_gnutls" = maybe ; then

echo "${as_me:-configure}:16381: testing Searching for gnutls library in FIND_LINKAGE(gnutls,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_gnutls" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/gnutls &&       cf_search="$cf_search $cf_library_path/lib/gnutls"
	test -d $cf_library_path/lib/gnutls/lib &&    cf_search="$cf_search $cf_library_path/lib/gnutls/lib"
	test -d $cf_library_path/gnutls/lib &&       cf_search="$cf_search $cf_library_path/gnutls/lib"
	test -d $cf_library_path/gnutls/lib/gnutls &&    cf_search="$cf_search $cf_library_path/gnutls/lib/gnutls"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/gnutls &&       cf_search="$cf_search /usr/lib/gnutls"
	test -d /usr/lib/gnutls/lib &&    cf_search="$cf_search /usr/lib/gnutls/lib"
	test -d /usr/gnutls/lib &&       cf_search="$cf_search /usr/gnutls/lib"
	test -d /usr/gnutls/lib/gnutls &&    cf_search="$cf_search /usr/gnutls/lib/gnutls"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/gnutls &&       cf_search="$cf_search $prefix/lib/gnutls"
	test -d $prefix/lib/gnutls/lib &&    cf_search="$cf_search $prefix/lib/gnutls/lib"
	test -d $prefix/gnutls/lib &&       cf_search="$cf_search $prefix/gnutls/lib"
	test -d $prefix/gnutls/lib/gnutls &&    cf_search="$cf_search $prefix/gnutls/lib/gnutls"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/gnutls &&       cf_search="$cf_search /usr/local/lib/gnutls"
	test -d /usr/local/lib/gnutls/lib &&    cf_search="$cf_search /usr/local/lib/gnutls/lib"
	test -d /usr/local/gnutls/lib &&       cf_search="$cf_search /usr/local/gnutls/lib"
	test -d /usr/local/gnutls/lib/gnutls &&    cf_search="$cf_search /usr/local/gnutls/lib/gnutls"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/gnutls &&       cf_search="$cf_search /opt/lib/gnutls"
	test -d /opt/lib/gnutls/lib &&    cf_search="$cf_search /opt/lib/gnutls/lib"
	test -d /opt/gnutls/lib &&       cf_search="$cf_search /opt/gnutls/lib"
	test -d /opt/gnutls/lib/gnutls &&    cf_search="$cf_search /opt/gnutls/lib/gnutls"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/gnutls &&       cf_search="$cf_search $HOME/lib/gnutls"
	test -d $HOME/lib/gnutls/lib &&    cf_search="$cf_search $HOME/lib/gnutls/lib"
	test -d $HOME/gnutls/lib &&       cf_search="$cf_search $HOME/gnutls/lib"
	test -d $HOME/gnutls/lib/gnutls &&    cf_search="$cf_search $HOME/gnutls/lib/gnutls"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_gnutls in $cf_search
        do
          if test -d $cf_cv_library_path_gnutls ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_gnutls" 1>&6

echo "${as_me:-configure}:16478: testing ... testing $cf_cv_library_path_gnutls ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lgnutls -lgnutls-openssl -lgnutls-extra -lgnutls -lgcrypt $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_gnutls"
            cat >conftest.$ac_ext <<_ACEOF
#line 16484 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16513: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16516: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16519: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16522: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found gnutls library in $cf_cv_library_path_gnutls" 1>&6

echo "${as_me:-configure}:16527: testing ... found gnutls library in $cf_cv_library_path_gnutls ..." 1>&5

                cf_cv_find_linkage_gnutls=yes
                cf_cv_library_file_gnutls="-lgnutls"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_gnutls=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_gnutls" = yes ; then
cf_cv_have_gnutls=yes
else
cf_cv_have_gnutls=no
fi

		CPPFLAGS=$cf_gnutls_CPPFLAGS
	fi

	if test "$cf_cv_have_gnutls" = yes ; then
		if test -n "$cf_cv_header_path_gnutls" ; then
			cat >>confdefs.h <<\EOF
#define USE_SSL 1
EOF

			case $cf_cv_header_path_gnutls in
				/usr/include/gnutls)
				;;
			*)

if test -n "$cf_cv_header_path_gnutls" ; then
  for cf_add_incdir in $cf_cv_header_path_gnutls
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 16604 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:16616: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:16619: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:16622: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16625: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:16642: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

				;;
			esac
		fi
		if test -n "$cf_cv_library_path_gnutls" ; then

if test -n "$cf_cv_library_path_gnutls" ; then
  for cf_add_libdir in $cf_cv_library_path_gnutls
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:16681: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

		fi
		LIBS="-lgnutls -lgcrypt $LIBS"

		if test "$cf_pkg_gnutls" = none ; then
				echo "$as_me:16693: checking for SSL_connect in -lgnutls-openssl" >&5
echo $ECHO_N "checking for SSL_connect in -lgnutls-openssl... $ECHO_C" >&6
if test "${ac_cv_lib_gnutls_openssl_SSL_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgnutls-openssl  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 16701 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SSL_connect ();
int
main ()
{
SSL_connect ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16720: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16723: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16726: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16729: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gnutls_openssl_SSL_connect=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gnutls_openssl_SSL_connect=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:16740: result: $ac_cv_lib_gnutls_openssl_SSL_connect" >&5
echo "${ECHO_T}$ac_cv_lib_gnutls_openssl_SSL_connect" >&6
if test $ac_cv_lib_gnutls_openssl_SSL_connect = yes; then
  LIBS="-lgnutls-openssl $LIBS"
else
  echo "$as_me:16745: checking for SSL_connect in -lgnutls-extra" >&5
echo $ECHO_N "checking for SSL_connect in -lgnutls-extra... $ECHO_C" >&6
if test "${ac_cv_lib_gnutls_extra_SSL_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgnutls-extra  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 16753 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SSL_connect ();
int
main ()
{
SSL_connect ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16772: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16775: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16778: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16781: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gnutls_extra_SSL_connect=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gnutls_extra_SSL_connect=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:16792: result: $ac_cv_lib_gnutls_extra_SSL_connect" >&5
echo "${ECHO_T}$ac_cv_lib_gnutls_extra_SSL_connect" >&6
if test $ac_cv_lib_gnutls_extra_SSL_connect = yes; then
  LIBS="-lgnutls-extra $LIBS"
else
  { { echo "$as_me:16797: error: cannot find gnutls openssl functions" >&5
echo "$as_me: error: cannot find gnutls openssl functions" >&2;}
   { (exit 1); exit 1; }; }
fi

fi

			fi

echo "$as_me:16806: checking for X509 support" >&5
echo $ECHO_N "checking for X509 support... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 16809 "configure"
#include "confdefs.h"

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

#include <openssl/x509.h>
int
main ()
{
X509_verify_cert_error_string(X509_STORE_CTX_get_error(NULL))
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16833: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16836: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16839: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16842: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_x509_support=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_x509_support=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:16851: result: $cf_x509_support" >&5
echo "${ECHO_T}$cf_x509_support" >&6

if test "$cf_x509_support" = yes ; then
	cat >>confdefs.h <<\EOF
#define USE_X509_SUPPORT 1
EOF

fi

	fi

    fi
elif test "x$cf_cv_use_libnss_compat"  != xno ; then

check=`pkg-config --version 2>/dev/null`
if test -n "$check" ; then
	cf_ssl_library=`pkg-config --libs nss`
	cf_ssl_cflags=`pkg-config --cflags nss`
else
	# Without pkg-config, we'll kludge in some defaults
	cf_ssl_library="-lssl3 -lsmime3 -lnss3 -lplds4 -lplc4 -lnspr4 -lpthread -ldl"
	cf_ssl_cflags="-I/usr/include/nss3 -I/usr/include/nspr4"
fi
cf_ssl_library="-lnss_compat_ossl $cf_ssl_library"

case "$cf_cv_use_libnss_compat" in #(vi
no) #(vi
	cf_ssl_root=
	;;
yes) #(vi

echo "$as_me:16883: checking for SSL_get_version in -lnss_compat_ossl" >&5
echo $ECHO_N "checking for SSL_get_version in -lnss_compat_ossl... $ECHO_C" >&6
if test "${ac_cv_lib_nss_compat_ossl_SSL_get_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnss_compat_ossl -lnss_compat_ossl $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 16891 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SSL_get_version ();
int
main ()
{
SSL_get_version ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16910: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16913: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16916: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16919: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nss_compat_ossl_SSL_get_version=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nss_compat_ossl_SSL_get_version=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:16930: result: $ac_cv_lib_nss_compat_ossl_SSL_get_version" >&5
echo "${ECHO_T}$ac_cv_lib_nss_compat_ossl_SSL_get_version" >&6
if test $ac_cv_lib_nss_compat_ossl_SSL_get_version = yes; then
  cat >>confdefs.h <<EOF
#define HAVE_LIBNSS_COMPAT_OSSL 1
EOF

  LIBS="-lnss_compat_ossl $LIBS"

else

		cf_ssl_root=/usr/local/nss_compat_ossl
		if test -d $cf_ssl_root ; then
			test -n "$verbose" && echo "	assume it is in $cf_ssl_root" 1>&6

echo "${as_me:-configure}:16945: testing assume it is in $cf_ssl_root ..." 1>&5

			cf_ssl_library="-L$cf_ssl_root/lib $cf_ssl_library"
		else
			{ { echo "$as_me:16949: error: cannot find NSS compilant libraries" >&5
echo "$as_me: error: cannot find NSS compilant libraries" >&2;}
   { (exit 1); exit 1; }; }
		fi

fi

	;;
*)
	if test -d $cf_cv_use_libnss_compat ; then
		if test -d $cf_cv_use_libnss_compat/include ; then
			cf_ssl_root=$cf_cv_use_libnss_compat
		elif test -d $cf_cv_use_libnss_compat/../include ; then
			cf_ssl_root=$cf_cv_use_libnss_compat/..
		else
			{ { echo "$as_me:16964: error: cannot find NSS compilant library under $cf_cv_use_libnss_compat" >&5
echo "$as_me: error: cannot find NSS compilant library under $cf_cv_use_libnss_compat" >&2;}
   { (exit 1); exit 1; }; }
		fi
		cf_ssl_library="-L$cf_ssl_root/lib $cf_ssl_library"
	else
		{ echo "$as_me:16970: WARNING: expected a directory: $cf_cv_use_libnss_compat" >&5
echo "$as_me: WARNING: expected a directory: $cf_cv_use_libnss_compat" >&2;}
	fi
	;;
esac
LIBS="$cf_ssl_library $LIBS"

cf_ssl_subincs=yes
if test -n "$cf_ssl_root" ; then
	if test -d $cf_ssl_root/include ; then
		cf_ssl_cflags="-I$cf_ssl_root/include  $cf_ssl_cflags"
		test -d $cf_ssl_root/include/nss_compat_ossl || cf_ssl_subincs=no
	fi
fi

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_ssl_cflags
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

if test "$cf_ssl_subincs" = yes ; then
echo "$as_me:17064: checking for NSS compilant include directory" >&5
echo $ECHO_N "checking for NSS compilant include directory... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 17067 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <nss_compat_ossl/nss_compat_ossl.h>
int
main ()
{
SSL_shutdown((SSL *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17081: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17084: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17087: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17090: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_ssl_incl=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_ssl_incl=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
echo "$as_me:17099: result: $cf_ssl_incl" >&5
echo "${ECHO_T}$cf_ssl_incl" >&6
test "$cf_ssl_incl" = yes &&
cat >>confdefs.h <<\EOF
#define USE_NSS_COMPAT_INCL 1
EOF

fi

echo "$as_me:17108: checking if we can link to NSS compilant library" >&5
echo $ECHO_N "checking if we can link to NSS compilant library... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 17111 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef USE_NSS_COMPAT_INCL
#include <nss_compat_ossl/nss_compat_ossl.h>
#else
#include <ssl.h>
#endif

int
main ()
{
SSL_shutdown((SSL *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17130: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17133: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17136: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17139: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_ssl_library=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_ssl_library=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:17148: result: $cf_ssl_library" >&5
echo "${ECHO_T}$cf_ssl_library" >&6
if test "$cf_ssl_library" = yes ; then

cat >>confdefs.h <<\EOF
#define USE_SSL 1
EOF

cat >>confdefs.h <<\EOF
#define USE_X509_SUPPORT 1
EOF

else
	{ { echo "$as_me:17161: error: Cannot link with NSS compilant libraries" >&5
echo "$as_me: error: Cannot link with NSS compilant libraries" >&2;}
   { (exit 1); exit 1; }; }
fi

fi

### check for ipv6 support
echo "$as_me:17169: checking whether to enable ipv6" >&5
echo $ECHO_N "checking whether to enable ipv6... $ECHO_C" >&6

# Check whether --enable-ipv6 or --disable-ipv6 was given.
if test "${enable_ipv6+set}" = set; then
  enableval="$enable_ipv6"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then

cat >>confdefs.h <<\EOF
#define ENABLE_IPV6 1
EOF

  fi
else
  enableval=no
fi;
echo "$as_me:17186: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
if test "$enableval" = "yes"; then

echo "$as_me:17190: checking ipv6 stack type" >&5
echo $ECHO_N "checking ipv6 stack type... $ECHO_C" >&6
if test "${cf_cv_ipv6type+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_ipv6type=unknown
for i in solaris inria kame linux-glibc linux-libinet6 toshiba v6d zeta
do
	case $i in #(vi
	solaris) #(vi
		if test "SunOS" = "`uname -s`"
		then
		  if test -f /usr/include/netinet/ip6.h
		  then
			cf_cv_ipv6type=$i
		  fi
		fi
		;;
	inria) #(vi
				cat >conftest.$ac_ext <<_ACEOF
#line 17211 "configure"
#include "confdefs.h"

#include <netinet/in.h>
#ifdef IPV6_INRIA_VERSION
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -rf conftest*

		;;
	kame) #(vi
				cat >conftest.$ac_ext <<_ACEOF
#line 17228 "configure"
#include "confdefs.h"

#include <netinet/in.h>
#ifdef __KAME__
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -rf conftest*

		;;
	linux-glibc) #(vi
				cat >conftest.$ac_ext <<_ACEOF
#line 17245 "configure"
#include "confdefs.h"

#include <features.h>
#if defined(__GLIBC__) && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 1
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -rf conftest*

		;;
	linux-libinet6) #(vi
				if test -d /usr/inet6
		then
			cf_cv_ipv6type=$i
		elif test -f /usr/include/netinet/ip6.h
		then
			cf_cv_ipv6type=$i
		fi
		;;
	toshiba) #(vi
		cat >conftest.$ac_ext <<_ACEOF
#line 17271 "configure"
#include "confdefs.h"

#include <sys/param.h>
#ifdef _TOSHIBA_INET6
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -rf conftest*

		;;
	v6d) #(vi
		cat >conftest.$ac_ext <<_ACEOF
#line 17288 "configure"
#include "confdefs.h"

#include </usr/local/v6/include/sys/v6config.h>
#ifdef __V6D__
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -rf conftest*

		;;
	zeta)
		cat >conftest.$ac_ext <<_ACEOF
#line 17305 "configure"
#include "confdefs.h"

#include <sys/param.h>
#ifdef _ZETA_MINAMI_INET6
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -rf conftest*

		;;
	esac
	if test "$cf_cv_ipv6type" != "unknown"; then
		break
	fi
done

fi
echo "$as_me:17327: result: $cf_cv_ipv6type" >&5
echo "${ECHO_T}$cf_cv_ipv6type" >&6

cf_ipv6lib=none
cf_ipv6dir=none

echo "$as_me:17333: checking for IPv6 library if required" >&5
echo $ECHO_N "checking for IPv6 library if required... $ECHO_C" >&6
case $cf_cv_ipv6type in #(vi
solaris) #(vi
	;;
inria) #(vi
	;;
kame) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
linux-glibc) #(vi
	;;
linux-libinet6) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=inet6
	;;
toshiba) #(vi
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
v6d) #(vi
	cf_ipv6lib=v6
	cf_ipv6dir=v6
	;;
zeta)
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
esac
echo "$as_me:17363: result: $cf_ipv6lib" >&5
echo "${ECHO_T}$cf_ipv6lib" >&6

if test "$cf_ipv6lib" != "none"; then

	cat >conftest.$ac_ext <<_ACEOF
#line 17369 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
int
main ()
{
getaddrinfo(0, 0, 0, 0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17385: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17388: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17391: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17394: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/$cf_ipv6dir &&       cf_search="$cf_search $cf_header_path/include/$cf_ipv6dir"
	test -d $cf_header_path/include/$cf_ipv6dir/include &&    cf_search="$cf_search $cf_header_path/include/$cf_ipv6dir/include"
	test -d $cf_header_path/$cf_ipv6dir/include &&       cf_search="$cf_search $cf_header_path/$cf_ipv6dir/include"
	test -d $cf_header_path/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $cf_header_path/$cf_ipv6dir/include/$cf_ipv6dir"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/$cf_ipv6dir &&       cf_search="$cf_search /usr/include/$cf_ipv6dir"
	test -d /usr/include/$cf_ipv6dir/include &&    cf_search="$cf_search /usr/include/$cf_ipv6dir/include"
	test -d /usr/$cf_ipv6dir/include &&       cf_search="$cf_search /usr/$cf_ipv6dir/include"
	test -d /usr/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search /usr/$cf_ipv6dir/include/$cf_ipv6dir"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/$cf_ipv6dir &&       cf_search="$cf_search $prefix/include/$cf_ipv6dir"
	test -d $prefix/include/$cf_ipv6dir/include &&    cf_search="$cf_search $prefix/include/$cf_ipv6dir/include"
	test -d $prefix/$cf_ipv6dir/include &&       cf_search="$cf_search $prefix/$cf_ipv6dir/include"
	test -d $prefix/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $prefix/$cf_ipv6dir/include/$cf_ipv6dir"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/$cf_ipv6dir &&       cf_search="$cf_search /usr/local/include/$cf_ipv6dir"
	test -d /usr/local/include/$cf_ipv6dir/include &&    cf_search="$cf_search /usr/local/include/$cf_ipv6dir/include"
	test -d /usr/local/$cf_ipv6dir/include &&       cf_search="$cf_search /usr/local/$cf_ipv6dir/include"
	test -d /usr/local/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search /usr/local/$cf_ipv6dir/include/$cf_ipv6dir"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/$cf_ipv6dir &&       cf_search="$cf_search /opt/include/$cf_ipv6dir"
	test -d /opt/include/$cf_ipv6dir/include &&    cf_search="$cf_search /opt/include/$cf_ipv6dir/include"
	test -d /opt/$cf_ipv6dir/include &&       cf_search="$cf_search /opt/$cf_ipv6dir/include"
	test -d /opt/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search /opt/$cf_ipv6dir/include/$cf_ipv6dir"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/$cf_ipv6dir &&       cf_search="$cf_search $HOME/include/$cf_ipv6dir"
	test -d $HOME/include/$cf_ipv6dir/include &&    cf_search="$cf_search $HOME/include/$cf_ipv6dir/include"
	test -d $HOME/$cf_ipv6dir/include &&       cf_search="$cf_search $HOME/$cf_ipv6dir/include"
	test -d $HOME/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $HOME/$cf_ipv6dir/include/$cf_ipv6dir"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/$cf_ipv6dir && cf_search="$cf_search $includedir/$cf_ipv6dir"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/$cf_ipv6dir && cf_search="$cf_search $oldincludedir/$cf_ipv6dir"
}

cf_search="$cf_search $cf_header_path_list"

	for cf_incdir in $cf_search
	do
		cf_header=$cf_incdir/netinet/ip6.h
		if test -f $cf_header
		then

if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 17534 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17546: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17549: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17552: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17555: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:17572: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

			test -n "$verbose" && echo "	... found $cf_header" 1>&6
			break
		fi
		test -n "$verbose" && echo "	... tested $cf_header" 1>&6
	done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

	eval 'cf_cv_have_lib_'$cf_ipv6lib'=no'
	cf_libdir=""
	echo "$as_me:17598: checking for getaddrinfo" >&5
echo $ECHO_N "checking for getaddrinfo... $ECHO_C" >&6
if test "${ac_cv_func_getaddrinfo+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 17604 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getaddrinfo (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char getaddrinfo ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getaddrinfo) || defined (__stub___getaddrinfo)
choke me
#else
f = getaddrinfo; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17635: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17638: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17641: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17644: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_getaddrinfo=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_getaddrinfo=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:17654: result: $ac_cv_func_getaddrinfo" >&5
echo "${ECHO_T}$ac_cv_func_getaddrinfo" >&6
if test $ac_cv_func_getaddrinfo = yes; then
  eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:17661: checking for getaddrinfo in -l$cf_ipv6lib" >&5
echo $ECHO_N "checking for getaddrinfo in -l$cf_ipv6lib... $ECHO_C" >&6
		LIBS="-l$cf_ipv6lib $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 17665 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
int
main ()
{
getaddrinfo(0, 0, 0, 0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17681: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17684: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17687: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17690: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:17692: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:17699: result: no" >&5
echo "${ECHO_T}no" >&6

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/$cf_ipv6dir &&       cf_search="$cf_search $cf_library_path/lib/$cf_ipv6dir"
	test -d $cf_library_path/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $cf_library_path/lib/$cf_ipv6dir/lib"
	test -d $cf_library_path/$cf_ipv6dir/lib &&       cf_search="$cf_search $cf_library_path/$cf_ipv6dir/lib"
	test -d $cf_library_path/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $cf_library_path/$cf_ipv6dir/lib/$cf_ipv6dir"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/$cf_ipv6dir &&       cf_search="$cf_search /usr/lib/$cf_ipv6dir"
	test -d /usr/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search /usr/lib/$cf_ipv6dir/lib"
	test -d /usr/$cf_ipv6dir/lib &&       cf_search="$cf_search /usr/$cf_ipv6dir/lib"
	test -d /usr/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search /usr/$cf_ipv6dir/lib/$cf_ipv6dir"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/$cf_ipv6dir &&       cf_search="$cf_search $prefix/lib/$cf_ipv6dir"
	test -d $prefix/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $prefix/lib/$cf_ipv6dir/lib"
	test -d $prefix/$cf_ipv6dir/lib &&       cf_search="$cf_search $prefix/$cf_ipv6dir/lib"
	test -d $prefix/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $prefix/$cf_ipv6dir/lib/$cf_ipv6dir"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/$cf_ipv6dir &&       cf_search="$cf_search /usr/local/lib/$cf_ipv6dir"
	test -d /usr/local/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search /usr/local/lib/$cf_ipv6dir/lib"
	test -d /usr/local/$cf_ipv6dir/lib &&       cf_search="$cf_search /usr/local/$cf_ipv6dir/lib"
	test -d /usr/local/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search /usr/local/$cf_ipv6dir/lib/$cf_ipv6dir"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/$cf_ipv6dir &&       cf_search="$cf_search /opt/lib/$cf_ipv6dir"
	test -d /opt/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search /opt/lib/$cf_ipv6dir/lib"
	test -d /opt/$cf_ipv6dir/lib &&       cf_search="$cf_search /opt/$cf_ipv6dir/lib"
	test -d /opt/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search /opt/$cf_ipv6dir/lib/$cf_ipv6dir"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/$cf_ipv6dir &&       cf_search="$cf_search $HOME/lib/$cf_ipv6dir"
	test -d $HOME/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $HOME/lib/$cf_ipv6dir/lib"
	test -d $HOME/$cf_ipv6dir/lib &&       cf_search="$cf_search $HOME/$cf_ipv6dir/lib"
	test -d $HOME/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $HOME/$cf_ipv6dir/lib/$cf_ipv6dir"
}

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				echo "$as_me:17789: checking for -l$cf_ipv6lib in $cf_libdir" >&5
echo $ECHO_N "checking for -l$cf_ipv6lib in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -l$cf_ipv6lib $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 17793 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
int
main ()
{
getaddrinfo(0, 0, 0, 0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17809: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17812: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17815: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17818: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:17820: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:17827: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

eval 'cf_found_library=$cf_cv_have_lib_'$cf_ipv6lib

	if test $cf_found_library = no ; then
		{ { echo "$as_me:17842: error: No $cf_ipv6lib library found, cannot continue.  You must fetch lib$cf_ipv6lib.a
from an appropriate IPv6 kit and compile beforehand." >&5
echo "$as_me: error: No $cf_ipv6lib library found, cannot continue.  You must fetch lib$cf_ipv6lib.a
from an appropriate IPv6 kit and compile beforehand." >&2;}
   { (exit 1); exit 1; }; }
	fi
fi

echo "$as_me:17850: checking working getaddrinfo" >&5
echo $ECHO_N "checking working getaddrinfo... $ECHO_C" >&6
if test "${cf_cv_getaddrinfo+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

if test "$cross_compiling" = yes; then
  cf_cv_getaddrinfo=unknown
else
  cat >conftest.$ac_ext <<_ACEOF
#line 17860 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netdb.h>
#include <string.h>
#include <sys/socket.h>
#include <netinet/in.h>

#define expect(a,b) if (strcmp(a,b) != 0) goto bad

int main()
{
   int passive, gaierr, inet4 = 0, inet6 = 0;
   struct addrinfo hints, *ai, *aitop;
   char straddr[INET6_ADDRSTRLEN], strport[16];

   for (passive = 0; passive <= 1; passive++) {
     memset(&hints, 0, sizeof(hints));
     hints.ai_family = AF_UNSPEC;
     hints.ai_flags = passive ? AI_PASSIVE : 0;
     hints.ai_socktype = SOCK_STREAM;
     if ((gaierr = getaddrinfo(NULL, "54321", &hints, &aitop)) != 0) {
       (void)gai_strerror(gaierr);
       goto bad;
     }
     for (ai = aitop; ai; ai = ai->ai_next) {
       if (ai->ai_addr == NULL ||
           ai->ai_addrlen == 0 ||
           getnameinfo(ai->ai_addr, ai->ai_addrlen,
                       straddr, sizeof(straddr), strport, sizeof(strport),
                       NI_NUMERICHOST|NI_NUMERICSERV) != 0) {
         goto bad;
       }
       switch (ai->ai_family) {
       case AF_INET:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "0.0.0.0");
         } else {
           expect(straddr, "127.0.0.1");
         }
         inet4++;
         break;
       case AF_INET6:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "::");
         } else {
           expect(straddr, "::1");
         }
         inet6++;
         break;
       case AF_UNSPEC:
         goto bad;
         break;
       default:
         /* another family support? */
         break;
       }
     }
   }

   if (!(inet4 == 0 || inet4 == 2))
     goto bad;
   if (!(inet6 == 0 || inet6 == 2))
     goto bad;

   if (aitop)
     freeaddrinfo(aitop);
   ${cf_cv_main_return:-return}(0);

  bad:
   if (aitop)
     freeaddrinfo(aitop);
   ${cf_cv_main_return:-return}(1);
}

_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:17940: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17943: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:17945: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17948: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_getaddrinfo=yes
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_getaddrinfo=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

fi
echo "$as_me:17961: result: $cf_cv_getaddrinfo" >&5
echo "${ECHO_T}$cf_cv_getaddrinfo" >&6
if test "$cf_cv_getaddrinfo" = yes ; then

cat >>confdefs.h <<\EOF
#define HAVE_GAI_STRERROR 1
EOF

cat >>confdefs.h <<\EOF
#define HAVE_GETADDRINFO 1
EOF

fi

if test "$cf_cv_getaddrinfo" != "yes"; then
	if test "$cf_cv_ipv6type" != "linux"; then
		{ echo "$as_me:17977: WARNING: You must get working getaddrinfo() function,
or you can specify \"--disable-ipv6\"" >&5
echo "$as_me: WARNING: You must get working getaddrinfo() function,
or you can specify \"--disable-ipv6\"" >&2;}
	else
		{ echo "$as_me:17982: WARNING: The getaddrinfo() implementation on your system seems be buggy.
You should upgrade your system library to the newest version
of GNU C library (aka glibc)." >&5
echo "$as_me: WARNING: The getaddrinfo() implementation on your system seems be buggy.
You should upgrade your system library to the newest version
of GNU C library (aka glibc)." >&2;}
	fi
fi

fi

echo "$as_me:17993: checking for screen type" >&5
echo $ECHO_N "checking for screen type... $ECHO_C" >&6
if test "${cf_cv_screen+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --with-screen or --without-screen was given.
if test "${with_screen+set}" = set; then
  withval="$with_screen"

case $withval in
curses|ncurses|ncursesw|pdcurses|slang)
	cf_cv_screen=$withval
	;;
*)	{ { echo "$as_me:18007: error: Unexpected value" >&5
echo "$as_me: error: Unexpected value" >&2;}
   { (exit 1); exit 1; }; }
	;;
esac
else
  cf_cv_screen=curses
fi;
fi
echo "$as_me:18016: result: $cf_cv_screen" >&5
echo "${ECHO_T}$cf_cv_screen" >&6

case $cf_cv_screen in
curses|ncurses*)

echo "$as_me:18022: checking for specific curses-directory" >&5
echo $ECHO_N "checking for specific curses-directory... $ECHO_C" >&6

# Check whether --with-curses-dir or --without-curses-dir was given.
if test "${with_curses_dir+set}" = set; then
  withval="$with_curses_dir"
  cf_cv_curses_dir=$withval
else
  cf_cv_curses_dir=no
fi;
echo "$as_me:18032: result: $cf_cv_curses_dir" >&5
echo "${ECHO_T}$cf_cv_curses_dir" >&6

if ( test -n "$cf_cv_curses_dir" && test "$cf_cv_curses_dir" != "no" )
then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:18063: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

	if test -d "$cf_cv_curses_dir"
	then

if test -n "$cf_cv_curses_dir/include" ; then
  for cf_add_incdir in $cf_cv_curses_dir/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 18096 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18108: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18111: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18114: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18117: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:18134: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

if test -n "$cf_cv_curses_dir/lib" ; then
  for cf_add_libdir in $cf_cv_curses_dir/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:18168: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	fi
fi

	;;
esac

cf_wide_curses=no
dft_color_style=yes
case $cf_cv_screen in
curses)

echo "$as_me:18187: checking for extra include directories" >&5
echo $ECHO_N "checking for extra include directories... $ECHO_C" >&6
if test "${cf_cv_curses_incdir+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_curses_incdir=no
case $host_os in #(vi
hpux10.*) #(vi
	if test "x$cf_cv_screen" = "xcurses_colr"
	then
		test -d /usr/include/curses_colr && \
		cf_cv_curses_incdir="-I/usr/include/curses_colr"
	fi
	;;
sunos3*|sunos4*)
	if test "x$cf_cv_screen" = "xcurses_5lib"
	then
		test -d /usr/5lib && \
		test -d /usr/5include && \
		cf_cv_curses_incdir="-I/usr/5include"
	fi
	;;
esac

fi
echo "$as_me:18213: result: $cf_cv_curses_incdir" >&5
echo "${ECHO_T}$cf_cv_curses_incdir" >&6
test "$cf_cv_curses_incdir" != no && CPPFLAGS="$CPPFLAGS $cf_cv_curses_incdir"

echo "$as_me:18217: checking if we have identified curses headers" >&5
echo $ECHO_N "checking if we have identified curses headers... $ECHO_C" >&6
if test "${cf_cv_ncurses_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_ncurses_header=none
for cf_header in  \
	ncurses.h \
	curses.h ncurses/ncurses.h ncurses/curses.h
do
cat >conftest.$ac_ext <<_ACEOF
#line 18229 "configure"
#include "confdefs.h"
#include <${cf_header}>
int
main ()
{
initscr(); tgoto("?", 0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18241: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18244: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18247: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18250: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_header=$cf_header; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:18261: result: $cf_cv_ncurses_header" >&5
echo "${ECHO_T}$cf_cv_ncurses_header" >&6

if test "$cf_cv_ncurses_header" = none ; then
	{ { echo "$as_me:18265: error: No curses header-files found" >&5
echo "$as_me: error: No curses header-files found" >&2;}
   { (exit 1); exit 1; }; }
fi

# cheat, to get the right #define's for HAVE_NCURSES_H, etc.

for ac_header in $cf_cv_ncurses_header
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:18275: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 18281 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:18285: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:18291: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:18310: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

echo "$as_me:18320: checking for terminfo header" >&5
echo $ECHO_N "checking for terminfo header... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

case ${cf_cv_ncurses_header} in #(vi
*/ncurses.h|*/ncursesw.h) #(vi
	cf_term_header=`echo "$cf_cv_ncurses_header" | sed -e 's%ncurses[^.]*\.h$%term.h%'`
	;;
*)
	cf_term_header=term.h
	;;
esac

for cf_test in $cf_term_header "ncurses/term.h" "ncursesw/term.h"
do
cat >conftest.$ac_ext <<_ACEOF
#line 18338 "configure"
#include "confdefs.h"
#include <stdio.h>
#include <${cf_cv_ncurses_header:-curses.h}>
#include <$cf_test>

int
main ()
{
int x = auto_left_margin
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18353: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18356: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18359: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18362: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_term_header="$cf_test"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_term_header=unknown

fi
rm -f conftest.$ac_objext conftest.$ac_ext
	test "$cf_cv_term_header" != unknown && break
done

fi
echo "$as_me:18378: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6

# Set definitions to allow ifdef'ing to accommodate subdirectories

case $cf_cv_term_header in # (vi
*term.h)

cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF

	;;
esac

case $cf_cv_term_header in # (vi
ncurses/term.h) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF

	;;
ncursesw/term.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF

	;;
esac

echo "$as_me:18410: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then

	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header:-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
#endif
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo "$as_me:18436: \"$cf_try\"") >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  echo "$as_me:18439: \$? = $ac_status" >&5
  (exit $ac_status); }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi

else
  cat >conftest.$ac_ext <<_ACEOF
#line 18449 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
#include <stdio.h>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	${cf_cv_main_return:-return}(0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:18474: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18477: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:18479: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18482: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_ncurses_version=`cat $cf_tempfile`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
	rm -f $cf_tempfile

fi
echo "$as_me:18496: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no ||
cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

echo "$as_me:18503: checking if we have identified curses libraries" >&5
echo $ECHO_N "checking if we have identified curses libraries... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 18506 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr(); tgoto("?", 0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18518: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18521: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18524: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18527: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:18536: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6

if test "$cf_result" = no ; then
case $host_os in #(vi
freebsd*) #(vi
    echo "$as_me:18542: checking for tgoto in -lmytinfo" >&5
echo $ECHO_N "checking for tgoto in -lmytinfo... $ECHO_C" >&6
if test "${ac_cv_lib_mytinfo_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lmytinfo  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 18550 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18569: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18572: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18575: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18578: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_mytinfo_tgoto=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_mytinfo_tgoto=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:18589: result: $ac_cv_lib_mytinfo_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_mytinfo_tgoto" >&6
if test $ac_cv_lib_mytinfo_tgoto = yes; then
  LIBS="-lmytinfo $LIBS"
fi

    ;;
hpux10.*) #(vi
	# Looking at HPUX 10.20, the Hcurses library is the oldest (1997), cur_colr
	# next (1998), and xcurses "newer" (2000).  There is no header file for
	# Hcurses; the subdirectory curses_colr has the headers (curses.h and
	# term.h) for cur_colr
	if test "x$cf_cv_screen" = "xcurses_colr"
	then
		echo "$as_me:18603: checking for initscr in -lcur_colr" >&5
echo $ECHO_N "checking for initscr in -lcur_colr... $ECHO_C" >&6
if test "${ac_cv_lib_cur_colr_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lcur_colr  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 18611 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18630: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18633: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18636: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18639: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_cur_colr_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_cur_colr_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:18650: result: $ac_cv_lib_cur_colr_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_cur_colr_initscr" >&6
if test $ac_cv_lib_cur_colr_initscr = yes; then

			LIBS="-lcur_colr $LIBS"
			ac_cv_func_initscr=yes

else

		echo "$as_me:18659: checking for initscr in -lHcurses" >&5
echo $ECHO_N "checking for initscr in -lHcurses... $ECHO_C" >&6
if test "${ac_cv_lib_Hcurses_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lHcurses  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 18667 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18686: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18689: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18692: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18695: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_Hcurses_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_Hcurses_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:18706: result: $ac_cv_lib_Hcurses_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_Hcurses_initscr" >&6
if test $ac_cv_lib_Hcurses_initscr = yes; then

			# HP's header uses __HP_CURSES, but user claims _HP_CURSES.
			LIBS="-lHcurses $LIBS"
			CPPFLAGS="$CPPFLAGS -D__HP_CURSES -D_HP_CURSES"
			ac_cv_func_initscr=yes

fi

fi

	fi
	;;
linux*)
	case `arch 2>/dev/null` in
	x86_64)
		if test -d /lib64
		then

if test -n "/lib64" ; then
  for cf_add_libdir in /lib64
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:18746: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

		else

if test -n "/lib" ; then
  for cf_add_libdir in /lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:18775: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

		fi
		;;
	*)

if test -n "/lib" ; then
  for cf_add_libdir in /lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:18806: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

		;;
	esac
	;;
sunos3*|sunos4*)
	if test "x$cf_cv_screen" = "xcurses_5lib"
	then
		if test -d /usr/5lib ; then

if test -n "/usr/5lib" ; then
  for cf_add_libdir in /usr/5lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:18841: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

			LIBS="-lcurses -ltermcap $LIBS"
		fi
    fi
    ac_cv_func_initscr=yes
    ;;
esac

if test ".$ac_cv_func_initscr" != .yes ; then
	cf_save_LIBS="$LIBS"

	if test ".${cf_cv_ncurses_version:-no}" != .no
	then
		cf_check_list="ncurses curses cursesX"
	else
		cf_check_list="cursesX curses ncurses"
	fi

	# Check for library containing tgoto.  Do this before curses library
	# because it may be needed to link the test-case for initscr.
	if test "x$cf_term_lib" = x
	then
		echo "$as_me:18870: checking for tgoto" >&5
echo $ECHO_N "checking for tgoto... $ECHO_C" >&6
if test "${ac_cv_func_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 18876 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char tgoto (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_tgoto) || defined (__stub___tgoto)
choke me
#else
f = tgoto; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18907: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18910: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18913: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18916: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_tgoto=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_tgoto=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:18926: result: $ac_cv_func_tgoto" >&5
echo "${ECHO_T}$ac_cv_func_tgoto" >&6
if test $ac_cv_func_tgoto = yes; then
  cf_term_lib=predefined
else

			for cf_term_lib in $cf_check_list otermcap termcap tinfo termlib unknown
			do
				as_ac_Lib=`echo "ac_cv_lib_$cf_term_lib''_tgoto" | $as_tr_sh`
echo "$as_me:18935: checking for tgoto in -l$cf_term_lib" >&5
echo $ECHO_N "checking for tgoto in -l$cf_term_lib... $ECHO_C" >&6
if eval "test \"\${$as_ac_Lib+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-l$cf_term_lib  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 18943 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18962: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18965: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18968: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18971: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Lib=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Lib=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:18982: result: `eval echo '${'$as_ac_Lib'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Lib'}'`" >&6
if test `eval echo '${'$as_ac_Lib'}'` = yes; then
  break
fi

			done

fi

	fi

	# Check for library containing initscr
	test "$cf_term_lib" != predefined && test "$cf_term_lib" != unknown && LIBS="-l$cf_term_lib $cf_save_LIBS"
	if test "x$cf_curs_lib" = x
	then
		for cf_curs_lib in $cf_check_list xcurses jcurses pdcurses unknown
		do
			as_ac_Lib=`echo "ac_cv_lib_$cf_curs_lib''_initscr" | $as_tr_sh`
echo "$as_me:19001: checking for initscr in -l$cf_curs_lib" >&5
echo $ECHO_N "checking for initscr in -l$cf_curs_lib... $ECHO_C" >&6
if eval "test \"\${$as_ac_Lib+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-l$cf_curs_lib  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 19009 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19028: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19031: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19034: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19037: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Lib=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Lib=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:19048: result: `eval echo '${'$as_ac_Lib'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Lib'}'`" >&6
if test `eval echo '${'$as_ac_Lib'}'` = yes; then
  break
fi

		done
	fi
	test $cf_curs_lib = unknown && { { echo "$as_me:19056: error: no curses library found" >&5
echo "$as_me: error: no curses library found" >&2;}
   { (exit 1); exit 1; }; }

	LIBS="-l$cf_curs_lib $cf_save_LIBS"
	if test "$cf_term_lib" = unknown ; then
		echo "$as_me:19062: checking if we can link with $cf_curs_lib library" >&5
echo $ECHO_N "checking if we can link with $cf_curs_lib library... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
#line 19065 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19077: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19080: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19083: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19086: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		echo "$as_me:19095: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
		test $cf_result = no && { { echo "$as_me:19097: error: Cannot link curses library" >&5
echo "$as_me: error: Cannot link curses library" >&2;}
   { (exit 1); exit 1; }; }
	elif test "$cf_curs_lib" = "$cf_term_lib" ; then
		:
	elif test "$cf_term_lib" != predefined ; then
		echo "$as_me:19103: checking if we need both $cf_curs_lib and $cf_term_lib libraries" >&5
echo $ECHO_N "checking if we need both $cf_curs_lib and $cf_term_lib libraries... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
#line 19106 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr(); tgoto((char *)0, 0, 0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19118: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19121: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19124: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19127: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

			LIBS="-l$cf_curs_lib -l$cf_term_lib $cf_save_LIBS"
			cat >conftest.$ac_ext <<_ACEOF
#line 19136 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19148: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19151: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19154: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19157: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=error
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		echo "$as_me:19169: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
	fi
fi
fi

echo "$as_me:19175: checking for curses performance tradeoff" >&5
echo $ECHO_N "checking for curses performance tradeoff... $ECHO_C" >&6
if test "${cf_cv_curs_performance+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cf_cv_curs_performance=no
    cat >conftest.$ac_ext <<_ACEOF
#line 19183 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ERR;
#else
	int x = ;	/* force an error */
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:19202: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:19205: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:19208: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19211: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cat >conftest.$ac_ext <<_ACEOF
#line 19215 "configure"
#include "confdefs.h"

#define CURS_PERFORMANCE
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ;	/* force an error */
#else
	int x = ERR;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:19235: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:19238: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:19241: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19244: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_curs_performance=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi

echo "$as_me:19259: result: $cf_cv_curs_performance" >&5
echo "${ECHO_T}$cf_cv_curs_performance" >&6
test $cf_cv_curs_performance = yes &&
cat >>confdefs.h <<\EOF
#define CURS_PERFORMANCE 1
EOF

echo "$as_me:19266: checking for curses touchline function" >&5
echo $ECHO_N "checking for curses touchline function... $ECHO_C" >&6
if test "${cf_cv_curs_touchline+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 19273 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
touchline(stdscr, 1,2,3);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19286: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19289: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19292: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19295: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_curs_touchline=bsd
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 19302 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
touchline(stdscr, 1,2);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19315: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19318: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19321: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19324: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_curs_touchline=sysv
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_curs_touchline=bsd
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:19336: result: $cf_cv_curs_touchline" >&5
echo "${ECHO_T}$cf_cv_curs_touchline" >&6
case "$cf_cv_curs_touchline" in #(vi
bsd) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_BSD_TOUCHLINE 1
EOF

	;;
sysv)

cat >>confdefs.h <<\EOF
#define HAVE_SYSV_TOUCHLINE 1
EOF

	;;
esac

	;;
ncurses)

cf_ncuconfig_root=ncurses

echo "Looking for ${cf_ncuconfig_root}-config"

if test -n "$ac_tool_prefix"; then
  for ac_prog in ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
echo "$as_me:19367: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_NCURSES_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$NCURSES_CONFIG"; then
  ac_cv_prog_NCURSES_CONFIG="$NCURSES_CONFIG" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_NCURSES_CONFIG="$ac_tool_prefix$ac_prog"
echo "$as_me:19382: found $ac_dir/$ac_word" >&5
break
done

fi
fi
NCURSES_CONFIG=$ac_cv_prog_NCURSES_CONFIG
if test -n "$NCURSES_CONFIG"; then
  echo "$as_me:19390: result: $NCURSES_CONFIG" >&5
echo "${ECHO_T}$NCURSES_CONFIG" >&6
else
  echo "$as_me:19393: result: no" >&5
echo "${ECHO_T}no" >&6
fi

    test -n "$NCURSES_CONFIG" && break
  done
fi
if test -z "$NCURSES_CONFIG"; then
  ac_ct_NCURSES_CONFIG=$NCURSES_CONFIG
  for ac_prog in ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:19406: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_NCURSES_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_NCURSES_CONFIG"; then
  ac_cv_prog_ac_ct_NCURSES_CONFIG="$ac_ct_NCURSES_CONFIG" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_NCURSES_CONFIG="$ac_prog"
echo "$as_me:19421: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ac_ct_NCURSES_CONFIG=$ac_cv_prog_ac_ct_NCURSES_CONFIG
if test -n "$ac_ct_NCURSES_CONFIG"; then
  echo "$as_me:19429: result: $ac_ct_NCURSES_CONFIG" >&5
echo "${ECHO_T}$ac_ct_NCURSES_CONFIG" >&6
else
  echo "$as_me:19432: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ac_ct_NCURSES_CONFIG" && break
done
test -n "$ac_ct_NCURSES_CONFIG" || ac_ct_NCURSES_CONFIG="none"

  NCURSES_CONFIG=$ac_ct_NCURSES_CONFIG
fi

if test "$NCURSES_CONFIG" != none ; then

CPPFLAGS="$CPPFLAGS `$NCURSES_CONFIG --cflags`"
LIBS="`$NCURSES_CONFIG --libs` $LIBS"

# even with config script, some packages use no-override for curses.h

echo "$as_me:19450: checking if we have identified curses headers" >&5
echo $ECHO_N "checking if we have identified curses headers... $ECHO_C" >&6
if test "${cf_cv_ncurses_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_ncurses_header=none
for cf_header in  \
    ncurses/ncurses.h \
	ncurses/curses.h \
	ncurses.h \
	curses.h
do
cat >conftest.$ac_ext <<_ACEOF
#line 19464 "configure"
#include "confdefs.h"
#include <${cf_header}>
int
main ()
{
initscr(); tgoto("?", 0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:19476: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:19479: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:19482: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19485: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_header=$cf_header; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:19496: result: $cf_cv_ncurses_header" >&5
echo "${ECHO_T}$cf_cv_ncurses_header" >&6

if test "$cf_cv_ncurses_header" = none ; then
	{ { echo "$as_me:19500: error: No curses header-files found" >&5
echo "$as_me: error: No curses header-files found" >&2;}
   { (exit 1); exit 1; }; }
fi

# cheat, to get the right #define's for HAVE_NCURSES_H, etc.

for ac_header in $cf_cv_ncurses_header
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:19510: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 19516 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:19520: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:19526: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:19545: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

cf_nculib_ROOT=`echo "HAVE_LIB$cf_ncuconfig_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<EOF
#define $cf_nculib_ROOT 1
EOF

cf_cv_ncurses_version=`$NCURSES_CONFIG --version`

else

cf_ncuhdr_root=ncurses

test -n "$cf_cv_curses_dir" && \
test "$cf_cv_curses_dir" != "no" && { \

if test -n "$cf_cv_curses_dir/include/$cf_ncuhdr_root" ; then
  for cf_add_incdir in $cf_cv_curses_dir/include/$cf_ncuhdr_root
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 19598 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:19610: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:19613: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:19616: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19619: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:19636: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

}

echo "$as_me:19653: checking for $cf_ncuhdr_root header in include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root header in include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_header_list="$cf_ncuhdr_root/curses.h $cf_ncuhdr_root/ncurses.h"
	( test "$cf_ncuhdr_root" = ncurses || test "$cf_ncuhdr_root" = ncursesw ) && cf_header_list="$cf_header_list curses.h ncurses.h"
	for cf_header in $cf_header_list
	do

	cat >conftest.$ac_ext <<_ACEOF
#line 19665 "configure"
#include "confdefs.h"

#include <$cf_header>
int
main ()
{

#ifdef NCURSES_VERSION

printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:19689: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:19692: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:19695: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19698: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h=$cf_header

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

		test "$cf_cv_ncurses_h" != no && break
	done

fi
echo "$as_me:19713: result: $cf_cv_ncurses_h" >&5
echo "${ECHO_T}$cf_cv_ncurses_h" >&6

if test "$cf_cv_ncurses_h" != no ; then
	cf_cv_ncurses_header=$cf_cv_ncurses_h
else

echo "$as_me:19720: checking for $cf_ncuhdr_root include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h2+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	test -n "$verbose" && echo

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/$cf_ncuhdr_root &&       cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root"
	test -d $cf_header_path/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include &&       cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/$cf_ncuhdr_root &&       cf_search="$cf_search /usr/include/$cf_ncuhdr_root"
	test -d /usr/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/include/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/$cf_ncuhdr_root &&       cf_search="$cf_search $prefix/include/$cf_ncuhdr_root"
	test -d $prefix/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $prefix/include/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include &&       cf_search="$cf_search $prefix/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/$cf_ncuhdr_root &&       cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root"
	test -d /usr/local/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/$cf_ncuhdr_root &&       cf_search="$cf_search /opt/include/$cf_ncuhdr_root"
	test -d /opt/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /opt/include/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include &&       cf_search="$cf_search /opt/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/$cf_ncuhdr_root &&       cf_search="$cf_search $HOME/include/$cf_ncuhdr_root"
	test -d $HOME/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $HOME/include/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include &&       cf_search="$cf_search $HOME/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/$cf_ncuhdr_root && cf_search="$cf_search $includedir/$cf_ncuhdr_root"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/$cf_ncuhdr_root && cf_search="$cf_search $oldincludedir/$cf_ncuhdr_root"
}

cf_search="$cf_search $cf_header_path_list"

	test -n "$verbose" && echo search path $cf_search
	cf_save2_CPPFLAGS="$CPPFLAGS"
	for cf_incdir in $cf_search
	do

if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 19860 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:19872: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:19875: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:19878: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19881: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:19898: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

		for cf_header in \
			ncurses.h \
			curses.h
		do

	cat >conftest.$ac_ext <<_ACEOF
#line 19919 "configure"
#include "confdefs.h"

#include <$cf_header>
int
main ()
{

#ifdef NCURSES_VERSION

printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:19943: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:19946: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:19949: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19952: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h2=$cf_header

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h2=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

			if test "$cf_cv_ncurses_h2" != no ; then
				cf_cv_ncurses_h2=$cf_incdir/$cf_header
				test -n "$verbose" && echo $ac_n "	... found $ac_c" 1>&6
				break
			fi
			test -n "$verbose" && echo "	... tested $cf_incdir/$cf_header" 1>&6
		done
		CPPFLAGS="$cf_save2_CPPFLAGS"
		test "$cf_cv_ncurses_h2" != no && break
	done
	test "$cf_cv_ncurses_h2" = no && { { echo "$as_me:19973: error: not found" >&5
echo "$as_me: error: not found" >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:19978: result: $cf_cv_ncurses_h2" >&5
echo "${ECHO_T}$cf_cv_ncurses_h2" >&6

	cf_1st_incdir=`echo $cf_cv_ncurses_h2 | sed -e 's%/[^/]*$%%'`
	cf_cv_ncurses_header=`basename $cf_cv_ncurses_h2`
	if test `basename $cf_1st_incdir` = $cf_ncuhdr_root ; then
		cf_cv_ncurses_header=$cf_ncuhdr_root/$cf_cv_ncurses_header
	fi

if test -n "$cf_1st_incdir" ; then
  for cf_add_incdir in $cf_1st_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 20011 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:20023: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:20026: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:20029: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20032: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:20049: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

fi

# Set definitions to allow ifdef'ing for ncurses.h

case $cf_cv_ncurses_header in # (vi
*ncurses.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_H 1
EOF

	;;
esac

case $cf_cv_ncurses_header in # (vi
ncurses/curses.h|ncurses/ncurses.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_NCURSES_H 1
EOF

	;;
ncursesw/curses.h|ncursesw/ncurses.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_NCURSES_H 1
EOF

	;;
esac

echo "$as_me:20095: checking for terminfo header" >&5
echo $ECHO_N "checking for terminfo header... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

case ${cf_cv_ncurses_header} in #(vi
*/ncurses.h|*/ncursesw.h) #(vi
	cf_term_header=`echo "$cf_cv_ncurses_header" | sed -e 's%ncurses[^.]*\.h$%term.h%'`
	;;
*)
	cf_term_header=term.h
	;;
esac

for cf_test in $cf_term_header "ncurses/term.h" "ncursesw/term.h"
do
cat >conftest.$ac_ext <<_ACEOF
#line 20113 "configure"
#include "confdefs.h"
#include <stdio.h>
#include <${cf_cv_ncurses_header:-curses.h}>
#include <$cf_test>

int
main ()
{
int x = auto_left_margin
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:20128: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:20131: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:20134: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20137: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_term_header="$cf_test"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_term_header=unknown

fi
rm -f conftest.$ac_objext conftest.$ac_ext
	test "$cf_cv_term_header" != unknown && break
done

fi
echo "$as_me:20153: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6

# Set definitions to allow ifdef'ing to accommodate subdirectories

case $cf_cv_term_header in # (vi
*term.h)

cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF

	;;
esac

case $cf_cv_term_header in # (vi
ncurses/term.h) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF

	;;
ncursesw/term.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF

	;;
esac

# some applications need this, but should check for NCURSES_VERSION

cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

echo "$as_me:20191: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then

	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header:-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
#endif
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo "$as_me:20217: \"$cf_try\"") >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  echo "$as_me:20220: \$? = $ac_status" >&5
  (exit $ac_status); }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi

else
  cat >conftest.$ac_ext <<_ACEOF
#line 20230 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
#include <stdio.h>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	${cf_cv_main_return:-return}(0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:20255: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20258: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:20260: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20263: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_ncurses_version=`cat $cf_tempfile`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
	rm -f $cf_tempfile

fi
echo "$as_me:20277: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no ||
cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

cf_nculib_root=ncurses
	# This works, except for the special case where we find gpm, but
	# ncurses is in a nonstandard location via $LIBS, and we really want
	# to link gpm.
cf_ncurses_LIBS=""
cf_ncurses_SAVE="$LIBS"
echo "$as_me:20290: checking for Gpm_Open in -lgpm" >&5
echo $ECHO_N "checking for Gpm_Open in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_Gpm_Open+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 20298 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char Gpm_Open ();
int
main ()
{
Gpm_Open ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20317: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20320: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20323: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20326: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_Gpm_Open=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_Gpm_Open=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:20337: result: $ac_cv_lib_gpm_Gpm_Open" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_Gpm_Open" >&6
if test $ac_cv_lib_gpm_Gpm_Open = yes; then
  echo "$as_me:20340: checking for initscr in -lgpm" >&5
echo $ECHO_N "checking for initscr in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 20348 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20367: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20370: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20373: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20376: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:20387: result: $ac_cv_lib_gpm_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_initscr" >&6
if test $ac_cv_lib_gpm_initscr = yes; then
  LIBS="$cf_ncurses_SAVE"
else
  cf_ncurses_LIBS="-lgpm"
fi

fi

case $host_os in #(vi
freebsd*)
	# This is only necessary if you are linking against an obsolete
	# version of ncurses (but it should do no harm, since it's static).
	if test "$cf_nculib_root" = ncurses ; then
		echo "$as_me:20402: checking for tgoto in -lmytinfo" >&5
echo $ECHO_N "checking for tgoto in -lmytinfo... $ECHO_C" >&6
if test "${ac_cv_lib_mytinfo_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lmytinfo  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 20410 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20429: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20432: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20435: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20438: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_mytinfo_tgoto=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_mytinfo_tgoto=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:20449: result: $ac_cv_lib_mytinfo_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_mytinfo_tgoto" >&6
if test $ac_cv_lib_mytinfo_tgoto = yes; then
  cf_ncurses_LIBS="-lmytinfo $cf_ncurses_LIBS"
fi

	fi
	;;
esac

LIBS="$cf_ncurses_LIBS $LIBS"

if ( test -n "$cf_cv_curses_dir" && test "$cf_cv_curses_dir" != "no" )
then
	LIBS="-l$cf_nculib_root $LIBS"
else

	eval 'cf_cv_have_lib_'$cf_nculib_root'=no'
	cf_libdir=""
	echo "$as_me:20468: checking for initscr" >&5
echo $ECHO_N "checking for initscr... $ECHO_C" >&6
if test "${ac_cv_func_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 20474 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char initscr (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_initscr) || defined (__stub___initscr)
choke me
#else
f = initscr; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20505: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20508: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20511: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20514: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:20524: result: $ac_cv_func_initscr" >&5
echo "${ECHO_T}$ac_cv_func_initscr" >&6
if test $ac_cv_func_initscr = yes; then
  eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:20531: checking for initscr in -l$cf_nculib_root" >&5
echo $ECHO_N "checking for initscr in -l$cf_nculib_root... $ECHO_C" >&6
		LIBS="-l$cf_nculib_root $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 20535 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20547: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20550: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20553: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20556: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20558: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:20565: result: no" >&5
echo "${ECHO_T}no" >&6

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/$cf_nculib_root &&       cf_search="$cf_search $cf_library_path/lib/$cf_nculib_root"
	test -d $cf_library_path/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $cf_library_path/lib/$cf_nculib_root/lib"
	test -d $cf_library_path/$cf_nculib_root/lib &&       cf_search="$cf_search $cf_library_path/$cf_nculib_root/lib"
	test -d $cf_library_path/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $cf_library_path/$cf_nculib_root/lib/$cf_nculib_root"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/$cf_nculib_root &&       cf_search="$cf_search /usr/lib/$cf_nculib_root"
	test -d /usr/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/lib/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/$cf_nculib_root &&       cf_search="$cf_search $prefix/lib/$cf_nculib_root"
	test -d $prefix/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $prefix/lib/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib &&       cf_search="$cf_search $prefix/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $prefix/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/$cf_nculib_root &&       cf_search="$cf_search /usr/local/lib/$cf_nculib_root"
	test -d /usr/local/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/local/lib/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/local/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/local/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/$cf_nculib_root &&       cf_search="$cf_search /opt/lib/$cf_nculib_root"
	test -d /opt/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /opt/lib/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib &&       cf_search="$cf_search /opt/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /opt/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/$cf_nculib_root &&       cf_search="$cf_search $HOME/lib/$cf_nculib_root"
	test -d $HOME/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $HOME/lib/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib &&       cf_search="$cf_search $HOME/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $HOME/$cf_nculib_root/lib/$cf_nculib_root"
}

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				echo "$as_me:20655: checking for -l$cf_nculib_root in $cf_libdir" >&5
echo $ECHO_N "checking for -l$cf_nculib_root in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -l$cf_nculib_root $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 20659 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20671: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20674: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20677: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20680: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20682: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:20689: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

eval 'cf_found_library=$cf_cv_have_lib_'$cf_nculib_root

if test $cf_found_library = no ; then
	{ { echo "$as_me:20704: error: Cannot link $cf_nculib_root library" >&5
echo "$as_me: error: Cannot link $cf_nculib_root library" >&2;}
   { (exit 1); exit 1; }; }
fi

fi

if test -n "$cf_ncurses_LIBS" ; then
	echo "$as_me:20712: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
echo $ECHO_N "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS... $ECHO_C" >&6
	cf_ncurses_SAVE="$LIBS"
	for p in $cf_ncurses_LIBS ; do
		q=`echo $LIBS | sed -e "s%$p %%" -e "s%$p$%%"`
		if test "$q" != "$LIBS" ; then
			LIBS="$q"
		fi
	done
	cat >conftest.$ac_ext <<_ACEOF
#line 20722 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr(); mousemask(0,0); tgoto((char *)0, 0, 0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20734: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20737: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20740: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20743: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20745: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:20750: result: no" >&5
echo "${ECHO_T}no" >&6
		 LIBS="$cf_ncurses_SAVE"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi

cf_nculib_ROOT=`echo "HAVE_LIB$cf_nculib_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<EOF
#define $cf_nculib_ROOT 1
EOF

fi

	;;
ncursesw)

echo "$as_me:20768: checking for multibyte character support" >&5
echo $ECHO_N "checking for multibyte character support... $ECHO_C" >&6
if test "${cf_cv_utf8_lib+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_save_LIBS="$LIBS"
	cat >conftest.$ac_ext <<_ACEOF
#line 20776 "configure"
#include "confdefs.h"

#include <stdlib.h>
int
main ()
{
putwc(0,0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20789: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20792: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20795: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20798: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_utf8_lib=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_utf8=
cf_cv_library_path_utf8=

echo "${as_me:-configure}:20810: testing Starting FIND_LINKAGE(utf8,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 20815 "configure"
#include "confdefs.h"

#include <libutf8.h>
int
main ()
{
putwc(0,0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20828: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20831: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20834: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20837: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_utf8=yes
	cf_cv_header_path_utf8=/usr/include
	cf_cv_library_path_utf8=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lutf8  $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 20851 "configure"
#include "confdefs.h"

#include <libutf8.h>
int
main ()
{
putwc(0,0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20864: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20867: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20870: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20873: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_utf8=yes
	cf_cv_header_path_utf8=/usr/include
	cf_cv_library_path_utf8=/usr/lib
	cf_cv_library_file_utf8="-lutf8"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_utf8=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for utf8 library" 1>&6

echo "${as_me:-configure}:20890: testing find linkage for utf8 library ..." 1>&5

echo "${as_me:-configure}:20892: testing Searching for headers in FIND_LINKAGE(utf8,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/utf8 &&       cf_search="$cf_search $cf_header_path/include/utf8"
	test -d $cf_header_path/include/utf8/include &&    cf_search="$cf_search $cf_header_path/include/utf8/include"
	test -d $cf_header_path/utf8/include &&       cf_search="$cf_search $cf_header_path/utf8/include"
	test -d $cf_header_path/utf8/include/utf8 &&    cf_search="$cf_search $cf_header_path/utf8/include/utf8"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/utf8 &&       cf_search="$cf_search /usr/include/utf8"
	test -d /usr/include/utf8/include &&    cf_search="$cf_search /usr/include/utf8/include"
	test -d /usr/utf8/include &&       cf_search="$cf_search /usr/utf8/include"
	test -d /usr/utf8/include/utf8 &&    cf_search="$cf_search /usr/utf8/include/utf8"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/utf8 &&       cf_search="$cf_search $prefix/include/utf8"
	test -d $prefix/include/utf8/include &&    cf_search="$cf_search $prefix/include/utf8/include"
	test -d $prefix/utf8/include &&       cf_search="$cf_search $prefix/utf8/include"
	test -d $prefix/utf8/include/utf8 &&    cf_search="$cf_search $prefix/utf8/include/utf8"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/utf8 &&       cf_search="$cf_search /usr/local/include/utf8"
	test -d /usr/local/include/utf8/include &&    cf_search="$cf_search /usr/local/include/utf8/include"
	test -d /usr/local/utf8/include &&       cf_search="$cf_search /usr/local/utf8/include"
	test -d /usr/local/utf8/include/utf8 &&    cf_search="$cf_search /usr/local/utf8/include/utf8"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/utf8 &&       cf_search="$cf_search /opt/include/utf8"
	test -d /opt/include/utf8/include &&    cf_search="$cf_search /opt/include/utf8/include"
	test -d /opt/utf8/include &&       cf_search="$cf_search /opt/utf8/include"
	test -d /opt/utf8/include/utf8 &&    cf_search="$cf_search /opt/utf8/include/utf8"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/utf8 &&       cf_search="$cf_search $HOME/include/utf8"
	test -d $HOME/include/utf8/include &&    cf_search="$cf_search $HOME/include/utf8/include"
	test -d $HOME/utf8/include &&       cf_search="$cf_search $HOME/utf8/include"
	test -d $HOME/utf8/include/utf8 &&    cf_search="$cf_search $HOME/utf8/include/utf8"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/utf8 && cf_search="$cf_search $includedir/utf8"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/utf8 && cf_search="$cf_search $oldincludedir/utf8"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_utf8 in $cf_search
    do
      if test -d $cf_cv_header_path_utf8 ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_utf8" 1>&6

echo "${as_me:-configure}:21005: testing ... testing $cf_cv_header_path_utf8 ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_utf8"
        cat >conftest.$ac_ext <<_ACEOF
#line 21009 "configure"
#include "confdefs.h"

#include <libutf8.h>
int
main ()
{
putwc(0,0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:21022: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:21025: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:21028: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21031: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found utf8 headers in $cf_cv_header_path_utf8" 1>&6

echo "${as_me:-configure}:21036: testing ... found utf8 headers in $cf_cv_header_path_utf8 ..." 1>&5

            cf_cv_find_linkage_utf8=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_utf8" = maybe ; then

echo "${as_me:-configure}:21054: testing Searching for utf8 library in FIND_LINKAGE(utf8,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_utf8" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/utf8 &&       cf_search="$cf_search $cf_library_path/lib/utf8"
	test -d $cf_library_path/lib/utf8/lib &&    cf_search="$cf_search $cf_library_path/lib/utf8/lib"
	test -d $cf_library_path/utf8/lib &&       cf_search="$cf_search $cf_library_path/utf8/lib"
	test -d $cf_library_path/utf8/lib/utf8 &&    cf_search="$cf_search $cf_library_path/utf8/lib/utf8"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/utf8 &&       cf_search="$cf_search /usr/lib/utf8"
	test -d /usr/lib/utf8/lib &&    cf_search="$cf_search /usr/lib/utf8/lib"
	test -d /usr/utf8/lib &&       cf_search="$cf_search /usr/utf8/lib"
	test -d /usr/utf8/lib/utf8 &&    cf_search="$cf_search /usr/utf8/lib/utf8"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/utf8 &&       cf_search="$cf_search $prefix/lib/utf8"
	test -d $prefix/lib/utf8/lib &&    cf_search="$cf_search $prefix/lib/utf8/lib"
	test -d $prefix/utf8/lib &&       cf_search="$cf_search $prefix/utf8/lib"
	test -d $prefix/utf8/lib/utf8 &&    cf_search="$cf_search $prefix/utf8/lib/utf8"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/utf8 &&       cf_search="$cf_search /usr/local/lib/utf8"
	test -d /usr/local/lib/utf8/lib &&    cf_search="$cf_search /usr/local/lib/utf8/lib"
	test -d /usr/local/utf8/lib &&       cf_search="$cf_search /usr/local/utf8/lib"
	test -d /usr/local/utf8/lib/utf8 &&    cf_search="$cf_search /usr/local/utf8/lib/utf8"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/utf8 &&       cf_search="$cf_search /opt/lib/utf8"
	test -d /opt/lib/utf8/lib &&    cf_search="$cf_search /opt/lib/utf8/lib"
	test -d /opt/utf8/lib &&       cf_search="$cf_search /opt/utf8/lib"
	test -d /opt/utf8/lib/utf8 &&    cf_search="$cf_search /opt/utf8/lib/utf8"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/utf8 &&       cf_search="$cf_search $HOME/lib/utf8"
	test -d $HOME/lib/utf8/lib &&    cf_search="$cf_search $HOME/lib/utf8/lib"
	test -d $HOME/utf8/lib &&       cf_search="$cf_search $HOME/utf8/lib"
	test -d $HOME/utf8/lib/utf8 &&    cf_search="$cf_search $HOME/utf8/lib/utf8"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_utf8 in $cf_search
        do
          if test -d $cf_cv_library_path_utf8 ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_utf8" 1>&6

echo "${as_me:-configure}:21151: testing ... testing $cf_cv_library_path_utf8 ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lutf8  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_utf8"
            cat >conftest.$ac_ext <<_ACEOF
#line 21157 "configure"
#include "confdefs.h"

#include <libutf8.h>
int
main ()
{
putwc(0,0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:21170: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:21173: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:21176: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21179: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found utf8 library in $cf_cv_library_path_utf8" 1>&6

echo "${as_me:-configure}:21184: testing ... found utf8 library in $cf_cv_library_path_utf8 ..." 1>&5

                cf_cv_find_linkage_utf8=yes
                cf_cv_library_file_utf8="-lutf8"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_utf8=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_utf8" = yes ; then
cf_cv_utf8_lib=add-on
else
cf_cv_utf8_lib=no
fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:21226: result: $cf_cv_utf8_lib" >&5
echo "${ECHO_T}$cf_cv_utf8_lib" >&6

# HAVE_LIBUTF8_H is used by ncurses if curses.h is shared between
# ncurses/ncursesw:
if test "$cf_cv_utf8_lib" = "add-on" ; then

cat >>confdefs.h <<\EOF
#define HAVE_LIBUTF8_H 1
EOF

if test -n "$cf_cv_header_path_utf8" ; then
  for cf_add_incdir in $cf_cv_header_path_utf8
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 21261 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:21273: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:21276: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:21279: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21282: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:21299: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

if test -n "$cf_cv_library_path_utf8" ; then
  for cf_add_libdir in $cf_cv_library_path_utf8
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:21333: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	LIBS="$cf_cv_library_file_utf8 $LIBS"
fi

cf_ncuconfig_root=ncursesw

echo "Looking for ${cf_ncuconfig_root}-config"

if test -n "$ac_tool_prefix"; then
  for ac_prog in ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
echo "$as_me:21353: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_NCURSES_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$NCURSES_CONFIG"; then
  ac_cv_prog_NCURSES_CONFIG="$NCURSES_CONFIG" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_NCURSES_CONFIG="$ac_tool_prefix$ac_prog"
echo "$as_me:21368: found $ac_dir/$ac_word" >&5
break
done

fi
fi
NCURSES_CONFIG=$ac_cv_prog_NCURSES_CONFIG
if test -n "$NCURSES_CONFIG"; then
  echo "$as_me:21376: result: $NCURSES_CONFIG" >&5
echo "${ECHO_T}$NCURSES_CONFIG" >&6
else
  echo "$as_me:21379: result: no" >&5
echo "${ECHO_T}no" >&6
fi

    test -n "$NCURSES_CONFIG" && break
  done
fi
if test -z "$NCURSES_CONFIG"; then
  ac_ct_NCURSES_CONFIG=$NCURSES_CONFIG
  for ac_prog in ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:21392: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_NCURSES_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_NCURSES_CONFIG"; then
  ac_cv_prog_ac_ct_NCURSES_CONFIG="$ac_ct_NCURSES_CONFIG" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_NCURSES_CONFIG="$ac_prog"
echo "$as_me:21407: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ac_ct_NCURSES_CONFIG=$ac_cv_prog_ac_ct_NCURSES_CONFIG
if test -n "$ac_ct_NCURSES_CONFIG"; then
  echo "$as_me:21415: result: $ac_ct_NCURSES_CONFIG" >&5
echo "${ECHO_T}$ac_ct_NCURSES_CONFIG" >&6
else
  echo "$as_me:21418: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ac_ct_NCURSES_CONFIG" && break
done
test -n "$ac_ct_NCURSES_CONFIG" || ac_ct_NCURSES_CONFIG="none"

  NCURSES_CONFIG=$ac_ct_NCURSES_CONFIG
fi

if test "$NCURSES_CONFIG" != none ; then

CPPFLAGS="$CPPFLAGS `$NCURSES_CONFIG --cflags`"
LIBS="`$NCURSES_CONFIG --libs` $LIBS"

# even with config script, some packages use no-override for curses.h

echo "$as_me:21436: checking if we have identified curses headers" >&5
echo $ECHO_N "checking if we have identified curses headers... $ECHO_C" >&6
if test "${cf_cv_ncurses_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_ncurses_header=none
for cf_header in  \
    ncursesw/ncurses.h \
	ncursesw/curses.h \
	ncurses.h \
	curses.h
do
cat >conftest.$ac_ext <<_ACEOF
#line 21450 "configure"
#include "confdefs.h"
#include <${cf_header}>
int
main ()
{
initscr(); tgoto("?", 0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:21462: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:21465: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:21468: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21471: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_header=$cf_header; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:21482: result: $cf_cv_ncurses_header" >&5
echo "${ECHO_T}$cf_cv_ncurses_header" >&6

if test "$cf_cv_ncurses_header" = none ; then
	{ { echo "$as_me:21486: error: No curses header-files found" >&5
echo "$as_me: error: No curses header-files found" >&2;}
   { (exit 1); exit 1; }; }
fi

# cheat, to get the right #define's for HAVE_NCURSES_H, etc.

for ac_header in $cf_cv_ncurses_header
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:21496: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 21502 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:21506: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:21512: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:21531: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

cf_nculib_ROOT=`echo "HAVE_LIB$cf_ncuconfig_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<EOF
#define $cf_nculib_ROOT 1
EOF

cf_cv_ncurses_version=`$NCURSES_CONFIG --version`

else

cf_ncuhdr_root=ncursesw

test -n "$cf_cv_curses_dir" && \
test "$cf_cv_curses_dir" != "no" && { \

if test -n "$cf_cv_curses_dir/include/$cf_ncuhdr_root" ; then
  for cf_add_incdir in $cf_cv_curses_dir/include/$cf_ncuhdr_root
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 21584 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:21596: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:21599: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:21602: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21605: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:21622: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

}

echo "$as_me:21639: checking for $cf_ncuhdr_root header in include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root header in include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_header_list="$cf_ncuhdr_root/curses.h $cf_ncuhdr_root/ncurses.h"
	( test "$cf_ncuhdr_root" = ncurses || test "$cf_ncuhdr_root" = ncursesw ) && cf_header_list="$cf_header_list curses.h ncurses.h"
	for cf_header in $cf_header_list
	do

	cat >conftest.$ac_ext <<_ACEOF
#line 21651 "configure"
#include "confdefs.h"

#define _XOPEN_SOURCE_EXTENDED
#undef  HAVE_LIBUTF8_H	/* in case we used CF_UTF8_LIB */
#define HAVE_LIBUTF8_H	/* to force ncurses' header file to use cchar_t */

#include <$cf_header>
int
main ()
{

#ifdef NCURSES_VERSION

#ifndef WACS_BSSB
	make an error
#endif

printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:21683: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:21686: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:21689: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21692: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h=$cf_header

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

		test "$cf_cv_ncurses_h" != no && break
	done

fi
echo "$as_me:21707: result: $cf_cv_ncurses_h" >&5
echo "${ECHO_T}$cf_cv_ncurses_h" >&6

if test "$cf_cv_ncurses_h" != no ; then
	cf_cv_ncurses_header=$cf_cv_ncurses_h
else

echo "$as_me:21714: checking for $cf_ncuhdr_root include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h2+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	test -n "$verbose" && echo

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/$cf_ncuhdr_root &&       cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root"
	test -d $cf_header_path/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include &&       cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/$cf_ncuhdr_root &&       cf_search="$cf_search /usr/include/$cf_ncuhdr_root"
	test -d /usr/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/include/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/$cf_ncuhdr_root &&       cf_search="$cf_search $prefix/include/$cf_ncuhdr_root"
	test -d $prefix/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $prefix/include/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include &&       cf_search="$cf_search $prefix/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/$cf_ncuhdr_root &&       cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root"
	test -d /usr/local/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/$cf_ncuhdr_root &&       cf_search="$cf_search /opt/include/$cf_ncuhdr_root"
	test -d /opt/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /opt/include/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include &&       cf_search="$cf_search /opt/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/$cf_ncuhdr_root &&       cf_search="$cf_search $HOME/include/$cf_ncuhdr_root"
	test -d $HOME/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $HOME/include/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include &&       cf_search="$cf_search $HOME/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/$cf_ncuhdr_root && cf_search="$cf_search $includedir/$cf_ncuhdr_root"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/$cf_ncuhdr_root && cf_search="$cf_search $oldincludedir/$cf_ncuhdr_root"
}

cf_search="$cf_search $cf_header_path_list"

	test -n "$verbose" && echo search path $cf_search
	cf_save2_CPPFLAGS="$CPPFLAGS"
	for cf_incdir in $cf_search
	do

if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 21854 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:21866: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:21869: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:21872: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21875: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:21892: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

		for cf_header in \
			ncurses.h \
			curses.h
		do

	cat >conftest.$ac_ext <<_ACEOF
#line 21913 "configure"
#include "confdefs.h"

#include <$cf_header>
int
main ()
{

#ifdef NCURSES_VERSION

printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:21937: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:21940: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:21943: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:21946: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h2=$cf_header

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h2=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

			if test "$cf_cv_ncurses_h2" != no ; then
				cf_cv_ncurses_h2=$cf_incdir/$cf_header
				test -n "$verbose" && echo $ac_n "	... found $ac_c" 1>&6
				break
			fi
			test -n "$verbose" && echo "	... tested $cf_incdir/$cf_header" 1>&6
		done
		CPPFLAGS="$cf_save2_CPPFLAGS"
		test "$cf_cv_ncurses_h2" != no && break
	done
	test "$cf_cv_ncurses_h2" = no && { { echo "$as_me:21967: error: not found" >&5
echo "$as_me: error: not found" >&2;}
   { (exit 1); exit 1; }; }

fi
echo "$as_me:21972: result: $cf_cv_ncurses_h2" >&5
echo "${ECHO_T}$cf_cv_ncurses_h2" >&6

	cf_1st_incdir=`echo $cf_cv_ncurses_h2 | sed -e 's%/[^/]*$%%'`
	cf_cv_ncurses_header=`basename $cf_cv_ncurses_h2`
	if test `basename $cf_1st_incdir` = $cf_ncuhdr_root ; then
		cf_cv_ncurses_header=$cf_ncuhdr_root/$cf_cv_ncurses_header
	fi

if test -n "$cf_1st_incdir" ; then
  for cf_add_incdir in $cf_1st_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 22005 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:22017: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:22020: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:22023: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22026: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:22043: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

fi

# Set definitions to allow ifdef'ing for ncurses.h

case $cf_cv_ncurses_header in # (vi
*ncurses.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_H 1
EOF

	;;
esac

case $cf_cv_ncurses_header in # (vi
ncurses/curses.h|ncurses/ncurses.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_NCURSES_H 1
EOF

	;;
ncursesw/curses.h|ncursesw/ncurses.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_NCURSES_H 1
EOF

	;;
esac

echo "$as_me:22089: checking for terminfo header" >&5
echo $ECHO_N "checking for terminfo header... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

case ${cf_cv_ncurses_header} in #(vi
*/ncurses.h|*/ncursesw.h) #(vi
	cf_term_header=`echo "$cf_cv_ncurses_header" | sed -e 's%ncurses[^.]*\.h$%term.h%'`
	;;
*)
	cf_term_header=term.h
	;;
esac

for cf_test in $cf_term_header "ncurses/term.h" "ncursesw/term.h"
do
cat >conftest.$ac_ext <<_ACEOF
#line 22107 "configure"
#include "confdefs.h"
#include <stdio.h>
#include <${cf_cv_ncurses_header:-curses.h}>
#include <$cf_test>

int
main ()
{
int x = auto_left_margin
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:22122: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:22125: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:22128: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22131: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_term_header="$cf_test"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_term_header=unknown

fi
rm -f conftest.$ac_objext conftest.$ac_ext
	test "$cf_cv_term_header" != unknown && break
done

fi
echo "$as_me:22147: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6

# Set definitions to allow ifdef'ing to accommodate subdirectories

case $cf_cv_term_header in # (vi
*term.h)

cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF

	;;
esac

case $cf_cv_term_header in # (vi
ncurses/term.h) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF

	;;
ncursesw/term.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF

	;;
esac

# some applications need this, but should check for NCURSES_VERSION

cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

echo "$as_me:22185: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then

	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header:-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
#endif
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo "$as_me:22211: \"$cf_try\"") >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  echo "$as_me:22214: \$? = $ac_status" >&5
  (exit $ac_status); }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi

else
  cat >conftest.$ac_ext <<_ACEOF
#line 22224 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
#include <stdio.h>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	${cf_cv_main_return:-return}(0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:22249: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22252: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:22254: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22257: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_ncurses_version=`cat $cf_tempfile`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
	rm -f $cf_tempfile

fi
echo "$as_me:22271: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no ||
cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

cf_nculib_root=ncursesw
	# This works, except for the special case where we find gpm, but
	# ncurses is in a nonstandard location via $LIBS, and we really want
	# to link gpm.
cf_ncurses_LIBS=""
cf_ncurses_SAVE="$LIBS"
echo "$as_me:22284: checking for Gpm_Open in -lgpm" >&5
echo $ECHO_N "checking for Gpm_Open in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_Gpm_Open+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 22292 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char Gpm_Open ();
int
main ()
{
Gpm_Open ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:22311: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22314: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:22317: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22320: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_Gpm_Open=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_Gpm_Open=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:22331: result: $ac_cv_lib_gpm_Gpm_Open" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_Gpm_Open" >&6
if test $ac_cv_lib_gpm_Gpm_Open = yes; then
  echo "$as_me:22334: checking for initscr in -lgpm" >&5
echo $ECHO_N "checking for initscr in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 22342 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:22361: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22364: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:22367: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22370: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:22381: result: $ac_cv_lib_gpm_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_initscr" >&6
if test $ac_cv_lib_gpm_initscr = yes; then
  LIBS="$cf_ncurses_SAVE"
else
  cf_ncurses_LIBS="-lgpm"
fi

fi

case $host_os in #(vi
freebsd*)
	# This is only necessary if you are linking against an obsolete
	# version of ncurses (but it should do no harm, since it's static).
	if test "$cf_nculib_root" = ncurses ; then
		echo "$as_me:22396: checking for tgoto in -lmytinfo" >&5
echo $ECHO_N "checking for tgoto in -lmytinfo... $ECHO_C" >&6
if test "${ac_cv_lib_mytinfo_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lmytinfo  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 22404 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:22423: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22426: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:22429: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22432: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_mytinfo_tgoto=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_mytinfo_tgoto=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:22443: result: $ac_cv_lib_mytinfo_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_mytinfo_tgoto" >&6
if test $ac_cv_lib_mytinfo_tgoto = yes; then
  cf_ncurses_LIBS="-lmytinfo $cf_ncurses_LIBS"
fi

	fi
	;;
esac

LIBS="$cf_ncurses_LIBS $LIBS"

if ( test -n "$cf_cv_curses_dir" && test "$cf_cv_curses_dir" != "no" )
then
	LIBS="-l$cf_nculib_root $LIBS"
else

	eval 'cf_cv_have_lib_'$cf_nculib_root'=no'
	cf_libdir=""
	echo "$as_me:22462: checking for initscr" >&5
echo $ECHO_N "checking for initscr... $ECHO_C" >&6
if test "${ac_cv_func_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 22468 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char initscr (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_initscr) || defined (__stub___initscr)
choke me
#else
f = initscr; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:22499: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22502: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:22505: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22508: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:22518: result: $ac_cv_func_initscr" >&5
echo "${ECHO_T}$ac_cv_func_initscr" >&6
if test $ac_cv_func_initscr = yes; then
  eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:22525: checking for initscr in -l$cf_nculib_root" >&5
echo $ECHO_N "checking for initscr in -l$cf_nculib_root... $ECHO_C" >&6
		LIBS="-l$cf_nculib_root $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 22529 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:22541: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22544: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:22547: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22550: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:22552: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:22559: result: no" >&5
echo "${ECHO_T}no" >&6

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/$cf_nculib_root &&       cf_search="$cf_search $cf_library_path/lib/$cf_nculib_root"
	test -d $cf_library_path/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $cf_library_path/lib/$cf_nculib_root/lib"
	test -d $cf_library_path/$cf_nculib_root/lib &&       cf_search="$cf_search $cf_library_path/$cf_nculib_root/lib"
	test -d $cf_library_path/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $cf_library_path/$cf_nculib_root/lib/$cf_nculib_root"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/$cf_nculib_root &&       cf_search="$cf_search /usr/lib/$cf_nculib_root"
	test -d /usr/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/lib/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/$cf_nculib_root &&       cf_search="$cf_search $prefix/lib/$cf_nculib_root"
	test -d $prefix/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $prefix/lib/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib &&       cf_search="$cf_search $prefix/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $prefix/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/$cf_nculib_root &&       cf_search="$cf_search /usr/local/lib/$cf_nculib_root"
	test -d /usr/local/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/local/lib/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/local/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/local/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/$cf_nculib_root &&       cf_search="$cf_search /opt/lib/$cf_nculib_root"
	test -d /opt/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /opt/lib/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib &&       cf_search="$cf_search /opt/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /opt/$cf_nculib_root/lib/$cf_nculib_root"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/$cf_nculib_root &&       cf_search="$cf_search $HOME/lib/$cf_nculib_root"
	test -d $HOME/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $HOME/lib/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib &&       cf_search="$cf_search $HOME/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $HOME/$cf_nculib_root/lib/$cf_nculib_root"
}

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				echo "$as_me:22649: checking for -l$cf_nculib_root in $cf_libdir" >&5
echo $ECHO_N "checking for -l$cf_nculib_root in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -l$cf_nculib_root $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 22653 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:22665: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22668: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:22671: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22674: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:22676: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:22683: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

eval 'cf_found_library=$cf_cv_have_lib_'$cf_nculib_root

if test $cf_found_library = no ; then
	{ { echo "$as_me:22698: error: Cannot link $cf_nculib_root library" >&5
echo "$as_me: error: Cannot link $cf_nculib_root library" >&2;}
   { (exit 1); exit 1; }; }
fi

fi

if test -n "$cf_ncurses_LIBS" ; then
	echo "$as_me:22706: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
echo $ECHO_N "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS... $ECHO_C" >&6
	cf_ncurses_SAVE="$LIBS"
	for p in $cf_ncurses_LIBS ; do
		q=`echo $LIBS | sed -e "s%$p %%" -e "s%$p$%%"`
		if test "$q" != "$LIBS" ; then
			LIBS="$q"
		fi
	done
	cat >conftest.$ac_ext <<_ACEOF
#line 22716 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
initscr(); mousemask(0,0); tgoto((char *)0, 0, 0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:22728: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:22731: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:22734: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22737: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:22739: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:22744: result: no" >&5
echo "${ECHO_T}no" >&6
		 LIBS="$cf_ncurses_SAVE"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi

cf_nculib_ROOT=`echo "HAVE_LIB$cf_nculib_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<EOF
#define $cf_nculib_ROOT 1
EOF

fi

	cf_wide_curses=yes
	;;
pdcurses)
	case $host_os in
	mingw*)
		cf_cv_ncurses_header=curses.h
		;;
	*) #(vi
		cf_cv_ncurses_header=xcurses.h
		# do this last, since it changes definition of main: CF_PDCURSES_X11
		;;
	esac
	;;
slang)

echo "$as_me:22774: checking for slang header file" >&5
echo $ECHO_N "checking for slang header file... $ECHO_C" >&6
if test "${cf_cv_slang_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_slang_header=no
	cat >conftest.$ac_ext <<_ACEOF
#line 22782 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
printf("%s\n", SLANG_VERSION)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:22794: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:22797: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:22800: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22803: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_header=predefined
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/slang &&       cf_search="$cf_search $cf_header_path/include/slang"
	test -d $cf_header_path/include/slang/include &&    cf_search="$cf_search $cf_header_path/include/slang/include"
	test -d $cf_header_path/slang/include &&       cf_search="$cf_search $cf_header_path/slang/include"
	test -d $cf_header_path/slang/include/slang &&    cf_search="$cf_search $cf_header_path/slang/include/slang"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/slang &&       cf_search="$cf_search /usr/include/slang"
	test -d /usr/include/slang/include &&    cf_search="$cf_search /usr/include/slang/include"
	test -d /usr/slang/include &&       cf_search="$cf_search /usr/slang/include"
	test -d /usr/slang/include/slang &&    cf_search="$cf_search /usr/slang/include/slang"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/slang &&       cf_search="$cf_search $prefix/include/slang"
	test -d $prefix/include/slang/include &&    cf_search="$cf_search $prefix/include/slang/include"
	test -d $prefix/slang/include &&       cf_search="$cf_search $prefix/slang/include"
	test -d $prefix/slang/include/slang &&    cf_search="$cf_search $prefix/slang/include/slang"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/slang &&       cf_search="$cf_search /usr/local/include/slang"
	test -d /usr/local/include/slang/include &&    cf_search="$cf_search /usr/local/include/slang/include"
	test -d /usr/local/slang/include &&       cf_search="$cf_search /usr/local/slang/include"
	test -d /usr/local/slang/include/slang &&    cf_search="$cf_search /usr/local/slang/include/slang"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/slang &&       cf_search="$cf_search /opt/include/slang"
	test -d /opt/include/slang/include &&    cf_search="$cf_search /opt/include/slang/include"
	test -d /opt/slang/include &&       cf_search="$cf_search /opt/slang/include"
	test -d /opt/slang/include/slang &&    cf_search="$cf_search /opt/slang/include/slang"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/slang &&       cf_search="$cf_search $HOME/include/slang"
	test -d $HOME/include/slang/include &&    cf_search="$cf_search $HOME/include/slang/include"
	test -d $HOME/slang/include &&       cf_search="$cf_search $HOME/slang/include"
	test -d $HOME/slang/include/slang &&    cf_search="$cf_search $HOME/slang/include/slang"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/slang && cf_search="$cf_search $includedir/slang"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/slang && cf_search="$cf_search $oldincludedir/slang"
}

cf_search="$cf_search $cf_header_path_list"

	for cf_incdir in $cf_search
	do
		for cf_header in \
			slang.h
		do
			echo trying $cf_incdir/$cf_header 1>&5
			if egrep "SLANG_VERSION" $cf_incdir/$cf_header 1>&5 2>&1; then
				cf_cv_slang_header=$cf_incdir/$cf_header
				break
			fi
		done
		test "$cf_cv_slang_header" != no && break
	done

fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:22930: result: $cf_cv_slang_header" >&5
echo "${ECHO_T}$cf_cv_slang_header" >&6

if test "x$cf_cv_slang_header" != xno
then

cat >>confdefs.h <<\EOF
#define USE_SLANG 1
EOF

	cf_incdir=`echo $cf_cv_slang_header | sed -e 's%/[^/]*$%%'`

	case $cf_cv_slang_header in # (vi
	predefined) # (vi
		;;
	*)

if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 22971 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:22983: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:22986: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:22989: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:22992: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:23009: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

		;;
	esac
fi

if test "x$cf_cv_slang_header" != xno
then

cf_slang_LIBS1="$LIBS"

if test "${cf_cv_termlib+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_termlib=none
cat >conftest.$ac_ext <<_ACEOF
#line 23039 "configure"
#include "confdefs.h"

int
main ()
{
char *x=(char*)tgoto("",0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23051: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23054: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23057: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23060: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >conftest.$ac_ext <<_ACEOF
#line 23063 "configure"
#include "confdefs.h"

int
main ()
{
int x=tigetstr("")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23075: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23078: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23081: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23084: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_termlib=terminfo
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_termlib=termcap
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	test -n "$verbose" && echo "	using functions in predefined $cf_cv_termlib LIBS" 1>&6

echo "${as_me:-configure}:23095: testing using functions in predefined $cf_cv_termlib LIBS ..." 1>&5

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

if test "$cf_cv_termlib" = none; then
	# FreeBSD's linker gives bogus results for AC_CHECK_LIB, saying that
	# tgetstr lives in -lcurses when it is only an unsatisfied extern.
	cf_save_LIBS="$LIBS"
	for cf_lib in tinfo curses ncurses termlib termcap
	do
		LIBS="-l$cf_lib $cf_save_LIBS"
		for cf_func in tigetstr tgetstr
		do
			echo "$as_me:23110: checking for $cf_func in -l$cf_lib" >&5
echo $ECHO_N "checking for $cf_func in -l$cf_lib... $ECHO_C" >&6
			cat >conftest.$ac_ext <<_ACEOF
#line 23113 "configure"
#include "confdefs.h"

int
main ()
{
int x=$cf_func("")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23125: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23128: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23131: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23134: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			echo "$as_me:23143: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
			if test "$cf_result" = yes ; then
				if test "$cf_func" = tigetstr ; then
					cf_cv_termlib=terminfo
				else
					cf_cv_termlib=termcap
				fi
				break
			fi
		done
		test "$cf_result" = yes && break
	done
	test "$cf_result" = no && LIBS="$cf_save_LIBS"
fi
if test "$cf_cv_termlib" = none; then
	# allow curses library for broken AIX system.
	echo "$as_me:23160: checking for initscr in -lcurses" >&5
echo $ECHO_N "checking for initscr in -lcurses... $ECHO_C" >&6
if test "${ac_cv_lib_curses_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lcurses  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 23168 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23187: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23190: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23193: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23196: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_curses_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_curses_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:23207: result: $ac_cv_lib_curses_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_curses_initscr" >&6
if test $ac_cv_lib_curses_initscr = yes; then
  LIBS="-lcurses $LIBS"
fi

	echo "$as_me:23213: checking for tgoto in -ltermcap" >&5
echo $ECHO_N "checking for tgoto in -ltermcap... $ECHO_C" >&6
if test "${ac_cv_lib_termcap_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ltermcap  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 23221 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23240: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23243: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23246: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23249: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_termcap_tgoto=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_termcap_tgoto=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:23260: result: $ac_cv_lib_termcap_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_termcap_tgoto" >&6
if test $ac_cv_lib_termcap_tgoto = yes; then
  LIBS="-ltermcap $LIBS" cf_cv_termlib=termcap
fi

fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
if test "$cf_cv_termlib" = none; then
	{ echo "$as_me:23271: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&5
echo "$as_me: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&2;}
fi

fi

cf_slang_LIBS2="$LIBS"
echo "$as_me:23278: checking for acos" >&5
echo $ECHO_N "checking for acos... $ECHO_C" >&6
if test "${ac_cv_func_acos+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 23284 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char acos (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char acos ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_acos) || defined (__stub___acos)
choke me
#else
f = acos; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23315: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23318: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23321: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23324: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_acos=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_acos=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:23334: result: $ac_cv_func_acos" >&5
echo "${ECHO_T}$ac_cv_func_acos" >&6
if test $ac_cv_func_acos = yes; then
  :
else

echo "$as_me:23340: checking for acos in -lm" >&5
echo $ECHO_N "checking for acos in -lm... $ECHO_C" >&6
if test "${ac_cv_lib_m_acos+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lm $LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 23348 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char acos ();
int
main ()
{
acos ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23367: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23370: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23373: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23376: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_m_acos=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_m_acos=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:23387: result: $ac_cv_lib_m_acos" >&5
echo "${ECHO_T}$ac_cv_lib_m_acos" >&6
if test $ac_cv_lib_m_acos = yes; then

cf_tr_func=`echo "acos" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_acos=yes
	if test "$cf_used_lib_m" != yes ; then cf_used_lib_m=yes; LIBS="-lm $LIBS"; fi
else

	ac_cv_func_acos=unknown
	unset ac_cv_func_acos 2>/dev/null

fi

fi

case $host_os in #(vi
os2*)

	eval 'cf_cv_have_lib_'video'=no'
	cf_libdir=""
	echo "$as_me:23413: checking for v_init" >&5
echo $ECHO_N "checking for v_init... $ECHO_C" >&6
if test "${ac_cv_func_v_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 23419 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char v_init (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char v_init ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_v_init) || defined (__stub___v_init)
choke me
#else
f = v_init; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23450: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23453: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23456: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23459: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_v_init=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_v_init=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:23469: result: $ac_cv_func_v_init" >&5
echo "${ECHO_T}$ac_cv_func_v_init" >&6
if test $ac_cv_func_v_init = yes; then
  eval 'cf_cv_have_lib_'video'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:23476: checking for v_init in -lvideo" >&5
echo $ECHO_N "checking for v_init in -lvideo... $ECHO_C" >&6
		LIBS="-lvideo $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 23480 "configure"
#include "confdefs.h"
#include <sys/video.h>
int
main ()
{
v_init()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23492: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23495: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23498: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23501: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:23503: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'video'=yes'

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:23510: result: no" >&5
echo "${ECHO_T}no" >&6

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/video &&       cf_search="$cf_search $cf_library_path/lib/video"
	test -d $cf_library_path/lib/video/lib &&    cf_search="$cf_search $cf_library_path/lib/video/lib"
	test -d $cf_library_path/video/lib &&       cf_search="$cf_search $cf_library_path/video/lib"
	test -d $cf_library_path/video/lib/video &&    cf_search="$cf_search $cf_library_path/video/lib/video"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/video &&       cf_search="$cf_search /usr/lib/video"
	test -d /usr/lib/video/lib &&    cf_search="$cf_search /usr/lib/video/lib"
	test -d /usr/video/lib &&       cf_search="$cf_search /usr/video/lib"
	test -d /usr/video/lib/video &&    cf_search="$cf_search /usr/video/lib/video"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/video &&       cf_search="$cf_search $prefix/lib/video"
	test -d $prefix/lib/video/lib &&    cf_search="$cf_search $prefix/lib/video/lib"
	test -d $prefix/video/lib &&       cf_search="$cf_search $prefix/video/lib"
	test -d $prefix/video/lib/video &&    cf_search="$cf_search $prefix/video/lib/video"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/video &&       cf_search="$cf_search /usr/local/lib/video"
	test -d /usr/local/lib/video/lib &&    cf_search="$cf_search /usr/local/lib/video/lib"
	test -d /usr/local/video/lib &&       cf_search="$cf_search /usr/local/video/lib"
	test -d /usr/local/video/lib/video &&    cf_search="$cf_search /usr/local/video/lib/video"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/video &&       cf_search="$cf_search /opt/lib/video"
	test -d /opt/lib/video/lib &&    cf_search="$cf_search /opt/lib/video/lib"
	test -d /opt/video/lib &&       cf_search="$cf_search /opt/video/lib"
	test -d /opt/video/lib/video &&    cf_search="$cf_search /opt/video/lib/video"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/video &&       cf_search="$cf_search $HOME/lib/video"
	test -d $HOME/lib/video/lib &&    cf_search="$cf_search $HOME/lib/video/lib"
	test -d $HOME/video/lib &&       cf_search="$cf_search $HOME/video/lib"
	test -d $HOME/video/lib/video &&    cf_search="$cf_search $HOME/video/lib/video"
}

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				echo "$as_me:23600: checking for -lvideo in $cf_libdir" >&5
echo $ECHO_N "checking for -lvideo in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lvideo $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 23604 "configure"
#include "confdefs.h"
#include <sys/video.h>
int
main ()
{
v_init()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23616: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23619: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23622: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23625: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:23627: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'video'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:23634: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

eval 'cf_found_library=$cf_cv_have_lib_'video

if test $cf_found_library = no ; then
	{ { echo "$as_me:23649: error: Cannot link video library" >&5
echo "$as_me: error: Cannot link video library" >&2;}
   { (exit 1); exit 1; }; }
fi

	;;
esac

	eval 'cf_cv_have_lib_'slang'=no'
	cf_libdir=""
	echo "$as_me:23659: checking for SLtt_get_screen_size" >&5
echo $ECHO_N "checking for SLtt_get_screen_size... $ECHO_C" >&6
if test "${ac_cv_func_SLtt_get_screen_size+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 23665 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char SLtt_get_screen_size (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SLtt_get_screen_size ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_SLtt_get_screen_size) || defined (__stub___SLtt_get_screen_size)
choke me
#else
f = SLtt_get_screen_size; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23696: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23699: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23702: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23705: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_SLtt_get_screen_size=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_SLtt_get_screen_size=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:23715: result: $ac_cv_func_SLtt_get_screen_size" >&5
echo "${ECHO_T}$ac_cv_func_SLtt_get_screen_size" >&6
if test $ac_cv_func_SLtt_get_screen_size = yes; then
  eval 'cf_cv_have_lib_'slang'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:23722: checking for SLtt_get_screen_size in -lslang" >&5
echo $ECHO_N "checking for SLtt_get_screen_size in -lslang... $ECHO_C" >&6
		LIBS="-lslang $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 23726 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23738: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23741: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23744: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23747: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:23749: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'slang'=yes'

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:23756: result: no" >&5
echo "${ECHO_T}no" >&6

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/slang &&       cf_search="$cf_search $cf_library_path/lib/slang"
	test -d $cf_library_path/lib/slang/lib &&    cf_search="$cf_search $cf_library_path/lib/slang/lib"
	test -d $cf_library_path/slang/lib &&       cf_search="$cf_search $cf_library_path/slang/lib"
	test -d $cf_library_path/slang/lib/slang &&    cf_search="$cf_search $cf_library_path/slang/lib/slang"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/slang &&       cf_search="$cf_search /usr/lib/slang"
	test -d /usr/lib/slang/lib &&    cf_search="$cf_search /usr/lib/slang/lib"
	test -d /usr/slang/lib &&       cf_search="$cf_search /usr/slang/lib"
	test -d /usr/slang/lib/slang &&    cf_search="$cf_search /usr/slang/lib/slang"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/slang &&       cf_search="$cf_search $prefix/lib/slang"
	test -d $prefix/lib/slang/lib &&    cf_search="$cf_search $prefix/lib/slang/lib"
	test -d $prefix/slang/lib &&       cf_search="$cf_search $prefix/slang/lib"
	test -d $prefix/slang/lib/slang &&    cf_search="$cf_search $prefix/slang/lib/slang"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/slang &&       cf_search="$cf_search /usr/local/lib/slang"
	test -d /usr/local/lib/slang/lib &&    cf_search="$cf_search /usr/local/lib/slang/lib"
	test -d /usr/local/slang/lib &&       cf_search="$cf_search /usr/local/slang/lib"
	test -d /usr/local/slang/lib/slang &&    cf_search="$cf_search /usr/local/slang/lib/slang"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/slang &&       cf_search="$cf_search /opt/lib/slang"
	test -d /opt/lib/slang/lib &&    cf_search="$cf_search /opt/lib/slang/lib"
	test -d /opt/slang/lib &&       cf_search="$cf_search /opt/slang/lib"
	test -d /opt/slang/lib/slang &&    cf_search="$cf_search /opt/slang/lib/slang"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/slang &&       cf_search="$cf_search $HOME/lib/slang"
	test -d $HOME/lib/slang/lib &&    cf_search="$cf_search $HOME/lib/slang/lib"
	test -d $HOME/slang/lib &&       cf_search="$cf_search $HOME/slang/lib"
	test -d $HOME/slang/lib/slang &&    cf_search="$cf_search $HOME/slang/lib/slang"
}

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				echo "$as_me:23846: checking for -lslang in $cf_libdir" >&5
echo $ECHO_N "checking for -lslang in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lslang $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 23850 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23862: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23865: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23868: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23871: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:23873: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'slang'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:23880: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

eval 'cf_found_library=$cf_cv_have_lib_'slang

if test $cf_found_library = no ; then
	{ { echo "$as_me:23895: error: Cannot link slang library" >&5
echo "$as_me: error: Cannot link slang library" >&2;}
   { (exit 1); exit 1; }; }
fi

cf_slang_LIBS3="$LIBS"
echo "$as_me:23901: checking if we can link slang without termcap" >&5
echo $ECHO_N "checking if we can link slang without termcap... $ECHO_C" >&6
if test -n "`echo $cf_slang_LIBS1 | sed -e 's/ //g'`" ; then
	cf_exclude=`echo ".$cf_slang_LIBS2" | sed -e "s%$cf_slang_LIBS1%%" -e 's%^.%%'`
else
	cf_exclude="$cf_slang_LIBS2"
fi
LIBS=`echo ".$cf_slang_LIBS3" | sed -e "s%$cf_exclude%%" -e 's%^.%%'`
cat >conftest.$ac_ext <<_ACEOF
#line 23910 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23922: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23925: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23928: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23931: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:23940: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
test $cf_result = no && LIBS="$cf_slang_LIBS3"

else

echo "$as_me:23946: checking for slang2 header file" >&5
echo $ECHO_N "checking for slang2 header file... $ECHO_C" >&6
if test "${cf_cv_slang2_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_slang2_header=no
	cat >conftest.$ac_ext <<_ACEOF
#line 23954 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
printf("%s\n", SLANG_VERSION)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:23966: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:23969: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:23972: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23975: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang2_header=predefined
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/slang2 &&       cf_search="$cf_search $cf_header_path/include/slang2"
	test -d $cf_header_path/include/slang2/include &&    cf_search="$cf_search $cf_header_path/include/slang2/include"
	test -d $cf_header_path/slang2/include &&       cf_search="$cf_search $cf_header_path/slang2/include"
	test -d $cf_header_path/slang2/include/slang2 &&    cf_search="$cf_search $cf_header_path/slang2/include/slang2"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/slang2 &&       cf_search="$cf_search /usr/include/slang2"
	test -d /usr/include/slang2/include &&    cf_search="$cf_search /usr/include/slang2/include"
	test -d /usr/slang2/include &&       cf_search="$cf_search /usr/slang2/include"
	test -d /usr/slang2/include/slang2 &&    cf_search="$cf_search /usr/slang2/include/slang2"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/slang2 &&       cf_search="$cf_search $prefix/include/slang2"
	test -d $prefix/include/slang2/include &&    cf_search="$cf_search $prefix/include/slang2/include"
	test -d $prefix/slang2/include &&       cf_search="$cf_search $prefix/slang2/include"
	test -d $prefix/slang2/include/slang2 &&    cf_search="$cf_search $prefix/slang2/include/slang2"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/slang2 &&       cf_search="$cf_search /usr/local/include/slang2"
	test -d /usr/local/include/slang2/include &&    cf_search="$cf_search /usr/local/include/slang2/include"
	test -d /usr/local/slang2/include &&       cf_search="$cf_search /usr/local/slang2/include"
	test -d /usr/local/slang2/include/slang2 &&    cf_search="$cf_search /usr/local/slang2/include/slang2"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/slang2 &&       cf_search="$cf_search /opt/include/slang2"
	test -d /opt/include/slang2/include &&    cf_search="$cf_search /opt/include/slang2/include"
	test -d /opt/slang2/include &&       cf_search="$cf_search /opt/slang2/include"
	test -d /opt/slang2/include/slang2 &&    cf_search="$cf_search /opt/slang2/include/slang2"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/slang2 &&       cf_search="$cf_search $HOME/include/slang2"
	test -d $HOME/include/slang2/include &&    cf_search="$cf_search $HOME/include/slang2/include"
	test -d $HOME/slang2/include &&       cf_search="$cf_search $HOME/slang2/include"
	test -d $HOME/slang2/include/slang2 &&    cf_search="$cf_search $HOME/slang2/include/slang2"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/slang2 && cf_search="$cf_search $includedir/slang2"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/slang2 && cf_search="$cf_search $oldincludedir/slang2"
}

cf_search="$cf_search $cf_header_path_list"

	for cf_incdir in $cf_search
	do
		for cf_header in \
			slang.h
		do
			echo trying $cf_incdir/$cf_header 1>&5
			if egrep "SLANG_VERSION" $cf_incdir/$cf_header 1>&5 2>&1; then
				cf_cv_slang2_header=$cf_incdir/$cf_header
				break
			fi
		done
		test "$cf_cv_slang2_header" != no && break
	done

fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:24102: result: $cf_cv_slang2_header" >&5
echo "${ECHO_T}$cf_cv_slang2_header" >&6

if test "x$cf_cv_slang2_header" != xno
then

cat >>confdefs.h <<\EOF
#define USE_SLANG 1
EOF

	cf_incdir=`echo $cf_cv_slang2_header | sed -e 's%/[^/]*$%%'`

	case $cf_cv_slang2_header in # (vi
	predefined) # (vi
		;;
	*)

if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 24143 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:24155: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:24158: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:24161: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24164: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:24181: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

		;;
	esac
fi

	if test "x$cf_cv_slang2_header" != xno
	then

cf_slang_LIBS1="$LIBS"

if test "${cf_cv_termlib+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_termlib=none
cat >conftest.$ac_ext <<_ACEOF
#line 24211 "configure"
#include "confdefs.h"

int
main ()
{
char *x=(char*)tgoto("",0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24223: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24226: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24229: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24232: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >conftest.$ac_ext <<_ACEOF
#line 24235 "configure"
#include "confdefs.h"

int
main ()
{
int x=tigetstr("")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24247: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24250: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24253: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24256: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_termlib=terminfo
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_termlib=termcap
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	test -n "$verbose" && echo "	using functions in predefined $cf_cv_termlib LIBS" 1>&6

echo "${as_me:-configure}:24267: testing using functions in predefined $cf_cv_termlib LIBS ..." 1>&5

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

if test "$cf_cv_termlib" = none; then
	# FreeBSD's linker gives bogus results for AC_CHECK_LIB, saying that
	# tgetstr lives in -lcurses when it is only an unsatisfied extern.
	cf_save_LIBS="$LIBS"
	for cf_lib in tinfo curses ncurses termlib termcap
	do
		LIBS="-l$cf_lib $cf_save_LIBS"
		for cf_func in tigetstr tgetstr
		do
			echo "$as_me:24282: checking for $cf_func in -l$cf_lib" >&5
echo $ECHO_N "checking for $cf_func in -l$cf_lib... $ECHO_C" >&6
			cat >conftest.$ac_ext <<_ACEOF
#line 24285 "configure"
#include "confdefs.h"

int
main ()
{
int x=$cf_func("")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24297: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24300: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24303: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24306: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			echo "$as_me:24315: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
			if test "$cf_result" = yes ; then
				if test "$cf_func" = tigetstr ; then
					cf_cv_termlib=terminfo
				else
					cf_cv_termlib=termcap
				fi
				break
			fi
		done
		test "$cf_result" = yes && break
	done
	test "$cf_result" = no && LIBS="$cf_save_LIBS"
fi
if test "$cf_cv_termlib" = none; then
	# allow curses library for broken AIX system.
	echo "$as_me:24332: checking for initscr in -lcurses" >&5
echo $ECHO_N "checking for initscr in -lcurses... $ECHO_C" >&6
if test "${ac_cv_lib_curses_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lcurses  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 24340 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24359: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24362: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24365: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24368: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_curses_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_curses_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:24379: result: $ac_cv_lib_curses_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_curses_initscr" >&6
if test $ac_cv_lib_curses_initscr = yes; then
  LIBS="-lcurses $LIBS"
fi

	echo "$as_me:24385: checking for tgoto in -ltermcap" >&5
echo $ECHO_N "checking for tgoto in -ltermcap... $ECHO_C" >&6
if test "${ac_cv_lib_termcap_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ltermcap  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 24393 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24412: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24415: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24418: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24421: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_termcap_tgoto=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_termcap_tgoto=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:24432: result: $ac_cv_lib_termcap_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_termcap_tgoto" >&6
if test $ac_cv_lib_termcap_tgoto = yes; then
  LIBS="-ltermcap $LIBS" cf_cv_termlib=termcap
fi

fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
if test "$cf_cv_termlib" = none; then
	{ echo "$as_me:24443: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&5
echo "$as_me: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&2;}
fi

fi

cf_slang_LIBS2="$LIBS"
echo "$as_me:24450: checking for acos" >&5
echo $ECHO_N "checking for acos... $ECHO_C" >&6
if test "${ac_cv_func_acos+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 24456 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char acos (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char acos ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_acos) || defined (__stub___acos)
choke me
#else
f = acos; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24487: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24490: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24493: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24496: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_acos=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_acos=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:24506: result: $ac_cv_func_acos" >&5
echo "${ECHO_T}$ac_cv_func_acos" >&6
if test $ac_cv_func_acos = yes; then
  :
else

echo "$as_me:24512: checking for acos in -lm" >&5
echo $ECHO_N "checking for acos in -lm... $ECHO_C" >&6
if test "${ac_cv_lib_m_acos+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lm $LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 24520 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char acos ();
int
main ()
{
acos ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24539: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24542: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24545: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24548: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_m_acos=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_m_acos=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:24559: result: $ac_cv_lib_m_acos" >&5
echo "${ECHO_T}$ac_cv_lib_m_acos" >&6
if test $ac_cv_lib_m_acos = yes; then

cf_tr_func=`echo "acos" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_acos=yes
	if test "$cf_used_lib_m" != yes ; then cf_used_lib_m=yes; LIBS="-lm $LIBS"; fi
else

	ac_cv_func_acos=unknown
	unset ac_cv_func_acos 2>/dev/null

fi

fi

case $host_os in #(vi
os2*)

	eval 'cf_cv_have_lib_'video'=no'
	cf_libdir=""
	echo "$as_me:24585: checking for v_init" >&5
echo $ECHO_N "checking for v_init... $ECHO_C" >&6
if test "${ac_cv_func_v_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 24591 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char v_init (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char v_init ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_v_init) || defined (__stub___v_init)
choke me
#else
f = v_init; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24622: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24625: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24628: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24631: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_v_init=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_v_init=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:24641: result: $ac_cv_func_v_init" >&5
echo "${ECHO_T}$ac_cv_func_v_init" >&6
if test $ac_cv_func_v_init = yes; then
  eval 'cf_cv_have_lib_'video'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:24648: checking for v_init in -lvideo" >&5
echo $ECHO_N "checking for v_init in -lvideo... $ECHO_C" >&6
		LIBS="-lvideo $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 24652 "configure"
#include "confdefs.h"
#include <sys/video.h>
int
main ()
{
v_init()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24664: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24667: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24670: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24673: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:24675: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'video'=yes'

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:24682: result: no" >&5
echo "${ECHO_T}no" >&6

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/video &&       cf_search="$cf_search $cf_library_path/lib/video"
	test -d $cf_library_path/lib/video/lib &&    cf_search="$cf_search $cf_library_path/lib/video/lib"
	test -d $cf_library_path/video/lib &&       cf_search="$cf_search $cf_library_path/video/lib"
	test -d $cf_library_path/video/lib/video &&    cf_search="$cf_search $cf_library_path/video/lib/video"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/video &&       cf_search="$cf_search /usr/lib/video"
	test -d /usr/lib/video/lib &&    cf_search="$cf_search /usr/lib/video/lib"
	test -d /usr/video/lib &&       cf_search="$cf_search /usr/video/lib"
	test -d /usr/video/lib/video &&    cf_search="$cf_search /usr/video/lib/video"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/video &&       cf_search="$cf_search $prefix/lib/video"
	test -d $prefix/lib/video/lib &&    cf_search="$cf_search $prefix/lib/video/lib"
	test -d $prefix/video/lib &&       cf_search="$cf_search $prefix/video/lib"
	test -d $prefix/video/lib/video &&    cf_search="$cf_search $prefix/video/lib/video"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/video &&       cf_search="$cf_search /usr/local/lib/video"
	test -d /usr/local/lib/video/lib &&    cf_search="$cf_search /usr/local/lib/video/lib"
	test -d /usr/local/video/lib &&       cf_search="$cf_search /usr/local/video/lib"
	test -d /usr/local/video/lib/video &&    cf_search="$cf_search /usr/local/video/lib/video"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/video &&       cf_search="$cf_search /opt/lib/video"
	test -d /opt/lib/video/lib &&    cf_search="$cf_search /opt/lib/video/lib"
	test -d /opt/video/lib &&       cf_search="$cf_search /opt/video/lib"
	test -d /opt/video/lib/video &&    cf_search="$cf_search /opt/video/lib/video"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/video &&       cf_search="$cf_search $HOME/lib/video"
	test -d $HOME/lib/video/lib &&    cf_search="$cf_search $HOME/lib/video/lib"
	test -d $HOME/video/lib &&       cf_search="$cf_search $HOME/video/lib"
	test -d $HOME/video/lib/video &&    cf_search="$cf_search $HOME/video/lib/video"
}

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				echo "$as_me:24772: checking for -lvideo in $cf_libdir" >&5
echo $ECHO_N "checking for -lvideo in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lvideo $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 24776 "configure"
#include "confdefs.h"
#include <sys/video.h>
int
main ()
{
v_init()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24788: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24791: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24794: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24797: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:24799: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'video'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:24806: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

eval 'cf_found_library=$cf_cv_have_lib_'video

if test $cf_found_library = no ; then
	{ { echo "$as_me:24821: error: Cannot link video library" >&5
echo "$as_me: error: Cannot link video library" >&2;}
   { (exit 1); exit 1; }; }
fi

	;;
esac

	eval 'cf_cv_have_lib_'slang2'=no'
	cf_libdir=""
	echo "$as_me:24831: checking for SLtt_get_screen_size" >&5
echo $ECHO_N "checking for SLtt_get_screen_size... $ECHO_C" >&6
if test "${ac_cv_func_SLtt_get_screen_size+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 24837 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char SLtt_get_screen_size (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SLtt_get_screen_size ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_SLtt_get_screen_size) || defined (__stub___SLtt_get_screen_size)
choke me
#else
f = SLtt_get_screen_size; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24868: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24871: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24874: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24877: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_SLtt_get_screen_size=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_SLtt_get_screen_size=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:24887: result: $ac_cv_func_SLtt_get_screen_size" >&5
echo "${ECHO_T}$ac_cv_func_SLtt_get_screen_size" >&6
if test $ac_cv_func_SLtt_get_screen_size = yes; then
  eval 'cf_cv_have_lib_'slang2'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:24894: checking for SLtt_get_screen_size in -lslang2" >&5
echo $ECHO_N "checking for SLtt_get_screen_size in -lslang2... $ECHO_C" >&6
		LIBS="-lslang2 $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 24898 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24910: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24913: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24916: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24919: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:24921: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'slang2'=yes'

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:24928: result: no" >&5
echo "${ECHO_T}no" >&6

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/slang2 &&       cf_search="$cf_search $cf_library_path/lib/slang2"
	test -d $cf_library_path/lib/slang2/lib &&    cf_search="$cf_search $cf_library_path/lib/slang2/lib"
	test -d $cf_library_path/slang2/lib &&       cf_search="$cf_search $cf_library_path/slang2/lib"
	test -d $cf_library_path/slang2/lib/slang2 &&    cf_search="$cf_search $cf_library_path/slang2/lib/slang2"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/slang2 &&       cf_search="$cf_search /usr/lib/slang2"
	test -d /usr/lib/slang2/lib &&    cf_search="$cf_search /usr/lib/slang2/lib"
	test -d /usr/slang2/lib &&       cf_search="$cf_search /usr/slang2/lib"
	test -d /usr/slang2/lib/slang2 &&    cf_search="$cf_search /usr/slang2/lib/slang2"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/slang2 &&       cf_search="$cf_search $prefix/lib/slang2"
	test -d $prefix/lib/slang2/lib &&    cf_search="$cf_search $prefix/lib/slang2/lib"
	test -d $prefix/slang2/lib &&       cf_search="$cf_search $prefix/slang2/lib"
	test -d $prefix/slang2/lib/slang2 &&    cf_search="$cf_search $prefix/slang2/lib/slang2"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/slang2 &&       cf_search="$cf_search /usr/local/lib/slang2"
	test -d /usr/local/lib/slang2/lib &&    cf_search="$cf_search /usr/local/lib/slang2/lib"
	test -d /usr/local/slang2/lib &&       cf_search="$cf_search /usr/local/slang2/lib"
	test -d /usr/local/slang2/lib/slang2 &&    cf_search="$cf_search /usr/local/slang2/lib/slang2"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/slang2 &&       cf_search="$cf_search /opt/lib/slang2"
	test -d /opt/lib/slang2/lib &&    cf_search="$cf_search /opt/lib/slang2/lib"
	test -d /opt/slang2/lib &&       cf_search="$cf_search /opt/slang2/lib"
	test -d /opt/slang2/lib/slang2 &&    cf_search="$cf_search /opt/slang2/lib/slang2"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/slang2 &&       cf_search="$cf_search $HOME/lib/slang2"
	test -d $HOME/lib/slang2/lib &&    cf_search="$cf_search $HOME/lib/slang2/lib"
	test -d $HOME/slang2/lib &&       cf_search="$cf_search $HOME/slang2/lib"
	test -d $HOME/slang2/lib/slang2 &&    cf_search="$cf_search $HOME/slang2/lib/slang2"
}

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				echo "$as_me:25018: checking for -lslang2 in $cf_libdir" >&5
echo $ECHO_N "checking for -lslang2 in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lslang2 $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 25022 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25034: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25037: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25040: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25043: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:25045: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'slang2'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:25052: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

eval 'cf_found_library=$cf_cv_have_lib_'slang2

if test $cf_found_library = no ; then
	{ { echo "$as_me:25067: error: Cannot link slang2 library" >&5
echo "$as_me: error: Cannot link slang2 library" >&2;}
   { (exit 1); exit 1; }; }
fi

cf_slang_LIBS3="$LIBS"
echo "$as_me:25073: checking if we can link slang2 without termcap" >&5
echo $ECHO_N "checking if we can link slang2 without termcap... $ECHO_C" >&6
if test -n "`echo $cf_slang_LIBS1 | sed -e 's/ //g'`" ; then
	cf_exclude=`echo ".$cf_slang_LIBS2" | sed -e "s%$cf_slang_LIBS1%%" -e 's%^.%%'`
else
	cf_exclude="$cf_slang_LIBS2"
fi
LIBS=`echo ".$cf_slang_LIBS3" | sed -e "s%$cf_exclude%%" -e 's%^.%%'`
cat >conftest.$ac_ext <<_ACEOF
#line 25082 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25094: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25097: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25100: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25103: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:25112: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
test $cf_result = no && LIBS="$cf_slang_LIBS3"

	else
		{ { echo "$as_me:25117: error: cannot find slang headers" >&5
echo "$as_me: error: cannot find slang headers" >&2;}
   { (exit 1); exit 1; }; }
	fi
fi

# There's an unofficial set of patches for slang that gives it some limited
# UTF8 capability.  Unfortunately it won't compile unless one defines UTF8.
echo "$as_me:25125: checking if we must define UTF8" >&5
echo $ECHO_N "checking if we must define UTF8... $ECHO_C" >&6
if test "${cf_cv_slang_utf8+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 25132 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25144: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25147: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25150: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25153: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_utf8=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cat >conftest.$ac_ext <<_ACEOF
#line 25161 "configure"
#include "confdefs.h"

#define UTF8
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25175: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25178: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25181: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25184: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_utf8=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_slang_utf8=unknown
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:25197: result: $cf_cv_slang_utf8" >&5
echo "${ECHO_T}$cf_cv_slang_utf8" >&6

if test "$cf_cv_slang_utf8" = yes ; then

cat >>confdefs.h <<\EOF
#define UTF8 1
EOF

fi

echo "$as_me:25208: checking if we must tell slang this is UNIX" >&5
echo $ECHO_N "checking if we must tell slang this is UNIX... $ECHO_C" >&6
if test "${cf_cv_slang_unix+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 25215 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{

#ifdef REAL_UNIX_SYSTEM
make an error
#else
extern int SLang_TT_Baud_Rate;
SLang_TT_Baud_Rate = 1
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25234: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25237: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25240: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25243: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_unix=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_slang_unix=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:25254: result: $cf_cv_slang_unix" >&5
echo "${ECHO_T}$cf_cv_slang_unix" >&6
test $cf_cv_slang_unix = yes &&
cat >>confdefs.h <<\EOF
#define REAL_UNIX_SYSTEM 1
EOF

	echo "$as_me:25261: checking for SLsmg_Color_Type" >&5
echo $ECHO_N "checking for SLsmg_Color_Type... $ECHO_C" >&6
if test "${ac_cv_type_SLsmg_Color_Type+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 25267 "configure"
#include "confdefs.h"
#include <slang.h>

int
main ()
{
if ((SLsmg_Color_Type *) 0)
  return 0;
if (sizeof (SLsmg_Color_Type))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25283: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25286: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25289: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25292: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_SLsmg_Color_Type=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_SLsmg_Color_Type=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:25302: result: $ac_cv_type_SLsmg_Color_Type" >&5
echo "${ECHO_T}$ac_cv_type_SLsmg_Color_Type" >&6
if test $ac_cv_type_SLsmg_Color_Type = yes; then
  ac_cv_type_SLsmg_Color_Type=yes
else
  ac_cv_type_SLsmg_Color_Type=no
fi

	if test $ac_cv_type_SLsmg_Color_Type = no; then

cat >>confdefs.h <<\EOF
#define SLsmg_Color_Type int
EOF

fi

	echo "$as_me:25318: checking for SLtt_Char_Type" >&5
echo $ECHO_N "checking for SLtt_Char_Type... $ECHO_C" >&6
if test "${ac_cv_type_SLtt_Char_Type+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 25324 "configure"
#include "confdefs.h"
#include <slang.h>

int
main ()
{
if ((SLtt_Char_Type *) 0)
  return 0;
if (sizeof (SLtt_Char_Type))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25340: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25343: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25346: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25349: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_SLtt_Char_Type=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_SLtt_Char_Type=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:25359: result: $ac_cv_type_SLtt_Char_Type" >&5
echo "${ECHO_T}$ac_cv_type_SLtt_Char_Type" >&6
if test $ac_cv_type_SLtt_Char_Type = yes; then
  ac_cv_type_SLtt_Char_Type=yes
else
  ac_cv_type_SLtt_Char_Type=no
fi

	if test $ac_cv_type_SLtt_Char_Type = no; then

cat >>confdefs.h <<\EOF
#define SLtt_Char_Type unsigned long
EOF

fi

	dft_color_style=no
	;;
esac

echo "$as_me:25379: checking for chtype typedef" >&5
echo $ECHO_N "checking for chtype typedef... $ECHO_C" >&6
if test "${cf_cv_chtype_decl+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 25386 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
chtype foo
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25398: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25401: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25404: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25407: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_chtype_decl=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_chtype_decl=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:25417: result: $cf_cv_chtype_decl" >&5
echo "${ECHO_T}$cf_cv_chtype_decl" >&6
if test $cf_cv_chtype_decl = yes ; then

cat >>confdefs.h <<\EOF
#define HAVE_TYPE_CHTYPE 1
EOF

	echo "$as_me:25425: checking if chtype is scalar or struct" >&5
echo $ECHO_N "checking if chtype is scalar or struct... $ECHO_C" >&6
if test "${cf_cv_chtype_type+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		cat >conftest.$ac_ext <<_ACEOF
#line 25432 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
chtype foo; long x = foo
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25444: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25447: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25450: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25453: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_chtype_type=scalar
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_chtype_type=struct
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:25463: result: $cf_cv_chtype_type" >&5
echo "${ECHO_T}$cf_cv_chtype_type" >&6
	if test $cf_cv_chtype_type = scalar ; then

cat >>confdefs.h <<\EOF
#define TYPE_CHTYPE_IS_SCALAR 1
EOF

	fi
fi

echo "$as_me:25474: checking if you want the wide-curses features" >&5
echo $ECHO_N "checking if you want the wide-curses features... $ECHO_C" >&6

# Check whether --enable-widec or --disable-widec was given.
if test "${enable_widec+set}" = set; then
  enableval="$enable_widec"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_wide_curses=$enableval
  else
    use_wide_curses=$cf_wide_curses
  fi
else
  enableval=no
  use_wide_curses=$cf_wide_curses

fi;
echo "$as_me:25491: result: $use_wide_curses" >&5
echo "${ECHO_T}$use_wide_curses" >&6

echo "$as_me:25494: checking if color-style code should be used" >&5
echo $ECHO_N "checking if color-style code should be used... $ECHO_C" >&6

# Check whether --enable-color-style or --disable-color-style was given.
if test "${enable_color_style+set}" = set; then
  enableval="$enable_color_style"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_color_style=$enableval
  else
    use_color_style=$dft_color_style
  fi
else
  enableval=yes
  use_color_style=$dft_color_style

fi;

case $use_color_style in
no)
	echo "$as_me:25514: result: no" >&5
echo "${ECHO_T}no" >&6
	INSTALL_LSS=
	;;
*)

cat >>confdefs.h <<\EOF
#define USE_COLOR_STYLE 1
EOF

	echo "$as_me:25524: result: yes" >&5
echo "${ECHO_T}yes" >&6

	echo "$as_me:25527: checking for location of style-sheet file" >&5
echo $ECHO_N "checking for location of style-sheet file... $ECHO_C" >&6

# Check whether --with-lss-file or --without-lss-file was given.
if test "${with_lss_file+set}" = set; then
  withval="$with_lss_file"

else
  withval="${LYNX_LSS_FILE:-$sysconfdir/lynx.lss}"
fi; if test -n "$sysconfdir/lynx.lss" ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:25563: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

fi
eval LYNX_LSS_FILE="$withval"

	echo "$as_me:25572: result: $LYNX_LSS_FILE" >&5
echo "${ECHO_T}$LYNX_LSS_FILE" >&6

	test "$LYNX_LSS_FILE" = no && LYNX_LSS_FILE=

cat >>confdefs.h <<EOF
#define LYNX_LSS_FILE "$LYNX_LSS_FILE"
EOF

	INSTALL_LSS=install-lss
	;;
esac

echo "$as_me:25585: checking for the default configuration-file" >&5
echo $ECHO_N "checking for the default configuration-file... $ECHO_C" >&6

# Check whether --with-cfg-file or --without-cfg-file was given.
if test "${with_cfg_file+set}" = set; then
  withval="$with_cfg_file"

else
  withval="${LYNX_CFG_FILE:-$sysconfdir/lynx.cfg}"
fi; if test -n "$sysconfdir/lynx.cfg" ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:25621: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

fi
eval LYNX_CFG_FILE="$withval"

echo "$as_me:25630: result: $LYNX_CFG_FILE" >&5
echo "${ECHO_T}$LYNX_CFG_FILE" >&6

test "$LYNX_CFG_FILE" = no && LYNX_CFG_FILE=

cat >>confdefs.h <<EOF
#define LYNX_CFG_FILE "$LYNX_CFG_FILE"
EOF

echo "$as_me:25639: checking for the default configuration-path" >&5
echo $ECHO_N "checking for the default configuration-path... $ECHO_C" >&6

# Check whether --with-cfg-path or --without-cfg-path was given.
if test "${with_cfg_path+set}" = set; then
  withval="$with_cfg_path"

else
  withval="${LYNX_CFG_PATH:-$sysconfdir}"
fi; if test -n "$sysconfdir" ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:25675: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

fi
eval LYNX_CFG_PATH="$withval"

echo "$as_me:25684: result: $LYNX_CFG_PATH" >&5
echo "${ECHO_T}$LYNX_CFG_PATH" >&6

test -z "$LYNX_CFG_PATH" && `echo "$LYNX_CFG_FILE" | sed -e 's%/[^/]*$%%'`
test "x$LYNX_CFG_PATH" = xno && LYNX_CFG_PATH=

cat >>confdefs.h <<EOF
#define LYNX_CFG_PATH "$LYNX_CFG_PATH"
EOF

echo "$as_me:25694: checking if htmlized lynx.cfg should be built" >&5
echo $ECHO_N "checking if htmlized lynx.cfg should be built... $ECHO_C" >&6

# Check whether --enable-htmlized-cfg or --disable-htmlized-cfg was given.
if test "${enable_htmlized_cfg+set}" = set; then
  enableval="$enable_htmlized_cfg"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_htmlized_cfg=$enableval
  else
    use_htmlized_cfg=no
  fi
else
  enableval=no
  use_htmlized_cfg=no

fi;
echo "$as_me:25711: result: $use_htmlized_cfg" >&5
echo "${ECHO_T}$use_htmlized_cfg" >&6

LYNXCFG_MAKE=''
if test $use_htmlized_cfg = no ; then
	LYNXCFG_MAKE='#'
fi

echo "$as_me:25719: checking if local doc directory should be linked to help page" >&5
echo $ECHO_N "checking if local doc directory should be linked to help page... $ECHO_C" >&6

# Check whether --enable-local-docs or --disable-local-docs was given.
if test "${enable_local_docs+set}" = set; then
  enableval="$enable_local_docs"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_local_docs=$enableval
  else
    use_local_docs=no
  fi
else
  enableval=no
  use_local_docs=no

fi;
echo "$as_me:25736: result: $use_local_docs" >&5
echo "${ECHO_T}$use_local_docs" >&6

LYNXDOC_MAKE=''
if test $use_local_docs = no ; then
	LYNXDOC_MAKE='#'
fi

echo "$as_me:25744: checking for MIME library directory" >&5
echo $ECHO_N "checking for MIME library directory... $ECHO_C" >&6

# Check whether --with-mime-libdir or --without-mime-libdir was given.
if test "${with_mime_libdir+set}" = set; then
  withval="$with_mime_libdir"

else
  withval="${MIME_LIBDIR:-/etc}"
fi; if true ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:25780: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac

fi
eval MIME_LIBDIR="$withval"

echo "$as_me:25789: result: $MIME_LIBDIR" >&5
echo "${ECHO_T}$MIME_LIBDIR" >&6
MIME_LIBDIR=`echo "$MIME_LIBDIR" | sed -e 's,/$,,' -e 's,$,/,'`

cat >>confdefs.h <<EOF
#define MIME_LIBDIR "$MIME_LIBDIR"
EOF

echo "$as_me:25797: checking if locale-charset selection logic should be used" >&5
echo $ECHO_N "checking if locale-charset selection logic should be used... $ECHO_C" >&6

# Check whether --enable-locale-charset or --disable-locale-charset was given.
if test "${enable_locale_charset+set}" = set; then
  enableval="$enable_locale_charset"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_locale_charset=$enableval
  else
    use_locale_charset=yes
  fi
else
  enableval=yes
  use_locale_charset=yes

fi;
echo "$as_me:25814: result: $use_locale_charset" >&5
echo "${ECHO_T}$use_locale_charset" >&6
test $use_locale_charset != no &&
cat >>confdefs.h <<\EOF
#define USE_LOCALE_CHARSET 1
EOF

CHARSET_DEFS=

echo "$as_me:25823: checking if you want only a few charsets" >&5
echo $ECHO_N "checking if you want only a few charsets... $ECHO_C" >&6

# Check whether --with-charsets or --without-charsets was given.
if test "${with_charsets+set}" = set; then
  withval="$with_charsets"
  cf_charsets=$withval
else
  cf_charsets=
fi;

if test -n "$cf_charsets" ; then
	echo "$as_me:25835: result: yes" >&5
echo "${ECHO_T}yes" >&6

cat >>confdefs.h <<\EOF
#define ALL_CHARSETS 0
EOF

	cf_min_charsets=us-ascii,iso-8859-1,utf-8
	if test "$cf_charsets" = "no" ; then
		cf_charsets=minimal
	fi
	if test "$cf_charsets" = "minimal" ; then
		test -n "$verbose" && echo "	using minimal list of charsets: $cf_min_charsets" 1>&6

echo "${as_me:-configure}:25849: testing using minimal list of charsets: $cf_min_charsets ..." 1>&5

	fi
	cf_charsets=`echo $cf_charsets | sed -e "s/minimal/$cf_min_charsets/g" -e 's/,/ /g'`
	for cf_charset in $cf_charsets
	do
		cf_def_charset=`echo $cf_charset | sed -e 's/+/_/g' -e 's/-/_/g'`
		cf_use_charset=no
		# check charsets that are defined via .tbl files
		if ( egrep '^M'$cf_charset'$' $srcdir/src/chrtrans/*.tbl 2>/dev/null >/dev/null )
		then
			cf_use_charset=yes
		# check charsets that are "built-in"
		else
			for cf_tst_charset in big5 euc_cn euc_jp euc_kr shift_jis x_transparent
			do
				if test "$cf_tst_charset" = "$cf_def_charset"
				then
					cf_use_charset=yes
					break
				fi
			done
		fi
		if test $cf_use_charset=yes
		then
			test -n "$verbose" && echo "	found $cf_charset" 1>&6

echo "${as_me:-configure}:25876: testing found $cf_charset ..." 1>&5

			CHARSET_DEFS="-DNO_CHARSET_${cf_def_charset}=0 $CHARSET_DEFS"
		else
			test -n "$verbose" && echo "	not found $cf_charset" 1>&6

echo "${as_me:-configure}:25882: testing not found $cf_charset ..." 1>&5

		fi
	done
else
	echo "$as_me:25887: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:25891: checking for ANSI C header files" >&5
echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
if test "${ac_cv_header_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 25897 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>

_ACEOF
if { (eval echo "$as_me:25905: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:25911: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_cv_header_stdc=yes
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_stdc=no
fi
rm -f conftest.err conftest.$ac_ext

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 25933 "configure"
#include "confdefs.h"
#include <string.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -rf conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 25951 "configure"
#include "confdefs.h"
#include <stdlib.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -rf conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then
  :
else
  cat >conftest.$ac_ext <<_ACEOF
#line 25972 "configure"
#include "confdefs.h"
#include <ctype.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) (('a' <= (c) && (c) <= 'i') \
                     || ('j' <= (c) && (c) <= 'r') \
                     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
        || toupper (i) != TOUPPER (i))
      $ac_main_return(2);
  $ac_main_return (0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:25998: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26001: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:26003: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26006: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_header_stdc=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
fi
echo "$as_me:26019: result: $ac_cv_header_stdc" >&5
echo "${ECHO_T}$ac_cv_header_stdc" >&6
if test $ac_cv_header_stdc = yes; then

cat >>confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF

fi

echo "$as_me:26029: checking whether time.h and sys/time.h may both be included" >&5
echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6
if test "${ac_cv_header_time+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26035 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>

int
main ()
{
if ((struct tm *) 0)
return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26051: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26054: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26057: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26060: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_header_time=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_header_time=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:26070: result: $ac_cv_header_time" >&5
echo "${ECHO_T}$ac_cv_header_time" >&6
if test $ac_cv_header_time = yes; then

cat >>confdefs.h <<\EOF
#define TIME_WITH_SYS_TIME 1
EOF

fi

ac_header_dirent=no
for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h; do
  as_ac_Header=`echo "ac_cv_header_dirent_$ac_hdr" | $as_tr_sh`
echo "$as_me:26083: checking for $ac_hdr that defines DIR" >&5
echo $ECHO_N "checking for $ac_hdr that defines DIR... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26089 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <$ac_hdr>

int
main ()
{
if ((DIR *) 0)
return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26104: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26107: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26110: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26113: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Header=no"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:26123: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_hdr" | $as_tr_cpp` 1
EOF

ac_header_dirent=$ac_hdr; break
fi

done
# Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.
if test $ac_header_dirent = dirent.h; then
  echo "$as_me:26136: checking for opendir in -ldir" >&5
echo $ECHO_N "checking for opendir in -ldir... $ECHO_C" >&6
if test "${ac_cv_lib_dir_opendir+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldir  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 26144 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char opendir ();
int
main ()
{
opendir ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:26163: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26166: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:26169: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26172: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dir_opendir=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dir_opendir=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:26183: result: $ac_cv_lib_dir_opendir" >&5
echo "${ECHO_T}$ac_cv_lib_dir_opendir" >&6
if test $ac_cv_lib_dir_opendir = yes; then
  LIBS="$LIBS -ldir"
fi

else
  echo "$as_me:26190: checking for opendir in -lx" >&5
echo $ECHO_N "checking for opendir in -lx... $ECHO_C" >&6
if test "${ac_cv_lib_x_opendir+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lx  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 26198 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char opendir ();
int
main ()
{
opendir ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:26217: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26220: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:26223: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26226: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_x_opendir=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_x_opendir=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:26237: result: $ac_cv_lib_x_opendir" >&5
echo "${ECHO_T}$ac_cv_lib_x_opendir" >&6
if test $ac_cv_lib_x_opendir = yes; then
  LIBS="$LIBS -lx"
fi

fi

for ac_header in \
	arpa/inet.h \
	fcntl.h \
	limits.h \
	stdlib.h \
	string.h \
	sys/fcntl.h \
	sys/filio.h \
	sys/ioctl.h \
	sys/param.h \
	sys/timeb.h \
	sys/time.h \
	syslog.h \
	termio.h \
	termios.h \
	unistd.h \
	vfork.h \

do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:26265: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26271 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:26275: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:26281: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:26300: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

echo "$as_me:26310: checking termio.h and termios.h" >&5
echo $ECHO_N "checking termio.h and termios.h... $ECHO_C" >&6
if test "${cf_cv_termio_and_termios+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 26317 "configure"
#include "confdefs.h"

#if HAVE_TERMIO_H
#include <termio.h>
#endif
#if HAVE_TERMIOS_H
#include <termios.h>
#endif
int
main ()
{
putchar (0x0a)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26335: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26338: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26341: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26344: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_termio_and_termios=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_termio_and_termios=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi

echo "$as_me:26355: result: $cf_cv_termio_and_termios" >&5
echo "${ECHO_T}$cf_cv_termio_and_termios" >&6
test $cf_cv_termio_and_termios = no &&
cat >>confdefs.h <<\EOF
#define TERMIO_AND_TERMIOS 1
EOF

echo "$as_me:26362: checking for sigaction and structs" >&5
echo $ECHO_N "checking for sigaction and structs... $ECHO_C" >&6
if test "${cf_cv_func_sigaction+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 26369 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <signal.h>
int
main ()
{
struct sigaction act;
	act.sa_handler = SIG_DFL;
#ifdef SA_RESTART
	act.sa_flags |= SA_RESTART;
#endif /* SA_RESTART */
	sigaction(1, &act, 0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:26389: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26392: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:26395: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26398: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_func_sigaction=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_func_sigaction=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:26409: result: $cf_cv_func_sigaction" >&5
echo "${ECHO_T}$cf_cv_func_sigaction" >&6
test "$cf_cv_func_sigaction" = yes &&
cat >>confdefs.h <<\EOF
#define HAVE_SIGACTION 1
EOF

for ac_header in sys/wait.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:26419: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26425 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:26429: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:26435: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:26454: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

cf_wait_headers="#include <sys/types.h>
"
if test $ac_cv_header_sys_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <sys/wait.h>
"
else

for ac_header in wait.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:26475: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26481 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:26485: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:26491: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:26510: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

for ac_header in waitstatus.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:26523: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26529 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:26533: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:26539: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:26558: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

if test $ac_cv_header_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <wait.h>
"
fi
if test $ac_cv_header_waitstatus_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <waitstatus.h>
"
fi
fi

echo "$as_me:26580: checking for union wait" >&5
echo $ECHO_N "checking for union wait... $ECHO_C" >&6
if test "${cf_cv_type_unionwait+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 26587 "configure"
#include "confdefs.h"
$cf_wait_headers
int
main ()
{
int x;
	 int y = WEXITSTATUS(x);
	 int z = WTERMSIG(x);
	 wait(&x);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:26603: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26606: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:26609: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26612: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_type_unionwait=no
	 echo compiles ok w/o union wait 1>&5

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cat >conftest.$ac_ext <<_ACEOF
#line 26622 "configure"
#include "confdefs.h"
$cf_wait_headers
int
main ()
{
union wait x;
#ifdef WEXITSTATUS
	 int y = WEXITSTATUS(x);
#endif
#ifdef WTERMSIG
	 int z = WTERMSIG(x);
#endif
	 wait(&x);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:26642: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26645: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:26648: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26651: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_type_unionwait=yes
	 echo compiles ok with union wait and possibly macros too 1>&5

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_type_unionwait=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi

echo "$as_me:26666: result: $cf_cv_type_unionwait" >&5
echo "${ECHO_T}$cf_cv_type_unionwait" >&6
test $cf_cv_type_unionwait = yes &&
cat >>confdefs.h <<\EOF
#define HAVE_TYPE_UNIONWAIT 1
EOF

if test $cf_cv_type_unionwait = yes; then

	echo "$as_me:26675: checking if union wait can be used as wait-arg" >&5
echo $ECHO_N "checking if union wait can be used as wait-arg... $ECHO_C" >&6
	if test "${cf_cv_arg_union_wait+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		cat >conftest.$ac_ext <<_ACEOF
#line 26682 "configure"
#include "confdefs.h"
$cf_wait_headers
int
main ()
{
union wait x; wait(&x)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26694: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26697: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26700: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26703: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_arg_union_wait=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_arg_union_wait=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi

	echo "$as_me:26715: result: $cf_cv_arg_union_wait" >&5
echo "${ECHO_T}$cf_cv_arg_union_wait" >&6
	test $cf_cv_arg_union_wait = yes &&
cat >>confdefs.h <<\EOF
#define WAIT_USES_UNION 1
EOF

	echo "$as_me:26722: checking if union wait can be used as waitpid-arg" >&5
echo $ECHO_N "checking if union wait can be used as waitpid-arg... $ECHO_C" >&6
	if test "${cf_cv_arg_union_waitpid+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		cat >conftest.$ac_ext <<_ACEOF
#line 26729 "configure"
#include "confdefs.h"
$cf_wait_headers
int
main ()
{
union wait x; waitpid(0, &x, 0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26741: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26744: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26747: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26750: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_arg_union_waitpid=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_arg_union_waitpid=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi

	echo "$as_me:26762: result: $cf_cv_arg_union_waitpid" >&5
echo "${ECHO_T}$cf_cv_arg_union_waitpid" >&6
	test $cf_cv_arg_union_waitpid = yes &&
cat >>confdefs.h <<\EOF
#define WAITPID_USES_UNION 1
EOF

fi

echo "$as_me:26771: checking for uid_t in sys/types.h" >&5
echo $ECHO_N "checking for uid_t in sys/types.h... $ECHO_C" >&6
if test "${ac_cv_type_uid_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26777 "configure"
#include "confdefs.h"
#include <sys/types.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "uid_t" >/dev/null 2>&1; then
  ac_cv_type_uid_t=yes
else
  ac_cv_type_uid_t=no
fi
rm -rf conftest*

fi
echo "$as_me:26791: result: $ac_cv_type_uid_t" >&5
echo "${ECHO_T}$ac_cv_type_uid_t" >&6
if test $ac_cv_type_uid_t = no; then

cat >>confdefs.h <<\EOF
#define uid_t int
EOF

cat >>confdefs.h <<\EOF
#define gid_t int
EOF

fi

echo "$as_me:26805: checking type of array argument to getgroups" >&5
echo $ECHO_N "checking type of array argument to getgroups... $ECHO_C" >&6
if test "${ac_cv_type_getgroups+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_type_getgroups=cross
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26814 "configure"
#include "confdefs.h"
/* Thanks to Mike Rendell for this test.  */
#include <sys/types.h>
#define NGID 256
#undef MAX
#define MAX(x, y) ((x) > (y) ? (x) : (y))

int
main ()
{
  gid_t gidset[NGID];
  int i, n;
  union { gid_t gval; long lval; }  val;

  val.lval = -1;
  for (i = 0; i < NGID; i++)
    gidset[i] = val.gval;
  n = getgroups (sizeof (gidset) / MAX (sizeof (int), sizeof (gid_t)) - 1,
                 gidset);
  /* Exit non-zero if getgroups seems to require an array of ints.  This
     happens when gid_t is short but getgroups modifies an array of ints.  */
  $ac_main_return ((n > 0 && gidset[n] != val.gval) ? 1 : 0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:26840: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26843: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:26845: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26848: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_getgroups=gid_t
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_getgroups=int
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
if test $ac_cv_type_getgroups = cross; then
        cat >conftest.$ac_ext <<_ACEOF
#line 26861 "configure"
#include "confdefs.h"
#include <unistd.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "getgroups.*int.*gid_t" >/dev/null 2>&1; then
  ac_cv_type_getgroups=gid_t
else
  ac_cv_type_getgroups=int
fi
rm -rf conftest*

fi
fi
echo "$as_me:26876: result: $ac_cv_type_getgroups" >&5
echo "${ECHO_T}$ac_cv_type_getgroups" >&6

cat >>confdefs.h <<EOF
#define GETGROUPS_T $ac_cv_type_getgroups
EOF

echo "$as_me:26883: checking for off_t" >&5
echo $ECHO_N "checking for off_t... $ECHO_C" >&6
if test "${ac_cv_type_off_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26889 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((off_t *) 0)
  return 0;
if (sizeof (off_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26904: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26907: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26910: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26913: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_off_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_off_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:26923: result: $ac_cv_type_off_t" >&5
echo "${ECHO_T}$ac_cv_type_off_t" >&6
if test $ac_cv_type_off_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define off_t long
EOF

fi

echo "$as_me:26935: checking for pid_t" >&5
echo $ECHO_N "checking for pid_t... $ECHO_C" >&6
if test "${ac_cv_type_pid_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26941 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((pid_t *) 0)
  return 0;
if (sizeof (pid_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26956: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26959: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26962: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26965: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_pid_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_pid_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:26975: result: $ac_cv_type_pid_t" >&5
echo "${ECHO_T}$ac_cv_type_pid_t" >&6
if test $ac_cv_type_pid_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define pid_t int
EOF

fi

echo "$as_me:26987: checking for uid_t in sys/types.h" >&5
echo $ECHO_N "checking for uid_t in sys/types.h... $ECHO_C" >&6
if test "${ac_cv_type_uid_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 26993 "configure"
#include "confdefs.h"
#include <sys/types.h>

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "uid_t" >/dev/null 2>&1; then
  ac_cv_type_uid_t=yes
else
  ac_cv_type_uid_t=no
fi
rm -rf conftest*

fi
echo "$as_me:27007: result: $ac_cv_type_uid_t" >&5
echo "${ECHO_T}$ac_cv_type_uid_t" >&6
if test $ac_cv_type_uid_t = no; then

cat >>confdefs.h <<\EOF
#define uid_t int
EOF

cat >>confdefs.h <<\EOF
#define gid_t int
EOF

fi

echo "$as_me:27021: checking for mode_t" >&5
echo $ECHO_N "checking for mode_t... $ECHO_C" >&6
if test "${ac_cv_type_mode_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27027 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((mode_t *) 0)
  return 0;
if (sizeof (mode_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27042: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27045: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27048: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27051: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_mode_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_mode_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:27061: result: $ac_cv_type_mode_t" >&5
echo "${ECHO_T}$ac_cv_type_mode_t" >&6
if test $ac_cv_type_mode_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define mode_t int
EOF

fi

	echo "$as_me:27073: checking for ssize_t" >&5
echo $ECHO_N "checking for ssize_t... $ECHO_C" >&6
if test "${ac_cv_type_ssize_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27079 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((ssize_t *) 0)
  return 0;
if (sizeof (ssize_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27094: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27097: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27100: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27103: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_ssize_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_ssize_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:27113: result: $ac_cv_type_ssize_t" >&5
echo "${ECHO_T}$ac_cv_type_ssize_t" >&6
if test $ac_cv_type_ssize_t = yes; then
  ac_cv_type_ssize_t=yes
else
  ac_cv_type_ssize_t=no
fi

	if test $ac_cv_type_ssize_t = no; then

cat >>confdefs.h <<\EOF
#define ssize_t int
EOF

fi

	echo "$as_me:27129: checking for socklen_t" >&5
echo $ECHO_N "checking for socklen_t... $ECHO_C" >&6
if test "${ac_cv_type_socklen_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27135 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/socket.h>

int
main ()
{
if ((socklen_t *) 0)
  return 0;
if (sizeof (socklen_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27153: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27156: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27159: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27162: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_socklen_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_socklen_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:27172: result: $ac_cv_type_socklen_t" >&5
echo "${ECHO_T}$ac_cv_type_socklen_t" >&6
if test $ac_cv_type_socklen_t = yes; then
  ac_cv_type_socklen_t=yes
else
  ac_cv_type_socklen_t=no
fi

	if test $ac_cv_type_socklen_t = no; then

cat >>confdefs.h <<\EOF
#define socklen_t int
EOF

fi

echo "$as_me:27188: checking for long long type" >&5
echo $ECHO_N "checking for long long type... $ECHO_C" >&6
if test "${cf_cv_type_long_long+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_CFEOF
#include "confdefs.h"
int
main (void)
{
	long long foo = 123456789123456789LL;
	return (foo == 0);
}
_CFEOF
	(eval $ac_compile) 2>conftest.err
	ac_status=$?
	if test $ac_status = 0 && test -s conftest.err
	then
		fgrep warning conftest.err >/dev/null 2>&1 && ac_status=1
	fi
	if test $ac_status != 0
	then
		cf_cv_type_long_long=no
	else
		cf_cv_type_long_long=yes
	fi
	test -s conftest.err && cat conftest.err >&5
	rm -f conftest*

fi
echo "$as_me:27219: result: $cf_cv_type_long_long" >&5
echo "${ECHO_T}$cf_cv_type_long_long" >&6

if test "$cf_cv_type_long_long" = yes ; then

cat >>confdefs.h <<\EOF
#define HAVE_LONG_LONG 1
EOF

fi

echo "$as_me:27230: checking for tm.tm_gmtoff" >&5
echo $ECHO_N "checking for tm.tm_gmtoff... $ECHO_C" >&6
if test "${cf_cv_tm_gmtoff+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 27237 "configure"
#include "confdefs.h"

#ifdef TIME_WITH_SYS_TIME
#	include <sys/time.h>
#	include <time.h>
#else
#	ifdef HAVE_SYS_TIME_H
#		include <sys/time.h>
#	else
#		include <time.h>
#	endif
#endif

int
main ()
{

	struct tm foo;
	long bar = foo.tm_gmtoff
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27262: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27265: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27268: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27271: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_tm_gmtoff=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_tm_gmtoff=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi

echo "$as_me:27282: result: $cf_cv_tm_gmtoff" >&5
echo "${ECHO_T}$cf_cv_tm_gmtoff" >&6
test $cf_cv_tm_gmtoff = no &&
cat >>confdefs.h <<\EOF
#define DONT_HAVE_TM_GMTOFF 1
EOF

echo "$as_me:27289: checking for int" >&5
echo $ECHO_N "checking for int... $ECHO_C" >&6
if test "${ac_cv_type_int+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27295 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((int *) 0)
  return 0;
if (sizeof (int))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27310: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27313: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27316: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27319: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_int=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_int=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:27329: result: $ac_cv_type_int" >&5
echo "${ECHO_T}$ac_cv_type_int" >&6

echo "$as_me:27332: checking size of int" >&5
echo $ECHO_N "checking size of int... $ECHO_C" >&6
if test "${ac_cv_sizeof_int+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$ac_cv_type_int" = yes; then
  if test "$cross_compiling" = yes; then
  # Depending upon the size, compute the lo and hi bounds.
cat >conftest.$ac_ext <<_ACEOF
#line 27341 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (int)) >= 0)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27353: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27356: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27359: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27362: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=0 ac_mid=0
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 27367 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (int)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27379: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27382: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27385: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27388: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`; ac_mid=`expr 2 '*' $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=-1 ac_mid=-1
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 27404 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (int)) >= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27416: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27419: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27422: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27425: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=`expr $ac_mid - 1`; ac_mid=`expr 2 '*' $ac_mid`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
fi
rm -f conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
  cat >conftest.$ac_ext <<_ACEOF
#line 27441 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (int)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27453: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27456: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27459: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27462: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done
ac_cv_sizeof_int=$ac_lo
else
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:27475: error: cannot run test program while cross compiling" >&5
echo "$as_me: error: cannot run test program while cross compiling" >&2;}
   { (exit 1); exit 1; }; }
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27480 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
FILE *f = fopen ("conftest.val", "w");
if (!f)
  $ac_main_return (1);
fprintf (f, "%d", (sizeof (int)));
fclose (f);
  ;
  return 0;
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:27496: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:27499: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:27501: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27504: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sizeof_int=`cat conftest.val`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
rm -f conftest.val
else
  ac_cv_sizeof_int=0
fi
fi
echo "$as_me:27520: result: $ac_cv_sizeof_int" >&5
echo "${ECHO_T}$ac_cv_sizeof_int" >&6
cat >>confdefs.h <<EOF
#define SIZEOF_INT $ac_cv_sizeof_int
EOF

if test "${ac_cv_type_int:+set}" = set; then
	if test "${ac_cv_sizeof_int:+set}" != set; then
		{ echo "$as_me:27528: WARNING: using 4 for sizeof int" >&5
echo "$as_me: WARNING: using 4 for sizeof int" >&2;}
		ac_cv_sizeof_int=4
	elif test "x${ac_cv_sizeof_int}" = x0; then
		{ echo "$as_me:27532: WARNING: sizeof int not found, using 4" >&5
echo "$as_me: WARNING: sizeof int not found, using 4" >&2;}
		ac_cv_sizeof_int=4
	fi
fi

echo "$as_me:27538: checking for long" >&5
echo $ECHO_N "checking for long... $ECHO_C" >&6
if test "${ac_cv_type_long+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27544 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((long *) 0)
  return 0;
if (sizeof (long))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27559: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27562: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27565: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27568: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_long=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_long=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:27578: result: $ac_cv_type_long" >&5
echo "${ECHO_T}$ac_cv_type_long" >&6

echo "$as_me:27581: checking size of long" >&5
echo $ECHO_N "checking size of long... $ECHO_C" >&6
if test "${ac_cv_sizeof_long+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$ac_cv_type_long" = yes; then
  if test "$cross_compiling" = yes; then
  # Depending upon the size, compute the lo and hi bounds.
cat >conftest.$ac_ext <<_ACEOF
#line 27590 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (long)) >= 0)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27602: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27605: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27608: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27611: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=0 ac_mid=0
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 27616 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (long)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27628: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27631: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27634: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27637: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`; ac_mid=`expr 2 '*' $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=-1 ac_mid=-1
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 27653 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (long)) >= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27665: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27668: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27671: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27674: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=`expr $ac_mid - 1`; ac_mid=`expr 2 '*' $ac_mid`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
fi
rm -f conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
  cat >conftest.$ac_ext <<_ACEOF
#line 27690 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (long)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27702: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27705: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27708: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27711: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done
ac_cv_sizeof_long=$ac_lo
else
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:27724: error: cannot run test program while cross compiling" >&5
echo "$as_me: error: cannot run test program while cross compiling" >&2;}
   { (exit 1); exit 1; }; }
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27729 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
FILE *f = fopen ("conftest.val", "w");
if (!f)
  $ac_main_return (1);
fprintf (f, "%d", (sizeof (long)));
fclose (f);
  ;
  return 0;
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:27745: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:27748: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:27750: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27753: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sizeof_long=`cat conftest.val`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
rm -f conftest.val
else
  ac_cv_sizeof_long=0
fi
fi
echo "$as_me:27769: result: $ac_cv_sizeof_long" >&5
echo "${ECHO_T}$ac_cv_sizeof_long" >&6
cat >>confdefs.h <<EOF
#define SIZEOF_LONG $ac_cv_sizeof_long
EOF

if test "${ac_cv_type_long:+set}" = set; then
	if test "${ac_cv_sizeof_long:+set}" != set; then
		{ echo "$as_me:27777: WARNING: using 4 for sizeof long" >&5
echo "$as_me: WARNING: using 4 for sizeof long" >&2;}
		ac_cv_sizeof_long=4
	elif test "x${ac_cv_sizeof_long}" = x0; then
		{ echo "$as_me:27781: WARNING: sizeof long not found, using 4" >&5
echo "$as_me: WARNING: sizeof long not found, using 4" >&2;}
		ac_cv_sizeof_long=4
	fi
fi

echo "$as_me:27787: checking for off_t" >&5
echo $ECHO_N "checking for off_t... $ECHO_C" >&6
if test "${ac_cv_type_off_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27793 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((off_t *) 0)
  return 0;
if (sizeof (off_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27808: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27811: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27814: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27817: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_off_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_off_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:27827: result: $ac_cv_type_off_t" >&5
echo "${ECHO_T}$ac_cv_type_off_t" >&6

echo "$as_me:27830: checking size of off_t" >&5
echo $ECHO_N "checking size of off_t... $ECHO_C" >&6
if test "${ac_cv_sizeof_off_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$ac_cv_type_off_t" = yes; then
  if test "$cross_compiling" = yes; then
  # Depending upon the size, compute the lo and hi bounds.
cat >conftest.$ac_ext <<_ACEOF
#line 27839 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (off_t)) >= 0)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27851: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27854: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27857: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27860: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=0 ac_mid=0
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 27865 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (off_t)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27877: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27880: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27883: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27886: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`; ac_mid=`expr 2 '*' $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=-1 ac_mid=-1
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 27902 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (off_t)) >= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27914: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27917: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27920: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27923: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=`expr $ac_mid - 1`; ac_mid=`expr 2 '*' $ac_mid`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
fi
rm -f conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
  cat >conftest.$ac_ext <<_ACEOF
#line 27939 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (off_t)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:27951: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:27954: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:27957: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:27960: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done
ac_cv_sizeof_off_t=$ac_lo
else
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:27973: error: cannot run test program while cross compiling" >&5
echo "$as_me: error: cannot run test program while cross compiling" >&2;}
   { (exit 1); exit 1; }; }
else
  cat >conftest.$ac_ext <<_ACEOF
#line 27978 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
FILE *f = fopen ("conftest.val", "w");
if (!f)
  $ac_main_return (1);
fprintf (f, "%d", (sizeof (off_t)));
fclose (f);
  ;
  return 0;
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:27994: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:27997: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:27999: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28002: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sizeof_off_t=`cat conftest.val`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
rm -f conftest.val
else
  ac_cv_sizeof_off_t=0
fi
fi
echo "$as_me:28018: result: $ac_cv_sizeof_off_t" >&5
echo "${ECHO_T}$ac_cv_sizeof_off_t" >&6
cat >>confdefs.h <<EOF
#define SIZEOF_OFF_T $ac_cv_sizeof_off_t
EOF

if test "${ac_cv_type_off_t:+set}" = set; then
	if test "${ac_cv_sizeof_off_t:+set}" != set; then
		{ echo "$as_me:28026: WARNING: using 4 for sizeof off_t" >&5
echo "$as_me: WARNING: using 4 for sizeof off_t" >&2;}
		ac_cv_sizeof_off_t=4
	elif test "x${ac_cv_sizeof_off_t}" = x0; then
		{ echo "$as_me:28030: WARNING: sizeof off_t not found, using 4" >&5
echo "$as_me: WARNING: sizeof off_t not found, using 4" >&2;}
		ac_cv_sizeof_off_t=4
	fi
fi

echo "$as_me:28036: checking for time_t" >&5
echo $ECHO_N "checking for time_t... $ECHO_C" >&6
if test "${ac_cv_type_time_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28042 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((time_t *) 0)
  return 0;
if (sizeof (time_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:28057: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:28060: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:28063: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28066: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_time_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_time_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:28076: result: $ac_cv_type_time_t" >&5
echo "${ECHO_T}$ac_cv_type_time_t" >&6

echo "$as_me:28079: checking size of time_t" >&5
echo $ECHO_N "checking size of time_t... $ECHO_C" >&6
if test "${ac_cv_sizeof_time_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$ac_cv_type_time_t" = yes; then
  if test "$cross_compiling" = yes; then
  # Depending upon the size, compute the lo and hi bounds.
cat >conftest.$ac_ext <<_ACEOF
#line 28088 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (time_t)) >= 0)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:28100: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:28103: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:28106: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28109: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=0 ac_mid=0
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 28114 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (time_t)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:28126: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:28129: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:28132: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28135: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`; ac_mid=`expr 2 '*' $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=-1 ac_mid=-1
  while :; do
    cat >conftest.$ac_ext <<_ACEOF
#line 28151 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (time_t)) >= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:28163: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:28166: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:28169: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28172: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_lo=$ac_mid; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_hi=`expr $ac_mid - 1`; ac_mid=`expr 2 '*' $ac_mid`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  done
fi
rm -f conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  ac_mid=`expr '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo`
  cat >conftest.$ac_ext <<_ACEOF
#line 28188 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
int _array_ [1 - 2 * !((sizeof (time_t)) <= $ac_mid)]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:28200: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:28203: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:28206: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28209: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_hi=$ac_mid
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_lo=`expr $ac_mid + 1`
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done
ac_cv_sizeof_time_t=$ac_lo
else
  if test "$cross_compiling" = yes; then
  { { echo "$as_me:28222: error: cannot run test program while cross compiling" >&5
echo "$as_me: error: cannot run test program while cross compiling" >&2;}
   { (exit 1); exit 1; }; }
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28227 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
FILE *f = fopen ("conftest.val", "w");
if (!f)
  $ac_main_return (1);
fprintf (f, "%d", (sizeof (time_t)));
fclose (f);
  ;
  return 0;
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:28243: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28246: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:28248: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28251: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sizeof_time_t=`cat conftest.val`
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
rm -f conftest.val
else
  ac_cv_sizeof_time_t=0
fi
fi
echo "$as_me:28267: result: $ac_cv_sizeof_time_t" >&5
echo "${ECHO_T}$ac_cv_sizeof_time_t" >&6
cat >>confdefs.h <<EOF
#define SIZEOF_TIME_T $ac_cv_sizeof_time_t
EOF

if test "${ac_cv_type_time_t:+set}" = set; then
	if test "${ac_cv_sizeof_time_t:+set}" != set; then
		{ echo "$as_me:28275: WARNING: using 4 for sizeof time_t" >&5
echo "$as_me: WARNING: using 4 for sizeof time_t" >&2;}
		ac_cv_sizeof_time_t=4
	elif test "x${ac_cv_sizeof_time_t}" = x0; then
		{ echo "$as_me:28279: WARNING: sizeof time_t not found, using 4" >&5
echo "$as_me: WARNING: sizeof time_t not found, using 4" >&2;}
		ac_cv_sizeof_time_t=4
	fi
fi

echo "$as_me:28285: checking for intptr_t" >&5
echo $ECHO_N "checking for intptr_t... $ECHO_C" >&6
if test "${ac_cv_type_intptr_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28291 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((intptr_t *) 0)
  return 0;
if (sizeof (intptr_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:28306: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:28309: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:28312: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28315: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_intptr_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_intptr_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:28325: result: $ac_cv_type_intptr_t" >&5
echo "${ECHO_T}$ac_cv_type_intptr_t" >&6
if test $ac_cv_type_intptr_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define intptr_t long
EOF

fi

# The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
# for constant arguments.  Useless!
echo "$as_me:28339: checking for working alloca.h" >&5
echo $ECHO_N "checking for working alloca.h... $ECHO_C" >&6
if test "${ac_cv_working_alloca_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28345 "configure"
#include "confdefs.h"
#include <alloca.h>
int
main ()
{
char *p = (char *) alloca (2 * sizeof (int));
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:28357: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28360: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:28363: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28366: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_working_alloca_h=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_working_alloca_h=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:28376: result: $ac_cv_working_alloca_h" >&5
echo "${ECHO_T}$ac_cv_working_alloca_h" >&6
if test $ac_cv_working_alloca_h = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA_H 1
EOF

fi

echo "$as_me:28386: checking for alloca" >&5
echo $ECHO_N "checking for alloca... $ECHO_C" >&6
if test "${ac_cv_func_alloca_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28392 "configure"
#include "confdefs.h"
#ifdef __GNUC__
# define alloca __builtin_alloca
#else
# ifdef _MSC_VER
#  include <malloc.h>
#  define alloca _alloca
# else
#  if HAVE_ALLOCA_H
#   include <alloca.h>
#  else
#   ifdef _AIX
 #pragma alloca
#   else
#    ifndef alloca /* predefined by HP cc +Olibcalls */
char *alloca ();
#    endif
#   endif
#  endif
# endif
#endif

int
main ()
{
char *p = (char *) alloca (1);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:28424: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28427: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:28430: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28433: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_alloca_works=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_alloca_works=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:28443: result: $ac_cv_func_alloca_works" >&5
echo "${ECHO_T}$ac_cv_func_alloca_works" >&6

if test $ac_cv_func_alloca_works = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA 1
EOF

else
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
# that cause trouble.  Some versions do not even contain alloca or
# contain a buggy version.  If you still want to use their alloca,
# use ar to extract alloca.o from them instead of compiling alloca.c.

ALLOCA=alloca.$ac_objext

cat >>confdefs.h <<\EOF
#define C_ALLOCA 1
EOF

echo "$as_me:28464: checking whether \`alloca.c' needs Cray hooks" >&5
echo $ECHO_N "checking whether \`alloca.c' needs Cray hooks... $ECHO_C" >&6
if test "${ac_cv_os_cray+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28470 "configure"
#include "confdefs.h"
#if defined(CRAY) && ! defined(CRAY2)
webecray
#else
wenotbecray
#endif

_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "webecray" >/dev/null 2>&1; then
  ac_cv_os_cray=yes
else
  ac_cv_os_cray=no
fi
rm -rf conftest*

fi
echo "$as_me:28488: result: $ac_cv_os_cray" >&5
echo "${ECHO_T}$ac_cv_os_cray" >&6
if test $ac_cv_os_cray = yes; then
  for ac_func in _getb67 GETB67 getb67; do
    as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:28493: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28499 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:28530: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28533: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:28536: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28539: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:28549: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then

cat >>confdefs.h <<EOF
#define CRAY_STACKSEG_END $ac_func
EOF

    break
fi

  done
fi

echo "$as_me:28563: checking stack direction for C alloca" >&5
echo $ECHO_N "checking stack direction for C alloca... $ECHO_C" >&6
if test "${ac_cv_c_stack_direction+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_stack_direction=0
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28572 "configure"
#include "confdefs.h"
int
find_stack_direction ()
{
  static char *addr = 0;
  auto char dummy;
  if (addr == 0)
    {
      addr = &dummy;
      return find_stack_direction ();
    }
  else
    return (&dummy > addr) ? 1 : -1;
}

int
main ()
{
  $ac_main_return (find_stack_direction () < 0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:28595: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28598: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:28600: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28603: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_stack_direction=1
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_c_stack_direction=-1
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:28615: result: $ac_cv_c_stack_direction" >&5
echo "${ECHO_T}$ac_cv_c_stack_direction" >&6

cat >>confdefs.h <<EOF
#define STACK_DIRECTION $ac_cv_c_stack_direction
EOF

fi

for ac_header in unistd.h vfork.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:28627: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28633 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:28637: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:28643: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:28662: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

for ac_func in fork vfork
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:28675: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28681 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:28712: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28715: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:28718: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28721: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:28731: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

ac_cv_func_fork_works=$ac_cv_func_fork
if test "x$ac_cv_func_fork" = xyes; then
  echo "$as_me:28743: checking for working fork" >&5
echo $ECHO_N "checking for working fork... $ECHO_C" >&6
if test "${ac_cv_func_fork_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_func_fork_works=cross
else
  cat >conftest.$ac_ext <<_ACEOF
/* By Rdiger Kuhlmann. */
      #include <sys/types.h>
      #if HAVE_UNISTD_H
      # include <unistd.h>
      #endif
      /* Some systems only have a dummy stub for fork() */
      int main ()
      {
        if (fork() < 0)
          $ac_main_return (1);
        $ac_main_return (0);
      }
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:28766: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28769: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:28771: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28774: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_fork_works=yes
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_fork_works=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:28786: result: $ac_cv_func_fork_works" >&5
echo "${ECHO_T}$ac_cv_func_fork_works" >&6

fi
if test "x$ac_cv_func_fork_works" = xcross; then
  case $host in
    *-*-amigaos* | *-*-msdosdjgpp*)
      # Override, as these systems have only a dummy fork() stub
      ac_cv_func_fork_works=no
      ;;
    *)
      ac_cv_func_fork_works=yes
      ;;
  esac
  { echo "$as_me:28800: WARNING: CROSS: Result $ac_cv_func_fork_works guessed due to cross-compiling." >&5
echo "$as_me: WARNING: CROSS: Result $ac_cv_func_fork_works guessed due to cross-compiling." >&2;}
fi
ac_cv_func_vfork_works=$ac_cv_func_vfork
if test "x$ac_cv_func_vfork" = xyes; then
  echo "$as_me:28805: checking for working vfork" >&5
echo $ECHO_N "checking for working vfork... $ECHO_C" >&6
if test "${ac_cv_func_vfork_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_func_vfork_works=cross
else
  cat >conftest.$ac_ext <<_ACEOF
#line 28814 "configure"
#include "confdefs.h"
/* Thanks to Paul Eggert for this test.  */
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#if HAVE_UNISTD_H
# include <unistd.h>
#endif
#if HAVE_VFORK_H
# include <vfork.h>
#endif
/* On some sparc systems, changes by the child to local and incoming
   argument registers are propagated back to the parent.  The compiler
   is told about this with #include <vfork.h>, but some compilers
   (e.g. gcc -O) don't grok <vfork.h>.  Test for this by using a
   static variable whose address is put into a register that is
   clobbered by the vfork.  */
static
#ifdef __cplusplus
sparc_address_test (int arg)
# else
sparc_address_test (arg) int arg;
#endif
{
  static pid_t child;
  if (!child) {
    child = vfork ();
    if (child < 0) {
      perror ("vfork");
      _exit(2);
    }
    if (!child) {
      arg = getpid();
      write(-1, "", 0);
      _exit (arg);
    }
  }
}

int
main ()
{
  pid_t parent = getpid ();
  pid_t child;

  sparc_address_test ();

  child = vfork ();

  if (child == 0) {
    /* Here is another test for sparc vfork register problems.  This
       test uses lots of local variables, at least as many local
       variables as main has allocated so far including compiler
       temporaries.  4 locals are enough for gcc 1.40.3 on a Solaris
       4.1.3 sparc, but we use 8 to be safe.  A buggy compiler should
       reuse the register of parent for one of the local variables,
       since it will think that parent can't possibly be used any more
       in this routine.  Assigning to the local variable will thus
       munge parent in the parent process.  */
    pid_t
      p = getpid(), p1 = getpid(), p2 = getpid(), p3 = getpid(),
      p4 = getpid(), p5 = getpid(), p6 = getpid(), p7 = getpid();
    /* Convince the compiler that p..p7 are live; otherwise, it might
       use the same hardware register for all 8 local variables.  */
    if (p != p1 || p != p2 || p != p3 || p != p4
	|| p != p5 || p != p6 || p != p7)
      _exit(1);

    /* On some systems (e.g. IRIX 3.3), vfork doesn't separate parent
       from child file descriptors.  If the child closes a descriptor
       before it execs or exits, this munges the parent's descriptor
       as well.  Test for this by closing stdout in the child.  */
    _exit(close(fileno(stdout)) != 0);
  } else {
    int status;
    struct stat st;

    while (wait(&status) != child)
      ;
    $ac_main_return(
	 /* Was there some problem with vforking?  */
	 child < 0

	 /* Did the child fail?  (This shouldn't happen.)  */
	 || status

	 /* Did the vfork/compiler bug occur?  */
	 || parent != getpid()

	 /* Did the file descriptor bug occur?  */
	 || fstat(fileno(stdout), &st) != 0
	 );
  }
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:28911: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28914: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:28916: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28919: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_vfork_works=yes
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_vfork_works=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:28931: result: $ac_cv_func_vfork_works" >&5
echo "${ECHO_T}$ac_cv_func_vfork_works" >&6

fi;
if test "x$ac_cv_func_fork_works" = xcross; then
  ac_cv_func_vfork_works=ac_cv_func_vfork
  { echo "$as_me:28937: WARNING: CROSS: Result $ac_cv_func_vfork_works guessed due to cross-compiling." >&5
echo "$as_me: WARNING: CROSS: Result $ac_cv_func_vfork_works guessed due to cross-compiling." >&2;}
fi

if test "x$ac_cv_func_vfork_works" = xyes; then

cat >>confdefs.h <<\EOF
#define HAVE_WORKING_VFORK 1
EOF

else

cat >>confdefs.h <<\EOF
#define vfork fork
EOF

fi
if test "x$ac_cv_func_fork_works" = xyes; then

cat >>confdefs.h <<\EOF
#define HAVE_WORKING_FORK 1
EOF

fi

echo "$as_me:28962: checking if we should use fcntl or ioctl" >&5
echo $ECHO_N "checking if we should use fcntl or ioctl... $ECHO_C" >&6
if test "${cf_cv_fionbio+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 28969 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/ioctl.h>

int
main ()
{

        int ret = ioctl(0, FIONBIO, (char *)0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:28986: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:28989: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:28992: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:28995: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_fionbio=ioctl
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

cat >conftest.$ac_ext <<_ACEOF
#line 29003 "configure"
#include "confdefs.h"

#include <sys/types.h>
#if HAVE_FCNTL_H
#include <fcntl.h>
#else
#if HAVE_SYS_FCNTL_H
#include <sys/fcntl.h>
#endif
#endif
int
main ()
{

        int ret = fcntl(0, F_SETFL, O_NONBLOCK);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:29025: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:29028: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:29031: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29034: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_fionbio=fcntl
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_fionbio=unknown
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:29047: result: $cf_cv_fionbio" >&5
echo "${ECHO_T}$cf_cv_fionbio" >&6
test "$cf_cv_fionbio" = "fcntl" &&
cat >>confdefs.h <<\EOF
#define USE_FCNTL 1
EOF

echo "$as_me:29054: checking for broken/missing definition of remove" >&5
echo $ECHO_N "checking for broken/missing definition of remove... $ECHO_C" >&6
if test "${cf_cv_baddef_remove+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 29061 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
remove("dummy")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:29073: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:29076: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:29079: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29082: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_baddef_remove=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 29089 "configure"
#include "confdefs.h"
#include <stdio.h>
		int __unlink(name) { return unlink(name); }
int
main ()
{
remove("dummy")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:29102: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:29105: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:29108: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29111: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_baddef_remove=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_baddef_remove=unknown
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

echo "$as_me:29126: result: $cf_cv_baddef_remove" >&5
echo "${ECHO_T}$cf_cv_baddef_remove" >&6
test "$cf_cv_baddef_remove" != no &&
cat >>confdefs.h <<\EOF
#define NEED_REMOVE 1
EOF

echo "$as_me:29133: checking for lstat" >&5
echo $ECHO_N "checking for lstat... $ECHO_C" >&6
if test "${ac_cv_func_lstat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 29140 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/stat.h>
int
main ()
{
lstat(".", (struct stat *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:29154: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:29157: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:29160: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29163: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_lstat=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_lstat=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

echo "$as_me:29175: result: $ac_cv_func_lstat " >&5
echo "${ECHO_T}$ac_cv_func_lstat " >&6
if test $ac_cv_func_lstat = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_LSTAT 1
EOF

fi

for ac_func in \
	atoll \
	ctermid \
	cuserid \
	ftime \
	getcwd \
	getgroups \
	gettimeofday \
	getuid \
	mktemp \
	mkdtemp \
	popen \
	putenv \
	readdir \
	setuid \
	strerror \
	truncate \
	ttyname \
	unsetenv \
	sleep usleep \
	vasprintf \
	waitpid \

do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:29210: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 29216 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:29247: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:29250: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:29253: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29256: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:29266: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

for ac_func in \
	mktime \
	strstr \

do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:29282: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 29288 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:29319: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:29322: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:29325: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29328: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:29338: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

else
  LIBOBJS="$LIBOBJS $ac_func.$ac_objext"
fi
done

echo "$as_me:29350: checking for random-integer functions" >&5
echo $ECHO_N "checking for random-integer functions... $ECHO_C" >&6
if test "${cf_cv_srand_func+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_srand_func=unknown
for cf_func in arc4random_push/arc4random arc4random_stir/arc4random srandom/random srand48/lrand48 srand/rand
do

	cf_srand_func=`echo $cf_func | sed -e 's%/.*%%'`
	cf_rand_func=`echo $cf_func | sed -e 's%.*/%%'`

	case $cf_srand_func in #(vi
	arc4random_stir)
		cf_srand_func='(void)'
		;;
	esac

cat >conftest.$ac_ext <<_ACEOF
#line 29370 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif

int
main ()
{
long seed = 1; $cf_srand_func(seed); seed = $cf_rand_func()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:29389: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:29392: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:29395: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29398: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_srand_func=$cf_func
 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
done

fi
echo "$as_me:29410: result: $cf_cv_srand_func" >&5
echo "${ECHO_T}$cf_cv_srand_func" >&6
if test "$cf_cv_srand_func" != unknown ; then
	echo "$as_me:29413: checking for range of random-integers" >&5
echo $ECHO_N "checking for range of random-integers... $ECHO_C" >&6
if test "${cf_cv_rand_max+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		case $cf_cv_srand_func in
		srand/rand)
			cf_cv_rand_max=RAND_MAX
			cf_rand_max=16
			;;
		*/arc4random)
			cf_cv_rand_max=0xFFFFFFFFUL
			cf_rand_max=32
			;;
		*)
			cf_cv_rand_max=INT_MAX
			cf_rand_max=31
			;;
		esac
		cat >conftest.$ac_ext <<_ACEOF
#line 29434 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif

int
main ()
{
long x = $cf_cv_rand_max
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29453: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29456: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29459: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29462: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_rand_max="(1L<<$cf_rand_max)-1"
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:29473: result: $cf_cv_rand_max" >&5
echo "${ECHO_T}$cf_cv_rand_max" >&6

	case $cf_cv_srand_func in
	*/arc4random)
		echo "$as_me:29478: checking if <bsd/stdlib.h> should be included" >&5
echo $ECHO_N "checking if <bsd/stdlib.h> should be included... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
#line 29481 "configure"
#include "confdefs.h"
#include <bsd/stdlib.h>
int
main ()
{
void *arc4random(int);
						void *x = arc4random(1)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29494: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29497: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29500: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29503: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_bsd_stdlib_h=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 29510 "configure"
#include "confdefs.h"
#include <bsd/stdlib.h>
int
main ()
{
unsigned x = arc4random()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29522: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29525: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29528: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29531: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_bsd_stdlib_h=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_bsd_stdlib_h=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	    echo "$as_me:29542: result: $cf_bsd_stdlib_h" >&5
echo "${ECHO_T}$cf_bsd_stdlib_h" >&6
		if test "$cf_bsd_stdlib_h" = yes
		then

cat >>confdefs.h <<\EOF
#define HAVE_BSD_STDLIB_H 1
EOF

		else
			echo "$as_me:29552: checking if <bsd/random.h> should be included" >&5
echo $ECHO_N "checking if <bsd/random.h> should be included... $ECHO_C" >&6
			cat >conftest.$ac_ext <<_ACEOF
#line 29555 "configure"
#include "confdefs.h"
#include <bsd/random.h>
int
main ()
{
void *arc4random(int);
							void *x = arc4random(1)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29568: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29571: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29574: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29577: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_bsd_random_h=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 29584 "configure"
#include "confdefs.h"
#include <bsd/random.h>
int
main ()
{
unsigned x = arc4random()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29596: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29599: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29602: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29605: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_bsd_random_h=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_bsd_random_h=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			echo "$as_me:29616: result: $cf_bsd_random_h" >&5
echo "${ECHO_T}$cf_bsd_random_h" >&6
			if test "$cf_bsd_random_h" = yes
			then

cat >>confdefs.h <<\EOF
#define HAVE_BSD_RANDOM_H 1
EOF

			else
				{ echo "$as_me:29626: WARNING: no header file found for arc4random" >&5
echo "$as_me: WARNING: no header file found for arc4random" >&2;}
			fi
		fi
		;;
	esac

	cf_srand_func=`echo $cf_func | sed -e 's%/.*%%'`
	cf_rand_func=`echo $cf_func | sed -e 's%.*/%%'`

	case $cf_srand_func in #(vi
	arc4random_stir)
		cf_srand_func='(void)'
		;;
	esac

cf_rand_max=`echo "lynx_rand_max" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<EOF
#define lynx_srand $cf_srand_func
EOF

cat >>confdefs.h <<EOF
#define lynx_rand $cf_rand_func
EOF

cat >>confdefs.h <<EOF
#define $cf_rand_max $cf_cv_rand_max
EOF

fi

for ac_func in sleep
do

echo "$as_me:29661: checking for $ac_func declaration" >&5
echo $ECHO_N "checking for $ac_func declaration... $ECHO_C" >&6
if eval "test \"\${ac_cv_func_decl_$ac_func+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 29667 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif

int
main ()
{
#ifndef $ac_func
extern	int	$ac_func();
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29688: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29691: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29694: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29697: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

cat >conftest.$ac_ext <<_ACEOF
#line 29701 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif

int
main ()
{
#ifndef $ac_func
int	(*p)() = $ac_func;
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29722: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29725: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29728: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29731: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

eval "ac_cv_func_decl_$ac_func=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

eval "ac_cv_func_decl_$ac_func=no"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi

if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  echo "$as_me:29752: result: yes" >&5
echo "${ECHO_T}yes" >&6
  :
else
  echo "$as_me:29756: result: no" >&5
echo "${ECHO_T}no" >&6

ac_tr_func=`echo "DECL_$ac_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

  cat >>confdefs.h <<EOF
#define $ac_tr_func 1
EOF

fi
done

for ac_func in strstr
do

echo "$as_me:29771: checking for $ac_func declaration" >&5
echo $ECHO_N "checking for $ac_func declaration... $ECHO_C" >&6
if eval "test \"\${ac_cv_func_decl_$ac_func+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 29777 "configure"
#include "confdefs.h"
#include <string.h>
int
main ()
{
#ifndef $ac_func
extern	int	$ac_func();
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29791: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29794: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29797: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29800: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

cat >conftest.$ac_ext <<_ACEOF
#line 29804 "configure"
#include "confdefs.h"
#include <string.h>
int
main ()
{
#ifndef $ac_func
int	(*p)() = $ac_func;
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29818: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29821: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29824: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29827: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

eval "ac_cv_func_decl_$ac_func=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

eval "ac_cv_func_decl_$ac_func=no"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi

if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  echo "$as_me:29848: result: yes" >&5
echo "${ECHO_T}yes" >&6
  :
else
  echo "$as_me:29852: result: no" >&5
echo "${ECHO_T}no" >&6

ac_tr_func=`echo "DECL_$ac_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

  cat >>confdefs.h <<EOF
#define $ac_tr_func 1
EOF

fi
done

for ac_func in getgrgid getgrnam
do

echo "$as_me:29867: checking for $ac_func declaration" >&5
echo $ECHO_N "checking for $ac_func declaration... $ECHO_C" >&6
if eval "test \"\${ac_cv_func_decl_$ac_func+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 29873 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <grp.h>
int
main ()
{
#ifndef $ac_func
extern	int	$ac_func();
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29889: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29892: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29895: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29898: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

cat >conftest.$ac_ext <<_ACEOF
#line 29902 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <grp.h>
int
main ()
{
#ifndef $ac_func
int	(*p)() = $ac_func;
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29918: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29921: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29924: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29927: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

eval "ac_cv_func_decl_$ac_func=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

eval "ac_cv_func_decl_$ac_func=no"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi

if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  echo "$as_me:29948: result: yes" >&5
echo "${ECHO_T}yes" >&6
  :
else
  echo "$as_me:29952: result: no" >&5
echo "${ECHO_T}no" >&6

ac_tr_func=`echo "DECL_$ac_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

  cat >>confdefs.h <<EOF
#define $ac_tr_func 1
EOF

fi
done

echo "$as_me:29964: checking if TRUE/FALSE are defined" >&5
echo $ECHO_N "checking if TRUE/FALSE are defined... $ECHO_C" >&6
if test "${cf_cv_bool_defs+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 29971 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
#include <stdio.h>
int
main ()
{
int x = TRUE, y = FALSE
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:29985: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:29988: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:29991: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:29994: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_bool_defs=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_bool_defs=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi

echo "$as_me:30005: result: $cf_cv_bool_defs" >&5
echo "${ECHO_T}$cf_cv_bool_defs" >&6
if test "$cf_cv_bool_defs" = no ; then

cat >>confdefs.h <<\EOF
#define TRUE (1)
EOF

cat >>confdefs.h <<\EOF
#define FALSE (0)
EOF

fi

echo "$as_me:30019: checking if external errno is declared" >&5
echo $ECHO_N "checking if external errno is declared... $ECHO_C" >&6
if test "${cf_cv_dcl_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 30026 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
int
main ()
{
int x = (int) errno
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30044: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30047: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30050: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30053: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_dcl_errno=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_dcl_errno=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:30064: result: $cf_cv_dcl_errno" >&5
echo "${ECHO_T}$cf_cv_dcl_errno" >&6

if test "$cf_cv_dcl_errno" = no ; then

cf_result=`echo "decl_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF

fi

# It's possible (for near-UNIX clones) that the data doesn't exist

echo "$as_me:30079: checking if external errno exists" >&5
echo $ECHO_N "checking if external errno exists... $ECHO_C" >&6
if test "${cf_cv_have_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 30086 "configure"
#include "confdefs.h"

#undef errno
extern int errno;

int
main ()
{
errno = 2
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:30101: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:30104: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:30107: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30110: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_errno=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_errno=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:30121: result: $cf_cv_have_errno" >&5
echo "${ECHO_T}$cf_cv_have_errno" >&6

if test "$cf_cv_have_errno" = yes ; then

cf_result=`echo "have_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF

fi

echo "$as_me:30134: checking if we can set errno" >&5
echo $ECHO_N "checking if we can set errno... $ECHO_C" >&6
if test "${cf_cv_set_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

if test "$cross_compiling" = yes; then
  cat >conftest.$ac_ext <<_ACEOF
#line 30142 "configure"
#include "confdefs.h"
#include <errno.h>
int
main ()
{
errno = 255
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:30154: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:30157: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:30160: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30163: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_set_errno=maybe
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_set_errno=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
else
  cat >conftest.$ac_ext <<_ACEOF
#line 30174 "configure"
#include "confdefs.h"

#include <errno.h>
int main()
{
	errno = 255;
	${cf_cv_main_return:-return}(errno != 255);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:30185: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:30188: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:30190: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30193: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_set_errno=yes
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_set_errno=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

fi
echo "$as_me:30206: result: $cf_cv_set_errno" >&5
echo "${ECHO_T}$cf_cv_set_errno" >&6
test "$cf_cv_set_errno" != no &&
cat >>confdefs.h <<\EOF
#define CAN_SET_ERRNO 1
EOF

echo "$as_me:30213: checking for setlocale()" >&5
echo $ECHO_N "checking for setlocale()... $ECHO_C" >&6
if test "${cf_cv_locale+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 30220 "configure"
#include "confdefs.h"
#include <locale.h>
int
main ()
{
setlocale(LC_ALL, "")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:30232: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:30235: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:30238: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30241: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_locale=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_locale=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

echo "$as_me:30253: result: $cf_cv_locale" >&5
echo "${ECHO_T}$cf_cv_locale" >&6
test $cf_cv_locale = yes && {
cat >>confdefs.h <<\EOF
#define LOCALE 1
EOF
 }

echo "$as_me:30261: checking if NGROUPS is defined" >&5
echo $ECHO_N "checking if NGROUPS is defined... $ECHO_C" >&6
if test "${cf_cv_ngroups+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 30268 "configure"
#include "confdefs.h"

#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
#endif

int
main ()
{
int x = NGROUPS
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30287: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30290: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30293: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30296: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ngroups=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 30303 "configure"
#include "confdefs.h"

#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
#endif

int
main ()
{
int x = NGROUPS_MAX
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30322: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30325: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30328: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30331: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ngroups=NGROUPS_MAX
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ngroups=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest.$ac_ext
echo "$as_me:30343: result: $cf_cv_ngroups" >&5
echo "${ECHO_T}$cf_cv_ngroups" >&6

fi

if test "$cf_cv_ngroups" = no ; then

cat >>confdefs.h <<\EOF
#define NGROUPS 16
EOF

elif test "$cf_cv_ngroups" = NGROUPS_MAX ; then
	cat >>confdefs.h <<\EOF
#define NGROUPS NGROUPS_MAX
EOF

fi

echo "$as_me:30361: checking if external sys_nerr is declared" >&5
echo $ECHO_N "checking if external sys_nerr is declared... $ECHO_C" >&6
if test "${cf_cv_dcl_sys_nerr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 30368 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
int
main ()
{
int x = (int) sys_nerr
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30386: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30389: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30392: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30395: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_dcl_sys_nerr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_dcl_sys_nerr=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:30406: result: $cf_cv_dcl_sys_nerr" >&5
echo "${ECHO_T}$cf_cv_dcl_sys_nerr" >&6

if test "$cf_cv_dcl_sys_nerr" = no ; then

cf_result=`echo "decl_sys_nerr" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF

fi

# It's possible (for near-UNIX clones) that the data doesn't exist

echo "$as_me:30421: checking if external sys_nerr exists" >&5
echo $ECHO_N "checking if external sys_nerr exists... $ECHO_C" >&6
if test "${cf_cv_have_sys_nerr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 30428 "configure"
#include "confdefs.h"

#undef sys_nerr
extern int sys_nerr;

int
main ()
{
sys_nerr = 2
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:30443: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:30446: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:30449: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30452: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_sys_nerr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_sys_nerr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:30463: result: $cf_cv_have_sys_nerr" >&5
echo "${ECHO_T}$cf_cv_have_sys_nerr" >&6

if test "$cf_cv_have_sys_nerr" = yes ; then

cf_result=`echo "have_sys_nerr" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF

fi

echo "$as_me:30476: checking if external sys_errlist is declared" >&5
echo $ECHO_N "checking if external sys_errlist is declared... $ECHO_C" >&6
if test "${cf_cv_dcl_sys_errlist+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 30483 "configure"
#include "confdefs.h"

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
int
main ()
{
int x = (int) sys_errlist
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30501: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30504: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30507: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30510: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_dcl_sys_errlist=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_dcl_sys_errlist=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:30521: result: $cf_cv_dcl_sys_errlist" >&5
echo "${ECHO_T}$cf_cv_dcl_sys_errlist" >&6

if test "$cf_cv_dcl_sys_errlist" = no ; then

cf_result=`echo "decl_sys_errlist" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF

fi

# It's possible (for near-UNIX clones) that the data doesn't exist

echo "$as_me:30536: checking if external sys_errlist exists" >&5
echo $ECHO_N "checking if external sys_errlist exists... $ECHO_C" >&6
if test "${cf_cv_have_sys_errlist+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 30543 "configure"
#include "confdefs.h"

#undef sys_errlist
extern int sys_errlist;

int
main ()
{
sys_errlist = 2
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:30558: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:30561: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:30564: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30567: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_sys_errlist=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_sys_errlist=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:30578: result: $cf_cv_have_sys_errlist" >&5
echo "${ECHO_T}$cf_cv_have_sys_errlist" >&6

if test "$cf_cv_have_sys_errlist" = yes ; then

cf_result=`echo "have_sys_errlist" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF

fi

for ac_header in lastlog.h paths.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:30594: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 30600 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:30604: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:30610: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:30629: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

echo "$as_me:30639: checking for lastlog path" >&5
echo $ECHO_N "checking for lastlog path... $ECHO_C" >&6
if test "${cf_cv_path_lastlog+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 30646 "configure"
#include "confdefs.h"

#include <sys/types.h>
#ifdef HAVE_LASTLOG_H
#include <lastlog.h>
#else
#ifdef HAVE_PATHS_H
#include <paths.h>
#endif
#endif
int
main ()
{
char *path = _PATH_LASTLOG
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30666: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30669: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30672: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30675: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_path_lastlog="_PATH_LASTLOG"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
if test -f /usr/adm/lastlog ; then
	 	cf_cv_path_lastlog=/usr/adm/lastlog
	else
		cf_cv_path_lastlog=no
	fi
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:30690: result: $cf_cv_path_lastlog" >&5
echo "${ECHO_T}$cf_cv_path_lastlog" >&6
test $cf_cv_path_lastlog != no &&
cat >>confdefs.h <<\EOF
#define USE_LASTLOG 1
EOF

echo "$as_me:30697: checking for utmp implementation" >&5
echo $ECHO_N "checking for utmp implementation... $ECHO_C" >&6
if test "${cf_cv_have_utmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_have_utmp=no
for cf_header in utmpx utmp ; do
cf_utmp_includes="
#include <sys/types.h>
#include <${cf_header}.h>
#define getutent getutxent
#ifdef USE_LASTLOG
#include <lastlog.h>	/* may conflict with utmpx.h on Linux */
#endif
"
	cat >conftest.$ac_ext <<_ACEOF
#line 30714 "configure"
#include "confdefs.h"
$cf_utmp_includes
int
main ()
{
struct $cf_header x;
	 char *name = x.ut_name; /* utmp.h and compatible definitions */

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30728: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30731: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30734: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30737: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp=$cf_header
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cat >conftest.$ac_ext <<_ACEOF
#line 30746 "configure"
#include "confdefs.h"
$cf_utmp_includes
int
main ()
{
struct $cf_header x;
	 char *name = x.ut_user; /* utmpx.h must declare this */

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30760: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30763: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30766: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30769: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp=$cf_header
	 break

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:30784: result: $cf_cv_have_utmp" >&5
echo "${ECHO_T}$cf_cv_have_utmp" >&6

if test $cf_cv_have_utmp != no ; then

cat >>confdefs.h <<\EOF
#define HAVE_UTMP 1
EOF

	test $cf_cv_have_utmp = utmpx &&
cat >>confdefs.h <<\EOF
#define UTMPX_FOR_UTMP 1
EOF

if test $cf_cv_have_utmp != no ; then
echo "$as_me:30799: checking if ${cf_cv_have_utmp}.ut_host is declared" >&5
echo $ECHO_N "checking if ${cf_cv_have_utmp}.ut_host is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_host+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 30806 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; char *y = &x.ut_host[0]
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30820: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30823: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30826: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30829: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_host=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_host=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi

echo "$as_me:30841: result: $cf_cv_have_utmp_ut_host" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_host" >&6
test $cf_cv_have_utmp_ut_host != no &&
cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_HOST 1
EOF

fi

if test $cf_cv_have_utmp != no ; then
echo "$as_me:30851: checking if ${cf_cv_have_utmp}.ut_syslen is declared" >&5
echo $ECHO_N "checking if ${cf_cv_have_utmp}.ut_syslen is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_syslen+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 30858 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; int y = x.ut_syslen
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30872: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30875: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30878: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30881: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_syslen=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_syslen=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi

echo "$as_me:30893: result: $cf_cv_have_utmp_ut_syslen" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_syslen" >&6
test $cf_cv_have_utmp_ut_syslen != no &&
cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_SYSLEN 1
EOF

fi

if test $cf_cv_have_utmp != no ; then
echo "$as_me:30903: checking if ${cf_cv_have_utmp}.ut_name is declared" >&5
echo $ECHO_N "checking if ${cf_cv_have_utmp}.ut_name is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_name+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cf_cv_have_utmp_ut_name=no
cf_utmp_includes="
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
#define getutent getutxent
#ifdef USE_LASTLOG
#include <lastlog.h>		/* may conflict with utmpx.h on Linux */
#endif
"
for cf_header in ut_name ut_user ; do
	cat >conftest.$ac_ext <<_ACEOF
#line 30920 "configure"
#include "confdefs.h"
$cf_utmp_includes
int
main ()
{
struct $cf_cv_have_utmp x;
	 char *name = x.$cf_header;

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:30934: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:30937: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:30940: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:30943: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_name=$cf_header
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:30955: result: $cf_cv_have_utmp_ut_name" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_name" >&6

case $cf_cv_have_utmp_ut_name in #(vi
no) #(vi
	{ { echo "$as_me:30960: error: Cannot find declaration for ut.ut_name" >&5
echo "$as_me: error: Cannot find declaration for ut.ut_name" >&2;}
   { (exit 1); exit 1; }; }
	;;
ut_user)

cat >>confdefs.h <<\EOF
#define ut_name ut_user
EOF

	;;
esac
fi

if test $cf_cv_have_utmp != no ; then
echo "$as_me:30975: checking for exit-status in $cf_cv_have_utmp" >&5
echo $ECHO_N "checking for exit-status in $cf_cv_have_utmp... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_xstatus+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

for cf_result in \
	ut_exit.__e_exit \
	ut_exit.e_exit \
	ut_exit.ut_e_exit \
	ut_exit.ut_exit
do
cat >conftest.$ac_ext <<_ACEOF
#line 30988 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.$cf_result = 0
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:31002: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:31005: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:31008: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31011: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_xstatus=$cf_result
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_xstatus=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:31024: result: $cf_cv_have_utmp_ut_xstatus" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_xstatus" >&6
if test $cf_cv_have_utmp_ut_xstatus != no ; then

cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_XSTATUS 1
EOF

cat >>confdefs.h <<EOF
#define ut_xstatus $cf_cv_have_utmp_ut_xstatus
EOF

fi
fi

if test $cf_cv_have_utmp != no ; then
echo "$as_me:31040: checking if ${cf_cv_have_utmp}.ut_xtime is declared" >&5
echo $ECHO_N "checking if ${cf_cv_have_utmp}.ut_xtime is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_xtime+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 31047 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.ut_xtime = 0
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:31061: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:31064: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:31067: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31070: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_xtime=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 31077 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.ut_tv.tv_sec
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:31091: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:31094: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:31097: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31100: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_xtime=define
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_xtime=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:31114: result: $cf_cv_have_utmp_ut_xtime" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_xtime" >&6
if test $cf_cv_have_utmp_ut_xtime != no ; then

cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_XTIME 1
EOF

	if test $cf_cv_have_utmp_ut_xtime = define ; then

cat >>confdefs.h <<\EOF
#define ut_xtime ut_tv.tv_sec
EOF

	fi
fi
fi

if test $cf_cv_have_utmp != no ; then
echo "$as_me:31133: checking if ${cf_cv_have_utmp}.ut_session is declared" >&5
echo $ECHO_N "checking if ${cf_cv_have_utmp}.ut_session is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_session+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 31140 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.ut_session
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:31154: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:31157: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:31160: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31163: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_session=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_session=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
echo "$as_me:31174: result: $cf_cv_have_utmp_ut_session" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_session" >&6
if test $cf_cv_have_utmp_ut_session != no ; then

cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_SESSION 1
EOF

fi
fi

echo "$as_me:31185: checking if $cf_cv_have_utmp is SYSV flavor" >&5
echo $ECHO_N "checking if $cf_cv_have_utmp is SYSV flavor... $ECHO_C" >&6
if test "${cf_cv_sysv_utmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

test "$cf_cv_have_utmp" = "utmp" && cf_prefix="ut" || cf_prefix="utx"
cat >conftest.$ac_ext <<_ACEOF
#line 31193 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{

struct $cf_cv_have_utmp x;
	set${cf_prefix}ent ();
	get${cf_prefix}id(&x);
	put${cf_prefix}line(&x);
	end${cf_prefix}ent();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:31212: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:31215: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:31218: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31221: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_sysv_utmp=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_sysv_utmp=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:31232: result: $cf_cv_sysv_utmp" >&5
echo "${ECHO_T}$cf_cv_sysv_utmp" >&6
test $cf_cv_sysv_utmp = yes &&
cat >>confdefs.h <<\EOF
#define USE_SYSV_UTMP 1
EOF

fi

echo "$as_me:31241: checking if external h_errno exists" >&5
echo $ECHO_N "checking if external h_errno exists... $ECHO_C" >&6
if test "${cf_cv_have_h_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cat >conftest.$ac_ext <<_ACEOF
#line 31248 "configure"
#include "confdefs.h"

#undef h_errno
extern int h_errno;

int
main ()
{
h_errno = 2
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:31263: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:31266: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:31269: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31272: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_h_errno=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_h_errno=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:31283: result: $cf_cv_have_h_errno" >&5
echo "${ECHO_T}$cf_cv_have_h_errno" >&6

if test "$cf_cv_have_h_errno" = yes ; then

cf_result=`echo "have_h_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF

fi

echo "$as_me:31296: checking if bibp: URLs should be supported" >&5
echo $ECHO_N "checking if bibp: URLs should be supported... $ECHO_C" >&6

# Check whether --enable-bibp-urls or --disable-bibp-urls was given.
if test "${enable_bibp_urls+set}" = set; then
  enableval="$enable_bibp_urls"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_bibp_urls=$enableval
  else
    use_bibp_urls=yes
  fi
else
  enableval=yes
  use_bibp_urls=yes

fi;
echo "$as_me:31313: result: $use_bibp_urls" >&5
echo "${ECHO_T}$use_bibp_urls" >&6
test $use_bibp_urls = no &&
cat >>confdefs.h <<\EOF
#define DISABLE_BIBP 1
EOF

echo "$as_me:31320: checking if configuration info should be browsable" >&5
echo $ECHO_N "checking if configuration info should be browsable... $ECHO_C" >&6

# Check whether --enable-config-info or --disable-config-info was given.
if test "${enable_config_info+set}" = set; then
  enableval="$enable_config_info"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_config_info=$enableval
  else
    use_config_info=yes
  fi
else
  enableval=yes
  use_config_info=yes

fi;
echo "$as_me:31337: result: $use_config_info" >&5
echo "${ECHO_T}$use_config_info" >&6
test $use_config_info = no &&
cat >>confdefs.h <<\EOF
#define NO_CONFIG_INFO 1
EOF

echo "$as_me:31344: checking if new-style forms-based options screen should be used" >&5
echo $ECHO_N "checking if new-style forms-based options screen should be used... $ECHO_C" >&6

# Check whether --enable-forms-options or --disable-forms-options was given.
if test "${enable_forms_options+set}" = set; then
  enableval="$enable_forms_options"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_forms_options=$enableval
  else
    use_forms_options=yes
  fi
else
  enableval=yes
  use_forms_options=yes

fi;
echo "$as_me:31361: result: $use_forms_options" >&5
echo "${ECHO_T}$use_forms_options" >&6
test $use_forms_options = no &&
cat >>confdefs.h <<\EOF
#define NO_OPTION_FORMS 1
EOF

echo "$as_me:31368: checking if old-style options menu should be used" >&5
echo $ECHO_N "checking if old-style options menu should be used... $ECHO_C" >&6

# Check whether --enable-menu-options or --disable-menu-options was given.
if test "${enable_menu_options+set}" = set; then
  enableval="$enable_menu_options"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_menu_options=$enableval
  else
    use_menu_options=yes
  fi
else
  enableval=yes
  use_menu_options=yes

fi;
echo "$as_me:31385: result: $use_menu_options" >&5
echo "${ECHO_T}$use_menu_options" >&6
test $use_menu_options = no &&
cat >>confdefs.h <<\EOF
#define NO_OPTION_MENU 1
EOF

echo "$as_me:31392: checking if sessions code should be used" >&5
echo $ECHO_N "checking if sessions code should be used... $ECHO_C" >&6

# Check whether --enable-sessions or --disable-sessions was given.
if test "${enable_sessions+set}" = set; then
  enableval="$enable_sessions"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_sessions=$enableval
  else
    use_sessions=yes
  fi
else
  enableval=yes
  use_sessions=yes

fi;
echo "$as_me:31409: result: $use_sessions" >&5
echo "${ECHO_T}$use_sessions" >&6
if test $use_sessions != no ; then

cat >>confdefs.h <<\EOF
#define USE_SESSIONS 1
EOF

	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
fi

echo "$as_me:31420: checking if session-caching code should be used" >&5
echo $ECHO_N "checking if session-caching code should be used... $ECHO_C" >&6

# Check whether --enable-session-cache or --disable-session-cache was given.
if test "${enable_session_cache+set}" = set; then
  enableval="$enable_session_cache"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_session_cache=$enableval
  else
    use_session_cache=yes
  fi
else
  enableval=yes
  use_session_cache=yes

fi;
echo "$as_me:31437: result: $use_session_cache" >&5
echo "${ECHO_T}$use_session_cache" >&6
if test $use_session_cache != no ; then

cat >>confdefs.h <<\EOF
#define USE_CACHEJAR 1
EOF

fi

echo "$as_me:31447: checking if address-list page should be used" >&5
echo $ECHO_N "checking if address-list page should be used... $ECHO_C" >&6

# Check whether --enable-addrlist-page or --disable-addrlist-page was given.
if test "${enable_addrlist_page+set}" = set; then
  enableval="$enable_addrlist_page"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_addrlist_page=$enableval
  else
    use_addrlist_page=yes
  fi
else
  enableval=yes
  use_addrlist_page=yes

fi;
echo "$as_me:31464: result: $use_addrlist_page" >&5
echo "${ECHO_T}$use_addrlist_page" >&6
test $use_addrlist_page != no &&
cat >>confdefs.h <<\EOF
#define USE_ADDRLIST_PAGE 1
EOF

echo "$as_me:31471: checking if experimental CJK logic should be used" >&5
echo $ECHO_N "checking if experimental CJK logic should be used... $ECHO_C" >&6

# Check whether --enable-cjk or --disable-cjk was given.
if test "${enable_cjk+set}" = set; then
  enableval="$enable_cjk"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_cjk=$enableval
  else
    use_cjk=no
  fi
else
  enableval=no
  use_cjk=no

fi;
echo "$as_me:31488: result: $use_cjk" >&5
echo "${ECHO_T}$use_cjk" >&6
test $use_cjk != no &&
cat >>confdefs.h <<\EOF
#define CJK_EX 1
EOF

echo "$as_me:31495: checking if experimental Japanese UTF-8 logic should be used" >&5
echo $ECHO_N "checking if experimental Japanese UTF-8 logic should be used... $ECHO_C" >&6

# Check whether --enable-japanese-utf8 or --disable-japanese-utf8 was given.
if test "${enable_japanese_utf8+set}" = set; then
  enableval="$enable_japanese_utf8"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_ja_utf8=$enableval
  else
    use_ja_utf8=no
  fi
else
  enableval=no
  use_ja_utf8=no

fi;
echo "$as_me:31512: result: $use_ja_utf8" >&5
echo "${ECHO_T}$use_ja_utf8" >&6
if test $use_ja_utf8 != no ; then

cat >>confdefs.h <<\EOF
#define EXP_JAPANESEUTF8_SUPPORT 1
EOF

# Check whether --with-libiconv-prefix or --without-libiconv-prefix was given.
if test "${with_libiconv_prefix+set}" = set; then
  withval="$with_libiconv_prefix"

  case "$withval" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$withval" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 31558 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:31570: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:31573: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:31576: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31579: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:31596: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 31637 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:31649: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:31652: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:31655: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31658: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:31675: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:31691: error: cannot find libiconv under $withval" >&5
echo "$as_me: error: cannot find libiconv under $withval" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:31716: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:31745: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:31754: error: cannot find libiconv under $withval" >&5
echo "$as_me: error: cannot find libiconv under $withval" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

fi;

  echo "$as_me:31765: checking for iconv" >&5
echo $ECHO_N "checking for iconv... $ECHO_C" >&6
if test "${am_cv_func_iconv+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_iconv=
cf_cv_library_path_iconv=

echo "${as_me:-configure}:31776: testing Starting FIND_LINKAGE(iconv,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 31781 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:31800: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:31803: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:31806: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31809: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_iconv=yes
	cf_cv_header_path_iconv=/usr/include
	cf_cv_library_path_iconv=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-liconv  $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 31823 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:31842: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:31845: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:31848: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:31851: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_iconv=yes
	cf_cv_header_path_iconv=/usr/include
	cf_cv_library_path_iconv=/usr/lib
	cf_cv_library_file_iconv="-liconv"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_iconv=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for iconv library" 1>&6

echo "${as_me:-configure}:31868: testing find linkage for iconv library ..." 1>&5

echo "${as_me:-configure}:31870: testing Searching for headers in FIND_LINKAGE(iconv,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/iconv &&       cf_search="$cf_search $cf_header_path/include/iconv"
	test -d $cf_header_path/include/iconv/include &&    cf_search="$cf_search $cf_header_path/include/iconv/include"
	test -d $cf_header_path/iconv/include &&       cf_search="$cf_search $cf_header_path/iconv/include"
	test -d $cf_header_path/iconv/include/iconv &&    cf_search="$cf_search $cf_header_path/iconv/include/iconv"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/iconv &&       cf_search="$cf_search /usr/include/iconv"
	test -d /usr/include/iconv/include &&    cf_search="$cf_search /usr/include/iconv/include"
	test -d /usr/iconv/include &&       cf_search="$cf_search /usr/iconv/include"
	test -d /usr/iconv/include/iconv &&    cf_search="$cf_search /usr/iconv/include/iconv"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/iconv &&       cf_search="$cf_search $prefix/include/iconv"
	test -d $prefix/include/iconv/include &&    cf_search="$cf_search $prefix/include/iconv/include"
	test -d $prefix/iconv/include &&       cf_search="$cf_search $prefix/iconv/include"
	test -d $prefix/iconv/include/iconv &&    cf_search="$cf_search $prefix/iconv/include/iconv"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/iconv &&       cf_search="$cf_search /usr/local/include/iconv"
	test -d /usr/local/include/iconv/include &&    cf_search="$cf_search /usr/local/include/iconv/include"
	test -d /usr/local/iconv/include &&       cf_search="$cf_search /usr/local/iconv/include"
	test -d /usr/local/iconv/include/iconv &&    cf_search="$cf_search /usr/local/iconv/include/iconv"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/iconv &&       cf_search="$cf_search /opt/include/iconv"
	test -d /opt/include/iconv/include &&    cf_search="$cf_search /opt/include/iconv/include"
	test -d /opt/iconv/include &&       cf_search="$cf_search /opt/iconv/include"
	test -d /opt/iconv/include/iconv &&    cf_search="$cf_search /opt/iconv/include/iconv"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/iconv &&       cf_search="$cf_search $HOME/include/iconv"
	test -d $HOME/include/iconv/include &&    cf_search="$cf_search $HOME/include/iconv/include"
	test -d $HOME/iconv/include &&       cf_search="$cf_search $HOME/iconv/include"
	test -d $HOME/iconv/include/iconv &&    cf_search="$cf_search $HOME/iconv/include/iconv"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/iconv && cf_search="$cf_search $includedir/iconv"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/iconv && cf_search="$cf_search $oldincludedir/iconv"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_iconv in $cf_search
    do
      if test -d $cf_cv_header_path_iconv ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_iconv" 1>&6

echo "${as_me:-configure}:31983: testing ... testing $cf_cv_header_path_iconv ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_iconv"
        cat >conftest.$ac_ext <<_ACEOF
#line 31987 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:32006: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:32009: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:32012: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32015: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found iconv headers in $cf_cv_header_path_iconv" 1>&6

echo "${as_me:-configure}:32020: testing ... found iconv headers in $cf_cv_header_path_iconv ..." 1>&5

            cf_cv_find_linkage_iconv=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_iconv" = maybe ; then

echo "${as_me:-configure}:32038: testing Searching for iconv library in FIND_LINKAGE(iconv,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_iconv" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/iconv &&       cf_search="$cf_search $cf_library_path/lib/iconv"
	test -d $cf_library_path/lib/iconv/lib &&    cf_search="$cf_search $cf_library_path/lib/iconv/lib"
	test -d $cf_library_path/iconv/lib &&       cf_search="$cf_search $cf_library_path/iconv/lib"
	test -d $cf_library_path/iconv/lib/iconv &&    cf_search="$cf_search $cf_library_path/iconv/lib/iconv"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/iconv &&       cf_search="$cf_search /usr/lib/iconv"
	test -d /usr/lib/iconv/lib &&    cf_search="$cf_search /usr/lib/iconv/lib"
	test -d /usr/iconv/lib &&       cf_search="$cf_search /usr/iconv/lib"
	test -d /usr/iconv/lib/iconv &&    cf_search="$cf_search /usr/iconv/lib/iconv"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/iconv &&       cf_search="$cf_search $prefix/lib/iconv"
	test -d $prefix/lib/iconv/lib &&    cf_search="$cf_search $prefix/lib/iconv/lib"
	test -d $prefix/iconv/lib &&       cf_search="$cf_search $prefix/iconv/lib"
	test -d $prefix/iconv/lib/iconv &&    cf_search="$cf_search $prefix/iconv/lib/iconv"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/iconv &&       cf_search="$cf_search /usr/local/lib/iconv"
	test -d /usr/local/lib/iconv/lib &&    cf_search="$cf_search /usr/local/lib/iconv/lib"
	test -d /usr/local/iconv/lib &&       cf_search="$cf_search /usr/local/iconv/lib"
	test -d /usr/local/iconv/lib/iconv &&    cf_search="$cf_search /usr/local/iconv/lib/iconv"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/iconv &&       cf_search="$cf_search /opt/lib/iconv"
	test -d /opt/lib/iconv/lib &&    cf_search="$cf_search /opt/lib/iconv/lib"
	test -d /opt/iconv/lib &&       cf_search="$cf_search /opt/iconv/lib"
	test -d /opt/iconv/lib/iconv &&    cf_search="$cf_search /opt/iconv/lib/iconv"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/iconv &&       cf_search="$cf_search $HOME/lib/iconv"
	test -d $HOME/lib/iconv/lib &&    cf_search="$cf_search $HOME/lib/iconv/lib"
	test -d $HOME/iconv/lib &&       cf_search="$cf_search $HOME/iconv/lib"
	test -d $HOME/iconv/lib/iconv &&    cf_search="$cf_search $HOME/iconv/lib/iconv"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_iconv in $cf_search
        do
          if test -d $cf_cv_library_path_iconv ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_iconv" 1>&6

echo "${as_me:-configure}:32135: testing ... testing $cf_cv_library_path_iconv ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-liconv  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_iconv"
            cat >conftest.$ac_ext <<_ACEOF
#line 32141 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

int
main ()
{

	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:32160: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:32163: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:32166: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32169: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found iconv library in $cf_cv_library_path_iconv" 1>&6

echo "${as_me:-configure}:32174: testing ... found iconv library in $cf_cv_library_path_iconv ..." 1>&5

                cf_cv_find_linkage_iconv=yes
                cf_cv_library_file_iconv="-liconv"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_iconv=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_iconv" = yes ; then
am_cv_func_iconv=yes
else
am_cv_func_iconv="no, consider installing GNU libiconv"
fi

fi
echo "$as_me:32214: result: $am_cv_func_iconv" >&5
echo "${ECHO_T}$am_cv_func_iconv" >&6

  if test "$am_cv_func_iconv" = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_ICONV 1
EOF

    echo "$as_me:32223: checking if the declaration of iconv() needs const." >&5
echo $ECHO_N "checking if the declaration of iconv() needs const.... $ECHO_C" >&6
if test "${am_cv_proto_iconv_const+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

      cat >conftest.$ac_ext <<_ACEOF
#line 32230 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <iconv.h>

extern
#ifdef __cplusplus
"C"
#endif
#if defined(__STDC__) || defined(__cplusplus)
size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
#else
size_t iconv();
#endif

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:32255: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:32258: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:32261: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32264: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_proto_iconv_const=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
am_cv_proto_iconv_const=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:32274: result: $am_cv_proto_iconv_const" >&5
echo "${ECHO_T}$am_cv_proto_iconv_const" >&6

    if test "$am_cv_proto_iconv_const" = yes ; then
      am_cv_proto_iconv_arg1="const"
    else
      am_cv_proto_iconv_arg1=""
    fi

cat >>confdefs.h <<EOF
#define ICONV_CONST $am_cv_proto_iconv_arg1
EOF

  fi

  LIBICONV=
  if test "$cf_cv_find_linkage_iconv" = yes; then

if test -n "$cf_cv_header_path_iconv" ; then
  for cf_add_incdir in $cf_cv_header_path_iconv
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 32316 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:32328: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:32331: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:32334: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32337: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:32354: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

    if test -n "$cf_cv_library_file_iconv" ; then
      LIBICONV="-liconv"

if test -n "$cf_cv_library_path_iconv" ; then
  for cf_add_libdir in $cf_cv_library_path_iconv
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:32391: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

    fi
  fi

	if test "$USE_NLS" != yes ; then
	  LIBS="$LIBICONV $LIBS"
	fi
fi

use_dft_colors=no
case $cf_cv_screen in
curses|slang|ncurses*)
	use_dft_colors=maybe
	;;
esac

if test "$use_dft_colors" != no ; then
echo "$as_me:32415: checking if you want to use default-colors" >&5
echo $ECHO_N "checking if you want to use default-colors... $ECHO_C" >&6

# Check whether --enable-default-colors or --disable-default-colors was given.
if test "${enable_default_colors+set}" = set; then
  enableval="$enable_default_colors"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_dft_colors=yes
  else
    use_dft_colors=no
  fi
else
  enableval=no
  use_dft_colors=no

fi;
echo "$as_me:32432: result: $use_dft_colors" >&5
echo "${ECHO_T}$use_dft_colors" >&6
test $use_dft_colors = "yes" &&
cat >>confdefs.h <<\EOF
#define USE_DEFAULT_COLORS 1
EOF

fi

echo "$as_me:32441: checking if experimental keyboard-layout logic should be used" >&5
echo $ECHO_N "checking if experimental keyboard-layout logic should be used... $ECHO_C" >&6

# Check whether --enable-kbd-layout or --disable-kbd-layout was given.
if test "${enable_kbd_layout+set}" = set; then
  enableval="$enable_kbd_layout"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_kbd_layout=$enableval
  else
    use_kbd_layout=no
  fi
else
  enableval=no
  use_kbd_layout=no

fi;
echo "$as_me:32458: result: $use_kbd_layout" >&5
echo "${ECHO_T}$use_kbd_layout" >&6
test $use_kbd_layout != no &&
cat >>confdefs.h <<\EOF
#define EXP_KEYBOARD_LAYOUT 1
EOF

echo "$as_me:32465: checking if experimental nested-table logic should be used" >&5
echo $ECHO_N "checking if experimental nested-table logic should be used... $ECHO_C" >&6

# Check whether --enable-nested-tables or --disable-nested-tables was given.
if test "${enable_nested_tables+set}" = set; then
  enableval="$enable_nested_tables"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nested_tables=$enableval
  else
    use_nested_tables=no
  fi
else
  enableval=no
  use_nested_tables=no

fi;
echo "$as_me:32482: result: $use_nested_tables" >&5
echo "${ECHO_T}$use_nested_tables" >&6
test $use_nested_tables != no &&
cat >>confdefs.h <<\EOF
#define EXP_NESTED_TABLES 1
EOF

echo "$as_me:32489: checking if alternative line-edit bindings should be used" >&5
echo $ECHO_N "checking if alternative line-edit bindings should be used... $ECHO_C" >&6

# Check whether --enable-alt-bindings or --disable-alt-bindings was given.
if test "${enable_alt_bindings+set}" = set; then
  enableval="$enable_alt_bindings"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_alt_bindings=$enableval
  else
    use_alt_bindings=yes
  fi
else
  enableval=yes
  use_alt_bindings=yes

fi;
echo "$as_me:32506: result: $use_alt_bindings" >&5
echo "${ECHO_T}$use_alt_bindings" >&6
test $use_alt_bindings != no &&
cat >>confdefs.h <<\EOF
#define USE_ALT_BINDINGS 1
EOF

echo "$as_me:32513: checking if ascii case-conversion should be used" >&5
echo $ECHO_N "checking if ascii case-conversion should be used... $ECHO_C" >&6

# Check whether --enable-ascii-ctypes or --disable-ascii-ctypes was given.
if test "${enable_ascii_ctypes+set}" = set; then
  enableval="$enable_ascii_ctypes"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ascii_ctypes=$enableval
  else
    use_ascii_ctypes=yes
  fi
else
  enableval=yes
  use_ascii_ctypes=yes

fi;
echo "$as_me:32530: result: $use_ascii_ctypes" >&5
echo "${ECHO_T}$use_ascii_ctypes" >&6
test $use_ascii_ctypes != no &&
cat >>confdefs.h <<\EOF
#define USE_ASCII_CTYPES 1
EOF

echo "$as_me:32537: checking if you want to use extended HTML DTD logic" >&5
echo $ECHO_N "checking if you want to use extended HTML DTD logic... $ECHO_C" >&6

# Check whether --enable-extended-dtd or --disable-extended-dtd was given.
if test "${enable_extended_dtd+set}" = set; then
  enableval="$enable_extended_dtd"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ext_htmldtd=no
  else
    use_ext_htmldtd=yes
  fi
else
  enableval=yes
  use_ext_htmldtd=yes

fi;
echo "$as_me:32554: result: $use_ext_htmldtd" >&5
echo "${ECHO_T}$use_ext_htmldtd" >&6
test $use_ext_htmldtd = "no" &&
cat >>confdefs.h <<\EOF
#define NO_EXTENDED_HTMLDTD 1
EOF

echo "$as_me:32561: checking if file-upload logic should be used" >&5
echo $ECHO_N "checking if file-upload logic should be used... $ECHO_C" >&6

# Check whether --enable-file-upload or --disable-file-upload was given.
if test "${enable_file_upload+set}" = set; then
  enableval="$enable_file_upload"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_file_upload=$enableval
  else
    use_file_upload=yes
  fi
else
  enableval=yes
  use_file_upload=yes

fi;
echo "$as_me:32578: result: $use_file_upload" >&5
echo "${ECHO_T}$use_file_upload" >&6
test $use_file_upload != no &&
cat >>confdefs.h <<\EOF
#define USE_FILE_UPLOAD 1
EOF

echo "$as_me:32585: checking if IDNA support should be used" >&5
echo $ECHO_N "checking if IDNA support should be used... $ECHO_C" >&6

# Check whether --enable-idna or --disable-idna was given.
if test "${enable_idna+set}" = set; then
  enableval="$enable_idna"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_idna=$enableval
  else
    use_idna=yes
  fi
else
  enableval=yes
  use_idna=yes

fi;
echo "$as_me:32602: result: $use_idna" >&5
echo "${ECHO_T}$use_idna" >&6

if test "$use_idna" = yes ; then

  case "$use_idna" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$use_idna" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 32641 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:32653: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:32656: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:32659: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32662: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:32679: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 32720 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:32732: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:32735: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:32738: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32741: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:32758: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:32774: error: cannot find  under $use_idna" >&5
echo "$as_me: error: cannot find  under $use_idna" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:32799: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:32828: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:32837: error: cannot find  under $use_idna" >&5
echo "$as_me: error: cannot find  under $use_idna" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_idn=
cf_cv_library_path_idn=

echo "${as_me:-configure}:32851: testing Starting FIND_LINKAGE(idn,) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 32856 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <idna.h>

int
main ()
{

	char *output = 0;
    int code = idna_to_ascii_8z("name", &output, IDNA_USE_STD3_ASCII_RULES);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:32874: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:32877: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:32880: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32883: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_idn=yes
	cf_cv_header_path_idn=/usr/include
	cf_cv_library_path_idn=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lidn $LIBICONV $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 32897 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <idna.h>

int
main ()
{

	char *output = 0;
    int code = idna_to_ascii_8z("name", &output, IDNA_USE_STD3_ASCII_RULES);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:32915: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:32918: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:32921: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:32924: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_idn=yes
	cf_cv_header_path_idn=/usr/include
	cf_cv_library_path_idn=/usr/lib
	cf_cv_library_file_idn="-lidn"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_idn=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for idn library" 1>&6

echo "${as_me:-configure}:32941: testing find linkage for idn library ..." 1>&5

echo "${as_me:-configure}:32943: testing Searching for headers in FIND_LINKAGE(idn,) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/idn &&       cf_search="$cf_search $cf_header_path/include/idn"
	test -d $cf_header_path/include/idn/include &&    cf_search="$cf_search $cf_header_path/include/idn/include"
	test -d $cf_header_path/idn/include &&       cf_search="$cf_search $cf_header_path/idn/include"
	test -d $cf_header_path/idn/include/idn &&    cf_search="$cf_search $cf_header_path/idn/include/idn"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/idn &&       cf_search="$cf_search /usr/include/idn"
	test -d /usr/include/idn/include &&    cf_search="$cf_search /usr/include/idn/include"
	test -d /usr/idn/include &&       cf_search="$cf_search /usr/idn/include"
	test -d /usr/idn/include/idn &&    cf_search="$cf_search /usr/idn/include/idn"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/idn &&       cf_search="$cf_search $prefix/include/idn"
	test -d $prefix/include/idn/include &&    cf_search="$cf_search $prefix/include/idn/include"
	test -d $prefix/idn/include &&       cf_search="$cf_search $prefix/idn/include"
	test -d $prefix/idn/include/idn &&    cf_search="$cf_search $prefix/idn/include/idn"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/idn &&       cf_search="$cf_search /usr/local/include/idn"
	test -d /usr/local/include/idn/include &&    cf_search="$cf_search /usr/local/include/idn/include"
	test -d /usr/local/idn/include &&       cf_search="$cf_search /usr/local/idn/include"
	test -d /usr/local/idn/include/idn &&    cf_search="$cf_search /usr/local/idn/include/idn"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/idn &&       cf_search="$cf_search /opt/include/idn"
	test -d /opt/include/idn/include &&    cf_search="$cf_search /opt/include/idn/include"
	test -d /opt/idn/include &&       cf_search="$cf_search /opt/idn/include"
	test -d /opt/idn/include/idn &&    cf_search="$cf_search /opt/idn/include/idn"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/idn &&       cf_search="$cf_search $HOME/include/idn"
	test -d $HOME/include/idn/include &&    cf_search="$cf_search $HOME/include/idn/include"
	test -d $HOME/idn/include &&       cf_search="$cf_search $HOME/idn/include"
	test -d $HOME/idn/include/idn &&    cf_search="$cf_search $HOME/idn/include/idn"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/idn && cf_search="$cf_search $includedir/idn"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/idn && cf_search="$cf_search $oldincludedir/idn"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_idn in $cf_search
    do
      if test -d $cf_cv_header_path_idn ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_idn" 1>&6

echo "${as_me:-configure}:33056: testing ... testing $cf_cv_header_path_idn ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_idn"
        cat >conftest.$ac_ext <<_ACEOF
#line 33060 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <idna.h>

int
main ()
{

	char *output = 0;
    int code = idna_to_ascii_8z("name", &output, IDNA_USE_STD3_ASCII_RULES);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:33078: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:33081: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:33084: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:33087: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found idn headers in $cf_cv_header_path_idn" 1>&6

echo "${as_me:-configure}:33092: testing ... found idn headers in $cf_cv_header_path_idn ..." 1>&5

            cf_cv_find_linkage_idn=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_idn" = maybe ; then

echo "${as_me:-configure}:33110: testing Searching for idn library in FIND_LINKAGE(idn,) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

      if test "$cf_cv_find_linkage_idn" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/idn &&       cf_search="$cf_search $cf_library_path/lib/idn"
	test -d $cf_library_path/lib/idn/lib &&    cf_search="$cf_search $cf_library_path/lib/idn/lib"
	test -d $cf_library_path/idn/lib &&       cf_search="$cf_search $cf_library_path/idn/lib"
	test -d $cf_library_path/idn/lib/idn &&    cf_search="$cf_search $cf_library_path/idn/lib/idn"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/idn &&       cf_search="$cf_search /usr/lib/idn"
	test -d /usr/lib/idn/lib &&    cf_search="$cf_search /usr/lib/idn/lib"
	test -d /usr/idn/lib &&       cf_search="$cf_search /usr/idn/lib"
	test -d /usr/idn/lib/idn &&    cf_search="$cf_search /usr/idn/lib/idn"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/idn &&       cf_search="$cf_search $prefix/lib/idn"
	test -d $prefix/lib/idn/lib &&    cf_search="$cf_search $prefix/lib/idn/lib"
	test -d $prefix/idn/lib &&       cf_search="$cf_search $prefix/idn/lib"
	test -d $prefix/idn/lib/idn &&    cf_search="$cf_search $prefix/idn/lib/idn"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/idn &&       cf_search="$cf_search /usr/local/lib/idn"
	test -d /usr/local/lib/idn/lib &&    cf_search="$cf_search /usr/local/lib/idn/lib"
	test -d /usr/local/idn/lib &&       cf_search="$cf_search /usr/local/idn/lib"
	test -d /usr/local/idn/lib/idn &&    cf_search="$cf_search /usr/local/idn/lib/idn"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/idn &&       cf_search="$cf_search /opt/lib/idn"
	test -d /opt/lib/idn/lib &&    cf_search="$cf_search /opt/lib/idn/lib"
	test -d /opt/idn/lib &&       cf_search="$cf_search /opt/idn/lib"
	test -d /opt/idn/lib/idn &&    cf_search="$cf_search /opt/idn/lib/idn"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/idn &&       cf_search="$cf_search $HOME/lib/idn"
	test -d $HOME/lib/idn/lib &&    cf_search="$cf_search $HOME/lib/idn/lib"
	test -d $HOME/idn/lib &&       cf_search="$cf_search $HOME/idn/lib"
	test -d $HOME/idn/lib/idn &&    cf_search="$cf_search $HOME/idn/lib/idn"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_idn in $cf_search
        do
          if test -d $cf_cv_library_path_idn ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_idn" 1>&6

echo "${as_me:-configure}:33207: testing ... testing $cf_cv_library_path_idn ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lidn $LIBICONV $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_idn"
            cat >conftest.$ac_ext <<_ACEOF
#line 33213 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <idna.h>

int
main ()
{

	char *output = 0;
    int code = idna_to_ascii_8z("name", &output, IDNA_USE_STD3_ASCII_RULES);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:33231: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:33234: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:33237: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:33240: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found idn library in $cf_cv_library_path_idn" 1>&6

echo "${as_me:-configure}:33245: testing ... found idn library in $cf_cv_library_path_idn ..." 1>&5

                cf_cv_find_linkage_idn=yes
                cf_cv_library_file_idn="-lidn"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_idn=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_idn" = yes ; then

if test -n "$cf_cv_header_path_idn" ; then
  for cf_add_incdir in $cf_cv_header_path_idn
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 33304 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:33316: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:33319: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:33322: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:33325: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:33342: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

if test -n "$cf_cv_library_path_idn" ; then
  for cf_add_libdir in $cf_cv_library_path_idn
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:33376: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	LIBS="-lidn $LIBS"

else
{ echo "$as_me:33387: WARNING: Cannot find idn library" >&5
echo "$as_me: WARNING: Cannot find idn library" >&2;}
fi

if test "x$cf_cv_find_linkage_idn" = xyes ; then

cat >>confdefs.h <<\EOF
#define USE_IDNA 1
EOF

fi

fi

echo "$as_me:33401: checking if element-justification logic should be used" >&5
echo $ECHO_N "checking if element-justification logic should be used... $ECHO_C" >&6

# Check whether --enable-justify-elts or --disable-justify-elts was given.
if test "${enable_justify_elts+set}" = set; then
  enableval="$enable_justify_elts"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_justify_elts=$enableval
  else
    use_justify_elts=yes
  fi
else
  enableval=yes
  use_justify_elts=yes

fi;
echo "$as_me:33418: result: $use_justify_elts" >&5
echo "${ECHO_T}$use_justify_elts" >&6
test $use_justify_elts != no &&
cat >>confdefs.h <<\EOF
#define USE_JUSTIFY_ELTS 1
EOF

echo "$as_me:33425: checking if partial-display should be used" >&5
echo $ECHO_N "checking if partial-display should be used... $ECHO_C" >&6

# Check whether --enable-partial or --disable-partial was given.
if test "${enable_partial+set}" = set; then
  enableval="$enable_partial"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_partial_display=$enableval
  else
    use_partial_display=yes
  fi
else
  enableval=yes
  use_partial_display=yes

fi;
echo "$as_me:33442: result: $use_partial_display" >&5
echo "${ECHO_T}$use_partial_display" >&6
test $use_partial_display != no &&
cat >>confdefs.h <<\EOF
#define DISP_PARTIAL 1
EOF

echo "$as_me:33449: checking if persistent-cookie logic should be used" >&5
echo $ECHO_N "checking if persistent-cookie logic should be used... $ECHO_C" >&6

# Check whether --enable-persistent-cookies or --disable-persistent-cookies was given.
if test "${enable_persistent_cookies+set}" = set; then
  enableval="$enable_persistent_cookies"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_filed_cookies=$enableval
  else
    use_filed_cookies=yes
  fi
else
  enableval=yes
  use_filed_cookies=yes

fi;
echo "$as_me:33466: result: $use_filed_cookies" >&5
echo "${ECHO_T}$use_filed_cookies" >&6
test $use_filed_cookies != no &&
cat >>confdefs.h <<\EOF
#define USE_PERSISTENT_COOKIES 1
EOF

echo "$as_me:33473: checking if html source should be colorized" >&5
echo $ECHO_N "checking if html source should be colorized... $ECHO_C" >&6

# Check whether --enable-prettysrc or --disable-prettysrc was given.
if test "${enable_prettysrc+set}" = set; then
  enableval="$enable_prettysrc"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_prettysrc=$enableval
  else
    use_prettysrc=yes
  fi
else
  enableval=yes
  use_prettysrc=yes

fi;
echo "$as_me:33490: result: $use_prettysrc" >&5
echo "${ECHO_T}$use_prettysrc" >&6
test $use_prettysrc != no &&
cat >>confdefs.h <<\EOF
#define USE_PRETTYSRC 1
EOF

echo "$as_me:33497: checking if progress-bar code should be used" >&5
echo $ECHO_N "checking if progress-bar code should be used... $ECHO_C" >&6

# Check whether --enable-progressbar or --disable-progressbar was given.
if test "${enable_progressbar+set}" = set; then
  enableval="$enable_progressbar"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_progressbar=$enableval
  else
    use_progressbar=yes
  fi
else
  enableval=yes
  use_progressbar=yes

fi;
echo "$as_me:33514: result: $use_progressbar" >&5
echo "${ECHO_T}$use_progressbar" >&6
test $use_progressbar != no &&
cat >>confdefs.h <<\EOF
#define USE_PROGRESSBAR 1
EOF

echo "$as_me:33521: checking if read-progress message should show ETA" >&5
echo $ECHO_N "checking if read-progress message should show ETA... $ECHO_C" >&6

# Check whether --enable-read-eta or --disable-read-eta was given.
if test "${enable_read_eta+set}" = set; then
  enableval="$enable_read_eta"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_read_eta=$enableval
  else
    use_read_eta=yes
  fi
else
  enableval=yes
  use_read_eta=yes

fi;
echo "$as_me:33538: result: $use_read_eta" >&5
echo "${ECHO_T}$use_read_eta" >&6
test $use_read_eta != no &&
cat >>confdefs.h <<\EOF
#define USE_READPROGRESS 1
EOF

echo "$as_me:33545: checking if source caching should be used" >&5
echo $ECHO_N "checking if source caching should be used... $ECHO_C" >&6

# Check whether --enable-source-cache or --disable-source-cache was given.
if test "${enable_source_cache+set}" = set; then
  enableval="$enable_source_cache"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_source_cache=$enableval
  else
    use_source_cache=yes
  fi
else
  enableval=yes
  use_source_cache=yes

fi;
echo "$as_me:33562: result: $use_source_cache" >&5
echo "${ECHO_T}$use_source_cache" >&6
test $use_source_cache != no &&
cat >>confdefs.h <<\EOF
#define USE_SOURCE_CACHE 1
EOF

echo "$as_me:33569: checking if scrollbar code should be used" >&5
echo $ECHO_N "checking if scrollbar code should be used... $ECHO_C" >&6

# Check whether --enable-scrollbar or --disable-scrollbar was given.
if test "${enable_scrollbar+set}" = set; then
  enableval="$enable_scrollbar"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_scrollbar=$enableval
  else
    use_scrollbar=yes
  fi
else
  enableval=yes
  use_scrollbar=yes

fi;
echo "$as_me:33586: result: $use_scrollbar" >&5
echo "${ECHO_T}$use_scrollbar" >&6

echo "$as_me:33589: checking if charset-selection logic should be used" >&5
echo $ECHO_N "checking if charset-selection logic should be used... $ECHO_C" >&6

# Check whether --enable-charset-choice or --disable-charset-choice was given.
if test "${enable_charset_choice+set}" = set; then
  enableval="$enable_charset_choice"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_charset_choice=$enableval
  else
    use_charset_choice=no
  fi
else
  enableval=no
  use_charset_choice=no

fi;
echo "$as_me:33606: result: $use_charset_choice" >&5
echo "${ECHO_T}$use_charset_choice" >&6
test $use_charset_choice != no &&
cat >>confdefs.h <<\EOF
#define USE_CHARSET_CHOICE 1
EOF

echo "$as_me:33613: checking if you want to use external commands" >&5
echo $ECHO_N "checking if you want to use external commands... $ECHO_C" >&6

# Check whether --enable-externs or --disable-externs was given.
if test "${enable_externs+set}" = set; then
  enableval="$enable_externs"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_externs=yes
  else
    use_externs=no
  fi
else
  enableval=no
  use_externs=no

fi;
echo "$as_me:33630: result: $use_externs" >&5
echo "${ECHO_T}$use_externs" >&6
if test $use_externs != "no" ; then

cat >>confdefs.h <<\EOF
#define USE_EXTERNALS 1
EOF

	EXTRA_OBJS="$EXTRA_OBJS LYExtern\$o"
fi

echo "$as_me:33641: checking if you want to use setfont support" >&5
echo $ECHO_N "checking if you want to use setfont support... $ECHO_C" >&6

# Check whether --enable-font-switch or --disable-font-switch was given.
if test "${enable_font_switch+set}" = set; then
  enableval="$enable_font_switch"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_setfont=yes
  else
    use_setfont=no
  fi
else
  enableval=no
  use_setfont=no

fi;
echo "$as_me:33658: result: $use_setfont" >&5
echo "${ECHO_T}$use_setfont" >&6
if test $use_setfont = yes ; then
	case $host_os in
	linux*)

test -z "$SETFONT" && SETFONT=consolechars
for ac_prog in $SETFONT consolechars setfont
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:33669: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_SETFONT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $SETFONT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_SETFONT="$SETFONT" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_SETFONT="$ac_dir/$ac_word"
   echo "$as_me:33686: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
SETFONT=$ac_cv_path_SETFONT

if test -n "$SETFONT"; then
  echo "$as_me:33697: result: $SETFONT" >&5
echo "${ECHO_T}$SETFONT" >&6
else
  echo "$as_me:33700: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$SETFONT" && break
done
test -n "$SETFONT" || SETFONT="$SETFONT"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_SETFONT
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:33759: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define SETFONT_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define SETFONT_ARGS "$cf_path_args"
EOF

fi

		;;
	os2*)
		SETFONT=built-in
		test -n "$verbose" && echo "	Assume $host_os has font-switching" 1>&6

echo "${as_me:-configure}:33777: testing Assume $host_os has font-switching ..." 1>&5

		;;
	*)
		SETFONT=unknown
		test -n "$verbose" && echo "	Assume $host_os has no font-switching" 1>&6

echo "${as_me:-configure}:33784: testing Assume $host_os has no font-switching ..." 1>&5

		;;
	esac
	if test -z "$SETFONT" ; then
		{ echo "$as_me:33789: WARNING: Cannot find a font-setting program" >&5
echo "$as_me: WARNING: Cannot find a font-setting program" >&2;}
	elif test "$SETFONT" != unknown ; then

cat >>confdefs.h <<\EOF
#define EXP_CHARTRANS_AUTOSWITCH 1
EOF

	fi
fi

echo "$as_me:33800: checking if you want cgi-link support" >&5
echo $ECHO_N "checking if you want cgi-link support... $ECHO_C" >&6

# Check whether --enable-cgi-links or --disable-cgi-links was given.
if test "${enable_cgi_links+set}" = set; then
  enableval="$enable_cgi_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then

cat >>confdefs.h <<\EOF
#define LYNXCGI_LINKS 1
EOF

  fi
else
  enableval=no
fi;
echo "$as_me:33817: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

echo "$as_me:33820: checking if you want change-exec support" >&5
echo $ECHO_N "checking if you want change-exec support... $ECHO_C" >&6

# Check whether --enable-change-exec or --disable-change-exec was given.
if test "${enable_change_exec+set}" = set; then
  enableval="$enable_change_exec"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_change_exec=yes
  else
    use_change_exec=no
  fi
else
  enableval=no
  use_change_exec=no

fi;
echo "$as_me:33837: result: $use_change_exec" >&5
echo "${ECHO_T}$use_change_exec" >&6
test $use_change_exec = yes &&
cat >>confdefs.h <<\EOF
#define ENABLE_OPTS_CHANGE_EXEC 1
EOF

echo "$as_me:33844: checking if you want exec-links support" >&5
echo $ECHO_N "checking if you want exec-links support... $ECHO_C" >&6

# Check whether --enable-exec-links or --disable-exec-links was given.
if test "${enable_exec_links+set}" = set; then
  enableval="$enable_exec_links"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_links=$enableval
  else
    use_exec_links=$enableval
  fi
else
  enableval=$use_change_exec
  use_exec_links=$enableval

fi;
echo "$as_me:33861: result: $use_exec_links" >&5
echo "${ECHO_T}$use_exec_links" >&6
test $use_exec_links = yes &&
cat >>confdefs.h <<\EOF
#define EXEC_LINKS 1
EOF

echo "$as_me:33868: checking if you want exec-scripts support" >&5
echo $ECHO_N "checking if you want exec-scripts support... $ECHO_C" >&6

# Check whether --enable-exec-scripts or --disable-exec-scripts was given.
if test "${enable_exec_scripts+set}" = set; then
  enableval="$enable_exec_scripts"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_scripts=$enableval
  else
    use_exec_scripts=$enableval
  fi
else
  enableval=$use_change_exec
  use_exec_scripts=$enableval

fi;
echo "$as_me:33885: result: $use_exec_scripts" >&5
echo "${ECHO_T}$use_exec_scripts" >&6
test $use_exec_scripts = yes &&
cat >>confdefs.h <<\EOF
#define EXEC_SCRIPTS 1
EOF

echo "$as_me:33892: checking if you want internal-links feature" >&5
echo $ECHO_N "checking if you want internal-links feature... $ECHO_C" >&6

# Check whether --enable-internal-links or --disable-internal-links was given.
if test "${enable_internal_links+set}" = set; then
  enableval="$enable_internal_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_internal_links=yes
  else
    use_internal_links=no
  fi
else
  enableval=no
  use_internal_links=no

fi;
echo "$as_me:33909: result: $use_internal_links" >&5
echo "${ECHO_T}$use_internal_links" >&6
test $use_internal_links = yes &&
cat >>confdefs.h <<\EOF
#define TRACK_INTERNAL_LINKS 1
EOF

echo "$as_me:33916: checking if you want to fork NSL requests" >&5
echo $ECHO_N "checking if you want to fork NSL requests... $ECHO_C" >&6

# Check whether --enable-nsl-fork or --disable-nsl-fork was given.
if test "${enable_nsl_fork+set}" = set; then
  enableval="$enable_nsl_fork"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nsl_fork=yes
  else
    use_nsl_fork=no
  fi
else
  enableval=no
  use_nsl_fork=no

fi;
echo "$as_me:33933: result: $use_nsl_fork" >&5
echo "${ECHO_T}$use_nsl_fork" >&6
if test $use_nsl_fork = yes ; then
	case $host_os in
	mingw*)

cat >>confdefs.h <<\EOF
#define _WINDOWS_NSL 1
EOF

		;;
	*)

cat >>confdefs.h <<\EOF
#define NSL_FORK 1
EOF

		;;
	esac
fi

echo "$as_me:33954: checking if you want to log URL requests via syslog" >&5
echo $ECHO_N "checking if you want to log URL requests via syslog... $ECHO_C" >&6

# Check whether --enable-syslog or --disable-syslog was given.
if test "${enable_syslog+set}" = set; then
  enableval="$enable_syslog"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_syslog=yes
  else
    use_syslog=no
  fi
else
  enableval=no
  use_syslog=no

fi;
echo "$as_me:33971: result: $use_syslog" >&5
echo "${ECHO_T}$use_syslog" >&6
test $use_syslog = yes &&
cat >>confdefs.h <<\EOF
#define SYSLOG_REQUESTED_URLS 1
EOF

echo "$as_me:33978: checking if you want to underline links" >&5
echo $ECHO_N "checking if you want to underline links... $ECHO_C" >&6

# Check whether --enable-underlines or --disable-underlines was given.
if test "${enable_underlines+set}" = set; then
  enableval="$enable_underlines"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_underline=yes
  else
    use_underline=no
  fi
else
  enableval=no
  use_underline=no

fi;
echo "$as_me:33995: result: $use_underline" >&5
echo "${ECHO_T}$use_underline" >&6
test $use_underline = yes &&
cat >>confdefs.h <<\EOF
#define UNDERLINE_LINKS 1
EOF

test $use_underline = no  &&
cat >>confdefs.h <<\EOF
#define UNDERLINE_LINKS 0
EOF

echo "$as_me:34007: checking if help files should be gzip'ed" >&5
echo $ECHO_N "checking if help files should be gzip'ed... $ECHO_C" >&6

# Check whether --enable-gzip-help or --disable-gzip-help was given.
if test "${enable_gzip_help+set}" = set; then
  enableval="$enable_gzip_help"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_gzip_help=$enableval
  else
    use_gzip_help=no
  fi
else
  enableval=no
  use_gzip_help=no

fi;
echo "$as_me:34024: result: $use_gzip_help" >&5
echo "${ECHO_T}$use_gzip_help" >&6

echo "$as_me:34027: checking if you want to use libbz2 for decompression of some bzip2 files" >&5
echo $ECHO_N "checking if you want to use libbz2 for decompression of some bzip2 files... $ECHO_C" >&6

# Check whether --with-bzlib or --without-bzlib was given.
if test "${with_bzlib+set}" = set; then
  withval="$with_bzlib"
  use_bzlib=$withval
else
  use_bzlib=no
fi;
echo "$as_me:34037: result: $use_bzlib" >&5
echo "${ECHO_T}$use_bzlib" >&6

if test ".$use_bzlib" != ".no" ; then

  case "$use_bzlib" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$use_bzlib" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 34076 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:34088: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:34091: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:34094: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34097: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:34114: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 34155 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:34167: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:34170: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:34173: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34176: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:34193: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:34209: error: cannot find  under $use_bzlib" >&5
echo "$as_me: error: cannot find  under $use_bzlib" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:34234: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:34263: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:34272: error: cannot find  under $use_bzlib" >&5
echo "$as_me: error: cannot find  under $use_bzlib" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_bz2=
cf_cv_library_path_bz2=

echo "${as_me:-configure}:34286: testing Starting FIND_LINKAGE(bz2,bzlib) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 34291 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <bzlib.h>

int
main ()
{

    BZ2_bzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:34308: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:34311: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:34314: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34317: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_bz2=yes
	cf_cv_header_path_bz2=/usr/include
	cf_cv_library_path_bz2=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lbz2  $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 34331 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <bzlib.h>

int
main ()
{

    BZ2_bzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:34348: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:34351: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:34354: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34357: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_bz2=yes
	cf_cv_header_path_bz2=/usr/include
	cf_cv_library_path_bz2=/usr/lib
	cf_cv_library_file_bz2="-lbz2"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_bz2=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for bz2 library" 1>&6

echo "${as_me:-configure}:34374: testing find linkage for bz2 library ..." 1>&5

echo "${as_me:-configure}:34376: testing Searching for headers in FIND_LINKAGE(bz2,bzlib) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/bzlib &&       cf_search="$cf_search $cf_header_path/include/bzlib"
	test -d $cf_header_path/include/bzlib/include &&    cf_search="$cf_search $cf_header_path/include/bzlib/include"
	test -d $cf_header_path/bzlib/include &&       cf_search="$cf_search $cf_header_path/bzlib/include"
	test -d $cf_header_path/bzlib/include/bzlib &&    cf_search="$cf_search $cf_header_path/bzlib/include/bzlib"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/bzlib &&       cf_search="$cf_search /usr/include/bzlib"
	test -d /usr/include/bzlib/include &&    cf_search="$cf_search /usr/include/bzlib/include"
	test -d /usr/bzlib/include &&       cf_search="$cf_search /usr/bzlib/include"
	test -d /usr/bzlib/include/bzlib &&    cf_search="$cf_search /usr/bzlib/include/bzlib"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/bzlib &&       cf_search="$cf_search $prefix/include/bzlib"
	test -d $prefix/include/bzlib/include &&    cf_search="$cf_search $prefix/include/bzlib/include"
	test -d $prefix/bzlib/include &&       cf_search="$cf_search $prefix/bzlib/include"
	test -d $prefix/bzlib/include/bzlib &&    cf_search="$cf_search $prefix/bzlib/include/bzlib"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/bzlib &&       cf_search="$cf_search /usr/local/include/bzlib"
	test -d /usr/local/include/bzlib/include &&    cf_search="$cf_search /usr/local/include/bzlib/include"
	test -d /usr/local/bzlib/include &&       cf_search="$cf_search /usr/local/bzlib/include"
	test -d /usr/local/bzlib/include/bzlib &&    cf_search="$cf_search /usr/local/bzlib/include/bzlib"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/bzlib &&       cf_search="$cf_search /opt/include/bzlib"
	test -d /opt/include/bzlib/include &&    cf_search="$cf_search /opt/include/bzlib/include"
	test -d /opt/bzlib/include &&       cf_search="$cf_search /opt/bzlib/include"
	test -d /opt/bzlib/include/bzlib &&    cf_search="$cf_search /opt/bzlib/include/bzlib"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/bzlib &&       cf_search="$cf_search $HOME/include/bzlib"
	test -d $HOME/include/bzlib/include &&    cf_search="$cf_search $HOME/include/bzlib/include"
	test -d $HOME/bzlib/include &&       cf_search="$cf_search $HOME/bzlib/include"
	test -d $HOME/bzlib/include/bzlib &&    cf_search="$cf_search $HOME/bzlib/include/bzlib"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/bzlib && cf_search="$cf_search $includedir/bzlib"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/bzlib && cf_search="$cf_search $oldincludedir/bzlib"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_bz2 in $cf_search
    do
      if test -d $cf_cv_header_path_bz2 ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_bz2" 1>&6

echo "${as_me:-configure}:34489: testing ... testing $cf_cv_header_path_bz2 ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_bz2"
        cat >conftest.$ac_ext <<_ACEOF
#line 34493 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <bzlib.h>

int
main ()
{

    BZ2_bzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:34510: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:34513: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:34516: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34519: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found bz2 headers in $cf_cv_header_path_bz2" 1>&6

echo "${as_me:-configure}:34524: testing ... found bz2 headers in $cf_cv_header_path_bz2 ..." 1>&5

            cf_cv_find_linkage_bz2=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_bz2" = maybe ; then

echo "${as_me:-configure}:34542: testing Searching for bz2 library in FIND_LINKAGE(bz2,bzlib) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

        CPPFLAGS="$cf_test_CPPFLAGS"
        LIBS="-lbz2  $cf_save_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
#line 34550 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <bzlib.h>

int
main ()
{

    BZ2_bzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:34567: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:34570: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:34573: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34576: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found bz2 library in system" 1>&6

echo "${as_me:-configure}:34581: testing ... found bz2 library in system ..." 1>&5

            cf_cv_find_linkage_bz2=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
            CPPFLAGS="$cf_save_CPPFLAGS"
            LIBS="$cf_save_LIBS"

      if test "$cf_cv_find_linkage_bz2" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/bz2 &&       cf_search="$cf_search $cf_library_path/lib/bz2"
	test -d $cf_library_path/lib/bz2/lib &&    cf_search="$cf_search $cf_library_path/lib/bz2/lib"
	test -d $cf_library_path/bz2/lib &&       cf_search="$cf_search $cf_library_path/bz2/lib"
	test -d $cf_library_path/bz2/lib/bz2 &&    cf_search="$cf_search $cf_library_path/bz2/lib/bz2"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/bz2 &&       cf_search="$cf_search /usr/lib/bz2"
	test -d /usr/lib/bz2/lib &&    cf_search="$cf_search /usr/lib/bz2/lib"
	test -d /usr/bz2/lib &&       cf_search="$cf_search /usr/bz2/lib"
	test -d /usr/bz2/lib/bz2 &&    cf_search="$cf_search /usr/bz2/lib/bz2"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/bz2 &&       cf_search="$cf_search $prefix/lib/bz2"
	test -d $prefix/lib/bz2/lib &&    cf_search="$cf_search $prefix/lib/bz2/lib"
	test -d $prefix/bz2/lib &&       cf_search="$cf_search $prefix/bz2/lib"
	test -d $prefix/bz2/lib/bz2 &&    cf_search="$cf_search $prefix/bz2/lib/bz2"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/bz2 &&       cf_search="$cf_search /usr/local/lib/bz2"
	test -d /usr/local/lib/bz2/lib &&    cf_search="$cf_search /usr/local/lib/bz2/lib"
	test -d /usr/local/bz2/lib &&       cf_search="$cf_search /usr/local/bz2/lib"
	test -d /usr/local/bz2/lib/bz2 &&    cf_search="$cf_search /usr/local/bz2/lib/bz2"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/bz2 &&       cf_search="$cf_search /opt/lib/bz2"
	test -d /opt/lib/bz2/lib &&    cf_search="$cf_search /opt/lib/bz2/lib"
	test -d /opt/bz2/lib &&       cf_search="$cf_search /opt/bz2/lib"
	test -d /opt/bz2/lib/bz2 &&    cf_search="$cf_search /opt/bz2/lib/bz2"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/bz2 &&       cf_search="$cf_search $HOME/lib/bz2"
	test -d $HOME/lib/bz2/lib &&    cf_search="$cf_search $HOME/lib/bz2/lib"
	test -d $HOME/bz2/lib &&       cf_search="$cf_search $HOME/bz2/lib"
	test -d $HOME/bz2/lib/bz2 &&    cf_search="$cf_search $HOME/bz2/lib/bz2"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_bz2 in $cf_search
        do
          if test -d $cf_cv_library_path_bz2 ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_bz2" 1>&6

echo "${as_me:-configure}:34684: testing ... testing $cf_cv_library_path_bz2 ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lbz2  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_bz2"
            cat >conftest.$ac_ext <<_ACEOF
#line 34690 "configure"
#include "confdefs.h"

#include <stdio.h>
#include <bzlib.h>

int
main ()
{

    BZ2_bzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:34707: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:34710: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:34713: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34716: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found bz2 library in $cf_cv_library_path_bz2" 1>&6

echo "${as_me:-configure}:34721: testing ... found bz2 library in $cf_cv_library_path_bz2 ..." 1>&5

                cf_cv_find_linkage_bz2=yes
                cf_cv_library_file_bz2="-lbz2"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_bz2=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_bz2" = yes ; then

if test -n "$cf_cv_header_path_bz2" ; then
  for cf_add_incdir in $cf_cv_header_path_bz2
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 34780 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:34792: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:34795: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:34798: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34801: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:34818: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

if test -n "$cf_cv_library_path_bz2" ; then
  for cf_add_libdir in $cf_cv_library_path_bz2
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:34852: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	LIBS="-lbz2 $LIBS"

else
{ echo "$as_me:34863: WARNING: Cannot find bz2 library" >&5
echo "$as_me: WARNING: Cannot find bz2 library" >&2;}
fi

	test "x$cf_cv_find_linkage_bz2" = "xyes" &&
cat >>confdefs.h <<\EOF
#define USE_BZLIB 1
EOF

fi

echo "$as_me:34874: checking if you want to use zlib for decompression of some gzip files" >&5
echo $ECHO_N "checking if you want to use zlib for decompression of some gzip files... $ECHO_C" >&6

# Check whether --with-zlib or --without-zlib was given.
if test "${with_zlib+set}" = set; then
  withval="$with_zlib"
  use_zlib=$withval
else
  use_zlib=no
fi;
echo "$as_me:34884: result: $use_zlib" >&5
echo "${ECHO_T}$use_zlib" >&6

if test ".$use_zlib" != ".no" ; then

  case "$use_zlib" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)

for cf_searchpath in `echo "$use_zlib" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 34923 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:34935: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:34938: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:34941: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:34944: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:34961: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 35002 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:35014: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:35017: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:35020: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35023: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:35040: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	else
{ { echo "$as_me:35056: error: cannot find  under $use_zlib" >&5
echo "$as_me: error: cannot find  under $use_zlib" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:35081: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	elif test -d $cf_searchpath ; then

if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:35110: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	else
{ { echo "$as_me:35119: error: cannot find  under $use_zlib" >&5
echo "$as_me: error: cannot find  under $use_zlib" >&2;}
   { (exit 1); exit 1; }; }
	fi
done

      ;;
  esac

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_z=
cf_cv_library_path_z=

echo "${as_me:-configure}:35133: testing Starting FIND_LINKAGE(z,zlib) ..." 1>&5

cf_save_LIBS="$LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 35138 "configure"
#include "confdefs.h"

#include <zlib.h>

int
main ()
{

	gzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:35154: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:35157: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:35160: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35163: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_z=yes
	cf_cv_header_path_z=/usr/include
	cf_cv_library_path_z=/usr/lib

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

LIBS="-lz  $cf_save_LIBS"

cat >conftest.$ac_ext <<_ACEOF
#line 35177 "configure"
#include "confdefs.h"

#include <zlib.h>

int
main ()
{

	gzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:35193: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:35196: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:35199: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35202: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_find_linkage_z=yes
	cf_cv_header_path_z=/usr/include
	cf_cv_library_path_z=/usr/lib
	cf_cv_library_file_z="-lz"

else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

	cf_cv_find_linkage_z=no
	LIBS="$cf_save_LIBS"

    test -n "$verbose" && echo "	find linkage for z library" 1>&6

echo "${as_me:-configure}:35219: testing find linkage for z library ..." 1>&5

echo "${as_me:-configure}:35221: testing Searching for headers in FIND_LINKAGE(z,zlib) ..." 1>&5

    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"

cf_search=

# collect the current set of include-directories from compiler flags
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "x$cf_header_path" != "xNONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/zlib &&       cf_search="$cf_search $cf_header_path/include/zlib"
	test -d $cf_header_path/include/zlib/include &&    cf_search="$cf_search $cf_header_path/include/zlib/include"
	test -d $cf_header_path/zlib/include &&       cf_search="$cf_search $cf_header_path/zlib/include"
	test -d $cf_header_path/zlib/include/zlib &&    cf_search="$cf_search $cf_header_path/zlib/include/zlib"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi

# add the variations for the package we are looking for

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/zlib &&       cf_search="$cf_search /usr/include/zlib"
	test -d /usr/include/zlib/include &&    cf_search="$cf_search /usr/include/zlib/include"
	test -d /usr/zlib/include &&       cf_search="$cf_search /usr/zlib/include"
	test -d /usr/zlib/include/zlib &&    cf_search="$cf_search /usr/zlib/include/zlib"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/zlib &&       cf_search="$cf_search $prefix/include/zlib"
	test -d $prefix/include/zlib/include &&    cf_search="$cf_search $prefix/include/zlib/include"
	test -d $prefix/zlib/include &&       cf_search="$cf_search $prefix/zlib/include"
	test -d $prefix/zlib/include/zlib &&    cf_search="$cf_search $prefix/zlib/include/zlib"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/zlib &&       cf_search="$cf_search /usr/local/include/zlib"
	test -d /usr/local/include/zlib/include &&    cf_search="$cf_search /usr/local/include/zlib/include"
	test -d /usr/local/zlib/include &&       cf_search="$cf_search /usr/local/zlib/include"
	test -d /usr/local/zlib/include/zlib &&    cf_search="$cf_search /usr/local/zlib/include/zlib"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/zlib &&       cf_search="$cf_search /opt/include/zlib"
	test -d /opt/include/zlib/include &&    cf_search="$cf_search /opt/include/zlib/include"
	test -d /opt/zlib/include &&       cf_search="$cf_search /opt/zlib/include"
	test -d /opt/zlib/include/zlib &&    cf_search="$cf_search /opt/zlib/include/zlib"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/zlib &&       cf_search="$cf_search $HOME/include/zlib"
	test -d $HOME/include/zlib/include &&    cf_search="$cf_search $HOME/include/zlib/include"
	test -d $HOME/zlib/include &&       cf_search="$cf_search $HOME/zlib/include"
	test -d $HOME/zlib/include/zlib &&    cf_search="$cf_search $HOME/zlib/include/zlib"
}

test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/zlib && cf_search="$cf_search $includedir/zlib"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/zlib && cf_search="$cf_search $oldincludedir/zlib"
}

cf_search="$cf_search $cf_header_path_list"

    for cf_cv_header_path_z in $cf_search
    do
      if test -d $cf_cv_header_path_z ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_z" 1>&6

echo "${as_me:-configure}:35334: testing ... testing $cf_cv_header_path_z ..." 1>&5

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_z"
        cat >conftest.$ac_ext <<_ACEOF
#line 35338 "configure"
#include "confdefs.h"

#include <zlib.h>

int
main ()
{

	gzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:35354: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:35357: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:35360: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35363: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found z headers in $cf_cv_header_path_z" 1>&6

echo "${as_me:-configure}:35368: testing ... found z headers in $cf_cv_header_path_z ..." 1>&5

            cf_cv_find_linkage_z=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

            CPPFLAGS="$cf_save_CPPFLAGS"

fi
rm -f conftest.$ac_objext conftest.$ac_ext
      fi
    done

    if test "$cf_cv_find_linkage_z" = maybe ; then

echo "${as_me:-configure}:35386: testing Searching for z library in FIND_LINKAGE(z,zlib) ..." 1>&5

      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"

        CPPFLAGS="$cf_test_CPPFLAGS"
        LIBS="-lz  $cf_save_LIBS"
        cat >conftest.$ac_ext <<_ACEOF
#line 35394 "configure"
#include "confdefs.h"

#include <zlib.h>

int
main ()
{

	gzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:35410: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:35413: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:35416: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35419: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

            test -n "$verbose" && echo "	... found z library in system" 1>&6

echo "${as_me:-configure}:35424: testing ... found z library in system ..." 1>&5

            cf_cv_find_linkage_z=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
            CPPFLAGS="$cf_save_CPPFLAGS"
            LIBS="$cf_save_LIBS"

      if test "$cf_cv_find_linkage_z" != yes ; then

cf_search=
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "x$cf_library_path" != "xNONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/z &&       cf_search="$cf_search $cf_library_path/lib/z"
	test -d $cf_library_path/lib/z/lib &&    cf_search="$cf_search $cf_library_path/lib/z/lib"
	test -d $cf_library_path/z/lib &&       cf_search="$cf_search $cf_library_path/z/lib"
	test -d $cf_library_path/z/lib/z &&    cf_search="$cf_search $cf_library_path/z/lib/z"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=

test "x/usr" != "x$prefix" && \
test -d "/usr" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/z &&       cf_search="$cf_search /usr/lib/z"
	test -d /usr/lib/z/lib &&    cf_search="$cf_search /usr/lib/z/lib"
	test -d /usr/z/lib &&       cf_search="$cf_search /usr/z/lib"
	test -d /usr/z/lib/z &&    cf_search="$cf_search /usr/z/lib/z"
}

test "x$prefix" != "xNONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/z &&       cf_search="$cf_search $prefix/lib/z"
	test -d $prefix/lib/z/lib &&    cf_search="$cf_search $prefix/lib/z/lib"
	test -d $prefix/z/lib &&       cf_search="$cf_search $prefix/z/lib"
	test -d $prefix/z/lib/z &&    cf_search="$cf_search $prefix/z/lib/z"
}

test "x/usr/local" != "x$prefix" && \
test -d "/usr/local" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/usr/local" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/z &&       cf_search="$cf_search /usr/local/lib/z"
	test -d /usr/local/lib/z/lib &&    cf_search="$cf_search /usr/local/lib/z/lib"
	test -d /usr/local/z/lib &&       cf_search="$cf_search /usr/local/z/lib"
	test -d /usr/local/z/lib/z &&    cf_search="$cf_search /usr/local/z/lib/z"
}

test "x/opt" != "x$prefix" && \
test -d "/opt" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x/opt" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/z &&       cf_search="$cf_search /opt/lib/z"
	test -d /opt/lib/z/lib &&    cf_search="$cf_search /opt/lib/z/lib"
	test -d /opt/z/lib &&       cf_search="$cf_search /opt/z/lib"
	test -d /opt/z/lib/z &&    cf_search="$cf_search /opt/z/lib/z"
}

test "x$HOME" != "x$prefix" && \
test -d "$HOME" && \
(test -z "$prefix" || test x$prefix = xNONE || test "x$HOME" != "x$prefix") && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/z &&       cf_search="$cf_search $HOME/lib/z"
	test -d $HOME/lib/z/lib &&    cf_search="$cf_search $HOME/lib/z/lib"
	test -d $HOME/z/lib &&       cf_search="$cf_search $HOME/z/lib"
	test -d $HOME/z/lib/z &&    cf_search="$cf_search $HOME/z/lib/z"
}

cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_z in $cf_search
        do
          if test -d $cf_cv_library_path_z ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_z" 1>&6

echo "${as_me:-configure}:35527: testing ... testing $cf_cv_library_path_z ..." 1>&5

            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lz  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_z"
            cat >conftest.$ac_ext <<_ACEOF
#line 35533 "configure"
#include "confdefs.h"

#include <zlib.h>

int
main ()
{

	gzopen("name","mode")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:35549: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:35552: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:35555: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35558: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

                test -n "$verbose" && echo "	... found z library in $cf_cv_library_path_z" 1>&6

echo "${as_me:-configure}:35563: testing ... found z library in $cf_cv_library_path_z ..." 1>&5

                cf_cv_find_linkage_z=yes
                cf_cv_library_file_z="-lz"
                break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
          fi
        done
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_z=no
    fi

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

LIBS="$cf_save_LIBS"

if test "$cf_cv_find_linkage_z" = yes ; then

if test -n "$cf_cv_header_path_z" ; then
  for cf_add_incdir in $cf_cv_header_path_z
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat >conftest.$ac_ext <<_ACEOF
#line 35622 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:35634: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:35637: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:35640: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35643: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_have_incdir=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me:-configure}:35660: testing adding $cf_add_incdir to include-path ..." 1>&5

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

if test -n "$cf_cv_library_path_z" ; then
  for cf_add_libdir in $cf_cv_library_path_z
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me:-configure}:35694: testing adding $cf_add_libdir to library-path ..." 1>&5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	LIBS="-lz $LIBS"

else
{ echo "$as_me:35705: WARNING: Cannot find z library" >&5
echo "$as_me: WARNING: Cannot find z library" >&2;}
fi

for ac_func in \
	zError \

do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:35714: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 35720 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:35751: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:35754: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:35757: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35760: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:35770: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

	test "x$cf_cv_find_linkage_z" = "xyes" &&
cat >>confdefs.h <<\EOF
#define USE_ZLIB 1
EOF

fi

echo "$as_me:35787: checking if you want to exclude FINGER code" >&5
echo $ECHO_N "checking if you want to exclude FINGER code... $ECHO_C" >&6

# Check whether --enable-finger or --disable-finger was given.
if test "${enable_finger+set}" = set; then
  enableval="$enable_finger"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_finger=yes
  else
    use_finger=no
  fi
else
  enableval=yes
  use_finger=no

fi;
echo "$as_me:35804: result: $use_finger" >&5
echo "${ECHO_T}$use_finger" >&6
test $use_finger != "no" &&
cat >>confdefs.h <<\EOF
#define DISABLE_FINGER 1
EOF

echo "$as_me:35811: checking if you want to exclude GOPHER code" >&5
echo $ECHO_N "checking if you want to exclude GOPHER code... $ECHO_C" >&6

# Check whether --enable-gopher or --disable-gopher was given.
if test "${enable_gopher+set}" = set; then
  enableval="$enable_gopher"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_gopher=yes
  else
    use_gopher=no
  fi
else
  enableval=yes
  use_gopher=no

fi;
echo "$as_me:35828: result: $use_gopher" >&5
echo "${ECHO_T}$use_gopher" >&6
test $use_gopher != "no" &&
cat >>confdefs.h <<\EOF
#define DISABLE_GOPHER 1
EOF

echo "$as_me:35835: checking if you want to exclude NEWS code" >&5
echo $ECHO_N "checking if you want to exclude NEWS code... $ECHO_C" >&6

# Check whether --enable-news or --disable-news was given.
if test "${enable_news+set}" = set; then
  enableval="$enable_news"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_news=yes
  else
    use_news=no
  fi
else
  enableval=yes
  use_news=no

fi;
echo "$as_me:35852: result: $use_news" >&5
echo "${ECHO_T}$use_news" >&6
test $use_news != "no" &&
cat >>confdefs.h <<\EOF
#define DISABLE_NEWS 1
EOF

echo "$as_me:35859: checking if you want to exclude FTP code" >&5
echo $ECHO_N "checking if you want to exclude FTP code... $ECHO_C" >&6

# Check whether --enable-ftp or --disable-ftp was given.
if test "${enable_ftp+set}" = set; then
  enableval="$enable_ftp"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ftp=yes
  else
    use_ftp=no
  fi
else
  enableval=yes
  use_ftp=no

fi;
echo "$as_me:35876: result: $use_ftp" >&5
echo "${ECHO_T}$use_ftp" >&6
test $use_ftp != "no" &&
cat >>confdefs.h <<\EOF
#define DISABLE_FTP 1
EOF

echo "$as_me:35883: checking if you want to include WAIS code" >&5
echo $ECHO_N "checking if you want to include WAIS code... $ECHO_C" >&6

# Check whether --enable-wais or --disable-wais was given.
if test "${enable_wais+set}" = set; then
  enableval="$enable_wais"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_wais=yes
  else
    use_wais=no
  fi
else
  enableval=no
  use_wais=no

fi;
echo "$as_me:35900: result: $use_wais" >&5
echo "${ECHO_T}$use_wais" >&6

MAKE_WAIS="#"
if test $use_wais != "no"
then
	echo "$as_me:35906: checking for fs_free in -lwais" >&5
echo $ECHO_N "checking for fs_free in -lwais... $ECHO_C" >&6
if test "${ac_cv_lib_wais_fs_free+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lwais  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 35914 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char fs_free ();
int
main ()
{
fs_free ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:35933: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:35936: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:35939: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35942: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_wais_fs_free=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_wais_fs_free=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:35953: result: $ac_cv_lib_wais_fs_free" >&5
echo "${ECHO_T}$ac_cv_lib_wais_fs_free" >&6
if test $ac_cv_lib_wais_fs_free = yes; then

echo "$as_me:35957: checking if -lm needed for math functions" >&5
echo $ECHO_N "checking if -lm needed for math functions... $ECHO_C" >&6
if test "${cf_cv_need_libm+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 35964 "configure"
#include "confdefs.h"

	#include <stdio.h>
	#include <math.h>

int
main ()
{
double x = rand(); printf("result = %g\n", sin(x))
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:35979: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:35982: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:35985: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:35988: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_need_libm=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_need_libm=yes
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:35998: result: $cf_cv_need_libm" >&5
echo "${ECHO_T}$cf_cv_need_libm" >&6
if test "$cf_cv_need_libm" = yes
then

	LIBS="-lm $LIBS"

fi

		LIBS="-lwais $LIBS"

for ac_header in wais.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:36012: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 36018 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:36022: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:36028: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:36047: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

		MAKE_WAIS=

else
  { echo "$as_me:36060: WARNING: could not find WAIS library" >&5
echo "$as_me: WARNING: could not find WAIS library" >&2;}
fi

fi

# All DirEd functions that were enabled on compilation can be disabled
# or modified at run time via DIRED_MENU symbols in lynx.cfg.
echo "$as_me:36068: checking if directory-editor code should be used" >&5
echo $ECHO_N "checking if directory-editor code should be used... $ECHO_C" >&6

# Check whether --enable-dired or --disable-dired was given.
if test "${enable_dired+set}" = set; then
  enableval="$enable_dired"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_dired=$enableval
  else
    use_dired=yes
  fi
else
  enableval=yes
  use_dired=yes

fi;
echo "$as_me:36085: result: $use_dired" >&5
echo "${ECHO_T}$use_dired" >&6

if test ".$use_dired" != ".no" ; then
	EXTRA_OBJS="$EXTRA_OBJS LYLocal\$o"

cat >>confdefs.h <<\EOF
#define DIRED_SUPPORT 1
EOF

	echo "$as_me:36095: checking if you wish to allow extracting from archives via DirEd" >&5
echo $ECHO_N "checking if you wish to allow extracting from archives via DirEd... $ECHO_C" >&6

# Check whether --enable-dired-dearchive or --disable-dired-dearchive was given.
if test "${enable_dired_dearchive+set}" = set; then
  enableval="$enable_dired_dearchive"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then

cat >>confdefs.h <<\EOF
#define ARCHIVE_ONLY 1
EOF

  fi
else
  enableval=yes
fi;
	echo "$as_me:36112: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

	echo "$as_me:36115: checking if DirEd mode should override keys" >&5
echo $ECHO_N "checking if DirEd mode should override keys... $ECHO_C" >&6

# Check whether --enable-dired-override or --disable-dired-override was given.
if test "${enable_dired_override+set}" = set; then
  enableval="$enable_dired_override"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else

cat >>confdefs.h <<\EOF
#define OK_OVERRIDE 1
EOF

  fi
else
  enableval=yes

cat >>confdefs.h <<\EOF
#define OK_OVERRIDE 1
EOF

fi;
	echo "$as_me:36139: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

	echo "$as_me:36142: checking if you wish to allow permissions commands via DirEd" >&5
echo $ECHO_N "checking if you wish to allow permissions commands via DirEd... $ECHO_C" >&6

# Check whether --enable-dired-permit or --disable-dired-permit was given.
if test "${enable_dired_permit+set}" = set; then
  enableval="$enable_dired_permit"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else

cat >>confdefs.h <<\EOF
#define OK_PERMIT 1
EOF

  fi
else
  enableval=yes

cat >>confdefs.h <<\EOF
#define OK_PERMIT 1
EOF

fi;
	echo "$as_me:36166: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

	echo "$as_me:36169: checking if you wish to allow executable-permission commands via DirEd" >&5
echo $ECHO_N "checking if you wish to allow executable-permission commands via DirEd... $ECHO_C" >&6

# Check whether --enable-dired-xpermit or --disable-dired-xpermit was given.
if test "${enable_dired_xpermit+set}" = set; then
  enableval="$enable_dired_xpermit"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then

cat >>confdefs.h <<\EOF
#define NO_CHANGE_EXECUTE_PERMS 1
EOF

  fi
else
  enableval=yes
fi;
	echo "$as_me:36186: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

	echo "$as_me:36189: checking if you wish to allow \"tar\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"tar\" commands from DirEd... $ECHO_C" >&6

# Check whether --enable-dired-tar or --disable-dired-tar was given.
if test "${enable_dired_tar+set}" = set; then
  enableval="$enable_dired_tar"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else

cat >>confdefs.h <<\EOF
#define OK_TAR 1
EOF

  fi
else
  enableval=yes

cat >>confdefs.h <<\EOF
#define OK_TAR 1
EOF

fi;
	echo "$as_me:36213: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

	echo "$as_me:36216: checking if you wish to allow \"uudecode\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"uudecode\" commands from DirEd... $ECHO_C" >&6

# Check whether --enable-dired-uudecode or --disable-dired-uudecode was given.
if test "${enable_dired_uudecode+set}" = set; then
  enableval="$enable_dired_uudecode"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else

cat >>confdefs.h <<\EOF
#define OK_UUDECODE 1
EOF

  fi
else
  enableval=yes

cat >>confdefs.h <<\EOF
#define OK_UUDECODE 1
EOF

fi;
	echo "$as_me:36240: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

	echo "$as_me:36243: checking if you wish to allow \"zip\" and \"unzip\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"zip\" and \"unzip\" commands from DirEd... $ECHO_C" >&6

# Check whether --enable-dired-zip or --disable-dired-zip was given.
if test "${enable_dired_zip+set}" = set; then
  enableval="$enable_dired_zip"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else

cat >>confdefs.h <<\EOF
#define OK_ZIP 1
EOF

  fi
else
  enableval=yes

cat >>confdefs.h <<\EOF
#define OK_ZIP 1
EOF

fi;
	echo "$as_me:36267: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

	echo "$as_me:36270: checking if you wish to allow \"gzip\" and \"gunzip\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"gzip\" and \"gunzip\" commands from DirEd... $ECHO_C" >&6

# Check whether --enable-dired-gzip or --disable-dired-gzip was given.
if test "${enable_dired_gzip+set}" = set; then
  enableval="$enable_dired_gzip"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else

cat >>confdefs.h <<\EOF
#define OK_GZIP 1
EOF

  fi
else
  enableval=yes

cat >>confdefs.h <<\EOF
#define OK_GZIP 1
EOF

fi;
	echo "$as_me:36294: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
fi

echo "$as_me:36298: checking if you want long-directory listings" >&5
echo $ECHO_N "checking if you want long-directory listings... $ECHO_C" >&6

# Check whether --enable-long-list or --disable-long-list was given.
if test "${enable_long_list+set}" = set; then
  enableval="$enable_long_list"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else

cat >>confdefs.h <<\EOF
#define LONG_LIST 1
EOF

  fi
else
  enableval=yes

cat >>confdefs.h <<\EOF
#define LONG_LIST 1
EOF

fi;
echo "$as_me:36322: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

echo "$as_me:36325: checking if parent-directory references are permitted" >&5
echo $ECHO_N "checking if parent-directory references are permitted... $ECHO_C" >&6

# Check whether --enable-parent-dir-refs or --disable-parent-dir-refs was given.
if test "${enable_parent_dir_refs+set}" = set; then
  enableval="$enable_parent_dir_refs"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then

cat >>confdefs.h <<\EOF
#define NO_PARENT_DIR_REFERENCE 1
EOF

  fi
else
  enableval=yes
fi;
echo "$as_me:36342: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6

test -z "$TELNET" && TELNET=telnet
for ac_prog in $TELNET telnet
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:36350: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_TELNET+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $TELNET in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_TELNET="$TELNET" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_TELNET="$ac_dir/$ac_word"
   echo "$as_me:36367: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
TELNET=$ac_cv_path_TELNET

if test -n "$TELNET"; then
  echo "$as_me:36378: result: $TELNET" >&5
echo "${ECHO_T}$TELNET" >&6
else
  echo "$as_me:36381: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$TELNET" && break
done
test -n "$TELNET" || TELNET="$TELNET"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_TELNET
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:36440: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define TELNET_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define TELNET_ARGS "$cf_path_args"
EOF

fi

test -z "$TN3270" && TN3270=tn3270
for ac_prog in $TN3270 tn3270
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:36458: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_TN3270+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $TN3270 in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_TN3270="$TN3270" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_TN3270="$ac_dir/$ac_word"
   echo "$as_me:36475: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
TN3270=$ac_cv_path_TN3270

if test -n "$TN3270"; then
  echo "$as_me:36486: result: $TN3270" >&5
echo "${ECHO_T}$TN3270" >&6
else
  echo "$as_me:36489: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$TN3270" && break
done
test -n "$TN3270" || TN3270="$TN3270"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_TN3270
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:36548: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define TN3270_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define TN3270_ARGS "$cf_path_args"
EOF

fi

test -z "$RLOGIN" && RLOGIN=rlogin
for ac_prog in $RLOGIN rlogin
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:36566: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_RLOGIN+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $RLOGIN in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_RLOGIN="$RLOGIN" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_RLOGIN="$ac_dir/$ac_word"
   echo "$as_me:36583: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
RLOGIN=$ac_cv_path_RLOGIN

if test -n "$RLOGIN"; then
  echo "$as_me:36594: result: $RLOGIN" >&5
echo "${ECHO_T}$RLOGIN" >&6
else
  echo "$as_me:36597: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$RLOGIN" && break
done
test -n "$RLOGIN" || RLOGIN="$RLOGIN"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_RLOGIN
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:36656: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define RLOGIN_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define RLOGIN_ARGS "$cf_path_args"
EOF

fi

test -z "$MV" && MV=mv
for ac_prog in $MV mv
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:36674: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_MV+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $MV in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_MV="$MV" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_MV="$ac_dir/$ac_word"
   echo "$as_me:36691: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
MV=$ac_cv_path_MV

if test -n "$MV"; then
  echo "$as_me:36702: result: $MV" >&5
echo "${ECHO_T}$MV" >&6
else
  echo "$as_me:36705: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$MV" && break
done
test -n "$MV" || MV="$MV"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_MV
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:36764: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define MV_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define MV_ARGS "$cf_path_args"
EOF

fi

test -z "$GZIP" && GZIP=gzip
for ac_prog in $GZIP gzip
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:36782: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_GZIP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $GZIP in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_GZIP="$GZIP" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_GZIP="$ac_dir/$ac_word"
   echo "$as_me:36799: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
GZIP=$ac_cv_path_GZIP

if test -n "$GZIP"; then
  echo "$as_me:36810: result: $GZIP" >&5
echo "${ECHO_T}$GZIP" >&6
else
  echo "$as_me:36813: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$GZIP" && break
done
test -n "$GZIP" || GZIP="$GZIP"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_GZIP
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:36872: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define GZIP_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define GZIP_ARGS "$cf_path_args"
EOF

fi

test -z "$UNCOMPRESS" && UNCOMPRESS=gunzip
for ac_prog in $UNCOMPRESS gunzip
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:36890: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_UNCOMPRESS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $UNCOMPRESS in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_UNCOMPRESS="$UNCOMPRESS" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_UNCOMPRESS="$ac_dir/$ac_word"
   echo "$as_me:36907: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
UNCOMPRESS=$ac_cv_path_UNCOMPRESS

if test -n "$UNCOMPRESS"; then
  echo "$as_me:36918: result: $UNCOMPRESS" >&5
echo "${ECHO_T}$UNCOMPRESS" >&6
else
  echo "$as_me:36921: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$UNCOMPRESS" && break
done
test -n "$UNCOMPRESS" || UNCOMPRESS="$UNCOMPRESS"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_UNCOMPRESS
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:36980: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define UNCOMPRESS_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define UNCOMPRESS_ARGS "$cf_path_args"
EOF

fi

test -z "$UNZIP" && UNZIP=unzip
for ac_prog in $UNZIP unzip
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:36998: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_UNZIP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $UNZIP in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_UNZIP="$ac_dir/$ac_word"
   echo "$as_me:37015: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
UNZIP=$ac_cv_path_UNZIP

if test -n "$UNZIP"; then
  echo "$as_me:37026: result: $UNZIP" >&5
echo "${ECHO_T}$UNZIP" >&6
else
  echo "$as_me:37029: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$UNZIP" && break
done
test -n "$UNZIP" || UNZIP="$UNZIP"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_UNZIP
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37088: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define UNZIP_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define UNZIP_ARGS "$cf_path_args"
EOF

fi

test -z "$BZIP2" && BZIP2=bzip2
for ac_prog in $BZIP2 bzip2
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37106: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_BZIP2+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $BZIP2 in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_BZIP2="$BZIP2" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_BZIP2="$ac_dir/$ac_word"
   echo "$as_me:37123: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
BZIP2=$ac_cv_path_BZIP2

if test -n "$BZIP2"; then
  echo "$as_me:37134: result: $BZIP2" >&5
echo "${ECHO_T}$BZIP2" >&6
else
  echo "$as_me:37137: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$BZIP2" && break
done
test -n "$BZIP2" || BZIP2="$BZIP2"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_BZIP2
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37196: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define BZIP2_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define BZIP2_ARGS "$cf_path_args"
EOF

fi

test -z "$TAR" && TAR=tar
for ac_prog in $TAR tar pax gtar gnutar bsdtar star
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37214: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_TAR+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $TAR in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_TAR="$TAR" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_TAR="$ac_dir/$ac_word"
   echo "$as_me:37231: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
TAR=$ac_cv_path_TAR

if test -n "$TAR"; then
  echo "$as_me:37242: result: $TAR" >&5
echo "${ECHO_T}$TAR" >&6
else
  echo "$as_me:37245: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$TAR" && break
done
test -n "$TAR" || TAR="$TAR"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_TAR
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37304: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define TAR_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define TAR_ARGS "$cf_path_args"
EOF

fi

case $TAR in
*pax|*pax$EXEEXT)
	TAR_UP_OPTIONS="-w"
	TAR_DOWN_OPTIONS="-r"
	TAR_PIPE_OPTIONS=""
	TAR_FILE_OPTIONS="-f"
	;;
*star|*star$EXEEXT)
	TAR_UP_OPTIONS="-c -f"
	TAR_DOWN_OPTIONS="-x -U -f"
	TAR_PIPE_OPTIONS="-"
	TAR_FILE_OPTIONS=""
	;;
*tar|*tar$EXEEXT)
	# FIXME: some versions of tar require, some don't allow the "-"
	TAR_UP_OPTIONS="-cf"
	TAR_DOWN_OPTIONS="-xf"
	TAR_PIPE_OPTIONS="-"
	TAR_FILE_OPTIONS=""
	;;
esac

cat >>confdefs.h <<EOF
#define TAR_UP_OPTIONS "$TAR_UP_OPTIONS"
EOF

cat >>confdefs.h <<EOF
#define TAR_DOWN_OPTIONS "$TAR_DOWN_OPTIONS"
EOF

cat >>confdefs.h <<EOF
#define TAR_FILE_OPTIONS "$TAR_FILE_OPTIONS"
EOF

cat >>confdefs.h <<EOF
#define TAR_PIPE_OPTIONS "$TAR_PIPE_OPTIONS"
EOF

if test ".$use_dired" != ".no" ; then

test -z "$COMPRESS" && COMPRESS=compress
for ac_prog in $COMPRESS compress
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37362: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_COMPRESS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $COMPRESS in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_COMPRESS="$ac_dir/$ac_word"
   echo "$as_me:37379: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
COMPRESS=$ac_cv_path_COMPRESS

if test -n "$COMPRESS"; then
  echo "$as_me:37390: result: $COMPRESS" >&5
echo "${ECHO_T}$COMPRESS" >&6
else
  echo "$as_me:37393: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$COMPRESS" && break
done
test -n "$COMPRESS" || COMPRESS="$COMPRESS"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_COMPRESS
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37452: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define COMPRESS_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define COMPRESS_ARGS "$cf_path_args"
EOF

fi

test -z "$RM" && RM=rm
for ac_prog in $RM rm
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37470: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_RM+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $RM in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_RM="$RM" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_RM="$ac_dir/$ac_word"
   echo "$as_me:37487: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
RM=$ac_cv_path_RM

if test -n "$RM"; then
  echo "$as_me:37498: result: $RM" >&5
echo "${ECHO_T}$RM" >&6
else
  echo "$as_me:37501: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$RM" && break
done
test -n "$RM" || RM="$RM"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_RM
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37560: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define RM_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define RM_ARGS "$cf_path_args"
EOF

fi

test -z "$UUDECODE" && UUDECODE=uudecode
for ac_prog in $UUDECODE uudecode
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37578: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_UUDECODE+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $UUDECODE in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_UUDECODE="$UUDECODE" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_UUDECODE="$ac_dir/$ac_word"
   echo "$as_me:37595: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
UUDECODE=$ac_cv_path_UUDECODE

if test -n "$UUDECODE"; then
  echo "$as_me:37606: result: $UUDECODE" >&5
echo "${ECHO_T}$UUDECODE" >&6
else
  echo "$as_me:37609: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$UUDECODE" && break
done
test -n "$UUDECODE" || UUDECODE="$UUDECODE"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_UUDECODE
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37668: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define UUDECODE_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define UUDECODE_ARGS "$cf_path_args"
EOF

fi

test -z "$ZCAT" && ZCAT=zcat
for ac_prog in $ZCAT zcat
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37686: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_ZCAT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $ZCAT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_ZCAT="$ZCAT" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_ZCAT="$ac_dir/$ac_word"
   echo "$as_me:37703: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
ZCAT=$ac_cv_path_ZCAT

if test -n "$ZCAT"; then
  echo "$as_me:37714: result: $ZCAT" >&5
echo "${ECHO_T}$ZCAT" >&6
else
  echo "$as_me:37717: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ZCAT" && break
done
test -n "$ZCAT" || ZCAT="$ZCAT"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_ZCAT
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37776: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define ZCAT_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define ZCAT_ARGS "$cf_path_args"
EOF

fi

test -z "$ZIP" && ZIP=zip
for ac_prog in $ZIP zip
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37794: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_ZIP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $ZIP in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_ZIP="$ac_dir/$ac_word"
   echo "$as_me:37811: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
ZIP=$ac_cv_path_ZIP

if test -n "$ZIP"; then
  echo "$as_me:37822: result: $ZIP" >&5
echo "${ECHO_T}$ZIP" >&6
else
  echo "$as_me:37825: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ZIP" && break
done
test -n "$ZIP" || ZIP="$ZIP"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_ZIP
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:37884: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define ZIP_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define ZIP_ARGS "$cf_path_args"
EOF

fi

case "$INSTALL" in
$srcdir*) # (vi
	cat >>confdefs.h <<EOF
#define INSTALL_PATH "install"
EOF

	;;
*) # (vi
	cf_save_INSTALL="$INSTALL"

test -z "$INSTALL" && INSTALL=install
for ac_prog in $INSTALL install
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:37912: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_INSTALL+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $INSTALL in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_INSTALL="$INSTALL" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_INSTALL="$ac_dir/$ac_word"
   echo "$as_me:37929: found $ac_dir/$ac_word" >&5
   break
fi
done

  ;;
esac
fi
INSTALL=$ac_cv_path_INSTALL

if test -n "$INSTALL"; then
  echo "$as_me:37940: result: $INSTALL" >&5
echo "${ECHO_T}$INSTALL" >&6
else
  echo "$as_me:37943: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$INSTALL" && break
done
test -n "$INSTALL" || INSTALL="$INSTALL"

cf_path_prog=""
cf_path_args=""
IFS="${IFS:- 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_INSTALL
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*|.\${*dir}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then

echo "${as_me:-configure}:38002: testing defining path for ${cf_path_prog} ..." 1>&5

cat >>confdefs.h <<EOF
#define INSTALL_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" &&
cat >>confdefs.h <<EOF
#define INSTALL_ARGS "$cf_path_args"
EOF

fi

	INSTALL="$cf_save_INSTALL"
	;;
esac
fi

COMPRESS_PROG=
COMPRESS_EXT=
if test $use_gzip_help = yes ; then
	COMPRESS_PROG="$ac_cv_path_GZIP -9"
	COMPRESS_EXT=.gz
fi

if test $cf_cv_screen = pdcurses ; then

	case $host_os in #(vi
	mingw*)

echo "$as_me:38032: checking for initscr in -lpdcurses" >&5
echo $ECHO_N "checking for initscr in -lpdcurses... $ECHO_C" >&6
if test "${ac_cv_lib_pdcurses_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lpdcurses  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 38040 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38059: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38062: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38065: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38068: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_pdcurses_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_pdcurses_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:38079: result: $ac_cv_lib_pdcurses_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_pdcurses_initscr" >&6
if test $ac_cv_lib_pdcurses_initscr = yes; then

	LIBS="-lpdcurses $LIBS"
	cf_cv_term_header=no
	cf_cv_unctrl_header=no
	echo "$as_me:38086: checking for winwstr" >&5
echo $ECHO_N "checking for winwstr... $ECHO_C" >&6
if test "${ac_cv_func_winwstr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 38092 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char winwstr (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char winwstr ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_winwstr) || defined (__stub___winwstr)
choke me
#else
f = winwstr; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38123: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38126: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38129: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38132: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_winwstr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_winwstr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:38142: result: $ac_cv_func_winwstr" >&5
echo "${ECHO_T}$ac_cv_func_winwstr" >&6
if test $ac_cv_func_winwstr = yes; then
  cat >>confdefs.h <<\EOF
#define PDC_WIDE 1
EOF

fi

	echo "$as_me:38151: checking for pdcurses_dll_iname" >&5
echo $ECHO_N "checking for pdcurses_dll_iname... $ECHO_C" >&6
if test "${ac_cv_func_pdcurses_dll_iname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 38157 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char pdcurses_dll_iname (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char pdcurses_dll_iname ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_pdcurses_dll_iname) || defined (__stub___pdcurses_dll_iname)
choke me
#else
f = pdcurses_dll_iname; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38188: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38191: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38194: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38197: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_pdcurses_dll_iname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_pdcurses_dll_iname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:38207: result: $ac_cv_func_pdcurses_dll_iname" >&5
echo "${ECHO_T}$ac_cv_func_pdcurses_dll_iname" >&6
if test $ac_cv_func_pdcurses_dll_iname = yes; then
  cat >>confdefs.h <<\EOF
#define PDC_DLL_BUILD 1
EOF

fi

fi

		;;
	*) #(vi
		echo "$as_me:38220: checking for X" >&5
echo $ECHO_N "checking for X... $ECHO_C" >&6

# Check whether --with-x or --without-x was given.
if test "${with_x+set}" = set; then
  withval="$with_x"

fi;
# $have_x is `yes', `no', `disabled', or empty when we do not yet know.
if test "x$with_x" = xno; then
  # The user explicitly disabled X.
  have_x=disabled
else
  if test "x$x_includes" != xNONE && test "x$x_libraries" != xNONE; then
    # Both variables are already set.
    have_x=yes
  else
    if test "${ac_cv_have_x+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  # One or both of the vars are not set, and there is no cached value.
ac_x_includes=no ac_x_libraries=no
rm -fr conftest.dir
if mkdir conftest.dir; then
  cd conftest.dir
  # Make sure to not put "make" in the Imakefile rules, since we grep it out.
  cat >Imakefile <<'EOF'
acfindx:
	@@echo 'ac_im_incroot="${INCROOT}"; ac_im_usrlibdir="${USRLIBDIR}"; ac_im_libdir="${LIBDIR}"'
EOF
  if (xmkmf) >/dev/null 2>/dev/null && test -f Makefile; then
    # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
    eval `${MAKE-make} acfindx 2>/dev/null | grep -v make`
    # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
    for ac_extension in a so sl dylib dll; do
      if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
         test -f $ac_im_libdir/libX11.$ac_extension; then
        ac_im_usrlibdir=$ac_im_libdir; break
      fi
    done
    # Screen out bogus values from the imake configuration.  They are
    # bogus both because they are the default anyway, and because
    # using them would break gcc on systems where it needs fixed includes.
    case $ac_im_incroot in
	/usr/include) ;;
	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes=$ac_im_incroot;;
    esac
    case $ac_im_usrlibdir in
	/usr/lib | /lib) ;;
	*) test -d "$ac_im_usrlibdir" && ac_x_libraries=$ac_im_usrlibdir ;;
    esac
  fi
  cd ..
  rm -fr conftest.dir
fi

# Standard set of common directories for X headers.
# Check X11 before X11Rn because it is often a symlink to the current release.
ac_x_header_dirs='
/usr/X11/include
/usr/X11R6/include
/usr/X11R5/include
/usr/X11R4/include

/usr/include/X11
/usr/include/X11R6
/usr/include/X11R5
/usr/include/X11R4

/usr/local/X11/include
/usr/local/X11R6/include
/usr/local/X11R5/include
/usr/local/X11R4/include

/usr/local/include/X11
/usr/local/include/X11R6
/usr/local/include/X11R5
/usr/local/include/X11R4

/usr/X386/include
/usr/x386/include
/usr/XFree86/include/X11

/usr/include
/usr/local/include
/usr/unsupported/include
/usr/athena/include
/usr/local/x11r5/include
/usr/lpp/Xamples/include

/usr/openwin/include
/usr/openwin/share/include'

if test "$ac_x_includes" = no; then
  # Guess where to find include files, by looking for Intrinsic.h.
  # First, try using that file with no special directory specified.
  cat >conftest.$ac_ext <<_ACEOF
#line 38317 "configure"
#include "confdefs.h"
#include <X11/Intrinsic.h>
_ACEOF
if { (eval echo "$as_me:38321: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:38327: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  # We can compile using X headers with no special include directory.
ac_x_includes=
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  for ac_dir in $ac_x_header_dirs; do
  if test -r "$ac_dir/X11/Intrinsic.h"; then
    ac_x_includes=$ac_dir
    break
  fi
done
fi
rm -f conftest.err conftest.$ac_ext
fi # $ac_x_includes = no

if test "$ac_x_libraries" = no; then
  # Check for the libraries.
  # See if we find them without any special options.
  # Don't add to $LIBS permanently.
  ac_save_LIBS=$LIBS
  LIBS="-lXt $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
#line 38360 "configure"
#include "confdefs.h"
#include <X11/Intrinsic.h>
int
main ()
{
XtMalloc (0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38372: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38375: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38378: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38381: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  LIBS=$ac_save_LIBS
# We can link X programs with no special library path.
ac_x_libraries=
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
LIBS=$ac_save_LIBS
for ac_dir in `echo "$ac_x_includes $ac_x_header_dirs" | sed s/include/lib/g`
do
  # Don't even attempt the hair of trying to link an X program!
  for ac_extension in a so sl dylib dll; do
    if test -r $ac_dir/libXt.$ac_extension; then
      ac_x_libraries=$ac_dir
      break 2
    fi
  done
done
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi # $ac_x_libraries = no

if test "$ac_x_includes" = no || test "$ac_x_libraries" = no; then
  # Didn't find X anywhere.  Cache the known absence of X.
  ac_cv_have_x="have_x=no"
else
  # Record where we found X for the cache.
  ac_cv_have_x="have_x=yes \
	        ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
fi
fi

  fi
  eval "$ac_cv_have_x"
fi # $with_x != no

if test "$have_x" != yes; then
  echo "$as_me:38419: result: $have_x" >&5
echo "${ECHO_T}$have_x" >&6
  no_x=yes
else
  # If each of the values was on the command line, it overrides each guess.
  test "x$x_includes" = xNONE && x_includes=$ac_x_includes
  test "x$x_libraries" = xNONE && x_libraries=$ac_x_libraries
  # Update the cache value to reflect the command line values.
  ac_cv_have_x="have_x=yes \
		ac_x_includes=$x_includes ac_x_libraries=$x_libraries"
  echo "$as_me:38429: result: libraries $x_libraries, headers $x_includes" >&5
echo "${ECHO_T}libraries $x_libraries, headers $x_includes" >&6
fi

if test "$no_x" = yes; then
  # Not all programs may use this symbol, but it does not hurt to define it.

cat >>confdefs.h <<\EOF
#define X_DISPLAY_MISSING 1
EOF

  X_CFLAGS= X_PRE_LIBS= X_LIBS= X_EXTRA_LIBS=
else
  if test -n "$x_includes"; then
    X_CFLAGS="$X_CFLAGS -I$x_includes"
  fi

  # It would also be nice to do this for all -L options, not just this one.
  if test -n "$x_libraries"; then
    X_LIBS="$X_LIBS -L$x_libraries"
    # For Solaris; some versions of Sun CC require a space after -R and
    # others require no space.  Words are not sufficient . . . .
    case `(uname -sr) 2>/dev/null` in
    "SunOS 5"*)
      echo "$as_me:38453: checking whether -R must be followed by a space" >&5
echo $ECHO_N "checking whether -R must be followed by a space... $ECHO_C" >&6
      ac_xsave_LIBS=$LIBS; LIBS="$LIBS -R$x_libraries"
      cat >conftest.$ac_ext <<_ACEOF
#line 38457 "configure"
#include "confdefs.h"

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38469: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38472: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38475: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38478: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_R_nospace=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_R_nospace=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
      if test $ac_R_nospace = yes; then
	echo "$as_me:38488: result: no" >&5
echo "${ECHO_T}no" >&6
	X_LIBS="$X_LIBS -R$x_libraries"
      else
	LIBS="$ac_xsave_LIBS -R $x_libraries"
	cat >conftest.$ac_ext <<_ACEOF
#line 38494 "configure"
#include "confdefs.h"

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38506: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38509: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38512: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38515: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_R_space=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_R_space=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	if test $ac_R_space = yes; then
	  echo "$as_me:38525: result: yes" >&5
echo "${ECHO_T}yes" >&6
	  X_LIBS="$X_LIBS -R $x_libraries"
	else
	  echo "$as_me:38529: result: neither works" >&5
echo "${ECHO_T}neither works" >&6
	fi
      fi
      LIBS=$ac_xsave_LIBS
    esac
  fi

  # Check for system-dependent libraries X programs must link with.
  # Do this before checking for the system-independent R6 libraries
  # (-lICE), since we may need -lsocket or whatever for X linking.

  if test "$ISC" = yes; then
    X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl_s -linet"
  else
    # Martyn Johnson says this is needed for Ultrix, if the X
    # libraries were built with DECnet support.  And Karl Berry says
    # the Alpha needs dnet_stub (dnet does not exist).
    ac_xsave_LIBS="$LIBS"; LIBS="$LIBS $X_LIBS -lX11"
    cat >conftest.$ac_ext <<_ACEOF
#line 38549 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XOpenDisplay ();
int
main ()
{
XOpenDisplay ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38568: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38571: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38574: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38577: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:38583: checking for dnet_ntoa in -ldnet" >&5
echo $ECHO_N "checking for dnet_ntoa in -ldnet... $ECHO_C" >&6
if test "${ac_cv_lib_dnet_dnet_ntoa+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldnet  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 38591 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char dnet_ntoa ();
int
main ()
{
dnet_ntoa ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38610: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38613: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38616: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38619: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dnet_dnet_ntoa=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dnet_dnet_ntoa=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:38630: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_dnet_dnet_ntoa" >&6
if test $ac_cv_lib_dnet_dnet_ntoa = yes; then
  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet"
fi

    if test $ac_cv_lib_dnet_dnet_ntoa = no; then
      echo "$as_me:38637: checking for dnet_ntoa in -ldnet_stub" >&5
echo $ECHO_N "checking for dnet_ntoa in -ldnet_stub... $ECHO_C" >&6
if test "${ac_cv_lib_dnet_stub_dnet_ntoa+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldnet_stub  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 38645 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char dnet_ntoa ();
int
main ()
{
dnet_ntoa ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38664: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38667: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38670: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38673: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dnet_stub_dnet_ntoa=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dnet_stub_dnet_ntoa=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:38684: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_dnet_stub_dnet_ntoa" >&6
if test $ac_cv_lib_dnet_stub_dnet_ntoa = yes; then
  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet_stub"
fi

    fi
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
    LIBS="$ac_xsave_LIBS"

    # msh@@cis.ufl.edu says -lnsl (and -lsocket) are needed for his 386/AT,
    # to get the SysV transport functions.
    # Chad R. Larson says the Pyramis MIS-ES running DC/OSx (SVR4)
    # needs -lnsl.
    # The nsl library prevents programs from opening the X display
    # on Irix 5.2, according to T.E. Dickey.
    # The functions gethostbyname, getservbyname, and inet_addr are
    # in -lbsd on LynxOS 3.0.1/i386, according to Lars Hecking.
    echo "$as_me:38703: checking for gethostbyname" >&5
echo $ECHO_N "checking for gethostbyname... $ECHO_C" >&6
if test "${ac_cv_func_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 38709 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostbyname (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostbyname) || defined (__stub___gethostbyname)
choke me
#else
f = gethostbyname; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38740: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38743: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38746: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38749: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_gethostbyname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:38759: result: $ac_cv_func_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_func_gethostbyname" >&6

    if test $ac_cv_func_gethostbyname = no; then
      echo "$as_me:38763: checking for gethostbyname in -lnsl" >&5
echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 38771 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
int
main ()
{
gethostbyname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38790: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38793: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38796: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38799: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nsl_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nsl_gethostbyname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:38810: result: $ac_cv_lib_nsl_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6
if test $ac_cv_lib_nsl_gethostbyname = yes; then
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl"
fi

      if test $ac_cv_lib_nsl_gethostbyname = no; then
        echo "$as_me:38817: checking for gethostbyname in -lbsd" >&5
echo $ECHO_N "checking for gethostbyname in -lbsd... $ECHO_C" >&6
if test "${ac_cv_lib_bsd_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lbsd  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 38825 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
int
main ()
{
gethostbyname ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38844: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38847: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38850: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38853: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_bsd_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_bsd_gethostbyname=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:38864: result: $ac_cv_lib_bsd_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_bsd_gethostbyname" >&6
if test $ac_cv_lib_bsd_gethostbyname = yes; then
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lbsd"
fi

      fi
    fi

    # lieder@@skyler.mavd.honeywell.com says without -lsocket,
    # socket/setsockopt and other routines are undefined under SCO ODT
    # 2.0.  But -lsocket is broken on IRIX 5.2 (and is not necessary
    # on later versions), says Simon Leinen: it contains gethostby*
    # variants that don't use the nameserver (or something).  -lsocket
    # must be given before -lnsl if both are needed.  We assume that
    # if connect needs -lnsl, so does gethostbyname.
    echo "$as_me:38880: checking for connect" >&5
echo $ECHO_N "checking for connect... $ECHO_C" >&6
if test "${ac_cv_func_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 38886 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char connect (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char connect ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_connect) || defined (__stub___connect)
choke me
#else
f = connect; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38917: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38920: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38923: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38926: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_connect=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_connect=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:38936: result: $ac_cv_func_connect" >&5
echo "${ECHO_T}$ac_cv_func_connect" >&6

    if test $ac_cv_func_connect = no; then
      echo "$as_me:38940: checking for connect in -lsocket" >&5
echo $ECHO_N "checking for connect in -lsocket... $ECHO_C" >&6
if test "${ac_cv_lib_socket_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $X_EXTRA_LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 38948 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char connect ();
int
main ()
{
connect ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:38967: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:38970: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:38973: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:38976: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_socket_connect=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_socket_connect=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:38987: result: $ac_cv_lib_socket_connect" >&5
echo "${ECHO_T}$ac_cv_lib_socket_connect" >&6
if test $ac_cv_lib_socket_connect = yes; then
  X_EXTRA_LIBS="-lsocket $X_EXTRA_LIBS"
fi

    fi

    # Guillermo Gomez says -lposix is necessary on A/UX.
    echo "$as_me:38996: checking for remove" >&5
echo $ECHO_N "checking for remove... $ECHO_C" >&6
if test "${ac_cv_func_remove+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 39002 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char remove (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char remove ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_remove) || defined (__stub___remove)
choke me
#else
f = remove; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39033: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39036: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39039: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39042: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_remove=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_remove=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:39052: result: $ac_cv_func_remove" >&5
echo "${ECHO_T}$ac_cv_func_remove" >&6

    if test $ac_cv_func_remove = no; then
      echo "$as_me:39056: checking for remove in -lposix" >&5
echo $ECHO_N "checking for remove in -lposix... $ECHO_C" >&6
if test "${ac_cv_lib_posix_remove+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lposix  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 39064 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char remove ();
int
main ()
{
remove ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39083: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39086: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39089: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39092: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_posix_remove=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_posix_remove=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:39103: result: $ac_cv_lib_posix_remove" >&5
echo "${ECHO_T}$ac_cv_lib_posix_remove" >&6
if test $ac_cv_lib_posix_remove = yes; then
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lposix"
fi

    fi

    # BSDI BSD/OS 2.1 needs -lipc for XOpenDisplay.
    echo "$as_me:39112: checking for shmat" >&5
echo $ECHO_N "checking for shmat... $ECHO_C" >&6
if test "${ac_cv_func_shmat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 39118 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char shmat (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char shmat ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_shmat) || defined (__stub___shmat)
choke me
#else
f = shmat; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39149: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39152: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39155: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39158: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_shmat=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_shmat=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:39168: result: $ac_cv_func_shmat" >&5
echo "${ECHO_T}$ac_cv_func_shmat" >&6

    if test $ac_cv_func_shmat = no; then
      echo "$as_me:39172: checking for shmat in -lipc" >&5
echo $ECHO_N "checking for shmat in -lipc... $ECHO_C" >&6
if test "${ac_cv_lib_ipc_shmat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lipc  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 39180 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char shmat ();
int
main ()
{
shmat ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39199: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39202: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39205: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39208: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_ipc_shmat=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_ipc_shmat=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:39219: result: $ac_cv_lib_ipc_shmat" >&5
echo "${ECHO_T}$ac_cv_lib_ipc_shmat" >&6
if test $ac_cv_lib_ipc_shmat = yes; then
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lipc"
fi

    fi
  fi

  # Check for libraries that X11R6 Xt/Xaw programs need.
  ac_save_LDFLAGS=$LDFLAGS
  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
  # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
  # check for ICE first), but we must link in the order -lSM -lICE or
  # we get undefined symbols.  So assume we have SM if we have ICE.
  # These have to be linked with before -lX11, unlike the other
  # libraries we check for below, so use a different variable.
  # John Interrante, Karl Berry
  echo "$as_me:39237: checking for IceConnectionNumber in -lICE" >&5
echo $ECHO_N "checking for IceConnectionNumber in -lICE... $ECHO_C" >&6
if test "${ac_cv_lib_ICE_IceConnectionNumber+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lICE $X_EXTRA_LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 39245 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char IceConnectionNumber ();
int
main ()
{
IceConnectionNumber ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39264: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39267: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39270: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39273: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_ICE_IceConnectionNumber=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_ICE_IceConnectionNumber=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:39284: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
echo "${ECHO_T}$ac_cv_lib_ICE_IceConnectionNumber" >&6
if test $ac_cv_lib_ICE_IceConnectionNumber = yes; then
  X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
fi

  LDFLAGS=$ac_save_LDFLAGS

fi

cf_x_athena=${cf_x_athena:-Xaw}

echo "$as_me:39296: checking if you want to link with Xaw 3d library" >&5
echo $ECHO_N "checking if you want to link with Xaw 3d library... $ECHO_C" >&6
withval=

# Check whether --with-Xaw3d or --without-Xaw3d was given.
if test "${with_Xaw3d+set}" = set; then
  withval="$with_Xaw3d"

fi;
if test "$withval" = yes ; then
	cf_x_athena=Xaw3d
	echo "$as_me:39307: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
	echo "$as_me:39310: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:39314: checking if you want to link with neXT Athena library" >&5
echo $ECHO_N "checking if you want to link with neXT Athena library... $ECHO_C" >&6
withval=

# Check whether --with-neXtaw or --without-neXtaw was given.
if test "${with_neXtaw+set}" = set; then
  withval="$with_neXtaw"

fi;
if test "$withval" = yes ; then
	cf_x_athena=neXtaw
	echo "$as_me:39325: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
	echo "$as_me:39328: result: no" >&5
echo "${ECHO_T}no" >&6
fi

echo "$as_me:39332: checking if you want to link with Athena-Plus library" >&5
echo $ECHO_N "checking if you want to link with Athena-Plus library... $ECHO_C" >&6
withval=

# Check whether --with-XawPlus or --without-XawPlus was given.
if test "${with_XawPlus+set}" = set; then
  withval="$with_XawPlus"

fi;
if test "$withval" = yes ; then
	cf_x_athena=XawPlus
	echo "$as_me:39343: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
	echo "$as_me:39346: result: no" >&5
echo "${ECHO_T}no" >&6
fi

cf_x_athena_lib=""

if test "$PKG_CONFIG" != none ; then
	cf_athena_list=
	test "$cf_x_athena" = Xaw && cf_athena_list="xaw8 xaw7 xaw6"
	for cf_athena_pkg in \
		$cf_athena_list \
		${cf_x_athena} \
		${cf_x_athena}-devel \
		lib${cf_x_athena} \
		lib${cf_x_athena}-devel
	do

if test "$PKG_CONFIG" != none && "$PKG_CONFIG" --exists $cf_athena_pkg; then
	test -n "$verbose" && echo "	found package $cf_athena_pkg" 1>&6

echo "${as_me:-configure}:39366: testing found package $cf_athena_pkg ..." 1>&5

	cf_pkgconfig_incs="`$PKG_CONFIG --cflags $cf_athena_pkg 2>/dev/null`"
	cf_pkgconfig_libs="`$PKG_CONFIG --libs   $cf_athena_pkg 2>/dev/null`"
	test -n "$verbose" && echo "	package $cf_athena_pkg CFLAGS: $cf_pkgconfig_incs" 1>&6

echo "${as_me:-configure}:39372: testing package $cf_athena_pkg CFLAGS: $cf_pkgconfig_incs ..." 1>&5

	test -n "$verbose" && echo "	package $cf_athena_pkg LIBS: $cf_pkgconfig_libs" 1>&6

echo "${as_me:-configure}:39376: testing package $cf_athena_pkg LIBS: $cf_pkgconfig_libs ..." 1>&5

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_pkgconfig_incs
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	LIBS="$cf_pkgconfig_libs $LIBS"

			cf_x_athena_lib="$cf_pkgconfig_libs"

cf_x_athena_LIBS=`echo "HAVE_LIB_$cf_x_athena" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

			cat >>confdefs.h <<EOF
#define $cf_x_athena_LIBS 1
EOF

	for cf_trim_lib in Xmu Xt X11
	do
		case "$LIBS" in
		*-l$cf_trim_lib\ *-l$cf_trim_lib*)
			LIBS=`echo "$LIBS " | sed -e 's/  / /g' -e 's%-l'"$cf_trim_lib"' %%' -e 's/ $//'`
			test -n "$verbose" && echo "	..trimmed $LIBS" 1>&6

echo "${as_me:-configure}:39473: testing ..trimmed $LIBS ..." 1>&5

			;;
		esac
	done

echo "$as_me:39479: checking for usable $cf_x_athena/Xmu package" >&5
echo $ECHO_N "checking for usable $cf_x_athena/Xmu package... $ECHO_C" >&6
if test "${cf_cv_xaw_compat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 39486 "configure"
#include "confdefs.h"

#include <X11/Xmu/CharSet.h>

int
main ()
{

int check = XmuCompareISOLatin1("big", "small")

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39502: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39505: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39508: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39511: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xaw_compat=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_xaw_compat=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:39521: result: $cf_cv_xaw_compat" >&5
echo "${ECHO_T}$cf_cv_xaw_compat" >&6

			if test "$cf_cv_xaw_compat" = no
			then
				# workaround for broken ".pc" files...
				case "$cf_x_athena_lib" in #(vi
				*-lXmu*) #(vi
					;;
				*)
					test -n "$verbose" && echo "	work around broken package" 1>&6

echo "${as_me:-configure}:39533: testing work around broken package ..." 1>&5

					cf_save_xmu="$LIBS"
					cf_first_lib=`echo "$cf_save_xmu" | sed -e 's/^  *//' -e 's/ .*//'`

if test "$PKG_CONFIG" != none && "$PKG_CONFIG" --exists xmu; then
	test -n "$verbose" && echo "	found package xmu" 1>&6

echo "${as_me:-configure}:39541: testing found package xmu ..." 1>&5

	cf_pkgconfig_incs="`$PKG_CONFIG --cflags xmu 2>/dev/null`"
	cf_pkgconfig_libs="`$PKG_CONFIG --libs   xmu 2>/dev/null`"
	test -n "$verbose" && echo "	package xmu CFLAGS: $cf_pkgconfig_incs" 1>&6

echo "${as_me:-configure}:39547: testing package xmu CFLAGS: $cf_pkgconfig_incs ..." 1>&5

	test -n "$verbose" && echo "	package xmu LIBS: $cf_pkgconfig_libs" 1>&6

echo "${as_me:-configure}:39551: testing package xmu LIBS: $cf_pkgconfig_libs ..." 1>&5

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_pkgconfig_incs
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	LIBS="$cf_pkgconfig_libs $LIBS"

							LIBS="$cf_save_xmu"

test -n "$verbose" && echo "	...before $LIBS" 1>&6

echo "${as_me:-configure}:39637: testing ...before $LIBS ..." 1>&5

LIBS=`echo "$LIBS" | sed -e "s/[ 	][ 	]*/ /g" -e "s%$cf_first_lib %$cf_first_lib $cf_pkgconfig_libs %" -e 's%  % %g'`
test -n "$verbose" && echo "	...after  $LIBS" 1>&6

echo "${as_me:-configure}:39642: testing ...after  $LIBS ..." 1>&5

else
	cf_pkgconfig_incs=
	cf_pkgconfig_libs=

test -n "$verbose" && echo "	...before $LIBS" 1>&6

echo "${as_me:-configure}:39650: testing ...before $LIBS ..." 1>&5

LIBS=`echo "$LIBS" | sed -e "s/[ 	][ 	]*/ /g" -e "s%$cf_first_lib %$cf_first_lib -lXmu %" -e 's%  % %g'`
test -n "$verbose" && echo "	...after  $LIBS" 1>&6

echo "${as_me:-configure}:39655: testing ...after  $LIBS ..." 1>&5

fi

	for cf_trim_lib in Xmu Xt X11
	do
		case "$LIBS" in
		*-l$cf_trim_lib\ *-l$cf_trim_lib*)
			LIBS=`echo "$LIBS " | sed -e 's/  / /g' -e 's%-l'"$cf_trim_lib"' %%' -e 's/ $//'`
			test -n "$verbose" && echo "	..trimmed $LIBS" 1>&6

echo "${as_me:-configure}:39666: testing ..trimmed $LIBS ..." 1>&5

			;;
		esac
	done

					;;
				esac
			fi

			break
else
	cf_pkgconfig_incs=
	cf_pkgconfig_libs=
	:
fi

	done
fi

if test -z "$cf_x_athena_lib" ; then

if test "$PKG_CONFIG" != none && "$PKG_CONFIG" --exists Xext; then
	test -n "$verbose" && echo "	found package Xext" 1>&6

echo "${as_me:-configure}:39691: testing found package Xext ..." 1>&5

	cf_pkgconfig_incs="`$PKG_CONFIG --cflags Xext 2>/dev/null`"
	cf_pkgconfig_libs="`$PKG_CONFIG --libs   Xext 2>/dev/null`"
	test -n "$verbose" && echo "	package Xext CFLAGS: $cf_pkgconfig_incs" 1>&6

echo "${as_me:-configure}:39697: testing package Xext CFLAGS: $cf_pkgconfig_incs ..." 1>&5

	test -n "$verbose" && echo "	package Xext LIBS: $cf_pkgconfig_libs" 1>&6

echo "${as_me:-configure}:39701: testing package Xext LIBS: $cf_pkgconfig_libs ..." 1>&5

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_pkgconfig_incs
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	LIBS="$cf_pkgconfig_libs $LIBS"
	:
else
	cf_pkgconfig_incs=
	cf_pkgconfig_libs=

	echo "$as_me:39787: checking for XextCreateExtension in -lXext" >&5
echo $ECHO_N "checking for XextCreateExtension in -lXext... $ECHO_C" >&6
if test "${ac_cv_lib_Xext_XextCreateExtension+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lXext  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 39795 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XextCreateExtension ();
int
main ()
{
XextCreateExtension ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39814: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39817: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39820: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39823: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_Xext_XextCreateExtension=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_Xext_XextCreateExtension=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:39834: result: $ac_cv_lib_Xext_XextCreateExtension" >&5
echo "${ECHO_T}$ac_cv_lib_Xext_XextCreateExtension" >&6
if test $ac_cv_lib_Xext_XextCreateExtension = yes; then
  LIBS="-lXext $LIBS"
fi

fi

cf_have_X_LIBS=no

if test "$PKG_CONFIG" != none && "$PKG_CONFIG" --exists xt; then
	test -n "$verbose" && echo "	found package xt" 1>&6

echo "${as_me:-configure}:39847: testing found package xt ..." 1>&5

	cf_pkgconfig_incs="`$PKG_CONFIG --cflags xt 2>/dev/null`"
	cf_pkgconfig_libs="`$PKG_CONFIG --libs   xt 2>/dev/null`"
	test -n "$verbose" && echo "	package xt CFLAGS: $cf_pkgconfig_incs" 1>&6

echo "${as_me:-configure}:39853: testing package xt CFLAGS: $cf_pkgconfig_incs ..." 1>&5

	test -n "$verbose" && echo "	package xt LIBS: $cf_pkgconfig_libs" 1>&6

echo "${as_me:-configure}:39857: testing package xt LIBS: $cf_pkgconfig_libs ..." 1>&5

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_pkgconfig_incs
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	LIBS="$cf_pkgconfig_libs $LIBS"

	case "x$LIBS" in #(vi
	*-lX11*) #(vi
		;;
	*)
# we have an "xt" package, but it may omit Xt's dependency on X11
echo "$as_me:39944: checking for usable X dependency" >&5
echo $ECHO_N "checking for usable X dependency... $ECHO_C" >&6
if test "${cf_cv_xt_x11_compat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 39951 "configure"
#include "confdefs.h"

#include <X11/Xlib.h>

int
main ()
{

	int rc1 = XDrawLine((Display*) 0, (Drawable) 0, (GC) 0, 0, 0, 0, 0);
	int rc2 = XClearWindow((Display*) 0, (Window) 0);
	int rc3 = XMoveWindow((Display*) 0, (Window) 0, 0, 0);
	int rc4 = XMoveResizeWindow((Display*)0, (Window)0, 0, 0, 0, 0);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:39970: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:39973: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:39976: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:39979: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xt_x11_compat=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_xt_x11_compat=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:39989: result: $cf_cv_xt_x11_compat" >&5
echo "${ECHO_T}$cf_cv_xt_x11_compat" >&6
		if test "$cf_cv_xt_x11_compat" = no
		then
			test -n "$verbose" && echo "	work around broken X11 dependency" 1>&6

echo "${as_me:-configure}:39995: testing work around broken X11 dependency ..." 1>&5

			# 2010/11/19 - good enough until a working Xt on Xcb is delivered.

if test "$PKG_CONFIG" != none && "$PKG_CONFIG" --exists x11; then
	test -n "$verbose" && echo "	found package x11" 1>&6

echo "${as_me:-configure}:40002: testing found package x11 ..." 1>&5

	cf_pkgconfig_incs="`$PKG_CONFIG --cflags x11 2>/dev/null`"
	cf_pkgconfig_libs="`$PKG_CONFIG --libs   x11 2>/dev/null`"
	test -n "$verbose" && echo "	package x11 CFLAGS: $cf_pkgconfig_incs" 1>&6

echo "${as_me:-configure}:40008: testing package x11 CFLAGS: $cf_pkgconfig_incs ..." 1>&5

	test -n "$verbose" && echo "	package x11 LIBS: $cf_pkgconfig_libs" 1>&6

echo "${as_me:-configure}:40012: testing package x11 LIBS: $cf_pkgconfig_libs ..." 1>&5

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_pkgconfig_incs
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	LIBS="$cf_pkgconfig_libs $LIBS"
	:
else
	cf_pkgconfig_incs=
	cf_pkgconfig_libs=

test -n "$verbose" && echo "	...before $LIBS" 1>&6

echo "${as_me:-configure}:40100: testing ...before $LIBS ..." 1>&5

LIBS=`echo "$LIBS" | sed -e "s/[ 	][ 	]*/ /g" -e "s%-lXt %-lXt -lX11 %" -e 's%  % %g'`
test -n "$verbose" && echo "	...after  $LIBS" 1>&6

echo "${as_me:-configure}:40105: testing ...after  $LIBS ..." 1>&5

fi

		fi
		;;
	esac

echo "$as_me:40113: checking for usable X Toolkit package" >&5
echo $ECHO_N "checking for usable X Toolkit package... $ECHO_C" >&6
if test "${cf_cv_xt_ice_compat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 40120 "configure"
#include "confdefs.h"

#include <X11/Shell.h>

int
main ()
{
int num = IceConnectionNumber(0)

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:40135: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:40138: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:40141: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40144: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xt_ice_compat=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_xt_ice_compat=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:40154: result: $cf_cv_xt_ice_compat" >&5
echo "${ECHO_T}$cf_cv_xt_ice_compat" >&6

	if test "$cf_cv_xt_ice_compat" = no
	then
		# workaround for broken ".pc" files used for X Toolkit.
		case "x$X_PRE_LIBS" in #(vi
		*-lICE*)
			case "x$LIBS" in #(vi
			*-lICE*) #(vi
				;;
			*)
				test -n "$verbose" && echo "	work around broken ICE dependency" 1>&6

echo "${as_me:-configure}:40168: testing work around broken ICE dependency ..." 1>&5

if test "$PKG_CONFIG" != none && "$PKG_CONFIG" --exists ice; then
	test -n "$verbose" && echo "	found package ice" 1>&6

echo "${as_me:-configure}:40173: testing found package ice ..." 1>&5

	cf_pkgconfig_incs="`$PKG_CONFIG --cflags ice 2>/dev/null`"
	cf_pkgconfig_libs="`$PKG_CONFIG --libs   ice 2>/dev/null`"
	test -n "$verbose" && echo "	package ice CFLAGS: $cf_pkgconfig_incs" 1>&6

echo "${as_me:-configure}:40179: testing package ice CFLAGS: $cf_pkgconfig_incs ..." 1>&5

	test -n "$verbose" && echo "	package ice LIBS: $cf_pkgconfig_libs" 1>&6

echo "${as_me:-configure}:40183: testing package ice LIBS: $cf_pkgconfig_libs ..." 1>&5

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_pkgconfig_incs
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	LIBS="$cf_pkgconfig_libs $LIBS"

if test "$PKG_CONFIG" != none && "$PKG_CONFIG" --exists sm; then
	test -n "$verbose" && echo "	found package sm" 1>&6

echo "${as_me:-configure}:40268: testing found package sm ..." 1>&5

	cf_pkgconfig_incs="`$PKG_CONFIG --cflags sm 2>/dev/null`"
	cf_pkgconfig_libs="`$PKG_CONFIG --libs   sm 2>/dev/null`"
	test -n "$verbose" && echo "	package sm CFLAGS: $cf_pkgconfig_incs" 1>&6

echo "${as_me:-configure}:40274: testing package sm CFLAGS: $cf_pkgconfig_incs ..." 1>&5

	test -n "$verbose" && echo "	package sm LIBS: $cf_pkgconfig_libs" 1>&6

echo "${as_me:-configure}:40278: testing package sm LIBS: $cf_pkgconfig_libs ..." 1>&5

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_pkgconfig_incs
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

	LIBS="$cf_pkgconfig_libs $LIBS"
	:
else
	cf_pkgconfig_incs=
	cf_pkgconfig_libs=
	:
fi

else
	cf_pkgconfig_incs=
	cf_pkgconfig_libs=

test -n "$verbose" && echo "	...before $LIBS" 1>&6

echo "${as_me:-configure}:40372: testing ...before $LIBS ..." 1>&5

LIBS=`echo "$LIBS" | sed -e "s/[ 	][ 	]*/ /g" -e "s%-lXt %-lXt $X_PRE_LIBS %" -e 's%  % %g'`
test -n "$verbose" && echo "	...after  $LIBS" 1>&6

echo "${as_me:-configure}:40377: testing ...after  $LIBS ..." 1>&5

fi

				;;
			esac
			;;
		esac
	fi

	cf_have_X_LIBS=yes

else
	cf_pkgconfig_incs=
	cf_pkgconfig_libs=

	LDFLAGS="$X_LIBS $LDFLAGS"

test -n "$verbose" && echo "	checking additions to CFLAGS" 1>&6

echo "${as_me:-configure}:40397: testing checking additions to CFLAGS ..." 1>&5

cf_check_cflags="$CFLAGS"
cf_check_cppflags="$CPPFLAGS"

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $X_CFLAGS
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then
	test -n "$verbose" && echo "	add to \$CFLAGS $cf_new_cflags" 1>&6

echo "${as_me:-configure}:40468: testing add to \$CFLAGS $cf_new_cflags ..." 1>&5

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then
	test -n "$verbose" && echo "	add to \$CPPFLAGS $cf_new_cppflags" 1>&6

echo "${as_me:-configure}:40476: testing add to \$CPPFLAGS $cf_new_cppflags ..." 1>&5

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then
	test -n "$verbose" && echo "	add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags" 1>&6

echo "${as_me:-configure}:40484: testing add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags ..." 1>&5

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

if test "$cf_check_cflags" != "$CFLAGS" ; then
cat >conftest.$ac_ext <<_ACEOF
#line 40491 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello world");
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:40503: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:40506: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:40509: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40512: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6

echo "${as_me:-configure}:40520: testing test-compile failed.  Undoing change to \$CFLAGS ..." 1>&5

	 if test "$cf_check_cppflags" != "$CPPFLAGS" ; then
		 test -n "$verbose" && echo "	but keeping change to \$CPPFLAGS" 1>&6

echo "${as_me:-configure}:40525: testing but keeping change to \$CPPFLAGS ..." 1>&5

	 fi
	 CFLAGS="$cf_check_flags"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi

	echo "$as_me:40533: checking for XOpenDisplay" >&5
echo $ECHO_N "checking for XOpenDisplay... $ECHO_C" >&6
if test "${ac_cv_func_XOpenDisplay+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 40539 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char XOpenDisplay (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XOpenDisplay ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_XOpenDisplay) || defined (__stub___XOpenDisplay)
choke me
#else
f = XOpenDisplay; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:40570: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:40573: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:40576: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40579: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_XOpenDisplay=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_XOpenDisplay=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:40589: result: $ac_cv_func_XOpenDisplay" >&5
echo "${ECHO_T}$ac_cv_func_XOpenDisplay" >&6
if test $ac_cv_func_XOpenDisplay = yes; then
  :
else

	echo "$as_me:40595: checking for XOpenDisplay in -lX11" >&5
echo $ECHO_N "checking for XOpenDisplay in -lX11... $ECHO_C" >&6
if test "${ac_cv_lib_X11_XOpenDisplay+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lX11 $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 40603 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XOpenDisplay ();
int
main ()
{
XOpenDisplay ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:40622: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:40625: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:40628: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40631: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_X11_XOpenDisplay=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_X11_XOpenDisplay=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:40642: result: $ac_cv_lib_X11_XOpenDisplay" >&5
echo "${ECHO_T}$ac_cv_lib_X11_XOpenDisplay" >&6
if test $ac_cv_lib_X11_XOpenDisplay = yes; then
  LIBS="-lX11 $LIBS"
fi

fi

	echo "$as_me:40650: checking for XtAppInitialize" >&5
echo $ECHO_N "checking for XtAppInitialize... $ECHO_C" >&6
if test "${ac_cv_func_XtAppInitialize+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 40656 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char XtAppInitialize (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XtAppInitialize ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_XtAppInitialize) || defined (__stub___XtAppInitialize)
choke me
#else
f = XtAppInitialize; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:40687: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:40690: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:40693: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40696: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_XtAppInitialize=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_XtAppInitialize=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:40706: result: $ac_cv_func_XtAppInitialize" >&5
echo "${ECHO_T}$ac_cv_func_XtAppInitialize" >&6
if test $ac_cv_func_XtAppInitialize = yes; then
  :
else

	echo "$as_me:40712: checking for XtAppInitialize in -lXt" >&5
echo $ECHO_N "checking for XtAppInitialize in -lXt... $ECHO_C" >&6
if test "${ac_cv_lib_Xt_XtAppInitialize+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lXt $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 40720 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XtAppInitialize ();
int
main ()
{
XtAppInitialize ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:40739: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:40742: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:40745: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40748: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_Xt_XtAppInitialize=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_Xt_XtAppInitialize=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:40759: result: $ac_cv_lib_Xt_XtAppInitialize" >&5
echo "${ECHO_T}$ac_cv_lib_Xt_XtAppInitialize" >&6
if test $ac_cv_lib_Xt_XtAppInitialize = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_LIBXT 1
EOF

		 cf_have_X_LIBS=Xt
		 LIBS="-lXt $X_PRE_LIBS $LIBS $X_EXTRA_LIBS"
fi

fi

fi

if test $cf_have_X_LIBS = no ; then
	{ echo "$as_me:40776: WARNING: Unable to successfully link X Toolkit library (-lXt) with
test program.  You will have to check and add the proper libraries by hand
to makefile." >&5
echo "$as_me: WARNING: Unable to successfully link X Toolkit library (-lXt) with
test program.  You will have to check and add the proper libraries by hand
to makefile." >&2;}
fi

cf_x_athena_root=$cf_x_athena
cf_x_athena_inc=""

for cf_path in default \
	/usr/contrib/X11R6 \
	/usr/contrib/X11R5 \
	/usr/lib/X11R5 \
	/usr/local
do
	if test -z "$cf_x_athena_inc" ; then
		cf_save="$CPPFLAGS"
		cf_test=X11/$cf_x_athena_root/SimpleMenu.h
		if test $cf_path != default ; then
			CPPFLAGS="$cf_save -I$cf_path/include"
			echo "$as_me:40798: checking for $cf_test in $cf_path" >&5
echo $ECHO_N "checking for $cf_test in $cf_path... $ECHO_C" >&6
		else
			echo "$as_me:40801: checking for $cf_test" >&5
echo $ECHO_N "checking for $cf_test... $ECHO_C" >&6
		fi
		cat >conftest.$ac_ext <<_ACEOF
#line 40805 "configure"
#include "confdefs.h"

#include <X11/Intrinsic.h>
#include <$cf_test>
int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:40819: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:40822: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:40825: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40828: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
		echo "$as_me:40837: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
		if test "$cf_result" = yes ; then
			cf_x_athena_inc=$cf_path
			break
		else
			CPPFLAGS="$cf_save"
		fi
	fi
done

if test -z "$cf_x_athena_inc" ; then
	{ echo "$as_me:40849: WARNING: Unable to successfully find Athena header files with test program" >&5
echo "$as_me: WARNING: Unable to successfully find Athena header files with test program" >&2;}
elif test "$cf_x_athena_inc" != default ; then
	CPPFLAGS="$CPPFLAGS -I$cf_x_athena_inc"
fi

cf_x_athena_root=$cf_x_athena
cf_x_athena_lib=""

for cf_path in default \
	/usr/contrib/X11R6 \
	/usr/contrib/X11R5 \
	/usr/lib/X11R5 \
	/usr/local
do
	for cf_lib in \
		${cf_x_athena_root} \
		${cf_x_athena_root}7 \
		${cf_x_athena_root}6
	do
	for cf_libs in \
		"-l$cf_lib -lXmu" \
		"-l$cf_lib -lXpm -lXmu" \
		"-l${cf_lib}_s -lXmu_s"
	do
		if test -z "$cf_x_athena_lib" ; then
			cf_save="$LIBS"
			cf_test=XawSimpleMenuAddGlobalActions
			if test $cf_path != default ; then
				LIBS="-L$cf_path/lib $cf_libs $LIBS"
				echo "$as_me:40879: checking for $cf_libs in $cf_path" >&5
echo $ECHO_N "checking for $cf_libs in $cf_path... $ECHO_C" >&6
			else
				LIBS="$cf_libs $LIBS"
				echo "$as_me:40883: checking for $cf_test in $cf_libs" >&5
echo $ECHO_N "checking for $cf_test in $cf_libs... $ECHO_C" >&6
			fi
			cat >conftest.$ac_ext <<_ACEOF
#line 40887 "configure"
#include "confdefs.h"

#include <X11/Intrinsic.h>
#include <X11/$cf_x_athena_root/SimpleMenu.h>

int
main ()
{

$cf_test((XtAppContext) 0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:40903: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:40906: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:40909: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:40912: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			echo "$as_me:40921: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
			if test "$cf_result" = yes ; then
				cf_x_athena_lib="$cf_libs"
				break
			fi
			LIBS="$cf_save"
		fi
	done # cf_libs
		test -n "$cf_x_athena_lib" && break
	done # cf_lib
done

if test -z "$cf_x_athena_lib" ; then
	{ { echo "$as_me:40935: error: Unable to successfully link Athena library (-l$cf_x_athena_root) with test program" >&5
echo "$as_me: error: Unable to successfully link Athena library (-l$cf_x_athena_root) with test program" >&2;}
   { (exit 1); exit 1; }; }
fi

cf_x_athena_LIBS=`echo "HAVE_LIB_$cf_x_athena" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<EOF
#define $cf_x_athena_LIBS 1
EOF

fi

if test -n "$ac_tool_prefix"; then
  for ac_prog in xcurses-config
  do
    # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
set dummy $ac_tool_prefix$ac_prog; ac_word=$2
echo "$as_me:40953: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_XCURSES_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$XCURSES_CONFIG"; then
  ac_cv_prog_XCURSES_CONFIG="$XCURSES_CONFIG" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_XCURSES_CONFIG="$ac_tool_prefix$ac_prog"
echo "$as_me:40968: found $ac_dir/$ac_word" >&5
break
done

fi
fi
XCURSES_CONFIG=$ac_cv_prog_XCURSES_CONFIG
if test -n "$XCURSES_CONFIG"; then
  echo "$as_me:40976: result: $XCURSES_CONFIG" >&5
echo "${ECHO_T}$XCURSES_CONFIG" >&6
else
  echo "$as_me:40979: result: no" >&5
echo "${ECHO_T}no" >&6
fi

    test -n "$XCURSES_CONFIG" && break
  done
fi
if test -z "$XCURSES_CONFIG"; then
  ac_ct_XCURSES_CONFIG=$XCURSES_CONFIG
  for ac_prog in xcurses-config
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:40992: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_XCURSES_CONFIG+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_XCURSES_CONFIG"; then
  ac_cv_prog_ac_ct_XCURSES_CONFIG="$ac_ct_XCURSES_CONFIG" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_XCURSES_CONFIG="$ac_prog"
echo "$as_me:41007: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ac_ct_XCURSES_CONFIG=$ac_cv_prog_ac_ct_XCURSES_CONFIG
if test -n "$ac_ct_XCURSES_CONFIG"; then
  echo "$as_me:41015: result: $ac_ct_XCURSES_CONFIG" >&5
echo "${ECHO_T}$ac_ct_XCURSES_CONFIG" >&6
else
  echo "$as_me:41018: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$ac_ct_XCURSES_CONFIG" && break
done
test -n "$ac_ct_XCURSES_CONFIG" || ac_ct_XCURSES_CONFIG="none"

  XCURSES_CONFIG=$ac_ct_XCURSES_CONFIG
fi

if test "$XCURSES_CONFIG" != none ; then

CPPFLAGS="$CPPFLAGS `$XCURSES_CONFIG --cflags`"
LIBS="`$XCURSES_CONFIG --libs` $LIBS"

cf_cv_lib_XCurses=yes

else

LDFLAGS="$LDFLAGS $X_LIBS"

test -n "$verbose" && echo "	checking additions to CFLAGS" 1>&6

echo "${as_me:-configure}:41042: testing checking additions to CFLAGS ..." 1>&5

cf_check_cflags="$CFLAGS"
cf_check_cppflags="$CPPFLAGS"

cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $X_CFLAGS
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`

			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
				&& test -z "${cf_tst_cflags}" \
				&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			case $cf_add_cflags in #(vi
			-D*)
				cf_tst_cppflags=`echo "x$cf_add_cflags" | sed -e 's/^...//' -e 's/=.*//'`

CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]'"$cf_tst_cppflags"'\(=[^ 	]*\)\?$//g'`

				;;
			esac
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
		&& test -z "${cf_tst_cflags}" \
		&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then
	test -n "$verbose" && echo "	add to \$CFLAGS $cf_new_cflags" 1>&6

echo "${as_me:-configure}:41113: testing add to \$CFLAGS $cf_new_cflags ..." 1>&5

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then
	test -n "$verbose" && echo "	add to \$CPPFLAGS $cf_new_cppflags" 1>&6

echo "${as_me:-configure}:41121: testing add to \$CPPFLAGS $cf_new_cppflags ..." 1>&5

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then
	test -n "$verbose" && echo "	add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags" 1>&6

echo "${as_me:-configure}:41129: testing add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags ..." 1>&5

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi

if test "$cf_check_cflags" != "$CFLAGS" ; then
cat >conftest.$ac_ext <<_ACEOF
#line 41136 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello world");
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:41148: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:41151: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:41154: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41157: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6

echo "${as_me:-configure}:41165: testing test-compile failed.  Undoing change to \$CFLAGS ..." 1>&5

	 if test "$cf_check_cppflags" != "$CPPFLAGS" ; then
		 test -n "$verbose" && echo "	but keeping change to \$CPPFLAGS" 1>&6

echo "${as_me:-configure}:41170: testing but keeping change to \$CPPFLAGS ..." 1>&5

	 fi
	 CFLAGS="$cf_check_flags"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi

echo "$as_me:41178: checking for XOpenDisplay in -lX11" >&5
echo $ECHO_N "checking for XOpenDisplay in -lX11... $ECHO_C" >&6
if test "${ac_cv_lib_X11_XOpenDisplay+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lX11 $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 41186 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XOpenDisplay ();
int
main ()
{
XOpenDisplay ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:41205: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:41208: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:41211: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41214: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_X11_XOpenDisplay=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_X11_XOpenDisplay=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:41225: result: $ac_cv_lib_X11_XOpenDisplay" >&5
echo "${ECHO_T}$ac_cv_lib_X11_XOpenDisplay" >&6
if test $ac_cv_lib_X11_XOpenDisplay = yes; then
  LIBS="-lX11 $LIBS"
fi

echo "$as_me:41231: checking for XCurses library" >&5
echo $ECHO_N "checking for XCurses library... $ECHO_C" >&6
if test "${cf_cv_lib_XCurses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

LIBS="-lXCurses $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 41239 "configure"
#include "confdefs.h"

#include <xcurses.h>
char *XCursesProgramName = "test";

int
main ()
{
XCursesExit();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:41254: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:41257: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:41260: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41263: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_lib_XCurses=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_lib_XCurses=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:41274: result: $cf_cv_lib_XCurses" >&5
echo "${ECHO_T}$cf_cv_lib_XCurses" >&6

fi

if test $cf_cv_lib_XCurses = yes ; then

cat >>confdefs.h <<\EOF
#define UNIX 1
EOF

cat >>confdefs.h <<\EOF
#define XCURSES 1
EOF

	echo "$as_me:41289: checking for xcurses.h" >&5
echo $ECHO_N "checking for xcurses.h... $ECHO_C" >&6
if test "${ac_cv_header_xcurses_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 41295 "configure"
#include "confdefs.h"
#include <xcurses.h>
_ACEOF
if { (eval echo "$as_me:41299: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:41305: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  ac_cv_header_xcurses_h=yes
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_xcurses_h=no
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:41324: result: $ac_cv_header_xcurses_h" >&5
echo "${ECHO_T}$ac_cv_header_xcurses_h" >&6
if test $ac_cv_header_xcurses_h = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_XCURSES 1
EOF

fi

else
	{ { echo "$as_me:41335: error: Cannot link with XCurses" >&5
echo "$as_me: error: Cannot link with XCurses" >&2;}
   { (exit 1); exit 1; }; }
fi

		;;
	esac
else

echo "$as_me:41344: checking if we can include termio.h with curses" >&5
echo $ECHO_N "checking if we can include termio.h with curses... $ECHO_C" >&6
if test "${cf_cv_termio_and_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cf_save_CFLAGS="$CPPFLAGS"
    CPPFLAGS="$CPPFLAGS -DHAVE_CONFIG_H -I. -I${srcdir:-.} -I${srcdir:-.}/src -I${srcdir:-.}/WWW/Library/Implementation"
    touch lynx_cfg.h
    cat >conftest.$ac_ext <<_ACEOF
#line 41354 "configure"
#include "confdefs.h"

#include <LYCurses.h>
#include <termio.h>
int
main ()
{
putchar(0x0a)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:41368: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:41371: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:41374: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41377: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_termio_and_curses=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_termio_and_curses=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
    CPPFLAGS="$cf_save_CFLAGS"
    rm -f lynx_cfg.h

fi
echo "$as_me:41390: result: $cf_cv_termio_and_curses" >&5
echo "${ECHO_T}$cf_cv_termio_and_curses" >&6

test $cf_cv_termio_and_curses = yes &&
cat >>confdefs.h <<\EOF
#define TERMIO_AND_CURSES 1
EOF

fi

### These tests must be run after establishing the curses library.
if test $cf_cv_screen != slang ; then
	if test $cf_cv_screen != pdcurses ; then

for ac_header in $cf_cv_screen/term.h term.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:41407: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 41413 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:41417: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:41423: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:41442: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

	fi

echo "$as_me:41454: checking if curses supports alternate-character set" >&5
echo $ECHO_N "checking if curses supports alternate-character set... $ECHO_C" >&6
if test "${cf_cv_alt_char_set+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

for mapname in acs_map _acs_map
do
	cat >conftest.$ac_ext <<_ACEOF
#line 41463 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>

int
main ()
{
chtype x = $mapname['l']; $mapname['m'] = 0
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:41477: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:41480: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:41483: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41486: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_alt_char_set=$mapname
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_alt_char_set=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
done

fi

echo "$as_me:41500: result: $cf_cv_alt_char_set" >&5
echo "${ECHO_T}$cf_cv_alt_char_set" >&6
test $cf_cv_alt_char_set != no &&
cat >>confdefs.h <<EOF
#define ALT_CHAR_SET $cf_cv_alt_char_set
EOF

echo "$as_me:41507: checking if curses supports fancy attributes" >&5
echo $ECHO_N "checking if curses supports fancy attributes... $ECHO_C" >&6
if test "${cf_cv_fancy_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 41514 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>

int
main ()
{
attrset(A_UNDERLINE|A_BOLD|A_REVERSE);
	 wattrset(stdscr, A_BLINK|A_DIM);
	 attroff(A_BOLD);
	 keypad(stdscr,TRUE);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:41532: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:41535: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:41538: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41541: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_fancy_curses=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_fancy_curses=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

echo "$as_me:41553: result: $cf_cv_fancy_curses" >&5
echo "${ECHO_T}$cf_cv_fancy_curses" >&6
test $cf_cv_fancy_curses = yes &&
cat >>confdefs.h <<\EOF
#define FANCY_CURSES 1
EOF

echo "$as_me:41560: checking for function curses_version" >&5
echo $ECHO_N "checking for function curses_version... $ECHO_C" >&6
if test "${cf_cv_func_curses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

if test "$cross_compiling" = yes; then
  cf_cv_func_curses_version=unknown
else
  cat >conftest.$ac_ext <<_ACEOF
#line 41570 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
int main()
{
	char temp[1024];
	sprintf(temp, "%s\n", curses_version());
	${cf_cv_main_return:-return}(0);
}

_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:41583: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:41586: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:41588: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41591: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_func_curses_version=yes

else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_func_curses_version=no

fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
rm -f core
fi
echo "$as_me:41606: result: $cf_cv_func_curses_version" >&5
echo "${ECHO_T}$cf_cv_func_curses_version" >&6
test "$cf_cv_func_curses_version" = yes &&
cat >>confdefs.h <<\EOF
#define HAVE_CURSES_VERSION 1
EOF

if test "$cf_cv_ncurses_version" != no ; then
echo "$as_me:41614: checking for obsolete/broken version of ncurses" >&5
echo $ECHO_N "checking for obsolete/broken version of ncurses... $ECHO_C" >&6
if test "${cf_cv_ncurses_broken+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 41621 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{

#if defined(NCURSES_VERSION) && defined(wgetbkgd)
	make an error
#else
	int x = 1
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:41640: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:41643: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:41646: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41649: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_broken=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_broken=yes
fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi

echo "$as_me:41661: result: $cf_cv_ncurses_broken" >&5
echo "${ECHO_T}$cf_cv_ncurses_broken" >&6
if test "$cf_cv_ncurses_broken" = yes ; then
	{ echo "$as_me:41664: WARNING: hmm... you should get an up-to-date version of ncurses" >&5
echo "$as_me: WARNING: hmm... you should get an up-to-date version of ncurses" >&2;}

cat >>confdefs.h <<\EOF
#define NCURSES_BROKEN 1
EOF

fi
fi

echo "$as_me:41674: checking if curses supports color attributes" >&5
echo $ECHO_N "checking if curses supports color attributes... $ECHO_C" >&6
if test "${cf_cv_color_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 41681 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>

int
main ()
{
chtype x = COLOR_BLUE;
	 has_colors();
	 start_color();
#ifndef NCURSES_BROKEN
	 wbkgd(curscr, getbkgd(stdscr)); /* X/Open XPG4 aka SVr4 Curses */
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:41701: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:41704: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:41707: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41710: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_color_curses=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_color_curses=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

echo "$as_me:41722: result: $cf_cv_color_curses" >&5
echo "${ECHO_T}$cf_cv_color_curses" >&6
if test $cf_cv_color_curses = yes ; then

cat >>confdefs.h <<\EOF
#define COLOR_CURSES 1
EOF

	test ".$cf_cv_ncurses_broken" != .yes &&
cat >>confdefs.h <<\EOF
#define HAVE_GETBKGD 1
EOF

fi

for ac_header in \
termio.h \
termios.h \
unistd.h \

do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:41744: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 41750 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:41754: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:41760: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:41779: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

if test "$ISC" = yes ; then

for ac_header in sys/termio.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:41794: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 41800 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:41804: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:41810: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:41829: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

fi
if test "$ac_cv_header_termios_h" = yes ; then
	case "$CFLAGS $CPPFLAGS" in
	*-D_POSIX_SOURCE*)
		termios_bad=dunno ;;
	*)	termios_bad=maybe ;;
	esac
	if test "$termios_bad" = maybe ; then
	echo "$as_me:41847: checking whether termios.h needs _POSIX_SOURCE" >&5
echo $ECHO_N "checking whether termios.h needs _POSIX_SOURCE... $ECHO_C" >&6
	cat >conftest.$ac_ext <<_ACEOF
#line 41850 "configure"
#include "confdefs.h"
#include <termios.h>
int
main ()
{
struct termios foo; int x = foo.c_iflag
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:41862: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:41865: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:41868: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41871: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  termios_bad=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5

		cat >conftest.$ac_ext <<_ACEOF
#line 41879 "configure"
#include "confdefs.h"

#define _POSIX_SOURCE
#include <termios.h>
int
main ()
{
struct termios foo; int x = foo.c_iflag
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:41893: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:41896: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:41899: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41902: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  termios_bad=unknown
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
termios_bad=yes
cat >>confdefs.h <<\EOF
#define _POSIX_SOURCE 1
EOF

fi
rm -f conftest.$ac_objext conftest.$ac_ext

fi
rm -f conftest.$ac_objext conftest.$ac_ext
	echo "$as_me:41918: result: $termios_bad" >&5
echo "${ECHO_T}$termios_bad" >&6
	fi
fi

echo "$as_me:41923: checking declaration of size-change" >&5
echo $ECHO_N "checking declaration of size-change... $ECHO_C" >&6
if test "${cf_cv_sizechange+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

    cf_cv_sizechange=unknown
    cf_save_CPPFLAGS="$CPPFLAGS"

for cf_opts in "" "NEED_PTEM_H"
do

    CPPFLAGS="$cf_save_CPPFLAGS"
    test -n "$cf_opts" && CPPFLAGS="$CPPFLAGS -D$cf_opts"
    cat >conftest.$ac_ext <<_ACEOF
#line 41938 "configure"
#include "confdefs.h"
#include <sys/types.h>
#ifdef HAVE_TERMIOS_H
#include <termios.h>
#else
#ifdef HAVE_TERMIO_H
#include <termio.h>
#endif
#endif
#ifdef NEED_PTEM_H
/* This is a workaround for SCO:  they neglected to define struct winsize in
 * termios.h -- it's only in termio.h and ptem.h
 */
#include        <sys/stream.h>
#include        <sys/ptem.h>
#endif
#if !defined(sun) || !defined(HAVE_TERMIOS_H)
#include <sys/ioctl.h>
#endif

int
main ()
{

#ifdef TIOCGSIZE
	struct ttysize win;	/* FIXME: what system is this? */
	int y = win.ts_lines;
	int x = win.ts_cols;
#else
#ifdef TIOCGWINSZ
	struct winsize win;
	int y = win.ws_row;
	int x = win.ws_col;
#else
	no TIOCGSIZE or TIOCGWINSZ
#endif /* TIOCGWINSZ */
#endif /* TIOCGSIZE */

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:41982: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:41985: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:41988: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:41991: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_sizechange=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_sizechange=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext

	CPPFLAGS="$cf_save_CPPFLAGS"
	if test "$cf_cv_sizechange" = yes ; then
		echo "size-change succeeded ($cf_opts)" >&5
		test -n "$cf_opts" && cf_cv_sizechange="$cf_opts"
		break
	fi
done

fi
echo "$as_me:42010: result: $cf_cv_sizechange" >&5
echo "${ECHO_T}$cf_cv_sizechange" >&6
if test "$cf_cv_sizechange" != no ; then

cat >>confdefs.h <<\EOF
#define HAVE_SIZECHANGE 1
EOF

	case $cf_cv_sizechange in #(vi
	NEED*)
		cat >>confdefs.h <<EOF
#define $cf_cv_sizechange  1
EOF

		;;
	esac
fi

echo "$as_me:42028: checking if ttytype is declared in curses library" >&5
echo $ECHO_N "checking if ttytype is declared in curses library... $ECHO_C" >&6
if test "${cf_cv_have_ttytype+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 42035 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
char *x = &ttytype[1]; *x = 1
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42047: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42050: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42053: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42056: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_ttytype=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_ttytype=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi

echo "$as_me:42068: result: $cf_cv_have_ttytype" >&5
echo "${ECHO_T}$cf_cv_have_ttytype" >&6
test $cf_cv_have_ttytype = yes &&
cat >>confdefs.h <<\EOF
#define HAVE_TTYTYPE 1
EOF

	if test "$use_wide_curses" = yes ; then

echo "$as_me:42077: checking if curses supports wide characters" >&5
echo $ECHO_N "checking if curses supports wide characters... $ECHO_C" >&6
if test "${cf_cv_widec_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 42084 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{

    wchar_t temp[2];
    wchar_t wch = 'A';
    temp[0] = wch;
    waddnwstr(stdscr, temp, 1);

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42103: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42106: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42109: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42112: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_widec_curses=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_widec_curses=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

fi
echo "$as_me:42123: result: $cf_cv_widec_curses" >&5
echo "${ECHO_T}$cf_cv_widec_curses" >&6

if test "$cf_cv_widec_curses" = yes ; then

cat >>confdefs.h <<\EOF
#define WIDEC_CURSES 1
EOF

	# This is needed on Tru64 5.0 to declare mbstate_t
	echo "$as_me:42133: checking if we must include wchar.h to declare mbstate_t" >&5
echo $ECHO_N "checking if we must include wchar.h to declare mbstate_t... $ECHO_C" >&6
if test "${cf_cv_widec_mbstate+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	cat >conftest.$ac_ext <<_ACEOF
#line 42140 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
mbstate_t state
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:42154: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:42157: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:42160: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42163: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_widec_mbstate=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 42170 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <wchar.h>
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{
mbstate_t state
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:42185: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:42188: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:42191: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42194: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_widec_mbstate=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_widec_mbstate=unknown
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:42206: result: $cf_cv_widec_mbstate" >&5
echo "${ECHO_T}$cf_cv_widec_mbstate" >&6

if test "$cf_cv_widec_mbstate" = yes ; then

cat >>confdefs.h <<\EOF
#define NEED_WCHAR_H 1
EOF

fi

if test "$cf_cv_widec_mbstate" != unknown ; then

cat >>confdefs.h <<\EOF
#define HAVE_MBSTATE_T 1
EOF

fi

fi

	fi

echo "$as_me:42229: checking if we must define _XOPEN_SOURCE_EXTENDED" >&5
echo $ECHO_N "checking if we must define _XOPEN_SOURCE_EXTENDED... $ECHO_C" >&6
if test "${cf_cv_need_xopen_extension+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 42236 "configure"
#include "confdefs.h"

#include <stdlib.h>
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{

#if defined(NCURSES_VERSION_PATCH)
#if (NCURSES_VERSION_PATCH < 20100501) && (NCURSES_VERSION_PATCH >= 20100403)
	make an error
#endif
#endif
	long x = winnstr(stdscr, "", 0);
	int x1, y1;
	getbegyx(stdscr, y1, x1)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42258: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42261: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42264: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42267: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_need_xopen_extension=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 42274 "configure"
#include "confdefs.h"

#define _XOPEN_SOURCE_EXTENDED
#include <stdlib.h>
#include <${cf_cv_ncurses_header:-curses.h}>
int
main ()
{

#ifdef NCURSES_VERSION
	cchar_t check;
	int check2 = curs_set((int)sizeof(check));
#endif
	long x = winnstr(stdscr, "", 0);
	int x1, y1;
	getbegyx(stdscr, y1, x1)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42296: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42299: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42302: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42305: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_need_xopen_extension=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_need_xopen_extension=unknown
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:42317: result: $cf_cv_need_xopen_extension" >&5
echo "${ECHO_T}$cf_cv_need_xopen_extension" >&6
test $cf_cv_need_xopen_extension = yes && CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE_EXTENDED"

echo "$as_me:42321: checking for term.h" >&5
echo $ECHO_N "checking for term.h... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# If we found <ncurses/curses.h>, look for <ncurses/term.h>, but always look
# for <term.h> if we do not find the variant.

cf_header_list="term.h ncurses/term.h ncursesw/term.h"

case ${cf_cv_ncurses_header:-curses.h} in #(vi
*/*)
	cf_header_item=`echo ${cf_cv_ncurses_header:-curses.h} | sed -e 's%\..*%%' -e 's%/.*%/%'`term.h
	cf_header_list="$cf_header_item $cf_header_list"
	;;
esac

for cf_header in $cf_header_list
do
	cat >conftest.$ac_ext <<_ACEOF
#line 42342 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
#include <${cf_header}>
int
main ()
{
WINDOW *x
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:42356: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:42359: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:42362: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42365: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_term_header=$cf_header
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_term_header=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

case $cf_cv_term_header in #(vi
no)
	# If curses is ncurses, some packagers still mess it up by trying to make
	# us use GNU termcap.  This handles the most common case.
	for cf_header in ncurses/term.h ncursesw/term.h
	do
		cat >conftest.$ac_ext <<_ACEOF
#line 42384 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
#ifdef NCURSES_VERSION
#include <${cf_header}>
#else
make an error
#endif
int
main ()
{
WINDOW *x
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:42402: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:42405: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:42408: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42411: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_term_header=$cf_header
			 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_term_header=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	done
	;;
esac

fi
echo "$as_me:42426: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6

case $cf_cv_term_header in #(vi
term.h) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF

	;;
ncurses/term.h) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF

	;;
ncursesw/term.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF

	;;
esac

echo "$as_me:42453: checking for unctrl.h" >&5
echo $ECHO_N "checking for unctrl.h... $ECHO_C" >&6
if test "${cf_cv_unctrl_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# If we found <ncurses/curses.h>, look for <ncurses/unctrl.h>, but always look
# for <unctrl.h> if we do not find the variant.

cf_header_list="unctrl.h ncurses/unctrl.h ncursesw/unctrl.h"

case ${cf_cv_ncurses_header:-curses.h} in #(vi
*/*)
	cf_header_item=`echo ${cf_cv_ncurses_header:-curses.h} | sed -e 's%\..*%%' -e 's%/.*%/%'`unctrl.h
	cf_header_list="$cf_header_item $cf_header_list"
	;;
esac

for cf_header in $cf_header_list
do
	cat >conftest.$ac_ext <<_ACEOF
#line 42474 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header:-curses.h}>
#include <${cf_header}>
int
main ()
{
WINDOW *x
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:42488: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:42491: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:42494: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42497: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_unctrl_header=$cf_header
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_unctrl_header=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:42510: result: $cf_cv_unctrl_header" >&5
echo "${ECHO_T}$cf_cv_unctrl_header" >&6

case $cf_cv_unctrl_header in #(vi
no)
	{ echo "$as_me:42515: WARNING: unctrl.h header not found" >&5
echo "$as_me: WARNING: unctrl.h header not found" >&2;}
	;;
esac

case $cf_cv_unctrl_header in #(vi
unctrl.h) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_UNCTRL_H 1
EOF

	;;
ncurses/unctrl.h) #(vi

cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_UNCTRL_H 1
EOF

	;;
ncursesw/unctrl.h)

cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_UNCTRL_H 1
EOF

	;;
esac

for cf_func in \
		assume_default_colors \
		cbreak \
		define_key \
		delscreen \
		getattrs \
		getbegx \
		getbegy \
		keypad \
		napms \
		newpad \
		newterm \
		pnoutrefresh \
		resizeterm \
		touchline \
		touchwin \
		use_default_colors \
		use_legacy_coding \
		wattr_get \
		wborder \
		wredrawln \
		wresize \

do

cf_tr_func=`echo "$cf_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	echo "$as_me:42571: checking for ${cf_func}" >&5
echo $ECHO_N "checking for ${cf_func}... $ECHO_C" >&6

echo "${as_me:-configure}:42574: testing ${cf_func} ..." 1>&5

	if eval "test \"\${cf_cv_func_$cf_func+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

		eval cf_result='$ac_cv_func_'$cf_func
		if test ".$cf_result" != ".no"; then
			cat >conftest.$ac_ext <<_ACEOF
#line 42583 "configure"
#include "confdefs.h"

#ifdef HAVE_XCURSES
#include <xcurses.h>
char * XCursesProgramName = "test";
#else
#include <${cf_cv_ncurses_header:-curses.h}>
#if defined(NCURSES_VERSION) && defined(HAVE_NCURSESW_TERM_H)
#include <ncursesw/term.h>
#elif defined(NCURSES_VERSION) && defined(HAVE_NCURSES_TERM_H)
#include <ncurses/term.h>
#elif defined(HAVE_TERM_H)
#include <term.h>
#endif
#endif

int
main ()
{

#ifndef ${cf_func}
long foo = (long)(&${cf_func});
if (foo + 1234 > 5678)
	${cf_cv_main_return:-return}(foo);
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42615: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42618: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42621: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42624: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		fi
		eval 'cf_cv_func_'$cf_func'=$cf_result'

fi

	# use the computed/retrieved cache-value:
	eval 'cf_result=$cf_cv_func_'$cf_func
	echo "$as_me:42640: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
	if test $cf_result != no; then
		cat >>confdefs.h <<EOF
#define HAVE_${cf_tr_func} 1
EOF

	fi
done

for ac_func in \
		_nc_free_and_exit \
		_nc_freeall \

do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:42656: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 42662 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func; /* workaround for ICC 12.0.3 */ if (f == 0) return 1;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42693: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42696: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42699: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42702: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:42712: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF

fi
done

fi

if test $use_color_style != no ; then
	if test .$cf_cv_color_curses != .yes ; then
		{ { echo "$as_me:42726: error: Configuration does not support color-styles" >&5
echo "$as_me: error: Configuration does not support color-styles" >&2;}
   { (exit 1); exit 1; }; }
	fi
	if test $cf_cv_screen = slang ; then
		{ { echo "$as_me:42731: error: Configuration does not support color-styles" >&5
echo "$as_me: error: Configuration does not support color-styles" >&2;}
   { (exit 1); exit 1; }; }
	fi
fi

if test $use_scrollbar != no ; then
	if test .$cf_cv_fancy_curses != .yes ; then
		{ echo "$as_me:42739: WARNING: Configuration does not support ACS_xxx definitions" >&5
echo "$as_me: WARNING: Configuration does not support ACS_xxx definitions" >&2;}
	else

cat >>confdefs.h <<\EOF
#define USE_SCROLLBAR 1
EOF

	fi
fi

# use rpath for libraries in unusual places

LD_RPATH_OPT=
echo "$as_me:42753: checking for an rpath option" >&5
echo $ECHO_N "checking for an rpath option... $ECHO_C" >&6
case $cf_cv_system_name in #(vi
irix*) #(vi
	if test "$GCC" = yes; then
		LD_RPATH_OPT="-Wl,-rpath,"
	else
		LD_RPATH_OPT="-rpath "
	fi
	;;
linux*|gnu*|k*bsd*-gnu) #(vi
	LD_RPATH_OPT="-Wl,-rpath,"
	;;
openbsd[2-9].*|mirbsd*) #(vi
	LD_RPATH_OPT="-Wl,-rpath,"
	;;
dragonfly*|freebsd*) #(vi
	LD_RPATH_OPT="-rpath "
	;;
netbsd*) #(vi
	LD_RPATH_OPT="-Wl,-rpath,"
	;;
osf*|mls+*) #(vi
	LD_RPATH_OPT="-rpath "
	;;
solaris2*) #(vi
	LD_RPATH_OPT="-R"
	;;
*)
	;;
esac
echo "$as_me:42784: result: $LD_RPATH_OPT" >&5
echo "${ECHO_T}$LD_RPATH_OPT" >&6

case "x$LD_RPATH_OPT" in #(vi
x-R*)
	echo "$as_me:42789: checking if we need a space after rpath option" >&5
echo $ECHO_N "checking if we need a space after rpath option... $ECHO_C" >&6
	cf_save_LIBS="$LIBS"
	LIBS="${LD_RPATH_OPT}$libdir $LIBS"
	cat >conftest.$ac_ext <<_ACEOF
#line 42794 "configure"
#include "confdefs.h"

int
main ()
{

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42806: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42809: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42812: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42815: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_rpath_space=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_rpath_space=yes
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	LIBS="$cf_save_LIBS"
	echo "$as_me:42825: result: $cf_rpath_space" >&5
echo "${ECHO_T}$cf_rpath_space" >&6
	test "$cf_rpath_space" = yes && LD_RPATH_OPT="$LD_RPATH_OPT "
	;;
esac

echo "$as_me:42831: checking if rpath-hack should be disabled" >&5
echo $ECHO_N "checking if rpath-hack should be disabled... $ECHO_C" >&6

# Check whether --enable-rpath-hack or --disable-rpath-hack was given.
if test "${enable_rpath_hack+set}" = set; then
  enableval="$enable_rpath_hack"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    cf_disable_rpath_hack=yes
  else
    cf_disable_rpath_hack=no
  fi
else
  enableval=yes
  cf_disable_rpath_hack=no

fi;
echo "$as_me:42848: result: $cf_disable_rpath_hack" >&5
echo "${ECHO_T}$cf_disable_rpath_hack" >&6
if test "$cf_disable_rpath_hack" = no ; then

echo "$as_me:42852: checking for updated LDFLAGS" >&5
echo $ECHO_N "checking for updated LDFLAGS... $ECHO_C" >&6
if test -n "$LD_RPATH_OPT" ; then
	echo "$as_me:42855: result: maybe" >&5
echo "${ECHO_T}maybe" >&6

	for ac_prog in ldd
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:42862: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_cf_ldd_prog+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$cf_ldd_prog"; then
  ac_cv_prog_cf_ldd_prog="$cf_ldd_prog" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_cf_ldd_prog="$ac_prog"
echo "$as_me:42877: found $ac_dir/$ac_word" >&5
break
done

fi
fi
cf_ldd_prog=$ac_cv_prog_cf_ldd_prog
if test -n "$cf_ldd_prog"; then
  echo "$as_me:42885: result: $cf_ldd_prog" >&5
echo "${ECHO_T}$cf_ldd_prog" >&6
else
  echo "$as_me:42888: result: no" >&5
echo "${ECHO_T}no" >&6
fi

  test -n "$cf_ldd_prog" && break
done
test -n "$cf_ldd_prog" || cf_ldd_prog="no"

	cf_rpath_list="/usr/lib /lib"
	if test "$cf_ldd_prog" != no
	then
		cf_rpath_oops=

cat >conftest.$ac_ext <<_ACEOF
#line 42902 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello");
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:42914: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:42917: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:42920: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:42923: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_rpath_oops=`$cf_ldd_prog conftest$ac_exeext | fgrep ' not found' | sed -e 's% =>.*$%%' |sort | uniq`
		 cf_rpath_list=`$cf_ldd_prog conftest$ac_exeext | fgrep / | sed -e 's%^.*[ 	]/%/%' -e 's%/[^/][^/]*$%%' |sort | uniq`
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

		# If we passed the link-test, but get a "not found" on a given library,
		# this could be due to inept reconfiguration of gcc to make it only
		# partly honor /usr/local/lib (or whatever).  Sometimes this behavior
		# is intentional, e.g., installing gcc in /usr/bin and suppressing the
		# /usr/local libraries.
		if test -n "$cf_rpath_oops"
		then
			for cf_rpath_src in $cf_rpath_oops
			do
				for cf_rpath_dir in \
					/usr/local \
					/usr/pkg \
					/opt/sfw
				do
					if test -f $cf_rpath_dir/lib/$cf_rpath_src
					then
						test -n "$verbose" && echo "	...adding -L$cf_rpath_dir/lib to LDFLAGS for $cf_rpath_src" 1>&6

echo "${as_me:-configure}:42951: testing ...adding -L$cf_rpath_dir/lib to LDFLAGS for $cf_rpath_src ..." 1>&5

						LDFLAGS="$LDFLAGS -L$cf_rpath_dir/lib"
						break
					fi
				done
			done
		fi
	fi

	test -n "$verbose" && echo "	...checking EXTRA_LDFLAGS $EXTRA_LDFLAGS" 1>&6

echo "${as_me:-configure}:42963: testing ...checking EXTRA_LDFLAGS $EXTRA_LDFLAGS ..." 1>&5

test -n "$verbose" && echo "	...checking LDFLAGS $LDFLAGS" 1>&6

echo "${as_me:-configure}:42967: testing ...checking LDFLAGS $LDFLAGS ..." 1>&5

cf_rpath_dst=
for cf_rpath_src in $LDFLAGS
do
	case $cf_rpath_src in #(vi
	-L*) #(vi

		# check if this refers to a directory which we will ignore
		cf_rpath_skip=no
		if test -n "$cf_rpath_list"
		then
			for cf_rpath_item in $cf_rpath_list
			do
				if test "x$cf_rpath_src" = "x-L$cf_rpath_item"
				then
					cf_rpath_skip=yes
					break
				fi
			done
		fi

		if test "$cf_rpath_skip" = no
		then
			# transform the option
			if test "$LD_RPATH_OPT" = "-R " ; then
				cf_rpath_tmp=`echo "$cf_rpath_src" |sed -e "s%-L%-R %"`
			else
				cf_rpath_tmp=`echo "$cf_rpath_src" |sed -e "s%-L%$LD_RPATH_OPT%"`
			fi

			# if we have not already added this, add it now
			cf_rpath_tst=`echo "$EXTRA_LDFLAGS" | sed -e "s%$cf_rpath_tmp %%"`
			if test "x$cf_rpath_tst" = "x$EXTRA_LDFLAGS"
			then
				test -n "$verbose" && echo "	...Filter $cf_rpath_src ->$cf_rpath_tmp" 1>&6

echo "${as_me:-configure}:43004: testing ...Filter $cf_rpath_src ->$cf_rpath_tmp ..." 1>&5

				EXTRA_LDFLAGS="$cf_rpath_tmp $EXTRA_LDFLAGS"
			fi
		fi
		;;
	esac
	cf_rpath_dst="$cf_rpath_dst $cf_rpath_src"
done
LDFLAGS=$cf_rpath_dst

test -n "$verbose" && echo "	...checked LDFLAGS $LDFLAGS" 1>&6

echo "${as_me:-configure}:43017: testing ...checked LDFLAGS $LDFLAGS ..." 1>&5

test -n "$verbose" && echo "	...checking LIBS $LIBS" 1>&6

echo "${as_me:-configure}:43021: testing ...checking LIBS $LIBS ..." 1>&5

cf_rpath_dst=
for cf_rpath_src in $LIBS
do
	case $cf_rpath_src in #(vi
	-L*) #(vi

		# check if this refers to a directory which we will ignore
		cf_rpath_skip=no
		if test -n "$cf_rpath_list"
		then
			for cf_rpath_item in $cf_rpath_list
			do
				if test "x$cf_rpath_src" = "x-L$cf_rpath_item"
				then
					cf_rpath_skip=yes
					break
				fi
			done
		fi

		if test "$cf_rpath_skip" = no
		then
			# transform the option
			if test "$LD_RPATH_OPT" = "-R " ; then
				cf_rpath_tmp=`echo "$cf_rpath_src" |sed -e "s%-L%-R %"`
			else
				cf_rpath_tmp=`echo "$cf_rpath_src" |sed -e "s%-L%$LD_RPATH_OPT%"`
			fi

			# if we have not already added this, add it now
			cf_rpath_tst=`echo "$EXTRA_LDFLAGS" | sed -e "s%$cf_rpath_tmp %%"`
			if test "x$cf_rpath_tst" = "x$EXTRA_LDFLAGS"
			then
				test -n "$verbose" && echo "	...Filter $cf_rpath_src ->$cf_rpath_tmp" 1>&6

echo "${as_me:-configure}:43058: testing ...Filter $cf_rpath_src ->$cf_rpath_tmp ..." 1>&5

				EXTRA_LDFLAGS="$cf_rpath_tmp $EXTRA_LDFLAGS"
			fi
		fi
		;;
	esac
	cf_rpath_dst="$cf_rpath_dst $cf_rpath_src"
done
LIBS=$cf_rpath_dst

test -n "$verbose" && echo "	...checked LIBS $LIBS" 1>&6

echo "${as_me:-configure}:43071: testing ...checked LIBS $LIBS ..." 1>&5

	test -n "$verbose" && echo "	...checked EXTRA_LDFLAGS $EXTRA_LDFLAGS" 1>&6

echo "${as_me:-configure}:43075: testing ...checked EXTRA_LDFLAGS $EXTRA_LDFLAGS ..." 1>&5

else
	echo "$as_me:43078: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi

### Finally, build config.h and the makefiles
test -z "$CONFIG_SHELL" && CONFIG_SHELL=/bin/sh

CFLAGS="$CFLAGS $EXTRA_CFLAGS"
srcdir="$srcdir"
SRCDIR_CLEAN="#"
if test -n "$srcdir" ; then
	echo srcdir is $srcdir
	mkdir -p WWW/Library/Implementation
	mkdir -p src/chrtrans
	test "$USE_INCLUDED_LIBINTL" = yes && mkdir -p intl
	test "$srcdir" != "." && SRCDIR_CLEAN=""
fi

ac_config_files="$ac_config_files makefile WWW/Library/Implementation/makefile src/makefile src/chrtrans/makefile $SUB_MAKEFILE"
ac_config_commands="$ac_config_commands default"
cat >confcache <<\_ACEOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs, see configure's option --config-cache.
# It is not useful on other systems.  If it contains results you don't
# want to keep, you may remove or edit it.
#
# config.status only pays attention to the cache file if you give it
# the --recheck option to rerun configure.
#
# `ac_cv_env_foo' variables (set or unset) will be overriden when
# loading this file, other *unset* `ac_cv_foo' will be assigned the
# following values.

_ACEOF

# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
{
  (set) 2>&1 |
    case `(ac_space=' '; set | grep ac_space) 2>&1` in
    *ac_space=\ *)
      # `set' does not quote correctly, so add quotes (double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \).
      sed -n \
        "s/'/'\\\\''/g;
    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;;
    *)
      # `set' quotes correctly as required by POSIX, so do not add quotes.
      sed -n \
        "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
      ;;
    esac;
} |
  sed '
     t clear
     : clear
     s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
     t end
     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     : end' >>confcache
if cmp -s $cache_file confcache; then :; else
  if test -w $cache_file; then
    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
    cat confcache >$cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# VPATH may cause trouble with some makes, so we remove $(srcdir),
# ${srcdir} and @@srcdir@@ from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=/{
s/:*\$(srcdir):*/:/;
s/:*\${srcdir}:*/:/;
s/:*@@srcdir@@:*/:/;
s/^\([^=]*=[ 	]*\):*/\1/;
s/:*$//;
s/^[^=]*=[ 	]*$//;
}'
fi

DEFS=-DHAVE_CONFIG_H

: ${CONFIG_STATUS=./config.status}
ac_clean_files_save=$ac_clean_files
ac_clean_files="$ac_clean_files $CONFIG_STATUS"
{ echo "$as_me:43179: creating $CONFIG_STATUS" >&5
echo "$as_me: creating $CONFIG_STATUS" >&6;}
cat >$CONFIG_STATUS <<_ACEOF
#! $SHELL
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# Compiler output produced by configure, useful for debugging
# configure, is in config.log if it exists.

debug=false
SHELL=\${CONFIG_SHELL-$SHELL}
ac_cs_invocation="\$0 \$@@"

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF
# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
  set -o posix
fi

# Name of the executable.
as_me=`echo "$0" |sed 's,.*[\\/],,'`

if expr a : '\(a\)' >/dev/null 2>&1; then
  as_expr=expr
else
  as_expr=false
fi

rm -f conf$$ conf$$.exe conf$$.file
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  # We could just check for DJGPP; but this test a) works b) is more generic
  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
  if test -f conf$$.exe; then
    # Don't use ln at all; we don't have any links
    as_ln_s='cp -p'
  else
    as_ln_s='ln -s'
  fi
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
else
  as_ln_s='cp -p'
fi
rm -f conf$$ conf$$.exe conf$$.file

as_executable_p="test -f"

# Support unset when possible.
if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
  as_unset=unset
else
  as_unset=false
fi

# NLS nuisances.
$as_unset LANG || test "${LANG+set}" != set || { LANG=C; export LANG; }
$as_unset LC_ALL || test "${LC_ALL+set}" != set || { LC_ALL=C; export LC_ALL; }
$as_unset LC_TIME || test "${LC_TIME+set}" != set || { LC_TIME=C; export LC_TIME; }
$as_unset LC_CTYPE || test "${LC_CTYPE+set}" != set || { LC_CTYPE=C; export LC_CTYPE; }
$as_unset LANGUAGE || test "${LANGUAGE+set}" != set || { LANGUAGE=C; export LANGUAGE; }
$as_unset LC_COLLATE || test "${LC_COLLATE+set}" != set || { LC_COLLATE=C; export LC_COLLATE; }
$as_unset LC_NUMERIC || test "${LC_NUMERIC+set}" != set || { LC_NUMERIC=C; export LC_NUMERIC; }
$as_unset LC_MESSAGES || test "${LC_MESSAGES+set}" != set || { LC_MESSAGES=C; export LC_MESSAGES; }

# IFS
# We need space, tab and new line, in precisely that order.
as_nl='
'
IFS=" 	$as_nl"

# CDPATH.
$as_unset CDPATH || test "${CDPATH+set}" != set || { CDPATH=:; export CDPATH; }

exec 6>&1

_ACEOF

# Files that config.status was made for.
if test -n "$ac_config_files"; then
  echo "config_files=\"$ac_config_files\"" >>$CONFIG_STATUS
fi

if test -n "$ac_config_headers"; then
  echo "config_headers=\"$ac_config_headers\"" >>$CONFIG_STATUS
fi

if test -n "$ac_config_links"; then
  echo "config_links=\"$ac_config_links\"" >>$CONFIG_STATUS
fi

if test -n "$ac_config_commands"; then
  echo "config_commands=\"$ac_config_commands\"" >>$CONFIG_STATUS
fi

cat >>$CONFIG_STATUS <<\EOF

ac_cs_usage="\
\`$as_me' instantiates files from templates according to the
current configuration.

Usage: $0 [OPTIONS] [FILE]...

  -h, --help       print this help, then exit
  -V, --version    print version number, then exit
  -d, --debug      don't remove temporary files
      --recheck    update $as_me by reconfiguring in the same conditions
  --file=FILE[:TEMPLATE]
                   instantiate the configuration file FILE
  --header=FILE[:TEMPLATE]
                   instantiate the configuration header FILE

Configuration files:
$config_files

Configuration headers:
$config_headers

Configuration commands:
$config_commands

Report bugs to <dickey@@invisible-island.net>."
EOF

cat >>$CONFIG_STATUS <<EOF
ac_cs_version="\\
config.status
configured by $0, generated by GNU Autoconf 2.52.20121002,
  with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"

Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
Free Software Foundation, Inc.
This config.status script is free software; the Free Software Foundation
gives unlimited permission to copy, distribute and modify it."
srcdir=$srcdir
INSTALL="$INSTALL"
EOF

cat >>$CONFIG_STATUS <<\EOF
# If no file are specified by the user, then we need to provide default
# value.  By we need to know if files were specified by the user.
ac_need_defaults=:
while test $# != 0
do
  case $1 in
  --*=*)
    ac_option=`expr "x$1" : 'x\([^=]*\)='`
    ac_optarg=`expr "x$1" : 'x[^=]*=\(.*\)'`
    shift
    set dummy "$ac_option" "$ac_optarg" ${1+"$@@"}
    shift
    ;;
  -*);;
  *) # This is not an option, so the user has probably given explicit
     # arguments.
     ac_need_defaults=false;;
  esac

  case $1 in
  # Handling of the options.
EOF
cat >>$CONFIG_STATUS <<EOF
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running $SHELL $0 " $ac_configure_args " --no-create --no-recursion"
    exec $SHELL $0 $ac_configure_args --no-create --no-recursion ;;
EOF
cat >>$CONFIG_STATUS <<\EOF
  --version | --vers* | -V )
    echo "$ac_cs_version"; exit 0 ;;
  --he | --h)
    # Conflict between --help and --header
    { { echo "$as_me:43355: error: ambiguous option: $1
Try \`$0 --help' for more information." >&5
echo "$as_me: error: ambiguous option: $1
Try \`$0 --help' for more information." >&2;}
   { (exit 1); exit 1; }; };;
  --help | --hel | -h )
    echo "$ac_cs_usage"; exit 0 ;;
  --debug | --d* | -d )
    debug=: ;;
  --file | --fil | --fi | --f )
    shift
    CONFIG_FILES="$CONFIG_FILES $1"
    ac_need_defaults=false;;
  --header | --heade | --head | --hea )
    shift
    CONFIG_HEADERS="$CONFIG_HEADERS $1"
    ac_need_defaults=false;;

  # This is an error.
  -*) { { echo "$as_me:43374: error: unrecognized option: $1
Try \`$0 --help' for more information." >&5
echo "$as_me: error: unrecognized option: $1
Try \`$0 --help' for more information." >&2;}
   { (exit 1); exit 1; }; } ;;

  *) ac_config_targets="$ac_config_targets $1" ;;

  esac
  shift
done

exec 5>>config.log
cat >&5 << _ACEOF

## ----------------------- ##
## Running config.status.  ##
## ----------------------- ##

This file was extended by $as_me 2.52.20121002, executed with
  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  > $ac_cs_invocation
on `(hostname || uname -n) 2>/dev/null | sed 1q`

_ACEOF
EOF

cat >>$CONFIG_STATUS <<EOF
#
# INIT-COMMANDS section.
#

	USE_NLS=$USE_NLS
	use_our_messages=$use_our_messages

EOF

cat >>$CONFIG_STATUS <<\EOF
for ac_config_target in $ac_config_targets
do
  case "$ac_config_target" in
  # Handling of arguments.
  "makefile" ) CONFIG_FILES="$CONFIG_FILES makefile" ;;
  "WWW/Library/Implementation/makefile" ) CONFIG_FILES="$CONFIG_FILES WWW/Library/Implementation/makefile" ;;
  "src/makefile" ) CONFIG_FILES="$CONFIG_FILES src/makefile" ;;
  "src/chrtrans/makefile" ) CONFIG_FILES="$CONFIG_FILES src/chrtrans/makefile" ;;
  "$SUB_MAKEFILE" ) CONFIG_FILES="$CONFIG_FILES $SUB_MAKEFILE" ;;
  "default-1" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default-1" ;;
  "default" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
  "$CONFIG_H" ) CONFIG_HEADERS="$CONFIG_HEADERS $CONFIG_H:config.hin" ;;
  *) { { echo "$as_me:43427: error: invalid argument: $ac_config_target" >&5
echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
   { (exit 1); exit 1; }; };;
  esac
done

# If the user did not use the arguments to specify the items to instantiate,
# then the envvar interface is used.  Set only those that are not.
# We use the long form for the default assignment because of an extremely
# bizarre bug on SunOS 4.1.3.
if $ac_need_defaults; then
  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
  test "${CONFIG_HEADERS+set}" = set || CONFIG_HEADERS=$config_headers
  test "${CONFIG_COMMANDS+set}" = set || CONFIG_COMMANDS=$config_commands
fi

# Create a temporary directory, and hook for its removal unless debugging.
$debug ||
{
  trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
  trap '{ (exit 1); exit 1; }' 1 2 13 15
}

# Create a (secure) tmp directory for tmp files.
: ${TMPDIR=/tmp}
{
  tmp=`(umask 077 && mktemp -d -q "$TMPDIR/csXXXXXX") 2>/dev/null` &&
  test -n "$tmp" && test -d "$tmp"
}  ||
{
  tmp=$TMPDIR/cs$$-$RANDOM
  (umask 077 && mkdir $tmp)
} ||
{
   echo "$me: cannot create a temporary directory in $TMPDIR" >&2
   { (exit 1); exit 1; }
}

EOF

cat >>$CONFIG_STATUS <<EOF

#
# CONFIG_FILES section.
#

# No need to generate the scripts if there are no CONFIG_FILES.
# This happens for instance when ./config.status config.h
if test -n "\$CONFIG_FILES"; then
  # Protect against being on the right side of a sed subst in config.status.
  sed 's/,@@/@@@@/; s/@@,/@@@@/; s/,;t t\$/@@;t t/; /@@;t t\$/s/[\\\\&,]/\\\\&/g;
   s/@@@@/,@@/; s/@@@@/@@,/; s/@@;t t\$/,;t t/' >\$tmp/subs.sed <<\\CEOF
s,@@SHELL@@,$SHELL,;t t
s,@@exec_prefix@@,$exec_prefix,;t t
s,@@prefix@@,$prefix,;t t
s,@@program_transform_name@@,$program_transform_name,;t t
s,@@bindir@@,$bindir,;t t
s,@@sbindir@@,$sbindir,;t t
s,@@libexecdir@@,$libexecdir,;t t
s,@@datarootdir@@,$datarootdir,;t t
s,@@datadir@@,$datadir,;t t
s,@@sysconfdir@@,$sysconfdir,;t t
s,@@sharedstatedir@@,$sharedstatedir,;t t
s,@@localstatedir@@,$localstatedir,;t t
s,@@libdir@@,$libdir,;t t
s,@@includedir@@,$includedir,;t t
s,@@oldincludedir@@,$oldincludedir,;t t
s,@@infodir@@,$infodir,;t t
s,@@mandir@@,$mandir,;t t
s,@@PACKAGE_NAME@@,$PACKAGE_NAME,;t t
s,@@PACKAGE_TARNAME@@,$PACKAGE_TARNAME,;t t
s,@@PACKAGE_VERSION@@,$PACKAGE_VERSION,;t t
s,@@PACKAGE_STRING@@,$PACKAGE_STRING,;t t
s,@@PACKAGE_BUGREPORT@@,$PACKAGE_BUGREPORT,;t t
s,@@build_alias@@,$build_alias,;t t
s,@@host_alias@@,$host_alias,;t t
s,@@target_alias@@,$target_alias,;t t
s,@@ECHO_C@@,$ECHO_C,;t t
s,@@ECHO_N@@,$ECHO_N,;t t
s,@@ECHO_T@@,$ECHO_T,;t t
s,@@PATH_SEPARATOR@@,$PATH_SEPARATOR,;t t
s,@@DEFS@@,$DEFS,;t t
s,@@LIBS@@,$LIBS,;t t
s,@@CONFIG_H@@,$CONFIG_H,;t t
s,@@build@@,$build,;t t
s,@@build_cpu@@,$build_cpu,;t t
s,@@build_vendor@@,$build_vendor,;t t
s,@@build_os@@,$build_os,;t t
s,@@host@@,$host,;t t
s,@@host_cpu@@,$host_cpu,;t t
s,@@host_vendor@@,$host_vendor,;t t
s,@@host_os@@,$host_os,;t t
s,@@target@@,$target,;t t
s,@@target_cpu@@,$target_cpu,;t t
s,@@target_vendor@@,$target_vendor,;t t
s,@@target_os@@,$target_os,;t t
s,@@PACKAGE@@,$PACKAGE,;t t
s,@@VERSION@@,$VERSION,;t t
s,@@DESTDIR@@,$DESTDIR,;t t
s,@@CC@@,$CC,;t t
s,@@CFLAGS@@,$CFLAGS,;t t
s,@@LDFLAGS@@,$LDFLAGS,;t t
s,@@CPPFLAGS@@,$CPPFLAGS,;t t
s,@@ac_ct_CC@@,$ac_ct_CC,;t t
s,@@EXEEXT@@,$EXEEXT,;t t
s,@@OBJEXT@@,$OBJEXT,;t t
s,@@EXTRA_CPPFLAGS@@,$EXTRA_CPPFLAGS,;t t
s,@@CPP@@,$CPP,;t t
s,@@LN_S@@,$LN_S,;t t
s,@@SET_MAKE@@,$SET_MAKE,;t t
s,@@INSTALL_PROGRAM@@,$INSTALL_PROGRAM,;t t
s,@@INSTALL_SCRIPT@@,$INSTALL_SCRIPT,;t t
s,@@INSTALL_DATA@@,$INSTALL_DATA,;t t
s,@@YACC@@,$YACC,;t t
s,@@LINT@@,$LINT,;t t
s,@@LINT_OPTS@@,$LINT_OPTS,;t t
s,@@cf_cv_makeflags@@,$cf_cv_makeflags,;t t
s,@@CTAGS@@,$CTAGS,;t t
s,@@ETAGS@@,$ETAGS,;t t
s,@@MAKE_LOWER_TAGS@@,$MAKE_LOWER_TAGS,;t t
s,@@MAKE_UPPER_TAGS@@,$MAKE_UPPER_TAGS,;t t
s,@@WINDRES@@,$WINDRES,;t t
s,@@ac_pt_WINDRES@@,$ac_pt_WINDRES,;t t
s,@@BUILD_CC@@,$BUILD_CC,;t t
s,@@BUILD_CPP@@,$BUILD_CPP,;t t
s,@@BUILD_CFLAGS@@,$BUILD_CFLAGS,;t t
s,@@BUILD_CPPFLAGS@@,$BUILD_CPPFLAGS,;t t
s,@@BUILD_LDFLAGS@@,$BUILD_LDFLAGS,;t t
s,@@BUILD_LIBS@@,$BUILD_LIBS,;t t
s,@@BUILD_EXEEXT@@,$BUILD_EXEEXT,;t t
s,@@BUILD_OBJEXT@@,$BUILD_OBJEXT,;t t
s,@@RANLIB@@,$RANLIB,;t t
s,@@ac_ct_RANLIB@@,$ac_ct_RANLIB,;t t
s,@@AR@@,$AR,;t t
s,@@ac_ct_AR@@,$ac_ct_AR,;t t
s,@@ARFLAGS@@,$ARFLAGS,;t t
s,@@ECHO_LT@@,$ECHO_LT,;t t
s,@@ECHO_LD@@,$ECHO_LD,;t t
s,@@RULE_CC@@,$RULE_CC,;t t
s,@@SHOW_CC@@,$SHOW_CC,;t t
s,@@ECHO_CC@@,$ECHO_CC,;t t
s,@@DONT_ECHO_CC@@,$DONT_ECHO_CC,;t t
s,@@EXTRA_CFLAGS@@,$EXTRA_CFLAGS,;t t
s,@@MSGINIT@@,$MSGINIT,;t t
s,@@ALLOCA@@,$ALLOCA,;t t
s,@@GLIBC21@@,$GLIBC21,;t t
s,@@LIBICONV@@,$LIBICONV,;t t
s,@@USE_NLS@@,$USE_NLS,;t t
s,@@MSGFMT@@,$MSGFMT,;t t
s,@@GMSGFMT@@,$GMSGFMT,;t t
s,@@XGETTEXT@@,$XGETTEXT,;t t
s,@@INTLBISON@@,$INTLBISON,;t t
s,@@BUILD_INCLUDED_LIBINTL@@,$BUILD_INCLUDED_LIBINTL,;t t
s,@@USE_INCLUDED_LIBINTL@@,$USE_INCLUDED_LIBINTL,;t t
s,@@CATALOGS@@,$CATALOGS,;t t
s,@@CATOBJEXT@@,$CATOBJEXT,;t t
s,@@GMOFILES@@,$GMOFILES,;t t
s,@@INTLLIBS@@,$INTLLIBS,;t t
s,@@INTLOBJS@@,$INTLOBJS,;t t
s,@@POFILES@@,$POFILES,;t t
s,@@POSUB@@,$POSUB,;t t
s,@@DATADIRNAME@@,$DATADIRNAME,;t t
s,@@INSTOBJEXT@@,$INSTOBJEXT,;t t
s,@@GENCAT@@,$GENCAT,;t t
s,@@INTL_LIBTOOL_SUFFIX_PREFIX@@,$INTL_LIBTOOL_SUFFIX_PREFIX,;t t
s,@@NLS_TEXTDOMAIN@@,$NLS_TEXTDOMAIN,;t t
s,@@MSG_DIR_MAKE@@,$MSG_DIR_MAKE,;t t
s,@@SUB_MAKEFILE@@,$SUB_MAKEFILE,;t t
s,@@INTLDIR_MAKE@@,$INTLDIR_MAKE,;t t
s,@@GT_YES@@,$GT_YES,;t t
s,@@GT_NO@@,$GT_NO,;t t
s,@@INTLDIR_CPPFLAGS@@,$INTLDIR_CPPFLAGS,;t t
s,@@NLS_DATADIR@@,$NLS_DATADIR,;t t
s,@@PKG_CONFIG@@,$PKG_CONFIG,;t t
s,@@ac_pt_PKG_CONFIG@@,$ac_pt_PKG_CONFIG,;t t
s,@@NCURSES_CONFIG@@,$NCURSES_CONFIG,;t t
s,@@ac_ct_NCURSES_CONFIG@@,$ac_ct_NCURSES_CONFIG,;t t
s,@@LYNX_LSS_FILE@@,$LYNX_LSS_FILE,;t t
s,@@INSTALL_LSS@@,$INSTALL_LSS,;t t
s,@@LYNX_CFG_FILE@@,$LYNX_CFG_FILE,;t t
s,@@LYNX_CFG_PATH@@,$LYNX_CFG_PATH,;t t
s,@@LYNXCFG_MAKE@@,$LYNXCFG_MAKE,;t t
s,@@LYNXDOC_MAKE@@,$LYNXDOC_MAKE,;t t
s,@@MIME_LIBDIR@@,$MIME_LIBDIR,;t t
s,@@CHARSET_DEFS@@,$CHARSET_DEFS,;t t
s,@@LIBOBJS@@,$LIBOBJS,;t t
s,@@EXTRA_OBJS@@,$EXTRA_OBJS,;t t
s,@@SETFONT@@,$SETFONT,;t t
s,@@MAKE_WAIS@@,$MAKE_WAIS,;t t
s,@@TELNET@@,$TELNET,;t t
s,@@TN3270@@,$TN3270,;t t
s,@@RLOGIN@@,$RLOGIN,;t t
s,@@MV@@,$MV,;t t
s,@@GZIP@@,$GZIP,;t t
s,@@UNCOMPRESS@@,$UNCOMPRESS,;t t
s,@@UNZIP@@,$UNZIP,;t t
s,@@BZIP2@@,$BZIP2,;t t
s,@@TAR@@,$TAR,;t t
s,@@TAR_UP_OPTIONS@@,$TAR_UP_OPTIONS,;t t
s,@@TAR_DOWN_OPTIONS@@,$TAR_DOWN_OPTIONS,;t t
s,@@TAR_FILE_OPTIONS@@,$TAR_FILE_OPTIONS,;t t
s,@@TAR_PIPE_OPTIONS@@,$TAR_PIPE_OPTIONS,;t t
s,@@COMPRESS@@,$COMPRESS,;t t
s,@@RM@@,$RM,;t t
s,@@UUDECODE@@,$UUDECODE,;t t
s,@@ZCAT@@,$ZCAT,;t t
s,@@ZIP@@,$ZIP,;t t
s,@@INSTALL@@,$INSTALL,;t t
s,@@COMPRESS_PROG@@,$COMPRESS_PROG,;t t
s,@@COMPRESS_EXT@@,$COMPRESS_EXT,;t t
s,@@X_CFLAGS@@,$X_CFLAGS,;t t
s,@@X_PRE_LIBS@@,$X_PRE_LIBS,;t t
s,@@X_LIBS@@,$X_LIBS,;t t
s,@@X_EXTRA_LIBS@@,$X_EXTRA_LIBS,;t t
s,@@XCURSES_CONFIG@@,$XCURSES_CONFIG,;t t
s,@@ac_ct_XCURSES_CONFIG@@,$ac_ct_XCURSES_CONFIG,;t t
s,@@cf_ldd_prog@@,$cf_ldd_prog,;t t
s,@@EXTRA_LDFLAGS@@,$EXTRA_LDFLAGS,;t t
s,@@CONFIG_SHELL@@,$CONFIG_SHELL,;t t
s,@@SRCDIR_CLEAN@@,$SRCDIR_CLEAN,;t t
CEOF

EOF

  cat >>$CONFIG_STATUS <<\EOF
  # Split the substitutions into bite-sized pieces for seds with
  # small command number limits, like on Digital OSF/1 and HP-UX.
  ac_max_sed_lines=48
  ac_sed_frag=1 # Number of current file.
  ac_beg=1 # First line for current file.
  ac_end=$ac_max_sed_lines # Line after last line for current file.
  ac_more_lines=:
  ac_sed_cmds=
  while $ac_more_lines; do
    if test $ac_beg -gt 1; then
      sed "1,${ac_beg}d; ${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
    else
      sed "${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
    fi
    if test ! -s $tmp/subs.frag; then
      ac_more_lines=false
    else
      # The purpose of the label and of the branching condition is to
      # speed up the sed processing (if there are no `@@' at all, there
      # is no need to browse any of the substitutions).
      # These are the two extra sed commands mentioned above.
      (echo ':t
  /@@[a-zA-Z_][a-zA-Z_0-9]*@@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
      if test -z "$ac_sed_cmds"; then
  	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
      else
  	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
      fi
      ac_sed_frag=`expr $ac_sed_frag + 1`
      ac_beg=$ac_end
      ac_end=`expr $ac_end + $ac_max_sed_lines`
    fi
  done
  if test -z "$ac_sed_cmds"; then
    ac_sed_cmds=cat
  fi
fi # test -n "$CONFIG_FILES"

EOF
cat >>$CONFIG_STATUS <<\EOF
for ac_file in : $CONFIG_FILES; do test "x$ac_file" = x: && continue
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case $ac_file in
  - | *:- | *:-:* ) # input from stdin
        cat >$tmp/stdin
        ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  * )   ac_file_in=$ac_file.in ;;
  esac

  # Compute @@srcdir@@, @@top_srcdir@@, and @@INSTALL@@ for subdirectories.
  ac_dir=`$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
         X"$ac_file" : 'X\(//\)[^/]' \| \
         X"$ac_file" : 'X\(//\)$' \| \
         X"$ac_file" : 'X\(/\)' \| \
         .     : '\(.\)' 2>/dev/null ||
echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    { case "$ac_dir" in
  [\\/]* | ?:[\\/]* ) as_incr_dir=;;
  *)                      as_incr_dir=.;;
esac
as_dummy="$ac_dir"
for as_mkdir_dir in `IFS='/\\'; set X $as_dummy; shift; echo "$@@"`; do
  case $as_mkdir_dir in
    # Skip DOS drivespec
    ?:) as_incr_dir=$as_mkdir_dir ;;
    *)
      as_incr_dir=$as_incr_dir/$as_mkdir_dir
      test -d "$as_incr_dir" || mkdir "$as_incr_dir"
    ;;
  esac
done; }

    ac_dir_suffix="/`echo $ac_dir|sed 's,^\./,,'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo "$ac_dir_suffix" | sed 's,/[^/]*,../,g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case $srcdir in
  .)  ac_srcdir=.
      if test -z "$ac_dots"; then
         ac_top_srcdir=.
      else
         ac_top_srcdir=`echo $ac_dots | sed 's,/$,,'`
      fi ;;
  [\\/]* | ?:[\\/]* )
      ac_srcdir=$srcdir$ac_dir_suffix;
      ac_top_srcdir=$srcdir ;;
  *) # Relative path.
    ac_srcdir=$ac_dots$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_dots$srcdir ;;
  esac

  case $INSTALL in
  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
  *) ac_INSTALL=$ac_dots$INSTALL ;;
  esac

  if test x"$ac_file" != x-; then
    { echo "$as_me:43761: creating $ac_file" >&5
echo "$as_me: creating $ac_file" >&6;}
    rm -f "$ac_file"
  fi
  # Let's still pretend it is `configure' which instantiates (i.e., don't
  # use $as_me), people would be surprised to read:
  #    /* config.h.  Generated automatically by config.status.  */
  configure_input="Generated automatically from `echo $ac_file_in |
                                                 sed 's,.*/,,'` by configure."

  # First look for the input files in the build tree, otherwise in the
  # src tree.
  ac_file_inputs=`IFS=:
    for f in $ac_file_in; do
      case $f in
      -) echo $tmp/stdin ;;
      [\\/$]*)
         # Absolute (can't be DOS-style, as IFS=:)
         test -f "$f" || { { echo "$as_me:43779: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         echo $f;;
      *) # Relative
         if test -f "$f"; then
           # Build tree
           echo $f
         elif test -f "$srcdir/$f"; then
           # Source tree
           echo $srcdir/$f
         else
           # /dev/null tree
           { { echo "$as_me:43792: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         fi;;
      esac
    done` || { (exit 1); exit 1; }
EOF
cat >>$CONFIG_STATUS <<\EOF
  ac_warn_datarootdir=no
  if test x"$ac_file" != x-; then
    for ac_item in $ac_file_inputs
    do
      ac_seen=`grep '@@\(datadir\|mandir\|infodir\)@@' $ac_item`
      if test -n "$ac_seen"; then
        ac_used=`grep '@@datarootdir@@' $ac_item`
        if test -z "$ac_used"; then
          { echo "$as_me:43808: WARNING: datarootdir was used implicitly but not set:
$ac_seen" >&5
echo "$as_me: WARNING: datarootdir was used implicitly but not set:
$ac_seen" >&2;}
          ac_warn_datarootdir=yes
        fi
      fi
      ac_seen=`grep '${datarootdir}' $ac_item`
      if test -n "$ac_seen"; then
        { echo "$as_me:43817: WARNING: datarootdir was used explicitly but not set:
$ac_seen" >&5
echo "$as_me: WARNING: datarootdir was used explicitly but not set:
$ac_seen" >&2;}
        ac_warn_datarootdir=yes
      fi
    done
  fi

if test "x$ac_warn_datarootdir" = xyes; then
  ac_sed_cmds="$ac_sed_cmds | sed -e 's,@@datarootdir@@,\${prefix}/share,g' -e 's,\${datarootdir},\${prefix}/share,g'"
fi

EOF
cat >>$CONFIG_STATUS <<EOF
  sed "$ac_vpsub
$extrasub
EOF
cat >>$CONFIG_STATUS <<\EOF
:t
/@@[a-zA-Z_][a-zA-Z_0-9]*@@/!b
s,@@configure_input@@,$configure_input,;t t
s,@@srcdir@@,$ac_srcdir,;t t
s,@@top_srcdir@@,$ac_top_srcdir,;t t
s,@@INSTALL@@,$ac_INSTALL,;t t
" $ac_file_inputs | (eval "$ac_sed_cmds") >$tmp/out
  rm -f $tmp/stdin
  if test x"$ac_file" != x-; then
    cp $tmp/out $ac_file

    for ac_name in prefix exec_prefix datarootdir
    do
        ac_seen=`fgrep -n '${'$ac_name'[:=].*}' $ac_file`
        if test -n "$ac_seen"; then
            ac_init=`egrep '[ 	]*'$ac_name'[ 	]*=' $ac_file`
            if test -z "$ac_init"; then
              ac_seen=`echo "$ac_seen" |sed -e 's,^,'$ac_file':,'`
              { echo "$as_me:43854: WARNING: Variable $ac_name is used but was not set:
$ac_seen" >&5
echo "$as_me: WARNING: Variable $ac_name is used but was not set:
$ac_seen" >&2;}
            fi
        fi
    done
    egrep -n '@@[a-z_][a-z_0-9]+@@' $ac_file >$tmp/out
    egrep -n '@@[A-Z_][A-Z_0-9]+@@' $ac_file >>$tmp/out
    if test -s $tmp/out; then
      ac_seen=`sed -e 's,^,'$ac_file':,' < $tmp/out`
      { echo "$as_me:43865: WARNING: Some variables may not be substituted:
$ac_seen" >&5
echo "$as_me: WARNING: Some variables may not be substituted:
$ac_seen" >&2;}
    fi
  else
    cat $tmp/out
  fi
  rm -f $tmp/out

done
EOF
cat >>$CONFIG_STATUS <<\EOF

#
# CONFIG_HEADER section.
#

# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s,^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='[ 	].*$,\1#\2'
ac_dC=' '
ac_dD=',;t'
# ac_i turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_iA='s,^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_iB='\([ 	]\),\1#\2define\3'
ac_iC=' '
ac_iD='\4,;t'
# ac_u turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_uA='s,^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='$,\1#\2define\3'
ac_uC=' '
ac_uD=',;t'

for ac_file in : $CONFIG_HEADERS; do test "x$ac_file" = x: && continue
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case $ac_file in
  - | *:- | *:-:* ) # input from stdin
        cat >$tmp/stdin
        ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  * )   ac_file_in=$ac_file.in ;;
  esac

  test x"$ac_file" != x- && { echo "$as_me:43914: creating $ac_file" >&5
echo "$as_me: creating $ac_file" >&6;}

  # First look for the input files in the build tree, otherwise in the
  # src tree.
  ac_file_inputs=`IFS=:
    for f in $ac_file_in; do
      case $f in
      -) echo $tmp/stdin ;;
      [\\/$]*)
         # Absolute (can't be DOS-style, as IFS=:)
         test -f "$f" || { { echo "$as_me:43925: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         echo $f;;
      *) # Relative
         if test -f "$f"; then
           # Build tree
           echo $f
         elif test -f "$srcdir/$f"; then
           # Source tree
           echo $srcdir/$f
         else
           # /dev/null tree
           { { echo "$as_me:43938: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         fi;;
      esac
    done` || { (exit 1); exit 1; }
  # Remove the trailing spaces.
  sed 's/[ 	]*$//' $ac_file_inputs >$tmp/in

EOF

# Transform confdefs.h into two sed scripts, `conftest.defines' and
# `conftest.undefs', that substitutes the proper values into
# config.h.in to produce config.h.  The first handles `#define'
# templates, and the second `#undef' templates.
# And first: Protect against being on the right side of a sed subst in
# config.status.  Protect against being in an unquoted here document
# in config.status.
rm -f conftest.defines conftest.undefs
# Using a here document instead of a string reduces the quoting nightmare.
# Putting comments in sed scripts is not portable.
#
# `end' is used to avoid that the second main sed command (meant for
# 0-ary CPP macros) applies to n-ary macro definitions.
# See the Autoconf documentation for `clear'.
cat >confdef2sed.sed <<\EOF
s/[\\&,]/\\&/g
s,[\\$`],\\&,g
t clear
: clear
s,^[ 	]*#[ 	]*define[ 	][ 	]*\(\([^ 	(][^ 	(]*\)([^)]*)\)[ 	]*\(.*\)$,${ac_dA}\2${ac_dB}\1${ac_dC}\3${ac_dD},gp
t end
s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
: end
EOF
# If some macros were called several times there might be several times
# the same #defines, which is useless.  Nevertheless, we may not want to
# sort them, since we want the *last* AC-DEFINE to be honored.
uniq confdefs.h | sed -n -f confdef2sed.sed >conftest.defines
sed 's/ac_d/ac_u/g' conftest.defines >conftest.undefs
sed 's/ac_d/ac_i/g' conftest.defines >>conftest.undefs
rm -f confdef2sed.sed

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >>conftest.undefs <<\EOF
s,^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
EOF

# Break up conftest.defines because some shells have a limit on the size
# of here documents, and old seds have small limits too (100 cmds).
echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
echo '  if egrep "^[ 	]*#[ 	]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
echo '  :' >>$CONFIG_STATUS
rm -f conftest.tail
while grep . conftest.defines >/dev/null
do
  # Write a limited-size here document to $tmp/defines.sed.
  echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
  # Speed up: don't consider the non `#define' lines.
  echo '/^[ 	]*#[ 	]*define/!b' >>$CONFIG_STATUS
  # Work around the forget-to-reset-the-flag bug.
  echo 't clr' >>$CONFIG_STATUS
  echo ': clr' >>$CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.defines >>$CONFIG_STATUS
  echo 'CEOF
  sed -f $tmp/defines.sed $tmp/in >$tmp/out
  rm -f $tmp/in
  mv $tmp/out $tmp/in
' >>$CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.defines >conftest.tail
  rm -f conftest.defines
  mv conftest.tail conftest.defines
done
rm -f conftest.defines
echo '  fi # egrep' >>$CONFIG_STATUS
echo >>$CONFIG_STATUS

# Break up conftest.undefs because some shells have a limit on the size
# of here documents, and old seds have small limits too (100 cmds).
echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
rm -f conftest.tail
while grep . conftest.undefs >/dev/null
do
  # Write a limited-size here document to $tmp/undefs.sed.
  echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
  # Speed up: don't consider the non `#undef'
  echo '/^[ 	]*#[ 	]*undef/!b' >>$CONFIG_STATUS
  # Work around the forget-to-reset-the-flag bug.
  echo 't clr' >>$CONFIG_STATUS
  echo ': clr' >>$CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.undefs >>$CONFIG_STATUS
  echo 'CEOF
  sed -f $tmp/undefs.sed $tmp/in >$tmp/out
  rm -f $tmp/in
  mv $tmp/out $tmp/in
' >>$CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.undefs >conftest.tail
  rm -f conftest.undefs
  mv conftest.tail conftest.undefs
done
rm -f conftest.undefs

cat >>$CONFIG_STATUS <<\EOF
  # Let's still pretend it is `configure' which instantiates (i.e., don't
  # use $as_me), people would be surprised to read:
  #    /* config.h.  Generated automatically by config.status.  */
  if test x"$ac_file" = x-; then
    echo "/* Generated automatically by configure.  */" >$tmp/config.h
  else
    echo "/* $ac_file.  Generated automatically by configure.  */" >$tmp/config.h
  fi
  cat $tmp/in >>$tmp/config.h
  rm -f $tmp/in
  if test x"$ac_file" != x-; then
    if cmp -s $ac_file $tmp/config.h 2>/dev/null; then
      { echo "$as_me:44056: $ac_file is unchanged" >&5
echo "$as_me: $ac_file is unchanged" >&6;}
    else
      ac_dir=`$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
         X"$ac_file" : 'X\(//\)[^/]' \| \
         X"$ac_file" : 'X\(//\)$' \| \
         X"$ac_file" : 'X\(/\)' \| \
         .     : '\(.\)' 2>/dev/null ||
echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
        { case "$ac_dir" in
  [\\/]* | ?:[\\/]* ) as_incr_dir=;;
  *)                      as_incr_dir=.;;
esac
as_dummy="$ac_dir"
for as_mkdir_dir in `IFS='/\\'; set X $as_dummy; shift; echo "$@@"`; do
  case $as_mkdir_dir in
    # Skip DOS drivespec
    ?:) as_incr_dir=$as_mkdir_dir ;;
    *)
      as_incr_dir=$as_incr_dir/$as_mkdir_dir
      test -d "$as_incr_dir" || mkdir "$as_incr_dir"
    ;;
  esac
done; }

      fi
      rm -f $ac_file
      mv $tmp/config.h $ac_file
    fi
  else
    cat $tmp/config.h
    rm -f $tmp/config.h
  fi
done
EOF
cat >>$CONFIG_STATUS <<\EOF
#
# CONFIG_COMMANDS section.
#
for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
  ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
  ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`

  case $ac_dest in
    default-1 ) for ac_file in $CONFIG_FILES; do

      # Support "outfile[:infile[:infile...]]"
      case "$ac_file" in
        *:*) ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
      esac

      # PO directories have a Makefile.in generated from Makefile.inn.
      case "$ac_file" in */[Mm]akefile.in)
        # Adjust a relative srcdir.
        ac_dir=`echo "$ac_file"|sed 's%/[^/][^/]*$%%'`
        ac_dir_suffix="/`echo "$ac_dir"|sed 's%^\./%%'`"
        ac_dots=`echo "$ac_dir_suffix"|sed 's%/[^/]*%../%g'`
        ac_base=`basename $ac_file .in`
        # In autoconf-2.13 it is called $ac_given_srcdir.
        # In autoconf-2.50 it is called $srcdir.
        test -n "$ac_given_srcdir" || ac_given_srcdir="$srcdir"

        case "$ac_given_srcdir" in
          .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;
          /*) top_srcdir="$ac_given_srcdir" ;;
          *)  top_srcdir="$ac_dots$ac_given_srcdir" ;;
        esac

        if test -f "$ac_given_srcdir/$ac_dir/POTFILES.in"; then
          rm -f "$ac_dir/POTFILES"
          test -n "$as_me" && echo "$as_me: creating $ac_dir/POTFILES" || echo "creating $ac_dir/POTFILES"
          sed -e "/^#/d" -e "/^[ 	]*\$/d" -e "s,.*,     $top_srcdir/& \\\\," -e "\$s/\(.*\) \\\\/\1/" < "$ac_given_srcdir/$ac_dir/POTFILES.in" > "$ac_dir/POTFILES"
          test -n "$as_me" && echo "$as_me: creating $ac_dir/$ac_base" || echo "creating $ac_dir/$ac_base"
          sed -e "/POTFILES =/r $ac_dir/POTFILES" "$ac_dir/$ac_base.in" > "$ac_dir/$ac_base"
        fi
        ;;
      esac
    done ;;
    default )
	if test "$USE_NLS" = yes ; then
	if test "$use_our_messages" = yes ; then
		echo creating po/makefile
		rm -f	po/temp$$
		sed	-e 's%^.*LYMessages.c%	../LYMessages.c%' \
			-e '$s/\\//' po/POTFILES >po/temp$$
		sed	-e "/POTFILES =/r po/temp$$" \
			po/makefile.in > po/makefile
		rm -f	po/temp$$
	fi
	fi
	 ;;
  esac
done
EOF

cat >>$CONFIG_STATUS <<\EOF

{ (exit 0); exit 0; }
EOF
chmod +x $CONFIG_STATUS
ac_clean_files=$ac_clean_files_save

# configure is writing to config.log, and then calls config.status.
# config.status does its own redirection, appending to config.log.
# Unfortunately, on DOS this fails, as config.log is still kept open
# by configure, so config.status won't be able to write to it; its
# output is simply discarded.  So we exec the FD to /dev/null,
# effectively closing config.log, so it can be properly (re)opened and
# appended to by config.status.  When coming back to configure, we
# need to make the FD available again.
if test "$no_create" != yes; then
  ac_cs_success=:
  exec 5>/dev/null
  $SHELL $CONFIG_STATUS || ac_cs_success=false
  exec 5>>config.log
  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
  # would make configure fail if this is the last instruction.
  $ac_cs_success || { (exit 1); exit 1; }
fi

@


1.17
log
@update to lynx 2.8.8rel2, keeping local changes. primarily to get these
changes from 2.8.8dev.16:

* fix most issues found by clang 3.2 analyze
* fix most issues found by Coverity scan

tested on i386, sparc64, and macppc by myself.
tested on vax by miod@@ (including https)
helpful discussion with avsm@@, sthen@@

ok deraadt@@
@
text
@@


1.16
log
@Do not add -lcompat in configure.

libcompat isn't needed; configure checks for the presence of cuserid()
and ftime() and the build copes well with the absence of either.
ftime() would only ever be used if gettimeofday() wasn't available,
and cuserid() is replaced by getlogin() but that code branch is not
reached anyway.

ok sthen@@ jca@@ deraadt@@
@
text
@d2 1
a2 1
# From configure.in 2.8.7rel.2.
d4 1
a4 7
# Generated by GNU Autoconf 2.68.
#
#
# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software
# Foundation, Inc.
#
d6 2
a9 21
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@@"}'='"$@@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi
d11 6
d18 2
a19 46
as_nl='
'
export as_nl
# Printing a long string crashes Solaris 7 /usr/bin/printf.
as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
# Prefer a ksh shell builtin over an external printf program on Solaris,
# but without wasting forks for bash or zsh.
if test -z "$BASH_VERSION$ZSH_VERSION" \
    && (test "X`print -r -- $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='print -r --'
  as_echo_n='print -rn --'
elif (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='printf %s\n'
  as_echo_n='printf %s'
else
  if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
    as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
    as_echo_n='/usr/ucb/echo -n'
  else
    as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
    as_echo_n_body='eval
      arg=$1;
      case $arg in #(
      *"$as_nl"*)
	expr "X$arg" : "X\\(.*\\)$as_nl";
	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
      esac;
      expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
    '
    export as_echo_n_body
    as_echo_n='sh -c $as_echo_n_body as_echo'
  fi
  export as_echo_body
  as_echo='sh -c $as_echo_body as_echo'
fi

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi
d21 2
d24 2
a25 55
# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi

# Unset variables that we do not need and which cause bugs (e.g. in
# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the "|| exit 1"
# suppresses any "Segmentation fault" message there.  '((' could
# trigger a bug in pdksh 5.2.14.
for as_var in BASH_ENV ENV MAIL MAILPATH
do eval test x\${$as_var+set} = xset \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# CDPATH.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH

if test "x$CONFIG_SHELL" = x; then
  as_bourne_compatible="if test -n \"\${ZSH_VERSION+set}\" && (emulate sh) >/dev/null 2>&1; then :
d28 2
a29 104
  # Pre-4.2 versions of Zsh do word splitting on \${1+\"\$@@\"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '\${1+\"\$@@\"}'='\"\$@@\"'
  setopt NO_GLOB_SUBST
else
  case \`(set -o) 2>/dev/null\` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi
"
  as_required="as_fn_return () { (exit \$1); }
as_fn_success () { as_fn_return 0; }
as_fn_failure () { as_fn_return 1; }
as_fn_ret_success () { return 0; }
as_fn_ret_failure () { return 1; }

exitcode=0
as_fn_success || { exitcode=1; echo as_fn_success failed.; }
as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }
as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }
as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }
if ( set x; as_fn_ret_success y && test x = \"\$1\" ); then :

else
  exitcode=1; echo positional parameters were not saved.
fi
test x\$exitcode = x0 || exit 1"
  as_suggested="  as_lineno_1=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_1a=\$LINENO
  as_lineno_2=";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested" as_lineno_2a=\$LINENO
  eval 'test \"x\$as_lineno_1'\$as_run'\" != \"x\$as_lineno_2'\$as_run'\" &&
  test \"x\`expr \$as_lineno_1'\$as_run' + 1\`\" = \"x\$as_lineno_2'\$as_run'\"' || exit 1
test \$(( 1 + 1 )) = 2 || exit 1"
  if (eval "$as_required") 2>/dev/null; then :
  as_have_required=yes
else
  as_have_required=no
fi
  if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null; then :

else
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
as_found=false
for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
  as_found=:
  case $as_dir in #(
	 /*)
	   for as_base in sh bash ksh sh5; do
	     # Try only shells that exist, to save several forks.
	     as_shell=$as_dir/$as_base
	     if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
		    { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$as_shell"; } 2>/dev/null; then :
  CONFIG_SHELL=$as_shell as_have_required=yes
		   if { $as_echo "$as_bourne_compatible""$as_suggested" | as_run=a "$as_shell"; } 2>/dev/null; then :
  break 2
fi
fi
	   done;;
       esac
  as_found=false
done
$as_found || { if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
	      { $as_echo "$as_bourne_compatible""$as_required" | as_run=a "$SHELL"; } 2>/dev/null; then :
  CONFIG_SHELL=$SHELL as_have_required=yes
fi; }
IFS=$as_save_IFS


      if test "x$CONFIG_SHELL" != x; then :
  # We cannot yet assume a decent shell, so we have to provide a
	# neutralization value for shells without unset; and this also
	# works around shells that cannot unset nonexistent variables.
	# Preserve -v and -x to the replacement shell.
	BASH_ENV=/dev/null
	ENV=/dev/null
	(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
	export CONFIG_SHELL
	case $- in # ((((
	  *v*x* | *x*v* ) as_opts=-vx ;;
	  *v* ) as_opts=-v ;;
	  *x* ) as_opts=-x ;;
	  * ) as_opts= ;;
	esac
	exec "$CONFIG_SHELL" $as_opts "$as_myself" ${1+"$@@"}
fi

    if test x$as_have_required = xno; then :
  $as_echo "$0: This script requires a shell more modern than all"
  $as_echo "$0: the shells that I found on your system."
  if test x${ZSH_VERSION+set} = xset ; then
    $as_echo "$0: In particular, zsh $ZSH_VERSION has bugs and should"
    $as_echo "$0: be upgraded to zsh 4.3.4 or later."
  else
    $as_echo "$0: Please tell bug-autoconf@@gnu.org about your system,
$0: including any error possibly output before this
$0: message. Then install a modern shell, or manually run
$0: the script under such a shell if you do have one."
  fi
  exit 1
a30 82
fi
fi
SHELL=${CONFIG_SHELL-/bin/sh}
export SHELL
# Unset more variables known to interfere with behavior of common tools.
CLICOLOR_FORCE= GREP_OPTIONS=
unset CLICOLOR_FORCE GREP_OPTIONS

## --------------------- ##
## M4sh Shell Functions. ##
## --------------------- ##
# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset

# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit

# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`$as_echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
d32 2
d35 1
a35 55
} # as_fn_mkdir_p
# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null; then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null; then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else
  as_fn_arith ()
  {
    as_val=`expr "$@@" || test $? -eq 1`
  }
fi # as_fn_arith


# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  $as_echo "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error

if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
a40 83
if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits


  as_lineno_1=$LINENO as_lineno_1a=$LINENO
  as_lineno_2=$LINENO as_lineno_2a=$LINENO
  eval 'test "x$as_lineno_1'$as_run'" != "x$as_lineno_2'$as_run'" &&
  test "x`expr $as_lineno_1'$as_run' + 1`" = "x$as_lineno_2'$as_run'"' || {
  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)
  sed -n '
    p
    /[$]LINENO/=
  ' <$as_myself |
    sed '
      s/[$]LINENO.*/&-/
      t lineno
      b
      :lineno
      N
      :loop
      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
      t loop
      s/-\n.*//
    ' >$as_me.lineno &&
  chmod +x "$as_me.lineno" ||
    { $as_echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2; as_fn_exit 1; }

  # Don't try to exec as it changes $[0], causing all sort of problems
  # (the dirname of $[0] is not the place where we might find the
  # original and so on.  Autoconf is especially sensitive to this).
  . "./$as_me.lineno"
  # Exit status is that of the last command.
  exit
}

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

d42 8
a49 8
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
a50 10
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -p'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -p'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -p'
d52 2
d57 1
a57 2
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null
d59 1
a59 6
if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
else
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
fi
d61 3
a63 2
if test -x / >/dev/null 2>&1; then
  as_test_x='test -x'
d65 1
a65 17
  if ls -dL / >/dev/null 2>&1; then
    as_ls_L_option=L
  else
    as_ls_L_option=
  fi
  as_test_x='
    eval sh -c '\''
      if test -d "$1"; then
	test -d "$1/.";
      else
	case $1 in #(
	-*)set "./$1";;
	esac;
	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in #((
	???[sx]*):;;*)false;;esac;fi
    '\'' sh
  '
a66 1
as_executable_p=$as_test_x
d68 9
a76 2
# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
d78 5
a82 2
# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
d84 2
a85 3

test -n "$DJDIR" || exec 7<&0 </dev/null
exec 6>&1
d88 1
a88 1
# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
d92 2
a97 3
ac_clean_files=
ac_config_libobj_dir=.
LIBOBJS=
d100 2
a101 2
MFLAGS=
MAKEFLAGS=
d103 4
a106 7
# Identity of this package.
PACKAGE_NAME=
PACKAGE_TARNAME=
PACKAGE_VERSION=
PACKAGE_STRING=
PACKAGE_BUGREPORT=
PACKAGE_URL=
d113 1
a113 1
#ifdef HAVE_SYS_TYPES_H
d116 1
a116 1
#ifdef HAVE_SYS_STAT_H
d119 1
a119 1
#ifdef STDC_HEADERS
d123 1
a123 1
# ifdef HAVE_STDLIB_H
d127 2
a128 2
#ifdef HAVE_STRING_H
# if !defined STDC_HEADERS && defined HAVE_MEMORY_H
d133 1
a133 1
#ifdef HAVE_STRINGS_H
d136 1
a136 1
#ifdef HAVE_INTTYPES_H
d138 4
d143 1
a143 4
#ifdef HAVE_STDINT_H
# include <stdint.h>
#endif
#ifdef HAVE_UNISTD_H
a146 282
ac_header_list=
ac_subst_vars='LTLIBOBJS
SRCDIR_CLEAN
CONFIG_SHELL
XCURSES_CONFIG
X_EXTRA_LIBS
X_LIBS
X_PRE_LIBS
X_CFLAGS
XMKMF
COMPRESS_EXT
COMPRESS_PROG
INSTALL
ZIP
ZCAT
UUDECODE
RM
COMPRESS
TAR_PIPE_OPTIONS
TAR_FILE_OPTIONS
TAR_DOWN_OPTIONS
TAR_UP_OPTIONS
TAR
BZIP2
UNZIP
UNCOMPRESS
GZIP
MV
RLOGIN
TN3270
TELNET
SETFONT
EXTRA_OBJS
LIBOBJS
CHARSET_DEFS
MIME_LIBDIR
LYNXDOC_MAKE
LYNXCFG_MAKE
LYNX_CFG_FILE
INSTALL_LSS
LYNX_LSS_FILE
NCURSES_CONFIG
PKG_CONFIG
NLS_DATADIR
INTLDIR_CPPFLAGS
GT_NO
GT_YES
INTLDIR_MAKE
SUB_MAKEFILE
MSG_DIR_MAKE
INTL_LIBTOOL_SUFFIX_PREFIX
MKINSTALLDIRS
GENCAT
INSTOBJEXT
DATADIRNAME
POSUB
POFILES
INTLOBJS
INTLLIBS
GMOFILES
CATOBJEXT
CATALOGS
USE_INCLUDED_LIBINTL
BUILD_INCLUDED_LIBINTL
INTLBISON
XGETTEXT
GMSGFMT
MSGFMT
USE_NLS
LIBICONV
GLIBC21
ALLOCA
MSGINIT
EXTRA_CPPFLAGS
EXTRA_CFLAGS
DONT_ECHO_CC
ECHO_CC
SHOW_CC
RULE_CC
ECHO_LD
ECHO_LT
ARFLAGS
AR
RANLIB
BUILD_OBJEXT
BUILD_EXEEXT
BUILD_LIBS
BUILD_LDFLAGS
BUILD_CPPFLAGS
BUILD_CFLAGS
BUILD_CPP
BUILD_CC
PROG_EXT
EGREP
GREP
LINT
YFLAGS
YACC
INSTALL_DATA
INSTALL_SCRIPT
INSTALL_PROGRAM
SET_MAKE
LN_S
CPP
OBJEXT
EXEEXT
ac_ct_CC
CPPFLAGS
LDFLAGS
CFLAGS
CC
DESTDIR
VERSION
PACKAGE
target_os
target_vendor
target_cpu
target
host_os
host_vendor
host_cpu
host
build_os
build_vendor
build_cpu
build
CONFIG_H
target_alias
host_alias
build_alias
LIBS
ECHO_T
ECHO_N
ECHO_C
DEFS
mandir
localedir
libdir
psdir
pdfdir
dvidir
htmldir
infodir
docdir
oldincludedir
includedir
localstatedir
sharedstatedir
sysconfdir
datadir
datarootdir
libexecdir
sbindir
bindir
program_transform_name
prefix
exec_prefix
PACKAGE_URL
PACKAGE_BUGREPORT
PACKAGE_STRING
PACKAGE_VERSION
PACKAGE_TARNAME
PACKAGE_NAME
PATH_SEPARATOR
SHELL'
ac_subst_files=''
ac_user_opts='
enable_option_checking
with_system_type
with_destdir
with_build_cc
with_build_cpp
with_build_cflags
with_build_cppflags
with_build_ldflags
with_build_libs
enable_echo
enable_find_leaks
enable_debug
enable_trace
enable_vertrace
enable_warnings
with_dbmalloc
with_dmalloc
enable_largefile
with_libiconv_prefix
enable_nls
with_included_gettext
enable_included_msgs
with_nls_datadir
enable_full_paths
with_nss_compat
with_ssl
with_gnutls
enable_gnutls_compat
with_socks
with_socks5
with_pkg_config
enable_ipv6
with_screen
with_curses_dir
enable_widec
enable_color_style
with_lss_file
with_cfg_file
enable_htmlized_cfg
enable_local_docs
with_mime_libdir
enable_locale_charset
with_charsets
enable_bibp_urls
enable_config_info
enable_forms_options
enable_menu_options
enable_addrlist_page
enable_ascii_ctypes
enable_charset_choice
enable_cjk
enable_japanese_utf8
enable_default_colors
enable_kbd_layout
enable_nested_tables
enable_progressbar
enable_scrollbar
enable_sessions
enable_session_cache
enable_alt_bindings
enable_extended_dtd
enable_file_upload
enable_justify_elts
enable_partial
enable_persistent_cookies
enable_prettysrc
enable_read_eta
enable_source_cache
enable_externs
enable_font_switch
enable_cgi_links
enable_change_exec
enable_exec_links
enable_exec_scripts
enable_internal_links
enable_nsl_fork
enable_syslog
enable_underlines
enable_gzip_help
with_bzlib
with_zlib
enable_finger
enable_gopher
enable_news
enable_ftp
enable_dired
enable_dired_dearchive
enable_dired_override
enable_dired_permit
enable_dired_xpermit
enable_dired_tar
enable_dired_uudecode
enable_dired_zip
enable_dired_gzip
enable_long_list
enable_parent_dir_refs
with_x
with_Xaw3d
with_neXtaw
with_XawPlus
'
      ac_precious_vars='build_alias
host_alias
target_alias
CC
CFLAGS
LDFLAGS
LIBS
CPPFLAGS
CPP
YACC
YFLAGS
XMKMF'


a149 2
ac_unrecognized_opts=
ac_unrecognized_sep=
a171 1
# (The list follows the same order as the GNU Coding Standards.)
d180 1
a182 1
docdir='${datarootdir}/doc/${PACKAGE}'
a183 6
htmldir='${docdir}'
dvidir='${docdir}'
pdfdir='${docdir}'
psdir='${docdir}'
libdir='${exec_prefix}/lib'
localedir='${datarootdir}/locale'
d186 7
a193 1
ac_dashdash=
d198 1
a198 1
    eval $ac_prev=\$ac_option
d203 1
a203 5
  case $ac_option in
  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
  *=)   ac_optarg= ;;
  *)    ac_optarg=yes ;;
  esac
d207 1
a207 3
  case $ac_dashdash$ac_option in
  --)
    ac_dashdash=yes ;;
d229 1
a229 1
  -datadir | --datadir | --datadi | --datad)
d231 2
a232 1
  -datadir=* | --datadir=* | --datadi=* | --datad=*)
d243 1
a243 1
    ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
d245 5
a249 22
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval enable_$ac_useropt=no ;;

  -docdir | --docdir | --docdi | --doc | --do)
    ac_prev=docdir ;;
  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
    docdir=$ac_optarg ;;

  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
    ac_prev=dvidir ;;
  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
    dvidir=$ac_optarg ;;
d252 1
a252 1
    ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
d254 7
a260 10
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid feature name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"enable_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
d262 1
a262 1
    eval enable_$ac_useropt=\$ac_optarg ;;
a288 6
  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
    ac_prev=htmldir ;;
  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
  | --ht=*)
    htmldir=$ac_optarg ;;

a312 5
  -localedir | --localedir | --localedi | --localed | --locale)
    ac_prev=localedir ;;
  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
    localedir=$ac_optarg ;;

d314 2
a315 1
  | --localstate | --localstat | --localsta | --localst | --locals)
d318 2
a319 1
  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
d332 1
a332 1
  | --no-cr | --no-c | -n)
a383 10
  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
    ac_prev=pdfdir ;;
  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
    pdfdir=$ac_optarg ;;

  -psdir | --psdir | --psdi | --psd | --ps)
    ac_prev=psdir ;;
  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
    psdir=$ac_optarg ;;

d434 1
a434 1
    ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
d436 7
a442 10
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
d444 1
a444 1
    eval with_$ac_useropt=\$ac_optarg ;;
d447 1
a447 1
    ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
d449 5
a453 12
    expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
      as_fn_error $? "invalid package name: $ac_useropt"
    ac_useropt_orig=$ac_useropt
    ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
    case $ac_user_opts in
      *"
"with_$ac_useropt"
"*) ;;
      *) ac_unrecognized_opts="$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig"
	 ac_unrecognized_sep=', ';;
    esac
    eval with_$ac_useropt=no ;;
d473 3
a475 2
  -*) as_fn_error $? "unrecognized option: \`$ac_option'
Try \`$0 --help' for more information"
d481 5
a485 5
    case $ac_envvar in #(
      '' | [0-9]* | *[!_$as_cr_alnum]* )
      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
    esac
    eval $ac_envvar=\$ac_optarg
d490 1
a490 1
    $as_echo "$as_me: WARNING: you should use --build, --host, --target" >&2
d492 2
a493 2
      $as_echo "$as_me: WARNING: invalid host type: $ac_option" >&2
    : "${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}"
d501 2
a502 1
  as_fn_error $? "missing argument to $ac_option"
d505 8
a512 5
if test -n "$ac_unrecognized_opts"; then
  case $enable_option_checking in
    no) ;;
    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
    *)     $as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
d514 1
a514 1
fi
d516 3
a518 5
# Check all directory arguments for consistency.
for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
		datadir sysconfdir sharedstatedir localstatedir includedir \
		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
		libdir localedir mandir
d520 1
a520 8
  eval ac_val=\$$ac_var
  # Remove trailing slashes.
  case $ac_val in
    */ )
      ac_val=`expr "X$ac_val" : 'X\(.*[^/]\)' \| "X$ac_val" : 'X\(.*\)'`
      eval $ac_var=\$ac_val;;
  esac
  # Be sure to have absolute directory names.
d522 3
a524 2
    [\\/$]* | ?:[\\/]* )  continue;;
    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
a525 1
  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
a529 1
# FIXME: To remove some day.
d534 1
a534 1
# FIXME: To remove some day.
d538 2
a539 2
    $as_echo "$as_me: WARNING: if you wanted to set the --build type, don't use --host.
    If a cross compiler is detected then cross compile mode will be used" >&2
a549 9

ac_pwd=`pwd` && test -n "$ac_pwd" &&
ac_ls_di=`ls -di .` &&
ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
  as_fn_error $? "working directory cannot be determined"
test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
  as_fn_error $? "pwd does not report name of working directory"


d553 4
a556 24
  # Try the directory containing this script, then the parent directory.
  ac_confdir=`$as_dirname -- "$as_myself" ||
$as_expr X"$as_myself" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_myself" : 'X\(//\)[^/]' \| \
	 X"$as_myself" : 'X\(//\)$' \| \
	 X"$as_myself" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_myself" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
d558 1
a558 1
  if test ! -r "$srcdir/$ac_unique_file"; then
d564 42
a605 24
if test ! -r "$srcdir/$ac_unique_file"; then
  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
fi
ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
ac_abs_confdir=`(
	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
	pwd)`
# When building in place, set srcdir=.
if test "$ac_abs_confdir" = "$ac_pwd"; then
  srcdir=.
fi
# Remove unnecessary trailing slashes from srcdir.
# Double slashes in file names in object file debugging info
# mess up M-x gdb in Emacs.
case $srcdir in
*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
esac
for ac_var in $ac_precious_vars; do
  eval ac_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_env_${ac_var}_value=\$${ac_var}
  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
  eval ac_cv_env_${ac_var}_value=\$${ac_var}
done
d613 1
a613 1
  cat <<_ACEOF
d628 1
a628 1
  -q, --quiet, --silent   do not print \`checking ...' messages
d634 3
d654 2
a661 2
  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]
  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]
a662 1
  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]
d664 3
a666 6
  --docdir=DIR            documentation root [DATAROOTDIR/doc/PACKAGE]
  --htmldir=DIR           html documentation [DOCDIR]
  --dvidir=DIR            dvi documentation [DOCDIR]
  --pdfdir=DIR            pdf documentation [DOCDIR]
  --psdir=DIR             ps documentation [DOCDIR]
_ACEOF
d668 4
a671 1
  cat <<\_ACEOF
d678 2
a679 2
  --build=BUILD     configure for building on BUILD [guessed]
  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
d681 1
a681 1
_ACEOF
d686 5
a690 1
  cat <<\_ACEOF
a692 1
  --disable-option-checking  ignore unrecognized --enable/--with options
d695 11
a705 1
  --disable-echo          display "compiling" commands
d711 3
d715 2
d718 2
d721 1
d723 3
d727 3
d731 3
d736 6
d744 4
a747 1
  --enable-locale-charset use locale-charset selection logic
d752 3
a754 3
  --enable-addrlist-page  use experimental address-list page
  --enable-ascii-ctypes   use experimental ascii case-conversion
  --enable-charset-choice use experimental charset-selection logic
d760 1
a760 4
  --enable-progressbar    use experimental progress-bar
  --enable-scrollbar      use experimental scrollbar, with mouse
  --enable-sessions       use experimental sessions code
  --enable-session-cache  use experimental session-caching code
d762 1
d764 4
a767 3
  --disable-file-upload   use file-upload support
  --disable-justify-elts  use element-justification logic
  --disable-partial       use partial-display logic
d769 6
a774 3
  --disable-prettysrc     colorize HTML source
  --disable-read-eta      read-progress message shows ETA
  --disable-source-cache  cache HTML source for parse mode changes
d786 3
d793 2
d807 1
a807 36

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --with-system-type=XXX  test: override derived host system-type
  --with-destdir=XXX      set DESTDIR destination for install (default: $DESTDIR)
  --with-build-cc=XXX     the build C compiler ($BUILD_CC)
  --with-build-cpp=XXX    the build C preprocessor ($BUILD_CPP)
  --with-build-cflags=XXX the build C compiler-flags ($BUILD_CFLAGS)
  --with-build-cppflags=XXX the build C preprocessor-flags ($BUILD_CPPFLAGS)
  --with-build-ldflags=XXX the build linker-flags ($BUILD_LDFLAGS)
  --with-build-libs=XXX   the build libraries (${BUILD_LIBS})
  --with-dbmalloc         test: use Conor Cahill's dbmalloc library
  --with-dmalloc          test: use Gray Watson's dmalloc library
  --with-libiconv-prefix=DIR
                          search for libiconv in DIR/include and DIR/lib
  --with-included-gettext use the GNU gettext library included here
  --with-nls-datadir=DIR  NLS data, parent of locale (default: PREFIX/DATADIR)
  --with-nss-compat{=path}       link with nss_compat library if available
  --with-ssl{=path}       link with ssl library if available
  --with-gnutls{=path}    link with gnutls support
  --with-socks{=path}     link with socks library if available
  --with-socks5{=path}    link with socks5 library if available
  --with-pkg-config{=path} enable/disable use of pkg-config
  --with-screen=XXX       select screen type (XXX is curses (default),
                          ncurses, ncursesw, pdcurses or slang)
  --with-curses-dir=DIR   directory in which (n)curses is installed
  --with-lss-file{=path}  specify the default style-sheet file
                          (default: SYSCONFDIR/lynx.lss)
  --with-cfg-file{=path}  specify the default configuration file
                          (default: SYSCONFDIR/lynx.cfg)
  --with-mime-libdir=DIR  MIME data, mime.types and mailcap (default: /etc)
  --with-charsets=list    limit charsets to given list of MIME names
  --with-bzlib            use libbz2 for decompression of some bzip2 files
  --with-zlib             use zlib for decompression of some gzip files
  --with-x                use the X Window System
d811 2
d819 2
a820 3
  LIBS        libraries to pass to the linker, e.g. -l<library>
  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if
              you have headers in a nonstandard directory <include dir>
a821 7
  YACC        The `Yet Another Compiler Compiler' implementation to use.
              Defaults to the first program found out of: `bison -y', `byacc',
              `yacc'.
  YFLAGS      The list of arguments that will be passed by default to $YACC.
              This script will default YFLAGS to the empty string to avoid a
              default value of `-d' given by some make applications.
  XMKMF       Path to xmkmf, Makefile generator for X Window System
d826 1
a826 3
Report bugs to the package provider.
_ACEOF
ac_status=$?
d831 15
a845 5
  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
    test -d "$ac_dir" ||
      { cd "$srcdir" && ac_pwd=`pwd` && srcdir=. && test -d "$ac_dir"; } ||
      continue
    ac_builddir=.
d847 11
a857 40
case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix

    cd "$ac_dir" || { ac_status=$?; continue; }
    # Check for guested configure.
    if test -f "$ac_srcdir/configure.gnu"; then
      echo &&
      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
    elif test -f "$ac_srcdir/configure"; then
      echo &&
      $SHELL "$ac_srcdir/configure" --help=recursive
d859 3
a861 3
      $as_echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
    fi || ac_status=$?
    cd "$ac_pwd" || { ac_status=$?; break; }
d865 1
a865 1
test -n "$ac_init_help" && exit $ac_status
d867 1
a867 3
  cat <<\_ACEOF
configure
generated by GNU Autoconf 2.68
d869 2
a870 1
Copyright (C) 2010 Free Software Foundation, Inc.
d873 2
a874 2
_ACEOF
  exit
d876 4
d881 4
a884 3
## ------------------------ ##
## Autoconf initialization. ##
## ------------------------ ##
d886 1
a886 4
# ac_fn_c_try_compile LINENO
# --------------------------
# Try to compile conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_compile ()
d888 4
a891 263
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext
  if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_compile

# ac_fn_c_try_cpp LINENO
# ----------------------
# Try to preprocess conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_cpp ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_cpp conftest.$ac_ext"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_cpp conftest.$ac_ext") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } > conftest.i && {
	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
	 test ! -s conftest.err
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

    ac_retval=1
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_cpp

# ac_fn_c_check_header_mongrel LINENO HEADER VAR INCLUDES
# -------------------------------------------------------
# Tests whether HEADER exists, giving a warning if it cannot be compiled using
# the include files in INCLUDES and setting the cache variable VAR
# accordingly.
ac_fn_c_check_header_mongrel ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if eval \${$3+:} false; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
else
  # Is the header compilable?
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking $2 usability" >&5
$as_echo_n "checking $2 usability... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_header_compiler=yes
else
  ac_header_compiler=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_compiler" >&5
$as_echo "$ac_header_compiler" >&6; }

# Is the header present?
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking $2 presence" >&5
$as_echo_n "checking $2 presence... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <$2>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  ac_header_preproc=yes
else
  ac_header_preproc=no
fi
rm -f conftest.err conftest.i conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc" >&5
$as_echo "$ac_header_preproc" >&6; }

# So?  What about this header?
case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((
  yes:no: )
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: accepted by the compiler, rejected by the preprocessor!" >&5
$as_echo "$as_me: WARNING: $2: accepted by the compiler, rejected by the preprocessor!" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
$as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
    ;;
  no:yes:* )
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: present but cannot be compiled" >&5
$as_echo "$as_me: WARNING: $2: present but cannot be compiled" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2:     check for missing prerequisite headers?" >&5
$as_echo "$as_me: WARNING: $2:     check for missing prerequisite headers?" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: see the Autoconf documentation" >&5
$as_echo "$as_me: WARNING: $2: see the Autoconf documentation" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&5
$as_echo "$as_me: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&2;}
    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
$as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
    ;;
esac
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  eval "$3=\$ac_header_compiler"
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_header_mongrel

# ac_fn_c_try_run LINENO
# ----------------------
# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes
# that executables *can* be run.
ac_fn_c_try_run ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then :
  ac_retval=0
else
  $as_echo "$as_me: program exited with status $ac_status" >&5
       $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

       ac_retval=$ac_status
fi
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_try_run

# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES
# -------------------------------------------------------
# Tests whether HEADER exists and can be compiled using the include files in
# INCLUDES, setting the cache variable VAR accordingly.
ac_fn_c_check_header_compile ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
#include <$2>
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  eval "$3=yes"
else
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_header_compile

# ac_fn_c_try_link LINENO
# -----------------------
# Try to link conftest.$ac_ext, and return whether this succeeded.
ac_fn_c_try_link ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  rm -f conftest.$ac_objext conftest$ac_exeext
  if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>conftest.err
  ac_status=$?
  if test -s conftest.err; then
    grep -v '^ *+' conftest.err >conftest.er1
    cat conftest.er1 >&5
    mv -f conftest.er1 conftest.err
  fi
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest$ac_exeext && {
	 test "$cross_compiling" = yes ||
	 $as_test_x conftest$ac_exeext
       }; then :
  ac_retval=0
else
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
d893 5
a897 9
	ac_retval=1
fi
  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
  # interfere with the next link command; also delete a directory that is
  # left behind by Apple's compiler.  We do this before executing the actions.
  rm -rf conftest.dSYM conftest_ipa8_conftest.oo
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval
d899 2
a900 1
} # ac_fn_c_try_link
d902 4
a905 328
# ac_fn_c_check_type LINENO TYPE VAR INCLUDES
# -------------------------------------------
# Tests whether TYPE exists after having included INCLUDES, setting cache
# variable VAR accordingly.
ac_fn_c_check_type ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  eval "$3=no"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
if (sizeof ($2))
	 return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
if (sizeof (($2)))
	    return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

else
  eval "$3=yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_type

# ac_fn_c_check_func LINENO FUNC VAR
# ----------------------------------
# Tests whether FUNC exists, setting the cache variable VAR accordingly
ac_fn_c_check_func ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
$as_echo_n "checking for $2... " >&6; }
if eval \${$3+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
/* Define $2 to an innocuous variant, in case <limits.h> declares $2.
   For example, HP-UX 11i <limits.h> declares gettimeofday.  */
#define $2 innocuous_$2

/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $2 (); below.
    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
    <limits.h> exists even on freestanding compilers.  */

#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif

#undef $2

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char $2 ();
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined __stub_$2 || defined __stub___$2
choke me
#endif

int
main ()
{
return $2 ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  eval "$3=yes"
else
  eval "$3=no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
eval ac_res=\$$3
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno

} # ac_fn_c_check_func

# ac_fn_c_compute_int LINENO EXPR VAR INCLUDES
# --------------------------------------------
# Tries to find the compile-time value of EXPR in a program that includes
# INCLUDES, setting VAR accordingly. Returns whether the value could be
# computed
ac_fn_c_compute_int ()
{
  as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
  if test "$cross_compiling" = yes; then
    # Depending upon the size, compute the lo and hi bounds.
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) >= 0)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_lo=0 ac_mid=0
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) <= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=$ac_mid; break
else
  as_fn_arith $ac_mid + 1 && ac_lo=$as_val
			if test $ac_lo -le $ac_mid; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) < 0)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=-1 ac_mid=-1
  while :; do
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) >= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_lo=$ac_mid; break
else
  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
			if test $ac_mid -le $ac_hi; then
			  ac_lo= ac_hi=
			  break
			fi
			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  done
else
  ac_lo= ac_hi=
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
# Binary search between lo and hi bounds.
while test "x$ac_lo" != "x$ac_hi"; do
  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
int
main ()
{
static int test_array [1 - 2 * !(($2) <= $ac_mid)];
test_array [0] = 0

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_hi=$ac_mid
else
  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done
case $ac_lo in #((
?*) eval "$3=\$ac_lo"; ac_retval=0 ;;
'') ac_retval=1 ;;
esac
  else
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$4
static long int longval () { return $2; }
static unsigned long int ulongval () { return $2; }
#include <stdio.h>
#include <stdlib.h>
int
main ()
{

  FILE *f = fopen ("conftest.val", "w");
  if (! f)
    return 1;
  if (($2) < 0)
    {
      long int i = longval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%ld", i);
    }
  else
    {
      unsigned long int i = ulongval ();
      if (i != ($2))
	return 1;
      fprintf (f, "%lu", i);
    }
  /* Do not output a trailing newline, as this causes \r\n confusion
     on some platforms.  */
  return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  echo >>conftest.val; read $3 <conftest.val; ac_retval=0
else
  ac_retval=1
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
rm -f conftest.val

  fi
  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
  as_fn_set_status $ac_retval

} # ac_fn_c_compute_int
cat >config.log <<_ACEOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by $as_me, which was
generated by GNU Autoconf 2.68.  Invocation command line was

  $ $0 $@@

_ACEOF
exec 5>>config.log
{
cat <<_ASUNAME
## --------- ##
## Platform. ##
## --------- ##

hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`

/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`

/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
d910 2
a912 10

as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    $as_echo "PATH: $as_dir"
  done
IFS=$as_save_IFS

d915 4
a918 8
cat >&5 <<_ACEOF


## ----------- ##
## Core tests. ##
## ----------- ##

_ACEOF
d920 1
a923 1
# Strip out --silent because we don't want to record it for future runs.
a924 1
# Make two passes to allow for proper duplicate-argument suppression.
d926 16
a941 38
ac_configure_args0=
ac_configure_args1=
ac_must_keep_next=false
for ac_pass in 1 2
do
  for ac_arg
  do
    case $ac_arg in
    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
    | -silent | --silent | --silen | --sile | --sil)
      continue ;;
    *\'*)
      ac_arg=`$as_echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    case $ac_pass in
    1) as_fn_append ac_configure_args0 " '$ac_arg'" ;;
    2)
      as_fn_append ac_configure_args1 " '$ac_arg'"
      if test $ac_must_keep_next = true; then
	ac_must_keep_next=false # Got value, back to normal.
      else
	case $ac_arg in
	  *=* | --config-cache | -C | -disable-* | --disable-* \
	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
	  | -with-* | --with-* | -without-* | --without-* | --x)
	    case "$ac_configure_args0 " in
	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
	    esac
	    ;;
	  -* ) ac_must_keep_next=true ;;
	esac
      fi
      as_fn_append ac_configure_args " '$ac_arg'"
      ;;
    esac
  done
a942 2
{ ac_configure_args0=; unset ac_configure_args0;}
{ ac_configure_args1=; unset ac_configure_args1;}
a946 2
# WARNING: Use '\'' to represent an apostrophe within the trap.
# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
d949 7
a955 24
  {
    echo

    $as_echo "## ---------------- ##
## Cache variables. ##
## ---------------- ##"
    echo
    # The following way of writing the cache mishandles newlines in values,
(
  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
$as_echo "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done
d957 2
a958 2
    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
d960 3
a962 3
	"s/'\''/'\''\\\\'\'''\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
      ;; #(
d964 2
a965 1
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
d967 16
a982 49
    esac |
    sort
)
    echo

    $as_echo "## ----------------- ##
## Output variables. ##
## ----------------- ##"
    echo
    for ac_var in $ac_subst_vars
    do
      eval ac_val=\$$ac_var
      case $ac_val in
      *\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
      esac
      $as_echo "$ac_var='\''$ac_val'\''"
    done | sort
    echo

    if test -n "$ac_subst_files"; then
      $as_echo "## ------------------- ##
## File substitutions. ##
## ------------------- ##"
      echo
      for ac_var in $ac_subst_files
      do
	eval ac_val=\$$ac_var
	case $ac_val in
	*\'\''*) ac_val=`$as_echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
	esac
	$as_echo "$ac_var='\''$ac_val'\''"
      done | sort
      echo
    fi

    if test -s confdefs.h; then
      $as_echo "## ----------- ##
## confdefs.h. ##
## ----------- ##"
      echo
      cat confdefs.h
      echo
    fi
    test "$ac_signal" != 0 &&
      $as_echo "$as_me: caught signal $ac_signal"
    $as_echo "$as_me: exit $exit_status"
  } >&5
  rm -f core *.core core.conftest.* &&
    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
d984 1
a984 1
' 0
d986 1
a986 1
  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal
d991 3
a993 30
rm -f -r conftest* confdefs.h

$as_echo "/* confdefs.h */" > confdefs.h

# Predefined preprocessor variables.

cat >>confdefs.h <<_ACEOF
#define PACKAGE_NAME "$PACKAGE_NAME"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_TARNAME "$PACKAGE_TARNAME"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_VERSION "$PACKAGE_VERSION"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_STRING "$PACKAGE_STRING"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_BUGREPORT "$PACKAGE_BUGREPORT"
_ACEOF

cat >>confdefs.h <<_ACEOF
#define PACKAGE_URL "$PACKAGE_URL"
_ACEOF

d996 14
a1009 29
# Prefer an explicitly selected file to automatically selected ones.
ac_site_file1=NONE
ac_site_file2=NONE
if test -n "$CONFIG_SITE"; then
  # We do not want a PATH search for config.site.
  case $CONFIG_SITE in #((
    -*)  ac_site_file1=./$CONFIG_SITE;;
    */*) ac_site_file1=$CONFIG_SITE;;
    *)   ac_site_file1=./$CONFIG_SITE;;
  esac
elif test "x$prefix" != xNONE; then
  ac_site_file1=$prefix/share/config.site
  ac_site_file2=$prefix/etc/config.site
else
  ac_site_file1=$ac_default_prefix/share/config.site
  ac_site_file2=$ac_default_prefix/etc/config.site
fi
for ac_site_file in "$ac_site_file1" "$ac_site_file2"
do
  test "x$ac_site_file" = xNONE && continue
  if test /dev/null != "$ac_site_file" && test -r "$ac_site_file"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
$as_echo "$as_me: loading site script $ac_site_file" >&6;}
    sed 's/^/| /' "$ac_site_file" >&5
    . "$ac_site_file" \
      || { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "failed to load site script $ac_site_file
See \`config.log' for more details" "$LINENO" 5; }
d1014 5
a1018 5
  # Some versions of bash will fail to source /dev/null (special files
  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.
  if test /dev/null != "$cache_file" && test -f "$cache_file"; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: loading cache $cache_file" >&5
$as_echo "$as_me: loading cache $cache_file" >&6;}
d1020 2
a1021 2
      [\\/]* | ?:[\\/]* ) . "$cache_file";;
      *)                      . "./$cache_file";;
d1025 2
a1026 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: creating cache $cache_file" >&5
$as_echo "$as_me: creating cache $cache_file" >&6;}
a1029 3
as_fn_append ac_header_list " stdlib.h"
as_fn_append ac_header_list " unistd.h"
as_fn_append ac_header_list " sys/param.h"
d1033 2
a1034 1
for ac_var in $ac_precious_vars; do
d1037 2
a1038 2
  eval ac_old_val=\$ac_cv_env_${ac_var}_value
  eval ac_new_val=\$ac_env_${ac_var}_value
d1041 2
a1042 2
      { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
$as_echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
d1045 2
a1046 2
      { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
$as_echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
d1051 7
a1057 16
	# differences in whitespace do not lead to failure.
	ac_old_val_w=`echo x $ac_old_val`
	ac_new_val_w=`echo x $ac_new_val`
	if test "$ac_old_val_w" != "$ac_new_val_w"; then
	  { $as_echo "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
$as_echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
	  ac_cache_corrupted=:
	else
	  { $as_echo "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
$as_echo "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
	  eval $ac_var=\$ac_old_val
	fi
	{ $as_echo "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
$as_echo "$as_me:   former value:  \`$ac_old_val'" >&2;}
	{ $as_echo "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
$as_echo "$as_me:   current value: \`$ac_new_val'" >&2;}
d1060 2
a1061 1
  # Pass precious variables to config.status.
d1064 6
a1069 6
    *\'*) ac_arg=$ac_var=`$as_echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
    *) ac_arg=$ac_var=$ac_new_val ;;
    esac
    case " $ac_configure_args " in
      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
      *) as_fn_append ac_configure_args " '$ac_arg'" ;;
d1074 6
a1079 9
  { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
  { $as_echo "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
$as_echo "$as_me: error: changes in the environment can compromise the build" >&2;}
  as_fn_error $? "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
fi
## -------------------- ##
## Main body of script. ##
## -------------------- ##
d1086 1
d1088 20
a1107 1

a1117 2


d1119 2
a1120 2
for ac_dir in "$srcdir" "$srcdir/.." "$srcdir/../.."; do
  if test -f "$ac_dir/install-sh"; then
d1124 1
a1124 1
  elif test -f "$ac_dir/install.sh"; then
d1128 1
a1128 1
  elif test -f "$ac_dir/shtool"; then
d1135 7
a1141 11
  as_fn_error $? "cannot find install-sh, install.sh, or shtool in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" "$LINENO" 5
fi

# These three variables are undocumented and unsupported,
# and are intended to be withdrawn in a future Autoconf release.
# They can cause serious problems if a builder's source tree is in a directory
# whose full name contains unusual characters.
ac_config_guess="$SHELL $ac_aux_dir/config.guess"  # Please don't use this var.
ac_config_sub="$SHELL $ac_aux_dir/config.sub"  # Please don't use this var.
ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.

d1144 21
a1164 2
$SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
d1166 3
a1168 20
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
$as_echo_n "checking build system type... " >&6; }
if ${ac_cv_build+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_build_alias=$build_alias
test "x$ac_build_alias" = x &&
  ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
test "x$ac_build_alias" = x &&
  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
$as_echo "$ac_cv_build" >&6; }
case $ac_cv_build in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
esac
d1170 16
a1185 24
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_build
shift
build_cpu=$1
build_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
build_os=$*
IFS=$ac_save_IFS
case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
$as_echo_n "checking host system type... " >&6; }
if ${ac_cv_host+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "x$host_alias" = x; then
  ac_cv_host=$ac_cv_build
else
  ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
fi
d1188 2
a1189 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
$as_echo "$ac_cv_host" >&6; }
case $ac_cv_host in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
esac
d1191 17
a1207 24
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_host
shift
host_cpu=$1
host_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
host_os=$*
IFS=$ac_save_IFS
case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking target system type" >&5
$as_echo_n "checking target system type... " >&6; }
if ${ac_cv_target+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "x$target_alias" = x; then
  ac_cv_target=$ac_cv_host
else
  ac_cv_target=`$SHELL "$ac_aux_dir/config.sub" $target_alias` ||
    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $target_alias failed" "$LINENO" 5
fi
d1210 2
a1211 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_target" >&5
$as_echo "$ac_cv_target" >&6; }
case $ac_cv_target in
*-*-*) ;;
*) as_fn_error $? "invalid value of canonical target" "$LINENO" 5;;
esac
d1213 3
a1215 12
ac_save_IFS=$IFS; IFS='-'
set x $ac_cv_target
shift
target_cpu=$1
target_vendor=$2
shift; shift
# Remember, the first character of IFS is used to create $*,
# except with old shells:
target_os=$*
IFS=$ac_save_IFS
case $target_os in *\ *) target_os=`echo "$target_os" | sed 's/ /-/g'`;; esac

a1222 3

if test -f $srcdir/config.guess || test -f $ac_aux_dir/config.guess ; then

d1230 2
a1231 1
test -n "$system_name" && cat >>confdefs.h <<_ACEOF
d1233 1
a1233 1
_ACEOF
d1235 2
a1236 2
if ${cf_cv_system_name+:} false; then :
  $as_echo_n "(cached) " >&6
a1240 1

d1242 2
a1243 2
test -n "$cf_cv_system_name" && { $as_echo "$as_me:${as_lineno-$LINENO}: result: Configuring for $cf_cv_system_name" >&5
$as_echo "Configuring for $cf_cv_system_name" >&6; }
d1246 5
a1250 3
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: Cached system name ($system_name) does not agree with actual ($cf_cv_system_name)" >&5
$as_echo "Cached system name ($system_name) does not agree with actual ($cf_cv_system_name)" >&6; }
	as_fn_error $? "\"Please remove config.cache and try again.\"" "$LINENO" 5
d1253 5
a1257 5

# Check whether --with-system-type was given.
if test "${with_system_type+set}" = set; then :
  withval=$with_system_type; { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: overriding system type $host_os to $withval" >&5
$as_echo "$as_me: WARNING: overriding system type $host_os to $withval" >&2;}
d1259 1
a1259 1
fi
d1261 12
d1276 1
a1276 1
VERSION=2.8.7rel.2
d1278 2
d1281 3
a1284 7

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for DESTDIR" >&5
$as_echo_n "checking for DESTDIR... " >&6; }

# Check whether --with-destdir was given.
if test "${with_destdir+set}" = set; then :
  withval=$with_destdir;
d1286 2
a1287 3
  withval="${DESTDIR-$DESTDIR}"
fi
if test -n "$DESTDIR" ; then
d1302 1
a1302 1
.\${*prefix}*) #(vi
d1314 3
a1316 1
  as_fn_error $? "expected a pathname, not \"$withval\"" "$LINENO" 5
d1321 1
a1321 6
DESTDIR="$withval"

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $DESTDIR" >&5
$as_echo "$DESTDIR" >&6; }


d1323 2
d1338 1
d1342 4
a1345 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d1350 9
a1358 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="${ac_tool_prefix}gcc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a1359 2
  done
IFS=$as_save_IFS
d1365 2
a1366 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
d1368 2
a1369 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a1371 1

d1377 4
a1380 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d1385 9
a1393 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_CC="gcc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a1394 2
  done
IFS=$as_save_IFS
d1400 2
a1401 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
$as_echo "$ac_ct_CC" >&6; }
d1403 2
a1404 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d1407 1
a1407 11
  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
d1413 2
a1414 2
          if test -n "$ac_tool_prefix"; then
    # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
d1416 4
a1419 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d1424 9
a1432 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="${ac_tool_prefix}cc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a1433 2
  done
IFS=$as_save_IFS
d1439 37
a1475 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
d1477 2
a1478 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d1481 4
a1485 1
  fi
d1490 4
a1493 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d1499 13
a1511 15
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
       ac_prog_rejected=yes
       continue
     fi
    ac_cv_prog_CC="cc"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a1512 2
  done
IFS=$as_save_IFS
d1523 3
a1525 1
    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@@"
d1532 2
a1533 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
d1535 2
a1536 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a1538 1

d1542 1
a1542 1
  for ac_prog in cl.exe
d1546 4
a1549 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d1554 9
a1562 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a1563 2
  done
IFS=$as_save_IFS
d1569 2
a1570 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
d1572 2
a1573 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a1575 1

d1581 1
a1581 1
  for ac_prog in cl.exe
d1585 4
a1588 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d1593 9
a1601 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_CC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a1602 2
  done
IFS=$as_save_IFS
d1608 2
a1609 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC" >&5
$as_echo "$ac_ct_CC" >&6; }
d1611 2
a1612 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a1614 1

d1618 1
a1618 11
  if test "x$ac_ct_CC" = x; then
    CC=""
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    CC=$ac_ct_CC
  fi
d1623 3
a1625 5

test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "no acceptable C compiler found in \$PATH
See \`config.log' for more details" "$LINENO" 5; }
d1628 10
a1637 12
$as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
set X $ac_compile
ac_compiler=$2
for ac_option in --version -v -V -qversion; do
  { { ac_try="$ac_compiler $ac_option >&5"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compiler $ac_option >&5") 2>conftest.err
d1639 7
a1645 10
  if test -s conftest.err; then
    sed '10a\
... rest of stderr output deleted ...
         10q' conftest.err >conftest.er1
    cat conftest.er1 >&5
  fi
  rm -f conftest.er1 conftest.err
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
done
d1647 3
a1649 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d1660 1
a1660 1
ac_clean_files="$ac_clean_files a.out a.out.dSYM a.exe b.out"
d1664 14
a1677 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the C compiler works" >&5
$as_echo_n "checking whether the C compiler works... " >&6; }
ac_link_default=`$as_echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`

# The possible output files:
ac_files="a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*"

ac_rmfiles=
for ac_file in $ac_files
do
d1679 9
a1687 45
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
    * ) ac_rmfiles="$ac_rmfiles $ac_file";;
  esac
done
rm -f $ac_rmfiles

if { { ac_try="$ac_link_default"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link_default") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
# in a Makefile.  We should not override ac_cv_exeext if it was cached,
# so that the user can short-circuit this test for compilers unknown to
# Autoconf.
for ac_file in $ac_files ''
do
  test -f "$ac_file" || continue
  case $ac_file in
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )
	;;
    [ab].out )
	# We found the default executable, but exeext='' is most
	# certainly right.
	break;;
    *.* )
	if test "${ac_cv_exeext+set}" = set && test "$ac_cv_exeext" != no;
	then :; else
	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
	fi
	# We set ac_cv_exeext here because the later test for it is not
	# safe: cross compilers may not add the suffix if given an `-o'
	# argument, so we may need to know it at that point already.
	# Even if this section looks crufty: it has the advantage of
	# actually working.
	break;;
    * )
	break;;
a1689 2
test "$ac_cv_exeext" = no && ac_cv_exeext=

d1691 5
a1695 1
  ac_file=''
a1696 5
if test -z "$ac_file"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
$as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
d1698 29
a1726 7
{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "C compiler cannot create executables
See \`config.log' for more details" "$LINENO" 5; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
d1728 2
a1729 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
$as_echo_n "checking for C compiler default output file name... " >&6; }
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_file" >&5
$as_echo "$ac_file" >&6; }
ac_exeext=$ac_cv_exeext
d1731 1
a1731 1
rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out
d1733 11
a1743 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of executables" >&5
$as_echo_n "checking for suffix of executables... " >&6; }
if { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
d1745 2
a1746 2
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
d1751 1
a1751 2
for ac_file in conftest.exe conftest conftest.*; do
  test -f "$ac_file" || continue
d1753 1
a1753 1
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;
d1755 2
a1756 1
	  break;;
d1761 8
a1768 8
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of executables: cannot compile and link
See \`config.log' for more details" "$LINENO" 5; }
fi
rm -f conftest conftest$ac_cv_exeext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
$as_echo "$ac_cv_exeext" >&6; }
d1773 4
a1776 63
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
FILE *f = fopen ("conftest.out", "w");
 return ferror (f) || fclose (f) != 0;

  ;
  return 0;
}
_ACEOF
ac_clean_files="$ac_clean_files conftest.out"
# Check that the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling" >&5
$as_echo_n "checking whether we are cross compiling... " >&6; }
if test "$cross_compiling" != yes; then
  { { ac_try="$ac_link"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_link") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
  if { ac_try='./conftest$ac_cv_exeext'
  { { case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_try") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot run C compiled programs.
If you meant to cross compile, use \`--host'.
See \`config.log' for more details" "$LINENO" 5; }
    fi
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
$as_echo "$cross_compiling" >&6; }

rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
ac_clean_files=$ac_clean_files_save
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
$as_echo_n "checking for suffix of object files... " >&6; }
if ${ac_cv_objext+:} false; then :
  $as_echo_n "(cached) " >&6
d1778 3
a1780 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d1791 6
a1796 13
if { { ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval ac_try_echo="\"\$as_me:${as_lineno-$LINENO}: $ac_try_echo\""
$as_echo "$ac_try_echo"; } >&5
  (eval "$ac_compile") 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then :
  for ac_file in conftest.o conftest.obj conftest.*; do
  test -f "$ac_file" || continue;
d1798 1
a1798 1
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;
d1804 6
a1809 2
  $as_echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5
a1810 5
{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "cannot compute suffix of object files: cannot compile
See \`config.log' for more details" "$LINENO" 5; }
fi
d1813 2
a1814 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
$as_echo "$ac_cv_objext" >&6; }
d1817 4
a1820 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler" >&5
$as_echo_n "checking whether we are using the GNU C compiler... " >&6; }
if ${ac_cv_c_compiler_gnu+:} false; then :
  $as_echo_n "(cached) " >&6
d1822 3
a1824 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d1837 12
a1848 1
if ac_fn_c_try_compile "$LINENO"; then :
d1851 3
a1853 1
  ac_compiler_gnu=no
d1855 1
a1855 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d1859 3
a1861 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
$as_echo "$ac_cv_c_compiler_gnu" >&6; }
if test $ac_compiler_gnu = yes; then
  GCC=yes
else
  GCC=
fi
d1864 5
a1868 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
$as_echo_n "checking whether $CC accepts -g... " >&6; }
if ${ac_cv_prog_cc_g+:} false; then :
  $as_echo_n "(cached) " >&6
d1870 3
a1872 6
  ac_save_c_werror_flag=$ac_c_werror_flag
   ac_c_werror_flag=yes
   ac_cv_prog_cc_g=no
   CFLAGS="-g"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d1882 12
a1893 1
if ac_fn_c_try_compile "$LINENO"; then :
d1896 58
a1953 4
  CFLAGS=""
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

d1957 1
a1957 1

d1962 13
a1974 2
if ac_fn_c_try_compile "$LINENO"; then :

d1976 9
a1984 5
  ac_c_werror_flag=$ac_save_c_werror_flag
	 CFLAGS="-g"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

d1988 1
a1988 1

d1993 16
a2008 2
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_g=yes
d2010 7
a2016 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d2018 4
a2021 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d2023 16
a2038 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
   ac_c_werror_flag=$ac_save_c_werror_flag
d2040 5
a2044 21
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
$as_echo "$ac_cv_prog_cc_g" >&6; }
if test "$ac_test_CFLAGS" = set; then
  CFLAGS=$ac_save_CFLAGS
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89" >&5
$as_echo_n "checking for $CC option to accept ISO C89... " >&6; }
if ${ac_cv_prog_cc_c89+:} false; then :
  $as_echo_n "(cached) " >&6
d2046 1
a2046 1
  ac_cv_prog_cc_c89=no
d2048 3
a2050 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a2072 15

/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
   function prototypes and stuff, but not '\xHH' hex character constants.
   These don't provoke an error unfortunately, instead are silently treated
   as 'x'.  The following induces an error, until -std is added to get
   proper ANSI mode.  Curiously '\x00'!='x' always comes out true, for an
   array size at least.  It's necessary to write '\x00'==0 to get something
   that's true only with -std.  */
int osf4_cc_array ['\x00' == 0 ? 1 : -1];

/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters
   inside strings and character constants.  */
#define FOO(x) 'x'
int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];

d2087 8
a2094 2
for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \
	-Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
d2097 17
a2113 2
  if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_prog_cc_c89=$ac_arg
d2115 1
a2115 2
rm -f core conftest.err conftest.$ac_objext
  test "x$ac_cv_prog_cc_c89" != "xno" && break
d2117 1
a2117 1
rm -f conftest.$ac_ext
d2121 5
a2125 8
# AC_CACHE_VAL
case "x$ac_cv_prog_cc_c89" in
  x)
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
$as_echo "none needed" >&6; } ;;
  xno)
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
$as_echo "unsupported" >&6; } ;;
d2127 24
a2150 5
    CC="$CC $ac_cv_prog_cc_c89"
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
$as_echo "$ac_cv_prog_cc_c89" >&6; } ;;
esac
if test "x$ac_cv_prog_cc_c89" != xno; then :
d2152 9
a2160 1
fi
d2162 69
a2230 5
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
d2237 3
a2239 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor" >&5
$as_echo_n "checking how to run the C preprocessor... " >&6; }
d2245 2
a2246 2
  if ${ac_cv_prog_CPP+:} false; then :
  $as_echo_n "(cached) " >&6
a2255 2
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
d2258 5
a2262 8
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
d2264 18
a2281 2
if ac_fn_c_try_cpp "$LINENO"; then :

d2283 2
d2288 1
a2288 1
rm -f conftest.err conftest.i conftest.$ac_ext
d2290 1
a2290 1
  # OK, works on sane cases.  Now check whether nonexistent headers
d2292 3
a2294 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d2297 17
a2313 1
if ac_fn_c_try_cpp "$LINENO"; then :
d2317 2
d2323 1
a2323 1
rm -f conftest.err conftest.i conftest.$ac_ext
d2327 2
a2328 2
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :
d2340 2
a2341 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $CPP" >&5
$as_echo "$CPP" >&6; }
a2346 2
  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since
  # <limits.h> exists even on freestanding compilers.
d2349 5
a2353 8
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifdef __STDC__
# include <limits.h>
#else
# include <assert.h>
#endif
		     Syntax error
d2355 18
a2372 2
if ac_fn_c_try_cpp "$LINENO"; then :

d2374 2
d2379 1
a2379 1
rm -f conftest.err conftest.i conftest.$ac_ext
d2381 1
a2381 1
  # OK, works on sane cases.  Now check whether nonexistent headers
d2383 3
a2385 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d2388 17
a2404 1
if ac_fn_c_try_cpp "$LINENO"; then :
d2408 2
d2414 1
a2414 1
rm -f conftest.err conftest.i conftest.$ac_ext
d2418 3
a2420 3
rm -f conftest.i conftest.err conftest.$ac_ext
if $ac_preproc_ok; then :

d2422 3
a2424 4
  { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
See \`config.log' for more details" "$LINENO" 5; }
d2432 1
d2434 2
a2435 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ln -s works" >&5
$as_echo_n "checking whether ln -s works... " >&6; }
d2438 2
a2439 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
d2441 2
a2442 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no, using $LN_S" >&5
$as_echo "no, using $LN_S" >&6; }
d2448 2
a2449 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: Override: No symbolic links in mingw." >&5
$as_echo "Override: No symbolic links in mingw." >&6; }
d2454 5
a2458 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \$(MAKE)" >&5
$as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
set x ${MAKE-make}
ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
if eval \${ac_cv_prog_make_${ac_make}_set+:} false; then :
  $as_echo_n "(cached) " >&6
d2460 1
a2460 2
  cat >conftest.make <<\_ACEOF
SHELL = /bin/sh
d2462 9
a2470 9
	@@echo '@@@@@@%%%=$(MAKE)=@@@@@@%%%'
_ACEOF
# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
case `${MAKE-make} -f conftest.make 2>/dev/null` in
  *@@@@@@%%%=?*=@@@@@@%%%*)
    eval ac_cv_prog_make_${ac_make}_set=yes;;
  *)
    eval ac_cv_prog_make_${ac_make}_set=no;;
esac
d2473 3
a2475 3
if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
d2478 2
a2479 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a2493 1
# OS/2's system install, which has a completely different semantic
d2495 2
a2496 3
# Reject install programs that cannot install multiple files.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install" >&5
$as_echo_n "checking for a BSD-compatible install... " >&6; }
d2498 2
a2499 2
if ${ac_cv_path_install+:} false; then :
  $as_echo_n "(cached) " >&6
d2501 3
a2503 5
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
d2505 10
a2514 12
case $as_dir/ in #((
  ./ | .// | /[cC]/* | \
  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
  ?:[\\/]os2[\\/]install[\\/]* | ?:[\\/]OS2[\\/]INSTALL[\\/]* | \
  /usr/ucb/* ) ;;
  *)
    # OSF1 and SCO ODT 3.0 have their own names for install.
    # Don't use installbsd from OSF since it installs stuff as root
    # by default.
    for ac_prog in ginstall scoinst install; do
      for ac_exec_ext in '' $ac_executable_extensions; do
	if { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; }; then
d2516 1
a2516 1
	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
d2520 1
a2520 1
	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
d2524 2
a2525 12
	    rm -rf conftest.one conftest.two conftest.dir
	    echo one > conftest.one
	    echo two > conftest.two
	    mkdir conftest.dir
	    if "$as_dir/$ac_prog$ac_exec_ext" -c conftest.one conftest.two "`pwd`/conftest.dir" &&
	      test -s conftest.one && test -s conftest.two &&
	      test -s conftest.dir/conftest.one &&
	      test -s conftest.dir/conftest.two
	    then
	      ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
	      break 3
	    fi
d2529 2
a2530 4
    done
    ;;
esac

a2531 3
IFS=$as_save_IFS

rm -rf conftest.one conftest.two conftest.dir
d2537 2
a2538 2
    # As a last resort, use the slow shell script.  Don't cache a
    # value for INSTALL within a source directory, because that will
d2540 1
a2540 1
    # removed, or if the value is a relative name.
d2544 2
a2545 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $INSTALL" >&5
$as_echo "$INSTALL" >&6; }
d2559 4
a2562 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_YACC+:} false; then :
  $as_echo_n "(cached) " >&6
d2567 9
a2575 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_YACC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a2576 2
  done
IFS=$as_save_IFS
d2582 2
a2583 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $YACC" >&5
$as_echo "$YACC" >&6; }
d2585 2
a2586 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a2588 1

d2593 1
a2593 1
for ac_prog in lint alint lclint tdlint
d2597 4
a2600 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_LINT+:} false; then :
  $as_echo_n "(cached) " >&6
d2605 9
a2613 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_LINT="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a2614 2
  done
IFS=$as_save_IFS
d2620 2
a2621 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $LINT" >&5
$as_echo "$LINT" >&6; }
d2623 2
a2624 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a2626 1

d2630 5
d2636 26
d2663 3
d2667 5
a2671 44
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
$as_echo_n "checking for grep that handles long lines and -e... " >&6; }
if ${ac_cv_path_GREP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test -z "$GREP"; then
  ac_path_GREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in grep ggrep; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_GREP="$as_dir/$ac_prog$ac_exec_ext"
      { test -f "$ac_path_GREP" && $as_test_x "$ac_path_GREP"; } || continue
# Check for GNU ac_path_GREP and select it if it is found.
  # Check for GNU $ac_path_GREP
case `"$ac_path_GREP" --version 2>&1` in
*GNU*)
  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo 'GREP' >> "conftest.nl"
    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_GREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_GREP="$ac_path_GREP"
      ac_path_GREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac
d2673 18
a2690 10
      $ac_path_GREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_GREP"; then
    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
else
  ac_cv_path_GREP=$GREP
d2694 29
a2722 52
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
$as_echo "$ac_cv_path_GREP" >&6; }
 GREP="$ac_cv_path_GREP"


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
$as_echo_n "checking for egrep... " >&6; }
if ${ac_cv_path_EGREP+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
   then ac_cv_path_EGREP="$GREP -E"
   else
     if test -z "$EGREP"; then
  ac_path_EGREP_found=false
  # Loop through the user's path and test for each of PROGNAME-LIST
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_prog in egrep; do
    for ac_exec_ext in '' $ac_executable_extensions; do
      ac_path_EGREP="$as_dir/$ac_prog$ac_exec_ext"
      { test -f "$ac_path_EGREP" && $as_test_x "$ac_path_EGREP"; } || continue
# Check for GNU ac_path_EGREP and select it if it is found.
  # Check for GNU $ac_path_EGREP
case `"$ac_path_EGREP" --version 2>&1` in
*GNU*)
  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
*)
  ac_count=0
  $as_echo_n 0123456789 >"conftest.in"
  while :
  do
    cat "conftest.in" "conftest.in" >"conftest.tmp"
    mv "conftest.tmp" "conftest.in"
    cp "conftest.in" "conftest.nl"
    $as_echo 'EGREP' >> "conftest.nl"
    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
    as_fn_arith $ac_count + 1 && ac_count=$as_val
    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
      # Best one so far, save it but keep looking for a better one
      ac_cv_path_EGREP="$ac_path_EGREP"
      ac_path_EGREP_max=$ac_count
    fi
    # 10*(2^10) chars as input seems more than enough
    test $ac_count -gt 10 && break
  done
  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
esac
d2724 6
a2729 8
      $ac_path_EGREP_found && break 3
    done
  done
  done
IFS=$as_save_IFS
  if test -z "$ac_cv_path_EGREP"; then
    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
  fi
d2731 2
a2732 1
  ac_cv_path_EGREP=$EGREP
d2735 35
a2769 1
   fi
a2770 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
$as_echo "$ac_cv_path_EGREP" >&6; }
 EGREP="$ac_cv_path_EGREP"
d2772 23
d2796 7
a2802 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ANSI C header files" >&5
$as_echo_n "checking for ANSI C header files... " >&6; }
if ${ac_cv_header_stdc+:} false; then :
  $as_echo_n "(cached) " >&6
d2804 3
a2806 6
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
d2808 21
a2828 3
int
main ()
{
d2830 7
a2836 6
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_header_stdc=yes
d2838 2
a2839 1
  ac_cv_header_stdc=no
a2840 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d2842 3
a2844 5
if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string.h>
d2846 5
a2850 3
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "memchr" >/dev/null 2>&1; then :
d2852 2
d2855 1
a2855 1
  ac_cv_header_stdc=no
a2856 1
rm -f conftest*
d2858 22
d2881 1
d2883 4
a2886 5
if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
d2888 7
a2894 3
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "free" >/dev/null 2>&1; then :
d2896 9
d2906 20
a2925 1
  ac_cv_header_stdc=no
d2927 1
a2927 1
rm -f conftest*
d2929 6
d2937 1
a2937 4
if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then :
  :
d2939 1
a2939 179
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ctype.h>
#include <stdlib.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) \
		   (('a' <= (c) && (c) <= 'i') \
		     || ('j' <= (c) && (c) <= 'r') \
		     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
	|| toupper (i) != TOUPPER (i))
      return 2;
  return 0;
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :

else
  ac_cv_header_stdc=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi

fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc" >&5
$as_echo "$ac_cv_header_stdc" >&6; }
if test $ac_cv_header_stdc = yes; then

$as_echo "#define STDC_HEADERS 1" >>confdefs.h

fi

# On IRIX 5.3, sys/types and inttypes.h are conflicting.
for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
		  inttypes.h stdint.h unistd.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default
"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF

fi

done



  ac_fn_c_check_header_mongrel "$LINENO" "minix/config.h" "ac_cv_header_minix_config_h" "$ac_includes_default"
if test "x$ac_cv_header_minix_config_h" = xyes; then :
  MINIX=yes
else
  MINIX=
fi


  if test "$MINIX" = yes; then

$as_echo "#define _POSIX_SOURCE 1" >>confdefs.h


$as_echo "#define _POSIX_1_SOURCE 2" >>confdefs.h


$as_echo "#define _MINIX 1" >>confdefs.h

  fi


  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether it is safe to define __EXTENSIONS__" >&5
$as_echo_n "checking whether it is safe to define __EXTENSIONS__... " >&6; }
if ${ac_cv_safe_to_define___extensions__+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#	  define __EXTENSIONS__ 1
	  $ac_includes_default
int
main ()
{

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_safe_to_define___extensions__=yes
else
  ac_cv_safe_to_define___extensions__=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_safe_to_define___extensions__" >&5
$as_echo "$ac_cv_safe_to_define___extensions__" >&6; }
  test $ac_cv_safe_to_define___extensions__ = yes &&
    $as_echo "#define __EXTENSIONS__ 1" >>confdefs.h

  $as_echo "#define _ALL_SOURCE 1" >>confdefs.h

  $as_echo "#define _GNU_SOURCE 1" >>confdefs.h

  $as_echo "#define _POSIX_PTHREAD_SEMANTICS 1" >>confdefs.h

  $as_echo "#define _TANDEM_SOURCE 1" >>confdefs.h



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing strerror" >&5
$as_echo_n "checking for library containing strerror... " >&6; }
if ${ac_cv_search_strerror+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char strerror ();
int
main ()
{
return strerror ();
  ;
  return 0;
}
_ACEOF
for ac_lib in '' cposix; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_search_strerror=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_strerror+:} false; then :
  break
fi
done
if ${ac_cv_search_strerror+:} false; then :

else
  ac_cv_search_strerror=no
fi
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_strerror" >&5
$as_echo "$ac_cv_search_strerror" >&6; }
ac_res=$ac_cv_search_strerror
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"

a2941 26



case $cf_cv_system_name in
os2*)
    CFLAGS="$CFLAGS -Zmt"
    CPPFLAGS="$CPPFLAGS -D__ST_MT_ERRNO__"
    CXXFLAGS="$CXXFLAGS -Zmt"
    # autoconf's macro sets -Zexe and suffix both, which conflict:w
    LDFLAGS="$LDFLAGS -Zmt -Zcrtdll"
    ac_cv_exeext=.exe
    ;;
esac




PROG_EXT="$EXEEXT"

test -n "$PROG_EXT" && cat >>confdefs.h <<_ACEOF
#define PROG_EXT "$PROG_EXT"
_ACEOF




d2952 4
a2955 4

# Check whether --with-build-cc was given.
if test "${with_build_cc+set}" = set; then :
  withval=$with_build_cc; BUILD_CC="$withval"
d2961 4
a2964 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_BUILD_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d2969 9
a2977 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_BUILD_CC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a2978 2
  done
IFS=$as_save_IFS
d2984 2
a2985 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $BUILD_CC" >&5
$as_echo "$BUILD_CC" >&6; }
d2987 2
a2988 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a2990 1

d2994 13
a3006 13
fi

	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for native build C compiler" >&5
$as_echo_n "checking for native build C compiler... " >&6; }
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $BUILD_CC" >&5
$as_echo "$BUILD_CC" >&6; }

	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for native build C preprocessor" >&5
$as_echo_n "checking for native build C preprocessor... " >&6; }

# Check whether --with-build-cpp was given.
if test "${with_build_cpp+set}" = set; then :
  withval=$with_build_cpp; BUILD_CPP="$withval"
d3009 3
a3011 1
fi
d3013 2
a3014 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $BUILD_CPP" >&5
$as_echo "$BUILD_CPP" >&6; }
d3016 7
a3022 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for native build C flags" >&5
$as_echo_n "checking for native build C flags... " >&6; }
d3024 2
a3025 4
# Check whether --with-build-cflags was given.
if test "${with_build_cflags+set}" = set; then :
  withval=$with_build_cflags; BUILD_CFLAGS="$withval"
fi
d3027 7
a3033 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $BUILD_CFLAGS" >&5
$as_echo "$BUILD_CFLAGS" >&6; }
d3035 2
a3036 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for native build C preprocessor-flags" >&5
$as_echo_n "checking for native build C preprocessor-flags... " >&6; }
d3038 7
a3044 4
# Check whether --with-build-cppflags was given.
if test "${with_build_cppflags+set}" = set; then :
  withval=$with_build_cppflags; BUILD_CPPFLAGS="$withval"
fi
d3046 2
a3047 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $BUILD_CPPFLAGS" >&5
$as_echo "$BUILD_CPPFLAGS" >&6; }
d3049 7
a3055 21
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for native build linker-flags" >&5
$as_echo_n "checking for native build linker-flags... " >&6; }

# Check whether --with-build-ldflags was given.
if test "${with_build_ldflags+set}" = set; then :
  withval=$with_build_ldflags; BUILD_LDFLAGS="$withval"
fi

	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $BUILD_LDFLAGS" >&5
$as_echo "$BUILD_LDFLAGS" >&6; }

	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for native build linker-libraries" >&5
$as_echo_n "checking for native build linker-libraries... " >&6; }

# Check whether --with-build-libs was given.
if test "${with_build_libs+set}" = set; then :
  withval=$with_build_libs; BUILD_LIBS="$withval"
fi

	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $BUILD_LIBS" >&5
$as_echo "$BUILD_LIBS" >&6; }
d3064 5
a3068 2
		as_fn_error $? "Cross-build requires two compilers.
Use --with-build-cc to specify the native compiler." "$LINENO" 5
a3081 11











d3085 4
a3088 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_RANLIB+:} false; then :
  $as_echo_n "(cached) " >&6
d3093 9
a3101 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a3102 2
  done
IFS=$as_save_IFS
d3108 2
a3109 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
$as_echo "$RANLIB" >&6; }
d3111 2
a3112 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a3114 1

d3120 4
a3123 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_RANLIB+:} false; then :
  $as_echo_n "(cached) " >&6
d3128 9
a3136 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a3137 2
  done
IFS=$as_save_IFS
d3139 1
d3144 2
a3145 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
$as_echo "$ac_ct_RANLIB" >&6; }
d3147 2
a3148 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d3151 1
a3151 11
  if test "x$ac_ct_RANLIB" = x; then
    RANLIB="':'"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    RANLIB=$ac_ct_RANLIB
  fi
a3155 2


d3159 4
a3162 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_AR+:} false; then :
  $as_echo_n "(cached) " >&6
d3167 9
a3175 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_AR="${ac_tool_prefix}ar"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a3176 2
  done
IFS=$as_save_IFS
d3182 2
a3183 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $AR" >&5
$as_echo "$AR" >&6; }
d3185 2
a3186 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a3188 1

d3194 4
a3197 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_AR+:} false; then :
  $as_echo_n "(cached) " >&6
d3202 9
a3210 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_AR="ar"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a3211 2
  done
IFS=$as_save_IFS
d3213 1
d3218 2
a3219 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_AR" >&5
$as_echo "$ac_ct_AR" >&6; }
d3221 2
a3222 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d3225 1
a3225 11
  if test "x$ac_ct_AR" = x; then
    AR="ar"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    AR=$ac_ct_AR
  fi
d3230 4
a3233 8




{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for options to update archives" >&5
$as_echo_n "checking for options to update archives... " >&6; }
if ${cf_cv_ar_flags+:} false; then :
  $as_echo_n "(cached) " >&6
d3239 10
d3253 1
a3253 1
#line 4815 "configure"
d3256 1
a3256 1
		if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
d3259 4
a3262 3
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; } ; then
			$AR $cf_ar_flags conftest.a conftest.$ac_cv_objext 2>&5 1>/dev/null
d3270 1
a3270 2
echo "${as_me-configure}:4831: testing cannot compile test-program ..." 1>&5

d3278 2
a3279 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ar_flags" >&5
$as_echo "$cf_cv_ar_flags" >&6; }
d3281 7
a3287 7
test -z "$ARFLAGS" && ARFLAGS=$cf_cv_ar_flags
ARFLAGS=$cf_cv_ar_flags




Development Options:
d3289 2
d3292 4
a3295 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to see long compiling messages" >&5
$as_echo_n "checking if you want to see long compiling messages... " >&6; }
# Check whether --enable-echo was given.
if test "${enable_echo+set}" = set; then :
  enableval=$enable_echo; test "$enableval" != no && enableval=yes
d3300 2
a3301 2
    RULE_CC='	@@echo compiling $<'
    SHOW_CC='	@@echo compiling $@@'
d3308 2
a3309 2
    RULE_CC='# compiling'
    SHOW_CC='# compiling'
d3318 2
a3319 2
    RULE_CC='# compiling'
    SHOW_CC='# compiling'
d3322 3
a3324 11

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }






d3333 2
d3336 4
a3339 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to check memory-leaks" >&5
$as_echo_n "checking if you want to check memory-leaks... " >&6; }
# Check whether --enable-find-leaks was given.
if test "${enable_find_leaks+set}" = set; then :
  enableval=$enable_find_leaks; test "$enableval" != yes && enableval=no
d3349 7
a3355 6
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_leak_checks" >&5
$as_echo "$with_leak_checks" >&6; }
test "$with_leak_checks" = "yes" && $as_echo "#define LY_FIND_LEAKS 1" >>confdefs.h

d3360 7
a3366 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to enable debug-code" >&5
$as_echo_n "checking if you want to enable debug-code... " >&6; }
# Check whether --enable-debug was given.
if test "${enable_debug+set}" = set; then :
  enableval=$enable_debug; test "$enableval" != yes && enableval=no
d3376 3
a3378 4
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_debug" >&5
$as_echo "$with_debug" >&6; }
d3402 7
a3408 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to enable lynx trace code *recommended* " >&5
$as_echo_n "checking if you want to enable lynx trace code *recommended* ... " >&6; }
# Check whether --enable-trace was given.
if test "${enable_trace+set}" = set; then :
  enableval=$enable_trace; test "$enableval" != no && enableval=yes
d3418 7
a3424 5
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_trace" >&5
$as_echo "$with_trace" >&6; }
test $with_trace = no && $as_echo "#define NO_LYNX_TRACE 1" >>confdefs.h
d3426 2
d3429 4
a3432 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want verbose trace code" >&5
$as_echo_n "checking if you want verbose trace code... " >&6; }
# Check whether --enable-vertrace was given.
if test "${enable_vertrace+set}" = set; then :
  enableval=$enable_vertrace; test "$enableval" != yes && enableval=no
d3442 7
a3448 6
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_vertrace" >&5
$as_echo "$with_vertrace" >&6; }
test $with_vertrace = yes && $as_echo "#define LY_TRACELINE __LINE__" >>confdefs.h

d3452 7
a3458 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to turn on gcc warnings" >&5
$as_echo_n "checking if you want to turn on gcc warnings... " >&6; }
# Check whether --enable-warnings was given.
if test "${enable_warnings+set}" = set; then :
  enableval=$enable_warnings; test "$enableval" != yes && enableval=no
d3468 3
a3470 4
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_warnings" >&5
$as_echo "$with_warnings" >&6; }
d3492 2
a3493 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC __attribute__ directives..." >&5
$as_echo "$as_me: checking for $CC __attribute__ directives..." >&6;}
d3495 1
a3495 1
#line 5054 "${as_me-configure}"
d3514 2
d3523 11
a3533 3
		case $cf_attribute in
		scanf|printf)
		cat >conftest.h <<EOF
d3537 2
a3538 2
		*)
		cat >conftest.h <<EOF
d3543 2
a3544 1
		if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
d3547 4
a3550 4
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
			test -n "$verbose" && { $as_echo "$as_me:${as_lineno-$LINENO}: result: ... $cf_attribute" >&5
$as_echo "... $cf_attribute" >&6; }
d3552 2
a3553 7
		fi
	done
else
	fgrep define conftest.i >>confdefs.h
fi
rm -rf conftest*
fi
d3555 3
d3559 5
d3565 3
a3567 9
GCC_VERSION=none
if test "$GCC" = yes ; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking version of $CC" >&5
$as_echo_n "checking version of $CC... " >&6; }
	GCC_VERSION="`${CC} --version| sed -e '2,$d' -e 's/^.*(GCC) //' -e 's/^[^0-9.]*//' -e 's/[^0-9.].*//'`"
	test -z "$GCC_VERSION" && GCC_VERSION=unknown
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $GCC_VERSION" >&5
$as_echo "$GCC_VERSION" >&6; }
fi
d3569 1
d3571 3
d3575 32
d3613 2
a3614 2
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if this is really Intel C compiler" >&5
$as_echo_n "checking if this is really Intel C compiler... " >&6; }
d3617 3
a3619 2
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d3634 12
a3645 1
if ac_fn_c_try_compile "$LINENO"; then :
d3649 3
d3653 1
a3653 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d3655 2
a3656 2
		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $INTEL_COMPILER" >&5
$as_echo "$INTEL_COMPILER" >&6; }
d3661 48
d3711 1
a3711 1
#line 5163 "${as_me-configure}"
d3728 2
a3729 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC warning options..." >&5
$as_echo "$as_me: checking for $CC warning options..." >&6;}
d3744 1
a3744 1
		if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
d3747 4
a3750 4
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
			test -n "$verbose" && { $as_echo "$as_me:${as_lineno-$LINENO}: result: ... -$cf_opt" >&5
$as_echo "... -$cf_opt" >&6; }
d3758 2
a3759 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC warning options..." >&5
$as_echo "$as_me: checking for $CC warning options..." >&6;}
d3761 1
a3761 1
	EXTRA_CFLAGS="-W -Wall"
d3764 3
a3766 1
	for cf_opt in \
d3770 2
d3779 1
a3779 1
		Wundef $cf_warn_CONST
d3782 1
a3782 1
		if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
d3785 4
a3788 4
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }; then
			test -n "$verbose" && { $as_echo "$as_me:${as_lineno-$LINENO}: result: ... -$cf_opt" >&5
$as_echo "... -$cf_opt" >&6; }
d3798 9
a3806 1
echo "${as_me-configure}:5246: testing feature is broken in gcc $GCC_VERSION ..." 1>&5
d3808 1
d3819 1
a3819 3
rm -f conftest*


d3824 2
d3827 3
d3831 3
a3833 8
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use dbmalloc for testing" >&5
$as_echo_n "checking if you want to use dbmalloc for testing... " >&6; }

# Check whether --with-dbmalloc was given.
if test "${with_dbmalloc+set}" = set; then :
  withval=$with_dbmalloc; $as_echo "#define USE_DBMALLOC 1" >>confdefs.h


d3840 3
a3842 4
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_dbmalloc:-no}" >&5
$as_echo "${with_dbmalloc:-no}" >&6; }
d3867 2
a3868 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d3883 10
d3908 2
a3909 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
a3928 3



d3934 39
d3974 4
a3977 7
if test "$with_dbmalloc" = yes ; then
	ac_fn_c_check_header_mongrel "$LINENO" "dbmalloc.h" "ac_cv_header_dbmalloc_h" "$ac_includes_default"
if test "x$ac_cv_header_dbmalloc_h" = xyes; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for debug_malloc in -ldbmalloc" >&5
$as_echo_n "checking for debug_malloc in -ldbmalloc... " >&6; }
if ${ac_cv_lib_dbmalloc_debug_malloc+:} false; then :
  $as_echo_n "(cached) " >&6
d3981 3
a3983 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d3985 1
a3985 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d3989 2
d3995 1
a3995 1
return debug_malloc ();
d4000 12
a4011 1
if ac_fn_c_try_link "$LINENO"; then :
d4014 3
a4016 1
  ac_cv_lib_dbmalloc_debug_malloc=no
d4018 1
a4018 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d4021 4
a4024 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dbmalloc_debug_malloc" >&5
$as_echo "$ac_cv_lib_dbmalloc_debug_malloc" >&6; }
if test "x$ac_cv_lib_dbmalloc_debug_malloc" = xyes; then :
  cat >>confdefs.h <<_ACEOF
d4026 1
a4026 1
_ACEOF
a4033 1

d4036 2
d4039 3
d4043 3
a4045 8
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use dmalloc for testing" >&5
$as_echo_n "checking if you want to use dmalloc for testing... " >&6; }

# Check whether --with-dmalloc was given.
if test "${with_dmalloc+set}" = set; then :
  withval=$with_dmalloc; $as_echo "#define USE_DMALLOC 1" >>confdefs.h


d4052 3
a4054 4
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: ${with_dmalloc:-no}" >&5
$as_echo "${with_dmalloc:-no}" >&6; }
d4079 2
a4080 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d4095 10
d4120 2
a4121 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
a4140 3



d4146 39
d4186 4
a4189 7
if test "$with_dmalloc" = yes ; then
	ac_fn_c_check_header_mongrel "$LINENO" "dmalloc.h" "ac_cv_header_dmalloc_h" "$ac_includes_default"
if test "x$ac_cv_header_dmalloc_h" = xyes; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dmalloc_debug in -ldmalloc" >&5
$as_echo_n "checking for dmalloc_debug in -ldmalloc... " >&6; }
if ${ac_cv_lib_dmalloc_dmalloc_debug+:} false; then :
  $as_echo_n "(cached) " >&6
d4193 3
a4195 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d4197 1
a4197 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d4201 2
d4207 1
a4207 1
return dmalloc_debug ();
d4212 12
a4223 1
if ac_fn_c_try_link "$LINENO"; then :
d4226 3
a4228 1
  ac_cv_lib_dmalloc_dmalloc_debug=no
d4230 1
a4230 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d4233 4
a4236 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dmalloc_dmalloc_debug" >&5
$as_echo "$ac_cv_lib_dmalloc_dmalloc_debug" >&6; }
if test "x$ac_cv_lib_dmalloc_dmalloc_debug" = xyes; then :
  cat >>confdefs.h <<_ACEOF
d4238 1
a4238 1
_ACEOF
a4245 1

d4248 3
a4250 108


$as_echo "#define UNIX 1" >>confdefs.h


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for an ANSI C-conforming const" >&5
$as_echo_n "checking for an ANSI C-conforming const... " >&6; }
if ${ac_cv_c_const+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{
/* FIXME: Include the comments suggested by Paul. */
#ifndef __cplusplus
  /* Ultrix mips cc rejects this.  */
  typedef int charset[2];
  const charset cs;
  /* SunOS 4.1.1 cc rejects this.  */
  char const *const *pcpcc;
  char **ppc;
  /* NEC SVR4.0.2 mips cc rejects this.  */
  struct point {int x, y;};
  static struct point const zero = {0,0};
  /* AIX XL C 1.02.0.0 rejects this.
     It does not let you subtract one const X* pointer from another in
     an arm of an if-expression whose if-part is not a constant
     expression */
  const char *g = "string";
  pcpcc = &g + (g ? g-g : 0);
  /* HPUX 7.0 cc rejects these. */
  ++pcpcc;
  ppc = (char**) pcpcc;
  pcpcc = (char const *const *) ppc;
  { /* SCO 3.2v4 cc rejects this.  */
    char *t;
    char const *s = 0 ? (char *) 0 : (char const *) 0;

    *t++ = 0;
    if (s) return 0;
  }
  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
    int x[] = {25, 17};
    const int *foo = &x[0];
    ++foo;
  }
  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
    typedef const int *iptr;
    iptr p = 0;
    ++p;
  }
  { /* AIX XL C 1.02.0.0 rejects this saying
       "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
    struct s { int j; const int *ap[3]; };
    struct s *b; b->j = 5;
  }
  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
    const int foo = 10;
    if (!foo) return 0;
  }
  return !cs[0] && !zero.x;
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_c_const=yes
else
  ac_cv_c_const=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_const" >&5
$as_echo "$ac_cv_c_const" >&6; }
if test $ac_cv_c_const = no; then

$as_echo "#define const /**/" >>confdefs.h

fi




case $cf_cv_system_name in
os2*)
    CFLAGS="$CFLAGS -Zmt"
    CPPFLAGS="$CPPFLAGS -D__ST_MT_ERRNO__"
    CXXFLAGS="$CXXFLAGS -Zmt"
    # autoconf's macro sets -Zexe and suffix both, which conflict:w
    LDFLAGS="$LDFLAGS -Zmt -Zcrtdll"
    ac_cv_exeext=.exe
    ;;
esac




PROG_EXT="$EXEEXT"

test -n "$PROG_EXT" && cat >>confdefs.h <<_ACEOF
#define PROG_EXT "$PROG_EXT"
_ACEOF

d4272 5
a4276 4
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for strcmp in -lc_s" >&5
$as_echo_n "checking for strcmp in -lc_s... " >&6; }
if ${ac_cv_lib_c_s_strcmp+:} false; then :
  $as_echo_n "(cached) " >&6
d4280 3
a4282 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d4284 1
a4284 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d4288 2
d4294 1
a4294 1
return strcmp ();
d4299 12
a4310 1
if ac_fn_c_try_link "$LINENO"; then :
d4313 3
a4315 1
  ac_cv_lib_c_s_strcmp=no
d4317 1
a4317 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d4320 4
a4323 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c_s_strcmp" >&5
$as_echo "$ac_cv_lib_c_s_strcmp" >&6; }
if test "x$ac_cv_lib_c_s_strcmp" = xyes; then :
  cat >>confdefs.h <<_ACEOF
d4325 1
a4325 1
_ACEOF
d4392 2
a4393 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d4408 10
d4433 2
a4434 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
a4453 3



a4462 3
ekkobsd* | mirbsd*)
	LIBS="$LIBS -lcompat"
	;;
d4482 2
a4483 2
		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: You should consider using gcc or rcc if available" >&5
$as_echo "$as_me: WARNING: You should consider using gcc or rcc if available" >&2;}
d4489 4
a4492 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d4497 9
a4505 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_CC="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a4506 2
  done
IFS=$as_save_IFS
d4512 2
a4513 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CC" >&5
$as_echo "$CC" >&6; }
d4515 2
a4516 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a4518 1

d4534 13
a4546 6
	for ac_header in jcurses.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "jcurses.h" "ac_cv_header_jcurses_h" "$ac_includes_default"
if test "x$ac_cv_header_jcurses_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_JCURSES_H 1
d4548 31
a4580 1

d4597 47
a4643 5
	for ac_header in cursesX.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "cursesX.h" "ac_cv_header_cursesX_h" "$ac_includes_default"
if test "x$ac_cv_header_cursesX_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
d4645 1
a4645 2
_ACEOF
 $as_echo "#define HAVE_CURSESX_H 1" >>confdefs.h
a4648 1

d4660 14
d4675 90
a4764 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ${CC-cc} option to accept ANSI C" >&5
$as_echo_n "checking for ${CC-cc} option to accept ANSI C... " >&6; }
if ${cf_cv_ansi_cc+:} false; then :
  $as_echo_n "(cached) " >&6
else
d4801 2
a4802 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d4817 10
d4842 2
a4843 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
d4863 3
a4865 5



	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d4884 12
a4895 1
if ac_fn_c_try_compile "$LINENO"; then :
d4897 3
d4901 1
a4901 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d4907 2
a4908 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ansi_cc" >&5
$as_echo "$cf_cv_ansi_cc" >&6; }
d4929 2
a4930 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d4945 10
d4970 2
a4971 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
d4991 1
d4993 3
a4995 4


else
	$as_echo "#define CC_HAS_PROTOS 1" >>confdefs.h
a4999 1

d5001 6
a5006 1
	as_fn_error $? "Your compiler does not appear to recognize prototypes.
d5010 2
a5011 1
	c. use a wrapper such as unproto" "$LINENO" 5
d5014 3
d5018 1
a5018 10

Basic Configuration Options:



    # Check whether --enable-largefile was given.
if test "${enable_largefile+set}" = set; then :
  enableval=$enable_largefile;
fi

d5021 4
a5024 4
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for special C compiler options needed for large files" >&5
$as_echo_n "checking for special C compiler options needed for large files... " >&6; }
if ${ac_cv_sys_largefile_CC+:} false; then :
  $as_echo_n "(cached) " >&6
d5030 5
a5034 4
	 # IRIX 6.2 and later do not support large files by default,
	 # so use the C compiler's -n32 option if that helps.
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d5052 12
a5063 1
	 if ac_fn_c_try_compile "$LINENO"; then :
d5065 3
d5069 14
a5082 3
rm -f core conftest.err conftest.$ac_objext
	 CC="$CC -n32"
	 if ac_fn_c_try_compile "$LINENO"; then :
d5084 3
d5088 2
a5089 2
rm -f core conftest.err conftest.$ac_objext
	 break
d5095 2
a5096 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_CC" >&5
$as_echo "$ac_cv_sys_largefile_CC" >&6; }
d5101 4
a5104 4
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for _FILE_OFFSET_BITS value needed for large files" >&5
$as_echo_n "checking for _FILE_OFFSET_BITS value needed for large files... " >&6; }
if ${ac_cv_sys_file_offset_bits+:} false; then :
  $as_echo_n "(cached) " >&6
d5107 4
a5110 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d5128 16
a5143 2
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_sys_file_offset_bits=no; break
d5145 4
a5148 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d5167 12
a5178 1
if ac_fn_c_try_compile "$LINENO"; then :
d5180 3
d5184 1
a5184 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_cv_sys_file_offset_bits=unknown
d5188 5
a5192 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_file_offset_bits" >&5
$as_echo "$ac_cv_sys_file_offset_bits" >&6; }
case $ac_cv_sys_file_offset_bits in #(
  no | unknown) ;;
  *)
cat >>confdefs.h <<_ACEOF
d5194 3
a5196 3
_ACEOF
;;
esac
d5198 4
a5201 5
  if test $ac_cv_sys_file_offset_bits = unknown; then
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for _LARGE_FILES value needed for large files" >&5
$as_echo_n "checking for _LARGE_FILES value needed for large files... " >&6; }
if ${ac_cv_sys_large_files+:} false; then :
  $as_echo_n "(cached) " >&6
d5204 4
a5207 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d5225 16
a5240 2
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_sys_large_files=no; break
d5242 4
a5245 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d5264 12
a5275 1
if ac_fn_c_try_compile "$LINENO"; then :
d5277 3
d5281 1
a5281 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  ac_cv_sys_large_files=unknown
d5285 5
a5289 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_large_files" >&5
$as_echo "$ac_cv_sys_large_files" >&6; }
case $ac_cv_sys_large_files in #(
  no | unknown) ;;
  *)
cat >>confdefs.h <<_ACEOF
d5291 3
a5293 3
_ACEOF
;;
esac
a5294 1
  fi
d5298 4
a5301 4
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for _LARGEFILE_SOURCE value needed for large files" >&5
$as_echo_n "checking for _LARGEFILE_SOURCE value needed for large files... " >&6; }
if ${ac_cv_sys_largefile_source+:} false; then :
  $as_echo_n "(cached) " >&6
d5304 5
a5308 4
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h> /* for off_t */
     #include <stdio.h>
d5312 1
a5312 2
int (*fp) (FILE *, off_t, int) = fseeko;
     return fseeko (stdin, 0, 0) && fp (stdin, 0, 0);
d5317 16
a5332 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_sys_largefile_source=no; break
d5334 4
a5337 4
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d5339 1
a5339 2
#include <sys/types.h> /* for off_t */
     #include <stdio.h>
d5343 1
a5343 2
int (*fp) (FILE *, off_t, int) = fseeko;
     return fseeko (stdin, 0, 0) && fp (stdin, 0, 0);
d5348 12
a5359 1
if ac_fn_c_try_link "$LINENO"; then :
d5361 3
d5365 1
a5365 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
  ac_cv_sys_largefile_source=unknown
d5369 5
a5373 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_source" >&5
$as_echo "$ac_cv_sys_largefile_source" >&6; }
case $ac_cv_sys_largefile_source in #(
  no | unknown) ;;
  *)
cat >>confdefs.h <<_ACEOF
d5375 3
a5377 3
_ACEOF
;;
esac
d5383 40
a5422 1
if test $ac_cv_sys_largefile_source != unknown; then
d5424 3
a5426 1
$as_echo "#define HAVE_FSEEKO 1" >>confdefs.h
a5429 1

d5441 4
a5444 4
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to use struct dirent64" >&5
$as_echo_n "checking whether to use struct dirent64... " >&6; }
if ${cf_cv_struct_dirent64+:} false; then :
  $as_echo_n "(cached) " >&6
d5447 3
a5449 2
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d5468 12
a5479 1
if ac_fn_c_try_compile "$LINENO"; then :
d5482 5
a5486 3
  cf_cv_struct_dirent64=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d5489 6
a5494 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_struct_dirent64" >&5
$as_echo "$cf_cv_struct_dirent64" >&6; }
	test "$cf_cv_struct_dirent64" = yes && $as_echo "#define HAVE_STRUCT_DIRENT64 1" >>confdefs.h
a5497 3



d5501 2
d5505 1
a5505 1
	*)	PATH_SEPARATOR=':'  ;;
d5508 2
a5509 1

d5514 4
a5517 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_MSGINIT+:} false; then :
  $as_echo_n "(cached) " >&6
d5541 2
a5542 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MSGINIT" >&5
$as_echo "$MSGINIT" >&6; }
d5544 2
a5545 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d5551 1
a5551 2
echo "${as_me-configure}:6604: testing adding en.po ..." 1>&5

d5560 4
a5563 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_RANLIB+:} false; then :
  $as_echo_n "(cached) " >&6
d5568 9
a5576 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a5577 2
  done
IFS=$as_save_IFS
d5583 2
a5584 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
$as_echo "$RANLIB" >&6; }
d5586 2
a5587 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a5589 1

d5595 4
a5598 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_ac_ct_RANLIB+:} false; then :
  $as_echo_n "(cached) " >&6
d5603 9
a5611 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_ac_ct_RANLIB="ranlib"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a5612 2
  done
IFS=$as_save_IFS
d5614 1
d5619 2
a5620 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
$as_echo "$ac_ct_RANLIB" >&6; }
d5622 2
a5623 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d5626 1
a5626 11
  if test "x$ac_ct_RANLIB" = x; then
    RANLIB=":"
  else
    case $cross_compiling:$ac_tool_warned in
yes:)
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
$as_echo "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
ac_tool_warned=yes ;;
esac
    RANLIB=$ac_ct_RANLIB
  fi
d5631 4
a5634 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for inline" >&5
$as_echo_n "checking for inline... " >&6; }
if ${ac_cv_c_inline+:} false; then :
  $as_echo_n "(cached) " >&6
d5636 7
a5642 9
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifndef __cplusplus
typedef int foo_t;
static $ac_kw foo_t static_foo () {return 0; }
$ac_kw foo_t foo () {return 0; }
#endif
d5645 22
a5666 2
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_c_inline=$ac_kw
d5668 1
a5668 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
  test "$ac_cv_c_inline" != no && break
done
d5670 6
a5675 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_inline" >&5
$as_echo "$ac_cv_c_inline" >&6; }
a5676 11
case $ac_cv_c_inline in
  inline | yes) ;;
  *)
    case $ac_cv_c_inline in
      no) ac_val=;;
      *) ac_val=$ac_cv_c_inline;;
    esac
    cat >>confdefs.h <<_ACEOF
#ifndef __cplusplus
#define inline $ac_val
#endif
d5678 3
a5680 6
    ;;
esac

ac_fn_c_check_type "$LINENO" "off_t" "ac_cv_type_off_t" "$ac_includes_default"
if test "x$ac_cv_type_off_t" = xyes; then :

d5682 3
a5684 4

cat >>confdefs.h <<_ACEOF
#define off_t long int
_ACEOF
d5688 6
a5693 2
ac_fn_c_check_type "$LINENO" "size_t" "ac_cv_type_size_t" "$ac_includes_default"
if test "x$ac_cv_type_size_t" = xyes; then :
d5695 4
d5700 269
a5968 4

cat >>confdefs.h <<_ACEOF
#define size_t unsigned int
_ACEOF
d5974 4
a5977 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for working alloca.h" >&5
$as_echo_n "checking for working alloca.h... " >&6; }
if ${ac_cv_working_alloca_h+:} false; then :
  $as_echo_n "(cached) " >&6
d5979 3
a5981 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a5986 1
			  if (p) return 0;
d5991 12
a6002 1
if ac_fn_c_try_link "$LINENO"; then :
d6005 3
a6007 1
  ac_cv_working_alloca_h=no
d6009 1
a6009 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d6011 2
a6012 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_working_alloca_h" >&5
$as_echo "$ac_cv_working_alloca_h" >&6; }
d6015 3
a6017 1
$as_echo "#define HAVE_ALLOCA_H 1" >>confdefs.h
d6021 4
a6024 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for alloca" >&5
$as_echo_n "checking for alloca... " >&6; }
if ${ac_cv_func_alloca_works+:} false; then :
  $as_echo_n "(cached) " >&6
d6026 3
a6028 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d6036 1
a6036 1
#  ifdef HAVE_ALLOCA_H
d6043 1
a6043 1
void *alloca (size_t);
a6053 1
				    if (p) return 0;
d6058 12
a6069 1
if ac_fn_c_try_link "$LINENO"; then :
d6072 3
a6074 1
  ac_cv_func_alloca_works=no
d6076 1
a6076 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d6078 2
a6079 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_alloca_works" >&5
$as_echo "$ac_cv_func_alloca_works" >&6; }
d6083 3
a6085 1
$as_echo "#define HAVE_ALLOCA 1" >>confdefs.h
d6093 1
a6093 3
ALLOCA=\${LIBOBJDIR}alloca.$ac_objext

$as_echo "#define C_ALLOCA 1" >>confdefs.h
d6095 3
d6099 4
a6102 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether \`alloca.c' needs Cray hooks" >&5
$as_echo_n "checking whether \`alloca.c' needs Cray hooks... " >&6; }
if ${ac_cv_os_cray+:} false; then :
  $as_echo_n "(cached) " >&6
d6104 4
a6107 3
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if defined CRAY && ! defined CRAY2
d6115 1
a6115 1
  $EGREP "webecray" >/dev/null 2>&1; then :
d6120 1
a6120 1
rm -f conftest*
d6123 2
a6124 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_os_cray" >&5
$as_echo "$ac_cv_os_cray" >&6; }
d6127 60
a6186 3
    as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
d6188 1
a6188 1
cat >>confdefs.h <<_ACEOF
d6190 1
a6190 1
_ACEOF
d6198 4
a6201 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking stack direction for C alloca" >&5
$as_echo_n "checking stack direction for C alloca... " >&6; }
if ${ac_cv_c_stack_direction+:} false; then :
  $as_echo_n "(cached) " >&6
d6203 1
a6203 1
  if test "$cross_compiling" = yes; then :
d6206 3
a6208 3
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_includes_default
d6226 1
a6226 1
  return find_stack_direction () < 0;
d6229 11
a6239 1
if ac_fn_c_try_run "$LINENO"; then :
d6242 4
a6245 1
  ac_cv_c_stack_direction=-1
d6247 1
a6247 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
d6249 3
d6253 1
a6253 4
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_stack_direction" >&5
$as_echo "$ac_cv_c_stack_direction" >&6; }
cat >>confdefs.h <<_ACEOF
d6255 1
a6255 2
_ACEOF

d6259 12
a6270 11



  for ac_header in $ac_header_list
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default
"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
d6272 31
a6304 1

d6307 22
d6330 11
d6342 3
a6344 11





for ac_func in getpagesize
do :
  ac_fn_c_check_func "$LINENO" "getpagesize" "ac_cv_func_getpagesize"
if test "x$ac_cv_func_getpagesize" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_GETPAGESIZE 1
d6346 26
d6376 4
a6379 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for working mmap" >&5
$as_echo_n "checking for working mmap... " >&6; }
if ${ac_cv_func_mmap_fixed_mapped+:} false; then :
  $as_echo_n "(cached) " >&6
d6381 1
a6381 1
  if test "$cross_compiling" = yes; then :
d6384 3
a6386 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a6387 3
/* malloc might have been renamed as rpl_malloc. */
#undef malloc

d6403 1
a6403 1
   propagated back to all the places they're supposed to be.
d6413 1
a6413 1
#if !defined STDC_HEADERS && !defined HAVE_STDLIB_H
d6418 6
a6423 1
#ifndef HAVE_GETPAGESIZE
d6427 1
a6427 1
#  ifdef HAVE_SYS_PARAM_H
a6457 1
  const char *cdata2;
d6459 1
a6459 1
  int fd, fd2;
d6466 1
a6466 1
    return 1;
d6472 1
a6472 1
    return 2;
d6474 1
a6474 1
    return 3;
a6476 18
  /* Next, check that the tail of a page is zero-filled.  File must have
     non-zero length, otherwise we risk SIGBUS for entire page.  */
  fd2 = open ("conftest.txt", O_RDWR | O_CREAT | O_TRUNC, 0600);
  if (fd2 < 0)
    return 4;
  cdata2 = "";
  if (write (fd2, cdata2, 1) != 1)
    return 5;
  data2 = (char *) mmap (0, pagesize, PROT_READ | PROT_WRITE, MAP_SHARED, fd2, 0L);
  if (data2 == MAP_FAILED)
    return 6;
  for (i = 0; i < pagesize; ++i)
    if (*(data2 + i))
      return 7;
  close (fd2);
  if (munmap (data2, pagesize))
    return 8;

d6482 5
a6486 1
    return 9;
d6488 2
a6489 2
		     MAP_PRIVATE | MAP_FIXED, fd, 0L))
    return 10;
d6492 1
a6492 1
      return 11;
d6501 1
a6501 1
    return 12;
d6503 1
a6503 1
    return 13;
d6506 1
a6506 1
      return 14;
d6508 1
a6508 1
  return 0;
d6511 11
a6521 1
if ac_fn_c_try_run "$LINENO"; then :
d6524 4
a6527 1
  ac_cv_func_mmap_fixed_mapped=no
d6529 1
a6529 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
a6530 1

d6532 2
a6533 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_mmap_fixed_mapped" >&5
$as_echo "$ac_cv_func_mmap_fixed_mapped" >&6; }
d6536 3
a6538 1
$as_echo "#define HAVE_MMAP 1" >>confdefs.h
d6541 1
a6541 1
rm -f conftest.mmap conftest.txt
d6543 4
a6546 5

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C Library 2.1 or newer" >&5
$as_echo_n "checking whether we are using the GNU C Library 2.1 or newer... " >&6; }
if ${ac_cv_gnu_library_2_1+:} false; then :
  $as_echo_n "(cached) " >&6
d6548 3
a6550 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d6561 1
a6561 1
  $EGREP "Lucky GNU user" >/dev/null 2>&1; then :
d6566 1
a6566 3
rm -f conftest*


d6569 2
a6570 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_gnu_library_2_1" >&5
$as_echo "$ac_cv_gnu_library_2_1" >&6; }
a6573 2


d6579 1
a6579 1
: ${CONFIG_H=config.h}
d6581 5
d6595 1
a6595 3


   for ac_header in argz.h limits.h locale.h nl_types.h malloc.h stddef.h \
d6597 11
a6607 6
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
d6609 15
a6623 1

d6625 15
d6641 1
d6644 1
a6644 1
   for ac_func in feof_unlocked fgets_unlocked getcwd getegid geteuid \
d6647 37
a6683 6
do :
  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
d6685 26
d6715 3
a6717 7




# Check whether --with-libiconv-prefix was given.
if test "${with_libiconv_prefix+set}" = set; then :
  withval=$with_libiconv_prefix;
a6725 1

d6752 3
a6754 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d6764 13
a6776 2
if ac_fn_c_try_compile "$LINENO"; then :

d6778 3
a6780 1
  cf_have_incdir=yes
d6782 1
a6782 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d6791 1
a6791 2
echo "${as_me-configure}:7305: testing adding $cf_add_incdir to include-path ..." 1>&5

d6831 3
a6833 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d6843 13
a6855 2
if ac_fn_c_try_compile "$LINENO"; then :

d6857 3
a6859 1
  cf_have_incdir=yes
d6861 1
a6861 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d6870 1
a6870 2
echo "${as_me-configure}:7371: testing adding $cf_add_incdir to include-path ..." 1>&5

d6886 3
a6888 1
as_fn_error $? "cannot find libiconv under $withval" "$LINENO" 5
d6911 1
a6911 2
echo "${as_me-configure}:7411: testing adding $cf_add_libdir to library-path ..." 1>&5

d6940 1
a6940 2
echo "${as_me-configure}:7441: testing adding $cf_add_libdir to library-path ..." 1>&5

d6949 3
a6951 1
as_fn_error $? "cannot find libiconv under $withval" "$LINENO" 5
d6958 1
d6960 4
a6963 7
fi


  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for iconv" >&5
$as_echo_n "checking for iconv... " >&6; }
if ${am_cv_func_iconv+:} false; then :
  $as_echo_n "(cached) " >&6
a6965 2


d6971 1
d6973 1
a6973 1
echo "${as_me-configure}:7476: testing Starting FIND_LINKAGE(iconv,) ..." 1>&5
d6975 3
a6977 3

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d6994 17
a7010 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_iconv=yes
d7012 15
d7028 20
a7047 1
    cf_cv_find_linkage_iconv=no
d7049 4
a7052 1
    test -n "$verbose" && echo "	find linkage for iconv library" 1>&6
d7054 3
a7056 1
echo "${as_me-configure}:7505: testing find linkage for iconv library ..." 1>&5
d7058 2
d7061 1
d7063 1
a7063 1
echo "${as_me-configure}:7509: testing Searching for headers in FIND_LINKAGE(iconv,) ..." 1>&5
d7065 1
d7070 1
d7072 1
d7081 1
a7081 1
test "$cf_header_path" != "NONE" && \
d7098 1
a7098 1
cf_search=""
d7100 1
d7102 1
a7102 1
test "/usr" != "$prefix" && \
d7104 1
a7104 1
(test $prefix = NONE || test -d $prefix) && {
d7113 1
a7113 2

test "$prefix" != "NONE" && \
d7124 1
a7124 2

test "/usr/local" != "$prefix" && \
d7126 1
a7126 1
(test $prefix = NONE || test -d $prefix) && {
d7135 1
a7135 2

test "/opt" != "$prefix" && \
d7137 1
a7137 1
(test $prefix = NONE || test -d $prefix) && {
d7146 1
a7146 2

test "$HOME" != "$prefix" && \
d7148 1
a7148 1
(test $prefix = NONE || test -d $prefix) && {
a7156 2


d7171 1
a7171 1
cf_search="$cf_header_path_list $cf_search"
d7178 1
a7178 2
echo "${as_me-configure}:7626: testing ... testing $cf_cv_header_path_iconv ..." 1>&5

d7181 3
a7183 2
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7200 12
a7211 1
if ac_fn_c_try_compile "$LINENO"; then :
d7215 1
a7215 2
echo "${as_me-configure}:7652: testing ... found iconv headers in $cf_cv_header_path_iconv ..." 1>&5

d7221 2
d7227 1
a7227 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d7233 1
a7233 3

echo "${as_me-configure}:7670: testing Searching for iconv library in FIND_LINKAGE(iconv,) ..." 1>&5

a7237 2


d7240 1
d7249 1
a7249 1
test "$cf_library_path" != "NONE" && \
d7266 1
a7266 1
cf_search=""
d7268 1
a7268 2

test "/usr" != "$prefix" && \
d7270 1
a7270 1
(test $prefix = NONE || test -d $prefix) && {
d7279 1
a7279 2

test "$prefix" != "NONE" && \
d7290 1
a7290 2

test "/usr/local" != "$prefix" && \
d7292 1
a7292 1
(test $prefix = NONE || test -d $prefix) && {
d7301 1
a7301 2

test "/opt" != "$prefix" && \
d7303 1
a7303 1
(test $prefix = NONE || test -d $prefix) && {
d7312 1
a7312 2

test "$HOME" != "$prefix" && \
d7314 1
a7314 1
(test $prefix = NONE || test -d $prefix) && {
a7322 2


d7330 1
a7330 2
echo "${as_me-configure}:7776: testing ... testing $cf_cv_library_path_iconv ..." 1>&5

d7335 3
a7337 2
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7354 12
a7365 1
if ac_fn_c_try_link "$LINENO"; then :
d7369 1
a7369 2
echo "${as_me-configure}:7804: testing ... found iconv library in $cf_cv_library_path_iconv ..." 1>&5

d7375 2
d7383 1
a7383 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a7385 1
        LIBS="$cf_save_LIBS"
d7395 6
a7400 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d7409 2
a7410 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv" >&5
$as_echo "$am_cv_func_iconv" >&6; }
d7414 3
a7416 1
$as_echo "#define HAVE_ICONV 1" >>confdefs.h
d7418 4
a7421 5

    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if the declaration of iconv() needs const." >&5
$as_echo_n "checking if the declaration of iconv() needs const.... " >&6; }
if ${am_cv_proto_iconv_const+:} false; then :
  $as_echo_n "(cached) " >&6
d7424 3
a7426 2
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7449 12
a7460 1
if ac_fn_c_try_compile "$LINENO"; then :
d7463 3
a7465 1
  am_cv_proto_iconv_const=yes
d7467 1
a7467 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d7469 2
a7470 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_proto_iconv_const" >&5
$as_echo "$am_cv_proto_iconv_const" >&6; }
d7478 1
a7478 2

cat >>confdefs.h <<_ACEOF
d7480 1
a7480 1
_ACEOF
d7510 3
a7512 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7522 13
a7534 2
if ac_fn_c_try_compile "$LINENO"; then :

d7536 3
a7538 1
  cf_have_incdir=yes
d7540 1
a7540 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d7549 1
a7549 2
echo "${as_me-configure}:7953: testing adding $cf_add_incdir to include-path ..." 1>&5

d7586 1
a7586 2
echo "${as_me-configure}:7991: testing adding $cf_add_libdir to library-path ..." 1>&5

d7597 4
a7600 7



  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for nl_langinfo and CODESET" >&5
$as_echo_n "checking for nl_langinfo and CODESET... " >&6; }
if ${am_cv_langinfo_codeset+:} false; then :
  $as_echo_n "(cached) " >&6
d7602 3
a7604 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7614 12
a7625 1
if ac_fn_c_try_link "$LINENO"; then :
d7628 3
a7630 1
  am_cv_langinfo_codeset=no
d7632 1
a7632 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d7635 2
a7636 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_langinfo_codeset" >&5
$as_echo "$am_cv_langinfo_codeset" >&6; }
d7639 3
a7641 1
$as_echo "#define HAVE_LANGINFO_CODESET 1" >>confdefs.h
d7646 4
a7649 4
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for LC_MESSAGES" >&5
$as_echo_n "checking for LC_MESSAGES... " >&6; }
if ${am_cv_val_LC_MESSAGES+:} false; then :
  $as_echo_n "(cached) " >&6
d7651 3
a7653 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7663 12
a7674 1
if ac_fn_c_try_link "$LINENO"; then :
d7677 3
a7679 1
  am_cv_val_LC_MESSAGES=no
d7681 1
a7681 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d7683 2
a7684 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_val_LC_MESSAGES" >&5
$as_echo "$am_cv_val_LC_MESSAGES" >&6; }
d7687 3
a7689 1
$as_echo "#define HAVE_LC_MESSAGES 1" >>confdefs.h
d7693 2
a7694 2
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether NLS is requested" >&5
$as_echo_n "checking whether NLS is requested... " >&6; }
d7696 4
a7699 3
  # Check whether --enable-nls was given.
if test "${enable_nls+set}" = set; then :
  enableval=$enable_nls; USE_NLS=$enableval
d7702 3
a7704 5
fi

  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $USE_NLS" >&5
$as_echo "$USE_NLS" >&6; }

d7712 3
a7714 1
$as_echo "#define ENABLE_NLS 1" >>confdefs.h
d7716 2
a7717 2
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether included gettext is requested" >&5
$as_echo_n "checking whether included gettext is requested... " >&6; }
d7719 4
a7722 3
# Check whether --with-included-gettext was given.
if test "${with_included_gettext+set}" = set; then :
  withval=$with_included_gettext; nls_cv_force_use_gnu_gettext=$withval
d7725 3
a7727 4
fi

    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $nls_cv_force_use_gnu_gettext" >&5
$as_echo "$nls_cv_force_use_gnu_gettext" >&6; }
d7735 4
a7738 4
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libintl.h and gettext()" >&5
$as_echo_n "checking for libintl.h and gettext()... " >&6; }
if ${cf_cv_func_gettext+:} false; then :
  $as_echo_n "(cached) " >&6
a7740 2


d7746 1
d7748 1
a7748 1
echo "${as_me-configure}:8127: testing Starting FIND_LINKAGE(intl,) ..." 1>&5
d7750 3
a7752 3

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7770 17
a7786 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_intl=yes
d7788 20
d7809 16
a7824 1
    cf_cv_find_linkage_intl=no
d7826 4
a7829 1
    test -n "$verbose" && echo "	find linkage for intl library" 1>&6
d7831 3
a7833 1
echo "${as_me-configure}:8157: testing find linkage for intl library ..." 1>&5
d7835 2
d7838 1
d7840 1
a7840 1
echo "${as_me-configure}:8161: testing Searching for headers in FIND_LINKAGE(intl,) ..." 1>&5
d7842 1
d7847 1
d7849 1
d7858 1
a7858 1
test "$cf_header_path" != "NONE" && \
d7875 1
a7875 1
cf_search=""
d7877 1
d7879 1
a7879 1
test "/usr" != "$prefix" && \
d7881 1
a7881 1
(test $prefix = NONE || test -d $prefix) && {
d7890 1
a7890 2

test "$prefix" != "NONE" && \
d7901 1
a7901 2

test "/usr/local" != "$prefix" && \
d7903 1
a7903 1
(test $prefix = NONE || test -d $prefix) && {
d7912 1
a7912 2

test "/opt" != "$prefix" && \
d7914 1
a7914 1
(test $prefix = NONE || test -d $prefix) && {
d7923 1
a7923 2

test "$HOME" != "$prefix" && \
d7925 1
a7925 1
(test $prefix = NONE || test -d $prefix) && {
a7933 2


d7948 1
a7948 1
cf_search="$cf_header_path_list $cf_search"
d7955 1
a7955 2
echo "${as_me-configure}:8278: testing ... testing $cf_cv_header_path_intl ..." 1>&5

d7958 3
a7960 2
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d7978 12
a7989 1
if ac_fn_c_try_compile "$LINENO"; then :
d7993 1
a7993 2
echo "${as_me-configure}:8305: testing ... found intl headers in $cf_cv_header_path_intl ..." 1>&5

d7999 2
d8005 1
a8005 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d8011 1
a8011 3

echo "${as_me-configure}:8323: testing Searching for intl library in FIND_LINKAGE(intl,) ..." 1>&5

a8015 2


d8018 1
d8027 1
a8027 1
test "$cf_library_path" != "NONE" && \
d8044 1
a8044 1
cf_search=""
d8046 1
a8046 2

test "/usr" != "$prefix" && \
d8048 1
a8048 1
(test $prefix = NONE || test -d $prefix) && {
d8057 1
a8057 2

test "$prefix" != "NONE" && \
d8068 1
a8068 2

test "/usr/local" != "$prefix" && \
d8070 1
a8070 1
(test $prefix = NONE || test -d $prefix) && {
d8079 1
a8079 2

test "/opt" != "$prefix" && \
d8081 1
a8081 1
(test $prefix = NONE || test -d $prefix) && {
d8090 1
a8090 2

test "$HOME" != "$prefix" && \
d8092 1
a8092 1
(test $prefix = NONE || test -d $prefix) && {
a8100 2


d8108 1
a8108 2
echo "${as_me-configure}:8429: testing ... testing $cf_cv_library_path_intl ..." 1>&5

d8113 3
a8115 2
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d8133 12
a8144 1
if ac_fn_c_try_link "$LINENO"; then :
d8148 1
a8148 2
echo "${as_me-configure}:8458: testing ... found intl library in $cf_cv_library_path_intl ..." 1>&5

d8154 2
d8162 1
a8162 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a8164 1
        LIBS="$cf_save_LIBS"
d8174 6
a8179 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a8186 1

d8188 2
a8189 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_func_gettext" >&5
$as_echo "$cf_cv_func_gettext" >&6; }
a8192 1
        $as_echo "#define HAVE_LIBINTL_H 1" >>confdefs.h
d8194 3
d8200 3
a8202 3
$as_echo "#define HAVE_GETTEXT 1" >>confdefs.h


d8227 3
a8229 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d8239 13
a8251 2
if ac_fn_c_try_compile "$LINENO"; then :

d8253 3
a8255 1
  cf_have_incdir=yes
d8257 1
a8257 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d8266 1
a8266 2
echo "${as_me-configure}:8558: testing adding $cf_add_incdir to include-path ..." 1>&5

a8280 1

d8303 1
a8303 2
echo "${as_me-configure}:8597: testing adding $cf_add_libdir to library-path ..." 1>&5

a8314 7
          for ac_func in dcgettext
do :
  ac_fn_c_check_func "$LINENO" "dcgettext" "ac_cv_func_dcgettext"
if test "x$ac_cv_func_dcgettext" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_DCGETTEXT 1
_ACEOF
d8316 22
a8337 2
fi
done
d8339 47
a8385 1
          LIBS="$gt_save_LIBS"
d8390 4
a8393 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_MSGFMT+:} false; then :
  $as_echo_n "(cached) " >&6
d8417 2
a8418 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MSGFMT" >&5
$as_echo "$MSGFMT" >&6; }
d8420 2
a8421 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d8426 4
a8429 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_GMSGFMT+:} false; then :
  $as_echo_n "(cached) " >&6
d8436 10
a8445 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_GMSGFMT="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a8446 2
  done
IFS=$as_save_IFS
d8453 1
d8455 2
a8456 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GMSGFMT" >&5
$as_echo "$GMSGFMT" >&6; }
d8458 2
a8459 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a8461 2


d8465 4
a8468 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_XGETTEXT+:} false; then :
  $as_echo_n "(cached) " >&6
d8492 2
a8493 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $XGETTEXT" >&5
$as_echo "$XGETTEXT" >&6; }
d8495 2
a8496 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a8498 1

d8510 3
a8512 1
        as_fn_error $? "no NLS library is packaged with this application" "$LINENO" 5
d8518 4
a8521 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_MSGFMT+:} false; then :
  $as_echo_n "(cached) " >&6
d8545 2
a8546 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MSGFMT" >&5
$as_echo "$MSGFMT" >&6; }
d8548 2
a8549 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d8554 4
a8557 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_GMSGFMT+:} false; then :
  $as_echo_n "(cached) " >&6
d8564 10
a8573 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_GMSGFMT="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a8574 2
  done
IFS=$as_save_IFS
d8581 1
d8583 2
a8584 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GMSGFMT" >&5
$as_echo "$GMSGFMT" >&6; }
d8586 2
a8587 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a8589 1

d8593 4
a8596 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_XGETTEXT+:} false; then :
  $as_echo_n "(cached) " >&6
d8620 2
a8621 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $XGETTEXT" >&5
$as_echo "$XGETTEXT" >&6; }
d8623 2
a8624 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a8626 1

d8638 2
a8639 2
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: found msgfmt program is not GNU msgfmt; ignore it" >&5
$as_echo "found msgfmt program is not GNU msgfmt; ignore it" >&6; }
d8648 2
a8649 2
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: found xgettext program is not GNU xgettext; ignore it" >&5
$as_echo "found xgettext program is not GNU xgettext; ignore it" >&6; }
a8658 1

d8668 4
a8671 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_prog_INTLBISON+:} false; then :
  $as_echo_n "(cached) " >&6
d8676 9
a8684 11
as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_prog_INTLBISON="$ac_prog"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a8685 2
  done
IFS=$as_save_IFS
d8691 2
a8692 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $INTLBISON" >&5
$as_echo "$INTLBISON" >&6; }
d8694 2
a8695 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
a8697 1

d8704 2
a8705 2
            { $as_echo "$as_me:${as_lineno-$LINENO}: checking version of bison" >&5
$as_echo_n "checking version of bison... " >&6; }
d8713 2
a8714 2
    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_prog_version" >&5
$as_echo "$ac_prog_version" >&6; }
a8725 10










a8730 1

a8732 1

a8734 2


d8739 2
a8740 2
       { $as_echo "$as_me:${as_lineno-$LINENO}: checking for catalogs to be installed" >&5
$as_echo_n "checking for catalogs to be installed... " >&6; }
d8759 2
a8760 2
       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $LINGUAS" >&5
$as_echo "$LINGUAS" >&6; }
d8768 1
a8768 12
                  MKINSTALLDIRS=
   if test -n "$ac_aux_dir"; then
     MKINSTALLDIRS="$ac_aux_dir/mkdirs.sh"
   fi
   if test -z "$MKINSTALLDIRS"; then
     MKINSTALLDIRS="\$(top_srcdir)/mkdirs.sh"
   fi
   if test -n "$GNUSYSTEM_AUX_DIR" ; then
     if test -e "${GNUSYSTEM_AUX_DIR}/mkinstalldirs"; then
       MKINSTALLDIRS="${GNUSYSTEM_AUX_DIR}/mkinstalldirs"
     fi
   fi
d8770 1
d8772 7
a8778 1
      INTL_LIBTOOL_SUFFIX_PREFIX=
d8780 3
d8784 1
a8789 1

d8795 7
a8801 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we should use included message-library" >&5
$as_echo_n "checking if we should use included message-library... " >&6; }
	# Check whether --enable-included-msgs was given.
if test "${enable_included_msgs+set}" = set; then :
  enableval=$enable_included_msgs; use_our_messages=$enableval
d8804 1
d8806 2
a8807 4

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_our_messages" >&5
$as_echo "$use_our_messages" >&6; }
a8816 4




d8826 4
a8829 1
		$as_echo "#define HAVE_LIBGETTEXT_H 1" >>confdefs.h
d8844 13
a8856 6
		for ac_header in libintl.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "libintl.h" "ac_cv_header_libintl_h" "$ac_includes_default"
if test "x$ac_cv_header_libintl_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_LIBINTL_H 1
d8858 31
a8890 1

a8907 6






d8910 4
a8913 1
		$as_echo "#define HAVE_GETTEXT 1" >>confdefs.h
d8916 4
a8919 1
		$as_echo "#define HAVE_GETTEXT 1" >>confdefs.h
d8923 4
a8926 1
		$as_echo "#define HAVE_LIBINTL_H 1" >>confdefs.h
a8930 1

d8936 3
a8939 5


# Check whether --with-nls-datadir was given.
if test "${with_nls_datadir+set}" = set; then :
  withval=$with_nls_datadir;
d8941 2
a8942 3
  withval="${NLS_DATADIR-$prefix/$DATADIRNAME}"
fi
if test -n "$prefix/$DATADIRNAME" ; then
d8957 1
a8957 1
.\${*prefix}*) #(vi
d8969 3
a8971 1
  as_fn_error $? "expected a pathname, not \"$withval\"" "$LINENO" 5
d8976 1
a8976 1
NLS_DATADIR="$withval"
d8978 2
d8981 4
a8984 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want full utility pathnames" >&5
$as_echo_n "checking if you want full utility pathnames... " >&6; }
# Check whether --enable-full-paths was given.
if test "${enable_full_paths+set}" = set; then :
  enableval=$enable_full_paths; test "$enableval" != no && enableval=yes
d8994 7
a9000 1
fi
d9002 4
a9005 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $with_full_paths" >&5
$as_echo "$with_full_paths" >&6; }
test $with_full_paths = no && $as_echo "#define USE_EXECVP 1" >>confdefs.h



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for system mailer" >&5
$as_echo_n "checking for system mailer... " >&6; }
if ${cf_cv_SYSTEM_MAIL+:} false; then :
  $as_echo_n "(cached) " >&6
d9022 4
a9025 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_SYSTEM_MAIL" >&5
$as_echo "$cf_cv_SYSTEM_MAIL" >&6; }
cat >>confdefs.h <<_ACEOF
d9027 1
a9027 3
_ACEOF


d9029 4
a9032 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking system mail flags" >&5
$as_echo_n "checking system mail flags... " >&6; }
if ${cf_cv_system_mail_flags+:} false; then :
  $as_echo_n "(cached) " >&6
d9045 4
a9048 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_system_mail_flags" >&5
$as_echo "$cf_cv_system_mail_flags" >&6; }
cat >>confdefs.h <<_ACEOF
d9050 1
a9050 2
_ACEOF

d9058 1
a9058 46

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if $CC -U and -D options work together" >&5
$as_echo_n "checking if $CC -U and -D options work together... " >&6; }
if ${cf_cv_cc_u_d_options+:} false; then :
  $as_echo_n "(cached) " >&6
else

	cf_save_CPPFLAGS="$CPPFLAGS"
	CPPFLAGS="-UU_D_OPTIONS -DU_D_OPTIONS -DD_U_OPTIONS -UD_U_OPTIONS"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

int
main ()
{

#ifndef U_D_OPTIONS
make an undefined-error
#endif
#ifdef  D_U_OPTIONS
make a defined-error
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

	cf_cv_cc_u_d_options=yes
else

	cf_cv_cc_u_d_options=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save_CPPFLAGS"

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_cc_u_d_options" >&5
$as_echo "$cf_cv_cc_u_d_options" >&6; }





cf_XOPEN_SOURCE=600
d9060 1
d9063 12
a9074 2
aix[456]*) #(vi
	CPPFLAGS="$CPPFLAGS -D_ALL_SOURCE"
d9082 4
a9085 1
	CPPFLAGS="$CPPFLAGS -D_BSD_TYPES -D__BSD_VISIBLE -D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE"
d9088 1
a9088 1
	CPPFLAGS="$CPPFLAGS -D_HPUX_SOURCE"
d9091 2
a9092 1
	CPPFLAGS="$CPPFLAGS -D_SGI_SOURCE"
d9096 4
a9099 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we must define _GNU_SOURCE" >&5
$as_echo_n "checking if we must define _GNU_SOURCE... " >&6; }
if ${cf_cv_gnu_source+:} false; then :
  $as_echo_n "(cached) " >&6
d9102 3
a9104 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d9117 12
a9128 1
if ac_fn_c_try_compile "$LINENO"; then :
d9131 3
a9133 1
  cf_save="$CPPFLAGS"
d9135 3
a9137 2
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d9150 12
a9161 1
if ac_fn_c_try_compile "$LINENO"; then :
d9164 3
a9166 1
  cf_cv_gnu_source=yes
d9168 1
a9168 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d9172 1
a9172 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d9175 2
a9176 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_gnu_source" >&5
$as_echo "$cf_cv_gnu_source" >&6; }
d9181 2
a9182 91
	# setting _XOPEN_SOURCE or _POSIX_SOURCE breaks <arpa/inet.h>
	;;
netbsd*) #(vi
	# setting _XOPEN_SOURCE breaks IPv6 for lynx on NetBSD 1.6, breaks xterm, is not needed for ncursesw
	;;
openbsd*) #(vi
	# setting _XOPEN_SOURCE breaks xterm on OpenBSD 2.8, is not needed for ncursesw
	;;
osf[45]*) #(vi
	CPPFLAGS="$CPPFLAGS -D_OSF_SOURCE"
	;;
nto-qnx*) #(vi
	CPPFLAGS="$CPPFLAGS -D_QNX_SOURCE"
	;;
sco*) #(vi
	# setting _XOPEN_SOURCE breaks Lynx on SCO Unix / OpenServer
	;;
solaris*) #(vi
	CPPFLAGS="$CPPFLAGS -D__EXTENSIONS__"
	;;
*)
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we should define _XOPEN_SOURCE" >&5
$as_echo_n "checking if we should define _XOPEN_SOURCE... " >&6; }
if ${cf_cv_xopen_source+:} false; then :
  $as_echo_n "(cached) " >&6
else

	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
int
main ()
{

#ifndef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_xopen_source=no
else
  cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE"
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
int
main ()
{

#ifdef _XOPEN_SOURCE
make an error
#endif
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_xopen_source=no
else
  cf_cv_xopen_source=$cf_XOPEN_SOURCE
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save"

fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_xopen_source" >&5
$as_echo "$cf_cv_xopen_source" >&6; }
	if test "$cf_cv_xopen_source" != no ; then

# remove _XOPEN_SOURCE symbol from $CFLAGS
CFLAGS=`echo "$CFLAGS" | \
	sed	-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?$//g'`


# remove _XOPEN_SOURCE symbol from $CPPFLAGS
CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?$//g'`

		test "$cf_cv_cc_u_d_options" = yes && \
			CPPFLAGS="$CPPFLAGS -U_XOPEN_SOURCE"
		CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=$cf_cv_xopen_source"
	fi
a9188 2

# remove _POSIX_C_SOURCE symbol from $cf_save_CFLAGS
d9190 2
a9191 2
	sed	-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?$//g'`
a9192 2

# remove _POSIX_C_SOURCE symbol from $cf_save_CPPFLAGS
d9194 2
a9195 3
	sed	-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?$//g'`

d9197 4
a9200 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we should define _POSIX_C_SOURCE" >&5
$as_echo_n "checking if we should define _POSIX_C_SOURCE... " >&6; }
if ${cf_cv_posix_c_source+:} false; then :
  $as_echo_n "(cached) " >&6
d9203 1
d9205 3
a9207 4
echo "${as_me-configure}:9526: testing if the symbol is already defined go no further ..." 1>&5

	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d9220 12
a9231 1
if ac_fn_c_try_compile "$LINENO"; then :
d9234 3
a9236 1
  cf_want_posix_source=no
d9250 3
a9252 2
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d9265 13
a9277 2
if ac_fn_c_try_compile "$LINENO"; then :

d9279 3
a9281 1
  cf_cv_posix_c_source="$cf_cv_posix_c_source -D_POSIX_SOURCE"
d9283 1
a9283 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d9286 1
a9286 1
echo "${as_me-configure}:9581: testing ifdef from value $cf_POSIX_C_SOURCE ..." 1>&5
d9291 1
a9291 1
echo "${as_me-configure}:9586: testing if the second compile does not leave our definition intact error ..." 1>&5
d9293 3
a9295 2
	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d9308 13
a9320 2
if ac_fn_c_try_compile "$LINENO"; then :

d9322 3
a9324 1
  cf_cv_posix_c_source=no
d9326 1
a9326 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d9331 1
a9331 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d9334 2
a9335 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_posix_c_source" >&5
$as_echo "$cf_cv_posix_c_source" >&6; }
a9339 7
	if test "$cf_cv_cc_u_d_options" = yes ; then
		cf_temp_posix_c_source=`echo "$cf_cv_posix_c_source" | \
				sed -e 's/-D/-U/g' -e 's/=[^ 	]*//g'`
		CPPFLAGS="$CPPFLAGS $cf_temp_posix_c_source"
	fi
	CPPFLAGS="$CPPFLAGS $cf_cv_posix_c_source"
fi
d9341 4
d9346 9
a9354 2
	;;
esac
d9356 57
d9414 4
a9417 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if SIGWINCH is defined" >&5
$as_echo_n "checking if SIGWINCH is defined... " >&6; }
if ${cf_cv_define_sigwinch+:} false; then :
  $as_echo_n "(cached) " >&6
else
d9419 1
a9419 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d9421 25
a9445 2
#include <sys/types.h>
#include <sys/signal.h>
d9447 4
a9450 10
int
main ()
{
int x = SIGWINCH
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_define_sigwinch=yes
a9451 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d9453 6
a9458 3
#undef _XOPEN_SOURCE
#undef _POSIX_SOURCE
#undef _POSIX_C_SOURCE
a9459 1
#include <sys/signal.h>
d9464 4
a9467 1
int x = SIGWINCH
d9472 13
a9484 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_define_sigwinch=maybe
d9486 7
a9492 3
  cf_cv_define_sigwinch=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d9494 2
a9495 24
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_define_sigwinch" >&5
$as_echo "$cf_cv_define_sigwinch" >&6; }

if test "$cf_cv_define_sigwinch" = maybe ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for actual SIGWINCH definition" >&5
$as_echo_n "checking for actual SIGWINCH definition... " >&6; }
if ${cf_cv_fixup_sigwinch+:} false; then :
  $as_echo_n "(cached) " >&6
else

cf_cv_fixup_sigwinch=unknown
cf_sigwinch=32
while test $cf_sigwinch != 1
do
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#undef _XOPEN_SOURCE
#undef _POSIX_SOURCE
#undef _POSIX_C_SOURCE
a9496 1
#include <sys/signal.h>
d9502 1
a9502 1
#if SIGWINCH != $cf_sigwinch
a9504 1
int x = SIGWINCH
d9509 17
a9525 3
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_fixup_sigwinch=$cf_sigwinch
	 break
d9527 2
a9528 4
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

cf_sigwinch=`expr $cf_sigwinch - 1`
done
d9531 1
a9531 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_fixup_sigwinch" >&5
$as_echo "$cf_cv_fixup_sigwinch" >&6; }
a9532 3
	if test "$cf_cv_fixup_sigwinch" != unknown ; then
		CPPFLAGS="$CPPFLAGS -DSIGWINCH=$cf_cv_fixup_sigwinch"
	fi
d9534 2
d9537 1
d9539 3
a9541 5
if test -n "$TRY_CFLAGS" ; then

test -n "$verbose" && echo "	checking additions to CFLAGS" 1>&6

echo "${as_me-configure}:9743: testing checking additions to CFLAGS ..." 1>&5
d9543 3
d9547 1
a9547 2
cf_check_cflags="$CFLAGS"
cf_check_cppflags="$CPPFLAGS"
d9554 1
a9554 1
for cf_add_cflags in $TRY_CFLAGS
d9565 2
a9566 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d9581 10
d9606 2
a9607 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
a9612 4
	test -n "$verbose" && echo "	add to \$CFLAGS $cf_new_cflags" 1>&6

echo "${as_me-configure}:9805: testing add to \$CFLAGS $cf_new_cflags ..." 1>&5

a9617 1
	test -n "$verbose" && echo "	add to \$CPPFLAGS $cf_new_cppflags" 1>&6
d9619 2
a9620 1
echo "${as_me-configure}:9814: testing add to \$CPPFLAGS $cf_new_cppflags ..." 1>&5
d9622 1
d9624 1
a9624 1
	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
d9627 1
a9627 2
if test -n "$cf_new_extra_cppflags" ; then
	test -n "$verbose" && echo "	add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags" 1>&6
d9629 1
a9629 1
echo "${as_me-configure}:9823: testing add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags ..." 1>&5
d9631 2
d9634 3
a9636 2
	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi
d9638 3
d9642 5
d9648 1
d9650 4
a9653 4
if test "$cf_check_cflags" != "$CFLAGS" ; then
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d9657 4
a9660 1
printf("Hello world");
d9665 37
a9701 1
if ac_fn_c_try_link "$LINENO"; then :
d9703 20
d9724 6
a9729 1
  test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d9731 1
a9731 1
echo "${as_me-configure}:9849: testing test-compile failed.  Undoing change to \$CFLAGS ..." 1>&5
d9733 2
d9736 1
a9736 2
	 if test "$cf_check_cppflags" != "$CPPFLAGS" ; then
		 test -n "$verbose" && echo "	but keeping change to \$CPPFLAGS" 1>&6
d9738 7
a9744 1
echo "${as_me-configure}:9855: testing but keeping change to \$CPPFLAGS ..." 1>&5
d9746 28
a9774 5
	 fi
	 CFLAGS="$cf_check_flags"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d9776 1
d9779 2
d9782 3
d9786 4
a9789 7
### Look for network libraries first, since some functions (such as gethostname)
### are used in a lot of places.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want NSS compatible SSL libraries" >&5
$as_echo_n "checking if you want NSS compatible SSL libraries... " >&6; }
if ${cf_cv_use_libnss_compat+:} false; then :
  $as_echo_n "(cached) " >&6
else
d9791 9
d9801 3
a9803 6
# Check whether --with-nss-compat was given.
if test "${with_nss_compat+set}" = set; then :
  withval=$with_nss_compat; cf_cv_use_libnss_compat=$withval
else
  cf_cv_use_libnss_compat=no
fi
d9805 16
d9822 3
a9824 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_use_libnss_compat" >&5
$as_echo "$cf_cv_use_libnss_compat" >&6; }
d9826 13
a9838 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want ssl library" >&5
$as_echo_n "checking if you want ssl library... " >&6; }
if ${cf_cv_use_libssl+:} false; then :
  $as_echo_n "(cached) " >&6
else
d9840 1
d9842 6
a9847 6
# Check whether --with-ssl was given.
if test "${with_ssl+set}" = set; then :
  withval=$with_ssl; cf_cv_use_libssl=$withval
else
  cf_cv_use_libssl=no
fi
d9849 1
d9851 1
a9852 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_use_libssl" >&5
$as_echo "$cf_cv_use_libssl" >&6; }
d9854 1
a9854 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want gnutls support" >&5
$as_echo_n "checking if you want gnutls support... " >&6; }
if ${cf_cv_use_libgnutls+:} false; then :
  $as_echo_n "(cached) " >&6
else
d9856 1
a9856 6

# Check whether --with-gnutls was given.
if test "${with_gnutls+set}" = set; then :
  withval=$with_gnutls; cf_cv_use_libgnutls=$withval
else
  cf_cv_use_libgnutls=no
d9859 1
d9861 1
a9862 9
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_use_libgnutls" >&5
$as_echo "$cf_cv_use_libgnutls" >&6; }

# this option is mainly for comparing with/without Lynx's wrapper for GNUTLS.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want gnutls-openssl compat" >&5
$as_echo_n "checking if you want gnutls-openssl compat... " >&6; }
if ${cf_cv_gnutls_compat+:} false; then :
  $as_echo_n "(cached) " >&6
else
a9863 5
# Check whether --enable-gnutls-compat was given.
if test "${enable_gnutls_compat+set}" = set; then :
  enableval=$enable_gnutls_compat; cf_cv_gnutls_compat=$withval
else
  cf_cv_gnutls_compat=no
d9866 2
d9869 1
a9869 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_gnutls_compat" >&5
$as_echo "$cf_cv_gnutls_compat" >&6; }
d9871 4
a9874 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want socks library" >&5
$as_echo_n "checking if you want socks library... " >&6; }
if ${cf_cv_use_libsocks+:} false; then :
  $as_echo_n "(cached) " >&6
else
d9876 9
d9886 3
a9888 6
# Check whether --with-socks was given.
if test "${with_socks+set}" = set; then :
  withval=$with_socks; cf_cv_use_libsocks=$withval
else
  cf_cv_use_libsocks=no
fi
d9890 16
d9907 3
a9909 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_use_libsocks" >&5
$as_echo "$cf_cv_use_libsocks" >&6; }
d9911 13
a9923 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want socks5 library" >&5
$as_echo_n "checking if you want socks5 library... " >&6; }
if ${cf_cv_use_libsocks5+:} false; then :
  $as_echo_n "(cached) " >&6
else
d9925 1
d9927 6
a9932 6
# Check whether --with-socks5 was given.
if test "${with_socks5+set}" = set; then :
  withval=$with_socks5; cf_cv_use_libsocks5=$withval
else
  cf_cv_use_libsocks5=no
fi
d9934 1
d9936 1
a9937 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_use_libsocks5" >&5
$as_echo "$cf_cv_use_libsocks5" >&6; }
d9939 1
a9939 1
if test "x$cf_cv_use_libsocks" != xno ; then
d9941 2
d9944 1
a9944 6
  case "$cf_cv_use_libsocks" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)
d9946 2
d9949 1
a9949 2
for cf_searchpath in `echo "$cf_cv_use_libsocks" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then
d9951 10
a9960 16
if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi
d9962 34
a9995 9
		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d9999 4
a10002 1
printf("Hello")
d10007 17
a10023 4
if ac_fn_c_try_compile "$LINENO"; then :

else
  cf_have_incdir=yes
d10025 5
a10029 4
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
d10031 1
d10033 5
a10037 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d10039 3
a10041 1
echo "${as_me-configure}:10046: testing adding $cf_add_incdir to include-path ..." 1>&5
d10043 3
a10046 41
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d10050 4
a10053 1
printf("Hello")
d10058 13
a10070 2
if ac_fn_c_try_compile "$LINENO"; then :

d10072 7
a10078 7
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d10080 3
a10082 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d10084 3
a10086 1
echo "${as_me-configure}:10112: testing adding $cf_add_incdir to include-path ..." 1>&5
d10088 27
d10116 2
a10117 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
a10118 9
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d10120 4
d10125 3
a10127 4
	else
as_fn_error $? "cannot find socks library under $cf_cv_use_libsocks" "$LINENO" 5
	fi
	if test -d $cf_searchpath/lib; then
d10129 3
a10131 18
if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d10133 1
a10133 1
echo "${as_me-configure}:10152: testing adding $cf_add_libdir to library-path ..." 1>&5
d10135 4
d10140 9
a10148 5
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi
d10150 3
a10152 1
	elif test -d $cf_searchpath ; then
d10154 16
a10169 18
if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d10171 3
a10173 1
echo "${as_me-configure}:10182: testing adding $cf_add_libdir to library-path ..." 1>&5
d10175 13
d10189 1
a10189 5
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi
d10191 5
a10195 3
	else
as_fn_error $? "cannot find socks library under $cf_cv_use_libsocks" "$LINENO" 5
	fi
d10198 6
a10203 2
      ;;
  esac
d10205 2
d10208 1
d10210 2
a10211 4
# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_socks=
cf_cv_library_path_socks=
d10213 1
d10215 2
a10216 1
echo "${as_me-configure}:10207: testing Starting FIND_LINKAGE(socks,) ..." 1>&5
d10218 5
d10224 3
a10226 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d10228 2
a10229 1
#include <stdio.h>
d10234 24
d10259 5
a10263 1
      Raccept((char *)0)
d10265 4
d10273 13
a10285 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_socks=yes
d10287 5
d10293 2
a10294 1
    cf_cv_find_linkage_socks=no
d10296 3
a10298 1
    test -n "$verbose" && echo "	find linkage for socks library" 1>&6
d10300 6
a10305 1
echo "${as_me-configure}:10233: testing find linkage for socks library ..." 1>&5
d10307 7
d10315 5
d10321 3
a10323 1
echo "${as_me-configure}:10237: testing Searching for headers in FIND_LINKAGE(socks,) ..." 1>&5
d10325 27
d10353 2
a10354 2
    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"
d10356 3
d10360 3
a10362 23
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "$cf_header_path" != "NONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/socks &&       cf_search="$cf_search $cf_header_path/include/socks"
	test -d $cf_header_path/include/socks/include &&    cf_search="$cf_search $cf_header_path/include/socks/include"
	test -d $cf_header_path/socks/include &&       cf_search="$cf_search $cf_header_path/socks/include"
	test -d $cf_header_path/socks/include/socks &&    cf_search="$cf_search $cf_header_path/socks/include/socks"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
d10365 1
a10365 1
cf_search=""
d10367 1
d10369 1
a10369 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/socks &&       cf_search="$cf_search /usr/include/socks"
	test -d /usr/include/socks/include &&    cf_search="$cf_search /usr/include/socks/include"
	test -d /usr/socks/include &&       cf_search="$cf_search /usr/socks/include"
	test -d /usr/socks/include/socks &&    cf_search="$cf_search /usr/socks/include/socks"
}
d10371 2
d10374 14
a10387 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/socks &&       cf_search="$cf_search $prefix/include/socks"
	test -d $prefix/include/socks/include &&    cf_search="$cf_search $prefix/include/socks/include"
	test -d $prefix/socks/include &&       cf_search="$cf_search $prefix/socks/include"
	test -d $prefix/socks/include/socks &&    cf_search="$cf_search $prefix/socks/include/socks"
}
d10389 3
d10393 16
a10408 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/socks &&       cf_search="$cf_search /usr/local/include/socks"
	test -d /usr/local/include/socks/include &&    cf_search="$cf_search /usr/local/include/socks/include"
	test -d /usr/local/socks/include &&       cf_search="$cf_search /usr/local/socks/include"
	test -d /usr/local/socks/include/socks &&    cf_search="$cf_search /usr/local/socks/include/socks"
}
d10410 3
d10414 13
a10426 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/socks &&       cf_search="$cf_search /opt/include/socks"
	test -d /opt/include/socks/include &&    cf_search="$cf_search /opt/include/socks/include"
	test -d /opt/socks/include &&       cf_search="$cf_search /opt/socks/include"
	test -d /opt/socks/include/socks &&    cf_search="$cf_search /opt/socks/include/socks"
}
d10428 1
d10430 6
a10435 10
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/socks &&       cf_search="$cf_search $HOME/include/socks"
	test -d $HOME/include/socks/include &&    cf_search="$cf_search $HOME/include/socks/include"
	test -d $HOME/socks/include &&       cf_search="$cf_search $HOME/socks/include"
	test -d $HOME/socks/include/socks &&    cf_search="$cf_search $HOME/socks/include/socks"
}
d10437 2
d10440 1
d10442 2
a10443 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/socks && cf_search="$cf_search $includedir/socks"
}
d10445 2
a10446 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/socks && cf_search="$cf_search $oldincludedir/socks"
}
d10448 1
a10448 1
cf_search="$cf_header_path_list $cf_search"
d10450 2
a10451 4
    for cf_cv_header_path_socks in $cf_search
    do
      if test -d $cf_cv_header_path_socks ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_socks" 1>&6
d10453 2
a10454 1
echo "${as_me-configure}:10354: testing ... testing $cf_cv_header_path_socks ..." 1>&5
d10456 1
d10458 2
a10459 3
        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_socks"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d10461 4
a10465 1

d10469 1
a10469 3

      Raccept((char *)0)

d10474 17
a10490 1
if ac_fn_c_try_compile "$LINENO"; then :
d10492 6
a10497 1
            test -n "$verbose" && echo "	... found socks headers in $cf_cv_header_path_socks" 1>&6
d10499 5
a10503 1
echo "${as_me-configure}:10377: testing ... found socks headers in $cf_cv_header_path_socks ..." 1>&5
d10505 1
d10507 6
a10512 3
            cf_cv_find_linkage_socks=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
d10515 7
a10521 1
            CPPFLAGS="$cf_save_CPPFLAGS"
d10524 2
a10525 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
      fi
    done
d10527 5
a10531 1
    if test "$cf_cv_find_linkage_socks" = maybe ; then
d10533 7
d10541 3
a10543 1
echo "${as_me-configure}:10395: testing Searching for socks library in FIND_LINKAGE(socks,) ..." 1>&5
d10545 5
d10551 7
a10557 2
      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"
d10559 3
d10563 6
d10570 7
a10576 1
      if test "$cf_cv_find_linkage_socks" != yes ; then
a10577 23
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/socks &&       cf_search="$cf_search $cf_library_path/lib/socks"
	test -d $cf_library_path/lib/socks/lib &&    cf_search="$cf_search $cf_library_path/lib/socks/lib"
	test -d $cf_library_path/socks/lib &&       cf_search="$cf_search $cf_library_path/socks/lib"
	test -d $cf_library_path/socks/lib/socks &&    cf_search="$cf_search $cf_library_path/socks/lib/socks"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
d10579 2
d10582 5
a10586 1
cf_search=""
d10588 7
d10596 3
a10598 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/socks &&       cf_search="$cf_search /usr/lib/socks"
	test -d /usr/lib/socks/lib &&    cf_search="$cf_search /usr/lib/socks/lib"
	test -d /usr/socks/lib &&       cf_search="$cf_search /usr/socks/lib"
	test -d /usr/socks/lib/socks &&    cf_search="$cf_search /usr/socks/lib/socks"
}
d10600 5
d10606 7
a10612 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/socks &&       cf_search="$cf_search $prefix/lib/socks"
	test -d $prefix/lib/socks/lib &&    cf_search="$cf_search $prefix/lib/socks/lib"
	test -d $prefix/socks/lib &&       cf_search="$cf_search $prefix/socks/lib"
	test -d $prefix/socks/lib/socks &&    cf_search="$cf_search $prefix/socks/lib/socks"
}
d10614 3
d10618 1
a10618 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/socks &&       cf_search="$cf_search /usr/local/lib/socks"
	test -d /usr/local/lib/socks/lib &&    cf_search="$cf_search /usr/local/lib/socks/lib"
	test -d /usr/local/socks/lib &&       cf_search="$cf_search /usr/local/socks/lib"
	test -d /usr/local/socks/lib/socks &&    cf_search="$cf_search /usr/local/socks/lib/socks"
}
d10620 6
d10627 2
a10628 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/socks &&       cf_search="$cf_search /opt/lib/socks"
	test -d /opt/lib/socks/lib &&    cf_search="$cf_search /opt/lib/socks/lib"
	test -d /opt/socks/lib &&       cf_search="$cf_search /opt/socks/lib"
	test -d /opt/socks/lib/socks &&    cf_search="$cf_search /opt/socks/lib/socks"
}
d10630 16
d10647 9
a10655 129
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/socks &&       cf_search="$cf_search $HOME/lib/socks"
	test -d $HOME/lib/socks/lib &&    cf_search="$cf_search $HOME/lib/socks/lib"
	test -d $HOME/socks/lib &&       cf_search="$cf_search $HOME/socks/lib"
	test -d $HOME/socks/lib/socks &&    cf_search="$cf_search $HOME/socks/lib/socks"
}



cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_socks in $cf_search
        do
          if test -d $cf_cv_library_path_socks ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_socks" 1>&6

echo "${as_me-configure}:10501: testing ... testing $cf_cv_library_path_socks ..." 1>&5


            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lsocks  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_socks"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdio.h>

int
main ()
{

      Raccept((char *)0)

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :

                test -n "$verbose" && echo "	... found socks library in $cf_cv_library_path_socks" 1>&6

echo "${as_me-configure}:10526: testing ... found socks library in $cf_cv_library_path_socks ..." 1>&5


                cf_cv_find_linkage_socks=yes
                cf_cv_library_file_socks="-lsocks"
                break
else

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
          fi
        done
        LIBS="$cf_save_LIBS"
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_socks=no
    fi

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

if test "$cf_cv_find_linkage_socks" = yes ; then
cf_cv_have_socks=yes
else
cf_cv_have_socks=no
fi


  if test "$cf_cv_have_socks" = yes ; then
    $as_echo "#define SOCKS 1" >>confdefs.h


    $as_echo "#define accept Raccept" >>confdefs.h

    $as_echo "#define bind Rbind" >>confdefs.h

    $as_echo "#define connect Rconnect" >>confdefs.h

    $as_echo "#define getpeername Rgetpeername" >>confdefs.h

    $as_echo "#define getsockname Rgetsockname" >>confdefs.h

    $as_echo "#define listen Rlisten" >>confdefs.h

    $as_echo "#define recvfrom Rrecvfrom" >>confdefs.h

    $as_echo "#define select Rselect" >>confdefs.h



if test -n "$cf_cv_header_path_socks" ; then
  for cf_add_incdir in $cf_cv_header_path_socks
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d10665 13
a10677 114
if ac_fn_c_try_compile "$LINENO"; then :

else
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me-configure}:10633: testing adding $cf_add_incdir to include-path ..." 1>&5


		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi


if test -n "$cf_cv_library_path_socks" ; then
  for cf_add_libdir in $cf_cv_library_path_socks
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me-configure}:10669: testing adding $cf_add_libdir to library-path ..." 1>&5


        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

    LIBS="$LIBS -lsocks"
  else
    as_fn_error $? "cannot link with socks library" "$LINENO" 5
  fi

elif test "x$cf_cv_use_libsocks5" != xno ; then


  case "$cf_cv_use_libsocks5" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)


for cf_searchpath in `echo "$cf_cv_use_libsocks5" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

d10679 3
a10681 1
  cf_have_incdir=yes
d10683 1
a10683 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d10692 1
a10692 2
echo "${as_me-configure}:10745: testing adding $cf_add_incdir to include-path ..." 1>&5

d10732 3
a10734 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d10744 13
a10756 2
if ac_fn_c_try_compile "$LINENO"; then :

d10758 3
a10760 1
  cf_have_incdir=yes
d10762 1
a10762 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d10771 1
a10771 2
echo "${as_me-configure}:10811: testing adding $cf_add_incdir to include-path ..." 1>&5

d10787 3
a10789 1
as_fn_error $? "cannot find socks5 library under $cf_cv_use_libsocks5" "$LINENO" 5
d10812 1
a10812 2
echo "${as_me-configure}:10851: testing adding $cf_add_libdir to library-path ..." 1>&5

d10841 1
a10841 2
echo "${as_me-configure}:10881: testing adding $cf_add_libdir to library-path ..." 1>&5

d10850 3
a10852 1
as_fn_error $? "cannot find socks5 library under $cf_cv_use_libsocks5" "$LINENO" 5
d10859 4
d10864 1
a10864 1
LIBS="$LIBS -lsocks5"
d10866 1
a10866 1
$as_echo "#define USE_SOCKS5 1" >>confdefs.h
d10868 3
a10870 1
$as_echo "#define SOCKS 1" >>confdefs.h
d10872 1
a10873 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if the socks library uses socks4 prefix" >&5
$as_echo_n "checking if the socks library uses socks4 prefix... " >&6; }
cf_use_socks4=error
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <socks.h>
d10878 2
a10879 1
	Rinit((char *)0)
d10884 16
a10899 2
if ac_fn_c_try_link "$LINENO"; then :
  $as_echo "#define USE_SOCKS4_PREFIX 1" >>confdefs.h
a10900 1
	 cf_use_socks4=yes
d10902 11
a10912 3
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <socks.h>
d10916 3
a10918 1
SOCKSinit((char *)0)
d10923 18
a10940 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_use_socks4=no
d10942 2
a10943 9
  as_fn_error $? "Cannot link with socks5 library" "$LINENO" 5
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_use_socks4" >&5
$as_echo "$cf_use_socks4" >&6; }
d10945 41
a10985 2
if test "$cf_use_socks4" = "yes" ; then
	$as_echo "#define accept Raccept" >>confdefs.h
d10987 1
a10987 1
	$as_echo "#define bind Rbind" >>confdefs.h
d10989 10
a10998 1
	$as_echo "#define connect Rconnect" >>confdefs.h
d11000 10
a11009 1
	$as_echo "#define getpeername Rgetpeername" >>confdefs.h
d11011 10
a11020 1
	$as_echo "#define getsockname Rgetsockname" >>confdefs.h
d11022 10
a11031 1
	$as_echo "#define listen Rlisten" >>confdefs.h
d11033 10
a11042 1
	$as_echo "#define recvfrom Rrecvfrom" >>confdefs.h
d11044 6
a11049 1
	$as_echo "#define select Rselect" >>confdefs.h
d11051 6
a11056 2
else
	$as_echo "#define accept SOCKSaccept" >>confdefs.h
d11058 1
a11058 1
	$as_echo "#define getpeername SOCKSgetpeername" >>confdefs.h
d11060 4
a11063 1
	$as_echo "#define getsockname SOCKSgetsockname" >>confdefs.h
d11065 1
a11065 1
	$as_echo "#define recvfrom SOCKSrecvfrom" >>confdefs.h
d11067 4
a11070 1
fi
d11072 1
a11072 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if socks5p.h is available" >&5
$as_echo_n "checking if socks5p.h is available... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a11073 2
#define INCLUDE_PROTOTYPES
#include <socks.h>
d11078 2
a11079 1
	init((char *)0)
d11084 12
a11095 8
if ac_fn_c_try_compile "$LINENO"; then :
  cf_use_socks5p_h=yes
else
  cf_use_socks5p_h=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_use_socks5p_h" >&5
$as_echo "$cf_use_socks5p_h" >&6; }
d11097 1
a11097 1
test "$cf_use_socks5p_h" = yes && $as_echo "#define INCLUDE_PROTOTYPES 1" >>confdefs.h
d11099 1
d11101 3
d11105 2
d11108 1
a11108 1
cf_test_netlibs=no
d11110 4
a11113 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for network libraries" >&5
$as_echo_n "checking for network libraries... " >&6; }
d11115 1
a11115 3
if ${cf_cv_netlibs+:} false; then :
  $as_echo_n "(cached) " >&6
else
d11117 1
a11117 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: working..." >&5
$as_echo "working..." >&6; }
d11119 2
a11120 2
cf_cv_netlibs=""
cf_test_netlibs=yes
d11122 1
a11122 10
case $host_os in #(vi
mingw32) # (vi
	for ac_header in windows.h winsock.h winsock2.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
d11124 8
a11131 1
fi
d11133 10
a11142 1
done
d11144 5
d11150 1
a11150 5
	if test "$ac_cv_header_winsock2_h" = "yes" ; then
		cf_winsock_lib="-lws2_32"
	elif test "$ac_cv_header_winsock_h" = "yes" ; then
		cf_winsock_lib="-lwsock32"
	fi
d11152 10
a11161 2
	cf_save_LIBS="$LIBS"
	LIBS="$cf_winsock_lib $LIBS"
d11163 10
a11172 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d11174 10
a11183 12
#ifdef HAVE_WINDOWS_H
#undef WIN32_LEAN_AND_MEAN
#define WIN32_LEAN_AND_MEAN
#include <windows.h>
#ifdef HAVE_WINSOCK2_H
#include <winsock2.h>
#else
#ifdef HAVE_WINSOCK_H
#include <winsock.h>
#endif
#endif
#endif
d11185 10
a11194 3
int
main ()
{
d11196 9
a11204 4
	char buffer[1024];
	gethostname(buffer, sizeof(buffer));
  ;
  return 0;
a11205 8
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_netlibs="$cf_winsock_lib $cf_cv_netlibs"
else
  as_fn_error $? "Cannot link against winsock library" "$LINENO" 5
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d11207 6
a11212 10
	LIBS="$cf_save_LIBS"
	;;
*)
	for ac_func in gethostname
do :
  ac_fn_c_check_func "$LINENO" "gethostname" "ac_cv_func_gethostname"
if test "x$ac_cv_func_gethostname" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_GETHOSTNAME 1
_ACEOF
d11214 1
a11214 1
else
d11216 6
d11223 1
a11223 9
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for gethostname in -lnsl" >&5
$as_echo_n "checking for gethostname in -lnsl... " >&6; }
if ${ac_cv_lib_nsl_gethostname+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a11224 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char gethostname ();
d11228 3
a11230 1
return gethostname ();
d11235 12
a11246 12
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_nsl_gethostname=yes
else
  ac_cv_lib_nsl_gethostname=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nsl_gethostname" >&5
$as_echo "$ac_cv_lib_nsl_gethostname" >&6; }
if test "x$ac_cv_lib_nsl_gethostname" = xyes; then :
d11248 1
d11250 1
a11250 1
cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11252 25
a11276 3
	cat >>confdefs.h <<_ACEOF
#define HAVE_$cf_tr_func 1
_ACEOF
d11278 2
a11279 3
	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else
d11281 1
a11281 2
	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
d11283 1
d11285 16
a11300 9
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for gethostname in -lsocket" >&5
$as_echo_n "checking for gethostname in -lsocket... " >&6; }
if ${ac_cv_lib_socket_gethostname+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d11302 10
a11311 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char gethostname ();
d11315 1
a11315 1
return gethostname ();
d11320 13
a11332 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_socket_gethostname=yes
d11334 3
a11336 1
  ac_cv_lib_socket_gethostname=no
d11338 5
a11342 7
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_socket_gethostname" >&5
$as_echo "$ac_cv_lib_socket_gethostname" >&6; }
if test "x$ac_cv_lib_socket_gethostname" = xyes; then :
d11344 2
d11347 1
a11347 1
cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11349 1
a11349 10
	cat >>confdefs.h <<_ACEOF
#define HAVE_$cf_tr_func 1
_ACEOF

	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
else

	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
d11351 9
d11362 18
d11381 1
a11381 2
fi

d11383 4
a11387 1
done
d11389 1
a11390 4
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for main in -linet" >&5
$as_echo_n "checking for main in -linet... " >&6; }
if ${ac_cv_lib_inet_main+:} false; then :
  $as_echo_n "(cached) " >&6
d11392 3
a11394 4
  ac_check_lib_save_LIBS=$LIBS
LIBS="-linet  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d11396 1
d11398 3
a11400 22
int
main ()
{
return main ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_inet_main=yes
else
  ac_cv_lib_inet_main=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_inet_main" >&5
$as_echo "$ac_cv_lib_inet_main" >&6; }
if test "x$ac_cv_lib_inet_main" = xyes; then :
  cf_cv_netlibs="-linet $cf_cv_netlibs"
fi
d11402 3
d11406 3
a11408 8
	if test "$ac_cv_func_lsocket" != no ; then
	for ac_func in socket
do :
  ac_fn_c_check_func "$LINENO" "socket" "ac_cv_func_socket"
if test "x$ac_cv_func_socket" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_SOCKET 1
_ACEOF
d11410 3
a11412 1
else
d11414 3
d11418 3
a11420 9
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for socket in -lsocket" >&5
$as_echo_n "checking for socket in -lsocket... " >&6; }
if ${ac_cv_lib_socket_socket+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d11422 3
a11424 27
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char socket ();
int
main ()
{
return socket ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_socket_socket=yes
else
  ac_cv_lib_socket_socket=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_socket_socket" >&5
$as_echo "$ac_cv_lib_socket_socket" >&6; }
if test "x$ac_cv_lib_socket_socket" = xyes; then :
d11426 3
d11430 3
a11432 1
cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11434 5
a11438 3
	cat >>confdefs.h <<_ACEOF
#define HAVE_$cf_tr_func 1
_ACEOF
d11440 1
a11440 3
	ac_cv_func_socket=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
else
d11442 6
a11447 2
	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
d11449 2
d11452 16
a11467 9
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for socket in -lbsd" >&5
$as_echo_n "checking for socket in -lbsd... " >&6; }
if ${ac_cv_lib_bsd_socket+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lbsd $cf_cv_netlibs $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d11469 10
a11478 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char socket ();
d11482 1
a11482 1
return socket ();
d11487 13
a11499 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_bsd_socket=yes
d11501 3
a11503 1
  ac_cv_lib_bsd_socket=no
d11505 5
a11509 7
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_bsd_socket" >&5
$as_echo "$ac_cv_lib_bsd_socket" >&6; }
if test "x$ac_cv_lib_bsd_socket" = xyes; then :
d11511 2
d11514 1
a11514 1
cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11516 1
a11516 10
	cat >>confdefs.h <<_ACEOF
#define HAVE_$cf_tr_func 1
_ACEOF

	ac_cv_func_socket=yes
	if test "$cf_used_lib_bsd" != yes ; then cf_used_lib_bsd=yes; cf_cv_netlibs="-lbsd $cf_cv_netlibs"; fi
else

	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
d11518 9
d11529 1
d11531 16
a11546 1
fi
d11548 10
a11557 34

fi
done

	fi

	for ac_func in gethostbyname
do :
  ac_fn_c_check_func "$LINENO" "gethostbyname" "ac_cv_func_gethostbyname"
if test "x$ac_cv_func_gethostbyname" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_GETHOSTBYNAME 1
_ACEOF

else


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for gethostbyname in -lnsl" >&5
$as_echo_n "checking for gethostbyname in -lnsl... " >&6; }
if ${ac_cv_lib_nsl_gethostbyname+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char gethostbyname ();
d11561 1
a11561 1
return gethostbyname ();
d11566 13
a11578 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_nsl_gethostbyname=yes
d11580 3
a11582 1
  ac_cv_lib_nsl_gethostbyname=no
d11584 22
a11605 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
a11606 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nsl_gethostbyname" >&5
$as_echo "$ac_cv_lib_nsl_gethostbyname" >&6; }
if test "x$ac_cv_lib_nsl_gethostbyname" = xyes; then :
d11608 6
d11615 18
a11632 1
cf_tr_func=`echo "gethostbyname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11634 1
a11634 3
	cat >>confdefs.h <<_ACEOF
#define HAVE_$cf_tr_func 1
_ACEOF
d11636 5
a11640 3
	ac_cv_func_gethostbyname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else
d11642 1
a11642 2
	ac_cv_func_gethostbyname=unknown
	unset ac_cv_func_gethostbyname 2>/dev/null
d11644 18
a11661 1
fi
d11663 1
d11665 4
d11670 6
d11678 2
d11681 1
a11681 7
	for ac_func in strcasecmp
do :
  ac_fn_c_check_func "$LINENO" "strcasecmp" "ac_cv_func_strcasecmp"
if test "x$ac_cv_func_strcasecmp" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_STRCASECMP 1
_ACEOF
d11683 3
a11685 1
else
d11687 3
d11691 6
a11696 9
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for strcasecmp in -lresolv" >&5
$as_echo_n "checking for strcasecmp in -lresolv... " >&6; }
if ${ac_cv_lib_resolv_strcasecmp+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lresolv $cf_cv_netlibs $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d11698 1
a11698 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char strcasecmp ();
d11702 2
a11703 1
return strcasecmp ();
d11708 12
a11719 12
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_resolv_strcasecmp=yes
else
  ac_cv_lib_resolv_strcasecmp=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_resolv_strcasecmp" >&5
$as_echo "$ac_cv_lib_resolv_strcasecmp" >&6; }
if test "x$ac_cv_lib_resolv_strcasecmp" = xyes; then :
d11721 3
d11725 15
a11739 4
cf_tr_func=`echo "strcasecmp" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >>confdefs.h <<_ACEOF
#define HAVE_$cf_tr_func 1
d11741 13
a11753 3

	ac_cv_func_strcasecmp=yes
	if test "$cf_used_lib_resolv" != yes ; then cf_used_lib_resolv=yes; cf_cv_netlibs="-lresolv $cf_cv_netlibs"; fi
d11755 11
d11767 4
a11770 2
	ac_cv_func_strcasecmp=unknown
	unset ac_cv_func_strcasecmp 2>/dev/null
d11772 3
a11774 1
fi
d11776 3
d11780 3
a11782 2
fi
done
d11784 3
a11786 2
	;;
esac
d11788 3
a11790 1
fi
d11792 3
d11796 3
a11798 3
case $cf_cv_netlibs in #(vi
*ws2_32*)
	$as_echo "#define USE_WINSOCK2_H 1" >>confdefs.h
d11800 4
a11803 2
	;;
esac
d11805 3
a11807 2
LIBS="$LIBS $cf_cv_netlibs"
test $cf_test_netlibs = no && echo "$cf_cv_netlibs" >&6
d11809 3
a11811 1
fi
d11813 3
d11817 1
a11817 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for inet_aton function" >&5
$as_echo_n "checking for inet_aton function... " >&6; }
if ${cf_cv_have_inet_aton+:} false; then :
  $as_echo_n "(cached) " >&6
else
d11819 5
a11823 6
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d11825 2
d11830 2
a11831 1
inet_aton(0, (struct in_addr *)0)
d11836 13
a11848 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_have_inet_aton=yes
d11850 12
a11861 9
  cf_cv_have_inet_aton=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_inet_aton" >&5
$as_echo "$cf_cv_have_inet_aton" >&6; }
if test "$cf_cv_have_inet_aton" = yes ; then
    $as_echo "#define HAVE_INET_ATON 1" >>confdefs.h
d11864 8
a11871 4
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for inet_addr function" >&5
$as_echo_n "checking for inet_addr function... " >&6; }
if ${cf_cv_have_inet_addr+:} false; then :
  $as_echo_n "(cached) " >&6
d11874 8
a11881 6
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d11883 12
a11894 7
int
main ()
{
inet_addr(0)
  ;
  return 0;
}
d11896 13
a11908 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_have_inet_addr=yes
d11910 1
a11910 1
  cf_cv_have_inet_addr=no
d11912 8
a11919 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d11921 22
a11942 8
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_inet_addr" >&5
$as_echo "$cf_cv_have_inet_addr" >&6; }
    if test "$cf_cv_have_inet_addr" = no ; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library with inet_addr" >&5
$as_echo_n "checking for library with inet_addr... " >&6; }
if ${cf_cv_lib_inet_addr+:} false; then :
  $as_echo_n "(cached) " >&6
else
d11944 12
a11955 10
	    cf_save_LIBS="$LIBS"
	    for cf_inetlib in -lbind -lresolv
	    do
		LIBS="$cf_save_LIBS $cf_inetlib"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d11960 3
a11962 1
inet_addr(0)
d11967 13
a11979 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_lib_inet_addr=$cf_inetlib
d11981 5
a11985 1
  cf_cv_lib_inet_addr=no
d11987 1
a11987 5
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
		LIBS="$cf_save_LIBS"
		test "$cf_cv_lib_inet_addr" != no && break
	    done
d11989 3
a11991 11
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_lib_inet_addr" >&5
$as_echo "$cf_cv_lib_inet_addr" >&6; }
	if test "$cf_cv_lib_inet_addr" != no ; then
	    LIBS="$LIBS $cf_cv_lib_inet_addr"
	else
	    { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to find library for inet_addr function" >&5
$as_echo "$as_me: WARNING: Unable to find library for inet_addr function" >&2;}
	fi
    fi
fi
d11993 22
d12016 11
d12028 30
a12057 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use pkg-config" >&5
$as_echo_n "checking if you want to use pkg-config... " >&6; }
a12058 3
# Check whether --with-pkg-config was given.
if test "${with_pkg_config+set}" = set; then :
  withval=$with_pkg_config; cf_pkg_config=$withval
a12059 2
  cf_pkg_config=yes
fi
d12061 10
a12070 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_pkg_config" >&5
$as_echo "$cf_pkg_config" >&6; }
d12072 28
a12099 11
case $cf_pkg_config in #(vi
no) #(vi
	PKG_CONFIG=none
	;;
yes) #(vi
	# Extract the first word of "pkg-config", so it can be a program name with args.
set dummy pkg-config; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_PKG_CONFIG+:} false; then :
  $as_echo_n "(cached) " >&6
d12101 3
a12103 23
  case $PKG_CONFIG in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_PKG_CONFIG="$PKG_CONFIG" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_PKG_CONFIG="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  test -z "$ac_cv_path_PKG_CONFIG" && ac_cv_path_PKG_CONFIG="none"
  ;;
esac
d12105 2
a12106 7
PKG_CONFIG=$ac_cv_path_PKG_CONFIG
if test -n "$PKG_CONFIG"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $PKG_CONFIG" >&5
$as_echo "$PKG_CONFIG" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d12108 3
d12112 9
d12122 2
a12123 5
	;;
*)
	PKG_CONFIG=$withval
	;;
esac
d12125 10
a12134 2
test -z "$PKG_CONFIG" && PKG_CONFIG=none
if test "$PKG_CONFIG" != none ; then
d12136 28
a12163 2
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
d12165 3
a12167 1
  cf_path_syntax="$ac_default_prefix"
d12169 2
a12170 24

case ".$PKG_CONFIG" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval PKG_CONFIG="$PKG_CONFIG"
  case ".$PKG_CONFIG" in #(vi
  .NONE/*)
    PKG_CONFIG=`echo $PKG_CONFIG | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  PKG_CONFIG=`echo $PKG_CONFIG | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  as_fn_error $? "expected a pathname, not \"$PKG_CONFIG\"" "$LINENO" 5
  ;;
esac

d12172 3
d12176 1
d12178 3
d12182 3
d12186 2
a12187 1
if test "x$cf_cv_use_libssl"  != xno ; then
d12189 1
d12191 1
a12191 1
	cf_cv_have_ssl=no
d12193 2
a12194 1
	# command-line option, etc., override default behavior
d12196 10
a12205 27
  case "$cf_cv_use_libssl" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)


for cf_searchpath in `echo "$cf_cv_use_libssl" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi
a12206 9
		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d12210 1
a12210 1
printf("Hello")
d12215 13
a12227 2
if ac_fn_c_try_compile "$LINENO"; then :

d12229 11
a12239 1
  cf_have_incdir=yes
a12240 5
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d12242 36
a12277 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d12279 30
a12308 1
echo "${as_me-configure}:11818: testing adding $cf_add_incdir to include-path ..." 1>&5
d12310 1
d12312 10
a12321 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
d12323 35
a12357 9
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d12359 5
d12365 10
a12374 1
	elif test -d $cf_searchpath/../include ; then
d12376 10
a12385 16
if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi
d12387 7
a12393 9
		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d12397 1
a12397 1
printf("Hello")
d12402 13
a12414 2
if ac_fn_c_try_compile "$LINENO"; then :

d12416 6
a12421 1
  cf_have_incdir=yes
d12423 9
a12431 5
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d12433 3
a12435 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d12437 2
a12438 1
echo "${as_me-configure}:11884: testing adding $cf_add_incdir to include-path ..." 1>&5
d12440 1
d12442 1
a12442 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
a12443 9
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d12445 1
a12446 2
	else
as_fn_error $? "cannot find ssl library under $cf_cv_use_libssl" "$LINENO" 5
a12447 1
	if test -d $cf_searchpath/lib; then
d12449 65
a12513 18
if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d12515 1
a12515 1
echo "${as_me-configure}:11924: testing adding $cf_add_libdir to library-path ..." 1>&5
d12517 10
d12528 35
a12562 4
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
d12564 3
d12568 1
a12568 1
	elif test -d $cf_searchpath ; then
d12570 3
a12572 18
if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d12574 3
a12576 1
echo "${as_me-configure}:11954: testing adding $cf_add_libdir to library-path ..." 1>&5
d12578 2
a12580 4
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
d12583 1
a12583 3
	else
as_fn_error $? "cannot find ssl library under $cf_cv_use_libssl" "$LINENO" 5
	fi
d12586 22
a12607 2
      ;;
  esac
d12609 11
d12621 30
a12650 7
	if test "x$PKG_CONFIG" != xnone; then
		case $cf_cv_use_libssl in #(vi
		no) #(vi
			;;
		yes) # if no explicit directory given, try pkg-config
			if "$PKG_CONFIG" --exists openssl ; then
				cf_cv_have_ssl=yes
d12652 1
a12652 2
				cf_cflags_ssl=`$PKG_CONFIG --cflags openssl`
				cf_libs_ssl=`$PKG_CONFIG --libs openssl`
d12654 10
a12663 12
				if test -n "$cf_cflags_ssl" ; then
					case "$cf_cflags_ssl" in #(vi
					*-I*) #(vi
						cf_cv_header_path_ssl=`echo "$cf_cflags_ssl" | sed -e 's/^.*-I//' -e 's/ .*//'`
						;;
					*)
						cf_cv_header_path_ssl=/usr/include
						;;
					esac
					if test -d $cf_cv_header_path_ssl/openssl ; then
						cf_cv_header_path_ssl=$cf_cv_header_path_ssl/openssl
					fi
d12665 39
a12703 14
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=

for cf_add_cflags in $cf_cflags_ssl
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
d12705 1
a12705 3
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d12707 3
a12709 24
			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
d12711 3
a12713 8
	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
	;;
esac
done
d12715 2
a12716 1
if test -n "$cf_new_cflags" ; then
a12717 1
	CFLAGS="$CFLAGS $cf_new_cflags"
a12719 3
if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
d12721 1
d12723 22
a12744 1
if test -n "$cf_new_extra_cppflags" ; then
d12746 11
a12756 2
	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi
d12758 30
d12789 1
d12791 4
a12794 40

				fi

				if test -n "$cf_libs_ssl" ; then
					case "x$cf_libs_ssl" in #(vi
					*-L*) #(vi
						cf_cv_library_path_ssl=`echo "$cf_libs_ssl" | sed -e 's/^.*-L//' -e 's/ .*//'`
						;;
					*)
						cf_cv_library_path_ssl=/usr/lib
						;;
					esac
					test -n "$verbose" && echo "	adding $cf_libs_ssl to LIBS" 1>&6

echo "${as_me-configure}:12080: testing adding $cf_libs_ssl to LIBS ..." 1>&5


					LIBS="$cf_libs_ssl $LIBS"
				fi
			fi
			;;
		esac
	fi

	if test "$cf_cv_have_ssl" != yes; then
		case $host_os in #(vi
		mingw*) #(vi
			cf_extra_ssl_libs="-lcrypto -lgdi32"
			;;
		*)
			# openssl 0.9.6 and up use dynamic loading for engines.
			cf_extra_ssl_libs="-lcrypto"
			case "x$LIBS" in #(vi
			*-ldl) #(vi
				;;
			*)
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlsym in -ldl" >&5
$as_echo_n "checking for dlsym in -ldl... " >&6; }
if ${ac_cv_lib_dl_dlsym+:} false; then :
  $as_echo_n "(cached) " >&6
d12797 4
a12800 3
LIBS="-ldl  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d12802 1
a12802 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d12806 3
a12808 1
char dlsym ();
d12812 1
a12812 1
return dlsym ();
d12817 17
a12833 4
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_dl_dlsym=yes
else
  ac_cv_lib_dl_dlsym=no
d12835 1
a12835 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d12838 3
a12840 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlsym" >&5
$as_echo "$ac_cv_lib_dl_dlsym" >&6; }
if test "x$ac_cv_lib_dl_dlsym" = xyes; then :
  cf_extra_ssl_libs="$cf_extra_ssl_libs -ldl"
fi
d12842 1
a12842 4
				;;
			esac
			;;
		esac
d12844 3
d12848 3
d12852 2
a12853 4
# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_ssl=
cf_cv_library_path_ssl=
d12855 1
d12857 2
a12858 1
echo "${as_me-configure}:12155: testing Starting FIND_LINKAGE(ssl,openssl) ..." 1>&5
d12860 17
a12876 13

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
d12878 4
d12886 5
a12890 3

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
d12892 1
a12892 1
    SSL_shutdown((SSL *)0)
d12899 27
a12925 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_ssl=yes
d12928 10
a12937 1
    cf_cv_find_linkage_ssl=no
d12939 39
a12977 1
    test -n "$verbose" && echo "	find linkage for ssl library" 1>&6
d12979 1
a12979 1
echo "${as_me-configure}:12194: testing find linkage for ssl library ..." 1>&5
d12981 3
d12985 3
d12989 2
a12990 1
echo "${as_me-configure}:12198: testing Searching for headers in FIND_LINKAGE(ssl,openssl) ..." 1>&5
d12992 1
d12994 2
a12995 2
    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"
d12997 2
a12999 23
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "$cf_header_path" != "NONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/openssl &&       cf_search="$cf_search $cf_header_path/include/openssl"
	test -d $cf_header_path/include/openssl/include &&    cf_search="$cf_search $cf_header_path/include/openssl/include"
	test -d $cf_header_path/openssl/include &&       cf_search="$cf_search $cf_header_path/openssl/include"
	test -d $cf_header_path/openssl/include/openssl &&    cf_search="$cf_search $cf_header_path/openssl/include/openssl"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
d13002 2
a13003 1
cf_search=""
d13005 3
d13009 2
a13010 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/openssl &&       cf_search="$cf_search /usr/include/openssl"
	test -d /usr/include/openssl/include &&    cf_search="$cf_search /usr/include/openssl/include"
	test -d /usr/openssl/include &&       cf_search="$cf_search /usr/openssl/include"
	test -d /usr/openssl/include/openssl &&    cf_search="$cf_search /usr/openssl/include/openssl"
}
d13012 2
d13015 1
a13015 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/openssl &&       cf_search="$cf_search $prefix/include/openssl"
	test -d $prefix/include/openssl/include &&    cf_search="$cf_search $prefix/include/openssl/include"
	test -d $prefix/openssl/include &&       cf_search="$cf_search $prefix/openssl/include"
	test -d $prefix/openssl/include/openssl &&    cf_search="$cf_search $prefix/openssl/include/openssl"
}
d13017 5
d13023 3
a13025 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/openssl &&       cf_search="$cf_search /usr/local/include/openssl"
	test -d /usr/local/include/openssl/include &&    cf_search="$cf_search /usr/local/include/openssl/include"
	test -d /usr/local/openssl/include &&       cf_search="$cf_search /usr/local/openssl/include"
	test -d /usr/local/openssl/include/openssl &&    cf_search="$cf_search /usr/local/openssl/include/openssl"
}
d13027 1
d13029 3
a13031 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/openssl &&       cf_search="$cf_search /opt/include/openssl"
	test -d /opt/include/openssl/include &&    cf_search="$cf_search /opt/include/openssl/include"
	test -d /opt/openssl/include &&       cf_search="$cf_search /opt/openssl/include"
	test -d /opt/openssl/include/openssl &&    cf_search="$cf_search /opt/openssl/include/openssl"
}
d13033 7
d13041 1
a13041 10
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/openssl &&       cf_search="$cf_search $HOME/include/openssl"
	test -d $HOME/include/openssl/include &&    cf_search="$cf_search $HOME/include/openssl/include"
	test -d $HOME/openssl/include &&       cf_search="$cf_search $HOME/openssl/include"
	test -d $HOME/openssl/include/openssl &&    cf_search="$cf_search $HOME/openssl/include/openssl"
}
d13043 4
d13048 1
d13050 6
a13055 5
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/openssl && cf_search="$cf_search $includedir/openssl"
d13057 24
d13082 3
a13084 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/openssl && cf_search="$cf_search $oldincludedir/openssl"
}
d13086 6
a13091 1
cf_search="$cf_header_path_list $cf_search"
d13093 3
a13095 4
    for cf_cv_header_path_ssl in $cf_search
    do
      if test -d $cf_cv_header_path_ssl ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_ssl" 1>&6
d13097 1
a13097 1
echo "${as_me-configure}:12315: testing ... testing $cf_cv_header_path_ssl ..." 1>&5
d13099 3
d13103 7
a13109 3
        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_ssl"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a13110 7
#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
d13112 6
a13117 1
#include <ssl.h>
d13123 1
a13123 7

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

d13128 13
a13140 10
if ac_fn_c_try_compile "$LINENO"; then :

            test -n "$verbose" && echo "	... found ssl headers in $cf_cv_header_path_ssl" 1>&6

echo "${as_me-configure}:12351: testing ... found ssl headers in $cf_cv_header_path_ssl ..." 1>&5


            cf_cv_find_linkage_ssl=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
d13142 5
a13146 3

            CPPFLAGS="$cf_save_CPPFLAGS"

d13148 8
a13155 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
      fi
    done
d13157 11
a13167 25
    if test "$cf_cv_find_linkage_ssl" = maybe ; then


echo "${as_me-configure}:12369: testing Searching for ssl library in FIND_LINKAGE(ssl,openssl) ..." 1>&5


      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"


        CPPFLAGS="$cf_test_CPPFLAGS"
        LIBS="-lssl $cf_extra_ssl_libs $cf_save_LIBS"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif
d13172 1
a13172 7

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

d13177 22
a13198 1
if ac_fn_c_try_link "$LINENO"; then :
d13200 11
a13210 1
            test -n "$verbose" && echo "	... found ssl library in system" 1>&6
d13212 2
a13213 1
echo "${as_me-configure}:12410: testing ... found ssl library in system ..." 1>&5
d13215 9
d13225 5
a13229 6
            cf_cv_find_linkage_ssl=yes
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
            CPPFLAGS="$cf_save_CPPFLAGS"
            LIBS="$cf_save_LIBS"
d13231 24
d13256 4
a13259 1
      if test "$cf_cv_find_linkage_ssl" != yes ; then
d13261 7
a13267 7
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`
d13269 26
a13294 10
test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/ssl &&       cf_search="$cf_search $cf_library_path/lib/ssl"
	test -d $cf_library_path/lib/ssl/lib &&    cf_search="$cf_search $cf_library_path/lib/ssl/lib"
	test -d $cf_library_path/ssl/lib &&       cf_search="$cf_search $cf_library_path/ssl/lib"
	test -d $cf_library_path/ssl/lib/ssl &&    cf_search="$cf_search $cf_library_path/ssl/lib/ssl"
}
d13296 3
a13298 4
			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
d13300 1
d13302 7
a13308 90
cf_search=""


test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/ssl &&       cf_search="$cf_search /usr/lib/ssl"
	test -d /usr/lib/ssl/lib &&    cf_search="$cf_search /usr/lib/ssl/lib"
	test -d /usr/ssl/lib &&       cf_search="$cf_search /usr/ssl/lib"
	test -d /usr/ssl/lib/ssl &&    cf_search="$cf_search /usr/ssl/lib/ssl"
}


test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/ssl &&       cf_search="$cf_search $prefix/lib/ssl"
	test -d $prefix/lib/ssl/lib &&    cf_search="$cf_search $prefix/lib/ssl/lib"
	test -d $prefix/ssl/lib &&       cf_search="$cf_search $prefix/ssl/lib"
	test -d $prefix/ssl/lib/ssl &&    cf_search="$cf_search $prefix/ssl/lib/ssl"
}


test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/ssl &&       cf_search="$cf_search /usr/local/lib/ssl"
	test -d /usr/local/lib/ssl/lib &&    cf_search="$cf_search /usr/local/lib/ssl/lib"
	test -d /usr/local/ssl/lib &&       cf_search="$cf_search /usr/local/ssl/lib"
	test -d /usr/local/ssl/lib/ssl &&    cf_search="$cf_search /usr/local/ssl/lib/ssl"
}


test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/ssl &&       cf_search="$cf_search /opt/lib/ssl"
	test -d /opt/lib/ssl/lib &&    cf_search="$cf_search /opt/lib/ssl/lib"
	test -d /opt/ssl/lib &&       cf_search="$cf_search /opt/ssl/lib"
	test -d /opt/ssl/lib/ssl &&    cf_search="$cf_search /opt/ssl/lib/ssl"
}


test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/ssl &&       cf_search="$cf_search $HOME/lib/ssl"
	test -d $HOME/lib/ssl/lib &&    cf_search="$cf_search $HOME/lib/ssl/lib"
	test -d $HOME/ssl/lib &&       cf_search="$cf_search $HOME/ssl/lib"
	test -d $HOME/ssl/lib/ssl &&    cf_search="$cf_search $HOME/ssl/lib/ssl"
}



cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_ssl in $cf_search
        do
          if test -d $cf_cv_library_path_ssl ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_ssl" 1>&6

echo "${as_me-configure}:12519: testing ... testing $cf_cv_library_path_ssl ..." 1>&5


            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lssl $cf_extra_ssl_libs $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_ssl"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif
d13310 1
a13310 24
int
main ()
{

#ifdef USE_GNUTLS_FUNCS
    gnutls_global_init();
#else
    SSL_shutdown((SSL *)0)
#endif

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :

                test -n "$verbose" && echo "	... found ssl library in $cf_cv_library_path_ssl" 1>&6

echo "${as_me-configure}:12557: testing ... found ssl library in $cf_cv_library_path_ssl ..." 1>&5


                cf_cv_find_linkage_ssl=yes
                cf_cv_library_file_ssl="-lssl"
                break
d13312 1
a13312 5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

a13313 8
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
          fi
        done
        LIBS="$cf_save_LIBS"
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi
d13315 5
a13319 3
    else
      cf_cv_find_linkage_ssl=no
    fi
d13321 2
a13322 3
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d13324 2
a13325 2
if test "$cf_cv_find_linkage_ssl" = yes ; then
cf_cv_have_ssl=yes
d13327 1
a13327 1
cf_cv_have_ssl=no
d13330 24
d13355 1
a13355 2
		if test "$cf_cv_have_ssl" = yes ; then
			if test -n "$cf_cv_library_path_ssl" ; then
d13357 1
a13357 18
if test -n "$cf_cv_library_path_ssl" ; then
  for cf_add_libdir in $cf_cv_library_path_ssl
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d13359 2
a13360 1
echo "${as_me-configure}:12616: testing adding $cf_add_libdir to library-path ..." 1>&5
d13362 1
d13364 6
a13369 5
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi
d13371 2
a13372 7
			fi
			LIBS="-lssl $cf_extra_ssl_libs $LIBS"
			if test -n "$cf_cv_header_path_ssl" ; then
				case $cf_cv_header_path_ssl in #(vi
				/usr/include/openssl) #(vi
					;;
				*)
d13374 2
a13375 2
if test -n "$cf_cv_header_path_ssl" ; then
  for cf_add_incdir in $cf_cv_header_path_ssl
d13397 3
a13399 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d13409 13
a13421 2
if ac_fn_c_try_compile "$LINENO"; then :

d13423 3
a13425 1
  cf_have_incdir=yes
d13427 1
a13427 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d13436 1
a13436 2
echo "${as_me-configure}:12681: testing adding $cf_add_incdir to include-path ..." 1>&5

d13451 1
a13451 5
					;;
				esac
			fi
		fi
	fi
d13453 4
a13456 76
	if test "$cf_cv_have_ssl" = yes ; then
		$as_echo "#define USE_SSL 1" >>confdefs.h

		if test -n "$cf_cv_header_path_ssl" ; then
			case $cf_cv_header_path_ssl in #(vi
			*/openssl)
				$as_echo "#define USE_OPENSSL_INCL 1" >>confdefs.h

				;;
			esac
		fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for X509 support" >&5
$as_echo_n "checking for X509 support... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdio.h>
#if defined(USE_OPENSSL_INCL)
#include <openssl/ssl.h>
#elif defined(USE_GNUTLS_FUNCS)
#include <gnutls/gnutls.h>
#elif defined(USE_GNUTLS_INCL)
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

#include <openssl/x509.h>
int
main ()
{
X509_verify_cert_error_string(X509_STORE_CTX_get_error(NULL))
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_x509_support=yes
else
  cf_x509_support=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_x509_support" >&5
$as_echo "$cf_x509_support" >&6; }

if test "$cf_x509_support" = yes ; then
	$as_echo "#define USE_X509_SUPPORT 1" >>confdefs.h

fi

	fi

elif test "x$cf_cv_use_libgnutls" != xno ; then
    if test "x$cf_cv_gnutls_compat" = xno ; then


	cf_cv_have_gnutls=no


  case "$cf_cv_use_libgnutls" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)


for cf_searchpath in `echo "$cf_cv_use_libgnutls" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
d13476 3
a13478 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d13488 13
a13500 68
if ac_fn_c_try_compile "$LINENO"; then :

else
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me-configure}:12823: testing adding $cf_add_incdir to include-path ..." 1>&5


		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

	elif test -d $cf_searchpath/../include ; then

if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

d13502 3
a13504 1
  cf_have_incdir=yes
d13506 1
a13506 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d13515 1
a13515 2
echo "${as_me-configure}:12889: testing adding $cf_add_incdir to include-path ..." 1>&5

d13531 3
a13533 1
as_fn_error $? "cannot find ssl library under $cf_cv_use_libgnutls" "$LINENO" 5
d13556 1
a13556 2
echo "${as_me-configure}:12929: testing adding $cf_add_libdir to library-path ..." 1>&5

d13585 1
a13585 2
echo "${as_me-configure}:12959: testing adding $cf_add_libdir to library-path ..." 1>&5

d13594 3
a13596 1
as_fn_error $? "cannot find ssl library under $cf_cv_use_libgnutls" "$LINENO" 5
a13602 2

	cf_pkg_gnutls=none
d13604 1
a13604 2
		cf_pkg_gnutls=gnutls
		case $cf_cv_use_libgnutls in #(vi
d13608 18
a13625 3
			test -n "$verbose" && echo "	checking pkg-config for $cf_pkg_gnutls" 1>&6

echo "${as_me-configure}:12986: testing checking pkg-config for $cf_pkg_gnutls ..." 1>&5
d13627 2
a13628 11

			if "$PKG_CONFIG" --exists $cf_pkg_gnutls ; then
				test -n "$verbose" && echo "	... found $cf_pkg_gnutls in pkg-config" 1>&6

echo "${as_me-configure}:12992: testing ... found $cf_pkg_gnutls in pkg-config ..." 1>&5


				cf_cv_have_gnutls=yes

				cf_cflags_ssl=`$PKG_CONFIG --cflags $cf_pkg_gnutls`
				cf_libs_ssl=`$PKG_CONFIG --libs $cf_pkg_gnutls`
a13638 3
					if test -d $cf_cv_header_path_ssl/gnutls ; then
						cf_cv_header_path_ssl=$cf_cv_header_path_ssl/gnutls
					fi
d13656 2
a13657 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d13672 10
d13697 2
a13698 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
d13718 9
d13728 2
a13729 2


d13743 1
a13743 2
echo "${as_me-configure}:13097: testing adding $cf_libs_ssl to LIBS ..." 1>&5

a13746 7
			else
				test -n "$verbose" && echo "	... did not find $cf_pkg_gnutls in pkg-config" 1>&6

echo "${as_me-configure}:13105: testing ... did not find $cf_pkg_gnutls in pkg-config ..." 1>&5


				cf_pkg_gnutls=none
d13752 22
a13773 4
	if test "$cf_cv_have_gnutls" = no ; then
		$as_echo "#define USE_GNUTLS_FUNCS 1" >>confdefs.h

		cf_gnutls_CPPFLAGS=$CPPFLAGS
d13775 41
d13817 4
d13824 2
a13825 2
cf_cv_header_path_gnutls=
cf_cv_library_path_gnutls=
d13827 1
d13829 1
a13829 1
echo "${as_me-configure}:13127: testing Starting FIND_LINKAGE(gnutls,) ..." 1>&5
d13831 3
a13833 3

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d13860 17
a13876 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_gnutls=yes
d13878 2
d13881 1
a13881 1
    cf_cv_find_linkage_gnutls=no
d13883 3
a13885 1
    test -n "$verbose" && echo "	find linkage for gnutls library" 1>&6
d13887 10
a13896 1
echo "${as_me-configure}:13166: testing find linkage for gnutls library ..." 1>&5
d13898 3
d13902 5
d13908 16
a13923 1
echo "${as_me-configure}:13170: testing Searching for headers in FIND_LINKAGE(gnutls,) ..." 1>&5
d13925 4
d13930 3
a13932 2
    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"
d13934 11
d13946 3
d13957 1
a13957 1
test "$cf_header_path" != "NONE" && \
d13962 4
a13965 4
	test -d $cf_header_path/include/gnutls &&       cf_search="$cf_search $cf_header_path/include/gnutls"
	test -d $cf_header_path/include/gnutls/include &&    cf_search="$cf_search $cf_header_path/include/gnutls/include"
	test -d $cf_header_path/gnutls/include &&       cf_search="$cf_search $cf_header_path/gnutls/include"
	test -d $cf_header_path/gnutls/include/gnutls &&    cf_search="$cf_search $cf_header_path/gnutls/include/gnutls"
d13974 1
a13974 1
cf_search=""
d13976 1
d13978 1
a13978 1
test "/usr" != "$prefix" && \
d13980 1
a13980 1
(test $prefix = NONE || test -d $prefix) && {
d13983 4
a13986 4
	test -d /usr/include/gnutls &&       cf_search="$cf_search /usr/include/gnutls"
	test -d /usr/include/gnutls/include &&    cf_search="$cf_search /usr/include/gnutls/include"
	test -d /usr/gnutls/include &&       cf_search="$cf_search /usr/gnutls/include"
	test -d /usr/gnutls/include/gnutls &&    cf_search="$cf_search /usr/gnutls/include/gnutls"
d13989 1
a13989 2

test "$prefix" != "NONE" && \
d13994 4
a13997 4
	test -d $prefix/include/gnutls &&       cf_search="$cf_search $prefix/include/gnutls"
	test -d $prefix/include/gnutls/include &&    cf_search="$cf_search $prefix/include/gnutls/include"
	test -d $prefix/gnutls/include &&       cf_search="$cf_search $prefix/gnutls/include"
	test -d $prefix/gnutls/include/gnutls &&    cf_search="$cf_search $prefix/gnutls/include/gnutls"
d14000 1
a14000 2

test "/usr/local" != "$prefix" && \
d14002 1
a14002 1
(test $prefix = NONE || test -d $prefix) && {
d14005 4
a14008 4
	test -d /usr/local/include/gnutls &&       cf_search="$cf_search /usr/local/include/gnutls"
	test -d /usr/local/include/gnutls/include &&    cf_search="$cf_search /usr/local/include/gnutls/include"
	test -d /usr/local/gnutls/include &&       cf_search="$cf_search /usr/local/gnutls/include"
	test -d /usr/local/gnutls/include/gnutls &&    cf_search="$cf_search /usr/local/gnutls/include/gnutls"
d14011 1
a14011 2

test "/opt" != "$prefix" && \
d14013 1
a14013 1
(test $prefix = NONE || test -d $prefix) && {
d14016 4
a14019 4
	test -d /opt/include/gnutls &&       cf_search="$cf_search /opt/include/gnutls"
	test -d /opt/include/gnutls/include &&    cf_search="$cf_search /opt/include/gnutls/include"
	test -d /opt/gnutls/include &&       cf_search="$cf_search /opt/gnutls/include"
	test -d /opt/gnutls/include/gnutls &&    cf_search="$cf_search /opt/gnutls/include/gnutls"
d14022 1
a14022 2

test "$HOME" != "$prefix" && \
d14024 1
a14024 1
(test $prefix = NONE || test -d $prefix) && {
d14027 4
a14030 4
	test -d $HOME/include/gnutls &&       cf_search="$cf_search $HOME/include/gnutls"
	test -d $HOME/include/gnutls/include &&    cf_search="$cf_search $HOME/include/gnutls/include"
	test -d $HOME/gnutls/include &&       cf_search="$cf_search $HOME/gnutls/include"
	test -d $HOME/gnutls/include/gnutls &&    cf_search="$cf_search $HOME/gnutls/include/gnutls"
a14032 2


d14037 1
a14037 1
	test -d $includedir/gnutls && cf_search="$cf_search $includedir/gnutls"
d14044 1
a14044 1
	test -d $oldincludedir/gnutls && cf_search="$cf_search $oldincludedir/gnutls"
d14047 1
a14047 1
cf_search="$cf_header_path_list $cf_search"
d14049 1
a14049 1
    for cf_cv_header_path_gnutls in $cf_search
d14051 2
a14052 2
      if test -d $cf_cv_header_path_gnutls ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_gnutls" 1>&6
d14054 1
a14054 1
echo "${as_me-configure}:13287: testing ... testing $cf_cv_header_path_gnutls ..." 1>&5
d14056 4
a14059 4

        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_gnutls"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d14086 12
a14097 1
if ac_fn_c_try_compile "$LINENO"; then :
d14099 1
a14099 1
            test -n "$verbose" && echo "	... found gnutls headers in $cf_cv_header_path_gnutls" 1>&6
d14101 1
a14101 1
echo "${as_me-configure}:13323: testing ... found gnutls headers in $cf_cv_header_path_gnutls ..." 1>&5
d14103 1
a14103 2

            cf_cv_find_linkage_gnutls=maybe
d14107 2
d14113 1
a14113 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d14117 23
a14139 1
    if test "$cf_cv_find_linkage_gnutls" = maybe ; then
d14141 3
d14145 5
a14149 1
echo "${as_me-configure}:13341: testing Searching for gnutls library in FIND_LINKAGE(gnutls,) ..." 1>&5
d14151 16
d14168 1
a14168 2
      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"
d14170 1
d14172 8
d14181 1
a14181 1
      if test "$cf_cv_find_linkage_gnutls" != yes ; then
d14183 1
d14192 1
a14192 1
test "$cf_library_path" != "NONE" && \
d14197 4
a14200 4
	test -d $cf_library_path/lib/gnutls &&       cf_search="$cf_search $cf_library_path/lib/gnutls"
	test -d $cf_library_path/lib/gnutls/lib &&    cf_search="$cf_search $cf_library_path/lib/gnutls/lib"
	test -d $cf_library_path/gnutls/lib &&       cf_search="$cf_search $cf_library_path/gnutls/lib"
	test -d $cf_library_path/gnutls/lib/gnutls &&    cf_search="$cf_search $cf_library_path/gnutls/lib/gnutls"
d14209 1
a14209 1
cf_search=""
d14211 1
a14211 2

test "/usr" != "$prefix" && \
d14213 1
a14213 1
(test $prefix = NONE || test -d $prefix) && {
d14216 4
a14219 4
	test -d /usr/lib/gnutls &&       cf_search="$cf_search /usr/lib/gnutls"
	test -d /usr/lib/gnutls/lib &&    cf_search="$cf_search /usr/lib/gnutls/lib"
	test -d /usr/gnutls/lib &&       cf_search="$cf_search /usr/gnutls/lib"
	test -d /usr/gnutls/lib/gnutls &&    cf_search="$cf_search /usr/gnutls/lib/gnutls"
d14222 1
a14222 2

test "$prefix" != "NONE" && \
d14227 4
a14230 4
	test -d $prefix/lib/gnutls &&       cf_search="$cf_search $prefix/lib/gnutls"
	test -d $prefix/lib/gnutls/lib &&    cf_search="$cf_search $prefix/lib/gnutls/lib"
	test -d $prefix/gnutls/lib &&       cf_search="$cf_search $prefix/gnutls/lib"
	test -d $prefix/gnutls/lib/gnutls &&    cf_search="$cf_search $prefix/gnutls/lib/gnutls"
d14233 1
a14233 2

test "/usr/local" != "$prefix" && \
d14235 1
a14235 1
(test $prefix = NONE || test -d $prefix) && {
d14238 4
a14241 4
	test -d /usr/local/lib/gnutls &&       cf_search="$cf_search /usr/local/lib/gnutls"
	test -d /usr/local/lib/gnutls/lib &&    cf_search="$cf_search /usr/local/lib/gnutls/lib"
	test -d /usr/local/gnutls/lib &&       cf_search="$cf_search /usr/local/gnutls/lib"
	test -d /usr/local/gnutls/lib/gnutls &&    cf_search="$cf_search /usr/local/gnutls/lib/gnutls"
d14244 1
a14244 2

test "/opt" != "$prefix" && \
d14246 1
a14246 1
(test $prefix = NONE || test -d $prefix) && {
d14249 4
a14252 4
	test -d /opt/lib/gnutls &&       cf_search="$cf_search /opt/lib/gnutls"
	test -d /opt/lib/gnutls/lib &&    cf_search="$cf_search /opt/lib/gnutls/lib"
	test -d /opt/gnutls/lib &&       cf_search="$cf_search /opt/gnutls/lib"
	test -d /opt/gnutls/lib/gnutls &&    cf_search="$cf_search /opt/gnutls/lib/gnutls"
d14255 1
a14255 2

test "$HOME" != "$prefix" && \
d14257 1
a14257 1
(test $prefix = NONE || test -d $prefix) && {
d14260 4
a14263 4
	test -d $HOME/lib/gnutls &&       cf_search="$cf_search $HOME/lib/gnutls"
	test -d $HOME/lib/gnutls/lib &&    cf_search="$cf_search $HOME/lib/gnutls/lib"
	test -d $HOME/gnutls/lib &&       cf_search="$cf_search $HOME/gnutls/lib"
	test -d $HOME/gnutls/lib/gnutls &&    cf_search="$cf_search $HOME/gnutls/lib/gnutls"
a14265 2


d14268 1
a14268 1
        for cf_cv_library_path_gnutls in $cf_search
d14270 2
a14271 4
          if test -d $cf_cv_library_path_gnutls ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_gnutls" 1>&6

echo "${as_me-configure}:13447: testing ... testing $cf_cv_library_path_gnutls ..." 1>&5
d14273 1
d14276 5
a14280 4
            LIBS="-lgnutls -lgnutls -lcrypt $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_gnutls"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d14307 12
a14318 1
if ac_fn_c_try_link "$LINENO"; then :
d14320 1
a14320 1
                test -n "$verbose" && echo "	... found gnutls library in $cf_cv_library_path_gnutls" 1>&6
d14322 1
a14322 1
echo "${as_me-configure}:13485: testing ... found gnutls library in $cf_cv_library_path_gnutls ..." 1>&5
d14324 2
a14325 3

                cf_cv_find_linkage_gnutls=yes
                cf_cv_library_file_gnutls="-lgnutls"
d14328 2
d14336 1
a14336 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a14338 1
        LIBS="$cf_save_LIBS"
d14344 1
a14344 1
      cf_cv_find_linkage_gnutls=no
d14348 6
a14353 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d14355 2
a14356 2
if test "$cf_cv_find_linkage_gnutls" = yes ; then
cf_cv_have_gnutls=yes
d14358 1
a14358 1
cf_cv_have_gnutls=no
d14361 22
d14384 1
a14384 2
		CPPFLAGS=$cf_gnutls_CPPFLAGS
	fi
d14386 5
a14390 3
	if test "$cf_cv_have_gnutls" = yes ; then
		if test -n "$cf_cv_header_path_gnutls" ; then
			$as_echo "#define USE_SSL 1" >>confdefs.h
d14392 7
a14398 4
            case $cf_cv_header_path_gnutls in
				/usr/include/gnutls)
				;;
			*)
d14400 2
a14401 2
if test -n "$cf_cv_header_path_gnutls" ; then
  for cf_add_incdir in $cf_cv_header_path_gnutls
d14423 3
a14425 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d14435 13
a14447 2
if ac_fn_c_try_compile "$LINENO"; then :

d14449 3
a14451 1
  cf_have_incdir=yes
d14453 1
a14453 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d14462 1
a14462 2
echo "${as_me-configure}:13582: testing adding $cf_add_incdir to include-path ..." 1>&5

d14477 4
a14480 2
				;;
			esac
d14482 1
a14482 1
		if test -n "$cf_cv_library_path_gnutls" ; then
d14484 1
a14484 18
if test -n "$cf_cv_library_path_gnutls" ; then
  for cf_add_libdir in $cf_cv_library_path_gnutls
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d14486 3
a14488 1
echo "${as_me-configure}:13622: testing adding $cf_add_libdir to library-path ..." 1>&5
d14490 2
d14493 1
a14493 5
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi
d14495 2
a14496 2
		fi
		LIBS="-lgnutls -lcrypt $LIBS"
d14498 3
a14500 1
		EXTRA_OBJS="$EXTRA_OBJS tidy_tls\$o"
d14502 3
d14506 5
a14510 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for X509 support" >&5
$as_echo_n "checking for X509 support... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d14532 12
a14543 1
if ac_fn_c_try_link "$LINENO"; then :
d14546 7
a14552 6
  cf_x509_support=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_x509_support" >&5
$as_echo "$cf_x509_support" >&6; }
d14555 3
a14557 1
	$as_echo "#define USE_X509_SUPPORT 1" >>confdefs.h
d14563 2
a14564 2
    else

d14567 1
a14567 1

a14575 1

d14602 3
a14604 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d14614 13
a14626 2
if ac_fn_c_try_compile "$LINENO"; then :

d14628 3
a14630 1
  cf_have_incdir=yes
d14632 1
a14632 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d14641 1
a14641 2
echo "${as_me-configure}:13744: testing adding $cf_add_incdir to include-path ..." 1>&5

d14681 3
a14683 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d14693 13
a14705 2
if ac_fn_c_try_compile "$LINENO"; then :

d14707 3
a14709 1
  cf_have_incdir=yes
d14711 1
a14711 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d14720 1
a14720 2
echo "${as_me-configure}:13810: testing adding $cf_add_incdir to include-path ..." 1>&5

d14736 3
a14738 1
as_fn_error $? "cannot find ssl library under $cf_cv_use_libgnutls" "$LINENO" 5
d14761 1
a14761 2
echo "${as_me-configure}:13850: testing adding $cf_add_libdir to library-path ..." 1>&5

d14790 1
a14790 2
echo "${as_me-configure}:13880: testing adding $cf_add_libdir to library-path ..." 1>&5

d14799 3
a14801 1
as_fn_error $? "cannot find ssl library under $cf_cv_use_libgnutls" "$LINENO" 5
a14807 1

d14810 1
a14810 1
		cf_pkg_gnutls=gnutls-openssl
d14817 1
a14817 2
echo "${as_me-configure}:13907: testing checking pkg-config for $cf_pkg_gnutls ..." 1>&5

d14822 1
a14822 2
echo "${as_me-configure}:13913: testing ... found $cf_pkg_gnutls in pkg-config ..." 1>&5

d14825 1
d14833 1
a14833 1
						cf_cv_header_path_ssl=`echo "$cf_cflags_ssl" | sed -e 's/^.*-I//' -e 's/ .*//'`
d14836 1
a14836 1
						cf_cv_header_path_ssl=/usr/include
d14839 2
a14840 2
					if test -d $cf_cv_header_path_ssl/gnutls ; then
						cf_cv_header_path_ssl=$cf_cv_header_path_ssl/gnutls
d14859 2
a14860 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d14875 10
d14900 2
a14901 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
a14920 3



d14926 1
a14926 1
						cf_cv_library_path_ssl=`echo "$cf_libs_ssl" | sed -e 's/^.*-L//' -e 's/ .*//'`
d14929 1
a14929 1
						cf_cv_library_path_ssl=/usr/lib
d14934 1
a14934 2
echo "${as_me-configure}:14018: testing adding $cf_libs_ssl to LIBS ..." 1>&5

d14941 1
a14941 2
echo "${as_me-configure}:14026: testing ... did not find $cf_pkg_gnutls in pkg-config ..." 1>&5

d14949 4
a14953 2
		$as_echo "#define USE_GNUTLS_INCL 1" >>confdefs.h

a14955 2


d14961 1
d14963 1
a14963 1
echo "${as_me-configure}:14048: testing Starting FIND_LINKAGE(gnutls,) ..." 1>&5
d14965 3
a14967 3

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d14994 17
a15010 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_gnutls=yes
d15012 29
d15042 16
a15057 1
    cf_cv_find_linkage_gnutls=no
d15059 4
a15062 1
    test -n "$verbose" && echo "	find linkage for gnutls library" 1>&6
d15064 3
a15066 1
echo "${as_me-configure}:14087: testing find linkage for gnutls library ..." 1>&5
d15068 2
d15071 1
d15073 1
a15073 1
echo "${as_me-configure}:14091: testing Searching for headers in FIND_LINKAGE(gnutls,) ..." 1>&5
d15075 1
d15080 1
d15082 1
d15091 1
a15091 1
test "$cf_header_path" != "NONE" && \
d15108 1
a15108 1
cf_search=""
d15110 1
d15112 1
a15112 1
test "/usr" != "$prefix" && \
d15114 1
a15114 1
(test $prefix = NONE || test -d $prefix) && {
d15123 1
a15123 2

test "$prefix" != "NONE" && \
d15134 1
a15134 2

test "/usr/local" != "$prefix" && \
d15136 1
a15136 1
(test $prefix = NONE || test -d $prefix) && {
d15145 1
a15145 2

test "/opt" != "$prefix" && \
d15147 1
a15147 1
(test $prefix = NONE || test -d $prefix) && {
d15156 1
a15156 2

test "$HOME" != "$prefix" && \
d15158 1
a15158 1
(test $prefix = NONE || test -d $prefix) && {
a15166 2


d15181 1
a15181 1
cf_search="$cf_header_path_list $cf_search"
d15188 1
a15188 2
echo "${as_me-configure}:14208: testing ... testing $cf_cv_header_path_gnutls ..." 1>&5

d15191 3
a15193 2
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15220 12
a15231 1
if ac_fn_c_try_compile "$LINENO"; then :
d15235 1
a15235 2
echo "${as_me-configure}:14244: testing ... found gnutls headers in $cf_cv_header_path_gnutls ..." 1>&5

d15241 2
d15247 1
a15247 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d15253 1
a15253 3

echo "${as_me-configure}:14262: testing Searching for gnutls library in FIND_LINKAGE(gnutls,) ..." 1>&5

a15257 2


d15260 1
d15269 1
a15269 1
test "$cf_library_path" != "NONE" && \
d15286 1
a15286 1
cf_search=""
d15288 1
a15288 2

test "/usr" != "$prefix" && \
d15290 1
a15290 1
(test $prefix = NONE || test -d $prefix) && {
d15299 1
a15299 2

test "$prefix" != "NONE" && \
d15310 1
a15310 2

test "/usr/local" != "$prefix" && \
d15312 1
a15312 1
(test $prefix = NONE || test -d $prefix) && {
d15321 1
a15321 2

test "/opt" != "$prefix" && \
d15323 1
a15323 1
(test $prefix = NONE || test -d $prefix) && {
d15332 1
a15332 2

test "$HOME" != "$prefix" && \
d15334 1
a15334 1
(test $prefix = NONE || test -d $prefix) && {
a15342 2


d15350 1
a15350 2
echo "${as_me-configure}:14368: testing ... testing $cf_cv_library_path_gnutls ..." 1>&5

d15353 1
a15353 1
            LIBS="-lgnutls -lgnutls-openssl -lgnutls-extra -lgnutls -lcrypt $cf_save_LIBS"
d15355 3
a15357 2
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15384 12
a15395 1
if ac_fn_c_try_link "$LINENO"; then :
d15399 1
a15399 2
echo "${as_me-configure}:14406: testing ... found gnutls library in $cf_cv_library_path_gnutls ..." 1>&5

d15405 2
d15413 1
a15413 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a15415 1
        LIBS="$cf_save_LIBS"
d15425 6
a15430 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a15437 1

d15443 3
a15445 1
			$as_echo "#define USE_SSL 1" >>confdefs.h
d15447 1
a15447 1
            case $cf_cv_header_path_gnutls in
d15475 3
a15477 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15487 13
a15499 2
if ac_fn_c_try_compile "$LINENO"; then :

d15501 3
a15503 1
  cf_have_incdir=yes
d15505 1
a15505 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d15514 1
a15514 2
echo "${as_me-configure}:14503: testing adding $cf_add_incdir to include-path ..." 1>&5

d15553 1
a15553 2
echo "${as_me-configure}:14543: testing adding $cf_add_libdir to library-path ..." 1>&5

d15562 1
a15562 1
		LIBS="-lgnutls -lcrypt $LIBS"
d15564 1
a15564 10
		if test "$cf_pkg_gnutls" = none ; then
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SSL_connect in -lgnutls-openssl" >&5
$as_echo_n "checking for SSL_connect in -lgnutls-openssl... " >&6; }
if ${ac_cv_lib_gnutls_openssl_SSL_connect+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgnutls-openssl  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15566 5
a15570 80
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char SSL_connect ();
int
main ()
{
return SSL_connect ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_gnutls_openssl_SSL_connect=yes
else
  ac_cv_lib_gnutls_openssl_SSL_connect=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gnutls_openssl_SSL_connect" >&5
$as_echo "$ac_cv_lib_gnutls_openssl_SSL_connect" >&6; }
if test "x$ac_cv_lib_gnutls_openssl_SSL_connect" = xyes; then :
  LIBS="-lgnutls-openssl $LIBS"
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for SSL_connect in -lgnutls-extra" >&5
$as_echo_n "checking for SSL_connect in -lgnutls-extra... " >&6; }
if ${ac_cv_lib_gnutls_extra_SSL_connect+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgnutls-extra  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char SSL_connect ();
int
main ()
{
return SSL_connect ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_gnutls_extra_SSL_connect=yes
else
  ac_cv_lib_gnutls_extra_SSL_connect=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gnutls_extra_SSL_connect" >&5
$as_echo "$ac_cv_lib_gnutls_extra_SSL_connect" >&6; }
if test "x$ac_cv_lib_gnutls_extra_SSL_connect" = xyes; then :
  LIBS="-lgnutls-extra $LIBS"
else
  as_fn_error $? "cannot find gnutls openssl functions" "$LINENO" 5
fi

fi

			fi


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for X509 support" >&5
$as_echo_n "checking for X509 support... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15592 12
a15603 1
if ac_fn_c_try_link "$LINENO"; then :
d15606 7
a15612 6
  cf_x509_support=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_x509_support" >&5
$as_echo "$cf_x509_support" >&6; }
d15615 3
a15617 1
	$as_echo "#define USE_X509_SUPPORT 1" >>confdefs.h
d15623 22
a15644 2
    fi
elif test "x$cf_cv_use_libnss_compat"  != xno ; then
d15646 11
a15656 25
check=`pkg-config --version 2>/dev/null`
if test -n "$check" ; then
	cf_ssl_library=`pkg-config --libs nss`
	cf_ssl_cflags=`pkg-config --cflags nss`
else
	# Without pkg-config, we'll kludge in some defaults
	cf_ssl_library="-lssl3 -lsmime3 -lnss3 -lplds4 -lplc4 -lnspr4 -lpthread -ldl"
	cf_ssl_cflags="-I/usr/include/nss3 -I/usr/include/nspr4"
fi
cf_ssl_library="-lnss_compat_ossl $cf_ssl_library"

case "$cf_cv_use_libnss_compat" in #(vi
no) #(vi
	cf_ssl_root=
	;;
yes) #(vi
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SSL_get_version in -lnss_compat_ossl" >&5
$as_echo_n "checking for SSL_get_version in -lnss_compat_ossl... " >&6; }
if ${ac_cv_lib_nss_compat_ossl_SSL_get_version+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnss_compat_ossl -lnss_compat_ossl $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a15657 11
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char SSL_get_version ();
int
main ()
{
return SSL_get_version ();
d15662 26
a15687 31
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_nss_compat_ossl_SSL_get_version=yes
else
  ac_cv_lib_nss_compat_ossl_SSL_get_version=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nss_compat_ossl_SSL_get_version" >&5
$as_echo "$ac_cv_lib_nss_compat_ossl_SSL_get_version" >&6; }
if test "x$ac_cv_lib_nss_compat_ossl_SSL_get_version" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_LIBNSS_COMPAT_OSSL 1
_ACEOF

  LIBS="-lnss_compat_ossl $LIBS"

else

		cf_ssl_root=/usr/local/nss_compat_ossl
		if test -d $cf_ssl_root ; then
			test -n "$verbose" && echo "	assume it is in $cf_ssl_root" 1>&6

echo "${as_me-configure}:14752: testing assume it is in $cf_ssl_root ..." 1>&5


			cf_ssl_library="-L$cf_ssl_root/lib $cf_ssl_library"
		else
			as_fn_error $? "cannot find NSS compilant libraries" "$LINENO" 5
		fi
d15690 1
d15692 1
a15692 18
	;;
*)
	if test -d $cf_cv_use_libnss_compat ; then
		if test -d $cf_cv_use_libnss_compat/include ; then
			cf_ssl_root=$cf_cv_use_libnss_compat
		elif test -d $cf_cv_use_libnss_compat/../include ; then
			cf_ssl_root=$cf_cv_use_libnss_compat/..
		else
			as_fn_error $? "cannot find NSS compilant library under $cf_cv_use_libnss_compat" "$LINENO" 5
		fi
		cf_ssl_library="-L$cf_ssl_root/lib $cf_ssl_library"
	else
		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: expected a directory: $cf_cv_use_libnss_compat" >&5
$as_echo "$as_me: WARNING: expected a directory: $cf_cv_use_libnss_compat" >&2;}
	fi
	;;
esac
LIBS="$cf_ssl_library $LIBS"
d15694 2
a15695 7
cf_ssl_subincs=yes
if test -n "$cf_ssl_root" ; then
	if test -d $cf_ssl_root/include ; then
		cf_ssl_cflags="-I$cf_ssl_root/include  $cf_ssl_cflags"
		test -d $cf_ssl_root/include/nss_compat_ossl || cf_ssl_subincs=no
	fi
fi
d15697 6
a15702 4
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=
d15704 2
a15705 9
for cf_add_cflags in $cf_ssl_cflags
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
d15707 13
a15719 10
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
d15721 2
a15722 51
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
	;;
esac
done

if test -n "$cf_new_cflags" ; then

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then

	CPPFLAGS="$CPPFLAGS $cf_new_cppflags"
fi

if test -n "$cf_new_extra_cppflags" ; then

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi





if test "$cf_ssl_subincs" = yes ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for NSS compilant include directory" >&5
$as_echo_n "checking for NSS compilant include directory... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15724 9
a15733 1
#include <nss_compat_ossl/nss_compat_ossl.h>
d15737 1
a15737 1
SSL_shutdown((SSL *)0)
d15742 13
a15754 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_ssl_incl=yes
d15756 3
a15758 1
  cf_ssl_incl=no
d15760 8
a15767 4
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_ssl_incl" >&5
$as_echo "$cf_ssl_incl" >&6; }
test "$cf_ssl_incl" = yes && $as_echo "#define USE_NSS_COMPAT_INCL 1" >>confdefs.h
d15769 13
d15784 18
a15801 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we can link to NSS compilant library" >&5
$as_echo_n "checking if we can link to NSS compilant library... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15803 9
a15812 6
#ifdef USE_NSS_COMPAT_INCL
#include <nss_compat_ossl/nss_compat_ossl.h>
#else
#include <ssl.h>
#endif

d15816 1
a15816 1
SSL_shutdown((SSL *)0)
d15821 13
a15833 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_ssl_library=yes
d15835 3
a15837 1
  cf_ssl_library=no
d15839 5
a15843 6
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_ssl_library" >&5
$as_echo "$cf_ssl_library" >&6; }
if test "$cf_ssl_library" = yes ; then
	$as_echo "#define USE_SSL 1" >>confdefs.h
d15845 2
a15846 1
	$as_echo "#define USE_X509_SUPPORT 1" >>confdefs.h
d15848 1
a15848 3
else
	as_fn_error $? "Cannot link with NSS compilant libraries" "$LINENO" 5
fi
d15850 1
a15850 1
fi
d15852 10
a15861 8
### check for ipv6 support
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether to enable ipv6" >&5
$as_echo_n "checking whether to enable ipv6... " >&6; }
# Check whether --enable-ipv6 was given.
if test "${enable_ipv6+set}" = set; then :
  enableval=$enable_ipv6; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    $as_echo "#define ENABLE_IPV6 1" >>confdefs.h
d15863 6
a15868 4
  fi
else
  enableval=no
fi
d15870 18
a15887 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
if test "$enableval" = "yes"; then
d15889 1
d15891 5
a15895 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking ipv6 stack type" >&5
$as_echo_n "checking ipv6 stack type... " >&6; }
if ${cf_cv_ipv6type+:} false; then :
  $as_echo_n "(cached) " >&6
else
d15897 1
a15897 16
cf_cv_ipv6type=unknown
for i in solaris inria kame linux-glibc linux-libinet6 toshiba v6d zeta
do
	case $i in #(vi
	solaris) #(vi
		if test "SunOS" = "`uname -s`"
		then
		  if test -f /usr/include/netinet/ip6.h
		  then
			cf_cv_ipv6type=$i
		  fi
		fi
		;;
	inria) #(vi
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15899 18
a15916 10
#include <netinet/in.h>
#ifdef IPV6_INRIA_VERSION
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then :
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d15918 1
a15918 4
		;;
	kame) #(vi
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15920 4
a15923 8
#include <netinet/in.h>
#ifdef __KAME__
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then :
  cf_cv_ipv6type=$i
a15924 1
rm -f conftest*
d15926 6
a15931 4
		;;
	linux-glibc) #(vi
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15933 2
a15934 10
#include <features.h>
#if defined(__GLIBC__) && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 1
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then :
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d15936 8
a15943 13
		;;
	linux-libinet6) #(vi
				if test -d /usr/inet6
		then
			cf_cv_ipv6type=$i
		elif test -f /usr/include/netinet/ip6.h
		then
			cf_cv_ipv6type=$i
		fi
		;;
	toshiba) #(vi
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15945 1
a15945 10
#include <sys/param.h>
#ifdef _TOSHIBA_INET6
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then :
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d15947 2
a15948 4
		;;
	v6d) #(vi
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15950 1
a15950 10
#include </usr/local/v6/include/sys/v6config.h>
#ifdef __V6D__
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then :
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d15952 2
a15953 4
		;;
	zeta)
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d15955 2
a15956 10
#include <sys/param.h>
#ifdef _ZETA_MINAMI_INET6
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "yes" >/dev/null 2>&1; then :
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d15958 12
a15969 6
		;;
	esac
	if test "$cf_cv_ipv6type" != "unknown"; then
		break
	fi
done
d15971 4
a15974 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ipv6type" >&5
$as_echo "$cf_cv_ipv6type" >&6; }
d15976 9
d15986 3
d15990 16
d16007 3
a16009 2
cf_ipv6lib=none
cf_ipv6dir=none
d16011 10
a16020 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for IPv6 library if required" >&5
$as_echo_n "checking for IPv6 library if required... " >&6; }
case $cf_cv_ipv6type in #(vi
solaris) #(vi
d16022 8
a16029 23
inria) #(vi
	;;
kame) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
linux-glibc) #(vi
	;;
linux-libinet6) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=inet6
	;;
toshiba) #(vi
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
v6d) #(vi
	cf_ipv6lib=v6
	cf_ipv6dir=v6
	;;
zeta)
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
d16032 8
a16039 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_ipv6lib" >&5
$as_echo "$cf_ipv6lib" >&6; }
d16041 2
a16042 1
if test "$cf_ipv6lib" != "none"; then
d16044 115
a16158 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a16159 4
#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
d16163 7
a16169 1
getaddrinfo(0, 0, 0, 0)
d16174 17
a16190 1
if ac_fn_c_try_link "$LINENO"; then :
d16193 14
d16208 1
d16210 1
d16219 1
a16219 1
test "$cf_header_path" != "NONE" && \
d16224 4
a16227 4
	test -d $cf_header_path/include/$cf_ipv6dir &&       cf_search="$cf_search $cf_header_path/include/$cf_ipv6dir"
	test -d $cf_header_path/include/$cf_ipv6dir/include &&    cf_search="$cf_search $cf_header_path/include/$cf_ipv6dir/include"
	test -d $cf_header_path/$cf_ipv6dir/include &&       cf_search="$cf_search $cf_header_path/$cf_ipv6dir/include"
	test -d $cf_header_path/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $cf_header_path/$cf_ipv6dir/include/$cf_ipv6dir"
d16236 1
a16236 1
cf_search=""
d16238 1
d16240 1
a16240 1
test "/usr" != "$prefix" && \
d16242 1
a16242 1
(test $prefix = NONE || test -d $prefix) && {
d16245 4
a16248 4
	test -d /usr/include/$cf_ipv6dir &&       cf_search="$cf_search /usr/include/$cf_ipv6dir"
	test -d /usr/include/$cf_ipv6dir/include &&    cf_search="$cf_search /usr/include/$cf_ipv6dir/include"
	test -d /usr/$cf_ipv6dir/include &&       cf_search="$cf_search /usr/$cf_ipv6dir/include"
	test -d /usr/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search /usr/$cf_ipv6dir/include/$cf_ipv6dir"
d16251 1
a16251 2

test "$prefix" != "NONE" && \
d16256 4
a16259 4
	test -d $prefix/include/$cf_ipv6dir &&       cf_search="$cf_search $prefix/include/$cf_ipv6dir"
	test -d $prefix/include/$cf_ipv6dir/include &&    cf_search="$cf_search $prefix/include/$cf_ipv6dir/include"
	test -d $prefix/$cf_ipv6dir/include &&       cf_search="$cf_search $prefix/$cf_ipv6dir/include"
	test -d $prefix/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $prefix/$cf_ipv6dir/include/$cf_ipv6dir"
d16262 1
a16262 2

test "/usr/local" != "$prefix" && \
d16264 1
a16264 1
(test $prefix = NONE || test -d $prefix) && {
d16267 4
a16270 4
	test -d /usr/local/include/$cf_ipv6dir &&       cf_search="$cf_search /usr/local/include/$cf_ipv6dir"
	test -d /usr/local/include/$cf_ipv6dir/include &&    cf_search="$cf_search /usr/local/include/$cf_ipv6dir/include"
	test -d /usr/local/$cf_ipv6dir/include &&       cf_search="$cf_search /usr/local/$cf_ipv6dir/include"
	test -d /usr/local/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search /usr/local/$cf_ipv6dir/include/$cf_ipv6dir"
d16273 1
a16273 2

test "/opt" != "$prefix" && \
d16275 1
a16275 1
(test $prefix = NONE || test -d $prefix) && {
d16278 4
a16281 4
	test -d /opt/include/$cf_ipv6dir &&       cf_search="$cf_search /opt/include/$cf_ipv6dir"
	test -d /opt/include/$cf_ipv6dir/include &&    cf_search="$cf_search /opt/include/$cf_ipv6dir/include"
	test -d /opt/$cf_ipv6dir/include &&       cf_search="$cf_search /opt/$cf_ipv6dir/include"
	test -d /opt/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search /opt/$cf_ipv6dir/include/$cf_ipv6dir"
d16284 1
a16284 2

test "$HOME" != "$prefix" && \
d16286 1
a16286 1
(test $prefix = NONE || test -d $prefix) && {
d16289 4
a16292 4
	test -d $HOME/include/$cf_ipv6dir &&       cf_search="$cf_search $HOME/include/$cf_ipv6dir"
	test -d $HOME/include/$cf_ipv6dir/include &&    cf_search="$cf_search $HOME/include/$cf_ipv6dir/include"
	test -d $HOME/$cf_ipv6dir/include &&       cf_search="$cf_search $HOME/$cf_ipv6dir/include"
	test -d $HOME/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $HOME/$cf_ipv6dir/include/$cf_ipv6dir"
a16294 2


d16299 1
a16299 1
	test -d $includedir/$cf_ipv6dir && cf_search="$cf_search $includedir/$cf_ipv6dir"
d16306 1
a16306 1
	test -d $oldincludedir/$cf_ipv6dir && cf_search="$cf_search $oldincludedir/$cf_ipv6dir"
d16309 1
a16309 1
cf_search="$cf_header_path_list $cf_search"
d16311 6
a16316 5
	for cf_incdir in $cf_search
	do
		cf_header=$cf_incdir/netinet/ip6.h
		if test -f $cf_header
		then
d16318 4
a16321 16
if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi
a16322 8
		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d16324 10
d16337 7
a16343 1
printf("Hello")
d16348 16
a16363 1
if ac_fn_c_try_compile "$LINENO"; then :
d16365 3
d16369 5
a16373 1
  cf_have_incdir=yes
d16375 5
a16379 5
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d16381 1
a16381 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d16383 2
a16384 1
echo "${as_me-configure}:15302: testing adding $cf_add_incdir to include-path ..." 1>&5
d16386 1
d16388 8
a16395 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
d16397 4
a16400 69
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

			test -n "$verbose" && echo "	... found $cf_header" 1>&6
			break
		fi
		test -n "$verbose" && echo "	... tested $cf_header" 1>&6
	done

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext


	eval 'cf_cv_have_lib_'$cf_ipv6lib'=no'
	cf_libdir=""
	ac_fn_c_check_func "$LINENO" "getaddrinfo" "ac_cv_func_getaddrinfo"
if test "x$ac_cv_func_getaddrinfo" = xyes; then :
  eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
else

		cf_save_LIBS="$LIBS"
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for getaddrinfo in -l$cf_ipv6lib" >&5
$as_echo_n "checking for getaddrinfo in -l$cf_ipv6lib... " >&6; }
		LIBS="-l$cf_ipv6lib $LIBS"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
int
main ()
{
getaddrinfo(0, 0, 0, 0)
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'

else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }

cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
d16402 4
a16405 4
	test -d $cf_library_path/lib/$cf_ipv6dir &&       cf_search="$cf_search $cf_library_path/lib/$cf_ipv6dir"
	test -d $cf_library_path/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $cf_library_path/lib/$cf_ipv6dir/lib"
	test -d $cf_library_path/$cf_ipv6dir/lib &&       cf_search="$cf_search $cf_library_path/$cf_ipv6dir/lib"
	test -d $cf_library_path/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $cf_library_path/$cf_ipv6dir/lib/$cf_ipv6dir"
d16414 1
a16414 2
cf_search=""

d16416 1
a16416 1
test "/usr" != "$prefix" && \
d16418 1
a16418 1
(test $prefix = NONE || test -d $prefix) && {
d16421 4
a16424 4
	test -d /usr/lib/$cf_ipv6dir &&       cf_search="$cf_search /usr/lib/$cf_ipv6dir"
	test -d /usr/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search /usr/lib/$cf_ipv6dir/lib"
	test -d /usr/$cf_ipv6dir/lib &&       cf_search="$cf_search /usr/$cf_ipv6dir/lib"
	test -d /usr/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search /usr/$cf_ipv6dir/lib/$cf_ipv6dir"
d16427 1
a16427 2

test "$prefix" != "NONE" && \
d16432 4
a16435 4
	test -d $prefix/lib/$cf_ipv6dir &&       cf_search="$cf_search $prefix/lib/$cf_ipv6dir"
	test -d $prefix/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $prefix/lib/$cf_ipv6dir/lib"
	test -d $prefix/$cf_ipv6dir/lib &&       cf_search="$cf_search $prefix/$cf_ipv6dir/lib"
	test -d $prefix/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $prefix/$cf_ipv6dir/lib/$cf_ipv6dir"
d16438 1
a16438 2

test "/usr/local" != "$prefix" && \
d16440 1
a16440 1
(test $prefix = NONE || test -d $prefix) && {
d16443 4
a16446 4
	test -d /usr/local/lib/$cf_ipv6dir &&       cf_search="$cf_search /usr/local/lib/$cf_ipv6dir"
	test -d /usr/local/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search /usr/local/lib/$cf_ipv6dir/lib"
	test -d /usr/local/$cf_ipv6dir/lib &&       cf_search="$cf_search /usr/local/$cf_ipv6dir/lib"
	test -d /usr/local/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search /usr/local/$cf_ipv6dir/lib/$cf_ipv6dir"
d16449 1
a16449 2

test "/opt" != "$prefix" && \
d16451 1
a16451 1
(test $prefix = NONE || test -d $prefix) && {
d16454 4
a16457 4
	test -d /opt/lib/$cf_ipv6dir &&       cf_search="$cf_search /opt/lib/$cf_ipv6dir"
	test -d /opt/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search /opt/lib/$cf_ipv6dir/lib"
	test -d /opt/$cf_ipv6dir/lib &&       cf_search="$cf_search /opt/$cf_ipv6dir/lib"
	test -d /opt/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search /opt/$cf_ipv6dir/lib/$cf_ipv6dir"
d16460 1
a16460 2

test "$HOME" != "$prefix" && \
d16462 1
a16462 1
(test $prefix = NONE || test -d $prefix) && {
d16465 4
a16468 4
	test -d $HOME/lib/$cf_ipv6dir &&       cf_search="$cf_search $HOME/lib/$cf_ipv6dir"
	test -d $HOME/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $HOME/lib/$cf_ipv6dir/lib"
	test -d $HOME/$cf_ipv6dir/lib &&       cf_search="$cf_search $HOME/$cf_ipv6dir/lib"
	test -d $HOME/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $HOME/$cf_ipv6dir/lib/$cf_ipv6dir"
d16471 6
d16478 1
d16480 6
a16485 1
cf_search="$cf_library_path_list $cf_search"
d16487 10
a16496 7
			for cf_libdir in $cf_search
			do
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for -l$cf_ipv6lib in $cf_libdir" >&5
$as_echo_n "checking for -l$cf_ipv6lib in $cf_libdir... " >&6; }
				LIBS="-L$cf_libdir -l$cf_ipv6lib $cf_save_LIBS"
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a16497 4
#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
d16501 7
a16507 1
getaddrinfo(0, 0, 0, 0)
d16512 20
a16531 5
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 		 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
					 break
d16533 7
a16539 3
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
					 LIBS="$cf_save_LIBS"
d16541 10
a16550 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
			done
d16553 1
a16553 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d16556 1
d16558 1
a16558 1
eval 'cf_found_library=$cf_cv_have_lib_'$cf_ipv6lib
d16560 5
d16566 1
a16566 3
	if test $cf_found_library = no ; then
		as_fn_error $? "No $cf_ipv6lib library found, cannot continue.  You must fetch lib$cf_ipv6lib.a
from an appropriate IPv6 kit and compile beforehand." "$LINENO" 5
a16567 1
fi
d16569 5
d16575 4
d16580 16
d16597 31
a16627 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking working getaddrinfo" >&5
$as_echo_n "checking working getaddrinfo... " >&6; }
if ${cf_cv_getaddrinfo+:} false; then :
  $as_echo_n "(cached) " >&6
d16629 9
d16639 2
a16640 5
if test "$cross_compiling" = yes; then :
  cf_cv_getaddrinfo=unknown
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d16642 1
a16642 5
#include <sys/types.h>
#include <netdb.h>
#include <string.h>
#include <sys/socket.h>
#include <netinet/in.h>
d16644 1
a16644 1
#define expect(a,b) if (strcmp(a,b) != 0) goto bad
d16646 10
a16655 5
int main()
{
   int passive, gaierr, inet4 = 0, inet6 = 0;
   struct addrinfo hints, *ai, *aitop;
   char straddr[INET6_ADDRSTRLEN], strport[16];
d16657 4
a16660 45
   for (passive = 0; passive <= 1; passive++) {
     memset(&hints, 0, sizeof(hints));
     hints.ai_family = AF_UNSPEC;
     hints.ai_flags = passive ? AI_PASSIVE : 0;
     hints.ai_socktype = SOCK_STREAM;
     if ((gaierr = getaddrinfo(NULL, "54321", &hints, &aitop)) != 0) {
       (void)gai_strerror(gaierr);
       goto bad;
     }
     for (ai = aitop; ai; ai = ai->ai_next) {
       if (ai->ai_addr == NULL ||
           ai->ai_addrlen == 0 ||
           getnameinfo(ai->ai_addr, ai->ai_addrlen,
                       straddr, sizeof(straddr), strport, sizeof(strport),
                       NI_NUMERICHOST|NI_NUMERICSERV) != 0) {
         goto bad;
       }
       switch (ai->ai_family) {
       case AF_INET:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "0.0.0.0");
         } else {
           expect(straddr, "127.0.0.1");
         }
         inet4++;
         break;
       case AF_INET6:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "::");
         } else {
           expect(straddr, "::1");
         }
         inet6++;
         break;
       case AF_UNSPEC:
         goto bad;
         break;
       default:
         /* another family support? */
         break;
       }
     }
   }
d16662 18
a16679 4
   if (!(inet4 == 0 || inet4 == 2))
     goto bad;
   if (!(inet6 == 0 || inet6 == 2))
     goto bad;
d16681 1
a16681 3
   if (aitop)
     freeaddrinfo(aitop);
   ${cf_cv_main_return-return}(0);
d16683 4
a16686 14
  bad:
   if (aitop)
     freeaddrinfo(aitop);
   ${cf_cv_main_return-return}(1);
}

_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  cf_cv_getaddrinfo=yes
else
  cf_cv_getaddrinfo=no
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
d16689 2
d16692 5
a16696 34
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_getaddrinfo" >&5
$as_echo "$cf_cv_getaddrinfo" >&6; }
if test "$cf_cv_getaddrinfo" = yes ; then
	$as_echo "#define HAVE_GAI_STRERROR 1" >>confdefs.h

	$as_echo "#define HAVE_GETADDRINFO 1" >>confdefs.h

fi


if test "$cf_cv_getaddrinfo" != "yes"; then
	if test "$cf_cv_ipv6type" != "linux"; then
		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: You must get working getaddrinfo() function,
or you can specify \"--disable-ipv6\"" >&5
$as_echo "$as_me: WARNING: You must get working getaddrinfo() function,
or you can specify \"--disable-ipv6\"" >&2;}
	else
		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: The getaddrinfo() implementation on your system seems be buggy.
You should upgrade your system library to the newest version
of GNU C library (aka glibc)." >&5
$as_echo "$as_me: WARNING: The getaddrinfo() implementation on your system seems be buggy.
You should upgrade your system library to the newest version
of GNU C library (aka glibc)." >&2;}
	fi
fi


fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for screen type" >&5
$as_echo_n "checking for screen type... " >&6; }
if ${cf_cv_screen+:} false; then :
  $as_echo_n "(cached) " >&6
d16698 5
d16704 28
a16731 11

# Check whether --with-screen was given.
if test "${with_screen+set}" = set; then :
  withval=$with_screen;
case $withval in
curses|ncurses|ncursesw|pdcurses|slang)
	cf_cv_screen=$withval
	;;
*)	as_fn_error $? "Unexpected value" "$LINENO" 5
	;;
esac
d16733 3
a16735 1
  cf_cv_screen=curses
d16737 2
a16738 1

d16740 4
a16743 40
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_screen" >&5
$as_echo "$cf_cv_screen" >&6; }

case $cf_cv_screen in
curses|ncurses*)


# Check whether --with-curses-dir was given.
if test "${with_curses_dir+set}" = set; then :
  withval=$with_curses_dir;
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  as_fn_error $? "expected a pathname, not \"$withval\"" "$LINENO" 5
  ;;
esac

	 cf_cv_curses_dir=$withval
d16745 4
a16748 18
  cf_cv_curses_dir=no
fi


	;;
esac

cf_wide_curses=no
dft_color_style=yes
case $cf_cv_screen in
curses)



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for extra include directories" >&5
$as_echo_n "checking for extra include directories... " >&6; }
if ${cf_cv_curses_incdir+:} false; then :
  $as_echo_n "(cached) " >&6
d16750 5
d16756 7
a16762 35
cf_cv_curses_incdir=no
case $host_os in #(vi
hpux10.*) #(vi
	test -d /usr/include/curses_colr && \
	cf_cv_curses_incdir="-I/usr/include/curses_colr"
	;;
sunos3*|sunos4*)
	test -d /usr/5lib && \
	test -d /usr/5include && \
	cf_cv_curses_incdir="-I/usr/5include"
	;;
esac

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_curses_incdir" >&5
$as_echo "$cf_cv_curses_incdir" >&6; }
test "$cf_cv_curses_incdir" != no && CPPFLAGS="$CPPFLAGS $cf_cv_curses_incdir"


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we have identified curses headers" >&5
$as_echo_n "checking if we have identified curses headers... " >&6; }
if ${cf_cv_ncurses_header+:} false; then :
  $as_echo_n "(cached) " >&6
else

cf_cv_ncurses_header=none
for cf_header in \
	curses.h \
	ncurses.h \
	ncurses/curses.h \
	ncurses/ncurses.h
do
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_header}>
d16766 1
a16766 1
initscr(); tgoto("?", 0,0)
d16771 17
a16787 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_ncurses_header=$cf_header; break
d16789 2
a16790 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done

d16792 8
a16799 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_header" >&5
$as_echo "$cf_cv_ncurses_header" >&6; }

if test "$cf_cv_ncurses_header" = none ; then
	as_fn_error $? "No curses header-files found" "$LINENO" 5
a16801 10
# cheat, to get the right #define's for HAVE_NCURSES_H, etc.
for ac_header in $cf_cv_ncurses_header
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF

d16804 1
a16804 1
done
d16806 5
a16811 20

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for terminfo header" >&5
$as_echo_n "checking for terminfo header... " >&6; }
if ${cf_cv_term_header+:} false; then :
  $as_echo_n "(cached) " >&6
else

case ${cf_cv_ncurses_header} in #(vi
*/ncurses.h|*/ncursesw.h) #(vi
	cf_term_header=`echo "$cf_cv_ncurses_header" | sed -e 's%ncurses[^.]*\.h$%term.h%'`
	;;
*)
	cf_term_header=term.h
	;;
esac

for cf_test in $cf_term_header "ncurses/term.h" "ncursesw/term.h"
do
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d16813 9
a16821 2
#include <${cf_cv_ncurses_header-curses.h}>
#include <$cf_test>
d16823 1
d16827 1
a16827 1
int x = auto_left_margin
d16832 28
a16859 1
if ac_fn_c_try_compile "$LINENO"; then :
d16861 9
a16869 1
	cf_cv_term_header="$cf_test"
d16871 11
d16883 10
a16892 1
	cf_cv_term_header=unknown
d16894 35
d16930 8
a16937 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
	test "$cf_cv_term_header" != unknown && break
done
d16939 1
a16939 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_term_header" >&5
$as_echo "$cf_cv_term_header" >&6; }
d16941 3
a16943 1
# Set definitions to allow ifdef'ing to accommodate subdirectories
d16945 1
a16945 3
case $cf_cv_term_header in # (vi
*term.h)
	$as_echo "#define HAVE_TERM_H 1" >>confdefs.h
d16947 6
a16952 2
	;;
esac
d16954 1
a16954 3
case $cf_cv_term_header in # (vi
ncurses/term.h) #(vi
	$as_echo "#define HAVE_NCURSES_TERM_H 1" >>confdefs.h
d16957 16
a16972 3
ncursesw/term.h)
	$as_echo "#define HAVE_NCURSESW_TERM_H 1" >>confdefs.h

d16975 9
d16985 14
d17000 3
d17004 16
a17019 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ncurses version" >&5
$as_echo_n "checking for ncurses version... " >&6; }
if ${cf_cv_ncurses_version+:} false; then :
  $as_echo_n "(cached) " >&6
else
d17021 3
a17023 4
	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then :
d17025 13
d17039 1
a17039 25
	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
#endif
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$cf_try\""; } >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi
d17041 6
a17046 3
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17048 1
a17048 22
#include <${cf_cv_ncurses_header-curses.h}>
#include <stdio.h>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	${cf_cv_main_return-return}(0);
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
d17050 1
a17050 4
	cf_cv_ncurses_version=`cat $cf_tempfile`
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
d17053 1
a17053 1
	rm -f $cf_tempfile
d17055 1
a17056 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_version" >&5
$as_echo "$cf_cv_ncurses_version" >&6; }
test "$cf_cv_ncurses_version" = no || $as_echo "#define NCURSES 1" >>confdefs.h
d17058 1
d17060 2
d17063 6
d17070 2
a17071 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we have identified curses libraries" >&5
$as_echo_n "checking if we have identified curses libraries... " >&6; }
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d17075 1
a17075 1
initscr(); tgoto("?", 0,0)
d17080 13
a17092 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_result=yes
d17094 12
a17105 1
  cf_result=no
a17106 4
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
d17108 5
a17112 12
if test "$cf_result" = no ; then
case $host_os in #(vi
freebsd*) #(vi
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for tgoto in -lmytinfo" >&5
$as_echo_n "checking for tgoto in -lmytinfo... " >&6; }
if ${ac_cv_lib_mytinfo_tgoto+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lmytinfo  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17114 5
a17118 5
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
d17120 1
a17120 1
char tgoto ();
d17124 1
a17124 1
return tgoto ();
d17129 31
a17159 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_mytinfo_tgoto=yes
d17161 3
a17163 1
  ac_cv_lib_mytinfo_tgoto=no
d17165 1
a17165 8
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_mytinfo_tgoto" >&5
$as_echo "$ac_cv_lib_mytinfo_tgoto" >&6; }
if test "x$ac_cv_lib_mytinfo_tgoto" = xyes; then :
  LIBS="-lmytinfo $LIBS"
d17168 15
a17182 6
    ;;
hpux10.*) #(vi
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -lcur_colr" >&5
$as_echo_n "checking for initscr in -lcur_colr... " >&6; }
if ${ac_cv_lib_cur_colr_initscr+:} false; then :
  $as_echo_n "(cached) " >&6
d17184 29
a17212 4
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lcur_colr  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17214 3
a17216 5
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
a17217 8
char initscr ();
int
main ()
{
return initscr ();
  ;
  return 0;
}
d17219 3
a17221 4
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_cur_colr_initscr=yes
else
  ac_cv_lib_cur_colr_initscr=no
d17223 1
a17223 7
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_cur_colr_initscr" >&5
$as_echo "$ac_cv_lib_cur_colr_initscr" >&6; }
if test "x$ac_cv_lib_cur_colr_initscr" = xyes; then :
d17225 5
a17229 2
        LIBS="-lcur_colr $LIBS"
        ac_cv_func_initscr=yes
d17231 10
a17240 1
else
d17242 5
a17246 9
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -lHcurses" >&5
$as_echo_n "checking for initscr in -lHcurses... " >&6; }
if ${ac_cv_lib_Hcurses_initscr+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lHcurses  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17248 3
a17250 5
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
a17251 8
char initscr ();
int
main ()
{
return initscr ();
  ;
  return 0;
}
d17253 3
a17255 4
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_Hcurses_initscr=yes
else
  ac_cv_lib_Hcurses_initscr=no
d17257 1
a17257 12
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_Hcurses_initscr" >&5
$as_echo "$ac_cv_lib_Hcurses_initscr" >&6; }
if test "x$ac_cv_lib_Hcurses_initscr" = xyes; then :

        # HP's header uses __HP_CURSES, but user claims _HP_CURSES.
        LIBS="-lHcurses $LIBS"
        CPPFLAGS="$CPPFLAGS -D__HP_CURSES -D_HP_CURSES"
        ac_cv_func_initscr=yes
d17259 14
a17272 1
fi
d17274 8
d17283 1
d17285 5
a17289 2
    ;;
linux*) # Suse Linux does not follow /usr/lib convention
d17291 10
a17300 18
if test -n "/lib" ; then
  for cf_add_libdir in /lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d17302 5
a17306 1
echo "${as_me-configure}:16121: testing adding $cf_add_libdir to library-path ..." 1>&5
d17308 8
a17315 5

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
d17317 1
d17319 6
a17324 3
    ;;
sunos3*|sunos4*)
    if test -d /usr/5lib ; then
d17326 3
a17328 18
if test -n "/usr/5lib" ; then
  for cf_add_libdir in /usr/5lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d17330 2
a17331 1
echo "${as_me-configure}:16153: testing adding $cf_add_libdir to library-path ..." 1>&5
d17333 29
a17361 11

        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

      LIBS="$LIBS -lcurses -ltermcap"
    fi
    ac_cv_func_initscr=yes
    ;;
d17363 2
d17366 1
a17366 4
if test ".$ac_cv_func_initscr" != .yes ; then
    cf_save_LIBS="$LIBS"
    cf_term_lib=""
    cf_curs_lib=""
d17368 3
a17370 6
    if test ".${cf_cv_ncurses_version-no}" != .no
    then
        cf_check_list="ncurses curses cursesX"
    else
        cf_check_list="cursesX curses ncurses"
    fi
d17372 4
a17375 27
    # Check for library containing tgoto.  Do this before curses library
    # because it may be needed to link the test-case for initscr.
    ac_fn_c_check_func "$LINENO" "tgoto" "ac_cv_func_tgoto"
if test "x$ac_cv_func_tgoto" = xyes; then :
  cf_term_lib=predefined
else

        for cf_term_lib in $cf_check_list termcap termlib unknown
        do
            as_ac_Lib=`$as_echo "ac_cv_lib_$cf_term_lib''_tgoto" | $as_tr_sh`
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for tgoto in -l$cf_term_lib" >&5
$as_echo_n "checking for tgoto in -l$cf_term_lib... " >&6; }
if eval \${$as_ac_Lib+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-l$cf_term_lib  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char tgoto ();
d17379 1
a17379 1
return tgoto ();
d17384 13
a17396 2
if ac_fn_c_try_link "$LINENO"; then :
  eval "$as_ac_Lib=yes"
d17398 2
a17399 12
  eval "$as_ac_Lib=no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
eval ac_res=\$$as_ac_Lib
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
if eval test \"x\$"$as_ac_Lib"\" = x"yes"; then :
  break
fi
d17401 1
a17401 1
        done
d17403 8
a17410 1
fi
d17412 18
d17431 1
a17431 14
    # Check for library containing initscr
    test "$cf_term_lib" != predefined && test "$cf_term_lib" != unknown && LIBS="-l$cf_term_lib $cf_save_LIBS"
 	for cf_curs_lib in $cf_check_list xcurses jcurses pdcurses unknown
    do
        as_ac_Lib=`$as_echo "ac_cv_lib_$cf_curs_lib''_initscr" | $as_tr_sh`
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -l$cf_curs_lib" >&5
$as_echo_n "checking for initscr in -l$cf_curs_lib... " >&6; }
if eval \${$as_ac_Lib+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-l$cf_curs_lib  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17433 9
a17441 13
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char initscr ();
int
main ()
{
return initscr ();
  ;
  return 0;
a17442 16
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  eval "$as_ac_Lib=yes"
else
  eval "$as_ac_Lib=no"
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
eval ac_res=\$$as_ac_Lib
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
if eval test \"x\$"$as_ac_Lib"\" = x"yes"; then :
  break
fi
d17444 10
a17453 2
    done
    test $cf_curs_lib = unknown && as_fn_error $? "no curses library found" "$LINENO" 5
d17455 9
a17463 13
    LIBS="-l$cf_curs_lib $cf_save_LIBS"
    if test "$cf_term_lib" = unknown ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if we can link with $cf_curs_lib library" >&5
$as_echo_n "checking if we can link with $cf_curs_lib library... " >&6; }
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
d17465 10
a17474 25
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_result=yes
else
  cf_result=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
        test $cf_result = no && as_fn_error $? "Cannot link curses library" "$LINENO" 5
    elif test "$cf_curs_lib" = "$cf_term_lib" ; then
        :
    elif test "$cf_term_lib" != predefined ; then
        { $as_echo "$as_me:${as_lineno-$LINENO}: checking if we need both $cf_curs_lib and $cf_term_lib libraries" >&5
$as_echo_n "checking if we need both $cf_curs_lib and $cf_term_lib libraries... " >&6; }
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
initscr(); tgoto((char *)0, 0, 0);
  ;
  return 0;
a17475 4
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_result=no
else
d17477 9
a17485 10
            LIBS="-l$cf_curs_lib -l$cf_term_lib $cf_save_LIBS"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
a17486 8
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_result=yes
else
  cf_result=error
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d17488 6
a17493 8
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
        { $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
    fi
fi
fi
d17495 6
d17502 1
d17504 5
d17510 16
a17525 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for curses performance tradeoff" >&5
$as_echo_n "checking for curses performance tradeoff... " >&6; }
if ${cf_cv_curs_performance+:} false; then :
  $as_echo_n "(cached) " >&6
else
d17527 10
a17536 5
    cf_cv_curs_performance=no
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <${cf_cv_ncurses_header-curses.h}>
d17540 1
a17540 7

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ERR;
#else
	int x = ;	/* force an error */
#endif

d17545 23
a17567 1
if ac_fn_c_try_compile "$LINENO"; then :
d17569 2
a17570 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17572 1
a17572 5
#define CURS_PERFORMANCE
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
d17574 1
a17574 5
#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ;	/* force an error */
#else
	int x = ERR;
#endif
d17576 9
a17584 10
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_curs_performance=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d17587 5
a17591 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_curs_performance" >&5
$as_echo "$cf_cv_curs_performance" >&6; }
test $cf_cv_curs_performance = yes && $as_echo "#define CURS_PERFORMANCE 1" >>confdefs.h
d17593 2
d17596 6
a17601 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for curses touchline function" >&5
$as_echo_n "checking for curses touchline function... " >&6; }
if ${cf_cv_curs_touchline+:} false; then :
  $as_echo_n "(cached) " >&6
d17603 14
a17617 4
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <${cf_cv_ncurses_header-curses.h}>
d17621 9
a17629 1
touchline(stdscr, 1,2,3);
d17634 24
a17657 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_curs_touchline=bsd
a17658 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17660 12
a17671 1
#include <${cf_cv_ncurses_header-curses.h}>
d17675 1
a17675 1
touchline(stdscr, 1,2);
d17680 16
a17695 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_curs_touchline=sysv
d17697 4
a17700 13
  cf_cv_curs_touchline=bsd
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_curs_touchline" >&5
$as_echo "$cf_cv_curs_touchline" >&6; }
case "$cf_cv_curs_touchline" in #(vi
bsd) #(vi
	$as_echo "#define HAVE_BSD_TOUCHLINE 1" >>confdefs.h
d17702 8
a17709 3
	;;
sysv)
	$as_echo "#define HAVE_SYSV_TOUCHLINE 1" >>confdefs.h
d17711 10
a17720 2
	;;
esac
d17722 4
a17725 45
	;;
ncurses)

cf_ncuconfig_root=ncurses

echo "Looking for ${cf_ncuconfig_root}-config"
for ac_prog in ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_NCURSES_CONFIG+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $NCURSES_CONFIG in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_NCURSES_CONFIG="$NCURSES_CONFIG" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_NCURSES_CONFIG="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
NCURSES_CONFIG=$ac_cv_path_NCURSES_CONFIG
if test -n "$NCURSES_CONFIG"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $NCURSES_CONFIG" >&5
$as_echo "$NCURSES_CONFIG" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d17728 1
d17730 10
a17739 3
  test -n "$NCURSES_CONFIG" && break
done
test -n "$NCURSES_CONFIG" || NCURSES_CONFIG="none"
d17741 10
d17752 10
a17761 1
if test "$NCURSES_CONFIG" != none ; then
d17763 10
a17772 1
cf_cv_ncurses_header=curses.h
d17774 10
a17783 2
CPPFLAGS="$CPPFLAGS `$NCURSES_CONFIG --cflags`"
LIBS="`$NCURSES_CONFIG --libs` $LIBS"
d17785 1
a17785 1
$as_echo "#define NCURSES 1" >>confdefs.h
d17787 8
d17796 4
a17799 45

cf_nculib_ROOT=`echo "HAVE_LIB$cf_ncuconfig_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<_ACEOF
#define $cf_nculib_ROOT 1
_ACEOF


cf_cv_ncurses_version=`$NCURSES_CONFIG --version`

else



cf_ncuhdr_root=ncurses

test -n "$cf_cv_curses_dir" && \
test "$cf_cv_curses_dir" != "no" && { \

if test -n "$cf_cv_curses_dir/include $cf_cv_curses_dir/include/$cf_ncuhdr_root" ; then
  for cf_add_incdir in $cf_cv_curses_dir/include $cf_cv_curses_dir/include/$cf_ncuhdr_root
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d17803 1
a17803 1
printf("Hello")
d17808 16
a17823 2
if ac_fn_c_try_compile "$LINENO"; then :

d17825 5
a17829 1
  cf_have_incdir=yes
d17831 2
a17832 5
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d17834 2
a17835 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d17837 1
a17837 1
echo "${as_me-configure}:16609: testing adding $cf_add_incdir to include-path ..." 1>&5
d17839 1
d17841 7
a17847 11
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d17850 5
a17854 1
}
d17856 2
a17857 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_ncuhdr_root header in include-path" >&5
$as_echo_n "checking for $cf_ncuhdr_root header in include-path... " >&6; }
if ${cf_cv_ncurses_h+:} false; then :
  $as_echo_n "(cached) " >&6
d17859 3
d17863 5
a17867 4
	cf_header_list="$cf_ncuhdr_root/curses.h $cf_ncuhdr_root/ncurses.h"
	( test "$cf_ncuhdr_root" = ncurses || test "$cf_ncuhdr_root" = ncursesw ) && cf_header_list="$cf_header_list curses.h ncurses.h"
	for cf_header in $cf_header_list
	do
d17869 1
a17869 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d17871 1
a17871 4

#include <$cf_header>
int
main ()
d17873 3
d17877 45
a17921 1
#ifdef NCURSES_VERSION
d17923 4
a17926 8
printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif
d17928 3
d17932 4
a17935 2
  ;
  return 0;
d17937 1
d17939 12
a17950 3
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_ncurses_h=$cf_header

d17952 6
a17957 1
  cf_cv_ncurses_h=no
a17958 4
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

		test "$cf_cv_ncurses_h" != no && break
	done
d17961 3
a17963 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_h" >&5
$as_echo "$cf_cv_ncurses_h" >&6; }
d17965 3
d17969 3
d17973 1
a17973 3
if test "$cf_cv_ncurses_h" != no ; then
	cf_cv_ncurses_header=$cf_cv_ncurses_h
else
d17975 15
a17989 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_ncuhdr_root include-path" >&5
$as_echo_n "checking for $cf_ncuhdr_root include-path... " >&6; }
if ${cf_cv_ncurses_h2+:} false; then :
  $as_echo_n "(cached) " >&6
else
d17991 1
a17991 1
	test -n "$verbose" && echo
d17993 5
a17997 7
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`
d17999 3
a18001 10
test "$cf_header_path" != "NONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/$cf_ncuhdr_root &&       cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root"
	test -d $cf_header_path/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include &&       cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}
d18003 12
a18014 4
			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
d18016 2
d18019 2
a18020 1
cf_search=""
d18022 2
d18025 9
a18033 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/$cf_ncuhdr_root &&       cf_search="$cf_search /usr/include/$cf_ncuhdr_root"
	test -d /usr/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/include/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}
d18035 2
d18038 5
a18042 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/$cf_ncuhdr_root &&       cf_search="$cf_search $prefix/include/$cf_ncuhdr_root"
	test -d $prefix/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $prefix/include/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include &&       cf_search="$cf_search $prefix/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}
d18044 24
d18069 2
a18070 52
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/$cf_ncuhdr_root &&       cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root"
	test -d /usr/local/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}


test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/$cf_ncuhdr_root &&       cf_search="$cf_search /opt/include/$cf_ncuhdr_root"
	test -d /opt/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search /opt/include/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include &&       cf_search="$cf_search /opt/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}


test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/$cf_ncuhdr_root &&       cf_search="$cf_search $HOME/include/$cf_ncuhdr_root"
	test -d $HOME/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $HOME/include/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include &&       cf_search="$cf_search $HOME/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}



test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/$cf_ncuhdr_root && cf_search="$cf_search $includedir/$cf_ncuhdr_root"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/$cf_ncuhdr_root && cf_search="$cf_search $oldincludedir/$cf_ncuhdr_root"
}

cf_search="$cf_header_path_list $cf_search"
d18072 2
a18073 7
	test -n "$verbose" && echo search path $cf_search
	cf_save2_CPPFLAGS="$CPPFLAGS"
	for cf_incdir in $cf_search
	do

if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
d18095 3
a18097 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d18107 13
a18119 2
if ac_fn_c_try_compile "$LINENO"; then :

d18121 3
a18123 1
  cf_have_incdir=yes
d18125 1
a18125 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d18134 1
a18134 2
echo "${as_me-configure}:16850: testing adding $cf_add_incdir to include-path ..." 1>&5

d18149 29
a18177 4
		for cf_header in \
			ncurses.h \
			curses.h
		do
d18179 2
a18180 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d18182 4
d18187 5
a18191 4
#include <$cf_header>
int
main ()
{
d18193 18
a18210 1
#ifdef NCURSES_VERSION
d18212 4
a18215 8
printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif
d18217 5
d18223 13
d18240 23
a18262 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_ncurses_h2=$cf_header
d18264 4
a18267 2
else
  cf_cv_ncurses_h2=no
a18268 13
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

			if test "$cf_cv_ncurses_h2" != no ; then
				cf_cv_ncurses_h2=$cf_incdir/$cf_header
				test -n "$verbose" && echo $ac_n "	... found $ac_c" 1>&6
				break
			fi
			test -n "$verbose" && echo "	... tested $cf_incdir/$cf_header" 1>&6
		done
		CPPFLAGS="$cf_save2_CPPFLAGS"
		test "$cf_cv_ncurses_h2" != no && break
	done
	test "$cf_cv_ncurses_h2" = no && as_fn_error $? "not found" "$LINENO" 5
d18270 30
d18301 2
a18302 45
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_h2" >&5
$as_echo "$cf_cv_ncurses_h2" >&6; }

	cf_1st_incdir=`echo $cf_cv_ncurses_h2 | sed -e 's%/[^/]*$%%'`
	cf_cv_ncurses_header=`basename $cf_cv_ncurses_h2`
	if test `basename $cf_1st_incdir` = $cf_ncuhdr_root ; then
		cf_cv_ncurses_header=$cf_ncuhdr_root/$cf_cv_ncurses_header
	fi

if test -n "$cf_1st_incdir" ; then
  for cf_add_incdir in $cf_1st_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

d18304 3
a18306 1
  cf_have_incdir=yes
d18308 1
a18308 23
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me-configure}:16974: testing adding $cf_add_incdir to include-path ..." 1>&5


		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d18310 6
a18315 1

d18318 1
d18320 4
a18323 26
# Set definitions to allow ifdef'ing for ncurses.h

case $cf_cv_ncurses_header in # (vi
*ncurses.h)
	$as_echo "#define HAVE_NCURSES_H 1" >>confdefs.h

	;;
esac

case $cf_cv_ncurses_header in # (vi
ncurses/curses.h|ncurses/ncurses.h)
	$as_echo "#define HAVE_NCURSES_NCURSES_H 1" >>confdefs.h

	;;
ncursesw/curses.h|ncursesw/ncurses.h)
	$as_echo "#define HAVE_NCURSESW_NCURSES_H 1" >>confdefs.h

	;;
esac



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for terminfo header" >&5
$as_echo_n "checking for terminfo header... " >&6; }
if ${cf_cv_term_header+:} false; then :
  $as_echo_n "(cached) " >&6
d18337 3
a18339 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d18341 1
a18341 1
#include <${cf_cv_ncurses_header-curses.h}>
d18352 12
a18363 1
if ac_fn_c_try_compile "$LINENO"; then :
d18367 2
d18373 1
a18373 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d18378 2
a18379 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_term_header" >&5
$as_echo "$cf_cv_term_header" >&6; }
d18385 4
a18388 1
	$as_echo "#define HAVE_TERM_H 1" >>confdefs.h
d18395 4
a18398 1
	$as_echo "#define HAVE_NCURSES_TERM_H 1" >>confdefs.h
d18402 4
a18405 1
	$as_echo "#define HAVE_NCURSESW_TERM_H 1" >>confdefs.h
d18410 4
a18413 10

# some applications need this, but should check for NCURSES_VERSION
$as_echo "#define NCURSES 1" >>confdefs.h



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ncurses version" >&5
$as_echo_n "checking for ncurses version... " >&6; }
if ${cf_cv_ncurses_version+:} false; then :
  $as_echo_n "(cached) " >&6
d18419 1
a18419 2
	if test "$cross_compiling" = yes; then :

d18424 1
a18424 1
#include <${cf_cv_ncurses_header-curses.h}>
d18436 1
a18436 1
	{ { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$cf_try\""; } >&5
d18439 2
a18440 2
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
d18448 3
a18450 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d18452 1
a18452 1
#include <${cf_cv_ncurses_header-curses.h}>
d18470 1
a18470 1
	${cf_cv_main_return-return}(0);
d18473 11
a18483 1
if ac_fn_c_try_run "$LINENO"; then :
d18486 4
d18491 1
a18491 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
a18492 1

d18496 6
a18501 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_version" >&5
$as_echo "$cf_cv_ncurses_version" >&6; }
test "$cf_cv_ncurses_version" = no || $as_echo "#define NCURSES 1" >>confdefs.h
d18503 35
d18539 7
a18545 13



cf_nculib_root=ncurses
	# This works, except for the special case where we find gpm, but
	# ncurses is in a nonstandard location via $LIBS, and we really want
	# to link gpm.
cf_ncurses_LIBS=""
cf_ncurses_SAVE="$LIBS"
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Gpm_Open in -lgpm" >&5
$as_echo_n "checking for Gpm_Open in -lgpm... " >&6; }
if ${ac_cv_lib_gpm_Gpm_Open+:} false; then :
  $as_echo_n "(cached) " >&6
d18548 4
a18551 3
LIBS="-lgpm  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d18553 1
a18553 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d18557 3
a18559 1
char Gpm_Open ();
d18563 1
a18563 1
return Gpm_Open ();
d18568 13
a18580 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_gpm_Gpm_Open=yes
d18582 3
a18584 1
  ac_cv_lib_gpm_Gpm_Open=no
d18586 1
a18586 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d18589 18
a18606 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gpm_Gpm_Open" >&5
$as_echo "$ac_cv_lib_gpm_Gpm_Open" >&6; }
if test "x$ac_cv_lib_gpm_Gpm_Open" = xyes; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -lgpm" >&5
$as_echo_n "checking for initscr in -lgpm... " >&6; }
if ${ac_cv_lib_gpm_initscr+:} false; then :
  $as_echo_n "(cached) " >&6
d18609 4
a18612 3
LIBS="-lgpm  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d18614 1
a18614 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d18618 2
d18624 1
a18624 1
return initscr ();
d18629 13
a18641 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_gpm_initscr=yes
d18643 3
a18645 1
  ac_cv_lib_gpm_initscr=no
d18647 1
a18647 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d18650 3
a18652 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gpm_initscr" >&5
$as_echo "$ac_cv_lib_gpm_initscr" >&6; }
if test "x$ac_cv_lib_gpm_initscr" = xyes; then :
  LIBS="$cf_ncurses_SAVE"
else
  cf_ncurses_LIBS="-lgpm"
fi
d18654 2
a18655 1
fi
d18657 1
d18659 4
a18662 9
case $host_os in #(vi
freebsd*)
	# This is only necessary if you are linking against an obsolete
	# version of ncurses (but it should do no harm, since it's static).
	if test "$cf_nculib_root" = ncurses ; then
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for tgoto in -lmytinfo" >&5
$as_echo_n "checking for tgoto in -lmytinfo... " >&6; }
if ${ac_cv_lib_mytinfo_tgoto+:} false; then :
  $as_echo_n "(cached) " >&6
d18665 4
a18668 3
LIBS="-lmytinfo  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d18670 1
a18670 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d18674 3
a18676 1
char tgoto ();
d18680 1
a18680 1
return tgoto ();
d18685 13
a18697 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_mytinfo_tgoto=yes
d18699 3
a18701 1
  ac_cv_lib_mytinfo_tgoto=no
d18703 1
a18703 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d18706 11
a18716 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_mytinfo_tgoto" >&5
$as_echo "$ac_cv_lib_mytinfo_tgoto" >&6; }
if test "x$ac_cv_lib_mytinfo_tgoto" = xyes; then :
  cf_ncurses_LIBS="-lmytinfo $cf_ncurses_LIBS"
d18721 5
a18725 6
esac

LIBS="$cf_ncurses_LIBS $LIBS"

if ( test -n "$cf_cv_curses_dir" && test "$cf_cv_curses_dir" != "no" )
then
d18727 2
a18728 2
if test -n "$cf_cv_curses_dir/lib" ; then
  for cf_add_libdir in $cf_cv_curses_dir/lib
d18746 1
a18746 2
echo "${as_me-configure}:17331: testing adding $cf_add_libdir to library-path ..." 1>&5

d18754 1
a18754 2
	LIBS="-l$cf_nculib_root $LIBS"
else
d18756 18
a18773 6
	eval 'cf_cv_have_lib_'$cf_nculib_root'=no'
	cf_libdir=""
	ac_fn_c_check_func "$LINENO" "initscr" "ac_cv_func_initscr"
if test "x$ac_cv_func_initscr" = xyes; then :
  eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
else
d18775 1
a18775 19
		cf_save_LIBS="$LIBS"
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -l$cf_nculib_root" >&5
$as_echo_n "checking for initscr in -l$cf_nculib_root... " >&6; }
		LIBS="-l$cf_nculib_root $LIBS"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
d18777 5
a18781 3
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d18783 22
a18804 7
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`
d18806 1
a18806 10
test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/$cf_nculib_root &&       cf_search="$cf_search $cf_library_path/lib/$cf_nculib_root"
	test -d $cf_library_path/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $cf_library_path/lib/$cf_nculib_root/lib"
	test -d $cf_library_path/$cf_nculib_root/lib &&       cf_search="$cf_search $cf_library_path/$cf_nculib_root/lib"
	test -d $cf_library_path/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $cf_library_path/$cf_nculib_root/lib/$cf_nculib_root"
}
d18808 4
a18811 4
			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
d18814 7
a18820 1
cf_search=""
d18822 18
d18841 1
a18841 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/$cf_nculib_root &&       cf_search="$cf_search /usr/lib/$cf_nculib_root"
	test -d /usr/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/lib/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/$cf_nculib_root/lib/$cf_nculib_root"
}
d18843 5
d18849 6
a18854 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/$cf_nculib_root &&       cf_search="$cf_search $prefix/lib/$cf_nculib_root"
	test -d $prefix/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $prefix/lib/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib &&       cf_search="$cf_search $prefix/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $prefix/$cf_nculib_root/lib/$cf_nculib_root"
}
d18856 2
d18859 6
a18864 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/$cf_nculib_root &&       cf_search="$cf_search /usr/local/lib/$cf_nculib_root"
	test -d /usr/local/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/local/lib/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/local/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/local/$cf_nculib_root/lib/$cf_nculib_root"
}
d18866 23
d18890 11
a18900 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/$cf_nculib_root &&       cf_search="$cf_search /opt/lib/$cf_nculib_root"
	test -d /opt/lib/$cf_nculib_root/lib &&    cf_search="$cf_search /opt/lib/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib &&       cf_search="$cf_search /opt/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search /opt/$cf_nculib_root/lib/$cf_nculib_root"
}
d18902 2
a18903 10

test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/$cf_nculib_root &&       cf_search="$cf_search $HOME/lib/$cf_nculib_root"
	test -d $HOME/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $HOME/lib/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib &&       cf_search="$cf_search $HOME/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $HOME/$cf_nculib_root/lib/$cf_nculib_root"
d18905 26
d18932 13
d18946 7
a18952 11

cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for -l$cf_nculib_root in $cf_libdir" >&5
$as_echo_n "checking for -l$cf_nculib_root in $cf_libdir... " >&6; }
				LIBS="-L$cf_libdir -l$cf_nculib_root $cf_save_LIBS"
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d18956 1
a18956 1
initscr()
d18961 13
a18973 5
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 		 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
					 break
d18975 3
a18977 3
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
					 LIBS="$cf_save_LIBS"
d18979 2
a18980 4
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
			done

d18982 4
a18985 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

d18988 1
a18988 1
eval 'cf_found_library=$cf_cv_have_lib_'$cf_nculib_root
a18989 2
if test $cf_found_library = no ; then
	as_fn_error $? "Cannot link $cf_nculib_root library" "$LINENO" 5
d18992 1
d18994 17
a19010 1
fi
d19012 7
a19018 13
if test -n "$cf_ncurses_LIBS" ; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
$as_echo_n "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS... " >&6; }
	cf_ncurses_SAVE="$LIBS"
	for p in $cf_ncurses_LIBS ; do
		q=`echo $LIBS | sed -e "s%$p %%" -e "s%$p$%%"`
		if test "$q" != "$LIBS" ; then
			LIBS="$q"
		fi
	done
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d19022 1
a19022 1
initscr(); mousemask(0,0); tgoto((char *)0, 0, 0);
d19027 13
a19039 3
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
d19041 6
a19046 3
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
		 LIBS="$cf_ncurses_SAVE"
d19048 4
a19051 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d19054 21
a19074 5

cf_nculib_ROOT=`echo "HAVE_LIB$cf_nculib_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<_ACEOF
#define $cf_nculib_ROOT 1
d19076 13
a19088 12



fi

	;;
ncursesw)

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for multibyte character support" >&5
$as_echo_n "checking for multibyte character support... " >&6; }
if ${cf_cv_utf8_lib+:} false; then :
  $as_echo_n "(cached) " >&6
d19090 19
a19108 6

	cf_save_LIBS="$LIBS"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdlib.h>
d19112 1
a19112 1
putwc(0,0);
d19117 13
a19129 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_utf8_lib=yes
d19131 2
d19134 5
a19138 14

# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_utf8=
cf_cv_library_path_utf8=


echo "${as_me-configure}:17587: testing Starting FIND_LINKAGE(utf8,) ..." 1>&5


cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <libutf8.h>
d19142 1
a19142 1
putwc(0,0);
d19147 13
a19159 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_utf8=yes
d19161 5
d19167 7
a19173 1
    cf_cv_find_linkage_utf8=no
d19175 5
a19179 1
    test -n "$verbose" && echo "	find linkage for utf8 library" 1>&6
d19181 4
a19184 1
echo "${as_me-configure}:17610: testing find linkage for utf8 library ..." 1>&5
d19186 4
d19191 5
d19197 16
a19212 1
echo "${as_me-configure}:17614: testing Searching for headers in FIND_LINKAGE(utf8,) ..." 1>&5
d19214 3
d19218 5
a19222 2
    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"
d19224 5
d19230 28
a19257 7
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`
d19259 6
a19264 10
test "$cf_header_path" != "NONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/utf8 &&       cf_search="$cf_search $cf_header_path/include/utf8"
	test -d $cf_header_path/include/utf8/include &&    cf_search="$cf_search $cf_header_path/include/utf8/include"
	test -d $cf_header_path/utf8/include &&       cf_search="$cf_search $cf_header_path/utf8/include"
	test -d $cf_header_path/utf8/include/utf8 &&    cf_search="$cf_search $cf_header_path/utf8/include/utf8"
}
d19266 5
a19270 5
			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi
d19272 3
a19274 1
cf_search=""
d19276 28
d19305 7
a19311 9
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/utf8 &&       cf_search="$cf_search /usr/include/utf8"
	test -d /usr/include/utf8/include &&    cf_search="$cf_search /usr/include/utf8/include"
	test -d /usr/utf8/include &&       cf_search="$cf_search /usr/utf8/include"
	test -d /usr/utf8/include/utf8 &&    cf_search="$cf_search /usr/utf8/include/utf8"
d19313 27
d19341 3
d19345 2
a19346 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/utf8 &&       cf_search="$cf_search $prefix/include/utf8"
	test -d $prefix/include/utf8/include &&    cf_search="$cf_search $prefix/include/utf8/include"
	test -d $prefix/utf8/include &&       cf_search="$cf_search $prefix/utf8/include"
	test -d $prefix/utf8/include/utf8 &&    cf_search="$cf_search $prefix/utf8/include/utf8"
}
d19348 3
d19352 2
a19353 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/utf8 &&       cf_search="$cf_search /usr/local/include/utf8"
	test -d /usr/local/include/utf8/include &&    cf_search="$cf_search /usr/local/include/utf8/include"
	test -d /usr/local/utf8/include &&       cf_search="$cf_search /usr/local/utf8/include"
	test -d /usr/local/utf8/include/utf8 &&    cf_search="$cf_search /usr/local/utf8/include/utf8"
}
d19355 2
d19358 1
a19358 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/utf8 &&       cf_search="$cf_search /opt/include/utf8"
	test -d /opt/include/utf8/include &&    cf_search="$cf_search /opt/include/utf8/include"
	test -d /opt/utf8/include &&       cf_search="$cf_search /opt/utf8/include"
	test -d /opt/utf8/include/utf8 &&    cf_search="$cf_search /opt/utf8/include/utf8"
}
d19360 1
d19362 23
a19384 10
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/utf8 &&       cf_search="$cf_search $HOME/include/utf8"
	test -d $HOME/include/utf8/include &&    cf_search="$cf_search $HOME/include/utf8/include"
	test -d $HOME/utf8/include &&       cf_search="$cf_search $HOME/utf8/include"
	test -d $HOME/utf8/include/utf8 &&    cf_search="$cf_search $HOME/utf8/include/utf8"
}
d19386 10
d19397 27
d19425 10
a19434 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/utf8 && cf_search="$cf_search $includedir/utf8"
}
d19436 3
a19438 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/utf8 && cf_search="$cf_search $oldincludedir/utf8"
}
d19440 2
a19441 1
cf_search="$cf_header_path_list $cf_search"
d19443 1
a19443 4
    for cf_cv_header_path_utf8 in $cf_search
    do
      if test -d $cf_cv_header_path_utf8 ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_utf8" 1>&6
d19445 2
a19446 1
echo "${as_me-configure}:17731: testing ... testing $cf_cv_header_path_utf8 ..." 1>&5
d19448 1
d19450 5
a19454 3
        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_utf8"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d19456 11
a19466 1
#include <libutf8.h>
d19470 1
a19470 1
putwc(0,0);
d19475 19
a19493 1
if ac_fn_c_try_compile "$LINENO"; then :
d19495 3
a19497 1
            test -n "$verbose" && echo "	... found utf8 headers in $cf_cv_header_path_utf8" 1>&6
d19499 5
a19503 1
echo "${as_me-configure}:17751: testing ... found utf8 headers in $cf_cv_header_path_utf8 ..." 1>&5
d19505 1
d19507 31
a19537 3
            cf_cv_find_linkage_utf8=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
d19539 12
a19550 2

            CPPFLAGS="$cf_save_CPPFLAGS"
d19553 1
a19553 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
      fi
    done
d19555 3
a19557 1
    if test "$cf_cv_find_linkage_utf8" = maybe ; then
d19559 1
d19561 3
a19563 1
echo "${as_me-configure}:17769: testing Searching for utf8 library in FIND_LINKAGE(utf8,) ..." 1>&5
d19565 1
d19567 1
a19567 2
      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"
d19569 1
d19571 2
d19574 2
a19575 172
      if test "$cf_cv_find_linkage_utf8" != yes ; then

cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/utf8 &&       cf_search="$cf_search $cf_library_path/lib/utf8"
	test -d $cf_library_path/lib/utf8/lib &&    cf_search="$cf_search $cf_library_path/lib/utf8/lib"
	test -d $cf_library_path/utf8/lib &&       cf_search="$cf_search $cf_library_path/utf8/lib"
	test -d $cf_library_path/utf8/lib/utf8 &&    cf_search="$cf_search $cf_library_path/utf8/lib/utf8"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi

cf_search=""


test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/utf8 &&       cf_search="$cf_search /usr/lib/utf8"
	test -d /usr/lib/utf8/lib &&    cf_search="$cf_search /usr/lib/utf8/lib"
	test -d /usr/utf8/lib &&       cf_search="$cf_search /usr/utf8/lib"
	test -d /usr/utf8/lib/utf8 &&    cf_search="$cf_search /usr/utf8/lib/utf8"
}


test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/utf8 &&       cf_search="$cf_search $prefix/lib/utf8"
	test -d $prefix/lib/utf8/lib &&    cf_search="$cf_search $prefix/lib/utf8/lib"
	test -d $prefix/utf8/lib &&       cf_search="$cf_search $prefix/utf8/lib"
	test -d $prefix/utf8/lib/utf8 &&    cf_search="$cf_search $prefix/utf8/lib/utf8"
}


test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/utf8 &&       cf_search="$cf_search /usr/local/lib/utf8"
	test -d /usr/local/lib/utf8/lib &&    cf_search="$cf_search /usr/local/lib/utf8/lib"
	test -d /usr/local/utf8/lib &&       cf_search="$cf_search /usr/local/utf8/lib"
	test -d /usr/local/utf8/lib/utf8 &&    cf_search="$cf_search /usr/local/utf8/lib/utf8"
}


test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/utf8 &&       cf_search="$cf_search /opt/lib/utf8"
	test -d /opt/lib/utf8/lib &&    cf_search="$cf_search /opt/lib/utf8/lib"
	test -d /opt/utf8/lib &&       cf_search="$cf_search /opt/utf8/lib"
	test -d /opt/utf8/lib/utf8 &&    cf_search="$cf_search /opt/utf8/lib/utf8"
}


test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/utf8 &&       cf_search="$cf_search $HOME/lib/utf8"
	test -d $HOME/lib/utf8/lib &&    cf_search="$cf_search $HOME/lib/utf8/lib"
	test -d $HOME/utf8/lib &&       cf_search="$cf_search $HOME/utf8/lib"
	test -d $HOME/utf8/lib/utf8 &&    cf_search="$cf_search $HOME/utf8/lib/utf8"
}



cf_search="$cf_library_path_list $cf_search"

        for cf_cv_library_path_utf8 in $cf_search
        do
          if test -d $cf_cv_library_path_utf8 ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_utf8" 1>&6

echo "${as_me-configure}:17875: testing ... testing $cf_cv_library_path_utf8 ..." 1>&5


            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lutf8  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_utf8"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <libutf8.h>
int
main ()
{
putwc(0,0);
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :

                test -n "$verbose" && echo "	... found utf8 library in $cf_cv_library_path_utf8" 1>&6

echo "${as_me-configure}:17897: testing ... found utf8 library in $cf_cv_library_path_utf8 ..." 1>&5


                cf_cv_find_linkage_utf8=yes
                cf_cv_library_file_utf8="-lutf8"
                break
else

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
          fi
        done
        LIBS="$cf_save_LIBS"
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_utf8=no
    fi

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

if test "$cf_cv_find_linkage_utf8" = yes ; then
cf_cv_utf8_lib=add-on
else
cf_cv_utf8_lib=no
fi


fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_utf8_lib" >&5
$as_echo "$cf_cv_utf8_lib" >&6; }

# HAVE_LIBUTF8_H is used by ncurses if curses.h is shared between
# ncurses/ncursesw:
if test "$cf_cv_utf8_lib" = "add-on" ; then
	$as_echo "#define HAVE_LIBUTF8_H 1" >>confdefs.h


if test -n "$cf_cv_header_path_utf8" ; then
  for cf_add_incdir in $cf_cv_header_path_utf8
d19597 3
a19599 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d19609 13
a19621 2
if ac_fn_c_try_compile "$LINENO"; then :

d19623 3
a19625 1
  cf_have_incdir=yes
d19627 1
a19627 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d19636 1
a19636 2
echo "${as_me-configure}:17995: testing adding $cf_add_incdir to include-path ..." 1>&5

d19651 1
d19653 5
a19657 18
if test -n "$cf_cv_library_path_utf8" ; then
  for cf_add_libdir in $cf_cv_library_path_utf8
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d19659 4
a19662 1
echo "${as_me-configure}:18031: testing adding $cf_add_libdir to library-path ..." 1>&5
d19664 3
d19668 4
a19671 5
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi
d19673 1
a19673 2
	LIBS="-lutf8 $LIBS"
fi
d19675 8
d19684 17
a19700 1
cf_ncuconfig_root=ncursesw
a19701 37
echo "Looking for ${cf_ncuconfig_root}-config"
for ac_prog in ${cf_ncuconfig_root}6-config ${cf_ncuconfig_root}5-config
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_NCURSES_CONFIG+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $NCURSES_CONFIG in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_NCURSES_CONFIG="$NCURSES_CONFIG" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_NCURSES_CONFIG="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
NCURSES_CONFIG=$ac_cv_path_NCURSES_CONFIG
if test -n "$NCURSES_CONFIG"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $NCURSES_CONFIG" >&5
$as_echo "$NCURSES_CONFIG" >&6; }
d19703 3
a19705 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d19707 1
d19709 2
d19712 3
a19714 3
  test -n "$NCURSES_CONFIG" && break
done
test -n "$NCURSES_CONFIG" || NCURSES_CONFIG="none"
d19716 3
d19720 5
a19724 1
if test "$NCURSES_CONFIG" != none ; then
d19726 1
a19726 1
cf_cv_ncurses_header=curses.h
d19728 1
a19728 2
CPPFLAGS="$CPPFLAGS `$NCURSES_CONFIG --cflags`"
LIBS="`$NCURSES_CONFIG --libs` $LIBS"
d19730 8
a19737 1
$as_echo "#define NCURSES 1" >>confdefs.h
d19739 10
d19750 3
a19752 180

cf_nculib_ROOT=`echo "HAVE_LIB$cf_ncuconfig_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >>confdefs.h <<_ACEOF
#define $cf_nculib_ROOT 1
_ACEOF


cf_cv_ncurses_version=`$NCURSES_CONFIG --version`

else



cf_ncuhdr_root=ncursesw

test -n "$cf_cv_curses_dir" && \
test "$cf_cv_curses_dir" != "no" && { \

if test -n "$cf_cv_curses_dir/include $cf_cv_curses_dir/include/$cf_ncuhdr_root" ; then
  for cf_add_incdir in $cf_cv_curses_dir/include $cf_cv_curses_dir/include/$cf_ncuhdr_root
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

else
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me-configure}:18171: testing adding $cf_add_incdir to include-path ..." 1>&5


		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi

}

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_ncuhdr_root header in include-path" >&5
$as_echo_n "checking for $cf_ncuhdr_root header in include-path... " >&6; }
if ${cf_cv_ncurses_h+:} false; then :
  $as_echo_n "(cached) " >&6
else

	cf_header_list="$cf_ncuhdr_root/curses.h $cf_ncuhdr_root/ncurses.h"
	( test "$cf_ncuhdr_root" = ncurses || test "$cf_ncuhdr_root" = ncursesw ) && cf_header_list="$cf_header_list curses.h ncurses.h"
	for cf_header in $cf_header_list
	do

	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */


#define _XOPEN_SOURCE_EXTENDED
#undef  HAVE_LIBUTF8_H	/* in case we used CF_UTF8_LIB */
#define HAVE_LIBUTF8_H	/* to force ncurses' header file to use cchar_t */

#include <$cf_header>
int
main ()
{

#ifdef NCURSES_VERSION

#ifndef WACS_BSSB
	make an error
#endif

printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif


  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_ncurses_h=$cf_header

else
  cf_cv_ncurses_h=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

		test "$cf_cv_ncurses_h" != no && break
	done

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_h" >&5
$as_echo "$cf_cv_ncurses_h" >&6; }



if test "$cf_cv_ncurses_h" != no ; then
	cf_cv_ncurses_header=$cf_cv_ncurses_h
else

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_ncuhdr_root include-path" >&5
$as_echo_n "checking for $cf_ncuhdr_root include-path... " >&6; }
if ${cf_cv_ncurses_h2+:} false; then :
  $as_echo_n "(cached) " >&6
else

	test -n "$verbose" && echo

cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`

test "$cf_header_path" != "NONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/$cf_ncuhdr_root &&       cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root"
	test -d $cf_header_path/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $cf_header_path/include/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include &&       cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include"
	test -d $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $cf_header_path/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
d19756 1
a19756 1
cf_search=""
d19758 1
d19760 1
a19760 1
test "/usr" != "$prefix" && \
d19762 1
a19762 1
(test $prefix = NONE || test -d $prefix) && {
d19771 1
a19771 2

test "$prefix" != "NONE" && \
d19782 1
a19782 2

test "/usr/local" != "$prefix" && \
d19784 1
a19784 1
(test $prefix = NONE || test -d $prefix) && {
d19793 1
a19793 2

test "/opt" != "$prefix" && \
d19795 1
a19795 1
(test $prefix = NONE || test -d $prefix) && {
d19804 1
a19804 2

test "$HOME" != "$prefix" && \
d19806 1
a19806 1
(test $prefix = NONE || test -d $prefix) && {
a19814 2


d19829 1
a19829 1
cf_search="$cf_header_path_list $cf_search"
d19859 3
a19861 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d19871 13
a19883 2
if ac_fn_c_try_compile "$LINENO"; then :

d19885 3
a19887 1
  cf_have_incdir=yes
d19889 1
a19889 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d19898 1
a19898 2
echo "${as_me-configure}:18420: testing adding $cf_add_incdir to include-path ..." 1>&5

d19918 3
a19920 3
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

a19937 1

d19942 12
a19953 1
if ac_fn_c_try_compile "$LINENO"; then :
d19957 3
a19959 1
  cf_cv_ncurses_h2=no
d19961 1
a19961 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d19973 3
a19975 1
	test "$cf_cv_ncurses_h2" = no && as_fn_error $? "not found" "$LINENO" 5
d19978 2
a19979 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_h2" >&5
$as_echo "$cf_cv_ncurses_h2" >&6; }
d20010 3
a20012 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d20022 13
a20034 2
if ac_fn_c_try_compile "$LINENO"; then :

d20036 3
a20038 1
  cf_have_incdir=yes
d20040 1
a20040 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d20049 1
a20049 2
echo "${as_me-configure}:18544: testing adding $cf_add_incdir to include-path ..." 1>&5

a20063 1

d20070 4
a20073 1
	$as_echo "#define HAVE_NCURSES_H 1" >>confdefs.h
d20080 4
a20083 1
	$as_echo "#define HAVE_NCURSES_NCURSES_H 1" >>confdefs.h
d20087 4
a20090 1
	$as_echo "#define HAVE_NCURSESW_NCURSES_H 1" >>confdefs.h
d20095 4
a20098 6


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for terminfo header" >&5
$as_echo_n "checking for terminfo header... " >&6; }
if ${cf_cv_term_header+:} false; then :
  $as_echo_n "(cached) " >&6
d20112 3
a20114 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d20116 1
a20116 1
#include <${cf_cv_ncurses_header-curses.h}>
d20127 12
a20138 1
if ac_fn_c_try_compile "$LINENO"; then :
d20142 2
d20148 1
a20148 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d20153 2
a20154 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_term_header" >&5
$as_echo "$cf_cv_term_header" >&6; }
d20160 4
a20163 1
	$as_echo "#define HAVE_TERM_H 1" >>confdefs.h
d20170 4
a20173 1
	$as_echo "#define HAVE_NCURSES_TERM_H 1" >>confdefs.h
d20177 4
a20180 1
	$as_echo "#define HAVE_NCURSESW_TERM_H 1" >>confdefs.h
a20184 1

a20185 1
$as_echo "#define NCURSES 1" >>confdefs.h
d20187 3
d20191 4
a20194 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ncurses version" >&5
$as_echo_n "checking for ncurses version... " >&6; }
if ${cf_cv_ncurses_version+:} false; then :
  $as_echo_n "(cached) " >&6
d20200 1
a20200 2
	if test "$cross_compiling" = yes; then :

d20205 1
a20205 1
#include <${cf_cv_ncurses_header-curses.h}>
d20217 1
a20217 1
	{ { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$cf_try\""; } >&5
d20220 2
a20221 2
  $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
  test $ac_status = 0; }
d20229 3
a20231 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d20233 1
a20233 1
#include <${cf_cv_ncurses_header-curses.h}>
d20251 1
a20251 1
	${cf_cv_main_return-return}(0);
d20254 11
a20264 1
if ac_fn_c_try_run "$LINENO"; then :
d20267 4
d20272 1
a20272 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
a20273 1

d20277 6
a20282 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_version" >&5
$as_echo "$cf_cv_ncurses_version" >&6; }
test "$cf_cv_ncurses_version" = no || $as_echo "#define NCURSES 1" >>confdefs.h
d20284 1
a20284 5




cf_nculib_root=ncursesw
d20290 4
a20293 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for Gpm_Open in -lgpm" >&5
$as_echo_n "checking for Gpm_Open in -lgpm... " >&6; }
if ${ac_cv_lib_gpm_Gpm_Open+:} false; then :
  $as_echo_n "(cached) " >&6
d20297 3
a20299 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d20301 1
a20301 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d20305 2
d20311 1
a20311 1
return Gpm_Open ();
d20316 12
a20327 1
if ac_fn_c_try_link "$LINENO"; then :
d20330 3
a20332 1
  ac_cv_lib_gpm_Gpm_Open=no
d20334 1
a20334 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d20337 7
a20343 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gpm_Gpm_Open" >&5
$as_echo "$ac_cv_lib_gpm_Gpm_Open" >&6; }
if test "x$ac_cv_lib_gpm_Gpm_Open" = xyes; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -lgpm" >&5
$as_echo_n "checking for initscr in -lgpm... " >&6; }
if ${ac_cv_lib_gpm_initscr+:} false; then :
  $as_echo_n "(cached) " >&6
d20347 3
a20349 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d20351 1
a20351 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d20355 2
d20361 1
a20361 1
return initscr ();
d20366 12
a20377 1
if ac_fn_c_try_link "$LINENO"; then :
d20380 3
a20382 1
  ac_cv_lib_gpm_initscr=no
d20384 1
a20384 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d20387 3
a20389 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gpm_initscr" >&5
$as_echo "$ac_cv_lib_gpm_initscr" >&6; }
if test "x$ac_cv_lib_gpm_initscr" = xyes; then :
a20396 1

d20402 4
a20405 4
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for tgoto in -lmytinfo" >&5
$as_echo_n "checking for tgoto in -lmytinfo... " >&6; }
if ${ac_cv_lib_mytinfo_tgoto+:} false; then :
  $as_echo_n "(cached) " >&6
d20409 3
a20411 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d20413 1
a20413 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d20417 2
d20423 1
a20423 1
return tgoto ();
d20428 12
a20439 1
if ac_fn_c_try_link "$LINENO"; then :
d20442 3
a20444 1
  ac_cv_lib_mytinfo_tgoto=no
d20446 1
a20446 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d20449 3
a20451 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_mytinfo_tgoto" >&5
$as_echo "$ac_cv_lib_mytinfo_tgoto" >&6; }
if test "x$ac_cv_lib_mytinfo_tgoto" = xyes; then :
d20463 36
d20500 27
a20526 35
if test -n "$cf_cv_curses_dir/lib" ; then
  for cf_add_libdir in $cf_cv_curses_dir/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me-configure}:18901: testing adding $cf_add_libdir to library-path ..." 1>&5


        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

	LIBS="-l$cf_nculib_root $LIBS"
else

	eval 'cf_cv_have_lib_'$cf_nculib_root'=no'
	cf_libdir=""
	ac_fn_c_check_func "$LINENO" "initscr" "ac_cv_func_initscr"
if test "x$ac_cv_func_initscr" = xyes; then :
d20531 2
a20532 2
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -l$cf_nculib_root" >&5
$as_echo_n "checking for initscr in -l$cf_nculib_root... " >&6; }
d20534 4
a20537 3
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d20546 14
a20559 3
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
d20563 4
a20566 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d20568 1
d20577 1
a20577 1
test "$cf_library_path" != "NONE" && \
d20594 1
a20594 1
cf_search=""
d20596 1
a20596 2

test "/usr" != "$prefix" && \
d20598 1
a20598 1
(test $prefix = NONE || test -d $prefix) && {
d20607 1
a20607 2

test "$prefix" != "NONE" && \
d20618 1
a20618 2

test "/usr/local" != "$prefix" && \
d20620 1
a20620 1
(test $prefix = NONE || test -d $prefix) && {
d20629 1
a20629 2

test "/opt" != "$prefix" && \
d20631 1
a20631 1
(test $prefix = NONE || test -d $prefix) && {
d20640 1
a20640 2

test "$HOME" != "$prefix" && \
d20642 1
a20642 1
(test $prefix = NONE || test -d $prefix) && {
a20650 2


d20655 2
a20656 2
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for -l$cf_nculib_root in $cf_libdir" >&5
$as_echo_n "checking for -l$cf_nculib_root in $cf_libdir... " >&6; }
d20658 4
a20661 3
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d20670 14
a20683 3
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
d20687 4
a20690 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d20693 1
a20693 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d20697 1
a20697 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d20704 3
a20706 1
	as_fn_error $? "Cannot link $cf_nculib_root library" "$LINENO" 5
a20708 1

d20712 2
a20713 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
$as_echo_n "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS... " >&6; }
d20721 4
a20724 3
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d20733 19
a20751 6
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d20754 1
a20754 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a20756 1

d20759 1
a20759 1
cat >>confdefs.h <<_ACEOF
d20761 26
d20788 16
d20805 4
d20810 1
d20812 27
a20838 1
fi
d20840 3
a20842 7
	cf_wide_curses=yes
	;;
pdcurses)
	cf_cv_ncurses_header=xcurses.h
	# do this last, since it changes definition of main: CF_PDCURSES_X11
	;;
slang)
a20843 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for slang header file" >&5
$as_echo_n "checking for slang header file... " >&6; }
if ${cf_cv_slang_header+:} false; then :
  $as_echo_n "(cached) " >&6
d20845 2
d20848 7
a20854 3
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <slang.h>
d20858 1
a20858 1
printf("%s\n", SLANG_VERSION)
d20863 18
a20880 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_slang_header=predefined
d20882 7
d20890 1
d20892 8
d20908 1
a20908 1
test "$cf_header_path" != "NONE" && \
d20913 4
a20916 4
	test -d $cf_header_path/include/slang &&       cf_search="$cf_search $cf_header_path/include/slang"
	test -d $cf_header_path/include/slang/include &&    cf_search="$cf_search $cf_header_path/include/slang/include"
	test -d $cf_header_path/slang/include &&       cf_search="$cf_search $cf_header_path/slang/include"
	test -d $cf_header_path/slang/include/slang &&    cf_search="$cf_search $cf_header_path/slang/include/slang"
d20925 1
a20925 1
cf_search=""
d20927 1
d20929 1
a20929 1
test "/usr" != "$prefix" && \
d20931 1
a20931 1
(test $prefix = NONE || test -d $prefix) && {
d20934 4
a20937 4
	test -d /usr/include/slang &&       cf_search="$cf_search /usr/include/slang"
	test -d /usr/include/slang/include &&    cf_search="$cf_search /usr/include/slang/include"
	test -d /usr/slang/include &&       cf_search="$cf_search /usr/slang/include"
	test -d /usr/slang/include/slang &&    cf_search="$cf_search /usr/slang/include/slang"
d20940 1
a20940 2

test "$prefix" != "NONE" && \
d20945 4
a20948 4
	test -d $prefix/include/slang &&       cf_search="$cf_search $prefix/include/slang"
	test -d $prefix/include/slang/include &&    cf_search="$cf_search $prefix/include/slang/include"
	test -d $prefix/slang/include &&       cf_search="$cf_search $prefix/slang/include"
	test -d $prefix/slang/include/slang &&    cf_search="$cf_search $prefix/slang/include/slang"
d20951 1
a20951 2

test "/usr/local" != "$prefix" && \
d20953 1
a20953 1
(test $prefix = NONE || test -d $prefix) && {
d20956 4
a20959 4
	test -d /usr/local/include/slang &&       cf_search="$cf_search /usr/local/include/slang"
	test -d /usr/local/include/slang/include &&    cf_search="$cf_search /usr/local/include/slang/include"
	test -d /usr/local/slang/include &&       cf_search="$cf_search /usr/local/slang/include"
	test -d /usr/local/slang/include/slang &&    cf_search="$cf_search /usr/local/slang/include/slang"
d20962 1
a20962 2

test "/opt" != "$prefix" && \
d20964 1
a20964 1
(test $prefix = NONE || test -d $prefix) && {
d20967 4
a20970 4
	test -d /opt/include/slang &&       cf_search="$cf_search /opt/include/slang"
	test -d /opt/include/slang/include &&    cf_search="$cf_search /opt/include/slang/include"
	test -d /opt/slang/include &&       cf_search="$cf_search /opt/slang/include"
	test -d /opt/slang/include/slang &&    cf_search="$cf_search /opt/slang/include/slang"
d20973 1
a20973 2

test "$HOME" != "$prefix" && \
d20975 1
a20975 1
(test $prefix = NONE || test -d $prefix) && {
d20978 4
a20981 4
	test -d $HOME/include/slang &&       cf_search="$cf_search $HOME/include/slang"
	test -d $HOME/include/slang/include &&    cf_search="$cf_search $HOME/include/slang/include"
	test -d $HOME/slang/include &&       cf_search="$cf_search $HOME/slang/include"
	test -d $HOME/slang/include/slang &&    cf_search="$cf_search $HOME/slang/include/slang"
a20983 2


d20988 1
a20988 1
	test -d $includedir/slang && cf_search="$cf_search $includedir/slang"
d20995 1
a20995 1
	test -d $oldincludedir/slang && cf_search="$cf_search $oldincludedir/slang"
d20998 1
a20998 1
cf_search="$cf_header_path_list $cf_search"
d21000 4
a21003 21
	for cf_incdir in $cf_search
	do
		for cf_header in \
			slang.h
		do
			echo trying $cf_incdir/$cf_header 1>&5
			if egrep "SLANG_VERSION" $cf_incdir/$cf_header 1>&5 2>&1; then
				cf_cv_slang_header=$cf_incdir/$cf_header
				break
			fi
		done
		test -n "$cf_cv_slang_header" && break
	done
	test -z "$cf_cv_slang_header" && as_fn_error $? "not found" "$LINENO" 5

fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_slang_header" >&5
$as_echo "$cf_cv_slang_header" >&6; }
$as_echo "#define USE_SLANG 1" >>confdefs.h
d21005 1
d21007 4
a21010 1
cf_incdir=`echo $cf_cv_slang_header | sed -e 's%/[^/]*$%%'`
d21012 1
a21012 31
case $cf_cv_slang_header in # (vi
predefined) # (vi
	;;
*)

if test -n "$cf_incdir" ; then
  for cf_add_incdir in $cf_incdir
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d21016 1
a21016 1
printf("Hello")
d21021 16
a21036 1
if ac_fn_c_try_compile "$LINENO"; then :
d21038 3
d21042 2
a21043 7
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d21045 1
a21045 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d21047 4
a21050 1
echo "${as_me-configure}:19337: testing adding $cf_add_incdir to include-path ..." 1>&5
d21052 1
d21054 1
a21054 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
d21056 2
a21057 10
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi
d21059 1
a21059 2
	;;
esac
d21061 8
a21068 7
# There's an unofficial set of patches for slang that gives it some limited
# UTF8 capability.  Unfortunately it won't compile unless one defines UTF8.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we must define UTF8" >&5
$as_echo_n "checking if we must define UTF8... " >&6; }
if ${cf_cv_slang_utf8+:} false; then :
  $as_echo_n "(cached) " >&6
else
d21070 10
a21079 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d21081 5
a21085 12
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_slang_utf8=no
else
d21087 1
a21087 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d21089 9
a21097 8
#define UTF8
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
a21098 9
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_slang_utf8=yes
else
  cf_cv_slang_utf8=unknown
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d21100 10
a21109 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_slang_utf8" >&5
$as_echo "$cf_cv_slang_utf8" >&6; }
d21111 10
a21120 2
if test "$cf_cv_slang_utf8" = yes ; then
	$as_echo "#define UTF8 1" >>confdefs.h
d21122 10
a21131 1
fi
d21133 10
d21144 1
a21144 1
cf_slang_LIBS1="$LIBS"
d21146 4
a21149 3
if ${cf_cv_termlib+:} false; then :
  $as_echo_n "(cached) " >&6
else
d21151 1
a21151 3
cf_cv_termlib=none
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d21153 6
a21158 11
int
main ()
{
char *x=(char*)tgoto("",0,0)
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d21160 1
d21164 1
a21164 1
int x=tigetstr("")
d21169 12
a21180 8
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_termlib=terminfo
else
  cf_cv_termlib=termcap
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
	test -n "$verbose" && echo "	using functions in predefined $cf_cv_termlib LIBS" 1>&6
d21182 1
a21182 1
echo "${as_me-configure}:19451: testing using functions in predefined $cf_cv_termlib LIBS ..." 1>&5
d21184 1
d21186 6
d21193 3
a21195 1
else
d21197 7
d21205 3
a21207 13
if test "$cf_cv_termlib" = none; then
	# FreeBSD's linker gives bogus results for AC_CHECK_LIB, saying that
	# tgetstr lives in -lcurses when it is only an unsatisfied extern.
	cf_save_LIBS="$LIBS"
	for cf_lib in curses ncurses termlib termcap
	do
	LIBS="-l$cf_lib $cf_save_LIBS"
	for cf_func in tigetstr tgetstr
	do
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_func in -l$cf_lib" >&5
$as_echo_n "checking for $cf_func in -l$cf_lib... " >&6; }
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a21208 12
int
main ()
{
int x=$cf_func("")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_result=yes
else
  cf_result=no
d21210 2
a21211 16
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
		if test "$cf_result" = yes ; then
			if test "$cf_func" = tigetstr ; then
				cf_cv_termlib=terminfo
			else
				cf_cv_termlib=termcap
			fi
			break
		fi
	done
		test "$cf_result" = yes && break
	done
	test "$cf_result" = no && LIBS="$cf_save_LIBS"
d21213 3
a21215 11
if test "$cf_cv_termlib" = none; then
	# allow curses library for broken AIX system.
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for initscr in -lcurses" >&5
$as_echo_n "checking for initscr in -lcurses... " >&6; }
if ${ac_cv_lib_curses_initscr+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lcurses  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d21217 2
a21218 17
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char initscr ();
int
main ()
{
return initscr ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_curses_initscr=yes
d21220 1
a21220 1
  ac_cv_lib_curses_initscr=no
d21222 1
a21222 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d21224 1
a21224 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_curses_initscr" >&5
$as_echo "$ac_cv_lib_curses_initscr" >&6; }
if test "x$ac_cv_lib_curses_initscr" = xyes; then :
  LIBS="$LIBS -lcurses" cf_cv_termlib=termcap
d21226 6
d21233 20
a21252 9
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for tgoto in -ltermcap" >&5
$as_echo_n "checking for tgoto in -ltermcap... " >&6; }
if ${ac_cv_lib_termcap_tgoto+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ltermcap  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d21254 10
a21263 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char tgoto ();
d21267 1
a21267 1
return tgoto ();
d21272 13
a21284 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_termcap_tgoto=yes
d21286 3
a21288 10
  ac_cv_lib_termcap_tgoto=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_termcap_tgoto" >&5
$as_echo "$ac_cv_lib_termcap_tgoto" >&6; }
if test "x$ac_cv_lib_termcap_tgoto" = xyes; then :
  LIBS="$LIBS -ltermcap" cf_cv_termlib=termcap
d21290 5
d21296 16
d21314 25
d21340 2
a21341 5
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
if test "$cf_cv_termlib" = none; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&5
$as_echo "$as_me: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&2;}
d21344 37
d21383 27
a21409 3
cf_slang_LIBS2="$LIBS"
ac_fn_c_check_func "$LINENO" "acos" "ac_cv_func_acos"
if test "x$ac_cv_func_acos" = xyes; then :
d21411 6
d21418 10
d21429 11
a21439 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for acos in -lm" >&5
$as_echo_n "checking for acos in -lm... " >&6; }
if ${ac_cv_lib_m_acos+:} false; then :
  $as_echo_n "(cached) " >&6
a21440 4
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lm $LIBS $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d21442 11
a21452 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char acos ();
d21456 1
a21456 1
return acos ();
d21461 13
a21473 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_m_acos=yes
d21475 2
a21476 1
  ac_cv_lib_m_acos=no
d21478 3
a21480 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d21482 2
a21483 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_m_acos" >&5
$as_echo "$ac_cv_lib_m_acos" >&6; }
if test "x$ac_cv_lib_m_acos" = xyes; then :
d21485 5
d21491 1
a21491 1
cf_tr_func=`echo "acos" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d21493 12
a21504 2
	cat >>confdefs.h <<_ACEOF
#define HAVE_$cf_tr_func 1
d21506 18
a21523 3

	ac_cv_func_acos=yes
	if test "$cf_used_lib_m" != yes ; then cf_used_lib_m=yes; LIBS="-lm $LIBS"; fi
d21525 12
d21538 2
a21539 2
	ac_cv_func_acos=unknown
	unset ac_cv_func_acos 2>/dev/null
d21541 3
a21543 1
fi
d21545 1
d21547 3
a21549 1
fi
d21551 1
a21551 2
case $host_os in #(vi
os2*)
a21552 5
	eval 'cf_cv_have_lib_'video'=no'
	cf_libdir=""
	ac_fn_c_check_func "$LINENO" "v_init" "ac_cv_func_v_init"
if test "x$ac_cv_func_v_init" = xyes; then :
  eval 'cf_cv_have_lib_'video'=yes'
d21555 32
a21586 7
		cf_save_LIBS="$LIBS"
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for v_init in -lvideo" >&5
$as_echo_n "checking for v_init in -lvideo... " >&6; }
		LIBS="-lvideo $LIBS"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/video.h>
d21590 1
a21590 1
v_init()
d21595 23
a21617 4
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 eval 'cf_cv_have_lib_'video'=yes'
d21619 2
a21620 3
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d21622 1
a21622 7
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`
d21624 1
a21624 10
test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/video &&       cf_search="$cf_search $cf_library_path/lib/video"
	test -d $cf_library_path/lib/video/lib &&    cf_search="$cf_search $cf_library_path/lib/video/lib"
	test -d $cf_library_path/video/lib &&       cf_search="$cf_search $cf_library_path/video/lib"
	test -d $cf_library_path/video/lib/video &&    cf_search="$cf_search $cf_library_path/video/lib/video"
}
d21626 7
a21632 3
			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
d21634 1
d21637 1
a21637 1
cf_search=""
d21639 5
d21645 4
a21648 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/video &&       cf_search="$cf_search /usr/lib/video"
	test -d /usr/lib/video/lib &&    cf_search="$cf_search /usr/lib/video/lib"
	test -d /usr/video/lib &&       cf_search="$cf_search /usr/video/lib"
	test -d /usr/video/lib/video &&    cf_search="$cf_search /usr/video/lib/video"
}
d21650 3
d21654 3
a21656 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/video &&       cf_search="$cf_search $prefix/lib/video"
	test -d $prefix/lib/video/lib &&    cf_search="$cf_search $prefix/lib/video/lib"
	test -d $prefix/video/lib &&       cf_search="$cf_search $prefix/video/lib"
	test -d $prefix/video/lib/video &&    cf_search="$cf_search $prefix/video/lib/video"
}
d21658 4
d21663 1
a21663 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/video &&       cf_search="$cf_search /usr/local/lib/video"
	test -d /usr/local/lib/video/lib &&    cf_search="$cf_search /usr/local/lib/video/lib"
	test -d /usr/local/video/lib &&       cf_search="$cf_search /usr/local/video/lib"
	test -d /usr/local/video/lib/video &&    cf_search="$cf_search /usr/local/video/lib/video"
}
d21665 3
d21669 8
a21676 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/video &&       cf_search="$cf_search /opt/lib/video"
	test -d /opt/lib/video/lib &&    cf_search="$cf_search /opt/lib/video/lib"
	test -d /opt/video/lib &&       cf_search="$cf_search /opt/video/lib"
	test -d /opt/video/lib/video &&    cf_search="$cf_search /opt/video/lib/video"
}
a21677 28

test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/video &&       cf_search="$cf_search $HOME/lib/video"
	test -d $HOME/lib/video/lib &&    cf_search="$cf_search $HOME/lib/video/lib"
	test -d $HOME/video/lib &&       cf_search="$cf_search $HOME/video/lib"
	test -d $HOME/video/lib/video &&    cf_search="$cf_search $HOME/video/lib/video"
}



cf_search="$cf_library_path_list $cf_search"

			for cf_libdir in $cf_search
			do
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for -lvideo in $cf_libdir" >&5
$as_echo_n "checking for -lvideo in $cf_libdir... " >&6; }
				LIBS="-L$cf_libdir -lvideo $cf_save_LIBS"
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/video.h>
int
main ()
{
v_init()
d21682 14
a21695 5
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 		 eval 'cf_cv_have_lib_'video'=yes'
					 break
d21697 3
a21699 3
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
					 LIBS="$cf_save_LIBS"
d21701 1
a21701 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
			done
d21703 2
a21704 3
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d21707 2
d21710 3
a21712 9
eval 'cf_found_library=$cf_cv_have_lib_'video

if test $cf_found_library = no ; then
	as_fn_error $? "Cannot link video library" "$LINENO" 5
fi


	;;
esac
d21714 4
a21717 5
	eval 'cf_cv_have_lib_'slang'=no'
	cf_libdir=""
	ac_fn_c_check_func "$LINENO" "SLtt_get_screen_size" "ac_cv_func_SLtt_get_screen_size"
if test "x$ac_cv_func_SLtt_get_screen_size" = xyes; then :
  eval 'cf_cv_have_lib_'slang'=yes'
d21720 1
a21720 19
		cf_save_LIBS="$LIBS"
		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for SLtt_get_screen_size in -lslang" >&5
$as_echo_n "checking for SLtt_get_screen_size in -lslang... " >&6; }
		LIBS="-lslang $LIBS"
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 eval 'cf_cv_have_lib_'slang'=yes'
d21722 1
a21722 3
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d21724 4
a21727 3
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
d21729 3
a21731 3
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`
d21733 2
a21734 2
test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
d21736 6
a21741 6
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/slang &&       cf_search="$cf_search $cf_library_path/lib/slang"
	test -d $cf_library_path/lib/slang/lib &&    cf_search="$cf_search $cf_library_path/lib/slang/lib"
	test -d $cf_library_path/slang/lib &&       cf_search="$cf_search $cf_library_path/slang/lib"
	test -d $cf_library_path/slang/lib/slang &&    cf_search="$cf_search $cf_library_path/slang/lib/slang"
d21744 1
a21744 1
			cf_library_path_list="$cf_library_path_list $cf_search"
d21750 1
a21750 1
cf_search=""
d21752 1
d21754 1
a21754 1
test "/usr" != "$prefix" && \
d21756 7
a21762 7
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/slang &&       cf_search="$cf_search /usr/lib/slang"
	test -d /usr/lib/slang/lib &&    cf_search="$cf_search /usr/lib/slang/lib"
	test -d /usr/slang/lib &&       cf_search="$cf_search /usr/slang/lib"
	test -d /usr/slang/lib/slang &&    cf_search="$cf_search /usr/slang/lib/slang"
d21765 1
a21765 2

test "$prefix" != "NONE" && \
d21768 6
a21773 6
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/slang &&       cf_search="$cf_search $prefix/lib/slang"
	test -d $prefix/lib/slang/lib &&    cf_search="$cf_search $prefix/lib/slang/lib"
	test -d $prefix/slang/lib &&       cf_search="$cf_search $prefix/slang/lib"
	test -d $prefix/slang/lib/slang &&    cf_search="$cf_search $prefix/slang/lib/slang"
d21776 1
a21776 2

test "/usr/local" != "$prefix" && \
d21778 7
a21784 7
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/slang &&       cf_search="$cf_search /usr/local/lib/slang"
	test -d /usr/local/lib/slang/lib &&    cf_search="$cf_search /usr/local/lib/slang/lib"
	test -d /usr/local/slang/lib &&       cf_search="$cf_search /usr/local/slang/lib"
	test -d /usr/local/slang/lib/slang &&    cf_search="$cf_search /usr/local/slang/lib/slang"
d21787 10
d21798 9
a21806 9
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/slang &&       cf_search="$cf_search /opt/lib/slang"
	test -d /opt/lib/slang/lib &&    cf_search="$cf_search /opt/lib/slang/lib"
	test -d /opt/slang/lib &&       cf_search="$cf_search /opt/slang/lib"
	test -d /opt/slang/lib/slang &&    cf_search="$cf_search /opt/slang/lib/slang"
d21809 6
d21816 5
a21820 9
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/slang &&       cf_search="$cf_search $HOME/lib/slang"
	test -d $HOME/lib/slang/lib &&    cf_search="$cf_search $HOME/lib/slang/lib"
	test -d $HOME/slang/lib &&       cf_search="$cf_search $HOME/slang/lib"
	test -d $HOME/slang/lib/slang &&    cf_search="$cf_search $HOME/slang/lib/slang"
d21823 1
d21825 4
d21830 16
a21845 1
cf_search="$cf_library_path_list $cf_search"
d21847 10
a21856 8
			for cf_libdir in $cf_search
			do
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for -lslang in $cf_libdir" >&5
$as_echo_n "checking for -lslang in $cf_libdir... " >&6; }
				LIBS="-L$cf_libdir -lslang $cf_save_LIBS"
				cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <slang.h>
d21860 1
a21860 1
SLtt_get_screen_size()
d21865 13
a21877 5
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
			 		 eval 'cf_cv_have_lib_'slang'=yes'
					 break
d21879 3
a21881 3
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
					 LIBS="$cf_save_LIBS"
d21883 5
a21887 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
			done
d21889 2
a21890 3
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d21892 1
a21892 1
fi
d21894 1
a21894 1
eval 'cf_found_library=$cf_cv_have_lib_'slang
d21896 9
a21904 2
if test $cf_found_library = no ; then
	as_fn_error $? "Cannot link slang library" "$LINENO" 5
d21907 8
d21916 3
a21918 14
cf_slang_LIBS3="$LIBS"
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we can link slang without termcap" >&5
$as_echo_n "checking if we can link slang without termcap... " >&6; }
if test -n "`echo $cf_slang_LIBS1 | sed -e 's/ //g'`" ; then
	cf_exclude=`echo ".$cf_slang_LIBS2" | sed -e "s%$cf_slang_LIBS1%%" -e 's%^.%%'`
else
	cf_exclude="$cf_slang_LIBS2"
fi
LIBS=`echo ".$cf_slang_LIBS3" | sed -e "s%$cf_exclude%%" -e 's%^.%%'`
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <slang.h>
int
main ()
d21920 12
a21931 1
SLtt_get_screen_size()
d21936 14
a21949 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_result=yes
d21951 3
a21953 1
  cf_result=no
d21955 1
a21955 5
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
test $cf_result = no && LIBS="$cf_slang_LIBS3"
d21957 13
d21971 3
d21975 5
d21981 16
a21996 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we must tell slang this is UNIX" >&5
$as_echo_n "checking if we must tell slang this is UNIX... " >&6; }
if ${cf_cv_slang_unix+:} false; then :
  $as_echo_n "(cached) " >&6
else
d21998 10
a22007 3
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <slang.h>
d22011 1
a22011 8

#ifdef REAL_UNIX_SYSTEM
make an error
#else
extern int SLang_TT_Baud_Rate;
SLang_TT_Baud_Rate = 1
#endif

d22016 13
a22028 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_slang_unix=yes
d22030 26
a22055 1
  cf_cv_slang_unix=no
a22056 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a22058 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_slang_unix" >&5
$as_echo "$cf_cv_slang_unix" >&6; }
test $cf_cv_slang_unix = yes && $as_echo "#define REAL_UNIX_SYSTEM 1" >>confdefs.h
d22060 8
a22068 1
	dft_color_style=no
d22072 13
d22086 7
a22092 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for chtype typedef" >&5
$as_echo_n "checking for chtype typedef... " >&6; }
if ${cf_cv_chtype_decl+:} false; then :
  $as_echo_n "(cached) " >&6
d22095 18
a22112 3
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d22116 1
a22116 1
chtype foo
d22121 12
a22132 11
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_chtype_decl=yes
else
  cf_cv_chtype_decl=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_chtype_decl" >&5
$as_echo "$cf_cv_chtype_decl" >&6; }
if test $cf_cv_chtype_decl = yes ; then
	$as_echo "#define HAVE_TYPE_CHTYPE 1" >>confdefs.h
d22134 1
a22134 4
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if chtype is scalar or struct" >&5
$as_echo_n "checking if chtype is scalar or struct... " >&6; }
if ${cf_cv_chtype_type+:} false; then :
  $as_echo_n "(cached) " >&6
d22136 2
d22139 1
a22139 22
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
chtype foo; long x = foo
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_chtype_type=scalar
else
  cf_cv_chtype_type=struct
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_chtype_type" >&5
$as_echo "$cf_cv_chtype_type" >&6; }
	if test $cf_cv_chtype_type = scalar ; then
		$as_echo "#define TYPE_CHTYPE_IS_SCALAR 1" >>confdefs.h
a22140 1
	fi
d22142 3
a22144 15


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want the wide-curses features" >&5
$as_echo_n "checking if you want the wide-curses features... " >&6; }
# Check whether --enable-widec was given.
if test "${enable_widec+set}" = set; then :
  enableval=$enable_widec; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_wide_curses=$enableval
  else
    use_wide_curses=$cf_wide_curses
  fi
else
  enableval=no
  use_wide_curses=$cf_wide_curses
d22147 2
d22150 1
a22150 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_wide_curses" >&5
$as_echo "$use_wide_curses" >&6; }
d22152 2
a22153 15
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if color-style code should be used" >&5
$as_echo_n "checking if color-style code should be used... " >&6; }
# Check whether --enable-color-style was given.
if test "${enable_color_style+set}" = set; then :
  enableval=$enable_color_style; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_color_style=$enableval
  else
    use_color_style=$dft_color_style
  fi
else
  enableval=yes
  use_color_style=$dft_color_style

fi
d22155 3
a22158 5
case $use_color_style in
no)
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
	INSTALL_LSS=
a22159 45
*)
	$as_echo "#define USE_COLOR_STYLE 1" >>confdefs.h

	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }

	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for location of style-sheet file" >&5
$as_echo_n "checking for location of style-sheet file... " >&6; }


# Check whether --with-lss-file was given.
if test "${with_lss_file+set}" = set; then :
  withval=$with_lss_file;
else
  withval="${LYNX_LSS_FILE-$sysconfdir/lynx.lss}"
fi
if test -n "$sysconfdir/lynx.lss" ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  as_fn_error $? "expected a pathname, not \"$withval\"" "$LINENO" 5
  ;;
d22162 2
a22163 2
fi
LYNX_LSS_FILE="$withval"
d22165 3
d22169 2
a22170 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $LYNX_LSS_FILE" >&5
$as_echo "$LYNX_LSS_FILE" >&6; }
d22172 3
a22174 4
	test "$LYNX_LSS_FILE" = no && LYNX_LSS_FILE=
	cat >>confdefs.h <<_ACEOF
#define LYNX_LSS_FILE "$LYNX_LSS_FILE"
_ACEOF
a22175 2

	INSTALL_LSS=install-lss
d22179 1
d22181 3
d22185 4
a22188 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for the default configuration-file" >&5
$as_echo_n "checking for the default configuration-file... " >&6; }


# Check whether --with-cfg-file was given.
if test "${with_cfg_file+set}" = set; then :
  withval=$with_cfg_file;
a22189 3
  withval="${LYNX_CFG_FILE-$sysconfdir/lynx.cfg}"
fi
if test -n "$sysconfdir/lynx.cfg" ; then
d22191 4
a22194 5
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d22196 25
a22220 22
case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  as_fn_error $? "expected a pathname, not \"$withval\"" "$LINENO" 5
  ;;
esac
d22222 4
a22225 2
fi
LYNX_CFG_FILE="$withval"
d22227 20
a22246 8


{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $LYNX_CFG_FILE" >&5
$as_echo "$LYNX_CFG_FILE" >&6; }

test "$LYNX_CFG_FILE" = no && LYNX_CFG_FILE=
cat >>confdefs.h <<_ACEOF
#define LYNX_CFG_FILE "$LYNX_CFG_FILE"
d22248 11
d22260 1
a22260 11

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if htmlized lynx.cfg should be built" >&5
$as_echo_n "checking if htmlized lynx.cfg should be built... " >&6; }
# Check whether --enable-htmlized-cfg was given.
if test "${enable_htmlized_cfg+set}" = set; then :
  enableval=$enable_htmlized_cfg; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_htmlized_cfg=$enableval
  else
    use_htmlized_cfg=no
  fi
d22262 5
a22266 3
  enableval=no
  use_htmlized_cfg=no

d22268 1
a22269 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_htmlized_cfg" >&5
$as_echo "$use_htmlized_cfg" >&6; }

LYNXCFG_MAKE=''
if test $use_htmlized_cfg = no ; then
	LYNXCFG_MAKE='#'
d22271 6
d22278 16
d22295 28
a22322 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if local doc directory should be linked to help page" >&5
$as_echo_n "checking if local doc directory should be linked to help page... " >&6; }
# Check whether --enable-local-docs was given.
if test "${enable_local_docs+set}" = set; then :
  enableval=$enable_local_docs; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_local_docs=$enableval
  else
    use_local_docs=no
  fi
d22324 3
a22326 3
  enableval=no
  use_local_docs=no

d22328 2
a22329 7

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_local_docs" >&5
$as_echo "$use_local_docs" >&6; }

LYNXDOC_MAKE=''
if test $use_local_docs = no ; then
	LYNXDOC_MAKE='#'
d22331 13
d22345 28
a22372 8


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for MIME library directory" >&5
$as_echo_n "checking for MIME library directory... " >&6; }

# Check whether --with-mime-libdir was given.
if test "${with_mime_libdir+set}" = set; then :
  withval=$with_mime_libdir;
d22374 6
a22379 1
  withval="${MIME_LIBDIR-/etc}"
d22381 4
a22384 4
if true ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
d22386 1
a22386 1
  cf_path_syntax="$ac_default_prefix"
d22389 1
a22389 22
case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  as_fn_error $? "expected a pathname, not \"$withval\"" "$LINENO" 5
  ;;
esac
d22391 15
a22405 2
fi
MIME_LIBDIR="$withval"
d22407 14
a22420 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $MIME_LIBDIR" >&5
$as_echo "$MIME_LIBDIR" >&6; }
MIME_LIBDIR=`echo "$MIME_LIBDIR" | sed -e 's,/$,,' -e 's,$,/,'`
cat >>confdefs.h <<_ACEOF
#define MIME_LIBDIR "$MIME_LIBDIR"
d22422 13
a22434 12


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if locale-charset selection logic should be used" >&5
$as_echo_n "checking if locale-charset selection logic should be used... " >&6; }
# Check whether --enable-locale-charset was given.
if test "${enable_locale_charset+set}" = set; then :
  enableval=$enable_locale_charset; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_locale_charset=$enableval
  else
    use_locale_charset=yes
  fi
d22436 11
a22446 3
  enableval=no
  use_locale_charset=yes

d22449 3
a22451 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_locale_charset" >&5
$as_echo "$use_locale_charset" >&6; }
test $use_locale_charset != no && $as_echo "#define USE_LOCALE_CHARSET 1" >>confdefs.h
d22453 1
d22455 4
a22458 1
CHARSET_DEFS=
d22460 21
d22482 11
a22492 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want only a few charsets" >&5
$as_echo_n "checking if you want only a few charsets... " >&6; }
d22494 28
a22521 3
# Check whether --with-charsets was given.
if test "${with_charsets+set}" = set; then :
  withval=$with_charsets; cf_charsets=$withval
a22522 2
  cf_charsets=
fi
d22524 9
a22532 72

if test -n "$cf_charsets" ; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
	$as_echo "#define ALL_CHARSETS 0" >>confdefs.h

	cf_min_charsets=us-ascii,iso-8859-1,utf-8
	if test "$cf_charsets" = "no" ; then
		cf_charsets=minimal
	fi
	if test "$cf_charsets" = "minimal" ; then
		test -n "$verbose" && echo "	using minimal list of charsets: $cf_min_charsets" 1>&6

echo "${as_me-configure}:20446: testing using minimal list of charsets: $cf_min_charsets ..." 1>&5


	fi
	cf_charsets=`echo $cf_charsets | sed -e "s/minimal/$cf_min_charsets/g" -e 's/,/ /g'`
	for cf_charset in $cf_charsets
	do
		cf_def_charset=`echo $cf_charset | sed -e 's/+/_/g' -e 's/-/_/g'`
		cf_use_charset=no
		# check charsets that are defined via .tbl files
		if ( egrep '^M'$cf_charset'$' $srcdir/src/chrtrans/*.tbl 2>/dev/null >/dev/null )
		then
			cf_use_charset=yes
		# check charsets that are "built-in"
		else
			for cf_tst_charset in big5 euc_cn euc_jp euc_kr shift_jis x_transparent
			do
				if test "$cf_tst_charset" = "$cf_def_charset"
				then
					cf_use_charset=yes
					break
				fi
			done
		fi
		if test $cf_use_charset=yes
		then
			test -n "$verbose" && echo "	found $cf_charset" 1>&6

echo "${as_me-configure}:20474: testing found $cf_charset ..." 1>&5


			CHARSET_DEFS="-DNO_CHARSET_${cf_def_charset}=0 $CHARSET_DEFS"
		else
			test -n "$verbose" && echo "	not found $cf_charset" 1>&6

echo "${as_me-configure}:20481: testing not found $cf_charset ..." 1>&5


		fi
	done
else
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ANSI C header files" >&5
$as_echo_n "checking for ANSI C header files... " >&6; }
if ${ac_cv_header_stdc+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>

int
d22535 1
a22535 1

d22540 16
a22555 2
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_header_stdc=yes
d22557 4
a22560 3
  ac_cv_header_stdc=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d22562 8
a22569 5
if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string.h>
d22571 10
a22580 3
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "memchr" >/dev/null 2>&1; then :
d22582 4
a22585 2
else
  ac_cv_header_stdc=no
a22586 1
rm -f conftest*
d22588 12
a22599 1
fi
d22601 10
a22610 5
if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdlib.h>
d22612 10
a22621 3
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "free" >/dev/null 2>&1; then :
d22623 10
a22632 4
else
  ac_cv_header_stdc=no
fi
rm -f conftest*
d22634 10
a22643 1
fi
d22645 1
a22645 19
if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then :
  :
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <ctype.h>
#include <stdlib.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) \
		   (('a' <= (c) && (c) <= 'i') \
		     || ('j' <= (c) && (c) <= 'r') \
		     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif
d22647 9
a22655 1
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
d22659 2
a22660 5
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
	|| toupper (i) != TOUPPER (i))
      return 2;
d22664 16
a22679 2
if ac_fn_c_try_run "$LINENO"; then :

d22681 5
a22685 1
  ac_cv_header_stdc=no
d22687 3
a22689 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
d22691 1
a22693 4
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc" >&5
$as_echo "$ac_cv_header_stdc" >&6; }
if test $ac_cv_header_stdc = yes; then
d22695 1
a22695 1
$as_echo "#define STDC_HEADERS 1" >>confdefs.h
d22697 4
d22703 1
a22703 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether time.h and sys/time.h may both be included" >&5
$as_echo_n "checking whether time.h and sys/time.h may both be included... " >&6; }
if ${ac_cv_header_time+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>
d22705 14
d22722 1
a22722 2
if ((struct tm *) 0)
return 0;
d22727 20
a22746 4
if ac_fn_c_try_compile "$LINENO"; then :
  ac_cv_header_time=yes
else
  ac_cv_header_time=no
d22748 1
a22748 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
a22749 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_time" >&5
$as_echo "$ac_cv_header_time" >&6; }
if test $ac_cv_header_time = yes; then
d22751 5
a22755 1
$as_echo "#define TIME_WITH_SYS_TIME 1" >>confdefs.h
d22759 19
a22777 7
ac_header_dirent=no
for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h; do
  as_ac_Header=`$as_echo "ac_cv_header_dirent_$ac_hdr" | $as_tr_sh`
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_hdr that defines DIR" >&5
$as_echo_n "checking for $ac_hdr that defines DIR... " >&6; }
if eval \${$as_ac_Header+:} false; then :
  $as_echo_n "(cached) " >&6
a22778 4
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
#include <$ac_hdr>
d22780 5
d22788 1
a22788 2
if ((DIR *) 0)
return 0;
d22793 13
a22805 2
if ac_fn_c_try_compile "$LINENO"; then :
  eval "$as_ac_Header=yes"
d22807 2
a22808 11
  eval "$as_ac_Header=no"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
eval ac_res=\$$as_ac_Header
	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
$as_echo "$ac_res" >&6; }
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_hdr" | $as_tr_cpp` 1
_ACEOF
d22810 1
a22810 2
ac_header_dirent=$ac_hdr; break
fi
d22812 8
a22819 11
done
# Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.
if test $ac_header_dirent = dirent.h; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing opendir" >&5
$as_echo_n "checking for library containing opendir... " >&6; }
if ${ac_cv_search_opendir+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d22821 9
a22829 13
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char opendir ();
int
main ()
{
return opendir ();
  ;
  return 0;
d22831 5
a22835 10
_ACEOF
for ac_lib in '' dir; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_search_opendir=$ac_res
a22836 7
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_opendir+:} false; then :
  break
fi
done
if ${ac_cv_search_opendir+:} false; then :
d22838 89
a22926 2
else
  ac_cv_search_opendir=no
d22928 1
a22928 2
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
d22930 9
a22938 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_opendir" >&5
$as_echo "$ac_cv_search_opendir" >&6; }
ac_res=$ac_cv_search_opendir
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
d22940 6
a22945 1
fi
d22947 16
a22962 9
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing opendir" >&5
$as_echo_n "checking for library containing opendir... " >&6; }
if ${ac_cv_search_opendir+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_func_search_save_LIBS=$LIBS
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d22964 10
a22973 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char opendir ();
d22977 1
a22977 1
return opendir ();
d22982 13
a22994 18
for ac_lib in '' x; do
  if test -z "$ac_lib"; then
    ac_res="none required"
  else
    ac_res=-l$ac_lib
    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
  fi
  if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_search_opendir=$ac_res
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext
  if ${ac_cv_search_opendir+:} false; then :
  break
fi
done
if ${ac_cv_search_opendir+:} false; then :

d22996 3
a22998 1
  ac_cv_search_opendir=no
d23000 5
a23004 8
rm conftest.$ac_ext
LIBS=$ac_func_search_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_opendir" >&5
$as_echo "$ac_cv_search_opendir" >&6; }
ac_res=$ac_cv_search_opendir
if test "$ac_res" != no; then :
  test "$ac_res" = "none required" || LIBS="$ac_res $LIBS"
d23006 2
a23007 1
fi
d23009 1
a23009 1
fi
d23011 1
a23011 17
for ac_header in \
	arpa/inet.h \
	fcntl.h \
	limits.h \
	stdlib.h \
	string.h \
	sys/fcntl.h \
	sys/filio.h \
	sys/ioctl.h \
	sys/param.h \
	sys/timeb.h \
	sys/time.h \
	syslog.h \
	termio.h \
	termios.h \
	unistd.h \
	vfork.h \
d23013 10
a23022 7
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
d23024 2
d23028 2
a23029 1
done
d23031 1
d23033 2
a23034 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking termio.h and termios.h" >&5
$as_echo_n "checking termio.h and termios.h... " >&6; }
if ${cf_cv_termio_and_termios+:} false; then :
  $as_echo_n "(cached) " >&6
d23037 28
a23064 2
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a23065 6
#if HAVE_TERMIO_H
#include <termio.h>
#endif
#if HAVE_TERMIOS_H
#include <termios.h>
#endif
d23069 1
a23069 1
putchar (0x0a)
d23074 13
a23086 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_termio_and_termios=yes
d23088 3
a23090 1
  cf_cv_termio_and_termios=no
d23092 2
a23093 7
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_termio_and_termios" >&5
$as_echo "$cf_cv_termio_and_termios" >&6; }
test $cf_cv_termio_and_termios = no && $as_echo "#define TERMIO_AND_TERMIOS 1" >>confdefs.h

d23095 1
a23096 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for sigaction and structs" >&5
$as_echo_n "checking for sigaction and structs... " >&6; }
if ${cf_cv_func_sigaction+:} false; then :
  $as_echo_n "(cached) " >&6
d23098 2
d23101 14
a23114 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a23115 2
#include <sys/types.h>
#include <signal.h>
d23119 1
a23119 7
struct sigaction act;
	act.sa_handler = SIG_DFL;
#ifdef SA_RESTART
	act.sa_flags |= SA_RESTART;
#endif /* SA_RESTART */
	sigaction(1, &act, 0);

d23124 13
a23136 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_func_sigaction=yes
d23138 19
a23156 1
  cf_cv_func_sigaction=no
d23158 12
a23169 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d23171 7
a23177 73
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_func_sigaction" >&5
$as_echo "$cf_cv_func_sigaction" >&6; }
test "$cf_cv_func_sigaction" = yes && $as_echo "#define HAVE_SIGACTION 1" >>confdefs.h



for ac_header in sys/wait.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "sys/wait.h" "ac_cv_header_sys_wait_h" "$ac_includes_default"
if test "x$ac_cv_header_sys_wait_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_SYS_WAIT_H 1
_ACEOF

fi

done

cf_wait_headers="#include <sys/types.h>
"
if test $ac_cv_header_sys_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <sys/wait.h>
"
else
for ac_header in wait.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "wait.h" "ac_cv_header_wait_h" "$ac_includes_default"
if test "x$ac_cv_header_wait_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_WAIT_H 1
_ACEOF

fi

done

for ac_header in waitstatus.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "waitstatus.h" "ac_cv_header_waitstatus_h" "$ac_includes_default"
if test "x$ac_cv_header_waitstatus_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_WAITSTATUS_H 1
_ACEOF

fi

done

if test $ac_cv_header_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <wait.h>
"
fi
if test $ac_cv_header_waitstatus_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <waitstatus.h>
"
fi
fi



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for union wait" >&5
$as_echo_n "checking for union wait... " >&6; }
if ${cf_cv_type_unionwait+:} false; then :
  $as_echo_n "(cached) " >&6
else

	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$cf_wait_headers
d23181 1
a23181 5
int x;
	 int y = WEXITSTATUS(x);
	 int z = WTERMSIG(x);
	 wait(&x);

d23186 26
a23211 3
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_type_unionwait=no
	 echo compiles ok w/o union wait 1>&5
d23213 4
d23218 5
d23224 7
a23230 3
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$cf_wait_headers
d23234 1
a23234 9
union wait x;
#ifdef WEXITSTATUS
	 int y = WEXITSTATUS(x);
#endif
#ifdef WTERMSIG
	 int z = WTERMSIG(x);
#endif
	 wait(&x);

d23239 13
a23251 4
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_type_unionwait=yes
	 echo compiles ok with union wait and possibly macros too 1>&5

d23253 3
a23255 1
  cf_cv_type_unionwait=no
d23257 2
a23258 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d23260 4
a23263 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d23266 1
a23266 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_type_unionwait" >&5
$as_echo "$cf_cv_type_unionwait" >&6; }
test $cf_cv_type_unionwait = yes && $as_echo "#define HAVE_TYPE_UNIONWAIT 1" >>confdefs.h
d23268 6
d23275 1
d23277 5
a23281 7

if test $cf_cv_type_unionwait = yes; then

	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if union wait can be used as wait-arg" >&5
$as_echo_n "checking if union wait can be used as wait-arg... " >&6; }
	if ${cf_cv_arg_union_wait+:} false; then :
  $as_echo_n "(cached) " >&6
d23283 14
a23297 3
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$cf_wait_headers
d23301 9
a23309 1
union wait x; wait(&x)
d23314 24
a23337 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_arg_union_wait=yes
a23338 3
  cf_cv_arg_union_wait=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d23340 4
a23343 11
fi

	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_arg_union_wait" >&5
$as_echo "$cf_cv_arg_union_wait" >&6; }
	test $cf_cv_arg_union_wait = yes && $as_echo "#define WAIT_USES_UNION 1" >>confdefs.h


	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if union wait can be used as waitpid-arg" >&5
$as_echo_n "checking if union wait can be used as waitpid-arg... " >&6; }
	if ${cf_cv_arg_union_waitpid+:} false; then :
  $as_echo_n "(cached) " >&6
d23345 5
d23351 7
a23357 3
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$cf_wait_headers
d23361 1
a23361 1
union wait x; waitpid(0, &x, 0)
d23366 13
a23378 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_arg_union_waitpid=yes
d23380 3
a23382 1
  cf_cv_arg_union_waitpid=no
d23384 2
a23385 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

d23387 3
d23391 1
a23391 3
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_arg_union_waitpid" >&5
$as_echo "$cf_cv_arg_union_waitpid" >&6; }
	test $cf_cv_arg_union_waitpid = yes && $as_echo "#define WAITPID_USES_UNION 1" >>confdefs.h
d23393 3
d23397 3
a23399 1
fi
d23401 2
a23402 8
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for uid_t in sys/types.h" >&5
$as_echo_n "checking for uid_t in sys/types.h... " >&6; }
if ${ac_cv_type_uid_t+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
a23403 6
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "uid_t" >/dev/null 2>&1; then :
  ac_cv_type_uid_t=yes
else
  ac_cv_type_uid_t=no
a23404 1
rm -f conftest*
a23406 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_uid_t" >&5
$as_echo "$ac_cv_type_uid_t" >&6; }
if test $ac_cv_type_uid_t = no; then
d23408 2
a23409 1
$as_echo "#define uid_t int" >>confdefs.h
d23411 6
a23416 9

$as_echo "#define gid_t int" >>confdefs.h

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking type of array argument to getgroups" >&5
$as_echo_n "checking type of array argument to getgroups... " >&6; }
if ${ac_cv_type_getgroups+:} false; then :
  $as_echo_n "(cached) " >&6
d23418 14
a23431 10
  if test "$cross_compiling" = yes; then :
  ac_cv_type_getgroups=cross
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
/* Thanks to Mike Rendell for this test.  */
$ac_includes_default
#define NGID 256
#undef MAX
#define MAX(x, y) ((x) > (y) ? (x) : (y))
d23436 8
a23443 3
  gid_t gidset[NGID];
  int i, n;
  union { gid_t gval; long int lval; }  val;
d23445 2
a23446 9
  val.lval = -1;
  for (i = 0; i < NGID; i++)
    gidset[i] = val.gval;
  n = getgroups (sizeof (gidset) / MAX (sizeof (int), sizeof (gid_t)) - 1,
		 gidset);
  /* Exit non-zero if getgroups seems to require an array of ints.  This
     happens when gid_t is short int but getgroups modifies an array
     of ints.  */
  return n > 0 && gidset[n] != val.gval;
d23449 24
a23472 2
if ac_fn_c_try_run "$LINENO"; then :
  ac_cv_type_getgroups=gid_t
a23473 5
  ac_cv_type_getgroups=int
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
fi
d23475 31
a23505 4
if test $ac_cv_type_getgroups = cross; then
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <unistd.h>
a23506 4
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "getgroups.*int.*gid_t" >/dev/null 2>&1; then :
  ac_cv_type_getgroups=gid_t
d23508 4
a23511 3
  ac_cv_type_getgroups=int
fi
rm -f conftest*
d23513 8
a23520 4
fi
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_getgroups" >&5
$as_echo "$ac_cv_type_getgroups" >&6; }
d23522 10
a23531 3
cat >>confdefs.h <<_ACEOF
#define GETGROUPS_T $ac_cv_type_getgroups
_ACEOF
d23533 5
d23539 1
a23539 2
ac_fn_c_check_type "$LINENO" "off_t" "ac_cv_type_off_t" "$ac_includes_default"
if test "x$ac_cv_type_off_t" = xyes; then :
d23541 10
a23550 1
else
d23552 10
a23561 3
cat >>confdefs.h <<_ACEOF
#define off_t long int
_ACEOF
d23563 10
a23572 1
fi
d23574 10
a23583 2
ac_fn_c_check_type "$LINENO" "pid_t" "ac_cv_type_pid_t" "$ac_includes_default"
if test "x$ac_cv_type_pid_t" = xyes; then :
d23585 10
a23594 1
else
d23596 1
a23596 14
cat >>confdefs.h <<_ACEOF
#define pid_t int
_ACEOF

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for uid_t in sys/types.h" >&5
$as_echo_n "checking for uid_t in sys/types.h... " >&6; }
if ${ac_cv_type_uid_t+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <sys/types.h>
d23598 16
d23615 16
a23630 3
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "uid_t" >/dev/null 2>&1; then :
  ac_cv_type_uid_t=yes
d23632 5
a23636 1
  ac_cv_type_uid_t=no
d23638 2
a23639 1
rm -f conftest*
d23642 1
a23642 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_uid_t" >&5
$as_echo "$ac_cv_type_uid_t" >&6; }
if test $ac_cv_type_uid_t = no; then
d23644 1
a23644 1
$as_echo "#define uid_t int" >>confdefs.h
d23646 1
d23648 4
a23651 2
$as_echo "#define gid_t int" >>confdefs.h

d23654 2
a23655 2
ac_fn_c_check_type "$LINENO" "mode_t" "ac_cv_type_mode_t" "$ac_includes_default"
if test "x$ac_cv_type_mode_t" = xyes; then :
d23657 6
d23664 26
d23691 3
a23693 2
cat >>confdefs.h <<_ACEOF
#define mode_t int
d23695 25
d23721 31
a23751 1
fi
d23753 5
d23759 8
d23768 10
a23777 3
	ac_fn_c_check_type "$LINENO" "socklen_t" "ac_cv_type_socklen_t" "
#include <sys/types.h>
#include <sys/socket.h>
d23779 4
a23782 5
"
if test "x$ac_cv_type_socklen_t" = xyes; then :
  ac_cv_type_socklen_t=yes
else
  ac_cv_type_socklen_t=no
d23785 12
a23796 2
	if test $ac_cv_type_socklen_t = no; then
	$as_echo "#define socklen_t int" >>confdefs.h
d23798 10
a23807 1
fi
d23809 10
d23820 10
a23829 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for tm.tm_gmtoff" >&5
$as_echo_n "checking for tm.tm_gmtoff... " >&6; }
if ${cf_cv_tm_gmtoff+:} false; then :
  $as_echo_n "(cached) " >&6
else
d23831 10
a23840 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d23842 1
a23842 10
#ifdef TIME_WITH_SYS_TIME
#	include <sys/time.h>
#	include <time.h>
#else
#	ifdef HAVE_SYS_TIME_H
#		include <sys/time.h>
#	else
#		include <time.h>
#	endif
#endif
d23844 9
d23856 1
a23856 3

	struct tm foo;
	long bar = foo.tm_gmtoff
d23861 16
a23876 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_tm_gmtoff=yes
d23878 5
a23882 1
  cf_cv_tm_gmtoff=no
d23884 3
a23886 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d23888 1
d23890 1
a23890 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_tm_gmtoff" >&5
$as_echo "$cf_cv_tm_gmtoff" >&6; }
test $cf_cv_tm_gmtoff = no && $as_echo "#define DONT_HAVE_TM_GMTOFF 1" >>confdefs.h
d23892 1
d23894 5
d23900 5
a23904 8
# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of int" >&5
$as_echo_n "checking size of int... " >&6; }
if ${ac_cv_sizeof_int+:} false; then :
  $as_echo_n "(cached) " >&6
d23906 1
a23906 11
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (int))" "ac_cv_sizeof_int"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_int" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (int)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_int=0
   fi
d23908 12
a23919 9

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_int" >&5
$as_echo "$ac_cv_sizeof_int" >&6; }



cat >>confdefs.h <<_ACEOF
#define SIZEOF_INT $ac_cv_sizeof_int
d23921 22
d23944 1
d23946 4
a23949 8
# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long" >&5
$as_echo_n "checking size of long... " >&6; }
if ${ac_cv_sizeof_long+:} false; then :
  $as_echo_n "(cached) " >&6
a23950 1
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long))" "ac_cv_sizeof_long"        "$ac_includes_default"; then :
d23952 26
d23979 24
a24002 9
  if test "$ac_cv_type_long" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (long)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_long=0
   fi
fi
d24004 4
a24008 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long" >&5
$as_echo "$ac_cv_sizeof_long" >&6; }
d24010 1
d24012 1
d24014 10
a24023 3
cat >>confdefs.h <<_ACEOF
#define SIZEOF_LONG $ac_cv_sizeof_long
_ACEOF
d24025 10
d24036 10
a24045 10
# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of off_t" >&5
$as_echo_n "checking size of off_t... " >&6; }
if ${ac_cv_sizeof_off_t+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (off_t))" "ac_cv_sizeof_off_t"        "$ac_includes_default"; then :
d24047 10
a24056 10
else
  if test "$ac_cv_type_off_t" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (off_t)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_off_t=0
   fi
fi
d24058 10
a24067 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_off_t" >&5
$as_echo "$ac_cv_sizeof_off_t" >&6; }
d24069 6
d24076 6
d24083 1
a24083 3
cat >>confdefs.h <<_ACEOF
#define SIZEOF_OFF_T $ac_cv_sizeof_off_t
_ACEOF
d24085 13
a24098 20
# The cast to long int works around a bug in the HP C Compiler
# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
# This bug is HP SR number 8606223364.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking size of time_t" >&5
$as_echo_n "checking size of time_t... " >&6; }
if ${ac_cv_sizeof_time_t+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (time_t))" "ac_cv_sizeof_time_t"        "$ac_includes_default"; then :

else
  if test "$ac_cv_type_time_t" = yes; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
as_fn_error 77 "cannot compute sizeof (time_t)
See \`config.log' for more details" "$LINENO" 5; }
   else
     ac_cv_sizeof_time_t=0
   fi
d24100 1
a24100 1

d24102 2
a24103 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_time_t" >&5
$as_echo "$ac_cv_sizeof_time_t" >&6; }
d24105 2
d24108 3
d24112 1
a24112 4
cat >>confdefs.h <<_ACEOF
#define SIZEOF_TIME_T $ac_cv_sizeof_time_t
_ACEOF

d24114 4
d24119 16
d24136 10
a24145 10
# The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
# for constant arguments.  Useless!
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for working alloca.h" >&5
$as_echo_n "checking for working alloca.h... " >&6; }
if ${ac_cv_working_alloca_h+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <alloca.h>
d24149 1
a24149 2
char *p = (char *) alloca (2 * sizeof (int));
			  if (p) return 0;
d24154 13
a24166 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_working_alloca_h=yes
d24168 3
a24170 1
  ac_cv_working_alloca_h=no
d24172 5
a24176 6
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_working_alloca_h" >&5
$as_echo "$ac_cv_working_alloca_h" >&6; }
if test $ac_cv_working_alloca_h = yes; then
d24178 2
a24179 1
$as_echo "#define HAVE_ALLOCA_H 1" >>confdefs.h
d24181 1
a24181 1
fi
d24183 1
a24183 27
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for alloca" >&5
$as_echo_n "checking for alloca... " >&6; }
if ${ac_cv_func_alloca_works+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#ifdef __GNUC__
# define alloca __builtin_alloca
#else
# ifdef _MSC_VER
#  include <malloc.h>
#  define alloca _alloca
# else
#  ifdef HAVE_ALLOCA_H
#   include <alloca.h>
#  else
#   ifdef _AIX
 #pragma alloca
#   else
#    ifndef alloca /* predefined by HP cc +Olibcalls */
void *alloca (size_t);
#    endif
#   endif
#  endif
# endif
#endif
d24185 9
a24193 13
int
main ()
{
char *p = (char *) alloca (1);
				    if (p) return 0;
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_func_alloca_works=yes
else
  ac_cv_func_alloca_works=no
d24195 3
a24197 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a24198 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_alloca_works" >&5
$as_echo "$ac_cv_func_alloca_works" >&6; }
d24200 2
a24201 1
if test $ac_cv_func_alloca_works = yes; then
d24203 1
a24203 11
$as_echo "#define HAVE_ALLOCA 1" >>confdefs.h

else
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
# that cause trouble.  Some versions do not even contain alloca or
# contain a buggy version.  If you still want to use their alloca,
# use ar to extract alloca.o from them instead of compiling alloca.c.

ALLOCA=\${LIBOBJDIR}alloca.$ac_objext

$as_echo "#define C_ALLOCA 1" >>confdefs.h
d24205 2
a24206 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether \`alloca.c' needs Cray hooks" >&5
$as_echo_n "checking whether \`alloca.c' needs Cray hooks... " >&6; }
if ${ac_cv_os_cray+:} false; then :
  $as_echo_n "(cached) " >&6
a24207 7
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#if defined CRAY && ! defined CRAY2
webecray
#else
wenotbecray
#endif
d24209 4
a24212 21
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  $EGREP "webecray" >/dev/null 2>&1; then :
  ac_cv_os_cray=yes
else
  ac_cv_os_cray=no
fi
rm -f conftest*

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_os_cray" >&5
$as_echo "$ac_cv_os_cray" >&6; }
if test $ac_cv_os_cray = yes; then
  for ac_func in _getb67 GETB67 getb67; do
    as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
if eval test \"x\$"$as_ac_var"\" = x"yes"; then :

cat >>confdefs.h <<_ACEOF
#define CRAY_STACKSEG_END $ac_func
_ACEOF
a24213 17
    break
fi

  done
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking stack direction for C alloca" >&5
$as_echo_n "checking stack direction for C alloca... " >&6; }
if ${ac_cv_c_stack_direction+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
  ac_cv_c_stack_direction=0
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_includes_default
d24215 1
a24215 1
find_stack_direction ()
d24217 3
a24219 9
  static char *addr = 0;
  auto char dummy;
  if (addr == 0)
    {
      addr = &dummy;
      return find_stack_direction ();
    }
  else
    return (&dummy > addr) ? 1 : -1;
d24221 16
d24241 3
a24243 1
  return find_stack_direction () < 0;
d24246 13
a24258 2
if ac_fn_c_try_run "$LINENO"; then :
  ac_cv_c_stack_direction=1
d24260 3
a24262 4
  ac_cv_c_stack_direction=-1
fi
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
d24264 2
d24267 1
a24267 6
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_stack_direction" >&5
$as_echo "$ac_cv_c_stack_direction" >&6; }
cat >>confdefs.h <<_ACEOF
#define STACK_DIRECTION $ac_cv_c_stack_direction
_ACEOF
d24269 3
d24273 14
a24286 1
fi
d24288 7
a24294 6
for ac_header in vfork.h
do :
  ac_fn_c_check_header_mongrel "$LINENO" "vfork.h" "ac_cv_header_vfork_h" "$ac_includes_default"
if test "x$ac_cv_header_vfork_h" = xyes; then :
  cat >>confdefs.h <<_ACEOF
#define HAVE_VFORK_H 1
d24296 33
a24328 1

d24330 12
d24343 7
a24349 26
done

for ac_func in fork vfork
do :
  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF

fi
done

if test "x$ac_cv_func_fork" = xyes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for working fork" >&5
$as_echo_n "checking for working fork... " >&6; }
if ${ac_cv_func_fork_works+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
  ac_cv_func_fork_works=cross
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$ac_includes_default
d24353 1
a24353 4

	  /* By Ruediger Kuhlmann. */
	  return fork () < 0;

d24358 13
a24370 2
if ac_fn_c_try_run "$LINENO"; then :
  ac_cv_func_fork_works=yes
d24372 3
a24374 1
  ac_cv_func_fork_works=no
d24376 2
a24377 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
d24379 4
a24382 1

a24383 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_fork_works" >&5
$as_echo "$ac_cv_func_fork_works" >&6; }
d24385 4
d24390 7
a24396 40
  ac_cv_func_fork_works=$ac_cv_func_fork
fi
if test "x$ac_cv_func_fork_works" = xcross; then
  case $host in
    *-*-amigaos* | *-*-msdosdjgpp*)
      # Override, as these systems have only a dummy fork() stub
      ac_cv_func_fork_works=no
      ;;
    *)
      ac_cv_func_fork_works=yes
      ;;
  esac
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: result $ac_cv_func_fork_works guessed because of cross compilation" >&5
$as_echo "$as_me: WARNING: result $ac_cv_func_fork_works guessed because of cross compilation" >&2;}
fi
ac_cv_func_vfork_works=$ac_cv_func_vfork
if test "x$ac_cv_func_vfork" = xyes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for working vfork" >&5
$as_echo_n "checking for working vfork... " >&6; }
if ${ac_cv_func_vfork_works+:} false; then :
  $as_echo_n "(cached) " >&6
else
  if test "$cross_compiling" = yes; then :
  ac_cv_func_vfork_works=cross
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
/* Thanks to Paul Eggert for this test.  */
$ac_includes_default
#include <sys/wait.h>
#ifdef HAVE_VFORK_H
# include <vfork.h>
#endif
/* On some sparc systems, changes by the child to local and incoming
   argument registers are propagated back to the parent.  The compiler
   is told about this with #include <vfork.h>, but some compilers
   (e.g. gcc -O) don't grok <vfork.h>.  Test for this by using a
   static variable whose address is put into a register that is
   clobbered by the vfork.  */
static void
d24398 1
a24398 3
sparc_address_test (int arg)
# else
sparc_address_test (arg) int arg;
d24400 3
a24402 16
{
  static pid_t child;
  if (!child) {
    child = vfork ();
    if (child < 0) {
      perror ("vfork");
      _exit(2);
    }
    if (!child) {
      arg = getpid();
      write(-1, "", 0);
      _exit (arg);
    }
  }
}

d24406 3
a24408 51
  pid_t parent = getpid ();
  pid_t child;

  sparc_address_test (0);

  child = vfork ();

  if (child == 0) {
    /* Here is another test for sparc vfork register problems.  This
       test uses lots of local variables, at least as many local
       variables as main has allocated so far including compiler
       temporaries.  4 locals are enough for gcc 1.40.3 on a Solaris
       4.1.3 sparc, but we use 8 to be safe.  A buggy compiler should
       reuse the register of parent for one of the local variables,
       since it will think that parent can't possibly be used any more
       in this routine.  Assigning to the local variable will thus
       munge parent in the parent process.  */
    pid_t
      p = getpid(), p1 = getpid(), p2 = getpid(), p3 = getpid(),
      p4 = getpid(), p5 = getpid(), p6 = getpid(), p7 = getpid();
    /* Convince the compiler that p..p7 are live; otherwise, it might
       use the same hardware register for all 8 local variables.  */
    if (p != p1 || p != p2 || p != p3 || p != p4
	|| p != p5 || p != p6 || p != p7)
      _exit(1);

    /* On some systems (e.g. IRIX 3.3), vfork doesn't separate parent
       from child file descriptors.  If the child closes a descriptor
       before it execs or exits, this munges the parent's descriptor
       as well.  Test for this by closing stdout in the child.  */
    _exit(close(fileno(stdout)) != 0);
  } else {
    int status;
    struct stat st;

    while (wait(&status) != child)
      ;
    return (
	 /* Was there some problem with vforking?  */
	 child < 0

	 /* Did the child fail?  (This shouldn't happen.)  */
	 || status

	 /* Did the vfork/compiler bug occur?  */
	 || parent != getpid()

	 /* Did the file descriptor bug occur?  */
	 || fstat(fileno(stdout), &st) != 0
	 );
  }
d24411 13
a24423 2
if ac_fn_c_try_run "$LINENO"; then :
  ac_cv_func_vfork_works=yes
d24425 6
a24430 1
  ac_cv_func_vfork_works=no
d24432 4
a24435 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
a24438 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_vfork_works" >&5
$as_echo "$ac_cv_func_vfork_works" >&6; }
a24439 5
fi;
if test "x$ac_cv_func_fork_works" = xcross; then
  ac_cv_func_vfork_works=$ac_cv_func_vfork
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: result $ac_cv_func_vfork_works guessed because of cross compilation" >&5
$as_echo "$as_me: WARNING: result $ac_cv_func_vfork_works guessed because of cross compilation" >&2;}
d24441 4
a24444 9

if test "x$ac_cv_func_vfork_works" = xyes; then

$as_echo "#define HAVE_WORKING_VFORK 1" >>confdefs.h

else

$as_echo "#define vfork fork" >>confdefs.h

a24445 3
if test "x$ac_cv_func_fork_works" = xyes; then

$as_echo "#define HAVE_WORKING_FORK 1" >>confdefs.h
d24449 5
a24453 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we should use fcntl or ioctl" >&5
$as_echo_n "checking if we should use fcntl or ioctl... " >&6; }
if ${cf_cv_fionbio+:} false; then :
  $as_echo_n "(cached) " >&6
d24455 14
a24468 6

cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/types.h>
#include <sys/ioctl.h>
d24473 8
a24480 2

        int ret = ioctl(0, FIONBIO, (char *)0);
d24486 24
a24509 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_fionbio=ioctl
d24512 10
a24521 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d24523 3
a24525 7
#include <sys/types.h>
#if HAVE_FCNTL_H
#include <fcntl.h>
#else
#if HAVE_SYS_FCNTL_H
#include <sys/fcntl.h>
#endif
d24527 3
d24533 1
a24533 3

        int ret = fcntl(0, F_SETFL, O_NONBLOCK);

d24538 13
a24550 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_fionbio=fcntl
d24552 3
a24554 1
  cf_cv_fionbio=unknown
d24556 2
a24557 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d24559 16
a24574 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a24576 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_fionbio" >&5
$as_echo "$cf_cv_fionbio" >&6; }
test "$cf_cv_fionbio" = "fcntl" && $as_echo "#define USE_FCNTL 1" >>confdefs.h
d24578 1
d24580 2
d24583 6
a24588 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for broken/missing definition of remove" >&5
$as_echo_n "checking for broken/missing definition of remove... " >&6; }
if ${cf_cv_baddef_remove+:} false; then :
  $as_echo_n "(cached) " >&6
d24590 14
a24604 3
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d24608 9
a24616 1
remove("dummy")
d24621 24
a24644 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_baddef_remove=no
d24646 9
a24654 4
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
		int __unlink(name) { return unlink(name); }
d24658 1
a24658 1
remove("dummy")
d24663 16
a24678 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_baddef_remove=yes
d24680 29
a24708 1
  cf_cv_baddef_remove=unknown
a24709 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d24711 1
a24711 3
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d24713 10
a24722 1
fi
d24724 10
a24733 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_baddef_remove" >&5
$as_echo "$cf_cv_baddef_remove" >&6; }
test "$cf_cv_baddef_remove" != no && $as_echo "#define NEED_REMOVE 1" >>confdefs.h
d24735 10
d24746 10
d24757 10
a24766 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for lstat" >&5
$as_echo_n "checking for lstat... " >&6; }
if ${ac_cv_func_lstat+:} false; then :
  $as_echo_n "(cached) " >&6
else
d24768 1
a24768 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d24770 9
a24778 2
#include <sys/types.h>
#include <sys/stat.h>
d24782 1
a24782 1
lstat(".", (struct stat *)0)
d24787 16
a24802 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_func_lstat=yes
d24804 5
a24808 1
  ac_cv_func_lstat=no
d24810 2
a24811 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d24814 1
a24814 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_lstat " >&5
$as_echo "$ac_cv_func_lstat " >&6; }
if test $ac_cv_func_lstat = yes; then
	$as_echo "#define HAVE_LSTAT 1" >>confdefs.h
d24818 1
a24818 30
for ac_func in \
	ctermid \
	cuserid \
	ftime \
	getcwd \
	getgroups \
	gettimeofday \
	getuid \
	mktemp \
	mkdtemp \
	popen \
	putenv \
	readdir \
	setuid \
	strerror \
	truncate \
	ttyname \
	unsetenv \
	usleep \
	vasprintf \
	waitpid \
	zError \

do :
  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
_ACEOF
d24820 4
a24824 1
done
d24826 1
a24826 9
ac_fn_c_check_func "$LINENO" "mktime" "ac_cv_func_mktime"
if test "x$ac_cv_func_mktime" = xyes; then :
  $as_echo "#define HAVE_MKTIME 1" >>confdefs.h

else
  case " $LIBOBJS " in
  *" mktime.$ac_objext "* ) ;;
  *) LIBOBJS="$LIBOBJS mktime.$ac_objext"
 ;;
d24829 6
a24834 6
fi

ac_fn_c_check_func "$LINENO" "strstr" "ac_cv_func_strstr"
if test "x$ac_cv_func_strstr" = xyes; then :
  $as_echo "#define HAVE_STRSTR 1" >>confdefs.h

d24836 9
a24844 39
  case " $LIBOBJS " in
  *" strstr.$ac_objext "* ) ;;
  *) LIBOBJS="$LIBOBJS strstr.$ac_objext"
 ;;
esac

fi




{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for random-integer functions" >&5
$as_echo_n "checking for random-integer functions... " >&6; }
if ${cf_cv_srand_func+:} false; then :
  $as_echo_n "(cached) " >&6
else

cf_cv_srand_func=unknown
for cf_func in arc4random_push/arc4random arc4random_stir/arc4random srandom/random srand48/lrand48 srand/rand
do

	cf_srand_func=`echo $cf_func | sed -e 's%/.*%%'`
	cf_rand_func=`echo $cf_func | sed -e 's%.*/%%'`

	case $cf_srand_func in #(vi
	arc4random_stir)
		cf_srand_func='(void)'
		;;
	esac


cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_LIMITS_H
#include <limits.h>
d24846 4
d24854 9
a24862 1
long seed = 1; $cf_srand_func(seed); seed = $cf_rand_func()
d24867 24
a24890 16
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_srand_func=$cf_func
 break
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
done

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_srand_func" >&5
$as_echo "$cf_cv_srand_func" >&6; }
if test "$cf_cv_srand_func" != unknown ; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for range of random-integers" >&5
$as_echo_n "checking for range of random-integers... " >&6; }
if ${cf_cv_rand_max+:} false; then :
  $as_echo_n "(cached) " >&6
d24893 8
a24900 24
		case $cf_cv_srand_func in
		srand/rand)
			cf_cv_rand_max=RAND_MAX
			cf_rand_max=16
			;;
		*/arc4random)
			cf_cv_rand_max=0xFFFFFFFFUL
			cf_rand_max=32
			;;
		*)
			cf_cv_rand_max=INT_MAX
			cf_rand_max=31
			;;
		esac
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif

d24904 1
a24904 1
long x = $cf_cv_rand_max
d24909 15
a24923 1
if ac_fn_c_try_compile "$LINENO"; then :
d24926 4
a24929 3
  cf_cv_rand_max="(1L<<$cf_rand_max)-1"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d24931 8
a24938 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_rand_max" >&5
$as_echo "$cf_cv_rand_max" >&6; }
d24940 10
a24949 2
	cf_srand_func=`echo $cf_func | sed -e 's%/.*%%'`
	cf_rand_func=`echo $cf_func | sed -e 's%.*/%%'`
d24951 5
a24955 5
	case $cf_srand_func in #(vi
	arc4random_stir)
		cf_srand_func='(void)'
		;;
	esac
d24957 1
d24959 10
d24970 10
a24979 1
cf_rand_max=`echo "lynx_rand_max" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d24981 10
a24990 3
	cat >>confdefs.h <<_ACEOF
#define lynx_srand $cf_srand_func
_ACEOF
d24992 10
a25001 3
	cat >>confdefs.h <<_ACEOF
#define lynx_rand $cf_rand_func
_ACEOF
d25003 10
a25012 3
	cat >>confdefs.h <<_ACEOF
#define $cf_rand_max $cf_cv_rand_max
_ACEOF
d25014 1
a25014 1
fi
d25016 9
a25024 11
for ac_func in strstr
do

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_func declaration" >&5
$as_echo_n "checking for $ac_func declaration... " >&6; }
if eval \${ac_cv_func_decl_$ac_func+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string.h>
d25028 1
a25028 3
#ifndef ${ac_func}
extern	int	${ac_func}();
#endif
d25033 38
a25070 1
if ac_fn_c_try_compile "$LINENO"; then :
d25072 13
a25084 3
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <string.h>
d25088 1
a25088 3
#ifndef ${ac_func}
int	(*p)() = ${ac_func};
#endif
d25093 13
a25105 3
if ac_fn_c_try_compile "$LINENO"; then :

eval "ac_cv_func_decl_$ac_func=yes"
d25107 8
d25116 5
a25120 1
eval "ac_cv_func_decl_$ac_func=no"
a25121 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
else
d25123 6
a25128 9
eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
  :
a25129 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d25131 4
a25134 23

ac_tr_func=`echo "DECL_$ac_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

  cat >>confdefs.h <<_ACEOF
#define $ac_tr_func 1
_ACEOF

fi
done

for ac_func in getgrgid getgrnam
do

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_func declaration" >&5
$as_echo_n "checking for $ac_func declaration... " >&6; }
if eval \${ac_cv_func_decl_$ac_func+:} false; then :
  $as_echo_n "(cached) " >&6
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdio.h>
#include <grp.h>
d25138 1
a25138 3
#ifndef ${ac_func}
extern	int	${ac_func}();
#endif
d25143 16
a25158 1
if ac_fn_c_try_compile "$LINENO"; then :
d25160 3
a25162 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d25164 2
a25165 2
#include <stdio.h>
#include <grp.h>
d25169 1
a25169 3
#ifndef ${ac_func}
int	(*p)() = ${ac_func};
#endif
d25174 13
a25186 3
if ac_fn_c_try_compile "$LINENO"; then :

eval "ac_cv_func_decl_$ac_func=yes"
d25188 5
a25192 2

eval "ac_cv_func_decl_$ac_func=no"
d25194 1
a25194 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
else
a25195 3
eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d25197 2
d25200 1
a25200 7
if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
  :
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d25202 3
a25204 6

ac_tr_func=`echo "DECL_$ac_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

  cat >>confdefs.h <<_ACEOF
#define $ac_tr_func 1
_ACEOF
a25206 3
done


d25208 4
a25211 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if TRUE/FALSE are defined" >&5
$as_echo_n "checking if TRUE/FALSE are defined... " >&6; }
if ${cf_cv_bool_defs+:} false; then :
  $as_echo_n "(cached) " >&6
d25214 4
a25217 5
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <${cf_cv_ncurses_header-curses.h}>
#include <stdio.h>
d25221 8
a25228 1
int x = TRUE, y = FALSE
d25233 13
a25245 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_bool_defs=yes
d25247 5
a25251 11
  cf_cv_bool_defs=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_bool_defs" >&5
$as_echo "$cf_cv_bool_defs" >&6; }
if test "$cf_cv_bool_defs" = no ; then
	$as_echo "#define TRUE (1)" >>confdefs.h

	$as_echo "#define FALSE (0)" >>confdefs.h
d25254 6
d25261 4
a25264 6


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if external errno is declared" >&5
$as_echo_n "checking if external errno is declared... " >&6; }
if ${cf_cv_dcl_errno+:} false; then :
  $as_echo_n "(cached) " >&6
d25266 4
a25270 9
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
d25274 4
a25277 1
int x = (int) errno
d25282 13
a25294 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_dcl_errno=yes
d25296 3
a25298 1
  cf_cv_dcl_errno=no
d25300 8
a25307 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

a25308 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_dcl_errno" >&5
$as_echo "$cf_cv_dcl_errno" >&6; }
d25310 1
a25310 1
if test "$cf_cv_dcl_errno" = no ; then
d25312 3
a25314 5
cf_result=`echo "decl_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<_ACEOF
#define $cf_result 1
_ACEOF
d25318 4
a25321 6
# It's possible (for near-UNIX clones) that the data doesn't exist

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if external errno exists" >&5
$as_echo_n "checking if external errno exists... " >&6; }
if ${cf_cv_have_errno+:} false; then :
  $as_echo_n "(cached) " >&6
d25323 4
a25326 6

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#undef errno
extern int errno;
d25331 4
a25334 1
errno = 2
d25339 13
a25351 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_have_errno=yes
d25353 3
a25355 1
  cf_cv_have_errno=no
d25357 8
a25364 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

a25365 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_errno" >&5
$as_echo "$cf_cv_have_errno" >&6; }
d25367 1
a25367 1
if test "$cf_cv_have_errno" = yes ; then
d25369 3
a25371 5
cf_result=`echo "have_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<_ACEOF
#define $cf_result 1
_ACEOF
d25375 3
d25379 4
a25382 7



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we can set errno" >&5
$as_echo_n "checking if we can set errno... " >&6; }
if ${cf_cv_set_errno+:} false; then :
  $as_echo_n "(cached) " >&6
d25385 4
a25388 4
if test "$cross_compiling" = yes; then :
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <errno.h>
d25392 1
a25392 1
errno = 255
d25397 13
a25409 20
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_set_errno=maybe
else
  cf_cv_set_errno=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
else
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <errno.h>
int main()
{
	errno = 255;
	${cf_cv_main_return-return}(errno != 255);
}
_ACEOF
if ac_fn_c_try_run "$LINENO"; then :
  cf_cv_set_errno=yes
d25411 3
a25413 1
  cf_cv_set_errno=no
d25415 1
a25415 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
d25417 3
d25421 3
d25425 4
a25428 11
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_set_errno" >&5
$as_echo "$cf_cv_set_errno" >&6; }
test "$cf_cv_set_errno" != no && $as_echo "#define CAN_SET_ERRNO 1" >>confdefs.h



{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for setlocale()" >&5
$as_echo_n "checking for setlocale()... " >&6; }
if ${cf_cv_locale+:} false; then :
  $as_echo_n "(cached) " >&6
d25431 4
a25434 3
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <locale.h>
d25438 1
a25438 1
setlocale(LC_ALL, "")
d25443 13
a25455 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_locale=yes
d25457 3
a25459 1
  cf_cv_locale=no
d25461 9
a25469 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d25471 1
d25474 2
a25475 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_locale" >&5
$as_echo "$cf_cv_locale" >&6; }
test $cf_cv_locale = yes && { $as_echo "#define LOCALE 1" >>confdefs.h
 }
d25477 9
a25485 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if NGROUPS is defined" >&5
$as_echo_n "checking if NGROUPS is defined... " >&6; }
if ${cf_cv_ngroups+:} false; then :
  $as_echo_n "(cached) " >&6
d25487 2
d25490 3
a25492 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d25494 2
a25495 6
#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
#endif
d25497 9
a25505 10
int
main ()
{
int x = NGROUPS
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_ngroups=yes
d25507 2
a25508 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d25510 1
a25510 6
#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
#endif
d25512 7
a25518 14
int
main ()
{
int x = NGROUPS_MAX
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_ngroups=NGROUPS_MAX
else
  cf_cv_ngroups=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d25520 3
a25522 6
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ngroups" >&5
$as_echo "$cf_cv_ngroups" >&6; }

fi
d25524 2
a25525 2
if test "$cf_cv_ngroups" = no ; then
	$as_echo "#define NGROUPS 16" >>confdefs.h
d25527 2
a25528 2
elif test "$cf_cv_ngroups" = NGROUPS_MAX ; then
	$as_echo "#define NGROUPS NGROUPS_MAX" >>confdefs.h
d25530 3
a25532 1
fi
d25534 3
d25538 2
a25539 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if external sys_nerr is declared" >&5
$as_echo_n "checking if external sys_nerr is declared... " >&6; }
if ${cf_cv_dcl_sys_nerr+:} false; then :
  $as_echo_n "(cached) " >&6
d25541 2
d25544 24
a25567 2
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a25568 18
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
int
main ()
{
int x = (int) sys_nerr
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_dcl_sys_nerr=yes
else
  cf_cv_dcl_sys_nerr=no
d25570 1
a25570 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d25572 2
a25573 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_dcl_sys_nerr" >&5
$as_echo "$cf_cv_dcl_sys_nerr" >&6; }
d25575 1
a25575 1
if test "$cf_cv_dcl_sys_nerr" = no ; then
d25577 3
a25579 1
cf_result=`echo "decl_sys_nerr" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d25581 3
a25583 3
    cat >>confdefs.h <<_ACEOF
#define $cf_result 1
_ACEOF
d25585 2
a25586 1
fi
d25588 3
a25590 1
# It's possible (for near-UNIX clones) that the data doesn't exist
a25591 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if external sys_nerr exists" >&5
$as_echo_n "checking if external sys_nerr exists... " >&6; }
if ${cf_cv_have_sys_nerr+:} false; then :
  $as_echo_n "(cached) " >&6
d25593 2
d25596 2
a25597 16
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#undef sys_nerr
extern int sys_nerr;

int
main ()
{
sys_nerr = 2
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_have_sys_nerr=yes
d25599 1
a25599 1
  cf_cv_have_sys_nerr=no
d25601 25
a25625 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d25628 1
a25628 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_sys_nerr" >&5
$as_echo "$cf_cv_have_sys_nerr" >&6; }

if test "$cf_cv_have_sys_nerr" = yes ; then
d25630 2
a25631 1
cf_result=`echo "have_sys_nerr" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d25633 1
a25633 3
    cat >>confdefs.h <<_ACEOF
#define $cf_result 1
_ACEOF
d25635 3
a25637 1
fi
d25639 2
d25642 3
a25645 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if external sys_errlist is declared" >&5
$as_echo_n "checking if external sys_errlist is declared... " >&6; }
if ${cf_cv_dcl_sys_errlist+:} false; then :
  $as_echo_n "(cached) " >&6
d25647 2
d25650 2
a25651 19
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
int
main ()
{
int x = (int) sys_errlist
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_dcl_sys_errlist=yes
d25653 1
a25653 1
  cf_cv_dcl_sys_errlist=no
d25655 25
a25679 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d25682 1
a25682 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_dcl_sys_errlist" >&5
$as_echo "$cf_cv_dcl_sys_errlist" >&6; }
d25684 2
a25685 1
if test "$cf_cv_dcl_sys_errlist" = no ; then
d25687 2
a25688 1
cf_result=`echo "decl_sys_errlist" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d25690 3
a25692 3
    cat >>confdefs.h <<_ACEOF
#define $cf_result 1
_ACEOF
d25694 2
a25695 1
fi
d25697 12
a25708 1
# It's possible (for near-UNIX clones) that the data doesn't exist
d25710 3
a25712 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if external sys_errlist exists" >&5
$as_echo_n "checking if external sys_errlist exists... " >&6; }
if ${cf_cv_have_sys_errlist+:} false; then :
  $as_echo_n "(cached) " >&6
else
d25714 4
a25717 2
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d25719 2
a25720 2
#undef sys_errlist
extern int sys_errlist;
d25722 9
a25730 10
int
main ()
{
sys_errlist = 2
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_have_sys_errlist=yes
d25732 6
a25737 4
  cf_cv_have_sys_errlist=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d25739 3
a25742 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_sys_errlist" >&5
$as_echo "$cf_cv_have_sys_errlist" >&6; }
d25744 2
a25745 1
if test "$cf_cv_have_sys_errlist" = yes ; then
d25747 3
a25749 1
cf_result=`echo "have_sys_errlist" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d25751 34
a25784 3
    cat >>confdefs.h <<_ACEOF
#define $cf_result 1
_ACEOF
d25787 1
d25789 3
d25793 3
d25797 2
d25800 12
d25813 7
a25819 8
for ac_header in lastlog.h paths.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
_ACEOF
d25821 1
a25821 1
fi
d25823 2
a25824 1
done
d25826 4
a25829 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for lastlog path" >&5
$as_echo_n "checking for lastlog path... " >&6; }
if ${cf_cv_path_lastlog+:} false; then :
  $as_echo_n "(cached) " >&6
d25831 6
d25838 3
a25840 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d25842 3
a25844 23
#include <sys/types.h>
#ifdef HAVE_LASTLOG_H
#include <lastlog.h>
#else
#ifdef HAVE_PATHS_H
#include <paths.h>
#endif
#endif
int
main ()
{
char *path = _PATH_LASTLOG
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_path_lastlog="_PATH_LASTLOG"
else
  if test -f /usr/adm/lastlog ; then
	 	cf_cv_path_lastlog=/usr/adm/lastlog
	else
		cf_cv_path_lastlog=no
d25846 2
a25847 2
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d25849 1
a25849 4
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_path_lastlog" >&5
$as_echo "$cf_cv_path_lastlog" >&6; }
test $cf_cv_path_lastlog != no && $as_echo "#define USE_LASTLOG 1" >>confdefs.h
d25851 24
d25876 1
d25878 3
d25882 1
d25884 2
a25885 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for utmp implementation" >&5
$as_echo_n "checking for utmp implementation... " >&6; }
if ${cf_cv_have_utmp+:} false; then :
  $as_echo_n "(cached) " >&6
d25887 3
d25891 12
a25902 18
	cf_cv_have_utmp=no
for cf_header in utmpx utmp ; do
cf_utmp_includes="
#include <sys/types.h>
#include <${cf_header}.h>
#define getutent getutxent
#ifdef USE_LASTLOG
#include <lastlog.h>	/* may conflict with utmpx.h on Linux */
#endif
"
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$cf_utmp_includes
int
main ()
{
struct $cf_header x;
	 char *name = x.ut_name; /* utmp.h and compatible definitions */
a25903 3
  ;
  return 0;
}
d25905 18
a25922 3
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp=$cf_header
	 break
d25924 5
d25930 6
a25935 8
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$cf_utmp_includes
int
main ()
{
struct $cf_header x;
	 char *name = x.ut_user; /* utmpx.h must declare this */
a25936 3
  ;
  return 0;
}
d25938 5
a25942 4
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp=$cf_header
	 break

d25944 1
a25944 4
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done
a25946 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_utmp" >&5
$as_echo "$cf_cv_have_utmp" >&6; }
d25948 6
a25953 2
if test $cf_cv_have_utmp != no ; then
	$as_echo "#define HAVE_UTMP 1" >>confdefs.h
d25955 8
a25962 1
	test $cf_cv_have_utmp = utmpx && $as_echo "#define UTMPX_FOR_UTMP 1" >>confdefs.h
d25964 1
d25966 4
a25969 5
if test $cf_cv_have_utmp != no ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if ${cf_cv_have_utmp}.ut_host is declared" >&5
$as_echo_n "checking if ${cf_cv_have_utmp}.ut_host is declared... " >&6; }
if ${cf_cv_have_utmp_ut_host+:} false; then :
  $as_echo_n "(cached) " >&6
d25971 13
d25985 1
a25985 5
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
d25989 6
a25994 3
struct $cf_cv_have_utmp x; char *y = &x.ut_host[0]
  ;
  return 0;
d25997 12
a26008 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp_ut_host=yes
d26010 7
a26016 1
  cf_cv_have_utmp_ut_host=no
a26017 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

d26019 3
d26023 3
a26025 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_utmp_ut_host" >&5
$as_echo "$cf_cv_have_utmp_ut_host" >&6; }
test $cf_cv_have_utmp_ut_host != no && $as_echo "#define HAVE_UTMP_UT_HOST 1" >>confdefs.h
d26029 4
a26032 6

if test $cf_cv_have_utmp != no ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if ${cf_cv_have_utmp}.ut_syslen is declared" >&5
$as_echo_n "checking if ${cf_cv_have_utmp}.ut_syslen is declared... " >&6; }
if ${cf_cv_have_utmp_ut_syslen+:} false; then :
  $as_echo_n "(cached) " >&6
d26034 6
a26040 5
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
d26044 2
a26045 1
struct $cf_cv_have_utmp x; int y = x.ut_syslen
d26050 13
a26062 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp_ut_syslen=yes
d26064 3
a26066 1
  cf_cv_have_utmp_ut_syslen=no
d26068 1
a26068 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

d26070 3
d26074 3
a26076 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_utmp_ut_syslen" >&5
$as_echo "$cf_cv_have_utmp_ut_syslen" >&6; }
test $cf_cv_have_utmp_ut_syslen != no && $as_echo "#define HAVE_UTMP_UT_SYSLEN 1" >>confdefs.h
d26080 7
a26086 6

if test $cf_cv_have_utmp != no ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if ${cf_cv_have_utmp}.ut_name is declared" >&5
$as_echo_n "checking if ${cf_cv_have_utmp}.ut_name is declared... " >&6; }
if ${cf_cv_have_utmp_ut_name+:} false; then :
  $as_echo_n "(cached) " >&6
d26088 5
a26093 13
	cf_cv_have_utmp_ut_name=no
cf_utmp_includes="
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
#define getutent getutxent
#ifdef USE_LASTLOG
#include <lastlog.h>		/* may conflict with utmpx.h on Linux */
#endif
"
for cf_header in ut_name ut_user ; do
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
$cf_utmp_includes
d26097 3
a26099 4
struct $cf_cv_have_utmp x;
	 char *name = x.$cf_header;

  ;
d26103 26
a26128 6
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp_ut_name=$cf_header
	 break
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done
d26130 1
a26131 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_utmp_ut_name" >&5
$as_echo "$cf_cv_have_utmp_ut_name" >&6; }
d26133 7
a26139 17
case $cf_cv_have_utmp_ut_name in #(vi
no) #(vi
	as_fn_error $? "Cannot find declaration for ut.ut_name" "$LINENO" 5
	;;
ut_user)
	$as_echo "#define ut_name ut_user" >>confdefs.h

	;;
esac
fi


if test $cf_cv_have_utmp != no ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for exit-status in $cf_cv_have_utmp" >&5
$as_echo_n "checking for exit-status in $cf_cv_have_utmp... " >&6; }
if ${cf_cv_have_utmp_ut_xstatus+:} false; then :
  $as_echo_n "(cached) " >&6
d26141 5
d26147 7
a26153 11
for cf_result in \
	ut_exit.__e_exit \
	ut_exit.e_exit \
	ut_exit.ut_e_exit \
	ut_exit.ut_exit
do
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
d26157 1
a26157 1
struct $cf_cv_have_utmp x; long y = x.$cf_result = 0
d26162 17
a26178 5
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp_ut_xstatus=$cf_result
	 break
else
  cf_cv_have_utmp_ut_xstatus=no
d26180 2
a26181 13
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
done

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_utmp_ut_xstatus" >&5
$as_echo "$cf_cv_have_utmp_ut_xstatus" >&6; }
if test $cf_cv_have_utmp_ut_xstatus != no ; then
	$as_echo "#define HAVE_UTMP_UT_XSTATUS 1" >>confdefs.h

	cat >>confdefs.h <<_ACEOF
#define ut_xstatus $cf_cv_have_utmp_ut_xstatus
_ACEOF

d26183 4
a26188 6

if test $cf_cv_have_utmp != no ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if ${cf_cv_have_utmp}.ut_xtime is declared" >&5
$as_echo_n "checking if ${cf_cv_have_utmp}.ut_xtime is declared... " >&6; }
if ${cf_cv_have_utmp_ut_xtime+:} false; then :
  $as_echo_n "(cached) " >&6
d26190 4
a26193 16

	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.ut_xtime = 0
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp_ut_xtime=yes
d26195 5
a26199 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d26201 7
a26207 2
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
d26211 1
a26211 1
struct $cf_cv_have_utmp x; long y = x.ut_tv.tv_sec
d26216 20
a26235 4
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp_ut_xtime=define
else
  cf_cv_have_utmp_ut_xtime=no
d26237 4
a26240 2
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

a26241 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
a26243 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_utmp_ut_xtime" >&5
$as_echo "$cf_cv_have_utmp_ut_xtime" >&6; }
if test $cf_cv_have_utmp_ut_xtime != no ; then
	$as_echo "#define HAVE_UTMP_UT_XTIME 1" >>confdefs.h
d26245 17
a26261 2
	if test $cf_cv_have_utmp_ut_xtime = define ; then
		$as_echo "#define ut_xtime ut_tv.tv_sec" >>confdefs.h
d26263 34
a26296 1
	fi
d26298 1
d26300 6
d26307 2
d26310 4
a26313 5
if test $cf_cv_have_utmp != no ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if ${cf_cv_have_utmp}.ut_session is declared" >&5
$as_echo_n "checking if ${cf_cv_have_utmp}.ut_session is declared... " >&6; }
if ${cf_cv_have_utmp_ut_session+:} false; then :
  $as_echo_n "(cached) " >&6
d26316 3
a26318 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d26320 6
a26325 2
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
d26329 1
a26329 1
struct $cf_cv_have_utmp x; long y = x.ut_session
d26334 13
a26346 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_have_utmp_ut_session=yes
d26348 5
a26352 11
  cf_cv_have_utmp_ut_session=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext

fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_utmp_ut_session" >&5
$as_echo "$cf_cv_have_utmp_ut_session" >&6; }
if test $cf_cv_have_utmp_ut_session != no ; then
	$as_echo "#define HAVE_UTMP_UT_SESSION 1" >>confdefs.h

fi
d26355 6
d26362 4
a26365 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if $cf_cv_have_utmp is SYSV flavor" >&5
$as_echo_n "checking if $cf_cv_have_utmp is SYSV flavor... " >&6; }
if ${cf_cv_sysv_utmp+:} false; then :
  $as_echo_n "(cached) " >&6
d26368 3
a26370 3
test "$cf_cv_have_utmp" = "utmp" && cf_prefix="ut" || cf_prefix="utx"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d26373 1
a26373 1
#include <${cf_cv_have_utmp}.h>
d26377 6
a26383 5
struct $cf_cv_have_utmp x;
	set${cf_prefix}ent ();
	get${cf_prefix}id(&x);
	put${cf_prefix}line(&x);
	end${cf_prefix}ent();
d26388 13
a26400 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_sysv_utmp=yes
d26402 5
a26406 4
  cf_cv_sysv_utmp=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d26409 6
a26414 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_sysv_utmp" >&5
$as_echo "$cf_cv_sysv_utmp" >&6; }
test $cf_cv_sysv_utmp = yes && $as_echo "#define USE_SYSV_UTMP 1" >>confdefs.h
d26416 7
a26422 8

fi


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if external h_errno exists" >&5
$as_echo_n "checking if external h_errno exists... " >&6; }
if ${cf_cv_have_h_errno+:} false; then :
  $as_echo_n "(cached) " >&6
d26424 4
a26427 14

    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#undef h_errno
extern int h_errno;

int
main ()
{
h_errno = 2
  ;
  return 0;
}
d26429 18
a26446 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_have_h_errno=yes
d26448 5
a26452 1
  cf_cv_have_h_errno=no
d26454 6
a26459 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d26462 1
a26462 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_h_errno" >&5
$as_echo "$cf_cv_have_h_errno" >&6; }
d26464 7
a26470 1
if test "$cf_cv_have_h_errno" = yes ; then
d26472 12
a26483 4
cf_result=`echo "have_h_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

    cat >>confdefs.h <<_ACEOF
#define $cf_result 1
d26485 10
a26494 17

fi






Experimental Options:

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if bibp: URLs should be supported" >&5
$as_echo_n "checking if bibp: URLs should be supported... " >&6; }
# Check whether --enable-bibp-urls was given.
if test "${enable_bibp_urls+set}" = set; then :
  enableval=$enable_bibp_urls; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_bibp_urls=$enableval
d26496 1
a26496 1
    use_bibp_urls=yes
d26499 17
a26515 2
  enableval=yes
  use_bibp_urls=yes
d26518 1
d26520 23
a26542 12
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_bibp_urls" >&5
$as_echo "$use_bibp_urls" >&6; }
test $use_bibp_urls = no && $as_echo "#define DISABLE_BIBP 1" >>confdefs.h


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if configuration info should be browsable" >&5
$as_echo_n "checking if configuration info should be browsable... " >&6; }
# Check whether --enable-config-info was given.
if test "${enable_config_info+set}" = set; then :
  enableval=$enable_config_info; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_config_info=$enableval
d26544 1
a26544 1
    use_config_info=yes
d26547 17
a26563 2
  enableval=yes
  use_config_info=yes
d26566 1
d26568 11
a26578 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_config_info" >&5
$as_echo "$use_config_info" >&6; }
test $use_config_info = no && $as_echo "#define NO_CONFIG_INFO 1" >>confdefs.h

d26580 4
a26583 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if new-style forms-based options screen should be used" >&5
$as_echo_n "checking if new-style forms-based options screen should be used... " >&6; }
# Check whether --enable-forms-options was given.
if test "${enable_forms_options+set}" = set; then :
  enableval=$enable_forms_options; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_forms_options=$enableval
  else
    use_forms_options=yes
  fi
a26584 2
  enableval=yes
  use_forms_options=yes
d26586 11
a26596 5
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_forms_options" >&5
$as_echo "$use_forms_options" >&6; }
test $use_forms_options = no && $as_echo "#define NO_OPTION_FORMS 1" >>confdefs.h
d26598 18
a26616 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if old-style options menu should be used" >&5
$as_echo_n "checking if old-style options menu should be used... " >&6; }
# Check whether --enable-menu-options was given.
if test "${enable_menu_options+set}" = set; then :
  enableval=$enable_menu_options; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_menu_options=$enableval
  else
    use_menu_options=yes
  fi
d26618 2
a26619 2
  enableval=yes
  use_menu_options=yes
d26621 15
a26635 5
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_menu_options" >&5
$as_echo "$use_menu_options" >&6; }
test $use_menu_options = no && $as_echo "#define NO_OPTION_MENU 1" >>confdefs.h
d26637 18
a26655 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if experimental address-list page should be used" >&5
$as_echo_n "checking if experimental address-list page should be used... " >&6; }
# Check whether --enable-addrlist-page was given.
if test "${enable_addrlist_page+set}" = set; then :
  enableval=$enable_addrlist_page; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_addrlist_page=$enableval
  else
    use_addrlist_page=no
  fi
d26657 7
a26663 3
  enableval=no
  use_addrlist_page=no

d26666 6
a26671 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_addrlist_page" >&5
$as_echo "$use_addrlist_page" >&6; }
test $use_addrlist_page != no && $as_echo "#define EXP_ADDRLIST_PAGE 1" >>confdefs.h
d26673 1
d26675 4
a26678 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if experimental ascii case-conversion should be used" >&5
$as_echo_n "checking if experimental ascii case-conversion should be used... " >&6; }
# Check whether --enable-ascii-ctypes was given.
if test "${enable_ascii_ctypes+set}" = set; then :
  enableval=$enable_ascii_ctypes; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_ascii_ctypes=$enableval
  else
    use_ascii_ctypes=yes
  fi
a26679 2
  enableval=no
  use_ascii_ctypes=yes
d26681 29
d26711 1
d26713 1
a26713 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_ascii_ctypes" >&5
$as_echo "$use_ascii_ctypes" >&6; }
test $use_ascii_ctypes != no && $as_echo "#define EXP_ASCII_CTYPES 1" >>confdefs.h
d26715 6
d26722 4
a26725 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if experimental charset-selection logic should be used" >&5
$as_echo_n "checking if experimental charset-selection logic should be used... " >&6; }
# Check whether --enable-charset-choice was given.
if test "${enable_charset_choice+set}" = set; then :
  enableval=$enable_charset_choice; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_charset_choice=$enableval
  else
    use_charset_choice=no
  fi
a26726 2
  enableval=no
  use_charset_choice=no
d26728 29
d26758 1
d26760 1
a26760 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_charset_choice" >&5
$as_echo "$use_charset_choice" >&6; }
test $use_charset_choice != no && $as_echo "#define EXP_CHARSET_CHOICE 1" >>confdefs.h
d26762 6
a26767 14

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if experimental CJK logic should be used" >&5
$as_echo_n "checking if experimental CJK logic should be used... " >&6; }
# Check whether --enable-cjk was given.
if test "${enable_cjk+set}" = set; then :
  enableval=$enable_cjk; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_cjk=$enableval
  else
    use_cjk=no
  fi
else
  enableval=no
  use_cjk=no
d26771 9
a26779 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_cjk" >&5
$as_echo "$use_cjk" >&6; }
test $use_cjk != no && $as_echo "#define CJK_EX 1" >>confdefs.h
d26781 4
a26784 11

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if experimental Japanese UTF-8 logic should be used" >&5
$as_echo_n "checking if experimental Japanese UTF-8 logic should be used... " >&6; }
# Check whether --enable-japanese-utf8 was given.
if test "${enable_japanese_utf8+set}" = set; then :
  enableval=$enable_japanese_utf8; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_ja_utf8=$enableval
  else
    use_ja_utf8=no
  fi
d26786 3
a26788 2
  enableval=no
  use_ja_utf8=no
d26791 3
d26795 3
a26797 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_ja_utf8" >&5
$as_echo "$use_ja_utf8" >&6; }
if test $use_ja_utf8 != no ; then
	$as_echo "#define EXP_JAPANESEUTF8_SUPPORT 1" >>confdefs.h
d26799 3
d26803 1
d26805 16
d26822 6
a26827 3
# Check whether --with-libiconv-prefix was given.
if test "${with_libiconv_prefix+set}" = set; then :
  withval=$with_libiconv_prefix;
d26829 35
a26863 6
  case "$withval" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)
d26865 8
d26874 4
a26877 2
for cf_searchpath in `echo "$withval" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then
d26879 3
a26881 16
if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi
d26883 9
a26891 9
		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d26895 4
a26898 1
printf("Hello")
d26903 31
a26933 1
if ac_fn_c_try_compile "$LINENO"; then :
d26935 44
a26979 7
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d26981 3
a26983 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d26985 1
a26985 1
echo "${as_me-configure}:23552: testing adding $cf_add_incdir to include-path ..." 1>&5
d26987 9
d26997 8
a27004 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
a27005 9
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d27007 7
d27015 3
a27017 1
	elif test -d $cf_searchpath/../include ; then
d27019 1
a27019 16
if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi
d27021 9
a27029 9
		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
d27033 4
a27036 1
printf("Hello")
d27041 24
a27064 2
if ac_fn_c_try_compile "$LINENO"; then :

a27065 7
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d27067 3
a27069 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d27071 1
a27071 1
echo "${as_me-configure}:23618: testing adding $cf_add_incdir to include-path ..." 1>&5
d27073 46
a27118 12

		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d27121 1
a27121 25
	else
as_fn_error $? "cannot find libiconv under $withval" "$LINENO" 5
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me-configure}:23658: testing adding $cf_add_libdir to library-path ..." 1>&5
d27123 3
a27126 4
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
d27129 8
a27136 1
	elif test -d $cf_searchpath ; then
d27138 2
a27139 18
if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d27141 37
a27177 7
echo "${as_me-configure}:23688: testing adding $cf_add_libdir to library-path ..." 1>&5


        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
d27180 1
a27180 7
	else
as_fn_error $? "cannot find libiconv under $withval" "$LINENO" 5
	fi
done

      ;;
  esac
d27182 3
d27188 4
a27191 5

  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for iconv" >&5
$as_echo_n "checking for iconv... " >&6; }
if ${am_cv_func_iconv+:} false; then :
  $as_echo_n "(cached) " >&6
d27194 23
d27218 3
d27222 1
a27222 4
# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_iconv=
cf_cv_library_path_iconv=
d27224 3
d27228 1
a27228 1
echo "${as_me-configure}:23723: testing Starting FIND_LINKAGE(iconv,) ..." 1>&5
d27230 5
d27236 3
a27238 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d27240 10
a27249 2
#include <stdlib.h>
#include <iconv.h>
d27255 2
a27256 4
	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);

d27261 13
a27273 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_iconv=yes
d27275 6
d27282 6
a27287 1
    cf_cv_find_linkage_iconv=no
d27289 6175
a33463 1
    test -n "$verbose" && echo "	find linkage for iconv library" 1>&6
d33465 7
a33471 1
echo "${as_me-configure}:23752: testing find linkage for iconv library ..." 1>&5
d33473 2
d33476 12
d33489 7
a33495 1
echo "${as_me-configure}:23756: testing Searching for headers in FIND_LINKAGE(iconv,) ..." 1>&5
d33497 2
d33500 12
a33511 2
    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"
d33513 7
d33521 2
a33522 7
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`
d33524 12
a33535 10
test "$cf_header_path" != "NONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/iconv &&       cf_search="$cf_search $cf_header_path/include/iconv"
	test -d $cf_header_path/include/iconv/include &&    cf_search="$cf_search $cf_header_path/include/iconv/include"
	test -d $cf_header_path/iconv/include &&       cf_search="$cf_search $cf_header_path/iconv/include"
	test -d $cf_header_path/iconv/include/iconv &&    cf_search="$cf_search $cf_header_path/iconv/include/iconv"
}
d33537 7
a33543 5
			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi
d33545 2
a33546 1
cf_search=""
d33548 12
d33561 7
a33567 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/iconv &&       cf_search="$cf_search /usr/include/iconv"
	test -d /usr/include/iconv/include &&    cf_search="$cf_search /usr/include/iconv/include"
	test -d /usr/iconv/include &&       cf_search="$cf_search /usr/iconv/include"
	test -d /usr/iconv/include/iconv &&    cf_search="$cf_search /usr/iconv/include/iconv"
}
d33569 2
d33572 12
a33583 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/iconv &&       cf_search="$cf_search $prefix/include/iconv"
	test -d $prefix/include/iconv/include &&    cf_search="$cf_search $prefix/include/iconv/include"
	test -d $prefix/iconv/include &&       cf_search="$cf_search $prefix/iconv/include"
	test -d $prefix/iconv/include/iconv &&    cf_search="$cf_search $prefix/iconv/include/iconv"
}
d33585 3
d33589 2
a33590 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/iconv &&       cf_search="$cf_search /usr/local/include/iconv"
	test -d /usr/local/include/iconv/include &&    cf_search="$cf_search /usr/local/include/iconv/include"
	test -d /usr/local/iconv/include &&       cf_search="$cf_search /usr/local/iconv/include"
	test -d /usr/local/iconv/include/iconv &&    cf_search="$cf_search /usr/local/iconv/include/iconv"
}
d33592 12
d33605 7
a33611 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/iconv &&       cf_search="$cf_search /opt/include/iconv"
	test -d /opt/include/iconv/include &&    cf_search="$cf_search /opt/include/iconv/include"
	test -d /opt/iconv/include &&       cf_search="$cf_search /opt/iconv/include"
	test -d /opt/iconv/include/iconv &&    cf_search="$cf_search /opt/iconv/include/iconv"
}
d33613 2
d33616 12
a33627 10
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/iconv &&       cf_search="$cf_search $HOME/include/iconv"
	test -d $HOME/include/iconv/include &&    cf_search="$cf_search $HOME/include/iconv/include"
	test -d $HOME/iconv/include &&       cf_search="$cf_search $HOME/iconv/include"
	test -d $HOME/iconv/include/iconv &&    cf_search="$cf_search $HOME/iconv/include/iconv"
}
d33629 4
d33634 3
d33638 2
a33639 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/iconv && cf_search="$cf_search $includedir/iconv"
}
d33641 2
a33642 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/iconv && cf_search="$cf_search $oldincludedir/iconv"
}
d33644 12
a33655 1
cf_search="$cf_header_path_list $cf_search"
d33657 6
a33662 4
    for cf_cv_header_path_iconv in $cf_search
    do
      if test -d $cf_cv_header_path_iconv ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_iconv" 1>&6
d33664 26
a33689 1
echo "${as_me-configure}:23873: testing ... testing $cf_cv_header_path_iconv ..." 1>&5
d33691 4
d33696 7
a33702 3
        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_iconv"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d33704 3
a33706 2
#include <stdlib.h>
#include <iconv.h>
d33708 7
a33714 3
int
main ()
{
d33716 5
a33720 3
	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);
d33722 22
a33743 5
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
d33745 11
a33755 1
            test -n "$verbose" && echo "	... found iconv headers in $cf_cv_header_path_iconv" 1>&6
d33757 1
a33757 1
echo "${as_me-configure}:23899: testing ... found iconv headers in $cf_cv_header_path_iconv ..." 1>&5
d33759 1
d33761 3
a33763 4
            cf_cv_find_linkage_iconv=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
else
d33765 4
a33768 1
            CPPFLAGS="$cf_save_CPPFLAGS"
a33770 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
      fi
    done
d33772 4
a33775 1
    if test "$cf_cv_find_linkage_iconv" = maybe ; then
d33777 1
d33779 4
a33782 1
echo "${as_me-configure}:23917: testing Searching for iconv library in FIND_LINKAGE(iconv,) ..." 1>&5
d33784 1
d33786 6
a33791 2
      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"
d33793 3
d33797 2
d33800 2
a33801 1
      if test "$cf_cv_find_linkage_iconv" != yes ; then
d33803 5
a33807 7
cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`
d33809 3
a33811 10
test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/iconv &&       cf_search="$cf_search $cf_library_path/lib/iconv"
	test -d $cf_library_path/lib/iconv/lib &&    cf_search="$cf_search $cf_library_path/lib/iconv/lib"
	test -d $cf_library_path/iconv/lib &&       cf_search="$cf_search $cf_library_path/iconv/lib"
	test -d $cf_library_path/iconv/lib/iconv &&    cf_search="$cf_search $cf_library_path/iconv/lib/iconv"
}
d33813 6
a33818 5
			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
fi
d33820 2
a33821 1
cf_search=""
d33823 12
d33836 7
a33842 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/iconv &&       cf_search="$cf_search /usr/lib/iconv"
	test -d /usr/lib/iconv/lib &&    cf_search="$cf_search /usr/lib/iconv/lib"
	test -d /usr/iconv/lib &&       cf_search="$cf_search /usr/iconv/lib"
	test -d /usr/iconv/lib/iconv &&    cf_search="$cf_search /usr/iconv/lib/iconv"
}
d33844 2
d33847 12
a33858 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/iconv &&       cf_search="$cf_search $prefix/lib/iconv"
	test -d $prefix/lib/iconv/lib &&    cf_search="$cf_search $prefix/lib/iconv/lib"
	test -d $prefix/iconv/lib &&       cf_search="$cf_search $prefix/iconv/lib"
	test -d $prefix/iconv/lib/iconv &&    cf_search="$cf_search $prefix/iconv/lib/iconv"
}
d33860 7
d33868 2
a33869 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/iconv &&       cf_search="$cf_search /usr/local/lib/iconv"
	test -d /usr/local/lib/iconv/lib &&    cf_search="$cf_search /usr/local/lib/iconv/lib"
	test -d /usr/local/iconv/lib &&       cf_search="$cf_search /usr/local/iconv/lib"
	test -d /usr/local/iconv/lib/iconv &&    cf_search="$cf_search /usr/local/iconv/lib/iconv"
}
d33871 12
d33884 7
a33890 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/iconv &&       cf_search="$cf_search /opt/lib/iconv"
	test -d /opt/lib/iconv/lib &&    cf_search="$cf_search /opt/lib/iconv/lib"
	test -d /opt/iconv/lib &&       cf_search="$cf_search /opt/iconv/lib"
	test -d /opt/iconv/lib/iconv &&    cf_search="$cf_search /opt/iconv/lib/iconv"
}
d33892 2
d33895 12
a33906 10
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/iconv &&       cf_search="$cf_search $HOME/lib/iconv"
	test -d $HOME/lib/iconv/lib &&    cf_search="$cf_search $HOME/lib/iconv/lib"
	test -d $HOME/iconv/lib &&       cf_search="$cf_search $HOME/iconv/lib"
	test -d $HOME/iconv/lib/iconv &&    cf_search="$cf_search $HOME/iconv/lib/iconv"
}
d33908 7
d33916 2
d33919 12
a33930 1
cf_search="$cf_library_path_list $cf_search"
d33932 6
a33937 4
        for cf_cv_library_path_iconv in $cf_search
        do
          if test -d $cf_cv_library_path_iconv ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_iconv" 1>&6
d33939 3
a33941 1
echo "${as_me-configure}:24023: testing ... testing $cf_cv_library_path_iconv ..." 1>&5
d33943 2
d33946 3
a33948 5
            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-liconv  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_iconv"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d33950 3
a33952 2
#include <stdlib.h>
#include <iconv.h>
d33954 2
a33955 3
int
main ()
{
d33957 12
a33968 3
	iconv_t cd = iconv_open("","");
	iconv(cd,NULL,NULL,NULL,NULL);
	iconv_close(cd);
d33970 7
a33976 5
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
d33978 2
a33979 1
                test -n "$verbose" && echo "	... found iconv library in $cf_cv_library_path_iconv" 1>&6
d33981 9
a33989 6
echo "${as_me-configure}:24051: testing ... found iconv library in $cf_cv_library_path_iconv ..." 1>&5


                cf_cv_find_linkage_iconv=yes
                cf_cv_library_file_iconv="-liconv"
                break
d33991 2
d33994 7
a34000 13
                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
          fi
        done
        LIBS="$cf_save_LIBS"
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi
d34002 4
a34005 3
    else
      cf_cv_find_linkage_iconv=no
    fi
d34007 2
a34008 3
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d34010 9
a34018 2
if test "$cf_cv_find_linkage_iconv" = yes ; then
am_cv_func_iconv=yes
d34020 2
a34021 2
am_cv_func_iconv="no, consider installing GNU libiconv"
fi
d34023 3
a34025 3
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv" >&5
$as_echo "$am_cv_func_iconv" >&6; }
d34027 2
a34028 1
  if test "$am_cv_func_iconv" = yes; then
d34030 9
a34038 1
$as_echo "#define HAVE_ICONV 1" >>confdefs.h
d34040 1
d34042 6
a34047 5
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking if the declaration of iconv() needs const." >&5
$as_echo_n "checking if the declaration of iconv() needs const.... " >&6; }
if ${am_cv_proto_iconv_const+:} false; then :
  $as_echo_n "(cached) " >&6
else
d34049 2
a34050 2
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d34052 16
a34067 12
#include <stdlib.h>
#include <iconv.h>

extern
#ifdef __cplusplus
"C"
#endif
#if defined(__STDC__) || defined(__cplusplus)
size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
#else
size_t iconv();
#endif
d34069 10
d34082 1
a34082 1

d34087 13
a34099 2
if ac_fn_c_try_compile "$LINENO"; then :
  am_cv_proto_iconv_const=no
d34101 3
a34103 1
  am_cv_proto_iconv_const=yes
d34105 5
a34109 4
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $am_cv_proto_iconv_const" >&5
$as_echo "$am_cv_proto_iconv_const" >&6; }
d34111 2
a34112 5
    if test "$am_cv_proto_iconv_const" = yes ; then
      am_cv_proto_iconv_arg1="const"
    else
      am_cv_proto_iconv_arg1=""
    fi
d34114 1
d34116 1
a34116 3
cat >>confdefs.h <<_ACEOF
#define ICONV_CONST $am_cv_proto_iconv_arg1
_ACEOF
d34118 10
a34127 1
  fi
d34129 1
a34129 2
  LIBICONV=
  if test "$cf_cv_find_linkage_iconv" = yes; then
d34131 2
a34132 2
if test -n "$cf_cv_header_path_iconv" ; then
  for cf_add_incdir in $cf_cv_header_path_iconv
d34154 3
a34156 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d34166 13
a34178 2
if ac_fn_c_try_compile "$LINENO"; then :

d34180 3
a34182 1
  cf_have_incdir=yes
d34184 1
a34184 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d34193 1
a34193 2
echo "${as_me-configure}:24200: testing adding $cf_add_incdir to include-path ..." 1>&5

d34208 6
a34213 2
    if test -n "$cf_cv_library_file_iconv" ; then
      LIBICONV="-liconv"
d34215 2
a34216 2
if test -n "$cf_cv_library_path_iconv" ; then
  for cf_add_libdir in $cf_cv_library_path_iconv
d34234 1
a34234 2
echo "${as_me-configure}:24238: testing adding $cf_add_libdir to library-path ..." 1>&5

d34242 1
a34242 2
    fi
  fi
d34244 18
d34263 1
d34265 4
a34268 3
	if test "$USE_NLS" != yes ; then
	  LIBS="$LIBICONV $LIBS"
	fi
d34271 6
a34276 6
use_dft_colors=no
case $cf_cv_screen in
curses|slang|ncurses*)
	use_dft_colors=maybe
	;;
esac
d34278 2
a34279 14
if test "$use_dft_colors" != no ; then
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use default-colors" >&5
$as_echo_n "checking if you want to use default-colors... " >&6; }
# Check whether --enable-default-colors was given.
if test "${enable_default_colors+set}" = set; then :
  enableval=$enable_default_colors; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_dft_colors=yes
  else
    use_dft_colors=no
  fi
else
  enableval=no
  use_dft_colors=no
d34281 4
a34284 1
fi
d34286 1
a34286 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_dft_colors" >&5
$as_echo "$use_dft_colors" >&6; }
test $use_dft_colors = "yes" && $as_echo "#define USE_DEFAULT_COLORS 1" >>confdefs.h
d34288 1
a34288 1
fi
d34290 3
a34292 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if experimental keyboard-layout logic should be used" >&5
$as_echo_n "checking if experimental keyboard-layout logic should be used... " >&6; }
# Check whether --enable-kbd-layout was given.
if test "${enable_kbd_layout+set}" = set; then :
  enableval=$enable_kbd_layout; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_kbd_layout=$enableval
  else
    use_kbd_layout=no
  fi
else
  enableval=no
  use_kbd_layout=no
d34294 2
a34295 1
fi
d34297 3
a34299 110
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_kbd_layout" >&5
$as_echo "$use_kbd_layout" >&6; }
test $use_kbd_layout != no && $as_echo "#define EXP_KEYBOARD_LAYOUT 1" >>confdefs.h


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if experimental nested-table logic should be used" >&5
$as_echo_n "checking if experimental nested-table logic should be used... " >&6; }
# Check whether --enable-nested-tables was given.
if test "${enable_nested_tables+set}" = set; then :
  enableval=$enable_nested_tables; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nested_tables=$enableval
  else
    use_nested_tables=no
  fi
else
  enableval=no
  use_nested_tables=no

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_nested_tables" >&5
$as_echo "$use_nested_tables" >&6; }
test $use_nested_tables != no && $as_echo "#define EXP_NESTED_TABLES 1" >>confdefs.h


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if progress-bar code should be used" >&5
$as_echo_n "checking if progress-bar code should be used... " >&6; }
# Check whether --enable-progressbar was given.
if test "${enable_progressbar+set}" = set; then :
  enableval=$enable_progressbar; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_progressbar=$enableval
  else
    use_progressbar=no
  fi
else
  enableval=no
  use_progressbar=no

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_progressbar" >&5
$as_echo "$use_progressbar" >&6; }
test $use_progressbar != no && $as_echo "#define USE_PROGRESSBAR 1" >>confdefs.h


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if scrollbar code should be used" >&5
$as_echo_n "checking if scrollbar code should be used... " >&6; }
# Check whether --enable-scrollbar was given.
if test "${enable_scrollbar+set}" = set; then :
  enableval=$enable_scrollbar; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_scrollbar=$enableval
  else
    use_scrollbar=no
  fi
else
  enableval=no
  use_scrollbar=no

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_scrollbar" >&5
$as_echo "$use_scrollbar" >&6; }

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if sessions code should be used" >&5
$as_echo_n "checking if sessions code should be used... " >&6; }
# Check whether --enable-sessions was given.
if test "${enable_sessions+set}" = set; then :
  enableval=$enable_sessions; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_sessions=$enableval
  else
    use_sessions=no
  fi
else
  enableval=no
  use_sessions=no

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_sessions" >&5
$as_echo "$use_sessions" >&6; }
if test $use_sessions != no ; then
	$as_echo "#define USE_SESSIONS 1" >>confdefs.h

	EXTRA_OBJS="$EXTRA_OBJS LYSession\$o"
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if session-caching code should be used" >&5
$as_echo_n "checking if session-caching code should be used... " >&6; }
# Check whether --enable-session-cache was given.
if test "${enable_session_cache+set}" = set; then :
  enableval=$enable_session_cache; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_session_cache=$enableval
  else
    use_session_cache=no
  fi
else
  enableval=no
  use_session_cache=no

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_session_cache" >&5
$as_echo "$use_session_cache" >&6; }
if test $use_session_cache != no ; then
    $as_echo "#define USE_CACHEJAR 1" >>confdefs.h
d34301 1
a34301 1
fi
d34303 16
d34320 3
a34322 1
Miscellaneous Options:
a34323 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if alternative line-edit bindings should be used" >&5
$as_echo_n "checking if alternative line-edit bindings should be used... " >&6; }
# Check whether --enable-alt-bindings was given.
if test "${enable_alt_bindings+set}" = set; then :
  enableval=$enable_alt_bindings; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_alt_bindings=$enableval
  else
    use_alt_bindings=yes
  fi
d34325 2
a34326 2
  enableval=no
  use_alt_bindings=yes
d34328 1
a34328 1
fi
d34330 3
a34332 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_alt_bindings" >&5
$as_echo "$use_alt_bindings" >&6; }
test $use_alt_bindings != no && $as_echo "#define EXP_ALT_BINDINGS 1" >>confdefs.h
d34334 2
d34337 3
a34339 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use extended HTML DTD logic" >&5
$as_echo_n "checking if you want to use extended HTML DTD logic... " >&6; }
# Check whether --enable-extended-dtd was given.
if test "${enable_extended_dtd+set}" = set; then :
  enableval=$enable_extended_dtd; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ext_htmldtd=no
  else
    use_ext_htmldtd=yes
  fi
else
  enableval=yes
  use_ext_htmldtd=yes
d34341 1
a34341 1
fi
d34343 16
a34358 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_ext_htmldtd" >&5
$as_echo "$use_ext_htmldtd" >&6; }
test $use_ext_htmldtd = "no" && $as_echo "#define NO_EXTENDED_HTMLDTD 1" >>confdefs.h
d34360 4
a34364 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if file-upload logic should be used" >&5
$as_echo_n "checking if file-upload logic should be used... " >&6; }
# Check whether --enable-file-upload was given.
if test "${enable_file_upload+set}" = set; then :
  enableval=$enable_file_upload; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_file_upload=$enableval
  else
    use_file_upload=yes
  fi
d34366 2
a34367 2
  enableval=yes
  use_file_upload=yes
d34369 2
a34370 1
fi
d34372 1
a34372 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_file_upload" >&5
$as_echo "$use_file_upload" >&6; }
test $use_file_upload != no && $as_echo "#define USE_FILE_UPLOAD 1" >>confdefs.h
d34374 1
d34376 1
a34376 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if element-justification logic should be used" >&5
$as_echo_n "checking if element-justification logic should be used... " >&6; }
# Check whether --enable-justify-elts was given.
if test "${enable_justify_elts+set}" = set; then :
  enableval=$enable_justify_elts; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_justify_elts=$enableval
  else
    use_justify_elts=yes
  fi
else
  enableval=yes
  use_justify_elts=yes
d34378 2
a34379 1
fi
d34381 1
a34381 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_justify_elts" >&5
$as_echo "$use_justify_elts" >&6; }
test $use_justify_elts != no && $as_echo "#define EXP_JUSTIFY_ELTS 1" >>confdefs.h
d34383 8
d34392 10
a34401 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if partial-display should be used" >&5
$as_echo_n "checking if partial-display should be used... " >&6; }
# Check whether --enable-partial was given.
if test "${enable_partial+set}" = set; then :
  enableval=$enable_partial; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_partial_display=$enableval
  else
    use_partial_display=yes
  fi
else
  enableval=yes
  use_partial_display=yes
d34403 4
d34409 3
a34411 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_partial_display" >&5
$as_echo "$use_partial_display" >&6; }
test $use_partial_display != no && $as_echo "#define DISP_PARTIAL 1" >>confdefs.h
d34413 10
d34424 10
a34433 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if persistent-cookie logic should be used" >&5
$as_echo_n "checking if persistent-cookie logic should be used... " >&6; }
# Check whether --enable-persistent-cookies was given.
if test "${enable_persistent_cookies+set}" = set; then :
  enableval=$enable_persistent_cookies; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_filed_cookies=$enableval
  else
    use_filed_cookies=yes
  fi
else
  enableval=yes
  use_filed_cookies=yes
d34435 10
a34444 1
fi
d34446 10
a34455 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_filed_cookies" >&5
$as_echo "$use_filed_cookies" >&6; }
test $use_filed_cookies != no && $as_echo "#define USE_PERSISTENT_COOKIES 1" >>confdefs.h
d34457 10
d34468 6
a34473 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if html source should be colorized" >&5
$as_echo_n "checking if html source should be colorized... " >&6; }
# Check whether --enable-prettysrc was given.
if test "${enable_prettysrc+set}" = set; then :
  enableval=$enable_prettysrc; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_prettysrc=$enableval
  else
    use_prettysrc=yes
  fi
else
  enableval=yes
  use_prettysrc=yes
d34475 6
a34480 1
fi
d34482 1
a34482 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_prettysrc" >&5
$as_echo "$use_prettysrc" >&6; }
test $use_prettysrc != no && $as_echo "#define USE_PRETTYSRC 1" >>confdefs.h
d34484 4
d34489 1
a34489 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if read-progress message should show ETA" >&5
$as_echo_n "checking if read-progress message should show ETA... " >&6; }
# Check whether --enable-read-eta was given.
if test "${enable_read_eta+set}" = set; then :
  enableval=$enable_read_eta; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_read_eta=$enableval
  else
    use_read_eta=yes
  fi
else
  enableval=yes
  use_read_eta=yes
d34491 4
a34494 1
fi
d34496 2
a34497 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_read_eta" >&5
$as_echo "$use_read_eta" >&6; }
test $use_read_eta != no && $as_echo "#define USE_READPROGRESS 1" >>confdefs.h
d34499 3
d34503 1
a34503 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if source caching should be used" >&5
$as_echo_n "checking if source caching should be used... " >&6; }
# Check whether --enable-source-cache was given.
if test "${enable_source_cache+set}" = set; then :
  enableval=$enable_source_cache; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_source_cache=$enableval
  else
    use_source_cache=yes
  fi
else
  enableval=yes
  use_source_cache=yes
d34505 16
a34520 1
fi
d34522 1
a34522 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_source_cache" >&5
$as_echo "$use_source_cache" >&6; }
test $use_source_cache != no && $as_echo "#define USE_SOURCE_CACHE 1" >>confdefs.h
d34524 1
d34526 3
a34528 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use external commands" >&5
$as_echo_n "checking if you want to use external commands... " >&6; }
# Check whether --enable-externs was given.
if test "${enable_externs+set}" = set; then :
  enableval=$enable_externs; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_externs=yes
  else
    use_externs=no
  fi
d34530 2
a34531 2
  enableval=no
  use_externs=no
d34533 1
a34533 6
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_externs" >&5
$as_echo "$use_externs" >&6; }
if test $use_externs != "no" ; then
	$as_echo "#define USE_EXTERNALS 1" >>confdefs.h
a34534 1
	EXTRA_OBJS="$EXTRA_OBJS LYExtern\$o"
d34536 3
d34540 1
a34540 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use setfont support" >&5
$as_echo_n "checking if you want to use setfont support... " >&6; }
# Check whether --enable-font-switch was given.
if test "${enable_font_switch+set}" = set; then :
  enableval=$enable_font_switch; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_setfont=yes
  else
    use_setfont=no
  fi
else
  enableval=no
  use_setfont=no
d34542 1
a34542 1
fi
d34544 2
a34545 48
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_setfont" >&5
$as_echo "$use_setfont" >&6; }
if test $use_setfont = yes ; then
	case $host_os in
	linux*)


test -z "$SETFONT" && SETFONT=consolechars
for ac_prog in $SETFONT consolechars setfont
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_SETFONT+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $SETFONT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_SETFONT="$SETFONT" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_SETFONT="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
fi
SETFONT=$ac_cv_path_SETFONT
if test -n "$SETFONT"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $SETFONT" >&5
$as_echo "$SETFONT" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi
d34547 5
d34553 2
a34554 3
  test -n "$SETFONT" && break
done
test -n "$SETFONT" || SETFONT="$SETFONT"
d34556 3
d34560 1
a34560 7
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_SETFONT
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d34562 16
a34577 5
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d34579 1
a34579 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d34581 1
a34581 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d34583 8
a34590 1
if test -n "$cf_path_prog" ; then
d34592 1
a34592 1
echo "${as_me-configure}:24754: testing defining path for ${cf_path_prog} ..." 1>&5
d34594 8
a34601 3
	cat >>confdefs.h <<_ACEOF
#define SETFONT_PATH "$cf_path_prog"
_ACEOF
d34603 10
a34612 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define SETFONT_ARGS "$cf_path_args"
_ACEOF
d34614 4
d34620 12
a34631 4
		;;
	os2*)
		SETFONT=built-in
		test -n "$verbose" && echo "	Assume $host_os has font-switching" 1>&6
d34633 10
a34642 1
echo "${as_me-configure}:24771: testing Assume $host_os has font-switching ..." 1>&5
d34644 10
d34655 10
a34664 4
		;;
	*)
		SETFONT=unknown
		test -n "$verbose" && echo "	Assume $host_os has no font-switching" 1>&6
d34666 10
a34675 1
echo "${as_me-configure}:24779: testing Assume $host_os has no font-switching ..." 1>&5
d34677 1
d34679 4
a34682 7
		;;
	esac
	if test -z "$SETFONT" ; then
		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find a font-setting program" >&5
$as_echo "$as_me: WARNING: Cannot find a font-setting program" >&2;}
	elif test "$SETFONT" != unknown ; then
		$as_echo "#define EXP_CHARTRANS_AUTOSWITCH 1" >>confdefs.h
d34684 1
a34684 2
	fi
fi
d34686 6
a34691 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want cgi-link support" >&5
$as_echo_n "checking if you want cgi-link support... " >&6; }
# Check whether --enable-cgi-links was given.
if test "${enable_cgi_links+set}" = set; then :
  enableval=$enable_cgi_links; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    $as_echo "#define LYNXCGI_LINKS 1" >>confdefs.h
d34693 2
a34694 4
  fi
else
  enableval=no
fi
d34696 3
a34698 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
d34700 1
a34700 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want change-exec support" >&5
$as_echo_n "checking if you want change-exec support... " >&6; }
# Check whether --enable-change-exec was given.
if test "${enable_change_exec+set}" = set; then :
  enableval=$enable_change_exec; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_change_exec=yes
  else
    use_change_exec=no
  fi
else
  enableval=no
  use_change_exec=no
d34702 16
a34717 1
fi
d34719 1
a34719 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_change_exec" >&5
$as_echo "$use_change_exec" >&6; }
test $use_change_exec = yes && $as_echo "#define ENABLE_OPTS_CHANGE_EXEC 1" >>confdefs.h
d34721 1
d34723 3
a34725 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want exec-links support" >&5
$as_echo_n "checking if you want exec-links support... " >&6; }
# Check whether --enable-exec-links was given.
if test "${enable_exec_links+set}" = set; then :
  enableval=$enable_exec_links; test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_links=$enableval
  else
    use_exec_links=$enableval
  fi
d34727 6
a34732 2
  enableval=$use_change_exec
  use_exec_links=$enableval
d34735 6
d34742 3
a34744 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_exec_links" >&5
$as_echo "$use_exec_links" >&6; }
test $use_exec_links = yes && $as_echo "#define EXEC_LINKS 1" >>confdefs.h
d34746 2
d34749 2
a34750 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want exec-scripts support" >&5
$as_echo_n "checking if you want exec-scripts support... " >&6; }
# Check whether --enable-exec-scripts was given.
if test "${enable_exec_scripts+set}" = set; then :
  enableval=$enable_exec_scripts; test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_scripts=$enableval
  else
    use_exec_scripts=$enableval
  fi
else
  enableval=$use_change_exec
  use_exec_scripts=$enableval
d34752 1
a34752 1
fi
d34754 1
a34754 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_exec_scripts" >&5
$as_echo "$use_exec_scripts" >&6; }
test $use_exec_scripts = yes && $as_echo "#define EXEC_SCRIPTS 1" >>confdefs.h
d34756 16
d34773 31
a34803 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want internal-links feature" >&5
$as_echo_n "checking if you want internal-links feature... " >&6; }
# Check whether --enable-internal-links was given.
if test "${enable_internal_links+set}" = set; then :
  enableval=$enable_internal_links; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_internal_links=yes
  else
    use_internal_links=no
  fi
d34805 3
a34807 3
  enableval=no
  use_internal_links=no

d34809 5
d34815 2
a34816 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_internal_links" >&5
$as_echo "$use_internal_links" >&6; }
test $use_internal_links = no && $as_echo "#define DONT_TRACK_INTERNAL_LINKS 1" >>confdefs.h
d34818 1
d34820 1
a34820 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to fork NSL requests" >&5
$as_echo_n "checking if you want to fork NSL requests... " >&6; }
# Check whether --enable-nsl-fork was given.
if test "${enable_nsl_fork+set}" = set; then :
  enableval=$enable_nsl_fork; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nsl_fork=yes
  else
    use_nsl_fork=no
  fi
else
  enableval=no
  use_nsl_fork=no
d34822 9
d34833 18
a34850 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_nsl_fork" >&5
$as_echo "$use_nsl_fork" >&6; }
if test $use_nsl_fork = yes ; then
	case $host_os in
	mingw*)
		$as_echo "#define _WINDOWS_NSL 1" >>confdefs.h
d34852 1
a34852 21
		;;
	*)
		$as_echo "#define NSL_FORK 1" >>confdefs.h

		;;
	esac
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to log URL requests via syslog" >&5
$as_echo_n "checking if you want to log URL requests via syslog... " >&6; }
# Check whether --enable-syslog was given.
if test "${enable_syslog+set}" = set; then :
  enableval=$enable_syslog; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_syslog=yes
  else
    use_syslog=no
  fi
else
  enableval=no
  use_syslog=no
d34854 4
d34860 1
a34860 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_syslog" >&5
$as_echo "$use_syslog" >&6; }
test $use_syslog = yes && $as_echo "#define SYSLOG_REQUESTED_URLS 1" >>confdefs.h

a34861 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to underline links" >&5
$as_echo_n "checking if you want to underline links... " >&6; }
# Check whether --enable-underlines was given.
if test "${enable_underlines+set}" = set; then :
  enableval=$enable_underlines; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_underline=yes
  else
    use_underline=no
  fi
d34863 2
a34864 3
  enableval=no
  use_underline=no

d34867 4
a34870 20
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_underline" >&5
$as_echo "$use_underline" >&6; }
test $use_underline = yes && $as_echo "#define UNDERLINE_LINKS 1" >>confdefs.h

test $use_underline = no  && $as_echo "#define UNDERLINE_LINKS 0" >>confdefs.h


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if help files should be gzip'ed" >&5
$as_echo_n "checking if help files should be gzip'ed... " >&6; }
# Check whether --enable-gzip-help was given.
if test "${enable_gzip_help+set}" = set; then :
  enableval=$enable_gzip_help; test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_gzip_help=$enableval
  else
    use_gzip_help=no
  fi
else
  enableval=no
  use_gzip_help=no
d34874 2
a34875 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_gzip_help" >&5
$as_echo "$use_gzip_help" >&6; }

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use libbz2 for decompression of some bzip2 files" >&5
$as_echo_n "checking if you want to use libbz2 for decompression of some bzip2 files... " >&6; }
d34877 4
a34880 3
# Check whether --with-bzlib was given.
if test "${with_bzlib+set}" = set; then :
  withval=$with_bzlib; use_bzlib=$withval
d34882 4
a34885 2
  use_bzlib=no
fi
d34887 1
a34887 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_bzlib" >&5
$as_echo "$use_bzlib" >&6; }
d34889 1
a34889 4
if test ".$use_bzlib" != ".no" ; then


  case "$use_bzlib" in #(vi
d34896 1
a34896 2

for cf_searchpath in `echo "$use_bzlib" | tr $PATH_SEPARATOR ' '`; do
d34922 3
a34924 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d34934 13
a34946 2
if ac_fn_c_try_compile "$LINENO"; then :

d34948 3
a34950 1
  cf_have_incdir=yes
d34952 1
a34952 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d34961 1
a34961 2
echo "${as_me-configure}:25062: testing adding $cf_add_incdir to include-path ..." 1>&5

d35001 3
a35003 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d35013 13
a35025 2
if ac_fn_c_try_compile "$LINENO"; then :

d35027 3
a35029 1
  cf_have_incdir=yes
d35031 1
a35031 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d35040 1
a35040 2
echo "${as_me-configure}:25128: testing adding $cf_add_incdir to include-path ..." 1>&5

d35056 3
a35058 1
as_fn_error $? "cannot find  under $use_bzlib" "$LINENO" 5
d35081 1
a35081 2
echo "${as_me-configure}:25168: testing adding $cf_add_libdir to library-path ..." 1>&5

d35110 1
a35110 2
echo "${as_me-configure}:25198: testing adding $cf_add_libdir to library-path ..." 1>&5

d35119 3
a35121 1
as_fn_error $? "cannot find  under $use_bzlib" "$LINENO" 5
d35128 14
d35143 3
d35147 1
d35149 16
a35164 4
# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_bz2=
cf_cv_library_path_bz2=
d35166 3
d35170 3
a35172 1
echo "${as_me-configure}:25224: testing Starting FIND_LINKAGE(bz2,bzlib) ..." 1>&5
d35174 1
d35176 3
a35178 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d35180 1
a35180 2
#include <stdio.h>
#include <bzlib.h>
d35186 1
a35186 1
    BZ2_bzopen("name","mode")
d35192 12
a35203 3
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_bz2=yes
else
d35205 4
a35208 1
    cf_cv_find_linkage_bz2=no
d35210 3
a35212 3
    test -n "$verbose" && echo "	find linkage for bz2 library" 1>&6

echo "${as_me-configure}:25251: testing find linkage for bz2 library ..." 1>&5
d35214 2
d35217 1
d35219 1
a35219 1
echo "${as_me-configure}:25255: testing Searching for headers in FIND_LINKAGE(bz2,bzlib) ..." 1>&5
d35221 1
d35226 1
d35228 1
d35237 1
a35237 1
test "$cf_header_path" != "NONE" && \
d35242 4
a35245 4
	test -d $cf_header_path/include/bzlib &&       cf_search="$cf_search $cf_header_path/include/bzlib"
	test -d $cf_header_path/include/bzlib/include &&    cf_search="$cf_search $cf_header_path/include/bzlib/include"
	test -d $cf_header_path/bzlib/include &&       cf_search="$cf_search $cf_header_path/bzlib/include"
	test -d $cf_header_path/bzlib/include/bzlib &&    cf_search="$cf_search $cf_header_path/bzlib/include/bzlib"
d35254 1
a35254 1
cf_search=""
d35256 1
d35258 1
a35258 1
test "/usr" != "$prefix" && \
d35260 1
a35260 1
(test $prefix = NONE || test -d $prefix) && {
d35263 4
a35266 4
	test -d /usr/include/bzlib &&       cf_search="$cf_search /usr/include/bzlib"
	test -d /usr/include/bzlib/include &&    cf_search="$cf_search /usr/include/bzlib/include"
	test -d /usr/bzlib/include &&       cf_search="$cf_search /usr/bzlib/include"
	test -d /usr/bzlib/include/bzlib &&    cf_search="$cf_search /usr/bzlib/include/bzlib"
d35269 1
a35269 2

test "$prefix" != "NONE" && \
d35274 4
a35277 4
	test -d $prefix/include/bzlib &&       cf_search="$cf_search $prefix/include/bzlib"
	test -d $prefix/include/bzlib/include &&    cf_search="$cf_search $prefix/include/bzlib/include"
	test -d $prefix/bzlib/include &&       cf_search="$cf_search $prefix/bzlib/include"
	test -d $prefix/bzlib/include/bzlib &&    cf_search="$cf_search $prefix/bzlib/include/bzlib"
d35280 1
a35280 2

test "/usr/local" != "$prefix" && \
d35282 1
a35282 1
(test $prefix = NONE || test -d $prefix) && {
d35285 4
a35288 4
	test -d /usr/local/include/bzlib &&       cf_search="$cf_search /usr/local/include/bzlib"
	test -d /usr/local/include/bzlib/include &&    cf_search="$cf_search /usr/local/include/bzlib/include"
	test -d /usr/local/bzlib/include &&       cf_search="$cf_search /usr/local/bzlib/include"
	test -d /usr/local/bzlib/include/bzlib &&    cf_search="$cf_search /usr/local/bzlib/include/bzlib"
d35291 1
a35291 2

test "/opt" != "$prefix" && \
d35293 1
a35293 1
(test $prefix = NONE || test -d $prefix) && {
d35296 4
a35299 4
	test -d /opt/include/bzlib &&       cf_search="$cf_search /opt/include/bzlib"
	test -d /opt/include/bzlib/include &&    cf_search="$cf_search /opt/include/bzlib/include"
	test -d /opt/bzlib/include &&       cf_search="$cf_search /opt/bzlib/include"
	test -d /opt/bzlib/include/bzlib &&    cf_search="$cf_search /opt/bzlib/include/bzlib"
d35302 1
a35302 2

test "$HOME" != "$prefix" && \
d35304 1
a35304 1
(test $prefix = NONE || test -d $prefix) && {
d35307 4
a35310 4
	test -d $HOME/include/bzlib &&       cf_search="$cf_search $HOME/include/bzlib"
	test -d $HOME/include/bzlib/include &&    cf_search="$cf_search $HOME/include/bzlib/include"
	test -d $HOME/bzlib/include &&       cf_search="$cf_search $HOME/bzlib/include"
	test -d $HOME/bzlib/include/bzlib &&    cf_search="$cf_search $HOME/bzlib/include/bzlib"
a35312 2


d35317 1
a35317 1
	test -d $includedir/bzlib && cf_search="$cf_search $includedir/bzlib"
d35324 1
a35324 1
	test -d $oldincludedir/bzlib && cf_search="$cf_search $oldincludedir/bzlib"
d35327 1
a35327 1
cf_search="$cf_header_path_list $cf_search"
d35329 1
a35329 1
    for cf_cv_header_path_bz2 in $cf_search
d35331 2
a35332 2
      if test -d $cf_cv_header_path_bz2 ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_bz2" 1>&6
d35334 1
a35334 1
echo "${as_me-configure}:25372: testing ... testing $cf_cv_header_path_bz2 ..." 1>&5
d35336 4
d35341 1
a35341 6
        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_bz2"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <stdio.h>
#include <bzlib.h>
d35347 1
a35347 1
    BZ2_bzopen("name","mode")
d35353 12
a35364 1
if ac_fn_c_try_compile "$LINENO"; then :
d35366 1
a35366 1
            test -n "$verbose" && echo "	... found bz2 headers in $cf_cv_header_path_bz2" 1>&6
d35368 1
a35368 1
echo "${as_me-configure}:25396: testing ... found bz2 headers in $cf_cv_header_path_bz2 ..." 1>&5
d35370 1
a35370 2

            cf_cv_find_linkage_bz2=maybe
d35374 2
d35380 1
a35380 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d35384 1
a35384 4
    if test "$cf_cv_find_linkage_bz2" = maybe ; then


echo "${as_me-configure}:25414: testing Searching for bz2 library in FIND_LINKAGE(bz2,bzlib) ..." 1>&5
d35386 1
a35390 1

d35392 4
a35395 3
        LIBS="-lbz2  $cf_save_LIBS"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d35397 1
a35397 2
#include <stdio.h>
#include <bzlib.h>
d35403 1
a35403 1
    BZ2_bzopen("name","mode")
d35409 12
a35420 1
if ac_fn_c_try_link "$LINENO"; then :
d35422 1
a35422 1
            test -n "$verbose" && echo "	... found bz2 library in system" 1>&6
d35424 1
a35424 1
echo "${as_me-configure}:25443: testing ... found bz2 library in system ..." 1>&5
d35426 4
a35429 2

            cf_cv_find_linkage_bz2=yes
d35431 1
a35431 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d35435 1
d35437 1
a35437 2
      if test "$cf_cv_find_linkage_bz2" != yes ; then

d35446 1
a35446 1
test "$cf_library_path" != "NONE" && \
d35451 4
a35454 4
	test -d $cf_library_path/lib/bz2 &&       cf_search="$cf_search $cf_library_path/lib/bz2"
	test -d $cf_library_path/lib/bz2/lib &&    cf_search="$cf_search $cf_library_path/lib/bz2/lib"
	test -d $cf_library_path/bz2/lib &&       cf_search="$cf_search $cf_library_path/bz2/lib"
	test -d $cf_library_path/bz2/lib/bz2 &&    cf_search="$cf_search $cf_library_path/bz2/lib/bz2"
d35463 1
a35463 2
cf_search=""

d35465 1
a35465 1
test "/usr" != "$prefix" && \
d35467 1
a35467 1
(test $prefix = NONE || test -d $prefix) && {
d35470 4
a35473 4
	test -d /usr/lib/bz2 &&       cf_search="$cf_search /usr/lib/bz2"
	test -d /usr/lib/bz2/lib &&    cf_search="$cf_search /usr/lib/bz2/lib"
	test -d /usr/bz2/lib &&       cf_search="$cf_search /usr/bz2/lib"
	test -d /usr/bz2/lib/bz2 &&    cf_search="$cf_search /usr/bz2/lib/bz2"
d35476 1
a35476 2

test "$prefix" != "NONE" && \
d35481 4
a35484 4
	test -d $prefix/lib/bz2 &&       cf_search="$cf_search $prefix/lib/bz2"
	test -d $prefix/lib/bz2/lib &&    cf_search="$cf_search $prefix/lib/bz2/lib"
	test -d $prefix/bz2/lib &&       cf_search="$cf_search $prefix/bz2/lib"
	test -d $prefix/bz2/lib/bz2 &&    cf_search="$cf_search $prefix/bz2/lib/bz2"
d35487 1
a35487 2

test "/usr/local" != "$prefix" && \
d35489 1
a35489 1
(test $prefix = NONE || test -d $prefix) && {
d35492 4
a35495 4
	test -d /usr/local/lib/bz2 &&       cf_search="$cf_search /usr/local/lib/bz2"
	test -d /usr/local/lib/bz2/lib &&    cf_search="$cf_search /usr/local/lib/bz2/lib"
	test -d /usr/local/bz2/lib &&       cf_search="$cf_search /usr/local/bz2/lib"
	test -d /usr/local/bz2/lib/bz2 &&    cf_search="$cf_search /usr/local/bz2/lib/bz2"
d35498 1
a35498 2

test "/opt" != "$prefix" && \
d35500 1
a35500 1
(test $prefix = NONE || test -d $prefix) && {
d35503 4
a35506 4
	test -d /opt/lib/bz2 &&       cf_search="$cf_search /opt/lib/bz2"
	test -d /opt/lib/bz2/lib &&    cf_search="$cf_search /opt/lib/bz2/lib"
	test -d /opt/bz2/lib &&       cf_search="$cf_search /opt/bz2/lib"
	test -d /opt/bz2/lib/bz2 &&    cf_search="$cf_search /opt/bz2/lib/bz2"
d35509 1
a35509 2

test "$HOME" != "$prefix" && \
d35511 1
a35511 1
(test $prefix = NONE || test -d $prefix) && {
d35514 4
a35517 4
	test -d $HOME/lib/bz2 &&       cf_search="$cf_search $HOME/lib/bz2"
	test -d $HOME/lib/bz2/lib &&    cf_search="$cf_search $HOME/lib/bz2/lib"
	test -d $HOME/bz2/lib &&       cf_search="$cf_search $HOME/bz2/lib"
	test -d $HOME/bz2/lib/bz2 &&    cf_search="$cf_search $HOME/bz2/lib/bz2"
a35519 2


d35522 1
a35522 1
        for cf_cv_library_path_bz2 in $cf_search
d35524 2
a35525 4
          if test -d $cf_cv_library_path_bz2 ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_bz2" 1>&6

echo "${as_me-configure}:25552: testing ... testing $cf_cv_library_path_bz2 ..." 1>&5
d35527 1
d35530 5
a35534 4
            LIBS="-lbz2  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_bz2"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d35536 1
a35536 2
#include <stdio.h>
#include <bzlib.h>
d35542 1
a35542 1
    BZ2_bzopen("name","mode")
d35548 12
a35559 122
if ac_fn_c_try_link "$LINENO"; then :

                test -n "$verbose" && echo "	... found bz2 library in $cf_cv_library_path_bz2" 1>&6

echo "${as_me-configure}:25578: testing ... found bz2 library in $cf_cv_library_path_bz2 ..." 1>&5


                cf_cv_find_linkage_bz2=yes
                cf_cv_library_file_bz2="-lbz2"
                break
else

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
          fi
        done
        LIBS="$cf_save_LIBS"
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_bz2=no
    fi

fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

if test "$cf_cv_find_linkage_bz2" = yes ; then


if test -n "$cf_cv_header_path_bz2" ; then
  for cf_add_incdir in $cf_cv_header_path_bz2
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :

else
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi

		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6

echo "${as_me-configure}:25659: testing adding $cf_add_incdir to include-path ..." 1>&5


		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"

		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
fi


if test -n "$cf_cv_library_path_bz2" ; then
  for cf_add_libdir in $cf_cv_library_path_bz2
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6

echo "${as_me-configure}:25695: testing adding $cf_add_libdir to library-path ..." 1>&5
d35561 1
d35563 1
a35563 80
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
fi

  LIBS="-lbz2 $LIBS"

else
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find bz2 library" >&5
$as_echo "$as_me: WARNING: Cannot find bz2 library" >&2;}
fi


	$as_echo "#define USE_BZLIB 1" >>confdefs.h

fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to use zlib for decompression of some gzip files" >&5
$as_echo_n "checking if you want to use zlib for decompression of some gzip files... " >&6; }

# Check whether --with-zlib was given.
if test "${with_zlib+set}" = set; then :
  withval=$with_zlib; use_zlib=$withval
else
  use_zlib=no
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_zlib" >&5
$as_echo "$use_zlib" >&6; }

if test ".$use_zlib" != ".no" ; then


  case "$use_zlib" in #(vi
  no) #(vi
      ;;
  yes) #(vi
      ;;
  *)


for cf_searchpath in `echo "$use_zlib" | tr $PATH_SEPARATOR ' '`; do
	if test -d $cf_searchpath/include; then

if test -n "$cf_searchpath/include" ; then
  for cf_add_incdir in $cf_searchpath/include
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
d35565 3
d35569 2
a35570 7
  cf_have_incdir=yes
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d35572 3
a35574 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d35576 7
a35582 1
echo "${as_me-configure}:25791: testing adding $cf_add_incdir to include-path ..." 1>&5
d35584 3
d35588 2
a35589 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
a35590 9
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
		else
		  break
		fi
	  fi
	done
  done
d35592 3
d35596 1
a35596 1
	elif test -d $cf_searchpath/../include ; then
d35598 2
a35599 2
if test -n "$cf_searchpath/../include" ; then
  for cf_add_incdir in $cf_searchpath/../include
d35621 3
a35623 2
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d35633 13
a35645 2
if ac_fn_c_try_compile "$LINENO"; then :

d35647 3
a35649 1
  cf_have_incdir=yes
d35651 1
a35651 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d35660 1
a35660 2
echo "${as_me-configure}:25857: testing adding $cf_add_incdir to include-path ..." 1>&5

d35675 2
a35676 7
	else
as_fn_error $? "cannot find  under $use_zlib" "$LINENO" 5
	fi
	if test -d $cf_searchpath/lib; then

if test -n "$cf_searchpath/lib" ; then
  for cf_add_libdir in $cf_searchpath/lib
d35694 1
a35694 2
echo "${as_me-configure}:25897: testing adding $cf_add_libdir to library-path ..." 1>&5

d35702 300
a36001 1
	elif test -d $cf_searchpath ; then
d36003 1
a36003 18
if test -n "$cf_searchpath" ; then
  for cf_add_libdir in $cf_searchpath
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d36005 1
a36005 1
echo "${as_me-configure}:25927: testing adding $cf_add_libdir to library-path ..." 1>&5
d36007 1
d36009 37
a36045 4
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
d36047 6
d36054 1
a36054 3
	else
as_fn_error $? "cannot find  under $use_zlib" "$LINENO" 5
	fi
d36057 1
a36057 2
      ;;
  esac
d36059 4
d36064 1
d36066 4
d36071 12
a36082 4
# If the linkage is not already in the $CPPFLAGS/$LDFLAGS configuration, these
# will be set on completion of the AC_TRY_LINK below.
cf_cv_header_path_z=
cf_cv_library_path_z=
d36084 3
d36088 2
a36089 1
echo "${as_me-configure}:25953: testing Starting FIND_LINKAGE(z,zlib) ..." 1>&5
d36091 3
d36095 2
a36096 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d36098 5
a36102 1
#include <zlib.h>
d36104 3
a36106 3
int
main ()
{
d36108 1
a36108 8
	gzopen("name","mode")

  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_find_linkage_z=yes
d36110 4
d36115 2
a36116 1
    cf_cv_find_linkage_z=no
d36118 7
a36124 1
    test -n "$verbose" && echo "	find linkage for z library" 1>&6
d36126 3
a36128 1
echo "${as_me-configure}:25979: testing find linkage for z library ..." 1>&5
d36130 3
d36134 3
d36138 3
a36140 1
echo "${as_me-configure}:25983: testing Searching for headers in FIND_LINKAGE(z,zlib) ..." 1>&5
d36142 2
d36145 7
a36151 2
    cf_save_CPPFLAGS="$CPPFLAGS"
    cf_test_CPPFLAGS="$CPPFLAGS"
d36153 3
d36157 3
a36159 7
cf_header_path_list=""
if test -n "${CFLAGS}${CPPFLAGS}" ; then
	for cf_header_path in $CPPFLAGS $CFLAGS
	do
		case $cf_header_path in #(vi
		-I*)
			cf_header_path=`echo ".$cf_header_path" |sed -e 's/^...//' -e 's,/include$,,'`
d36161 3
a36163 10
test "$cf_header_path" != "NONE" && \
test -d "$cf_header_path" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $cf_header_path"
	test -d $cf_header_path/include &&          cf_search="$cf_search $cf_header_path/include"
	test -d $cf_header_path/include/zlib &&       cf_search="$cf_search $cf_header_path/include/zlib"
	test -d $cf_header_path/include/zlib/include &&    cf_search="$cf_search $cf_header_path/include/zlib/include"
	test -d $cf_header_path/zlib/include &&       cf_search="$cf_search $cf_header_path/zlib/include"
	test -d $cf_header_path/zlib/include/zlib &&    cf_search="$cf_search $cf_header_path/zlib/include/zlib"
}
d36165 3
a36167 5
			cf_header_path_list="$cf_header_path_list $cf_search"
			;;
		esac
	done
fi
d36169 2
a36170 1
cf_search=""
d36172 5
d36178 3
a36180 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr"
	test -d /usr/include &&          cf_search="$cf_search /usr/include"
	test -d /usr/include/zlib &&       cf_search="$cf_search /usr/include/zlib"
	test -d /usr/include/zlib/include &&    cf_search="$cf_search /usr/include/zlib/include"
	test -d /usr/zlib/include &&       cf_search="$cf_search /usr/zlib/include"
	test -d /usr/zlib/include/zlib &&    cf_search="$cf_search /usr/zlib/include/zlib"
}
d36182 6
d36189 2
a36190 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/zlib &&       cf_search="$cf_search $prefix/include/zlib"
	test -d $prefix/include/zlib/include &&    cf_search="$cf_search $prefix/include/zlib/include"
	test -d $prefix/zlib/include &&       cf_search="$cf_search $prefix/zlib/include"
	test -d $prefix/zlib/include/zlib &&    cf_search="$cf_search $prefix/zlib/include/zlib"
}
d36192 7
d36200 3
a36202 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /usr/local"
	test -d /usr/local/include &&          cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/zlib &&       cf_search="$cf_search /usr/local/include/zlib"
	test -d /usr/local/include/zlib/include &&    cf_search="$cf_search /usr/local/include/zlib/include"
	test -d /usr/local/zlib/include &&       cf_search="$cf_search /usr/local/zlib/include"
	test -d /usr/local/zlib/include/zlib &&    cf_search="$cf_search /usr/local/zlib/include/zlib"
}
d36204 3
d36208 3
a36210 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under /opt"
	test -d /opt/include &&          cf_search="$cf_search /opt/include"
	test -d /opt/include/zlib &&       cf_search="$cf_search /opt/include/zlib"
	test -d /opt/include/zlib/include &&    cf_search="$cf_search /opt/include/zlib/include"
	test -d /opt/zlib/include &&       cf_search="$cf_search /opt/zlib/include"
	test -d /opt/zlib/include/zlib &&    cf_search="$cf_search /opt/zlib/include/zlib"
}
d36212 3
d36216 2
a36217 10
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/zlib &&       cf_search="$cf_search $HOME/include/zlib"
	test -d $HOME/include/zlib/include &&    cf_search="$cf_search $HOME/include/zlib/include"
	test -d $HOME/zlib/include &&       cf_search="$cf_search $HOME/zlib/include"
	test -d $HOME/zlib/include/zlib &&    cf_search="$cf_search $HOME/zlib/include/zlib"
}
d36219 7
d36227 3
d36231 3
a36233 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/zlib && cf_search="$cf_search $includedir/zlib"
}
d36235 3
a36237 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/zlib && cf_search="$cf_search $oldincludedir/zlib"
}
d36239 3
a36241 1
cf_search="$cf_header_path_list $cf_search"
d36243 2
a36244 4
    for cf_cv_header_path_z in $cf_search
    do
      if test -d $cf_cv_header_path_z ; then
        test -n "$verbose" && echo "	... testing $cf_cv_header_path_z" 1>&6
d36246 7
a36252 1
echo "${as_me-configure}:26100: testing ... testing $cf_cv_header_path_z ..." 1>&5
d36254 3
d36258 3
a36260 3
        CPPFLAGS="$cf_save_CPPFLAGS -I$cf_cv_header_path_z"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d36262 3
a36264 1
#include <zlib.h>
d36266 3
a36268 3
int
main ()
{
d36270 2
a36271 1
	gzopen("name","mode")
d36273 7
a36279 5
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
d36281 3
a36283 1
            test -n "$verbose" && echo "	... found z headers in $cf_cv_header_path_z" 1>&6
d36285 1
a36285 6
echo "${as_me-configure}:26123: testing ... found z headers in $cf_cv_header_path_z ..." 1>&5


            cf_cv_find_linkage_z=maybe
            cf_test_CPPFLAGS="$CPPFLAGS"
            break
d36287 1
d36289 3
a36291 1
            CPPFLAGS="$cf_save_CPPFLAGS"
d36293 3
a36296 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
      fi
    done
d36298 2
a36299 1
    if test "$cf_cv_find_linkage_z" = maybe ; then
d36301 7
d36309 3
a36311 1
echo "${as_me-configure}:26141: testing Searching for z library in FIND_LINKAGE(z,zlib) ..." 1>&5
d36313 3
d36317 3
a36319 2
      cf_save_LIBS="$LIBS"
      cf_save_LDFLAGS="$LDFLAGS"
d36321 3
d36325 2
a36326 6
        CPPFLAGS="$cf_test_CPPFLAGS"
        LIBS="-lz  $cf_save_LIBS"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

#include <zlib.h>
d36328 5
a36332 3
int
main ()
{
d36334 3
a36336 1
	gzopen("name","mode")
d36338 6
a36343 5
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
d36345 24
a36368 6
            test -n "$verbose" && echo "	... found z library in system" 1>&6

echo "${as_me-configure}:26169: testing ... found z library in system ..." 1>&5


            cf_cv_find_linkage_z=yes
d36370 1
a36370 4
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
            CPPFLAGS="$cf_save_CPPFLAGS"
            LIBS="$cf_save_LIBS"
d36372 2
a36373 26

      if test "$cf_cv_find_linkage_z" != yes ; then

cf_library_path_list=""
if test -n "${LDFLAGS}${LIBS}" ; then
	for cf_library_path in $LDFLAGS $LIBS
	do
		case $cf_library_path in #(vi
		-L*)
			cf_library_path=`echo ".$cf_library_path" |sed -e 's/^...//' -e 's,/lib$,,'`

test "$cf_library_path" != "NONE" && \
test -d "$cf_library_path" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $cf_library_path"
	test -d $cf_library_path/lib &&          cf_search="$cf_search $cf_library_path/lib"
	test -d $cf_library_path/lib/z &&       cf_search="$cf_search $cf_library_path/lib/z"
	test -d $cf_library_path/lib/z/lib &&    cf_search="$cf_search $cf_library_path/lib/z/lib"
	test -d $cf_library_path/z/lib &&       cf_search="$cf_search $cf_library_path/z/lib"
	test -d $cf_library_path/z/lib/z &&    cf_search="$cf_search $cf_library_path/z/lib/z"
}

			cf_library_path_list="$cf_library_path_list $cf_search"
			;;
		esac
	done
d36375 1
d36377 7
a36383 1
cf_search=""
d36385 3
d36389 7
a36395 10
test "/usr" != "$prefix" && \
test -d "/usr" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr"
	test -d /usr/lib &&          cf_search="$cf_search /usr/lib"
	test -d /usr/lib/z &&       cf_search="$cf_search /usr/lib/z"
	test -d /usr/lib/z/lib &&    cf_search="$cf_search /usr/lib/z/lib"
	test -d /usr/z/lib &&       cf_search="$cf_search /usr/z/lib"
	test -d /usr/z/lib/z &&    cf_search="$cf_search /usr/z/lib/z"
}
d36397 5
d36403 22
a36424 10
test "$prefix" != "NONE" && \
test -d "$prefix" && \
 {
	test -n "$verbose" && echo "	... testing for lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/z &&       cf_search="$cf_search $prefix/lib/z"
	test -d $prefix/lib/z/lib &&    cf_search="$cf_search $prefix/lib/z/lib"
	test -d $prefix/z/lib &&       cf_search="$cf_search $prefix/z/lib"
	test -d $prefix/z/lib/z &&    cf_search="$cf_search $prefix/z/lib/z"
}
d36426 11
d36438 1
a36438 10
test "/usr/local" != "$prefix" && \
test -d "/usr/local" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /usr/local"
	test -d /usr/local/lib &&          cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/z &&       cf_search="$cf_search /usr/local/lib/z"
	test -d /usr/local/lib/z/lib &&    cf_search="$cf_search /usr/local/lib/z/lib"
	test -d /usr/local/z/lib &&       cf_search="$cf_search /usr/local/z/lib"
	test -d /usr/local/z/lib/z &&    cf_search="$cf_search /usr/local/z/lib/z"
}
d36440 1
d36442 3
a36444 10
test "/opt" != "$prefix" && \
test -d "/opt" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under /opt"
	test -d /opt/lib &&          cf_search="$cf_search /opt/lib"
	test -d /opt/lib/z &&       cf_search="$cf_search /opt/lib/z"
	test -d /opt/lib/z/lib &&    cf_search="$cf_search /opt/lib/z/lib"
	test -d /opt/z/lib &&       cf_search="$cf_search /opt/z/lib"
	test -d /opt/z/lib/z &&    cf_search="$cf_search /opt/z/lib/z"
}
d36446 4
d36451 1
a36451 10
test "$HOME" != "$prefix" && \
test -d "$HOME" && \
(test $prefix = NONE || test -d $prefix) && {
	test -n "$verbose" && echo "	... testing for lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/z &&       cf_search="$cf_search $HOME/lib/z"
	test -d $HOME/lib/z/lib &&    cf_search="$cf_search $HOME/lib/z/lib"
	test -d $HOME/z/lib &&       cf_search="$cf_search $HOME/z/lib"
	test -d $HOME/z/lib/z &&    cf_search="$cf_search $HOME/z/lib/z"
}
d36453 26
d36480 4
d36485 7
a36491 1
cf_search="$cf_library_path_list $cf_search"
d36493 3
a36495 4
        for cf_cv_library_path_z in $cf_search
        do
          if test -d $cf_cv_library_path_z ; then
            test -n "$verbose" && echo "	... testing $cf_cv_library_path_z" 1>&6
d36497 7
a36503 1
echo "${as_me-configure}:26278: testing ... testing $cf_cv_library_path_z ..." 1>&5
d36505 5
d36511 22
a36532 5
            CPPFLAGS="$cf_test_CPPFLAGS"
            LIBS="-lz  $cf_save_LIBS"
            LDFLAGS="$cf_save_LDFLAGS -L$cf_cv_library_path_z"
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d36534 11
a36544 1
#include <zlib.h>
d36546 1
a36546 3
int
main ()
{
d36548 1
a36548 1
	gzopen("name","mode")
d36550 3
a36552 5
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
d36554 4
a36557 1
                test -n "$verbose" && echo "	... found z library in $cf_cv_library_path_z" 1>&6
d36559 1
a36559 1
echo "${as_me-configure}:26303: testing ... found z library in $cf_cv_library_path_z ..." 1>&5
d36561 9
a36569 4

                cf_cv_find_linkage_z=yes
                cf_cv_library_file_z="-lz"
                break
d36571 14
a36584 5

                CPPFLAGS="$cf_save_CPPFLAGS"
                LIBS="$cf_save_LIBS"
                LDFLAGS="$cf_save_LDFLAGS"

d36586 1
a36586 12
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
          fi
        done
        LIBS="$cf_save_LIBS"
        CPPFLAGS="$cf_save_CPPFLAGS"
        LDFLAGS="$cf_save_LDFLAGS"
      fi

    else
      cf_cv_find_linkage_z=no
    fi
d36588 2
d36591 1
a36591 41
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext

if test "$cf_cv_find_linkage_z" = yes ; then


if test -n "$cf_cv_header_path_z" ; then
  for cf_add_incdir in $cf_cv_header_path_z
  do
	while test $cf_add_incdir != /usr/include
	do
	  if test -d $cf_add_incdir
	  then
		cf_have_incdir=no
		if test -n "$CFLAGS$CPPFLAGS" ; then
		  # a loop is needed to ensure we can add subdirs of existing dirs
		  for cf_test_incdir in $CFLAGS $CPPFLAGS ; do
			if test ".$cf_test_incdir" = ".-I$cf_add_incdir" ; then
			  cf_have_incdir=yes; break
			fi
		  done
		fi

		if test "$cf_have_incdir" = no ; then
		  if test "$cf_add_incdir" = /usr/local/include ; then
			if test "$GCC" = yes
			then
			  cf_save_CPPFLAGS=$CPPFLAGS
			  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_compile "$LINENO"; then :
d36593 3
d36597 2
a36598 1
  cf_have_incdir=yes
a36599 5
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
			  CPPFLAGS=$cf_save_CPPFLAGS
			fi
		  fi
		fi
d36601 3
a36603 2
		if test "$cf_have_incdir" = no ; then
		  test -n "$verbose" && echo "	adding $cf_add_incdir to include-path" 1>&6
d36605 7
a36611 1
echo "${as_me-configure}:26384: testing adding $cf_add_incdir to include-path ..." 1>&5
d36613 5
d36619 22
a36640 1
		  CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
d36642 1
a36642 3
		  cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		  test "$cf_top_incdir" = "$cf_add_incdir" && break
		  cf_add_incdir="$cf_top_incdir"
d36644 1
a36644 1
		  break
d36646 9
a36654 4
	  fi
	done
  done
fi
d36656 1
d36658 3
a36660 18
if test -n "$cf_cv_library_path_z" ; then
  for cf_add_libdir in $cf_cv_library_path_z
  do
    if test $cf_add_libdir = /usr/lib ; then
      :
    elif test -d $cf_add_libdir
    then
      cf_have_libdir=no
      if test -n "$LDFLAGS$LIBS" ; then
        # a loop is needed to ensure we can add subdirs of existing dirs
        for cf_test_libdir in $LDFLAGS $LIBS ; do
          if test ".$cf_test_libdir" = ".-L$cf_add_libdir" ; then
            cf_have_libdir=yes; break
          fi
        done
      fi
      if test "$cf_have_libdir" = no ; then
        test -n "$verbose" && echo "	adding $cf_add_libdir to library-path" 1>&6
d36662 4
a36665 1
echo "${as_me-configure}:26420: testing adding $cf_add_libdir to library-path ..." 1>&5
d36667 1
d36669 24
a36692 4
        LDFLAGS="-L$cf_add_libdir $LDFLAGS"
      fi
    fi
  done
d36694 1
d36696 4
a36699 1
  LIBS="-lz $LIBS"
d36701 3
d36705 2
a36706 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Cannot find z library" >&5
$as_echo "$as_me: WARNING: Cannot find z library" >&2;}
d36709 3
d36713 7
a36719 1
	$as_echo "#define USE_ZLIB 1" >>confdefs.h
d36721 4
d36727 22
a36748 1
Other Network Services:
d36750 11
a36760 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to exclude FINGER code" >&5
$as_echo_n "checking if you want to exclude FINGER code... " >&6; }
# Check whether --enable-finger was given.
if test "${enable_finger+set}" = set; then :
  enableval=$enable_finger; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_finger=yes
  else
    use_finger=no
  fi
else
  enableval=yes
  use_finger=no
d36762 1
a36762 1
fi
d36764 1
a36764 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_finger" >&5
$as_echo "$use_finger" >&6; }
test $use_finger != "no" && $as_echo "#define DISABLE_FINGER 1" >>confdefs.h
d36766 3
d36770 4
a36773 13
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to exclude GOPHER code" >&5
$as_echo_n "checking if you want to exclude GOPHER code... " >&6; }
# Check whether --enable-gopher was given.
if test "${enable_gopher+set}" = set; then :
  enableval=$enable_gopher; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_gopher=yes
  else
    use_gopher=no
  fi
else
  enableval=yes
  use_gopher=no
d36777 26
a36802 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_gopher" >&5
$as_echo "$use_gopher" >&6; }
test $use_gopher != "no" && $as_echo "#define DISABLE_GOPHER 1" >>confdefs.h
d36804 4
d36809 3
a36811 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to exclude NEWS code" >&5
$as_echo_n "checking if you want to exclude NEWS code... " >&6; }
# Check whether --enable-news was given.
if test "${enable_news+set}" = set; then :
  enableval=$enable_news; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_news=yes
  else
    use_news=no
  fi
d36813 2
a36814 3
  enableval=yes
  use_news=no

d36817 3
a36819 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_news" >&5
$as_echo "$use_news" >&6; }
test $use_news != "no" && $as_echo "#define DISABLE_NEWS 1" >>confdefs.h
d36821 7
d36829 2
a36830 10
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to exclude FTP code" >&5
$as_echo_n "checking if you want to exclude FTP code... " >&6; }
# Check whether --enable-ftp was given.
if test "${enable_ftp+set}" = set; then :
  enableval=$enable_ftp; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ftp=yes
  else
    use_ftp=no
  fi
d36832 2
a36833 2
  enableval=yes
  use_ftp=no
d36835 22
a36856 1
fi
d36858 11
a36868 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_ftp" >&5
$as_echo "$use_ftp" >&6; }
test $use_ftp != "no" && $as_echo "#define DISABLE_FTP 1" >>confdefs.h
d36870 1
d36872 1
d36874 3
a36876 1
Directory Editor Options:
d36878 4
a36881 15
# All DirEd functions that were enabled on compilation can be disabled
# or modified at run time via DIRED_MENU symbols in lynx.cfg.
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if directory-editor code should be used" >&5
$as_echo_n "checking if directory-editor code should be used... " >&6; }
# Check whether --enable-dired was given.
if test "${enable_dired+set}" = set; then :
  enableval=$enable_dired; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_dired=$enableval
  else
    use_dired=yes
  fi
else
  enableval=yes
  use_dired=yes
d36885 9
a36893 17
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $use_dired" >&5
$as_echo "$use_dired" >&6; }

if test ".$use_dired" != ".no" ; then
	EXTRA_OBJS="$EXTRA_OBJS LYLocal\$o"
	$as_echo "#define DIRED_SUPPORT 1" >>confdefs.h


	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you wish to allow extracting from archives via DirEd" >&5
$as_echo_n "checking if you wish to allow extracting from archives via DirEd... " >&6; }
	# Check whether --enable-dired-dearchive was given.
if test "${enable_dired_dearchive+set}" = set; then :
  enableval=$enable_dired_dearchive; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    $as_echo "#define ARCHIVE_ONLY 1" >>confdefs.h

  fi
d36895 14
a36908 1
  enableval=yes
d36910 1
d36912 4
a36915 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
d36917 3
a36919 11
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if DirEd mode should override keys" >&5
$as_echo_n "checking if DirEd mode should override keys... " >&6; }
	# Check whether --enable-dired-override was given.
if test "${enable_dired_override+set}" = set; then :
  enableval=$enable_dired_override; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else
    $as_echo "#define OK_OVERRIDE 1" >>confdefs.h

  fi
d36921 2
a36922 4
  enableval=yes
  $as_echo "#define OK_OVERRIDE 1" >>confdefs.h


d36925 3
a36927 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
d36929 7
a36935 9
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you wish to allow permissions commands via DirEd" >&5
$as_echo_n "checking if you wish to allow permissions commands via DirEd... " >&6; }
	# Check whether --enable-dired-permit was given.
if test "${enable_dired_permit+set}" = set; then :
  enableval=$enable_dired_permit; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else
    $as_echo "#define OK_PERMIT 1" >>confdefs.h
d36937 2
a36938 1
  fi
d36940 1
a36940 4
  enableval=yes
  $as_echo "#define OK_PERMIT 1" >>confdefs.h


d36943 22
a36964 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
d36966 11
a36976 7
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you wish to allow executable-permission commands via DirEd" >&5
$as_echo_n "checking if you wish to allow executable-permission commands via DirEd... " >&6; }
	# Check whether --enable-dired-xpermit was given.
if test "${enable_dired_xpermit+set}" = set; then :
  enableval=$enable_dired_xpermit; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    $as_echo "#define NO_CHANGE_EXECUTE_PERMS 1" >>confdefs.h
d36978 1
a36978 4
  fi
else
  enableval=yes
fi
d36980 1
a36980 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
d36982 3
a36984 14
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you wish to allow \"tar\" commands from DirEd" >&5
$as_echo_n "checking if you wish to allow \"tar\" commands from DirEd... " >&6; }
	# Check whether --enable-dired-tar was given.
if test "${enable_dired_tar+set}" = set; then :
  enableval=$enable_dired_tar; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else
    $as_echo "#define OK_TAR 1" >>confdefs.h

  fi
else
  enableval=yes
  $as_echo "#define OK_TAR 1" >>confdefs.h
d36986 4
d36993 9
a37001 14
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }

	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you wish to allow \"uudecode\" commands from DirEd" >&5
$as_echo_n "checking if you wish to allow \"uudecode\" commands from DirEd... " >&6; }
	# Check whether --enable-dired-uudecode was given.
if test "${enable_dired_uudecode+set}" = set; then :
  enableval=$enable_dired_uudecode; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else
    $as_echo "#define OK_UUDECODE 1" >>confdefs.h

  fi
d37003 16
a37018 3
  enableval=yes
  $as_echo "#define OK_UUDECODE 1" >>confdefs.h

d37020 2
d37023 1
d37025 3
a37027 14
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }

	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you wish to allow \"zip\" and \"unzip\" commands from DirEd" >&5
$as_echo_n "checking if you wish to allow \"zip\" and \"unzip\" commands from DirEd... " >&6; }
	# Check whether --enable-dired-zip was given.
if test "${enable_dired_zip+set}" = set; then :
  enableval=$enable_dired_zip; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else
    $as_echo "#define OK_ZIP 1" >>confdefs.h

  fi
d37029 2
a37030 4
  enableval=yes
  $as_echo "#define OK_ZIP 1" >>confdefs.h


d37033 3
a37035 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
d37037 7
a37043 9
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you wish to allow \"gzip\" and \"gunzip\" commands from DirEd" >&5
$as_echo_n "checking if you wish to allow \"gzip\" and \"gunzip\" commands from DirEd... " >&6; }
	# Check whether --enable-dired-gzip was given.
if test "${enable_dired_gzip+set}" = set; then :
  enableval=$enable_dired_gzip; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else
    $as_echo "#define OK_GZIP 1" >>confdefs.h
d37045 2
a37046 1
  fi
d37048 1
a37048 4
  enableval=yes
  $as_echo "#define OK_GZIP 1" >>confdefs.h


d37051 22
a37072 3
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
fi
d37074 11
a37084 9
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want long-directory listings" >&5
$as_echo_n "checking if you want long-directory listings... " >&6; }
# Check whether --enable-long-list was given.
if test "${enable_long_list+set}" = set; then :
  enableval=$enable_long_list; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    :
  else
    $as_echo "#define LONG_LIST 1" >>confdefs.h
d37086 1
a37086 4
  fi
else
  enableval=yes
  $as_echo "#define LONG_LIST 1" >>confdefs.h
d37088 1
d37090 3
a37092 1
fi
d37094 4
a37097 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }
a37098 11
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if parent-directory references are permitted" >&5
$as_echo_n "checking if parent-directory references are permitted... " >&6; }
# Check whether --enable-parent-dir-refs was given.
if test "${enable_parent_dir_refs+set}" = set; then :
  enableval=$enable_parent_dir_refs; test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    $as_echo "#define NO_PARENT_DIR_REFERENCE 1" >>confdefs.h

  fi
else
  enableval=yes
d37101 2
a37102 7
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $enableval" >&5
$as_echo "$enableval" >&6; }



test -z "$TELNET" && TELNET=telnet
for ac_prog in $TELNET telnet
d37106 4
a37109 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_TELNET+:} false; then :
  $as_echo_n "(cached) " >&6
d37111 1
a37111 1
  case $TELNET in
d37113 1
a37113 1
  ac_cv_path_TELNET="$TELNET" # Let the user override the test with a path.
d37116 10
a37125 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_TELNET="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37126 2
  done
IFS=$as_save_IFS
d37131 5
a37135 4
TELNET=$ac_cv_path_TELNET
if test -n "$TELNET"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $TELNET" >&5
$as_echo "$TELNET" >&6; }
d37137 2
a37138 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37141 1
a37141 2

  test -n "$TELNET" && break
d37143 1
a37143 2
test -n "$TELNET" || TELNET="$TELNET"

d37147 2
a37148 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_TELNET
d37166 1
a37166 1
.\${*prefix}*) #(vi
d37196 1
a37196 1
echo "${as_me-configure}:26853: testing defining path for ${cf_path_prog} ..." 1>&5
d37198 3
a37200 3
	cat >>confdefs.h <<_ACEOF
#define TELNET_PATH "$cf_path_prog"
_ACEOF
d37202 4
a37205 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define TELNET_ARGS "$cf_path_args"
_ACEOF
d37209 2
a37210 4


test -z "$TN3270" && TN3270=tn3270
for ac_prog in $TN3270 tn3270
d37214 4
a37217 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_TN3270+:} false; then :
  $as_echo_n "(cached) " >&6
d37219 1
a37219 1
  case $TN3270 in
d37221 1
a37221 1
  ac_cv_path_TN3270="$TN3270" # Let the user override the test with a path.
d37224 10
a37233 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_TN3270="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37234 2
  done
IFS=$as_save_IFS
d37239 5
a37243 4
TN3270=$ac_cv_path_TN3270
if test -n "$TN3270"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $TN3270" >&5
$as_echo "$TN3270" >&6; }
d37245 2
a37246 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37249 1
a37249 2

  test -n "$TN3270" && break
d37251 1
a37251 2
test -n "$TN3270" || TN3270="$TN3270"

d37255 2
a37256 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_TN3270
d37274 1
a37274 1
.\${*prefix}*) #(vi
d37304 1
a37304 1
echo "${as_me-configure}:26966: testing defining path for ${cf_path_prog} ..." 1>&5
d37306 3
a37308 3
	cat >>confdefs.h <<_ACEOF
#define TN3270_PATH "$cf_path_prog"
_ACEOF
d37310 4
a37313 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define TN3270_ARGS "$cf_path_args"
_ACEOF
d37317 37
d37355 1
d37357 2
a37358 2
test -z "$RLOGIN" && RLOGIN=rlogin
for ac_prog in $RLOGIN rlogin
d37362 4
a37365 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_RLOGIN+:} false; then :
  $as_echo_n "(cached) " >&6
d37367 1
a37367 1
  case $RLOGIN in
d37369 1
a37369 1
  ac_cv_path_RLOGIN="$RLOGIN" # Let the user override the test with a path.
d37372 10
a37381 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_RLOGIN="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37382 2
  done
IFS=$as_save_IFS
d37387 5
a37391 4
RLOGIN=$ac_cv_path_RLOGIN
if test -n "$RLOGIN"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $RLOGIN" >&5
$as_echo "$RLOGIN" >&6; }
d37393 2
a37394 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37397 1
a37397 2

  test -n "$RLOGIN" && break
d37399 1
a37399 2
test -n "$RLOGIN" || RLOGIN="$RLOGIN"

d37403 2
a37404 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_RLOGIN
d37422 1
a37422 1
.\${*prefix}*) #(vi
d37452 1
a37452 1
echo "${as_me-configure}:27079: testing defining path for ${cf_path_prog} ..." 1>&5
d37454 3
a37456 3
	cat >>confdefs.h <<_ACEOF
#define RLOGIN_PATH "$cf_path_prog"
_ACEOF
d37458 4
a37461 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define RLOGIN_ARGS "$cf_path_args"
_ACEOF
d37465 2
a37466 5



test -z "$MV" && MV=mv
for ac_prog in $MV mv
d37470 4
a37473 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_MV+:} false; then :
  $as_echo_n "(cached) " >&6
d37475 1
a37475 1
  case $MV in
d37477 1
a37477 1
  ac_cv_path_MV="$MV" # Let the user override the test with a path.
d37480 10
a37489 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_MV="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37490 2
  done
IFS=$as_save_IFS
d37495 5
a37499 4
MV=$ac_cv_path_MV
if test -n "$MV"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MV" >&5
$as_echo "$MV" >&6; }
d37501 2
a37502 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37505 1
a37505 2

  test -n "$MV" && break
d37507 1
a37507 2
test -n "$MV" || MV="$MV"

d37511 2
a37512 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_MV
d37530 1
a37530 1
.\${*prefix}*) #(vi
d37560 1
a37560 1
echo "${as_me-configure}:27193: testing defining path for ${cf_path_prog} ..." 1>&5
d37562 3
a37564 3
	cat >>confdefs.h <<_ACEOF
#define MV_PATH "$cf_path_prog"
_ACEOF
d37566 4
a37569 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define MV_ARGS "$cf_path_args"
_ACEOF
d37573 2
a37574 5



test -z "$GZIP" && GZIP=gzip
for ac_prog in $GZIP gzip
d37578 4
a37581 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_GZIP+:} false; then :
  $as_echo_n "(cached) " >&6
d37583 1
a37583 1
  case $GZIP in
d37585 1
a37585 1
  ac_cv_path_GZIP="$GZIP" # Let the user override the test with a path.
d37588 10
a37597 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_GZIP="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37598 2
  done
IFS=$as_save_IFS
d37603 5
a37607 4
GZIP=$ac_cv_path_GZIP
if test -n "$GZIP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $GZIP" >&5
$as_echo "$GZIP" >&6; }
d37609 2
a37610 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37613 1
a37613 2

  test -n "$GZIP" && break
d37615 1
a37615 2
test -n "$GZIP" || GZIP="$GZIP"

d37619 2
a37620 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_GZIP
d37638 1
a37638 1
.\${*prefix}*) #(vi
d37668 1
a37668 1
echo "${as_me-configure}:27307: testing defining path for ${cf_path_prog} ..." 1>&5
d37670 3
a37672 3
	cat >>confdefs.h <<_ACEOF
#define GZIP_PATH "$cf_path_prog"
_ACEOF
d37674 4
a37677 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define GZIP_ARGS "$cf_path_args"
_ACEOF
d37681 2
a37682 4


test -z "$UNCOMPRESS" && UNCOMPRESS=gunzip
for ac_prog in $UNCOMPRESS gunzip
d37686 4
a37689 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_UNCOMPRESS+:} false; then :
  $as_echo_n "(cached) " >&6
d37691 1
a37691 1
  case $UNCOMPRESS in
d37693 1
a37693 1
  ac_cv_path_UNCOMPRESS="$UNCOMPRESS" # Let the user override the test with a path.
d37696 10
a37705 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_UNCOMPRESS="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37706 2
  done
IFS=$as_save_IFS
d37711 5
a37715 4
UNCOMPRESS=$ac_cv_path_UNCOMPRESS
if test -n "$UNCOMPRESS"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $UNCOMPRESS" >&5
$as_echo "$UNCOMPRESS" >&6; }
d37717 2
a37718 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37721 1
a37721 2

  test -n "$UNCOMPRESS" && break
d37723 1
a37723 2
test -n "$UNCOMPRESS" || UNCOMPRESS="$UNCOMPRESS"

d37727 2
a37728 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_UNCOMPRESS
d37746 1
a37746 1
.\${*prefix}*) #(vi
d37776 1
a37776 1
echo "${as_me-configure}:27420: testing defining path for ${cf_path_prog} ..." 1>&5
d37778 3
a37780 3
	cat >>confdefs.h <<_ACEOF
#define UNCOMPRESS_PATH "$cf_path_prog"
_ACEOF
d37782 4
a37785 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define UNCOMPRESS_ARGS "$cf_path_args"
_ACEOF
d37789 2
a37790 4


test -z "$UNZIP" && UNZIP=unzip
for ac_prog in $UNZIP unzip
d37794 4
a37797 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_UNZIP+:} false; then :
  $as_echo_n "(cached) " >&6
d37799 1
a37799 1
  case $UNZIP in
d37801 1
a37801 1
  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a path.
d37804 10
a37813 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_UNZIP="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37814 2
  done
IFS=$as_save_IFS
d37819 5
a37823 4
UNZIP=$ac_cv_path_UNZIP
if test -n "$UNZIP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $UNZIP" >&5
$as_echo "$UNZIP" >&6; }
d37825 2
a37826 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37829 1
a37829 2

  test -n "$UNZIP" && break
d37831 1
a37831 2
test -n "$UNZIP" || UNZIP="$UNZIP"

d37835 2
a37836 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_UNZIP
d37854 1
a37854 1
.\${*prefix}*) #(vi
d37884 1
a37884 1
echo "${as_me-configure}:27533: testing defining path for ${cf_path_prog} ..." 1>&5
d37886 3
a37888 3
	cat >>confdefs.h <<_ACEOF
#define UNZIP_PATH "$cf_path_prog"
_ACEOF
d37890 4
a37893 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define UNZIP_ARGS "$cf_path_args"
_ACEOF
d37897 5
d37903 3
d37907 2
a37908 2
test -z "$BZIP2" && BZIP2=bzip2
for ac_prog in $BZIP2 bzip2
d37912 4
a37915 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_BZIP2+:} false; then :
  $as_echo_n "(cached) " >&6
d37917 1
a37917 1
  case $BZIP2 in
d37919 1
a37919 1
  ac_cv_path_BZIP2="$BZIP2" # Let the user override the test with a path.
d37922 10
a37931 11
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_BZIP2="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a37932 2
  done
IFS=$as_save_IFS
d37937 5
a37941 4
BZIP2=$ac_cv_path_BZIP2
if test -n "$BZIP2"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $BZIP2" >&5
$as_echo "$BZIP2" >&6; }
d37943 2
a37944 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d37947 1
a37947 2

  test -n "$BZIP2" && break
d37949 1
a37949 2
test -n "$BZIP2" || BZIP2="$BZIP2"

d37953 2
a37954 2
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_BZIP2
d37972 1
a37972 1
.\${*prefix}*) #(vi
d37995 404
a38398 2
		cf_path_args="$cf_path_args $cf_temp"
	fi
d38400 3
a38402 1
IFS="$cf_save_ifs"
d38404 9
a38412 1
if test -n "$cf_path_prog" ; then
d38414 3
a38416 9
echo "${as_me-configure}:27646: testing defining path for ${cf_path_prog} ..." 1>&5

	cat >>confdefs.h <<_ACEOF
#define BZIP2_PATH "$cf_path_prog"
_ACEOF

	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define BZIP2_ARGS "$cf_path_args"
_ACEOF
d38418 13
d38433 2
d38436 3
d38440 1
a38440 10

test -z "$TAR" && TAR=tar
for ac_prog in $TAR tar pax gtar gnutar bsdtar star
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_TAR+:} false; then :
  $as_echo_n "(cached) " >&6
d38442 2
a38443 15
  case $TAR in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_TAR="$TAR" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_TAR="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
a38444 3
done
  done
IFS=$as_save_IFS
d38446 13
a38458 11
  ;;
esac
fi
TAR=$ac_cv_path_TAR
if test -n "$TAR"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $TAR" >&5
$as_echo "$TAR" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi
d38460 3
d38464 32
a38495 3
  test -n "$TAR" && break
done
test -n "$TAR" || TAR="$TAR"
d38497 3
d38501 27
a38527 43
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_TAR
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac

			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
d38529 2
a38530 1
		cf_path_args="$cf_path_args $cf_temp"
d38532 4
a38535 2
done
IFS="$cf_save_ifs"
d38537 3
a38539 1
if test -n "$cf_path_prog" ; then
d38541 10
a38550 1
echo "${as_me-configure}:27760: testing defining path for ${cf_path_prog} ..." 1>&5
d38552 14
a38565 2
	cat >>confdefs.h <<_ACEOF
#define TAR_PATH "$cf_path_prog"
d38567 26
d38594 14
a38607 2
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define TAR_ARGS "$cf_path_args"
d38609 25
a38633 1

d38636 11
d38648 41
a38688 21
case $TAR in
*pax|*pax$EXEEXT)
	TAR_UP_OPTIONS="-w"
	TAR_DOWN_OPTIONS="-r"
	TAR_PIPE_OPTIONS=""
	TAR_FILE_OPTIONS="-f"
	;;
*star|*star$EXEEXT)
	TAR_UP_OPTIONS="-c -f"
	TAR_DOWN_OPTIONS="-x -U -f"
	TAR_PIPE_OPTIONS="-"
	TAR_FILE_OPTIONS=""
	;;
*tar|*tar$EXEEXT)
	# FIXME: some versions of tar require, some don't allow the "-"
	TAR_UP_OPTIONS="-cf"
	TAR_DOWN_OPTIONS="-xf"
	TAR_PIPE_OPTIONS="-"
	TAR_FILE_OPTIONS=""
	;;
esac
d38690 4
d38695 27
d38723 11
d38735 26
d38762 11
d38774 14
a38787 2
cat >>confdefs.h <<_ACEOF
#define TAR_UP_OPTIONS "$TAR_UP_OPTIONS"
d38789 26
d38816 11
a38826 3
cat >>confdefs.h <<_ACEOF
#define TAR_DOWN_OPTIONS "$TAR_DOWN_OPTIONS"
_ACEOF
d38828 14
a38841 2
cat >>confdefs.h <<_ACEOF
#define TAR_FILE_OPTIONS "$TAR_FILE_OPTIONS"
d38843 26
d38870 2
a38871 3
cat >>confdefs.h <<_ACEOF
#define TAR_PIPE_OPTIONS "$TAR_PIPE_OPTIONS"
_ACEOF
d38873 26
d38900 11
a38910 1
if test ".$use_dired" != ".no" ; then
d38912 26
d38939 11
d38951 28
a38978 9
test -z "$COMPRESS" && COMPRESS=compress
for ac_prog in $COMPRESS compress
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_COMPRESS+:} false; then :
  $as_echo_n "(cached) " >&6
d38980 6
a38985 22
  case $COMPRESS in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_COMPRESS="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
d38987 4
a38990 7
COMPRESS=$ac_cv_path_COMPRESS
if test -n "$COMPRESS"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $COMPRESS" >&5
$as_echo "$COMPRESS" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d38993 22
d39016 11
a39026 3
  test -n "$COMPRESS" && break
done
test -n "$COMPRESS" || COMPRESS="$COMPRESS"
d39028 26
d39055 11
a39065 7
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_COMPRESS
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d39067 28
a39094 2
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
d39096 11
a39106 1
  cf_path_syntax="$ac_default_prefix"
d39109 1
a39109 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d39111 20
a39130 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d39132 11
a39142 1
if test -n "$cf_path_prog" ; then
d39144 26
a39169 1
echo "${as_me-configure}:27920: testing defining path for ${cf_path_prog} ..." 1>&5
d39171 11
a39181 3
	cat >>confdefs.h <<_ACEOF
#define COMPRESS_PATH "$cf_path_prog"
_ACEOF
d39183 14
a39196 2
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define COMPRESS_ARGS "$cf_path_args"
d39198 25
a39222 1

d39225 2
d39228 19
d39248 28
a39275 9
test -z "$RM" && RM=rm
for ac_prog in $RM rm
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_RM+:} false; then :
  $as_echo_n "(cached) " >&6
d39277 6
a39282 22
  case $RM in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_RM="$RM" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_RM="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
d39284 4
a39287 7
RM=$ac_cv_path_RM
if test -n "$RM"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $RM" >&5
$as_echo "$RM" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d39290 3
d39294 1
a39294 3
  test -n "$RM" && break
done
test -n "$RM" || RM="$RM"
d39296 3
d39300 3
a39302 7
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_RM
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d39304 5
a39308 2
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
d39310 2
a39311 1
  cf_path_syntax="$ac_default_prefix"
d39314 7
a39320 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d39322 9
a39330 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d39332 3
a39334 1
if test -n "$cf_path_prog" ; then
d39336 3
a39338 1
echo "${as_me-configure}:28033: testing defining path for ${cf_path_prog} ..." 1>&5
d39340 9
a39348 3
	cat >>confdefs.h <<_ACEOF
#define RM_PATH "$cf_path_prog"
_ACEOF
d39350 1
a39350 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define RM_ARGS "$cf_path_args"
_ACEOF
d39352 10
a39361 1
fi
d39363 2
d39366 1
d39368 3
a39370 29
test -z "$UUDECODE" && UUDECODE=uudecode
for ac_prog in $UUDECODE uudecode
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_UUDECODE+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $UUDECODE in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_UUDECODE="$UUDECODE" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_UUDECODE="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS
d39372 1
a39372 11
  ;;
esac
fi
UUDECODE=$ac_cv_path_UUDECODE
if test -n "$UUDECODE"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $UUDECODE" >&5
$as_echo "$UUDECODE" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi
d39374 1
d39376 1
a39376 3
  test -n "$UUDECODE" && break
done
test -n "$UUDECODE" || UUDECODE="$UUDECODE"
d39378 4
d39383 1
a39383 4
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_UUDECODE
d39385 7
a39391 2
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d39393 3
a39395 5
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d39397 16
a39412 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d39414 3
a39416 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d39418 13
a39430 1
if test -n "$cf_path_prog" ; then
d39432 1
a39432 1
echo "${as_me-configure}:28146: testing defining path for ${cf_path_prog} ..." 1>&5
d39434 6
a39439 3
	cat >>confdefs.h <<_ACEOF
#define UUDECODE_PATH "$cf_path_prog"
_ACEOF
d39441 1
a39441 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define UUDECODE_ARGS "$cf_path_args"
_ACEOF
d39443 1
d39446 1
d39448 2
d39451 1
a39451 29
test -z "$ZCAT" && ZCAT=zcat
for ac_prog in $ZCAT zcat
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_ZCAT+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $ZCAT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_ZCAT="$ZCAT" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_ZCAT="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS
d39453 1
a39453 10
  ;;
esac
fi
ZCAT=$ac_cv_path_ZCAT
if test -n "$ZCAT"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ZCAT" >&5
$as_echo "$ZCAT" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d39456 1
d39458 1
a39458 3
  test -n "$ZCAT" && break
done
test -n "$ZCAT" || ZCAT="$ZCAT"
d39460 1
d39462 3
a39464 7
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_ZCAT
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d39466 6
a39471 5
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d39473 1
a39473 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d39475 3
a39477 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d39479 5
a39483 1
if test -n "$cf_path_prog" ; then
d39485 3
a39487 1
echo "${as_me-configure}:28259: testing defining path for ${cf_path_prog} ..." 1>&5
d39489 1
a39489 3
	cat >>confdefs.h <<_ACEOF
#define ZCAT_PATH "$cf_path_prog"
_ACEOF
d39491 3
a39493 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define ZCAT_ARGS "$cf_path_args"
_ACEOF
d39495 1
a39495 1
fi
d39497 17
a39513 11


test -z "$ZIP" && ZIP=zip
for ac_prog in $ZIP zip
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_ZIP+:} false; then :
  $as_echo_n "(cached) " >&6
d39515 3
a39517 22
  case $ZIP in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_ZIP="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
done
  done
IFS=$as_save_IFS

  ;;
esac
d39519 1
a39519 7
ZIP=$ac_cv_path_ZIP
if test -n "$ZIP"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ZIP" >&5
$as_echo "$ZIP" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d39521 2
d39524 8
d39533 1
a39533 3
  test -n "$ZIP" && break
done
test -n "$ZIP" || ZIP="$ZIP"
d39535 2
d39538 2
a39539 7
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_ZIP
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d39541 1
a39541 5
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d39543 3
a39545 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d39547 1
a39547 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d39549 1
a39549 1
if test -n "$cf_path_prog" ; then
d39551 1
a39551 1
echo "${as_me-configure}:28372: testing defining path for ${cf_path_prog} ..." 1>&5
d39553 4
a39556 3
	cat >>confdefs.h <<_ACEOF
#define ZIP_PATH "$cf_path_prog"
_ACEOF
d39558 9
a39566 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define ZIP_ARGS "$cf_path_args"
_ACEOF
d39568 3
a39570 1
fi
d39572 16
d39589 3
a39591 5
case "$INSTALL" in
$srcdir*) # (vi
	cat >>confdefs.h <<_ACEOF
#define INSTALL_PATH "install"
_ACEOF
d39593 10
d39604 2
a39605 2
*) # (vi
	cf_save_INSTALL="$INSTALL"
d39607 1
d39609 5
a39613 26
test -z "$INSTALL" && INSTALL=install
for ac_prog in $INSTALL install
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_INSTALL+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $INSTALL in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_INSTALL="$INSTALL" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_INSTALL="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a39614 2
  done
IFS=$as_save_IFS
d39616 3
a39618 2
  ;;
esac
d39620 4
a39623 7
INSTALL=$ac_cv_path_INSTALL
if test -n "$INSTALL"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $INSTALL" >&5
$as_echo "$INSTALL" >&6; }
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d39626 1
d39628 2
a39629 3
  test -n "$INSTALL" && break
done
test -n "$INSTALL" || INSTALL="$INSTALL"
d39631 1
d39633 1
a39633 7
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR"
for cf_temp in $ac_cv_path_INSTALL
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d39635 1
a39635 5
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d39637 1
a39637 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d39639 2
a39640 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d39642 1
a39642 1
if test -n "$cf_path_prog" ; then
d39644 3
a39646 1
echo "${as_me-configure}:28495: testing defining path for ${cf_path_prog} ..." 1>&5
d39648 1
a39648 3
	cat >>confdefs.h <<_ACEOF
#define INSTALL_PATH "$cf_path_prog"
_ACEOF
d39650 1
a39650 3
	test -n "$cf_path_args" && cat >>confdefs.h <<_ACEOF
#define INSTALL_ARGS "$cf_path_args"
_ACEOF
d39652 2
a39653 1
fi
d39655 1
a39655 4
	INSTALL="$cf_save_INSTALL"
	;;
esac
fi
a39656 5
COMPRESS_PROG=
COMPRESS_EXT=
if test $use_gzip_help = yes ; then
	COMPRESS_PROG="$ac_cv_path_GZIP -9"
	COMPRESS_EXT=.gz
d39659 6
d39666 1
d39668 3
a39670 4
if test $cf_cv_screen = pdcurses ; then
	Special Libraries for PDCurses X11:
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for X" >&5
$as_echo_n "checking for X... " >&6; }
d39672 3
d39676 5
a39680 3
# Check whether --with-x was given.
if test "${with_x+set}" = set; then :
  withval=$with_x;
d39683 1
a39683 49
# $have_x is `yes', `no', `disabled', or empty when we do not yet know.
if test "x$with_x" = xno; then
  # The user explicitly disabled X.
  have_x=disabled
else
  case $x_includes,$x_libraries in #(
    *\'*) as_fn_error $? "cannot use X directory names containing '" "$LINENO" 5;; #(
    *,NONE | NONE,*) if ${ac_cv_have_x+:} false; then :
  $as_echo_n "(cached) " >&6
else
  # One or both of the vars are not set, and there is no cached value.
ac_x_includes=no ac_x_libraries=no
rm -f -r conftest.dir
if mkdir conftest.dir; then
  cd conftest.dir
  cat >Imakefile <<'_ACEOF'
incroot:
	@@echo incroot='${INCROOT}'
usrlibdir:
	@@echo usrlibdir='${USRLIBDIR}'
libdir:
	@@echo libdir='${LIBDIR}'
_ACEOF
  if (export CC; ${XMKMF-xmkmf}) >/dev/null 2>/dev/null && test -f Makefile; then
    # GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
    for ac_var in incroot usrlibdir libdir; do
      eval "ac_im_$ac_var=\`\${MAKE-make} $ac_var 2>/dev/null | sed -n 's/^$ac_var=//p'\`"
    done
    # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
    for ac_extension in a so sl dylib la dll; do
      if test ! -f "$ac_im_usrlibdir/libX11.$ac_extension" &&
	 test -f "$ac_im_libdir/libX11.$ac_extension"; then
	ac_im_usrlibdir=$ac_im_libdir; break
      fi
    done
    # Screen out bogus values from the imake configuration.  They are
    # bogus both because they are the default anyway, and because
    # using them would break gcc on systems where it needs fixed includes.
    case $ac_im_incroot in
	/usr/include) ac_x_includes= ;;
	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes=$ac_im_incroot;;
    esac
    case $ac_im_usrlibdir in
	/usr/lib | /usr/lib64 | /lib | /lib64) ;;
	*) test -d "$ac_im_usrlibdir" && ac_x_libraries=$ac_im_usrlibdir ;;
    esac
  fi
  cd ..
  rm -f -r conftest.dir
d39686 1
a39686 8
# Standard set of common directories for X headers.
# Check X11 before X11Rn because it is often a symlink to the current release.
ac_x_header_dirs='
/usr/X11/include
/usr/X11R7/include
/usr/X11R6/include
/usr/X11R5/include
/usr/X11R4/include
d39688 2
a39689 5
/usr/include/X11
/usr/include/X11R7
/usr/include/X11R6
/usr/include/X11R5
/usr/include/X11R4
d39691 1
a39691 5
/usr/local/X11/include
/usr/local/X11R7/include
/usr/local/X11R6/include
/usr/local/X11R5/include
/usr/local/X11R4/include
d39693 3
a39695 5
/usr/local/include/X11
/usr/local/include/X11R7
/usr/local/include/X11R6
/usr/local/include/X11R5
/usr/local/include/X11R4
d39697 1
a39697 3
/usr/X386/include
/usr/x386/include
/usr/XFree86/include/X11
d39699 1
a39699 6
/usr/include
/usr/local/include
/usr/unsupported/include
/usr/athena/include
/usr/local/x11r5/include
/usr/lpp/Xamples/include
d39701 1
a39701 2
/usr/openwin/include
/usr/openwin/share/include'
d39703 4
a39706 20
if test "$ac_x_includes" = no; then
  # Guess where to find include files, by looking for Xlib.h.
  # First, try using that file with no special directory specified.
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
_ACEOF
if ac_fn_c_try_cpp "$LINENO"; then :
  # We can compile using X headers with no special include directory.
ac_x_includes=
else
  for ac_dir in $ac_x_header_dirs; do
  if test -r "$ac_dir/X11/Xlib.h"; then
    ac_x_includes=$ac_dir
    break
  fi
done
fi
rm -f conftest.err conftest.i conftest.$ac_ext
fi # $ac_x_includes = no
d39708 1
a39708 24
if test "$ac_x_libraries" = no; then
  # Check for the libraries.
  # See if we find them without any special options.
  # Don't add to $LIBS permanently.
  ac_save_LIBS=$LIBS
  LIBS="-lX11 $LIBS"
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <X11/Xlib.h>
int
main ()
{
XrmInitialize ()
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  LIBS=$ac_save_LIBS
# We can link X programs with no special library path.
ac_x_libraries=
else
  LIBS=$ac_save_LIBS
for ac_dir in `$as_echo "$ac_x_includes $ac_x_header_dirs" | sed s/include/lib/g`
d39710 7
a39716 12
  # Don't even attempt the hair of trying to link an X program!
  for ac_extension in a so sl dylib la dll; do
    if test -r "$ac_dir/libX11.$ac_extension"; then
      ac_x_libraries=$ac_dir
      break 2
    fi
  done
done
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi # $ac_x_libraries = no
d39718 3
a39720 16
case $ac_x_includes,$ac_x_libraries in #(
  no,* | *,no | *\'*)
    # Didn't find X, or a directory has "'" in its name.
    ac_cv_have_x="have_x=no";; #(
  *)
    # Record where we found X for the cache.
    ac_cv_have_x="have_x=yes\
	ac_x_includes='$ac_x_includes'\
	ac_x_libraries='$ac_x_libraries'"
esac
fi
;; #(
    *) have_x=yes;;
  esac
  eval "$ac_cv_have_x"
fi # $with_x != no
d39722 16
a39737 15
if test "$have_x" != yes; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $have_x" >&5
$as_echo "$have_x" >&6; }
  no_x=yes
else
  # If each of the values was on the command line, it overrides each guess.
  test "x$x_includes" = xNONE && x_includes=$ac_x_includes
  test "x$x_libraries" = xNONE && x_libraries=$ac_x_libraries
  # Update the cache value to reflect the command line values.
  ac_cv_have_x="have_x=yes\
	ac_x_includes='$x_includes'\
	ac_x_libraries='$x_libraries'"
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: libraries $x_libraries, headers $x_includes" >&5
$as_echo "libraries $x_libraries, headers $x_includes" >&6; }
fi
d39739 3
a39741 2
if test "$no_x" = yes; then
  # Not all programs may use this symbol, but it does not hurt to define it.
d39743 13
a39755 20
$as_echo "#define X_DISPLAY_MISSING 1" >>confdefs.h

  X_CFLAGS= X_PRE_LIBS= X_LIBS= X_EXTRA_LIBS=
else
  if test -n "$x_includes"; then
    X_CFLAGS="$X_CFLAGS -I$x_includes"
  fi

  # It would also be nice to do this for all -L options, not just this one.
  if test -n "$x_libraries"; then
    X_LIBS="$X_LIBS -L$x_libraries"
    # For Solaris; some versions of Sun CC require a space after -R and
    # others require no space.  Words are not sufficient . . . .
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether -R must be followed by a space" >&5
$as_echo_n "checking whether -R must be followed by a space... " >&6; }
    ac_xsave_LIBS=$LIBS; LIBS="$LIBS -R$x_libraries"
    ac_xsave_c_werror_flag=$ac_c_werror_flag
    ac_c_werror_flag=yes
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d39757 1
a39757 3
int
main ()
{
d39759 6
a39764 12
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
       X_LIBS="$X_LIBS -R$x_libraries"
else
  LIBS="$ac_xsave_LIBS -R $x_libraries"
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d39766 1
a39766 3
int
main ()
{
d39768 1
a39768 11
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
	  X_LIBS="$X_LIBS -R $x_libraries"
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: neither works" >&5
$as_echo "neither works" >&6; }
d39770 4
a39773 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
a39774 5
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    ac_c_werror_flag=$ac_xsave_c_werror_flag
    LIBS=$ac_xsave_LIBS
  fi
d39776 1
a39776 3
  # Check for system-dependent libraries X programs must link with.
  # Do this before checking for the system-independent R6 libraries
  # (-lICE), since we may need -lsocket or whatever for X linking.
d39778 2
a39779 9
  if test "$ISC" = yes; then
    X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl_s -linet"
  else
    # Martyn Johnson says this is needed for Ultrix, if the X
    # libraries were built with DECnet support.  And Karl Berry says
    # the Alpha needs dnet_stub (dnet does not exist).
    ac_xsave_LIBS="$LIBS"; LIBS="$LIBS $X_LIBS -lX11"
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d39781 5
a39785 16
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char XOpenDisplay ();
int
main ()
{
return XOpenDisplay ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
d39787 4
a39790 5
else
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dnet_ntoa in -ldnet" >&5
$as_echo_n "checking for dnet_ntoa in -ldnet... " >&6; }
if ${ac_cv_lib_dnet_dnet_ntoa+:} false; then :
  $as_echo_n "(cached) " >&6
d39793 4
a39796 3
LIBS="-ldnet  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d39798 1
a39798 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d39802 3
a39804 1
char dnet_ntoa ();
d39808 1
a39808 1
return dnet_ntoa ();
d39813 13
a39825 2
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_dnet_dnet_ntoa=yes
d39827 3
a39829 1
  ac_cv_lib_dnet_dnet_ntoa=no
d39831 1
a39831 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d39834 101
a39934 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
$as_echo "$ac_cv_lib_dnet_dnet_ntoa" >&6; }
if test "x$ac_cv_lib_dnet_dnet_ntoa" = xyes; then :
  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet"
d39937 11
a39947 5
    if test $ac_cv_lib_dnet_dnet_ntoa = no; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for dnet_ntoa in -ldnet_stub" >&5
$as_echo_n "checking for dnet_ntoa in -ldnet_stub... " >&6; }
if ${ac_cv_lib_dnet_stub_dnet_ntoa+:} false; then :
  $as_echo_n "(cached) " >&6
a39948 4
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldnet_stub  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d39950 6
a39955 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char dnet_ntoa ();
d39959 6
a39964 1
return dnet_ntoa ();
d39969 84
a40052 14
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_dnet_stub_dnet_ntoa=yes
else
  ac_cv_lib_dnet_stub_dnet_ntoa=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
$as_echo "$ac_cv_lib_dnet_stub_dnet_ntoa" >&6; }
if test "x$ac_cv_lib_dnet_stub_dnet_ntoa" = xyes; then :
  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet_stub"
fi
d40054 13
a40066 5
    fi
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
    LIBS="$ac_xsave_LIBS"
d40068 1
a40068 10
    # msh@@cis.ufl.edu says -lnsl (and -lsocket) are needed for his 386/AT,
    # to get the SysV transport functions.
    # Chad R. Larson says the Pyramis MIS-ES running DC/OSx (SVR4)
    # needs -lnsl.
    # The nsl library prevents programs from opening the X display
    # on Irix 5.2, according to T.E. Dickey.
    # The functions gethostbyname, getservbyname, and inet_addr are
    # in -lbsd on LynxOS 3.0.1/i386, according to Lars Hecking.
    ac_fn_c_check_func "$LINENO" "gethostbyname" "ac_cv_func_gethostbyname"
if test "x$ac_cv_func_gethostbyname" = xyes; then :
d40070 6
a40075 1
fi
d40077 1
a40077 10
    if test $ac_cv_func_gethostbyname = no; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gethostbyname in -lnsl" >&5
$as_echo_n "checking for gethostbyname in -lnsl... " >&6; }
if ${ac_cv_lib_nsl_gethostbyname+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40079 1
a40079 19
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char gethostbyname ();
int
main ()
{
return gethostbyname ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_nsl_gethostbyname=yes
else
  ac_cv_lib_nsl_gethostbyname=no
d40081 4
a40084 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d40086 4
a40089 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nsl_gethostbyname" >&5
$as_echo "$ac_cv_lib_nsl_gethostbyname" >&6; }
if test "x$ac_cv_lib_nsl_gethostbyname" = xyes; then :
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl"
d40092 2
a40093 5
      if test $ac_cv_lib_nsl_gethostbyname = no; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for gethostbyname in -lbsd" >&5
$as_echo_n "checking for gethostbyname in -lbsd... " >&6; }
if ${ac_cv_lib_bsd_gethostbyname+:} false; then :
  $as_echo_n "(cached) " >&6
d40095 4
a40098 4
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lbsd  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40100 1
a40100 29
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char gethostbyname ();
int
main ()
{
return gethostbyname ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_bsd_gethostbyname=yes
else
  ac_cv_lib_bsd_gethostbyname=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_bsd_gethostbyname" >&5
$as_echo "$ac_cv_lib_bsd_gethostbyname" >&6; }
if test "x$ac_cv_lib_bsd_gethostbyname" = xyes; then :
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lbsd"
fi
d40102 2
a40103 2
      fi
    fi
d40105 1
a40105 9
    # lieder@@skyler.mavd.honeywell.com says without -lsocket,
    # socket/setsockopt and other routines are undefined under SCO ODT
    # 2.0.  But -lsocket is broken on IRIX 5.2 (and is not necessary
    # on later versions), says Simon Leinen: it contains gethostby*
    # variants that don't use the name server (or something).  -lsocket
    # must be given before -lnsl if both are needed.  We assume that
    # if connect needs -lnsl, so does gethostbyname.
    ac_fn_c_check_func "$LINENO" "connect" "ac_cv_func_connect"
if test "x$ac_cv_func_connect" = xyes; then :
d40109 8
a40116 5
    if test $ac_cv_func_connect = no; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for connect in -lsocket" >&5
$as_echo_n "checking for connect in -lsocket... " >&6; }
if ${ac_cv_lib_socket_connect+:} false; then :
  $as_echo_n "(cached) " >&6
a40117 4
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $X_EXTRA_LIBS $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40119 6
a40124 7
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char connect ();
d40128 2
a40129 1
return connect ();
d40134 117
a40250 4
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_socket_connect=yes
else
  ac_cv_lib_socket_connect=no
d40252 4
a40255 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d40257 4
a40260 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_socket_connect" >&5
$as_echo "$ac_cv_lib_socket_connect" >&6; }
if test "x$ac_cv_lib_socket_connect" = xyes; then :
  X_EXTRA_LIBS="-lsocket $X_EXTRA_LIBS"
d40263 35
a40297 1
    fi
d40299 16
a40314 3
    # Guillermo Gomez says -lposix is necessary on A/UX.
    ac_fn_c_check_func "$LINENO" "remove" "ac_cv_func_remove"
if test "x$ac_cv_func_remove" = xyes; then :
d40316 3
a40318 1
fi
d40320 13
a40332 10
    if test $ac_cv_func_remove = no; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for remove in -lposix" >&5
$as_echo_n "checking for remove in -lposix... " >&6; }
if ${ac_cv_lib_posix_remove+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lposix  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40334 1
a40334 29
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char remove ();
int
main ()
{
return remove ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_posix_remove=yes
else
  ac_cv_lib_posix_remove=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_posix_remove" >&5
$as_echo "$ac_cv_lib_posix_remove" >&6; }
if test "x$ac_cv_lib_posix_remove" = xyes; then :
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lposix"
fi
d40336 6
a40341 1
    fi
d40343 1
a40343 3
    # BSDI BSD/OS 2.1 needs -lipc for XOpenDisplay.
    ac_fn_c_check_func "$LINENO" "shmat" "ac_cv_func_shmat"
if test "x$ac_cv_func_shmat" = xyes; then :
d40345 1
d40348 1
a40348 10
    if test $ac_cv_func_shmat = no; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: checking for shmat in -lipc" >&5
$as_echo_n "checking for shmat in -lipc... " >&6; }
if ${ac_cv_lib_ipc_shmat+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lipc  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40350 1
a40350 19
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char shmat ();
int
main ()
{
return shmat ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_ipc_shmat=yes
else
  ac_cv_lib_ipc_shmat=no
d40352 4
a40355 3
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
a40356 8
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ipc_shmat" >&5
$as_echo "$ac_cv_lib_ipc_shmat" >&6; }
if test "x$ac_cv_lib_ipc_shmat" = xyes; then :
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lipc"
fi

    fi
  fi
d40358 2
a40359 13
  # Check for libraries that X11R6 Xt/Xaw programs need.
  ac_save_LDFLAGS=$LDFLAGS
  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
  # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
  # check for ICE first), but we must link in the order -lSM -lICE or
  # we get undefined symbols.  So assume we have SM if we have ICE.
  # These have to be linked with before -lX11, unlike the other
  # libraries we check for below, so use a different variable.
  # John Interrante, Karl Berry
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for IceConnectionNumber in -lICE" >&5
$as_echo_n "checking for IceConnectionNumber in -lICE... " >&6; }
if ${ac_cv_lib_ICE_IceConnectionNumber+:} false; then :
  $as_echo_n "(cached) " >&6
d40361 4
a40364 4
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lICE $X_EXTRA_LIBS $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
a40365 17
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char IceConnectionNumber ();
int
main ()
{
return IceConnectionNumber ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_ICE_IceConnectionNumber=yes
d40367 2
a40368 11
  ac_cv_lib_ICE_IceConnectionNumber=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
$as_echo "$ac_cv_lib_ICE_IceConnectionNumber" >&6; }
if test "x$ac_cv_lib_ICE_IceConnectionNumber" = xyes; then :
  X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
fi
d40370 1
a40370 1
  LDFLAGS=$ac_save_LDFLAGS
d40372 1
a40372 1
fi
d40374 2
d40377 1
d40379 1
d40381 5
d40387 1
a40387 1
# SYSTEM_NAME=`echo "$cf_cv_system_name"|tr ' ' -`
d40389 3
a40391 1
cf_have_X_LIBS=no
d40393 1
a40393 1
LDFLAGS="$X_LIBS $LDFLAGS"
d40397 1
a40397 2
echo "${as_me-configure}:29218: testing checking additions to CFLAGS ..." 1>&5

d40418 2
a40419 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d40434 10
d40459 2
a40460 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
d40468 1
a40468 2
echo "${as_me-configure}:29280: testing add to \$CFLAGS $cf_new_cflags ..." 1>&5

d40476 1
a40476 2
echo "${as_me-configure}:29289: testing add to \$CPPFLAGS $cf_new_cppflags ..." 1>&5

d40484 1
a40484 2
echo "${as_me-configure}:29298: testing add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags ..." 1>&5

a40488 3



d40490 3
a40492 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40502 13
a40514 2
if ac_fn_c_try_link "$LINENO"; then :

d40516 3
a40518 3
  test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6

echo "${as_me-configure}:29324: testing test-compile failed.  Undoing change to \$CFLAGS ..." 1>&5
d40520 1
d40525 1
a40525 2
echo "${as_me-configure}:29330: testing but keeping change to \$CPPFLAGS ..." 1>&5

d40530 1
a40530 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d40533 19
d40553 11
a40563 2
ac_fn_c_check_func "$LINENO" "XOpenDisplay" "ac_cv_func_XOpenDisplay"
if test "x$ac_cv_func_XOpenDisplay" = xyes; then :
d40565 28
d40595 4
a40598 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for XOpenDisplay in -lX11" >&5
$as_echo_n "checking for XOpenDisplay in -lX11... " >&6; }
if ${ac_cv_lib_X11_XOpenDisplay+:} false; then :
  $as_echo_n "(cached) " >&6
d40602 3
a40604 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40606 1
a40606 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d40610 2
d40616 1
a40616 1
return XOpenDisplay ();
d40621 12
a40632 1
if ac_fn_c_try_link "$LINENO"; then :
d40635 3
a40637 1
  ac_cv_lib_X11_XOpenDisplay=no
d40639 1
a40639 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d40642 3
a40644 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_X11_XOpenDisplay" >&5
$as_echo "$ac_cv_lib_X11_XOpenDisplay" >&6; }
if test "x$ac_cv_lib_X11_XOpenDisplay" = xyes; then :
d40650 19
d40670 11
a40680 2
ac_fn_c_check_func "$LINENO" "XtAppInitialize" "ac_cv_func_XtAppInitialize"
if test "x$ac_cv_func_XtAppInitialize" = xyes; then :
d40682 28
d40712 4
a40715 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for XtAppInitialize in -lXt" >&5
$as_echo_n "checking for XtAppInitialize in -lXt... " >&6; }
if ${ac_cv_lib_Xt_XtAppInitialize+:} false; then :
  $as_echo_n "(cached) " >&6
d40719 3
a40721 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40723 1
a40723 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d40727 2
d40733 1
a40733 1
return XtAppInitialize ();
d40738 12
a40749 1
if ac_fn_c_try_link "$LINENO"; then :
d40752 3
a40754 1
  ac_cv_lib_Xt_XtAppInitialize=no
d40756 1
a40756 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d40759 7
a40765 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_Xt_XtAppInitialize" >&5
$as_echo "$ac_cv_lib_Xt_XtAppInitialize" >&6; }
if test "x$ac_cv_lib_Xt_XtAppInitialize" = xyes; then :
  $as_echo "#define HAVE_LIBXT 1" >>confdefs.h
d40767 2
a40768 2
	 cf_have_X_LIBS=Xt
	 LIBS="-lXt $X_PRE_LIBS $LIBS $X_EXTRA_LIBS"
d40773 1
d40776 1
a40776 1
	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to successfully link X Toolkit library (-lXt) with
d40779 1
a40779 1
$as_echo "$as_me: WARNING: Unable to successfully link X Toolkit library (-lXt) with
a40783 101

cf_x_athena=${cf_x_athena-Xaw}

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to link with Xaw 3d library" >&5
$as_echo_n "checking if you want to link with Xaw 3d library... " >&6; }
withval=

# Check whether --with-Xaw3d was given.
if test "${with_Xaw3d+set}" = set; then :
  withval=$with_Xaw3d;
fi

if test "$withval" = yes ; then
	cf_x_athena=Xaw3d
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to link with neXT Athena library" >&5
$as_echo_n "checking if you want to link with neXT Athena library... " >&6; }
withval=

# Check whether --with-neXtaw was given.
if test "${with_neXtaw+set}" = set; then :
  withval=$with_neXtaw;
fi

if test "$withval" = yes ; then
	cf_x_athena=neXtaw
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if you want to link with Athena-Plus library" >&5
$as_echo_n "checking if you want to link with Athena-Plus library... " >&6; }
withval=

# Check whether --with-XawPlus was given.
if test "${with_XawPlus+set}" = set; then :
  withval=$with_XawPlus;
fi

if test "$withval" = yes ; then
	cf_x_athena=XawPlus
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
$as_echo "yes" >&6; }
else
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
fi

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for XextCreateExtension in -lXext" >&5
$as_echo_n "checking for XextCreateExtension in -lXext... " >&6; }
if ${ac_cv_lib_Xext_XextCreateExtension+:} false; then :
  $as_echo_n "(cached) " >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lXext  $LIBS"
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */

/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
#ifdef __cplusplus
extern "C"
#endif
char XextCreateExtension ();
int
main ()
{
return XextCreateExtension ();
  ;
  return 0;
}
_ACEOF
if ac_fn_c_try_link "$LINENO"; then :
  ac_cv_lib_Xext_XextCreateExtension=yes
else
  ac_cv_lib_Xext_XextCreateExtension=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_Xext_XextCreateExtension" >&5
$as_echo "$ac_cv_lib_Xext_XextCreateExtension" >&6; }
if test "x$ac_cv_lib_Xext_XextCreateExtension" = xyes; then :
  LIBS="-lXext $LIBS"
fi


cf_x_athena_lib=""


d40785 1
a40785 1
cf_x_athena_include=""
d40793 1
a40793 1
	if test -z "$cf_x_athena_include" ; then
d40798 2
a40799 2
			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_test in $cf_path" >&5
$as_echo_n "checking for $cf_test in $cf_path... " >&6; }
d40801 2
a40802 2
			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_test" >&5
$as_echo_n "checking for $cf_test... " >&6; }
d40804 3
a40806 2
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40818 12
a40829 1
if ac_fn_c_try_compile "$LINENO"; then :
d40832 7
a40838 5
  cf_result=no
fi
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
		{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
d40840 1
a40840 1
			cf_x_athena_include=$cf_path
d40848 5
a40852 5
if test -z "$cf_x_athena_include" ; then
	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to successfully find Athena header files with test program" >&5
$as_echo "$as_me: WARNING: Unable to successfully find Athena header files with test program" >&2;}
elif test "$cf_x_athena_include" != default ; then
	CPPFLAGS="$CPPFLAGS -I$cf_x_athena_include"
a40854 1

d40865 8
a40872 3
		"-l$cf_x_athena_root -lXmu" \
		"-l$cf_x_athena_root -lXpm -lXmu" \
		"-l${cf_x_athena_root}_s -lXmu_s"
d40878 3
a40880 3
				LIBS="-L$cf_path/lib $cf_lib $LIBS"
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_lib in $cf_path" >&5
$as_echo_n "checking for $cf_lib in $cf_path... " >&6; }
d40882 3
a40884 3
				LIBS="$cf_lib $LIBS"
				{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $cf_test in $cf_lib" >&5
$as_echo_n "checking for $cf_test in $cf_lib... " >&6; }
d40886 6
a40891 2
			cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d40896 2
a40897 1
$cf_test()
d40902 12
a40913 1
if ac_fn_c_try_link "$LINENO"; then :
d40916 7
a40922 6
  cf_result=no
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
			{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
d40924 1
a40924 1
				cf_x_athena_lib="$cf_lib"
d40929 3
a40931 1
	done
d40935 3
a40937 1
	as_fn_error $? "Unable to successfully link Athena library (-l$cf_x_athena_root) with test program" "$LINENO" 5
a40939 1

d40942 1
a40942 1
cat >>confdefs.h <<_ACEOF
d40944 1
a40944 1
_ACEOF
d40946 1
d40948 23
d40972 10
d40983 6
a40988 3


for ac_prog in xcurses-config
d40992 17
a41008 21
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
$as_echo_n "checking for $ac_word... " >&6; }
if ${ac_cv_path_XCURSES_CONFIG+:} false; then :
  $as_echo_n "(cached) " >&6
else
  case $XCURSES_CONFIG in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_XCURSES_CONFIG="$XCURSES_CONFIG" # Let the user override the test with a path.
  ;;
  *)
  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    for ac_exec_ext in '' $ac_executable_extensions; do
  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
    ac_cv_path_XCURSES_CONFIG="$as_dir/$ac_word$ac_exec_ext"
    $as_echo "$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext" >&5
    break 2
  fi
a41009 2
  done
IFS=$as_save_IFS
a41010 2
  ;;
esac
d41012 5
a41016 4
XCURSES_CONFIG=$ac_cv_path_XCURSES_CONFIG
if test -n "$XCURSES_CONFIG"; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: $XCURSES_CONFIG" >&5
$as_echo "$XCURSES_CONFIG" >&6; }
d41018 2
a41019 2
  { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
$as_echo "no" >&6; }
d41022 1
a41022 2

  test -n "$XCURSES_CONFIG" && break
d41024 1
a41024 1
test -n "$XCURSES_CONFIG" || XCURSES_CONFIG="none"
d41026 2
d41042 1
a41042 2
echo "${as_me-configure}:29739: testing checking additions to CFLAGS ..." 1>&5

d41063 2
a41064 2
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d41079 10
d41104 2
a41105 2
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
d41113 1
a41113 2
echo "${as_me-configure}:29801: testing add to \$CFLAGS $cf_new_cflags ..." 1>&5

d41121 1
a41121 2
echo "${as_me-configure}:29810: testing add to \$CPPFLAGS $cf_new_cppflags ..." 1>&5

d41129 1
a41129 2
echo "${as_me-configure}:29819: testing add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags ..." 1>&5

a41133 3



d41135 3
a41137 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41147 13
a41159 2
if ac_fn_c_try_link "$LINENO"; then :

d41161 3
a41163 3
  test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6

echo "${as_me-configure}:29845: testing test-compile failed.  Undoing change to \$CFLAGS ..." 1>&5
d41165 1
d41170 1
a41170 2
echo "${as_me-configure}:29851: testing but keeping change to \$CPPFLAGS ..." 1>&5

d41175 1
a41175 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d41178 4
a41181 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for XOpenDisplay in -lX11" >&5
$as_echo_n "checking for XOpenDisplay in -lX11... " >&6; }
if ${ac_cv_lib_X11_XOpenDisplay+:} false; then :
  $as_echo_n "(cached) " >&6
d41185 3
a41187 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41189 1
a41189 3
/* Override any GCC internal prototype to avoid an error.
   Use char because int might match the return type of a GCC
   builtin and then its argument prototype would still apply.  */
d41193 2
d41199 1
a41199 1
return XOpenDisplay ();
d41204 12
a41215 1
if ac_fn_c_try_link "$LINENO"; then :
d41218 3
a41220 1
  ac_cv_lib_X11_XOpenDisplay=no
d41222 1
a41222 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d41225 3
a41227 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_X11_XOpenDisplay" >&5
$as_echo "$ac_cv_lib_X11_XOpenDisplay" >&6; }
if test "x$ac_cv_lib_X11_XOpenDisplay" = xyes; then :
d41231 4
a41234 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for XCurses library" >&5
$as_echo_n "checking for XCurses library... " >&6; }
if ${cf_cv_lib_XCurses+:} false; then :
  $as_echo_n "(cached) " >&6
d41238 3
a41240 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41253 12
a41264 1
if ac_fn_c_try_link "$LINENO"; then :
d41267 3
a41269 1
  cf_cv_lib_XCurses=no
d41271 1
a41271 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d41274 2
a41275 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_lib_XCurses" >&5
$as_echo "$cf_cv_lib_XCurses" >&6; }
a41279 1
	$as_echo "#define UNIX 1" >>confdefs.h
d41281 50
a41330 1
	$as_echo "#define XCURSES 1" >>confdefs.h
d41332 1
a41332 1
	$as_echo "#define HAVE_XCURSES 1" >>confdefs.h
d41335 3
a41337 1
	as_fn_error $? "Cannot link with XCurses" "$LINENO" 5
d41340 2
d41344 4
a41347 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we can include termio.h with curses" >&5
$as_echo_n "checking if we can include termio.h with curses... " >&6; }
if ${cf_cv_termio_and_curses+:} false; then :
  $as_echo_n "(cached) " >&6
d41351 1
a41351 1
    CPPFLAGS="$CPPFLAGS -DHAVE_CONFIG_H -I. -I${srcdir-.} -I${srcdir-.}/src -I${srcdir-.}/WWW/Library/Implementation"
d41353 3
a41355 2
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41367 12
a41378 1
if ac_fn_c_try_compile "$LINENO"; then :
d41381 3
a41383 1
  cf_cv_termio_and_curses=no
d41385 1
a41385 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d41390 2
a41391 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_termio_and_curses" >&5
$as_echo "$cf_cv_termio_and_curses" >&6; }

test $cf_cv_termio_and_curses = yes && $as_echo "#define TERMIO_AND_CURSES 1" >>confdefs.h
d41393 4
d41402 14
a41415 7
	for ac_header in $cf_cv_screen/term.h term.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
d41417 31
a41449 1

d41452 1
d41454 4
a41457 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if curses supports alternate-character set" >&5
$as_echo_n "checking if curses supports alternate-character set... " >&6; }
if ${cf_cv_alt_char_set+:} false; then :
  $as_echo_n "(cached) " >&6
d41462 3
a41464 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41466 1
a41466 1
#include <${cf_cv_ncurses_header-curses.h}>
d41476 12
a41487 1
if ac_fn_c_try_link "$LINENO"; then :
d41491 3
a41493 1
  cf_cv_alt_char_set=no
d41495 1
a41495 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d41500 4
a41503 3
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_alt_char_set" >&5
$as_echo "$cf_cv_alt_char_set" >&6; }
test $cf_cv_alt_char_set != no && cat >>confdefs.h <<_ACEOF
d41505 1
a41505 1
_ACEOF
d41507 4
a41510 6


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if curses supports fancy attributes" >&5
$as_echo_n "checking if curses supports fancy attributes... " >&6; }
if ${cf_cv_fancy_curses+:} false; then :
  $as_echo_n "(cached) " >&6
d41513 3
a41515 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41517 1
a41517 1
#include <${cf_cv_ncurses_header-curses.h}>
d41531 12
a41542 1
if ac_fn_c_try_link "$LINENO"; then :
d41545 3
a41547 1
  cf_cv_fancy_curses=no
d41549 1
a41549 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d41553 6
a41558 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_fancy_curses" >&5
$as_echo "$cf_cv_fancy_curses" >&6; }
test $cf_cv_fancy_curses = yes && $as_echo "#define FANCY_CURSES 1" >>confdefs.h


d41560 4
a41563 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for function curses_version" >&5
$as_echo_n "checking for function curses_version... " >&6; }
if ${cf_cv_func_curses_version+:} false; then :
  $as_echo_n "(cached) " >&6
d41566 1
a41566 1
if test "$cross_compiling" = yes; then :
d41569 3
a41571 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41573 1
a41573 1
#include <${cf_cv_ncurses_header-curses.h}>
d41578 1
a41578 1
	${cf_cv_main_return-return}(0);
d41582 11
a41592 1
if ac_fn_c_try_run "$LINENO"; then :
d41596 4
a41599 1
  cf_cv_func_curses_version=no
d41602 1
a41602 2
rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
  conftest.$ac_objext conftest.beam conftest.$ac_ext
a41603 1

d41606 6
a41611 6
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_func_curses_version" >&5
$as_echo "$cf_cv_func_curses_version" >&6; }
test "$cf_cv_func_curses_version" = yes && $as_echo "#define HAVE_CURSES_VERSION 1" >>confdefs.h



d41614 4
a41617 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for obsolete/broken version of ncurses" >&5
$as_echo_n "checking for obsolete/broken version of ncurses... " >&6; }
if ${cf_cv_ncurses_broken+:} false; then :
  $as_echo_n "(cached) " >&6
d41620 3
a41622 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41624 1
a41624 1
#include <${cf_cv_ncurses_header-curses.h}>
d41639 12
a41650 1
if ac_fn_c_try_compile "$LINENO"; then :
d41653 3
a41655 1
  cf_cv_ncurses_broken=yes
d41657 1
a41657 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d41661 2
a41662 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_ncurses_broken" >&5
$as_echo "$cf_cv_ncurses_broken" >&6; }
d41664 6
a41669 3
	{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: hmm... you should get an up-to-date version of ncurses" >&5
$as_echo "$as_me: WARNING: hmm... you should get an up-to-date version of ncurses" >&2;}
	$as_echo "#define NCURSES_BROKEN 1" >>confdefs.h
d41674 4
a41677 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if curses supports color attributes" >&5
$as_echo_n "checking if curses supports color attributes... " >&6; }
if ${cf_cv_color_curses+:} false; then :
  $as_echo_n "(cached) " >&6
d41680 3
a41682 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41684 1
a41684 1
#include <${cf_cv_ncurses_header-curses.h}>
d41700 12
a41711 1
if ac_fn_c_try_link "$LINENO"; then :
d41714 3
a41716 1
  cf_cv_color_curses=no
d41718 1
a41718 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d41722 2
a41723 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_color_curses" >&5
$as_echo "$cf_cv_color_curses" >&6; }
a41724 1
	$as_echo "#define COLOR_CURSES 1" >>confdefs.h
d41726 8
a41733 1
	test ".$cf_cv_ncurses_broken" != .yes && $as_echo "#define HAVE_GETBKGD 1" >>confdefs.h
a41736 1

d41742 11
a41752 6
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
d41754 31
a41786 1

d41790 13
a41802 7
	for ac_header in sys/termio.h
do :
  as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
d41804 31
a41836 1

d41847 5
a41851 4
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking whether termios.h needs _POSIX_SOURCE" >&5
$as_echo_n "checking whether termios.h needs _POSIX_SOURCE... " >&6; }
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41861 12
a41872 1
if ac_fn_c_try_compile "$LINENO"; then :
d41875 2
d41878 3
a41880 2
		cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41892 12
a41903 1
if ac_fn_c_try_compile "$LINENO"; then :
d41906 6
a41911 1
  termios_bad=yes $as_echo "#define SVR4_TERMIO 1" >>confdefs.h
d41914 1
a41914 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d41917 3
a41919 3
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $termios_bad" >&5
$as_echo "$termios_bad" >&6; }
d41923 4
a41926 6


{ $as_echo "$as_me:${as_lineno-$LINENO}: checking declaration of size-change" >&5
$as_echo_n "checking declaration of size-change... " >&6; }
if ${cf_cv_sizechange+:} false; then :
  $as_echo_n "(cached) " >&6
d41937 3
a41939 2
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d41981 12
a41992 1
if ac_fn_c_try_compile "$LINENO"; then :
d41995 3
a41997 1
  cf_cv_sizechange=no
d41999 1
a41999 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d42010 2
a42011 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_sizechange" >&5
$as_echo "$cf_cv_sizechange" >&6; }
d42013 4
a42016 1
	$as_echo "#define HAVE_SIZECHANGE 1" >>confdefs.h
d42020 1
a42020 1
		cat >>confdefs.h <<_ACEOF
d42022 1
a42022 1
_ACEOF
d42028 4
a42031 5

{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if ttytype is declared in curses library" >&5
$as_echo_n "checking if ttytype is declared in curses library... " >&6; }
if ${cf_cv_have_ttytype+:} false; then :
  $as_echo_n "(cached) " >&6
d42034 4
a42037 3
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
#include <${cf_cv_ncurses_header-curses.h}>
d42046 12
a42057 1
if ac_fn_c_try_link "$LINENO"; then :
d42060 3
a42062 1
  cf_cv_have_ttytype=no
d42064 1
a42064 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d42068 6
a42073 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_have_ttytype" >&5
$as_echo "$cf_cv_have_ttytype" >&6; }
test $cf_cv_have_ttytype = yes && $as_echo "#define HAVE_TTYTYPE 1" >>confdefs.h

d42077 4
a42080 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if curses supports wide characters" >&5
$as_echo_n "checking if curses supports wide characters... " >&6; }
if ${cf_cv_widec_curses+:} false; then :
  $as_echo_n "(cached) " >&6
d42083 3
a42085 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d42088 1
a42088 1
#include <${cf_cv_ncurses_header-curses.h}>
d42102 12
a42113 1
if ac_fn_c_try_link "$LINENO"; then :
d42116 3
a42118 1
  cf_cv_widec_curses=no
d42120 1
a42120 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d42123 2
a42124 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_widec_curses" >&5
$as_echo "$cf_cv_widec_curses" >&6; }
a42126 1
	$as_echo "#define WIDEC_CURSES 1" >>confdefs.h
d42128 3
d42133 4
a42136 4
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we must include wchar.h to declare mbstate_t" >&5
$as_echo_n "checking if we must include wchar.h to declare mbstate_t... " >&6; }
if ${cf_cv_widec_mbstate+:} false; then :
  $as_echo_n "(cached) " >&6
d42139 3
a42141 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d42144 1
a42144 1
#include <${cf_cv_ncurses_header-curses.h}>
d42153 12
a42164 1
if ac_fn_c_try_compile "$LINENO"; then :
d42167 5
a42171 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d42175 1
a42175 1
#include <${cf_cv_ncurses_header-curses.h}>
d42184 12
a42195 1
if ac_fn_c_try_compile "$LINENO"; then :
d42198 3
a42200 1
  cf_cv_widec_mbstate=unknown
d42202 1
a42202 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d42204 1
a42204 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d42206 2
a42207 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_widec_mbstate" >&5
$as_echo "$cf_cv_widec_mbstate" >&6; }
d42210 4
a42213 1
	$as_echo "#define NEED_WCHAR_H 1" >>confdefs.h
d42218 4
a42221 1
	$as_echo "#define HAVE_MBSTATE_T 1" >>confdefs.h
d42229 4
a42232 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking if we must define _XOPEN_SOURCE_EXTENDED" >&5
$as_echo_n "checking if we must define _XOPEN_SOURCE_EXTENDED... " >&6; }
if ${cf_cv_need_xopen_extension+:} false; then :
  $as_echo_n "(cached) " >&6
d42235 3
a42237 2
cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d42240 1
a42240 1
#include <${cf_cv_ncurses_header-curses.h}>
d42245 5
d42257 12
a42268 1
if ac_fn_c_try_link "$LINENO"; then :
d42271 5
a42275 2
  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d42279 1
a42279 1
#include <${cf_cv_ncurses_header-curses.h}>
d42284 4
d42295 162
a42456 2
if ac_fn_c_try_link "$LINENO"; then :
  cf_cv_need_xopen_extension=yes
a42457 11
  cf_cv_need_xopen_extension=unknown
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
fi
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_need_xopen_extension" >&5
$as_echo "$cf_cv_need_xopen_extension" >&6; }
test $cf_cv_need_xopen_extension = yes && CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE_EXTENDED"
d42459 2
d42462 1
a42462 5
{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for term.h" >&5
$as_echo_n "checking for term.h... " >&6; }
if ${cf_cv_term_header+:} false; then :
  $as_echo_n "(cached) " >&6
else
d42464 6
d42471 1
a42471 5
# If we found <ncurses/curses.h>, look for <ncurses/term.h>, but always look
# for <term.h> if we do not find the variant.
for cf_header in \
	`echo ${cf_cv_ncurses_header-curses.h} | sed -e 's%/.*%/%'`term.h \
	term.h
d42473 3
a42475 2
	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d42477 1
a42477 1
#include <${cf_cv_ncurses_header-curses.h}>
d42487 13
a42499 2
if ac_fn_c_try_compile "$LINENO"; then :
  cf_cv_term_header=$cf_header
d42502 3
a42504 1
  cf_cv_term_header=no
d42506 1
a42506 1
rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
d42510 12
a42521 2
{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_cv_term_header" >&5
$as_echo "$cf_cv_term_header" >&6; }
d42523 3
a42525 3
case $cf_cv_term_header in #(vi
term.h) #(vi
	$as_echo "#define HAVE_TERM_H 1" >>confdefs.h
d42528 5
a42532 2
ncurses/term.h)
	$as_echo "#define HAVE_NCURSES_TERM_H 1" >>confdefs.h
d42535 5
a42539 2
ncursesw/term.h)
	$as_echo "#define HAVE_NCURSESW_TERM_H 1" >>confdefs.h
a42543 3



d42571 2
a42572 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ${cf_func}" >&5
$as_echo_n "checking for ${cf_func}... " >&6; }
d42574 1
a42574 1
echo "${as_me-configure}:30673: testing ${cf_func} ..." 1>&5
d42576 2
a42577 2
	if eval \${cf_cv_func_$cf_func+:} false; then :
  $as_echo_n "(cached) " >&6
d42582 3
a42584 2
			cat confdefs.h - <<_ACEOF >conftest.$ac_ext
/* end confdefs.h.  */
d42590 1
a42590 1
#include <${cf_cv_ncurses_header-curses.h}>
d42593 1
a42593 2
#else
#if defined(NCURSES_VERSION) && defined(HAVE_NCURSES_TERM_H)
d42595 1
a42595 2
#else
#ifdef HAVE_TERM_H
d42599 1
a42599 2
#endif
#endif
d42606 2
a42607 1
${cf_cv_main_return-return}(foo == 0);
d42614 12
a42625 1
if ac_fn_c_try_link "$LINENO"; then :
d42628 3
a42630 1
  cf_result=no
d42632 1
a42632 2
rm -f core conftest.err conftest.$ac_objext \
    conftest$ac_exeext conftest.$ac_ext
d42640 2
a42641 2
	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: $cf_result" >&5
$as_echo "$cf_result" >&6; }
d42643 1
a42643 1
		cat >>confdefs.h <<_ACEOF
d42645 1
a42645 1
_ACEOF
d42650 1
a42650 1
	for ac_func in \
d42654 37
a42690 6
do :
  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
  cat >>confdefs.h <<_ACEOF
#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
d42692 26
d42726 3
a42728 1
		as_fn_error $? "Configuration does not support color-styles" "$LINENO" 5
d42731 3
a42733 1
		as_fn_error $? "Configuration does not support color-styles" "$LINENO" 5
d42739 20
a42758 2
		{ $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Configuration does not support ACS_xxx definitions" >&5
$as_echo "$as_me: WARNING: Configuration does not support ACS_xxx definitions" >&2;}
d42760 190
a42949 1
		$as_echo "#define USE_SCROLLBAR 1" >>confdefs.h
d42951 8
d42960 122
a43086 1

d43092 3
a43094 3
	$CONFIG_SHELL $MKINSTALLDIRS WWW/Library/Implementation
	$CONFIG_SHELL $MKINSTALLDIRS src/chrtrans
	test "$USE_INCLUDED_LIBINTL" = yes && $CONFIG_SHELL $MKINSTALLDIRS intl
a43097 1

a43098 1

a43099 1

d43110 1
a43110 1
# `ac_cv_env_foo' variables (set or unset) will be overridden when
d43118 1
a43118 1
# So, we kill variables containing newlines.
d43121 1
a43121 17
(
  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
    eval ac_val=\$$ac_var
    case $ac_val in #(
    *${as_nl}*)
      case $ac_var in #(
      *_cv_*) { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline" >&5
$as_echo "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
      esac
      case $ac_var in #(
      _ | IFS | as_nl) ;; #(
      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(
      *) { eval $ac_var=; unset $ac_var;} ;;
      esac ;;
    esac
  done

d43123 4
a43126 4
    case $as_nl`(ac_space=' '; set) 2>&1` in #(
    *${as_nl}ac_space=\ *)
      # `set' does not quote correctly, so add quotes: double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \.
d43128 3
a43130 3
	"s/'/'\\\\''/g;
	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;; #(
d43133 2
a43134 1
      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
d43136 2
a43137 3
    esac |
    sort
) |
a43138 1
     /^ac_cv_env_/b end
d43140 1
a43140 1
     :clear
d43143 6
a43148 19
     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     :end' >>confcache
if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
  if test -w "$cache_file"; then
    if test "x$cache_file" != "x/dev/null"; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: updating cache $cache_file" >&5
$as_echo "$as_me: updating cache $cache_file" >&6;}
      if test ! -f "$cache_file" || test -h "$cache_file"; then
	cat confcache >"$cache_file"
      else
        case $cache_file in #(
        */* | ?:*)
	  mv -f confcache "$cache_file"$$ &&
	  mv -f "$cache_file"$$ "$cache_file" ;; #(
        *)
	  mv -f confcache "$cache_file" ;;
	esac
      fi
    fi
d43150 1
a43150 2
    { $as_echo "$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file" >&5
$as_echo "$as_me: not updating unwritable cache $cache_file" >&6;}
d43159 15
d43176 1
a43176 20
ac_libobjs=
ac_ltlibobjs=
U=
for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
  # 1. Remove the extension, and $U if already installed.
  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
  ac_i=`$as_echo "$ac_i" | sed "$ac_script"`
  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
  #    will be set to the directory where LIBOBJS objects are built.
  as_fn_append ac_libobjs " \${LIBOBJDIR}$ac_i\$U.$ac_objext"
  as_fn_append ac_ltlibobjs " \${LIBOBJDIR}$ac_i"'$U.lo'
done
LIBOBJS=$ac_libobjs

LTLIBOBJS=$ac_ltlibobjs



: "${CONFIG_STATUS=./config.status}"
ac_write_fail=0
d43179 3
a43181 4
{ $as_echo "$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS" >&5
$as_echo "$as_me: creating $CONFIG_STATUS" >&6;}
as_write_fail=0
cat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1
d43183 1
a43183 1
# Generated by $as_me.
a43188 3
ac_cs_recheck=false
ac_cs_silent=false

d43190 1
a43190 24
export SHELL
_ASEOF
cat >>$CONFIG_STATUS <<\_ASEOF || as_write_fail=1
## -------------------- ##
## M4sh Initialization. ##
## -------------------- ##

# Be more Bourne compatible
DUALCASE=1; export DUALCASE # for MKS sh
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then :
  emulate sh
  NULLCMD=:
  # Pre-4.2 versions of Zsh do word splitting on ${1+"$@@"}, which
  # is contrary to our usage.  Disable this feature.
  alias -g '${1+"$@@"}'='"$@@"'
  setopt NO_GLOB_SUBST
else
  case `(set -o) 2>/dev/null` in #(
  *posix*) :
    set -o posix ;; #(
  *) :
     ;;
esac
fi
d43192 1
d43194 8
a43201 179
as_nl='
'
export as_nl
# Printing a long string crashes Solaris 7 /usr/bin/printf.
as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo
as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo
# Prefer a ksh shell builtin over an external printf program on Solaris,
# but without wasting forks for bash or zsh.
if test -z "$BASH_VERSION$ZSH_VERSION" \
    && (test "X`print -r -- $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='print -r --'
  as_echo_n='print -rn --'
elif (test "X`printf %s $as_echo`" = "X$as_echo") 2>/dev/null; then
  as_echo='printf %s\n'
  as_echo_n='printf %s'
else
  if test "X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`" = "X-n $as_echo"; then
    as_echo_body='eval /usr/ucb/echo -n "$1$as_nl"'
    as_echo_n='/usr/ucb/echo -n'
  else
    as_echo_body='eval expr "X$1" : "X\\(.*\\)"'
    as_echo_n_body='eval
      arg=$1;
      case $arg in #(
      *"$as_nl"*)
	expr "X$arg" : "X\\(.*\\)$as_nl";
	arg=`expr "X$arg" : ".*$as_nl\\(.*\\)"`;;
      esac;
      expr "X$arg" : "X\\(.*\\)" | tr -d "$as_nl"
    '
    export as_echo_n_body
    as_echo_n='sh -c $as_echo_n_body as_echo'
  fi
  export as_echo_body
  as_echo='sh -c $as_echo_body as_echo'
fi

# The user is always right.
if test "${PATH_SEPARATOR+set}" != set; then
  PATH_SEPARATOR=:
  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||
      PATH_SEPARATOR=';'
  }
fi


# IFS
# We need space, tab and new line, in precisely that order.  Quoting is
# there to prevent editors from complaining about space-tab.
# (If _AS_PATH_WALK were called with IFS unset, it would disable word
# splitting by setting IFS to empty value.)
IFS=" ""	$as_nl"

# Find who we are.  Look in the path if we contain no directory separator.
as_myself=
case $0 in #((
  *[\\/]* ) as_myself=$0 ;;
  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
for as_dir in $PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" && as_dir=.
    test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
  done
IFS=$as_save_IFS

     ;;
esac
# We did not find ourselves, most probably we were run as `sh COMMAND'
# in which case we are not to be found in the path.
if test "x$as_myself" = x; then
  as_myself=$0
fi
if test ! -f "$as_myself"; then
  $as_echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
  exit 1
fi

# Unset variables that we do not need and which cause bugs (e.g. in
# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the "|| exit 1"
# suppresses any "Segmentation fault" message there.  '((' could
# trigger a bug in pdksh 5.2.14.
for as_var in BASH_ENV ENV MAIL MAILPATH
do eval test x\${$as_var+set} = xset \
  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :
done
PS1='$ '
PS2='> '
PS4='+ '

# NLS nuisances.
LC_ALL=C
export LC_ALL
LANGUAGE=C
export LANGUAGE

# CDPATH.
(unset CDPATH) >/dev/null 2>&1 && unset CDPATH


# as_fn_error STATUS ERROR [LINENO LOG_FD]
# ----------------------------------------
# Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
# provided, also output the error to LOG_FD, referencing LINENO. Then exit the
# script with STATUS, using 1 if that was 0.
as_fn_error ()
{
  as_status=$1; test $as_status -eq 0 && as_status=1
  if test "$4"; then
    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
  fi
  $as_echo "$as_me: error: $2" >&2
  as_fn_exit $as_status
} # as_fn_error


# as_fn_set_status STATUS
# -----------------------
# Set $? to STATUS, without forking.
as_fn_set_status ()
{
  return $1
} # as_fn_set_status

# as_fn_exit STATUS
# -----------------
# Exit the shell with STATUS, even in a "trap 0" or "set -e" context.
as_fn_exit ()
{
  set +e
  as_fn_set_status $1
  exit $1
} # as_fn_exit

# as_fn_unset VAR
# ---------------
# Portably unset VAR.
as_fn_unset ()
{
  { eval $1=; unset $1;}
}
as_unset=as_fn_unset
# as_fn_append VAR VALUE
# ----------------------
# Append the text in VALUE to the end of the definition contained in VAR. Take
# advantage of any shell optimizations that allow amortized linear growth over
# repeated appends, instead of the typical quadratic growth present in naive
# implementations.
if (eval "as_var=1; as_var+=2; test x\$as_var = x12") 2>/dev/null; then :
  eval 'as_fn_append ()
  {
    eval $1+=\$2
  }'
else
  as_fn_append ()
  {
    eval $1=\$$1\$2
  }
fi # as_fn_append

# as_fn_arith ARG...
# ------------------
# Perform arithmetic evaluation on the ARGs, and store the result in the
# global $as_val. Take advantage of shells that can avoid forks. The arguments
# must be portable across $(()) and expr.
if (eval "test \$(( 1 + 1 )) = 2") 2>/dev/null; then :
  eval 'as_fn_arith ()
  {
    as_val=$(( $* ))
  }'
else
  as_fn_arith ()
  {
    as_val=`expr "$@@" || test $? -eq 1`
  }
fi # as_fn_arith
d43203 2
d43206 1
a43206 2
if expr a : '\(a\)' >/dev/null 2>&1 &&
   test "X`expr 00001 : '.*\(...\)'`" = X001; then
a43211 51
if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
  as_basename=basename
else
  as_basename=false
fi

if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
  as_dirname=dirname
else
  as_dirname=false
fi

as_me=`$as_basename -- "$0" ||
$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
	 X"$0" : 'X\(//\)$' \| \
	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X/"$0" |
    sed '/^.*\/\([^/][^/]*\)\/*$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\/\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`

# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits

ECHO_C= ECHO_N= ECHO_T=
case `echo -n x` in #(((((
-n*)
  case `echo 'xy\c'` in
  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
  xy)  ECHO_C='\c';;
  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null
       ECHO_T='	';;
  esac;;
*)
  ECHO_N='-n';;
esac

d43213 8
a43220 8
if test -d conf$$.dir; then
  rm -f conf$$.dir/conf$$.file
else
  rm -f conf$$.dir
  mkdir conf$$.dir 2>/dev/null
fi
if (echo >conf$$.file) 2>/dev/null; then
  if ln -s conf$$.file conf$$ 2>/dev/null; then
a43221 10
    # ... but there are two gotchas:
    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
    # In both cases, we have to default to `cp -p'.
    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
      as_ln_s='cp -p'
  elif ln conf$$.file conf$$ 2>/dev/null; then
    as_ln_s=ln
  else
    as_ln_s='cp -p'
d43223 2
d43228 1
a43228 48
rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
rmdir conf$$.dir 2>/dev/null


# as_fn_mkdir_p
# -------------
# Create "$as_dir" as a directory, including parents if necessary.
as_fn_mkdir_p ()
{

  case $as_dir in #(
  -*) as_dir=./$as_dir;;
  esac
  test -d "$as_dir" || eval $as_mkdir_p || {
    as_dirs=
    while :; do
      case $as_dir in #(
      *\'*) as_qdir=`$as_echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #'(
      *) as_qdir=$as_dir;;
      esac
      as_dirs="'$as_qdir' $as_dirs"
      as_dir=`$as_dirname -- "$as_dir" ||
$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$as_dir" : 'X\(//\)[^/]' \| \
	 X"$as_dir" : 'X\(//\)$' \| \
	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$as_dir" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
      test -d "$as_dir" && break
    done
    test -z "$as_dirs" || eval "mkdir $as_dirs"
  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
d43230 1
d43232 3
a43234 3
} # as_fn_mkdir_p
if mkdir -p . 2>/dev/null; then
  as_mkdir_p='mkdir -p "$as_dir"'
d43236 1
a43236 2
  test -d ./-p && rmdir ./-p
  as_mkdir_p=false
d43239 9
a43247 22
if test -x / >/dev/null 2>&1; then
  as_test_x='test -x'
else
  if ls -dL / >/dev/null 2>&1; then
    as_ls_L_option=L
  else
    as_ls_L_option=
  fi
  as_test_x='
    eval sh -c '\''
      if test -d "$1"; then
	test -d "$1/.";
      else
	case $1 in #(
	-*)set "./$1";;
	esac;
	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in #((
	???[sx]*):;;*)false;;esac;fi
    '\'' sh
  '
fi
as_executable_p=$as_test_x
d43249 5
a43253 5
# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"

# Sed expression to map a string onto a valid variable name.
as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
d43255 2
a43258 22
## ----------------------------------- ##
## Main body of $CONFIG_STATUS script. ##
## ----------------------------------- ##
_ASEOF
test $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# Save the log message, to keep $0 and so on meaningful, and to
# report actual input values of CONFIG_FILES etc. instead of their
# values after options handling.
ac_log="
This file was extended by $as_me, which was
generated by GNU Autoconf 2.68.  Invocation command line was

  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  $ $0 $@@

on `(hostname || uname -n) 2>/dev/null | sed 1q`
"
d43262 4
a43265 3
case $ac_config_files in *"
"*) set x $ac_config_files; shift; ac_config_files=$*;;
esac
d43267 3
a43269 3
case $ac_config_headers in *"
"*) set x $ac_config_headers; shift; ac_config_headers=$*;;
esac
d43271 3
d43275 3
a43277 5
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
# Files that config.status was made for.
config_files="$ac_config_files"
config_headers="$ac_config_headers"
config_commands="$ac_config_commands"
d43279 1
a43279 1
_ACEOF
a43280 1
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
d43282 2
a43283 3
\`$as_me' instantiates files and other configuration actions
from templates according to the current configuration.  Unless the files
and actions are specified as TAGs, all are instantiated by default.
d43285 1
a43285 1
Usage: $0 [OPTION]... [TAG]...
d43288 1
a43288 4
  -V, --version    print version number and configuration settings, then exit
      --config     print configuration, then exit
  -q, --quiet, --silent
                   do not print progress messages
d43291 1
a43291 1
      --file=FILE[:TEMPLATE]
d43293 1
a43293 1
      --header=FILE[:TEMPLATE]
d43305 2
a43306 1
Report bugs to the package provider."
d43308 1
a43308 3
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
d43311 2
a43312 2
configured by $0, generated by GNU Autoconf 2.68,
  with options \\"\$ac_cs_config\\"
d43314 2
a43315 1
Copyright (C) 2010 Free Software Foundation, Inc.
d43318 3
d43322 3
a43324 8
ac_pwd='$ac_pwd'
srcdir='$srcdir'
INSTALL='$INSTALL'
test -n "\$AWK" || AWK=awk
_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# The default lists apply if the user does not specify any file.
d43329 6
a43334 14
  --*=?*)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
    ac_shift=:
    ;;
  --*=)
    ac_option=`expr "X$1" : 'X\([^=]*\)='`
    ac_optarg=
    ac_shift=:
    ;;
  *)
    ac_option=$1
    ac_optarg=$2
    ac_shift=shift
d43336 4
d43342 1
a43342 1
  case $ac_option in
d43344 2
d43347 16
a43362 6
    ac_cs_recheck=: ;;
  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
    $as_echo "$ac_cs_version"; exit ;;
  --config | --confi | --conf | --con | --co | --c )
    $as_echo "$ac_cs_config"; exit ;;
  --debug | --debu | --deb | --de | --d | -d )
d43365 2
a43366 6
    $ac_shift
    case $ac_optarg in
    *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
    '') as_fn_error $? "missing file argument" ;;
    esac
    as_fn_append CONFIG_FILES " '$ac_optarg'"
d43369 2
a43370 5
    $ac_shift
    case $ac_optarg in
    *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
    esac
    as_fn_append CONFIG_HEADERS " '$ac_optarg'"
a43371 9
  --he | --h)
    # Conflict between --help and --header
    as_fn_error $? "ambiguous option: \`$1'
Try \`$0 --help' for more information.";;
  --help | --hel | -h )
    $as_echo "$ac_cs_usage"; exit ;;
  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil | --si | --s)
    ac_cs_silent=: ;;
d43374 5
a43378 2
  -*) as_fn_error $? "unrecognized option: \`$1'
Try \`$0 --help' for more information." ;;
d43380 1
a43380 2
  *) as_fn_append ac_config_targets " $1"
     ac_need_defaults=false ;;
d43386 2
a43387 1
ac_configure_extra_args=
d43389 3
a43391 4
if $ac_cs_silent; then
  exec 6>/dev/null
  ac_configure_extra_args="$ac_configure_extra_args --silent"
fi
d43393 7
a43399 10
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
if \$ac_cs_recheck; then
  set X '$SHELL' '$0' $ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
  shift
  \$as_echo "running CONFIG_SHELL=$SHELL \$*" >&6
  CONFIG_SHELL='$SHELL'
  export CONFIG_SHELL
  exec "\$@@"
fi
d43402 1
a43402 9
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
exec 5>>config.log
{
  echo
  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
## Running $as_me. ##
_ASBOX
  $as_echo "$ac_log"
} >&5
d43404 1
a43404 2
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
d43406 1
a43406 1
# INIT-COMMANDS
a43408 1

d43412 1
d43414 1
a43414 6

_ACEOF

cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1

# Handling of arguments.
d43417 13
a43429 11
  case $ac_config_target in
    "$CONFIG_H") CONFIG_HEADERS="$CONFIG_HEADERS $CONFIG_H:config.hin" ;;
    "default-1") CONFIG_COMMANDS="$CONFIG_COMMANDS default-1" ;;
    "makefile") CONFIG_FILES="$CONFIG_FILES makefile" ;;
    "WWW/Library/Implementation/makefile") CONFIG_FILES="$CONFIG_FILES WWW/Library/Implementation/makefile" ;;
    "src/makefile") CONFIG_FILES="$CONFIG_FILES src/makefile" ;;
    "src/chrtrans/makefile") CONFIG_FILES="$CONFIG_FILES src/chrtrans/makefile" ;;
    "$SUB_MAKEFILE") CONFIG_FILES="$CONFIG_FILES $SUB_MAKEFILE" ;;
    "default") CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;

  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
a43432 1

d43443 1
a43443 6
# Have a temporary directory for convenience.  Make it in the build tree
# simply because there is no reason against having it here, and in addition,
# creating and moving files from /tmp can sometimes cause problems.
# Hook for its removal unless debugging.
# Note that there is a small window in which the directory will not be cleaned:
# after its creation but before its name has been assigned to `$tmp'.
d43446 2
a43447 6
  tmp= ac_tmp=
  trap 'exit_status=$?
  : "${ac_tmp:=$tmp}"
  { test ! -d "$ac_tmp" || rm -fr "$ac_tmp"; } && exit $exit_status
' 0
  trap 'as_fn_exit 1' 1 2 13 15
d43449 1
d43451 1
a43451 1

d43453 2
a43454 2
  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
  test -d "$tmp"
d43457 7
a43463 4
  tmp=./conf$$-$RANDOM
  (umask 077 && mkdir "$tmp")
} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
ac_tmp=$tmp
d43465 1
a43465 4
# Set up the scripts for CONFIG_FILES section.
# No need to generate them if there are no CONFIG_FILES.
# This happens for instance with `./config.status config.h'.
if test -n "$CONFIG_FILES"; then
d43467 1
d43469 3
a43471 13
ac_cr=`echo X | tr X '\015'`
# On cygwin, bash can eat \r inside `` if the user requested igncr.
# But we know of no other shell where ac_cr would be empty at this
# point, so we can use a bashism as a fallback.
if test "x$ac_cr" = x; then
  eval ac_cr=\$\'\\r\'
fi
ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
  ac_cs_awk_cr='\\r'
else
  ac_cs_awk_cr=$ac_cr
fi
d43473 175
a43647 2
echo 'BEGIN {' >"$ac_tmp/subs1.awk" &&
_ACEOF
d43649 1
d43651 36
a43686 19
{
  echo "cat >conf$$subs.awk <<_ACEOF" &&
  echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
  echo "_ACEOF"
} >conf$$subs.sh ||
  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
ac_delim='%!_!# '
for ac_last_try in false false false false false :; do
  . ./conf$$subs.sh ||
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5

  ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
  if test $ac_delim_n = $ac_delim_num; then
    break
  elif $ac_last_try; then
    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
d43688 1
a43688 2
done
rm -f conf$$subs.sh
d43690 13
a43702 70
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
cat >>"\$ac_tmp/subs1.awk" <<\\_ACAWK &&
_ACEOF
sed -n '
h
s/^/S["/; s/!.*/"]=/
p
g
s/^[^!]*!//
:repl
t repl
s/'"$ac_delim"'$//
t delim
:nl
h
s/\(.\{148\}\)..*/\1/
t more1
s/["\\]/\\&/g; s/^/"/; s/$/\\n"\\/
p
n
b repl
:more1
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t nl
:delim
h
s/\(.\{148\}\)..*/\1/
t more2
s/["\\]/\\&/g; s/^/"/; s/$/"/
p
b
:more2
s/["\\]/\\&/g; s/^/"/; s/$/"\\/
p
g
s/.\{148\}//
t delim
' <conf$$subs.awk | sed '
/^[^""]/{
  N
  s/\n//
}
' >>$CONFIG_STATUS || ac_write_fail=1
rm -f conf$$subs.awk
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
_ACAWK
cat >>"\$ac_tmp/subs1.awk" <<_ACAWK &&
  for (key in S) S_is_set[key] = 1
  FS = ""

}
{
  line = $ 0
  nfields = split(line, field, "@@")
  substed = 0
  len = length(field[1])
  for (i = 2; i < nfields; i++) {
    key = field[i]
    keylen = length(key)
    if (S_is_set[key]) {
      value = S[key]
      line = substr(line, 1, len) "" value "" substr(line, len + keylen + 3)
      len += length(value) + length(field[++i])
      substed = 1
    } else
      len += 1 + keylen
  }
d43704 28
a43731 2
  print line
}
d43733 6
a43738 10
_ACAWK
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
  sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
else
  cat
fi < "$ac_tmp/subs1.awk" > "$ac_tmp/subs.awk" \
  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
_ACEOF
d43740 14
a43753 22
# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
# ${srcdir} and @@srcdir@@ entries from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
h
s///
s/^/:/
s/[	 ]*$/:/
s/:\$(srcdir):/:/g
s/:\${srcdir}:/:/g
s/:@@srcdir@@:/:/g
s/^:*//
s/:*$//
x
s/\(=[	 ]*\).*/\1/
G
s/\n//
s/^[^=]*=[	 ]*$//
}'
fi
d43755 4
a43758 2
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
fi # test -n "$CONFIG_FILES"
d43760 64
a43823 23
# Set up the scripts for CONFIG_HEADERS section.
# No need to generate them if there are no CONFIG_HEADERS.
# This happens for instance with `./config.status Makefile'.
if test -n "$CONFIG_HEADERS"; then
cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
BEGIN {
_ACEOF

# Transform confdefs.h into an awk script `defines.awk', embedded as
# here-document in config.status, that substitutes the proper values into
# config.h.in to produce config.h.

# Create a delimiter string that does not exist in confdefs.h, to ease
# handling of long lines.
ac_delim='%!_!# '
for ac_last_try in false false :; do
  ac_tt=`sed -n "/$ac_delim/p" confdefs.h`
  if test -z "$ac_tt"; then
    break
  elif $ac_last_try; then
    as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
  else
    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
a43824 1
done
d43826 3
a43828 81
# For the awk script, D is an array of macro values keyed by name,
# likewise P contains macro parameters if any.  Preserve backslash
# newline sequences.

ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*
sed -n '
s/.\{148\}/&'"$ac_delim"'/g
t rset
:rset
s/^[	 ]*#[	 ]*define[	 ][	 ]*/ /
t def
d
:def
s/\\$//
t bsnl
s/["\\]/\\&/g
s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
D["\1"]=" \3"/p
s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2"/p
d
:bsnl
s/["\\]/\\&/g
s/^ \('"$ac_word_re"'\)\(([^()]*)\)[	 ]*\(.*\)/P["\1"]="\2"\
D["\1"]=" \3\\\\\\n"\\/p
t cont
s/^ \('"$ac_word_re"'\)[	 ]*\(.*\)/D["\1"]=" \2\\\\\\n"\\/p
t cont
d
:cont
n
s/.\{148\}/&'"$ac_delim"'/g
t clear
:clear
s/\\$//
t bsnlc
s/["\\]/\\&/g; s/^/"/; s/$/"/p
d
:bsnlc
s/["\\]/\\&/g; s/^/"/; s/$/\\\\\\n"\\/p
b cont
' <confdefs.h | sed '
s/'"$ac_delim"'/"\\\
"/g' >>$CONFIG_STATUS || ac_write_fail=1

cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  for (key in D) D_is_set[key] = 1
  FS = ""
}
/^[\t ]*#[\t ]*(define|undef)[\t ]+$ac_word_re([\t (]|\$)/ {
  line = \$ 0
  split(line, arg, " ")
  if (arg[1] == "#") {
    defundef = arg[2]
    mac1 = arg[3]
  } else {
    defundef = substr(arg[1], 2)
    mac1 = arg[2]
  }
  split(mac1, mac2, "(") #)
  macro = mac2[1]
  prefix = substr(line, 1, index(line, defundef) - 1)
  if (D_is_set[macro]) {
    # Preserve the white space surrounding the "#".
    print prefix "define", macro P[macro] D[macro]
    next
  } else {
    # Replace #undef with comments.  This is necessary, for example,
    # in the case of _POSIX_SOURCE, which is predefined and required
    # on some systems where configure will not decide to define it.
    if (defundef == "undef") {
      print "/*", prefix defundef, macro, "*/"
      next
    }
  }
}
{ print }
_ACAWK
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
  as_fn_error $? "could not setup config headers machinery" "$LINENO" 5
fi # test -n "$CONFIG_HEADERS"
d43830 16
d43847 1
a43847 26
eval set X "  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS"
shift
for ac_tag
do
  case $ac_tag in
  :[FHLC]) ac_mode=$ac_tag; continue;;
  esac
  case $ac_mode$ac_tag in
  :[FHL]*:*);;
  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
  :[FH]-) ac_tag=-:-;;
  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
  esac
  ac_save_IFS=$IFS
  IFS=:
  set x $ac_tag
  IFS=$ac_save_IFS
  shift
  ac_file=$1
  shift

  case $ac_mode in
  :L) ac_source=$1;;
  :[FH])
    ac_file_inputs=
    for ac_f
d43849 11
a43859 14
      case $ac_f in
      -) ac_f="$ac_tmp/stdin";;
      *) # Look for the file first in the build tree, then in the source tree
	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
	 # because $ac_f cannot contain `:'.
	 test -f "$ac_f" ||
	   case $ac_f in
	   [\\/$]*) false;;
	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
	   esac ||
	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
      esac
      case $ac_f in *\'*) ac_f=`$as_echo "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
      as_fn_append ac_file_inputs " '$ac_f'"
d43861 8
a43868 11

    # Let's still pretend it is `configure' which instantiates (i.e., don't
    # use $as_me), people would be surprised to read:
    #    /* config.h.  Generated by config.status.  */
    configure_input='Generated from '`
	  $as_echo "$*" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'
	`' by configure.'
    if test x"$ac_file" != x-; then
      configure_input="$ac_file.  $configure_input"
      { $as_echo "$as_me:${as_lineno-$LINENO}: creating $ac_file" >&5
$as_echo "$as_me: creating $ac_file" >&6;}
d43870 4
a43873 7
    # Neutralize special characters interpreted by sed in replacement strings.
    case $configure_input in #(
    *\&* | *\|* | *\\* )
       ac_sed_conf_input=`$as_echo "$configure_input" |
       sed 's/[\\\\&|]/\\\\&/g'`;; #(
    *) ac_sed_conf_input=$configure_input;;
    esac
d43875 3
a43877 6
    case $ac_tag in
    *:-:* | *:-) cat >"$ac_tmp/stdin" \
      || as_fn_error $? "could not create $ac_file" "$LINENO" 5 ;;
    esac
    ;;
  esac
d43879 3
a43881 25
  ac_dir=`$as_dirname -- "$ac_file" ||
$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
	 X"$ac_file" : 'X\(//\)[^/]' \| \
	 X"$ac_file" : 'X\(//\)$' \| \
	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
$as_echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)[^/].*/{
	    s//\1/
	    q
	  }
	  /^X\(\/\/\)$/{
	    s//\1/
	    q
	  }
	  /^X\(\/\).*/{
	    s//\1/
	    q
	  }
	  s/.*/./; q'`
  as_dir="$ac_dir"; as_fn_mkdir_p
  ac_builddir=.
d43883 18
a43900 38
case "$ac_dir" in
.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
*)
  ac_dir_suffix=/`$as_echo "$ac_dir" | sed 's|^\.[\\/]||'`
  # A ".." for each directory in $ac_dir_suffix.
  ac_top_builddir_sub=`$as_echo "$ac_dir_suffix" | sed 's|/[^\\/]*|/..|g;s|/||'`
  case $ac_top_builddir_sub in
  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
  esac ;;
esac
ac_abs_top_builddir=$ac_pwd
ac_abs_builddir=$ac_pwd$ac_dir_suffix
# for backward compatibility:
ac_top_builddir=$ac_top_build_prefix

case $srcdir in
  .)  # We are building in place.
    ac_srcdir=.
    ac_top_srcdir=$ac_top_builddir_sub
    ac_abs_top_srcdir=$ac_pwd ;;
  [\\/]* | ?:[\\/]* )  # Absolute name.
    ac_srcdir=$srcdir$ac_dir_suffix;
    ac_top_srcdir=$srcdir
    ac_abs_top_srcdir=$srcdir ;;
  *) # Relative name.
    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_top_build_prefix$srcdir
    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
esac
ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix


  case $ac_mode in
  :F)
  #
  # CONFIG_FILE
  #
d43902 10
a43911 3
  case $INSTALL in
  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
a43912 1
_ACEOF
d43914 32
a43945 30
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
# If the template does not know about datarootdir, expand it.
# FIXME: This hack should be removed a few years after 2.60.
ac_datarootdir_hack=; ac_datarootdir_seen=
ac_sed_dataroot='
/datarootdir/ {
  p
  q
}
/@@datadir@@/p
/@@docdir@@/p
/@@infodir@@/p
/@@localedir@@/p
/@@mandir@@/p'
case `eval "sed -n \"\$ac_sed_dataroot\" $ac_file_inputs"` in
*datarootdir*) ac_datarootdir_seen=yes;;
*@@datadir@@*|*@@docdir@@*|*@@infodir@@*|*@@localedir@@*|*@@mandir@@*)
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
$as_echo "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
_ACEOF
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
  ac_datarootdir_hack='
  s&@@datadir@@&$datadir&g
  s&@@docdir@@&$docdir&g
  s&@@infodir@@&$infodir&g
  s&@@localedir@@&$localedir&g
  s&@@mandir@@&$mandir&g
  s&\\\${datarootdir}&$datarootdir&g' ;;
esac
_ACEOF
d43947 1
a43947 25
# Neutralize VPATH when `$srcdir' = `.'.
# Shell code in configure.ac might set extrasub.
# FIXME: do we really want to maintain this feature?
cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
ac_sed_extra="$ac_vpsub
$extrasub
_ACEOF
cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
:t
/@@[a-zA-Z_][a-zA-Z_0-9]*@@/!b
s|@@configure_input@@|$ac_sed_conf_input|;t t
s&@@top_builddir@@&$ac_top_builddir_sub&;t t
s&@@top_build_prefix@@&$ac_top_build_prefix&;t t
s&@@srcdir@@&$ac_srcdir&;t t
s&@@abs_srcdir@@&$ac_abs_srcdir&;t t
s&@@top_srcdir@@&$ac_top_srcdir&;t t
s&@@abs_top_srcdir@@&$ac_abs_top_srcdir&;t t
s&@@builddir@@&$ac_builddir&;t t
s&@@abs_builddir@@&$ac_abs_builddir&;t t
s&@@abs_top_builddir@@&$ac_abs_top_builddir&;t t
s&@@INSTALL@@&$ac_INSTALL&;t t
$ac_datarootdir_hack
"
eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$ac_tmp/subs.awk" \
  >$ac_tmp/out || as_fn_error $? "could not create $ac_file" "$LINENO" 5
d43949 38
a43986 8
test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
  { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
      "$ac_tmp/out"`; test -z "$ac_out"; } &&
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&5
$as_echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
which seems to be undefined.  Please make sure it is defined" >&2;}
d43988 66
a44053 11
  rm -f "$ac_tmp/stdin"
  case $ac_file in
  -) cat "$ac_tmp/out" && rm -f "$ac_tmp/out";;
  *) rm -f "$ac_file" && mv "$ac_tmp/out" "$ac_file";;
  esac \
  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 ;;
  :H)
  #
  # CONFIG_HEADER
  #
d44055 3
a44057 8
    {
      $as_echo "/* $configure_input  */" \
      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs"
    } >"$ac_tmp/config.h" \
      || as_fn_error $? "could not create $ac_file" "$LINENO" 5
    if diff "$ac_file" "$ac_tmp/config.h" >/dev/null 2>&1; then
      { $as_echo "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
$as_echo "$as_me: $ac_file is unchanged" >&6;}
d44059 31
a44089 3
      rm -f "$ac_file"
      mv "$ac_tmp/config.h" "$ac_file" \
	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
d44092 2
a44093 3
    $as_echo "/* $configure_input  */" \
      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs" \
      || as_fn_error $? "could not create -" "$LINENO" 5
d44095 9
a44103 7
 ;;

  :C)  { $as_echo "$as_me:${as_lineno-$LINENO}: executing $ac_file commands" >&5
$as_echo "$as_me: executing $ac_file commands" >&6;}
 ;;
  esac

d44105 2
a44106 2
  case $ac_file$ac_mode in
    "default-1":C) for ac_file in $CONFIG_FILES; do
d44140 1
a44140 1
    "default":C)
a44152 1

d44154 2
a44155 1
done # for ac_tag
d44157 1
d44159 3
a44161 2
as_fn_exit 0
_ACEOF
a44163 4
test $ac_write_fail = 0 ||
  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5


a44173 3
  ac_config_status_args=
  test "$silent" = yes &&
    ac_config_status_args="$ac_config_status_args --quiet"
d44175 1
a44175 1
  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
d44179 1
a44179 5
  $ac_cs_success || as_fn_exit 1
fi
if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
  { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts" >&5
$as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2;}
@


1.15
log
@update to lynx2.8.7rel.2, with local patches:
- restore local lynx.cfg settings [avsm]
- fix makefile races [espie]
- read/write result checking fixes to avoid unsigned comparisons vs -1 [krw]
- initialize all the InputFieldData members correctly [fgsch]
- fix socklen_t test to include <sys/types.h> [miod]
- fgets(3) returns NULL on error, not 0. No functional change [cloder]

ok krw@@, tests by Simon Kuhnle and Martin Pieuchot
@
text
@d5880 1
a5880 1
openbsd* | ekkobsd* | mirbsd*)
@


1.14
log
@Actually, add --enable-debug to configure so -g is not stripped if specified
and remove the patch from configure so we don't need to worry in the future.
@
text
@d2 1
a2 1
# From configure.in 2.8.6pre.5.
d4 7
a10 1
# Generated by Autoconf 2.52.20030208.
a11 2
# Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
# Free Software Foundation, Inc.
d14 90
d105 23
a127 6
# Avoid depending upon Character Ranges.
as_cr_letters='abcdefghijklmnopqrstuvwxyz'
as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
as_cr_Letters=$as_cr_letters$as_cr_LETTERS
as_cr_digits='0123456789'
as_cr_alnum=$as_cr_Letters$as_cr_digits
d129 5
a133 2
# Sed expression to map a string onto a valid variable name.
as_tr_sh="sed y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
d135 2
a136 2
# Sed expression to map a string onto a valid CPP name.
as_tr_cpp="sed y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
d138 2
a139 2
# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
d142 89
a230 2
elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
  set -o posix
d233 134
a366 2
# Name of the executable.
as_me=`echo "$0" |sed 's,.*[\\/],,'`
d368 18
a385 1
if expr a : '\(a\)' >/dev/null 2>&1; then
d391 83
d475 18
a492 6
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  # We could just check for DJGPP; but this test a) works b) is more generic
  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
  if test -f conf$$.exe; then
    # Don't use ln at all; we don't have any links
a493 2
  else
    as_ln_s='ln -s'
a494 2
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
d498 2
a499 1
rm -f conf$$ conf$$.exe conf$$.file
d501 6
a506 1
as_executable_p="test -f"
d508 2
a509 3
# Support unset when possible.
if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
  as_unset=unset
d511 17
a527 1
  as_unset=false
d529 4
d534 2
a535 9
# NLS nuisances.
$as_unset LANG || test "${LANG+set}" != set || { LANG=C; export LANG; }
$as_unset LC_ALL || test "${LC_ALL+set}" != set || { LC_ALL=C; export LC_ALL; }
$as_unset LC_TIME || test "${LC_TIME+set}" != set || { LC_TIME=C; export LC_TIME; }
$as_unset LC_CTYPE || test "${LC_CTYPE+set}" != set || { LC_CTYPE=C; export LC_CTYPE; }
$as_unset LANGUAGE || test "${LANGUAGE+set}" != set || { LANGUAGE=C; export LANGUAGE; }
$as_unset LC_COLLATE || test "${LC_COLLATE+set}" != set || { LC_COLLATE=C; export LC_COLLATE; }
$as_unset LC_NUMERIC || test "${LC_NUMERIC+set}" != set || { LC_NUMERIC=C; export LC_NUMERIC; }
$as_unset LC_MESSAGES || test "${LC_MESSAGES+set}" != set || { LC_MESSAGES=C; export LC_MESSAGES; }
a536 5
# IFS
# We need space, tab and new line, in precisely that order.
as_nl='
'
IFS=" 	$as_nl"
d538 2
a539 2
# CDPATH.
$as_unset CDPATH || test "${CDPATH+set}" != set || { CDPATH=:; export CDPATH; }
d542 1
a542 1
# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
a545 2
exec 6>&1

d550 3
d555 2
a556 2
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
d558 7
a564 4
# Maximum number of lines to put in a shell here document.
# This variable seems obsolete.  It should probably be removed, and
# only ac_max_sed_lines should be used.
: ${ac_max_here_lines=38}
d571 1
a571 1
#if HAVE_SYS_TYPES_H
d574 1
a574 1
#if HAVE_SYS_STAT_H
d577 1
a577 1
#if STDC_HEADERS
d581 1
a581 1
# if HAVE_STDLIB_H
d585 2
a586 2
#if HAVE_STRING_H
# if !STDC_HEADERS && HAVE_MEMORY_H
d591 1
a591 1
#if HAVE_STRINGS_H
d594 1
a594 1
#if HAVE_INTTYPES_H
a595 4
#else
# if HAVE_STDINT_H
#  include <stdint.h>
# endif
d597 4
a600 1
#if HAVE_UNISTD_H
d604 282
d889 2
d913 1
d917 2
a918 1
datadir='${prefix}/share'
a921 1
libdir='${exec_prefix}/lib'
d924 9
a932 9
infodir='${prefix}/info'
mandir='${prefix}/man'

# Identity of this package.
PACKAGE_NAME=
PACKAGE_TARNAME=
PACKAGE_VERSION=
PACKAGE_STRING=
PACKAGE_BUGREPORT=
d935 1
d940 1
a940 1
    eval "$ac_prev=\$ac_option"
d945 5
a949 1
  ac_optarg=`expr "x$ac_option" : 'x[^=]*=\(.*\)'`
d953 3
a955 1
  case $ac_option in
d977 1
a977 1
  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
d979 1
a979 2
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
d982 7
d990 1
a990 1
    ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
d992 22
a1013 5
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    eval "enable_$ac_feature=no" ;;
d1016 1
a1016 1
    ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
d1018 10
a1027 7
    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
   { (exit 1); exit 1; }; }
    ac_feature=`echo $ac_feature | sed 's/-/_/g'`
    case $ac_option in
      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
      *) ac_optarg=yes ;;
d1029 1
a1029 1
    eval "enable_$ac_feature='$ac_optarg'" ;;
d1056 6
d1086 5
d1092 1
a1092 2
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
d1095 1
a1095 2
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
d1108 1
a1108 1
  | --no-cr | --no-c)
d1160 10
d1220 1
a1220 1
    ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
d1222 10
a1231 7
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case $ac_option in
      *=*) ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`;;
      *) ac_optarg=yes ;;
d1233 1
a1233 1
    eval "with_$ac_package='$ac_optarg'" ;;
d1236 1
a1236 1
    ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
d1238 12
a1249 5
    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid package name: $ac_package" >&2
   { (exit 1); exit 1; }; }
    ac_package=`echo $ac_package | sed 's/-/_/g'`
    eval "with_$ac_package=no" ;;
d1269 2
a1270 3
  -*) { echo "$as_me: error: unrecognized option: $ac_option
Try \`$0 --help' for more information." >&2
   { (exit 1); exit 1; }; }
d1276 5
a1280 5
    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
      { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
   { (exit 1); exit 1; }; }
    ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
    eval "$ac_envvar='$ac_optarg'"
d1285 1
a1285 1
    echo "$as_me: WARNING: you should use --build, --host, --target" >&2
d1287 2
a1288 2
      echo "$as_me: WARNING: invalid host type: $ac_option" >&2
    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
d1296 9
a1304 2
  { echo "$as_me: error: missing argument to $ac_option" >&2
   { (exit 1); exit 1; }; }
d1307 5
a1311 2
# Be sure to have absolute paths.
for ac_var in exec_prefix prefix
d1313 2
a1314 1
  eval ac_val=$`echo $ac_var`
d1316 3
a1318 3
    [\\/$]* | ?:[\\/]* | NONE | '' ) ;;
    *)  { echo "$as_me: error: expected an absolute path for --$ac_var: $ac_val" >&2
   { (exit 1); exit 1; }; };;
d1320 1
a1320 7
done

# Be sure to have absolute paths.
for ac_var in bindir sbindir libexecdir datadir sysconfdir sharedstatedir \
              localstatedir libdir includedir oldincludedir infodir mandir
do
  eval ac_val=$`echo $ac_var`
d1322 2
a1323 3
    [\\/$]* | ?:[\\/]* ) ;;
    *)  { echo "$as_me: error: expected an absolute path for --$ac_var: $ac_val" >&2
   { (exit 1); exit 1; }; };;
d1325 1
d1330 1
d1335 1
a1335 1
# FIXME: should be removed in autoconf 3.0.
d1339 2
a1340 2
    echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
    If a cross compiler is detected then cross compile mode will be used." >&2
d1351 9
d1363 24
a1386 4
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo "$ac_prog" | sed 's%[\\/][^\\/][^\\/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
d1388 1
a1388 1
  if test ! -r $srcdir/$ac_unique_file; then
d1394 24
a1417 42
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "$as_me: error: cannot find sources in $ac_confdir or .." >&2
   { (exit 1); exit 1; }; }
  else
    { echo "$as_me: error: cannot find sources in $srcdir" >&2
   { (exit 1); exit 1; }; }
  fi
fi
srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
ac_env_build_alias_set=${build_alias+set}
ac_env_build_alias_value=$build_alias
ac_cv_env_build_alias_set=${build_alias+set}
ac_cv_env_build_alias_value=$build_alias
ac_env_host_alias_set=${host_alias+set}
ac_env_host_alias_value=$host_alias
ac_cv_env_host_alias_set=${host_alias+set}
ac_cv_env_host_alias_value=$host_alias
ac_env_target_alias_set=${target_alias+set}
ac_env_target_alias_value=$target_alias
ac_cv_env_target_alias_set=${target_alias+set}
ac_cv_env_target_alias_value=$target_alias
ac_env_CC_set=${CC+set}
ac_env_CC_value=$CC
ac_cv_env_CC_set=${CC+set}
ac_cv_env_CC_value=$CC
ac_env_CFLAGS_set=${CFLAGS+set}
ac_env_CFLAGS_value=$CFLAGS
ac_cv_env_CFLAGS_set=${CFLAGS+set}
ac_cv_env_CFLAGS_value=$CFLAGS
ac_env_LDFLAGS_set=${LDFLAGS+set}
ac_env_LDFLAGS_value=$LDFLAGS
ac_cv_env_LDFLAGS_set=${LDFLAGS+set}
ac_cv_env_LDFLAGS_value=$LDFLAGS
ac_env_CPPFLAGS_set=${CPPFLAGS+set}
ac_env_CPPFLAGS_value=$CPPFLAGS
ac_cv_env_CPPFLAGS_set=${CPPFLAGS+set}
ac_cv_env_CPPFLAGS_value=$CPPFLAGS
ac_env_CPP_set=${CPP+set}
ac_env_CPP_value=$CPP
ac_cv_env_CPP_set=${CPP+set}
ac_cv_env_CPP_value=$CPP
d1425 1
a1425 1
  cat <<EOF
d1440 1
a1440 1
  -q, --quiet, --silent   do not print \`checking...' messages
a1445 3
EOF

  cat <<EOF
a1462 1
  --datadir=DIR           read-only architecture-independent data [PREFIX/share]
d1469 11
a1479 3
  --infodir=DIR           info documentation [PREFIX/info]
  --mandir=DIR            man documentation [PREFIX/man]
EOF
d1481 1
a1481 1
  cat <<\EOF
d1488 2
a1489 2
  --build=BUILD           configure for building on BUILD [guessed]
  --host=HOST       build programs to run on HOST [BUILD]
d1491 1
a1491 1
EOF
d1496 1
a1496 5
  cat <<\EOF

Optional Packages:
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
d1499 1
a1501 9

  --with-system-type=XXX  test: override derived host system-type
  --with-build-cc=XXX     the build C compiler ($BUILD_CC)
  --with-build-cpp=XXX    the build C preprocessor ($BUILD_CPP)
  --with-build-cflags=XXX the build C compiler-flags ($BUILD_CFLAGS)
  --with-build-cppflags=XXX the build C preprocessor-flags ($BUILD_CPPFLAGS)
  --with-build-ldflags=XXX the build linker-flags ($BUILD_LDFLAGS)
  --with-build-libs=XXX   the build libraries ($(BUILD_LIBS)
Development Options:
a1507 3
  --with-dbmalloc         test: use Conor Cahill's dbmalloc library
  --with-dmalloc          test: use Gray Watson's dmalloc library
Basic Configuration Options:
a1508 2
  --with-libiconv-prefix=DIR
                          search for libiconv in DIR/include and DIR/lib
a1509 1
  --with-included-gettext use the GNU gettext library included here
a1510 1
  --with-nls-datadir=DIR  NLS data, parent of locale (default: PREFIX/DATADIR)
d1512 2
a1513 7
  --with-ssl{=path}       link with ssl library if available
  --with-gnutls{=path}    link with experimental gnutls support
  --with-socks{=path}     link with socks library if available
  --with-socks5{=path}    link with socks5 library if available
  --with-screen=XXX       select screen type (XXX is curses (default),
                          ncurses, ncursesw, pdcurses or slang)
  --with-curses-dir=DIR   directory in which (n)curses is installed
d1515 4
a1518 4
  --with-cfg-file{=path}  specify the default configuration file
                          (default: SYSCONFDIR/lynx.cfg)
  --with-charsets=list    limit charsets to given list of MIME names
Experimental Options:
d1524 1
a1527 3
  --disable-color-style   use color style (ncurses/curses)
  --with-lss-file{=path}  specify the default style-sheet file
                          (default: SYSCONFDIR/lynx.lss)
a1528 2
  --enable-htmlized-cfg   build experimental htmlized lynx.cfg
  --enable-ipv6           use experimental ipv6 (with ipv4) support
a1529 1
  --enable-locale-charset use experimental locale-charset selection logic
d1531 1
d1533 2
a1534 1
Miscellaneous Options:
d1538 1
a1538 1
  --enable-justify-elts   use element-justification logic
a1554 3
  --with-bzlib            use libbz2 for decompression of some bzip2 files
  --with-zlib             use zlib for decompression of some gzip files
Other Network Services:
a1558 1
Directory Editor Options:
d1571 35
a1605 1
Special Libraries for PDCurses X11:
d1616 3
a1618 2
  CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have
              headers in a nonstandard directory <include dir>
d1620 7
d1631 3
a1633 1
EOF
d1638 5
a1642 15
  ac_popdir=`pwd`
  for ac_subdir in : $ac_subdirs_all; do test "x$ac_subdir" = x: && continue
    cd $ac_subdir
    # A "../" for each directory in /$ac_subdir.
    ac_dots=`echo $ac_subdir |
             sed 's,^\./,,;s,[^/]$,&/,;s,[^/]*/,../,g'`

    case $srcdir in
    .) # No --srcdir option.  We are building in place.
      ac_sub_srcdir=$srcdir ;;
    [\\/]* | ?:[\\/]* ) # Absolute path.
      ac_sub_srcdir=$srcdir/$ac_subdir ;;
    *) # Relative path.
      ac_sub_srcdir=$ac_dots$srcdir/$ac_subdir ;;
    esac
d1644 40
a1683 11
    # Check for guested configure; otherwise get Cygnus style configure.
    if test -f $ac_sub_srcdir/configure.gnu; then
      echo
      $SHELL $ac_sub_srcdir/configure.gnu  --help=recursive
    elif test -f $ac_sub_srcdir/configure; then
      echo
      $SHELL $ac_sub_srcdir/configure  --help=recursive
    elif test -f $ac_sub_srcdir/configure.ac ||
           test -f $ac_sub_srcdir/configure.in; then
      echo
      $ac_configure --help
d1685 3
a1687 3
      echo "$as_me: WARNING: no configuration information is in $ac_subdir" >&2
    fi
    cd $ac_popdir
d1691 1
a1691 1
test -n "$ac_init_help" && exit 0
d1693 3
a1695 1
  cat <<\EOF
d1697 1
a1697 2
Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
Free Software Foundation, Inc.
d1700 2
a1701 2
EOF
  exit 0
a1702 4
exec 5>config.log
cat >&5 <<EOF
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
d1704 3
a1706 4
It was created by $as_me, which was
generated by GNU Autoconf 2.52.20030208.  Invocation command line was

  $ $0 $@@
d1708 4
a1711 1
EOF
d1713 263
a1975 4
cat <<_ASUNAME
## ---------- ##
## Platform.  ##
## ---------- ##
d1977 9
a1985 5
hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
uname -m = `(uname -m) 2>/dev/null || echo unknown`
uname -r = `(uname -r) 2>/dev/null || echo unknown`
uname -s = `(uname -s) 2>/dev/null || echo unknown`
uname -v = `(uname -v) 2>/dev/null || echo unknown`
d1987 325
a2311 2
/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
d2316 1
a2316 1
hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
d2321 10
a2330 1
PATH = $PATH
a2331 1
_ASUNAME
d2334 8
a2341 4
cat >&5 <<EOF
## ------------ ##
## Core tests.  ##
## ------------ ##
a2342 1
EOF
d2346 1
d2348 1
d2350 4
a2353 2
ac_sep=
for ac_arg
d2355 33
a2387 13
  case $ac_arg in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
    ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"`
    ac_configure_args="$ac_configure_args$ac_sep'$ac_arg'"
    ac_sep=" " ;;
  *) ac_configure_args="$ac_configure_args$ac_sep$ac_arg"
     ac_sep=" " ;;
  esac
  # Get rid of the leading space.
d2389 2
d2395 2
d2399 24
a2422 7
  echo >&5
  echo "## ----------------- ##" >&5
  echo "## Cache variables.  ##" >&5
  echo "## ----------------- ##" >&5
  echo >&5
  # The following way of writing the cache mishandles newlines in values,
{
d2424 2
a2425 2
    case `(ac_space='"'"' '"'"'; set | grep ac_space) 2>&1` in
    *ac_space=\ *)
d2427 3
a2429 3
        "s/'"'"'/'"'"'\\\\'"'"''"'"'/g;
    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='"'"'\\2'"'"'/p"
      ;;
d2431 1
a2431 2
      sed -n \
        "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
d2433 49
a2481 16
    esac;
} >&5
  sed "/^$/d" confdefs.h >conftest.log
  if test -s conftest.log; then
    echo >&5
    echo "## ------------ ##" >&5
    echo "## confdefs.h.  ##" >&5
    echo "## ------------ ##" >&5
    echo >&5
    cat conftest.log >&5
  fi
  (echo; echo) >&5
  test "$ac_signal" != 0 &&
    echo "$as_me: caught signal $ac_signal" >&5
  echo "$as_me: exit $exit_status" >&5
  rm -rf conftest* confdefs* core core.* *.core conf$$* $ac_clean_files &&
d2483 1
a2483 1
     ' 0
d2485 1
a2485 1
  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
d2490 30
a2519 3
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo >confdefs.h
d2522 29
a2550 14
# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    { echo "$as_me:976: loading site script $ac_site_file" >&5
echo "$as_me: loading site script $ac_site_file" >&6;}
    cat "$ac_site_file" >&5
    . "$ac_site_file"
d2555 5
a2559 5
  # Some versions of bash will fail to source /dev/null (special
  # files actually), so we avoid doing that.
  if test -f "$cache_file"; then
    { echo "$as_me:987: loading cache $cache_file" >&5
echo "$as_me: loading cache $cache_file" >&6;}
d2561 2
a2562 2
      [\\/]* | ?:[\\/]* ) . $cache_file;;
      *)                      . ./$cache_file;;
d2566 2
a2567 2
  { echo "$as_me:995: creating cache $cache_file" >&5
echo "$as_me: creating cache $cache_file" >&6;}
d2571 3
d2577 1
a2577 2
for ac_var in `(set) 2>&1 |
               sed -n 's/^ac_env_\([a-zA-Z_0-9]*\)_set=.*/\1/p'`; do
d2580 2
a2581 2
  eval ac_old_val="\$ac_cv_env_${ac_var}_value"
  eval ac_new_val="\$ac_env_${ac_var}_value"
d2584 2
a2585 2
      { echo "$as_me:1011: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
d2588 2
a2589 2
      { echo "$as_me:1015: error: \`$ac_var' was not set in the previous run" >&5
echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
d2594 16
a2609 7
        { echo "$as_me:1021: error: \`$ac_var' has changed since the previous run:" >&5
echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
        { echo "$as_me:1023:   former value:  $ac_old_val" >&5
echo "$as_me:   former value:  $ac_old_val" >&2;}
        { echo "$as_me:1025:   current value: $ac_new_val" >&5
echo "$as_me:   current value: $ac_new_val" >&2;}
        ac_cache_corrupted=:
d2612 1
a2612 2
  # Pass precious variables to config.status.  It doesn't matter if
  # we pass some twice (in addition to the command line arguments).
d2615 6
a2620 6
    *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?\"\']*)
      ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"`
      ac_configure_args="$ac_configure_args '$ac_arg'"
      ;;
    *) ac_configure_args="$ac_configure_args $ac_var=$ac_new_val"
       ;;
d2625 9
a2633 6
  { echo "$as_me:1044: error: changes in the environment can compromise the build" >&5
echo "$as_me: error: changes in the environment can compromise the build" >&2;}
  { { echo "$as_me:1046: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
   { (exit 1); exit 1; }; }
fi
d2641 1
a2641 20
case `echo "testing\c"; echo 1,2,3`,`echo -n testing; echo 1,2,3` in
  *c*,-n*) ECHO_N= ECHO_C='
' ECHO_T='	' ;;
  *c*,*  ) ECHO_N=-n ECHO_C= ECHO_T= ;;
  *)      ECHO_N= ECHO_C='\c' ECHO_T= ;;
esac
echo "#! $SHELL" >conftest.sh
echo  "exit 0"   >>conftest.sh
chmod +x conftest.sh
if { (echo "$as_me:1066: PATH=\".;.\"; conftest.sh") >&5
  (PATH=".;."; conftest.sh) 2>&5
  ac_status=$?
  echo "$as_me:1069: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  ac_path_separator=';'
else
  ac_path_separator=:
fi
PATH_SEPARATOR="$ac_path_separator"
rm -f conftest.sh
d2652 2
d2655 2
a2656 2
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
d2660 1
a2660 1
  elif test -f $ac_dir/install.sh; then
d2664 1
a2664 1
  elif test -f $ac_dir/shtool; then
d2671 11
a2681 7
  { { echo "$as_me:1104: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&5
echo "$as_me: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." >&2;}
   { (exit 1); exit 1; }; }
fi
ac_config_guess="$SHELL $ac_aux_dir/config.guess"
ac_config_sub="$SHELL $ac_aux_dir/config.sub"
ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.
d2684 2
a2685 21
$ac_config_sub sun4 >/dev/null 2>&1 ||
  { { echo "$as_me:1114: error: cannot run $ac_config_sub" >&5
echo "$as_me: error: cannot run $ac_config_sub" >&2;}
   { (exit 1); exit 1; }; }

echo "$as_me:1118: checking build system type" >&5
echo $ECHO_N "checking build system type... $ECHO_C" >&6
if test "${ac_cv_build+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_build_alias=$build_alias
test -z "$ac_cv_build_alias" &&
  ac_cv_build_alias=`$ac_config_guess`
test -z "$ac_cv_build_alias" &&
  { { echo "$as_me:1127: error: cannot guess build type; you must specify one" >&5
echo "$as_me: error: cannot guess build type; you must specify one" >&2;}
   { (exit 1); exit 1; }; }
ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||
  { { echo "$as_me:1131: error: $ac_config_sub $ac_cv_build_alias failed." >&5
echo "$as_me: error: $ac_config_sub $ac_cv_build_alias failed." >&2;}
   { (exit 1); exit 1; }; }
d2687 44
a2731 19
echo "$as_me:1136: result: $ac_cv_build" >&5
echo "${ECHO_T}$ac_cv_build" >&6
build=$ac_cv_build
build_cpu=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $ac_cv_build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`

echo "$as_me:1143: checking host system type" >&5
echo $ECHO_N "checking host system type... $ECHO_C" >&6
if test "${ac_cv_host+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_host_alias=$host_alias
test -z "$ac_cv_host_alias" &&
  ac_cv_host_alias=$ac_cv_build_alias
ac_cv_host=`$ac_config_sub $ac_cv_host_alias` ||
  { { echo "$as_me:1152: error: $ac_config_sub $ac_cv_host_alias failed" >&5
echo "$as_me: error: $ac_config_sub $ac_cv_host_alias failed" >&2;}
   { (exit 1); exit 1; }; }
d2734 6
a2739 2
echo "$as_me:1157: result: $ac_cv_host" >&5
echo "${ECHO_T}$ac_cv_host" >&6
d2741 24
a2764 17
host_cpu=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $ac_cv_host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`

if test -f $srcdir/config.guess || test -f $ac_aux_dir/config.guess ; then
	echo "$as_me:1165: checking target system type" >&5
echo $ECHO_N "checking target system type... $ECHO_C" >&6
if test "${ac_cv_target+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_target_alias=$target_alias
test "x$ac_cv_target_alias" = "x" &&
  ac_cv_target_alias=$ac_cv_host_alias
ac_cv_target=`$ac_config_sub $ac_cv_target_alias` ||
  { { echo "$as_me:1174: error: $ac_config_sub $ac_cv_target_alias failed" >&5
echo "$as_me: error: $ac_config_sub $ac_cv_target_alias failed" >&2;}
   { (exit 1); exit 1; }; }
d2767 6
a2772 2
echo "$as_me:1179: result: $ac_cv_target" >&5
echo "${ECHO_T}$ac_cv_target" >&6
d2774 12
a2785 3
target_cpu=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $ac_cv_target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
d2793 3
d2803 1
a2803 1
test -n "$system_name" && cat >>confdefs.h <<EOF
d2805 1
a2805 1
EOF
d2807 2
a2808 2
if test "${cf_cv_system_name+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d2813 1
d2815 2
a2816 2
test -n "$cf_cv_system_name" && echo "$as_me:1210: result: Configuring for $cf_cv_system_name" >&5
echo "${ECHO_T}Configuring for $cf_cv_system_name" >&6
d2819 3
a2821 5
	echo "$as_me:1214: result: Cached system name ($system_name) does not agree with actual ($cf_cv_system_name)" >&5
echo "${ECHO_T}Cached system name ($system_name) does not agree with actual ($cf_cv_system_name)" >&6
	{ { echo "$as_me:1216: error: \"Please remove config.cache and try again.\"" >&5
echo "$as_me: error: \"Please remove config.cache and try again.\"" >&2;}
   { (exit 1); exit 1; }; }
d2824 5
a2828 5
# Check whether --with-system-type or --without-system-type was given.
if test "${with_system_type+set}" = set; then
  withval="$with_system_type"
  { echo "$as_me:1224: WARNING: overriding system type $host_os to $withval" >&5
echo "$as_me: WARNING: overriding system type $host_os to $withval" >&2;}
d2830 2
a2831 1
fi;
d2835 3
a2837 1
VERSION=2.8.6rel.5
a2838 1
test -z "$ALL_LINGUAS" && ALL_LINGUAS=`test -d $srcdir/po && cd $srcdir/po && echo *.po|sed -e 's/\.po//g' -e 's/*//'`
d2840 2
a2841 6
case $host_os in
openedition)
	: ${CFLAGS="-D_ALL_SOURCE -Wl,EDIT=NO"}
	: ${CC=c89}
	;;
esac
d2843 3
a2845 12
ac_ext=c
ac_cpp='$CPP $CPPFLAGS'
ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
ac_compiler_gnu=$ac_cv_c_compiler_gnu
if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
set dummy ${ac_tool_prefix}gcc; ac_word=$2
echo "$as_me:1250: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d2847 6
a2852 2
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
d2854 69
a2922 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="${ac_tool_prefix}gcc"
echo "$as_me:1265: found $ac_dir/$ac_word" >&5
break
d2924 2
d2931 2
a2932 2
  echo "$as_me:1273: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
d2934 2
a2935 2
  echo "$as_me:1276: result: no" >&5
echo "${ECHO_T}no" >&6
d2938 1
d2944 4
a2947 4
echo "$as_me:1285: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d2952 11
a2962 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_CC="gcc"
echo "$as_me:1300: found $ac_dir/$ac_word" >&5
break
d2964 2
d2971 2
a2972 2
  echo "$as_me:1308: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
d2974 2
a2975 2
  echo "$as_me:1311: result: no" >&5
echo "${ECHO_T}no" >&6
d2978 11
a2988 1
  CC=$ac_ct_CC
d2994 2
a2995 2
  if test -n "$ac_tool_prefix"; then
  # Extract the first word of "${ac_tool_prefix}cc", so it can be a program name with args.
d2997 4
a3000 4
echo "$as_me:1324: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3005 11
a3015 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="${ac_tool_prefix}cc"
echo "$as_me:1339: found $ac_dir/$ac_word" >&5
break
d3017 2
d3024 2
a3025 19
  echo "$as_me:1347: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
else
  echo "$as_me:1350: result: no" >&5
echo "${ECHO_T}no" >&6
fi

fi
if test -z "$ac_cv_prog_CC"; then
  ac_ct_CC=$CC
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo "$as_me:1359: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$ac_ct_CC"; then
  ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
d3027 2
a3028 20
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_CC="cc"
echo "$as_me:1374: found $ac_dir/$ac_word" >&5
break
done

fi
fi
ac_ct_CC=$ac_cv_prog_ac_ct_CC
if test -n "$ac_ct_CC"; then
  echo "$as_me:1382: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
else
  echo "$as_me:1385: result: no" >&5
echo "${ECHO_T}no" >&6
a3030 4
  CC=$ac_ct_CC
else
  CC="$ac_cv_prog_CC"
fi
d3032 1
d3037 4
a3040 4
echo "$as_me:1398: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3046 15
a3060 13
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
  ac_prog_rejected=yes
  continue
fi
ac_cv_prog_CC="cc"
echo "$as_me:1418: found $ac_dir/$ac_word" >&5
break
d3062 2
d3074 1
a3074 3
    set dummy "$ac_dir/$ac_word" ${1+"$@@"}
    shift
    ac_cv_prog_CC="$@@"
d3081 2
a3082 2
  echo "$as_me:1440: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
d3084 2
a3085 2
  echo "$as_me:1443: result: no" >&5
echo "${ECHO_T}no" >&6
d3088 1
d3092 1
a3092 1
  for ac_prog in cl
d3096 4
a3099 4
echo "$as_me:1454: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3104 11
a3114 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="$ac_tool_prefix$ac_prog"
echo "$as_me:1469: found $ac_dir/$ac_word" >&5
break
d3116 2
d3123 2
a3124 2
  echo "$as_me:1477: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
d3126 2
a3127 2
  echo "$as_me:1480: result: no" >&5
echo "${ECHO_T}no" >&6
d3130 1
d3136 1
a3136 1
  for ac_prog in cl
d3140 4
a3143 4
echo "$as_me:1493: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3148 11
a3158 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_CC="$ac_prog"
echo "$as_me:1508: found $ac_dir/$ac_word" >&5
break
d3160 2
d3167 2
a3168 2
  echo "$as_me:1516: result: $ac_ct_CC" >&5
echo "${ECHO_T}$ac_ct_CC" >&6
d3170 2
a3171 2
  echo "$as_me:1519: result: no" >&5
echo "${ECHO_T}no" >&6
d3174 1
d3178 11
a3188 1
  CC=$ac_ct_CC
d3193 5
a3197 3
test -z "$CC" && { { echo "$as_me:1531: error: no acceptable cc found in \$PATH" >&5
echo "$as_me: error: no acceptable cc found in \$PATH" >&2;}
   { (exit 1); exit 1; }; }
d3200 12
a3211 5
echo "$as_me:1536:" \
     "checking for C compiler version" >&5
ac_compiler=`set X $ac_compile; echo $2`
{ (eval echo "$as_me:1539: \"$ac_compiler --version </dev/null >&5\"") >&5
  (eval $ac_compiler --version </dev/null >&5) 2>&5
d3213 10
a3222 12
  echo "$as_me:1542: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (eval echo "$as_me:1544: \"$ac_compiler -v </dev/null >&5\"") >&5
  (eval $ac_compiler -v </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:1547: \$? = $ac_status" >&5
  (exit $ac_status); }
{ (eval echo "$as_me:1549: \"$ac_compiler -V </dev/null >&5\"") >&5
  (eval $ac_compiler -V </dev/null >&5) 2>&5
  ac_status=$?
  echo "$as_me:1552: \$? = $ac_status" >&5
  (exit $ac_status); }
d3224 2
a3225 3
cat >conftest.$ac_ext <<_ACEOF
#line 1556 "configure"
#include "confdefs.h"
d3236 1
a3236 1
ac_clean_files="$ac_clean_files a.out a.exe"
d3240 36
a3275 14
echo "$as_me:1572: checking for C compiler default output" >&5
echo $ECHO_N "checking for C compiler default output... $ECHO_C" >&6
ac_link_default=`echo "$ac_link" | sed 's/ -o *conftest[^ ]*//'`
if { (eval echo "$as_me:1575: \"$ac_link_default\"") >&5
  (eval $ac_link_default) 2>&5
  ac_status=$?
  echo "$as_me:1578: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  # Find the output, starting from the most likely.  This scheme is
# not robust to junk in `.', hence go to wildcards (a.*) only as a last
# resort.
for ac_file in `ls a.exe conftest.exe 2>/dev/null;
                ls a.out conftest 2>/dev/null;
                ls a.* conftest.* 2>/dev/null`; do
d3277 19
a3295 9
    *.$ac_ext | *.o | *.obj | *.xcoff | *.tds | *.d | *.pdb ) ;;
    a.out ) # We found the default executable, but exeext='' is most
            # certainly right.
            break;;
    *.* ) ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
          # FIXME: I believe we export ac_cv_exeext for Libtool --akim.
          export ac_cv_exeext
          break;;
    * ) break;;
d3298 2
d3301 1
a3301 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:1601: error: C compiler cannot create executables" >&5
echo "$as_me: error: C compiler cannot create executables" >&2;}
   { (exit 77); exit 77; }; }
d3303 5
d3309 12
a3321 31
echo "$as_me:1607: result: $ac_file" >&5
echo "${ECHO_T}$ac_file" >&6

# Check the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
echo "$as_me:1612: checking whether the C compiler works" >&5
echo $ECHO_N "checking whether the C compiler works... $ECHO_C" >&6
# FIXME: These cross compiler hacks should be removed for Autoconf 3.0
# If not cross compiling, check that we can run a simple program.
if test "$cross_compiling" != yes; then
  if { ac_try='./$ac_file'
  { (eval echo "$as_me:1618: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1621: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
    cross_compiling=no
  else
    if test "$cross_compiling" = maybe; then
	cross_compiling=yes
    else
	{ { echo "$as_me:1628: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'." >&5
echo "$as_me: error: cannot run C compiled programs.
If you meant to cross compile, use \`--host'." >&2;}
   { (exit 1); exit 1; }; }
    fi
  fi
fi
echo "$as_me:1636: result: yes" >&5
echo "${ECHO_T}yes" >&6
d3323 1
a3323 1
rm -f a.out a.exe conftest$ac_cv_exeext
d3325 10
a3334 11
# Check the compiler produces executables we can run.  If not, either
# the compiler is broken, or we cross compile.
echo "$as_me:1643: checking whether we are cross compiling" >&5
echo $ECHO_N "checking whether we are cross compiling... $ECHO_C" >&6
echo "$as_me:1645: result: $cross_compiling" >&5
echo "${ECHO_T}$cross_compiling" >&6

echo "$as_me:1648: checking for executable suffix" >&5
echo $ECHO_N "checking for executable suffix... $ECHO_C" >&6
if { (eval echo "$as_me:1650: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
d3336 2
a3337 2
  echo "$as_me:1653: \$? = $ac_status" >&5
  (exit $ac_status); }; then
d3342 2
a3343 1
for ac_file in `(ls conftest.exe; ls conftest; ls conftest.*) 2>/dev/null`; do
d3345 1
a3345 1
    *.$ac_ext | *.o | *.obj | *.xcoff | *.tds | *.d | *.pdb ) ;;
d3347 1
a3347 2
          export ac_cv_exeext
          break;;
d3352 8
a3359 8
  { { echo "$as_me:1669: error: cannot compute EXEEXT: cannot compile and link" >&5
echo "$as_me: error: cannot compute EXEEXT: cannot compile and link" >&2;}
   { (exit 1); exit 1; }; }
fi

rm -f conftest$ac_cv_exeext
echo "$as_me:1675: result: $ac_cv_exeext" >&5
echo "${ECHO_T}$ac_cv_exeext" >&6
d3364 63
a3426 4
echo "$as_me:1681: checking for object suffix" >&5
echo $ECHO_N "checking for object suffix... $ECHO_C" >&6
if test "${ac_cv_objext+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3428 2
a3429 3
  cat >conftest.$ac_ext <<_ACEOF
#line 1687 "configure"
#include "confdefs.h"
d3440 13
a3452 6
if { (eval echo "$as_me:1699: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1702: \$? = $ac_status" >&5
  (exit $ac_status); }; then
  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
d3454 1
a3454 1
    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb ) ;;
d3460 7
a3466 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:1714: error: cannot compute OBJEXT: cannot compile" >&5
echo "$as_me: error: cannot compute OBJEXT: cannot compile" >&2;}
   { (exit 1); exit 1; }; }
a3467 1

d3470 2
a3471 2
echo "$as_me:1721: result: $ac_cv_objext" >&5
echo "${ECHO_T}$ac_cv_objext" >&6
d3474 4
a3477 4
echo "$as_me:1725: checking whether we are using the GNU C compiler" >&5
echo $ECHO_N "checking whether we are using the GNU C compiler... $ECHO_C" >&6
if test "${ac_cv_c_compiler_gnu+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3479 2
a3480 3
  cat >conftest.$ac_ext <<_ACEOF
#line 1731 "configure"
#include "confdefs.h"
d3493 1
a3493 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1746: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1749: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1752: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1755: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d3496 1
a3496 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_compiler_gnu=no
d3498 1
a3498 1
rm -f conftest.$ac_objext conftest.$ac_ext
d3502 7
a3508 3
echo "$as_me:1767: result: $ac_cv_c_compiler_gnu" >&5
echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6
GCC=`test $ac_compiler_gnu = yes && echo yes`
d3511 4
a3514 5
CFLAGS="-g"
echo "$as_me:1773: checking whether $CC accepts -g" >&5
echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6
if test "${ac_cv_prog_cc_g+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3516 6
a3521 3
  cat >conftest.$ac_ext <<_ACEOF
#line 1779 "configure"
#include "confdefs.h"
d3531 1
a3531 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1791: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1794: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1797: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1800: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d3534 30
a3563 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_prog_cc_g=no
d3565 1
a3565 1
rm -f conftest.$ac_objext conftest.$ac_ext
d3567 7
a3573 2
echo "$as_me:1810: result: $ac_cv_prog_cc_g" >&5
echo "${ECHO_T}$ac_cv_prog_cc_g" >&6
d3589 52
a3640 35
# Some people use a C++ compiler to compile C.  Since we use `exit',
# in C++ we need to declare it.  In case someone uses the same compiler
# for both compiling C and C++ we need to have the C++ compiler decide
# the declaration of exit, since it's the most demanding environment.
cat >conftest.$ac_ext <<_ACEOF
#ifndef __cplusplus
  choke me
#endif
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1837: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1840: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1843: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1846: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  for ac_declaration in \
   ''\
   '#include <stdlib.h>' \
   'extern "C" void std::exit (int) throw (); using std::exit;' \
   'extern "C" void std::exit (int); using std::exit;' \
   'extern "C" void exit (int) throw ();' \
   'extern "C" void exit (int);' \
   'void exit (int);'
do
  cat >conftest.$ac_ext <<_ACEOF
#line 1858 "configure"
#include "confdefs.h"
#include <stdlib.h>
$ac_declaration
d3644 1
a3644 1
exit (42);
d3649 6
a3654 47
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1871: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1874: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1877: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1880: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
continue
fi
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 1890 "configure"
#include "confdefs.h"
$ac_declaration
int
main ()
{
exit (42);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:1902: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:1905: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:1908: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:1911: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d3656 2
a3657 1
rm -f conftest.$ac_objext conftest.$ac_ext
d3659 3
a3661 5
rm -f conftest*
if test -n "$ac_declaration"; then
  echo '#ifdef __cplusplus' >>confdefs.h
  echo $ac_declaration      >>confdefs.h
  echo '#endif'             >>confdefs.h
d3663 14
a3677 3
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d3679 1
a3679 1
rm -f conftest.$ac_objext conftest.$ac_ext
d3691 2
a3692 2
echo "$as_me:1943: checking how to run the C preprocessor" >&5
echo $ECHO_N "checking how to run the C preprocessor... $ECHO_C" >&6
d3698 2
a3699 2
  if test "${ac_cv_prog_CPP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3709 2
d3713 8
a3720 5
  cat >conftest.$ac_ext <<_ACEOF
#line 1964 "configure"
#include "confdefs.h"
#include <assert.h>
                     Syntax error
d3722 2
a3723 18
if { (eval echo "$as_me:1969: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:1975: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
a3724 2
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3728 1
a3728 1
rm -f conftest.err conftest.$ac_ext
d3730 1
a3730 1
  # OK, works on sane cases.  Now check whether non-existent headers
d3732 2
a3733 3
  cat >conftest.$ac_ext <<_ACEOF
#line 1998 "configure"
#include "confdefs.h"
d3736 1
a3736 17
if { (eval echo "$as_me:2002: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:2008: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
a3739 2
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3744 1
a3744 1
rm -f conftest.err conftest.$ac_ext
d3748 2
a3749 2
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
d3761 2
a3762 2
echo "$as_me:2045: result: $CPP" >&5
echo "${ECHO_T}$CPP" >&6
d3768 2
d3772 8
a3779 5
  cat >conftest.$ac_ext <<_ACEOF
#line 2055 "configure"
#include "confdefs.h"
#include <assert.h>
                     Syntax error
d3781 2
a3782 13
if { (eval echo "$as_me:2060: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:2066: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
a3783 7
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  :
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3787 1
a3787 1
rm -f conftest.err conftest.$ac_ext
d3789 1
a3789 1
  # OK, works on sane cases.  Now check whether non-existent headers
d3791 2
a3792 3
  cat >conftest.$ac_ext <<_ACEOF
#line 2089 "configure"
#include "confdefs.h"
d3795 1
a3795 17
if { (eval echo "$as_me:2093: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:2099: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
a3798 2
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
d3803 1
a3803 1
rm -f conftest.err conftest.$ac_ext
d3807 3
a3809 3
rm -f conftest.err conftest.$ac_ext
if $ac_preproc_ok; then
  :
d3811 4
a3814 3
  { { echo "$as_me:2127: error: C preprocessor \"$CPP\" fails sanity check" >&5
echo "$as_me: error: C preprocessor \"$CPP\" fails sanity check" >&2;}
   { (exit 1); exit 1; }; }
d3823 2
a3824 2
echo "$as_me:2138: checking whether ln -s works" >&5
echo $ECHO_N "checking whether ln -s works... $ECHO_C" >&6
d3827 2
a3828 2
  echo "$as_me:2142: result: yes" >&5
echo "${ECHO_T}yes" >&6
d3830 2
a3831 2
  echo "$as_me:2145: result: no, using $LN_S" >&5
echo "${ECHO_T}no, using $LN_S" >&6
d3834 15
a3848 5
echo "$as_me:2149: checking whether ${MAKE-make} sets \${MAKE}" >&5
echo $ECHO_N "checking whether ${MAKE-make} sets \${MAKE}... $ECHO_C" >&6
set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y,./+-,__p_,'`
if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3850 2
a3851 1
  cat >conftest.make <<\EOF
d3853 9
a3861 9
	@@echo 'ac_maketemp="${MAKE}"'
EOF
# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
eval `${MAKE-make} -f conftest.make 2>/dev/null | grep temp=`
if test -n "$ac_maketemp"; then
  eval ac_cv_prog_make_${ac_make}_set=yes
else
  eval ac_cv_prog_make_${ac_make}_set=no
fi
d3864 3
a3866 3
if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
  echo "$as_me:2169: result: yes" >&5
echo "${ECHO_T}yes" >&6
d3869 2
a3870 2
  echo "$as_me:2173: result: no" >&5
echo "${ECHO_T}no" >&6
d3885 1
d3887 3
a3889 2
echo "$as_me:2190: checking for a BSD compatible install" >&5
echo $ECHO_N "checking for a BSD compatible install... $ECHO_C" >&6
d3891 2
a3892 2
if test "${ac_cv_path_install+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d3894 5
a3898 3
    ac_save_IFS=$IFS; IFS=$ac_path_separator
  for ac_dir in $PATH; do
    IFS=$ac_save_IFS
d3900 12
a3911 10
    case $ac_dir/ in
    / | ./ | .// | /cC/* \
    | /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* \
    | /usr/ucb/* ) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
        if $as_executable_p "$ac_dir/$ac_prog"; then
d3913 1
a3913 1
            grep dspmsg "$ac_dir/$ac_prog" >/dev/null 2>&1; then
d3917 1
a3917 1
	    grep pwplus "$ac_dir/$ac_prog" >/dev/null 2>&1; then
d3921 12
a3932 2
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
d3936 4
a3939 2
      ;;
    esac
d3941 3
d3949 2
a3950 2
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
d3952 1
a3952 1
    # removed, or if the path is relative.
d3956 2
a3957 2
echo "$as_me:2239: result: $INSTALL" >&5
echo "${ECHO_T}$INSTALL" >&6
d3967 43
d4014 4
a4017 4
echo "$as_me:2254: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_LINT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d4022 11
a4032 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_LINT="$ac_prog"
echo "$as_me:2269: found $ac_dir/$ac_word" >&5
break
d4034 2
d4041 2
a4042 2
  echo "$as_me:2277: result: $LINT" >&5
echo "${ECHO_T}$LINT" >&6
d4044 2
a4045 2
  echo "$as_me:2280: result: no" >&5
echo "${ECHO_T}no" >&6
d4048 1
a4051 8
echo "$as_me:2287: checking for AIX" >&5
echo $ECHO_N "checking for AIX... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 2290 "configure"
#include "confdefs.h"
#ifdef _AIX
  yes
#endif
a4052 8
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  echo "$as_me:2299: result: yes" >&5
echo "${ECHO_T}yes" >&6
cat >>confdefs.h <<\EOF
#define _ALL_SOURCE 1
EOF
d4054 56
a4109 3
else
  echo "$as_me:2306: result: no" >&5
echo "${ECHO_T}no" >&6
a4110 1
rm -f conftest*
d4112 53
a4164 8
echo "$as_me:2311: checking for POSIXized ISC" >&5
echo $ECHO_N "checking for POSIXized ISC... $ECHO_C" >&6
if test -d /etc/conf/kconfig.d &&
   grep _POSIX_VERSION /usr/include/sys/unistd.h >/dev/null 2>&1
then
  echo "$as_me:2316: result: yes" >&5
echo "${ECHO_T}yes" >&6
  ISC=yes # If later tests want to check for ISC.
d4166 7
a4172 8
cat >>confdefs.h <<\EOF
#define _POSIX_SOURCE 1
EOF

  if test "$GCC" = yes; then
    CC="$CC -posix"
  else
    CC="$CC -Xp"
d4175 4
a4178 3
  echo "$as_me:2330: result: no" >&5
echo "${ECHO_T}no" >&6
  ISC=
d4180 4
d4185 11
a4195 10
case $cf_cv_system_name in
os2*)
    CFLAGS="$CFLAGS -Zmt"
    CPPFLAGS="$CPPFLAGS -D__ST_MT_ERRNO__"
    CXXFLAGS="$CXXFLAGS -Zmt"
    # autoconf's macro sets -Zexe and suffix both, which conflict:w
    LDFLAGS="$LDFLAGS -Zmt -Zcrtdll"
    ac_cv_exeext=.exe
    ;;
esac
d4197 3
a4199 1
PROG_EXT="$EXEEXT"
d4201 10
a4210 3
test -n "$PROG_EXT" && cat >>confdefs.h <<EOF
#define PROG_EXT "$PROG_EXT"
EOF
d4212 5
a4216 1
if test "$cross_compiling" = yes ; then
d4218 3
a4220 7
	# defaults that we might want to override
	: ${BUILD_CFLAGS:=''}
	: ${BUILD_CPPFLAGS:='#'}
	: ${BUILD_LDFLAGS:=''}
	: ${BUILD_LIBS:=''}
	: ${BUILD_EXEEXT:='$x'}
	: ${BUILD_OBJEXT:='o'}
a4221 4
# Check whether --with-build-cc or --without-build-cc was given.
if test "${with_build_cc+set}" = set; then
  withval="$with_build_cc"
  BUILD_CC="$withval"
d4223 3
a4225 22
  for ac_prog in gcc cc cl
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:2371: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_BUILD_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$BUILD_CC"; then
  ac_cv_prog_BUILD_CC="$BUILD_CC" # Let the user override the test.
else
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_BUILD_CC="$ac_prog"
echo "$as_me:2386: found $ac_dir/$ac_word" >&5
break
done
d4228 11
a4238 5
fi
BUILD_CC=$ac_cv_prog_BUILD_CC
if test -n "$BUILD_CC"; then
  echo "$as_me:2394: result: $BUILD_CC" >&5
echo "${ECHO_T}$BUILD_CC" >&6
d4240 1
a4240 2
  echo "$as_me:2397: result: no" >&5
echo "${ECHO_T}no" >&6
d4242 1
d4244 1
a4244 2
  test -n "$BUILD_CC" && break
done
d4246 4
a4249 13
fi;
	echo "$as_me:2405: checking for native build C compiler" >&5
echo $ECHO_N "checking for native build C compiler... $ECHO_C" >&6
	echo "$as_me:2407: result: $BUILD_CC" >&5
echo "${ECHO_T}$BUILD_CC" >&6

	echo "$as_me:2410: checking for native build C preprocessor" >&5
echo $ECHO_N "checking for native build C preprocessor... $ECHO_C" >&6

# Check whether --with-build-cpp or --without-build-cpp was given.
if test "${with_build_cpp+set}" = set; then
  withval="$with_build_cpp"
  BUILD_CPP="$withval"
d4251 14
a4264 4
  BUILD_CPP='$(BUILD_CC) -E'
fi;
	echo "$as_me:2420: result: $BUILD_CPP" >&5
echo "${ECHO_T}$BUILD_CPP" >&6
d4266 13
a4278 2
	echo "$as_me:2423: checking for native build C flags" >&5
echo $ECHO_N "checking for native build C flags... $ECHO_C" >&6
d4280 6
a4285 7
# Check whether --with-build-cflags or --without-build-cflags was given.
if test "${with_build_cflags+set}" = set; then
  withval="$with_build_cflags"
  BUILD_CFLAGS="$withval"
fi;
	echo "$as_me:2431: result: $BUILD_CFLAGS" >&5
echo "${ECHO_T}$BUILD_CFLAGS" >&6
d4287 5
a4291 2
	echo "$as_me:2434: checking for native build C preprocessor-flags" >&5
echo $ECHO_N "checking for native build C preprocessor-flags... $ECHO_C" >&6
d4293 1
a4293 7
# Check whether --with-build-cppflags or --without-build-cppflags was given.
if test "${with_build_cppflags+set}" = set; then
  withval="$with_build_cppflags"
  BUILD_CPPFLAGS="$withval"
fi;
	echo "$as_me:2442: result: $BUILD_CPPFLAGS" >&5
echo "${ECHO_T}$BUILD_CPPFLAGS" >&6
d4295 1
a4295 2
	echo "$as_me:2445: checking for native build linker-flags" >&5
echo $ECHO_N "checking for native build linker-flags... $ECHO_C" >&6
d4297 11
a4307 7
# Check whether --with-build-ldflags or --without-build-ldflags was given.
if test "${with_build_ldflags+set}" = set; then
  withval="$with_build_ldflags"
  BUILD_LDFLAGS="$withval"
fi;
	echo "$as_me:2453: result: $BUILD_LDFLAGS" >&5
echo "${ECHO_T}$BUILD_LDFLAGS" >&6
d4309 212
a4520 2
	echo "$as_me:2456: checking for native build linker-libraries" >&5
echo $ECHO_N "checking for native build linker-libraries... $ECHO_C" >&6
d4522 56
a4577 7
# Check whether --with-build-libs or --without-build-libs was given.
if test "${with_build_libs+set}" = set; then
  withval="$with_build_libs"
  BUILD_LIBS="$withval"
fi;
	echo "$as_me:2464: result: $BUILD_LIBS" >&5
echo "${ECHO_T}$BUILD_LIBS" >&6
d4583 1
a4583 1
	: ${BUILD_CC:='$(CC)'}
d4585 3
a4587 6
	if ( test "$BUILD_CC" = "$CC" || test "$BUILD_CC" = '$(CC)' ) ; then
		{ { echo "$as_me:2474: error: Cross-build requires two compilers.
Use --with-build-cc to specify the native compiler." >&5
echo "$as_me: error: Cross-build requires two compilers.
Use --with-build-cc to specify the native compiler." >&2;}
   { (exit 1); exit 1; }; }
d4591 6
a4596 6
	: ${BUILD_CC:='$(CC)'}
	: ${BUILD_CPP:='$(CPP)'}
	: ${BUILD_CFLAGS:='$(CFLAGS)'}
	: ${BUILD_CPPFLAGS:='$(CPPFLAGS)'}
	: ${BUILD_LDFLAGS:='$(LDFLAGS)'}
	: ${BUILD_LIBS:='$(LIBS)'}
d4601 11
d4615 4
a4618 4
echo "$as_me:2495: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d4623 11
a4633 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
echo "$as_me:2510: found $ac_dir/$ac_word" >&5
break
d4635 2
d4642 2
a4643 2
  echo "$as_me:2518: result: $RANLIB" >&5
echo "${ECHO_T}$RANLIB" >&6
d4645 2
a4646 2
  echo "$as_me:2521: result: no" >&5
echo "${ECHO_T}no" >&6
d4649 1
d4655 4
a4658 4
echo "$as_me:2530: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d4663 11
a4673 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_RANLIB="ranlib"
echo "$as_me:2545: found $ac_dir/$ac_word" >&5
break
d4675 2
a4677 1
  test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB="':'"
d4682 2
a4683 2
  echo "$as_me:2554: result: $ac_ct_RANLIB" >&5
echo "${ECHO_T}$ac_ct_RANLIB" >&6
d4685 2
a4686 2
  echo "$as_me:2557: result: no" >&5
echo "${ECHO_T}no" >&6
d4689 11
a4699 1
  RANLIB=$ac_ct_RANLIB
d4704 2
d4709 4
a4712 4
echo "$as_me:2569: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_AR+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d4717 11
a4727 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_AR="${ac_tool_prefix}ar"
echo "$as_me:2584: found $ac_dir/$ac_word" >&5
break
d4729 2
d4736 2
a4737 2
  echo "$as_me:2592: result: $AR" >&5
echo "${ECHO_T}$AR" >&6
d4739 2
a4740 2
  echo "$as_me:2595: result: no" >&5
echo "${ECHO_T}no" >&6
d4743 1
d4749 4
a4752 4
echo "$as_me:2604: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_AR+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d4757 11
a4767 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_AR="ar"
echo "$as_me:2619: found $ac_dir/$ac_word" >&5
break
d4769 2
a4771 1
  test -z "$ac_cv_prog_ac_ct_AR" && ac_cv_prog_ac_ct_AR="ar"
d4776 2
a4777 2
  echo "$as_me:2628: result: $ac_ct_AR" >&5
echo "${ECHO_T}$ac_ct_AR" >&6
d4779 2
a4780 2
  echo "$as_me:2631: result: no" >&5
echo "${ECHO_T}no" >&6
d4783 11
a4793 1
  AR=$ac_ct_AR
d4798 8
a4805 2
if test "${cf_cv_subst_AR_OPTS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d4808 25
a4832 2
echo "$as_me:2644: checking for archiver options (symbol AR_OPTS)" >&5
echo $ECHO_N "checking for archiver options (symbol AR_OPTS)... $ECHO_C" >&6
d4834 4
a4837 2
if test -z "$AR_OPTS" ; then
	AR_OPTS=rv
d4840 5
a4845 3
cf_cv_subst_AR_OPTS=$AR_OPTS
echo "$as_me:2653: result: $AR_OPTS" >&5
echo "${ECHO_T}$AR_OPTS" >&6
a4846 1
fi
a4847 2
echo "$as_me:2658: checking if you want to see long compiling messages" >&5
echo $ECHO_N "checking if you want to see long compiling messages... $ECHO_C" >&6
d4849 8
a4856 4
# Check whether --enable-echo or --disable-echo was given.
if test "${enable_echo+set}" = set; then
  enableval="$enable_echo"
  test "$enableval" != no && enableval=yes
d4883 11
a4893 3
fi;
echo "$as_me:2692: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
a4901 2
echo "$as_me:2702: checking if you want to check memory-leaks" >&5
echo $ECHO_N "checking if you want to check memory-leaks... $ECHO_C" >&6
d4903 5
a4907 4
# Check whether --enable-find-leaks or --disable-find-leaks was given.
if test "${enable_find_leaks+set}" = set; then
  enableval="$enable_find_leaks"
  test "$enableval" != yes && enableval=no
d4917 6
a4922 6
fi;
echo "$as_me:2719: result: $with_leak_checks" >&5
echo "${ECHO_T}$with_leak_checks" >&6
test "$with_leak_checks" = "yes" && cat >>confdefs.h <<\EOF
#define LY_FIND_LEAKS 1
EOF
d4927 5
a4931 7
echo "$as_me:2728: checking if you want to enable debug-code" >&5
echo $ECHO_N "checking if you want to enable debug-code... $ECHO_C" >&6

# Check whether --enable-debug or --disable-debug was given.
if test "${enable_debug+set}" = set; then
  enableval="$enable_debug"
  test "$enableval" != yes && enableval=no
d4941 4
a4944 3
fi;
echo "$as_me:2745: result: $with_debug" >&5
echo "${ECHO_T}$with_debug" >&6
d4968 5
a4972 7
echo "$as_me:2770: checking if you want to enable lynx trace code *recommended* " >&5
echo $ECHO_N "checking if you want to enable lynx trace code *recommended* ... $ECHO_C" >&6

# Check whether --enable-trace or --disable-trace was given.
if test "${enable_trace+set}" = set; then
  enableval="$enable_trace"
  test "$enableval" != no && enableval=yes
d4982 5
a4986 6
fi;
echo "$as_me:2787: result: $with_trace" >&5
echo "${ECHO_T}$with_trace" >&6
test $with_trace = no && cat >>confdefs.h <<\EOF
#define NO_LYNX_TRACE 1
EOF
a4987 2
echo "$as_me:2793: checking if you want verbose trace code" >&5
echo $ECHO_N "checking if you want verbose trace code... $ECHO_C" >&6
d4989 5
a4993 4
# Check whether --enable-vertrace or --disable-vertrace was given.
if test "${enable_vertrace+set}" = set; then
  enableval="$enable_vertrace"
  test "$enableval" != yes && enableval=no
d5003 6
a5008 6
fi;
echo "$as_me:2810: result: $with_vertrace" >&5
echo "${ECHO_T}$with_vertrace" >&6
test $with_vertrace = yes && cat >>confdefs.h <<\EOF
#define LY_TRACELINE __LINE__
EOF
d5012 5
a5016 7
echo "$as_me:2818: checking if you want to turn on gcc warnings" >&5
echo $ECHO_N "checking if you want to turn on gcc warnings... $ECHO_C" >&6

# Check whether --enable-warnings or --disable-warnings was given.
if test "${enable_warnings+set}" = set; then
  enableval="$enable_warnings"
  test "$enableval" != yes && enableval=no
d5026 4
a5029 3
fi;
echo "$as_me:2835: result: $with_warnings" >&5
echo "${ECHO_T}$with_warnings" >&6
d5051 2
a5052 2
	{ echo "$as_me:2858: checking for $CC __attribute__ directives..." >&5
echo "$as_me: checking for $CC __attribute__ directives..." >&6;}
d5054 1
a5054 1
#line 2861 "configure"
d5092 1
a5092 1
		if { (eval echo "$as_me:2899: \"$ac_compile\"") >&5
d5095 4
a5098 4
  echo "$as_me:2902: \$? = $ac_status" >&5
  (exit $ac_status); }; then
			test -n "$verbose" && echo "$as_me:2904: result: ... $cf_attribute" >&5
echo "${ECHO_T}... $cf_attribute" >&6
d5108 2
d5112 2
a5113 2
	echo "$as_me:2917: checking version of $CC" >&5
echo $ECHO_N "checking version of $CC... $ECHO_C" >&6
d5116 2
a5117 2
	echo "$as_me:2921: result: $GCC_VERSION" >&5
echo "${ECHO_T}$GCC_VERSION" >&6
d5120 3
d5128 2
a5129 2
		echo "$as_me:2930: checking if this is really Intel C compiler" >&5
echo $ECHO_N "checking if this is really Intel C compiler... $ECHO_C" >&6
d5132 2
a5133 3
		cat >conftest.$ac_ext <<_ACEOF
#line 2935 "configure"
#include "confdefs.h"
d5148 1
a5148 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:2952: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:2955: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:2958: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:2961: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a5151 3
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d5153 1
a5153 1
rm -f conftest.$ac_objext conftest.$ac_ext
d5155 2
a5156 2
		echo "$as_me:2972: result: $INTEL_COMPILER" >&5
echo "${ECHO_T}$INTEL_COMPILER" >&6
d5161 1
d5163 1
a5163 1
#line 2979 "configure"
a5170 1
# remark #1682: implicit conversion of a 64-bit integral type to a smaller integral type (potential portability problem)
d5178 1
a5178 1
# warning #269: invalid format string conversion
d5180 2
a5181 2
	{ echo "$as_me:2997: checking for $CC warning options..." >&5
echo "$as_me: checking for $CC warning options..." >&6;}
d5184 1
a5184 1
	for cf_opt in  \
a5185 1
		wd1682 \
d5189 1
a5190 1
		wd593 \
d5196 1
a5196 1
		if { (eval echo "$as_me:3014: \"$ac_compile\"") >&5
d5199 4
a5202 4
  echo "$as_me:3017: \$? = $ac_status" >&5
  (exit $ac_status); }; then
			test -n "$verbose" && echo "$as_me:3019: result: ... -$cf_opt" >&5
echo "${ECHO_T}... -$cf_opt" >&6
d5210 2
a5211 2
	{ echo "$as_me:3028: checking for $CC warning options..." >&5
echo "$as_me: checking for $CC warning options..." >&6;}
d5230 1
a5230 1
		if { (eval echo "$as_me:3048: \"$ac_compile\"") >&5
d5233 4
a5236 4
  echo "$as_me:3051: \$? = $ac_status" >&5
  (exit $ac_status); }; then
			test -n "$verbose" && echo "$as_me:3053: result: ... -$cf_opt" >&5
echo "${ECHO_T}... -$cf_opt" >&6
d5243 1
a5243 1
				3.3*)
d5246 3
d5260 2
a5264 2
echo "$as_me:3078: checking if you want to link with dbmalloc for testing" >&5
echo $ECHO_N "checking if you want to link with dbmalloc for testing... $ECHO_C" >&6
d5266 13
a5278 4
# Check whether --with-dbmalloc or --without-dbmalloc was given.
if test "${with_dbmalloc+set}" = set; then
  withval="$with_dbmalloc"
  with_dbmalloc=$withval
d5280 97
a5376 10
  with_dbmalloc=no
fi;
echo "$as_me:3088: result: $with_dbmalloc" >&5
echo "${ECHO_T}$with_dbmalloc" >&6
if test $with_dbmalloc = yes ; then

echo "$as_me:3092: checking for debug_malloc in -ldbmalloc" >&5
echo $ECHO_N "checking for debug_malloc in -ldbmalloc... $ECHO_C" >&6
if test "${ac_cv_lib_dbmalloc_debug_malloc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d5380 2
a5381 3
cat >conftest.$ac_ext <<_ACEOF
#line 3100 "configure"
#include "confdefs.h"
d5383 3
a5385 1
/* Override any gcc2 internal prototype to avoid an error.  */
a5388 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d5393 1
a5393 1
debug_malloc ();
d5398 1
a5398 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:3119: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:3122: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:3125: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3128: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d5401 1
a5401 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dbmalloc_debug_malloc=no
d5403 2
a5404 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d5407 4
a5410 4
echo "$as_me:3139: result: $ac_cv_lib_dbmalloc_debug_malloc" >&5
echo "${ECHO_T}$ac_cv_lib_dbmalloc_debug_malloc" >&6
if test $ac_cv_lib_dbmalloc_debug_malloc = yes; then
  cat >>confdefs.h <<EOF
d5412 1
a5412 1
EOF
a5419 2
echo "$as_me:3152: checking if you want to link with dmalloc for testing" >&5
echo $ECHO_N "checking if you want to link with dmalloc for testing... $ECHO_C" >&6
d5421 16
a5436 4
# Check whether --with-dmalloc or --without-dmalloc was given.
if test "${with_dmalloc+set}" = set; then
  withval="$with_dmalloc"
  with_dmalloc=$withval
d5438 97
a5534 10
  with_dmalloc=no
fi;
echo "$as_me:3162: result: $with_dmalloc" >&5
echo "${ECHO_T}$with_dmalloc" >&6
if test $with_dmalloc = yes ; then

echo "$as_me:3166: checking for dmalloc_debug in -ldmalloc" >&5
echo $ECHO_N "checking for dmalloc_debug in -ldmalloc... $ECHO_C" >&6
if test "${ac_cv_lib_dmalloc_dmalloc_debug+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d5538 2
a5539 3
cat >conftest.$ac_ext <<_ACEOF
#line 3174 "configure"
#include "confdefs.h"
d5541 3
a5543 1
/* Override any gcc2 internal prototype to avoid an error.  */
a5546 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d5551 1
a5551 1
dmalloc_debug ();
d5556 1
a5556 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:3193: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:3196: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:3199: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3202: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d5559 1
a5559 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dmalloc_dmalloc_debug=no
d5561 2
a5562 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d5565 4
a5568 4
echo "$as_me:3213: result: $ac_cv_lib_dmalloc_dmalloc_debug" >&5
echo "${ECHO_T}$ac_cv_lib_dmalloc_dmalloc_debug" >&6
if test $ac_cv_lib_dmalloc_dmalloc_debug = yes; then
  cat >>confdefs.h <<EOF
d5570 1
a5570 1
EOF
a5577 3
cat >>confdefs.h <<\EOF
#define UNIX 1
EOF
d5579 11
a5589 4
echo "$as_me:3230: checking for $CC option to accept ANSI C" >&5
echo $ECHO_N "checking for $CC option to accept ANSI C... $ECHO_C" >&6
if test "${ac_cv_prog_cc_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d5591 3
a5593 33
  ac_cv_prog_cc_stdc=no
ac_save_CC=$CC
cat >conftest.$ac_ext <<_ACEOF
#line 3238 "configure"
#include "confdefs.h"
#include <stdarg.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
struct buf { int x; };
FILE * (*rcsopen) (struct buf *, struct stat *, int);
static char *e (p, i)
     char **p;
     int i;
{
  return p[i];
}
static char *f (char * (*g) (char **, int), char **p, ...)
{
  char *s;
  va_list v;
  va_start (v,p);
  s = g (p, va_arg (v,int));
  va_end (v);
  return s;
}
int test (int i, double x);
struct s1 {int (*f) (int a);};
struct s2 {int (*f) (double a);};
int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
int argc;
char **argv;
d5597 28
a5624 89
return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
  ;
  return 0;
}
_ACEOF
# Don't try gcc -ansi; that turns off useful extensions and
# breaks some systems' header files.
# AIX			-qlanglvl=ansi
# Ultrix and OSF/1	-std1
# HP-UX 10.20 and later	-Ae
# HP-UX older versions	-Aa -D_HPUX_SOURCE
# SVR4			-Xc -D__EXTENSIONS__
for ac_arg in "" -qlanglvl=ansi -std1 -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
do
  CC="$ac_save_CC $ac_arg"
  rm -f conftest.$ac_objext
if { (eval echo "$as_me:3287: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3290: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:3293: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3296: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_prog_cc_stdc=$ac_arg
break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext
done
rm -f conftest.$ac_ext conftest.$ac_objext
CC=$ac_save_CC

fi

case "x$ac_cv_prog_cc_stdc" in
  x|xno)
    echo "$as_me:3313: result: none needed" >&5
echo "${ECHO_T}none needed" >&6 ;;
  *)
    echo "$as_me:3316: result: $ac_cv_prog_cc_stdc" >&5
echo "${ECHO_T}$ac_cv_prog_cc_stdc" >&6
    CC="$CC $ac_cv_prog_cc_stdc" ;;
esac

echo "$as_me:3321: checking for an ANSI C-conforming const" >&5
echo $ECHO_N "checking for an ANSI C-conforming const... $ECHO_C" >&6
if test "${ac_cv_c_const+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 3327 "configure"
#include "confdefs.h"

int
main ()
{
/* FIXME: Include the comments suggested by Paul. */
#ifndef __cplusplus
  /* Ultrix mips cc rejects this.  */
  typedef int charset[2];
  const charset x;
  /* SunOS 4.1.1 cc rejects this.  */
  char const *const *ccp;
  char **p;
  /* NEC SVR4.0.2 mips cc rejects this.  */
  struct point {int x, y;};
  static struct point const zero = {0,0};
  /* AIX XL C 1.02.0.0 rejects this.
     It does not let you subtract one const X* pointer from another in
     an arm of an if-expression whose if-part is not a constant
     expression */
  const char *g = "string";
  ccp = &g + (g ? g-g : 0);
  /* HPUX 7.0 cc rejects these. */
  ++ccp;
  p = (char**) ccp;
  ccp = (char const *const *) p;
  { /* SCO 3.2v4 cc rejects this.  */
    char *t;
    char const *s = 0 ? (char *) 0 : (char const *) 0;

    *t++ = 0;
  }
d5642 1
d5644 1
d5651 1
a5651 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:3385: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3388: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:3391: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3394: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d5654 1
a5654 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_c_const=no
d5656 1
a5656 1
rm -f conftest.$ac_objext conftest.$ac_ext
d5658 2
a5659 2
echo "$as_me:3404: result: $ac_cv_c_const" >&5
echo "${ECHO_T}$ac_cv_c_const" >&6
d5662 1
a5662 3
cat >>confdefs.h <<\EOF
#define const
EOF
d5666 3
d5680 3
d5685 1
a5685 1
test -n "$PROG_EXT" && cat >>confdefs.h <<EOF
d5687 2
a5688 1
EOF
d5710 4
a5713 5

echo "$as_me:3452: checking for strcmp in -lc_s" >&5
echo $ECHO_N "checking for strcmp in -lc_s... $ECHO_C" >&6
if test "${ac_cv_lib_c_s_strcmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d5717 2
a5718 3
cat >conftest.$ac_ext <<_ACEOF
#line 3460 "configure"
#include "confdefs.h"
d5720 3
a5722 1
/* Override any gcc2 internal prototype to avoid an error.  */
a5725 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d5730 1
a5730 1
strcmp ();
d5735 1
a5735 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:3479: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:3482: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:3485: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3488: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d5738 1
a5738 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_c_s_strcmp=no
d5740 2
a5741 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d5744 4
a5747 4
echo "$as_me:3499: result: $ac_cv_lib_c_s_strcmp" >&5
echo "${ECHO_T}$ac_cv_lib_c_s_strcmp" >&6
if test $ac_cv_lib_c_s_strcmp = yes; then
  cat >>confdefs.h <<EOF
d5749 1
a5749 1
EOF
d5786 87
d5902 2
a5903 2
		{ echo "$as_me:3570: WARNING: You should consider using gcc or rcc if available" >&5
echo "$as_me: WARNING: You should consider using gcc or rcc if available" >&2;}
d5909 4
a5912 4
echo "$as_me:3577: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d5917 11
a5927 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_CC="$ac_prog"
echo "$as_me:3592: found $ac_dir/$ac_word" >&5
break
d5929 2
d5936 2
a5937 2
  echo "$as_me:3600: result: $CC" >&5
echo "${ECHO_T}$CC" >&6
d5939 2
a5940 2
  echo "$as_me:3603: result: no" >&5
echo "${ECHO_T}no" >&6
d5943 1
d5959 7
a5966 37
for ac_header in jcurses.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:3626: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 3632 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:3636: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:3642: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
a5967 6
echo "$as_me:3661: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a5968 1
fi
d5985 6
a5990 13

for ac_header in cursesX.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:3689: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 3695 "configure"
#include "confdefs.h"
#include <$ac_header>
d5992 1
a5992 34
if { (eval echo "$as_me:3699: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:3705: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:3724: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
 cat >>confdefs.h <<\EOF
#define HAVE_CURSESX_H 1
EOF
d5996 1
d6002 11
a6012 4
echo "$as_me:3741: checking for ${CC-cc} option to accept ANSI C" >&5
echo $ECHO_N "checking for ${CC-cc} option to accept ANSI C... $ECHO_C" >&6
if test "${cf_cv_ansi_cc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6094 1
a6094 1
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
d6102 5
a6106 3
	cat >conftest.$ac_ext <<_ACEOF
#line 3835 "configure"
#include "confdefs.h"
d6125 1
a6125 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:3856: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3859: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:3862: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:3865: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a6126 3
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d6128 1
a6128 1
rm -f conftest.$ac_objext conftest.$ac_ext
d6134 2
a6135 2
echo "$as_me:3878: result: $cf_cv_ansi_cc" >&5
echo "${ECHO_T}$cf_cv_ansi_cc" >&6
d6200 1
a6200 1
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
d6208 3
d6212 1
a6212 3
	cat >>confdefs.h <<\EOF
#define CC_HAS_PROTOS 1
EOF
d6217 1
d6219 1
a6219 1
	{ { echo "$as_me:3961: error: Your compiler does not appear to recognize prototypes.
d6223 12
a6234 7
	c. use a wrapper such as unproto" >&5
echo "$as_me: error: Your compiler does not appear to recognize prototypes.
You have the following choices:
	a. adjust your compiler options
	b. get an up-to-date compiler
	c. use a wrapper such as unproto" >&2;}
   { (exit 1); exit 1; }; }
d6237 6
a6242 4
	echo "$as_me:3974: checking for _LARGEFILE_SOURCE value needed for large files" >&5
echo $ECHO_N "checking for _LARGEFILE_SOURCE value needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_largefile_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6244 17
a6260 6
  while :; do
  ac_cv_sys_largefile_source=no
  cat >conftest.$ac_ext <<_ACEOF
#line 3982 "configure"
#include "confdefs.h"
#include <stdio.h>
d6264 1
a6264 1
return !fseeko;
d6269 1
a6269 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:3994: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:3997: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4000: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4003: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a6270 3
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d6272 4
a6275 30
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 4012 "configure"
#include "confdefs.h"
#define _LARGEFILE_SOURCE 1
#include <stdio.h>
int
main ()
{
return !fseeko;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4025: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4028: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4031: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4034: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sys_largefile_source=1; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d6277 2
a6278 141
rm -f conftest.$ac_objext conftest.$ac_ext
  break
done
fi
echo "$as_me:4045: result: $ac_cv_sys_largefile_source" >&5
echo "${ECHO_T}$ac_cv_sys_largefile_source" >&6
if test "$ac_cv_sys_largefile_source" != no; then

cat >>confdefs.h <<EOF
#define _LARGEFILE_SOURCE $ac_cv_sys_largefile_source
EOF

fi
rm -f conftest*

# We used to try defining _XOPEN_SOURCE=500 too, to work around a bug
# in glibc 2.1.3, but that breaks too many other things.
# If you want fseeko and ftello with glibc, upgrade to a fixed glibc.
echo "$as_me:4059: checking for fseeko" >&5
echo $ECHO_N "checking for fseeko... $ECHO_C" >&6
if test "${ac_cv_func_fseeko+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4065 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
return fseeko && fseeko (stdin, 0, 0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:4077: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:4080: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:4083: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4086: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_fseeko=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_fseeko=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:4096: result: $ac_cv_func_fseeko" >&5
echo "${ECHO_T}$ac_cv_func_fseeko" >&6
if test $ac_cv_func_fseeko = yes; then

cat >>confdefs.h <<\EOF
#define HAVE_FSEEKO 1
EOF

fi

# Check whether --enable-largefile or --disable-largefile was given.
if test "${enable_largefile+set}" = set; then
  enableval="$enable_largefile"

fi;
if test "$enable_largefile" != no; then

  echo "$as_me:4113: checking for special C compiler options needed for large files" >&5
echo $ECHO_N "checking for special C compiler options needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_largefile_CC+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_sys_largefile_CC=no
     if test "$GCC" != yes; then
       ac_save_CC=$CC
       while :; do
     	 # IRIX 6.2 and later do not support large files by default,
     	 # so use the C compiler's -n32 option if that helps.
         cat >conftest.$ac_ext <<_ACEOF
#line 4125 "configure"
#include "confdefs.h"
#include <sys/types.h>
 /* Check that off_t can represent 2**63 - 1 correctly.
    We can't simply define LARGE_OFF_T to be 9223372036854775807,
    since some C++ compilers masquerading as C compilers
    incorrectly reject 9223372036854775807.  */
#define LARGE_OFF_T (((off_t) 1 << 62) - 1 + ((off_t) 1 << 62))
  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
		       && LARGE_OFF_T % 2147483647 == 1)
		      ? 1 : -1];
int
main ()
{

  ;
  return 0;
}
_ACEOF
     	 rm -f conftest.$ac_objext
if { (eval echo "$as_me:4145: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4148: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4151: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4154: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext
     	 CC="$CC -n32"
     	 rm -f conftest.$ac_objext
if { (eval echo "$as_me:4164: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4167: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4170: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4173: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_sys_largefile_CC=' -n32'; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext
         break
d6284 2
a6285 2
echo "$as_me:4187: result: $ac_cv_sys_largefile_CC" >&5
echo "${ECHO_T}$ac_cv_sys_largefile_CC" >&6
d6290 4
a6293 4
  echo "$as_me:4193: checking for _FILE_OFFSET_BITS value needed for large files" >&5
echo $ECHO_N "checking for _FILE_OFFSET_BITS value needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_file_offset_bits+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6296 2
a6297 4
  ac_cv_sys_file_offset_bits=no
  cat >conftest.$ac_ext <<_ACEOF
#line 4201 "configure"
#include "confdefs.h"
d6315 2
a6316 16
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4221: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4224: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4227: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4230: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d6318 3
a6320 4
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 4239 "configure"
#include "confdefs.h"
d6339 1
a6339 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4260: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4263: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4266: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4269: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a6340 3
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d6342 2
a6343 1
rm -f conftest.$ac_objext conftest.$ac_ext
d6347 6
a6352 5
echo "$as_me:4280: result: $ac_cv_sys_file_offset_bits" >&5
echo "${ECHO_T}$ac_cv_sys_file_offset_bits" >&6
if test "$ac_cv_sys_file_offset_bits" != no; then

cat >>confdefs.h <<EOF
d6354 9
a6362 8
EOF

fi
rm -f conftest*
  echo "$as_me:4290: checking for _LARGE_FILES value needed for large files" >&5
echo $ECHO_N "checking for _LARGE_FILES value needed for large files... $ECHO_C" >&6
if test "${ac_cv_sys_large_files+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6365 2
a6366 4
  ac_cv_sys_large_files=no
  cat >conftest.$ac_ext <<_ACEOF
#line 4298 "configure"
#include "confdefs.h"
d6384 2
a6385 16
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4318: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4321: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4324: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4327: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d6387 3
a6389 4
rm -f conftest.$ac_objext conftest.$ac_ext
  cat >conftest.$ac_ext <<_ACEOF
#line 4336 "configure"
#include "confdefs.h"
d6408 1
a6408 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4357: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4360: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4363: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4366: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d6410 25
d6436 35
a6470 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d6472 3
a6474 1
rm -f conftest.$ac_objext conftest.$ac_ext
d6478 16
a6493 3
echo "$as_me:4377: result: $ac_cv_sys_large_files" >&5
echo "${ECHO_T}$ac_cv_sys_large_files" >&6
if test "$ac_cv_sys_large_files" != no; then
d6495 1
a6495 3
cat >>confdefs.h <<EOF
#define _LARGE_FILES $ac_cv_sys_large_files
EOF
d6498 1
a6498 2
rm -f conftest*
fi
d6509 1
d6511 4
a6514 4
	echo "$as_me:4399: checking whether to use struct dirent64" >&5
echo $ECHO_N "checking whether to use struct dirent64... $ECHO_C" >&6
if test "${cf_cv_struct_dirent64+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6517 2
a6518 3
		cat >conftest.$ac_ext <<_ACEOF
#line 4406 "configure"
#include "confdefs.h"
d6537 1
a6537 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4427: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4430: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4433: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4436: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d6540 59
a6598 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_struct_dirent64=no
a6599 1
rm -f conftest.$ac_objext conftest.$ac_ext
d6601 8
a6609 5
echo "$as_me:4447: result: $cf_cv_struct_dirent64" >&5
echo "${ECHO_T}$cf_cv_struct_dirent64" >&6
	test "$cf_cv_struct_dirent64" = yes && cat >>confdefs.h <<\EOF
#define HAVE_STRUCT_DIRENT64 1
EOF
d6614 4
a6617 4
echo "$as_me:4456: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6622 11
a6632 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
echo "$as_me:4471: found $ac_dir/$ac_word" >&5
break
d6634 2
d6641 2
a6642 2
  echo "$as_me:4479: result: $RANLIB" >&5
echo "${ECHO_T}$RANLIB" >&6
d6644 2
a6645 2
  echo "$as_me:4482: result: no" >&5
echo "${ECHO_T}no" >&6
d6648 1
d6654 4
a6657 4
echo "$as_me:4491: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6662 11
a6672 9
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_ac_ct_RANLIB="ranlib"
echo "$as_me:4506: found $ac_dir/$ac_word" >&5
break
d6674 2
a6676 1
  test -z "$ac_cv_prog_ac_ct_RANLIB" && ac_cv_prog_ac_ct_RANLIB=":"
d6681 2
a6682 2
  echo "$as_me:4515: result: $ac_ct_RANLIB" >&5
echo "${ECHO_T}$ac_ct_RANLIB" >&6
d6684 2
a6685 2
  echo "$as_me:4518: result: no" >&5
echo "${ECHO_T}no" >&6
d6688 11
a6698 1
  RANLIB=$ac_ct_RANLIB
d6703 4
a6706 4
echo "$as_me:4527: checking for ANSI C header files" >&5
echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
if test "${ac_cv_header_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6708 9
a6716 7
  cat >conftest.$ac_ext <<_ACEOF
#line 4533 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
d6719 2
a6720 15
if { (eval echo "$as_me:4541: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:4547: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
d6722 4
a6725 6
if test -z "$ac_cpp_err"; then
  ac_cv_header_stdc=yes
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_stdc=no
d6727 17
a6743 1
rm -f conftest.err conftest.$ac_ext
d6745 4
a6748 6
if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 4569 "configure"
#include "confdefs.h"
#include <string.h>
d6750 2
d6753 1
a6753 5
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
a6754 1
rm -f conftest*
d6756 2
a6757 1
fi
d6759 1
a6759 6
if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 4587 "configure"
#include "confdefs.h"
#include <stdlib.h>
d6761 2
a6763 7
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -f conftest*
d6767 10
a6776 277
if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then
  :
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4608 "configure"
#include "confdefs.h"
#include <ctype.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#else
# define ISLOWER(c) (('a' <= (c) && (c) <= 'i') \
                     || ('j' <= (c) && (c) <= 'r') \
                     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
#endif

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int
main ()
{
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
        || toupper (i) != TOUPPER (i))
      exit(2);
  exit (0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:4634: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:4637: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:4639: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4642: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_header_stdc=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
fi
echo "$as_me:4655: result: $ac_cv_header_stdc" >&5
echo "${ECHO_T}$ac_cv_header_stdc" >&6
if test $ac_cv_header_stdc = yes; then

cat >>confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF

fi

echo "$as_me:4665: checking for inline" >&5
echo $ECHO_N "checking for inline... $ECHO_C" >&6
if test "${ac_cv_c_inline+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat >conftest.$ac_ext <<_ACEOF
#line 4673 "configure"
#include "confdefs.h"
#ifndef __cplusplus
static $ac_kw int static_foo () {return 0; }
$ac_kw int foo () {return 0; }
#endif

_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4682: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4685: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4688: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4691: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_inline=$ac_kw; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done

fi
echo "$as_me:4702: result: $ac_cv_c_inline" >&5
echo "${ECHO_T}$ac_cv_c_inline" >&6
case $ac_cv_c_inline in
  inline | yes) ;;
  no)
cat >>confdefs.h <<\EOF
#define inline
EOF
 ;;
  *)  cat >>confdefs.h <<EOF
#define inline $ac_cv_c_inline
EOF
 ;;
esac

# On IRIX 5.3, sys/types and inttypes.h are conflicting.

for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \
                  inttypes.h stdint.h unistd.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:4723: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4729 "configure"
#include "confdefs.h"
$ac_includes_default
#include <$ac_header>
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4735: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4738: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4741: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4744: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Header=no"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:4754: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

echo "$as_me:4764: checking for off_t" >&5
echo $ECHO_N "checking for off_t... $ECHO_C" >&6
if test "${ac_cv_type_off_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4770 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((off_t *) 0)
  return 0;
if (sizeof (off_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4785: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4788: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4791: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4794: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_off_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_off_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:4804: result: $ac_cv_type_off_t" >&5
echo "${ECHO_T}$ac_cv_type_off_t" >&6
if test $ac_cv_type_off_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define off_t long
EOF

fi

echo "$as_me:4816: checking for size_t" >&5
echo $ECHO_N "checking for size_t... $ECHO_C" >&6
if test "${ac_cv_type_size_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4822 "configure"
#include "confdefs.h"
$ac_includes_default
int
main ()
{
if ((size_t *) 0)
  return 0;
if (sizeof (size_t))
  return 0;
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:4837: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:4840: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:4843: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4846: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_size_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_size_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:4856: result: $ac_cv_type_size_t" >&5
echo "${ECHO_T}$ac_cv_type_size_t" >&6
if test $ac_cv_type_size_t = yes; then
  :
else

cat >>confdefs.h <<EOF
#define size_t unsigned
EOF

fi

# The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
# for constant arguments.  Useless!
echo "$as_me:4870: checking for working alloca.h" >&5
echo $ECHO_N "checking for working alloca.h... $ECHO_C" >&6
if test "${ac_cv_working_alloca_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 4876 "configure"
#include "confdefs.h"
#include <alloca.h>
d6781 1
d6786 1
a6786 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:4888: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:4891: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:4894: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4897: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d6789 1
a6789 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_working_alloca_h=no
d6791 2
a6792 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d6794 2
a6795 2
echo "$as_me:4907: result: $ac_cv_working_alloca_h" >&5
echo "${ECHO_T}$ac_cv_working_alloca_h" >&6
d6798 1
a6798 3
cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA_H 1
EOF
d6802 4
a6805 4
echo "$as_me:4917: checking for alloca" >&5
echo $ECHO_N "checking for alloca... $ECHO_C" >&6
if test "${ac_cv_func_alloca_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6807 2
a6808 3
  cat >conftest.$ac_ext <<_ACEOF
#line 4923 "configure"
#include "confdefs.h"
d6816 1
a6816 1
#  if HAVE_ALLOCA_H
d6823 1
a6823 1
char *alloca ();
d6834 1
d6839 1
a6839 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:4955: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:4958: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:4961: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:4964: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d6842 1
a6842 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_alloca_works=no
d6844 2
a6845 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d6847 2
a6848 2
echo "$as_me:4974: result: $ac_cv_func_alloca_works" >&5
echo "${ECHO_T}$ac_cv_func_alloca_works" >&6
d6852 1
a6852 3
cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA 1
EOF
d6860 3
a6862 1
ALLOCA=alloca.$ac_objext
a6863 3
cat >>confdefs.h <<\EOF
#define C_ALLOCA 1
EOF
d6865 4
a6868 4
echo "$as_me:4995: checking whether \`alloca.c' needs Cray hooks" >&5
echo $ECHO_N "checking whether \`alloca.c' needs Cray hooks... $ECHO_C" >&6
if test "${ac_cv_os_cray+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6870 3
a6872 4
  cat >conftest.$ac_ext <<_ACEOF
#line 5001 "configure"
#include "confdefs.h"
#if defined(CRAY) && ! defined(CRAY2)
d6880 1
a6880 1
  egrep "webecray" >/dev/null 2>&1; then
d6888 2
a6889 2
echo "$as_me:5019: result: $ac_cv_os_cray" >&5
echo "${ECHO_T}$ac_cv_os_cray" >&6
d6892 3
a6894 20
    as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:5024: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5030 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
d6896 2
a6897 15
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif

  ;
  return 0;
}
a6898 27
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5061: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5064: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5067: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5070: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:5080: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then

cat >>confdefs.h <<EOF
#define CRAY_STACKSEG_END $ac_func
EOF
d6906 4
a6909 4
echo "$as_me:5094: checking stack direction for C alloca" >&5
echo $ECHO_N "checking stack direction for C alloca... $ECHO_C" >&6
if test "${ac_cv_c_stack_direction+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6911 1
a6911 1
  if test "$cross_compiling" = yes; then
d6914 3
a6916 3
  cat >conftest.$ac_ext <<_ACEOF
#line 5103 "configure"
#include "confdefs.h"
d6934 1
a6934 1
  exit (find_stack_direction () < 0);
d6937 1
a6937 11
rm -f conftest$ac_exeext
if { (eval echo "$as_me:5126: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5129: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:5131: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5134: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d6940 1
a6940 4
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_c_stack_direction=-1
d6942 2
a6943 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d6945 1
d6947 5
a6951 2
echo "$as_me:5146: result: $ac_cv_c_stack_direction" >&5
echo "${ECHO_T}$ac_cv_c_stack_direction" >&6
a6952 3
cat >>confdefs.h <<EOF
#define STACK_DIRECTION $ac_cv_c_stack_direction
EOF
d6956 11
a6966 12
for ac_header in stdlib.h unistd.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:5158: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5164 "configure"
#include "confdefs.h"
#include <$ac_header>
d6968 1
a6968 22
if { (eval echo "$as_me:5168: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:5174: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
a6969 8
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:5193: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a6970 1
fi
a6972 22
for ac_func in getpagesize
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:5206: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5212 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
a6973 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
d6975 11
a6985 3
  ;
  return 0;
}
a6986 26
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5243: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5246: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5249: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5252: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:5262: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
d6991 4
a6994 4
echo "$as_me:5272: checking for working mmap" >&5
echo $ECHO_N "checking for working mmap... $ECHO_C" >&6
if test "${ac_cv_func_mmap_fixed_mapped+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d6996 1
a6996 1
  if test "$cross_compiling" = yes; then
d6999 2
a7000 3
  cat >conftest.$ac_ext <<_ACEOF
#line 5281 "configure"
#include "confdefs.h"
d7002 3
d7020 1
a7020 1
   propogated back to all the places they're supposed to be.
d7030 1
a7030 1
#if !STDC_HEADERS && !HAVE_STDLIB_H
d7035 1
a7035 6
#if !HAVE_GETPAGESIZE
/* Assume that all systems that can run configure have sys/param.h.  */
# if !HAVE_SYS_PARAM_H
#  define HAVE_SYS_PARAM_H 1
# endif

d7039 1
a7039 1
#  if HAVE_SYS_PARAM_H
d7070 1
d7072 1
a7072 1
  int fd;
d7079 1
a7079 1
    exit (1);
d7085 1
a7085 1
    exit (1);
d7087 1
a7087 1
    exit (1);
d7090 18
d7113 1
a7113 5
    exit (1);
  data2 = (char *) malloc (2 * pagesize);
  if (!data2)
    exit (1);
  data2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);
d7115 2
a7116 2
                     MAP_PRIVATE | MAP_FIXED, fd, 0L))
    exit (1);
d7119 1
a7119 1
      exit (1);
d7128 1
a7128 1
    exit (1);
d7130 1
a7130 1
    exit (1);
d7133 1
a7133 1
      exit (1);
d7135 1
a7135 1
  exit (0);
d7138 1
a7138 11
rm -f conftest$ac_exeext
if { (eval echo "$as_me:5408: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5411: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:5413: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5416: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d7141 1
a7141 4
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_mmap_fixed_mapped=no
d7143 2
a7144 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d7146 1
d7148 2
a7149 2
echo "$as_me:5428: result: $ac_cv_func_mmap_fixed_mapped" >&5
echo "${ECHO_T}$ac_cv_func_mmap_fixed_mapped" >&6
d7152 1
a7152 3
cat >>confdefs.h <<\EOF
#define HAVE_MMAP 1
EOF
d7155 1
a7155 1
rm -f conftest.mmap
d7157 5
a7161 4
    echo "$as_me:5439: checking whether we are using the GNU C Library 2.1 or newer" >&5
echo $ECHO_N "checking whether we are using the GNU C Library 2.1 or newer... $ECHO_C" >&6
if test "${ac_cv_gnu_library_2_1+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d7163 2
a7164 3
  cat >conftest.$ac_ext <<_ACEOF
#line 5445 "configure"
#include "confdefs.h"
d7175 1
a7175 1
  egrep "Lucky GNU user" >/dev/null 2>&1; then
d7182 2
d7185 2
a7186 2
echo "$as_me:5465: result: $ac_cv_gnu_library_2_1" >&5
echo "${ECHO_T}$ac_cv_gnu_library_2_1" >&6
d7190 1
a7190 4
	case $cf_cv_system_name in
	os2*)	PATHSEP=';'  ;;
	*)	PATHSEP=':'  ;;
	esac
d7199 1
d7208 3
a7210 1
for ac_header in argz.h limits.h locale.h nl_types.h malloc.h stddef.h \
d7212 6
a7217 11
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:5494: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5500 "configure"
#include "confdefs.h"
#include <$ac_header>
d7219 3
a7221 33
if { (eval echo "$as_me:5504: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:5510: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:5529: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
d7224 1
a7224 1
for ac_func in feof_unlocked fgets_unlocked getcwd getegid geteuid \
d7227 6
a7232 37
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:5544: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5550 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif

  ;
  return 0;
}
a7233 26
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5581: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5584: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5587: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5590: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:5600: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
a7237 8
# Check whether --with-libiconv-prefix or --without-libiconv-prefix was given.
if test "${with_libiconv_prefix+set}" = set; then
  withval="$with_libiconv_prefix"

    for dir in `echo "$withval" | tr : ' '`; do
      if test -d $dir/include; then CPPFLAGS="$CPPFLAGS -I$dir/include"; fi
      if test -d $dir/lib; then LDFLAGS="$LDFLAGS -L$dir/lib"; fi
    done
a7238 1
fi;
a7239 5
  echo "$as_me:5621: checking for iconv" >&5
echo $ECHO_N "checking for iconv... $ECHO_C" >&6
if test "${am_cv_func_iconv+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d7241 42
a7282 7
    am_cv_func_iconv="no, consider installing GNU libiconv"
    am_cv_lib_iconv=no
    cat >conftest.$ac_ext <<_ACEOF
#line 5630 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <iconv.h>
d7286 1
a7286 3
iconv_t cd = iconv_open("","");
       iconv(cd,NULL,NULL,NULL,NULL);
       iconv_close(cd);
d7291 2
a7292 50
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5645: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5648: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5651: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5654: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_func_iconv=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
    if test "$am_cv_func_iconv" != yes; then
      am_save_LIBS="$LIBS"
      LIBS="$LIBS -liconv"
      cat >conftest.$ac_ext <<_ACEOF
#line 5666 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <iconv.h>
int
main ()
{
iconv_t cd = iconv_open("","");
         iconv(cd,NULL,NULL,NULL,NULL);
         iconv_close(cd);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5681: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5684: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5687: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5690: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_lib_iconv=yes
        am_cv_func_iconv=yes
d7294 1
a7294 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d7296 10
a7305 3
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
      LIBS="$am_save_LIBS"
    fi
a7306 4
fi
echo "$as_me:5703: result: $am_cv_func_iconv" >&5
echo "${ECHO_T}$am_cv_func_iconv" >&6
  if test "$am_cv_func_iconv" = yes; then
d7308 1
a7308 3
cat >>confdefs.h <<\EOF
#define HAVE_ICONV 1
EOF
d7310 10
a7319 5
    echo "$as_me:5711: checking for iconv declaration" >&5
echo $ECHO_N "checking for iconv declaration... $ECHO_C" >&6
    if test "${am_cv_proto_iconv+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d7321 1
a7321 3
      cat >conftest.$ac_ext <<_ACEOF
#line 5718 "configure"
#include "confdefs.h"
d7323 16
a7338 11
#include <stdlib.h>
#include <iconv.h>
extern
#ifdef __cplusplus
"C"
#endif
#if defined(__STDC__) || defined(__cplusplus)
size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
#else
size_t iconv();
#endif
d7340 9
d7352 1
a7352 1

d7357 2
a7358 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:5742: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:5745: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:5748: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5751: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_proto_iconv_arg1=""
d7360 1
a7360 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
am_cv_proto_iconv_arg1="const"
d7362 23
a7384 2
rm -f conftest.$ac_objext conftest.$ac_ext
      am_cv_proto_iconv="extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);"
d7387 23
a7409 5
    am_cv_proto_iconv=`echo "$am_cv_proto_iconv" | tr -s ' ' | sed -e 's/( /(/'`
    echo "$as_me:5764: result: ${ac_t:-
         }$am_cv_proto_iconv" >&5
echo "${ECHO_T}${ac_t:-
         }$am_cv_proto_iconv" >&6
d7411 1
a7411 3
cat >>confdefs.h <<EOF
#define ICONV_CONST $am_cv_proto_iconv_arg1
EOF
a7412 5
  fi
  LIBICONV=
  if test "$am_cv_lib_iconv" = yes; then
    LIBICONV="-liconv"
  fi
d7414 4
a7417 34
  echo "$as_me:5779: checking for nl_langinfo and CODESET" >&5
echo $ECHO_N "checking for nl_langinfo and CODESET... $ECHO_C" >&6
if test "${am_cv_langinfo_codeset+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5785 "configure"
#include "confdefs.h"
#include <langinfo.h>
int
main ()
{
char* cs = nl_langinfo(CODESET);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5797: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5800: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5803: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5806: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_langinfo_codeset=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
am_cv_langinfo_codeset=no
a7418 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d7420 28
a7448 3
echo "$as_me:5817: result: $am_cv_langinfo_codeset" >&5
echo "${ECHO_T}$am_cv_langinfo_codeset" >&6
  if test $am_cv_langinfo_codeset = yes; then
d7450 10
a7459 3
cat >>confdefs.h <<\EOF
#define HAVE_LANGINFO_CODESET 1
EOF
a7460 1
  fi
d7462 4
a7465 5
   if test $ac_cv_header_locale_h = yes; then
    echo "$as_me:5828: checking for LC_MESSAGES" >&5
echo $ECHO_N "checking for LC_MESSAGES... $ECHO_C" >&6
if test "${am_cv_val_LC_MESSAGES+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d7467 18
a7484 4
  cat >conftest.$ac_ext <<_ACEOF
#line 5834 "configure"
#include "confdefs.h"
#include <locale.h>
d7488 5
a7492 1
return LC_MESSAGES
d7497 2
a7498 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:5846: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:5849: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:5852: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:5855: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  am_cv_val_LC_MESSAGES=yes
a7499 9
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
am_cv_val_LC_MESSAGES=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:5865: result: $am_cv_val_LC_MESSAGES" >&5
echo "${ECHO_T}$am_cv_val_LC_MESSAGES" >&6
    if test $am_cv_val_LC_MESSAGES = yes; then
d7501 5
a7505 3
cat >>confdefs.h <<\EOF
#define HAVE_LC_MESSAGES 1
EOF
a7506 4
    fi
  fi
   echo "$as_me:5875: checking whether NLS is requested" >&5
echo $ECHO_N "checking whether NLS is requested... $ECHO_C" >&6
a7507 9
# Check whether --enable-nls or --disable-nls was given.
if test "${enable_nls+set}" = set; then
  enableval="$enable_nls"
  USE_NLS=$enableval
else
  USE_NLS=no
fi;
    echo "$as_me:5885: result: $USE_NLS" >&5
echo "${ECHO_T}$USE_NLS" >&6
d7509 1
a7509 3
    BUILD_INCLUDED_LIBINTL=no
    USE_INCLUDED_LIBINTL=no
    INTLLIBS=
a7510 1
        if test "$USE_NLS" = "yes"; then
d7512 2
a7513 3
cat >>confdefs.h <<\EOF
#define ENABLE_NLS 1
EOF
a7514 2
      echo "$as_me:5898: checking whether included gettext is requested" >&5
echo $ECHO_N "checking whether included gettext is requested... $ECHO_C" >&6
d7516 18
a7533 9
# Check whether --with-included-gettext or --without-included-gettext was given.
if test "${with_included_gettext+set}" = set; then
  withval="$with_included_gettext"
  nls_cv_force_use_gnu_gettext=$withval
else
  nls_cv_force_use_gnu_gettext=no
fi;
      echo "$as_me:5908: result: $nls_cv_force_use_gnu_gettext" >&5
echo "${ECHO_T}$nls_cv_force_use_gnu_gettext" >&6
d7535 4
a7538 29
      nls_cv_use_gnu_gettext="$nls_cv_force_use_gnu_gettext"
      if test "$nls_cv_force_use_gnu_gettext" != "yes"; then
                        	CATOBJEXT=NONE

echo "$as_me:5915: checking for libintl.h" >&5
echo $ECHO_N "checking for libintl.h... $ECHO_C" >&6
if test "${ac_cv_header_libintl_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 5921 "configure"
#include "confdefs.h"
#include <libintl.h>
_ACEOF
if { (eval echo "$as_me:5925: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:5931: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
a7539 14
if test -z "$ac_cpp_err"; then
  ac_cv_header_libintl_h=yes
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_libintl_h=no
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:5950: result: $ac_cv_header_libintl_h" >&5
echo "${ECHO_T}$ac_cv_header_libintl_h" >&6
if test $ac_cv_header_libintl_h = yes; then
  cf_find_header=yes
else
a7540 1
	cf_find_header=no
d7543 10
a7552 5
test -d $HOME && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/gettext &&       cf_search="$cf_search $HOME/include/gettext"
	test -d $HOME/include/gettext/include &&    cf_search="$cf_search $HOME/include/gettext/include"
d7555 5
a7559 21
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/gettext to the actual package location:
test -d $HOME/gettext && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME/gettext"
	test -d $HOME/gettext/include &&       cf_search="$cf_search $HOME/gettext/include"
	test -d $HOME/gettext/include/gettext &&    cf_search="$cf_search $HOME/gettext/include/gettext"
}

test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing include-directories under /usr/local"
	test -d /usr/local/include &&       cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/gettext &&    cf_search="$cf_search /usr/local/include/gettext"
	test -d /usr/local/include/gettext/include && cf_search="$cf_search /usr/local/include/gettext/include"
	test -d /usr/local/gettext/include &&    cf_search="$cf_search /usr/local/gettext/include"
	test -d /usr/local/gettext/include/gettext && cf_search="$cf_search /usr/local/gettext/include/gettext"
}

test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing include-directories under $prefix"
d7561 40
a7600 23
	test -d $prefix/include/gettext &&       cf_search="$cf_search $prefix/include/gettext"
	test -d $prefix/include/gettext/include &&    cf_search="$cf_search $prefix/include/gettext/include"
	test -d $prefix/gettext/include &&       cf_search="$cf_search $prefix/gettext/include"
	test -d $prefix/gettext/include/gettext &&    cf_search="$cf_search $prefix/gettext/include/gettext"
}

test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing include-directories under /opt"
	test -d /opt/include &&             cf_search="$cf_search /opt/include"
	test -d /opt/include/gettext &&          cf_search="$cf_search /opt/include/gettext"
	test -d /opt/include/gettext/include &&       cf_search="$cf_search /opt/include/gettext/include"
	test -d /opt/gettext/include &&          cf_search="$cf_search /opt/gettext/include"
	test -d /opt/gettext/include/gettext &&       cf_search="$cf_search /opt/gettext/include/gettext"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing include-directories under /usr"
	test -d /usr/include &&             cf_search="$cf_search /usr/include"
	test -d /usr/include/gettext &&          cf_search="$cf_search /usr/include/gettext"
	test -d /usr/include/gettext/include &&       cf_search="$cf_search /usr/include/gettext/include"
	test -d /usr/gettext/include &&          cf_search="$cf_search /usr/gettext/include"
d7603 2
d7609 1
a7609 1
	test -d $includedir/gettext && cf_search="$cf_search $includedir/gettext"
d7616 1
a7616 1
	test -d $oldincludedir/gettext && cf_search="$cf_search $oldincludedir/gettext"
d7619 57
a7675 3
for cf_incdir in $cf_search
do
	if test -f $cf_incdir/libintl.h ; then
a7676 4
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=
d7678 1
a7678 9
for cf_add_cflags in -I$cf_incdir
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
d7680 18
a7697 3
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d7699 1
a7699 7
			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
d7702 29
a7730 15
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
d7732 10
a7741 1
	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`
a7742 6
	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
	;;
esac
done
d7744 10
a7753 1
if test -n "$cf_new_cflags" ; then
a7754 2
	CFLAGS="$CFLAGS $cf_new_cflags"
fi
d7756 10
a7765 1
if test -n "$cf_new_cppflags" ; then
a7766 2
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
fi
a7767 1
if test -n "$cf_new_extra_cppflags" ; then
d7769 1
a7769 2
	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi
d7771 4
a7774 1
		test -n "$verbose" && echo "	... found in $cf_incdir" 1>&6
d7776 1
a7776 4
		cf_find_header=yes
		break
	fi
	test -n "$verbose" && echo "	... tested $cf_incdir" 1>&6
a7777 1
done
d7779 5
a7783 1
fi
d7785 2
a7786 4
if test "$cf_find_header" = yes ; then
cat >>confdefs.h <<\EOF
#define HAVE_LIBINTL_H 1
EOF
a7787 10
	   echo "$as_me:6115: checking for GNU gettext in libc" >&5
echo $ECHO_N "checking for GNU gettext in libc... $ECHO_C" >&6
if test "${gt_cv_func_gnugettext1_libc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6121 "configure"
#include "confdefs.h"
#include <libintl.h>
extern int _nl_msg_cat_cntr;
d7791 5
a7795 2
bindtextdomain ("", "");
return (int) gettext ("") + _nl_msg_cat_cntr
d7800 36
a7835 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6135: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6138: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6141: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6144: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  gt_cv_func_gnugettext1_libc=yes
d7837 1
a7837 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
gt_cv_func_gnugettext1_libc=no
d7839 1
a7839 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d7841 6
a7846 2
echo "$as_me:6154: result: $gt_cv_func_gnugettext1_libc" >&5
echo "${ECHO_T}$gt_cv_func_gnugettext1_libc" >&6
a7847 1
	   if test "$gt_cv_func_gnugettext1_libc" != "yes"; then
d7849 22
a7870 5
cat >conftest.$ac_ext <<_ACEOF
#line 6160 "configure"
#include "confdefs.h"
#include <libintl.h>
extern int _nl_msg_cat_cntr;
d7874 1
a7874 2
bindtextdomain ("", "");
return (int) gettext ("") + _nl_msg_cat_cntr
d7879 2
a7880 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6174: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6177: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6180: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6183: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_find_linkage=yes
d7882 12
a7893 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a7894 2
	cf_find_linkage=no
cf_search=""
d7896 3
a7898 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/intl &&       cf_search="$cf_search $HOME/lib/intl"
	test -d $HOME/lib/intl/lib &&    cf_search="$cf_search $HOME/lib/intl/lib"
}
d7900 1
a7900 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/intl to the actual package location:
test -d $HOME/intl && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/intl"
	test -d $HOME/intl/lib &&       cf_search="$cf_search $HOME/intl/lib"
	test -d $HOME/intl/lib/intl &&    cf_search="$cf_search $HOME/intl/lib/intl"
}
d7902 2
a7903 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/intl &&    cf_search="$cf_search /usr/local/lib/intl"
	test -d /usr/local/lib/intl/lib && cf_search="$cf_search /usr/local/lib/intl/lib"
	test -d /usr/local/intl/lib &&    cf_search="$cf_search /usr/local/intl/lib"
	test -d /usr/local/intl/lib/intl && cf_search="$cf_search /usr/local/intl/lib/intl"
}
d7905 16
a7920 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/intl &&       cf_search="$cf_search $prefix/lib/intl"
	test -d $prefix/lib/intl/lib &&    cf_search="$cf_search $prefix/lib/intl/lib"
	test -d $prefix/intl/lib &&       cf_search="$cf_search $prefix/intl/lib"
	test -d $prefix/intl/lib/intl &&    cf_search="$cf_search $prefix/intl/lib/intl"
}
d7922 9
a7930 31
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/intl &&          cf_search="$cf_search /opt/lib/intl"
	test -d /opt/lib/intl/lib &&       cf_search="$cf_search /opt/lib/intl/lib"
	test -d /opt/intl/lib &&          cf_search="$cf_search /opt/intl/lib"
	test -d /opt/intl/lib/intl &&       cf_search="$cf_search /opt/intl/lib/intl"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/intl &&          cf_search="$cf_search /usr/lib/intl"
	test -d /usr/lib/intl/lib &&       cf_search="$cf_search /usr/lib/intl/lib"
	test -d /usr/intl/lib &&          cf_search="$cf_search /usr/intl/lib"
}

cf_save_LIBS="$LIBS"
cf_save_LDFLAGS="$LDFLAGS"
for cf_libdir in $cf_search
do
	if test -d $cf_libdir ; then
		LIBS="-lintl $cf_save_LIBS"
		LDFLAGS="$cf_save_LDFLAGS -L$cf_libdir"
		cat >conftest.$ac_ext <<_ACEOF
#line 6255 "configure"
#include "confdefs.h"
#include <libintl.h>
extern int _nl_msg_cat_cntr;
d7934 1
a7934 2
bindtextdomain ("", "");
return (int) gettext ("") + _nl_msg_cat_cntr
d7939 15
a7953 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6269: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6272: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6275: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6278: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a7954 1
			test -n "$verbose" && echo "	... found in $cf_libdir" 1>&6
d7956 1
a7956 5
			cf_find_linkage=yes
			break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d7958 9
a7966 2
			LIBS="$cf_save_LIBS"
			LDFLAGS="$cf_save_LDFLAGS"
a7967 3
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	fi
	test -n "$verbose" && echo "	... tested $cf_libdir" 1>&6
d7969 24
a7992 1
done
d7994 4
a7998 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d8000 2
a8001 5
if test "$cf_find_linkage" = yes ; then
gt_cv_func_gnugettext1_libintl=yes
else
gt_cv_func_gnugettext1_libintl=no
fi
a8002 1
	   fi
a8003 3
	   	   	   	   	   if test "$gt_cv_func_gnugettext1_libc" = "yes" \
	      || { test "$gt_cv_func_gnugettext1_libintl" = "yes" \
		   && test "$PACKAGE" != gettext; }; then
a8004 3
cat >>confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF
d8006 4
a8009 14
	     if test "$gt_cv_func_gnugettext1_libintl" = "yes"; then
	       	       	       	       INTLLIBS="-lintl $LIBICONV"
	     fi

	     gt_save_LIBS="$LIBS"
	     LIBS="$LIBS $INTLLIBS"

for ac_func in dcgettext
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:6327: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d8011 3
a8013 15
  cat >conftest.$ac_ext <<_ACEOF
#line 6333 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

d8017 1
a8017 9
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif

d8022 7
a8028 26
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:6364: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:6367: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:6370: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:6373: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:6383: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
d8031 3
a8033 1
done
d8035 1
a8035 1
	     LIBS="$gt_save_LIBS"
d8037 1
a8037 1
	     	     # Extract the first word of "msgfmt", so it can be a program name with args.
d8039 5
a8043 5
set dummy msgfmt; ac_word=$2
echo "$as_me:6398: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_MSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d8045 15
a8059 20
  case "$MSGFMT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
  ;;
  *)
  if test -n "$PATH_SEPARATOR"; then PATHSEP="$PATH_SEPARATOR"; fi
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATHSEP}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1; then
	ac_cv_path_MSGFMT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT=":"
  ;;
esac
d8061 2
a8062 7
MSGFMT="$ac_cv_path_MSGFMT"
if test "$MSGFMT" != ":"; then
  echo "$as_me:6426: result: $MSGFMT" >&5
echo "${ECHO_T}$MSGFMT" >&6
else
  echo "$as_me:6429: result: no" >&5
echo "${ECHO_T}no" >&6
d8064 3
d8068 1
a8068 23
	     # Extract the first word of "gmsgfmt", so it can be a program name with args.
set dummy gmsgfmt; ac_word=$2
echo "$as_me:6435: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_GMSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $GMSGFMT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
   echo "$as_me:6452: found $ac_dir/$ac_word" >&5
   break
fi
done
d8070 4
a8073 5
  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="$MSGFMT"
  ;;
esac
fi
GMSGFMT=$ac_cv_path_GMSGFMT
d8075 3
a8077 3
if test -n "$GMSGFMT"; then
  echo "$as_me:6464: result: $GMSGFMT" >&5
echo "${ECHO_T}$GMSGFMT" >&6
d8079 1
a8079 2
  echo "$as_me:6467: result: no" >&5
echo "${ECHO_T}no" >&6
d8082 2
a8083 1
	     	     # Extract the first word of "xgettext", so it can be a program name with args.
a8084 35
set dummy xgettext; ac_word=$2
echo "$as_me:6474: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_XGETTEXT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case "$XGETTEXT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  *)
  if test -n "$PATH_SEPARATOR"; then PATHSEP="$PATH_SEPARATOR"; fi
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATHSEP}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1; then
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
  ;;
esac
fi
XGETTEXT="$ac_cv_path_XGETTEXT"
if test "$XGETTEXT" != ":"; then
  echo "$as_me:6502: result: $XGETTEXT" >&5
echo "${ECHO_T}$XGETTEXT" >&6
else
  echo "$as_me:6505: result: no" >&5
echo "${ECHO_T}no" >&6
fi
d8086 3
a8088 2
	     CATOBJEXT=.gmo
	   fi
d8090 1
a8090 1
fi
d8092 1
a8092 4
        if test "$CATOBJEXT" = "NONE"; then
	  	  	  nls_cv_use_gnu_gettext=yes
        fi
      fi
d8094 2
a8095 8
      if test "$nls_cv_use_gnu_gettext" = "yes"; then
        if test ! -d $srcdir/intl ; then
	  { { echo "$as_me:6521: error: no NLS library is packaged with this application" >&5
echo "$as_me: error: no NLS library is packaged with this application" >&2;}
   { (exit 1); exit 1; }; }
	fi
                INTLOBJS="\$(GETTOBJS)"
        # Extract the first word of "msgfmt", so it can be a program name with args.
d8097 3
a8099 5
set dummy msgfmt; ac_word=$2
echo "$as_me:6529: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_MSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d8101 1
a8101 20
  case "$MSGFMT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
  ;;
  *)
  if test -n "$PATH_SEPARATOR"; then PATHSEP="$PATH_SEPARATOR"; fi
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATHSEP}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1; then
	ac_cv_path_MSGFMT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT=":"
  ;;
esac
d8103 14
a8116 4
MSGFMT="$ac_cv_path_MSGFMT"
if test "$MSGFMT" != ":"; then
  echo "$as_me:6557: result: $MSGFMT" >&5
echo "${ECHO_T}$MSGFMT" >&6
a8117 3
  echo "$as_me:6560: result: no" >&5
echo "${ECHO_T}no" >&6
fi
a8118 23
        # Extract the first word of "gmsgfmt", so it can be a program name with args.
set dummy gmsgfmt; ac_word=$2
echo "$as_me:6566: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_GMSGFMT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $GMSGFMT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
   echo "$as_me:6583: found $ac_dir/$ac_word" >&5
   break
fi
done
a8119 5
  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="$MSGFMT"
  ;;
esac
fi
GMSGFMT=$ac_cv_path_GMSGFMT
d8121 4
a8124 7
if test -n "$GMSGFMT"; then
  echo "$as_me:6595: result: $GMSGFMT" >&5
echo "${ECHO_T}$GMSGFMT" >&6
else
  echo "$as_me:6598: result: no" >&5
echo "${ECHO_T}no" >&6
fi
a8125 1
        # Extract the first word of "xgettext", so it can be a program name with args.
d8127 1
a8127 35
set dummy xgettext; ac_word=$2
echo "$as_me:6605: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_XGETTEXT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case "$XGETTEXT" in
  [\\/]*|?:[\\/]*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  *)
  if test -n "$PATH_SEPARATOR"; then PATHSEP="$PATH_SEPARATOR"; fi
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATHSEP}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word$ac_exeext; then
      if $ac_dir/$ac_word --omit-header /dev/null >/dev/null 2>&1; then
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word$ac_exeext"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
  ;;
esac
fi
XGETTEXT="$ac_cv_path_XGETTEXT"
if test "$XGETTEXT" != ":"; then
  echo "$as_me:6633: result: $XGETTEXT" >&5
echo "${ECHO_T}$XGETTEXT" >&6
else
  echo "$as_me:6636: result: no" >&5
echo "${ECHO_T}no" >&6
fi
a8128 6
	BUILD_INCLUDED_LIBINTL=yes
	USE_INCLUDED_LIBINTL=yes
        CATOBJEXT=.gmo
	INTLLIBS="\$(top_builddir)/intl/libintl.a $LIBICONV"
	LIBS=`echo " $LIBS " | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`
      fi
d8130 2
a8131 9
                  if test "$GMSGFMT" != ":"; then
			if $GMSGFMT --statistics /dev/null >/dev/null 2>&1; then
	  : ;
	else
	  echo "$as_me:6651: result: found msgfmt program is not GNU msgfmt; ignore it" >&5
echo "${ECHO_T}found msgfmt program is not GNU msgfmt; ignore it" >&6
	  GMSGFMT=":"
	fi
      fi
d8133 2
a8134 9
                  if test "$XGETTEXT" != ":"; then
			if $XGETTEXT --omit-header /dev/null >/dev/null 2>&1; then
	  : ;
	else
	  echo "$as_me:6661: result: found xgettext program is not GNU xgettext; ignore it" >&5
echo "${ECHO_T}found xgettext program is not GNU xgettext; ignore it" >&6
	  XGETTEXT=":"
	fi
      fi
d8136 3
a8138 2
            POSUB=po
    fi
d8140 2
a8141 1
    ac_config_commands="$ac_config_commands default-1"
d8143 1
a8143 3
            if test "$PACKAGE" = gettext; then
      BUILD_INCLUDED_LIBINTL=yes
    fi
d8145 6
a8150 12
                                            if test "$nls_cv_use_gnu_gettext" = "yes"; then
    for ac_prog in bison
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:6681: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_prog_INTLBISON+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test -n "$INTLBISON"; then
  ac_cv_prog_INTLBISON="$INTLBISON" # Let the user override the test.
a8151 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  $as_executable_p "$ac_dir/$ac_word" || continue
ac_cv_prog_INTLBISON="$ac_prog"
echo "$as_me:6696: found $ac_dir/$ac_word" >&5
break
done
d8153 1
a8153 10
fi
fi
INTLBISON=$ac_cv_prog_INTLBISON
if test -n "$INTLBISON"; then
  echo "$as_me:6704: result: $INTLBISON" >&5
echo "${ECHO_T}$INTLBISON" >&6
else
  echo "$as_me:6707: result: no" >&5
echo "${ECHO_T}no" >&6
fi
d8155 1
a8155 2
  test -n "$INTLBISON" && break
done
d8157 1
a8157 19
    if test -z "$INTLBISON"; then
      ac_verc_fail=yes
    else
            echo "$as_me:6717: checking version of bison" >&5
echo $ECHO_N "checking version of bison... $ECHO_C" >&6
      ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \([0-9]*\.[0-9.]*\).*$/\1/p'`
      case $ac_prog_version in
        '') ac_prog_version="v. ?.??, bad"; ac_verc_fail=yes;;
        1.2[6-9]* | 1.[3-9][0-9]* | [2-9].*)
           ac_prog_version="$ac_prog_version, ok"; ac_verc_fail=no;;
        *) ac_prog_version="$ac_prog_version, bad"; ac_verc_fail=yes;;
      esac
      echo "$as_me:6726: result: $ac_prog_version" >&5
echo "${ECHO_T}$ac_prog_version" >&6
    fi
    if test $ac_verc_fail = yes; then
      INTLBISON=:
    fi
    fi
a8158 4
                for lang in $ALL_LINGUAS; do
      GMOFILES="$GMOFILES $lang.gmo"
      POFILES="$POFILES $lang.po"
    done
a8159 2
        nls_cv_header_intl=
    nls_cv_header_libgt=
d8161 1
a8161 1
        DATADIRNAME=share
a8162 1
        INSTOBJEXT=.mo
d8164 2
a8165 1
        GENCAT=gencat
a8166 27
   if test "x$CATOBJEXT" != "x"; then
     if test "x$ALL_LINGUAS" = "x"; then
       LINGUAS=
     else
       echo "$as_me:6752: checking for catalogs to be installed" >&5
echo $ECHO_N "checking for catalogs to be installed... $ECHO_C" >&6
       NEW_LINGUAS=
       for presentlang in $ALL_LINGUAS; do
         useit=no
         for desiredlang in ${LINGUAS-$ALL_LINGUAS}; do
           # Use the presentlang catalog if desiredlang is
           #   a. equal to presentlang, or
           #   b. a variant of presentlang (because in this case,
           #      presentlang can be used as a fallback for messages
           #      which are not translated in the desiredlang catalog).
           case "$desiredlang" in
             "$presentlang"*) useit=yes;;
           esac
         done
         if test $useit = yes; then
           NEW_LINGUAS="$NEW_LINGUAS $presentlang"
         fi
       done
       LINGUAS=$NEW_LINGUAS
       echo "$as_me:6772: result: $LINGUAS" >&5
echo "${ECHO_T}$LINGUAS" >&6
     fi
d8168 18
a8185 4
          if test -n "$LINGUAS"; then
       for lang in $LINGUAS; do CATALOGS="$CATALOGS $lang$CATOBJEXT"; done
     fi
   fi
d8187 5
a8191 12
                  MKINSTALLDIRS=
   if test -n "$ac_aux_dir"; then
     MKINSTALLDIRS="$ac_aux_dir/mkdirs.sh"
   fi
   if test -z "$MKINSTALLDIRS"; then
     MKINSTALLDIRS="\$(top_srcdir)/mkdirs.sh"
   fi
   if test -n "$GNUSYSTEM_AUX_DIR" ; then
     if test -e "${GNUSYSTEM_AUX_DIR}/mkinstalldirs"; then
       MKINSTALLDIRS="${GNUSYSTEM_AUX_DIR}/mkinstalldirs"
     fi
   fi
d8193 1
a8193 1
      INTL_LIBTOOL_SUFFIX_PREFIX=
a8194 3
INTLDIR_MAKE=
MSG_DIR_MAKE=
SUB_MAKEFILE=
d8196 10
a8205 1
cf_makefile=makefile
a8206 5
use_our_messages=no
if test "$USE_NLS" = yes ; then
if test -d $srcdir/po ; then
echo "$as_me:6805: checking if we should use included message-library" >&5
echo $ECHO_N "checking if we should use included message-library... $ECHO_C" >&6
d8208 79
a8286 11
# Check whether --enable-included-msgs or --disable-included-msgs was given.
if test "${enable_included_msgs+set}" = set; then
  enableval="$enable_included_msgs"
  use_our_messages=$enableval
else
  use_our_messages=yes
fi;
fi
echo "$as_me:6816: result: $use_our_messages" >&5
echo "${ECHO_T}$use_our_messages" >&6
fi
d8288 3
a8290 6
MSG_DIR_MAKE="#"
if test "$use_our_messages" = yes
then
	SUB_MAKEFILE="$SUB_MAKEFILE po/$cf_makefile.in:$srcdir/po/$cf_makefile.inn"
	MSG_DIR_MAKE=
fi
d8292 2
a8293 12
if test "$USE_INCLUDED_LIBINTL" = yes ; then
        if test "$nls_cv_force_use_gnu_gettext" = yes ; then
		:
	elif test "$nls_cv_use_gnu_gettext" = yes ; then
		:
	else
		INTLDIR_MAKE="#"
	fi
	if test -z "$INTLDIR_MAKE"; then
		cat >>confdefs.h <<\EOF
#define HAVE_LIBGETTEXT_H 1
EOF
d8295 1
a8295 13
		for cf_makefile in \
			$srcdir/intl/Makefile.in \
			$srcdir/intl/makefile.in
		do
			if test -f "$cf_makefile" ; then
				SUB_MAKEFILE="$SUB_MAKEFILE `echo \"${cf_makefile}\"|sed -e 's,^'$srcdir/',,' -e 's/\.in$//'`:${cf_makefile}"
				break
			fi
		done
	fi
else
	INTLDIR_MAKE="#"
	if test "$USE_NLS" = yes ; then
d8297 3
a8299 12
for ac_header in libintl.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:6857: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 6863 "configure"
#include "confdefs.h"
#include <$ac_header>
d8301 10
a8310 13
if { (eval echo "$as_me:6867: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:6873: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
d8312 3
a8314 1
  ac_cpp_err=yes
d8316 5
a8320 15
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:6892: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a8321 2
fi
done
d8323 1
a8323 2
	fi
fi
a8324 3
if test -z "$INTLDIR_MAKE" ; then
	CPPFLAGS="-I../intl $CPPFLAGS"
fi
d8326 2
a8327 7
if test "$BUILD_INCLUDED_LIBINTL" = yes ; then
	GT_YES="#"
	GT_NO=
else
	GT_YES=
	GT_NO="#"
fi
a8328 5
if test "$USE_INCLUDED_LIBINTL" = yes ; then
	if test "$nls_cv_force_use_gnu_gettext" = yes ; then
		cat >>confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF
a8329 4
	elif test "$nls_cv_use_gnu_gettext" = yes ; then
		cat >>confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF
d8331 1
a8331 5
	fi
	if test -n "$nls_cv_header_intl" ; then
		cat >>confdefs.h <<\EOF
#define HAVE_LIBINTL_H 1
EOF
d8333 18
a8350 2
	fi
fi
d8352 4
a8355 3
INTLDIR_CPPFLAGS="#"
if test -z "$INTLDIR_MAKE" ; then
	INTLDIR_CPPFLAGS=
d8358 1
a8358 3
# Check whether --with-nls-datadir or --without-nls-datadir was given.
if test "${with_nls_datadir+set}" = set; then
  withval="$with_nls_datadir"
a8359 8
else
  withval="${NLS_DATADIR-$prefix/$DATADIRNAME}"
fi;
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d8361 10
a8370 24
case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:6974: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac
a8371 1
NLS_DATADIR="$withval"
d8373 10
a8382 2
echo "$as_me:6982: checking if you want full utility pathnames" >&5
echo $ECHO_N "checking if you want full utility pathnames... $ECHO_C" >&6
a8383 12
# Check whether --enable-full-paths or --disable-full-paths was given.
if test "${enable_full_paths+set}" = set; then
  enableval="$enable_full_paths"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    with_full_paths=no
  else
    with_full_paths=yes
  fi
else
  enableval=yes
  with_full_paths=yes
d8385 10
a8394 6
fi;
echo "$as_me:6999: result: $with_full_paths" >&5
echo "${ECHO_T}$with_full_paths" >&6
test $with_full_paths = no && cat >>confdefs.h <<\EOF
#define USE_EXECVP 1
EOF
a8395 5
echo "$as_me:7005: checking for system mailer" >&5
echo $ECHO_N "checking for system mailer... $ECHO_C" >&6
if test "${cf_cv_SYSTEM_MAIL+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d8397 10
a8406 4
	cf_cv_SYSTEM_MAIL=unknown
	for cv_path in /usr/mmdf/bin/submit \
	/usr/sbin/sendmail \
	/usr/lib/sendmail  \
a8407 6
	do
		if test -f $cv_path ; then
			cf_cv_SYSTEM_MAIL=$cv_path
			break
		fi
	done
d8409 10
a8418 1
fi
a8419 5
echo "$as_me:7025: result: $cf_cv_SYSTEM_MAIL" >&5
echo "${ECHO_T}$cf_cv_SYSTEM_MAIL" >&6
cat >>confdefs.h <<EOF
#define SYSTEM_MAIL "$cf_cv_SYSTEM_MAIL"
EOF
a8420 5
echo "$as_me:7031: checking system mail flags" >&5
echo $ECHO_N "checking system mail flags... $ECHO_C" >&6
if test "${cf_cv_system_mail_flags+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d8422 1
a8422 7
	case $cf_cv_SYSTEM_MAIL in
	*/mmdf/*)
		cf_cv_system_mail_flags="-mlruxto,cc\\\\*"
        	;;
	*)
        	cf_cv_system_mail_flags="-t -oi"
	esac
d8424 4
a8427 1
fi
d8429 1
a8429 5
echo "$as_me:7047: result: $cf_cv_system_mail_flags" >&5
echo "${ECHO_T}$cf_cv_system_mail_flags" >&6
cat >>confdefs.h <<EOF
#define SYSTEM_MAIL_FLAGS "$cf_cv_system_mail_flags"
EOF
a8430 5
if test -n "$SYSTEM_MAIL" ; then
if test $with_full_paths = no ; then
	SYSTEM_MAIL=`basename $SYSTEM_MAIL`
fi
fi
d8432 5
a8436 5
echo "$as_me:7059: checking if $CC -U and -D options work together" >&5
echo $ECHO_N "checking if $CC -U and -D options work together... $ECHO_C" >&6
if test "${cf_cv_cc_u_d_options+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d8438 2
a8439 5
	cf_save_CPPFLAGS="$CPPFLAGS"
	CPPFLAGS="-UU_D_OPTIONS -DU_D_OPTIONS -DD_U_OPTIONS -UD_U_OPTIONS"
	cat >conftest.$ac_ext <<_ACEOF
#line 7068 "configure"
#include "confdefs.h"
d8445 4
a8448 6
#ifndef U_D_OPTIONS
make an undefined-error
#endif
#ifdef  D_U_OPTIONS
make a defined-error
#endif
d8454 6
a8459 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7087: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7090: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7093: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7096: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d8461 3
a8463 1
	cf_cv_cc_u_d_options=yes
a8464 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d8466 26
a8491 1
	cf_cv_cc_u_d_options=no
d8493 1
a8493 2
rm -f conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save_CPPFLAGS"
d8496 12
a8507 2
echo "$as_me:7110: result: $cf_cv_cc_u_d_options" >&5
echo "${ECHO_T}$cf_cv_cc_u_d_options" >&6
a8508 2
cf_XOPEN_SOURCE=600
cf_POSIX_C_SOURCE=199506L
d8510 7334
a15843 3
case $host_os in #(vi
aix[45]*) #(vi
	CPPFLAGS="$CPPFLAGS -D_ALL_SOURCE"
d15845 6
a15850 7
freebsd*) #(vi
	# 5.x headers associate
	#	_XOPEN_SOURCE=600 with _POSIX_C_SOURCE=200112L
	#	_XOPEN_SOURCE=500 with _POSIX_C_SOURCE=199506L
	cf_POSIX_C_SOURCE=200112L
	cf_XOPEN_SOURCE=600
	CPPFLAGS="$CPPFLAGS -D_BSD_TYPES -D__BSD_VISIBLE -D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE"
d15852 3
a15854 2
hpux*) #(vi
	CPPFLAGS="$CPPFLAGS -D_HPUX_SOURCE"
d15856 330
a16185 4
irix[56].*) #(vi
	CPPFLAGS="$CPPFLAGS -D_SGI_SOURCE"
	;;
linux*|gnu*) #(vi
d16187 7
a16193 4
echo "$as_me:7136: checking if we must define _GNU_SOURCE" >&5
echo $ECHO_N "checking if we must define _GNU_SOURCE... $ECHO_C" >&6
if test "${cf_cv_gnu_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d16195 4
d16200 7
a16206 4
cat >conftest.$ac_ext <<_ACEOF
#line 7143 "configure"
#include "confdefs.h"
#include <sys/types.h>
d16210 24
d16235 21
a16255 2
#ifndef _XOPEN_SOURCE
make an error
d16257 39
d16300 2
a16301 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7158: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7161: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7164: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7167: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_gnu_source=no
d16303 15
a16317 8
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE"
	 cat >conftest.$ac_ext <<_ACEOF
#line 7176 "configure"
#include "confdefs.h"
#include <sys/types.h>
d16321 8
d16330 8
a16337 3
#ifdef _XOPEN_SOURCE
make an error
#endif
d16342 2
a16343 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7191: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7194: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7197: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7200: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_gnu_source=no
d16345 1
a16345 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_gnu_source=yes
d16347 2
a16348 2
rm -f conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save"
d16351 52
a16402 1
rm -f conftest.$ac_objext conftest.$ac_ext
d16404 10
a16414 3
echo "$as_me:7215: result: $cf_cv_gnu_source" >&5
echo "${ECHO_T}$cf_cv_gnu_source" >&6
test "$cf_cv_gnu_source" = yes && CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE"
d16416 10
a16425 27
	;;
mirbsd*) #(vi
	# setting _XOPEN_SOURCE or _POSIX_SOURCE breaks <arpa/inet.h>
	;;
netbsd*) #(vi
	# setting _XOPEN_SOURCE breaks IPv6 for lynx on NetBSD 1.6, breaks xterm, is not needed for ncursesw
	;;
openbsd*) #(vi
	# setting _XOPEN_SOURCE breaks xterm on OpenBSD 2.8, is not needed for ncursesw
	;;
osf[45]*) #(vi
	CPPFLAGS="$CPPFLAGS -D_OSF_SOURCE"
	;;
nto-qnx*) #(vi
	CPPFLAGS="$CPPFLAGS -D_QNX_SOURCE"
	;;
sco*) #(vi
	# setting _XOPEN_SOURCE breaks Lynx on SCO Unix / OpenServer
	;;
solaris*) #(vi
	CPPFLAGS="$CPPFLAGS -D__EXTENSIONS__"
	;;
*)
	echo "$as_me:7242: checking if we should define _XOPEN_SOURCE" >&5
echo $ECHO_N "checking if we should define _XOPEN_SOURCE... $ECHO_C" >&6
if test "${cf_cv_xopen_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d16428 4
a16431 4
	cat >conftest.$ac_ext <<_ACEOF
#line 7249 "configure"
#include "confdefs.h"
#include <sys/types.h>
d16435 10
d16446 5
a16450 3
#ifndef _XOPEN_SOURCE
make an error
#endif
d16455 97
a16551 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7264: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7267: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7270: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7273: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xopen_source=no
d16553 34
a16586 8
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=$cf_XOPEN_SOURCE"
	 cat >conftest.$ac_ext <<_ACEOF
#line 7282 "configure"
#include "confdefs.h"
#include <sys/types.h>
d16590 1
a16590 4

#ifdef _XOPEN_SOURCE
make an error
#endif
d16595 2
a16596 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7297: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7300: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7303: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7306: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_xopen_source=no
d16598 1
a16598 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_xopen_source=$cf_XOPEN_SOURCE
d16600 5
a16604 2
rm -f conftest.$ac_objext conftest.$ac_ext
	CPPFLAGS="$cf_save"
d16606 2
a16607 2
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d16609 1
a16609 4
fi
echo "$as_me:7321: result: $cf_cv_xopen_source" >&5
echo "${ECHO_T}$cf_cv_xopen_source" >&6
	if test "$cf_cv_xopen_source" != no ; then
a16610 4
# remove _XOPEN_SOURCE symbol from $CFLAGS
CFLAGS=`echo "$CFLAGS" | \
	sed	-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?$//g'`
d16612 1
a16612 4
# remove _XOPEN_SOURCE symbol from $CPPFLAGS
CPPFLAGS=`echo "$CPPFLAGS" | \
	sed	-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_XOPEN_SOURCE\(=[^ 	]*\)\?$//g'`
d16614 10
a16623 4
		test "$cf_cv_cc_u_d_options" = yes && \
			CPPFLAGS="$CPPFLAGS -U_XOPEN_SOURCE"
		CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=$cf_cv_xopen_source"
	fi
d16625 1
a16625 1
cf_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE
d16627 5
a16631 2
cf_save_CFLAGS="$CFLAGS"
cf_save_CPPFLAGS="$CPPFLAGS"
d16633 4
a16636 9
# remove _POSIX_C_SOURCE symbol from $cf_save_CFLAGS
cf_trim_CFLAGS=`echo "$cf_save_CFLAGS" | \
	sed	-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?$//g'`

# remove _POSIX_C_SOURCE symbol from $cf_save_CPPFLAGS
cf_trim_CPPFLAGS=`echo "$cf_save_CPPFLAGS" | \
	sed	-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?[ 	]/ /g' \
		-e 's/-[UD]_POSIX_C_SOURCE\(=[^ 	]*\)\?$//g'`
d16638 2
a16639 5
echo "$as_me:7355: checking if we should define _POSIX_C_SOURCE" >&5
echo $ECHO_N "checking if we should define _POSIX_C_SOURCE... $ECHO_C" >&6
if test "${cf_cv_posix_c_source+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a16640 1
echo "(line 7361) testing if the symbol is already defined go no further ..." 1>&5
d16642 1
a16642 4
	cat >conftest.$ac_ext <<_ACEOF
#line 7364 "configure"
#include "confdefs.h"
#include <sys/types.h>
d16647 9
a16655 2
#ifndef _POSIX_C_SOURCE
make an error
d16657 2
d16663 25
a16687 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7379: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7382: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7385: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7388: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_posix_c_source=no
a16688 23
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_want_posix_source=no
	 case .$cf_POSIX_C_SOURCE in #(vi
	 .[12]??*) #(vi
		cf_cv_posix_c_source="-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE"
		;;
	 .2) #(vi
		cf_cv_posix_c_source="-D_POSIX_C_SOURCE=$cf_POSIX_C_SOURCE"
		cf_want_posix_source=yes
		;;
	 .*)
		cf_want_posix_source=yes
		;;
	 esac
	 if test "$cf_want_posix_source" = yes ; then
		cat >conftest.$ac_ext <<_ACEOF
#line 7409 "configure"
#include "confdefs.h"
#include <sys/types.h>
int
main ()
{
d16690 19
a16708 5
#ifdef _POSIX_SOURCE
make an error
#endif
  ;
  return 0;
d16710 5
a16714 18
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7424: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7427: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7430: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7433: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_posix_c_source="$cf_cv_posix_c_source -D_POSIX_SOURCE"
a16715 2
rm -f conftest.$ac_objext conftest.$ac_ext
	 fi
d16717 79
a16795 1
echo "(line 7444) testing ifdef from value $cf_POSIX_C_SOURCE ..." 1>&5
d16797 4
a16800 2
	 CFLAGS="$cf_trim_CFLAGS"
	 CPPFLAGS="$cf_trim_CPPFLAGS $cf_cv_posix_c_source"
d16802 16
a16817 1
echo "(line 7449) testing if the second compile does not leave our definition intact error ..." 1>&5
d16819 9
a16827 4
	 cat >conftest.$ac_ext <<_ACEOF
#line 7452 "configure"
#include "confdefs.h"
#include <sys/types.h>
d16831 1
a16831 4

#ifndef _POSIX_C_SOURCE
make an error
#endif
d16836 2
a16837 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7467: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7470: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7473: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7476: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d16839 1
a16839 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_posix_c_source=no
d16841 10
a16850 3
rm -f conftest.$ac_objext conftest.$ac_ext
	 CFLAGS="$cf_save_CFLAGS"
	 CPPFLAGS="$cf_save_CPPFLAGS"
a16851 2
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d16853 1
a16853 3
fi
echo "$as_me:7492: result: $cf_cv_posix_c_source" >&5
echo "${ECHO_T}$cf_cv_posix_c_source" >&6
d16855 9
a16863 9
if test "$cf_cv_posix_c_source" != no ; then
	CFLAGS="$cf_trim_CFLAGS"
	CPPFLAGS="$cf_trim_CPPFLAGS"
	if test "$cf_cv_cc_u_d_options" = yes ; then
		cf_temp_posix_c_source=`echo "$cf_cv_posix_c_source" | \
				sed -e 's/-D/-U/g' -e 's/=[^ 	]*//g'`
		CPPFLAGS="$CPPFLAGS $cf_temp_posix_c_source"
	fi
	CPPFLAGS="$CPPFLAGS $cf_cv_posix_c_source"
d16866 4
a16869 2
	;;
esac
d16871 2
a16872 5
echo "$as_me:7509: checking if SIGWINCH is defined" >&5
echo $ECHO_N "checking if SIGWINCH is defined... $ECHO_C" >&6
if test "${cf_cv_define_sigwinch+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a16873 6
	cat >conftest.$ac_ext <<_ACEOF
#line 7516 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/signal.h>
d16875 1
a16878 24
int x = SIGWINCH
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7531: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7534: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7537: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7540: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_define_sigwinch=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 7547 "configure"
#include "confdefs.h"
d16880 11
a16890 5
#undef _XOPEN_SOURCE
#undef _POSIX_SOURCE
#undef _POSIX_C_SOURCE
#include <sys/types.h>
#include <sys/signal.h>
a16891 4
int
main ()
{
int x = SIGWINCH
d16896 3
a16898 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7565: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7568: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7571: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7574: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_define_sigwinch=maybe
d16900 1
a16900 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_define_sigwinch=no
d16902 1
a16902 1
rm -f conftest.$ac_objext conftest.$ac_ext
d16904 11
a16914 2
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d16917 2
a16918 2
echo "$as_me:7588: result: $cf_cv_define_sigwinch" >&5
echo "${ECHO_T}$cf_cv_define_sigwinch" >&6
d16920 5
a16924 6
if test "$cf_cv_define_sigwinch" = maybe ; then
echo "$as_me:7592: checking for actual SIGWINCH definition" >&5
echo $ECHO_N "checking for actual SIGWINCH definition... $ECHO_C" >&6
if test "${cf_cv_fixup_sigwinch+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d16926 16
a16941 13
cf_cv_fixup_sigwinch=unknown
cf_sigwinch=32
while test $cf_sigwinch != 1
do
	cat >conftest.$ac_ext <<_ACEOF
#line 7603 "configure"
#include "confdefs.h"

#undef _XOPEN_SOURCE
#undef _POSIX_SOURCE
#undef _POSIX_C_SOURCE
#include <sys/types.h>
#include <sys/signal.h>
d16943 9
d16955 1
a16955 5

#if SIGWINCH != $cf_sigwinch
make an error
#endif
int x = SIGWINCH
d16960 2
a16961 14
rm -f conftest.$ac_objext
if { (eval echo "$as_me:7625: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:7628: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:7631: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7634: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_fixup_sigwinch=$cf_sigwinch
	 break
d16963 1
a16963 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d16965 10
a16974 1
rm -f conftest.$ac_objext conftest.$ac_ext
a16975 2
cf_sigwinch=`expr $cf_sigwinch - 1`
done
d16977 1
a16977 3
fi
echo "$as_me:7648: result: $cf_cv_fixup_sigwinch" >&5
echo "${ECHO_T}$cf_cv_fixup_sigwinch" >&6
d16979 9
a16987 3
	if test "$cf_cv_fixup_sigwinch" != unknown ; then
		CPPFLAGS="$CPPFLAGS -DSIGWINCH=$cf_cv_fixup_sigwinch"
	fi
a16989 1
if test -n "$TRY_CFLAGS" ; then
d16991 1
a16991 1
test -n "$verbose" && echo "	checking additions to CFLAGS" 1>&6
d16993 1
a16993 2
cf_check_cflags="$CFLAGS"
cf_check_cppflags="$CPPFLAGS"
d16995 3
a16997 4
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=
d16999 2
a17000 9
for cf_add_cflags in $TRY_CFLAGS
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
d17002 3
a17004 3
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
a17005 21
			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
d17007 2
a17008 2
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
a17009 5
	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`

	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
a17011 1
done
a17012 2
if test -n "$cf_new_cflags" ; then
	test -n "$verbose" && echo "	add to \$CFLAGS $cf_new_cflags" 1>&6
a17013 2
	CFLAGS="$CFLAGS $cf_new_cflags"
fi
d17015 5
a17019 2
if test -n "$cf_new_cppflags" ; then
	test -n "$verbose" && echo "	add to \$CPPFLAGS $cf_new_cppflags" 1>&6
d17021 8
a17028 2
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
fi
d17030 7
a17036 5
if test -n "$cf_new_extra_cppflags" ; then
	test -n "$verbose" && echo "	add to \$EXTRA_CPPFLAGS $cf_new_extra_cppflags" 1>&6

	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi
a17037 5
if test "$cf_check_cflags" != "$CFLAGS" ; then
cat >conftest.$ac_ext <<_ACEOF
#line 7736 "configure"
#include "confdefs.h"
#include <stdio.h>
d17041 1
a17041 1
printf("Hello world");
d17046 3
a17048 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7748: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7751: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7754: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7757: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
a17049 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d17051 1
a17051 2
	 if test "$cf_check_cppflags" != "$CPPFLAGS" ; then
		 test -n "$verbose" && echo "	but keeping change to \$CPPFLAGS" 1>&6
a17052 2
	 fi
	 CFLAGS="$cf_check_flags"
d17054 4
a17057 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d17059 22
a17081 1
fi
d17083 2
a17084 7
### Look for network libraries first, since some functions (such as gethostname)
### are used in a lot of places.
echo "$as_me:7778: checking if you want ssl library" >&5
echo $ECHO_N "checking if you want ssl library... $ECHO_C" >&6
if test "${cf_cv_use_libssl+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a17085 7
# Check whether --with-ssl or --without-ssl was given.
if test "${with_ssl+set}" = set; then
  withval="$with_ssl"
  cf_cv_use_libssl=$withval
else
  cf_cv_use_libssl=no
fi;
a17086 3
fi
echo "$as_me:7793: result: $cf_cv_use_libssl" >&5
echo "${ECHO_T}$cf_cv_use_libssl" >&6
d17088 4
a17091 5
if test "x$cf_cv_use_libssl" = "xno" ; then
echo "$as_me:7797: checking if you want experimental gnutls support" >&5
echo $ECHO_N "checking if you want experimental gnutls support... $ECHO_C" >&6
if test "${cf_cv_use_libgnutls+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d17094 5
a17098 7
# Check whether --with-gnutls or --without-gnutls was given.
if test "${with_gnutls+set}" = set; then
  withval="$with_gnutls"
  cf_cv_use_libgnutls=$withval
else
  cf_cv_use_libgnutls=no
fi;
d17100 25
a17124 4
fi
echo "$as_me:7812: result: $cf_cv_use_libgnutls" >&5
echo "${ECHO_T}$cf_cv_use_libgnutls" >&6
fi
a17125 4
echo "$as_me:7816: checking if you want socks library" >&5
echo $ECHO_N "checking if you want socks library... $ECHO_C" >&6
if test "${cf_cv_use_libsocks+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d17127 25
d17153 4
a17156 8
# Check whether --with-socks or --without-socks was given.
if test "${with_socks+set}" = set; then
  withval="$with_socks"
  cf_cv_use_libsocks=$withval
else
  cf_cv_use_libsocks=no
fi;

a17157 2
echo "$as_me:7831: result: $cf_cv_use_libsocks" >&5
echo "${ECHO_T}$cf_cv_use_libsocks" >&6
d17159 1
a17159 13
echo "$as_me:7834: checking if you want socks5 library" >&5
echo $ECHO_N "checking if you want socks5 library... $ECHO_C" >&6
if test "${cf_cv_use_libsocks5+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

# Check whether --with-socks5 or --without-socks5 was given.
if test "${with_socks5+set}" = set; then
  withval="$with_socks5"
  cf_cv_use_libsocks5=$withval
else
  cf_cv_use_libsocks5=no
fi;
d17162 3
a17164 2
echo "$as_me:7849: result: $cf_cv_use_libsocks5" >&5
echo "${ECHO_T}$cf_cv_use_libsocks5" >&6
a17165 1
if test "x$cf_cv_use_libsocks" != xno ; then
a17166 22
case "$cf_cv_use_libsocks" in #(vi
no|yes) #(vi
  ;;
*)
  if test -d $cf_cv_use_libsocks ; then
    if test -d $cf_cv_use_libsocks/include ; then
      CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks/include"
      LIBS="$LIBS -L$cf_cv_use_libsocks/lib"
    else
      LIBS="$LIBS -L$cf_cv_use_libsocks"
      test -d $cf_cv_use_libsocks/../include && CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks/../include"
    fi
  else
    { echo "$as_me:7867: WARNING: expected a directory: $cf_cv_use_libsocks" >&5
echo "$as_me: WARNING: expected a directory: $cf_cv_use_libsocks" >&2;}
  fi
  ;;
esac
LIBS="$LIBS -lsocks"
cat >>confdefs.h <<\EOF
#define SOCKS 1
EOF
a17167 3
cat >>confdefs.h <<\EOF
#define accept Raccept
EOF
a17168 3
cat >>confdefs.h <<\EOF
#define bind Rbind
EOF
d17170 15
a17184 3
cat >>confdefs.h <<\EOF
#define connect Rconnect
EOF
d17186 7
a17192 25
cat >>confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF

cat >>confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF

cat >>confdefs.h <<\EOF
#define listen Rlisten
EOF

cat >>confdefs.h <<\EOF
#define recvfrom Rrecvfrom
EOF

cat >>confdefs.h <<\EOF
#define select Rselect
EOF

cat >conftest.$ac_ext <<_ACEOF
#line 7910 "configure"
#include "confdefs.h"

#include <stdio.h>
d17196 1
a17196 2

	accept((char *)0)
d17201 2
a17202 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7924: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7927: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7930: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:7933: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d17204 5
a17208 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:7939: error: Cannot link with socks library" >&5
echo "$as_me: error: Cannot link with socks library" >&2;}
   { (exit 1); exit 1; }; }
d17210 12
a17221 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d17223 7
a17229 37
elif test "x$cf_cv_use_libsocks5" != xno ; then

case "$cf_cv_use_libsocks5" in #(vi
no|yes) #(vi
  ;;
*)
  if test -d $cf_cv_use_libsocks5 ; then
    if test -d $cf_cv_use_libsocks5/include ; then
      CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks5/include"
      LIBS="$LIBS -L$cf_cv_use_libsocks5/lib"
    else
      LIBS="$LIBS -L$cf_cv_use_libsocks5"
      test -d $cf_cv_use_libsocks5/../include && CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks5/../include"
    fi
  else
    { echo "$as_me:7960: WARNING: expected a directory: $cf_cv_use_libsocks5" >&5
echo "$as_me: WARNING: expected a directory: $cf_cv_use_libsocks5" >&2;}
  fi
  ;;
esac
LIBS="$LIBS -lsocks5"
cat >>confdefs.h <<\EOF
#define USE_SOCKS5 1
EOF

cat >>confdefs.h <<\EOF
#define SOCKS 1
EOF

echo "$as_me:7974: checking if the socks library uses socks4 prefix" >&5
echo $ECHO_N "checking if the socks library uses socks4 prefix... $ECHO_C" >&6
cf_use_socks4=error
cat >conftest.$ac_ext <<_ACEOF
#line 7978 "configure"
#include "confdefs.h"

#include <socks.h>
d17233 1
a17233 2

	Rinit((char *)0)
d17238 19
a17256 15
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:7992: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:7995: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:7998: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8001: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >>confdefs.h <<\EOF
#define USE_SOCKS4_PREFIX 1
EOF
d17258 9
a17266 1
	 cf_use_socks4=yes
d17268 12
a17279 6
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 8012 "configure"
#include "confdefs.h"
#include <socks.h>
d17283 1
a17283 1
SOCKSinit((char *)0)
d17288 2
a17289 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8024: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8027: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8030: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8033: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_use_socks4=no
d17291 11
a17301 15
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
{ { echo "$as_me:8039: error: Cannot link with socks5 library" >&5
echo "$as_me: error: Cannot link with socks5 library" >&2;}
   { (exit 1); exit 1; }; }
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:8046: result: $cf_use_socks4" >&5
echo "${ECHO_T}$cf_use_socks4" >&6
if test "$cf_use_socks4" = "yes" ; then
	cat >>confdefs.h <<\EOF
#define accept Raccept
EOF
d17303 3
a17305 3
	cat >>confdefs.h <<\EOF
#define bind Rbind
EOF
d17307 1
a17307 3
	cat >>confdefs.h <<\EOF
#define connect Rconnect
EOF
d17309 2
a17310 3
	cat >>confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF
d17312 18
a17329 3
	cat >>confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF
d17331 1
a17331 3
	cat >>confdefs.h <<\EOF
#define listen Rlisten
EOF
a17332 3
	cat >>confdefs.h <<\EOF
#define recvfrom Rrecvfrom
EOF
d17334 5
a17338 3
	cat >>confdefs.h <<\EOF
#define select Rselect
EOF
d17340 1
a17341 3
	cat >>confdefs.h <<\EOF
#define accept SOCKSaccept
EOF
d17343 6
a17348 3
	cat >>confdefs.h <<\EOF
#define getpeername SOCKSgetpeername
EOF
d17350 7
a17356 17
	cat >>confdefs.h <<\EOF
#define getsockname SOCKSgetsockname
EOF

	cat >>confdefs.h <<\EOF
#define recvfrom SOCKSrecvfrom
EOF

fi
echo "$as_me:8099: checking if socks5p.h is available" >&5
echo $ECHO_N "checking if socks5p.h is available... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 8102 "configure"
#include "confdefs.h"

#define INCLUDE_PROTOTYPES
#include <socks.h>
d17360 1
a17360 2

	init((char *)0)
d17365 5
a17369 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:8117: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:8120: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:8123: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8126: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_use_socks5p_h=yes
d17371 53
a17423 10
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_use_socks5p_h=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
echo "$as_me:8135: result: $cf_use_socks5p_h" >&5
echo "${ECHO_T}$cf_use_socks5p_h" >&6
test "$cf_use_socks5p_h" = yes && cat >>confdefs.h <<\EOF
#define INCLUDE_PROTOTYPES 1
EOF
a17424 1
else
d17426 10
a17435 6
cf_test_netlibs=no
echo "$as_me:8144: checking for network libraries" >&5
echo $ECHO_N "checking for network libraries... $ECHO_C" >&6
if test "${cf_cv_netlibs+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a17436 4
echo "$as_me:8150: result: working..." >&5
echo "${ECHO_T}working..." >&6
cf_cv_netlibs=""
cf_test_netlibs=yes
d17438 10
a17447 22
for ac_func in gethostname
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:8158: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 8164 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
a17448 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
d17450 9
a17458 2
  ;
  return 0;
a17459 27
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8195: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8198: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8201: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8204: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:8214: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
a17460 1
else
a17461 10
echo "$as_me:8223: checking for gethostname in -lnsl" >&5
echo $ECHO_N "checking for gethostname in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_gethostname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 8231 "configure"
#include "confdefs.h"
d17463 10
a17472 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostname ();
d17476 1
a17476 1
gethostname ();
d17481 5
a17485 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8250: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8253: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8256: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8259: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nsl_gethostname=yes
d17487 3
a17489 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nsl_gethostname=no
d17491 4
a17494 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d17496 2
a17497 3
echo "$as_me:8270: result: $ac_cv_lib_nsl_gethostname" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_gethostname" >&6
if test $ac_cv_lib_nsl_gethostname = yes; then
d17499 1
a17499 1
cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d17501 1
a17501 3
	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d17503 3
a17505 3
	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else
a17506 2
	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
d17508 1
a17508 10
echo "$as_me:8287: checking for gethostname in -lsocket" >&5
echo $ECHO_N "checking for gethostname in -lsocket... $ECHO_C" >&6
if test "${ac_cv_lib_socket_gethostname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 8295 "configure"
#include "confdefs.h"
d17510 13
a17522 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostname ();
d17526 1
a17526 1
gethostname ();
d17531 3
a17533 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8314: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8317: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8320: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8323: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_socket_gethostname=yes
d17535 3
a17537 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_socket_gethostname=no
d17539 2
a17540 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
a17541 3
echo "$as_me:8334: result: $ac_cv_lib_socket_gethostname" >&5
echo "${ECHO_T}$ac_cv_lib_socket_gethostname" >&6
if test $ac_cv_lib_socket_gethostname = yes; then
a17542 1
cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d17544 1
a17544 3
	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d17546 3
a17548 3
	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
else
a17549 2
	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
a17550 1
fi
d17554 2
a17555 2
fi
done
d17557 4
a17560 8
#
# FIXME:  sequent needs this library (i.e., -lsocket -linet -lnsl), but
# I don't know the entrypoints - 97/7/22 TD
# AC_HAVE_LIBRARY(inet,cf_cv_netlibs="-linet $cf_cv_netlibs")
echo "$as_me:8362: checking for main in -linet" >&5
echo $ECHO_N "checking for main in -linet... $ECHO_C" >&6
if test "${ac_cv_lib_inet_main+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a17561 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-linet  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 8370 "configure"
#include "confdefs.h"
d17563 5
d17571 1
a17571 1
main ();
d17576 2
a17577 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8382: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8385: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8388: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8391: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_inet_main=yes
a17578 12
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_inet_main=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:8402: result: $ac_cv_lib_inet_main" >&5
echo "${ECHO_T}$ac_cv_lib_inet_main" >&6
if test $ac_cv_lib_inet_main = yes; then
  cf_cv_netlibs="-linet $cf_cv_netlibs"
fi
a17579 2
#
if test "$ac_cv_func_lsocket" != no ; then
d17581 4
a17584 22
for ac_func in socket
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:8414: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 8420 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
a17585 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
d17587 1
a17587 30
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8451: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8454: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8457: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8460: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:8470: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
a17588 1
else
d17590 2
a17591 10
echo "$as_me:8479: checking for socket in -lsocket" >&5
echo $ECHO_N "checking for socket in -lsocket... $ECHO_C" >&6
if test "${ac_cv_lib_socket_socket+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 8487 "configure"
#include "confdefs.h"
d17593 1
a17593 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char socket ();
d17597 1
a17597 1
socket ();
d17602 2
a17603 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8506: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8509: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8512: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8515: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_socket_socket=yes
d17605 39
a17643 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_socket_socket=no
a17644 6
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:8526: result: $ac_cv_lib_socket_socket" >&5
echo "${ECHO_T}$ac_cv_lib_socket_socket" >&6
if test $ac_cv_lib_socket_socket = yes; then
d17646 79
a17724 1
cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d17726 4
a17729 3
	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d17731 1
a17731 3
	ac_cv_func_socket=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
else
a17732 2
	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
d17734 3
a17736 10
echo "$as_me:8543: checking for socket in -lbsd" >&5
echo $ECHO_N "checking for socket in -lbsd... $ECHO_C" >&6
if test "${ac_cv_lib_bsd_socket+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lbsd $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 8551 "configure"
#include "confdefs.h"
d17738 1
a17738 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char socket ();
d17742 1
a17742 1
socket ();
d17747 3
a17749 24
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8570: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8573: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8576: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8579: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_bsd_socket=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_bsd_socket=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:8590: result: $ac_cv_lib_bsd_socket" >&5
echo "${ECHO_T}$ac_cv_lib_bsd_socket" >&6
if test $ac_cv_lib_bsd_socket = yes; then
d17751 1
a17751 1
cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a17752 3
	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d17754 3
a17756 2
	ac_cv_func_socket=yes
	if test "$cf_used_lib_bsd" != yes ; then cf_used_lib_bsd=yes; cf_cv_netlibs="-lbsd $cf_cv_netlibs"; fi
d17759 1
a17759 2
	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
d17762 3
d17766 1
a17766 1
fi
a17767 2
fi
done
d17769 1
a17769 2
fi
#
a17770 22
for ac_func in gethostbyname
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:8620: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 8626 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
d17772 2
a17773 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
a17774 30
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8657: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8660: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8663: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8666: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:8676: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
a17775 1
else
d17777 1
a17777 10
echo "$as_me:8685: checking for gethostbyname in -lnsl" >&5
echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 8693 "configure"
#include "confdefs.h"
d17779 17
a17795 13
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
int
main ()
{
gethostbyname ();
  ;
  return 0;
d17797 5
a17801 18
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8712: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8715: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8718: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8721: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_nsl_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nsl_gethostbyname=no
a17802 6
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:8732: result: $ac_cv_lib_nsl_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6
if test $ac_cv_lib_nsl_gethostbyname = yes; then
d17804 2
a17805 1
cf_tr_func=`echo "gethostbyname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d17807 10
a17816 3
	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
a17817 3
	ac_cv_func_gethostbyname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else
d17819 10
a17828 2
	ac_cv_func_gethostbyname=unknown
	unset ac_cv_func_gethostbyname 2>/dev/null
a17829 1
fi
d17831 10
a17840 2
fi
done
a17841 1
#
d17843 10
a17852 22
for ac_func in strcasecmp
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:8759: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 8765 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
a17853 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
d17855 9
a17863 2
  ;
  return 0;
a17864 27
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8796: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8799: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8802: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8805: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:8815: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
a17865 1
else
a17866 10
echo "$as_me:8824: checking for strcasecmp in -lresolv" >&5
echo $ECHO_N "checking for strcasecmp in -lresolv... $ECHO_C" >&6
if test "${ac_cv_lib_resolv_strcasecmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lresolv $cf_cv_netlibs $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 8832 "configure"
#include "confdefs.h"
d17868 17
a17884 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char strcasecmp ();
d17888 1
a17888 1
strcasecmp ();
d17893 3
a17895 24
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8851: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8854: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8857: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8860: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_resolv_strcasecmp=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_resolv_strcasecmp=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:8871: result: $ac_cv_lib_resolv_strcasecmp" >&5
echo "${ECHO_T}$ac_cv_lib_resolv_strcasecmp" >&6
if test $ac_cv_lib_resolv_strcasecmp = yes; then
d17897 1
a17897 1
cf_tr_func=`echo "strcasecmp" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a17898 3
	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d17900 3
a17902 2
	ac_cv_func_strcasecmp=yes
	if test "$cf_used_lib_resolv" != yes ; then cf_used_lib_resolv=yes; cf_cv_netlibs="-lresolv $cf_cv_netlibs"; fi
d17905 3
a17907 2
	ac_cv_func_strcasecmp=unknown
	unset ac_cv_func_strcasecmp 2>/dev/null
d17910 12
d17924 2
a17925 1
done
d17927 4
a17932 2
LIBS="$LIBS $cf_cv_netlibs"
test $cf_test_netlibs = no && echo "$cf_cv_netlibs" >&6
d17935 10
a17945 5
echo "$as_me:8900: checking for inet_aton function" >&5
echo $ECHO_N "checking for inet_aton function... $ECHO_C" >&6
if test "${cf_cv_have_inet_aton+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d17947 16
a17962 7
cat >conftest.$ac_ext <<_ACEOF
#line 8907 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d17964 9
d17976 1
a17976 1
inet_aton(0, (struct in_addr *)0)
d17981 2
a17982 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8923: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8926: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8929: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8932: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_inet_aton=yes
d17984 1
a17984 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_inet_aton=no
d17986 23
a18008 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a18009 6
echo "$as_me:8942: result: $cf_cv_have_inet_aton" >&5
echo "${ECHO_T}$cf_cv_have_inet_aton" >&6
if test "$cf_cv_have_inet_aton" = yes ; then
    cat >>confdefs.h <<\EOF
#define HAVE_INET_ATON 1
EOF
a18010 6
else
    echo "$as_me:8950: checking for inet_addr function" >&5
echo $ECHO_N "checking for inet_addr function... $ECHO_C" >&6
if test "${cf_cv_have_inet_addr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d18012 18
a18029 7
    cat >conftest.$ac_ext <<_ACEOF
#line 8957 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d18031 1
a18031 36
int
main ()
{
inet_addr(0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:8973: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:8976: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:8979: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:8982: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_inet_addr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_inet_addr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:8992: result: $cf_cv_have_inet_addr" >&5
echo "${ECHO_T}$cf_cv_have_inet_addr" >&6
    if test "$cf_cv_have_inet_addr" = no ; then
	echo "$as_me:8995: checking for library with inet_addr" >&5
echo $ECHO_N "checking for library with inet_addr... $ECHO_C" >&6
if test "${cf_cv_lib_inet_addr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a18032 11
	    cf_save_LIBS="$LIBS"
	    for cf_inetlib in -lbind -lresolv
	    do
		LIBS="$cf_save_LIBS $cf_inetlib"
		cat >conftest.$ac_ext <<_ACEOF
#line 9006 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d18034 4
a18037 25
int
main ()
{
inet_addr(0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9022: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9025: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9028: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9031: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_lib_inet_addr=$cf_inetlib
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_lib_inet_addr=no
a18038 4
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		LIBS="$cf_save_LIBS"
		test "$cf_cv_lib_inet_addr" != no && break
	    done
d18040 1
a18040 10
fi
echo "$as_me:9045: result: $cf_cv_lib_inet_addr" >&5
echo "${ECHO_T}$cf_cv_lib_inet_addr" >&6
	if test "$cf_cv_lib_inet_addr" != no ; then
	    LIBS="$LIBS $cf_cv_lib_inet_addr"
	else
	    { echo "$as_me:9050: WARNING: Unable to find library for inet_addr function" >&5
echo "$as_me: WARNING: Unable to find library for inet_addr function" >&2;}
	fi
    fi
a18042 1
if test "x$cf_cv_use_libssl"  != xno ; then
d18044 1
a18044 6
cf_ssl_root=
cf_ssl_library="-lssl -lcrypto"
case "$cf_cv_use_libssl" in #(vi
no) #(vi
	;;
yes) #(vi
d18046 9
a18054 4
echo "$as_me:9065: checking for SSL_get_version in -lssl" >&5
echo $ECHO_N "checking for SSL_get_version in -lssl... $ECHO_C" >&6
if test "${ac_cv_lib_ssl_SSL_get_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d18056 19
a18074 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lssl -lcrypto $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 9073 "configure"
#include "confdefs.h"
d18076 2
a18077 32
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SSL_get_version ();
int
main ()
{
SSL_get_version ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9092: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9095: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9098: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9101: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_ssl_SSL_get_version=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_ssl_SSL_get_version=no
d18079 7
a18085 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
a18086 6
echo "$as_me:9112: result: $ac_cv_lib_ssl_SSL_get_version" >&5
echo "${ECHO_T}$ac_cv_lib_ssl_SSL_get_version" >&6
if test $ac_cv_lib_ssl_SSL_get_version = yes; then
  cat >>confdefs.h <<EOF
#define HAVE_LIBSSL 1
EOF
a18087 1
  LIBS="-lssl $LIBS"
d18089 3
a18091 1
else
a18092 12
		cf_ssl_root=/usr/local/ssl
		if test -d $cf_ssl_root ; then
			test -n "$verbose" && echo "	assume it is in $cf_ssl_root" 1>&6

			cf_ssl_library="-L$cf_ssl_root/lib $cf_ssl_library"
		else
			{ { echo "$as_me:9129: error: cannot find ssl library" >&5
echo "$as_me: error: cannot find ssl library" >&2;}
   { (exit 1); exit 1; }; }
		fi

fi
d18094 1
a18094 20
	;;
*)
	if test -d $cf_cv_use_libssl ; then
		if test -d $cf_cv_use_libssl/include ; then
			cf_ssl_root=$cf_cv_use_libssl
		elif test -d $cf_cv_use_libssl/../include ; then
			cf_ssl_root=$cf_cv_use_libssl/..
		else
			{ { echo "$as_me:9144: error: cannot find ssl library under $cf_cv_use_libssl" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libssl" >&2;}
   { (exit 1); exit 1; }; }
		fi
		cf_ssl_library="-L$cf_ssl_root/lib $cf_ssl_library"
	else
		{ echo "$as_me:9150: WARNING: expected a directory: $cf_cv_use_libssl" >&5
echo "$as_me: WARNING: expected a directory: $cf_cv_use_libssl" >&2;}
	fi
	;;
esac
LIBS="$cf_ssl_library $LIBS"
d18096 1
a18096 3
cf_ssl_subincs=yes
if test -n "$cf_ssl_root" ; then
	if test -d $cf_ssl_root/include ; then
d18098 2
a18099 4
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=
d18101 1
a18101 9
for cf_add_cflags in -I$cf_ssl_root/include
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
a18102 3
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
a18103 24
			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
d18105 1
a18105 1
	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`
d18107 3
a18109 6
	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
	;;
esac
done
a18110 1
if test -n "$cf_new_cflags" ; then
d18112 1
a18112 2
	CFLAGS="$CFLAGS $cf_new_cflags"
fi
d18114 1
a18114 1
if test -n "$cf_new_cppflags" ; then
a18115 2
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
fi
a18116 1
if test -n "$cf_new_extra_cppflags" ; then
d18118 1
a18118 2
	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi
d18120 2
a18121 3
		test -d $cf_ssl_root/include/openssl || cf_ssl_subincs=no
	fi
fi
d18123 16
a18138 6
if test "$cf_ssl_subincs" = yes ; then
echo "$as_me:9234: checking for openssl include directory" >&5
echo $ECHO_N "checking for openssl include directory... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 9237 "configure"
#include "confdefs.h"
d18140 8
a18148 1
#include <openssl/ssl.h>
d18152 1
a18152 1
SSL_shutdown((SSL *)0)
d18157 1
a18157 24
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9251: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9254: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9257: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9260: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_openssl_incl=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_openssl_incl=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
echo "$as_me:9269: result: $cf_openssl_incl" >&5
echo "${ECHO_T}$cf_openssl_incl" >&6
test "$cf_openssl_incl" = yes && cat >>confdefs.h <<\EOF
#define USE_OPENSSL_INCL 1
EOF
d18159 2
d18162 11
d18174 1
a18174 5
echo "$as_me:9277: checking if we can link to ssl library" >&5
echo $ECHO_N "checking if we can link to ssl library... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 9280 "configure"
#include "confdefs.h"
d18176 10
a18185 6
#include <stdio.h>
#ifdef USE_OPENSSL_INCL
#include <openssl/ssl.h>
#else
#include <ssl.h>
#endif
a18186 6
int
main ()
{
SSL_shutdown((SSL *)0)
  ;
  return 0;
d18188 5
a18192 14
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9299: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9302: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9305: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9308: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_ssl_library=yes
a18193 11
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_ssl_library=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:9317: result: $cf_ssl_library" >&5
echo "${ECHO_T}$cf_ssl_library" >&6
if test "$cf_ssl_library" = yes ; then
	cat >>confdefs.h <<\EOF
#define USE_SSL 1
EOF
d18195 4
a18198 3
	cat >>confdefs.h <<\EOF
#define USE_X509_SUPPORT 1
EOF
d18200 2
a18201 5
else
	{ { echo "$as_me:9329: error: Cannot link with ssl library" >&5
echo "$as_me: error: Cannot link with ssl library" >&2;}
   { (exit 1); exit 1; }; }
fi
a18202 1
elif test "x$cf_cv_use_libgnutls" != xno ; then
d18204 3
a18206 8
cf_ssl_library="-lgnutls -lcrypt"
echo "$as_me:9337: checking if we know what directory gnutls is in" >&5
echo $ECHO_N "checking if we know what directory gnutls is in... $ECHO_C" >&6
case "$cf_cv_use_libgnutls" in #(vi
no) #(vi
	cf_ssl_root=no
	;;
yes) #(vi
d18208 1
a18208 18
echo "$as_me:9345: checking for gnutls_init in -lgnutls" >&5
echo $ECHO_N "checking for gnutls_init in -lgnutls... $ECHO_C" >&6
if test "${ac_cv_lib_gnutls_gnutls_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgnutls -lgnutls-extra -lgnutls -lcrypt $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 9353 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gnutls_init ();
d18212 17
a18228 1
gnutls_init ();
d18233 5
a18237 17
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9372: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9375: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9378: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9381: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gnutls_gnutls_init=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gnutls_gnutls_init=no
d18239 5
a18243 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d18245 4
a18248 6
echo "$as_me:9392: result: $ac_cv_lib_gnutls_gnutls_init" >&5
echo "${ECHO_T}$ac_cv_lib_gnutls_gnutls_init" >&6
if test $ac_cv_lib_gnutls_gnutls_init = yes; then
  cat >>confdefs.h <<EOF
#define HAVE_LIBGNUTLS 1
EOF
d18250 3
a18252 1
  LIBS="-lgnutls $LIBS"
d18254 4
d18260 1
a18260 3
		cf_ssl_root=/usr/local/gnutls
		if test -d $cf_ssl_root ; then
			test -n "$verbose" && echo "	assume it is in $cf_ssl_root" 1>&6
d18262 18
a18279 5
		else
			{ { echo "$as_me:9408: error: cannot find gnutls library" >&5
echo "$as_me: error: cannot find gnutls library" >&2;}
   { (exit 1); exit 1; }; }
		fi
d18281 4
d18287 13
a18299 21
	;;
*)
	if test -d $cf_cv_use_libgnutls ; then
		if test -d $cf_cv_use_libgnutls/include ; then
			cf_ssl_root=$cf_cv_use_libgnutls
		elif test -d $cf_cv_use_libgnutls/../include ; then
			cf_ssl_root=$cf_cv_use_libgnutls/..
		else
			{ { echo "$as_me:9423: error: cannot find ssl library under $cf_cv_use_libgnutls" >&5
echo "$as_me: error: cannot find ssl library under $cf_cv_use_libgnutls" >&2;}
   { (exit 1); exit 1; }; }
		fi
	else
		{ echo "$as_me:9428: WARNING: expected a directory: $cf_cv_use_libgnutls" >&5
echo "$as_me: WARNING: expected a directory: $cf_cv_use_libgnutls" >&2;}
	fi
	;;
esac
echo "$as_me:9433: result: $cf_ssl_root" >&5
echo "${ECHO_T}$cf_ssl_root" >&6
LIBS="$cf_ssl_library $LIBS"
a18300 4
cf_ssl_subincs=yes
if test "$cf_ssl_root" != no ; then
	cf_ssl_library="-L$cf_ssl_root/lib $cf_ssl_library"
	if test -d $cf_ssl_root/include ; then
d18302 10
a18311 4
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=
a18312 9
for cf_add_cflags in -I$cf_ssl_root/include
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
d18314 10
a18323 3
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
a18324 24
			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
d18326 10
a18335 1
	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`
a18336 6
	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
	;;
esac
done
d18338 10
a18347 1
if test -n "$cf_new_cflags" ; then
a18348 2
	CFLAGS="$CFLAGS $cf_new_cflags"
fi
a18349 1
if test -n "$cf_new_cppflags" ; then
d18351 6
a18356 2
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
fi
d18358 6
a18363 1
if test -n "$cf_new_extra_cppflags" ; then
d18365 1
a18365 2
	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi
d18367 4
a18370 3
		test -d $cf_ssl_root/include/gnutls || cf_ssl_subincs=no
	fi
fi
d18372 16
a18387 10
echo "$as_me:9514: checking for SSL_connect in -lgnutls-openssl" >&5
echo $ECHO_N "checking for SSL_connect in -lgnutls-openssl... $ECHO_C" >&6
if test "${ac_cv_lib_gnutls_openssl_SSL_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgnutls-openssl  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 9522 "configure"
#include "confdefs.h"
d18389 9
a18397 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SSL_connect ();
d18401 1
a18401 1
SSL_connect ();
d18406 2
a18407 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9541: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9544: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9547: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9550: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gnutls_openssl_SSL_connect=yes
d18409 1
a18409 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gnutls_openssl_SSL_connect=no
d18411 23
a18433 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
a18434 15
echo "$as_me:9561: result: $ac_cv_lib_gnutls_openssl_SSL_connect" >&5
echo "${ECHO_T}$ac_cv_lib_gnutls_openssl_SSL_connect" >&6
if test $ac_cv_lib_gnutls_openssl_SSL_connect = yes; then
  LIBS="-lgnutls-openssl $LIBS"
else
  echo "$as_me:9566: checking for SSL_connect in -lgnutls-extra" >&5
echo $ECHO_N "checking for SSL_connect in -lgnutls-extra... $ECHO_C" >&6
if test "${ac_cv_lib_gnutls_extra_SSL_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgnutls-extra  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 9574 "configure"
#include "confdefs.h"
d18436 4
a18439 45
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SSL_connect ();
int
main ()
{
SSL_connect ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9593: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9596: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9599: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9602: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gnutls_extra_SSL_connect=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gnutls_extra_SSL_connect=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:9613: result: $ac_cv_lib_gnutls_extra_SSL_connect" >&5
echo "${ECHO_T}$ac_cv_lib_gnutls_extra_SSL_connect" >&6
if test $ac_cv_lib_gnutls_extra_SSL_connect = yes; then
  LIBS="-lgnutls-extra $LIBS"
else
  { { echo "$as_me:9618: error: cannot find gnutls openssl functions" >&5
echo "$as_me: error: cannot find gnutls openssl functions" >&2;}
   { (exit 1); exit 1; }; }
fi
d18441 2
a18442 1
fi
a18443 6
if test "$cf_ssl_subincs" = yes ; then
echo "$as_me:9626: checking for gnutls include directory" >&5
echo $ECHO_N "checking for gnutls include directory... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 9629 "configure"
#include "confdefs.h"
d18445 1
a18445 2
#include <stdio.h>
#include <gnutls/openssl.h>
a18448 29
SSL_shutdown((SSL *)0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9643: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9646: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9649: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9652: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_openssl_incl=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_openssl_incl=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
echo "$as_me:9661: result: $cf_openssl_incl" >&5
echo "${ECHO_T}$cf_openssl_incl" >&6
test "$cf_openssl_incl" = yes && cat >>confdefs.h <<\EOF
#define USE_GNUTLS_INCL 1
EOF
d18450 1
a18450 1
fi
d18452 4
a18455 9
echo "$as_me:9669: checking if we can link to gnutls library" >&5
echo $ECHO_N "checking if we can link to gnutls library... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 9672 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef USE_GNUTLS_INCL
#include <gnutls/openssl.h>
d18457 2
a18458 1
#include <ssl.h>
d18461 1
a18461 4
int
main ()
{
SSL_shutdown((SSL *)0)
d18466 3
a18468 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9691: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9694: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9697: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9700: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_ssl_library=yes
d18470 15
a18484 11
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_ssl_library=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:9709: result: $cf_ssl_library" >&5
echo "${ECHO_T}$cf_ssl_library" >&6
if test "$cf_ssl_library" = yes ; then
	cat >>confdefs.h <<\EOF
#define USE_SSL 1
EOF
a18485 4
else
	{ { echo "$as_me:9717: error: Cannot link with gnutls library" >&5
echo "$as_me: error: Cannot link with gnutls library" >&2;}
   { (exit 1); exit 1; }; }
d18487 2
d18490 22
a18511 5
echo "$as_me:9722: checking for X509 support" >&5
echo $ECHO_N "checking for X509 support... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 9725 "configure"
#include "confdefs.h"
d18513 8
a18521 6
#ifdef USE_GNUTLS_INCL
#include <gnutls/openssl.h>
#else
#include <ssl.h>
#endif

d18525 1
a18525 2
X509_verify_cert_error_string(X509_STORE_CTX_get_error(X509_STORE_CTX *0));
	cf_x509_support=yes
d18530 1
a18530 34
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:9745: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:9748: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:9751: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9754: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_x509_support=no
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:9762: result: $cf_x509_support" >&5
echo "${ECHO_T}$cf_x509_support" >&6
if test "$cf_x509_support" = yes ; then
	cat >>confdefs.h <<\EOF
#define USE_X509_SUPPORT 1
EOF

fi

fi

echo "$as_me:9773: checking for screen type" >&5
echo $ECHO_N "checking for screen type... $ECHO_C" >&6
if test "${cf_cv_screen+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a18531 13
# Check whether --with-screen or --without-screen was given.
if test "${with_screen+set}" = set; then
  withval="$with_screen"

case $withval in
curses|ncurses|ncursesw|pdcurses|slang)
	cf_cv_screen=$withval
	;;
*)	{ { echo "$as_me:9787: error: Unexpected value" >&5
echo "$as_me: error: Unexpected value" >&2;}
   { (exit 1); exit 1; }; }
	;;
esac
d18533 1
a18533 2
  cf_cv_screen=curses
fi;
d18535 5
a18539 40
echo "$as_me:9796: result: $cf_cv_screen" >&5
echo "${ECHO_T}$cf_cv_screen" >&6

case $cf_cv_screen in
curses|ncurses*)

# Check whether --with-curses-dir or --without-curses-dir was given.
if test "${with_curses_dir+set}" = set; then
  withval="$with_curses_dir"

if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi

case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:9831: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac
d18541 2
a18542 4
	 cf_cv_curses_dir=$withval
else
  cf_cv_curses_dir=no
fi;
d18544 1
a18544 2
	;;
esac
a18545 4
cf_wide_curses=no
dft_color_style=yes
case $cf_cv_screen in
curses)
d18547 1
a18547 5
echo "$as_me:9850: checking for extra include directories" >&5
echo $ECHO_N "checking for extra include directories... $ECHO_C" >&6
if test "${cf_cv_curses_incdir+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d18549 9
a18557 59
cf_cv_curses_incdir=no
case $host_os in #(vi
hpux10.*) #(vi
	test -d /usr/include/curses_colr && \
	cf_cv_curses_incdir="-I/usr/include/curses_colr"
	;;
sunos3*|sunos4*)
	test -d /usr/5lib && \
	test -d /usr/5include && \
	cf_cv_curses_incdir="-I/usr/5include"
	;;
esac

fi
echo "$as_me:9870: result: $cf_cv_curses_incdir" >&5
echo "${ECHO_T}$cf_cv_curses_incdir" >&6
test "$cf_cv_curses_incdir" != no && CPPFLAGS="$cf_cv_curses_incdir $CPPFLAGS"

echo "$as_me:9874: checking if we have identified curses headers" >&5
echo $ECHO_N "checking if we have identified curses headers... $ECHO_C" >&6
if test "${cf_cv_ncurses_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_ncurses_header=none
for cf_header in \
	curses.h \
	ncurses.h \
	ncurses/curses.h \
	ncurses/ncurses.h
do
cat >conftest.$ac_ext <<_ACEOF
#line 9888 "configure"
#include "confdefs.h"
#include <${cf_header}>
int
main ()
{
initscr(); tgoto("?", 0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:9900: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:9903: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:9906: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:9909: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_header=$cf_header; break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d18559 1
a18559 2
rm -f conftest.$ac_objext conftest.$ac_ext
done
a18561 2
echo "$as_me:9920: result: $cf_cv_ncurses_header" >&5
echo "${ECHO_T}$cf_cv_ncurses_header" >&6
d18563 16
a18578 5
if test "$cf_cv_ncurses_header" = none ; then
	{ { echo "$as_me:9924: error: No curses header-files found" >&5
echo "$as_me: error: No curses header-files found" >&2;}
   { (exit 1); exit 1; }; }
fi
d18580 2
a18581 1
# cheat, to get the right #define's for HAVE_NCURSES_H, etc.
a18582 44
for ac_header in $cf_cv_ncurses_header
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:9934: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 9940 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:9944: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:9950: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:9969: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a18583 2
fi
done
d18585 4
a18588 4
echo "$as_me:9979: checking for terminfo header" >&5
echo $ECHO_N "checking for terminfo header... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d18602 2
a18603 3
cat >conftest.$ac_ext <<_ACEOF
#line 9997 "configure"
#include "confdefs.h"
d18616 1
a18616 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10012: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10015: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10018: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10021: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a18619 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d18624 1
a18624 1
rm -f conftest.$ac_objext conftest.$ac_ext
d18629 2
a18630 2
echo "$as_me:10037: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6
d18636 1
a18636 3
	cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF
d18643 1
a18643 3
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF
d18647 1
a18647 3
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF
d18652 10
a18661 4
echo "$as_me:10066: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d18667 2
a18668 1
	if test "$cross_compiling" = yes; then
d18685 1
a18685 1
	{ (eval echo "$as_me:10092: \"$cf_try\"") >&5
d18688 2
a18689 2
  echo "$as_me:10095: \$? = $ac_status" >&5
  (exit $ac_status); }
d18697 2
a18698 3
  cat >conftest.$ac_ext <<_ACEOF
#line 10105 "configure"
#include "confdefs.h"
d18718 1
a18718 1
	exit(0);
d18721 1
a18721 11
rm -f conftest$ac_exeext
if { (eval echo "$as_me:10130: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10133: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:10135: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10138: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a18723 4
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d18725 2
a18726 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d18728 1
d18732 6
a18737 5
echo "$as_me:10152: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no || cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF
a18738 35
echo "$as_me:10158: checking if we have identified curses libraries" >&5
echo $ECHO_N "checking if we have identified curses libraries... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 10161 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
initscr(); tgoto("?", 0,0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10173: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10176: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10179: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10182: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:10191: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
d18740 10
a18749 7
if test "$cf_result" = no ; then
case $host_os in #(vi
freebsd*) #(vi
	echo "$as_me:10197: checking for tgoto in -lmytinfo" >&5
echo $ECHO_N "checking for tgoto in -lmytinfo... $ECHO_C" >&6
if test "${ac_cv_lib_mytinfo_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d18752 3
a18754 4
LIBS="-lmytinfo  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 10205 "configure"
#include "confdefs.h"
d18756 3
a18758 1
/* Override any gcc2 internal prototype to avoid an error.  */
d18762 1
a18762 3
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
d18766 1
a18766 1
tgoto ();
d18771 2
a18772 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10224: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10227: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10230: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10233: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_mytinfo_tgoto=yes
d18774 1
a18774 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_mytinfo_tgoto=no
d18776 2
a18777 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d18780 7
a18786 12
echo "$as_me:10244: result: $ac_cv_lib_mytinfo_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_mytinfo_tgoto" >&6
if test $ac_cv_lib_mytinfo_tgoto = yes; then
  LIBS="-lmytinfo $LIBS"
fi

	;;
hpux10.*) #(vi
	echo "$as_me:10252: checking for initscr in -lcur_colr" >&5
echo $ECHO_N "checking for initscr in -lcur_colr... $ECHO_C" >&6
if test "${ac_cv_lib_cur_colr_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d18789 3
a18791 4
LIBS="-lcur_colr  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 10260 "configure"
#include "confdefs.h"
d18793 3
a18795 1
/* Override any gcc2 internal prototype to avoid an error.  */
a18798 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d18803 1
a18803 1
initscr ();
d18808 2
a18809 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10279: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10282: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10285: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10288: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_cur_colr_initscr=yes
d18811 1
a18811 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_cur_colr_initscr=no
d18813 2
a18814 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d18817 7
a18823 3
echo "$as_me:10299: result: $ac_cv_lib_cur_colr_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_cur_colr_initscr" >&6
if test $ac_cv_lib_cur_colr_initscr = yes; then
d18825 1
a18825 2
		LIBS="-lcur_colr $LIBS"
		ac_cv_func_initscr=yes
a18826 1
else
d18828 9
a18836 4
	echo "$as_me:10308: checking for initscr in -lHcurses" >&5
echo $ECHO_N "checking for initscr in -lHcurses... $ECHO_C" >&6
if test "${ac_cv_lib_Hcurses_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d18839 3
a18841 4
LIBS="-lHcurses  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 10316 "configure"
#include "confdefs.h"
d18843 3
a18845 1
/* Override any gcc2 internal prototype to avoid an error.  */
d18849 1
a18849 3
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
d18853 1
a18853 1
initscr ();
d18858 2
a18859 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10335: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10338: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10341: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10344: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_Hcurses_initscr=yes
d18861 1
a18861 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_Hcurses_initscr=no
d18863 2
a18864 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d18867 4
a18870 9
echo "$as_me:10355: result: $ac_cv_lib_Hcurses_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_Hcurses_initscr" >&6
if test $ac_cv_lib_Hcurses_initscr = yes; then

		# HP's header uses __HP_CURSES, but user claims _HP_CURSES.
		LIBS="-lHcurses $LIBS"
		CPPFLAGS="-D__HP_CURSES -D_HP_CURSES $CPPFLAGS"
		ac_cv_func_initscr=yes

d18873 1
a18873 10
fi

	;;
linux*) # Suse Linux does not follow /usr/lib convention
	LIBS="$LIBS -L/lib"
	;;
sunos3*|sunos4*)
	test -d /usr/5lib && \
	LIBS="$LIBS -L/usr/5lib -lcurses -ltermcap"
	ac_cv_func_initscr=yes
d18877 1
a18877 4
if test ".$ac_cv_func_initscr" != .yes ; then
	cf_save_LIBS="$LIBS"
	cf_term_lib=""
	cf_curs_lib=""
d18879 2
a18880 6
	if test ".${cf_cv_ncurses_version-no}" != .no
	then
		cf_check_list="ncurses curses cursesX"
	else
		cf_check_list="cursesX curses ncurses"
	fi
d18882 18
a18899 33
	# Check for library containing tgoto.  Do this before curses library
	# because it may be needed to link the test-case for initscr.
	echo "$as_me:10393: checking for tgoto" >&5
echo $ECHO_N "checking for tgoto... $ECHO_C" >&6
if test "${ac_cv_func_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 10399 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char tgoto (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_tgoto) || defined (__stub___tgoto)
choke me
#else
f = tgoto;
#endif
d18901 1
a18901 29
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10430: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10433: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10436: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10439: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_tgoto=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_tgoto=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:10449: result: $ac_cv_func_tgoto" >&5
echo "${ECHO_T}$ac_cv_func_tgoto" >&6
if test $ac_cv_func_tgoto = yes; then
  cf_term_lib=predefined
else
a18902 57
		for cf_term_lib in $cf_check_list termcap termlib unknown
		do
			as_ac_Lib=`echo "ac_cv_lib_$cf_term_lib''_tgoto" | $as_tr_sh`
echo "$as_me:10458: checking for tgoto in -l$cf_term_lib" >&5
echo $ECHO_N "checking for tgoto in -l$cf_term_lib... $ECHO_C" >&6
if eval "test \"\${$as_ac_Lib+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-l$cf_term_lib  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 10466 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10485: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10488: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10491: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10494: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Lib=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Lib=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:10505: result: `eval echo '${'$as_ac_Lib'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Lib'}'`" >&6
if test `eval echo '${'$as_ac_Lib'}'` = yes; then
  break
fi

		done
d18904 4
d18910 1
a18910 9
	# Check for library containing initscr
	test "$cf_term_lib" != predefined && test "$cf_term_lib" != unknown && LIBS="-l$cf_term_lib $cf_save_LIBS"
	for cf_curs_lib in $cf_check_list xcurses jcurses unknown
	do
		as_ac_Lib=`echo "ac_cv_lib_$cf_curs_lib''_initscr" | $as_tr_sh`
echo "$as_me:10520: checking for initscr in -l$cf_curs_lib" >&5
echo $ECHO_N "checking for initscr in -l$cf_curs_lib... $ECHO_C" >&6
if eval "test \"\${$as_ac_Lib+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a18911 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-l$cf_curs_lib  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 10528 "configure"
#include "confdefs.h"
d18913 5
a18917 117
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10547: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10550: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10553: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10556: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Lib=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Lib=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:10567: result: `eval echo '${'$as_ac_Lib'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Lib'}'`" >&6
if test `eval echo '${'$as_ac_Lib'}'` = yes; then
  break
fi

	done
	test $cf_curs_lib = unknown && { { echo "$as_me:10574: error: no curses library found" >&5
echo "$as_me: error: no curses library found" >&2;}
   { (exit 1); exit 1; }; }

	LIBS="-l$cf_curs_lib $cf_save_LIBS"
	if test "$cf_term_lib" = unknown ; then
		echo "$as_me:10580: checking if we can link with $cf_curs_lib library" >&5
echo $ECHO_N "checking if we can link with $cf_curs_lib library... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
#line 10583 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
initscr()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10595: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10598: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10601: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10604: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		echo "$as_me:10613: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
		test $cf_result = no && { { echo "$as_me:10615: error: Cannot link curses library" >&5
echo "$as_me: error: Cannot link curses library" >&2;}
   { (exit 1); exit 1; }; }
	elif test "$cf_curs_lib" = "$cf_term_lib" ; then
		:
	elif test "$cf_term_lib" != predefined ; then
		echo "$as_me:10621: checking if we need both $cf_curs_lib and $cf_term_lib libraries" >&5
echo $ECHO_N "checking if we need both $cf_curs_lib and $cf_term_lib libraries... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
#line 10624 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
initscr(); tgoto((char *)0, 0, 0);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10636: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10639: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10642: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10645: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=no
a18918 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d18920 6
a18925 4
			LIBS="-l$cf_curs_lib -l$cf_term_lib $cf_save_LIBS"
			cat >conftest.$ac_ext <<_ACEOF
#line 10654 "configure"
#include "confdefs.h"
d18935 5
a18939 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10666: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10669: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10672: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10675: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
d18941 26
a18966 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=error
a18967 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d18969 26
a18994 7
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		echo "$as_me:10687: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
	fi
fi
fi
d18996 10
a19005 5
echo "$as_me:10693: checking for curses performance tradeoff" >&5
echo $ECHO_N "checking for curses performance tradeoff... $ECHO_C" >&6
if test "${cf_cv_curs_performance+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a19006 4
    cf_cv_curs_performance=no
    cat >conftest.$ac_ext <<_ACEOF
#line 10701 "configure"
#include "confdefs.h"
d19008 10
a19017 4
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
a19018 5
#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ERR;
#else
	int x = ;	/* force an error */
#endif
d19020 9
a19028 2
  ;
  return 0;
a19029 13
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10720: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10723: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10726: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10729: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a19030 3
	cat >conftest.$ac_ext <<_ACEOF
#line 10733 "configure"
#include "confdefs.h"
d19032 10
a19041 1
#define CURS_PERFORMANCE
d19046 1
a19046 7

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ;	/* force an error */
#else
	int x = ERR;
#endif

d19051 5
a19055 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10753: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10756: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10759: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10762: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_curs_performance=yes
d19057 3
a19059 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d19061 4
a19064 4
rm -f conftest.$ac_objext conftest.$ac_ext
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d19066 3
a19068 1
rm -f conftest.$ac_objext conftest.$ac_ext
d19071 1
a19071 5
echo "$as_me:10777: result: $cf_cv_curs_performance" >&5
echo "${ECHO_T}$cf_cv_curs_performance" >&6
test $cf_cv_curs_performance = yes && cat >>confdefs.h <<\EOF
#define CURS_PERFORMANCE 1
EOF
d19073 3
a19075 5
echo "$as_me:10783: checking for curses touchline function" >&5
echo $ECHO_N "checking for curses touchline function... $ECHO_C" >&6
if test "${cf_cv_curs_touchline+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a19076 3
	cat >conftest.$ac_ext <<_ACEOF
#line 10790 "configure"
#include "confdefs.h"
d19078 1
a19078 28
#include <${cf_cv_ncurses_header-curses.h}>
int
main ()
{
touchline(stdscr, 1,2,3);
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10803: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10806: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10809: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10812: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_curs_touchline=bsd
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 10819 "configure"
#include "confdefs.h"
d19080 12
d19096 1
a19096 1
touchline(stdscr, 1,2);
d19101 3
a19103 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:10832: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:10835: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:10838: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10841: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_curs_touchline=sysv
d19105 3
a19107 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_curs_touchline=bsd
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d19109 2
a19110 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a19111 7
echo "$as_me:10853: result: $cf_cv_curs_touchline" >&5
echo "${ECHO_T}$cf_cv_curs_touchline" >&6
case "$cf_cv_curs_touchline" in #(vi
bsd) #(vi
	cat >>confdefs.h <<\EOF
#define HAVE_BSD_TOUCHLINE 1
EOF
a19112 5
	;;
sysv)
	cat >>confdefs.h <<\EOF
#define HAVE_SYSV_TOUCHLINE 1
EOF
d19114 1
a19114 2
	;;
esac
d19116 3
a19118 2
	;;
ncurses)
a19119 1
cf_ncuhdr_root=ncurses
a19120 3
test -n "$cf_cv_curses_dir" && \
test "$cf_cv_curses_dir" != "no" && \
CPPFLAGS="-I$cf_cv_curses_dir/include -I$cf_cv_curses_dir/include/$cf_ncuhdr_root $CPPFLAGS"
d19122 1
a19122 5
echo "$as_me:10879: checking for $cf_ncuhdr_root header in include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root header in include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d19124 7
a19130 4
	cf_header_list="$cf_ncuhdr_root/curses.h $cf_ncuhdr_root/ncurses.h"
	( test "$cf_ncuhdr_root" = ncurses || test "$cf_ncuhdr_root" = ncursesw ) && cf_header_list="$cf_header_list curses.h ncurses.h"
	for cf_header in $cf_header_list
	do
d19132 5
a19136 3
	cat >conftest.$ac_ext <<_ACEOF
#line 10891 "configure"
#include "confdefs.h"
d19138 3
a19140 1
#include <$cf_header>
d19144 1
a19144 12

#ifdef NCURSES_VERSION

printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif

d19149 4
a19152 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:10915: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:10918: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:10921: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:10924: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h=$cf_header
d19154 18
a19171 6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d19173 3
a19175 1
		test "$cf_cv_ncurses_h" != no && break
a19176 1

a19177 2
echo "$as_me:10939: result: $cf_cv_ncurses_h" >&5
echo "${ECHO_T}$cf_cv_ncurses_h" >&6
d19179 1
a19179 12
if test "$cf_cv_ncurses_h" != no ; then
	cf_cv_ncurses_header=$cf_cv_ncurses_h
else

echo "$as_me:10946: checking for $cf_ncuhdr_root include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h2+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

	test -n "$verbose" && echo
	cf_search=""
a19180 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/$cf_ncuhdr_root &&       cf_search="$cf_search $HOME/include/$cf_ncuhdr_root"
	test -d $HOME/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $HOME/include/$cf_ncuhdr_root/include"
}
d19182 9
a19190 6
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/$cf_ncuhdr_root to the actual package location:
test -d $HOME/$cf_ncuhdr_root && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME/$cf_ncuhdr_root"
	test -d $HOME/$cf_ncuhdr_root/include &&       cf_search="$cf_search $HOME/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
a19192 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing include-directories under /usr/local"
	test -d /usr/local/include &&       cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root"
	test -d /usr/local/include/$cf_ncuhdr_root/include && cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root && cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}
d19194 4
a19197 3
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing include-directories under $prefix"
d19199 4
a19202 23
	test -d $prefix/include/$cf_ncuhdr_root &&       cf_search="$cf_search $prefix/include/$cf_ncuhdr_root"
	test -d $prefix/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $prefix/include/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include &&       cf_search="$cf_search $prefix/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing include-directories under /opt"
	test -d /opt/include &&             cf_search="$cf_search /opt/include"
	test -d /opt/include/$cf_ncuhdr_root &&          cf_search="$cf_search /opt/include/$cf_ncuhdr_root"
	test -d /opt/include/$cf_ncuhdr_root/include &&       cf_search="$cf_search /opt/include/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include &&          cf_search="$cf_search /opt/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&       cf_search="$cf_search /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing include-directories under /usr"
	test -d /usr/include &&             cf_search="$cf_search /usr/include"
	test -d /usr/include/$cf_ncuhdr_root &&          cf_search="$cf_search /usr/include/$cf_ncuhdr_root"
	test -d /usr/include/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/include/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include &&          cf_search="$cf_search /usr/$cf_ncuhdr_root/include"
a19204 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/$cf_ncuhdr_root && cf_search="$cf_search $includedir/$cf_ncuhdr_root"
}
d19206 9
a19214 5
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/$cf_ncuhdr_root && cf_search="$cf_search $oldincludedir/$cf_ncuhdr_root"
a19216 4
	test -n "$verbose" && echo search path $cf_search
	cf_save2_CPPFLAGS="$CPPFLAGS"
	for cf_incdir in $cf_search
	do
d19218 9
a19226 22
for cf_add_incdir in $cf_incdir
do
	while true
	do
		case $cf_add_incdir in
		/usr/include) # (vi
			;;
		/usr/local/include) # (vi
			if test "$GCC" = yes
			then
				cf_save_CPPFLAGS="$CPPFLAGS"
				CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
				cat >conftest.$ac_ext <<_ACEOF
#line 11041 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
a19227 31
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11053: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11056: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11059: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11062: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
CPPFLAGS="$cf_save_CPPFLAGS"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			fi
			;;
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
done
a19228 4
		for cf_header in \
			ncurses.h \
			curses.h
		do
d19230 10
a19239 3
	cat >conftest.$ac_ext <<_ACEOF
#line 11089 "configure"
#include "confdefs.h"
a19240 4
#include <$cf_header>
int
main ()
{
a19241 1
#ifdef NCURSES_VERSION
d19243 6
a19248 8
printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif
d19250 5
a19254 2
  ;
  return 0;
a19255 14
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11113: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11116: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11119: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11122: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h2=$cf_header
d19257 1
a19257 6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h2=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d19259 8
a19266 3
			if test "$cf_cv_ncurses_h2" != no ; then
				cf_cv_ncurses_h2=$cf_incdir/$cf_header
				test -n "$verbose" && echo $ac_n "	... found $ac_c" 1>&6
a19268 1
			test -n "$verbose" && echo "	... tested $cf_incdir/$cf_header" 1>&6
d19270 1
a19270 2
		CPPFLAGS="$cf_save2_CPPFLAGS"
		test "$cf_cv_ncurses_h2" != no && break
d19272 1
a19272 3
	test "$cf_cv_ncurses_h2" = no && { { echo "$as_me:11143: error: not found" >&5
echo "$as_me: error: not found" >&2;}
   { (exit 1); exit 1; }; }
d19275 6
a19280 2
echo "$as_me:11148: result: $cf_cv_ncurses_h2" >&5
echo "${ECHO_T}$cf_cv_ncurses_h2" >&6
d19282 6
a19287 5
	cf_1st_incdir=`echo $cf_cv_ncurses_h2 | sed -e 's%/[^/]*$%%'`
	cf_cv_ncurses_header=`basename $cf_cv_ncurses_h2`
	if test `basename $cf_1st_incdir` = $cf_ncuhdr_root ; then
		cf_cv_ncurses_header=$cf_ncuhdr_root/$cf_cv_ncurses_header
	fi
d19289 4
a19292 3
for cf_add_incdir in $cf_1st_incdir
do
	while true
d19294 14
a19307 4
		case $cf_add_incdir in
		/usr/include) # (vi
			;;
		/usr/local/include) # (vi
d19310 4
a19313 5
				cf_save_CPPFLAGS="$CPPFLAGS"
				CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
				cat >conftest.$ac_ext <<_ACEOF
#line 11170 "configure"
#include "confdefs.h"
d19323 2
a19324 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11182: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11185: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11188: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11191: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d19326 1
a19326 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
CPPFLAGS="$cf_save_CPPFLAGS"
d19328 2
a19329 1
rm -f conftest.$ac_objext conftest.$ac_ext
d19331 2
a19332 12
			;;
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
done

fi
d19334 2
a19335 1
# Set definitions to allow ifdef'ing for ncurses.h
d19337 1
a19337 5
case $cf_cv_ncurses_header in # (vi
*ncurses.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_H 1
EOF
a19338 2
	;;
esac
d19340 1
a19340 5
case $cf_cv_ncurses_header in # (vi
ncurses/curses.h|ncurses/ncurses.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_NCURSES_H 1
EOF
d19342 10
a19351 5
	;;
ncursesw/curses.h|ncursesw/ncurses.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_NCURSES_H 1
EOF
d19356 6
a19361 4
echo "$as_me:11240: checking for terminfo header" >&5
echo $ECHO_N "checking for terminfo header... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d19364 2
a19365 17
case ${cf_cv_ncurses_header} in #(vi
*/ncurses.h|*/ncursesw.h) #(vi
	cf_term_header=`echo "$cf_cv_ncurses_header" | sed -e 's%ncurses[^.]*\.h$%term.h%'`
	;;
*)
	cf_term_header=term.h
	;;
esac

for cf_test in $cf_term_header "ncurses/term.h" "ncursesw/term.h"
do
cat >conftest.$ac_ext <<_ACEOF
#line 11258 "configure"
#include "confdefs.h"
#include <stdio.h>
#include <${cf_cv_ncurses_header-curses.h}>
#include <$cf_test>
d19367 1
d19371 1
a19371 1
int x = auto_left_margin
d19376 2
a19377 14
rm -f conftest.$ac_objext
if { (eval echo "$as_me:11273: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:11276: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:11279: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11282: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_term_header="$cf_test"
a19378 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d19380 2
a19381 1
	cf_cv_term_header=unknown
d19383 14
d19398 3
a19400 3
rm -f conftest.$ac_objext conftest.$ac_ext
	test "$cf_cv_term_header" != unknown && break
done
d19403 2
a19404 2
echo "$as_me:11298: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6
d19406 2
a19407 1
# Set definitions to allow ifdef'ing to accommodate subdirectories
d19409 1
a19409 5
case $cf_cv_term_header in # (vi
*term.h)
	cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF
a19410 2
	;;
esac
d19412 1
a19412 5
case $cf_cv_term_header in # (vi
ncurses/term.h) #(vi
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF
d19414 3
a19416 5
	;;
ncursesw/term.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF
d19418 3
a19420 2
	;;
esac
d19422 11
a19432 4
# some applications need this, but should check for NCURSES_VERSION
cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF
d19434 10
a19443 4
echo "$as_me:11332: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d19445 7
a19452 4
	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then
a19453 25
	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
#endif
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo "$as_me:11358: \"$cf_try\"") >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  echo "$as_me:11361: \$? = $ac_status" >&5
  (exit $ac_status); }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi
a19455 3
  cat >conftest.$ac_ext <<_ACEOF
#line 11371 "configure"
#include "confdefs.h"
d19457 17
a19473 3
#include <${cf_cv_ncurses_header-curses.h}>
#include <stdio.h>
int main()
d19475 3
a19477 15
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	exit(0);
d19480 2
a19481 13
rm -f conftest$ac_exeext
if { (eval echo "$as_me:11396: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11399: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:11401: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11404: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_ncurses_version=`cat $cf_tempfile`
d19483 1
a19483 3
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d19485 16
a19500 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d19502 6
a19507 19
	rm -f $cf_tempfile

fi
echo "$as_me:11418: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no || cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF

cf_nculib_root=ncurses
	# This works, except for the special case where we find gpm, but
	# ncurses is in a nonstandard location via $LIBS, and we really want
	# to link gpm.
cf_ncurses_LIBS=""
cf_ncurses_SAVE="$LIBS"
echo "$as_me:11430: checking for Gpm_Open in -lgpm" >&5
echo $ECHO_N "checking for Gpm_Open in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_Gpm_Open+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d19510 3
a19512 4
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 11438 "configure"
#include "confdefs.h"
d19514 3
a19516 1
/* Override any gcc2 internal prototype to avoid an error.  */
d19520 1
a19520 3
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char Gpm_Open ();
d19524 1
a19524 1
Gpm_Open ();
d19529 2
a19530 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11457: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11460: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11463: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11466: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_Gpm_Open=yes
d19532 1
a19532 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_Gpm_Open=no
d19534 2
a19535 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d19538 10
a19547 7
echo "$as_me:11477: result: $ac_cv_lib_gpm_Gpm_Open" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_Gpm_Open" >&6
if test $ac_cv_lib_gpm_Gpm_Open = yes; then
  echo "$as_me:11480: checking for initscr in -lgpm" >&5
echo $ECHO_N "checking for initscr in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d19550 3
a19552 4
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 11488 "configure"
#include "confdefs.h"
d19554 3
a19556 1
/* Override any gcc2 internal prototype to avoid an error.  */
d19560 1
a19560 3
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
d19564 1
a19564 1
initscr ();
d19569 2
a19570 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11507: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11510: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11513: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11516: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_initscr=yes
d19572 1
a19572 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_initscr=no
d19574 2
a19575 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d19578 14
a19591 6
echo "$as_me:11527: result: $ac_cv_lib_gpm_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_initscr" >&6
if test $ac_cv_lib_gpm_initscr = yes; then
  LIBS="$cf_ncurses_SAVE"
else
  cf_ncurses_LIBS="-lgpm"
d19596 10
a19605 9
case $host_os in #(vi
freebsd*)
	# This is only necessary if you are linking against an obsolete
	# version of ncurses (but it should do no harm, since it's static).
	if test "$cf_nculib_root" = ncurses ; then
		echo "$as_me:11542: checking for tgoto in -lmytinfo" >&5
echo $ECHO_N "checking for tgoto in -lmytinfo... $ECHO_C" >&6
if test "${ac_cv_lib_mytinfo_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d19608 3
a19610 4
LIBS="-lmytinfo  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 11550 "configure"
#include "confdefs.h"
d19612 3
a19614 1
/* Override any gcc2 internal prototype to avoid an error.  */
d19618 1
a19618 3
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
d19622 1
a19622 1
tgoto ();
d19627 2
a19628 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11569: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11572: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11575: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11578: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_mytinfo_tgoto=yes
d19630 1
a19630 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_mytinfo_tgoto=no
d19632 2
a19633 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d19636 18
a19653 4
echo "$as_me:11589: result: $ac_cv_lib_mytinfo_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_mytinfo_tgoto" >&6
if test $ac_cv_lib_mytinfo_tgoto = yes; then
  cf_ncurses_LIBS="-lmytinfo $cf_ncurses_LIBS"
a19655 3
	fi
	;;
esac
d19657 1
a19657 1
LIBS="$cf_ncurses_LIBS $LIBS"
d19659 2
a19660 4
if ( test -n "$cf_cv_curses_dir" && test "$cf_cv_curses_dir" != "no" )
then
	LIBS="-L$cf_cv_curses_dir/lib -l$cf_nculib_root $LIBS"
else
d19662 1
a19662 1
	eval 'cf_cv_have_lib_'$cf_nculib_root'=no'
d19664 3
a19666 4
	echo "$as_me:11608: checking for initscr" >&5
echo $ECHO_N "checking for initscr... $ECHO_C" >&6
if test "${ac_cv_func_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a19667 14
  cat >conftest.$ac_ext <<_ACEOF
#line 11614 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char initscr (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
char (*f) ();
d19669 7
d19679 104
a19782 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_initscr) || defined (__stub___initscr)
choke me
#else
f = initscr;
#endif
d19784 12
d19800 35
a19834 24
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11645: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11648: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11651: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11654: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:11664: result: $ac_cv_func_initscr" >&5
echo "${ECHO_T}$ac_cv_func_initscr" >&6
if test $ac_cv_func_initscr = yes; then
  eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
d19838 6
a19843 7
		echo "$as_me:11671: checking for initscr in -l$cf_nculib_root" >&5
echo $ECHO_N "checking for initscr in -l$cf_nculib_root... $ECHO_C" >&6
		LIBS="-l$cf_nculib_root $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 11675 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
d19847 1
a19847 1
initscr()
d19852 4
a19855 15
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11687: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11690: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11693: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11696: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:11698: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
d19858 78
a19935 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:11705: result: no" >&5
echo "${ECHO_T}no" >&6
			cf_search=""
d19937 4
a19940 2
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
d19942 4
a19945 2
	test -d $HOME/lib/$cf_nculib_root &&       cf_search="$cf_search $HOME/lib/$cf_nculib_root"
	test -d $HOME/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $HOME/lib/$cf_nculib_root/lib"
a19947 17
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/$cf_nculib_root to the actual package location:
test -d $HOME/$cf_nculib_root && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/$cf_nculib_root"
	test -d $HOME/$cf_nculib_root/lib &&       cf_search="$cf_search $HOME/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $HOME/$cf_nculib_root/lib/$cf_nculib_root"
}

test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/local/lib/$cf_nculib_root"
	test -d /usr/local/lib/$cf_nculib_root/lib && cf_search="$cf_search /usr/local/lib/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/local/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib/$cf_nculib_root && cf_search="$cf_search /usr/local/$cf_nculib_root/lib/$cf_nculib_root"
}
a19948 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/$cf_nculib_root &&       cf_search="$cf_search $prefix/lib/$cf_nculib_root"
	test -d $prefix/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $prefix/lib/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib &&       cf_search="$cf_search $prefix/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $prefix/$cf_nculib_root/lib/$cf_nculib_root"
}
d19950 1
a19950 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/$cf_nculib_root &&          cf_search="$cf_search /opt/lib/$cf_nculib_root"
	test -d /opt/lib/$cf_nculib_root/lib &&       cf_search="$cf_search /opt/lib/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib &&          cf_search="$cf_search /opt/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib/$cf_nculib_root &&       cf_search="$cf_search /opt/$cf_nculib_root/lib/$cf_nculib_root"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/$cf_nculib_root &&          cf_search="$cf_search /usr/lib/$cf_nculib_root"
	test -d /usr/lib/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/lib/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib &&          cf_search="$cf_search /usr/$cf_nculib_root/lib"
}
d19954 6
a19959 7
				echo "$as_me:11765: checking for -l$cf_nculib_root in $cf_libdir" >&5
echo $ECHO_N "checking for -l$cf_nculib_root in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -l$cf_nculib_root $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 11769 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
d19963 1
a19963 1
initscr()
d19968 4
a19971 15
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11781: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11784: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11787: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11790: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:11792: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
d19974 2
a19975 4
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:11799: result: no" >&5
echo "${ECHO_T}no" >&6
d19978 2
a19979 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d19983 2
a19984 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d19988 1
a19988 1
eval 'cf_found_library=$cf_cv_have_lib_'$cf_nculib_root
d19991 1
a19991 3
	{ { echo "$as_me:11814: error: Cannot link $cf_nculib_root library" >&5
echo "$as_me: error: Cannot link $cf_nculib_root library" >&2;}
   { (exit 1); exit 1; }; }
d19994 8
d20003 4
a20006 15

if test -n "$cf_ncurses_LIBS" ; then
	echo "$as_me:11822: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
echo $ECHO_N "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS... $ECHO_C" >&6
	cf_ncurses_SAVE="$LIBS"
	for p in $cf_ncurses_LIBS ; do
		q=`echo $LIBS | sed -e "s%$p %%" -e "s%$p$%%"`
		if test "$q" != "$LIBS" ; then
			LIBS="$q"
		fi
	done
	cat >conftest.$ac_ext <<_ACEOF
#line 11832 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
d20010 1
a20010 1
initscr(); mousemask(0,0); tgoto((char *)0, 0, 0);
d20015 4
a20018 22
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11844: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11847: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11850: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11853: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:11855: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:11860: result: no" >&5
echo "${ECHO_T}no" >&6
		 LIBS="$cf_ncurses_SAVE"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d20020 6
a20026 1
cf_nculib_ROOT=`echo "HAVE_LIB$cf_nculib_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a20027 3
cat >>confdefs.h <<EOF
#define $cf_nculib_ROOT 1
EOF
d20029 4
a20032 4
echo "$as_me:11873: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20035 6
a20040 4
	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then
d20042 2
a20043 7
	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
d20045 2
a20046 4
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
a20047 12
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo "$as_me:11899: \"$cf_try\"") >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  echo "$as_me:11902: \$? = $ac_status" >&5
  (exit $ac_status); }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi
d20049 2
a20050 24
else
  cat >conftest.$ac_ext <<_ACEOF
#line 11912 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header-curses.h}>
#include <stdio.h>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	exit(0);
d20053 2
a20054 13
rm -f conftest$ac_exeext
if { (eval echo "$as_me:11937: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11940: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:11942: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11945: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_ncurses_version=`cat $cf_tempfile`
d20056 1
a20056 3
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d20058 3
a20060 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d20062 3
a20064 1
	rm -f $cf_tempfile
a20065 6
fi
echo "$as_me:11959: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no || cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF
d20067 1
d20069 2
a20070 1
ncursesw)
d20072 4
a20075 4
echo "$as_me:11968: checking for multibyte character support" >&5
echo $ECHO_N "checking for multibyte character support... $ECHO_C" >&6
if test "${cf_cv_utf8_lib+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20078 3
a20080 6
	cf_save_LIBS="$LIBS"
	cat >conftest.$ac_ext <<_ACEOF
#line 11976 "configure"
#include "confdefs.h"

#include <stdlib.h>
d20084 1
a20084 1
putwc(0,0);
d20089 16
a20104 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:11989: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:11992: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:11995: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:11998: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_utf8_lib=yes
a20105 6
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
LIBS="-lutf8 $LIBS"
	 cat >conftest.$ac_ext <<_ACEOF
#line 12006 "configure"
#include "confdefs.h"
d20107 3
a20109 1
#include <libutf8.h>
d20113 1
a20113 1
putwc(0,0);
d20118 2
a20119 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12019: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12022: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12025: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12028: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_utf8_lib=add-on
d20121 3
a20123 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_utf8_lib=no
d20125 4
a20128 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	LIBS="$cf_save_LIBS"
d20130 1
a20131 4
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12042: result: $cf_cv_utf8_lib" >&5
echo "${ECHO_T}$cf_cv_utf8_lib" >&6
a20132 6
# HAVE_LIBUTF8_H is used by ncurses if curses.h is shared between
# ncurses/ncursesw:
if test "$cf_cv_utf8_lib" = "add-on" ; then
	cat >>confdefs.h <<\EOF
#define HAVE_LIBUTF8_H 1
EOF
d20134 14
a20147 1
	LIBS="-lutf8 $LIBS"
d20150 2
a20151 1
cf_ncuhdr_root=ncursesw
d20153 10
a20162 8
test -n "$cf_cv_curses_dir" && \
test "$cf_cv_curses_dir" != "no" && \
CPPFLAGS="-I$cf_cv_curses_dir/include -I$cf_cv_curses_dir/include/$cf_ncuhdr_root $CPPFLAGS"

echo "$as_me:12061: checking for $cf_ncuhdr_root header in include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root header in include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20164 2
d20167 1
a20167 4
	cf_header_list="$cf_ncuhdr_root/curses.h $cf_ncuhdr_root/ncurses.h"
	( test "$cf_ncuhdr_root" = ncurses || test "$cf_ncuhdr_root" = ncursesw ) && cf_header_list="$cf_header_list curses.h ncurses.h"
	for cf_header in $cf_header_list
	do
a20168 3
	cat >conftest.$ac_ext <<_ACEOF
#line 12073 "configure"
#include "confdefs.h"
d20170 8
a20177 8
#define _XOPEN_SOURCE_EXTENDED
#undef  HAVE_LIBUTF8_H	/* in case we used CF_UTF8_LIB */
#define HAVE_LIBUTF8_H	/* to force ncurses' header file to use cchar_t */

#include <$cf_header>
int
main ()
{
d20179 2
a20180 1
#ifdef NCURSES_VERSION
d20182 2
a20183 3
#ifndef WACS_BSSB
	make an error
#endif
a20184 8
printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif
d20186 7
a20192 17
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:12105: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:12108: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:12111: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12114: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h=$cf_header
d20194 2
d20197 1
a20197 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h=no
a20198 1
rm -f conftest.$ac_objext conftest.$ac_ext
d20200 22
a20221 2
		test "$cf_cv_ncurses_h" != no && break
	done
d20224 1
a20224 2
echo "$as_me:12129: result: $cf_cv_ncurses_h" >&5
echo "${ECHO_T}$cf_cv_ncurses_h" >&6
a20225 3
if test "$cf_cv_ncurses_h" != no ; then
	cf_cv_ncurses_header=$cf_cv_ncurses_h
else
d20227 2
a20228 5
echo "$as_me:12136: checking for $cf_ncuhdr_root include-path" >&5
echo $ECHO_N "checking for $cf_ncuhdr_root include-path... $ECHO_C" >&6
if test "${cf_cv_ncurses_h2+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d20230 4
a20233 9
	test -n "$verbose" && echo
	cf_search=""

test -d $HOME && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/$cf_ncuhdr_root &&       cf_search="$cf_search $HOME/include/$cf_ncuhdr_root"
	test -d $HOME/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $HOME/include/$cf_ncuhdr_root/include"
}
a20234 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/$cf_ncuhdr_root to the actual package location:
test -d $HOME/$cf_ncuhdr_root && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME/$cf_ncuhdr_root"
	test -d $HOME/$cf_ncuhdr_root/include &&       cf_search="$cf_search $HOME/$cf_ncuhdr_root/include"
	test -d $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $HOME/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}
d20236 3
a20238 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing include-directories under /usr/local"
	test -d /usr/local/include &&       cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/$cf_ncuhdr_root &&    cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root"
	test -d /usr/local/include/$cf_ncuhdr_root/include && cf_search="$cf_search /usr/local/include/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include &&    cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include"
	test -d /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root && cf_search="$cf_search /usr/local/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}
a20239 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/$cf_ncuhdr_root &&       cf_search="$cf_search $prefix/include/$cf_ncuhdr_root"
	test -d $prefix/include/$cf_ncuhdr_root/include &&    cf_search="$cf_search $prefix/include/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include &&       cf_search="$cf_search $prefix/$cf_ncuhdr_root/include"
	test -d $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&    cf_search="$cf_search $prefix/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}
a20240 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing include-directories under /opt"
	test -d /opt/include &&             cf_search="$cf_search /opt/include"
	test -d /opt/include/$cf_ncuhdr_root &&          cf_search="$cf_search /opt/include/$cf_ncuhdr_root"
	test -d /opt/include/$cf_ncuhdr_root/include &&       cf_search="$cf_search /opt/include/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include &&          cf_search="$cf_search /opt/$cf_ncuhdr_root/include"
	test -d /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root &&       cf_search="$cf_search /opt/$cf_ncuhdr_root/include/$cf_ncuhdr_root"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing include-directories under /usr"
	test -d /usr/include &&             cf_search="$cf_search /usr/include"
	test -d /usr/include/$cf_ncuhdr_root &&          cf_search="$cf_search /usr/include/$cf_ncuhdr_root"
	test -d /usr/include/$cf_ncuhdr_root/include &&       cf_search="$cf_search /usr/include/$cf_ncuhdr_root/include"
	test -d /usr/$cf_ncuhdr_root/include &&          cf_search="$cf_search /usr/$cf_ncuhdr_root/include"
}
d20242 2
a20243 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/$cf_ncuhdr_root && cf_search="$cf_search $includedir/$cf_ncuhdr_root"
}
a20244 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/$cf_ncuhdr_root && cf_search="$cf_search $oldincludedir/$cf_ncuhdr_root"
}
d20246 7
a20252 4
	test -n "$verbose" && echo search path $cf_search
	cf_save2_CPPFLAGS="$CPPFLAGS"
	for cf_incdir in $cf_search
	do
d20254 2
a20255 37
for cf_add_incdir in $cf_incdir
do
	while true
	do
		case $cf_add_incdir in
		/usr/include) # (vi
			;;
		/usr/local/include) # (vi
			if test "$GCC" = yes
			then
				cf_save_CPPFLAGS="$CPPFLAGS"
				CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
				cat >conftest.$ac_ext <<_ACEOF
#line 12231 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:12243: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:12246: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:12249: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12252: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d20257 1
a20257 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
CPPFLAGS="$cf_save_CPPFLAGS"
a20258 12
rm -f conftest.$ac_objext conftest.$ac_ext
			fi
			;;
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
done
d20260 22
a20281 4
		for cf_header in \
			ncurses.h \
			curses.h
		do
d20283 2
a20284 3
	cat >conftest.$ac_ext <<_ACEOF
#line 12279 "configure"
#include "confdefs.h"
a20285 4
#include <$cf_header>
int
main ()
{
a20286 1
#ifdef NCURSES_VERSION
d20288 2
a20289 8
printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
	make an error
#endif
#endif
d20291 3
a20293 3
  ;
  return 0;
}
a20294 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:12303: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:12306: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:12309: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12312: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ncurses_h2=$cf_header
d20296 11
d20308 3
a20310 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_h2=no
a20311 1
rm -f conftest.$ac_objext conftest.$ac_ext
d20313 2
a20314 13
			if test "$cf_cv_ncurses_h2" != no ; then
				cf_cv_ncurses_h2=$cf_incdir/$cf_header
				test -n "$verbose" && echo $ac_n "	... found $ac_c" 1>&6
				break
			fi
			test -n "$verbose" && echo "	... tested $cf_incdir/$cf_header" 1>&6
		done
		CPPFLAGS="$cf_save2_CPPFLAGS"
		test "$cf_cv_ncurses_h2" != no && break
	done
	test "$cf_cv_ncurses_h2" = no && { { echo "$as_me:12333: error: not found" >&5
echo "$as_me: error: not found" >&2;}
   { (exit 1); exit 1; }; }
d20316 3
a20319 2
echo "$as_me:12338: result: $cf_cv_ncurses_h2" >&5
echo "${ECHO_T}$cf_cv_ncurses_h2" >&6
a20320 5
	cf_1st_incdir=`echo $cf_cv_ncurses_h2 | sed -e 's%/[^/]*$%%'`
	cf_cv_ncurses_header=`basename $cf_cv_ncurses_h2`
	if test `basename $cf_1st_incdir` = $cf_ncuhdr_root ; then
		cf_cv_ncurses_header=$cf_ncuhdr_root/$cf_cv_ncurses_header
	fi
d20322 10
a20331 37
for cf_add_incdir in $cf_1st_incdir
do
	while true
	do
		case $cf_add_incdir in
		/usr/include) # (vi
			;;
		/usr/local/include) # (vi
			if test "$GCC" = yes
			then
				cf_save_CPPFLAGS="$CPPFLAGS"
				CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
				cat >conftest.$ac_ext <<_ACEOF
#line 12360 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:12372: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:12375: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:12378: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12381: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d20333 2
a20334 16
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
CPPFLAGS="$cf_save_CPPFLAGS"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
			fi
			;;
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
done
d20338 2
a20339 1
# Set definitions to allow ifdef'ing for ncurses.h
d20341 4
a20344 5
case $cf_cv_ncurses_header in # (vi
*ncurses.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_H 1
EOF
a20345 2
	;;
esac
a20346 5
case $cf_cv_ncurses_header in # (vi
ncurses/curses.h|ncurses/ncurses.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_NCURSES_H 1
EOF
d20348 2
a20349 5
	;;
ncursesw/curses.h|ncursesw/ncurses.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_NCURSES_H 1
EOF
d20351 7
a20357 2
	;;
esac
d20359 2
a20360 4
echo "$as_me:12430: checking for terminfo header" >&5
echo $ECHO_N "checking for terminfo header... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20362 2
d20365 18
a20382 4
case ${cf_cv_ncurses_header} in #(vi
*/ncurses.h|*/ncursesw.h) #(vi
	cf_term_header=`echo "$cf_cv_ncurses_header" | sed -e 's%ncurses[^.]*\.h$%term.h%'`
	;;
d20384 2
a20385 2
	cf_term_header=term.h
	;;
d20388 2
a20389 8
for cf_test in $cf_term_header "ncurses/term.h" "ncursesw/term.h"
do
cat >conftest.$ac_ext <<_ACEOF
#line 12448 "configure"
#include "confdefs.h"
#include <stdio.h>
#include <${cf_cv_ncurses_header-curses.h}>
#include <$cf_test>
d20391 5
a20395 7
int
main ()
{
int x = auto_left_margin
  ;
  return 0;
}
a20396 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:12463: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:12466: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:12469: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12472: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d20398 11
a20408 1
	cf_cv_term_header="$cf_test"
d20410 11
a20420 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a20421 1
	cf_cv_term_header=unknown
d20423 2
a20424 4
fi
rm -f conftest.$ac_objext conftest.$ac_ext
	test "$cf_cv_term_header" != unknown && break
done
d20426 5
a20431 2
echo "$as_me:12488: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6
a20432 1
# Set definitions to allow ifdef'ing to accommodate subdirectories
d20434 4
a20437 8
case $cf_cv_term_header in # (vi
*term.h)
	cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF

	;;
esac
d20439 6
a20444 5
case $cf_cv_term_header in # (vi
ncurses/term.h) #(vi
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF
d20446 1
a20446 5
	;;
ncursesw/term.h)
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF
a20447 2
	;;
esac
d20449 24
a20472 4
# some applications need this, but should check for NCURSES_VERSION
cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF
d20474 1
a20474 5
echo "$as_me:12522: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a20475 4
	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then
d20477 3
a20479 25
	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
#endif
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo "$as_me:12548: \"$cf_try\"") >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  echo "$as_me:12551: \$? = $ac_status" >&5
  (exit $ac_status); }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi
d20481 1
a20481 4
else
  cat >conftest.$ac_ext <<_ACEOF
#line 12561 "configure"
#include "confdefs.h"
a20482 32
#include <${cf_cv_ncurses_header-curses.h}>
#include <stdio.h>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	exit(0);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:12586: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12589: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:12591: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12594: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d20484 2
a20485 1
	cf_cv_ncurses_version=`cat $cf_tempfile`
d20487 2
a20488 5
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
a20489 1
	rm -f $cf_tempfile
a20490 6
fi
echo "$as_me:12608: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no || cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF
d20492 4
a20495 10
cf_nculib_root=ncursesw
	# This works, except for the special case where we find gpm, but
	# ncurses is in a nonstandard location via $LIBS, and we really want
	# to link gpm.
cf_ncurses_LIBS=""
cf_ncurses_SAVE="$LIBS"
echo "$as_me:12620: checking for Gpm_Open in -lgpm" >&5
echo $ECHO_N "checking for Gpm_Open in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_Gpm_Open+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20497 6
a20502 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12628 "configure"
#include "confdefs.h"
a20503 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char Gpm_Open ();
d20507 1
a20507 1
Gpm_Open ();
d20512 2
a20513 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12647: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12650: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12653: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12656: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_Gpm_Open=yes
d20515 1
a20515 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_Gpm_Open=no
d20517 7
a20523 16
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:12667: result: $ac_cv_lib_gpm_Gpm_Open" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_Gpm_Open" >&6
if test $ac_cv_lib_gpm_Gpm_Open = yes; then
  echo "$as_me:12670: checking for initscr in -lgpm" >&5
echo $ECHO_N "checking for initscr in -lgpm... $ECHO_C" >&6
if test "${ac_cv_lib_gpm_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lgpm  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12678 "configure"
#include "confdefs.h"
a20524 14
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
d20526 3
a20528 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12697: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12700: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12703: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12706: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_gpm_initscr=yes
d20530 1
a20530 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_gpm_initscr=no
d20532 2
a20533 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d20535 11
a20545 4
echo "$as_me:12717: result: $ac_cv_lib_gpm_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_gpm_initscr" >&6
if test $ac_cv_lib_gpm_initscr = yes; then
  LIBS="$cf_ncurses_SAVE"
d20547 1
a20547 1
  cf_ncurses_LIBS="-lgpm"
d20549 1
d20553 4
a20556 9
case $host_os in #(vi
freebsd*)
	# This is only necessary if you are linking against an obsolete
	# version of ncurses (but it should do no harm, since it's static).
	if test "$cf_nculib_root" = ncurses ; then
		echo "$as_me:12732: checking for tgoto in -lmytinfo" >&5
echo $ECHO_N "checking for tgoto in -lmytinfo... $ECHO_C" >&6
if test "${ac_cv_lib_mytinfo_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20558 14
a20571 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lmytinfo  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 12740 "configure"
#include "confdefs.h"
d20573 1
a20573 7
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
d20577 5
a20581 2
tgoto ();
  ;
d20585 2
a20586 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12759: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12762: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12765: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12768: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_mytinfo_tgoto=yes
d20588 4
a20591 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_mytinfo_tgoto=no
d20593 1
a20593 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
a20594 4
echo "$as_me:12779: result: $ac_cv_lib_mytinfo_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_mytinfo_tgoto" >&6
if test $ac_cv_lib_mytinfo_tgoto = yes; then
  cf_ncurses_LIBS="-lmytinfo $cf_ncurses_LIBS"
d20596 3
d20600 1
a20600 5
	fi
	;;
esac

LIBS="$cf_ncurses_LIBS $LIBS"
d20602 1
a20602 4
if ( test -n "$cf_cv_curses_dir" && test "$cf_cv_curses_dir" != "no" )
then
	LIBS="-L$cf_cv_curses_dir/lib -l$cf_nculib_root $LIBS"
else
d20604 4
a20607 6
	eval 'cf_cv_have_lib_'$cf_nculib_root'=no'
	cf_libdir=""
	echo "$as_me:12798: checking for initscr" >&5
echo $ECHO_N "checking for initscr... $ECHO_C" >&6
if test "${ac_cv_func_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20609 5
a20613 14
  cat >conftest.$ac_ext <<_ACEOF
#line 12804 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char initscr (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
char (*f) ();
d20618 2
a20619 9
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_initscr) || defined (__stub___initscr)
choke me
#else
f = initscr;
#endif

d20624 22
a20645 24
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12835: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12838: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12841: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12844: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_initscr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_initscr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:12854: result: $ac_cv_func_initscr" >&5
echo "${ECHO_T}$ac_cv_func_initscr" >&6
if test $ac_cv_func_initscr = yes; then
  eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
d20647 4
a20651 8
		cf_save_LIBS="$LIBS"
		echo "$as_me:12861: checking for initscr in -l$cf_nculib_root" >&5
echo $ECHO_N "checking for initscr in -l$cf_nculib_root... $ECHO_C" >&6
		LIBS="-l$cf_nculib_root $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 12865 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
d20655 2
a20656 1
initscr()
d20661 2
a20662 16
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12877: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12880: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12883: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12886: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:12888: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'

d20664 11
a20674 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:12895: result: no" >&5
echo "${ECHO_T}no" >&6
			cf_search=""
d20676 2
a20677 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/$cf_nculib_root &&       cf_search="$cf_search $HOME/lib/$cf_nculib_root"
	test -d $HOME/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $HOME/lib/$cf_nculib_root/lib"
}
d20679 11
a20689 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/$cf_nculib_root to the actual package location:
test -d $HOME/$cf_nculib_root && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/$cf_nculib_root"
	test -d $HOME/$cf_nculib_root/lib &&       cf_search="$cf_search $HOME/$cf_nculib_root/lib"
	test -d $HOME/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $HOME/$cf_nculib_root/lib/$cf_nculib_root"
}
d20691 7
a20697 48
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/$cf_nculib_root &&    cf_search="$cf_search /usr/local/lib/$cf_nculib_root"
	test -d /usr/local/lib/$cf_nculib_root/lib && cf_search="$cf_search /usr/local/lib/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib &&    cf_search="$cf_search /usr/local/$cf_nculib_root/lib"
	test -d /usr/local/$cf_nculib_root/lib/$cf_nculib_root && cf_search="$cf_search /usr/local/$cf_nculib_root/lib/$cf_nculib_root"
}

test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/$cf_nculib_root &&       cf_search="$cf_search $prefix/lib/$cf_nculib_root"
	test -d $prefix/lib/$cf_nculib_root/lib &&    cf_search="$cf_search $prefix/lib/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib &&       cf_search="$cf_search $prefix/$cf_nculib_root/lib"
	test -d $prefix/$cf_nculib_root/lib/$cf_nculib_root &&    cf_search="$cf_search $prefix/$cf_nculib_root/lib/$cf_nculib_root"
}

test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/$cf_nculib_root &&          cf_search="$cf_search /opt/lib/$cf_nculib_root"
	test -d /opt/lib/$cf_nculib_root/lib &&       cf_search="$cf_search /opt/lib/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib &&          cf_search="$cf_search /opt/$cf_nculib_root/lib"
	test -d /opt/$cf_nculib_root/lib/$cf_nculib_root &&       cf_search="$cf_search /opt/$cf_nculib_root/lib/$cf_nculib_root"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/$cf_nculib_root &&          cf_search="$cf_search /usr/lib/$cf_nculib_root"
	test -d /usr/lib/$cf_nculib_root/lib &&       cf_search="$cf_search /usr/lib/$cf_nculib_root/lib"
	test -d /usr/$cf_nculib_root/lib &&          cf_search="$cf_search /usr/$cf_nculib_root/lib"
}

			for cf_libdir in $cf_search
			do
				echo "$as_me:12955: checking for -l$cf_nculib_root in $cf_libdir" >&5
echo $ECHO_N "checking for -l$cf_nculib_root in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -l$cf_nculib_root $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 12959 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
d20701 1
a20701 1
initscr()
d20706 14
a20719 22
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:12971: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:12974: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:12977: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:12980: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:12982: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'$cf_nculib_root'=yes'
					 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:12989: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
d20721 2
a20722 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done
d20724 2
d20727 2
a20728 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

d20730 5
a20735 6
eval 'cf_found_library=$cf_cv_have_lib_'$cf_nculib_root

if test $cf_found_library = no ; then
	{ { echo "$as_me:13004: error: Cannot link $cf_nculib_root library" >&5
echo "$as_me: error: Cannot link $cf_nculib_root library" >&2;}
   { (exit 1); exit 1; }; }
d20738 9
a20746 1
fi
d20748 7
a20754 14
if test -n "$cf_ncurses_LIBS" ; then
	echo "$as_me:13012: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
echo $ECHO_N "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS... $ECHO_C" >&6
	cf_ncurses_SAVE="$LIBS"
	for p in $cf_ncurses_LIBS ; do
		q=`echo $LIBS | sed -e "s%$p %%" -e "s%$p$%%"`
		if test "$q" != "$LIBS" ; then
			LIBS="$q"
		fi
	done
	cat >conftest.$ac_ext <<_ACEOF
#line 13022 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
d20758 1
a20758 1
initscr(); mousemask(0,0); tgoto((char *)0, 0, 0);
d20763 32
a20794 20
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13034: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13037: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13040: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13043: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:13045: result: yes" >&5
echo "${ECHO_T}yes" >&6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:13050: result: no" >&5
echo "${ECHO_T}no" >&6
		 LIBS="$cf_ncurses_SAVE"
d20796 27
a20822 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d20825 1
a20825 1
cf_nculib_ROOT=`echo "HAVE_LIB$cf_nculib_root" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a20826 3
cat >>confdefs.h <<EOF
#define $cf_nculib_ROOT 1
EOF
d20828 4
a20831 4
echo "$as_me:13063: checking for ncurses version" >&5
echo $ECHO_N "checking for ncurses version... $ECHO_C" >&6
if test "${cf_cv_ncurses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20834 2
a20835 4
	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	rm -f $cf_tempfile
	if test "$cross_compiling" = yes; then
d20837 2
a20838 10
	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
d20840 2
a20841 1
;
d20843 2
a20844 21
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo "$as_me:13089: \"$cf_try\"") >&5
  (eval $cf_try) 2>&5
  ac_status=$?
  echo "$as_me:13092: \$? = $ac_status" >&5
  (exit $ac_status); }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's%^Autoconf %%' -e 's%^[^"]*"%%' -e 's%".*%%'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi

else
  cat >conftest.$ac_ext <<_ACEOF
#line 13102 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header-curses.h}>
#include <stdio.h>
int main()
d20846 3
a20848 15
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	exit(0);
d20851 2
a20852 13
rm -f conftest$ac_exeext
if { (eval echo "$as_me:13127: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13130: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:13132: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13135: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

	cf_cv_ncurses_version=`cat $cf_tempfile`
d20854 1
a20854 3
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d20856 1
a20856 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
a20857 1
	rm -f $cf_tempfile
d20859 4
a20862 6
fi
echo "$as_me:13149: result: $cf_cv_ncurses_version" >&5
echo "${ECHO_T}$cf_cv_ncurses_version" >&6
test "$cf_cv_ncurses_version" = no || cat >>confdefs.h <<\EOF
#define NCURSES 1
EOF
a20863 7
	cf_wide_curses=yes
	;;
pdcurses)
	cf_cv_ncurses_header=xcurses.h
	# do this last, since it changes definition of main: CF_PDCURSES_X11
	;;
slang)
d20865 4
a20868 4
echo "$as_me:13163: checking for slang header file" >&5
echo $ECHO_N "checking for slang header file... $ECHO_C" >&6
if test "${cf_cv_slang_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20871 5
a20875 4
	cat >conftest.$ac_ext <<_ACEOF
#line 13170 "configure"
#include "confdefs.h"
#include <slang.h>
d20879 7
a20885 1
printf("%s\n", SLANG_VERSION)
d20890 2
a20891 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:13182: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:13185: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:13188: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13191: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_header=predefined
d20893 4
a20896 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d20898 4
a20901 1
	cf_search=""
a20902 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/slang &&       cf_search="$cf_search $HOME/include/slang"
	test -d $HOME/include/slang/include &&    cf_search="$cf_search $HOME/include/slang/include"
}
a20903 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/slang to the actual package location:
test -d $HOME/slang && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME/slang"
	test -d $HOME/slang/include &&       cf_search="$cf_search $HOME/slang/include"
	test -d $HOME/slang/include/slang &&    cf_search="$cf_search $HOME/slang/include/slang"
}
d20905 7
a20911 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing include-directories under /usr/local"
	test -d /usr/local/include &&       cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/slang &&    cf_search="$cf_search /usr/local/include/slang"
	test -d /usr/local/include/slang/include && cf_search="$cf_search /usr/local/include/slang/include"
	test -d /usr/local/slang/include &&    cf_search="$cf_search /usr/local/slang/include"
	test -d /usr/local/slang/include/slang && cf_search="$cf_search /usr/local/slang/include/slang"
}
d20913 1
a20913 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/slang &&       cf_search="$cf_search $prefix/include/slang"
	test -d $prefix/include/slang/include &&    cf_search="$cf_search $prefix/include/slang/include"
	test -d $prefix/slang/include &&       cf_search="$cf_search $prefix/slang/include"
	test -d $prefix/slang/include/slang &&    cf_search="$cf_search $prefix/slang/include/slang"
}
d20915 1
a20915 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing include-directories under /opt"
	test -d /opt/include &&             cf_search="$cf_search /opt/include"
	test -d /opt/include/slang &&          cf_search="$cf_search /opt/include/slang"
	test -d /opt/include/slang/include &&       cf_search="$cf_search /opt/include/slang/include"
	test -d /opt/slang/include &&          cf_search="$cf_search /opt/slang/include"
	test -d /opt/slang/include/slang &&       cf_search="$cf_search /opt/slang/include/slang"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing include-directories under /usr"
	test -d /usr/include &&             cf_search="$cf_search /usr/include"
	test -d /usr/include/slang &&          cf_search="$cf_search /usr/include/slang"
	test -d /usr/include/slang/include &&       cf_search="$cf_search /usr/include/slang/include"
	test -d /usr/slang/include &&          cf_search="$cf_search /usr/slang/include"
}
d20917 14
a20930 30
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/slang && cf_search="$cf_search $includedir/slang"
}

test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/slang && cf_search="$cf_search $oldincludedir/slang"
}

	for cf_incdir in $cf_search
	do
		for cf_header in \
			slang.h
		do
			echo trying $cf_incdir/$cf_header 1>&5
			if egrep "SLANG_VERSION" $cf_incdir/$cf_header 1>&5 2>&1; then
				cf_cv_slang_header=$cf_incdir/$cf_header
				break
			fi
		done
		test -n "$cf_cv_slang_header" && break
	done
	test -z "$cf_cv_slang_header" && { { echo "$as_me:13281: error: not found" >&5
echo "$as_me: error: not found" >&2;}
   { (exit 1); exit 1; }; }
a20932 7
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:13288: result: $cf_cv_slang_header" >&5
echo "${ECHO_T}$cf_cv_slang_header" >&6
cat >>confdefs.h <<\EOF
#define USE_SLANG 1
EOF
d20934 1
a20934 1
cf_incdir=`echo $cf_cv_slang_header | sed -e 's%/[^/]*$%%'`
d20936 7
a20942 4
case $cf_cv_slang_header in # (vi
predefined) # (vi
	;;
*)
a20943 41
for cf_add_incdir in $cf_incdir
do
	while true
	do
		case $cf_add_incdir in
		/usr/include) # (vi
			;;
		/usr/local/include) # (vi
			if test "$GCC" = yes
			then
				cf_save_CPPFLAGS="$CPPFLAGS"
				CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
				cat >conftest.$ac_ext <<_ACEOF
#line 13314 "configure"
#include "confdefs.h"
#include <stdio.h>
int
main ()
{
printf("Hello")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:13326: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:13329: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:13332: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13335: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
CPPFLAGS="$cf_save_CPPFLAGS"
d20945 1
a20945 11
rm -f conftest.$ac_objext conftest.$ac_ext
			fi
			;;
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's%/include/.*$%/include%'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
d20948 13
a20960 2
	;;
esac
d20962 4
a20965 6
# There's an unofficial set of patches for slang that gives it some limited
# UTF8 capability.  Unfortunately it won't compile unless one defines UTF8.
echo "$as_me:13361: checking if we must define UTF8" >&5
echo $ECHO_N "checking if we must define UTF8... $ECHO_C" >&6
if test "${cf_cv_slang_utf8+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d20968 3
a20970 5
	cat >conftest.$ac_ext <<_ACEOF
#line 13368 "configure"
#include "confdefs.h"

#include <slang.h>
d20974 5
a20978 1
SLtt_get_screen_size()
d20983 4
a20986 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:13381: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:13384: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:13387: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13390: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_utf8=no
a20987 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d20989 3
a20991 6
	cat >conftest.$ac_ext <<_ACEOF
#line 13398 "configure"
#include "confdefs.h"

#define UTF8
#include <slang.h>
d20995 9
a21003 1
SLtt_get_screen_size()
d21008 4
a21011 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:13412: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:13415: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:13418: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13421: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_utf8=yes
d21013 4
a21016 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_slang_utf8=unknown
d21018 2
a21019 1
rm -f conftest.$ac_objext conftest.$ac_ext
a21020 1
rm -f conftest.$ac_objext conftest.$ac_ext
d21022 4
a21025 3
fi
echo "$as_me:13434: result: $cf_cv_slang_utf8" >&5
echo "${ECHO_T}$cf_cv_slang_utf8" >&6
a21026 4
if test "$cf_cv_slang_utf8" = yes ; then
	cat >>confdefs.h <<\EOF
#define UTF8 1
EOF
a21027 1
fi
d21029 1
a21029 1
cf_slang_LIBS1="$LIBS"
d21031 4
a21034 2
if test "${cf_cv_termlib+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21037 3
a21039 5
cf_cv_termlib=none
cat >conftest.$ac_ext <<_ACEOF
#line 13452 "configure"
#include "confdefs.h"

d21043 1
a21043 1
char *x=(char*)tgoto("",0,0)
d21048 19
a21066 15
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13464: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13467: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13470: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13473: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cat >conftest.$ac_ext <<_ACEOF
#line 13476 "configure"
#include "confdefs.h"
d21068 3
d21074 1
a21074 1
int x=tigetstr("")
d21079 2
a21080 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13488: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13491: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13494: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13497: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_termlib=terminfo
d21082 11
a21092 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_termlib=termcap
a21093 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	test -n "$verbose" && echo "	using functions in predefined $cf_cv_termlib LIBS" 1>&6
d21095 13
d21109 13
a21121 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d21123 17
a21139 14
if test "$cf_cv_termlib" = none; then
	# FreeBSD's linker gives bogus results for AC_CHECK_LIB, saying that
	# tgetstr lives in -lcurses when it is only an unsatisfied extern.
	cf_save_LIBS="$LIBS"
	for cf_lib in curses ncurses termlib termcap
	do
	LIBS="-l$cf_lib $cf_save_LIBS"
	for cf_func in tigetstr tgetstr
	do
		echo "$as_me:13521: checking for $cf_func in -l$cf_lib" >&5
echo $ECHO_N "checking for $cf_func in -l$cf_lib... $ECHO_C" >&6
		cat >conftest.$ac_ext <<_ACEOF
#line 13524 "configure"
#include "confdefs.h"
d21144 13
a21156 3
int x=$cf_func("")
  ;
  return 0;
d21159 2
a21160 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13536: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13539: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13542: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13545: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
d21162 4
a21165 19
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
		echo "$as_me:13554: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
		if test "$cf_result" = yes ; then
			if test "$cf_func" = tigetstr ; then
				cf_cv_termlib=terminfo
			else
				cf_cv_termlib=termcap
			fi
			break
		fi
	done
		test "$cf_result" = yes && break
	done
	test "$cf_result" = no && LIBS="$cf_save_LIBS"
d21167 10
a21176 6
if test "$cf_cv_termlib" = none; then
	# allow curses library for broken AIX system.
	echo "$as_me:13571: checking for initscr in -lcurses" >&5
echo $ECHO_N "checking for initscr in -lcurses... $ECHO_C" >&6
if test "${ac_cv_lib_curses_initscr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21178 8
a21185 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lcurses  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 13579 "configure"
#include "confdefs.h"
d21187 2
a21188 14
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char initscr ();
int
main ()
{
initscr ();
  ;
  return 0;
}
d21190 5
a21194 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13598: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13601: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13604: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13607: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_curses_initscr=yes
d21196 5
a21200 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_curses_initscr=no
d21202 10
a21211 7
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:13618: result: $ac_cv_lib_curses_initscr" >&5
echo "${ECHO_T}$ac_cv_lib_curses_initscr" >&6
if test $ac_cv_lib_curses_initscr = yes; then
  LIBS="$LIBS -lcurses" cf_cv_termlib=termcap
d21214 4
a21217 4
	echo "$as_me:13624: checking for tgoto in -ltermcap" >&5
echo $ECHO_N "checking for tgoto in -ltermcap... $ECHO_C" >&6
if test "${ac_cv_lib_termcap_tgoto+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21219 3
a21221 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ltermcap  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 13632 "configure"
#include "confdefs.h"
a21222 14
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char tgoto ();
int
main ()
{
tgoto ();
  ;
  return 0;
}
d21224 3
a21226 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13651: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13654: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13657: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13660: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_termcap_tgoto=yes
d21228 1
a21228 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_termcap_tgoto=no
d21230 2
a21231 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d21233 9
a21241 4
echo "$as_me:13671: result: $ac_cv_lib_termcap_tgoto" >&5
echo "${ECHO_T}$ac_cv_lib_termcap_tgoto" >&6
if test $ac_cv_lib_termcap_tgoto = yes; then
  LIBS="$LIBS -ltermcap" cf_cv_termlib=termcap
d21244 9
d21255 11
d21267 4
a21270 4
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
if test "$cf_cv_termlib" = none; then
	{ echo "$as_me:13682: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&5
echo "$as_me: WARNING: Cannot find -ltermlib, -lcurses, or -ltermcap" >&2;}
a21272 1
fi
d21274 4
a21277 5
cf_slang_LIBS2="$LIBS"
echo "$as_me:13689: checking for acos" >&5
echo $ECHO_N "checking for acos... $ECHO_C" >&6
if test "${ac_cv_func_acos+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21279 13
a21291 9
  cat >conftest.$ac_ext <<_ACEOF
#line 13695 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char acos (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
a21292 4
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char acos ();
char (*f) ();
a21296 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_acos) || defined (__stub___acos)
choke me
#else
f = acos;
#endif
d21298 2
d21304 2
a21305 24
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13726: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13729: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13732: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13735: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_acos=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_acos=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:13745: result: $ac_cv_func_acos" >&5
echo "${ECHO_T}$ac_cv_func_acos" >&6
if test $ac_cv_func_acos = yes; then
  :
d21307 10
d21318 8
a21325 4
echo "$as_me:13751: checking for acos in -lm" >&5
echo $ECHO_N "checking for acos in -lm... $ECHO_C" >&6
if test "${ac_cv_lib_m_acos+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21327 1
a21327 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lm $LIBS $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 13759 "configure"
#include "confdefs.h"
a21328 28
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char acos ();
int
main ()
{
acos ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13778: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13781: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13784: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13787: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_m_acos=yes
d21330 8
a21337 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_m_acos=no
d21339 1
a21339 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
d21341 3
a21343 3
echo "$as_me:13798: result: $ac_cv_lib_m_acos" >&5
echo "${ECHO_T}$ac_cv_lib_m_acos" >&6
if test $ac_cv_lib_m_acos = yes; then
a21344 1
cf_tr_func=`echo "acos" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d21346 4
a21349 3
	cat >>confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d21351 8
a21358 2
	ac_cv_func_acos=yes
	if test "$cf_used_lib_m" != yes ; then cf_used_lib_m=yes; LIBS="-lm $LIBS"; fi
d21360 1
d21362 10
a21371 2
	ac_cv_func_acos=unknown
	unset ac_cv_func_acos 2>/dev/null
d21374 4
d21379 25
d21406 3
a21408 2
case $host_os in #(vi
os2*)
a21409 21
	eval 'cf_cv_have_lib_'video'=no'
	cf_libdir=""
	echo "$as_me:13824: checking for v_init" >&5
echo $ECHO_N "checking for v_init... $ECHO_C" >&6
if test "${ac_cv_func_v_init+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 13830 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char v_init (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char v_init ();
char (*f) ();
a21410 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_v_init) || defined (__stub___v_init)
choke me
#else
f = v_init;
#endif
d21412 2
a21413 3
  ;
  return 0;
}
d21415 13
a21427 24
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13861: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13864: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13867: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13870: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_v_init=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_v_init=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:13880: result: $ac_cv_func_v_init" >&5
echo "${ECHO_T}$ac_cv_func_v_init" >&6
if test $ac_cv_func_v_init = yes; then
  eval 'cf_cv_have_lib_'video'=yes'
d21429 9
d21439 3
a21441 31
		cf_save_LIBS="$LIBS"
		echo "$as_me:13887: checking for v_init in -lvideo" >&5
echo $ECHO_N "checking for v_init in -lvideo... $ECHO_C" >&6
		LIBS="-lvideo $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 13891 "configure"
#include "confdefs.h"
#include <sys/video.h>
int
main ()
{
v_init()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13903: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:13906: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:13909: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:13912: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:13914: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'video'=yes'
a21442 6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:13921: result: no" >&5
echo "${ECHO_T}no" >&6
			cf_search=""
a21443 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/video &&       cf_search="$cf_search $HOME/lib/video"
	test -d $HOME/lib/video/lib &&    cf_search="$cf_search $HOME/lib/video/lib"
}
d21445 3
a21447 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/video to the actual package location:
test -d $HOME/video && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/video"
	test -d $HOME/video/lib &&       cf_search="$cf_search $HOME/video/lib"
	test -d $HOME/video/lib/video &&    cf_search="$cf_search $HOME/video/lib/video"
}
a21448 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/video &&    cf_search="$cf_search /usr/local/lib/video"
	test -d /usr/local/lib/video/lib && cf_search="$cf_search /usr/local/lib/video/lib"
	test -d /usr/local/video/lib &&    cf_search="$cf_search /usr/local/video/lib"
	test -d /usr/local/video/lib/video && cf_search="$cf_search /usr/local/video/lib/video"
}
a21449 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/video &&       cf_search="$cf_search $prefix/lib/video"
	test -d $prefix/lib/video/lib &&    cf_search="$cf_search $prefix/lib/video/lib"
	test -d $prefix/video/lib &&       cf_search="$cf_search $prefix/video/lib"
	test -d $prefix/video/lib/video &&    cf_search="$cf_search $prefix/video/lib/video"
}
a21450 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/video &&          cf_search="$cf_search /opt/lib/video"
	test -d /opt/lib/video/lib &&       cf_search="$cf_search /opt/lib/video/lib"
	test -d /opt/video/lib &&          cf_search="$cf_search /opt/video/lib"
	test -d /opt/video/lib/video &&       cf_search="$cf_search /opt/video/lib/video"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/video &&          cf_search="$cf_search /usr/lib/video"
	test -d /usr/lib/video/lib &&       cf_search="$cf_search /usr/lib/video/lib"
	test -d /usr/video/lib &&          cf_search="$cf_search /usr/video/lib"
}
d21452 10
a21461 9
			for cf_libdir in $cf_search
			do
				echo "$as_me:13981: checking for -lvideo in $cf_libdir" >&5
echo $ECHO_N "checking for -lvideo in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lvideo $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 13985 "configure"
#include "confdefs.h"
#include <sys/video.h>
d21465 2
a21466 1
v_init()
d21471 2
a21472 16
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:13997: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14000: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14003: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14006: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:14008: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'video'=yes'
					 break
d21474 1
a21474 9
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:14015: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done

d21476 2
a21477 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext

d21479 3
d21483 1
a21483 1
eval 'cf_found_library=$cf_cv_have_lib_'video
a21484 4
if test $cf_found_library = no ; then
	{ { echo "$as_me:14030: error: Cannot link video library" >&5
echo "$as_me: error: Cannot link video library" >&2;}
   { (exit 1); exit 1; }; }
d21487 4
a21490 9
	;;
esac

	eval 'cf_cv_have_lib_'slang'=no'
	cf_libdir=""
	echo "$as_me:14040: checking for SLtt_get_screen_size" >&5
echo $ECHO_N "checking for SLtt_get_screen_size... $ECHO_C" >&6
if test "${ac_cv_func_SLtt_get_screen_size+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21492 4
a21495 23
  cat >conftest.$ac_ext <<_ACEOF
#line 14046 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char SLtt_get_screen_size (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char SLtt_get_screen_size ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_SLtt_get_screen_size) || defined (__stub___SLtt_get_screen_size)
choke me
d21497 16
a21512 1
f = SLtt_get_screen_size;
a21514 38
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14077: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14080: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14083: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14086: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_SLtt_get_screen_size=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_SLtt_get_screen_size=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:14096: result: $ac_cv_func_SLtt_get_screen_size" >&5
echo "${ECHO_T}$ac_cv_func_SLtt_get_screen_size" >&6
if test $ac_cv_func_SLtt_get_screen_size = yes; then
  eval 'cf_cv_have_lib_'slang'=yes'
else

		cf_save_LIBS="$LIBS"
		echo "$as_me:14103: checking for SLtt_get_screen_size in -lslang" >&5
echo $ECHO_N "checking for SLtt_get_screen_size in -lslang... $ECHO_C" >&6
		LIBS="-lslang $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 14107 "configure"
#include "confdefs.h"
#include <slang.h>
d21518 2
a21519 1
SLtt_get_screen_size()
d21524 38
a21561 15
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14119: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14122: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14125: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14128: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:14130: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'slang'=yes'
d21563 4
d21568 3
a21570 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:14137: result: no" >&5
echo "${ECHO_T}no" >&6
			cf_search=""
d21572 8
a21579 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/slang &&       cf_search="$cf_search $HOME/lib/slang"
	test -d $HOME/lib/slang/lib &&    cf_search="$cf_search $HOME/lib/slang/lib"
}
d21581 3
a21583 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/slang to the actual package location:
test -d $HOME/slang && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/slang"
	test -d $HOME/slang/lib &&       cf_search="$cf_search $HOME/slang/lib"
	test -d $HOME/slang/lib/slang &&    cf_search="$cf_search $HOME/slang/lib/slang"
}
d21585 2
a21586 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/slang &&    cf_search="$cf_search /usr/local/lib/slang"
	test -d /usr/local/lib/slang/lib && cf_search="$cf_search /usr/local/lib/slang/lib"
	test -d /usr/local/slang/lib &&    cf_search="$cf_search /usr/local/slang/lib"
	test -d /usr/local/slang/lib/slang && cf_search="$cf_search /usr/local/slang/lib/slang"
}
d21588 2
a21589 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/slang &&       cf_search="$cf_search $prefix/lib/slang"
	test -d $prefix/lib/slang/lib &&    cf_search="$cf_search $prefix/lib/slang/lib"
	test -d $prefix/slang/lib &&       cf_search="$cf_search $prefix/slang/lib"
	test -d $prefix/slang/lib/slang &&    cf_search="$cf_search $prefix/slang/lib/slang"
}
d21591 23
a21613 17
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/slang &&          cf_search="$cf_search /opt/lib/slang"
	test -d /opt/lib/slang/lib &&       cf_search="$cf_search /opt/lib/slang/lib"
	test -d /opt/slang/lib &&          cf_search="$cf_search /opt/slang/lib"
	test -d /opt/slang/lib/slang &&       cf_search="$cf_search /opt/slang/lib/slang"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/slang &&          cf_search="$cf_search /usr/lib/slang"
	test -d /usr/lib/slang/lib &&       cf_search="$cf_search /usr/lib/slang/lib"
	test -d /usr/slang/lib &&          cf_search="$cf_search /usr/slang/lib"
a21615 9
			for cf_libdir in $cf_search
			do
				echo "$as_me:14197: checking for -lslang in $cf_libdir" >&5
echo $ECHO_N "checking for -lslang in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lslang $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 14201 "configure"
#include "confdefs.h"
#include <slang.h>
d21619 1
a21619 3
SLtt_get_screen_size()
  ;
  return 0;
d21622 2
a21623 16
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14213: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14216: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14219: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14222: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:14224: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'slang'=yes'
					 break
d21625 4
a21628 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:14231: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
a21629 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done
d21632 6
a21637 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d21641 7
a21647 1
eval 'cf_found_library=$cf_cv_have_lib_'slang
a21648 4
if test $cf_found_library = no ; then
	{ { echo "$as_me:14246: error: Cannot link slang library" >&5
echo "$as_me: error: Cannot link slang library" >&2;}
   { (exit 1); exit 1; }; }
d21651 11
a21661 7
cf_slang_LIBS3="$LIBS"
echo "$as_me:14252: checking if we can link slang without termcap" >&5
echo $ECHO_N "checking if we can link slang without termcap... $ECHO_C" >&6
if test -n "`echo $cf_slang_LIBS1 | sed -e 's/ //g'`" ; then
	cf_exclude=`echo ".$cf_slang_LIBS2" | sed -e "s%$cf_slang_LIBS1%%" -e 's%^.%%'`
else
	cf_exclude="$cf_slang_LIBS2"
d21663 7
a21669 26
LIBS=`echo ".$cf_slang_LIBS3" | sed -e "s%$cf_exclude%%" -e 's%^.%%'`
cat >conftest.$ac_ext <<_ACEOF
#line 14261 "configure"
#include "confdefs.h"
#include <slang.h>
int
main ()
{
SLtt_get_screen_size()
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14273: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14276: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14279: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14282: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_result=yes
d21671 2
a21672 13
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
echo "$as_me:14291: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
test $cf_result = no && LIBS="$cf_slang_LIBS3"

echo "$as_me:14295: checking if we must tell slang this is UNIX" >&5
echo $ECHO_N "checking if we must tell slang this is UNIX... $ECHO_C" >&6
if test "${cf_cv_slang_unix+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21674 3
a21676 5

cat >conftest.$ac_ext <<_ACEOF
#line 14302 "configure"
#include "confdefs.h"
#include <slang.h>
d21681 2
a21682 6
#ifdef REAL_UNIX_SYSTEM
make an error
#else
extern int SLang_TT_Baud_Rate;
SLang_TT_Baud_Rate = 1
#endif
d21688 2
a21689 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14321: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14324: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14327: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14330: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_slang_unix=yes
d21691 4
a21694 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_slang_unix=no
a21695 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d21698 2
a21699 5
echo "$as_me:14341: result: $cf_cv_slang_unix" >&5
echo "${ECHO_T}$cf_cv_slang_unix" >&6
test $cf_cv_slang_unix = yes && cat >>confdefs.h <<\EOF
#define REAL_UNIX_SYSTEM 1
EOF
a21700 16
	dft_color_style=no
	;;
esac

echo "$as_me:14351: checking if you want the wide-curses features" >&5
echo $ECHO_N "checking if you want the wide-curses features... $ECHO_C" >&6

# Check whether --enable-widec or --disable-widec was given.
if test "${enable_widec+set}" = set; then
  enableval="$enable_widec"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_wide_curses=$enableval
  else
    use_wide_curses=$cf_wide_curses
  fi
d21702 60
a21761 2
  enableval=no
  use_wide_curses=$cf_wide_curses
d21763 5
a21767 3
fi;
echo "$as_me:14368: result: $use_wide_curses" >&5
echo "${ECHO_T}$use_wide_curses" >&6
d21769 1
a21769 2
echo "$as_me:14371: checking for the default configuration-file" >&5
echo $ECHO_N "checking for the default configuration-file... $ECHO_C" >&6
d21771 1
a21771 3
# Check whether --with-cfg-file or --without-cfg-file was given.
if test "${with_cfg_file+set}" = set; then
  withval="$with_cfg_file"
d21773 18
a21790 8
else
  withval="${LYNX_CFG_FILE-$sysconfdir/lynx.cfg}"
fi;
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d21792 8
a21799 24
case ".$withval" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  { { echo "$as_me:14406: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
  ;;
esac
d21801 5
a21805 1
LYNX_CFG_FILE="$withval"
d21807 2
a21808 2
echo "$as_me:14414: result: $LYNX_CFG_FILE" >&5
echo "${ECHO_T}$LYNX_CFG_FILE" >&6
d21810 2
a21811 4
test "$LYNX_CFG_FILE" = no && LYNX_CFG_FILE=
cat >>confdefs.h <<EOF
#define LYNX_CFG_FILE "$LYNX_CFG_FILE"
EOF
d21813 14
a21826 1
CHARSET_DEFS=
d21828 3
a21830 2
echo "$as_me:14424: checking if you want only a few charsets" >&5
echo $ECHO_N "checking if you want only a few charsets... $ECHO_C" >&6
a21831 6
# Check whether --with-charsets or --without-charsets was given.
if test "${with_charsets+set}" = set; then
  withval="$with_charsets"
  cf_charsets=$withval
else
  cf_charsets=
d21833 5
d21839 1
a21839 6
if test -n "$cf_charsets" ; then
	echo "$as_me:14436: result: yes" >&5
echo "${ECHO_T}yes" >&6
	cat >>confdefs.h <<\EOF
#define ALL_CHARSETS 0
EOF
d21841 1
a21841 6
	cf_min_charsets=us-ascii,iso-8859-1,utf-8
	if test "$cf_charsets" = "no" ; then
		cf_charsets=minimal
	fi
	if test "$cf_charsets" = "minimal" ; then
		test -n "$verbose" && echo "	using minimal list of charsets: $cf_min_charsets" 1>&6
d21843 1
a21843 24
	fi
	cf_charsets=`echo $cf_charsets | sed -e "s/minimal/$cf_min_charsets/g" -e 's/,/ /g'`
	for cf_charset in $cf_charsets
	do
		cf_def_charset=`echo $cf_charset | sed -e 's/+/_/g' -e 's/-/_/g'`
		cf_use_charset=no
		# check charsets that are defined via .tbl files
		if ( egrep '^M'$cf_charset'$' $srcdir/src/chrtrans/*.tbl 2>/dev/null >/dev/null )
		then
			cf_use_charset=yes
		# check charsets that are "built-in"
		else
			for cf_tst_charset in big5 euc_cn euc_jp euc_kr shift_jis x_transparent
			do
				if test "$cf_tst_charset" = "$cf_def_charset"
				then
					cf_use_charset=yes
					break
				fi
			done
		fi
		if test $cf_use_charset=yes
		then
			test -n "$verbose" && echo "	found $cf_charset" 1>&6
d21845 1
a21845 3
			CHARSET_DEFS="-DNO_CHARSET_${cf_def_charset}=0 $CHARSET_DEFS"
		else
			test -n "$verbose" && echo "	not found $cf_charset" 1>&6
a21846 5
		fi
	done
else
	echo "$as_me:14481: result: no" >&5
echo "${ECHO_T}no" >&6
d21848 1
d21850 1
a21850 12
echo "$as_me:14485: checking for ANSI C header files" >&5
echo $ECHO_N "checking for ANSI C header files... $ECHO_C" >&6
if test "${ac_cv_header_stdc+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 14491 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
a21851 16
_ACEOF
if { (eval echo "$as_me:14499: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:14505: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
d21853 6
a21858 2
if test -z "$ac_cpp_err"; then
  ac_cv_header_stdc=yes
a21859 5
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_header_stdc=no
fi
rm -f conftest.err conftest.$ac_ext
d21861 2
a21862 6
if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 14527 "configure"
#include "confdefs.h"
#include <string.h>
d21864 2
a21865 8
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  ac_cv_header_stdc=no
fi
rm -f conftest*
d21867 3
a21869 1
fi
d21871 1
a21871 6
if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
  cat >conftest.$ac_ext <<_ACEOF
#line 14545 "configure"
#include "confdefs.h"
#include <stdlib.h>
d21873 3
d21877 2
a21878 3
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
a21879 3
  ac_cv_header_stdc=no
fi
rm -f conftest*
d21881 2
a21882 1
fi
d21884 3
a21886 12
if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
  if test "$cross_compiling" = yes; then
  :
else
  cat >conftest.$ac_ext <<_ACEOF
#line 14566 "configure"
#include "confdefs.h"
#include <ctype.h>
#if ((' ' & 0x0FF) == 0x020)
# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
d21888 3
a21890 4
# define ISLOWER(c) (('a' <= (c) && (c) <= 'i') \
                     || ('j' <= (c) && (c) <= 'r') \
                     || ('s' <= (c) && (c) <= 'z'))
# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))
a21891 2

#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
d21895 5
a21899 6
  int i;
  for (i = 0; i < 256; i++)
    if (XOR (islower (i), ISLOWER (i))
        || toupper (i) != TOUPPER (i))
      exit(2);
  exit (0);
d21902 2
a21903 12
rm -f conftest$ac_exeext
if { (eval echo "$as_me:14592: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14595: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:14597: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14600: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d21905 1
a21905 6
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_header_stdc=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d21907 2
d21910 3
d21914 3
a21916 3
echo "$as_me:14613: result: $ac_cv_header_stdc" >&5
echo "${ECHO_T}$ac_cv_header_stdc" >&6
if test $ac_cv_header_stdc = yes; then
a21917 3
cat >>confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF
a21918 1
fi
d21920 4
a21923 4
echo "$as_me:14623: checking whether time.h and sys/time.h may both be included" >&5
echo $ECHO_N "checking whether time.h and sys/time.h may both be included... $ECHO_C" >&6
if test "${ac_cv_header_time+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a21924 6
  cat >conftest.$ac_ext <<_ACEOF
#line 14629 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>
d21926 18
d21947 1
a21947 2
if ((struct tm *) 0)
return 0;
d21952 2
a21953 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:14645: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:14648: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:14651: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14654: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_header_time=yes
d21955 5
a21959 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_header_time=no
d21961 3
a21963 1
rm -f conftest.$ac_objext conftest.$ac_ext
a21964 3
echo "$as_me:14664: result: $ac_cv_header_time" >&5
echo "${ECHO_T}$ac_cv_header_time" >&6
if test $ac_cv_header_time = yes; then
d21966 4
a21969 3
cat >>confdefs.h <<\EOF
#define TIME_WITH_SYS_TIME 1
EOF
a21970 1
fi
d21972 4
a21975 7
ac_header_dirent=no
for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h; do
  as_ac_Header=`echo "ac_cv_header_dirent_$ac_hdr" | $as_tr_sh`
echo "$as_me:14677: checking for $ac_hdr that defines DIR" >&5
echo $ECHO_N "checking for $ac_hdr that defines DIR... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d21977 4
a21980 3
  cat >conftest.$ac_ext <<_ACEOF
#line 14683 "configure"
#include "confdefs.h"
d21982 1
a21982 2
#include <$ac_hdr>

d21986 1
a21986 2
if ((DIR *) 0)
return 0;
d21991 68
a22058 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:14698: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:14701: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:14704: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14707: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_Header=yes"
d22060 5
a22064 12
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_Header=no"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:14717: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_hdr" | $as_tr_cpp` 1
EOF
a22065 1
ac_header_dirent=$ac_hdr; break
d22068 7
a22074 7
done
# Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.
if test $ac_header_dirent = dirent.h; then
  echo "$as_me:14730: checking for opendir in -ldir" >&5
echo $ECHO_N "checking for opendir in -ldir... $ECHO_C" >&6
if test "${ac_cv_lib_dir_opendir+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a22075 5
  ac_check_lib_save_LIBS=$LIBS
LIBS="-ldir  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 14738 "configure"
#include "confdefs.h"
d22077 22
a22098 3
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
d22100 1
a22100 3
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char opendir ();
d22104 1
a22104 1
opendir ();
d22109 3
a22111 17
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14757: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14760: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14763: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14766: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_dir_opendir=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dir_opendir=no
d22113 4
a22116 7
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:14777: result: $ac_cv_lib_dir_opendir" >&5
echo "${ECHO_T}$ac_cv_lib_dir_opendir" >&6
if test $ac_cv_lib_dir_opendir = yes; then
  LIBS="$LIBS -ldir"
d22118 8
d22127 16
a22142 11
else
  echo "$as_me:14784: checking for opendir in -lx" >&5
echo $ECHO_N "checking for opendir in -lx... $ECHO_C" >&6
if test "${ac_cv_lib_x_opendir+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-lx  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 14792 "configure"
#include "confdefs.h"
d22144 5
a22148 3
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
d22150 1
a22150 3
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char opendir ();
d22154 1
a22154 1
opendir ();
d22159 4
a22162 17
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14811: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14814: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14817: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14820: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_x_opendir=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_x_opendir=no
d22164 2
a22165 7
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:14831: result: $ac_cv_lib_x_opendir" >&5
echo "${ECHO_T}$ac_cv_lib_x_opendir" >&6
if test $ac_cv_lib_x_opendir = yes; then
  LIBS="$LIBS -lx"
d22167 15
d22183 3
a22185 1
fi
d22187 3
a22189 17
for ac_header in \
	arpa/inet.h \
	fcntl.h \
	limits.h \
	stdlib.h \
	string.h \
	sys/fcntl.h \
	sys/filio.h \
	sys/ioctl.h \
	sys/param.h \
	sys/timeb.h \
	sys/time.h \
	syslog.h \
	termio.h \
	termios.h \
	unistd.h \
	vfork.h \
d22191 2
a22192 11
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:14859: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 14865 "configure"
#include "confdefs.h"
#include <$ac_header>
d22194 1
a22194 24
if { (eval echo "$as_me:14869: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:14875: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
a22195 6
echo "$as_me:14894: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
d22197 2
a22198 2
fi
done
d22200 4
a22203 4
echo "$as_me:14904: checking termio.h and termios.h" >&5
echo $ECHO_N "checking termio.h and termios.h... $ECHO_C" >&6
if test "${cf_cv_termio_and_termios+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22205 3
a22207 11

    cat >conftest.$ac_ext <<_ACEOF
#line 14911 "configure"
#include "confdefs.h"

#if HAVE_TERMIO_H
#include <termio.h>
#endif
#if HAVE_TERMIOS_H
#include <termios.h>
#endif
d22211 3
a22213 1
putchar (0x0a)
d22218 1
a22218 20
rm -f conftest.$ac_objext
if { (eval echo "$as_me:14929: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:14932: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:14935: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14938: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_termio_and_termios=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_termio_and_termios=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
d22220 3
a22222 18
echo "$as_me:14949: result: $cf_cv_termio_and_termios" >&5
echo "${ECHO_T}$cf_cv_termio_and_termios" >&6
test $cf_cv_termio_and_termios = no && cat >>confdefs.h <<\EOF
#define TERMIO_AND_TERMIOS 1
EOF

echo "$as_me:14955: checking for sigaction and structs" >&5
echo $ECHO_N "checking for sigaction and structs... $ECHO_C" >&6
if test "${cf_cv_func_sigaction+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cat >conftest.$ac_ext <<_ACEOF
#line 14962 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <signal.h>
d22226 3
a22228 7
struct sigaction act;
	act.sa_handler = SIG_DFL;
#ifdef SA_RESTART
	act.sa_flags |= SA_RESTART;
#endif /* SA_RESTART */
	sigaction(1, &act, 0);

d22233 3
a22235 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:14982: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:14985: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:14988: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:14991: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_func_sigaction=yes
a22236 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_func_sigaction=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d22238 1
d22240 2
a22241 5
echo "$as_me:15002: result: $cf_cv_func_sigaction" >&5
echo "${ECHO_T}$cf_cv_func_sigaction" >&6
test "$cf_cv_func_sigaction" = yes && cat >>confdefs.h <<\EOF
#define HAVE_SIGACTION 1
EOF
d22243 1
a22243 37
for ac_header in sys/wait.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:15011: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 15017 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:15021: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:15027: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
d22245 1
a22245 7
echo "$as_me:15046: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

a22246 1
done
d22248 4
a22251 6
cf_wait_headers="#include <sys/types.h>
"
if test $ac_cv_header_sys_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <sys/wait.h>
"
d22253 2
a22255 44
for ac_header in wait.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:15067: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 15073 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:15077: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:15083: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:15102: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
d22257 1
a22257 2
fi
done
d22259 2
a22260 12
for ac_header in waitstatus.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:15115: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 15121 "configure"
#include "confdefs.h"
#include <$ac_header>
a22261 31
if { (eval echo "$as_me:15125: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:15131: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:15150: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
d22266 2
a22267 11
if test $ac_cv_header_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <wait.h>
"
fi
if test $ac_cv_header_waitstatus_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <waitstatus.h>
"
fi
fi
d22269 4
a22272 4
echo "$as_me:15172: checking for union wait" >&5
echo $ECHO_N "checking for union wait... $ECHO_C" >&6
if test "${cf_cv_type_unionwait+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22274 5
a22278 5

	cat >conftest.$ac_ext <<_ACEOF
#line 15179 "configure"
#include "confdefs.h"
$cf_wait_headers
d22282 3
a22284 5
int x;
	 int y = WEXITSTATUS(x);
	 int z = WTERMSIG(x);
	 wait(&x);

d22289 1
a22289 14
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15195: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15198: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15201: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15204: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_type_unionwait=no
	 echo compiles ok w/o union wait 1>&5
d22291 2
a22292 3
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d22294 2
a22295 4
	cat >conftest.$ac_ext <<_ACEOF
#line 15214 "configure"
#include "confdefs.h"
$cf_wait_headers
d22299 2
a22300 6
union wait x;
#ifdef WEXITSTATUS
	 int y = WEXITSTATUS(x);
#endif
#ifdef WTERMSIG
	 int z = WTERMSIG(x);
a22301 2
	 wait(&x);

d22306 4
a22309 14
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15234: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15237: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15240: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15243: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_type_unionwait=yes
	 echo compiles ok with union wait and possibly macros too 1>&5
d22311 3
d22315 2
a22316 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_type_unionwait=no
d22318 1
a22318 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d22320 16
a22335 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d22337 2
a22339 5
echo "$as_me:15258: result: $cf_cv_type_unionwait" >&5
echo "${ECHO_T}$cf_cv_type_unionwait" >&6
test $cf_cv_type_unionwait = yes && cat >>confdefs.h <<\EOF
#define HAVE_TYPE_UNIONWAIT 1
EOF
a22340 1
if test $cf_cv_type_unionwait = yes; then
d22342 4
a22345 4
	echo "$as_me:15266: checking if union wait can be used as wait-arg" >&5
echo $ECHO_N "checking if union wait can be used as wait-arg... $ECHO_C" >&6
	if test "${cf_cv_arg_union_wait+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22348 5
a22352 4
		cat >conftest.$ac_ext <<_ACEOF
#line 15273 "configure"
#include "confdefs.h"
$cf_wait_headers
d22356 1
a22356 1
union wait x; wait(&x)
d22361 2
a22362 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15285: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15288: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15291: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15294: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_arg_union_wait=yes
d22364 1
a22364 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_arg_union_wait=no
d22366 9
a22374 1
rm -f conftest.$ac_objext conftest.$ac_ext
a22377 5
	echo "$as_me:15306: result: $cf_cv_arg_union_wait" >&5
echo "${ECHO_T}$cf_cv_arg_union_wait" >&6
	test $cf_cv_arg_union_wait = yes && cat >>confdefs.h <<\EOF
#define WAIT_USES_UNION 1
EOF
d22379 5
a22383 4
	echo "$as_me:15312: checking if union wait can be used as waitpid-arg" >&5
echo $ECHO_N "checking if union wait can be used as waitpid-arg... $ECHO_C" >&6
	if test "${cf_cv_arg_union_waitpid+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22386 9
a22394 4
		cat >conftest.$ac_ext <<_ACEOF
#line 15319 "configure"
#include "confdefs.h"
$cf_wait_headers
d22398 1
a22398 1
union wait x; waitpid(0, &x, 0)
d22403 2
a22404 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15331: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15334: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15337: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15340: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_arg_union_waitpid=yes
d22406 1
a22406 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_arg_union_waitpid=no
d22408 1
a22408 1
rm -f conftest.$ac_objext conftest.$ac_ext
d22411 2
d22414 1
a22414 5
	echo "$as_me:15352: result: $cf_cv_arg_union_waitpid" >&5
echo "${ECHO_T}$cf_cv_arg_union_waitpid" >&6
	test $cf_cv_arg_union_waitpid = yes && cat >>confdefs.h <<\EOF
#define WAITPID_USES_UNION 1
EOF
d22416 1
a22416 1
fi
d22418 2
a22419 12
for ac_header in stdarg.h varargs.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:15363: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 15369 "configure"
#include "confdefs.h"
#include <$ac_header>
d22421 1
a22421 24
if { (eval echo "$as_me:15373: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:15379: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
a22422 6
echo "$as_me:15398: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
d22424 1
a22424 2
fi
done
d22426 4
a22429 4
echo "$as_me:15408: checking for standard varargs" >&5
echo $ECHO_N "checking for standard varargs... $ECHO_C" >&6
if test "${cf_cv_ansi_varargs+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22432 2
a22433 3
	cat >conftest.$ac_ext <<_ACEOF
#line 15415 "configure"
#include "confdefs.h"
d22435 2
a22436 7
#if HAVE_STDARG_H
#include <stdarg.h>
#else
#if HAVE_VARARGS_H
#include <varargs.h>
#endif
#endif
d22441 1
a22441 1
return 0;} int foo(char *fmt,...){va_list args;va_start(args,fmt);va_end(args)
d22446 2
a22447 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15435: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15438: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15441: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15444: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ansi_varargs=yes
d22449 1
a22449 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ansi_varargs=no
d22451 2
a22452 1
rm -f conftest.$ac_objext conftest.$ac_ext
d22455 2
d22458 1
a22458 5
echo "$as_me:15456: result: $cf_cv_ansi_varargs" >&5
echo "${ECHO_T}$cf_cv_ansi_varargs" >&6
test $cf_cv_ansi_varargs = yes && cat >>confdefs.h <<\EOF
#define ANSI_VARARGS 1
EOF
d22460 1
a22460 9
echo "$as_me:15462: checking for uid_t in sys/types.h" >&5
echo $ECHO_N "checking for uid_t in sys/types.h... $ECHO_C" >&6
if test "${ac_cv_type_uid_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 15468 "configure"
#include "confdefs.h"
#include <sys/types.h>
d22462 2
d22465 1
a22465 5
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "uid_t" >/dev/null 2>&1; then
  ac_cv_type_uid_t=yes
else
  ac_cv_type_uid_t=no
a22466 1
rm -f conftest*
a22467 4
fi
echo "$as_me:15482: result: $ac_cv_type_uid_t" >&5
echo "${ECHO_T}$ac_cv_type_uid_t" >&6
if test $ac_cv_type_uid_t = no; then
a22468 3
cat >>confdefs.h <<\EOF
#define uid_t int
EOF
a22469 3
cat >>confdefs.h <<\EOF
#define gid_t int
EOF
a22470 1
fi
d22472 4
a22475 7
echo "$as_me:15496: checking type of array argument to getgroups" >&5
echo $ECHO_N "checking type of array argument to getgroups... $ECHO_C" >&6
if test "${ac_cv_type_getgroups+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_type_getgroups=cross
a22476 8
  cat >conftest.$ac_ext <<_ACEOF
#line 15505 "configure"
#include "confdefs.h"
/* Thanks to Mike Rendell for this test.  */
#include <sys/types.h>
#define NGID 256
#undef MAX
#define MAX(x, y) ((x) > (y) ? (x) : (y))
d22478 4
d22485 3
a22487 12
  gid_t gidset[NGID];
  int i, n;
  union { gid_t gval; long lval; }  val;

  val.lval = -1;
  for (i = 0; i < NGID; i++)
    gidset[i] = val.gval;
  n = getgroups (sizeof (gidset) / MAX (sizeof (int), sizeof (gid_t)) - 1,
                 gidset);
  /* Exit non-zero if getgroups seems to require an array of ints.  This
     happens when gid_t is short but getgroups modifies an array of ints.  */
  exit ((n > 0 && gidset[n] != val.gval) ? 1 : 0);
d22490 2
a22491 12
rm -f conftest$ac_exeext
if { (eval echo "$as_me:15531: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15534: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:15536: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15539: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_getgroups=gid_t
d22493 1
a22493 4
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_getgroups=int
d22495 5
a22499 7
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
if test $ac_cv_type_getgroups = cross; then
        cat >conftest.$ac_ext <<_ACEOF
#line 15552 "configure"
#include "confdefs.h"
#include <unistd.h>
d22501 6
d22508 2
a22509 3
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "getgroups.*int.*gid_t" >/dev/null 2>&1; then
  ac_cv_type_getgroups=gid_t
d22511 4
a22514 1
  ac_cv_type_getgroups=int
d22516 1
a22516 1
rm -f conftest*
d22519 4
a22522 3
fi
echo "$as_me:15567: result: $ac_cv_type_getgroups" >&5
echo "${ECHO_T}$ac_cv_type_getgroups" >&6
a22523 3
cat >>confdefs.h <<EOF
#define GETGROUPS_T $ac_cv_type_getgroups
EOF
d22525 4
a22528 4
echo "$as_me:15574: checking for pid_t" >&5
echo $ECHO_N "checking for pid_t... $ECHO_C" >&6
if test "${ac_cv_type_pid_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22530 4
a22533 4
  cat >conftest.$ac_ext <<_ACEOF
#line 15580 "configure"
#include "confdefs.h"
$ac_includes_default
d22537 1
a22537 4
if ((pid_t *) 0)
  return 0;
if (sizeof (pid_t))
  return 0;
d22542 20
a22561 24
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15595: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15598: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15601: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15604: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_pid_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_pid_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:15614: result: $ac_cv_type_pid_t" >&5
echo "${ECHO_T}$ac_cv_type_pid_t" >&6
if test $ac_cv_type_pid_t = yes; then
  :
d22564 2
a22565 3
cat >>confdefs.h <<EOF
#define pid_t int
EOF
d22567 6
a22572 1
fi
d22574 10
a22583 4
echo "$as_me:15626: checking for uid_t in sys/types.h" >&5
echo $ECHO_N "checking for uid_t in sys/types.h... $ECHO_C" >&6
if test "${ac_cv_type_uid_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22585 9
a22593 4
  cat >conftest.$ac_ext <<_ACEOF
#line 15632 "configure"
#include "confdefs.h"
#include <sys/types.h>
d22595 7
d22603 2
a22604 3
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "uid_t" >/dev/null 2>&1; then
  ac_cv_type_uid_t=yes
d22606 4
a22609 1
  ac_cv_type_uid_t=no
d22611 3
a22613 1
rm -f conftest*
a22615 3
echo "$as_me:15646: result: $ac_cv_type_uid_t" >&5
echo "${ECHO_T}$ac_cv_type_uid_t" >&6
if test $ac_cv_type_uid_t = no; then
d22617 7
a22623 3
cat >>confdefs.h <<\EOF
#define uid_t int
EOF
a22624 3
cat >>confdefs.h <<\EOF
#define gid_t int
EOF
a22625 1
fi
d22627 4
a22630 4
echo "$as_me:15660: checking for mode_t" >&5
echo $ECHO_N "checking for mode_t... $ECHO_C" >&6
if test "${ac_cv_type_mode_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22632 10
a22641 4
  cat >conftest.$ac_ext <<_ACEOF
#line 15666 "configure"
#include "confdefs.h"
$ac_includes_default
d22645 1
a22645 4
if ((mode_t *) 0)
  return 0;
if (sizeof (mode_t))
  return 0;
d22650 2
a22651 24
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15681: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15684: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15687: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15690: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_mode_t=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_mode_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:15700: result: $ac_cv_type_mode_t" >&5
echo "${ECHO_T}$ac_cv_type_mode_t" >&6
if test $ac_cv_type_mode_t = yes; then
  :
d22653 9
d22663 5
a22667 3
cat >>confdefs.h <<EOF
#define mode_t int
EOF
d22671 6
a22676 4
	echo "$as_me:15712: checking for socklen_t" >&5
echo $ECHO_N "checking for socklen_t... $ECHO_C" >&6
if test "${ac_cv_type_socklen_t+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22678 6
a22683 5
  cat >conftest.$ac_ext <<_ACEOF
#line 15718 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/socket.h>
d22688 1
a22688 4
if ((socklen_t *) 0)
  return 0;
if (sizeof (socklen_t))
  return 0;
d22693 2
a22694 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:15734: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:15737: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:15740: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15743: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_type_socklen_t=yes
d22696 5
a22700 12
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_type_socklen_t=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
echo "$as_me:15753: result: $ac_cv_type_socklen_t" >&5
echo "${ECHO_T}$ac_cv_type_socklen_t" >&6
if test $ac_cv_type_socklen_t = yes; then
  ac_cv_type_socklen_t=yes
else
  ac_cv_type_socklen_t=no
d22702 6
d22709 3
a22711 4
	if test $ac_cv_type_socklen_t = no; then
	cat >>confdefs.h <<\EOF
#define socklen_t int
EOF
d22715 7
a22721 6
# The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
# for constant arguments.  Useless!
echo "$as_me:15770: checking for working alloca.h" >&5
echo $ECHO_N "checking for working alloca.h... $ECHO_C" >&6
if test "${ac_cv_working_alloca_h+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22723 10
a22732 4
  cat >conftest.$ac_ext <<_ACEOF
#line 15776 "configure"
#include "confdefs.h"
#include <alloca.h>
d22736 1
a22736 1
char *p = (char *) alloca (2 * sizeof (int));
d22741 2
a22742 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15788: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15791: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15794: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15797: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_working_alloca_h=yes
d22744 1
a22744 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_working_alloca_h=no
d22746 2
a22747 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d22749 6
a22754 3
echo "$as_me:15807: result: $ac_cv_working_alloca_h" >&5
echo "${ECHO_T}$ac_cv_working_alloca_h" >&6
if test $ac_cv_working_alloca_h = yes; then
d22756 3
a22758 3
cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA_H 1
EOF
d22762 6
a22767 4
echo "$as_me:15817: checking for alloca" >&5
echo $ECHO_N "checking for alloca... $ECHO_C" >&6
if test "${ac_cv_func_alloca_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22769 6
a22774 23
  cat >conftest.$ac_ext <<_ACEOF
#line 15823 "configure"
#include "confdefs.h"
#ifdef __GNUC__
# define alloca __builtin_alloca
#else
# ifdef _MSC_VER
#  include <malloc.h>
#  define alloca _alloca
# else
#  if HAVE_ALLOCA_H
#   include <alloca.h>
#  else
#   ifdef _AIX
 #pragma alloca
#   else
#    ifndef alloca /* predefined by HP cc +Olibcalls */
char *alloca ();
#    endif
#   endif
#  endif
# endif
#endif
d22779 1
a22779 1
char *p = (char *) alloca (1);
d22784 2
a22785 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15855: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15858: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15861: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15864: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_alloca_works=yes
d22787 1
a22787 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_alloca_works=no
d22789 3
a22791 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d22793 6
a22798 2
echo "$as_me:15874: result: $ac_cv_func_alloca_works" >&5
echo "${ECHO_T}$ac_cv_func_alloca_works" >&6
d22800 3
a22802 1
if test $ac_cv_func_alloca_works = yes; then
d22804 1
a22804 3
cat >>confdefs.h <<\EOF
#define HAVE_ALLOCA 1
EOF
a22805 5
else
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
# that cause trouble.  Some versions do not even contain alloca or
# contain a buggy version.  If you still want to use their alloca,
# use ar to extract alloca.o from them instead of compiling alloca.c.
a22806 1
ALLOCA=alloca.$ac_objext
a22807 3
cat >>confdefs.h <<\EOF
#define C_ALLOCA 1
EOF
a22808 13
echo "$as_me:15895: checking whether \`alloca.c' needs Cray hooks" >&5
echo $ECHO_N "checking whether \`alloca.c' needs Cray hooks... $ECHO_C" >&6
if test "${ac_cv_os_cray+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 15901 "configure"
#include "confdefs.h"
#if defined(CRAY) && ! defined(CRAY2)
webecray
#else
wenotbecray
#endif
d22810 7
d22818 1
a22818 5
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "webecray" >/dev/null 2>&1; then
  ac_cv_os_cray=yes
else
  ac_cv_os_cray=no
a22819 1
rm -f conftest*
d22821 6
a22826 10
fi
echo "$as_me:15919: result: $ac_cv_os_cray" >&5
echo "${ECHO_T}$ac_cv_os_cray" >&6
if test $ac_cv_os_cray = yes; then
  for ac_func in _getb67 GETB67 getb67; do
    as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:15924: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22828 11
a22838 9
  cat >conftest.$ac_ext <<_ACEOF
#line 15930 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
a22839 5
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

d22843 1
a22843 9
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif

d22848 2
a22849 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:15961: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:15964: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:15967: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:15970: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
d22851 5
a22855 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
d22857 2
a22858 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d22860 4
a22863 3
echo "$as_me:15980: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
a22864 3
cat >>confdefs.h <<EOF
#define CRAY_STACKSEG_END $ac_func
EOF
a22865 2
    break
fi
a22866 2
  done
fi
d22868 4
a22871 4
echo "$as_me:15994: checking stack direction for C alloca" >&5
echo $ECHO_N "checking stack direction for C alloca... $ECHO_C" >&6
if test "${ac_cv_c_stack_direction+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a22872 19
  if test "$cross_compiling" = yes; then
  ac_cv_c_stack_direction=0
else
  cat >conftest.$ac_ext <<_ACEOF
#line 16003 "configure"
#include "confdefs.h"
int
find_stack_direction ()
{
  static char *addr = 0;
  auto char dummy;
  if (addr == 0)
    {
      addr = &dummy;
      return find_stack_direction ();
    }
  else
    return (&dummy > addr) ? 1 : -1;
}
d22874 13
d22890 5
a22894 1
  exit (find_stack_direction () < 0);
d22897 3
a22899 85
rm -f conftest$ac_exeext
if { (eval echo "$as_me:16026: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16029: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:16031: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16034: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_c_stack_direction=1
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_c_stack_direction=-1
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:16046: result: $ac_cv_c_stack_direction" >&5
echo "${ECHO_T}$ac_cv_c_stack_direction" >&6

cat >>confdefs.h <<EOF
#define STACK_DIRECTION $ac_cv_c_stack_direction
EOF

fi

for ac_header in unistd.h vfork.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:16058: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 16064 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:16068: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:16074: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:16093: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF

fi
done

for ac_func in fork vfork
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:16106: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a22900 14
  cat >conftest.$ac_ext <<_ACEOF
#line 16112 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
d22902 3
d22908 2
a22909 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
d22915 3
a22917 26
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16143: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16146: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16149: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16152: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:16162: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
d22920 3
a22924 41
ac_cv_func_fork_works=$ac_cv_func_fork
if test "x$ac_cv_func_fork" = xyes; then
  echo "$as_me:16174: checking for working fork" >&5
echo $ECHO_N "checking for working fork... $ECHO_C" >&6
if test "${ac_cv_func_fork_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_func_fork_works=cross
else
  cat >conftest.$ac_ext <<_ACEOF
/* By Rdiger Kuhlmann. */
      #include <sys/types.h>
      #if HAVE_UNISTD_H
      # include <unistd.h>
      #endif
      /* Some systems only have a dummy stub for fork() */
      int main ()
      {
        if (fork() < 0)
          exit (1);
        exit (0);
      }
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:16197: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16200: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:16202: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16205: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_fork_works=yes
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_fork_works=no
d22926 8
a22933 5
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
fi
echo "$as_me:16217: result: $ac_cv_func_fork_works" >&5
echo "${ECHO_T}$ac_cv_func_fork_works" >&6
d22935 5
a22939 20
fi
if test "x$ac_cv_func_fork_works" = xcross; then
  case $host in
    *-*-amigaos* | *-*-msdosdjgpp*)
      # Override, as these systems have only a dummy fork() stub
      ac_cv_func_fork_works=no
      ;;
    *)
      ac_cv_func_fork_works=yes
      ;;
  esac
  { echo "$as_me:16231: WARNING: CROSS: Result $ac_cv_func_fork_works guessed due to cross-compiling." >&5
echo "$as_me: WARNING: CROSS: Result $ac_cv_func_fork_works guessed due to cross-compiling." >&2;}
fi
ac_cv_func_vfork_works=$ac_cv_func_vfork
if test "x$ac_cv_func_vfork" = xyes; then
  echo "$as_me:16236: checking for working vfork" >&5
echo $ECHO_N "checking for working vfork... $ECHO_C" >&6
if test "${ac_cv_func_vfork_works+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d22941 4
a22944 8
  if test "$cross_compiling" = yes; then
  ac_cv_func_vfork_works=cross
else
  cat >conftest.$ac_ext <<_ACEOF
#line 16245 "configure"
#include "confdefs.h"
/* Thanks to Paul Eggert for this test.  */
#include <stdio.h>
d22946 1
a22946 35
#include <sys/stat.h>
#if HAVE_UNISTD_H
# include <unistd.h>
#endif
#if HAVE_VFORK_H
# include <vfork.h>
#endif
/* On some sparc systems, changes by the child to local and incoming
   argument registers are propagated back to the parent.  The compiler
   is told about this with #include <vfork.h>, but some compilers
   (e.g. gcc -O) don't grok <vfork.h>.  Test for this by using a
   static variable whose address is put into a register that is
   clobbered by the vfork.  */
static
#ifdef __cplusplus
sparc_address_test (int arg)
# else
sparc_address_test (arg) int arg;
#endif
{
  static pid_t child;
  if (!child) {
    child = vfork ();
    if (child < 0) {
      perror ("vfork");
      _exit(2);
    }
    if (!child) {
      arg = getpid();
      write(-1, "", 0);
      _exit (arg);
    }
  }
}

d22950 11
a22960 2
  pid_t parent = getpid ();
  pid_t child;
d22962 1
a22962 1
  sparc_address_test ();
d22964 3
a22966 1
  child = vfork ();
d22968 1
a22968 27
  if (child == 0) {
    /* Here is another test for sparc vfork register problems.  This
       test uses lots of local variables, at least as many local
       variables as main has allocated so far including compiler
       temporaries.  4 locals are enough for gcc 1.40.3 on a Solaris
       4.1.3 sparc, but we use 8 to be safe.  A buggy compiler should
       reuse the register of parent for one of the local variables,
       since it will think that parent can't possibly be used any more
       in this routine.  Assigning to the local variable will thus
       munge parent in the parent process.  */
    pid_t
      p = getpid(), p1 = getpid(), p2 = getpid(), p3 = getpid(),
      p4 = getpid(), p5 = getpid(), p6 = getpid(), p7 = getpid();
    /* Convince the compiler that p..p7 are live; otherwise, it might
       use the same hardware register for all 8 local variables.  */
    if (p != p1 || p != p2 || p != p3 || p != p4
	|| p != p5 || p != p6 || p != p7)
      _exit(1);

    /* On some systems (e.g. IRIX 3.3), vfork doesn't separate parent
       from child file descriptors.  If the child closes a descriptor
       before it execs or exits, this munges the parent's descriptor
       as well.  Test for this by closing stdout in the child.  */
    _exit(close(fileno(stdout)) != 0);
  } else {
    int status;
    struct stat st;
a22969 5
    while (wait(&status) != child)
      ;
    exit(
	 /* Was there some problem with vforking?  */
	 child < 0
d22971 6
a22976 2
	 /* Did the child fail?  (This shouldn't happen.)  */
	 || status
d22978 2
a22979 2
	 /* Did the vfork/compiler bug occur?  */
	 || parent != getpid()
d22981 8
a22988 4
	 /* Did the file descriptor bug occur?  */
	 || fstat(fileno(stdout), &st) != 0
	 );
  }
d22991 2
a22992 12
rm -f conftest$ac_exeext
if { (eval echo "$as_me:16342: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16345: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:16347: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16350: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_vfork_works=yes
d22994 1
a22994 7
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_vfork_works=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi
d22996 1
a22996 2
echo "$as_me:16362: result: $ac_cv_func_vfork_works" >&5
echo "${ECHO_T}$ac_cv_func_vfork_works" >&6
a22997 5
fi;
if test "x$ac_cv_func_fork_works" = xcross; then
  ac_cv_func_vfork_works=ac_cv_func_vfork
  { echo "$as_me:16368: WARNING: CROSS: Result $ac_cv_func_vfork_works guessed due to cross-compiling." >&5
echo "$as_me: WARNING: CROSS: Result $ac_cv_func_vfork_works guessed due to cross-compiling." >&2;}
d23000 3
a23002 11
if test "x$ac_cv_func_vfork_works" = xyes; then

cat >>confdefs.h <<\EOF
#define HAVE_WORKING_VFORK 1
EOF

else

cat >>confdefs.h <<\EOF
#define vfork fork
EOF
a23004 1
if test "x$ac_cv_func_fork_works" = xyes; then
a23005 3
cat >>confdefs.h <<\EOF
#define HAVE_WORKING_FORK 1
EOF
d23007 5
a23011 6
fi

echo "$as_me:16393: checking if we should use fcntl or ioctl" >&5
echo $ECHO_N "checking if we should use fcntl or ioctl... $ECHO_C" >&6
if test "${cf_cv_fionbio+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d23014 2
a23015 4
cat >conftest.$ac_ext <<_ACEOF
#line 16400 "configure"
#include "confdefs.h"

d23017 10
a23026 2
#include <sys/ioctl.h>

d23030 2
a23031 2

        int ret = ioctl(0, FIONBIO, (char *)0);
d23037 28
a23064 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16417: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16420: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16423: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16426: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_fionbio=ioctl
a23065 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d23067 8
a23074 3
cat >conftest.$ac_ext <<_ACEOF
#line 16434 "configure"
#include "confdefs.h"
d23077 1
a23077 7
#if HAVE_FCNTL_H
#include <fcntl.h>
#else
#if HAVE_SYS_FCNTL_H
#include <sys/fcntl.h>
#endif
#endif
d23081 1
a23081 3

        int ret = fcntl(0, F_SETFL, O_NONBLOCK);

d23086 3
a23088 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16456: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16459: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16462: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16465: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_fionbio=fcntl
d23090 1
a23090 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_fionbio=unknown
d23092 3
a23094 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d23096 4
a23099 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d23101 5
a23106 5
echo "$as_me:16478: result: $cf_cv_fionbio" >&5
echo "${ECHO_T}$cf_cv_fionbio" >&6
test "$cf_cv_fionbio" = "fcntl" && cat >>confdefs.h <<\EOF
#define USE_FCNTL 1
EOF
d23108 6
a23113 4
echo "$as_me:16484: checking for broken/missing definition of remove" >&5
echo $ECHO_N "checking for broken/missing definition of remove... $ECHO_C" >&6
if test "${cf_cv_baddef_remove+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d23116 5
a23120 4
cat >conftest.$ac_ext <<_ACEOF
#line 16491 "configure"
#include "confdefs.h"
#include <stdio.h>
d23124 1
a23124 1
remove("dummy")
d23129 2
a23130 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16503: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16506: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16509: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16512: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_baddef_remove=no
d23132 5
a23136 7
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 16519 "configure"
#include "confdefs.h"
#include <stdio.h>
		int __unlink(name) { return unlink(name); }
d23140 1
a23140 1
remove("dummy")
d23145 2
a23146 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16532: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16535: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16538: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16541: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_baddef_remove=yes
d23148 4
a23151 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_baddef_remove=unknown
d23153 1
a23153 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d23156 7
a23162 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d23164 2
a23167 5
echo "$as_me:16556: result: $cf_cv_baddef_remove" >&5
echo "${ECHO_T}$cf_cv_baddef_remove" >&6
test "$cf_cv_baddef_remove" != no && cat >>confdefs.h <<\EOF
#define NEED_REMOVE 1
EOF
d23169 5
a23173 4
echo "$as_me:16562: checking for lstat" >&5
echo $ECHO_N "checking for lstat... $ECHO_C" >&6
if test "${ac_cv_func_lstat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d23176 2
a23177 3
cat >conftest.$ac_ext <<_ACEOF
#line 16569 "configure"
#include "confdefs.h"
d23180 1
a23180 1
#include <sys/stat.h>
d23184 1
a23184 1
lstat(".", (struct stat *)0)
d23189 2
a23190 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16583: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16586: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16589: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16592: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_lstat=yes
d23192 1
a23192 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_lstat=no
d23194 1
a23194 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d23197 4
d23202 1
a23202 7
echo "$as_me:16604: result: $ac_cv_func_lstat " >&5
echo "${ECHO_T}$ac_cv_func_lstat " >&6
if test $ac_cv_func_lstat = yes; then
	cat >>confdefs.h <<\EOF
#define HAVE_LSTAT 1
EOF

a23204 22
for ac_func in \
	ctermid \
	cuserid \
	ftime \
	getcwd \
	getgroups \
	gettimeofday \
	getuid \
	mktemp \
	mkdtemp \
	popen \
	putenv \
	readdir \
	setuid \
	strerror \
	truncate \
	ttyname \
	unsetenv \
	usleep \
	vasprintf \
	waitpid \
	zError \
d23206 4
a23209 6
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:16638: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a23210 14
  cat >conftest.$ac_ext <<_ACEOF
#line 16644 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();
d23212 6
a23220 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
d23222 5
d23231 7
a23237 26
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16675: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16678: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16681: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16684: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:16694: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
d23240 3
a23242 1
done
a23243 3
for ac_func in \
	mktime \
	strstr \
d23245 1
a23245 33
do
as_ac_var=`echo "ac_cv_func_$ac_func" | $as_tr_sh`
echo "$as_me:16710: checking for $ac_func" >&5
echo $ECHO_N "checking for $ac_func... $ECHO_C" >&6
if eval "test \"\${$as_ac_var+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 16716 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char $ac_func ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
f = $ac_func;
#endif
a23246 30
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16747: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16750: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16753: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16756: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  eval "$as_ac_var=yes"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
eval "$as_ac_var=no"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:16766: result: `eval echo '${'$as_ac_var'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_var'}'`" >&6
if test `eval echo '${'$as_ac_var'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_func" | $as_tr_cpp` 1
EOF
d23248 4
a23252 3
  LIBOBJS="$LIBOBJS $ac_func.$ac_objext"
fi
done
d23254 2
a23255 5
echo "$as_me:16778: checking for random-integer functions" >&5
echo $ECHO_N "checking for random-integer functions... $ECHO_C" >&6
if test "${cf_cv_srand_func+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23257 2
a23258 8
cf_cv_srand_func=unknown
for cf_func in arc4random srandom/random srand48/lrand48 srand/rand
do
	cf_srand_func=`echo $cf_func | sed -e 's%/.*%%'`
	cf_rand_func=`echo  $cf_func | sed -e 's%.*/%%'`
cat >conftest.$ac_ext <<_ACEOF
#line 16790 "configure"
#include "confdefs.h"
d23263 1
a23263 1
long seed = 1; $cf_srand_func(seed); seed = $cf_rand_func()
d23268 2
a23269 14
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:16809: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:16812: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:16815: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16818: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_srand_func=$cf_func
 break
d23271 1
a23271 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d23273 2
a23274 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
done
d23277 2
a23278 8
echo "$as_me:16830: result: $cf_cv_srand_func" >&5
echo "${ECHO_T}$cf_cv_srand_func" >&6
if test "$cf_cv_srand_func" != unknown ; then
	echo "$as_me:16833: checking for range of random-integers" >&5
echo $ECHO_N "checking for range of random-integers... $ECHO_C" >&6
if test "${cf_cv_rand_max+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23280 1
a23280 17
		case $cf_cv_srand_func in
		srand/rand)
			cf_cv_rand_max=RAND_MAX
			cf_rand_max=16
			;;
		arc4random)
			cf_cv_rand_max=0xFFFFFFFFUL
			cf_rand_max=32
			;;
		*)
			cf_cv_rand_max=INT_MAX
			cf_rand_max=31
			;;
		esac
		cat >conftest.$ac_ext <<_ACEOF
#line 16854 "configure"
#include "confdefs.h"
d23282 1
a23282 6
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif
d23284 2
a23285 7
int
main ()
{
long x = $cf_cv_rand_max
  ;
  return 0;
}
d23287 20
a23306 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:16873: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:16876: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:16879: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16882: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d23308 3
a23310 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_rand_max="(1L<<$cf_rand_max)-1"
d23312 19
a23330 1
rm -f conftest.$ac_objext conftest.$ac_ext
a23332 4
echo "$as_me:16893: result: $cf_cv_rand_max" >&5
echo "${ECHO_T}$cf_cv_rand_max" >&6
	cf_srand_func=`echo $cf_func | sed -e 's%/.*%%'`
	cf_rand_func=`echo  $cf_func | sed -e 's%.*/%%'`
d23334 3
a23336 1
cf_rand_max=`echo "lynx_rand_max" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a23337 3
	cat >>confdefs.h <<EOF
#define lynx_srand $cf_srand_func
EOF
d23339 13
a23351 7
	cat >>confdefs.h <<EOF
#define lynx_rand $cf_rand_func
EOF

	cat >>confdefs.h <<EOF
#define $cf_rand_max $cf_cv_rand_max
EOF
d23355 3
a23357 2
for ac_func in strstr
do
a23358 31
echo "$as_me:16917: checking for $ac_func declaration" >&5
echo $ECHO_N "checking for $ac_func declaration... $ECHO_C" >&6
if eval "test \"\${ac_cv_func_decl_$ac_func+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 16923 "configure"
#include "confdefs.h"
#include <string.h>
int
main ()
{
#ifndef ${ac_func}
extern	int	${ac_func}();
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:16937: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:16940: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:16943: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16946: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d23360 10
a23369 28
cat >conftest.$ac_ext <<_ACEOF
#line 16950 "configure"
#include "confdefs.h"
#include <string.h>
int
main ()
{
#ifndef ${ac_func}
int	(*p)() = ${ac_func};
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:16964: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:16967: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:16970: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:16973: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then

eval "ac_cv_func_decl_$ac_func=yes"
d23371 2
a23372 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a23373 1
eval "ac_cv_func_decl_$ac_func=no"
d23375 16
a23390 1
rm -f conftest.$ac_objext conftest.$ac_ext
d23392 2
a23393 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a23394 3
eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d23397 3
a23399 7
if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  echo "$as_me:16994: result: yes" >&5
echo "${ECHO_T}yes" >&6
  :
else
  echo "$as_me:16998: result: no" >&5
echo "${ECHO_T}no" >&6
a23400 1
ac_tr_func=`echo "DECL_$ac_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d23402 13
a23414 3
  cat >>confdefs.h <<EOF
#define $ac_tr_func 1
EOF
a23416 1
done
d23418 4
a23421 2
for ac_func in getgrgid getgrnam
do
d23423 10
a23432 4
echo "$as_me:17013: checking for $ac_func declaration" >&5
echo $ECHO_N "checking for $ac_func declaration... $ECHO_C" >&6
if eval "test \"\${ac_cv_func_decl_$ac_func+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d23434 2
a23435 3
  cat >conftest.$ac_ext <<_ACEOF
#line 17019 "configure"
#include "confdefs.h"
d23437 1
a23437 24
#include <stdio.h>
#include <grp.h>
int
main ()
{
#ifndef ${ac_func}
extern	int	${ac_func}();
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17035: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17038: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17041: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17044: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d23439 3
a23441 3
cat >conftest.$ac_ext <<_ACEOF
#line 17048 "configure"
#include "confdefs.h"
a23442 24
#include <stdio.h>
#include <grp.h>
int
main ()
{
#ifndef ${ac_func}
int	(*p)() = ${ac_func};
#endif
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17064: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17067: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17070: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17073: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d23444 10
a23453 1
eval "ac_cv_func_decl_$ac_func=yes"
d23455 2
a23456 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a23457 1
eval "ac_cv_func_decl_$ac_func=no"
d23459 16
a23474 1
rm -f conftest.$ac_objext conftest.$ac_ext
d23476 2
a23477 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a23478 3
eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d23481 7
a23487 7
if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  echo "$as_me:17094: result: yes" >&5
echo "${ECHO_T}yes" >&6
  :
else
  echo "$as_me:17098: result: no" >&5
echo "${ECHO_T}no" >&6
d23489 3
a23491 1
ac_tr_func=`echo "DECL_$ac_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d23493 6
a23498 3
  cat >>confdefs.h <<EOF
#define $ac_tr_func 1
EOF
a23499 2
fi
done
d23501 2
a23502 5
echo "$as_me:17110: checking if TRUE/FALSE are defined" >&5
echo $ECHO_N "checking if TRUE/FALSE are defined... $ECHO_C" >&6
if test "${cf_cv_bool_defs+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23504 16
a23519 3
cat >conftest.$ac_ext <<_ACEOF
#line 17117 "configure"
#include "confdefs.h"
d23521 8
a23528 1
#include <${cf_cv_ncurses_header-curses.h}>
d23533 1
a23533 1
int x = TRUE, y = FALSE
d23538 2
a23539 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17131: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17134: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17137: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17140: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_bool_defs=yes
d23541 1
a23541 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_bool_defs=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d23543 10
a23553 6
echo "$as_me:17151: result: $cf_cv_bool_defs" >&5
echo "${ECHO_T}$cf_cv_bool_defs" >&6
if test "$cf_cv_bool_defs" = no ; then
	cat >>confdefs.h <<\EOF
#define TRUE (1)
EOF
d23555 1
a23555 3
	cat >>confdefs.h <<\EOF
#define FALSE (0)
EOF
d23557 9
d23568 1
a23568 5
echo "$as_me:17164: checking if external errno is declared" >&5
echo $ECHO_N "checking if external errno is declared... $ECHO_C" >&6
if test "${cf_cv_dcl_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23570 16
a23585 3
    cat >conftest.$ac_ext <<_ACEOF
#line 17171 "configure"
#include "confdefs.h"
d23587 8
a23594 3
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
a23595 2
#include <sys/types.h>
#include <errno.h>
d23599 1
a23599 1
long x = (long) errno
d23604 2
a23605 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17189: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17192: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17195: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17198: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_dcl_errno=yes
d23607 1
a23607 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_dcl_errno=no
d23609 5
a23613 1
rm -f conftest.$ac_objext conftest.$ac_ext
d23615 2
a23616 3
fi
echo "$as_me:17209: result: $cf_cv_dcl_errno" >&5
echo "${ECHO_T}$cf_cv_dcl_errno" >&6
d23618 1
a23618 1
if test "$cf_cv_dcl_errno" = no ; then
a23619 1
cf_result=`echo "decl_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d23621 1
a23621 3
    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF
d23623 9
d23634 4
a23637 1
# It's possible (for near-UNIX clones) that the data doesn't exist
d23639 18
a23656 5
echo "$as_me:17224: checking if external errno exists" >&5
echo $ECHO_N "checking if external errno exists... $ECHO_C" >&6
if test "${cf_cv_have_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23658 1
a23658 3
    cat >conftest.$ac_ext <<_ACEOF
#line 17231 "configure"
#include "confdefs.h"
a23659 2
#undef errno
extern int errno;
d23661 4
a23664 25
int
main ()
{
errno = 2
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17246: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17249: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17252: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17255: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_errno=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_errno=no
a23665 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d23667 1
a23667 3
fi
echo "$as_me:17266: result: $cf_cv_have_errno" >&5
echo "${ECHO_T}$cf_cv_have_errno" >&6
d23669 18
a23686 1
if test "$cf_cv_have_errno" = yes ; then
d23688 1
a23688 1
cf_result=`echo "have_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a23689 3
    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF
d23691 4
d23697 4
a23700 5
echo "$as_me:17279: checking if we can set errno" >&5
echo $ECHO_N "checking if we can set errno... $ECHO_C" >&6
if test "${cf_cv_set_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23702 2
a23703 77
if test "$cross_compiling" = yes; then
  cat >conftest.$ac_ext <<_ACEOF
#line 17287 "configure"
#include "confdefs.h"
#include <errno.h>
int
main ()
{
errno = 255
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17299: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17302: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17305: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17308: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_set_errno=maybe
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_set_errno=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
else
  cat >conftest.$ac_ext <<_ACEOF
#line 17319 "configure"
#include "confdefs.h"

#include <errno.h>
int main()
{
	errno = 255;
	exit(errno != 255);
}
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:17330: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17333: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:17335: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17338: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_set_errno=yes
else
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_set_errno=no
fi
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
fi

fi
echo "$as_me:17351: result: $cf_cv_set_errno" >&5
echo "${ECHO_T}$cf_cv_set_errno" >&6
test "$cf_cv_set_errno" != no && cat >>confdefs.h <<\EOF
#define CAN_SET_ERRNO 1
EOF

echo "$as_me:17357: checking for setlocale()" >&5
echo $ECHO_N "checking for setlocale()... $ECHO_C" >&6
if test "${cf_cv_locale+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a23704 31
cat >conftest.$ac_ext <<_ACEOF
#line 17364 "configure"
#include "confdefs.h"
#include <locale.h>
int
main ()
{
setlocale(LC_ALL, "")
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17376: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17379: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17382: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17385: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_locale=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_locale=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a23707 6
echo "$as_me:17397: result: $cf_cv_locale" >&5
echo "${ECHO_T}$cf_cv_locale" >&6
test $cf_cv_locale = yes && { cat >>confdefs.h <<\EOF
#define LOCALE 1
EOF
 }
d23709 4
a23712 4
echo "$as_me:17404: checking if NGROUPS is defined" >&5
echo $ECHO_N "checking if NGROUPS is defined... $ECHO_C" >&6
if test "${cf_cv_ngroups+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
a23714 3
cat >conftest.$ac_ext <<_ACEOF
#line 17411 "configure"
#include "confdefs.h"
d23716 15
a23730 6
#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
#endif
d23735 5
a23739 1
int x = NGROUPS
d23744 2
a23745 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17430: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17433: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17436: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17439: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ngroups=yes
a23746 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 17446 "configure"
#include "confdefs.h"
d23748 1
a23748 6
#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
#endif
d23750 1
a23750 27
int
main ()
{
int x = NGROUPS_MAX
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17465: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17468: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17471: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17474: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_ngroups=NGROUPS_MAX
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ngroups=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d23752 1
a23752 4
fi
rm -f conftest.$ac_objext conftest.$ac_ext
echo "$as_me:17486: result: $cf_cv_ngroups" >&5
echo "${ECHO_T}$cf_cv_ngroups" >&6
a23753 1
fi
a23754 4
if test "$cf_cv_ngroups" = no ; then
	cat >>confdefs.h <<\EOF
#define NGROUPS 16
EOF
d23756 1
a23756 4
elif test "$cf_cv_ngroups" = NGROUPS_MAX ; then
	cat >>confdefs.h <<\EOF
#define NGROUPS NGROUPS_MAX
EOF
a23757 1
fi
d23759 2
a23760 5
echo "$as_me:17503: checking if external sys_nerr is declared" >&5
echo $ECHO_N "checking if external sys_nerr is declared... $ECHO_C" >&6
if test "${cf_cv_dcl_sys_nerr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a23761 3
    cat >conftest.$ac_ext <<_ACEOF
#line 17510 "configure"
#include "confdefs.h"
d23763 17
a23779 12
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
int
main ()
{
long x = (long) sys_nerr
  ;
  return 0;
d23781 5
a23785 18
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17528: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17531: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17534: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17537: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_dcl_sys_nerr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_dcl_sys_nerr=no
a23786 1
rm -f conftest.$ac_objext conftest.$ac_ext
d23788 2
a23789 3
fi
echo "$as_me:17548: result: $cf_cv_dcl_sys_nerr" >&5
echo "${ECHO_T}$cf_cv_dcl_sys_nerr" >&6
d23791 10
a23800 1
if test "$cf_cv_dcl_sys_nerr" = no ; then
a23801 1
cf_result=`echo "decl_sys_nerr" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d23803 10
a23812 3
    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF
a23813 1
fi
d23815 10
a23824 1
# It's possible (for near-UNIX clones) that the data doesn't exist
a23825 5
echo "$as_me:17563: checking if external sys_nerr exists" >&5
echo $ECHO_N "checking if external sys_nerr exists... $ECHO_C" >&6
if test "${cf_cv_have_sys_nerr+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23827 10
a23836 3
    cat >conftest.$ac_ext <<_ACEOF
#line 17570 "configure"
#include "confdefs.h"
a23837 2
#undef sys_nerr
extern int sys_nerr;
d23839 9
a23847 6
int
main ()
{
sys_nerr = 2
  ;
  return 0;
a23848 20
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17585: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17588: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17591: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17594: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_sys_nerr=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_sys_nerr=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a23849 3
fi
echo "$as_me:17605: result: $cf_cv_have_sys_nerr" >&5
echo "${ECHO_T}$cf_cv_have_sys_nerr" >&6
a23850 1
if test "$cf_cv_have_sys_nerr" = yes ; then
d23852 15
a23866 1
cf_result=`echo "have_sys_nerr" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d23868 4
a23871 3
    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF
d23873 1
a23873 1
fi
a23874 5
echo "$as_me:17618: checking if external sys_errlist is declared" >&5
echo $ECHO_N "checking if external sys_errlist is declared... $ECHO_C" >&6
if test "${cf_cv_dcl_sys_errlist+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23876 3
a23878 3
    cat >conftest.$ac_ext <<_ACEOF
#line 17625 "configure"
#include "confdefs.h"
a23879 1
#ifdef HAVE_STDLIB_H
d23881 2
a23882 4
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h>
d23886 5
a23890 1
long x = (long) sys_errlist
d23895 3
a23897 19
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17643: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17646: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17649: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17652: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_dcl_sys_errlist=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_dcl_sys_errlist=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d23899 1
a23899 3
fi
echo "$as_me:17663: result: $cf_cv_dcl_sys_errlist" >&5
echo "${ECHO_T}$cf_cv_dcl_sys_errlist" >&6
a23900 1
if test "$cf_cv_dcl_sys_errlist" = no ; then
d23902 4
a23905 1
cf_result=`echo "decl_sys_errlist" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d23907 1
a23907 3
    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF
d23910 3
d23914 1
a23914 1
# It's possible (for near-UNIX clones) that the data doesn't exist
a23915 5
echo "$as_me:17678: checking if external sys_errlist exists" >&5
echo $ECHO_N "checking if external sys_errlist exists... $ECHO_C" >&6
if test "${cf_cv_have_sys_errlist+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d23917 1
a23917 3
    cat >conftest.$ac_ext <<_ACEOF
#line 17685 "configure"
#include "confdefs.h"
a23918 2
#undef sys_errlist
extern int sys_errlist;
d23920 2
a23921 27
int
main ()
{
sys_errlist = 2
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:17700: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:17703: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:17706: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17709: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_sys_errlist=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_sys_errlist=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a23922 3
fi
echo "$as_me:17720: result: $cf_cv_have_sys_errlist" >&5
echo "${ECHO_T}$cf_cv_have_sys_errlist" >&6
a23923 1
if test "$cf_cv_have_sys_errlist" = yes ; then
d23925 1
a23925 1
cf_result=`echo "have_sys_errlist" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d23927 18
a23944 3
    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF
d23946 4
d23952 1
a23952 44
for ac_header in lastlog.h paths.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:17736: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 17742 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:17746: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:17752: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:17771: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a23953 2
fi
done
d23955 10
a23964 5
echo "$as_me:17781: checking for lastlog path" >&5
echo $ECHO_N "checking for lastlog path... $ECHO_C" >&6
if test "${cf_cv_path_lastlog+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a23965 3
cat >conftest.$ac_ext <<_ACEOF
#line 17788 "configure"
#include "confdefs.h"
d23967 9
a23975 14
#include <sys/types.h>
#ifdef HAVE_LASTLOG_H
#include <lastlog.h>
#else
#ifdef HAVE_PATHS_H
#include <paths.h>
#endif
#endif
int
main ()
{
char *path = _PATH_LASTLOG
  ;
  return 0;
a23976 24
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17808: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17811: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17814: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17817: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_path_lastlog="_PATH_LASTLOG"
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
if test -f /usr/adm/lastlog ; then
	 	cf_cv_path_lastlog=/usr/adm/lastlog
	else
		cf_cv_path_lastlog=no
	fi
fi
rm -f conftest.$ac_objext conftest.$ac_ext
a23977 6
fi
echo "$as_me:17832: result: $cf_cv_path_lastlog" >&5
echo "${ECHO_T}$cf_cv_path_lastlog" >&6
test $cf_cv_path_lastlog != no && cat >>confdefs.h <<\EOF
#define USE_LASTLOG 1
EOF
d23979 10
a23988 5
echo "$as_me:17838: checking for utmp implementation" >&5
echo $ECHO_N "checking for utmp implementation... $ECHO_C" >&6
if test "${cf_cv_have_utmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
a23989 19
	cf_cv_have_utmp=no
for cf_header in utmpx utmp ; do
cf_utmp_includes="
#include <sys/types.h>
#include <${cf_header}.h>
#define getutent getutxent
#ifdef USE_LASTLOG
#include <lastlog.h>	/* may conflict with utmpx.h on Linux */
#endif
"
	cat >conftest.$ac_ext <<_ACEOF
#line 17855 "configure"
#include "confdefs.h"
$cf_utmp_includes
int
main ()
{
struct $cf_header x;
	 char *name = x.ut_name; /* utmp.h and compatible definitions */
d23991 9
a23999 2
  ;
  return 0;
a24000 18
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17869: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17872: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17875: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17878: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp=$cf_header
	 break
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a24001 9
	cat >conftest.$ac_ext <<_ACEOF
#line 17887 "configure"
#include "confdefs.h"
$cf_utmp_includes
int
main ()
{
struct $cf_header x;
	 char *name = x.ut_user; /* utmpx.h must declare this */
d24003 9
a24011 2
  ;
  return 0;
a24012 15
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17901: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17904: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17907: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17910: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp=$cf_header
	 break
a24013 8
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
fi
rm -f conftest.$ac_objext conftest.$ac_ext
fi
rm -f conftest.$ac_objext conftest.$ac_ext
done
a24014 3
fi
echo "$as_me:17925: result: $cf_cv_have_utmp" >&5
echo "${ECHO_T}$cf_cv_have_utmp" >&6
d24016 8
a24023 4
if test $cf_cv_have_utmp != no ; then
	cat >>confdefs.h <<\EOF
#define HAVE_UTMP 1
EOF
a24024 3
	test $cf_cv_have_utmp = utmpx && cat >>confdefs.h <<\EOF
#define UTMPX_FOR_UTMP 1
EOF
d24026 5
a24030 6
if test $cf_cv_have_utmp != no ; then
echo "$as_me:17938: checking if utmp.ut_host is declared" >&5
echo $ECHO_N "checking if utmp.ut_host is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_host+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d24032 2
a24033 3
	cat >conftest.$ac_ext <<_ACEOF
#line 17945 "configure"
#include "confdefs.h"
a24034 2
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
d24038 5
a24042 1
struct $cf_cv_have_utmp x; char *y = &x.ut_host[0]
d24047 10
a24056 13
rm -f conftest.$ac_objext
if { (eval echo "$as_me:17959: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:17962: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:17965: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:17968: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_host=yes
d24058 5
a24062 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_host=no
d24064 12
a24075 1
rm -f conftest.$ac_objext conftest.$ac_ext
d24078 2
d24081 5
a24085 5
echo "$as_me:17980: result: $cf_cv_have_utmp_ut_host" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_host" >&6
test $cf_cv_have_utmp_ut_host != no && cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_HOST 1
EOF
d24088 2
d24091 9
a24099 5
if test $cf_cv_have_utmp != no ; then
echo "$as_me:17989: checking if utmp.ut_name is declared" >&5
echo $ECHO_N "checking if utmp.ut_name is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_name+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d24102 14
a24115 7
	cf_cv_have_utmp_ut_name=no
cf_utmp_includes="
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
#define getutent getutxent
#ifdef USE_LASTLOG
#include <lastlog.h>		/* may conflict with utmpx.h on Linux */
d24117 1
a24117 6
"
for cf_header in ut_name ut_user ; do
	cat >conftest.$ac_ext <<_ACEOF
#line 18006 "configure"
#include "confdefs.h"
$cf_utmp_includes
a24120 2
struct $cf_cv_have_utmp x;
	 char *name = x.$cf_header;
d24126 2
a24127 14
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18020: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18023: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18026: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18029: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_name=$cf_header
	 break
d24129 1
a24129 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d24131 10
a24140 2
rm -f conftest.$ac_objext conftest.$ac_ext
done
a24141 3
fi
echo "$as_me:18041: result: $cf_cv_have_utmp_ut_name" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_name" >&6
d24143 3
a24145 10
case $cf_cv_have_utmp_ut_name in #(vi
no) #(vi
	{ { echo "$as_me:18046: error: Cannot find declaration for ut.ut_name" >&5
echo "$as_me: error: Cannot find declaration for ut.ut_name" >&2;}
   { (exit 1); exit 1; }; }
	;;
ut_user)
	cat >>confdefs.h <<\EOF
#define ut_name ut_user
EOF
d24147 1
a24147 3
	;;
esac
fi
d24149 2
a24150 6
if test $cf_cv_have_utmp != no ; then
echo "$as_me:18060: checking for exit-status in $cf_cv_have_utmp" >&5
echo $ECHO_N "checking for exit-status in $cf_cv_have_utmp... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_xstatus+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
d24152 16
a24167 9
for cf_result in \
	ut_exit.__e_exit \
	ut_exit.e_exit \
	ut_exit.ut_e_exit \
	ut_exit.ut_exit
do
cat >conftest.$ac_ext <<_ACEOF
#line 18073 "configure"
#include "confdefs.h"
d24169 9
a24177 2
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
d24181 1
a24181 1
struct $cf_cv_have_utmp x; long y = x.$cf_result = 0
d24186 2
a24187 14
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18087: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18090: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18093: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18096: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_xstatus=$cf_result
	 break
d24189 56
a24244 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_xstatus=no
a24245 2
rm -f conftest.$ac_objext conftest.$ac_ext
done
d24247 8
a24255 6
echo "$as_me:18109: result: $cf_cv_have_utmp_ut_xstatus" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_xstatus" >&6
if test $cf_cv_have_utmp_ut_xstatus != no ; then
	cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_XSTATUS 1
EOF
d24257 21
a24277 3
	cat >>confdefs.h <<EOF
#define ut_xstatus $cf_cv_have_utmp_ut_xstatus
EOF
d24280 5
d24287 10
a24296 5
if test $cf_cv_have_utmp != no ; then
echo "$as_me:18124: checking if utmp.ut_xtime is declared" >&5
echo $ECHO_N "checking if utmp.ut_xtime is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_xtime+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d24298 8
a24306 3
	cat >conftest.$ac_ext <<_ACEOF
#line 18131 "configure"
#include "confdefs.h"
d24308 10
a24317 23
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.ut_xtime = 0
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18145: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18148: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18151: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18154: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_xtime=yes
d24319 9
a24327 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 18161 "configure"
#include "confdefs.h"
d24329 10
a24338 23
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.ut_tv.tv_sec
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18175: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18178: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18181: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18184: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_xtime=define
d24340 3
a24342 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_xtime=no
a24343 1
rm -f conftest.$ac_objext conftest.$ac_ext
d24345 3
a24347 2
fi
rm -f conftest.$ac_objext conftest.$ac_ext
a24348 7
fi
echo "$as_me:18198: result: $cf_cv_have_utmp_ut_xtime" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_xtime" >&6
if test $cf_cv_have_utmp_ut_xtime != no ; then
	cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_XTIME 1
EOF
d24350 13
a24362 4
	if test $cf_cv_have_utmp_ut_xtime = define ; then
		cat >>confdefs.h <<\EOF
#define ut_xtime ut_tv.tv_sec
EOF
a24363 2
	fi
fi
d24366 13
a24378 5
if test $cf_cv_have_utmp != no ; then
echo "$as_me:18215: checking if utmp.ut_session is declared" >&5
echo $ECHO_N "checking if utmp.ut_session is declared... $ECHO_C" >&6
if test "${cf_cv_have_utmp_ut_session+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d24380 2
a24382 31
	cat >conftest.$ac_ext <<_ACEOF
#line 18222 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
struct $cf_cv_have_utmp x; long y = x.ut_session
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:18236: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:18239: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:18242: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18245: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_utmp_ut_session=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_utmp_ut_session=no
a24383 1
rm -f conftest.$ac_objext conftest.$ac_ext
d24385 4
a24388 7
fi
echo "$as_me:18256: result: $cf_cv_have_utmp_ut_session" >&5
echo "${ECHO_T}$cf_cv_have_utmp_ut_session" >&6
if test $cf_cv_have_utmp_ut_session != no ; then
	cat >>confdefs.h <<\EOF
#define HAVE_UTMP_UT_SESSION 1
EOF
d24390 1
a24390 1
fi
d24393 10
a24402 4
echo "$as_me:18266: checking if $cf_cv_have_utmp is SYSV flavor" >&5
echo $ECHO_N "checking if $cf_cv_have_utmp is SYSV flavor... $ECHO_C" >&6
if test "${cf_cv_sysv_utmp+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d24404 2
d24407 1
a24407 4
test "$cf_cv_have_utmp" = "utmp" && cf_prefix="ut" || cf_prefix="utx"
cat >conftest.$ac_ext <<_ACEOF
#line 18274 "configure"
#include "confdefs.h"
d24409 4
a24412 5
#include <sys/types.h>
#include <${cf_cv_have_utmp}.h>
int
main ()
{
a24413 26
struct $cf_cv_have_utmp x;
	set${cf_prefix}ent ();
	get${cf_prefix}id(&x);
	put${cf_prefix}line(&x);
	end${cf_prefix}ent();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18293: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18296: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18299: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18302: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_sysv_utmp=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_sysv_utmp=no
a24414 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a24415 6
fi
echo "$as_me:18313: result: $cf_cv_sysv_utmp" >&5
echo "${ECHO_T}$cf_cv_sysv_utmp" >&6
test $cf_cv_sysv_utmp = yes && cat >>confdefs.h <<\EOF
#define USE_SYSV_UTMP 1
EOF
d24417 1
a24417 1
fi
d24419 10
a24428 4
echo "$as_me:18321: checking if external h_errno exists" >&5
echo $ECHO_N "checking if external h_errno exists... $ECHO_C" >&6
if test "${cf_cv_have_h_errno+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d24430 4
d24435 3
a24437 3
    cat >conftest.$ac_ext <<_ACEOF
#line 18328 "configure"
#include "confdefs.h"
a24438 2
#undef h_errno
extern int h_errno;
d24440 10
a24449 21
int
main ()
{
h_errno = 2
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18343: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18346: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18349: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18352: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_have_h_errno=yes
d24451 2
a24452 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_h_errno=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a24454 2
echo "$as_me:18363: result: $cf_cv_have_h_errno" >&5
echo "${ECHO_T}$cf_cv_have_h_errno" >&6
d24456 3
a24458 1
if test "$cf_cv_have_h_errno" = yes ; then
a24459 1
cf_result=`echo "have_h_errno" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d24461 13
a24473 3
    cat >>confdefs.h <<EOF
#define $cf_result 1
EOF
d24477 4
a24480 2
echo "$as_me:18376: checking if bibp: URLs should be supported" >&5
echo $ECHO_N "checking if bibp: URLs should be supported... $ECHO_C" >&6
d24482 5
a24486 4
# Check whether --enable-bibp-urls or --disable-bibp-urls was given.
if test "${enable_bibp_urls+set}" = set; then
  enableval="$enable_bibp_urls"
  test "$enableval" != no && enableval=yes
d24488 1
a24488 1
    use_bibp_urls=$enableval
d24490 1
a24490 1
    use_bibp_urls=yes
d24494 3
a24496 1
  use_bibp_urls=yes
d24498 3
a24500 6
fi;
echo "$as_me:18393: result: $use_bibp_urls" >&5
echo "${ECHO_T}$use_bibp_urls" >&6
test $use_bibp_urls = no && cat >>confdefs.h <<\EOF
#define DISABLE_BIBP 1
EOF
a24501 2
echo "$as_me:18399: checking if configuration info should be browsable" >&5
echo $ECHO_N "checking if configuration info should be browsable... $ECHO_C" >&6
d24503 5
a24507 4
# Check whether --enable-config-info or --disable-config-info was given.
if test "${enable_config_info+set}" = set; then
  enableval="$enable_config_info"
  test "$enableval" != no && enableval=yes
d24509 1
a24509 1
    use_config_info=$enableval
d24511 1
a24511 1
    use_config_info=yes
d24515 3
a24517 1
  use_config_info=yes
d24519 3
a24521 6
fi;
echo "$as_me:18416: result: $use_config_info" >&5
echo "${ECHO_T}$use_config_info" >&6
test $use_config_info = no && cat >>confdefs.h <<\EOF
#define NO_CONFIG_INFO 1
EOF
a24522 2
echo "$as_me:18422: checking if new-style forms-based options screen should be used" >&5
echo $ECHO_N "checking if new-style forms-based options screen should be used... $ECHO_C" >&6
d24524 5
a24528 4
# Check whether --enable-forms-options or --disable-forms-options was given.
if test "${enable_forms_options+set}" = set; then
  enableval="$enable_forms_options"
  test "$enableval" != no && enableval=yes
d24530 1
a24530 1
    use_forms_options=$enableval
d24532 1
a24532 1
    use_forms_options=yes
d24536 3
a24538 1
  use_forms_options=yes
d24540 3
a24542 6
fi;
echo "$as_me:18439: result: $use_forms_options" >&5
echo "${ECHO_T}$use_forms_options" >&6
test $use_forms_options = no && cat >>confdefs.h <<\EOF
#define NO_OPTION_FORMS 1
EOF
a24543 2
echo "$as_me:18445: checking if old-style options menu should be used" >&5
echo $ECHO_N "checking if old-style options menu should be used... $ECHO_C" >&6
d24545 5
a24549 4
# Check whether --enable-menu-options or --disable-menu-options was given.
if test "${enable_menu_options+set}" = set; then
  enableval="$enable_menu_options"
  test "$enableval" != no && enableval=yes
d24551 1
a24551 1
    use_menu_options=$enableval
d24553 1
a24553 1
    use_menu_options=yes
d24557 3
a24559 1
  use_menu_options=yes
d24561 3
a24563 6
fi;
echo "$as_me:18462: result: $use_menu_options" >&5
echo "${ECHO_T}$use_menu_options" >&6
test $use_menu_options = no && cat >>confdefs.h <<\EOF
#define NO_OPTION_MENU 1
EOF
a24564 2
echo "$as_me:18468: checking if experimental address-list page should be used" >&5
echo $ECHO_N "checking if experimental address-list page should be used... $ECHO_C" >&6
d24566 7
a24572 6
# Check whether --enable-addrlist-page or --disable-addrlist-page was given.
if test "${enable_addrlist_page+set}" = set; then
  enableval="$enable_addrlist_page"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_addrlist_page=$enableval
d24574 1
a24574 1
    use_addrlist_page=no
d24577 4
a24580 2
  enableval=no
  use_addrlist_page=no
d24582 3
a24584 6
fi;
echo "$as_me:18485: result: $use_addrlist_page" >&5
echo "${ECHO_T}$use_addrlist_page" >&6
test $use_addrlist_page != no && cat >>confdefs.h <<\EOF
#define EXP_ADDRLIST_PAGE 1
EOF
a24585 2
echo "$as_me:18491: checking if experimental charset-selection logic should be used" >&5
echo $ECHO_N "checking if experimental charset-selection logic should be used... $ECHO_C" >&6
d24587 7
a24593 6
# Check whether --enable-charset-choice or --disable-charset-choice was given.
if test "${enable_charset_choice+set}" = set; then
  enableval="$enable_charset_choice"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_charset_choice=$enableval
d24595 1
a24595 1
    use_charset_choice=no
d24598 4
a24601 2
  enableval=no
  use_charset_choice=no
d24603 3
a24605 6
fi;
echo "$as_me:18508: result: $use_charset_choice" >&5
echo "${ECHO_T}$use_charset_choice" >&6
test $use_charset_choice != no && cat >>confdefs.h <<\EOF
#define EXP_CHARSET_CHOICE 1
EOF
a24606 2
echo "$as_me:18514: checking if experimental CJK logic should be used" >&5
echo $ECHO_N "checking if experimental CJK logic should be used... $ECHO_C" >&6
d24608 5
a24612 4
# Check whether --enable-cjk or --disable-cjk was given.
if test "${enable_cjk+set}" = set; then
  enableval="$enable_cjk"
  test "$enableval" != yes && enableval=no
d24614 1
a24614 1
    use_cjk=$enableval
d24616 1
a24616 1
    use_cjk=no
d24620 3
a24622 1
  use_cjk=no
d24624 4
a24627 6
fi;
echo "$as_me:18531: result: $use_cjk" >&5
echo "${ECHO_T}$use_cjk" >&6
test $use_cjk != no && cat >>confdefs.h <<\EOF
#define CJK_EX 1
EOF
d24629 2
a24630 2
echo "$as_me:18537: checking if experimental Japanese UTF-8 logic should be used" >&5
echo $ECHO_N "checking if experimental Japanese UTF-8 logic should be used... $ECHO_C" >&6
d24632 5
a24636 4
# Check whether --enable-japanese-utf8 or --disable-japanese-utf8 was given.
if test "${enable_japanese_utf8+set}" = set; then
  enableval="$enable_japanese_utf8"
  test "$enableval" != yes && enableval=no
d24638 1
a24638 1
    use_ja_utf8=$enableval
d24640 1
a24640 1
    use_ja_utf8=no
d24644 1
a24644 1
  use_ja_utf8=no
d24646 1
a24646 7
fi;
echo "$as_me:18554: result: $use_ja_utf8" >&5
echo "${ECHO_T}$use_ja_utf8" >&6
if test $use_ja_utf8 != no ; then
	cat >>confdefs.h <<\EOF
#define EXP_JAPANESEUTF8_SUPPORT 1
EOF
d24648 5
a24652 53
echo "$as_me:18561: checking for libiconv_open in -liconv" >&5
echo $ECHO_N "checking for libiconv_open in -liconv... $ECHO_C" >&6
if test "${ac_cv_lib_iconv_libiconv_open+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  ac_check_lib_save_LIBS=$LIBS
LIBS="-liconv  $LIBS"
cat >conftest.$ac_ext <<_ACEOF
#line 18569 "configure"
#include "confdefs.h"

/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char libiconv_open ();
int
main ()
{
libiconv_open ();
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18588: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18591: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18594: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18597: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_lib_iconv_libiconv_open=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_iconv_libiconv_open=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
LIBS=$ac_check_lib_save_LIBS
fi
echo "$as_me:18608: result: $ac_cv_lib_iconv_libiconv_open" >&5
echo "${ECHO_T}$ac_cv_lib_iconv_libiconv_open" >&6
if test $ac_cv_lib_iconv_libiconv_open = yes; then
  cat >>confdefs.h <<EOF
#define HAVE_LIBICONV 1
EOF
a24653 1
  LIBS="-liconv $LIBS"
d24655 29
a24683 1
fi
d24685 2
d24688 4
a24691 13

echo "$as_me:18621: checking if color-style code should be used" >&5
echo $ECHO_N "checking if color-style code should be used... $ECHO_C" >&6

# Check whether --enable-color-style or --disable-color-style was given.
if test "${enable_color_style+set}" = set; then
  enableval="$enable_color_style"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_color_style=$enableval
  else
    use_color_style=$dft_color_style
  fi
d24693 3
a24695 2
  enableval=yes
  use_color_style=$dft_color_style
a24696 1
fi;
d24698 3
a24700 10
case $use_color_style in
no)
	echo "$as_me:18641: result: no" >&5
echo "${ECHO_T}no" >&6
	INSTALL_LSS=
	;;
*)
	cat >>confdefs.h <<\EOF
#define USE_COLOR_STYLE 1
EOF
a24701 2
	echo "$as_me:18650: result: yes" >&5
echo "${ECHO_T}yes" >&6
d24703 7
a24709 6
	echo "$as_me:18653: checking for location of style-sheet file" >&5
echo $ECHO_N "checking for location of style-sheet file... $ECHO_C" >&6

# Check whether --with-lss-file or --without-lss-file was given.
if test "${with_lss_file+set}" = set; then
  withval="$with_lss_file"
a24710 3
else
  withval="${LYNX_LSS_FILE-$sysconfdir/lynx.lss}"
fi;
d24717 1
a24717 1
case ".$withval" in #(vi
d24725 2
a24726 2
  eval withval="$withval"
  case ".$withval" in #(vi
d24728 1
a24728 1
    withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
d24733 1
a24733 1
  withval=`echo $withval | sed -e s%NONE%$cf_path_syntax%`
d24736 1
a24736 3
  { { echo "$as_me:18688: error: expected a pathname, not \"$withval\"" >&5
echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
   { (exit 1); exit 1; }; }
d24740 25
a24764 1
LYNX_LSS_FILE="$withval"
d24766 4
a24769 2
	echo "$as_me:18696: result: $LYNX_LSS_FILE" >&5
echo "${ECHO_T}$LYNX_LSS_FILE" >&6
d24771 1
a24771 4
	test "$LYNX_LSS_FILE" = no && LYNX_LSS_FILE=
	cat >>confdefs.h <<EOF
#define LYNX_LSS_FILE "$LYNX_LSS_FILE"
EOF
a24772 3
	INSTALL_LSS=install-lss
	;;
esac
d24774 4
a24777 6
use_dft_colors=no
case $cf_cv_screen in
curses|slang|ncurses*)
	use_dft_colors=maybe
	;;
esac
d24779 1
a24779 3
if test "$use_dft_colors" != no ; then
echo "$as_me:18716: checking if you want to use default-colors" >&5
echo $ECHO_N "checking if you want to use default-colors... $ECHO_C" >&6
a24780 12
# Check whether --enable-default-colors or --disable-default-colors was given.
if test "${enable_default_colors+set}" = set; then
  enableval="$enable_default_colors"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_dft_colors=yes
  else
    use_dft_colors=no
  fi
else
  enableval=no
  use_dft_colors=no
d24782 7
a24788 6
fi;
echo "$as_me:18733: result: $use_dft_colors" >&5
echo "${ECHO_T}$use_dft_colors" >&6
test $use_dft_colors = "yes" && cat >>confdefs.h <<\EOF
#define USE_DEFAULT_COLORS 1
EOF
d24790 1
d24793 7
a24799 2
echo "$as_me:18741: checking if experimental htmlized lynx.cfg should be built" >&5
echo $ECHO_N "checking if experimental htmlized lynx.cfg should be built... $ECHO_C" >&6
a24800 8
# Check whether --enable-htmlized-cfg or --disable-htmlized-cfg was given.
if test "${enable_htmlized_cfg+set}" = set; then
  enableval="$enable_htmlized_cfg"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_exp_htmlized_cfg=$enableval
  else
    use_exp_htmlized_cfg=no
a24803 11
  use_exp_htmlized_cfg=no

fi;
echo "$as_me:18758: result: $use_exp_htmlized_cfg" >&5
echo "${ECHO_T}$use_exp_htmlized_cfg" >&6

LYNXCFG_MAKE=''
LYNXCFG_URL=''
if test $use_exp_htmlized_cfg = no ; then
	LYNXCFG_MAKE='#'
	LYNXCFG_URL='http://www.hippo.ru/%7Ehvv/'
d24806 2
a24807 3
### check for ipv6 support
echo "$as_me:18769: checking whether to enable ipv6" >&5
echo $ECHO_N "checking whether to enable ipv6... $ECHO_C" >&6
d24809 5
a24813 4
# Check whether --enable-ipv6 or --disable-ipv6 was given.
if test "${enable_ipv6+set}" = set; then
  enableval="$enable_ipv6"
  test "$enableval" != yes && enableval=no
d24815 3
a24817 4
    cat >>confdefs.h <<\EOF
#define ENABLE_IPV6 1
EOF

d24821 1
a24821 28
fi;
echo "$as_me:18785: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
if test "$enableval" = "yes"; then

echo "$as_me:18789: checking ipv6 stack type" >&5
echo $ECHO_N "checking ipv6 stack type... $ECHO_C" >&6
if test "${cf_cv_ipv6type+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

cf_cv_ipv6type=unknown
for i in solaris inria kame linux-glibc linux-libinet6 toshiba v6d zeta
do
	case $i in #(vi
	solaris) #(vi
		if test "SunOS" = "`uname -s`"
		then
		  if test -f /usr/include/netinet/ip6.h
		  then
			cf_cv_ipv6type=$i
		  fi
		fi
		;;
	inria) #(vi
				cat >conftest.$ac_ext <<_ACEOF
#line 18810 "configure"
#include "confdefs.h"
a24822 8
#include <netinet/in.h>
#ifdef IPV6_INRIA_VERSION
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
a24823 1
rm -f conftest*
d24825 3
a24827 5
		;;
	kame) #(vi
				cat >conftest.$ac_ext <<_ACEOF
#line 18827 "configure"
#include "confdefs.h"
a24828 10
#include <netinet/in.h>
#ifdef __KAME__
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d24830 13
a24842 5
		;;
	linux-glibc) #(vi
				cat >conftest.$ac_ext <<_ACEOF
#line 18844 "configure"
#include "confdefs.h"
a24843 8
#include <features.h>
#if defined(__GLIBC__) && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 1
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
a24844 1
rm -f conftest*
d24846 3
a24848 14
		;;
	linux-libinet6) #(vi
				if test -d /usr/inet6
		then
			cf_cv_ipv6type=$i
		elif test -f /usr/include/netinet/ip6.h
		then
			cf_cv_ipv6type=$i
		fi
		;;
	toshiba) #(vi
		cat >conftest.$ac_ext <<_ACEOF
#line 18870 "configure"
#include "confdefs.h"
a24849 10
#include <sys/param.h>
#ifdef _TOSHIBA_INET6
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d24851 13
a24863 5
		;;
	v6d) #(vi
		cat >conftest.$ac_ext <<_ACEOF
#line 18887 "configure"
#include "confdefs.h"
a24864 8
#include </usr/local/v6/include/sys/v6config.h>
#ifdef __V6D__
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
a24865 1
rm -f conftest*
d24867 3
a24869 5
		;;
	zeta)
		cat >conftest.$ac_ext <<_ACEOF
#line 18904 "configure"
#include "confdefs.h"
a24870 10
#include <sys/param.h>
#ifdef _ZETA_MINAMI_INET6
yes
#endif
_ACEOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  cf_cv_ipv6type=$i
fi
rm -f conftest*
d24872 13
a24884 6
		;;
	esac
	if test "$cf_cv_ipv6type" != "unknown"; then
		break
	fi
done
a24886 38
echo "$as_me:18926: result: $cf_cv_ipv6type" >&5
echo "${ECHO_T}$cf_cv_ipv6type" >&6

cf_ipv6lib=none
cf_ipv6dir=none

echo "$as_me:18932: checking for IPv6 library if required" >&5
echo $ECHO_N "checking for IPv6 library if required... $ECHO_C" >&6
case $cf_cv_ipv6type in #(vi
solaris) #(vi
	;;
inria) #(vi
	;;
kame) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
linux-glibc) #(vi
	;;
linux-libinet6) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=inet6
	;;
toshiba) #(vi
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
v6d) #(vi
	cf_ipv6lib=v6
	cf_ipv6dir=v6
	;;
zeta)
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
esac
echo "$as_me:18962: result: $cf_ipv6lib" >&5
echo "${ECHO_T}$cf_ipv6lib" >&6
d24888 3
a24890 1
if test "$cf_ipv6lib" != "none"; then
a24891 3
	cat >conftest.$ac_ext <<_ACEOF
#line 18968 "configure"
#include "confdefs.h"
d24893 10
a24902 25
#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
int
main ()
{
getaddrinfo(0, 0, 0, 0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:18984: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:18987: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:18990: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:18993: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d24904 2
a24905 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d24907 1
a24907 1
	cf_search=""
d24909 6
a24914 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/$cf_ipv6dir &&       cf_search="$cf_search $HOME/include/$cf_ipv6dir"
	test -d $HOME/include/$cf_ipv6dir/include &&    cf_search="$cf_search $HOME/include/$cf_ipv6dir/include"
}
d24916 3
a24918 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/$cf_ipv6dir to the actual package location:
test -d $HOME/$cf_ipv6dir && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME/$cf_ipv6dir"
	test -d $HOME/$cf_ipv6dir/include &&       cf_search="$cf_search $HOME/$cf_ipv6dir/include"
	test -d $HOME/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $HOME/$cf_ipv6dir/include/$cf_ipv6dir"
}
d24920 3
a24922 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing include-directories under /usr/local"
	test -d /usr/local/include &&       cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/$cf_ipv6dir &&    cf_search="$cf_search /usr/local/include/$cf_ipv6dir"
	test -d /usr/local/include/$cf_ipv6dir/include && cf_search="$cf_search /usr/local/include/$cf_ipv6dir/include"
	test -d /usr/local/$cf_ipv6dir/include &&    cf_search="$cf_search /usr/local/$cf_ipv6dir/include"
	test -d /usr/local/$cf_ipv6dir/include/$cf_ipv6dir && cf_search="$cf_search /usr/local/$cf_ipv6dir/include/$cf_ipv6dir"
}
d24924 13
a24936 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/$cf_ipv6dir &&       cf_search="$cf_search $prefix/include/$cf_ipv6dir"
	test -d $prefix/include/$cf_ipv6dir/include &&    cf_search="$cf_search $prefix/include/$cf_ipv6dir/include"
	test -d $prefix/$cf_ipv6dir/include &&       cf_search="$cf_search $prefix/$cf_ipv6dir/include"
	test -d $prefix/$cf_ipv6dir/include/$cf_ipv6dir &&    cf_search="$cf_search $prefix/$cf_ipv6dir/include/$cf_ipv6dir"
}
d24938 1
a24938 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing include-directories under /opt"
	test -d /opt/include &&             cf_search="$cf_search /opt/include"
	test -d /opt/include/$cf_ipv6dir &&          cf_search="$cf_search /opt/include/$cf_ipv6dir"
	test -d /opt/include/$cf_ipv6dir/include &&       cf_search="$cf_search /opt/include/$cf_ipv6dir/include"
	test -d /opt/$cf_ipv6dir/include &&          cf_search="$cf_search /opt/$cf_ipv6dir/include"
	test -d /opt/$cf_ipv6dir/include/$cf_ipv6dir &&       cf_search="$cf_search /opt/$cf_ipv6dir/include/$cf_ipv6dir"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing include-directories under /usr"
	test -d /usr/include &&             cf_search="$cf_search /usr/include"
	test -d /usr/include/$cf_ipv6dir &&          cf_search="$cf_search /usr/include/$cf_ipv6dir"
	test -d /usr/include/$cf_ipv6dir/include &&       cf_search="$cf_search /usr/include/$cf_ipv6dir/include"
	test -d /usr/$cf_ipv6dir/include &&          cf_search="$cf_search /usr/$cf_ipv6dir/include"
}
d24940 3
a24942 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/$cf_ipv6dir && cf_search="$cf_search $includedir/$cf_ipv6dir"
}
a24943 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/$cf_ipv6dir && cf_search="$cf_search $oldincludedir/$cf_ipv6dir"
}
d24945 13
a24957 11
	for cf_incdir in $cf_search
	do
		cf_header=$cf_incdir/netinet/ip6.h
		if test -f $cf_header
		then
			CPPFLAGS="$CPPFLAGS -I$cf_incdir"
			test -n "$verbose" && echo "	... found $cf_header" 1>&6
			break
		fi
		test -n "$verbose" && echo "	... tested $cf_header" 1>&6
	done
a24959 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d24961 5
a24965 21
	eval 'cf_cv_have_lib_'$cf_ipv6lib'=no'
	cf_libdir=""
	echo "$as_me:19087: checking for getaddrinfo" >&5
echo $ECHO_N "checking for getaddrinfo... $ECHO_C" >&6
if test "${ac_cv_func_getaddrinfo+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 19093 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char getaddrinfo (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char getaddrinfo ();
char (*f) ();
a24966 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_getaddrinfo) || defined (__stub___getaddrinfo)
choke me
#else
f = getaddrinfo;
#endif
d24968 10
a24977 28
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19124: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19127: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19130: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19133: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_getaddrinfo=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_getaddrinfo=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:19143: result: $ac_cv_func_getaddrinfo" >&5
echo "${ECHO_T}$ac_cv_func_getaddrinfo" >&6
if test $ac_cv_func_getaddrinfo = yes; then
  eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
d24979 4
d24984 2
a24985 7
		cf_save_LIBS="$LIBS"
		echo "$as_me:19150: checking for getaddrinfo in -l$cf_ipv6lib" >&5
echo $ECHO_N "checking for getaddrinfo in -l$cf_ipv6lib... $ECHO_C" >&6
		LIBS="-l$cf_ipv6lib $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 19154 "configure"
#include "confdefs.h"
d24987 2
a24988 27
#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
int
main ()
{
getaddrinfo(0, 0, 0, 0)
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19170: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19173: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19176: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19179: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:19181: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
d24990 3
d24994 5
a24998 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:19188: result: no" >&5
echo "${ECHO_T}no" >&6
			cf_search=""
d25000 1
a25000 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/$cf_ipv6dir &&       cf_search="$cf_search $HOME/lib/$cf_ipv6dir"
	test -d $HOME/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $HOME/lib/$cf_ipv6dir/lib"
}
a25001 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/$cf_ipv6dir to the actual package location:
test -d $HOME/$cf_ipv6dir && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/$cf_ipv6dir"
	test -d $HOME/$cf_ipv6dir/lib &&       cf_search="$cf_search $HOME/$cf_ipv6dir/lib"
	test -d $HOME/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $HOME/$cf_ipv6dir/lib/$cf_ipv6dir"
}
d25003 6
a25008 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/$cf_ipv6dir &&    cf_search="$cf_search /usr/local/lib/$cf_ipv6dir"
	test -d /usr/local/lib/$cf_ipv6dir/lib && cf_search="$cf_search /usr/local/lib/$cf_ipv6dir/lib"
	test -d /usr/local/$cf_ipv6dir/lib &&    cf_search="$cf_search /usr/local/$cf_ipv6dir/lib"
	test -d /usr/local/$cf_ipv6dir/lib/$cf_ipv6dir && cf_search="$cf_search /usr/local/$cf_ipv6dir/lib/$cf_ipv6dir"
}
a25009 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/$cf_ipv6dir &&       cf_search="$cf_search $prefix/lib/$cf_ipv6dir"
	test -d $prefix/lib/$cf_ipv6dir/lib &&    cf_search="$cf_search $prefix/lib/$cf_ipv6dir/lib"
	test -d $prefix/$cf_ipv6dir/lib &&       cf_search="$cf_search $prefix/$cf_ipv6dir/lib"
	test -d $prefix/$cf_ipv6dir/lib/$cf_ipv6dir &&    cf_search="$cf_search $prefix/$cf_ipv6dir/lib/$cf_ipv6dir"
}
d25011 2
a25012 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/$cf_ipv6dir &&          cf_search="$cf_search /opt/lib/$cf_ipv6dir"
	test -d /opt/lib/$cf_ipv6dir/lib &&       cf_search="$cf_search /opt/lib/$cf_ipv6dir/lib"
	test -d /opt/$cf_ipv6dir/lib &&          cf_search="$cf_search /opt/$cf_ipv6dir/lib"
	test -d /opt/$cf_ipv6dir/lib/$cf_ipv6dir &&       cf_search="$cf_search /opt/$cf_ipv6dir/lib/$cf_ipv6dir"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/$cf_ipv6dir &&          cf_search="$cf_search /usr/lib/$cf_ipv6dir"
	test -d /usr/lib/$cf_ipv6dir/lib &&       cf_search="$cf_search /usr/lib/$cf_ipv6dir/lib"
	test -d /usr/$cf_ipv6dir/lib &&          cf_search="$cf_search /usr/$cf_ipv6dir/lib"
}
d25014 16
a25029 8
			for cf_libdir in $cf_search
			do
				echo "$as_me:19248: checking for -l$cf_ipv6lib in $cf_libdir" >&5
echo $ECHO_N "checking for -l$cf_ipv6lib in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -l$cf_ipv6lib $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 19252 "configure"
#include "confdefs.h"
d25031 9
a25039 4
#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
d25043 1
a25043 1
getaddrinfo(0, 0, 0, 0)
d25048 2
a25049 16
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:19268: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19271: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:19274: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19277: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:19279: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
					 break
d25051 1
a25051 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:19286: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
d25053 8
a25060 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done
d25062 1
a25062 2
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a25063 1
fi
d25065 1
a25065 1
eval 'cf_found_library=$cf_cv_have_lib_'$cf_ipv6lib
d25067 9
a25075 7
	if test $cf_found_library = no ; then
		{ { echo "$as_me:19301: error: No $cf_ipv6lib library found, cannot continue.  You must fetch lib$cf_ipv6lib.a
from an appropriate IPv6 kit and compile beforehand." >&5
echo "$as_me: error: No $cf_ipv6lib library found, cannot continue.  You must fetch lib$cf_ipv6lib.a
from an appropriate IPv6 kit and compile beforehand." >&2;}
   { (exit 1); exit 1; }; }
	fi
d25078 1
a25078 77
echo "$as_me:19309: checking working getaddrinfo" >&5
echo $ECHO_N "checking working getaddrinfo... $ECHO_C" >&6
if test "${cf_cv_getaddrinfo+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else

if test "$cross_compiling" = yes; then
  cf_cv_getaddrinfo=unknown
else
  cat >conftest.$ac_ext <<_ACEOF
#line 19319 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netdb.h>
#include <string.h>
#include <sys/socket.h>
#include <netinet/in.h>

#define expect(a,b) if (strcmp(a,b) != 0) goto bad

int main()
{
   int passive, gaierr, inet4 = 0, inet6 = 0;
   struct addrinfo hints, *ai, *aitop;
   char straddr[INET6_ADDRSTRLEN], strport[16];

   for (passive = 0; passive <= 1; passive++) {
     memset(&hints, 0, sizeof(hints));
     hints.ai_family = AF_UNSPEC;
     hints.ai_flags = passive ? AI_PASSIVE : 0;
     hints.ai_socktype = SOCK_STREAM;
     if ((gaierr = getaddrinfo(NULL, "54321", &hints, &aitop)) != 0) {
       (void)gai_strerror(gaierr);
       goto bad;
     }
     for (ai = aitop; ai; ai = ai->ai_next) {
       if (ai->ai_addr == NULL ||
           ai->ai_addrlen == 0 ||
           getnameinfo(ai->ai_addr, ai->ai_addrlen,
                       straddr, sizeof(straddr), strport, sizeof(strport),
                       NI_NUMERICHOST|NI_NUMERICSERV) != 0) {
         goto bad;
       }
       switch (ai->ai_family) {
       case AF_INET:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "0.0.0.0");
         } else {
           expect(straddr, "127.0.0.1");
         }
         inet4++;
         break;
       case AF_INET6:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "::");
         } else {
           expect(straddr, "::1");
         }
         inet6++;
         break;
       case AF_UNSPEC:
         goto bad;
         break;
       default:
         /* another family support? */
         break;
       }
     }
   }

   if (!(inet4 == 0 || inet4 == 2))
     goto bad;
   if (!(inet6 == 0 || inet6 == 2))
     goto bad;
d25080 16
a25095 3
   if (aitop)
     freeaddrinfo(aitop);
   exit(0);
d25097 15
a25111 4
  bad:
   if (aitop)
     freeaddrinfo(aitop);
   exit(1);
d25113 2
a25115 13
_ACEOF
rm -f conftest$ac_exeext
if { (eval echo "$as_me:19399: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:19402: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:19404: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:19407: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  cf_cv_getaddrinfo=yes
d25117 1
a25117 4
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_getaddrinfo=no
d25119 23
a25141 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d25144 31
a25175 6
echo "$as_me:19420: result: $cf_cv_getaddrinfo" >&5
echo "${ECHO_T}$cf_cv_getaddrinfo" >&6
if test "$cf_cv_getaddrinfo" = yes ; then
	cat >>confdefs.h <<\EOF
#define HAVE_GAI_STRERROR 1
EOF
d25177 23
a25199 3
	cat >>confdefs.h <<\EOF
#define HAVE_GETADDRINFO 1
EOF
d25201 4
a25206 6
if test "$cf_cv_getaddrinfo" != "yes"; then
	if test "$cf_cv_ipv6type" != "linux"; then
		{ echo "$as_me:19435: WARNING: You must get working getaddrinfo() function,
or you can specify \"--disable-ipv6\"" >&5
echo "$as_me: WARNING: You must get working getaddrinfo() function,
or you can specify \"--disable-ipv6\"" >&2;}
d25208 1
a25208 6
		{ echo "$as_me:19440: WARNING: The getaddrinfo() implementation on your system seems be buggy.
You should upgrade your system library to the newest version
of GNU C library (aka glibc)." >&5
echo "$as_me: WARNING: The getaddrinfo() implementation on your system seems be buggy.
You should upgrade your system library to the newest version
of GNU C library (aka glibc)." >&2;}
d25210 7
a25216 1
fi
d25218 4
a25221 1
fi
a25222 2
echo "$as_me:19451: checking if experimental keyboard-layout logic should be used" >&5
echo $ECHO_N "checking if experimental keyboard-layout logic should be used... $ECHO_C" >&6
d25224 1
a25224 12
# Check whether --enable-kbd-layout or --disable-kbd-layout was given.
if test "${enable_kbd_layout+set}" = set; then
  enableval="$enable_kbd_layout"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_kbd_layout=$enableval
  else
    use_kbd_layout=no
  fi
else
  enableval=no
  use_kbd_layout=no
a25225 6
fi;
echo "$as_me:19468: result: $use_kbd_layout" >&5
echo "${ECHO_T}$use_kbd_layout" >&6
test $use_kbd_layout != no && cat >>confdefs.h <<\EOF
#define EXP_KEYBOARD_LAYOUT 1
EOF
d25227 2
a25228 2
echo "$as_me:19474: checking if experimental locale-charset selection logic should be used" >&5
echo $ECHO_N "checking if experimental locale-charset selection logic should be used... $ECHO_C" >&6
d25230 2
a25231 12
# Check whether --enable-locale-charset or --disable-locale-charset was given.
if test "${enable_locale_charset+set}" = set; then
  enableval="$enable_locale_charset"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_locale_charset=$enableval
  else
    use_locale_charset=yes
  fi
else
  enableval=no
  use_locale_charset=yes
d25233 3
a25235 6
fi;
echo "$as_me:19491: result: $use_locale_charset" >&5
echo "${ECHO_T}$use_locale_charset" >&6
test $use_locale_charset != no && cat >>confdefs.h <<\EOF
#define EXP_LOCALE_CHARSET 1
EOF
d25237 1
a25237 2
echo "$as_me:19497: checking if experimental nested-table logic should be used" >&5
echo $ECHO_N "checking if experimental nested-table logic should be used... $ECHO_C" >&6
d25239 6
a25244 9
# Check whether --enable-nested-tables or --disable-nested-tables was given.
if test "${enable_nested_tables+set}" = set; then
  enableval="$enable_nested_tables"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nested_tables=$enableval
  else
    use_nested_tables=no
  fi
a25245 2
  enableval=no
  use_nested_tables=no
d25247 5
a25251 6
fi;
echo "$as_me:19514: result: $use_nested_tables" >&5
echo "${ECHO_T}$use_nested_tables" >&6
test $use_nested_tables != no && cat >>confdefs.h <<\EOF
#define EXP_NESTED_TABLES 1
EOF
a25252 2
echo "$as_me:19520: checking if scrollbar code should be used" >&5
echo $ECHO_N "checking if scrollbar code should be used... $ECHO_C" >&6
a25253 12
# Check whether --enable-scrollbar or --disable-scrollbar was given.
if test "${enable_scrollbar+set}" = set; then
  enableval="$enable_scrollbar"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_scrollbar=$enableval
  else
    use_scrollbar=no
  fi
else
  enableval=no
  use_scrollbar=no
d25255 1
a25255 3
fi;
echo "$as_me:19537: result: $use_scrollbar" >&5
echo "${ECHO_T}$use_scrollbar" >&6
a25256 2
echo "$as_me:19540: checking if alternative line-edit bindings should be used" >&5
echo $ECHO_N "checking if alternative line-edit bindings should be used... $ECHO_C" >&6
d25258 2
a25259 12
# Check whether --enable-alt-bindings or --disable-alt-bindings was given.
if test "${enable_alt_bindings+set}" = set; then
  enableval="$enable_alt_bindings"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_alt_bindings=$enableval
  else
    use_alt_bindings=yes
  fi
else
  enableval=no
  use_alt_bindings=yes
a25260 6
fi;
echo "$as_me:19557: result: $use_alt_bindings" >&5
echo "${ECHO_T}$use_alt_bindings" >&6
test $use_alt_bindings != no && cat >>confdefs.h <<\EOF
#define EXP_ALT_BINDINGS 1
EOF
d25262 18
a25279 2
echo "$as_me:19563: checking if you want to use extended HTML DTD logic" >&5
echo $ECHO_N "checking if you want to use extended HTML DTD logic... $ECHO_C" >&6
d25281 5
a25285 12
# Check whether --enable-extended-dtd or --disable-extended-dtd was given.
if test "${enable_extended_dtd+set}" = set; then
  enableval="$enable_extended_dtd"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ext_htmldtd=no
  else
    use_ext_htmldtd=yes
  fi
else
  enableval=yes
  use_ext_htmldtd=yes
d25287 1
a25287 6
fi;
echo "$as_me:19580: result: $use_ext_htmldtd" >&5
echo "${ECHO_T}$use_ext_htmldtd" >&6
test $use_ext_htmldtd = "no" && cat >>confdefs.h <<\EOF
#define NO_EXTENDED_HTMLDTD 1
EOF
a25288 2
echo "$as_me:19586: checking if file-upload logic should be used" >&5
echo $ECHO_N "checking if file-upload logic should be used... $ECHO_C" >&6
d25290 10
a25299 12
# Check whether --enable-file-upload or --disable-file-upload was given.
if test "${enable_file_upload+set}" = set; then
  enableval="$enable_file_upload"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_file_upload=$enableval
  else
    use_file_upload=yes
  fi
else
  enableval=yes
  use_file_upload=yes
a25300 6
fi;
echo "$as_me:19603: result: $use_file_upload" >&5
echo "${ECHO_T}$use_file_upload" >&6
test $use_file_upload != no && cat >>confdefs.h <<\EOF
#define USE_FILE_UPLOAD 1
EOF
d25302 10
a25311 2
echo "$as_me:19609: checking if element-justification logic should be used" >&5
echo $ECHO_N "checking if element-justification logic should be used... $ECHO_C" >&6
a25312 12
# Check whether --enable-justify-elts or --disable-justify-elts was given.
if test "${enable_justify_elts+set}" = set; then
  enableval="$enable_justify_elts"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_justify_elts=$enableval
  else
    use_justify_elts=yes
  fi
else
  enableval=yes
  use_justify_elts=yes
d25314 10
a25323 6
fi;
echo "$as_me:19626: result: $use_justify_elts" >&5
echo "${ECHO_T}$use_justify_elts" >&6
test $use_justify_elts != no && cat >>confdefs.h <<\EOF
#define EXP_JUSTIFY_ELTS 1
EOF
a25324 2
echo "$as_me:19632: checking if partial-display should be used" >&5
echo $ECHO_N "checking if partial-display should be used... $ECHO_C" >&6
d25326 10
a25335 12
# Check whether --enable-partial or --disable-partial was given.
if test "${enable_partial+set}" = set; then
  enableval="$enable_partial"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_partial_display=$enableval
  else
    use_partial_display=yes
  fi
else
  enableval=yes
  use_partial_display=yes
a25336 6
fi;
echo "$as_me:19649: result: $use_partial_display" >&5
echo "${ECHO_T}$use_partial_display" >&6
test $use_partial_display != no && cat >>confdefs.h <<\EOF
#define DISP_PARTIAL 1
EOF
d25338 10
a25347 2
echo "$as_me:19655: checking if persistent-cookie logic should be used" >&5
echo $ECHO_N "checking if persistent-cookie logic should be used... $ECHO_C" >&6
a25348 12
# Check whether --enable-persistent-cookies or --disable-persistent-cookies was given.
if test "${enable_persistent_cookies+set}" = set; then
  enableval="$enable_persistent_cookies"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_filed_cookies=$enableval
  else
    use_filed_cookies=yes
  fi
else
  enableval=yes
  use_filed_cookies=yes
a25349 6
fi;
echo "$as_me:19672: result: $use_filed_cookies" >&5
echo "${ECHO_T}$use_filed_cookies" >&6
test $use_filed_cookies != no && cat >>confdefs.h <<\EOF
#define USE_PERSISTENT_COOKIES 1
EOF
d25351 6
a25356 2
echo "$as_me:19678: checking if html source should be colorized" >&5
echo $ECHO_N "checking if html source should be colorized... $ECHO_C" >&6
d25358 6
a25363 12
# Check whether --enable-prettysrc or --disable-prettysrc was given.
if test "${enable_prettysrc+set}" = set; then
  enableval="$enable_prettysrc"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_prettysrc=$enableval
  else
    use_prettysrc=yes
  fi
else
  enableval=yes
  use_prettysrc=yes
d25365 1
a25365 6
fi;
echo "$as_me:19695: result: $use_prettysrc" >&5
echo "${ECHO_T}$use_prettysrc" >&6
test $use_prettysrc != no && cat >>confdefs.h <<\EOF
#define USE_PRETTYSRC 1
EOF
d25367 4
a25370 2
echo "$as_me:19701: checking if read-progress message should show ETA" >&5
echo $ECHO_N "checking if read-progress message should show ETA... $ECHO_C" >&6
d25372 1
a25372 12
# Check whether --enable-read-eta or --disable-read-eta was given.
if test "${enable_read_eta+set}" = set; then
  enableval="$enable_read_eta"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_read_eta=$enableval
  else
    use_read_eta=yes
  fi
else
  enableval=yes
  use_read_eta=yes
a25373 6
fi;
echo "$as_me:19718: result: $use_read_eta" >&5
echo "${ECHO_T}$use_read_eta" >&6
test $use_read_eta != no && cat >>confdefs.h <<\EOF
#define USE_READPROGRESS 1
EOF
d25375 3
a25377 2
echo "$as_me:19724: checking if source caching should be used" >&5
echo $ECHO_N "checking if source caching should be used... $ECHO_C" >&6
d25379 2
a25380 12
# Check whether --enable-source-cache or --disable-source-cache was given.
if test "${enable_source_cache+set}" = set; then
  enableval="$enable_source_cache"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_source_cache=$enableval
  else
    use_source_cache=yes
  fi
else
  enableval=yes
  use_source_cache=yes
d25382 3
a25384 6
fi;
echo "$as_me:19741: result: $use_source_cache" >&5
echo "${ECHO_T}$use_source_cache" >&6
test $use_source_cache != no && cat >>confdefs.h <<\EOF
#define USE_SOURCE_CACHE 1
EOF
d25386 1
a25386 2
echo "$as_me:19747: checking if you want to use external commands" >&5
echo $ECHO_N "checking if you want to use external commands... $ECHO_C" >&6
d25388 5
a25392 12
# Check whether --enable-externs or --disable-externs was given.
if test "${enable_externs+set}" = set; then
  enableval="$enable_externs"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_externs=yes
  else
    use_externs=no
  fi
else
  enableval=no
  use_externs=no
d25394 1
a25394 7
fi;
echo "$as_me:19764: result: $use_externs" >&5
echo "${ECHO_T}$use_externs" >&6
if test $use_externs != "no" ; then
	cat >>confdefs.h <<\EOF
#define USE_EXTERNALS 1
EOF
d25396 1
a25396 2
	EXTRA_OBJS="$EXTRA_OBJS LYExtern\$o"
fi
a25397 2
echo "$as_me:19774: checking if you want to use setfont support" >&5
echo $ECHO_N "checking if you want to use setfont support... $ECHO_C" >&6
d25399 3
a25401 9
# Check whether --enable-font-switch or --disable-font-switch was given.
if test "${enable_font_switch+set}" = set; then
  enableval="$enable_font_switch"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_setfont=yes
  else
    use_setfont=no
  fi
a25402 2
  enableval=no
  use_setfont=no
d25404 1
a25404 6
fi;
echo "$as_me:19791: result: $use_setfont" >&5
echo "${ECHO_T}$use_setfont" >&6
if test $use_setfont = yes ; then
	case $host_os in
	linux*)
a25405 24
test -z "$SETFONT" && SETFONT=consolechars
for ac_prog in $SETFONT consolechars setfont
do
  # Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo "$as_me:19802: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_SETFONT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  case $SETFONT in
  [\\/]* | ?:[\\/]*)
  ac_cv_path_SETFONT="$SETFONT" # Let the user override the test with a path.
  ;;
  *)
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_SETFONT="$ac_dir/$ac_word"
   echo "$as_me:19819: found $ac_dir/$ac_word" >&5
   break
d25407 6
a25412 1
done
d25414 1
a25414 4
  ;;
esac
fi
SETFONT=$ac_cv_path_SETFONT
a25415 7
if test -n "$SETFONT"; then
  echo "$as_me:19830: result: $SETFONT" >&5
echo "${ECHO_T}$SETFONT" >&6
else
  echo "$as_me:19833: result: no" >&5
echo "${ECHO_T}no" >&6
fi
d25417 2
a25418 3
  test -n "$SETFONT" && break
done
test -n "$SETFONT" || SETFONT="$SETFONT"
a25419 11
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
d25421 4
a25424 4
for cf_temp in $ac_cv_path_SETFONT
do
	if test -z "$cf_path_prog" ; then
		if test "$with_full_paths" = yes ; then
d25426 2
a25427 5
if test "x$prefix" != xNONE; then
  cf_path_syntax="$prefix"
else
  cf_path_syntax="$ac_default_prefix"
fi
d25429 3
a25431 22
case ".$cf_temp" in #(vi
.\$\(*\)*|.\'*\'*) #(vi
  ;;
..|./*|.\\*) #(vi
  ;;
.[a-zA-Z]:[\\/]*) #(vi OS/2 EMX
  ;;
.\${*prefix}*) #(vi
  eval cf_temp="$cf_temp"
  case ".$cf_temp" in #(vi
  .NONE/*)
    cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
    ;;
  esac
  ;; #(vi
.no|.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$cf_path_syntax%`
  ;;
*)
  break
  ;;
esac
d25433 1
a25433 11
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d25435 5
a25439 1
if test -n "$cf_path_prog" ; then
d25441 1
a25441 1
echo "(line 19901) testing defining path for ${cf_path_prog} ..." 1>&5
d25443 1
a25443 3
	cat >>confdefs.h <<EOF
#define SETFONT_PATH "$cf_path_prog"
EOF
a25444 3
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
#define SETFONT_ARGS "$cf_path_args"
EOF
d25446 1
d25448 4
a25452 4
		;;
	*)
		SETFONT=unknown
		test -n "$verbose" && echo "	Assume $host_os has font-switching" 1>&6
d25454 20
a25473 6
		;;
	esac
	if test -n "$SETFONT" ; then
		cat >>confdefs.h <<\EOF
#define EXP_CHARTRANS_AUTOSWITCH 1
EOF
d25475 4
a25478 4
	else
		{ echo "$as_me:19926: WARNING: Cannot find a font-setting program" >&5
echo "$as_me: WARNING: Cannot find a font-setting program" >&2;}
	fi
d25481 14
a25494 2
echo "$as_me:19931: checking if you want cgi-link support" >&5
echo $ECHO_N "checking if you want cgi-link support... $ECHO_C" >&6
d25496 10
a25505 8
# Check whether --enable-cgi-links or --disable-cgi-links was given.
if test "${enable_cgi_links+set}" = set; then
  enableval="$enable_cgi_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    cat >>confdefs.h <<\EOF
#define LYNXCGI_LINKS 1
EOF
a25506 6
  fi
else
  enableval=no
fi;
echo "$as_me:19947: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d25508 10
a25517 2
echo "$as_me:19950: checking if you want change-exec support" >&5
echo $ECHO_N "checking if you want change-exec support... $ECHO_C" >&6
a25518 12
# Check whether --enable-change-exec or --disable-change-exec was given.
if test "${enable_change_exec+set}" = set; then
  enableval="$enable_change_exec"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_change_exec=yes
  else
    use_change_exec=no
  fi
else
  enableval=no
  use_change_exec=no
d25520 10
a25529 6
fi;
echo "$as_me:19967: result: $use_change_exec" >&5
echo "${ECHO_T}$use_change_exec" >&6
test $use_change_exec = yes && cat >>confdefs.h <<\EOF
#define ENABLE_OPTS_CHANGE_EXEC 1
EOF
a25530 2
echo "$as_me:19973: checking if you want exec-links support" >&5
echo $ECHO_N "checking if you want exec-links support... $ECHO_C" >&6
d25532 10
a25541 12
# Check whether --enable-exec-links or --disable-exec-links was given.
if test "${enable_exec_links+set}" = set; then
  enableval="$enable_exec_links"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_links=$enableval
  else
    use_exec_links=$enableval
  fi
else
  enableval=$use_change_exec
  use_exec_links=$enableval
a25542 6
fi;
echo "$as_me:19990: result: $use_exec_links" >&5
echo "${ECHO_T}$use_exec_links" >&6
test $use_exec_links = yes && cat >>confdefs.h <<\EOF
#define EXEC_LINKS 1
EOF
a25543 2
echo "$as_me:19996: checking if you want exec-scripts support" >&5
echo $ECHO_N "checking if you want exec-scripts support... $ECHO_C" >&6
d25545 1
a25545 12
# Check whether --enable-exec-scripts or --disable-exec-scripts was given.
if test "${enable_exec_scripts+set}" = set; then
  enableval="$enable_exec_scripts"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_scripts=$enableval
  else
    use_exec_scripts=$enableval
  fi
else
  enableval=$use_change_exec
  use_exec_scripts=$enableval
d25547 4
a25550 6
fi;
echo "$as_me:20013: result: $use_exec_scripts" >&5
echo "${ECHO_T}$use_exec_scripts" >&6
test $use_exec_scripts = yes && cat >>confdefs.h <<\EOF
#define EXEC_SCRIPTS 1
EOF
d25552 1
a25552 2
echo "$as_me:20019: checking if you want internal-links feature" >&5
echo $ECHO_N "checking if you want internal-links feature... $ECHO_C" >&6
a25553 12
# Check whether --enable-internal-links or --disable-internal-links was given.
if test "${enable_internal_links+set}" = set; then
  enableval="$enable_internal_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_internal_links=yes
  else
    use_internal_links=no
  fi
else
  enableval=no
  use_internal_links=no
d25555 5
a25559 6
fi;
echo "$as_me:20036: result: $use_internal_links" >&5
echo "${ECHO_T}$use_internal_links" >&6
test $use_internal_links = no && cat >>confdefs.h <<\EOF
#define DONT_TRACK_INTERNAL_LINKS 1
EOF
d25561 2
a25562 2
echo "$as_me:20042: checking if you want to fork NSL requests" >&5
echo $ECHO_N "checking if you want to fork NSL requests... $ECHO_C" >&6
d25564 3
a25566 12
# Check whether --enable-nsl-fork or --disable-nsl-fork was given.
if test "${enable_nsl_fork+set}" = set; then
  enableval="$enable_nsl_fork"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nsl_fork=yes
  else
    use_nsl_fork=no
  fi
else
  enableval=no
  use_nsl_fork=no
d25568 1
a25568 6
fi;
echo "$as_me:20059: result: $use_nsl_fork" >&5
echo "${ECHO_T}$use_nsl_fork" >&6
test $use_nsl_fork = yes && cat >>confdefs.h <<\EOF
#define NSL_FORK 1
EOF
d25570 5
a25574 2
echo "$as_me:20065: checking if you want to log URL requests via syslog" >&5
echo $ECHO_N "checking if you want to log URL requests via syslog... $ECHO_C" >&6
d25576 1
a25576 12
# Check whether --enable-syslog or --disable-syslog was given.
if test "${enable_syslog+set}" = set; then
  enableval="$enable_syslog"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_syslog=yes
  else
    use_syslog=no
  fi
else
  enableval=no
  use_syslog=no
d25578 1
a25578 6
fi;
echo "$as_me:20082: result: $use_syslog" >&5
echo "${ECHO_T}$use_syslog" >&6
test $use_syslog = yes && cat >>confdefs.h <<\EOF
#define SYSLOG_REQUESTED_URLS 1
EOF
a25579 2
echo "$as_me:20088: checking if you want to underline links" >&5
echo $ECHO_N "checking if you want to underline links... $ECHO_C" >&6
d25581 3
a25583 9
# Check whether --enable-underlines or --disable-underlines was given.
if test "${enable_underlines+set}" = set; then
  enableval="$enable_underlines"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_underline=yes
  else
    use_underline=no
  fi
a25584 2
  enableval=no
  use_underline=no
d25586 3
a25588 10
fi;
echo "$as_me:20105: result: $use_underline" >&5
echo "${ECHO_T}$use_underline" >&6
test $use_underline = yes && cat >>confdefs.h <<\EOF
#define UNDERLINE_LINKS 1
EOF

test $use_underline = no  && cat >>confdefs.h <<\EOF
#define UNDERLINE_LINKS 0
EOF
d25590 9
a25598 2
echo "$as_me:20115: checking if help files should be gzip'ed" >&5
echo $ECHO_N "checking if help files should be gzip'ed... $ECHO_C" >&6
d25600 3
a25602 12
# Check whether --enable-gzip-help or --disable-gzip-help was given.
if test "${enable_gzip_help+set}" = set; then
  enableval="$enable_gzip_help"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_gzip_help=$enableval
  else
    use_gzip_help=no
  fi
else
  enableval=no
  use_gzip_help=no
d25604 3
a25606 3
fi;
echo "$as_me:20132: result: $use_gzip_help" >&5
echo "${ECHO_T}$use_gzip_help" >&6
d25608 1
a25608 2
echo "$as_me:20135: checking if you want to use libbz2 for decompression of some bzip2 files" >&5
echo $ECHO_N "checking if you want to use libbz2 for decompression of some bzip2 files... $ECHO_C" >&6
a25609 9
# Check whether --with-bzlib or --without-bzlib was given.
if test "${with_bzlib+set}" = set; then
  withval="$with_bzlib"
  use_bzlib=$withval
else
  use_bzlib=no
fi;
echo "$as_me:20145: result: $use_bzlib" >&5
echo "${ECHO_T}$use_bzlib" >&6
d25611 16
a25626 1
if test ".$use_bzlib" != ".no" ; then
d25628 9
a25636 6
echo "$as_me:20150: checking if we need to add -I option to get bzlib.h" >&5
echo $ECHO_N "checking if we need to add -I option to get bzlib.h... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 20153 "configure"
#include "confdefs.h"
#include <zlib.h>
d25640 1
a25640 1

d25645 2
a25646 14
rm -f conftest.$ac_objext
if { (eval echo "$as_me:20165: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:20168: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:20171: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20174: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20176: result: no" >&5
echo "${ECHO_T}no" >&6
d25648 7
a25654 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d25656 2
a25657 3
echo "$as_me:20182: result: yes" >&5
echo "${ECHO_T}yes" >&6
cf_search=""
d25659 1
a25659 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/bzlib &&       cf_search="$cf_search $HOME/include/bzlib"
	test -d $HOME/include/bzlib/include &&    cf_search="$cf_search $HOME/include/bzlib/include"
}
a25660 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/bzlib to the actual package location:
test -d $HOME/bzlib && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME/bzlib"
	test -d $HOME/bzlib/include &&       cf_search="$cf_search $HOME/bzlib/include"
	test -d $HOME/bzlib/include/bzlib &&    cf_search="$cf_search $HOME/bzlib/include/bzlib"
}
d25662 1
a25662 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing include-directories under /usr/local"
	test -d /usr/local/include &&       cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/bzlib &&    cf_search="$cf_search /usr/local/include/bzlib"
	test -d /usr/local/include/bzlib/include && cf_search="$cf_search /usr/local/include/bzlib/include"
	test -d /usr/local/bzlib/include &&    cf_search="$cf_search /usr/local/bzlib/include"
	test -d /usr/local/bzlib/include/bzlib && cf_search="$cf_search /usr/local/bzlib/include/bzlib"
}
d25664 10
a25673 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing include-directories under $prefix"
	test -d $prefix/include &&          cf_search="$cf_search $prefix/include"
	test -d $prefix/include/bzlib &&       cf_search="$cf_search $prefix/include/bzlib"
	test -d $prefix/include/bzlib/include &&    cf_search="$cf_search $prefix/include/bzlib/include"
	test -d $prefix/bzlib/include &&       cf_search="$cf_search $prefix/bzlib/include"
	test -d $prefix/bzlib/include/bzlib &&    cf_search="$cf_search $prefix/bzlib/include/bzlib"
}
a25674 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing include-directories under /opt"
	test -d /opt/include &&             cf_search="$cf_search /opt/include"
	test -d /opt/include/bzlib &&          cf_search="$cf_search /opt/include/bzlib"
	test -d /opt/include/bzlib/include &&       cf_search="$cf_search /opt/include/bzlib/include"
	test -d /opt/bzlib/include &&          cf_search="$cf_search /opt/bzlib/include"
	test -d /opt/bzlib/include/bzlib &&       cf_search="$cf_search /opt/bzlib/include/bzlib"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing include-directories under /usr"
	test -d /usr/include &&             cf_search="$cf_search /usr/include"
	test -d /usr/include/bzlib &&          cf_search="$cf_search /usr/include/bzlib"
	test -d /usr/include/bzlib/include &&       cf_search="$cf_search /usr/include/bzlib/include"
	test -d /usr/bzlib/include &&          cf_search="$cf_search /usr/bzlib/include"
}
d25676 18
a25693 6
test "$includedir" != NONE && \
test "$includedir" != "/usr/include" && \
test -d "$includedir" && {
	test -d $includedir &&    cf_search="$cf_search $includedir"
	test -d $includedir/bzlib && cf_search="$cf_search $includedir/bzlib"
}
d25695 1
a25695 6
test "$oldincludedir" != NONE && \
test "$oldincludedir" != "/usr/include" && \
test -d "$oldincludedir" && {
	test -d $oldincludedir    && cf_search="$cf_search $oldincludedir"
	test -d $oldincludedir/bzlib && cf_search="$cf_search $oldincludedir/bzlib"
}
a25696 3
for cf_incdir in $cf_search
do
	if test -f $cf_incdir/bzlib.h ; then
d25698 5
a25702 4
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=
d25704 1
a25704 9
for cf_add_cflags in -I$cf_incdir
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
d25706 4
a25709 30
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes

			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"

	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`
a25710 6
	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
	;;
esac
done
d25712 1
a25712 1
if test -n "$cf_new_cflags" ; then
a25713 1
	CFLAGS="$CFLAGS $cf_new_cflags"
d25716 2
a25717 1
if test -n "$cf_new_cppflags" ; then
d25719 5
a25723 1
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
d25726 2
a25727 1
if test -n "$cf_new_extra_cppflags" ; then
d25729 1
a25729 2
	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
fi
a25730 1
		test -n "$verbose" && echo "	... found in $cf_incdir" 1>&6
d25732 6
a25737 3
		break
	fi
	test -n "$verbose" && echo "	... tested $cf_incdir" 1>&6
a25738 1
done
d25740 2
a25741 2
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d25743 16
a25758 21
	eval 'cf_cv_have_lib_'bz2'=no'
	cf_libdir=""
	echo "$as_me:20339: checking for BZ2_bzopen" >&5
echo $ECHO_N "checking for BZ2_bzopen... $ECHO_C" >&6
if test "${ac_cv_func_BZ2_bzopen+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 20345 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char BZ2_bzopen (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char BZ2_bzopen ();
char (*f) ();
d25760 9
d25772 1
a25772 9
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_BZ2_bzopen) || defined (__stub___BZ2_bzopen)
choke me
#else
f = BZ2_bzopen;
#endif

d25777 2
a25778 24
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20376: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20379: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20382: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20385: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_BZ2_bzopen=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_BZ2_bzopen=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:20395: result: $ac_cv_func_BZ2_bzopen" >&5
echo "${ECHO_T}$ac_cv_func_BZ2_bzopen" >&6
if test $ac_cv_func_BZ2_bzopen = yes; then
  eval 'cf_cv_have_lib_'bz2'=yes'
d25780 7
d25788 37
a25824 7
		cf_save_LIBS="$LIBS"
		echo "$as_me:20402: checking for BZ2_bzopen in -lbz2" >&5
echo $ECHO_N "checking for BZ2_bzopen in -lbz2... $ECHO_C" >&6
		LIBS="-lbz2 $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 20406 "configure"
#include "confdefs.h"
d25826 8
a25834 1
#include <bzlib.h>
d25838 1
a25838 1
BZ2_bzopen("name","mode")
d25843 1
a25843 15
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20420: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20423: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20426: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20429: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20431: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'bz2'=yes'
d25846 53
a25898 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:20438: result: no" >&5
echo "${ECHO_T}no" >&6
			cf_search=""
d25900 51
a25950 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/bz2 &&       cf_search="$cf_search $HOME/lib/bz2"
	test -d $HOME/lib/bz2/lib &&    cf_search="$cf_search $HOME/lib/bz2/lib"
}
a25951 7
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/bz2 to the actual package location:
test -d $HOME/bz2 && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/bz2"
	test -d $HOME/bz2/lib &&       cf_search="$cf_search $HOME/bz2/lib"
	test -d $HOME/bz2/lib/bz2 &&    cf_search="$cf_search $HOME/bz2/lib/bz2"
}
d25953 1
a25953 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/bz2 &&    cf_search="$cf_search /usr/local/lib/bz2"
	test -d /usr/local/lib/bz2/lib && cf_search="$cf_search /usr/local/lib/bz2/lib"
	test -d /usr/local/bz2/lib &&    cf_search="$cf_search /usr/local/bz2/lib"
	test -d /usr/local/bz2/lib/bz2 && cf_search="$cf_search /usr/local/bz2/lib/bz2"
}
a25954 9
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
	test -d $prefix/lib &&          cf_search="$cf_search $prefix/lib"
	test -d $prefix/lib/bz2 &&       cf_search="$cf_search $prefix/lib/bz2"
	test -d $prefix/lib/bz2/lib &&    cf_search="$cf_search $prefix/lib/bz2/lib"
	test -d $prefix/bz2/lib &&       cf_search="$cf_search $prefix/bz2/lib"
	test -d $prefix/bz2/lib/bz2 &&    cf_search="$cf_search $prefix/bz2/lib/bz2"
}
d25956 2
a25957 18
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/bz2 &&          cf_search="$cf_search /opt/lib/bz2"
	test -d /opt/lib/bz2/lib &&       cf_search="$cf_search /opt/lib/bz2/lib"
	test -d /opt/bz2/lib &&          cf_search="$cf_search /opt/bz2/lib"
	test -d /opt/bz2/lib/bz2 &&       cf_search="$cf_search /opt/bz2/lib/bz2"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/bz2 &&          cf_search="$cf_search /usr/lib/bz2"
	test -d /usr/lib/bz2/lib &&       cf_search="$cf_search /usr/lib/bz2/lib"
	test -d /usr/bz2/lib &&          cf_search="$cf_search /usr/bz2/lib"
}
d25959 1
a25959 8
			for cf_libdir in $cf_search
			do
				echo "$as_me:20498: checking for -lbz2 in $cf_libdir" >&5
echo $ECHO_N "checking for -lbz2 in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lbz2 $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 20502 "configure"
#include "confdefs.h"
a25960 2
#include <stdio.h>
#include <bzlib.h>
d25964 3
a25966 1
BZ2_bzopen("name","mode")
d25971 2
a25972 16
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20516: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20519: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20522: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20525: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20527: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'bz2'=yes'
					 break
a25973 8
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:20534: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done
d25975 1
a25975 2
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d25977 1
a25977 1
fi
d25979 1
a25979 1
eval 'cf_found_library=$cf_cv_have_lib_'bz2
a25980 5
if test $cf_found_library = no ; then
	{ { echo "$as_me:20549: error: Cannot link bz2 library" >&5
echo "$as_me: error: Cannot link bz2 library" >&2;}
   { (exit 1); exit 1; }; }
fi
a25981 3
	cat >>confdefs.h <<\EOF
#define USE_BZLIB 1
EOF
d25983 1
a25983 1
fi
a25984 2
echo "$as_me:20560: checking if you want to use zlib for decompression of some gzip files" >&5
echo $ECHO_N "checking if you want to use zlib for decompression of some gzip files... $ECHO_C" >&6
d25986 2
a25987 9
# Check whether --with-zlib or --without-zlib was given.
if test "${with_zlib+set}" = set; then
  withval="$with_zlib"
  use_zlib=$withval
else
  use_zlib=no
fi;
echo "$as_me:20570: result: $use_zlib" >&5
echo "${ECHO_T}$use_zlib" >&6
a25988 1
if test ".$use_zlib" != ".no" ; then
d25990 18
a26007 9
echo "$as_me:20575: checking if we need to add -I option to get zlib.h" >&5
echo $ECHO_N "checking if we need to add -I option to get zlib.h... $ECHO_C" >&6
cat >conftest.$ac_ext <<_ACEOF
#line 20578 "configure"
#include "confdefs.h"
#include <zlib.h>
int
main ()
{
d26009 5
a26013 21
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext
if { (eval echo "$as_me:20590: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:20593: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:20596: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20599: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20601: result: no" >&5
echo "${ECHO_T}no" >&6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
a26014 2
echo "$as_me:20607: result: yes" >&5
echo "${ECHO_T}yes" >&6
a26016 6
test -d $HOME && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME"
	test -d $HOME/include &&          cf_search="$cf_search $HOME/include"
	test -d $HOME/include/zlib &&       cf_search="$cf_search $HOME/include/zlib"
	test -d $HOME/include/zlib/include &&    cf_search="$cf_search $HOME/include/zlib/include"
}
d26018 9
a26026 6
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/zlib to the actual package location:
test -d $HOME/zlib && {
	test -n "$verbose" && echo "	... testing include-directories under $HOME/zlib"
	test -d $HOME/zlib/include &&       cf_search="$cf_search $HOME/zlib/include"
	test -d $HOME/zlib/include/zlib &&    cf_search="$cf_search $HOME/zlib/include/zlib"
a26028 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing include-directories under /usr/local"
	test -d /usr/local/include &&       cf_search="$cf_search /usr/local/include"
	test -d /usr/local/include/zlib &&    cf_search="$cf_search /usr/local/include/zlib"
	test -d /usr/local/include/zlib/include && cf_search="$cf_search /usr/local/include/zlib/include"
	test -d /usr/local/zlib/include &&    cf_search="$cf_search /usr/local/zlib/include"
	test -d /usr/local/zlib/include/zlib && cf_search="$cf_search /usr/local/zlib/include/zlib"
}
d26030 4
a26033 3
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing include-directories under $prefix"
d26041 34
a26074 17
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing include-directories under /opt"
	test -d /opt/include &&             cf_search="$cf_search /opt/include"
	test -d /opt/include/zlib &&          cf_search="$cf_search /opt/include/zlib"
	test -d /opt/include/zlib/include &&       cf_search="$cf_search /opt/include/zlib/include"
	test -d /opt/zlib/include &&          cf_search="$cf_search /opt/zlib/include"
	test -d /opt/zlib/include/zlib &&       cf_search="$cf_search /opt/zlib/include/zlib"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing include-directories under /usr"
	test -d /usr/include &&             cf_search="$cf_search /usr/include"
	test -d /usr/include/zlib &&          cf_search="$cf_search /usr/include/zlib"
	test -d /usr/include/zlib/include &&       cf_search="$cf_search /usr/include/zlib/include"
	test -d /usr/zlib/include &&          cf_search="$cf_search /usr/zlib/include"
d26077 2
d26093 8
a26100 3
for cf_incdir in $cf_search
do
	if test -f $cf_incdir/zlib.h ; then
a26101 4
cf_fix_cppflags=no
cf_new_cflags=
cf_new_cppflags=
cf_new_extra_cppflags=
d26103 3
a26105 9
for cf_add_cflags in -I$cf_incdir
do
case $cf_fix_cppflags in
no)
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case $cf_add_cflags in
		-D*)
			cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^-D[^=]*='\''\"[^"]*//'`
d26107 1
a26107 3
			test "${cf_add_cflags}" != "${cf_tst_cflags}" \
			&& test -z "${cf_tst_cflags}" \
			&& cf_fix_cppflags=yes
d26109 3
a26111 24
			if test $cf_fix_cppflags = yes ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			elif test "${cf_tst_cflags}" = "\"'" ; then
				cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
				continue
			fi
			;;
		esac
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
	;;
yes)
	cf_new_extra_cppflags="$cf_new_extra_cppflags $cf_add_cflags"
d26113 1
a26113 1
	cf_tst_cflags=`echo ${cf_add_cflags} |sed -e 's/^[^"]*"'\''//'`
d26115 5
a26119 6
	test "${cf_add_cflags}" != "${cf_tst_cflags}" \
	&& test -z "${cf_tst_cflags}" \
	&& cf_fix_cppflags=no
	;;
esac
done
d26121 1
a26121 1
if test -n "$cf_new_cflags" ; then
d26123 1
a26123 2
	CFLAGS="$CFLAGS $cf_new_cflags"
fi
a26124 1
if test -n "$cf_new_cppflags" ; then
d26126 4
a26129 2
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
fi
d26131 1
a26131 1
if test -n "$cf_new_extra_cppflags" ; then
a26132 1
	EXTRA_CPPFLAGS="$cf_new_extra_cppflags $EXTRA_CPPFLAGS"
d26134 3
d26138 1
a26138 1
		test -n "$verbose" && echo "	... found in $cf_incdir" 1>&6
a26139 3
		break
	fi
	test -n "$verbose" && echo "	... tested $cf_incdir" 1>&6
d26141 1
a26141 1
done
a26142 2
fi
rm -f conftest.$ac_objext conftest.$ac_ext
d26144 2
a26145 21
	eval 'cf_cv_have_lib_'z'=no'
	cf_libdir=""
	echo "$as_me:20764: checking for gzopen" >&5
echo $ECHO_N "checking for gzopen... $ECHO_C" >&6
if test "${ac_cv_func_gzopen+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 20770 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gzopen (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gzopen ();
char (*f) ();
a26146 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gzopen) || defined (__stub___gzopen)
choke me
#else
f = gzopen;
#endif
d26148 4
a26151 29
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20801: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20804: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20807: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20810: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_gzopen=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_gzopen=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:20820: result: $ac_cv_func_gzopen" >&5
echo "${ECHO_T}$ac_cv_func_gzopen" >&6
if test $ac_cv_func_gzopen = yes; then
  eval 'cf_cv_have_lib_'z'=yes'
else
a26152 7
		cf_save_LIBS="$LIBS"
		echo "$as_me:20827: checking for gzopen in -lz" >&5
echo $ECHO_N "checking for gzopen in -lz... $ECHO_C" >&6
		LIBS="-lz $LIBS"
		cat >conftest.$ac_ext <<_ACEOF
#line 20831 "configure"
#include "confdefs.h"
d26154 1
d26158 3
a26160 1
gzopen("name","mode")
d26165 14
a26178 15
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20843: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20846: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20849: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20852: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20854: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 eval 'cf_cv_have_lib_'z'=yes'
d26180 1
a26180 6
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:20861: result: no" >&5
echo "${ECHO_T}no" >&6
			cf_search=""
d26182 17
a26198 5
test -d $HOME && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME"
	test -d $HOME/lib &&          cf_search="$cf_search $HOME/lib"
	test -d $HOME/lib/z &&       cf_search="$cf_search $HOME/lib/z"
	test -d $HOME/lib/z/lib &&    cf_search="$cf_search $HOME/lib/z/lib"
d26201 18
a26218 6
# For other stuff under the home directory, it should be sufficient to put
# a symbolic link for $HOME/z to the actual package location:
test -d $HOME/z && {
	test -n "$verbose" && echo "	... testing lib-directories under $HOME/z"
	test -d $HOME/z/lib &&       cf_search="$cf_search $HOME/z/lib"
	test -d $HOME/z/lib/z &&    cf_search="$cf_search $HOME/z/lib/z"
a26220 9
test "$prefix" != /usr/local && \
test -d /usr/local && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr/local"
	test -d /usr/local/lib &&       cf_search="$cf_search /usr/local/lib"
	test -d /usr/local/lib/z &&    cf_search="$cf_search /usr/local/lib/z"
	test -d /usr/local/lib/z/lib && cf_search="$cf_search /usr/local/lib/z/lib"
	test -d /usr/local/z/lib &&    cf_search="$cf_search /usr/local/z/lib"
	test -d /usr/local/z/lib/z && cf_search="$cf_search /usr/local/z/lib/z"
}
d26222 4
a26225 3
test "$prefix" != NONE && \
test -d $prefix && {
	test -n "$verbose" && echo "	... testing lib-directories under $prefix"
d26233 64
a26296 17
test "$prefix" != /opt && \
test -d /opt && {
	test -n "$verbose" && echo "	... testing lib-directories under /opt"
	test -d /opt/lib &&             cf_search="$cf_search /opt/lib"
	test -d /opt/lib/z &&          cf_search="$cf_search /opt/lib/z"
	test -d /opt/lib/z/lib &&       cf_search="$cf_search /opt/lib/z/lib"
	test -d /opt/z/lib &&          cf_search="$cf_search /opt/z/lib"
	test -d /opt/z/lib/z &&       cf_search="$cf_search /opt/z/lib/z"
}

test "$prefix" != /usr && \
test -d /usr && {
	test -n "$verbose" && echo "	... testing lib-directories under /usr"
	test -d /usr/lib &&             cf_search="$cf_search /usr/lib"
	test -d /usr/lib/z &&          cf_search="$cf_search /usr/lib/z"
	test -d /usr/lib/z/lib &&       cf_search="$cf_search /usr/lib/z/lib"
	test -d /usr/z/lib &&          cf_search="$cf_search /usr/z/lib"
d26298 37
d26336 26
a26361 9
			for cf_libdir in $cf_search
			do
				echo "$as_me:20921: checking for -lz in $cf_libdir" >&5
echo $ECHO_N "checking for -lz in $cf_libdir... $ECHO_C" >&6
				LIBS="-L$cf_libdir -lz $cf_save_LIBS"
				cat >conftest.$ac_ext <<_ACEOF
#line 20925 "configure"
#include "confdefs.h"
#include <zlib.h>
d26365 1
a26365 1
gzopen("name","mode")
d26370 2
a26371 16
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:20937: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:20940: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:20943: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:20946: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  echo "$as_me:20948: result: yes" >&5
echo "${ECHO_T}yes" >&6
			 		 eval 'cf_cv_have_lib_'z'=yes'
					 break
d26373 1
a26373 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:20955: result: no" >&5
echo "${ECHO_T}no" >&6
					 LIBS="$cf_save_LIBS"
d26375 13
a26387 2
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			done
d26389 9
a26398 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d26400 27
d26429 1
a26429 1
eval 'cf_found_library=$cf_cv_have_lib_'z
d26431 3
a26433 4
if test $cf_found_library = no ; then
	{ { echo "$as_me:20970: error: Cannot link z library" >&5
echo "$as_me: error: Cannot link z library" >&2;}
   { (exit 1); exit 1; }; }
d26436 2
a26437 3
	cat >>confdefs.h <<\EOF
#define USE_ZLIB 1
EOF
d26441 1
a26441 2
echo "$as_me:20981: checking if you want to exclude FINGER code" >&5
echo $ECHO_N "checking if you want to exclude FINGER code... $ECHO_C" >&6
d26443 5
a26447 4
# Check whether --enable-finger or --disable-finger was given.
if test "${enable_finger+set}" = set; then
  enableval="$enable_finger"
  test "$enableval" != no && enableval=yes
d26457 5
a26461 6
fi;
echo "$as_me:20998: result: $use_finger" >&5
echo "${ECHO_T}$use_finger" >&6
test $use_finger != "no" && cat >>confdefs.h <<\EOF
#define DISABLE_FINGER 1
EOF
a26462 2
echo "$as_me:21004: checking if you want to exclude GOPHER code" >&5
echo $ECHO_N "checking if you want to exclude GOPHER code... $ECHO_C" >&6
d26464 5
a26468 4
# Check whether --enable-gopher or --disable-gopher was given.
if test "${enable_gopher+set}" = set; then
  enableval="$enable_gopher"
  test "$enableval" != no && enableval=yes
d26478 5
a26482 6
fi;
echo "$as_me:21021: result: $use_gopher" >&5
echo "${ECHO_T}$use_gopher" >&6
test $use_gopher != "no" && cat >>confdefs.h <<\EOF
#define DISABLE_GOPHER 1
EOF
a26483 2
echo "$as_me:21027: checking if you want to exclude NEWS code" >&5
echo $ECHO_N "checking if you want to exclude NEWS code... $ECHO_C" >&6
d26485 5
a26489 4
# Check whether --enable-news or --disable-news was given.
if test "${enable_news+set}" = set; then
  enableval="$enable_news"
  test "$enableval" != no && enableval=yes
d26499 5
a26503 6
fi;
echo "$as_me:21044: result: $use_news" >&5
echo "${ECHO_T}$use_news" >&6
test $use_news != "no" && cat >>confdefs.h <<\EOF
#define DISABLE_NEWS 1
EOF
a26504 2
echo "$as_me:21050: checking if you want to exclude FTP code" >&5
echo $ECHO_N "checking if you want to exclude FTP code... $ECHO_C" >&6
d26506 5
a26510 4
# Check whether --enable-ftp or --disable-ftp was given.
if test "${enable_ftp+set}" = set; then
  enableval="$enable_ftp"
  test "$enableval" != no && enableval=yes
d26520 9
a26528 6
fi;
echo "$as_me:21067: result: $use_ftp" >&5
echo "${ECHO_T}$use_ftp" >&6
test $use_ftp != "no" && cat >>confdefs.h <<\EOF
#define DISABLE_FTP 1
EOF
d26532 5
a26536 7
echo "$as_me:21075: checking if directory-editor code should be used" >&5
echo $ECHO_N "checking if directory-editor code should be used... $ECHO_C" >&6

# Check whether --enable-dired or --disable-dired was given.
if test "${enable_dired+set}" = set; then
  enableval="$enable_dired"
  test "$enableval" != no && enableval=yes
d26546 4
a26549 3
fi;
echo "$as_me:21092: result: $use_dired" >&5
echo "${ECHO_T}$use_dired" >&6
d26553 1
a26553 3
	cat >>confdefs.h <<\EOF
#define DIRED_SUPPORT 1
EOF
a26554 2
	echo "$as_me:21101: checking if you wish to allow extracting from archives via DirEd" >&5
echo $ECHO_N "checking if you wish to allow extracting from archives via DirEd... $ECHO_C" >&6
d26556 5
a26560 4
# Check whether --enable-dired-dearchive or --disable-dired-dearchive was given.
if test "${enable_dired_dearchive+set}" = set; then
  enableval="$enable_dired_dearchive"
  test "$enableval" != no && enableval=yes
d26562 1
a26562 3
    cat >>confdefs.h <<\EOF
#define ARCHIVE_ONLY 1
EOF
d26567 1
a26567 3
fi;
	echo "$as_me:21117: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26569 2
a26570 2
	echo "$as_me:21120: checking if DirEd mode should override keys" >&5
echo $ECHO_N "checking if DirEd mode should override keys... $ECHO_C" >&6
d26572 5
a26576 4
# Check whether --enable-dired-override or --disable-dired-override was given.
if test "${enable_dired_override+set}" = set; then
  enableval="$enable_dired_override"
  test "$enableval" != no && enableval=yes
d26580 1
a26580 3
    cat >>confdefs.h <<\EOF
#define OK_OVERRIDE 1
EOF
d26585 2
a26586 3
  cat >>confdefs.h <<\EOF
#define OK_OVERRIDE 1
EOF
d26588 1
a26588 3
fi;
	echo "$as_me:21142: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26590 2
a26591 2
	echo "$as_me:21145: checking if you wish to allow permissions commands via DirEd" >&5
echo $ECHO_N "checking if you wish to allow permissions commands via DirEd... $ECHO_C" >&6
d26593 5
a26597 4
# Check whether --enable-dired-permit or --disable-dired-permit was given.
if test "${enable_dired_permit+set}" = set; then
  enableval="$enable_dired_permit"
  test "$enableval" != no && enableval=yes
d26601 1
a26601 3
    cat >>confdefs.h <<\EOF
#define OK_PERMIT 1
EOF
d26606 2
a26607 3
  cat >>confdefs.h <<\EOF
#define OK_PERMIT 1
EOF
d26609 1
a26609 3
fi;
	echo "$as_me:21167: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26611 2
a26612 2
	echo "$as_me:21170: checking if you wish to allow executable-permission commands via DirEd" >&5
echo $ECHO_N "checking if you wish to allow executable-permission commands via DirEd... $ECHO_C" >&6
d26614 5
a26618 4
# Check whether --enable-dired-xpermit or --disable-dired-xpermit was given.
if test "${enable_dired_xpermit+set}" = set; then
  enableval="$enable_dired_xpermit"
  test "$enableval" != no && enableval=yes
d26620 1
a26620 3
    cat >>confdefs.h <<\EOF
#define NO_CHANGE_EXECUTE_PERMS 1
EOF
d26625 1
a26625 3
fi;
	echo "$as_me:21186: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26627 2
a26628 2
	echo "$as_me:21189: checking if you wish to allow \"tar\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"tar\" commands from DirEd... $ECHO_C" >&6
d26630 5
a26634 4
# Check whether --enable-dired-tar or --disable-dired-tar was given.
if test "${enable_dired_tar+set}" = set; then
  enableval="$enable_dired_tar"
  test "$enableval" != no && enableval=yes
d26638 1
a26638 3
    cat >>confdefs.h <<\EOF
#define OK_TAR 1
EOF
d26643 2
a26644 3
  cat >>confdefs.h <<\EOF
#define OK_TAR 1
EOF
d26646 1
a26646 3
fi;
	echo "$as_me:21211: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26648 2
a26649 2
	echo "$as_me:21214: checking if you wish to allow \"uudecode\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"uudecode\" commands from DirEd... $ECHO_C" >&6
d26651 5
a26655 4
# Check whether --enable-dired-uudecode or --disable-dired-uudecode was given.
if test "${enable_dired_uudecode+set}" = set; then
  enableval="$enable_dired_uudecode"
  test "$enableval" != no && enableval=yes
d26659 1
a26659 3
    cat >>confdefs.h <<\EOF
#define OK_UUDECODE 1
EOF
d26664 2
a26665 3
  cat >>confdefs.h <<\EOF
#define OK_UUDECODE 1
EOF
d26667 1
a26667 3
fi;
	echo "$as_me:21236: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26669 2
a26670 2
	echo "$as_me:21239: checking if you wish to allow \"zip\" and \"unzip\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"zip\" and \"unzip\" commands from DirEd... $ECHO_C" >&6
d26672 5
a26676 4
# Check whether --enable-dired-zip or --disable-dired-zip was given.
if test "${enable_dired_zip+set}" = set; then
  enableval="$enable_dired_zip"
  test "$enableval" != no && enableval=yes
d26680 1
a26680 3
    cat >>confdefs.h <<\EOF
#define OK_ZIP 1
EOF
d26685 2
a26686 3
  cat >>confdefs.h <<\EOF
#define OK_ZIP 1
EOF
d26688 1
a26688 3
fi;
	echo "$as_me:21261: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26690 2
a26691 2
	echo "$as_me:21264: checking if you wish to allow \"gzip\" and \"gunzip\" commands from DirEd" >&5
echo $ECHO_N "checking if you wish to allow \"gzip\" and \"gunzip\" commands from DirEd... $ECHO_C" >&6
d26693 5
a26697 4
# Check whether --enable-dired-gzip or --disable-dired-gzip was given.
if test "${enable_dired_gzip+set}" = set; then
  enableval="$enable_dired_gzip"
  test "$enableval" != no && enableval=yes
d26701 1
a26701 3
    cat >>confdefs.h <<\EOF
#define OK_GZIP 1
EOF
d26706 2
a26707 3
  cat >>confdefs.h <<\EOF
#define OK_GZIP 1
EOF
a26708 3
fi;
	echo "$as_me:21286: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26711 3
a26713 2
echo "$as_me:21290: checking if you want long-directory listings" >&5
echo $ECHO_N "checking if you want long-directory listings... $ECHO_C" >&6
d26715 5
a26719 4
# Check whether --enable-long-list or --disable-long-list was given.
if test "${enable_long_list+set}" = set; then
  enableval="$enable_long_list"
  test "$enableval" != no && enableval=yes
d26723 1
a26723 3
    cat >>confdefs.h <<\EOF
#define LONG_LIST 1
EOF
d26728 2
a26729 3
  cat >>confdefs.h <<\EOF
#define LONG_LIST 1
EOF
d26731 1
a26731 3
fi;
echo "$as_me:21312: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26733 2
a26734 2
echo "$as_me:21315: checking if parent-directory references are permitted" >&5
echo $ECHO_N "checking if parent-directory references are permitted... $ECHO_C" >&6
d26736 5
a26740 4
# Check whether --enable-parent-dir-refs or --disable-parent-dir-refs was given.
if test "${enable_parent_dir_refs+set}" = set; then
  enableval="$enable_parent_dir_refs"
  test "$enableval" != no && enableval=yes
d26742 1
a26742 3
    cat >>confdefs.h <<\EOF
#define NO_PARENT_DIR_REFERENCE 1
EOF
d26747 6
a26752 3
fi;
echo "$as_me:21331: result: $enableval" >&5
echo "${ECHO_T}$enableval" >&6
d26759 4
a26762 4
echo "$as_me:21339: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_TELNET+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d26769 11
a26779 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_TELNET="$ac_dir/$ac_word"
   echo "$as_me:21356: found $ac_dir/$ac_word" >&5
   break
fi
d26781 2
a26787 1

d26789 2
a26790 2
  echo "$as_me:21367: result: $TELNET" >&5
echo "${ECHO_T}$TELNET" >&6
d26792 2
a26793 2
  echo "$as_me:21370: result: no" >&5
echo "${ECHO_T}no" >&6
d26796 1
d26801 1
d26804 1
a26804 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d26853 1
a26853 1
echo "(line 21438) testing defining path for ${cf_path_prog} ..." 1>&5
d26855 1
a26855 1
	cat >>confdefs.h <<EOF
d26857 1
a26857 1
EOF
d26859 1
a26859 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d26861 1
a26861 1
EOF
d26865 2
d26872 4
a26875 4
echo "$as_me:21455: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_TN3270+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d26882 11
a26892 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_TN3270="$ac_dir/$ac_word"
   echo "$as_me:21472: found $ac_dir/$ac_word" >&5
   break
fi
d26894 2
a26900 1

d26902 2
a26903 2
  echo "$as_me:21483: result: $TN3270" >&5
echo "${ECHO_T}$TN3270" >&6
d26905 2
a26906 2
  echo "$as_me:21486: result: no" >&5
echo "${ECHO_T}no" >&6
d26909 1
d26914 1
d26917 1
a26917 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d26966 1
a26966 1
echo "(line 21554) testing defining path for ${cf_path_prog} ..." 1>&5
d26968 1
a26968 1
	cat >>confdefs.h <<EOF
d26970 1
a26970 1
EOF
d26972 1
a26972 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d26974 1
a26974 1
EOF
d26978 2
d26985 4
a26988 4
echo "$as_me:21571: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_RLOGIN+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d26995 11
a27005 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_RLOGIN="$ac_dir/$ac_word"
   echo "$as_me:21588: found $ac_dir/$ac_word" >&5
   break
fi
d27007 2
a27013 1

d27015 2
a27016 2
  echo "$as_me:21599: result: $RLOGIN" >&5
echo "${ECHO_T}$RLOGIN" >&6
d27018 2
a27019 2
  echo "$as_me:21602: result: no" >&5
echo "${ECHO_T}no" >&6
d27022 1
d27027 1
d27030 1
a27030 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27079 1
a27079 1
echo "(line 21670) testing defining path for ${cf_path_prog} ..." 1>&5
d27081 1
a27081 1
	cat >>confdefs.h <<EOF
d27083 1
a27083 1
EOF
d27085 1
a27085 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27087 1
a27087 1
EOF
d27091 3
d27099 4
a27102 4
echo "$as_me:21687: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_MV+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27109 11
a27119 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_MV="$ac_dir/$ac_word"
   echo "$as_me:21704: found $ac_dir/$ac_word" >&5
   break
fi
d27121 2
a27127 1

d27129 2
a27130 2
  echo "$as_me:21715: result: $MV" >&5
echo "${ECHO_T}$MV" >&6
d27132 2
a27133 2
  echo "$as_me:21718: result: no" >&5
echo "${ECHO_T}no" >&6
d27136 1
d27141 1
d27144 1
a27144 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27193 1
a27193 1
echo "(line 21786) testing defining path for ${cf_path_prog} ..." 1>&5
d27195 1
a27195 1
	cat >>confdefs.h <<EOF
d27197 1
a27197 1
EOF
d27199 1
a27199 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27201 1
a27201 1
EOF
d27205 3
d27213 4
a27216 4
echo "$as_me:21803: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_GZIP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27223 11
a27233 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_GZIP="$ac_dir/$ac_word"
   echo "$as_me:21820: found $ac_dir/$ac_word" >&5
   break
fi
d27235 2
a27241 1

d27243 2
a27244 2
  echo "$as_me:21831: result: $GZIP" >&5
echo "${ECHO_T}$GZIP" >&6
d27246 2
a27247 2
  echo "$as_me:21834: result: no" >&5
echo "${ECHO_T}no" >&6
d27250 1
d27255 1
d27258 1
a27258 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27307 1
a27307 1
echo "(line 21902) testing defining path for ${cf_path_prog} ..." 1>&5
d27309 1
a27309 1
	cat >>confdefs.h <<EOF
d27311 1
a27311 1
EOF
d27313 1
a27313 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27315 1
a27315 1
EOF
d27319 2
d27326 4
a27329 4
echo "$as_me:21919: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_UNCOMPRESS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27336 11
a27346 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_UNCOMPRESS="$ac_dir/$ac_word"
   echo "$as_me:21936: found $ac_dir/$ac_word" >&5
   break
fi
d27348 2
a27354 1

d27356 2
a27357 2
  echo "$as_me:21947: result: $UNCOMPRESS" >&5
echo "${ECHO_T}$UNCOMPRESS" >&6
d27359 2
a27360 2
  echo "$as_me:21950: result: no" >&5
echo "${ECHO_T}no" >&6
d27363 1
d27368 1
d27371 1
a27371 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27420 1
a27420 1
echo "(line 22018) testing defining path for ${cf_path_prog} ..." 1>&5
d27422 1
a27422 1
	cat >>confdefs.h <<EOF
d27424 1
a27424 1
EOF
d27426 1
a27426 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27428 1
a27428 1
EOF
d27432 2
d27439 4
a27442 4
echo "$as_me:22035: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_UNZIP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27449 11
a27459 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_UNZIP="$ac_dir/$ac_word"
   echo "$as_me:22052: found $ac_dir/$ac_word" >&5
   break
fi
d27461 2
a27467 1

d27469 2
a27470 2
  echo "$as_me:22063: result: $UNZIP" >&5
echo "${ECHO_T}$UNZIP" >&6
d27472 2
a27473 2
  echo "$as_me:22066: result: no" >&5
echo "${ECHO_T}no" >&6
d27476 1
d27481 1
d27484 1
a27484 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27533 1
a27533 1
echo "(line 22134) testing defining path for ${cf_path_prog} ..." 1>&5
d27535 1
a27535 1
	cat >>confdefs.h <<EOF
d27537 1
a27537 1
EOF
d27539 1
a27539 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27541 1
a27541 1
EOF
d27545 2
d27552 4
a27555 4
echo "$as_me:22151: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_BZIP2+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27562 11
a27572 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_BZIP2="$ac_dir/$ac_word"
   echo "$as_me:22168: found $ac_dir/$ac_word" >&5
   break
fi
d27574 2
a27580 1

d27582 2
a27583 2
  echo "$as_me:22179: result: $BZIP2" >&5
echo "${ECHO_T}$BZIP2" >&6
d27585 2
a27586 2
  echo "$as_me:22182: result: no" >&5
echo "${ECHO_T}no" >&6
d27589 1
d27594 1
d27597 1
a27597 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27646 1
a27646 1
echo "(line 22250) testing defining path for ${cf_path_prog} ..." 1>&5
d27648 1
a27648 1
	cat >>confdefs.h <<EOF
d27650 1
a27650 1
EOF
d27652 1
a27652 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27654 1
a27654 1
EOF
d27658 3
d27666 4
a27669 4
echo "$as_me:22267: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_TAR+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27676 11
a27686 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_TAR="$ac_dir/$ac_word"
   echo "$as_me:22284: found $ac_dir/$ac_word" >&5
   break
fi
d27688 2
a27694 1

d27696 2
a27697 2
  echo "$as_me:22295: result: $TAR" >&5
echo "${ECHO_T}$TAR" >&6
d27699 2
a27700 2
  echo "$as_me:22298: result: no" >&5
echo "${ECHO_T}no" >&6
d27703 1
d27708 1
d27711 1
a27711 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27760 1
a27760 1
echo "(line 22366) testing defining path for ${cf_path_prog} ..." 1>&5
d27762 1
a27762 1
	cat >>confdefs.h <<EOF
d27764 1
a27764 1
EOF
d27766 1
a27766 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27768 1
a27768 1
EOF
d27772 1
d27795 6
a27800 1
cat >>confdefs.h <<EOF
d27802 1
a27802 1
EOF
d27804 1
a27804 1
cat >>confdefs.h <<EOF
d27806 1
a27806 1
EOF
d27808 1
a27808 1
cat >>confdefs.h <<EOF
d27810 1
a27810 1
EOF
d27812 1
a27812 1
cat >>confdefs.h <<EOF
d27814 2
a27815 1
EOF
d27819 2
d27826 4
a27829 4
echo "$as_me:22423: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_COMPRESS+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27836 11
a27846 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_COMPRESS="$ac_dir/$ac_word"
   echo "$as_me:22440: found $ac_dir/$ac_word" >&5
   break
fi
d27848 2
a27854 1

d27856 2
a27857 2
  echo "$as_me:22451: result: $COMPRESS" >&5
echo "${ECHO_T}$COMPRESS" >&6
d27859 2
a27860 2
  echo "$as_me:22454: result: no" >&5
echo "${ECHO_T}no" >&6
d27863 1
d27868 1
d27871 1
a27871 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d27920 1
a27920 1
echo "(line 22522) testing defining path for ${cf_path_prog} ..." 1>&5
d27922 1
a27922 1
	cat >>confdefs.h <<EOF
d27924 1
a27924 1
EOF
d27926 1
a27926 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d27928 1
a27928 1
EOF
d27932 2
d27939 4
a27942 4
echo "$as_me:22539: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_RM+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d27949 11
a27959 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_RM="$ac_dir/$ac_word"
   echo "$as_me:22556: found $ac_dir/$ac_word" >&5
   break
fi
d27961 2
a27967 1

d27969 2
a27970 2
  echo "$as_me:22567: result: $RM" >&5
echo "${ECHO_T}$RM" >&6
d27972 2
a27973 2
  echo "$as_me:22570: result: no" >&5
echo "${ECHO_T}no" >&6
d27976 1
d27981 1
d27984 1
a27984 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d28033 1
a28033 1
echo "(line 22638) testing defining path for ${cf_path_prog} ..." 1>&5
d28035 1
a28035 1
	cat >>confdefs.h <<EOF
d28037 1
a28037 1
EOF
d28039 1
a28039 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d28041 1
a28041 1
EOF
d28045 2
d28052 4
a28055 4
echo "$as_me:22655: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_UUDECODE+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28062 11
a28072 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_UUDECODE="$ac_dir/$ac_word"
   echo "$as_me:22672: found $ac_dir/$ac_word" >&5
   break
fi
d28074 2
a28080 1

d28082 2
a28083 2
  echo "$as_me:22683: result: $UUDECODE" >&5
echo "${ECHO_T}$UUDECODE" >&6
d28085 2
a28086 2
  echo "$as_me:22686: result: no" >&5
echo "${ECHO_T}no" >&6
d28089 1
d28094 1
d28097 1
a28097 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d28146 1
a28146 1
echo "(line 22754) testing defining path for ${cf_path_prog} ..." 1>&5
d28148 1
a28148 1
	cat >>confdefs.h <<EOF
d28150 1
a28150 1
EOF
d28152 1
a28152 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d28154 1
a28154 1
EOF
d28158 2
d28165 4
a28168 4
echo "$as_me:22771: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_ZCAT+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28175 11
a28185 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_ZCAT="$ac_dir/$ac_word"
   echo "$as_me:22788: found $ac_dir/$ac_word" >&5
   break
fi
d28187 2
a28193 1

d28195 2
a28196 2
  echo "$as_me:22799: result: $ZCAT" >&5
echo "${ECHO_T}$ZCAT" >&6
d28198 2
a28199 2
  echo "$as_me:22802: result: no" >&5
echo "${ECHO_T}no" >&6
d28202 1
d28207 1
d28210 1
a28210 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d28259 1
a28259 1
echo "(line 22870) testing defining path for ${cf_path_prog} ..." 1>&5
d28261 1
a28261 1
	cat >>confdefs.h <<EOF
d28263 1
a28263 1
EOF
d28265 1
a28265 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d28267 1
a28267 1
EOF
d28271 2
d28278 4
a28281 4
echo "$as_me:22887: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_ZIP+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28288 11
a28298 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_ZIP="$ac_dir/$ac_word"
   echo "$as_me:22904: found $ac_dir/$ac_word" >&5
   break
fi
d28300 2
a28306 1

d28308 2
a28309 2
  echo "$as_me:22915: result: $ZIP" >&5
echo "${ECHO_T}$ZIP" >&6
d28311 2
a28312 2
  echo "$as_me:22918: result: no" >&5
echo "${ECHO_T}no" >&6
d28315 1
d28320 1
d28323 1
a28323 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d28372 1
a28372 1
echo "(line 22986) testing defining path for ${cf_path_prog} ..." 1>&5
d28374 1
a28374 1
	cat >>confdefs.h <<EOF
d28376 1
a28376 1
EOF
d28378 1
a28378 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d28380 1
a28380 1
EOF
d28384 1
d28387 1
a28387 1
	cat >>confdefs.h <<EOF
d28389 1
a28389 1
EOF
d28395 1
d28401 4
a28404 4
echo "$as_me:23013: checking for $ac_word" >&5
echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
if test "${ac_cv_path_INSTALL+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28411 11
a28421 10
  ac_save_IFS=$IFS; IFS=$ac_path_separator
ac_dummy="$PATH"
for ac_dir in $ac_dummy; do
  IFS=$ac_save_IFS
  test -z "$ac_dir" && ac_dir=.
  if $as_executable_p "$ac_dir/$ac_word"; then
   ac_cv_path_INSTALL="$ac_dir/$ac_word"
   echo "$as_me:23030: found $ac_dir/$ac_word" >&5
   break
fi
d28423 2
a28429 1

d28431 2
a28432 2
  echo "$as_me:23041: result: $INSTALL" >&5
echo "${ECHO_T}$INSTALL" >&6
d28434 2
a28435 2
  echo "$as_me:23044: result: no" >&5
echo "${ECHO_T}no" >&6
d28438 1
d28443 1
d28446 1
a28446 10
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac

d28495 1
a28495 1
echo "(line 23112) testing defining path for ${cf_path_prog} ..." 1>&5
d28497 1
a28497 1
	cat >>confdefs.h <<EOF
d28499 1
a28499 1
EOF
d28501 1
a28501 1
	test -n "$cf_path_args" && cat >>confdefs.h <<EOF
d28503 1
a28503 1
EOF
d28519 2
d28522 3
a28525 2
	echo "$as_me:23138: checking for X" >&5
echo $ECHO_N "checking for X... $ECHO_C" >&6
d28527 4
a28530 3
# Check whether --with-x or --without-x was given.
if test "${with_x+set}" = set; then
  withval="$with_x"
a28531 1
fi;
d28537 4
a28540 6
  if test "x$x_includes" != xNONE && test "x$x_libraries" != xNONE; then
    # Both variables are already set.
    have_x=yes
  else
    if test "${ac_cv_have_x+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28544 1
a28544 1
rm -fr conftest.dir
d28547 13
a28559 8
  # Make sure to not put "make" in the Imakefile rules, since we grep it out.
  cat >Imakefile <<'EOF'
acfindx:
	@@echo 'ac_im_incroot="${INCROOT}"; ac_im_usrlibdir="${USRLIBDIR}"; ac_im_libdir="${LIBDIR}"'
EOF
  if (xmkmf) >/dev/null 2>/dev/null && test -f Makefile; then
    # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
    eval `${MAKE-make} acfindx 2>/dev/null | grep -v make`
d28561 4
a28564 4
    for ac_extension in a so sl; do
      if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
         test -f $ac_im_libdir/libX11.$ac_extension; then
        ac_im_usrlibdir=$ac_im_libdir; break
d28571 1
a28571 1
	/usr/include) ;;
d28575 1
a28575 1
	/usr/lib | /lib) ;;
d28580 1
a28580 1
  rm -fr conftest.dir
d28587 1
d28593 1
d28599 1
d28605 1
d28625 1
a28625 1
  # Guess where to find include files, by looking for Intrinsic.h.
d28627 3
a28629 4
  cat >conftest.$ac_ext <<_ACEOF
#line 23235 "configure"
#include "confdefs.h"
#include <X11/Intrinsic.h>
d28631 1
a28631 17
if { (eval echo "$as_me:23239: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:23245: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
a28634 2
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
d28636 1
a28636 1
  if test -r "$ac_dir/X11/Intrinsic.h"; then
d28642 1
a28642 1
rm -f conftest.err conftest.$ac_ext
d28650 4
a28653 5
  LIBS="-lXt $LIBS"
  cat >conftest.$ac_ext <<_ACEOF
#line 23278 "configure"
#include "confdefs.h"
#include <X11/Intrinsic.h>
d28657 1
a28657 1
XtMalloc (0)
d28662 1
a28662 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23290: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23293: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23296: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23299: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d28667 2
a28668 4
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
LIBS=$ac_save_LIBS
for ac_dir in `echo "$ac_x_includes $ac_x_header_dirs" | sed s/include/lib/g`
d28671 2
a28672 2
  for ac_extension in a so sl; do
    if test -r $ac_dir/libXt.$ac_extension; then
d28679 2
a28680 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d28683 10
a28692 7
if test "$ac_x_includes" = no || test "$ac_x_libraries" = no; then
  # Didn't find X anywhere.  Cache the known absence of X.
  ac_cv_have_x="have_x=no"
else
  # Record where we found X for the cache.
  ac_cv_have_x="have_x=yes \
	        ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
d28694 3
a28696 3
fi

  fi
d28701 2
a28702 2
  echo "$as_me:23337: result: $have_x" >&5
echo "${ECHO_T}$have_x" >&6
d28709 5
a28713 4
  ac_cv_have_x="have_x=yes \
		ac_x_includes=$x_includes ac_x_libraries=$x_libraries"
  echo "$as_me:23347: result: libraries $x_libraries, headers $x_includes" >&5
echo "${ECHO_T}libraries $x_libraries, headers $x_includes" >&6
d28719 1
a28719 3
cat >>confdefs.h <<\EOF
#define X_DISPLAY_MISSING 1
EOF
d28732 7
a28738 8
    case `(uname -sr) 2>/dev/null` in
    "SunOS 5"*)
      echo "$as_me:23371: checking whether -R must be followed by a space" >&5
echo $ECHO_N "checking whether -R must be followed by a space... $ECHO_C" >&6
      ac_xsave_LIBS=$LIBS; LIBS="$LIBS -R$x_libraries"
      cat >conftest.$ac_ext <<_ACEOF
#line 23375 "configure"
#include "confdefs.h"
d28748 8
a28755 28
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23387: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23390: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23393: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23396: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_R_nospace=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_R_nospace=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
      if test $ac_R_nospace = yes; then
	echo "$as_me:23406: result: no" >&5
echo "${ECHO_T}no" >&6
	X_LIBS="$X_LIBS -R$x_libraries"
      else
	LIBS="$ac_xsave_LIBS -R $x_libraries"
	cat >conftest.$ac_ext <<_ACEOF
#line 23412 "configure"
#include "confdefs.h"
d28765 3
a28767 22
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23424: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23427: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23430: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23433: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_R_space=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_R_space=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
	if test $ac_R_space = yes; then
	  echo "$as_me:23443: result: yes" >&5
echo "${ECHO_T}yes" >&6
d28769 11
a28779 7
	else
	  echo "$as_me:23447: result: neither works" >&5
echo "${ECHO_T}neither works" >&6
	fi
      fi
      LIBS=$ac_xsave_LIBS
    esac
d28793 2
a28794 3
    cat >conftest.$ac_ext <<_ACEOF
#line 23467 "configure"
#include "confdefs.h"
d28796 3
a28798 1
/* Override any gcc2 internal prototype to avoid an error.  */
a28801 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d28806 1
a28806 1
XOpenDisplay ();
d28811 2
a28812 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23486: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23489: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23492: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23495: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d28814 4
a28817 6
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
echo "$as_me:23501: checking for dnet_ntoa in -ldnet" >&5
echo $ECHO_N "checking for dnet_ntoa in -ldnet... $ECHO_C" >&6
if test "${ac_cv_lib_dnet_dnet_ntoa+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28821 2
a28822 3
cat >conftest.$ac_ext <<_ACEOF
#line 23509 "configure"
#include "confdefs.h"
d28824 3
a28826 1
/* Override any gcc2 internal prototype to avoid an error.  */
a28829 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d28834 1
a28834 1
dnet_ntoa ();
d28839 1
a28839 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23528: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23531: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23534: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23537: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d28842 1
a28842 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dnet_dnet_ntoa=no
d28844 2
a28845 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d28848 3
a28850 3
echo "$as_me:23548: result: $ac_cv_lib_dnet_dnet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_dnet_dnet_ntoa" >&6
if test $ac_cv_lib_dnet_dnet_ntoa = yes; then
d28855 4
a28858 4
      echo "$as_me:23555: checking for dnet_ntoa in -ldnet_stub" >&5
echo $ECHO_N "checking for dnet_ntoa in -ldnet_stub... $ECHO_C" >&6
if test "${ac_cv_lib_dnet_stub_dnet_ntoa+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28862 2
a28863 3
cat >conftest.$ac_ext <<_ACEOF
#line 23563 "configure"
#include "confdefs.h"
d28865 3
a28867 1
/* Override any gcc2 internal prototype to avoid an error.  */
a28870 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d28875 1
a28875 1
dnet_ntoa ();
d28880 1
a28880 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23582: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23585: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23588: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23591: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d28883 1
a28883 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_dnet_stub_dnet_ntoa=no
d28885 2
a28886 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d28889 3
a28891 3
echo "$as_me:23602: result: $ac_cv_lib_dnet_stub_dnet_ntoa" >&5
echo "${ECHO_T}$ac_cv_lib_dnet_stub_dnet_ntoa" >&6
if test $ac_cv_lib_dnet_stub_dnet_ntoa = yes; then
d28897 2
a28898 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d28909 2
a28910 19
    echo "$as_me:23621: checking for gethostbyname" >&5
echo $ECHO_N "checking for gethostbyname... $ECHO_C" >&6
if test "${ac_cv_func_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 23627 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostbyname (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char gethostbyname ();
char (*f) ();
a28911 33
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostbyname) || defined (__stub___gethostbyname)
choke me
#else
f = gethostbyname;
#endif

  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23658: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23661: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23664: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23667: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_gethostbyname=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_gethostbyname=no
a28912 4
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:23677: result: $ac_cv_func_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_func_gethostbyname" >&6
d28915 4
a28918 4
      echo "$as_me:23681: checking for gethostbyname in -lnsl" >&5
echo $ECHO_N "checking for gethostbyname in -lnsl... $ECHO_C" >&6
if test "${ac_cv_lib_nsl_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28922 2
a28923 3
cat >conftest.$ac_ext <<_ACEOF
#line 23689 "configure"
#include "confdefs.h"
d28925 3
a28927 1
/* Override any gcc2 internal prototype to avoid an error.  */
a28930 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d28935 1
a28935 1
gethostbyname ();
d28940 1
a28940 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23708: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23711: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23714: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23717: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d28943 1
a28943 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_nsl_gethostbyname=no
d28945 2
a28946 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d28949 3
a28951 3
echo "$as_me:23728: result: $ac_cv_lib_nsl_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_nsl_gethostbyname" >&6
if test $ac_cv_lib_nsl_gethostbyname = yes; then
d28956 4
a28959 4
        echo "$as_me:23735: checking for gethostbyname in -lbsd" >&5
echo $ECHO_N "checking for gethostbyname in -lbsd... $ECHO_C" >&6
if test "${ac_cv_lib_bsd_gethostbyname+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d28963 2
a28964 3
cat >conftest.$ac_ext <<_ACEOF
#line 23743 "configure"
#include "confdefs.h"
d28966 3
a28968 1
/* Override any gcc2 internal prototype to avoid an error.  */
a28971 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d28976 1
a28976 1
gethostbyname ();
d28981 1
a28981 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23762: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23765: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23768: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23771: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d28984 1
a28984 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_bsd_gethostbyname=no
d28986 2
a28987 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d28990 3
a28992 3
echo "$as_me:23782: result: $ac_cv_lib_bsd_gethostbyname" >&5
echo "${ECHO_T}$ac_cv_lib_bsd_gethostbyname" >&6
if test $ac_cv_lib_bsd_gethostbyname = yes; then
d29003 1
a29003 1
    # variants that don't use the nameserver (or something).  -lsocket
d29006 2
a29007 31
    echo "$as_me:23798: checking for connect" >&5
echo $ECHO_N "checking for connect... $ECHO_C" >&6
if test "${ac_cv_func_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 23804 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char connect (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char connect ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_connect) || defined (__stub___connect)
choke me
#else
f = connect;
#endif
a29008 23
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23835: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23838: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23841: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23844: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_connect=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_connect=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a29009 2
echo "$as_me:23854: result: $ac_cv_func_connect" >&5
echo "${ECHO_T}$ac_cv_func_connect" >&6
d29012 4
a29015 4
      echo "$as_me:23858: checking for connect in -lsocket" >&5
echo $ECHO_N "checking for connect in -lsocket... $ECHO_C" >&6
if test "${ac_cv_lib_socket_connect+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29019 2
a29020 3
cat >conftest.$ac_ext <<_ACEOF
#line 23866 "configure"
#include "confdefs.h"
d29022 3
a29024 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29027 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29032 1
a29032 1
connect ();
d29037 1
a29037 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23885: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23888: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23891: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23894: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29040 1
a29040 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_socket_connect=no
d29042 2
a29043 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29046 3
a29048 3
echo "$as_me:23905: result: $ac_cv_lib_socket_connect" >&5
echo "${ECHO_T}$ac_cv_lib_socket_connect" >&6
if test $ac_cv_lib_socket_connect = yes; then
d29055 2
a29056 31
    echo "$as_me:23914: checking for remove" >&5
echo $ECHO_N "checking for remove... $ECHO_C" >&6
if test "${ac_cv_func_remove+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 23920 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char remove (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char remove ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_remove) || defined (__stub___remove)
choke me
#else
f = remove;
#endif
a29057 23
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:23951: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:23954: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:23957: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:23960: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_remove=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_remove=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a29058 2
echo "$as_me:23970: result: $ac_cv_func_remove" >&5
echo "${ECHO_T}$ac_cv_func_remove" >&6
d29061 4
a29064 4
      echo "$as_me:23974: checking for remove in -lposix" >&5
echo $ECHO_N "checking for remove in -lposix... $ECHO_C" >&6
if test "${ac_cv_lib_posix_remove+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29068 2
a29069 3
cat >conftest.$ac_ext <<_ACEOF
#line 23982 "configure"
#include "confdefs.h"
d29071 3
a29073 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29076 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29081 1
a29081 1
remove ();
d29086 1
a29086 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24001: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24004: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24007: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24010: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29089 1
a29089 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_posix_remove=no
d29091 2
a29092 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29095 3
a29097 3
echo "$as_me:24021: result: $ac_cv_lib_posix_remove" >&5
echo "${ECHO_T}$ac_cv_lib_posix_remove" >&6
if test $ac_cv_lib_posix_remove = yes; then
d29104 2
a29105 31
    echo "$as_me:24030: checking for shmat" >&5
echo $ECHO_N "checking for shmat... $ECHO_C" >&6
if test "${ac_cv_func_shmat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 24036 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char shmat (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char shmat ();
char (*f) ();

int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_shmat) || defined (__stub___shmat)
choke me
#else
f = shmat;
#endif
a29106 23
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24067: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24070: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24073: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24076: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_shmat=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_shmat=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a29107 2
echo "$as_me:24086: result: $ac_cv_func_shmat" >&5
echo "${ECHO_T}$ac_cv_func_shmat" >&6
d29110 4
a29113 4
      echo "$as_me:24090: checking for shmat in -lipc" >&5
echo $ECHO_N "checking for shmat in -lipc... $ECHO_C" >&6
if test "${ac_cv_lib_ipc_shmat+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29117 2
a29118 3
cat >conftest.$ac_ext <<_ACEOF
#line 24098 "configure"
#include "confdefs.h"
d29120 3
a29122 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29125 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29130 1
a29130 1
shmat ();
d29135 1
a29135 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24117: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24120: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24123: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24126: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29138 1
a29138 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_ipc_shmat=no
d29140 2
a29141 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29144 3
a29146 3
echo "$as_me:24137: result: $ac_cv_lib_ipc_shmat" >&5
echo "${ECHO_T}$ac_cv_lib_ipc_shmat" >&6
if test $ac_cv_lib_ipc_shmat = yes; then
d29162 4
a29165 4
  echo "$as_me:24155: checking for IceConnectionNumber in -lICE" >&5
echo $ECHO_N "checking for IceConnectionNumber in -lICE... $ECHO_C" >&6
if test "${ac_cv_lib_ICE_IceConnectionNumber+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29169 2
a29170 3
cat >conftest.$ac_ext <<_ACEOF
#line 24163 "configure"
#include "confdefs.h"
d29172 3
a29174 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29177 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29182 1
a29182 1
IceConnectionNumber ();
d29187 1
a29187 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24182: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24185: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24188: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24191: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29190 1
a29190 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_ICE_IceConnectionNumber=no
d29192 2
a29193 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29196 3
a29198 3
echo "$as_me:24202: result: $ac_cv_lib_ICE_IceConnectionNumber" >&5
echo "${ECHO_T}$ac_cv_lib_ICE_IceConnectionNumber" >&6
if test $ac_cv_lib_ICE_IceConnectionNumber = yes; then
d29206 4
d29218 3
d29280 3
d29289 4
a29292 1
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
d29298 3
d29304 3
d29308 2
a29309 3
cat >conftest.$ac_ext <<_ACEOF
#line 24296 "configure"
#include "confdefs.h"
d29319 2
a29320 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24308: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24311: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24314: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24317: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d29322 4
a29325 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d29330 3
d29336 2
a29337 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
a29339 19
echo "$as_me:24334: checking for XOpenDisplay" >&5
echo $ECHO_N "checking for XOpenDisplay... $ECHO_C" >&6
if test "${ac_cv_func_XOpenDisplay+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 24340 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char XOpenDisplay (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XOpenDisplay ();
char (*f) ();
d29341 2
a29342 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_XOpenDisplay) || defined (__stub___XOpenDisplay)
choke me
#else
f = XOpenDisplay;
#endif
a29343 28
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24371: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24374: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24377: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24380: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_XOpenDisplay=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_XOpenDisplay=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:24390: result: $ac_cv_func_XOpenDisplay" >&5
echo "${ECHO_T}$ac_cv_func_XOpenDisplay" >&6
if test $ac_cv_func_XOpenDisplay = yes; then
  :
d29346 4
a29349 4
echo "$as_me:24396: checking for XOpenDisplay in -lX11" >&5
echo $ECHO_N "checking for XOpenDisplay in -lX11... $ECHO_C" >&6
if test "${ac_cv_lib_X11_XOpenDisplay+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29353 2
a29354 3
cat >conftest.$ac_ext <<_ACEOF
#line 24404 "configure"
#include "confdefs.h"
d29356 3
a29358 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29361 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29366 1
a29366 1
XOpenDisplay ();
d29371 1
a29371 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24423: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24426: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24429: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24432: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29374 1
a29374 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_X11_XOpenDisplay=no
d29376 2
a29377 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29380 3
a29382 3
echo "$as_me:24443: result: $ac_cv_lib_X11_XOpenDisplay" >&5
echo "${ECHO_T}$ac_cv_lib_X11_XOpenDisplay" >&6
if test $ac_cv_lib_X11_XOpenDisplay = yes; then
a29387 19
echo "$as_me:24451: checking for XtAppInitialize" >&5
echo $ECHO_N "checking for XtAppInitialize... $ECHO_C" >&6
if test "${ac_cv_func_XtAppInitialize+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 24457 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char XtAppInitialize (); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
#ifdef __cplusplus
extern "C"
#endif
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
char XtAppInitialize ();
char (*f) ();
d29389 2
a29390 11
int
main ()
{
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_XtAppInitialize) || defined (__stub___XtAppInitialize)
choke me
#else
f = XtAppInitialize;
#endif
a29391 28
  ;
  return 0;
}
_ACEOF
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24488: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24491: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24494: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24497: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  ac_cv_func_XtAppInitialize=yes
else
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_func_XtAppInitialize=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
fi
echo "$as_me:24507: result: $ac_cv_func_XtAppInitialize" >&5
echo "${ECHO_T}$ac_cv_func_XtAppInitialize" >&6
if test $ac_cv_func_XtAppInitialize = yes; then
  :
d29394 4
a29397 4
echo "$as_me:24513: checking for XtAppInitialize in -lXt" >&5
echo $ECHO_N "checking for XtAppInitialize in -lXt... $ECHO_C" >&6
if test "${ac_cv_lib_Xt_XtAppInitialize+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29401 2
a29402 3
cat >conftest.$ac_ext <<_ACEOF
#line 24521 "configure"
#include "confdefs.h"
d29404 3
a29406 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29409 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29414 1
a29414 1
XtAppInitialize ();
d29419 1
a29419 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24540: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24543: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24546: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24549: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29422 1
a29422 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_Xt_XtAppInitialize=no
d29424 2
a29425 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29428 4
a29431 6
echo "$as_me:24560: result: $ac_cv_lib_Xt_XtAppInitialize" >&5
echo "${ECHO_T}$ac_cv_lib_Xt_XtAppInitialize" >&6
if test $ac_cv_lib_Xt_XtAppInitialize = yes; then
  cat >>confdefs.h <<\EOF
#define HAVE_LIBXT 1
EOF
d29434 1
a29434 1
	 LIBS="-lXt $X_PRE_LIBS $LIBS"
d29439 1
d29441 1
a29441 1
	{ echo "$as_me:24574: WARNING: Unable to successfully link X Toolkit library (-lXt) with
d29444 1
a29444 1
echo "$as_me: WARNING: Unable to successfully link X Toolkit library (-lXt) with
d29449 1
d29452 2
a29453 2
echo "$as_me:24584: checking if you want to link with Xaw 3d library" >&5
echo $ECHO_N "checking if you want to link with Xaw 3d library... $ECHO_C" >&6
d29456 4
a29459 3
# Check whether --with-Xaw3d or --without-Xaw3d was given.
if test "${with_Xaw3d+set}" = set; then
  withval="$with_Xaw3d"
a29460 1
fi;
d29463 2
a29464 2
	echo "$as_me:24595: result: yes" >&5
echo "${ECHO_T}yes" >&6
d29466 2
a29467 2
	echo "$as_me:24598: result: no" >&5
echo "${ECHO_T}no" >&6
d29470 2
a29471 2
echo "$as_me:24602: checking if you want to link with neXT Athena library" >&5
echo $ECHO_N "checking if you want to link with neXT Athena library... $ECHO_C" >&6
d29474 4
a29477 3
# Check whether --with-neXtaw or --without-neXtaw was given.
if test "${with_neXtaw+set}" = set; then
  withval="$with_neXtaw"
a29478 1
fi;
d29481 2
a29482 2
	echo "$as_me:24613: result: yes" >&5
echo "${ECHO_T}yes" >&6
d29484 2
a29485 2
	echo "$as_me:24616: result: no" >&5
echo "${ECHO_T}no" >&6
d29488 2
a29489 2
echo "$as_me:24620: checking if you want to link with Athena-Plus library" >&5
echo $ECHO_N "checking if you want to link with Athena-Plus library... $ECHO_C" >&6
d29492 4
a29495 3
# Check whether --with-XawPlus or --without-XawPlus was given.
if test "${with_XawPlus+set}" = set; then
  withval="$with_XawPlus"
a29496 1
fi;
d29499 2
a29500 2
	echo "$as_me:24631: result: yes" >&5
echo "${ECHO_T}yes" >&6
d29502 2
a29503 2
	echo "$as_me:24634: result: no" >&5
echo "${ECHO_T}no" >&6
d29506 4
a29509 4
echo "$as_me:24638: checking for XextCreateExtension in -lXext" >&5
echo $ECHO_N "checking for XextCreateExtension in -lXext... $ECHO_C" >&6
if test "${ac_cv_lib_Xext_XextCreateExtension+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29513 2
a29514 3
cat >conftest.$ac_ext <<_ACEOF
#line 24646 "configure"
#include "confdefs.h"
d29516 3
a29518 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29521 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29526 1
a29526 1
XextCreateExtension ();
d29531 1
a29531 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24665: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24668: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24671: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24674: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29534 1
a29534 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_Xext_XextCreateExtension=no
d29536 2
a29537 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29540 3
a29542 3
echo "$as_me:24685: result: $ac_cv_lib_Xext_XextCreateExtension" >&5
echo "${ECHO_T}$ac_cv_lib_Xext_XextCreateExtension" >&6
if test $ac_cv_lib_Xext_XextCreateExtension = yes; then
d29546 1
d29549 1
d29563 3
a29565 3
			CPPFLAGS="-I$cf_path/include $cf_save"
			echo "$as_me:24707: checking for $cf_test in $cf_path" >&5
echo $ECHO_N "checking for $cf_test in $cf_path... $ECHO_C" >&6
d29567 2
a29568 2
			echo "$as_me:24710: checking for $cf_test" >&5
echo $ECHO_N "checking for $cf_test... $ECHO_C" >&6
d29570 2
a29571 3
		cat >conftest.$ac_ext <<_ACEOF
#line 24714 "configure"
#include "confdefs.h"
d29583 1
a29583 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:24728: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:24731: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:24734: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24737: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29586 5
a29590 7
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest.$ac_ext
		echo "$as_me:24746: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
d29601 2
a29602 2
	{ echo "$as_me:24758: WARNING: Unable to successfully find Athena header files with test program" >&5
echo "$as_me: WARNING: Unable to successfully find Athena header files with test program" >&2;}
d29607 1
d29627 2
a29628 2
				echo "$as_me:24783: checking for $cf_lib in $cf_path" >&5
echo $ECHO_N "checking for $cf_lib in $cf_path... $ECHO_C" >&6
d29631 2
a29632 2
				echo "$as_me:24787: checking for $cf_test in $cf_lib" >&5
echo $ECHO_N "checking for $cf_test in $cf_lib... $ECHO_C" >&6
d29634 2
a29635 5
			cf_SAVE="$LIBS"
			LIBS="$X_PRE_LIBS $LIBS $X_EXTRA_LIBS"
			cat >conftest.$ac_ext <<_ACEOF
#line 24793 "configure"
#include "confdefs.h"
d29645 1
a29645 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24805: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24808: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24811: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24814: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29648 6
a29653 7
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
fi
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
			echo "$as_me:24823: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
d29655 67
a29721 8
				cf_x_athena_lib="$cf_lib"
				LIBS="$cf_SAVE"
				break
			else
				LIBS="$cf_save"
			fi
		fi
	done
d29723 4
d29728 2
a29729 5
if test -z "$cf_x_athena_lib" ; then
	{ { echo "$as_me:24837: error: Unable to successfully link Athena library (-l$cf_x_athena_root) with test program" >&5
echo "$as_me: error: Unable to successfully link Athena library (-l$cf_x_athena_root) with test program" >&2;}
   { (exit 1); exit 1; }; }
fi
d29731 1
a29731 1
cf_x_athena_LIBS=`echo "HAVE_LIB_$cf_x_athena" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d29733 1
a29733 3
cat >>confdefs.h <<EOF
#define $cf_x_athena_LIBS 1
EOF
d29739 3
d29801 3
d29810 4
a29813 1
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
d29819 3
d29825 3
d29829 2
a29830 3
cat >conftest.$ac_ext <<_ACEOF
#line 24928 "configure"
#include "confdefs.h"
d29840 2
a29841 13
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24940: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24943: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24946: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:24949: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  :
d29843 4
a29846 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d29851 3
d29857 2
a29858 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29861 4
a29864 4
echo "$as_me:24966: checking for XOpenDisplay in -lX11" >&5
echo $ECHO_N "checking for XOpenDisplay in -lX11... $ECHO_C" >&6
if test "${ac_cv_lib_X11_XOpenDisplay+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29868 2
a29869 3
cat >conftest.$ac_ext <<_ACEOF
#line 24974 "configure"
#include "confdefs.h"
d29871 3
a29873 1
/* Override any gcc2 internal prototype to avoid an error.  */
a29876 2
/* We use char because int might match the return type of a gcc2
   builtin and then its argument prototype would still apply.  */
d29881 1
a29881 1
XOpenDisplay ();
d29886 1
a29886 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:24993: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:24996: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:24999: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25002: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29889 1
a29889 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
ac_cv_lib_X11_XOpenDisplay=no
d29891 2
a29892 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29895 3
a29897 3
echo "$as_me:25013: result: $ac_cv_lib_X11_XOpenDisplay" >&5
echo "${ECHO_T}$ac_cv_lib_X11_XOpenDisplay" >&6
if test $ac_cv_lib_X11_XOpenDisplay = yes; then
d29901 4
a29904 4
echo "$as_me:25019: checking for XCurses library" >&5
echo $ECHO_N "checking for XCurses library... $ECHO_C" >&6
if test "${cf_cv_lib_XCurses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29908 2
a29909 3
cat >conftest.$ac_ext <<_ACEOF
#line 25027 "configure"
#include "confdefs.h"
d29922 1
a29922 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25042: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25045: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25048: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25051: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29925 5
a29929 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_lib_XCurses=no
d29931 2
a29932 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d29935 1
a29935 2
echo "$as_me:25062: result: $cf_cv_lib_XCurses" >&5
echo "${ECHO_T}$cf_cv_lib_XCurses" >&6
d29937 1
a29937 3
	cat >>confdefs.h <<\EOF
#define UNIX 1
EOF
d29939 1
a29939 3
	cat >>confdefs.h <<\EOF
#define XCURSES 1
EOF
d29941 1
a29941 3
	cat >>confdefs.h <<\EOF
#define HAVE_XCURSES 1
EOF
d29944 1
a29944 3
	{ { echo "$as_me:25078: error: Cannot link with XCurses" >&5
echo "$as_me: error: Cannot link with XCurses" >&2;}
   { (exit 1); exit 1; }; }
d29949 4
a29952 4
echo "$as_me:25085: checking if we can include termio.h with curses" >&5
echo $ECHO_N "checking if we can include termio.h with curses... $ECHO_C" >&6
if test "${cf_cv_termio_and_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d29958 2
a29959 3
    cat >conftest.$ac_ext <<_ACEOF
#line 25095 "configure"
#include "confdefs.h"
d29971 1
a29971 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25109: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25112: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25115: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25118: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d29974 1
a29974 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_termio_and_curses=no
d29976 1
a29976 1
rm -f conftest.$ac_objext conftest.$ac_ext
d29981 4
a29984 2
echo "$as_me:25131: result: $cf_cv_termio_and_curses" >&5
echo "${ECHO_T}$cf_cv_termio_and_curses" >&6
a29985 3
test $cf_cv_termio_and_curses = yes && cat >>confdefs.h <<\EOF
#define TERMIO_AND_CURSES 1
EOF
d29991 8
a29999 28
for ac_header in $cf_cv_screen/term.h term.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:25146: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 25152 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:25156: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:25162: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
a30000 15
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:25181: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a30001 1
fi
d30004 5
a30008 4
echo "$as_me:25191: checking if curses supports alternate-character set" >&5
echo $ECHO_N "checking if curses supports alternate-character set... $ECHO_C" >&6
if test "${cf_cv_alt_char_set+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30013 2
a30014 3
	cat >conftest.$ac_ext <<_ACEOF
#line 25200 "configure"
#include "confdefs.h"
d30026 1
a30026 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25214: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25217: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25220: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25223: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30030 1
a30030 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_alt_char_set=no
d30032 2
a30033 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30038 3
a30040 3
echo "$as_me:25237: result: $cf_cv_alt_char_set" >&5
echo "${ECHO_T}$cf_cv_alt_char_set" >&6
test $cf_cv_alt_char_set != no && cat >>confdefs.h <<EOF
d30042 3
a30044 1
EOF
d30046 4
a30049 4
echo "$as_me:25243: checking if curses supports fancy attributes" >&5
echo $ECHO_N "checking if curses supports fancy attributes... $ECHO_C" >&6
if test "${cf_cv_fancy_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30052 2
a30053 3
	cat >conftest.$ac_ext <<_ACEOF
#line 25250 "configure"
#include "confdefs.h"
d30069 1
a30069 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25268: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25271: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25274: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25277: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30072 1
a30072 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_fancy_curses=no
d30074 2
a30075 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30079 5
a30083 5
echo "$as_me:25289: result: $cf_cv_fancy_curses" >&5
echo "${ECHO_T}$cf_cv_fancy_curses" >&6
test $cf_cv_fancy_curses = yes && cat >>confdefs.h <<\EOF
#define FANCY_CURSES 1
EOF
d30085 4
a30088 4
echo "$as_me:25295: checking for function curses_version" >&5
echo $ECHO_N "checking for function curses_version... $ECHO_C" >&6
if test "${cf_cv_func_curses_version+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30091 1
a30091 1
if test "$cross_compiling" = yes; then
d30094 2
a30095 3
  cat >conftest.$ac_ext <<_ACEOF
#line 25305 "configure"
#include "confdefs.h"
d30102 1
a30102 1
	exit(0);
d30106 1
a30106 11
rm -f conftest$ac_exeext
if { (eval echo "$as_me:25318: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25321: \$? = $ac_status" >&5
  (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
  { (eval echo "$as_me:25323: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25326: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30110 1
a30110 4
  echo "$as_me: program exited with status $ac_status" >&5
echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_func_curses_version=no
d30113 2
a30114 1
rm -f core core.* *.core conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
d30116 1
d30119 6
a30124 5
echo "$as_me:25341: result: $cf_cv_func_curses_version" >&5
echo "${ECHO_T}$cf_cv_func_curses_version" >&6
test "$cf_cv_func_curses_version" = yes && cat >>confdefs.h <<\EOF
#define HAVE_CURSES_VERSION 1
EOF
d30127 4
a30130 4
echo "$as_me:25348: checking for obsolete/broken version of ncurses" >&5
echo $ECHO_N "checking for obsolete/broken version of ncurses... $ECHO_C" >&6
if test "${cf_cv_ncurses_broken+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30133 2
a30134 3
cat >conftest.$ac_ext <<_ACEOF
#line 25355 "configure"
#include "confdefs.h"
d30151 1
a30151 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25374: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25377: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25380: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25383: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30154 1
a30154 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_ncurses_broken=yes
d30156 1
a30156 1
rm -f conftest.$ac_objext conftest.$ac_ext
d30160 2
a30161 2
echo "$as_me:25395: result: $cf_cv_ncurses_broken" >&5
echo "${ECHO_T}$cf_cv_ncurses_broken" >&6
d30163 3
a30165 5
	{ echo "$as_me:25398: WARNING: hmm... you should get an up-to-date version of ncurses" >&5
echo "$as_me: WARNING: hmm... you should get an up-to-date version of ncurses" >&2;}
	cat >>confdefs.h <<\EOF
#define NCURSES_BROKEN 1
EOF
d30170 5
a30174 4
echo "$as_me:25407: checking if curses supports color attributes" >&5
echo $ECHO_N "checking if curses supports color attributes... $ECHO_C" >&6
if test "${cf_cv_color_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30177 2
a30178 3
	cat >conftest.$ac_ext <<_ACEOF
#line 25414 "configure"
#include "confdefs.h"
d30196 1
a30196 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25434: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25437: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25440: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25443: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30199 1
a30199 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_color_curses=no
d30201 2
a30202 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30206 2
a30207 2
echo "$as_me:25455: result: $cf_cv_color_curses" >&5
echo "${ECHO_T}$cf_cv_color_curses" >&6
d30209 1
a30209 3
	cat >>confdefs.h <<\EOF
#define COLOR_CURSES 1
EOF
d30211 1
a30211 3
	test ".$cf_cv_ncurses_broken" != .yes && cat >>confdefs.h <<\EOF
#define HAVE_GETBKGD 1
EOF
d30215 1
d30221 6
a30226 11
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:25475: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 25481 "configure"
#include "confdefs.h"
#include <$ac_header>
d30228 1
a30228 22
if { (eval echo "$as_me:25485: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:25491: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
a30229 8
rm -f conftest.err conftest.$ac_ext
fi
echo "$as_me:25510: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a30230 1
fi
d30234 8
a30242 37
for ac_header in sys/termio.h
do
as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
echo "$as_me:25525: checking for $ac_header" >&5
echo $ECHO_N "checking for $ac_header... $ECHO_C" >&6
if eval "test \"\${$as_ac_Header+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#line 25531 "configure"
#include "confdefs.h"
#include <$ac_header>
_ACEOF
if { (eval echo "$as_me:25535: \"$ac_cpp conftest.$ac_ext\"") >&5
  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
  ac_status=$?
  egrep -v '^ *\+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:25541: \$? = $ac_status" >&5
  (exit $ac_status); } >/dev/null; then
  if test -s conftest.err; then
    ac_cpp_err=$ac_c_preproc_warn_flag
  else
    ac_cpp_err=
  fi
else
  ac_cpp_err=yes
fi
if test -z "$ac_cpp_err"; then
  eval "$as_ac_Header=yes"
else
  echo "$as_me: failed program was:" >&5
  cat conftest.$ac_ext >&5
  eval "$as_ac_Header=no"
fi
rm -f conftest.err conftest.$ac_ext
a30243 6
echo "$as_me:25560: result: `eval echo '${'$as_ac_Header'}'`" >&5
echo "${ECHO_T}`eval echo '${'$as_ac_Header'}'`" >&6
if test `eval echo '${'$as_ac_Header'}'` = yes; then
  cat >>confdefs.h <<EOF
#define `echo "HAVE_$ac_header" | $as_tr_cpp` 1
EOF
a30244 1
fi
d30255 4
a30258 5
	echo "$as_me:25578: checking whether termios.h needs _POSIX_SOURCE" >&5
echo $ECHO_N "checking whether termios.h needs _POSIX_SOURCE... $ECHO_C" >&6
	cat >conftest.$ac_ext <<_ACEOF
#line 25581 "configure"
#include "confdefs.h"
d30268 1
a30268 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25593: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25596: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25599: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25602: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
a30270 2
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
d30272 2
a30273 3
		cat >conftest.$ac_ext <<_ACEOF
#line 25610 "configure"
#include "confdefs.h"
d30285 1
a30285 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25624: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25627: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25630: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25633: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30288 1
a30288 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
termios_bad=yes cat >>confdefs.h <<\EOF
#define SVR4_TERMIO 1
EOF
d30291 1
a30291 1
rm -f conftest.$ac_objext conftest.$ac_ext
d30294 3
a30296 3
rm -f conftest.$ac_objext conftest.$ac_ext
	echo "$as_me:25648: result: $termios_bad" >&5
echo "${ECHO_T}$termios_bad" >&6
d30300 6
a30305 4
echo "$as_me:25653: checking declaration of size-change" >&5
echo $ECHO_N "checking declaration of size-change... $ECHO_C" >&6
if test "${cf_cv_sizechange+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30316 2
a30317 3
    cat >conftest.$ac_ext <<_ACEOF
#line 25668 "configure"
#include "confdefs.h"
d30359 1
a30359 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25712: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25715: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25718: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25721: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30362 1
a30362 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_sizechange=no
d30364 1
a30364 1
rm -f conftest.$ac_objext conftest.$ac_ext
d30375 2
a30376 2
echo "$as_me:25740: result: $cf_cv_sizechange" >&5
echo "${ECHO_T}$cf_cv_sizechange" >&6
d30378 1
a30378 3
	cat >>confdefs.h <<\EOF
#define HAVE_SIZECHANGE 1
EOF
d30382 1
a30382 1
		cat >>confdefs.h <<EOF
d30384 1
a30384 1
EOF
d30390 5
a30394 4
echo "$as_me:25757: checking if ttytype is declared in curses library" >&5
echo $ECHO_N "checking if ttytype is declared in curses library... $ECHO_C" >&6
if test "${cf_cv_have_ttytype+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30397 2
a30398 3
	cat >conftest.$ac_ext <<_ACEOF
#line 25764 "configure"
#include "confdefs.h"
d30408 1
a30408 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25776: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25779: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25782: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25785: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30411 1
a30411 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_have_ttytype=no
d30413 2
a30414 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30418 4
a30421 5
echo "$as_me:25797: result: $cf_cv_have_ttytype" >&5
echo "${ECHO_T}$cf_cv_have_ttytype" >&6
test $cf_cv_have_ttytype = yes && cat >>confdefs.h <<\EOF
#define HAVE_TTYTYPE 1
EOF
d30425 4
a30428 4
echo "$as_me:25805: checking if curses supports wide characters" >&5
echo $ECHO_N "checking if curses supports wide characters... $ECHO_C" >&6
if test "${cf_cv_widec_curses+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30431 2
a30432 3
cat >conftest.$ac_ext <<_ACEOF
#line 25812 "configure"
#include "confdefs.h"
d30449 1
a30449 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25831: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25834: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25837: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25840: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30452 1
a30452 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_widec_curses=no
d30454 2
a30455 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30458 2
a30459 2
echo "$as_me:25851: result: $cf_cv_widec_curses" >&5
echo "${ECHO_T}$cf_cv_widec_curses" >&6
d30462 2
a30463 3
	cat >>confdefs.h <<\EOF
#define WIDEC_CURSES 1
EOF
d30466 4
a30469 4
	echo "$as_me:25860: checking if we must include wchar.h to declare mbstate_t" >&5
echo $ECHO_N "checking if we must include wchar.h to declare mbstate_t... $ECHO_C" >&6
if test "${cf_cv_widec_mbstate+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30472 2
a30473 3
	cat >conftest.$ac_ext <<_ACEOF
#line 25867 "configure"
#include "confdefs.h"
d30485 1
a30485 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25881: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25884: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25887: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25890: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30488 2
a30489 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 25897 "configure"
#include "confdefs.h"
d30502 1
a30502 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:25912: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:25915: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:25918: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25921: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30505 1
a30505 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_widec_mbstate=unknown
d30507 1
a30507 1
rm -f conftest.$ac_objext conftest.$ac_ext
d30509 1
a30509 1
rm -f conftest.$ac_objext conftest.$ac_ext
d30511 2
a30512 2
echo "$as_me:25933: result: $cf_cv_widec_mbstate" >&5
echo "${ECHO_T}$cf_cv_widec_mbstate" >&6
d30515 1
a30515 3
	cat >>confdefs.h <<\EOF
#define NEED_WCHAR_H 1
EOF
d30520 1
a30520 3
	cat >>confdefs.h <<\EOF
#define HAVE_MBSTATE_T 1
EOF
d30528 4
a30531 4
echo "$as_me:25954: checking if we must define _XOPEN_SOURCE_EXTENDED" >&5
echo $ECHO_N "checking if we must define _XOPEN_SOURCE_EXTENDED... $ECHO_C" >&6
if test "${cf_cv_need_xopen_extension+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30534 2
a30535 3
cat >conftest.$ac_ext <<_ACEOF
#line 25961 "configure"
#include "confdefs.h"
d30550 1
a30550 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:25978: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:25981: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:25984: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:25987: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30553 2
a30554 5
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cat >conftest.$ac_ext <<_ACEOF
#line 25994 "configure"
#include "confdefs.h"
d30570 1
a30570 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:26012: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26015: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:26018: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26021: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30573 1
a30573 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_need_xopen_extension=unknown
d30575 2
a30576 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30578 2
a30579 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30581 2
a30582 2
echo "$as_me:26033: result: $cf_cv_need_xopen_extension" >&5
echo "${ECHO_T}$cf_cv_need_xopen_extension" >&6
d30585 5
a30589 4
echo "$as_me:26037: checking for term.h" >&5
echo $ECHO_N "checking for term.h... $ECHO_C" >&6
if test "${cf_cv_term_header+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30592 1
d30599 2
a30600 3
	cat >conftest.$ac_ext <<_ACEOF
#line 26050 "configure"
#include "confdefs.h"
d30612 1
a30612 12
rm -f conftest.$ac_objext
if { (eval echo "$as_me:26064: \"$ac_compile\"") >&5
  (eval $ac_compile) 2>&5
  ac_status=$?
  echo "$as_me:26067: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest.$ac_objext'
  { (eval echo "$as_me:26070: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26073: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30616 1
a30616 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_cv_term_header=no
d30618 1
a30618 1
rm -f conftest.$ac_objext conftest.$ac_ext
d30622 2
a30623 2
echo "$as_me:26086: result: $cf_cv_term_header" >&5
echo "${ECHO_T}$cf_cv_term_header" >&6
d30627 1
a30627 3
	cat >>confdefs.h <<\EOF
#define HAVE_TERM_H 1
EOF
d30631 1
a30631 3
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSES_TERM_H 1
EOF
d30635 1
a30635 3
	cat >>confdefs.h <<\EOF
#define HAVE_NCURSESW_TERM_H 1
EOF
d30640 3
d30670 2
a30671 2
	echo "$as_me:26137: checking for ${cf_func}" >&5
echo $ECHO_N "checking for ${cf_func}... $ECHO_C" >&6
d30673 1
a30673 1
echo "(line 26140) testing ${cf_func} ..." 1>&5
d30675 2
a30676 2
	if eval "test \"\${cf_cv_func_$cf_func+set}\" = set"; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
d30681 2
a30682 3
			cat >conftest.$ac_ext <<_ACEOF
#line 26149 "configure"
#include "confdefs.h"
d30707 1
a30707 1
exit(foo == 0);
d30714 1
a30714 12
rm -f conftest.$ac_objext conftest$ac_exeext
if { (eval echo "$as_me:26183: \"$ac_link\"") >&5
  (eval $ac_link) 2>&5
  ac_status=$?
  echo "$as_me:26186: \$? = $ac_status" >&5
  (exit $ac_status); } &&
         { ac_try='test -s conftest$ac_exeext'
  { (eval echo "$as_me:26189: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:26192: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
d30717 1
a30717 3
  echo "$as_me: failed program was:" >&5
cat conftest.$ac_ext >&5
cf_result=no
d30719 2
a30720 1
rm -f conftest.$ac_objext conftest$ac_exeext conftest.$ac_ext
d30728 2
a30729 2
	echo "$as_me:26208: result: $cf_result" >&5
echo "${ECHO_T}$cf_result" >&6
d30731 1
a30731 1
		cat >>confdefs.h <<EOF
d30733 1
a30733 1
EOF
d30738 15
d30757 1
a30757 3
		{ { echo "$as_me:26222: error: Configuration does not support color-styles" >&5
echo "$as_me: error: Configuration does not support color-styles" >&2;}
   { (exit 1); exit 1; }; }
d30760 1
a30760 3
		{ { echo "$as_me:26227: error: Configuration does not support color-styles" >&5
echo "$as_me: error: Configuration does not support color-styles" >&2;}
   { (exit 1); exit 1; }; }
d30766 2
a30767 2
		{ echo "$as_me:26235: WARNING: Configuration does not support ACS_xxx definitions" >&5
echo "$as_me: WARNING: Configuration does not support ACS_xxx definitions" >&2;}
d30769 1
a30769 3
		cat >>confdefs.h <<\EOF
#define USE_SCROLLBAR 1
EOF
d30777 1
d30789 1
d30791 1
d30793 1
d30804 1
a30804 1
# `ac_cv_env_foo' variables (set or unset) will be overriden when
d30812 1
a30812 1
# So, don't put newlines in cache variables' values.
d30815 17
a30831 1
{
d30833 4
a30836 4
    case `(ac_space=' '; set | grep ac_space) 2>&1` in
    *ac_space=\ *)
      # `set' does not quote correctly, so add quotes (double-quote
      # substitution turns \\\\ into \\, and sed turns \\ into \).
d30838 3
a30840 3
        "s/'/'\\\\''/g;
    	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
      ;;
d30843 1
a30843 2
      sed -n \
        "s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1=\\2/p"
d30845 3
a30847 2
    esac;
} |
d30849 1
d30851 1
a30851 1
     : clear
d30854 19
a30872 6
     /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
     : end' >>confcache
if cmp -s $cache_file confcache; then :; else
  if test -w $cache_file; then
    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
    cat confcache >$cache_file
d30874 2
a30875 1
    echo "not updating unwritable cache $cache_file"
d30884 18
a30901 14
# VPATH may cause trouble with some makes, so we remove $(srcdir),
# ${srcdir} and @@srcdir@@ from VPATH if srcdir is ".", strip leading and
# trailing colons and then remove the whole line if VPATH becomes empty
# (actually we leave an empty line to preserve line numbers).
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=/{
s/:*\$(srcdir):*/:/;
s/:*\${srcdir}:*/:/;
s/:*@@srcdir@@:*/:/;
s/^\([^=]*=[ 	]*\):*/\1/;
s/:*$//;
s/^[^=]*=[ 	]*$//;
}'
fi
a30902 1
DEFS=-DHAVE_CONFIG_H
d30904 2
a30905 1
: ${CONFIG_STATUS=./config.status}
d30908 4
a30911 3
{ echo "$as_me:26340: creating $CONFIG_STATUS" >&5
echo "$as_me: creating $CONFIG_STATUS" >&6;}
cat >$CONFIG_STATUS <<_ACEOF
d30913 1
a30913 1
# Generated automatically by configure.
d30919 131
a31049 2
SHELL=\${CONFIG_SHELL-$SHELL}
ac_cs_invocation="\$0 \$@@"
d31051 60
a31110 1
_ACEOF
d31112 16
a31127 8
cat >>$CONFIG_STATUS <<\_ACEOF
# Be Bourne compatible
if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
  emulate sh
  NULLCMD=:
elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
  set -o posix
fi
a31128 2
# Name of the executable.
as_me=`echo "$0" |sed 's,.*[\\/],,'`
d31130 2
a31131 1
if expr a : '\(a\)' >/dev/null 2>&1; then
d31137 51
d31189 18
a31206 6
echo >conf$$.file
if ln -s conf$$.file conf$$ 2>/dev/null; then
  # We could just check for DJGPP; but this test a) works b) is more generic
  # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
  if test -f conf$$.exe; then
    # Don't use ln at all; we don't have any links
a31207 2
  else
    as_ln_s='ln -s'
a31208 2
elif ln conf$$.file conf$$ 2>/dev/null; then
  as_ln_s=ln
d31212 49
a31260 1
rm -f conf$$ conf$$.exe conf$$.file
d31262 7
a31268 1
as_executable_p="test -f"
d31270 2
a31271 3
# Support unset when possible.
if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
  as_unset=unset
d31273 17
a31289 1
  as_unset=false
d31291 1
d31293 2
a31294 9
# NLS nuisances.
$as_unset LANG || test "${LANG+set}" != set || { LANG=C; export LANG; }
$as_unset LC_ALL || test "${LC_ALL+set}" != set || { LC_ALL=C; export LC_ALL; }
$as_unset LC_TIME || test "${LC_TIME+set}" != set || { LC_TIME=C; export LC_TIME; }
$as_unset LC_CTYPE || test "${LC_CTYPE+set}" != set || { LC_CTYPE=C; export LC_CTYPE; }
$as_unset LANGUAGE || test "${LANGUAGE+set}" != set || { LANGUAGE=C; export LANGUAGE; }
$as_unset LC_COLLATE || test "${LC_COLLATE+set}" != set || { LC_COLLATE=C; export LC_COLLATE; }
$as_unset LC_NUMERIC || test "${LC_NUMERIC+set}" != set || { LC_NUMERIC=C; export LC_NUMERIC; }
$as_unset LC_MESSAGES || test "${LC_MESSAGES+set}" != set || { LC_MESSAGES=C; export LC_MESSAGES; }
d31296 2
a31297 5
# IFS
# We need space, tab and new line, in precisely that order.
as_nl='
'
IFS=" 	$as_nl"
a31298 2
# CDPATH.
$as_unset CDPATH || test "${CDPATH+set}" != set || { CDPATH=:; export CDPATH; }
d31301 22
d31326 3
a31328 4
# Files that config.status was made for.
if test -n "$ac_config_files"; then
  echo "config_files=\"$ac_config_files\"" >>$CONFIG_STATUS
fi
d31330 3
a31332 3
if test -n "$ac_config_headers"; then
  echo "config_headers=\"$ac_config_headers\"" >>$CONFIG_STATUS
fi
a31333 3
if test -n "$ac_config_links"; then
  echo "config_links=\"$ac_config_links\"" >>$CONFIG_STATUS
fi
d31335 5
a31339 3
if test -n "$ac_config_commands"; then
  echo "config_commands=\"$ac_config_commands\"" >>$CONFIG_STATUS
fi
d31341 1
a31341 1
cat >>$CONFIG_STATUS <<\EOF
d31343 1
d31345 3
a31347 2
\`$as_me' instantiates files from templates according to the
current configuration.
d31349 1
a31349 1
Usage: $0 [OPTIONS] [FILE]...
d31352 4
a31355 1
  -V, --version    print version number, then exit
d31358 1
a31358 1
  --file=FILE[:TEMPLATE]
d31360 1
a31360 1
  --header=FILE[:TEMPLATE]
d31372 1
a31372 2
Report bugs to <bug-autoconf@@gnu.org>."
EOF
d31374 3
a31376 1
cat >>$CONFIG_STATUS <<EOF
d31379 2
a31380 2
configured by $0, generated by GNU Autoconf 2.52.20030208,
  with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
d31382 1
a31382 2
Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001
Free Software Foundation, Inc.
a31384 3
srcdir=$srcdir
INSTALL="$INSTALL"
EOF
d31386 8
a31393 3
cat >>$CONFIG_STATUS <<\EOF
# If no file are specified by the user, then we need to provide default
# value.  By we need to know if files were specified by the user.
d31398 14
a31411 6
  --*=*)
    ac_option=`expr "x$1" : 'x\([^=]*\)='`
    ac_optarg=`expr "x$1" : 'x[^=]*=\(.*\)'`
    shift
    set dummy "$ac_option" "$ac_optarg" ${1+"$@@"}
    shift
a31412 4
  -*);;
  *) # This is not an option, so the user has probably given explicit
     # arguments.
     ac_need_defaults=false;;
d31415 1
a31415 1
  case $1 in
a31416 2
EOF
cat >>$CONFIG_STATUS <<EOF
d31418 6
a31423 16
    echo "running $SHELL $0 " $ac_configure_args " --no-create --no-recursion"
    exec $SHELL $0 $ac_configure_args --no-create --no-recursion ;;
EOF
cat >>$CONFIG_STATUS <<\EOF
  --version | --vers* | -V )
    echo "$ac_cs_version"; exit 0 ;;
  --he | --h)
    # Conflict between --help and --header
    { { echo "$as_me:26516: error: ambiguous option: $1
Try \`$0 --help' for more information." >&5
echo "$as_me: error: ambiguous option: $1
Try \`$0 --help' for more information." >&2;}
   { (exit 1); exit 1; }; };;
  --help | --hel | -h )
    echo "$ac_cs_usage"; exit 0 ;;
  --debug | --d* | -d )
d31426 6
a31431 2
    shift
    CONFIG_FILES="$CONFIG_FILES $1"
d31434 5
a31438 2
    shift
    CONFIG_HEADERS="$CONFIG_HEADERS $1"
d31440 9
d31451 2
a31452 5
  -*) { { echo "$as_me:26535: error: unrecognized option: $1
Try \`$0 --help' for more information." >&5
echo "$as_me: error: unrecognized option: $1
Try \`$0 --help' for more information." >&2;}
   { (exit 1); exit 1; }; } ;;
d31454 2
a31455 1
  *) ac_config_targets="$ac_config_targets $1" ;;
d31461 1
a31461 2
exec 5>>config.log
cat >&5 << _ACEOF
d31463 4
a31466 3
## ----------------------- ##
## Running config.status.  ##
## ----------------------- ##
d31468 10
a31477 7
This file was extended by $as_me 2.52.20030208, executed with
  CONFIG_FILES    = $CONFIG_FILES
  CONFIG_HEADERS  = $CONFIG_HEADERS
  CONFIG_LINKS    = $CONFIG_LINKS
  CONFIG_COMMANDS = $CONFIG_COMMANDS
  > $ac_cs_invocation
on `(hostname || uname -n) 2>/dev/null | sed 1q`
d31480 9
a31488 1
EOF
d31490 2
a31491 1
cat >>$CONFIG_STATUS <<EOF
d31493 1
a31493 1
# INIT-COMMANDS section.
d31496 1
a31499 1
EOF
d31501 6
a31506 1
cat >>$CONFIG_STATUS <<\EOF
d31509 11
a31519 13
  case "$ac_config_target" in
  # Handling of arguments.
  "makefile" ) CONFIG_FILES="$CONFIG_FILES makefile" ;;
  "WWW/Library/Implementation/makefile" ) CONFIG_FILES="$CONFIG_FILES WWW/Library/Implementation/makefile" ;;
  "src/makefile" ) CONFIG_FILES="$CONFIG_FILES src/makefile" ;;
  "src/chrtrans/makefile" ) CONFIG_FILES="$CONFIG_FILES src/chrtrans/makefile" ;;
  "$SUB_MAKEFILE" ) CONFIG_FILES="$CONFIG_FILES $SUB_MAKEFILE" ;;
  "default-1" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default-1" ;;
  "default" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
  "$CONFIG_H" ) CONFIG_HEADERS="$CONFIG_HEADERS $CONFIG_H:config.hin" ;;
  *) { { echo "$as_me:26588: error: invalid argument: $ac_config_target" >&5
echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
   { (exit 1); exit 1; }; };;
d31523 1
d31534 6
a31539 1
# Create a temporary directory, and hook for its removal unless debugging.
d31542 6
a31547 2
  trap 'exit_status=$?; rm -rf $tmp && exit $exit_status' 0
  trap '{ (exit 1); exit 1; }' 1 2 13 15
d31549 1
a31550 2
# Create a (secure) tmp directory for tmp files.
: ${TMPDIR=/tmp}
d31552 2
a31553 2
  tmp=`(umask 077 && mktemp -d -q "$TMPDIR/csXXXXXX") 2>/dev/null` &&
  test -n "$tmp" && test -d "$tmp"
d31556 29
a31584 3
  tmp=$TMPDIR/cs$$-$RANDOM
  (umask 077 && mkdir $tmp)
} ||
d31586 94
a31679 2
   echo "$me: cannot create a temporary directory in $TMPDIR" >&2
   { (exit 1); exit 1; }
d31682 10
a31691 1
EOF
d31693 22
a31714 1
cat >>$CONFIG_STATUS <<EOF
d31716 2
a31717 3
#
# CONFIG_FILES section.
#
d31719 25
a31743 155
# No need to generate the scripts if there are no CONFIG_FILES.
# This happens for instance when ./config.status config.h
if test -n "\$CONFIG_FILES"; then
  # Protect against being on the right side of a sed subst in config.status.
  sed 's/,@@/@@@@/; s/@@,/@@@@/; s/,;t t\$/@@;t t/; /@@;t t\$/s/[\\\\&,]/\\\\&/g;
   s/@@@@/,@@/; s/@@@@/@@,/; s/@@;t t\$/,;t t/' >\$tmp/subs.sed <<\\CEOF
s,@@SHELL@@,$SHELL,;t t
s,@@exec_prefix@@,$exec_prefix,;t t
s,@@prefix@@,$prefix,;t t
s,@@program_transform_name@@,$program_transform_name,;t t
s,@@bindir@@,$bindir,;t t
s,@@sbindir@@,$sbindir,;t t
s,@@libexecdir@@,$libexecdir,;t t
s,@@datadir@@,$datadir,;t t
s,@@sysconfdir@@,$sysconfdir,;t t
s,@@sharedstatedir@@,$sharedstatedir,;t t
s,@@localstatedir@@,$localstatedir,;t t
s,@@libdir@@,$libdir,;t t
s,@@includedir@@,$includedir,;t t
s,@@oldincludedir@@,$oldincludedir,;t t
s,@@infodir@@,$infodir,;t t
s,@@mandir@@,$mandir,;t t
s,@@PACKAGE_NAME@@,$PACKAGE_NAME,;t t
s,@@PACKAGE_TARNAME@@,$PACKAGE_TARNAME,;t t
s,@@PACKAGE_VERSION@@,$PACKAGE_VERSION,;t t
s,@@PACKAGE_STRING@@,$PACKAGE_STRING,;t t
s,@@PACKAGE_BUGREPORT@@,$PACKAGE_BUGREPORT,;t t
s,@@build_alias@@,$build_alias,;t t
s,@@host_alias@@,$host_alias,;t t
s,@@target_alias@@,$target_alias,;t t
s,@@ECHO_C@@,$ECHO_C,;t t
s,@@ECHO_N@@,$ECHO_N,;t t
s,@@ECHO_T@@,$ECHO_T,;t t
s,@@PATH_SEPARATOR@@,$PATH_SEPARATOR,;t t
s,@@DEFS@@,$DEFS,;t t
s,@@LIBS@@,$LIBS,;t t
s,@@build@@,$build,;t t
s,@@build_cpu@@,$build_cpu,;t t
s,@@build_vendor@@,$build_vendor,;t t
s,@@build_os@@,$build_os,;t t
s,@@host@@,$host,;t t
s,@@host_cpu@@,$host_cpu,;t t
s,@@host_vendor@@,$host_vendor,;t t
s,@@host_os@@,$host_os,;t t
s,@@target@@,$target,;t t
s,@@target_cpu@@,$target_cpu,;t t
s,@@target_vendor@@,$target_vendor,;t t
s,@@target_os@@,$target_os,;t t
s,@@PACKAGE@@,$PACKAGE,;t t
s,@@VERSION@@,$VERSION,;t t
s,@@DESTDIR@@,$DESTDIR,;t t
s,@@CONFIG_H@@,$CONFIG_H,;t t
s,@@CC@@,$CC,;t t
s,@@CFLAGS@@,$CFLAGS,;t t
s,@@LDFLAGS@@,$LDFLAGS,;t t
s,@@CPPFLAGS@@,$CPPFLAGS,;t t
s,@@ac_ct_CC@@,$ac_ct_CC,;t t
s,@@EXEEXT@@,$EXEEXT,;t t
s,@@OBJEXT@@,$OBJEXT,;t t
s,@@CPP@@,$CPP,;t t
s,@@LN_S@@,$LN_S,;t t
s,@@SET_MAKE@@,$SET_MAKE,;t t
s,@@INSTALL_PROGRAM@@,$INSTALL_PROGRAM,;t t
s,@@INSTALL_SCRIPT@@,$INSTALL_SCRIPT,;t t
s,@@INSTALL_DATA@@,$INSTALL_DATA,;t t
s,@@LINT@@,$LINT,;t t
s,@@PROG_EXT@@,$PROG_EXT,;t t
s,@@BUILD_CC@@,$BUILD_CC,;t t
s,@@BUILD_CPP@@,$BUILD_CPP,;t t
s,@@BUILD_CFLAGS@@,$BUILD_CFLAGS,;t t
s,@@BUILD_CPPFLAGS@@,$BUILD_CPPFLAGS,;t t
s,@@BUILD_LDFLAGS@@,$BUILD_LDFLAGS,;t t
s,@@BUILD_LIBS@@,$BUILD_LIBS,;t t
s,@@BUILD_EXEEXT@@,$BUILD_EXEEXT,;t t
s,@@BUILD_OBJEXT@@,$BUILD_OBJEXT,;t t
s,@@RANLIB@@,$RANLIB,;t t
s,@@ac_ct_RANLIB@@,$ac_ct_RANLIB,;t t
s,@@AR@@,$AR,;t t
s,@@ac_ct_AR@@,$ac_ct_AR,;t t
s,@@AR_OPTS@@,$AR_OPTS,;t t
s,@@ECHO_LT@@,$ECHO_LT,;t t
s,@@ECHO_LD@@,$ECHO_LD,;t t
s,@@RULE_CC@@,$RULE_CC,;t t
s,@@SHOW_CC@@,$SHOW_CC,;t t
s,@@ECHO_CC@@,$ECHO_CC,;t t
s,@@DONT_ECHO_CC@@,$DONT_ECHO_CC,;t t
s,@@EXTRA_CFLAGS@@,$EXTRA_CFLAGS,;t t
s,@@EXTRA_CPPFLAGS@@,$EXTRA_CPPFLAGS,;t t
s,@@ALLOCA@@,$ALLOCA,;t t
s,@@GLIBC21@@,$GLIBC21,;t t
s,@@LIBICONV@@,$LIBICONV,;t t
s,@@USE_NLS@@,$USE_NLS,;t t
s,@@PATHSEP@@,$PATHSEP,;t t
s,@@MSGFMT@@,$MSGFMT,;t t
s,@@GMSGFMT@@,$GMSGFMT,;t t
s,@@XGETTEXT@@,$XGETTEXT,;t t
s,@@INTLBISON@@,$INTLBISON,;t t
s,@@BUILD_INCLUDED_LIBINTL@@,$BUILD_INCLUDED_LIBINTL,;t t
s,@@USE_INCLUDED_LIBINTL@@,$USE_INCLUDED_LIBINTL,;t t
s,@@CATALOGS@@,$CATALOGS,;t t
s,@@CATOBJEXT@@,$CATOBJEXT,;t t
s,@@GMOFILES@@,$GMOFILES,;t t
s,@@INTLLIBS@@,$INTLLIBS,;t t
s,@@INTLOBJS@@,$INTLOBJS,;t t
s,@@POFILES@@,$POFILES,;t t
s,@@POSUB@@,$POSUB,;t t
s,@@DATADIRNAME@@,$DATADIRNAME,;t t
s,@@INSTOBJEXT@@,$INSTOBJEXT,;t t
s,@@GENCAT@@,$GENCAT,;t t
s,@@MKINSTALLDIRS@@,$MKINSTALLDIRS,;t t
s,@@INTL_LIBTOOL_SUFFIX_PREFIX@@,$INTL_LIBTOOL_SUFFIX_PREFIX,;t t
s,@@MSG_DIR_MAKE@@,$MSG_DIR_MAKE,;t t
s,@@SUB_MAKEFILE@@,$SUB_MAKEFILE,;t t
s,@@INTLDIR_MAKE@@,$INTLDIR_MAKE,;t t
s,@@GT_YES@@,$GT_YES,;t t
s,@@GT_NO@@,$GT_NO,;t t
s,@@INTLDIR_CPPFLAGS@@,$INTLDIR_CPPFLAGS,;t t
s,@@NLS_DATADIR@@,$NLS_DATADIR,;t t
s,@@LYNX_CFG_FILE@@,$LYNX_CFG_FILE,;t t
s,@@CHARSET_DEFS@@,$CHARSET_DEFS,;t t
s,@@LIBOBJS@@,$LIBOBJS,;t t
s,@@LYNX_LSS_FILE@@,$LYNX_LSS_FILE,;t t
s,@@INSTALL_LSS@@,$INSTALL_LSS,;t t
s,@@LYNXCFG_MAKE@@,$LYNXCFG_MAKE,;t t
s,@@LYNXCFG_URL@@,$LYNXCFG_URL,;t t
s,@@EXTRA_OBJS@@,$EXTRA_OBJS,;t t
s,@@SETFONT@@,$SETFONT,;t t
s,@@TELNET@@,$TELNET,;t t
s,@@TN3270@@,$TN3270,;t t
s,@@RLOGIN@@,$RLOGIN,;t t
s,@@MV@@,$MV,;t t
s,@@GZIP@@,$GZIP,;t t
s,@@UNCOMPRESS@@,$UNCOMPRESS,;t t
s,@@UNZIP@@,$UNZIP,;t t
s,@@BZIP2@@,$BZIP2,;t t
s,@@TAR@@,$TAR,;t t
s,@@TAR_UP_OPTIONS@@,$TAR_UP_OPTIONS,;t t
s,@@TAR_DOWN_OPTIONS@@,$TAR_DOWN_OPTIONS,;t t
s,@@TAR_FILE_OPTIONS@@,$TAR_FILE_OPTIONS,;t t
s,@@TAR_PIPE_OPTIONS@@,$TAR_PIPE_OPTIONS,;t t
s,@@COMPRESS@@,$COMPRESS,;t t
s,@@RM@@,$RM,;t t
s,@@UUDECODE@@,$UUDECODE,;t t
s,@@ZCAT@@,$ZCAT,;t t
s,@@ZIP@@,$ZIP,;t t
s,@@INSTALL@@,$INSTALL,;t t
s,@@COMPRESS_PROG@@,$COMPRESS_PROG,;t t
s,@@COMPRESS_EXT@@,$COMPRESS_EXT,;t t
s,@@X_CFLAGS@@,$X_CFLAGS,;t t
s,@@X_PRE_LIBS@@,$X_PRE_LIBS,;t t
s,@@X_LIBS@@,$X_LIBS,;t t
s,@@X_EXTRA_LIBS@@,$X_EXTRA_LIBS,;t t
s,@@CONFIG_SHELL@@,$CONFIG_SHELL,;t t
s,@@SRCDIR_CLEAN@@,$SRCDIR_CLEAN,;t t
CEOF
d31745 81
a31825 1
EOF
a31826 38
  cat >>$CONFIG_STATUS <<\EOF
  # Split the substitutions into bite-sized pieces for seds with
  # small command number limits, like on Digital OSF/1 and HP-UX.
  ac_max_sed_lines=48
  ac_sed_frag=1 # Number of current file.
  ac_beg=1 # First line for current file.
  ac_end=$ac_max_sed_lines # Line after last line for current file.
  ac_more_lines=:
  ac_sed_cmds=
  while $ac_more_lines; do
    if test $ac_beg -gt 1; then
      sed "1,${ac_beg}d; ${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
    else
      sed "${ac_end}q" $tmp/subs.sed >$tmp/subs.frag
    fi
    if test ! -s $tmp/subs.frag; then
      ac_more_lines=false
    else
      # The purpose of the label and of the branching condition is to
      # speed up the sed processing (if there are no `@@' at all, there
      # is no need to browse any of the substitutions).
      # These are the two extra sed commands mentioned above.
      (echo ':t
  /@@[a-zA-Z_][a-zA-Z_0-9]*@@/!b' && cat $tmp/subs.frag) >$tmp/subs-$ac_sed_frag.sed
      if test -z "$ac_sed_cmds"; then
  	ac_sed_cmds="sed -f $tmp/subs-$ac_sed_frag.sed"
      else
  	ac_sed_cmds="$ac_sed_cmds | sed -f $tmp/subs-$ac_sed_frag.sed"
      fi
      ac_sed_frag=`expr $ac_sed_frag + 1`
      ac_beg=$ac_end
      ac_end=`expr $ac_end + $ac_max_sed_lines`
    fi
  done
  if test -z "$ac_sed_cmds"; then
    ac_sed_cmds=cat
  fi
fi # test -n "$CONFIG_FILES"
d31828 12
a31839 12
EOF
cat >>$CONFIG_STATUS <<\EOF
for ac_file in : $CONFIG_FILES; do test "x$ac_file" = x: && continue
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case $ac_file in
  - | *:- | *:-:* ) # input from stdin
        cat >$tmp/stdin
        ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  * )   ac_file_in=$ac_file.in ;;
d31841 7
d31849 45
a31893 25
  # Compute @@srcdir@@, @@top_srcdir@@, and @@INSTALL@@ for subdirectories.
  ac_dir=`$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
         X"$ac_file" : 'X\(//\)[^/]' \| \
         X"$ac_file" : 'X\(//\)$' \| \
         X"$ac_file" : 'X\(/\)' \| \
         .     : '\(.\)' 2>/dev/null ||
echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    { case "$ac_dir" in
  [\\/]* | ?:[\\/]* ) as_incr_dir=;;
  *)                      as_incr_dir=.;;
esac
as_dummy="$ac_dir"
for as_mkdir_dir in `IFS='/\\'; set X $as_dummy; shift; echo "$@@"`; do
  case $as_mkdir_dir in
    # Skip DOS drivespec
    ?:) as_incr_dir=$as_mkdir_dir ;;
    *)
      as_incr_dir=$as_incr_dir/$as_mkdir_dir
      test -d "$as_incr_dir" || mkdir "$as_incr_dir"
a31895 1
done; }
d31897 25
a31921 6
    ac_dir_suffix="/`echo $ac_dir|sed 's,^\./,,'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo "$ac_dir_suffix" | sed 's,/[^/]*,../,g'`
  else
    ac_dir_suffix= ac_dots=
  fi
d31923 38
a31960 14
  case $srcdir in
  .)  ac_srcdir=.
      if test -z "$ac_dots"; then
         ac_top_srcdir=.
      else
         ac_top_srcdir=`echo $ac_dots | sed 's,/$,,'`
      fi ;;
  [\\/]* | ?:[\\/]* )
      ac_srcdir=$srcdir$ac_dir_suffix;
      ac_top_srcdir=$srcdir ;;
  *) # Relative path.
    ac_srcdir=$ac_dots$srcdir$ac_dir_suffix
    ac_top_srcdir=$ac_dots$srcdir ;;
  esac
d31964 1
a31964 1
  *) ac_INSTALL=$ac_dots$INSTALL ;;
d31966 32
d31999 5
a32003 41
  if test x"$ac_file" != x-; then
    { echo "$as_me:26902: creating $ac_file" >&5
echo "$as_me: creating $ac_file" >&6;}
    rm -f "$ac_file"
  fi
  # Let's still pretend it is `configure' which instantiates (i.e., don't
  # use $as_me), people would be surprised to read:
  #    /* config.h.  Generated automatically by config.status.  */
  configure_input="Generated automatically from `echo $ac_file_in |
                                                 sed 's,.*/,,'` by configure."

  # First look for the input files in the build tree, otherwise in the
  # src tree.
  ac_file_inputs=`IFS=:
    for f in $ac_file_in; do
      case $f in
      -) echo $tmp/stdin ;;
      [\\/$]*)
         # Absolute (can't be DOS-style, as IFS=:)
         test -f "$f" || { { echo "$as_me:26920: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         echo $f;;
      *) # Relative
         if test -f "$f"; then
           # Build tree
           echo $f
         elif test -f "$srcdir/$f"; then
           # Source tree
           echo $srcdir/$f
         else
           # /dev/null tree
           { { echo "$as_me:26933: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         fi;;
      esac
    done` || { (exit 1); exit 1; }
EOF
cat >>$CONFIG_STATUS <<EOF
  sed "$ac_vpsub
d32005 2
a32006 2
EOF
cat >>$CONFIG_STATUS <<\EOF
d32009 36
a32044 6
s,@@configure_input@@,$configure_input,;t t
s,@@srcdir@@,$ac_srcdir,;t t
s,@@top_srcdir@@,$ac_top_srcdir,;t t
s,@@INSTALL@@,$ac_INSTALL,;t t
" $ac_file_inputs | (eval "$ac_sed_cmds") >$tmp/out
  rm -f $tmp/stdin
d32046 13
a32058 1
    mv $tmp/out $ac_file
d32060 3
a32062 2
    cat $tmp/out
    rm -f $tmp/out
d32064 1
d32066 4
a32069 3
done
EOF
cat >>$CONFIG_STATUS <<\EOF
a32070 3
#
# CONFIG_HEADER section.
#
d32072 2
a32073 18
# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s,^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='[ 	].*$,\1#\2'
ac_dC=' '
ac_dD=',;t'
# ac_i turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_iA='s,^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_iB='\([ 	]\),\1#\2define\3'
ac_iC=' '
ac_iD='\4,;t'
# ac_u turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_uA='s,^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='$,\1#\2define\3'
ac_uC=' '
ac_uD=',;t'
d32075 4
a32078 11
for ac_file in : $CONFIG_HEADERS; do test "x$ac_file" = x: && continue
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case $ac_file in
  - | *:- | *:-:* ) # input from stdin
        cat >$tmp/stdin
        ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  *:* ) ac_file_in=`echo "$ac_file" | sed 's,[^:]*:,,'`
        ac_file=`echo "$ac_file" | sed 's,:.*,,'` ;;
  * )   ac_file_in=$ac_file.in ;;
  esac
d32080 16
a32095 2
  test x"$ac_file" != x- && { echo "$as_me:26999: creating $ac_file" >&5
echo "$as_me: creating $ac_file" >&6;}
d32097 8
a32104 25
  # First look for the input files in the build tree, otherwise in the
  # src tree.
  ac_file_inputs=`IFS=:
    for f in $ac_file_in; do
      case $f in
      -) echo $tmp/stdin ;;
      [\\/$]*)
         # Absolute (can't be DOS-style, as IFS=:)
         test -f "$f" || { { echo "$as_me:27010: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         echo $f;;
      *) # Relative
         if test -f "$f"; then
           # Build tree
           echo $f
         elif test -f "$srcdir/$f"; then
           # Source tree
           echo $srcdir/$f
         else
           # /dev/null tree
           { { echo "$as_me:27023: error: cannot find input file: $f" >&5
echo "$as_me: error: cannot find input file: $f" >&2;}
   { (exit 1); exit 1; }; }
         fi;;
d32106 2
a32107 195
    done` || { (exit 1); exit 1; }
  # Remove the trailing spaces.
  sed 's/[ 	]*$//' $ac_file_inputs >$tmp/in

EOF

# Transform confdefs.h into two sed scripts, `conftest.defines' and
# `conftest.undefs', that substitutes the proper values into
# config.h.in to produce config.h.  The first handles `#define'
# templates, and the second `#undef' templates.
# And first: Protect against being on the right side of a sed subst in
# config.status.  Protect against being in an unquoted here document
# in config.status.
rm -f conftest.defines conftest.undefs
# Using a here document instead of a string reduces the quoting nightmare.
# Putting comments in sed scripts is not portable.
#
# `end' is used to avoid that the second main sed command (meant for
# 0-ary CPP macros) applies to n-ary macro definitions.
# See the Autoconf documentation for `clear'.
cat >confdef2sed.sed <<\EOF
s/[\\&,]/\\&/g
s,[\\$`],\\&,g
t clear
: clear
s,^[ 	]*#[ 	]*define[ 	][ 	]*\(\([^ 	(][^ 	(]*\)([^)]*)\)[ 	]*\(.*\)$,${ac_dA}\2${ac_dB}\1${ac_dC}\3${ac_dD},gp
t end
s,^[ 	]*#[ 	]*define[ 	][ 	]*\([^ 	][^ 	]*\)[ 	]*\(.*\)$,${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD},gp
: end
EOF
# If some macros were called several times there might be several times
# the same #defines, which is useless.  Nevertheless, we may not want to
# sort them, since we want the *last* AC-DEFINE to be honored.
uniq confdefs.h | sed -n -f confdef2sed.sed >conftest.defines
sed 's/ac_d/ac_u/g' conftest.defines >conftest.undefs
sed 's/ac_d/ac_i/g' conftest.defines >>conftest.undefs
rm -f confdef2sed.sed

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >>conftest.undefs <<\EOF
s,^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,
EOF

# Break up conftest.defines because some shells have a limit on the size
# of here documents, and old seds have small limits too (100 cmds).
echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
echo '  if egrep "^[ 	]*#[ 	]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
echo '  :' >>$CONFIG_STATUS
rm -f conftest.tail
while grep . conftest.defines >/dev/null
do
  # Write a limited-size here document to $tmp/defines.sed.
  echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
  # Speed up: don't consider the non `#define' lines.
  echo '/^[ 	]*#[ 	]*define/!b' >>$CONFIG_STATUS
  # Work around the forget-to-reset-the-flag bug.
  echo 't clr' >>$CONFIG_STATUS
  echo ': clr' >>$CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.defines >>$CONFIG_STATUS
  echo 'CEOF
  sed -f $tmp/defines.sed $tmp/in >$tmp/out
  rm -f $tmp/in
  mv $tmp/out $tmp/in
' >>$CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.defines >conftest.tail
  rm -f conftest.defines
  mv conftest.tail conftest.defines
done
rm -f conftest.defines
echo '  fi # egrep' >>$CONFIG_STATUS
echo >>$CONFIG_STATUS

# Break up conftest.undefs because some shells have a limit on the size
# of here documents, and old seds have small limits too (100 cmds).
echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
rm -f conftest.tail
while grep . conftest.undefs >/dev/null
do
  # Write a limited-size here document to $tmp/undefs.sed.
  echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
  # Speed up: don't consider the non `#undef'
  echo '/^[ 	]*#[ 	]*undef/!b' >>$CONFIG_STATUS
  # Work around the forget-to-reset-the-flag bug.
  echo 't clr' >>$CONFIG_STATUS
  echo ': clr' >>$CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.undefs >>$CONFIG_STATUS
  echo 'CEOF
  sed -f $tmp/undefs.sed $tmp/in >$tmp/out
  rm -f $tmp/in
  mv $tmp/out $tmp/in
' >>$CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.undefs >conftest.tail
  rm -f conftest.undefs
  mv conftest.tail conftest.undefs
done
rm -f conftest.undefs

cat >>$CONFIG_STATUS <<\EOF
  # Let's still pretend it is `configure' which instantiates (i.e., don't
  # use $as_me), people would be surprised to read:
  #    /* config.h.  Generated automatically by config.status.  */
  if test x"$ac_file" = x-; then
    echo "/* Generated automatically by configure.  */" >$tmp/config.h
  else
    echo "/* $ac_file.  Generated automatically by configure.  */" >$tmp/config.h
  fi
  cat $tmp/in >>$tmp/config.h
  rm -f $tmp/in
  if test x"$ac_file" != x-; then
    if cmp -s $ac_file $tmp/config.h 2>/dev/null; then
      { echo "$as_me:27141: $ac_file is unchanged" >&5
echo "$as_me: $ac_file is unchanged" >&6;}
    else
      ac_dir=`$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
         X"$ac_file" : 'X\(//\)[^/]' \| \
         X"$ac_file" : 'X\(//\)$' \| \
         X"$ac_file" : 'X\(/\)' \| \
         .     : '\(.\)' 2>/dev/null ||
echo X"$ac_file" |
    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
  	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
  	  /^X\(\/\/\)$/{ s//\1/; q; }
  	  /^X\(\/\).*/{ s//\1/; q; }
  	  s/.*/./; q'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
        { case "$ac_dir" in
  [\\/]* | ?:[\\/]* ) as_incr_dir=;;
  *)                      as_incr_dir=.;;
esac
as_dummy="$ac_dir"
for as_mkdir_dir in `IFS='/\\'; set X $as_dummy; shift; echo "$@@"`; do
  case $as_mkdir_dir in
    # Skip DOS drivespec
    ?:) as_incr_dir=$as_mkdir_dir ;;
    *)
      as_incr_dir=$as_incr_dir/$as_mkdir_dir
      test -d "$as_incr_dir" || mkdir "$as_incr_dir"
    ;;
  esac
done; }

      fi
      rm -f $ac_file
      mv $tmp/config.h $ac_file
    fi
  else
    cat $tmp/config.h
    rm -f $tmp/config.h
  fi
done
EOF
cat >>$CONFIG_STATUS <<\EOF

#
# CONFIG_COMMANDS section.
#
for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
  ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
  ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`

  case $ac_dest in
    default-1 ) for ac_file in $CONFIG_FILES; do
        # Support "outfile[:infile[:infile...]]"
        case "$ac_file" in
          *:*) ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
        esac
        # PO directories have a Makefile.in generated from Makefile.inn.
        case "$ac_file" in */[Mm]akefile.in)
          # Adjust a relative srcdir.
          ac_dir=`echo "$ac_file"|sed 's%/[^/][^/]*$%%'`
          ac_dir_suffix="/`echo "$ac_dir"|sed 's%^\./%%'`"
          ac_dots=`echo "$ac_dir_suffix"|sed 's%/[^/]*%../%g'`
	  ac_base=`basename $ac_file .in`
          # In autoconf-2.13 it is called $ac_given_srcdir.
          # In autoconf-2.50 it is called $srcdir.
          test -n "$ac_given_srcdir" || ac_given_srcdir="$srcdir"
          case "$ac_given_srcdir" in
            .)  top_srcdir=`echo $ac_dots|sed 's%/$%%'` ;;
            /*) top_srcdir="$ac_given_srcdir" ;;
            *)  top_srcdir="$ac_dots$ac_given_srcdir" ;;
          esac
          if test -f "$ac_given_srcdir/$ac_dir/POTFILES.in"; then
            rm -f "$ac_dir/POTFILES"
            test -n "$as_me" && echo "$as_me: creating $ac_dir/POTFILES" || echo "creating $ac_dir/POTFILES"
            sed -e "/^#/d" -e "/^[ 	]*\$/d" -e "s,.*,     $top_srcdir/& \\\\," -e "\$s/\(.*\) \\\\/\1/" < "$ac_given_srcdir/$ac_dir/POTFILES.in" > "$ac_dir/POTFILES"
            test -n "$as_me" && echo "$as_me: creating $ac_dir/$ac_base" || echo "creating $ac_dir/$ac_base"
            sed -e "/POTFILES =/r $ac_dir/POTFILES" "$ac_dir/$ac_base.in" > "$ac_dir/$ac_base"
          fi
          ;;
        esac
      done ;;
    default )
d32120 1
d32122 1
a32122 2
done
EOF
a32123 1
cat >>$CONFIG_STATUS <<\EOF
d32125 2
a32126 3
{ (exit 0); exit 0; }
EOF
chmod +x $CONFIG_STATUS
d32129 4
d32143 3
d32147 1
a32147 1
  $SHELL $CONFIG_STATUS || ac_cs_success=false
d32151 5
a32155 1
  $ac_cs_success || { (exit 1); exit 1; }
@


1.13
log
@allow to compile lynx with debug symbols.
deraadt@@ ok
@
text
@d2765 1
a2765 1
		#test -z "$ORIGINAL_CFLAGS" && CFLAGS=`echo ${CFLAGS} | sed -e 's%-g %%' -e 's%-g$%%'`
@


1.12
log
@Update to lynx-2.8.6.rel5, with our local patches maintained where relevant.
tests from miod@@ sthen@@ jmc@@ jsing@@
two additional fixes from miod:
- fix uninitialized stack variable use, leading to occasional crash.
- modify the socklen_t test to include <sys/types.h>, fixes gcc2 build failures
@
text
@d2765 1
a2765 1
		test -z "$ORIGINAL_CFLAGS" && CFLAGS=`echo ${CFLAGS} | sed -e 's%-g %%' -e 's%-g$%%'`
@


1.11
log
@make lynx(1) to use arc4random(4) instead of other random functions;

avoid a segfault by checking the value of TAB TO;
from Alexey Dobriyan <adobriyan@@gmail.com>; pushed by deraadt@@
@
text
@d2 8
d11 47
a57 1
# From configure.in 2.8.5pre.5
d59 1
a59 8
# Save the original $CFLAGS so we can distinguish whether the user set those
# in the environment, or whether autoconf added -O and -g options:
ORIGINAL_CFLAGS="$CFLAGS"

# For autoconf 2.13, make sure we have no cache file at the beginning of this
# script.  That fixes problems with tests whose cached values change from one
# run to the next, as well as with tests that are order-dependent.
rm -f config.cache
d61 6
d68 23
d92 1
d94 8
d103 4
d108 1
a108 11
# Guess values for system-dependent variables and create Makefiles.
# Generated automatically using autoconf version 2.13.20030927 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.

# Defaults:
ac_help=
ac_default_prefix=/usr/local
# Any additions from configure.in:
d110 36
d148 2
d152 1
a152 2
build=NONE
cache_file=./config.cache
a153 1
host=NONE
a154 1
nonopt=NONE
a162 1
target=NONE
d166 6
d185 6
a190 6
# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12
a194 1

d202 1
a202 4
  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac
d206 1
a206 1
  case "$ac_option" in
d211 1
a211 1
    bindir="$ac_optarg" ;;
d214 1
a214 1
    ac_prev=build ;;
d216 1
a216 1
    build="$ac_optarg" ;;
d223 4
a226 1
    cache_file="$ac_optarg" ;;
d232 1
a232 1
    datadir="$ac_optarg" ;;
d235 1
a235 1
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
d237 5
a241 5
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;
d244 1
a244 1
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
d246 6
a251 6
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
d254 1
a254 1
    eval "enable_${ac_feature}='$ac_optarg'" ;;
d263 1
a263 1
    exec_prefix="$ac_optarg" ;;
d269 6
a274 152
  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
cat <<\EOF
--enable and --with options recognized:
Development Options:
  --disable-echo          display "compiling" commands
  --enable-find-leaks     logic for testing memory leaks
  --enable-debug          compile w/ debugging (if \$CFLAGS is set, add -g there, too)
  --disable-trace         disable logic for trace code
  --enable-vertrace       verbose trace code
  --enable-warnings       GCC compiler warnings
  --with-dbmalloc         test: use Conor Cahill's dbmalloc library
  --with-dmalloc          test: use Gray Watson's dmalloc library
Basic Configuration Options:
  --with-libiconv-prefix=DIR  search for libiconv in DIR/include and DIR/lib
  --enable-nls            use Native Language Support
  --with-included-gettext use the GNU gettext library included here
EOF
cat <<\EOF
  --disable-included-msgs use included messages, for i18n support
  --with-nls-datadir=DIR  NLS data, parent of locale (default: PREFIX/DATADIR)
  --disable-full-paths    control whether full utility pathnames are used
  --with-ssl[=path]       link with ssl library if available
  --with-gnutls[=path]    link with experimental gnutls support
  --with-socks[=path]     link with socks library if available
  --with-socks5[=path]    link with socks5 library if available
  --with-screen=XXX       select screen type
                          (XXX is curses (default), ncurses or slang)
  --with-curses-dir=DIR   directory in which (n)curses is installed
  --with-charsets=list    limit charsets to given list of MIME names
Experimental Options:
  --disable-bibp-urls     disable support for bibp: URLs
EOF
cat <<\EOF
  --disable-config-info   disable browsable configuration-info
  --disable-forms-options disable forms-based options
  --disable-menu-options  disable old-style option menu
  --enable-addrlist-page  use experimental address-list page
  --enable-charset-choice use experimental charset-selection logic
  --enable-cjk            use experimental CJK logic
  --enable-color-style    use optional/experimental color style (ncurses/curses)
  --enable-default-colors enable use of default-colors (ncurses/slang)
  --enable-htmlized-cfg   build experimental htmlized lynx.cfg
  --enable-ipv6           use experimental ipv6 (with ipv4) support
  --enable-justify-elts   use experimental element-justification logic
  --enable-kbd-layout     use experimental keyboard-layout support
EOF
cat <<\EOF
  --enable-locale-charset use experimental locale-charset selection logic
  --enable-nested-tables  use experimental nested-table support
  --enable-scrollbar      use experimental scrollbar, with mouse
Miscellaneous Options:
  --disable-alt-bindings  disable alternative line-edit bindings
  --disable-extended-dtd  disable extended HTML DTD logic
  --disable-file-upload   use file-upload support
  --disable-partial       use partial-display logic
  --disable-persistent-cookies  disable persistent-cookie support
  --disable-prettysrc     colorize HTML source
  --disable-read-eta      read-progress message shows ETA
  --disable-source-cache  cache HTML source for parse mode changes
EOF
cat <<\EOF
  --enable-externs        use external commands
  --enable-font-switch    use Linux setfont for character-translation
  --enable-cgi-links      support cgi links w/o a http daemon
  --enable-change-exec    allow users to change exec options
  --enable-exec-links     allow lynx to execute programs accessed via a link
  --enable-exec-scripts   allow lynx to execute programs inferred from a link
  --enable-internal-links handle following links to same doc differently
  --enable-nsl-fork       fork NSL requests, allowing them to be aborted
  --enable-syslog         log URL requests via syslog
  --enable-underlines     underline links rather than using boldface
  --enable-gzip-help      install gzip'ed help files
  --with-bzlib            use libbz2 for decompression of some bzip2 files
EOF
cat <<\EOF
  --with-zlib             use zlib for decompression of some gzip files
Other Network Services:
  --disable-finger        disable FINGER logic
  --disable-gopher        disable GOPHER logic
  --disable-news          disable NEWS logic
  --disable-ftp           disable FTP logic
Directory Editor Options:
  --disable-dired          disable optional directory-editor, DirEd
  --disable-dired-dearchive disable dearchiving commands
  --disable-dired-override disable DirEd override keymap
  --disable-dired-permit  disable chmod/attrib commands
  --disable-dired-xpermit disable chmod/attrib commands
EOF
cat <<\EOF
  --disable-dired-tar     disable "tar" command
  --disable-dired-uudecode disable "uudecode" command
  --disable-dired-zip     disable "zip", "unzip"  commands
  --disable-dired-gzip    disable "gzip", "gunzip" commands
  --disable-long-list     disable long "ls -l" directory listings
  --disable-parent-dir-refs
                          disable "Up-to" links in directory listings
Special Libraries for PDCurses X11:
  --with-x                use the X Window System
  --with-Xaw3d            link with Xaw 3d library
  --with-neXtaw           link with neXT Athena library
  --with-XawPlus          link with Athena-Plus library
EOF
    exit 0 ;;
d277 1
a277 1
    ac_prev=host ;;
d279 1
a279 1
    host="$ac_optarg" ;;
d286 1
a286 1
    includedir="$ac_optarg" ;;
d291 1
a291 1
    infodir="$ac_optarg" ;;
d296 1
a296 1
    libdir="$ac_optarg" ;;
d303 1
a303 1
    libexecdir="$ac_optarg" ;;
d312 1
a312 1
    localstatedir="$ac_optarg" ;;
d317 1
a317 1
    mandir="$ac_optarg" ;;
d338 1
a338 1
    oldincludedir="$ac_optarg" ;;
d343 1
a343 1
    prefix="$ac_optarg" ;;
d350 1
a350 1
    program_prefix="$ac_optarg" ;;
d357 1
a357 1
    program_suffix="$ac_optarg" ;;
d374 1
a374 1
    program_transform_name="$ac_optarg" ;;
d384 1
a384 1
    sbindir="$ac_optarg" ;;
d395 1
a395 1
    sharedstatedir="$ac_optarg" ;;
d400 1
a400 1
    site="$ac_optarg" ;;
d405 1
a405 1
    srcdir="$ac_optarg" ;;
d412 1
a412 1
    sysconfdir="$ac_optarg" ;;
d415 1
a415 1
    ac_prev=target ;;
d417 1
a417 1
    target="$ac_optarg" ;;
d422 2
a423 3
  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.13.20030927"
    exit 0 ;;
d426 1
a426 1
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
d428 3
a430 3
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
d432 2
a433 2
    case "$ac_option" in
      *=*) ;;
d436 1
a436 1
    eval "with_${ac_package}='$ac_optarg'" ;;
d439 1
a439 1
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
d441 5
a445 5
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;
d456 1
a456 1
    x_includes="$ac_optarg" ;;
d463 1
a463 1
    x_libraries="$ac_optarg" ;;
d465 3
a467 1
  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
d470 10
d481 5
a485 7
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
d492 3
a494 1
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
d497 10
a506 16
trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
fi
exec 5>./config.log
d508 9
a516 18
echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
do
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
d520 16
a535 9
# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi
d537 2
a538 4
# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h
d540 1
a540 3
# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=userdefs.h
d547 1
a547 1
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
d558 2
a559 1
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
d561 2
a562 1
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
d565 33
a597 1
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`
d599 8
a606 14
# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done
d608 1
a608 28
if test -r "$cache_file"; then
  echo "loading cache $cache_file"
  . $cache_file
else
  echo "creating cache $cache_file"
  > $cache_file
fi

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

ac_exeext=
ac_objext=o
if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
fi
d610 2
d613 1
d615 10
a624 5
# autoconf 2.5x defaults to no cache file; we need the cache file's information
# for building the config page.  But start with it empty to avoid confusion by
# people who don't do a "make distclean" after applying patches.
cache_file=config.cache
rm -f config.cache; touch config.cache
d626 1
a626 1
CONFIG_H=lynx_cfg.h
d628 6
d635 4
a638 18
ac_aux_dir=
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.
d640 1
d642 14
a655 6
if test -f $ac_config_sub ; then
	
# Make sure we can run config.sub.
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
fi
d657 1
a657 2
echo $ac_n "checking host system type""... $ac_c" 1>&6
echo "configure:678: checking host system type" >&5
d659 3
a661 17
host_alias=$host
case "$host_alias" in
NONE)
  case $nonopt in
  NONE)
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
    else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
    fi ;;
  *) host_alias=$nonopt ;;
  esac ;;
esac

host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$host" 1>&6
d663 4
a666 9
	system_name="$host_os"
else
	system_name="`(uname -s -r) 2>/dev/null`"
	if test -z "$system_name" ; then
		system_name="`(hostname) 2>/dev/null`"
	fi
fi
test -n "$system_name" && cat >> confdefs.h <<EOF
#define SYSTEM_NAME "$system_name"
a667 5

if eval "test \"`echo '$''{'cf_cv_system_name'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cf_cv_system_name="$system_name"
d670 1
d672 1
a672 2
test -z "$system_name" && system_name="$cf_cv_system_name"
test -n "$cf_cv_system_name" && echo "$ac_t""Configuring for $cf_cv_system_name" 1>&6
d674 3
a676 4
if test ".$system_name" != ".$cf_cv_system_name" ; then
	echo "$ac_t""Cached system name ($system_name) does not agree with actual ($cf_cv_system_name)" 1>&6
	{ echo "configure: error: "Please remove config.cache and try again."" 1>&2; exit 1; }
fi
d678 3
d682 368
a1049 3
PACKAGE=lynx
# $Format: "VERSION=$ProjectVersion$"$
VERSION=2.8.5rel.4
d1051 26
d1078 5
d1084 2
d1087 24
d1112 108
a1219 1
test -z "$ALL_LINGUAS" && ALL_LINGUAS=`test -d $srcdir/po && cd $srcdir/po && echo *.po|sed -e 's/\.po//g' -e 's/*//'`
d1221 7
d1229 3
d1233 1
d1242 42
a1283 1
# Extract the first word of "gcc", so it can be a program name with args.
d1285 43
a1327 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:748: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d1332 11
a1342 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
d1345 1
a1345 1
CC="$ac_cv_prog_CC"
d1347 2
a1348 1
  echo "$ac_t""$CC" 1>&6
d1350 2
a1351 1
  echo "$ac_t""no" 1>&6
d1354 41
d1398 4
a1401 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:778: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a1405 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
d1407 15
a1421 13
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
d1426 1
a1426 1
  if test $# -gt 0; then
d1431 1
a1431 1
    set dummy "$ac_dir/$ac_word" "$@@"
d1438 1
a1438 1
CC="$ac_cv_prog_CC"
d1440 2
a1441 1
  echo "$ac_t""$CC" 1>&6
d1443 2
a1444 1
  echo "$ac_t""no" 1>&6
d1447 11
a1457 9
  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:829: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d1462 23
a1484 8
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
d1486 26
a1511 1
  IFS="$ac_save_ifs"
d1514 4
a1517 3
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
d1519 2
a1520 1
  echo "$ac_t""no" 1>&6
d1522 5
a1526 4
 ;;
    esac
  fi
  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
d1529 1
a1529 2
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:861: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d1531 3
a1533 6
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross
d1535 19
a1553 1
cat > conftest.$ac_ext << EOF
d1555 2
a1556 1
#line 872 "configure"
d1559 65
a1623 7
main(){return(0);}
EOF
if { (eval echo configure:877: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
d1625 9
a1633 1
    ac_cv_prog_cc_cross=yes
d1635 33
d1669 3
a1671 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
d1673 12
a1684 21
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:903: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:908: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d1686 25
a1710 7
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:917: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
d1712 5
a1716 1
  ac_cv_prog_gcc=no
d1718 2
d1721 12
d1734 6
a1739 1
echo "$ac_t""$ac_cv_prog_gcc" 1>&6
d1741 36
a1776 2
if test $ac_cv_prog_gcc = yes; then
  GCC=yes
d1778 7
a1784 2
  GCC=
fi
d1786 16
a1801 10
ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:936: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
d1804 3
a1806 1
  ac_cv_prog_cc_g=no
d1808 1
a1808 2
rm -f conftest*

d1810 2
a1811 2

echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
d1813 1
a1813 1
  CFLAGS="$ac_save_CFLAGS"
d1827 99
d1927 18
a1944 2
echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
echo "configure:968: checking how to run the C preprocessor" >&5
d1950 2
a1951 2
if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d1953 8
a1960 3
    # This must be in double quotes, not single quotes, because CPP may get
  # substituted into the Makefile and "${CC-cc}" will confuse make.
  CPP="${CC-cc} -E"
d1962 3
a1964 3
  # not just through cpp.
  cat > conftest.$ac_ext <<EOF
#line 983 "configure"
d1967 19
a1985 6
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:989: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d1988 1
a1988 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d1990 25
a2014 13
  rm -rf conftest*
  CPP="${CC-cc} -E -traditional-cpp"
  cat > conftest.$ac_ext <<EOF
#line 1000 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1006: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
d2016 5
a2020 16
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 1017 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1023: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
d2022 1
a2022 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d2024 11
a2034 2
  rm -rf conftest*
  CPP=/lib/cpp
d2036 4
a2039 1
rm -f conftest*
d2041 3
a2043 1
rm -f conftest*
d2045 30
a2074 2
rm -f conftest*
  ac_cv_prog_CPP="$CPP"
d2076 2
a2077 1
  CPP="$ac_cv_prog_CPP"
d2079 4
a2082 1
  ac_cv_prog_CPP="$CPP"
d2084 1
a2084 1
echo "$ac_t""$CPP" 1>&6
d2086 20
a2105 4
echo $ac_n "checking whether ln -s works""... $ac_c" 1>&6
echo "configure:1048: checking whether ln -s works" >&5
if eval "test \"`echo '$''{'ac_cv_prog_LN_S'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2107 5
a2111 5
  rm -f conftestdata
if ln -s X conftestdata 2>/dev/null
then
  rm -f conftestdata
  ac_cv_prog_LN_S="ln -s"
d2113 5
a2117 1
  ac_cv_prog_LN_S=ln
d2119 7
a2125 4
fi
LN_S="$ac_cv_prog_LN_S"
if test "$ac_cv_prog_LN_S" = "ln -s"; then
  echo "$ac_t""yes" 1>&6
d2127 3
a2129 1
  echo "$ac_t""no" 1>&6
d2132 22
a2153 5
echo $ac_n "checking whether ${MAKE-make} sets \${MAKE}""... $ac_c" 1>&6
echo "configure:1069: checking whether ${MAKE-make} sets \${MAKE}" >&5
set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2155 1
a2155 1
  cat > conftestmake <<\EOF
d2160 1
a2160 1
eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`
d2166 1
a2166 1
rm -f conftestmake
d2169 2
a2170 1
  echo "$ac_t""yes" 1>&6
d2173 2
a2174 1
  echo "$ac_t""no" 1>&6
d2185 1
d2190 2
a2191 2
echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
echo "configure:1107: checking for a BSD compatible install" >&5
d2193 2
a2194 2
if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2196 1
a2196 1
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
d2198 1
d2200 4
a2203 2
    case "$ac_dir/" in
    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
d2209 1
a2209 1
        if test -f $ac_dir/$ac_prog; then
d2211 1
a2211 1
            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
d2214 4
a2226 1
  IFS="$ac_save_IFS"
d2230 1
a2230 1
    INSTALL="$ac_cv_path_install"
d2236 1
a2236 1
    INSTALL="$ac_install_sh"
d2239 2
a2240 1
echo "$ac_t""$INSTALL" 1>&6
d2246 77
a2322 1
test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'
d2324 5
a2328 10
test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'

for ac_prog in lint alint lclint tdlint
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1164: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_LINT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2330 3
a2332 20
  if test -n "$LINT"; then
  ac_cv_prog_LINT="$LINT" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_LINT="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
LINT="$ac_cv_prog_LINT"
if test -n "$LINT"; then
  echo "$ac_t""$LINT" 1>&6
else
  echo "$ac_t""no" 1>&6
d2335 10
a2344 2
test -n "$LINT" && break
done
d2346 1
d2348 3
a2350 2
echo $ac_n "checking build system type""... $ac_c" 1>&6
echo "configure:1195: checking build system type" >&5
d2352 1
a2352 8
build_alias=$build
case "$build_alias" in
NONE)
  case $nonopt in
  NONE) build_alias=$host_alias ;;
  *) build_alias=$nonopt ;;
  esac ;;
esac
d2354 126
a2479 5
build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$build" 1>&6
a2480 2
if test $host != $build; then
  ac_tool_prefix=${host_alias}-
d2482 8
a2489 1
  ac_tool_prefix=
d2492 2
a2493 1
# Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
d2495 4
a2498 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1221: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2503 11
a2513 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
d2516 1
a2516 1
RANLIB="$ac_cv_prog_RANLIB"
d2518 2
a2519 1
  echo "$ac_t""$RANLIB" 1>&6
d2521 2
a2522 1
  echo "$ac_t""no" 1>&6
d2525 1
a2525 1

d2527 1
a2527 1
if test -n "$ac_tool_prefix"; then
d2530 4
a2533 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1253: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2535 2
a2536 2
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
d2538 12
a2549 11
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB="':'"
d2552 4
a2555 3
RANLIB="$ac_cv_prog_RANLIB"
if test -n "$RANLIB"; then
  echo "$ac_t""$RANLIB" 1>&6
d2557 2
a2558 1
  echo "$ac_t""no" 1>&6
d2561 1
d2563 1
a2563 2
  RANLIB="':'"
fi
d2566 2
a2567 1
# Extract the first word of "${ac_tool_prefix}ar", so it can be a program name with args.
d2569 4
a2572 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1288: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2577 11
a2587 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_AR="${ac_tool_prefix}ar"
      break
    fi
  done
  IFS="$ac_save_ifs"
d2590 1
a2590 1
AR="$ac_cv_prog_AR"
d2592 2
a2593 1
  echo "$ac_t""$AR" 1>&6
d2595 2
a2596 1
  echo "$ac_t""no" 1>&6
d2599 1
a2599 1

d2601 1
a2601 1
if test -n "$ac_tool_prefix"; then
d2604 4
a2607 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1320: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_AR'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d2609 2
a2610 2
  if test -n "$AR"; then
  ac_cv_prog_AR="$AR" # Let the user override the test.
d2612 12
a2623 11
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_AR="ar"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_AR" && ac_cv_prog_AR="ar"
d2626 4
a2629 3
AR="$ac_cv_prog_AR"
if test -n "$AR"; then
  echo "$ac_t""$AR" 1>&6
d2631 2
a2632 1
  echo "$ac_t""no" 1>&6
d2635 1
d2637 1
a2637 2
  AR="ar"
fi
d2640 2
a2641 2
if eval "test \"`echo '$''{'cf_cv_subst_AR_OPTS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a2642 11
  
echo $ac_n "checking for archiver options (symbol AR_OPTS)""... $ac_c" 1>&6
echo "configure:1357: checking for archiver options (symbol AR_OPTS)" >&5
test -z "$AR_OPTS" && AR_OPTS=rv
echo "$ac_t""$AR_OPTS" 1>&6

cf_cv_subst_AR_OPTS=$AR_OPTS
fi

AR_OPTS=${cf_cv_subst_AR_OPTS}

d2644 2
a2645 8
echo $ac_n "checking for AIX""... $ac_c" 1>&6
echo "configure:1368: checking for AIX" >&5
cat > conftest.$ac_ext <<EOF
#line 1370 "configure"
#include "confdefs.h"
#ifdef _AIX
  yes
#endif
d2647 2
a2648 7
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6; cat >> confdefs.h <<\EOF
#define _ALL_SOURCE 1
EOF
a2649 3
else
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
a2650 1
rm -f conftest*
d2652 3
a2655 19
echo $ac_n "checking for POSIXized ISC""... $ac_c" 1>&6
echo "configure:1392: checking for POSIXized ISC" >&5
if test -d /etc/conf/kconfig.d &&
  grep _POSIX_VERSION /usr/include/sys/unistd.h >/dev/null 2>&1
then
  echo "$ac_t""yes" 1>&6
  ISC=yes # If later tests want to check for ISC.
  cat >> confdefs.h <<\EOF
#define _POSIX_SOURCE 1
EOF

  if test "$GCC" = yes; then
    CC="$CC -posix"
  else
    CC="$CC -Xp"
  fi
else
  echo "$ac_t""no" 1>&6
  ISC=
d2658 2
a2659 7





echo $ac_n "checking if you want to see long compiling messages""... $ac_c" 1>&6
echo "configure:1418: checking if you want to see long compiling messages" >&5
d2666 1
a2666 1
    
d2672 1
a2672 1
 
d2674 1
a2674 1
    
d2683 2
a2684 2
  enableval=yes 
  
d2691 3
a2693 10
  
fi

echo "$ac_t""$enableval" 1>&6






d2702 2
a2703 3

echo $ac_n "checking if you want to check memory-leaks""... $ac_c" 1>&6
echo "configure:1470: checking if you want to check memory-leaks" >&5
d2710 1
a2710 1
    with_leak_checks=yes 
d2715 1
a2715 1
  enableval=no 
a2716 2
  
fi
d2718 4
a2721 2
echo "$ac_t""$with_leak_checks" 1>&6
test "$with_leak_checks" = "yes" && cat >> confdefs.h <<\EOF
a2724 1

d2728 2
a2729 2
echo $ac_n "checking if you want to enable debug-code""... $ac_c" 1>&6
echo "configure:1497: checking if you want to enable debug-code" >&5
d2736 1
a2736 1
    with_debug=yes 
d2741 1
a2741 1
  enableval=no 
a2742 2
  
fi
d2744 3
a2746 1
echo "$ac_t""$with_debug" 1>&6
d2750 1
a2750 1
		test -z "$ORIGINAL_CFLAGS" && 
d2770 2
a2771 2
echo $ac_n "checking if you want to enable lynx trace code *recommended* ""... $ac_c" 1>&6
echo "configure:1539: checking if you want to enable lynx trace code *recommended* " >&5
d2778 1
a2778 1
    with_trace=$enableval 
d2783 1
a2783 1
  enableval=yes 
a2784 2
  
fi
d2786 4
a2789 2
echo "$ac_t""$with_trace" 1>&6
test $with_trace = no && cat >> confdefs.h <<\EOF
d2793 2
a2794 3

echo $ac_n "checking if you want verbose trace code""... $ac_c" 1>&6
echo "configure:1563: checking if you want verbose trace code" >&5
d2801 1
a2801 1
    with_vertrace=yes 
d2806 1
a2806 1
  enableval=no 
a2807 2
  
fi
d2809 4
a2812 2
echo "$ac_t""$with_vertrace" 1>&6
test $with_vertrace = yes && cat >> confdefs.h <<\EOF
a2815 1

d2818 2
a2819 2
echo $ac_n "checking if you want to turn on gcc warnings""... $ac_c" 1>&6
echo "configure:1589: checking if you want to turn on gcc warnings" >&5
d2826 1
a2826 1
    with_warnings=yes 
d2831 1
a2831 1
  enableval=no 
a2832 2
  
fi
d2834 3
a2836 1
echo "$ac_t""$with_warnings" 1>&6
d2839 1
a2839 1
	
d2858 2
a2859 2
	echo "checking for $CC __attribute__ directives" 1>&6
echo "configure:1629: checking for $CC __attribute__ directives" >&5
d2861 1
a2861 1
#line 1631 "configure"
d2882 2
a2883 2
		
CF_ATTRIBUTE=`echo "$cf_attribute" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d2890 1
a2890 1
#define GCC_$CF_ATTRIBUTE 1
d2895 1
a2895 1
#define GCC_$CF_ATTRIBUTE $cf_directive
d2899 7
a2905 2
		if { (eval echo configure:1669: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
			test -n "$verbose" && echo "$ac_t""... $cf_attribute" 1>&6
a2914 2
	

d2917 3
a2919 3
	echo $ac_n "checking version of $CC""... $ac_c" 1>&6
echo "configure:1685: checking version of $CC" >&5
	GCC_VERSION="`${CC} --version|sed -e '2,$d' -e 's/^[^0-9.]*//' -e 's/[^0-9.].*//'`"
d2921 2
a2922 1
	echo "$ac_t""$GCC_VERSION" 1>&6
d2925 21
d2947 30
d2978 2
a2979 4
if test "$GCC" = yes
then
	cat > conftest.$ac_ext <<EOF
#line 1696 "configure"
d2982 48
a3029 2
	echo "checking for $CC warning options" 1>&6
echo "configure:1700: checking for $CC warning options" >&5
d3048 7
a3054 2
		if { (eval echo configure:1719: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
			test -n "$verbose" && echo "$ac_t""... -$cf_opt" 1>&6
a3070 1
	rm -f conftest*
d3073 1
a3073 1

d3078 2
a3079 2
echo $ac_n "checking if you want to link with dbmalloc for testing""... $ac_c" 1>&6
echo "configure:1746: checking if you want to link with dbmalloc for testing" >&5
d3087 4
a3090 1
fi
d3092 4
a3095 7
echo "$ac_t""$with_dbmalloc" 1>&6
if test $with_dbmalloc = yes ; then
	echo $ac_n "checking for debug_malloc in -ldbmalloc""... $ac_c" 1>&6
echo "configure:1759: checking for debug_malloc in -ldbmalloc" >&5
ac_lib_var=`echo dbmalloc'_'debug_malloc | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3097 1
a3097 1
  ac_save_LIBS="$LIBS"
d3099 2
a3100 2
cat > conftest.$ac_ext <<EOF
#line 1767 "configure"
d3102 1
d3104 3
d3108 36
a3143 26
    builtin and then its argument prototype would still apply.  */
char debug_malloc();

int main() {
debug_malloc()
; return 0; }
EOF
if { (eval echo configure:1778: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo dbmalloc | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
a3147 2
else
  echo "$ac_t""no" 1>&6
d3152 2
a3153 2
echo $ac_n "checking if you want to link with dmalloc for testing""... $ac_c" 1>&6
echo "configure:1808: checking if you want to link with dmalloc for testing" >&5
d3161 4
a3164 1
fi
d3166 4
a3169 7
echo "$ac_t""$with_dmalloc" 1>&6
if test $with_dmalloc = yes ; then
	echo $ac_n "checking for dmalloc_debug in -ldmalloc""... $ac_c" 1>&6
echo "configure:1821: checking for dmalloc_debug in -ldmalloc" >&5
ac_lib_var=`echo dmalloc'_'dmalloc_debug | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3171 1
a3171 1
  ac_save_LIBS="$LIBS"
d3173 2
a3174 2
cat > conftest.$ac_ext <<EOF
#line 1829 "configure"
d3176 1
d3178 3
d3182 36
a3217 26
    builtin and then its argument prototype would still apply.  */
char dmalloc_debug();

int main() {
dmalloc_debug()
; return 0; }
EOF
if { (eval echo configure:1840: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo dmalloc | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
a3221 2
else
  echo "$ac_t""no" 1>&6
d3226 1
a3226 2

cat >> confdefs.h <<\EOF
d3230 22
a3251 49

echo $ac_n "checking for working const""... $ac_c" 1>&6
echo "configure:1876: checking for working const" >&5
if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1881 "configure"
#include "confdefs.h"

int main() {

/* Ultrix mips cc rejects this.  */
typedef int charset[2]; const charset x;
/* SunOS 4.1.1 cc rejects this.  */
char const *const *ccp;
char **p;
/* NEC SVR4.0.2 mips cc rejects this.  */
struct point {int x, y;};
static struct point const zero = {0,0};
/* AIX XL C 1.02.0.0 rejects this.
   It does not let you subtract one const X* pointer from another in an arm
   of an if-expression whose if-part is not a constant expression */
const char *g = "string";
ccp = &g + (g ? g-g : 0);
/* HPUX 7.0 cc rejects these. */
++ccp;
p = (char**) ccp;
ccp = (char const *const *) p;
{ /* SCO 3.2v4 cc rejects this.  */
  char *t;
  char const *s = 0 ? (char *) 0 : (char const *) 0;

  *t++ = 0;
}
{ /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
  int x[] = {25, 17};
  const int *foo = &x[0];
  ++foo;
}
{ /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
  typedef const int *iptr;
  iptr p = 0;
  ++p;
}
{ /* AIX XL C 1.02.0.0 rejects this saying
     "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
  struct s { int j; const int *ap[3]; };
  struct s *b; b->j = 5;
d3253 21
a3273 2
{ /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
  const int foo = 10;
d3275 33
a3307 20

; return 0; }
EOF
if { (eval echo configure:1930: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_c_const=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_c_const=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_c_const" 1>&6
if test $ac_cv_c_const = no; then
  cat >> confdefs.h <<\EOF
#define const 
EOF
d3311 9
d3321 4
a3324 4
echo $ac_n "checking for Cygwin environment""... $ac_c" 1>&6
echo "configure:1952: checking for Cygwin environment" >&5
if eval "test \"`echo '$''{'ac_cv_cygwin'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3326 2
a3327 2
  cat > conftest.$ac_ext <<EOF
#line 1957 "configure"
d3330 27
a3356 1
int main() {
d3358 20
a3377 2
#ifndef __CYGWIN__
#define __CYGWIN__ __CYGWIN32__
a3378 15
return __CYGWIN__;
; return 0; }
EOF
if { (eval echo configure:1968: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_cygwin=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_cygwin=no
fi
rm -f conftest*
rm -f conftest*
fi
d3380 17
a3396 19
echo "$ac_t""$ac_cv_cygwin" 1>&6
CYGWIN=
test "$ac_cv_cygwin" = yes && CYGWIN=yes
echo $ac_n "checking for mingw32 environment""... $ac_c" 1>&6
echo "configure:1985: checking for mingw32 environment" >&5
if eval "test \"`echo '$''{'ac_cv_mingw32'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1990 "configure"
#include "confdefs.h"

int main() {
return __MINGW32__;
; return 0; }
EOF
if { (eval echo configure:1997: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_mingw32=yes
d3398 3
a3400 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_mingw32=no
d3402 1
a3402 2
rm -f conftest*
rm -f conftest*
d3404 3
d3408 3
a3410 3
echo "$ac_t""$ac_cv_mingw32" 1>&6
MINGW32=
test "$ac_cv_mingw32" = yes && MINGW32=yes
d3412 1
a3424 58


echo $ac_n "checking for executable suffix""... $ac_c" 1>&6
echo "configure:2029: checking for executable suffix" >&5
if eval "test \"`echo '$''{'ac_cv_exeext'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$CYGWIN" = yes || test "$MINGW32" = yes; then
  ac_cv_exeext=.exe
else
  rm -f conftest*
  echo 'int main () { return 0; }' > conftest.$ac_ext
  ac_cv_exeext=
  if { (eval echo configure:2039: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; }; then
    for file in conftest.*; do
      case $file in
      *.c | *.o | *.obj) ;;
      *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;
      esac
    done
  else
    { echo "configure: error: installation or configuration problem: compiler cannot create executables." 1>&2; exit 1; }
  fi
  rm -f conftest*
  test x"${ac_cv_exeext}" = x && ac_cv_exeext=no
fi
fi

EXEEXT=""
test x"${ac_cv_exeext}" != xno && EXEEXT=${ac_cv_exeext}
echo "$ac_t""${ac_cv_exeext}" 1>&6
ac_exeext=$EXEEXT

echo $ac_n "checking for object suffix""... $ac_c" 1>&6
echo "configure:2060: checking for object suffix" >&5
if eval "test \"`echo '$''{'ac_cv_objext'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  rm -f conftest*
echo 'int i = 1;' > conftest.$ac_ext
if { (eval echo configure:2066: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  for ac_file in conftest.*; do
    case $ac_file in
    *.c) ;;
    *) ac_cv_objext=`echo $ac_file | sed -e s/conftest.//` ;;
    esac
  done
else
  { echo "configure: error: installation or configuration problem; compiler does not work" 1>&2; exit 1; }
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_objext" 1>&6
OBJEXT=$ac_cv_objext
ac_objext=$ac_cv_objext


d3427 1
a3427 1
test -n "$PROG_EXT" && cat >> confdefs.h <<EOF
a3430 1

d3451 5
a3455 5
	echo $ac_n "checking for strcmp in -lc_s""... $ac_c" 1>&6
echo "configure:2112: checking for strcmp in -lc_s" >&5
ac_lib_var=`echo c_s'_'strcmp | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3457 1
a3457 1
  ac_save_LIBS="$LIBS"
d3459 2
a3460 2
cat > conftest.$ac_ext <<EOF
#line 2120 "configure"
d3462 1
d3464 3
d3468 36
a3503 26
    builtin and then its argument prototype would still apply.  */
char strcmp();

int main() {
strcmp()
; return 0; }
EOF
if { (eval echo configure:2131: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo c_s | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
a3507 2
else
  echo "$ac_t""no" 1>&6
d3522 2
a3523 2
	TRY_CFLAGS="$TRY_CFLAGS -DSNAKE"
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -Wp,-H600000"
d3530 3
d3554 1
a3554 1
	TRY_CFLAGS="$TRY_CFLAGS -DDSYS5"
d3559 1
a3559 1
	TRY_CFLAGS="$TRY_CFLAGS -DDSYS5"
d3562 1
a3562 1
	test $ac_cv_prog_gcc != yes && TRY_CFLAGS="$TRY_CFLAGS -belf"
d3570 2
a3571 1
		echo "configure: warning: You should consider using gcc or rcc if available" 1>&2
d3575 1
a3575 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d3577 4
a3580 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2222: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3585 11
a3595 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
d3598 1
a3598 1
CC="$ac_cv_prog_CC"
d3600 2
a3601 1
  echo "$ac_t""$CC" 1>&6
d3603 2
a3604 1
  echo "$ac_t""no" 1>&6
d3607 1
a3607 1
test -n "$CC" && break
d3622 2
a3623 1
	for ac_hdr in jcurses.h
d3625 24
a3648 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2267: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3650 4
a3653 11
  cat > conftest.$ac_ext <<EOF
#line 2272 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2277: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d3655 1
a3655 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d3657 1
a3657 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d3659 1
a3659 1
rm -f conftest*
d3661 5
a3665 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d3667 1
a3667 3
 
else
  echo "$ac_t""no" 1>&6
d3685 2
a3686 1
	for ac_hdr in cursesX.h
d3688 24
a3711 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2321: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3713 4
a3716 11
  cat > conftest.$ac_ext <<EOF
#line 2326 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2331: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d3718 1
a3718 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d3720 1
a3720 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d3722 1
a3722 1
rm -f conftest*
d3724 5
a3728 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d3730 1
a3730 1
 cat >> confdefs.h <<\EOF
a3734 2
else
  echo "$ac_t""no" 1>&6
d3741 4
a3744 6
if test -z "$GCC" ; then
	
echo $ac_n "checking for ${CC-cc} option to accept ANSI C""... $ac_c" 1>&6
echo "configure:2367: checking for ${CC-cc} option to accept ANSI C" >&5
if eval "test \"`echo '$''{'cf_cv_ansi_cc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3746 1
a3746 1
  
d3765 2
a3766 1
	
d3769 2
d3773 2
d3777 17
d3806 11
d3820 1
a3820 1
	
d3825 1
a3825 1
	
d3829 1
d3831 5
a3835 2
	cat > conftest.$ac_ext <<EOF
#line 2423 "configure"
d3844 507
a4350 1
int main() {
d4352 17
a4368 8
	int test (int i, double x);
	struct s1 {int (*f) (int a);};
	struct s2 {int (*f) (double a);};
; return 0; }
EOF
if { (eval echo configure:2439: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_ansi_cc="$cf_arg"; break
d4370 2
a4371 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4373 2
a4374 1
rm -f conftest*
a4375 3
CFLAGS="$cf_save_CFLAGS"
CPPFLAGS="$cf_save_CPPFLAGS"

d4377 3
d4381 3
a4383 24
echo "$ac_t""$cf_cv_ansi_cc" 1>&6

if test "$cf_cv_ansi_cc" != "no"; then
if test ".$cf_cv_ansi_cc" != ".-DCC_HAS_PROTOS"; then
	
cf_new_cflags=
cf_new_cppflags=
for cf_add_cflags in $cf_cv_ansi_cc
do
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
done
a4384 3
if test -n "$cf_new_cflags" ; then
	
	CFLAGS="$CFLAGS $cf_new_cflags"
d4386 1
a4386 4

if test -n "$cf_new_cppflags" ; then
	
	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
d4389 9
d4399 4
a4403 3
	cat >> confdefs.h <<\EOF
#define CC_HAS_PROTOS 1
EOF
d4405 3
a4407 2
fi
fi
d4409 2
a4410 1
fi
d4412 3
d4416 36
d4453 7
a4459 7

# Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2505: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4464 11
a4474 11
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
d4477 1
a4477 1
RANLIB="$ac_cv_prog_RANLIB"
d4479 44
a4522 1
  echo "$ac_t""$RANLIB" 1>&6
d4524 1
a4524 1
  echo "$ac_t""no" 1>&6
d4527 4
a4530 4
echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:2533: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4532 2
a4533 2
  cat > conftest.$ac_ext <<EOF
#line 2538 "configure"
d4539 19
a4557 6
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2546: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
d4560 1
a4560 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
a4561 1
  rm -rf conftest*
d4564 1
a4564 1
rm -f conftest*
d4568 2
a4569 2
cat > conftest.$ac_ext <<EOF
#line 2563 "configure"
d4572 2
a4573 1
EOF
a4577 1
  rm -rf conftest*
d4586 2
a4587 2
cat > conftest.$ac_ext <<EOF
#line 2581 "configure"
d4590 2
a4591 1
EOF
a4595 1
  rm -rf conftest*
d4604 1
a4604 1
if test "$cross_compiling" = yes; then
d4607 2
a4608 2
  cat > conftest.$ac_ext <<EOF
#line 2602 "configure"
d4611 10
a4620 2
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
d4622 22
a4643 7
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:2613: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d4646 4
a4649 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
d4651 1
a4651 1
rm -fr conftest*
a4652 1

d4655 3
d4659 1
a4659 3
echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
d4665 4
a4668 4
echo $ac_n "checking for inline""... $ac_c" 1>&6
echo "configure:2637: checking for inline" >&5
if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4672 2
a4673 2
  cat > conftest.$ac_ext <<EOF
#line 2644 "configure"
d4675 18
a4692 7

int main() {
} $ac_kw foo() {
; return 0; }
EOF
if { (eval echo configure:2651: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d4695 2
a4696 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d4698 1
a4698 1
rm -f conftest*
d4702 3
a4704 3

echo "$ac_t""$ac_cv_c_inline" 1>&6
case "$ac_cv_c_inline" in
d4706 3
a4708 2
  no) cat >> confdefs.h <<\EOF
#define inline 
d4711 1
a4711 1
  *)  cat >> confdefs.h <<EOF
d4717 51
a4767 4
echo $ac_n "checking for off_t""... $ac_c" 1>&6
echo "configure:2677: checking for off_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_off_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4769 2
a4770 2
  cat > conftest.$ac_ext <<EOF
#line 2682 "configure"
d4772 24
a4795 9
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])off_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
d4798 11
a4808 4
  rm -rf conftest*
  ac_cv_type_off_t=no
fi
rm -f conftest*
d4810 1
a4810 4
fi
echo "$ac_t""$ac_cv_type_off_t" 1>&6
if test $ac_cv_type_off_t = no; then
  cat >> confdefs.h <<\EOF
d4816 4
a4819 4
echo $ac_n "checking for size_t""... $ac_c" 1>&6
echo "configure:2710: checking for size_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_size_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4821 2
a4822 2
  cat > conftest.$ac_ext <<EOF
#line 2715 "configure"
d4824 24
a4847 9
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
d4850 11
a4860 4
  rm -rf conftest*
  ac_cv_type_size_t=no
fi
rm -f conftest*
d4862 1
a4862 4
fi
echo "$ac_t""$ac_cv_type_size_t" 1>&6
if test $ac_cv_type_size_t = no; then
  cat >> confdefs.h <<\EOF
d4870 4
a4873 4
echo $ac_n "checking for working alloca.h""... $ac_c" 1>&6
echo "configure:2745: checking for working alloca.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_alloca_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4875 2
a4876 2
  cat > conftest.$ac_ext <<EOF
#line 2750 "configure"
d4879 31
a4909 15
int main() {
char *p = alloca(2 * sizeof(int));
; return 0; }
EOF
if { (eval echo configure:2757: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_cv_header_alloca_h=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_alloca_h=no
fi
rm -f conftest*
fi
d4911 1
a4911 3
echo "$ac_t""$ac_cv_header_alloca_h" 1>&6
if test $ac_cv_header_alloca_h = yes; then
  cat >> confdefs.h <<\EOF
d4917 4
a4920 4
echo $ac_n "checking for alloca""... $ac_c" 1>&6
echo "configure:2778: checking for alloca" >&5
if eval "test \"`echo '$''{'ac_cv_func_alloca_works'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4922 2
a4923 2
  cat > conftest.$ac_ext <<EOF
#line 2783 "configure"
a4924 1

d4946 20
a4965 6
int main() {
char *p = (char *) alloca(1);
; return 0; }
EOF
if { (eval echo configure:2811: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d4968 3
a4970 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_func_alloca_works=no
d4972 1
a4972 1
rm -f conftest*
d4974 2
a4976 1
echo "$ac_t""$ac_cv_func_alloca_works" 1>&6
d4978 2
a4979 1
  cat >> confdefs.h <<\EOF
d4983 7
a4989 1
fi
d4991 1
a4991 7
if test $ac_cv_func_alloca_works = no; then
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
  # that cause trouble.  Some versions do not even contain alloca or
  # contain a buggy version.  If you still want to use their alloca,
  # use ar to extract alloca.o from them instead of compiling alloca.c.
  ALLOCA=alloca.${ac_objext}
  cat >> confdefs.h <<\EOF
d4995 4
a4998 5

echo $ac_n "checking whether alloca needs Cray hooks""... $ac_c" 1>&6
echo "configure:2843: checking whether alloca needs Cray hooks" >&5
if eval "test \"`echo '$''{'ac_cv_os_cray'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5000 2
a5001 2
  cat > conftest.$ac_ext <<EOF
#line 2848 "configure"
d5009 1
a5009 1
EOF
a5011 1
  rm -rf conftest*
a5013 1
  rm -rf conftest*
d5019 2
a5020 2

echo "$ac_t""$ac_cv_os_cray" 1>&6
d5022 6
a5027 5
for ac_func in _getb67 GETB67 getb67; do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2873: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5029 2
a5030 2
  cat > conftest.$ac_ext <<EOF
#line 2878 "configure"
d5033 1
a5033 1
    which can conflict with char $ac_func(); below.  */
d5036 3
d5040 3
a5042 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d5044 3
d5053 1
a5053 1
$ac_func();
d5056 27
a5082 13
; return 0; }
EOF
if { (eval echo configure:2901: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi
d5084 1
a5084 3
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<EOF
d5088 1
a5088 3
  break
else
  echo "$ac_t""no" 1>&6
d5091 1
a5091 1
done
d5094 4
a5097 4
echo $ac_n "checking stack direction for C alloca""... $ac_c" 1>&6
echo "configure:2928: checking stack direction for C alloca" >&5
if eval "test \"`echo '$''{'ac_cv_c_stack_direction'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5102 2
a5103 2
  cat > conftest.$ac_ext <<EOF
#line 2936 "configure"
d5105 1
d5118 2
d5122 1
a5122 1
  exit (find_stack_direction() < 0);
d5124 12
a5135 3
EOF
if { (eval echo configure:2955: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d5138 4
a5141 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_c_stack_direction=-1
d5143 1
a5143 1
rm -fr conftest*
a5144 1

d5146 2
d5149 1
a5149 2
echo "$ac_t""$ac_cv_c_stack_direction" 1>&6
cat >> confdefs.h <<EOF
d5155 1
a5155 1
for ac_hdr in unistd.h
d5157 24
a5180 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2980: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5182 4
a5185 11
  cat > conftest.$ac_ext <<EOF
#line 2985 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2990: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d5187 1
a5187 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d5189 1
a5189 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d5191 1
a5191 1
rm -f conftest*
d5193 5
a5197 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d5199 1
a5199 3
 
else
  echo "$ac_t""no" 1>&6
d5205 5
a5209 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3019: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5211 2
a5212 2
  cat > conftest.$ac_ext <<EOF
#line 3024 "configure"
d5215 1
a5215 1
    which can conflict with char $ac_func(); below.  */
d5218 3
d5222 3
a5224 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d5226 3
d5235 1
a5235 1
$ac_func();
d5238 17
a5254 5
; return 0; }
EOF
if { (eval echo configure:3047: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d5256 3
a5258 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
d5260 1
a5260 1
rm -f conftest*
d5262 6
a5268 9
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
d5272 4
a5275 4
echo $ac_n "checking for working mmap""... $ac_c" 1>&6
echo "configure:3072: checking for working mmap" >&5
if eval "test \"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5280 2
a5281 2
  cat > conftest.$ac_ext <<EOF
#line 3080 "configure"
d5283 1
a5283 1

d5296 1
a5296 1
   VM page cache was not coherent with the filesystem buffer cache
d5305 1
a5305 1
#include <sys/types.h>
d5309 4
d5314 1
a5314 5
#ifndef HAVE_GETPAGESIZE
# ifdef HAVE_UNISTD_H
#  include <unistd.h>
# endif

d5316 1
a5316 1
# ifndef HAVE_SYS_PARAM_H
d5323 1
a5323 1
#  ifdef HAVE_SYS_PARAM_H
a5349 6
#ifdef __cplusplus
extern "C" { void *malloc(unsigned); }
#else
char *malloc();
#endif

d5351 1
a5351 1
main()
d5353 65
a5417 64
	char *data, *data2, *data3;
	int i, pagesize;
	int fd;

	pagesize = getpagesize();

	/*
	 * First, make a file with some known garbage in it.
	 */
	data = malloc(pagesize);
	if (!data)
		exit(1);
	for (i = 0; i < pagesize; ++i)
		*(data + i) = rand();
	umask(0);
	fd = creat("conftestmmap", 0600);
	if (fd < 0)
		exit(1);
	if (write(fd, data, pagesize) != pagesize)
		exit(1);
	close(fd);

	/*
	 * Next, try to mmap the file at a fixed address which
	 * already has something else allocated at it.  If we can,
	 * also make sure that we see the same garbage.
	 */
	fd = open("conftestmmap", O_RDWR);
	if (fd < 0)
		exit(1);
	data2 = malloc(2 * pagesize);
	if (!data2)
		exit(1);
	data2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);
	if (data2 != mmap(data2, pagesize, PROT_READ | PROT_WRITE,
	    MAP_PRIVATE | MAP_FIXED, fd, 0L))
		exit(1);
	for (i = 0; i < pagesize; ++i)
		if (*(data + i) != *(data2 + i))
			exit(1);

	/*
	 * Finally, make sure that changes to the mapped area
	 * do not percolate back to the file as seen by read().
	 * (This is a bug on some variants of i386 svr4.0.)
	 */
	for (i = 0; i < pagesize; ++i)
		*(data2 + i) = *(data2 + i) + 1;
	data3 = malloc(pagesize);
	if (!data3)
		exit(1);
	if (read(fd, data3, pagesize) != pagesize)
		exit(1);
	for (i = 0; i < pagesize; ++i)
		if (*(data + i) != *(data3 + i))
			exit(1);
	close(fd);
	unlink("conftestmmap");
	exit(0);
}

EOF
if { (eval echo configure:3220: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d5420 4
a5423 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_func_mmap_fixed_mapped=no
d5425 1
a5425 1
rm -fr conftest*
a5426 1

d5428 3
d5432 1
a5432 3
echo "$ac_t""$ac_cv_func_mmap_fixed_mapped" 1>&6
if test $ac_cv_func_mmap_fixed_mapped = yes; then
  cat >> confdefs.h <<\EOF
d5437 1
d5439 4
a5442 5

    echo $ac_n "checking whether we are using the GNU C Library 2.1 or newer""... $ac_c" 1>&6
echo "configure:3244: checking whether we are using the GNU C Library 2.1 or newer" >&5
if eval "test \"`echo '$''{'ac_cv_gnu_library_2_1'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5444 2
a5445 2
  cat > conftest.$ac_ext <<EOF
#line 3249 "configure"
d5454 2
a5455 2
	
EOF
a5457 1
  rm -rf conftest*
a5459 1
  rm -rf conftest*
a5463 2
      
    
d5465 2
a5467 2
echo "$ac_t""$ac_cv_gnu_library_2_1" 1>&6
    
a5468 2
  

a5474 3
	


a5481 1

d5490 1
a5490 3

                                    
   for ac_hdr in argz.h limits.h locale.h nl_types.h malloc.h stddef.h \
d5493 24
a5516 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:3311: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5518 4
a5521 11
  cat > conftest.$ac_ext <<EOF
#line 3316 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:3321: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d5523 1
a5523 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d5525 1
a5525 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d5527 1
a5527 1
rm -f conftest*
d5529 5
a5533 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d5535 1
a5535 3
 
else
  echo "$ac_t""no" 1>&6
d5539 1
a5539 1
   for ac_func in feof_unlocked fgets_unlocked getcwd getegid geteuid \
d5543 5
a5547 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3352: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5549 2
a5550 2
  cat > conftest.$ac_ext <<EOF
#line 3357 "configure"
d5553 1
a5553 1
    which can conflict with char $ac_func(); below.  */
d5556 3
d5560 3
a5562 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d5564 3
d5573 1
a5573 1
$ac_func();
d5576 29
a5604 1
; return 0; }
a5605 11
if { (eval echo configure:3380: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi
a5606 9
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
a5609 4

   
    
  
d5613 1
a5613 1
  
a5617 2
   
fi
d5619 1
d5621 4
a5624 4
  echo $ac_n "checking for iconv""... $ac_c" 1>&6
echo "configure:3421: checking for iconv" >&5
if eval "test \"`echo '$''{'am_cv_func_iconv'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5626 1
a5626 1
  
d5629 2
a5630 2
    cat > conftest.$ac_ext <<EOF
#line 3429 "configure"
d5634 3
a5636 1
int main() {
d5640 16
a5655 4
; return 0; }
EOF
if { (eval echo configure:3439: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d5658 2
a5659 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5661 1
a5661 1
rm -f conftest*
d5665 2
a5666 2
      cat > conftest.$ac_ext <<EOF
#line 3451 "configure"
d5670 3
a5672 1
int main() {
d5676 16
a5691 4
; return 0; }
EOF
if { (eval echo configure:3461: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d5695 2
a5696 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d5698 1
a5698 1
rm -f conftest*
d5701 1
a5701 1
  
d5703 3
d5707 1
a5707 3
echo "$ac_t""$am_cv_func_iconv" 1>&6
  if test "$am_cv_func_iconv" = yes; then
    cat >> confdefs.h <<\EOF
d5711 8
a5718 8
    echo $ac_n "checking for iconv declaration""... $ac_c" 1>&6
echo "configure:3482: checking for iconv declaration" >&5
    if eval "test \"`echo '$''{'am_cv_proto_iconv'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
      cat > conftest.$ac_ext <<EOF
#line 3488 "configure"
d5733 3
a5735 1
int main() {
d5737 16
a5752 4
; return 0; }
EOF
if { (eval echo configure:3507: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d5755 3
a5757 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  am_cv_proto_iconv_arg1="const"
d5759 1
a5759 1
rm -f conftest*
d5764 6
a5769 3
    echo "$ac_t""${ac_t:-
         }$am_cv_proto_iconv" 1>&6
    cat >> confdefs.h <<EOF
a5777 1
  
d5779 4
a5782 5
   
  echo $ac_n "checking for nl_langinfo and CODESET""... $ac_c" 1>&6
echo "configure:3536: checking for nl_langinfo and CODESET" >&5
if eval "test \"`echo '$''{'am_cv_langinfo_codeset'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5784 2
a5785 2
  cat > conftest.$ac_ext <<EOF
#line 3541 "configure"
d5788 3
a5790 1
int main() {
d5792 16
a5807 4
; return 0; }
EOF
if { (eval echo configure:3548: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d5810 3
a5812 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  am_cv_langinfo_codeset=no
d5814 2
a5815 2
rm -f conftest*
    
d5817 3
d5821 1
a5821 3
echo "$ac_t""$am_cv_langinfo_codeset" 1>&6
  if test $am_cv_langinfo_codeset = yes; then
    cat >> confdefs.h <<\EOF
d5828 4
a5831 4
    echo $ac_n "checking for LC_MESSAGES""... $ac_c" 1>&6
echo "configure:3571: checking for LC_MESSAGES" >&5
if eval "test \"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5833 2
a5834 2
  cat > conftest.$ac_ext <<EOF
#line 3576 "configure"
d5837 3
a5839 1
int main() {
d5841 16
a5856 4
; return 0; }
EOF
if { (eval echo configure:3583: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d5859 3
a5861 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  am_cv_val_LC_MESSAGES=no
d5863 1
a5863 1
rm -f conftest*
d5865 3
d5869 1
a5869 3
echo "$ac_t""$am_cv_val_LC_MESSAGES" 1>&6
    if test $am_cv_val_LC_MESSAGES = yes; then
      cat >> confdefs.h <<\EOF
d5875 3
a5877 4
   echo $ac_n "checking whether NLS is requested""... $ac_c" 1>&6
echo "configure:3604: checking whether NLS is requested" >&5
        
    
d5884 3
a5886 4
fi

    echo "$ac_t""$USE_NLS" 1>&6
    
d5893 2
a5894 1
      cat >> confdefs.h <<\EOF
d5898 3
a5900 3
      echo $ac_n "checking whether included gettext is requested""... $ac_c" 1>&6
echo "configure:3628: checking whether included gettext is requested" >&5
      
d5907 3
a5909 3
fi

      echo "$ac_t""$nls_cv_force_use_gnu_gettext" 1>&6
d5915 4
a5918 8
                
        

	ac_safe=`echo "libintl.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for libintl.h""... $ac_c" 1>&6
echo "configure:3649: checking for libintl.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5920 2
a5921 2
  cat > conftest.$ac_ext <<EOF
#line 3654 "configure"
d5924 19
a5942 7
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:3659: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d5944 1
a5944 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d5946 151
a6096 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d6098 10
a6107 1
rm -f conftest*
d6109 10
a6118 6
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  echo $ac_n "checking for GNU gettext in libc""... $ac_c" 1>&6
echo "configure:3676: checking for GNU gettext in libc" >&5
if eval "test \"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6120 2
a6121 2
  cat > conftest.$ac_ext <<EOF
#line 3681 "configure"
d6125 3
a6127 1
int main() {
d6130 16
a6145 4
; return 0; }
EOF
if { (eval echo configure:3690: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d6148 5
a6152 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gt_cv_func_gnugettext1_libc=no
d6154 137
a6290 1
rm -f conftest*
d6292 5
d6298 2
a6299 1
echo "$ac_t""$gt_cv_func_gnugettext1_libc" 1>&6
d6301 2
a6302 21
	   if test "$gt_cv_func_gnugettext1_libc" != "yes"; then
	     echo $ac_n "checking for GNU gettext in libintl""... $ac_c" 1>&6
echo "configure:3706: checking for GNU gettext in libintl" >&5
if eval "test \"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  gt_save_LIBS="$LIBS"
		LIBS="$LIBS -lintl $LIBICONV"
		cat > conftest.$ac_ext <<EOF
#line 3713 "configure"
#include "confdefs.h"
#include <libintl.h>
extern int _nl_msg_cat_cntr;
int main() {
bindtextdomain ("", "");
return (int) gettext ("") + _nl_msg_cat_cntr
; return 0; }
EOF
if { (eval echo configure:3722: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  gt_cv_func_gnugettext1_libintl=yes
d6304 1
a6304 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gt_cv_func_gnugettext1_libintl=no
fi
rm -f conftest*
		LIBS="$gt_save_LIBS"
a6306 1
echo "$ac_t""$gt_cv_func_gnugettext1_libintl" 1>&6
d6312 2
a6313 1
	     cat >> confdefs.h <<\EOF
a6316 1

d6323 2
a6324 1
	     for ac_func in dcgettext
d6326 5
a6330 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:3755: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6332 2
a6333 2
  cat > conftest.$ac_ext <<EOF
#line 3760 "configure"
d6336 1
a6336 1
    which can conflict with char $ac_func(); below.  */
d6339 3
d6343 3
a6345 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d6347 3
d6356 1
a6356 1
$ac_func();
d6359 29
a6387 1
; return 0; }
a6388 11
if { (eval echo configure:3783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi
a6389 9
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
d6398 4
a6401 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3813: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6404 1
a6404 1
  /*)
d6408 1
d6412 1
a6412 1
    if test -f $ac_dir/$ac_word; then
d6414 1
a6414 1
	ac_cv_path_MSGFMT="$ac_dir/$ac_word"
d6426 2
a6427 1
  echo "$ac_t""$MSGFMT" 1>&6
d6429 2
a6430 1
  echo "$ac_t""no" 1>&6
d6435 4
a6438 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3847: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6440 2
a6441 2
  case "$GMSGFMT" in
  /*)
a6443 3
  ?:/*)			 
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a dos path.
  ;;
d6445 12
a6456 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d6461 2
a6462 1
GMSGFMT="$ac_cv_path_GMSGFMT"
d6464 2
a6465 1
  echo "$ac_t""$GMSGFMT" 1>&6
d6467 2
a6468 1
  echo "$ac_t""no" 1>&6
a6470 1

d6474 4
a6477 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3885: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6480 1
a6480 1
  /*)
d6484 1
d6488 1
a6488 1
    if test -f $ac_dir/$ac_word; then
d6490 1
a6490 1
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word"
d6502 2
a6503 1
  echo "$ac_t""$XGETTEXT" 1>&6
d6505 2
a6506 1
  echo "$ac_t""no" 1>&6
a6508 1

d6511 1
a6511 3
	
else
  echo "$ac_t""no" 1>&6
a6513 1

d6521 3
a6523 1
	  { echo "configure: error: no NLS library is packaged with this application" 1>&2; exit 1; }
d6529 4
a6532 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3939: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6535 1
a6535 1
  /*)
d6539 1
d6543 1
a6543 1
    if test -f $ac_dir/$ac_word; then
d6545 1
a6545 1
	ac_cv_path_MSGFMT="$ac_dir/$ac_word"
d6557 2
a6558 1
  echo "$ac_t""$MSGFMT" 1>&6
d6560 2
a6561 1
  echo "$ac_t""no" 1>&6
d6566 4
a6569 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3973: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6571 2
a6572 2
  case "$GMSGFMT" in
  /*)
a6574 3
  ?:/*)			 
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a dos path.
  ;;
d6576 12
a6587 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d6592 2
a6593 1
GMSGFMT="$ac_cv_path_GMSGFMT"
d6595 2
a6596 1
  echo "$ac_t""$GMSGFMT" 1>&6
d6598 2
a6599 1
  echo "$ac_t""no" 1>&6
d6605 4
a6608 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4010: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6611 1
a6611 1
  /*)
d6615 1
d6619 1
a6619 1
    if test -f $ac_dir/$ac_word; then
d6621 1
a6621 1
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word"
d6633 2
a6634 1
  echo "$ac_t""$XGETTEXT" 1>&6
d6636 2
a6637 1
  echo "$ac_t""no" 1>&6
a6639 1
        
d6651 2
a6652 1
	  echo "$ac_t""found msgfmt program is not GNU msgfmt; ignore it" 1>&6
d6661 2
a6662 1
	  echo "$ac_t""found xgettext program is not GNU xgettext; ignore it" 1>&6
d6670 1
a6670 2
    

d6679 1
a6679 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d6681 4
a6684 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4083: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6689 11
a6699 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_INTLBISON="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
d6702 1
a6702 1
INTLBISON="$ac_cv_prog_INTLBISON"
d6704 2
a6705 1
  echo "$ac_t""$INTLBISON" 1>&6
d6707 2
a6708 1
  echo "$ac_t""no" 1>&6
d6711 1
a6711 1
test -n "$INTLBISON" && break
d6717 2
a6718 2
            echo $ac_n "checking version of bison""... $ac_c" 1>&6
echo "configure:4116: checking version of bison" >&5
d6726 2
a6727 1
      echo "$ac_t""$ac_prog_version" 1>&6
a6738 10
        
    
    
    
    
    
    
    
    

a6742 1
    
a6744 1
    
a6746 2
    
  
d6752 2
a6753 2
       echo $ac_n "checking for catalogs to be installed""... $ac_c" 1>&6
echo "configure:4164: checking for catalogs to be installed" >&5
d6772 2
a6773 1
       echo "$ac_t""$LINGUAS" 1>&6
a6792 1
   
a6794 2
   

a6799 1

d6805 3
a6807 3
echo $ac_n "checking if we should use included message-library""... $ac_c" 1>&6
echo "configure:4220: checking if we should use included message-library" >&5
	
d6814 1
d6816 2
a6817 3

fi
echo "$ac_t""$use_our_messages" 1>&6
d6823 1
a6823 1
	SUB_MAKEFILE="$SUB_MAKEFILE $srcdir/po/$cf_makefile.in:$srcdir/po/$cf_makefile.inn"
a6826 4




d6836 1
a6836 1
		cat >> confdefs.h <<\EOF
d6845 1
a6845 1
				SUB_MAKEFILE="$SUB_MAKEFILE `echo ${cf_makefile}|sed -e 's/\.in$//'`:${cf_makefile}"
d6853 2
a6854 1
		for ac_hdr in libintl.h
d6856 24
a6879 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:4275: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6881 4
a6884 11
  cat > conftest.$ac_ext <<EOF
#line 4280 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:4285: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d6886 1
a6886 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d6888 1
a6888 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d6890 1
a6890 1
rm -f conftest*
d6892 5
a6896 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d6898 1
a6898 3
 
else
  echo "$ac_t""no" 1>&6
a6916 6






d6919 1
a6919 1
		cat >> confdefs.h <<\EOF
d6924 1
a6924 1
		cat >> confdefs.h <<\EOF
d6930 1
a6930 1
		cat >> confdefs.h <<\EOF
a6936 1

a6941 3



d6945 1
a6945 1
  :
d6948 5
d6966 1
a6966 1
    withval=`echo $withval | sed -e s%NONE%$ac_default_prefix%`
d6970 2
a6971 2
.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$ac_default_prefix%`
d6974 3
a6976 1
  { echo "configure: error: expected a pathname, not \"$withval\"" 1>&2; exit 1; }
d6980 1
a6980 1
eval NLS_DATADIR="$withval"
d6982 2
a6983 3

echo $ac_n "checking if you want full utility pathnames""... $ac_c" 1>&6
echo "configure:4396: checking if you want full utility pathnames" >&5
d6990 1
a6990 1
    with_full_paths=no 
d6995 1
a6995 1
  enableval=yes 
a6996 2
  
fi
d6998 4
a7001 2
echo "$ac_t""$with_full_paths" 1>&6
test $with_full_paths = no && cat >> confdefs.h <<\EOF
d7005 5
a7010 7

echo $ac_n "checking for system mailer""... $ac_c" 1>&6
echo "configure:4421: checking for system mailer" >&5
if eval "test \"`echo '$''{'cf_cv_SYSTEM_MAIL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d7015 1
a7015 1
	
d7022 1
a7022 1
	
d7025 3
a7027 2
echo "$ac_t""$cf_cv_SYSTEM_MAIL" 1>&6
cat >> confdefs.h <<EOF
d7031 5
a7036 7

echo $ac_n "checking system mail flags""... $ac_c" 1>&6
echo "configure:4448: checking system mail flags" >&5
if eval "test \"`echo '$''{'cf_cv_system_mail_flags'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d7044 1
a7044 1
	
d7047 3
a7049 2
echo "$ac_t""$cf_cv_system_mail_flags" 1>&6
cat >> confdefs.h <<EOF
a7052 1

d7059 56
d7117 3
d7121 6
a7126 1
	CPPFLAGS="$CPPFLAGS -D_BSD_TYPES -D__BSD_VISIBLE -D_POSIX_C_SOURCE=200112 -D_XOPEN_SOURCE=600"
d7131 1
a7131 1
irix6.*) #(vi
d7134 6
a7139 6
linux*) #(vi
	
echo $ac_n "checking if we must define _GNU_SOURCE""... $ac_c" 1>&6
echo "configure:4489: checking if we must define _GNU_SOURCE" >&5
if eval "test \"`echo '$''{'cf_cv_gnu_source'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d7141 3
a7143 3
  
cat > conftest.$ac_ext <<EOF
#line 4495 "configure"
d7146 3
a7148 1
int main() {
d7153 16
a7168 4
; return 0; }
EOF
if { (eval echo configure:4505: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d7171 3
a7173 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_save="$CPPFLAGS"
d7175 2
a7176 2
	 cat > conftest.$ac_ext <<EOF
#line 4515 "configure"
d7179 3
a7181 1
int main() {
d7186 16
a7201 4
; return 0; }
EOF
if { (eval echo configure:4525: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d7204 3
a7206 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_gnu_source=yes
d7208 1
a7208 1
rm -f conftest*
d7210 1
a7210 1
	
d7212 1
a7212 1
rm -f conftest*
d7215 2
a7216 2

echo "$ac_t""$cf_cv_gnu_source" 1>&6
d7232 3
d7242 4
a7245 4
	echo $ac_n "checking if we should define _XOPEN_SOURCE""... $ac_c" 1>&6
echo "configure:4566: checking if we should define _XOPEN_SOURCE" >&5
if eval "test \"`echo '$''{'cf_cv_xopen_source'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d7247 3
a7249 3
  
	cat > conftest.$ac_ext <<EOF
#line 4572 "configure"
d7252 3
a7254 1
int main() {
d7259 16
a7274 4
; return 0; }
EOF
if { (eval echo configure:4582: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d7277 6
a7282 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=500"
	 cat > conftest.$ac_ext <<EOF
#line 4592 "configure"
d7285 3
a7287 1
int main() {
d7292 16
a7307 4
; return 0; }
EOF
if { (eval echo configure:4602: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d7310 3
a7312 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_xopen_source=yes
d7314 1
a7314 1
rm -f conftest*
d7316 1
a7316 1
	
d7318 1
a7318 1
rm -f conftest*
d7321 49
d7371 44
a7414 2
echo "$ac_t""$cf_cv_xopen_source" 1>&6
test "$cf_cv_xopen_source" = yes && CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE=500"
d7416 20
a7435 5
	# FreeBSD 5.x headers demand this...
	echo $ac_n "checking if we should define _POSIX_C_SOURCE""... $ac_c" 1>&6
echo "configure:4624: checking if we should define _POSIX_C_SOURCE" >&5
if eval "test \"`echo '$''{'cf_cv_xopen_source'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d7437 16
a7452 3
  
	cat > conftest.$ac_ext <<EOF
#line 4630 "configure"
d7455 3
a7457 1
int main() {
d7462 134
a7595 5
; return 0; }
EOF
if { (eval echo configure:4640: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_xopen_source=no
d7597 7
a7603 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_POSIX_C_SOURCE"
	 cat > conftest.$ac_ext <<EOF
#line 4650 "configure"
d7605 4
d7610 5
a7614 1
int main() {
d7616 1
a7616 1
#ifdef _POSIX_C_SOURCE
d7619 19
a7637 5
; return 0; }
EOF
if { (eval echo configure:4660: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_xopen_source=no
d7639 2
a7640 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_xopen_source=yes
d7642 5
a7646 3
rm -f conftest*
	CPPFLAGS="$cf_save"
	
d7648 2
a7649 1
rm -f conftest*
d7651 3
d7656 1
a7656 5
echo "$ac_t""$cf_cv_xopen_source" 1>&6
test "$cf_cv_xopen_source" = yes && CPPFLAGS="$CPPFLAGS -D_POSIX_C_SOURCE"
	;;
esac

a7657 2
if test -n "$TRY_CFLAGS" ; then
	
d7663 1
d7666 2
d7670 2
d7674 17
d7703 11
d7728 5
d7735 2
a7736 2
cat > conftest.$ac_ext <<EOF
#line 4725 "configure"
d7739 3
a7741 1
int main() {
d7743 16
a7758 3
; return 0; }
EOF
if { (eval echo configure:4732: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7761 3
a7763 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d7771 1
a7771 1
rm -f conftest*
a7775 1

d7778 4
a7781 4
echo $ac_n "checking if you want ssl library""... $ac_c" 1>&6
echo "configure:4755: checking if you want ssl library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libssl'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a7782 1
  
d7790 1
a7790 2
fi

d7793 2
a7794 2

echo "$ac_t""$cf_cv_use_libssl" 1>&6
d7797 4
a7800 4
echo $ac_n "checking if you want experimental gnutls support""... $ac_c" 1>&6
echo "configure:4776: checking if you want experimental gnutls support" >&5
if eval "test \"`echo '$''{'cf_cv_use_libgnutls'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a7801 1
  
d7809 1
a7809 2
fi

d7812 2
a7813 2

echo "$ac_t""$cf_cv_use_libgnutls" 1>&6
d7816 4
a7819 4
echo $ac_n "checking if you want socks library""... $ac_c" 1>&6
echo "configure:4797: checking if you want socks library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libsocks'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a7820 1
  
d7828 1
a7828 2
fi

d7831 2
d7834 4
a7837 6
echo "$ac_t""$cf_cv_use_libsocks" 1>&6

echo $ac_n "checking if you want socks5 library""... $ac_c" 1>&6
echo "configure:4817: checking if you want socks5 library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libsocks5'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a7838 1
  
d7846 1
a7846 2
fi

d7849 2
d7852 1
a7852 1
echo "$ac_t""$cf_cv_use_libsocks5" 1>&6
a7853 2
if test "x$cf_cv_use_libsocks" != xno ; then
	
d7867 2
a7868 1
    echo "configure: warning: expected a directory: $cf_cv_use_libsocks" 1>&2
d7873 1
a7873 1
cat >> confdefs.h <<\EOF
d7877 1
a7877 1
cat >> confdefs.h <<\EOF
d7881 1
a7881 1
cat >> confdefs.h <<\EOF
d7885 1
a7885 1
cat >> confdefs.h <<\EOF
d7889 1
a7889 1
cat >> confdefs.h <<\EOF
d7893 1
a7893 1
cat >> confdefs.h <<\EOF
d7897 1
a7897 1
cat >> confdefs.h <<\EOF
d7901 1
a7901 1
cat >> confdefs.h <<\EOF
d7905 1
a7905 1
cat >> confdefs.h <<\EOF
d7909 2
a7910 2
cat > conftest.$ac_ext <<EOF
#line 4893 "configure"
d7914 3
a7916 1
int main() {
d7919 16
a7934 3
; return 0; }
EOF
if { (eval echo configure:4902: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7937 5
a7941 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  { echo "configure: error: Cannot link with socks library" 1>&2; exit 1; }
d7943 1
a7943 1
rm -f conftest*
d7946 1
a7946 1
	
d7960 2
a7961 1
    echo "configure: warning: expected a directory: $cf_cv_use_libsocks5" 1>&2
d7966 1
a7966 1
cat >> confdefs.h <<\EOF
d7970 1
a7970 1
cat >> confdefs.h <<\EOF
d7974 2
a7975 2
echo $ac_n "checking if the socks library uses socks4 prefix""... $ac_c" 1>&6
echo "configure:4941: checking if the socks library uses socks4 prefix" >&5
d7977 2
a7978 2
cat > conftest.$ac_ext <<EOF
#line 4944 "configure"
d7982 3
a7984 1
int main() {
d7987 17
a8003 5
; return 0; }
EOF
if { (eval echo configure:4953: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cat >> confdefs.h <<\EOF
d8009 4
a8012 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 4965 "configure"
d8015 3
a8017 1
int main() {
d8019 16
a8034 4
; return 0; }
EOF
if { (eval echo configure:4972: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d8037 11
a8047 9
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  { echo "configure: error: Cannot link with socks5 library" 1>&2; exit 1; }
fi
rm -f conftest*
fi
rm -f conftest*
echo "$ac_t""$cf_use_socks4" 1>&6
d8049 1
a8049 1
	cat >> confdefs.h <<\EOF
d8053 1
a8053 1
	cat >> confdefs.h <<\EOF
d8057 1
a8057 1
	cat >> confdefs.h <<\EOF
d8061 1
a8061 1
	cat >> confdefs.h <<\EOF
d8065 1
a8065 1
	cat >> confdefs.h <<\EOF
d8069 1
a8069 1
	cat >> confdefs.h <<\EOF
d8073 1
a8073 1
	cat >> confdefs.h <<\EOF
d8077 1
a8077 1
	cat >> confdefs.h <<\EOF
d8082 1
a8082 1
	cat >> confdefs.h <<\EOF
d8086 1
a8086 1
	cat >> confdefs.h <<\EOF
d8090 1
a8090 1
	cat >> confdefs.h <<\EOF
d8094 1
a8094 1
	cat >> confdefs.h <<\EOF
d8099 4
a8102 4
echo $ac_n "checking if socks5p.h is available""... $ac_c" 1>&6
echo "configure:5037: checking if socks5p.h is available" >&5
cat > conftest.$ac_ext <<EOF
#line 5039 "configure"
d8107 3
a8109 1
int main() {
d8112 16
a8127 4
; return 0; }
EOF
if { (eval echo configure:5049: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d8130 8
a8137 8
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_use_socks5p_h=no
fi
rm -f conftest*
echo "$ac_t""$cf_use_socks5p_h" 1>&6
test "$cf_use_socks5p_h" = yes && cat >> confdefs.h <<\EOF
d8141 1
a8142 2
else
	
d8144 4
a8147 4
echo $ac_n "checking for network libraries""... $ac_c" 1>&6
echo "configure:5069: checking for network libraries" >&5
if eval "test \"`echo '$''{'cf_cv_netlibs'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8149 3
a8151 2
  
echo "$ac_t""working..." 1>&6
d8154 1
d8157 5
a8161 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5080: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8163 2
a8164 2
  cat > conftest.$ac_ext <<EOF
#line 5085 "configure"
d8167 1
a8167 1
    which can conflict with char $ac_func(); below.  */
d8170 3
d8174 3
a8176 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d8178 3
d8187 1
a8187 1
$ac_func();
d8190 17
a8206 5
; return 0; }
EOF
if { (eval echo configure:5108: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d8208 3
a8210 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
d8212 1
a8212 1
rm -f conftest*
d8214 6
a8220 7
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
a8221 1
  echo "$ac_t""no" 1>&6
d8223 4
a8226 5
echo $ac_n "checking for gethostname in -lnsl""... $ac_c" 1>&6
echo "configure:5131: checking for gethostname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8228 1
a8228 1
  ac_save_LIBS="$LIBS"
d8230 2
a8231 2
cat > conftest.$ac_ext <<EOF
#line 5139 "configure"
d8233 1
d8235 3
d8239 34
a8272 18
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:5150: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a8273 5
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
d8276 1
a8276 1
	cat >> confdefs.h <<EOF
a8282 1
  echo "$ac_t""no" 1>&6
d8286 5
a8290 7
	
		
echo $ac_n "checking for gethostname in -lsocket""... $ac_c" 1>&6
echo "configure:5183: checking for gethostname in -lsocket" >&5
ac_lib_var=`echo socket'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8292 1
a8292 1
  ac_save_LIBS="$LIBS"
d8294 2
a8295 2
cat > conftest.$ac_ext <<EOF
#line 5191 "configure"
d8297 1
d8299 3
d8303 34
a8336 18
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:5202: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a8337 5
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
d8340 1
a8340 1
	cat >> confdefs.h <<EOF
a8346 1
  echo "$ac_t""no" 1>&6
d8350 1
a8350 1
	
a8352 1

a8354 1

d8362 4
a8365 5
echo $ac_n "checking for main in -linet""... $ac_c" 1>&6
echo "configure:5247: checking for main in -linet" >&5
ac_lib_var=`echo inet'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8367 1
a8367 1
  ac_save_LIBS="$LIBS"
d8369 2
a8370 2
cat > conftest.$ac_ext <<EOF
#line 5255 "configure"
d8373 32
a8404 19
int main() {
main()
; return 0; }
EOF
if { (eval echo configure:5262: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a8405 2
else
  echo "$ac_t""no" 1>&6
d8410 1
d8413 5
a8417 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5287: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8419 2
a8420 2
  cat > conftest.$ac_ext <<EOF
#line 5292 "configure"
d8423 1
a8423 1
    which can conflict with char $ac_func(); below.  */
d8426 3
d8430 3
a8432 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d8434 3
d8443 1
a8443 1
$ac_func();
d8446 17
a8462 5
; return 0; }
EOF
if { (eval echo configure:5315: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d8464 3
a8466 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
d8468 1
a8468 1
rm -f conftest*
d8470 6
a8476 7
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
a8477 1
  echo "$ac_t""no" 1>&6
d8479 4
a8482 5
echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
echo "configure:5338: checking for socket in -lsocket" >&5
ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8484 1
a8484 1
  ac_save_LIBS="$LIBS"
d8486 2
a8487 2
cat > conftest.$ac_ext <<EOF
#line 5346 "configure"
d8489 1
d8491 3
d8495 34
a8528 18
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
EOF
if { (eval echo configure:5357: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a8529 5
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
d8532 1
a8532 1
	cat >> confdefs.h <<EOF
a8538 1
  echo "$ac_t""no" 1>&6
d8542 5
a8546 7
	
		
echo $ac_n "checking for socket in -lbsd""... $ac_c" 1>&6
echo "configure:5390: checking for socket in -lbsd" >&5
ac_lib_var=`echo bsd'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8548 1
a8548 1
  ac_save_LIBS="$LIBS"
d8550 2
a8551 2
cat > conftest.$ac_ext <<EOF
#line 5398 "configure"
d8553 1
d8555 3
d8559 34
a8592 18
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
EOF
if { (eval echo configure:5409: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a8593 5
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
d8596 1
a8596 1
	cat >> confdefs.h <<EOF
a8602 1
  echo "$ac_t""no" 1>&6
d8606 1
a8606 1
	
a8608 1

a8610 1

d8616 1
d8619 5
a8623 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5454: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8625 2
a8626 2
  cat > conftest.$ac_ext <<EOF
#line 5459 "configure"
d8629 1
a8629 1
    which can conflict with char $ac_func(); below.  */
d8632 3
d8636 3
a8638 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d8640 3
d8649 1
a8649 1
$ac_func();
d8652 17
a8668 5
; return 0; }
EOF
if { (eval echo configure:5482: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d8670 3
a8672 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
d8674 1
a8674 1
rm -f conftest*
d8676 6
a8682 7
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
a8683 1
  echo "$ac_t""no" 1>&6
d8685 4
a8688 5
echo $ac_n "checking for gethostbyname in -lnsl""... $ac_c" 1>&6
echo "configure:5505: checking for gethostbyname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8690 1
a8690 1
  ac_save_LIBS="$LIBS"
d8692 2
a8693 2
cat > conftest.$ac_ext <<EOF
#line 5513 "configure"
d8695 1
d8697 3
d8701 34
a8734 2
    builtin and then its argument prototype would still apply.  */
char gethostbyname();
a8735 21
int main() {
gethostbyname()
; return 0; }
EOF
if { (eval echo configure:5524: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
d8738 1
a8738 1
	cat >> confdefs.h <<EOF
a8744 1
  echo "$ac_t""no" 1>&6
d8748 1
a8748 1
	
a8750 1

d8755 1
d8758 5
a8762 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5565: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8764 2
a8765 2
  cat > conftest.$ac_ext <<EOF
#line 5570 "configure"
d8768 1
a8768 1
    which can conflict with char $ac_func(); below.  */
d8771 3
d8775 3
a8777 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d8779 3
d8788 1
a8788 1
$ac_func();
d8791 17
a8807 5
; return 0; }
EOF
if { (eval echo configure:5593: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d8809 3
a8811 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
d8813 1
a8813 1
rm -f conftest*
d8815 6
a8821 7
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
a8822 1
  echo "$ac_t""no" 1>&6
d8824 4
a8827 5
echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
echo "configure:5616: checking for strcasecmp in -lresolv" >&5
ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8829 1
a8829 1
  ac_save_LIBS="$LIBS"
d8831 2
a8832 2
cat > conftest.$ac_ext <<EOF
#line 5624 "configure"
d8834 1
d8836 3
d8840 34
a8873 18
    builtin and then its argument prototype would still apply.  */
char strcasecmp();

int main() {
strcasecmp()
; return 0; }
EOF
if { (eval echo configure:5635: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a8874 5
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
d8877 1
a8877 1
	cat >> confdefs.h <<EOF
a8883 1
  echo "$ac_t""no" 1>&6
d8887 1
a8887 1
	
a8889 1

a8892 1

d8900 4
a8903 4
echo $ac_n "checking for inet_aton function""... $ac_c" 1>&6
echo "configure:5681: checking for inet_aton function" >&5
if eval "test \"`echo '$''{'cf_cv_have_inet_aton'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8905 3
a8907 3
  
cat > conftest.$ac_ext <<EOF
#line 5687 "configure"
d8914 3
a8916 1
int main() {
d8918 16
a8933 4
; return 0; }
EOF
if { (eval echo configure:5698: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d8936 3
a8938 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_inet_aton=no
d8940 1
a8940 1
rm -f conftest*
d8942 2
a8943 2

echo "$ac_t""$cf_cv_have_inet_aton" 1>&6
d8945 1
a8945 1
    cat >> confdefs.h <<\EOF
d8950 8
a8957 8
    echo $ac_n "checking for inet_addr function""... $ac_c" 1>&6
echo "configure:5718: checking for inet_addr function" >&5
if eval "test \"`echo '$''{'cf_cv_have_inet_addr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 5724 "configure"
d8963 4
a8966 2
    
int main() {
d8968 16
a8983 4
; return 0; }
EOF
if { (eval echo configure:5735: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d8986 3
a8988 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_inet_addr=no
d8990 1
a8990 1
rm -f conftest*
d8992 2
a8993 2

echo "$ac_t""$cf_cv_have_inet_addr" 1>&6
d8995 4
a8998 4
	echo $ac_n "checking for library with inet_addr""... $ac_c" 1>&6
echo "configure:5750: checking for library with inet_addr" >&5
if eval "test \"`echo '$''{'cf_cv_lib_inet_addr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9000 1
a9000 1
  
d9005 2
a9006 2
		cat > conftest.$ac_ext <<EOF
#line 5760 "configure"
d9012 4
a9015 2
		
int main() {
d9017 16
a9032 4
; return 0; }
EOF
if { (eval echo configure:5771: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d9035 3
a9037 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_lib_inet_addr=no
d9039 1
a9039 1
rm -f conftest*
d9043 1
a9043 1
	
d9045 2
a9046 2

echo "$ac_t""$cf_cv_lib_inet_addr" 1>&6
d9050 2
a9051 1
	    echo "configure: warning: Unable to find library for inet_addr function" 1>&2
d9057 2
a9058 1
	
d9062 1
a9062 1
  ;;
d9064 5
a9068 5
  echo $ac_n "checking for SSL_get_version in -lssl""... $ac_c" 1>&6
echo "configure:5804: checking for SSL_get_version in -lssl" >&5
ac_lib_var=`echo ssl'_'SSL_get_version | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9070 1
a9070 1
  ac_save_LIBS="$LIBS"
d9072 2
a9073 2
cat > conftest.$ac_ext <<EOF
#line 5812 "configure"
d9075 1
d9077 3
d9081 36
a9116 26
    builtin and then its argument prototype would still apply.  */
char SSL_get_version();

int main() {
SSL_get_version()
; return 0; }
EOF
if { (eval echo configure:5823: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo ssl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
a9121 1
  echo "$ac_t""no" 1>&6
d9123 10
a9132 2
  	if test -d /usr/local/ssl ; then
		test -n "$verbose" && echo "	assume it is in /usr/local/ssl" 1>&6
a9133 6
		cf_ssl_library="-L/usr/local/ssl/lib $cf_ssl_library"
		CPPFLAGS="-I/usr/local/ssl/include $CPPFLAGS"
	else
		{ echo "configure: error: cannot find ssl library" 1>&2; exit 1; }
	fi
	
d9136 1
a9136 1
  ;;
d9138 16
a9153 12
  if test -d $cf_cv_use_libssl ; then
    if test -d $cf_cv_use_libssl/include ; then
      CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libssl/include"
      cf_ssl_library="-L$cf_cv_use_libssl/lib $cf_ssl_library"
    else
      cf_ssl_library="-L$cf_cv_use_libssl $cf_ssl_library"
      test -d $cf_cv_use_libssl/../include && CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libssl/../include"
    fi
  else
    echo "configure: warning: expected a directory: $cf_cv_use_libssl" 1>&2
  fi
  ;;
d9157 81
a9237 4
echo $ac_n "checking for openssl include directory""... $ac_c" 1>&6
echo "configure:5878: checking for openssl include directory" >&5
cat > conftest.$ac_ext <<EOF
#line 5880 "configure"
d9242 3
a9244 1
int main() {
d9246 16
a9261 4
; return 0; }
EOF
if { (eval echo configure:5889: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d9264 8
a9271 8
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_openssl_incl=no
fi
rm -f conftest*
echo "$ac_t""$cf_openssl_incl" 1>&6
test "$cf_openssl_incl" = yes && cat >> confdefs.h <<\EOF
d9275 1
d9277 4
a9280 4
echo $ac_n "checking if we can link to ssl library""... $ac_c" 1>&6
echo "configure:5906: checking if we can link to ssl library" >&5
cat > conftest.$ac_ext <<EOF
#line 5908 "configure"
d9290 3
a9292 1
int main() {
d9294 16
a9309 4
; return 0; }
EOF
if { (eval echo configure:5922: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d9312 7
a9318 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_ssl_library=no
fi
rm -f conftest*
echo "$ac_t""$cf_ssl_library" 1>&6
d9320 1
a9320 1
	cat >> confdefs.h <<\EOF
d9324 1
a9324 1
	cat >> confdefs.h <<\EOF
d9329 3
a9331 1
	{ echo "configure: error: Cannot link with ssl library" 1>&2; exit 1; }
d9335 4
a9338 2
	
cf_ssl_library="-lgnutls-extra -lgnutls -lcrypt"
d9341 2
a9342 1
  ;;
d9344 5
a9348 5
  echo $ac_n "checking for SSL_connect in -lgnutls""... $ac_c" 1>&6
echo "configure:5954: checking for SSL_connect in -lgnutls" >&5
ac_lib_var=`echo gnutls'_'SSL_connect | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9350 1
a9350 1
  ac_save_LIBS="$LIBS"
d9352 2
a9353 2
cat > conftest.$ac_ext <<EOF
#line 5962 "configure"
d9355 1
d9357 3
d9361 39
a9399 2
    builtin and then its argument prototype would still apply.  */
char SSL_connect();
a9400 7
int main() {
SSL_connect()
; return 0; }
EOF
if { (eval echo configure:5973: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
d9402 11
a9412 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a9413 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d9415 83
a9498 7
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo gnutls | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF
d9500 4
a9503 1
  LIBS="-lgnutls $LIBS"
d9505 1
a9505 2
else
  echo "$ac_t""no" 1>&6
d9507 2
a9508 2
  	if test -d /usr/local/gnutls ; then
		test -n "$verbose" && echo "	assume it is in /usr/local/gnutls" 1>&6
d9510 1
a9510 4
		cf_ssl_library="-L/usr/local/gnutls/lib $cf_ssl_library"
		CPPFLAGS="-I/usr/local/gnutls/include $CPPFLAGS"
	else
		{ echo "configure: error: cannot find gnutls library" 1>&2; exit 1; }
a9511 1
	
d9514 110
a9623 16
  ;;
*)
  if test -d $cf_cv_use_libgnutls ; then
    if test -d $cf_cv_use_libgnutls/include ; then
      CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libgnutls/include"
      cf_ssl_library="-L$cf_cv_use_libgnutls/lib $cf_ssl_library"
    else
      cf_ssl_library="-L$cf_cv_use_libgnutls $cf_ssl_library"
      test -d $cf_cv_use_libgnutls/../include && CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libgnutls/../include"
    fi
  else
    echo "configure: warning: expected a directory: $cf_cv_use_libgnutls" 1>&2
  fi
  ;;
esac
LIBS="$cf_ssl_library $LIBS"
d9625 5
a9629 4
echo $ac_n "checking for gnutls include directory""... $ac_c" 1>&6
echo "configure:6028: checking for gnutls include directory" >&5
cat > conftest.$ac_ext <<EOF
#line 6030 "configure"
d9634 3
a9636 1
int main() {
d9638 16
a9653 4
; return 0; }
EOF
if { (eval echo configure:6039: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d9656 8
a9663 8
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_openssl_incl=no
fi
rm -f conftest*
echo "$ac_t""$cf_openssl_incl" 1>&6
test "$cf_openssl_incl" = yes && cat >> confdefs.h <<\EOF
d9667 1
d9669 4
a9672 4
echo $ac_n "checking if we can link to gnutls library""... $ac_c" 1>&6
echo "configure:6056: checking if we can link to gnutls library" >&5
cat > conftest.$ac_ext <<EOF
#line 6058 "configure"
d9682 3
a9684 1
int main() {
d9686 16
a9701 4
; return 0; }
EOF
if { (eval echo configure:6072: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d9704 7
a9710 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_ssl_library=no
fi
rm -f conftest*
echo "$ac_t""$cf_ssl_library" 1>&6
d9712 1
a9712 1
	cat >> confdefs.h <<\EOF
d9717 3
a9719 1
	{ echo "configure: error: Cannot link with gnutls library" 1>&2; exit 1; }
d9722 4
a9725 4
echo $ac_n "checking for X509 support""... $ac_c" 1>&6
echo "configure:6093: checking for X509 support" >&5
cat > conftest.$ac_ext <<EOF
#line 6095 "configure"
d9735 3
a9737 1
int main() {
d9740 16
a9755 4
; return 0; }
EOF
if { (eval echo configure:6110: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d9758 2
a9759 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d9761 3
a9763 2
rm -f conftest*
echo "$ac_t""$cf_x509_support" 1>&6
d9765 1
a9765 1
	cat >> confdefs.h <<\EOF
d9773 4
a9776 4
echo $ac_n "checking for screen type""... $ac_c" 1>&6
echo "configure:6129: checking for screen type" >&5
if eval "test \"`echo '$''{'cf_cv_screen'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a9777 1
  
d9782 1
a9782 1
  
d9787 3
a9789 1
*)	{ echo "configure: error: Unexpected value" 1>&2; exit 1; }
d9794 1
d9796 2
a9797 4

fi

echo "$ac_t""$cf_cv_screen" 1>&6
a9800 1
	
d9805 7
a9811 1
  
d9823 1
a9823 1
    withval=`echo $withval | sed -e s%NONE%$ac_default_prefix%`
d9827 2
a9828 2
.NONE/*)
  withval=`echo $withval | sed -e s%NONE%$ac_default_prefix%`
d9831 3
a9833 1
  { echo "configure: error: expected a pathname, not \"$withval\"" 1>&2; exit 1; }
d9840 1
a9840 2
fi

d9845 2
a9848 1
	
d9850 4
a9853 4
echo $ac_n "checking for extra include directories""... $ac_c" 1>&6
echo "configure:6199: checking for extra include directories" >&5
if eval "test \"`echo '$''{'cf_cv_curses_incdir'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9855 1
a9855 1
  
d9858 1
a9858 1
hpux10.*|hpux11.*) #(vi
d9870 2
a9871 2

echo "$ac_t""$cf_cv_curses_incdir" 1>&6
d9874 4
a9877 4
echo $ac_n "checking if we have identified curses headers""... $ac_c" 1>&6
echo "configure:6223: checking if we have identified curses headers" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_header'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9879 1
a9879 1
  
d9887 2
a9888 2
cat > conftest.$ac_ext <<EOF
#line 6236 "configure"
d9891 3
a9893 1
int main() {
d9895 16
a9910 4
; return 0; }
EOF
if { (eval echo configure:6243: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d9913 2
a9914 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d9916 1
a9916 1
rm -f conftest*
d9920 2
a9921 2

echo "$ac_t""$cf_cv_ncurses_header" 1>&6
d9924 3
a9926 1
	{ echo "configure: error: No curses header-files found" 1>&2; exit 1; }
d9930 2
a9931 1
for ac_hdr in $cf_cv_ncurses_header
d9933 24
a9956 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:6266: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9958 4
a9961 11
  cat > conftest.$ac_ext <<EOF
#line 6271 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:6276: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d9963 1
a9963 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d9965 1
a9965 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d9967 1
a9967 1
rm -f conftest*
d9969 5
a9973 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d9975 50
a10024 1
 
d10026 5
a10030 1
  echo "$ac_t""no" 1>&6
d10032 2
d10036 26
d10063 2
d10066 4
a10069 5
	
echo $ac_n "checking for ncurses version""... $ac_c" 1>&6
echo "configure:6306: checking for ncurses version" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_version'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10071 1
a10071 1
  
a10075 1
  
d10092 5
a10096 1
	{ (eval echo configure:6332: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d10104 2
a10105 2
  cat > conftest.$ac_ext <<EOF
#line 6341 "configure"
d10128 13
a10140 4
EOF
if { (eval echo configure:6365: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
d10143 3
a10145 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d10147 1
a10147 1
rm -fr conftest*
a10148 1

d10152 3
a10154 3

echo "$ac_t""$cf_cv_ncurses_version" 1>&6
test "$cf_cv_ncurses_version" = no || cat >> confdefs.h <<\EOF
d10158 4
a10161 7

	

echo $ac_n "checking if we have identified curses libraries""... $ac_c" 1>&6
echo "configure:6389: checking if we have identified curses libraries" >&5
cat > conftest.$ac_ext <<EOF
#line 6391 "configure"
d10164 3
a10166 1
int main() {
d10168 16
a10183 4
; return 0; }
EOF
if { (eval echo configure:6398: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d10186 7
a10192 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
echo "$ac_t""$cf_result" 1>&6
d10197 4
a10200 5
	echo $ac_n "checking for tgoto in -lmytinfo""... $ac_c" 1>&6
echo "configure:6414: checking for tgoto in -lmytinfo" >&5
ac_lib_var=`echo mytinfo'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10202 1
a10202 1
  ac_save_LIBS="$LIBS"
d10204 2
a10205 2
cat > conftest.$ac_ext <<EOF
#line 6422 "configure"
d10207 1
d10209 3
d10213 34
a10246 22
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
tgoto()
; return 0; }
EOF
if { (eval echo configure:6433: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a10247 2
else
  echo "$ac_t""no" 1>&6
d10251 5
a10255 6
hpux10.*|hpux11.*) #(vi
	echo $ac_n "checking for initscr in -lcur_colr""... $ac_c" 1>&6
echo "configure:6456: checking for initscr in -lcur_colr" >&5
ac_lib_var=`echo cur_colr'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10257 1
a10257 1
  ac_save_LIBS="$LIBS"
d10259 2
a10260 2
cat > conftest.$ac_ext <<EOF
#line 6464 "configure"
d10262 1
d10264 3
d10268 34
a10301 18
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:6475: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a10302 4
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
d10305 1
a10305 1
		
a10306 1
  echo "$ac_t""no" 1>&6
d10308 4
a10311 5
	echo $ac_n "checking for initscr in -lHcurses""... $ac_c" 1>&6
echo "configure:6498: checking for initscr in -lHcurses" >&5
ac_lib_var=`echo Hcurses'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10313 1
a10313 1
  ac_save_LIBS="$LIBS"
d10315 2
a10316 2
cat > conftest.$ac_ext <<EOF
#line 6506 "configure"
d10318 1
d10320 3
d10324 34
a10357 18
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:6517: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a10358 4
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
d10363 1
a10363 3
		
else
  echo "$ac_t""no" 1>&6
d10393 4
a10396 4
	echo $ac_n "checking for tgoto""... $ac_c" 1>&6
echo "configure:6570: checking for tgoto" >&5
if eval "test \"`echo '$''{'ac_cv_func_tgoto'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10398 2
a10399 2
  cat > conftest.$ac_ext <<EOF
#line 6575 "configure"
d10402 1
a10402 1
    which can conflict with char tgoto(); below.  */
d10405 3
d10409 3
a10411 4
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
d10413 3
d10422 1
a10422 1
tgoto();
d10425 27
a10451 16
; return 0; }
EOF
if { (eval echo configure:6598: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_tgoto=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_tgoto=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'tgoto`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a10453 1
  echo "$ac_t""no" 1>&6
d10457 5
a10461 5
			echo $ac_n "checking for tgoto in -l$cf_term_lib""... $ac_c" 1>&6
echo "configure:6619: checking for tgoto in -l$cf_term_lib" >&5
ac_lib_var=`echo $cf_term_lib'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10463 1
a10463 1
  ac_save_LIBS="$LIBS"
d10465 2
a10466 2
cat > conftest.$ac_ext <<EOF
#line 6627 "configure"
d10468 1
d10470 3
d10474 34
a10507 22
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
tgoto()
; return 0; }
EOF
if { (eval echo configure:6638: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a10508 2
else
  echo "$ac_t""no" 1>&6
d10512 1
a10512 1
	
a10514 1

d10519 5
a10523 5
		echo $ac_n "checking for initscr in -l$cf_curs_lib""... $ac_c" 1>&6
echo "configure:6668: checking for initscr in -l$cf_curs_lib" >&5
ac_lib_var=`echo $cf_curs_lib'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10525 1
a10525 1
  ac_save_LIBS="$LIBS"
d10527 2
a10528 2
cat > conftest.$ac_ext <<EOF
#line 6676 "configure"
d10530 1
d10532 3
d10536 34
a10569 22
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:6687: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a10570 2
else
  echo "$ac_t""no" 1>&6
d10574 3
a10576 1
	test $cf_curs_lib = unknown && { echo "configure: error: no curses library found" 1>&2; exit 1; }
d10580 4
a10583 4
		echo $ac_n "checking if we can link with $cf_curs_lib library""... $ac_c" 1>&6
echo "configure:6713: checking if we can link with $cf_curs_lib library" >&5
		cat > conftest.$ac_ext <<EOF
#line 6715 "configure"
d10586 3
a10588 1
int main() {
d10590 16
a10605 4
; return 0; }
EOF
if { (eval echo configure:6722: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d10608 10
a10617 8
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
		test $cf_result = no && { echo "configure: error: Cannot link curses library" 1>&2; exit 1; }
d10621 4
a10624 4
		echo $ac_n "checking if we need both $cf_curs_lib and $cf_term_lib libraries""... $ac_c" 1>&6
echo "configure:6738: checking if we need both $cf_curs_lib and $cf_term_lib libraries" >&5
		cat > conftest.$ac_ext <<EOF
#line 6740 "configure"
d10627 3
a10629 1
int main() {
d10631 16
a10646 4
; return 0; }
EOF
if { (eval echo configure:6747: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d10649 3
a10651 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d10653 2
a10654 2
			cat > conftest.$ac_ext <<EOF
#line 6757 "configure"
d10657 3
a10659 1
int main() {
d10661 16
a10676 4
; return 0; }
EOF
if { (eval echo configure:6764: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d10679 3
a10681 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=error
d10683 2
a10684 2
rm -f conftest*
			
d10686 3
a10688 2
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
d10693 5
a10698 7
	
echo $ac_n "checking for curses performance tradeoff""... $ac_c" 1>&6
echo "configure:6785: checking for curses performance tradeoff" >&5
if eval "test \"`echo '$''{'cf_cv_curs_performance'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d10700 2
a10701 2
    cat > conftest.$ac_ext <<EOF
#line 6792 "configure"
d10705 3
a10707 1
int main() {
d10714 20
a10733 8
	
; return 0; }
EOF
if { (eval echo configure:6806: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
	cat > conftest.$ac_ext <<EOF
#line 6810 "configure"
d10738 3
a10740 1
int main() {
d10747 17
a10763 5
	
; return 0; }
EOF
if { (eval echo configure:6825: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d10766 2
a10767 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d10769 1
a10769 1
rm -f conftest*
d10771 2
a10772 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d10774 1
a10774 1
rm -f conftest*
d10777 3
a10779 2
echo "$ac_t""$cf_cv_curs_performance" 1>&6
test $cf_cv_curs_performance = yes && cat >> confdefs.h <<\EOF
d10783 5
d10789 2
a10790 9
	
echo $ac_n "checking for curses touchline function""... $ac_c" 1>&6
echo "configure:6848: checking for curses touchline function" >&5
if eval "test \"`echo '$''{'cf_cv_curs_touchline'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 6854 "configure"
d10794 3
a10796 1
int main() {
d10798 16
a10813 4
; return 0; }
EOF
if { (eval echo configure:6862: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d10816 4
a10819 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 6870 "configure"
d10823 3
a10825 1
int main() {
d10827 16
a10842 4
; return 0; }
EOF
if { (eval echo configure:6878: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d10845 3
a10847 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_curs_touchline=bsd
d10849 1
a10849 1
rm -f conftest*
d10851 1
a10851 1
rm -f conftest*
d10853 2
a10854 2

echo "$ac_t""$cf_cv_curs_touchline" 1>&6
d10857 1
a10857 1
	cat >> confdefs.h <<\EOF
d10863 1
a10863 1
	cat >> confdefs.h <<\EOF
a10871 1
	
d10879 4
a10882 4
echo $ac_n "checking for $cf_ncuhdr_root header in include-path""... $ac_c" 1>&6
echo "configure:6919: checking for $cf_ncuhdr_root header in include-path" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10884 1
a10884 1
  
d10889 3
a10891 3
		
	cat > conftest.$ac_ext <<EOF
#line 6930 "configure"
a10893 1

d10895 3
a10897 1
int main() {
d10909 17
a10925 6
	
	
; return 0; }
EOF
if { (eval echo configure:6951: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d10927 1
a10927 1
	
d10929 3
a10931 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ncurses_h=no
d10933 1
a10933 1
rm -f conftest*
d10939 2
a10940 2

echo "$ac_t""$cf_cv_ncurses_h" 1>&6
d10945 5
a10949 4
echo $ac_n "checking for $cf_ncuhdr_root include-path""... $ac_c" 1>&6
echo "configure:6974: checking for $cf_ncuhdr_root include-path" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_h2'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10951 1
a10951 1
  
a11022 1

d11027 1
a11027 1
		
d11040 2
a11041 2
				cat > conftest.$ac_ext <<EOF
#line 7069 "configure"
d11044 3
a11046 1
int main() {
d11048 16
a11063 3
; return 0; }
EOF
if { (eval echo configure:7076: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11066 3
a11068 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPPFLAGS="$cf_save_CPPFLAGS"
d11070 1
a11070 1
rm -f conftest*
d11087 3
a11089 3
			
	cat > conftest.$ac_ext <<EOF
#line 7103 "configure"
a11091 1

d11093 3
a11095 1
int main() {
d11107 17
a11123 6
	
	
; return 0; }
EOF
if { (eval echo configure:7124: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d11125 1
a11125 1
	
d11127 3
a11129 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ncurses_h2=no
d11131 1
a11131 1
rm -f conftest*
d11143 4
a11146 2
	test "$cf_cv_ncurses_h2" = no && { echo "configure: error: not found" 1>&2; exit 1; }
	
d11148 2
a11149 2

echo "$ac_t""$cf_cv_ncurses_h2" 1>&6
d11156 1
a11156 1
	
d11169 2
a11170 2
				cat > conftest.$ac_ext <<EOF
#line 7171 "configure"
d11173 3
a11175 1
int main() {
d11177 16
a11192 3
; return 0; }
EOF
if { (eval echo configure:7178: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11195 3
a11197 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPPFLAGS="$cf_save_CPPFLAGS"
d11199 1
a11199 1
rm -f conftest*
a11211 1

d11214 1
a11214 4
cat >> confdefs.h <<\EOF
#define NCURSES 1
EOF

d11218 1
a11218 1
	cat >> confdefs.h <<\EOF
d11227 1
a11227 1
	cat >> confdefs.h <<\EOF
d11233 1
a11233 1
	cat >> confdefs.h <<\EOF
d11240 91
d11332 4
a11335 4
echo $ac_n "checking for ncurses version""... $ac_c" 1>&6
echo "configure:7233: checking for ncurses version" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_version'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d11337 1
a11337 1
  
a11341 1
  
d11358 5
a11362 1
	{ (eval echo configure:7259: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d11370 2
a11371 2
  cat > conftest.$ac_ext <<EOF
#line 7268 "configure"
d11394 13
a11406 4
EOF
if { (eval echo configure:7292: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
d11409 3
a11411 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d11413 1
a11413 1
rm -fr conftest*
a11414 1

d11418 3
a11420 3

echo "$ac_t""$cf_cv_ncurses_version" 1>&6
test "$cf_cv_ncurses_version" = no || cat >> confdefs.h <<\EOF
a11423 4


	

d11430 4
a11433 5
echo $ac_n "checking for Gpm_Open in -lgpm""... $ac_c" 1>&6
echo "configure:7323: checking for Gpm_Open in -lgpm" >&5
ac_lib_var=`echo gpm'_'Gpm_Open | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d11435 1
a11435 1
  ac_save_LIBS="$LIBS"
d11437 2
a11438 2
cat > conftest.$ac_ext <<EOF
#line 7331 "configure"
d11440 1
d11442 3
d11446 38
a11483 27
    builtin and then its argument prototype would still apply.  */
char Gpm_Open();

int main() {
Gpm_Open()
; return 0; }
EOF
if { (eval echo configure:7342: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  echo $ac_n "checking for initscr in -lgpm""... $ac_c" 1>&6
echo "configure:7358: checking for initscr in -lgpm" >&5
ac_lib_var=`echo gpm'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d11485 1
a11485 1
  ac_save_LIBS="$LIBS"
d11487 2
a11488 2
cat > conftest.$ac_ext <<EOF
#line 7366 "configure"
d11490 1
d11492 3
d11496 34
a11529 22
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:7377: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
d11532 1
a11532 2
  echo "$ac_t""no" 1>&6
cf_ncurses_LIBS="-lgpm"
a11534 2
else
  echo "$ac_t""no" 1>&6
a11536 1

d11541 5
a11545 5
	echo $ac_n "checking for tgoto in -lmytinfo""... $ac_c" 1>&6
echo "configure:7408: checking for tgoto in -lmytinfo" >&5
ac_lib_var=`echo mytinfo'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d11547 1
a11547 1
  ac_save_LIBS="$LIBS"
d11549 2
a11550 2
cat > conftest.$ac_ext <<EOF
#line 7416 "configure"
d11552 1
d11554 3
d11558 34
a11591 22
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
tgoto()
; return 0; }
EOF
if { (eval echo configure:7427: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a11592 2
else
  echo "$ac_t""no" 1>&6
d11595 1
d11605 1
a11605 1
	
d11608 4
a11611 4
	echo $ac_n "checking for initscr""... $ac_c" 1>&6
echo "configure:7460: checking for initscr" >&5
if eval "test \"`echo '$''{'ac_cv_func_initscr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d11613 2
a11614 2
  cat > conftest.$ac_ext <<EOF
#line 7465 "configure"
d11617 1
a11617 1
    which can conflict with char initscr(); below.  */
d11620 3
d11624 3
a11626 4
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
d11628 3
d11637 1
a11637 1
initscr();
d11640 27
a11666 16
; return 0; }
EOF
if { (eval echo configure:7488: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_initscr=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_initscr=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'initscr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a11668 1
  echo "$ac_t""no" 1>&6
d11671 2
a11672 2
		echo $ac_n "checking for initscr in -l$cf_nculib_root""... $ac_c" 1>&6
echo "configure:7508: checking for initscr in -l$cf_nculib_root" >&5
d11674 2
a11675 2
		cat > conftest.$ac_ext <<EOF
#line 7511 "configure"
d11678 3
a11680 1
int main() {
d11682 18
a11699 5
; return 0; }
EOF
if { (eval echo configure:7518: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d11701 1
a11701 1
			
d11703 4
a11706 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d11765 2
a11766 2
				echo $ac_n "checking for -l$cf_nculib_root in $cf_libdir""... $ac_c" 1>&6
echo "configure:7587: checking for -l$cf_nculib_root in $cf_libdir" >&5
d11768 2
a11769 2
				cat > conftest.$ac_ext <<EOF
#line 7590 "configure"
d11772 3
a11774 1
int main() {
d11776 18
a11793 5
; return 0; }
EOF
if { (eval echo configure:7597: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d11797 4
a11800 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d11803 1
a11803 1
rm -f conftest*
d11805 1
a11805 1
			
d11807 2
a11808 2
rm -f conftest*
		
d11814 3
a11816 1
	{ echo "configure: error: Cannot link $cf_nculib_root library" 1>&2; exit 1; }
a11818 1

d11822 2
a11823 2
	echo $ac_n "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS""... $ac_c" 1>&6
echo "configure:7628: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
d11831 2
a11832 2
	cat > conftest.$ac_ext <<EOF
#line 7637 "configure"
d11835 3
a11837 1
int main() {
d11839 23
a11861 10
; return 0; }
EOF
if { (eval echo configure:7644: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d11864 1
a11864 1
rm -f conftest*
a11866 1

d11869 1
a11869 1
cat >> confdefs.h <<EOF
d11873 5
a11878 7
	
echo $ac_n "checking for ncurses version""... $ac_c" 1>&6
echo "configure:7667: checking for ncurses version" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_version'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
a11882 1
  
d11899 5
a11903 1
	{ (eval echo configure:7693: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d11911 2
a11912 2
  cat > conftest.$ac_ext <<EOF
#line 7702 "configure"
d11935 13
a11947 4
EOF
if { (eval echo configure:7726: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
d11950 3
a11952 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d11954 1
a11954 1
rm -fr conftest*
a11955 1

d11959 3
a11961 3

echo "$ac_t""$cf_cv_ncurses_version" 1>&6
test "$cf_cv_ncurses_version" = no || cat >> confdefs.h <<\EOF
a11964 1

d11967 5
a11971 5
	
echo $ac_n "checking for multibyte character support""... $ac_c" 1>&6
echo "configure:7751: checking for multibyte character support" >&5
if eval "test \"`echo '$''{'cf_cv_utf8_lib'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d11973 1
a11973 1
  
d11975 2
a11976 2
	cat > conftest.$ac_ext <<EOF
#line 7758 "configure"
d11980 3
a11982 1
int main() {
d11984 16
a11999 4
; return 0; }
EOF
if { (eval echo configure:7766: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d12002 5
a12006 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  LIBS="-lutf8 $LIBS"
	 cat > conftest.$ac_ext <<EOF
#line 7775 "configure"
d12010 3
a12012 1
int main() {
d12014 16
a12029 4
; return 0; }
EOF
if { (eval echo configure:7783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d12032 3
a12034 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_utf8_lib=no
d12036 1
a12036 1
rm -f conftest*
d12040 1
a12040 1
rm -f conftest*
d12042 2
a12043 2

echo "$ac_t""$cf_cv_utf8_lib" 1>&6
d12048 1
a12048 1
	cat >> confdefs.h <<\EOF
a12054 2
	

d12061 4
a12064 4
echo $ac_n "checking for $cf_ncuhdr_root header in include-path""... $ac_c" 1>&6
echo "configure:7820: checking for $cf_ncuhdr_root header in include-path" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12066 1
a12066 1
  
d12071 3
a12073 3
		
	cat > conftest.$ac_ext <<EOF
#line 7831 "configure"
a12075 1

d12081 3
a12083 1
int main() {
d12099 17
a12115 6
	
	
; return 0; }
EOF
if { (eval echo configure:7860: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d12117 1
a12117 1
	
d12119 3
a12121 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ncurses_h=no
d12123 1
a12123 1
rm -f conftest*
d12129 2
a12130 2

echo "$ac_t""$cf_cv_ncurses_h" 1>&6
d12135 5
a12139 4
echo $ac_n "checking for $cf_ncuhdr_root include-path""... $ac_c" 1>&6
echo "configure:7883: checking for $cf_ncuhdr_root include-path" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_h2'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12141 1
a12141 1
  
a12212 1

d12217 1
a12217 1
		
d12230 2
a12231 2
				cat > conftest.$ac_ext <<EOF
#line 7978 "configure"
d12234 3
a12236 1
int main() {
d12238 16
a12253 3
; return 0; }
EOF
if { (eval echo configure:7985: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d12256 3
a12258 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPPFLAGS="$cf_save_CPPFLAGS"
d12260 1
a12260 1
rm -f conftest*
d12277 3
a12279 3
			
	cat > conftest.$ac_ext <<EOF
#line 8012 "configure"
a12281 5

#define _XOPEN_SOURCE_EXTENDED
#undef  HAVE_LIBUTF8_H	/* in case we used CF_UTF8_LIB */
#define HAVE_LIBUTF8_H	/* to force ncurses' header file to use cchar_t */

d12283 3
a12285 1
int main() {
a12288 4
#ifndef WACS_BSSB
	make an error
#endif

d12297 17
a12313 6
	
	
; return 0; }
EOF
if { (eval echo configure:8041: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d12315 1
a12315 1
	
d12317 3
a12319 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ncurses_h2=no
d12321 1
a12321 1
rm -f conftest*
d12333 4
a12336 2
	test "$cf_cv_ncurses_h2" = no && { echo "configure: error: not found" 1>&2; exit 1; }
	
d12338 2
a12339 2

echo "$ac_t""$cf_cv_ncurses_h2" 1>&6
d12346 1
a12346 1
	
d12359 2
a12360 2
				cat > conftest.$ac_ext <<EOF
#line 8088 "configure"
d12363 3
a12365 1
int main() {
d12367 16
a12382 3
; return 0; }
EOF
if { (eval echo configure:8095: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d12385 3
a12387 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPPFLAGS="$cf_save_CPPFLAGS"
d12389 1
a12389 1
rm -f conftest*
a12401 1

d12404 1
a12404 4
cat >> confdefs.h <<\EOF
#define NCURSES 1
EOF

d12408 1
a12408 1
	cat >> confdefs.h <<\EOF
d12417 1
a12417 1
	cat >> confdefs.h <<\EOF
d12423 1
a12423 1
	cat >> confdefs.h <<\EOF
d12430 91
d12522 4
a12525 4
echo $ac_n "checking for ncurses version""... $ac_c" 1>&6
echo "configure:8150: checking for ncurses version" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_version'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12527 1
a12527 1
  
a12531 1
  
d12548 5
a12552 1
	{ (eval echo configure:8176: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d12560 2
a12561 2
  cat > conftest.$ac_ext <<EOF
#line 8185 "configure"
d12584 13
a12596 4
EOF
if { (eval echo configure:8209: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
d12599 3
a12601 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d12603 1
a12603 1
rm -fr conftest*
a12604 1

d12608 3
a12610 3

echo "$ac_t""$cf_cv_ncurses_version" 1>&6
test "$cf_cv_ncurses_version" = no || cat >> confdefs.h <<\EOF
a12613 4


	

d12620 4
a12623 5
echo $ac_n "checking for Gpm_Open in -lgpm""... $ac_c" 1>&6
echo "configure:8240: checking for Gpm_Open in -lgpm" >&5
ac_lib_var=`echo gpm'_'Gpm_Open | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12625 1
a12625 1
  ac_save_LIBS="$LIBS"
d12627 2
a12628 2
cat > conftest.$ac_ext <<EOF
#line 8248 "configure"
d12630 1
d12632 3
d12636 38
a12673 27
    builtin and then its argument prototype would still apply.  */
char Gpm_Open();

int main() {
Gpm_Open()
; return 0; }
EOF
if { (eval echo configure:8259: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  echo $ac_n "checking for initscr in -lgpm""... $ac_c" 1>&6
echo "configure:8275: checking for initscr in -lgpm" >&5
ac_lib_var=`echo gpm'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12675 1
a12675 1
  ac_save_LIBS="$LIBS"
d12677 2
a12678 2
cat > conftest.$ac_ext <<EOF
#line 8283 "configure"
d12680 1
d12682 3
d12686 34
a12719 22
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:8294: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
d12722 1
a12722 2
  echo "$ac_t""no" 1>&6
cf_ncurses_LIBS="-lgpm"
a12724 2
else
  echo "$ac_t""no" 1>&6
a12726 1

d12731 5
a12735 5
	echo $ac_n "checking for tgoto in -lmytinfo""... $ac_c" 1>&6
echo "configure:8325: checking for tgoto in -lmytinfo" >&5
ac_lib_var=`echo mytinfo'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12737 1
a12737 1
  ac_save_LIBS="$LIBS"
d12739 2
a12740 2
cat > conftest.$ac_ext <<EOF
#line 8333 "configure"
d12742 1
d12744 3
d12748 34
a12781 22
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
tgoto()
; return 0; }
EOF
if { (eval echo configure:8344: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a12782 2
else
  echo "$ac_t""no" 1>&6
d12785 1
d12795 1
a12795 1
	
d12798 4
a12801 4
	echo $ac_n "checking for initscr""... $ac_c" 1>&6
echo "configure:8377: checking for initscr" >&5
if eval "test \"`echo '$''{'ac_cv_func_initscr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12803 2
a12804 2
  cat > conftest.$ac_ext <<EOF
#line 8382 "configure"
d12807 1
a12807 1
    which can conflict with char initscr(); below.  */
d12810 3
d12814 3
a12816 4
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
d12818 3
d12827 1
a12827 1
initscr();
d12830 27
a12856 16
; return 0; }
EOF
if { (eval echo configure:8405: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_initscr=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_initscr=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'initscr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a12858 1
  echo "$ac_t""no" 1>&6
d12861 2
a12862 2
		echo $ac_n "checking for initscr in -l$cf_nculib_root""... $ac_c" 1>&6
echo "configure:8425: checking for initscr in -l$cf_nculib_root" >&5
d12864 2
a12865 2
		cat > conftest.$ac_ext <<EOF
#line 8428 "configure"
d12868 3
a12870 1
int main() {
d12872 18
a12889 5
; return 0; }
EOF
if { (eval echo configure:8435: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d12891 1
a12891 1
			
d12893 4
a12896 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d12955 2
a12956 2
				echo $ac_n "checking for -l$cf_nculib_root in $cf_libdir""... $ac_c" 1>&6
echo "configure:8504: checking for -l$cf_nculib_root in $cf_libdir" >&5
d12958 2
a12959 2
				cat > conftest.$ac_ext <<EOF
#line 8507 "configure"
d12962 3
a12964 1
int main() {
d12966 18
a12983 5
; return 0; }
EOF
if { (eval echo configure:8514: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d12987 4
a12990 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d12993 1
a12993 1
rm -f conftest*
d12995 1
a12995 1
			
d12997 2
a12998 2
rm -f conftest*
		
d13004 3
a13006 1
	{ echo "configure: error: Cannot link $cf_nculib_root library" 1>&2; exit 1; }
a13008 1

d13012 2
a13013 2
	echo $ac_n "checking if we can link $cf_nculib_root without $cf_ncurses_LIBS""... $ac_c" 1>&6
echo "configure:8545: checking if we can link $cf_nculib_root without $cf_ncurses_LIBS" >&5
d13021 2
a13022 2
	cat > conftest.$ac_ext <<EOF
#line 8554 "configure"
d13025 3
a13027 1
int main() {
d13029 23
a13051 10
; return 0; }
EOF
if { (eval echo configure:8561: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d13054 1
a13054 1
rm -f conftest*
a13056 1

d13059 1
a13059 1
cat >> confdefs.h <<EOF
d13063 5
a13068 7
	
echo $ac_n "checking for ncurses version""... $ac_c" 1>&6
echo "configure:8584: checking for ncurses version" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_version'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
a13072 1
  
d13089 5
a13093 1
	{ (eval echo configure:8610: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d13101 2
a13102 2
  cat > conftest.$ac_ext <<EOF
#line 8619 "configure"
d13125 13
a13137 4
EOF
if { (eval echo configure:8643: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
d13140 3
a13142 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d13144 1
a13144 1
rm -fr conftest*
a13145 1

d13149 3
a13151 3

echo "$ac_t""$cf_cv_ncurses_version" 1>&6
test "$cf_cv_ncurses_version" = no || cat >> confdefs.h <<\EOF
d13155 1
a13155 1

d13162 5
a13166 5
	
echo $ac_n "checking for slang header file""... $ac_c" 1>&6
echo "configure:8672: checking for slang header file" >&5
if eval "test \"`echo '$''{'cf_cv_slang_header'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13168 3
a13170 3
  
	cat > conftest.$ac_ext <<EOF
#line 8678 "configure"
d13173 3
a13175 1
int main() {
d13177 16
a13192 4
; return 0; }
EOF
if { (eval echo configure:8685: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d13195 3
a13197 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
a13267 1

d13281 4
a13284 2
	test -z "$cf_cv_slang_header" && { echo "configure: error: not found" 1>&2; exit 1; }
	
d13286 1
a13286 1
rm -f conftest*
d13288 3
a13290 3

echo "$ac_t""$cf_cv_slang_header" 1>&6
cat >> confdefs.h <<\EOF
a13293 1

d13300 1
a13300 1
	
d13313 2
a13314 2
				cat > conftest.$ac_ext <<EOF
#line 8809 "configure"
d13317 3
a13319 1
int main() {
d13321 16
a13336 3
; return 0; }
EOF
if { (eval echo configure:8816: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d13339 3
a13341 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPPFLAGS="$cf_save_CPPFLAGS"
d13343 1
a13343 1
rm -f conftest*
d13361 4
a13364 4
echo $ac_n "checking if we must define UTF8""... $ac_c" 1>&6
echo "configure:8843: checking if we must define UTF8" >&5
if eval "test \"`echo '$''{'cf_cv_slang_utf8'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13366 3
a13368 3
  
	cat > conftest.$ac_ext <<EOF
#line 8849 "configure"
d13372 3
a13374 1
int main() {
d13376 16
a13391 4
; return 0; }
EOF
if { (eval echo configure:8857: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d13394 5
a13398 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
	cat > conftest.$ac_ext <<EOF
#line 8866 "configure"
d13403 3
a13405 1
int main() {
d13407 16
a13422 4
; return 0; }
EOF
if { (eval echo configure:8875: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d13425 3
a13427 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_slang_utf8=unknown
d13429 1
a13429 1
rm -f conftest*
d13431 1
a13431 1
rm -f conftest*
d13434 2
a13435 2

echo "$ac_t""$cf_cv_slang_utf8" 1>&6
d13438 1
a13438 1
	cat >> confdefs.h <<\EOF
a13443 1

d13446 2
a13447 2
if eval "test \"`echo '$''{'cf_cv_termlib'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13449 1
a13449 1
  
d13451 2
a13452 2
cat > conftest.$ac_ext <<EOF
#line 8908 "configure"
d13455 3
a13457 1
int main() {
d13459 18
a13476 6
; return 0; }
EOF
if { (eval echo configure:8915: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 8918 "configure"
d13479 3
a13481 1
int main() {
d13483 16
a13498 4
; return 0; }
EOF
if { (eval echo configure:8925: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d13501 3
a13503 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_termlib=termcap
d13505 1
a13505 1
rm -f conftest*
a13507 1

d13509 2
a13510 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d13521 4
a13524 4
		echo $ac_n "checking for $cf_func in -l$cf_lib""... $ac_c" 1>&6
echo "configure:8954: checking for $cf_func in -l$cf_lib" >&5
		cat > conftest.$ac_ext <<EOF
#line 8956 "configure"
d13527 3
a13529 1
int main() {
d13531 16
a13546 4
; return 0; }
EOF
if { (eval echo configure:8963: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d13549 7
a13555 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
d13571 4
a13574 5
	echo $ac_n "checking for initscr in -lcurses""... $ac_c" 1>&6
echo "configure:8990: checking for initscr in -lcurses" >&5
ac_lib_var=`echo curses'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13576 1
a13576 1
  ac_save_LIBS="$LIBS"
d13578 2
a13579 2
cat > conftest.$ac_ext <<EOF
#line 8998 "configure"
d13581 1
d13583 3
d13587 34
a13620 22
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:9009: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a13621 2
else
  echo "$ac_t""no" 1>&6
d13624 4
a13627 5
	echo $ac_n "checking for tgoto in -ltermcap""... $ac_c" 1>&6
echo "configure:9030: checking for tgoto in -ltermcap" >&5
ac_lib_var=`echo termcap'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13629 1
a13629 1
  ac_save_LIBS="$LIBS"
d13631 2
a13632 2
cat > conftest.$ac_ext <<EOF
#line 9038 "configure"
d13634 1
d13636 3
d13640 34
a13673 22
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
tgoto()
; return 0; }
EOF
if { (eval echo configure:9049: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a13674 2
else
  echo "$ac_t""no" 1>&6
d13680 1
a13680 1
rm -f conftest*
d13682 2
a13683 1
	echo "configure: warning: Cannot find -ltermlib, -lcurses, or -ltermcap" 1>&2
d13689 4
a13692 4
echo $ac_n "checking for acos""... $ac_c" 1>&6
echo "configure:9081: checking for acos" >&5
if eval "test \"`echo '$''{'ac_cv_func_acos'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13694 2
a13695 2
  cat > conftest.$ac_ext <<EOF
#line 9086 "configure"
d13698 1
a13698 1
    which can conflict with char acos(); below.  */
d13701 3
d13705 3
a13707 4
    builtin and then its argument prototype would still apply.  */
char acos();

int main() {
d13709 3
d13718 1
a13718 1
acos();
d13721 27
a13747 16
; return 0; }
EOF
if { (eval echo configure:9109: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_acos=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_acos=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'acos`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a13749 1
  echo "$ac_t""no" 1>&6
d13751 4
a13754 5
echo $ac_n "checking for acos in -lm""... $ac_c" 1>&6
echo "configure:9128: checking for acos in -lm" >&5
ac_lib_var=`echo m'_'acos | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13756 1
a13756 1
  ac_save_LIBS="$LIBS"
d13758 2
a13759 2
cat > conftest.$ac_ext <<EOF
#line 9136 "configure"
d13761 1
d13763 3
d13767 34
a13800 18
    builtin and then its argument prototype would still apply.  */
char acos();

int main() {
acos()
; return 0; }
EOF
if { (eval echo configure:9147: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a13801 5
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
d13804 1
a13804 1
	cat >> confdefs.h <<EOF
a13810 1
  echo "$ac_t""no" 1>&6
d13814 1
a13814 1
	
a13816 1

d13821 1
a13821 1
	
d13824 4
a13827 4
	echo $ac_n "checking for v_init""... $ac_c" 1>&6
echo "configure:9189: checking for v_init" >&5
if eval "test \"`echo '$''{'ac_cv_func_v_init'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13829 2
a13830 2
  cat > conftest.$ac_ext <<EOF
#line 9194 "configure"
d13833 1
a13833 1
    which can conflict with char v_init(); below.  */
d13836 3
d13840 3
a13842 4
    builtin and then its argument prototype would still apply.  */
char v_init();

int main() {
d13844 3
d13853 1
a13853 1
v_init();
d13856 27
a13882 16
; return 0; }
EOF
if { (eval echo configure:9217: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_v_init=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_v_init=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'v_init`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a13884 1
  echo "$ac_t""no" 1>&6
d13887 2
a13888 2
		echo $ac_n "checking for v_init in -lvideo""... $ac_c" 1>&6
echo "configure:9237: checking for v_init in -lvideo" >&5
d13890 2
a13891 2
		cat > conftest.$ac_ext <<EOF
#line 9240 "configure"
d13894 3
a13896 1
int main() {
d13898 18
a13915 5
; return 0; }
EOF
if { (eval echo configure:9247: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d13917 1
a13917 1
			
d13919 4
a13922 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d13981 2
a13982 2
				echo $ac_n "checking for -lvideo in $cf_libdir""... $ac_c" 1>&6
echo "configure:9316: checking for -lvideo in $cf_libdir" >&5
d13984 2
a13985 2
				cat > conftest.$ac_ext <<EOF
#line 9319 "configure"
d13988 3
a13990 1
int main() {
d13992 18
a14009 5
; return 0; }
EOF
if { (eval echo configure:9326: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d14013 4
a14016 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d14019 1
a14019 1
rm -f conftest*
d14021 1
a14021 1
			
d14023 2
a14024 2
rm -f conftest*
		
d14030 3
a14032 1
	{ echo "configure: error: Cannot link video library" 1>&2; exit 1; }
a14034 1

d14040 4
a14043 4
	echo $ac_n "checking for SLtt_get_screen_size""... $ac_c" 1>&6
echo "configure:9359: checking for SLtt_get_screen_size" >&5
if eval "test \"`echo '$''{'ac_cv_func_SLtt_get_screen_size'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14045 2
a14046 2
  cat > conftest.$ac_ext <<EOF
#line 9364 "configure"
d14049 1
a14049 1
    which can conflict with char SLtt_get_screen_size(); below.  */
d14052 3
d14056 3
a14058 4
    builtin and then its argument prototype would still apply.  */
char SLtt_get_screen_size();

int main() {
d14060 3
d14069 1
a14069 1
SLtt_get_screen_size();
d14072 27
a14098 16
; return 0; }
EOF
if { (eval echo configure:9387: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_SLtt_get_screen_size=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_SLtt_get_screen_size=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'SLtt_get_screen_size`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a14100 1
  echo "$ac_t""no" 1>&6
d14103 2
a14104 2
		echo $ac_n "checking for SLtt_get_screen_size in -lslang""... $ac_c" 1>&6
echo "configure:9407: checking for SLtt_get_screen_size in -lslang" >&5
d14106 2
a14107 2
		cat > conftest.$ac_ext <<EOF
#line 9410 "configure"
d14110 3
a14112 1
int main() {
d14114 18
a14131 5
; return 0; }
EOF
if { (eval echo configure:9417: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d14133 1
a14133 1
			
d14135 4
a14138 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d14197 2
a14198 2
				echo $ac_n "checking for -lslang in $cf_libdir""... $ac_c" 1>&6
echo "configure:9486: checking for -lslang in $cf_libdir" >&5
d14200 2
a14201 2
				cat > conftest.$ac_ext <<EOF
#line 9489 "configure"
d14204 3
a14206 1
int main() {
d14208 18
a14225 5
; return 0; }
EOF
if { (eval echo configure:9496: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d14229 4
a14232 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d14235 1
a14235 1
rm -f conftest*
d14237 1
a14237 1
			
d14239 2
a14240 2
rm -f conftest*
		
d14246 3
a14248 1
	{ echo "configure: error: Cannot link slang library" 1>&2; exit 1; }
a14250 1

d14252 2
a14253 2
echo $ac_n "checking if we can link slang without termcap""... $ac_c" 1>&6
echo "configure:9525: checking if we can link slang without termcap" >&5
d14260 2
a14261 2
cat > conftest.$ac_ext <<EOF
#line 9533 "configure"
d14264 3
a14266 1
int main() {
d14268 16
a14283 4
; return 0; }
EOF
if { (eval echo configure:9540: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d14286 7
a14292 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
echo "$ac_t""$cf_result" 1>&6
d14295 5
d14301 2
a14302 10


echo $ac_n "checking if we must tell slang this is UNIX""... $ac_c" 1>&6
echo "configure:9557: checking if we must tell slang this is UNIX" >&5
if eval "test \"`echo '$''{'cf_cv_slang_unix'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 9563 "configure"
d14305 3
a14307 1
int main() {
d14316 16
a14331 4
; return 0; }
EOF
if { (eval echo configure:9577: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d14334 3
a14336 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_slang_unix=no
d14338 1
a14338 1
rm -f conftest*
d14341 3
a14343 3

echo "$ac_t""$cf_cv_slang_unix" 1>&6
test $cf_cv_slang_unix = yes && cat >> confdefs.h <<\EOF
d14347 23
d14371 39
a14409 1
	;;
d14412 1
a14412 2
eval cf_libdir=$libdir
cf_libdir=`echo $cf_libdir | sed -e s%'^NONE/'%$prefix/% -e s%'^NONE/'%$ac_default_prefix/%`
d14414 5
a14418 4
echo $ac_n "checking for location of config-file""... $ac_c" 1>&6
echo "configure:9603: checking for location of config-file" >&5
LYNX_CFG_FILE=$cf_libdir/lynx.cfg
cat >> confdefs.h <<EOF
a14421 2
echo "$ac_t""$LYNX_CFG_FILE" 1>&6

d14424 2
a14425 3

echo $ac_n "checking if you want only a few charsets""... $ac_c" 1>&6
echo "configure:9615: checking if you want only a few charsets" >&5
d14433 1
a14433 2
fi

d14436 3
a14438 2
	echo "$ac_t""yes" 1>&6
	cat >> confdefs.h <<\EOF
d14481 2
a14482 1
	echo "$ac_t""no" 1>&6
d14485 4
a14488 5

echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:9676: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14490 2
a14491 2
  cat > conftest.$ac_ext <<EOF
#line 9681 "configure"
d14497 19
a14515 6
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:9689: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
d14518 1
a14518 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
a14519 1
  rm -rf conftest*
d14522 1
a14522 1
rm -f conftest*
d14526 2
a14527 2
cat > conftest.$ac_ext <<EOF
#line 9706 "configure"
d14530 2
a14531 1
EOF
a14535 1
  rm -rf conftest*
d14544 2
a14545 2
cat > conftest.$ac_ext <<EOF
#line 9724 "configure"
d14548 2
a14549 1
EOF
a14553 1
  rm -rf conftest*
d14562 1
a14562 1
if test "$cross_compiling" = yes; then
d14565 2
a14566 2
  cat > conftest.$ac_ext <<EOF
#line 9745 "configure"
d14569 10
a14578 2
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
d14580 22
a14601 7
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:9756: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d14604 4
a14607 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
d14609 1
a14609 1
rm -fr conftest*
a14610 1

d14613 3
d14617 1
a14617 3
echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
d14623 4
a14626 4
echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
echo "configure:9780: checking whether time.h and sys/time.h may both be included" >&5
if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14628 2
a14629 2
  cat > conftest.$ac_ext <<EOF
#line 9785 "configure"
d14634 22
a14655 6
int main() {
struct tm *tp;
; return 0; }
EOF
if { (eval echo configure:9794: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d14658 3
a14660 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_time=no
d14662 1
a14662 1
rm -f conftest*
d14664 3
d14668 1
a14668 3
echo "$ac_t""$ac_cv_header_time" 1>&6
if test $ac_cv_header_time = yes; then
  cat >> confdefs.h <<\EOF
d14675 6
a14680 7
for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr that defines DIR""... $ac_c" 1>&6
echo "configure:9819: checking for $ac_hdr that defines DIR" >&5
if eval "test \"`echo '$''{'ac_cv_header_dirent_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14682 2
a14683 2
  cat > conftest.$ac_ext <<EOF
#line 9824 "configure"
d14687 35
a14721 20
int main() {
DIR *dirp = 0;
; return 0; }
EOF
if { (eval echo configure:9832: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  eval "ac_cv_header_dirent_$ac_safe=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_dirent_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_dirent_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d14723 2
a14724 3
 ac_header_dirent=$ac_hdr; break
else
  echo "$ac_t""no" 1>&6
d14726 1
d14730 4
a14733 5
echo $ac_n "checking for opendir in -ldir""... $ac_c" 1>&6
echo "configure:9857: checking for opendir in -ldir" >&5
ac_lib_var=`echo dir'_'opendir | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14735 1
a14735 1
  ac_save_LIBS="$LIBS"
d14737 2
a14738 2
cat > conftest.$ac_ext <<EOF
#line 9865 "configure"
d14740 1
d14742 3
d14746 34
a14779 22
    builtin and then its argument prototype would still apply.  */
char opendir();

int main() {
opendir()
; return 0; }
EOF
if { (eval echo configure:9876: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a14780 2
else
  echo "$ac_t""no" 1>&6
d14784 4
a14787 5
echo $ac_n "checking for opendir in -lx""... $ac_c" 1>&6
echo "configure:9898: checking for opendir in -lx" >&5
ac_lib_var=`echo x'_'opendir | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14789 1
a14789 1
  ac_save_LIBS="$LIBS"
d14791 2
a14792 2
cat > conftest.$ac_ext <<EOF
#line 9906 "configure"
d14794 1
d14796 3
d14800 34
a14833 22
    builtin and then its argument prototype would still apply.  */
char opendir();

int main() {
opendir()
; return 0; }
EOF
if { (eval echo configure:9917: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a14834 2
else
  echo "$ac_t""no" 1>&6
d14839 1
a14839 1
for ac_hdr in \
d14858 24
a14881 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:9960: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14883 4
a14886 11
  cat > conftest.$ac_ext <<EOF
#line 9965 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:9970: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d14888 1
a14888 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d14890 1
a14890 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d14892 1
a14892 1
rm -f conftest*
d14894 5
a14898 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d14900 1
a14900 3
 
else
  echo "$ac_t""no" 1>&6
d14904 5
d14910 2
a14911 8
echo $ac_n "checking termio.h and termios.h""... $ac_c" 1>&6
echo "configure:9998: checking termio.h and termios.h" >&5
if eval "test \"`echo '$''{'cf_cv_termio_and_termios'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 10004 "configure"
d14919 4
a14922 2
#endif 
int main() {
d14924 16
a14939 4
; return 0; }
EOF
if { (eval echo configure:10017: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d14942 3
a14944 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_termio_and_termios=no
d14946 1
a14946 1
rm -f conftest*
d14949 3
a14951 2
echo "$ac_t""$cf_cv_termio_and_termios" 1>&6
test $cf_cv_termio_and_termios = no && cat >> confdefs.h <<\EOF
d14955 5
d14961 2
a14962 9

echo $ac_n "checking for sigaction and structs""... $ac_c" 1>&6
echo "configure:10037: checking for sigaction and structs" >&5
if eval "test \"`echo '$''{'cf_cv_func_sigaction'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 10043 "configure"
d14967 3
a14969 1
int main() {
d14976 17
a14992 5
	
; return 0; }
EOF
if { (eval echo configure:10058: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d14995 3
a14997 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_func_sigaction=no
d14999 1
a14999 1
rm -f conftest*
d15002 3
a15004 3

echo "$ac_t""$cf_cv_func_sigaction" 1>&6
test "$cf_cv_func_sigaction" = yes && cat >> confdefs.h <<\EOF
d15008 1
a15008 3


for ac_hdr in sys/wait.h
d15010 24
a15033 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:10082: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15035 4
a15038 11
  cat > conftest.$ac_ext <<EOF
#line 10087 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:10092: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d15040 1
a15040 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d15042 1
a15042 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15044 1
a15044 1
rm -f conftest*
d15046 5
a15050 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d15052 1
a15052 3
 
else
  echo "$ac_t""no" 1>&6
d15063 2
a15064 1
for ac_hdr in wait.h
d15066 24
a15089 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:10129: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15091 4
a15094 11
  cat > conftest.$ac_ext <<EOF
#line 10134 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:10139: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d15096 1
a15096 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d15098 1
a15098 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15100 1
a15100 1
rm -f conftest*
d15102 5
a15106 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d15108 1
a15108 3
 
else
  echo "$ac_t""no" 1>&6
d15112 1
a15112 1
for ac_hdr in waitstatus.h
d15114 5
a15118 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:10169: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15120 2
a15121 2
  cat > conftest.$ac_ext <<EOF
#line 10174 "configure"
d15123 20
a15142 8
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:10179: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d15144 1
a15144 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d15146 1
a15146 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15148 1
a15148 1
rm -f conftest*
d15150 5
a15154 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d15156 1
a15156 3
 
else
  echo "$ac_t""no" 1>&6
d15172 5
d15178 2
a15179 9

echo $ac_n "checking for union wait""... $ac_c" 1>&6
echo "configure:10220: checking for union wait" >&5
if eval "test \"`echo '$''{'cf_cv_type_unionwait'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 10226 "configure"
d15182 3
a15184 1
int main() {
d15189 17
a15205 5
	
; return 0; }
EOF
if { (eval echo configure:10237: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d15208 1
a15208 1
	
d15210 5
a15214 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
	cat > conftest.$ac_ext <<EOF
#line 10248 "configure"
d15217 3
a15219 1
int main() {
d15228 17
a15244 5
	
; return 0; }
EOF
if { (eval echo configure:10263: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d15247 1
a15247 1
	
d15249 3
a15251 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_type_unionwait=no
d15253 1
a15253 1
rm -f conftest*
d15255 1
a15255 1
rm -f conftest*
d15258 3
a15260 2
echo "$ac_t""$cf_cv_type_unionwait" 1>&6
test $cf_cv_type_unionwait = yes && cat >> confdefs.h <<\EOF
d15264 1
d15266 5
d15272 2
a15273 11

if test $cf_cv_type_unionwait = yes; then

	echo $ac_n "checking if union wait can be used as wait-arg""... $ac_c" 1>&6
echo "configure:10290: checking if union wait can be used as wait-arg" >&5
	if eval "test \"`echo '$''{'cf_cv_arg_union_wait'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 10296 "configure"
d15276 3
a15278 1
int main() {
d15280 16
a15295 4
; return 0; }
EOF
if { (eval echo configure:10303: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d15298 3
a15300 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_arg_union_wait=no
d15302 2
a15303 2
rm -f conftest*
		
d15306 3
a15308 2
	echo "$ac_t""$cf_cv_arg_union_wait" 1>&6
	test $cf_cv_arg_union_wait = yes && cat >> confdefs.h <<\EOF
d15312 5
d15318 2
a15319 8
	echo $ac_n "checking if union wait can be used as waitpid-arg""... $ac_c" 1>&6
echo "configure:10323: checking if union wait can be used as waitpid-arg" >&5
	if eval "test \"`echo '$''{'cf_cv_arg_union_waitpid'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 10329 "configure"
d15322 3
a15324 1
int main() {
d15326 16
a15341 4
; return 0; }
EOF
if { (eval echo configure:10336: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d15344 3
a15346 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_arg_union_waitpid=no
d15348 2
a15349 2
rm -f conftest*
		
d15352 3
a15354 2
	echo "$ac_t""$cf_cv_arg_union_waitpid" 1>&6
	test $cf_cv_arg_union_waitpid = yes && cat >> confdefs.h <<\EOF
a15357 1

d15360 1
a15360 2

for ac_hdr in stdarg.h varargs.h
d15362 24
a15385 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:10362: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15387 4
a15390 11
  cat > conftest.$ac_ext <<EOF
#line 10367 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:10372: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d15392 1
a15392 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d15394 1
a15394 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d15396 1
a15396 1
rm -f conftest*
d15398 5
a15402 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d15404 1
a15404 3
 
else
  echo "$ac_t""no" 1>&6
d15408 4
a15411 4
echo $ac_n "checking for standard varargs""... $ac_c" 1>&6
echo "configure:10399: checking for standard varargs" >&5
if eval "test \"`echo '$''{'cf_cv_ansi_varargs'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15413 3
a15415 3
  
	cat > conftest.$ac_ext <<EOF
#line 10405 "configure"
d15425 4
a15428 2
		
int main() {
d15430 16
a15445 4
; return 0; }
EOF
if { (eval echo configure:10420: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d15448 3
a15450 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ansi_varargs=no
d15452 2
a15453 2
rm -f conftest*
	
d15456 3
a15458 2
echo "$ac_t""$cf_cv_ansi_varargs" 1>&6
test $cf_cv_ansi_varargs = yes && cat >> confdefs.h <<\EOF
d15462 4
a15465 5

echo $ac_n "checking for uid_t in sys/types.h""... $ac_c" 1>&6
echo "configure:10440: checking for uid_t in sys/types.h" >&5
if eval "test \"`echo '$''{'ac_cv_type_uid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15467 2
a15468 2
  cat > conftest.$ac_ext <<EOF
#line 10445 "configure"
d15471 2
a15472 1
EOF
a15474 1
  rm -rf conftest*
a15476 1
  rm -rf conftest*
d15482 3
d15486 1
a15486 3
echo "$ac_t""$ac_cv_type_uid_t" 1>&6
if test $ac_cv_type_uid_t = no; then
  cat >> confdefs.h <<\EOF
d15490 1
a15490 1
  cat >> confdefs.h <<\EOF
d15496 4
a15499 4
echo $ac_n "checking type of array argument to getgroups""... $ac_c" 1>&6
echo "configure:10474: checking type of array argument to getgroups" >&5
if eval "test \"`echo '$''{'ac_cv_type_getgroups'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15504 2
a15505 2
  cat > conftest.$ac_ext <<EOF
#line 10482 "configure"
a15506 1

d15512 3
a15514 1
main()
d15529 13
a15541 5

EOF
if { (eval echo configure:10507: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
    ac_cv_type_getgroups=gid_t
d15543 4
a15546 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_type_getgroups=int
d15548 1
a15548 1
rm -fr conftest*
a15549 1

d15551 2
a15552 2
        cat > conftest.$ac_ext <<EOF
#line 10521 "configure"
d15555 2
a15556 1
EOF
a15558 1
  rm -rf conftest*
a15560 1
  rm -rf conftest*
d15567 2
d15570 1
a15570 2
echo "$ac_t""$ac_cv_type_getgroups" 1>&6
cat >> confdefs.h <<EOF
d15574 4
a15577 5

echo $ac_n "checking for pid_t""... $ac_c" 1>&6
echo "configure:10545: checking for pid_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_pid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15579 2
a15580 2
  cat > conftest.$ac_ext <<EOF
#line 10550 "configure"
d15582 24
a15605 9
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
d15608 11
a15618 4
  rm -rf conftest*
  ac_cv_type_pid_t=no
fi
rm -f conftest*
d15620 1
a15620 4
fi
echo "$ac_t""$ac_cv_type_pid_t" 1>&6
if test $ac_cv_type_pid_t = no; then
  cat >> confdefs.h <<\EOF
d15626 4
a15629 4
echo $ac_n "checking for uid_t in sys/types.h""... $ac_c" 1>&6
echo "configure:10578: checking for uid_t in sys/types.h" >&5
if eval "test \"`echo '$''{'ac_cv_type_uid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15631 2
a15632 2
  cat > conftest.$ac_ext <<EOF
#line 10583 "configure"
d15635 2
a15636 1
EOF
a15638 1
  rm -rf conftest*
a15640 1
  rm -rf conftest*
d15646 3
d15650 1
a15650 3
echo "$ac_t""$ac_cv_type_uid_t" 1>&6
if test $ac_cv_type_uid_t = no; then
  cat >> confdefs.h <<\EOF
d15654 1
a15654 1
  cat >> confdefs.h <<\EOF
d15660 4
a15663 4
echo $ac_n "checking for mode_t""... $ac_c" 1>&6
echo "configure:10612: checking for mode_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_mode_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15665 2
a15666 2
  cat > conftest.$ac_ext <<EOF
#line 10617 "configure"
d15668 24
a15691 9
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])mode_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
d15694 11
a15704 4
  rm -rf conftest*
  ac_cv_type_mode_t=no
fi
rm -f conftest*
d15706 1
a15706 4
fi
echo "$ac_t""$ac_cv_type_mode_t" 1>&6
if test $ac_cv_type_mode_t = no; then
  cat >> confdefs.h <<\EOF
d15712 54
d15767 1
d15771 4
a15774 4
echo $ac_n "checking for working alloca.h""... $ac_c" 1>&6
echo "configure:10649: checking for working alloca.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_alloca_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15776 2
a15777 2
  cat > conftest.$ac_ext <<EOF
#line 10654 "configure"
d15780 31
a15810 15
int main() {
char *p = alloca(2 * sizeof(int));
; return 0; }
EOF
if { (eval echo configure:10661: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_cv_header_alloca_h=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_alloca_h=no
fi
rm -f conftest*
fi
d15812 1
a15812 3
echo "$ac_t""$ac_cv_header_alloca_h" 1>&6
if test $ac_cv_header_alloca_h = yes; then
  cat >> confdefs.h <<\EOF
d15818 4
a15821 4
echo $ac_n "checking for alloca""... $ac_c" 1>&6
echo "configure:10682: checking for alloca" >&5
if eval "test \"`echo '$''{'ac_cv_func_alloca_works'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15823 2
a15824 2
  cat > conftest.$ac_ext <<EOF
#line 10687 "configure"
a15825 1

d15847 20
a15866 6
int main() {
char *p = (char *) alloca(1);
; return 0; }
EOF
if { (eval echo configure:10715: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d15869 3
a15871 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_func_alloca_works=no
d15873 1
a15873 1
rm -f conftest*
d15875 2
a15877 1
echo "$ac_t""$ac_cv_func_alloca_works" 1>&6
d15879 2
a15880 1
  cat >> confdefs.h <<\EOF
d15884 7
a15890 1
fi
d15892 1
a15892 7
if test $ac_cv_func_alloca_works = no; then
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
  # that cause trouble.  Some versions do not even contain alloca or
  # contain a buggy version.  If you still want to use their alloca,
  # use ar to extract alloca.o from them instead of compiling alloca.c.
  ALLOCA=alloca.${ac_objext}
  cat >> confdefs.h <<\EOF
d15896 4
a15899 5

echo $ac_n "checking whether alloca needs Cray hooks""... $ac_c" 1>&6
echo "configure:10747: checking whether alloca needs Cray hooks" >&5
if eval "test \"`echo '$''{'ac_cv_os_cray'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15901 2
a15902 2
  cat > conftest.$ac_ext <<EOF
#line 10752 "configure"
d15910 1
a15910 1
EOF
a15912 1
  rm -rf conftest*
a15914 1
  rm -rf conftest*
d15920 2
a15921 2

echo "$ac_t""$ac_cv_os_cray" 1>&6
d15923 6
a15928 5
for ac_func in _getb67 GETB67 getb67; do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:10777: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d15930 2
a15931 2
  cat > conftest.$ac_ext <<EOF
#line 10782 "configure"
d15934 1
a15934 1
    which can conflict with char $ac_func(); below.  */
d15937 3
d15941 3
a15943 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d15945 3
d15954 1
a15954 1
$ac_func();
d15957 27
a15983 13
; return 0; }
EOF
if { (eval echo configure:10805: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi
d15985 1
a15985 3
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<EOF
d15989 1
a15989 3
  break
else
  echo "$ac_t""no" 1>&6
d15992 1
a15992 1
done
d15995 4
a15998 4
echo $ac_n "checking stack direction for C alloca""... $ac_c" 1>&6
echo "configure:10832: checking stack direction for C alloca" >&5
if eval "test \"`echo '$''{'ac_cv_c_stack_direction'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d16003 2
a16004 2
  cat > conftest.$ac_ext <<EOF
#line 10840 "configure"
d16006 1
d16019 2
d16023 1
a16023 1
  exit (find_stack_direction() < 0);
d16025 12
a16036 3
EOF
if { (eval echo configure:10859: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d16039 4
a16042 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_c_stack_direction=-1
d16044 1
a16044 1
rm -fr conftest*
a16045 1

d16047 2
d16050 1
a16050 2
echo "$ac_t""$ac_cv_c_stack_direction" 1>&6
cat >> confdefs.h <<EOF
d16056 31
a16086 17
ac_safe=`echo "vfork.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for vfork.h""... $ac_c" 1>&6
echo "configure:10882: checking for vfork.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 10887 "configure"
#include "confdefs.h"
#include <vfork.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:10892: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d16088 1
a16088 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d16090 1
a16090 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d16092 1
a16092 1
rm -f conftest*
d16094 5
a16098 4
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_VFORK_H 1
a16100 2
else
  echo "$ac_t""no" 1>&6
d16102 1
d16104 7
a16110 10
echo $ac_n "checking for working vfork""... $ac_c" 1>&6
echo "configure:10917: checking for working vfork" >&5
if eval "test \"`echo '$''{'ac_cv_func_vfork_works'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  echo $ac_n "checking for vfork""... $ac_c" 1>&6
echo "configure:10923: checking for vfork" >&5
if eval "test \"`echo '$''{'ac_cv_func_vfork'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d16112 2
a16113 2
  cat > conftest.$ac_ext <<EOF
#line 10928 "configure"
d16116 1
a16116 1
    which can conflict with char vfork(); below.  */
d16119 3
d16123 3
a16125 4
    builtin and then its argument prototype would still apply.  */
char vfork();

int main() {
d16127 3
d16133 1
a16133 1
#if defined (__stub_vfork) || defined (__stub___vfork)
d16136 1
a16136 1
vfork();
d16139 17
a16155 5
; return 0; }
EOF
if { (eval echo configure:10951: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_vfork=yes"
d16157 5
a16161 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_vfork=no"
d16163 7
a16169 1
rm -f conftest*
d16171 1
d16173 9
a16181 3
if eval "test \"`echo '$ac_cv_func_'vfork`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
d16183 51
a16233 1
  echo "$ac_t""no" 1>&6
a16234 1

d16236 5
d16242 5
a16246 2
  cat > conftest.$ac_ext <<EOF
#line 10973 "configure"
d16252 2
a16253 2
#ifdef HAVE_UNISTD_H
#include <unistd.h>
d16255 2
a16256 2
#ifdef HAVE_VFORK_H
#include <vfork.h>
d16259 5
a16263 5
   argument registers are propagated back to the parent.
   The compiler is told about this with #include <vfork.h>,
   but some compilers (e.g. gcc -O) don't grok <vfork.h>.
   Test for this by using a static variable whose address
   is put into a register that is clobbered by the vfork.  */
d16267 1
a16267 1
#else
d16285 4
a16288 1
main() {
d16297 9
a16305 10
    /* Here is another test for sparc vfork register problems.
       This test uses lots of local variables, at least
       as many local variables as main has allocated so far
       including compiler temporaries.  4 locals are enough for
       gcc 1.40.3 on a Solaris 4.1.3 sparc, but we use 8 to be safe.
       A buggy compiler should reuse the register of parent
       for one of the local variables, since it will think that
       parent can't possibly be used any more in this routine.
       Assigning to the local variable will thus munge parent
       in the parent process.  */
d16315 4
a16318 5
    /* On some systems (e.g. IRIX 3.3),
       vfork doesn't separate parent from child file descriptors.
       If the child closes a descriptor before it execs or exits,
       this munges the parent's descriptor as well.
       Test for this by closing stdout in the child.  */
d16341 12
a16352 3
EOF
if { (eval echo configure:11068: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d16355 6
a16360 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_func_vfork_works=no
a16361 1
rm -fr conftest*
d16363 2
d16366 5
d16373 9
a16381 3
echo "$ac_t""$ac_cv_func_vfork_works" 1>&6
if test $ac_cv_func_vfork_works = no; then
  cat >> confdefs.h <<\EOF
d16386 5
d16392 1
d16394 4
a16397 4
echo $ac_n "checking if we should use fcntl or ioctl""... $ac_c" 1>&6
echo "configure:11092: checking if we should use fcntl or ioctl" >&5
if eval "test \"`echo '$''{'cf_cv_fionbio'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d16399 3
a16401 3
  
cat > conftest.$ac_ext <<EOF
#line 11098 "configure"
d16407 3
a16409 1
int main() {
d16412 17
a16428 5
	
; return 0; }
EOF
if { (eval echo configure:11110: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d16431 5
a16435 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
cat > conftest.$ac_ext <<EOF
#line 11119 "configure"
d16446 3
a16448 1
int main() {
d16451 17
a16467 5
	
; return 0; }
EOF
if { (eval echo configure:11136: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d16470 3
a16472 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_fionbio=unknown
d16474 1
a16474 1
rm -f conftest*
d16476 1
a16476 1
rm -f conftest*
d16479 3
a16481 3

echo "$ac_t""$cf_cv_fionbio" 1>&6
test "$cf_cv_fionbio" = "fcntl" && cat >> confdefs.h <<\EOF
d16485 5
d16491 2
a16492 9

echo $ac_n "checking for broken/missing definition of remove""... $ac_c" 1>&6
echo "configure:11159: checking for broken/missing definition of remove" >&5
if eval "test \"`echo '$''{'cf_cv_baddef_remove'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 11165 "configure"
d16495 3
a16497 1
int main() {
d16499 16
a16514 4
; return 0; }
EOF
if { (eval echo configure:11172: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d16517 4
a16520 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 11180 "configure"
d16523 4
a16526 2
		int __unlink(name) { return unlink(name); } 
int main() {
d16528 16
a16543 4
; return 0; }
EOF
if { (eval echo configure:11188: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d16546 3
a16548 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_baddef_remove=unknown
d16550 2
a16551 2
rm -f conftest*
	
d16553 1
a16553 1
rm -f conftest*
d16557 3
a16559 2
echo "$ac_t""$cf_cv_baddef_remove" 1>&6
test "$cf_cv_baddef_remove" != no && cat >> confdefs.h <<\EOF
d16563 5
d16569 2
a16570 9

echo $ac_n "checking for lstat""... $ac_c" 1>&6
echo "configure:11212: checking for lstat" >&5
if eval "test \"`echo '$''{'ac_cv_func_lstat'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 11218 "configure"
d16575 3
a16577 1
int main() {
d16579 16
a16594 4
; return 0; }
EOF
if { (eval echo configure:11227: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d16597 3
a16599 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_func_lstat=no
d16601 2
a16602 2
rm -f conftest*
	
d16605 2
a16606 1
echo "$ac_t""$ac_cv_func_lstat " 1>&6
d16608 1
a16608 1
	cat >> confdefs.h <<\EOF
d16615 1
d16632 1
d16635 1
d16638 5
a16642 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:11270: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d16644 2
a16645 2
  cat > conftest.$ac_ext <<EOF
#line 11275 "configure"
d16648 1
a16648 1
    which can conflict with char $ac_func(); below.  */
d16651 3
d16655 3
a16657 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d16659 3
d16668 1
a16668 1
$ac_func();
d16671 29
a16699 1
; return 0; }
a16700 11
if { (eval echo configure:11298: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi
a16701 9
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
d16710 5
a16714 4
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:11328: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d16716 2
a16717 2
  cat > conftest.$ac_ext <<EOF
#line 11333 "configure"
d16720 1
a16720 1
    which can conflict with char $ac_func(); below.  */
d16723 3
d16727 3
a16729 4
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d16731 3
d16740 1
a16740 1
$ac_func();
d16743 17
a16759 5
; return 0; }
EOF
if { (eval echo configure:11356: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d16761 3
a16763 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
d16765 1
a16765 1
rm -f conftest*
d16767 6
a16773 7
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
d16775 1
a16775 2
  echo "$ac_t""no" 1>&6
LIBOBJS="$LIBOBJS ${ac_func}.${ac_objext}"
d16779 5
a16784 8


echo $ac_n "checking for random-integer functions""... $ac_c" 1>&6
echo "configure:11385: checking for random-integer functions" >&5
if eval "test \"`echo '$''{'cf_cv_srand_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d16790 2
a16791 2
cat > conftest.$ac_ext <<EOF
#line 11396 "configure"
d16794 20
a16813 13
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_LIMITS_H
#include <limits.h>
#endif

int main() {
long seed = 1; seed = $cf_rand_func()
; return 0; }
EOF
if { (eval echo configure:11410: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d16817 2
a16818 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d16820 1
a16820 1
rm -f conftest*
d16824 2
a16825 2

echo "$ac_t""$cf_cv_srand_func" 1>&6
d16827 4
a16830 4
	echo $ac_n "checking for range of random-integers""... $ac_c" 1>&6
echo "configure:11426: checking for range of random-integers" >&5
if eval "test \"`echo '$''{'cf_cv_rand_max'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d16832 1
a16832 1
  
d16847 2
a16848 2
		cat > conftest.$ac_ext <<EOF
#line 11442 "configure"
d16857 4
a16860 2
		
int main() {
d16862 16
a16877 3
; return 0; }
EOF
if { (eval echo configure:11456: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d16880 3
a16882 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_rand_max="(1L<<$cf_rand_max)-1"
d16884 2
a16885 2
rm -f conftest*
	
d16887 2
a16888 2

echo "$ac_t""$cf_cv_rand_max" 1>&6
d16891 1
a16891 1
	
d16894 1
a16894 1
	cat >> confdefs.h <<EOF
d16898 1
a16898 1
	cat >> confdefs.h <<EOF
d16902 1
a16902 1
	cat >> confdefs.h <<EOF
d16911 4
a16914 4
echo $ac_n "checking for $ac_func declaration""... $ac_c" 1>&6
echo "configure:11492: checking for $ac_func declaration" >&5
if eval "test \"`echo '$''{'ac_cv_func_decl_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d16916 2
a16917 2
  cat > conftest.$ac_ext <<EOF
#line 11497 "configure"
d16920 3
a16922 1
int main() {
d16926 19
a16944 7
; return 0; }
EOF
if { (eval echo configure:11506: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
cat > conftest.$ac_ext <<EOF
#line 11510 "configure"
d16947 3
a16949 1
int main() {
d16953 17
a16969 5
; return 0; }
EOF
if { (eval echo configure:11519: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
d16972 3
a16974 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d16977 1
a16977 1
rm -f conftest*
d16979 3
a16981 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d16984 1
a16984 1
rm -f conftest*
d16988 2
a16989 1
  echo "$ac_t""yes" 1>&6
d16992 2
a16993 1
  echo "$ac_t""no" 1>&6
a16994 1
  
d16997 1
a16997 1
  cat >> confdefs.h <<EOF
d17000 1
a17000 1
 
d17007 4
a17010 4
echo $ac_n "checking for $ac_func declaration""... $ac_c" 1>&6
echo "configure:11561: checking for $ac_func declaration" >&5
if eval "test \"`echo '$''{'ac_cv_func_decl_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d17012 2
a17013 2
  cat > conftest.$ac_ext <<EOF
#line 11566 "configure"
d17018 3
a17020 1
int main() {
d17024 19
a17042 7
; return 0; }
EOF
if { (eval echo configure:11577: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
cat > conftest.$ac_ext <<EOF
#line 11581 "configure"
d17047 3
a17049 1
int main() {
d17053 17
a17069 5
; return 0; }
EOF
if { (eval echo configure:11592: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
d17072 3
a17074 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d17077 1
a17077 1
rm -f conftest*
d17079 3
a17081 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d17084 1
a17084 1
rm -f conftest*
d17088 2
a17089 1
  echo "$ac_t""yes" 1>&6
d17092 2
a17093 1
  echo "$ac_t""no" 1>&6
a17094 1
  
d17097 1
a17097 1
  cat >> confdefs.h <<EOF
d17100 1
a17100 1
 
d17104 5
d17110 2
a17111 10


echo $ac_n "checking if TRUE/FALSE are defined""... $ac_c" 1>&6
echo "configure:11634: checking if TRUE/FALSE are defined" >&5
if eval "test \"`echo '$''{'cf_cv_bool_defs'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 11640 "configure"
d17116 3
a17118 1
int main() {
d17120 16
a17135 4
; return 0; }
EOF
if { (eval echo configure:11649: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17138 3
a17140 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_bool_defs=no
d17142 1
a17142 1
rm -f conftest*
d17145 2
a17146 1
echo "$ac_t""$cf_cv_bool_defs" 1>&6
d17148 1
a17148 1
	cat >> confdefs.h <<\EOF
d17152 1
a17152 1
	cat >> confdefs.h <<\EOF
d17158 5
d17164 2
a17165 9

echo $ac_n "checking if external errno is declared""... $ac_c" 1>&6
echo "configure:11676: checking if external errno is declared" >&5
if eval "test \"`echo '$''{'cf_cv_dcl_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 11682 "configure"
d17173 4
a17176 2
#include <errno.h> 
int main() {
d17178 16
a17193 4
; return 0; }
EOF
if { (eval echo configure:11695: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17196 3
a17198 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_dcl_errno=no
d17200 1
a17200 1
rm -f conftest*
d17203 2
d17206 1
a17206 1
echo "$ac_t""$cf_cv_dcl_errno" 1>&6
a17207 2
if test "$cf_cv_dcl_errno" = no ; then
    
d17210 1
a17210 1
    cat >> confdefs.h <<EOF
d17218 8
a17225 8
echo $ac_n "checking if external errno exists""... $ac_c" 1>&6
echo "configure:11723: checking if external errno exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 11729 "configure"
d17231 3
a17233 1
int main() {
d17235 16
a17250 4
; return 0; }
EOF
if { (eval echo configure:11739: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d17253 3
a17255 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_errno=no
d17257 1
a17257 1
rm -f conftest*
d17260 2
d17263 1
a17263 1
echo "$ac_t""$cf_cv_have_errno" 1>&6
a17264 2
if test "$cf_cv_have_errno" = yes ; then
    
d17267 1
a17267 1
    cat >> confdefs.h <<EOF
d17273 5
a17278 9



echo $ac_n "checking if we can set errno""... $ac_c" 1>&6
echo "configure:11769: checking if we can set errno" >&5
if eval "test \"`echo '$''{'cf_cv_set_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d17280 2
a17281 2
  cat > conftest.$ac_ext <<EOF
#line 11776 "configure"
d17284 3
a17286 1
int main() {
d17288 16
a17303 4
; return 0; }
EOF
if { (eval echo configure:11783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d17306 3
a17308 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_set_errno=no
d17310 1
a17310 1
rm -f conftest*
d17312 2
a17313 2
  cat > conftest.$ac_ext <<EOF
#line 11795 "configure"
d17322 12
a17333 3
EOF
if { (eval echo configure:11805: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d17336 4
a17339 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  cf_cv_set_errno=no
d17341 1
a17341 1
rm -fr conftest*
a17343 1

d17345 3
a17347 3

echo "$ac_t""$cf_cv_set_errno" 1>&6
test "$cf_cv_set_errno" != no && cat >> confdefs.h <<\EOF
d17351 5
d17357 2
a17358 9

echo $ac_n "checking for setlocale()""... $ac_c" 1>&6
echo "configure:11828: checking for setlocale()" >&5
if eval "test \"`echo '$''{'cf_cv_locale'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 11834 "configure"
d17361 3
a17363 1
int main() {
d17365 16
a17380 4
; return 0; }
EOF
if { (eval echo configure:11841: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d17383 3
a17385 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_locale=no
d17387 2
a17388 2
rm -f conftest*
	
d17391 3
a17393 2
echo "$ac_t""$cf_cv_locale" 1>&6
test $cf_cv_locale = yes && { cat >> confdefs.h <<\EOF
d17398 5
d17404 2
a17405 8
echo $ac_n "checking if NGROUPS is defined""... $ac_c" 1>&6
echo "configure:11862: checking if NGROUPS is defined" >&5
if eval "test \"`echo '$''{'cf_cv_ngroups'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 11868 "configure"
d17415 3
a17417 1
int main() {
d17419 16
a17434 4
; return 0; }
EOF
if { (eval echo configure:11882: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17437 4
a17440 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 11890 "configure"
d17450 3
a17452 1
int main() {
d17454 16
a17469 4
; return 0; }
EOF
if { (eval echo configure:11904: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17472 3
a17474 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ngroups=no
d17476 2
a17477 2
rm -f conftest*
	
d17479 3
a17481 2
rm -f conftest*
echo "$ac_t""$cf_cv_ngroups" 1>&6
d17486 1
a17486 1
	cat >> confdefs.h <<\EOF
d17491 1
a17491 1
	cat >> confdefs.h <<\EOF
d17497 5
d17503 2
a17504 9
    
echo $ac_n "checking if external sys_nerr is declared""... $ac_c" 1>&6
echo "configure:11936: checking if external sys_nerr is declared" >&5
if eval "test \"`echo '$''{'cf_cv_dcl_sys_nerr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 11942 "configure"
d17512 4
a17515 2
#include <errno.h> 
int main() {
d17517 16
a17532 4
; return 0; }
EOF
if { (eval echo configure:11955: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17535 3
a17537 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_dcl_sys_nerr=no
d17539 1
a17539 1
rm -f conftest*
d17542 2
d17545 1
a17545 1
echo "$ac_t""$cf_cv_dcl_sys_nerr" 1>&6
a17546 2
if test "$cf_cv_dcl_sys_nerr" = no ; then
    
d17549 1
a17549 1
    cat >> confdefs.h <<EOF
d17557 8
a17564 8
echo $ac_n "checking if external sys_nerr exists""... $ac_c" 1>&6
echo "configure:11983: checking if external sys_nerr exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_sys_nerr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 11989 "configure"
d17570 3
a17572 1
int main() {
d17574 16
a17589 4
; return 0; }
EOF
if { (eval echo configure:11999: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d17592 3
a17594 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_sys_nerr=no
d17596 1
a17596 1
rm -f conftest*
d17599 2
d17602 1
a17602 1
echo "$ac_t""$cf_cv_have_sys_nerr" 1>&6
a17603 2
if test "$cf_cv_have_sys_nerr" = yes ; then
    
d17606 1
a17606 1
    cat >> confdefs.h <<EOF
d17612 5
d17618 2
a17619 10

    
echo $ac_n "checking if external sys_errlist is declared""... $ac_c" 1>&6
echo "configure:12028: checking if external sys_errlist is declared" >&5
if eval "test \"`echo '$''{'cf_cv_dcl_sys_errlist'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 12034 "configure"
d17627 4
a17630 2
#include <errno.h> 
int main() {
d17632 16
a17647 4
; return 0; }
EOF
if { (eval echo configure:12047: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17650 3
a17652 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_dcl_sys_errlist=no
d17654 1
a17654 1
rm -f conftest*
d17657 2
d17660 1
a17660 1
echo "$ac_t""$cf_cv_dcl_sys_errlist" 1>&6
a17661 2
if test "$cf_cv_dcl_sys_errlist" = no ; then
    
d17664 1
a17664 1
    cat >> confdefs.h <<EOF
d17672 8
a17679 8
echo $ac_n "checking if external sys_errlist exists""... $ac_c" 1>&6
echo "configure:12075: checking if external sys_errlist exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_sys_errlist'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 12081 "configure"
d17685 3
a17687 1
int main() {
d17689 16
a17704 4
; return 0; }
EOF
if { (eval echo configure:12091: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d17707 3
a17709 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_sys_errlist=no
d17711 1
a17711 1
rm -f conftest*
d17714 2
d17717 1
a17717 1
echo "$ac_t""$cf_cv_have_sys_errlist" 1>&6
a17718 2
if test "$cf_cv_have_sys_errlist" = yes ; then
    
d17721 1
a17721 1
    cat >> confdefs.h <<EOF
d17727 1
a17727 5




for ac_hdr in lastlog.h paths.h
d17729 24
a17752 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:12124: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d17754 4
a17757 11
  cat > conftest.$ac_ext <<EOF
#line 12129 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:12134: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d17759 1
a17759 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d17761 1
a17761 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d17763 1
a17763 1
rm -f conftest*
d17765 5
a17769 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d17771 1
a17771 3
 
else
  echo "$ac_t""no" 1>&6
d17775 4
a17778 4
echo $ac_n "checking for lastlog path""... $ac_c" 1>&6
echo "configure:12161: checking for lastlog path" >&5
if eval "test \"`echo '$''{'cf_cv_path_lastlog'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d17780 3
a17782 3
  
cat > conftest.$ac_ext <<EOF
#line 12167 "configure"
d17793 3
a17795 1
int main() {
d17797 16
a17812 4
; return 0; }
EOF
if { (eval echo configure:12182: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17815 3
a17817 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  if test -f /usr/adm/lastlog ; then
d17823 1
a17823 1
rm -f conftest*
d17826 3
a17828 3

echo "$ac_t""$cf_cv_path_lastlog" 1>&6
test $cf_cv_path_lastlog != no && cat >> confdefs.h <<\EOF
d17832 5
a17837 9



echo $ac_n "checking for utmp implementation""... $ac_c" 1>&6
echo "configure:12209: checking for utmp implementation" >&5
if eval "test \"`echo '$''{'cf_cv_have_utmp'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d17848 2
a17849 2
	cat > conftest.$ac_ext <<EOF
#line 12225 "configure"
d17852 3
a17854 1
int main() {
d17857 17
a17873 5
	
; return 0; }
EOF
if { (eval echo configure:12234: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17877 5
a17881 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
	cat > conftest.$ac_ext <<EOF
#line 12244 "configure"
d17884 3
a17886 1
int main() {
d17889 17
a17905 5
	
; return 0; }
EOF
if { (eval echo configure:12253: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17908 1
a17908 1
	
d17910 2
a17911 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d17913 1
a17913 1
rm -f conftest*
d17915 1
a17915 1
rm -f conftest*
d17919 2
a17920 2

echo "$ac_t""$cf_cv_have_utmp" 1>&6
d17923 1
a17923 1
	cat >> confdefs.h <<\EOF
d17927 1
a17927 1
	test $cf_cv_have_utmp = utmpx && cat >> confdefs.h <<\EOF
a17930 1
	
d17932 4
a17935 4
echo $ac_n "checking if utmp.ut_host is declared""... $ac_c" 1>&6
echo "configure:12283: checking if utmp.ut_host is declared" >&5
if eval "test \"`echo '$''{'cf_cv_have_utmp_ut_host'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d17937 3
a17939 3
  
	cat > conftest.$ac_ext <<EOF
#line 12289 "configure"
d17944 3
a17946 1
int main() {
d17948 16
a17963 4
; return 0; }
EOF
if { (eval echo configure:12298: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d17966 3
a17968 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_utmp_ut_host=no
d17970 2
a17971 2
rm -f conftest*
	
d17974 3
a17976 2
echo "$ac_t""$cf_cv_have_utmp_ut_host" 1>&6
test $cf_cv_have_utmp_ut_host != no && cat >> confdefs.h <<\EOF
a17981 1
	
d17983 4
a17986 4
echo $ac_n "checking if utmp.ut_name is declared""... $ac_c" 1>&6
echo "configure:12321: checking if utmp.ut_name is declared" >&5
if eval "test \"`echo '$''{'cf_cv_have_utmp_ut_name'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d17988 1
a17988 1
  
d17999 2
a18000 2
	cat > conftest.$ac_ext <<EOF
#line 12337 "configure"
d18003 3
a18005 1
int main() {
d18008 17
a18024 5
	
; return 0; }
EOF
if { (eval echo configure:12346: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d18028 2
a18029 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d18031 1
a18031 1
rm -f conftest*
d18035 2
a18036 2

echo "$ac_t""$cf_cv_have_utmp_ut_name" 1>&6
d18040 3
a18042 1
	{ echo "configure: error: Cannot find declaration for ut.ut_name" 1>&2; exit 1; }
d18045 1
a18045 1
	cat >> confdefs.h <<\EOF
a18052 1
	
d18054 4
a18057 4
echo $ac_n "checking for exit-status in $cf_cv_have_utmp""... $ac_c" 1>&6
echo "configure:12377: checking for exit-status in $cf_cv_have_utmp" >&5
if eval "test \"`echo '$''{'cf_cv_have_utmp_ut_xstatus'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d18059 1
a18059 1
  
d18066 2
a18067 2
cat > conftest.$ac_ext <<EOF
#line 12389 "configure"
d18072 3
a18074 1
int main() {
d18076 16
a18091 4
; return 0; }
EOF
if { (eval echo configure:12398: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d18095 3
a18097 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_utmp_ut_xstatus=no
d18099 1
a18099 1
rm -f conftest*
d18103 2
a18104 2

echo "$ac_t""$cf_cv_have_utmp_ut_xstatus" 1>&6
d18106 1
a18106 1
	cat >> confdefs.h <<\EOF
d18110 1
a18110 1
	cat >> confdefs.h <<EOF
a18116 1
	
d18118 4
a18121 4
echo $ac_n "checking if utmp.ut_xtime is declared""... $ac_c" 1>&6
echo "configure:12429: checking if utmp.ut_xtime is declared" >&5
if eval "test \"`echo '$''{'cf_cv_have_utmp_ut_xtime'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d18123 3
a18125 3
  
	cat > conftest.$ac_ext <<EOF
#line 12435 "configure"
d18130 3
a18132 1
int main() {
d18134 16
a18149 4
; return 0; }
EOF
if { (eval echo configure:12444: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d18152 4
a18155 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 12452 "configure"
d18160 3
a18162 1
int main() {
d18164 16
a18179 4
; return 0; }
EOF
if { (eval echo configure:12461: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d18182 3
a18184 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_utmp_ut_xtime=no
d18186 2
a18187 2
rm -f conftest*
	
d18189 1
a18189 1
rm -f conftest*
d18192 2
a18193 2

echo "$ac_t""$cf_cv_have_utmp_ut_xtime" 1>&6
d18195 1
a18195 1
	cat >> confdefs.h <<\EOF
d18200 1
a18200 1
		cat >> confdefs.h <<\EOF
a18207 1
	
d18209 4
a18212 4
echo $ac_n "checking if utmp.ut_session is declared""... $ac_c" 1>&6
echo "configure:12495: checking if utmp.ut_session is declared" >&5
if eval "test \"`echo '$''{'cf_cv_have_utmp_ut_session'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d18214 3
a18216 3
  
	cat > conftest.$ac_ext <<EOF
#line 12501 "configure"
d18221 3
a18223 1
int main() {
d18225 16
a18240 4
; return 0; }
EOF
if { (eval echo configure:12510: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d18243 3
a18245 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_utmp_ut_session=no
d18247 1
a18247 1
rm -f conftest*
d18250 2
a18251 2

echo "$ac_t""$cf_cv_have_utmp_ut_session" 1>&6
d18253 1
a18253 1
	cat >> confdefs.h <<\EOF
d18260 4
a18263 5
	
echo $ac_n "checking if $cf_cv_have_utmp is SYSV flavor""... $ac_c" 1>&6
echo "configure:12534: checking if $cf_cv_have_utmp is SYSV flavor" >&5
if eval "test \"`echo '$''{'cf_cv_sysv_utmp'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d18265 1
a18265 1
  
d18267 2
a18268 2
cat > conftest.$ac_ext <<EOF
#line 12541 "configure"
d18273 3
a18275 1
int main() {
d18282 16
a18297 4
; return 0; }
EOF
if { (eval echo configure:12555: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d18300 3
a18302 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_sysv_utmp=no
d18304 1
a18304 1
rm -f conftest*
d18307 3
a18309 3

echo "$ac_t""$cf_cv_sysv_utmp" 1>&6
test $cf_cv_sysv_utmp = yes && cat >> confdefs.h <<\EOF
a18312 1

d18315 5
d18321 2
a18322 8
echo $ac_n "checking if external h_errno exists""... $ac_c" 1>&6
echo "configure:12578: checking if external h_errno exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_h_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 12584 "configure"
d18328 3
a18330 1
int main() {
d18332 16
a18347 4
; return 0; }
EOF
if { (eval echo configure:12594: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d18350 3
a18352 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_h_errno=no
d18354 1
a18354 1
rm -f conftest*
d18357 2
d18360 1
a18360 1
echo "$ac_t""$cf_cv_have_h_errno" 1>&6
a18361 2
if test "$cf_cv_have_h_errno" = yes ; then
    
d18364 1
a18364 1
    cat >> confdefs.h <<EOF
d18370 2
a18371 7





echo $ac_n "checking if bibp: URLs should be supported""... $ac_c" 1>&6
echo "configure:12625: checking if bibp: URLs should be supported" >&5
d18378 1
a18378 1
    use_bibp_urls=$enableval 
d18383 1
a18383 1
  enableval=yes 
a18384 2
  
fi
d18386 4
a18389 2
echo "$ac_t""$use_bibp_urls" 1>&6
test $use_bibp_urls = no && cat >> confdefs.h <<\EOF
d18393 2
a18394 3

echo $ac_n "checking if configuration info should be browsable""... $ac_c" 1>&6
echo "configure:12649: checking if configuration info should be browsable" >&5
d18401 1
a18401 1
    use_config_info=$enableval 
d18406 1
a18406 1
  enableval=yes 
a18407 2
  
fi
d18409 4
a18412 2
echo "$ac_t""$use_config_info" 1>&6
test $use_config_info = no && cat >> confdefs.h <<\EOF
d18416 2
a18417 3

echo $ac_n "checking if new-style forms-based options screen should be used""... $ac_c" 1>&6
echo "configure:12673: checking if new-style forms-based options screen should be used" >&5
d18424 1
a18424 1
    use_forms_options=$enableval 
d18429 1
a18429 1
  enableval=yes 
a18430 2
  
fi
d18432 4
a18435 2
echo "$ac_t""$use_forms_options" 1>&6
test $use_forms_options = no && cat >> confdefs.h <<\EOF
d18439 2
a18440 3

echo $ac_n "checking if old-style options menu should be used""... $ac_c" 1>&6
echo "configure:12697: checking if old-style options menu should be used" >&5
d18447 1
a18447 1
    use_menu_options=$enableval 
d18452 1
a18452 1
  enableval=yes 
a18453 2
  
fi
d18455 4
a18458 2
echo "$ac_t""$use_menu_options" 1>&6
test $use_menu_options = no && cat >> confdefs.h <<\EOF
d18462 2
a18463 3

echo $ac_n "checking if experimental address-list page should be used""... $ac_c" 1>&6
echo "configure:12721: checking if experimental address-list page should be used" >&5
d18470 1
a18470 1
    use_addrlist_page=$enableval 
d18475 1
a18475 1
  enableval=no 
a18476 2
  
fi
d18478 4
a18481 2
echo "$ac_t""$use_addrlist_page" 1>&6
test $use_addrlist_page != no && cat >> confdefs.h <<\EOF
d18485 2
a18486 3

echo $ac_n "checking if experimental charset-selection logic should be used""... $ac_c" 1>&6
echo "configure:12745: checking if experimental charset-selection logic should be used" >&5
d18493 1
a18493 1
    use_charset_choice=$enableval 
d18498 1
a18498 1
  enableval=no 
a18499 2
  
fi
d18501 4
a18504 2
echo "$ac_t""$use_charset_choice" 1>&6
test $use_charset_choice != no && cat >> confdefs.h <<\EOF
d18508 2
a18509 3

echo $ac_n "checking if experimental CJK logic should be used""... $ac_c" 1>&6
echo "configure:12769: checking if experimental CJK logic should be used" >&5
d18516 1
a18516 1
    use_cjk=$enableval 
d18521 90
a18610 3
  enableval=no 
  use_cjk=no
  
d18613 1
a18613 4
echo "$ac_t""$use_cjk" 1>&6
test $use_cjk != no && cat >> confdefs.h <<\EOF
#define CJK_EX 1
EOF
d18615 2
a18616 3

echo $ac_n "checking if color-style code should be used""... $ac_c" 1>&6
echo "configure:12793: checking if color-style code should be used" >&5
d18621 3
a18623 3
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_color_style=$enableval 
d18625 1
a18625 1
    use_color_style=no
d18628 2
a18629 4
  enableval=no 
  use_color_style=no
  
fi
d18631 1
d18635 2
a18636 1
	echo "$ac_t""no" 1>&6
d18640 1
a18640 1
	cat >> confdefs.h <<\EOF
d18644 45
a18688 1
	echo "$ac_t""yes" 1>&6
d18690 5
a18694 4
	echo $ac_n "checking for location of style-sheet file""... $ac_c" 1>&6
echo "configure:12824: checking for location of style-sheet file" >&5
	LYNX_LSS_FILE=$cf_libdir/lynx.lss
	cat >> confdefs.h <<EOF
a18697 1
	echo "$ac_t""$LYNX_LSS_FILE" 1>&6
a18701 1

d18704 1
a18704 1
slang|ncurses*)
d18710 2
a18711 2
echo $ac_n "checking if you want to use default-colors""... $ac_c" 1>&6
echo "configure:12845: checking if you want to use default-colors" >&5
d18718 1
a18718 1
    use_dft_colors=yes 
d18723 1
a18723 1
  enableval=no 
a18724 2
  
fi
d18726 4
a18729 2
echo "$ac_t""$use_dft_colors" 1>&6
test $use_dft_colors = "yes" && cat >> confdefs.h <<\EOF
d18735 2
a18736 2
echo $ac_n "checking if experimental htmlized lynx.cfg should be built""... $ac_c" 1>&6
echo "configure:12870: checking if experimental htmlized lynx.cfg should be built" >&5
d18743 1
a18743 1
    use_exp_htmlized_cfg=$enableval 
d18748 1
a18748 1
  enableval=no 
a18749 2
  
fi
d18751 3
a18753 1
echo "$ac_t""$use_exp_htmlized_cfg" 1>&6
a18761 2


d18763 2
a18764 2
echo $ac_n "checking whether to enable ipv6""... $ac_c" 1>&6
echo "configure:12900: checking whether to enable ipv6" >&5
d18771 1
a18771 1
    cat >> confdefs.h <<\EOF
d18774 1
a18774 1
 
d18777 4
a18780 4
  enableval=no   
fi

echo "$ac_t""$enableval" 1>&6
a18781 1
	
d18783 4
a18786 4
echo $ac_n "checking ipv6 stack type""... $ac_c" 1>&6
echo "configure:12921: checking ipv6 stack type" >&5
if eval "test \"`echo '$''{'cf_cv_ipv6type'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d18788 1
a18788 1
  
d18803 2
a18804 2
				cat > conftest.$ac_ext <<EOF
#line 12941 "configure"
d18811 1
a18811 1
EOF
a18813 1
  rm -rf conftest*
d18820 2
a18821 2
				cat > conftest.$ac_ext <<EOF
#line 12959 "configure"
d18828 1
a18828 1
EOF
a18830 1
  rm -rf conftest*
d18837 2
a18838 2
				cat > conftest.$ac_ext <<EOF
#line 12977 "configure"
d18845 1
a18845 1
EOF
a18847 1
  rm -rf conftest*
d18863 2
a18864 2
		cat > conftest.$ac_ext <<EOF
#line 13004 "configure"
d18871 1
a18871 1
EOF
a18873 1
  rm -rf conftest*
d18880 2
a18881 2
		cat > conftest.$ac_ext <<EOF
#line 13022 "configure"
d18888 1
a18888 1
EOF
a18890 1
  rm -rf conftest*
d18897 2
a18898 2
		cat > conftest.$ac_ext <<EOF
#line 13040 "configure"
d18905 1
a18905 1
EOF
a18907 1
  rm -rf conftest*
d18920 2
a18921 5

echo "$ac_t""$cf_cv_ipv6type" 1>&6



d18926 2
a18927 2
echo $ac_n "checking for IPv6 library if required""... $ac_c" 1>&6
echo "configure:13073: checking for IPv6 library if required" >&5
d18956 2
a18957 1
echo "$ac_t""$cf_ipv6lib" 1>&6
d18961 2
a18962 2
	cat > conftest.$ac_ext <<EOF
#line 13107 "configure"
d18969 3
a18971 1
int main() {
d18973 16
a18988 3
; return 0; }
EOF
if { (eval echo configure:13118: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18991 3
a18993 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
a19063 1

d19075 1
a19075 1
	
d19077 1
a19077 1
rm -f conftest*
a19078 1
	
d19081 4
a19084 4
	echo $ac_n "checking for getaddrinfo""... $ac_c" 1>&6
echo "configure:13215: checking for getaddrinfo" >&5
if eval "test \"`echo '$''{'ac_cv_func_getaddrinfo'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d19086 2
a19087 2
  cat > conftest.$ac_ext <<EOF
#line 13220 "configure"
d19090 1
a19090 1
    which can conflict with char getaddrinfo(); below.  */
d19093 3
d19097 3
a19099 4
    builtin and then its argument prototype would still apply.  */
char getaddrinfo();

int main() {
d19101 3
d19110 1
a19110 1
getaddrinfo();
d19113 27
a19139 16
; return 0; }
EOF
if { (eval echo configure:13243: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_getaddrinfo=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_getaddrinfo=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'getaddrinfo`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a19141 1
  echo "$ac_t""no" 1>&6
d19144 2
a19145 2
		echo $ac_n "checking for getaddrinfo in -l$cf_ipv6lib""... $ac_c" 1>&6
echo "configure:13263: checking for getaddrinfo in -l$cf_ipv6lib" >&5
d19147 2
a19148 2
		cat > conftest.$ac_ext <<EOF
#line 13266 "configure"
d19155 3
a19157 1
int main() {
d19159 18
a19176 5
; return 0; }
EOF
if { (eval echo configure:13277: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d19178 1
a19178 1
			
d19180 4
a19183 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d19242 2
a19243 2
				echo $ac_n "checking for -l$cf_ipv6lib in $cf_libdir""... $ac_c" 1>&6
echo "configure:13346: checking for -l$cf_ipv6lib in $cf_libdir" >&5
d19245 2
a19246 2
				cat > conftest.$ac_ext <<EOF
#line 13349 "configure"
d19253 3
a19255 1
int main() {
d19257 18
a19274 5
; return 0; }
EOF
if { (eval echo configure:13360: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d19278 4
a19281 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d19284 1
a19284 1
rm -f conftest*
d19286 1
a19286 1
			
d19288 2
a19289 2
rm -f conftest*
		
a19293 1

d19295 5
a19299 2
		{ echo "configure: error: No $cf_ipv6lib library found, cannot continue.  You must fetch lib$cf_ipv6lib.a
from an appropriate IPv6 kit and compile beforehand." 1>&2; exit 1; }
d19303 5
a19308 8


echo $ac_n "checking working getaddrinfo""... $ac_c" 1>&6
echo "configure:13393: checking working getaddrinfo" >&5
if eval "test \"`echo '$''{'cf_cv_getaddrinfo'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d19312 2
a19313 2
  cat > conftest.$ac_ext <<EOF
#line 13402 "configure"
d19391 12
a19402 3
EOF
if { (eval echo configure:13481: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d19405 4
a19408 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  cf_cv_getaddrinfo=no
d19410 1
a19410 1
rm -fr conftest*
a19412 1

d19414 2
a19415 2

echo "$ac_t""$cf_cv_getaddrinfo" 1>&6
d19417 1
a19417 1
	cat >> confdefs.h <<\EOF
d19421 1
a19421 1
	cat >> confdefs.h <<\EOF
a19426 1

d19429 4
a19432 2
		echo "configure: warning: You must get working getaddrinfo() function,
or you can specify "--disable-ipv6"" 1>&2
d19434 4
a19437 1
		echo "configure: warning: The getaddrinfo() implementation on your system seems be buggy.
d19439 1
a19439 1
of GNU C library (aka glibc)." 1>&2
a19442 19

fi

echo $ac_n "checking if experimental element-justification logic should be used""... $ac_c" 1>&6
echo "configure:13524: checking if experimental element-justification logic should be used" >&5

# Check whether --enable-justify-elts or --disable-justify-elts was given.
if test "${enable_justify_elts+set}" = set; then
  enableval="$enable_justify_elts"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_exp_justify_elts=$enableval 
  else
    use_exp_justify_elts=no
  fi
else
  enableval=no 
  use_exp_justify_elts=no
  
d19445 2
a19446 8
echo "$ac_t""$use_exp_justify_elts" 1>&6
test $use_exp_justify_elts != no && cat >> confdefs.h <<\EOF
#define EXP_JUSTIFY_ELTS 1
EOF


echo $ac_n "checking if experimental keyboard-layout logic should be used""... $ac_c" 1>&6
echo "configure:13548: checking if experimental keyboard-layout logic should be used" >&5
d19453 1
a19453 1
    use_kbd_layout=$enableval 
d19458 1
a19458 1
  enableval=no 
a19459 2
  
fi
d19461 4
a19464 2
echo "$ac_t""$use_kbd_layout" 1>&6
test $use_kbd_layout != no && cat >> confdefs.h <<\EOF
d19468 2
a19469 4


echo $ac_n "checking if experimental locale-charset selection logic should be used""... $ac_c" 1>&6
echo "configure:13573: checking if experimental locale-charset selection logic should be used" >&5
d19476 1
a19476 1
    use_locale_charset=$enableval 
d19481 1
a19481 1
  enableval=no 
a19482 2
  
fi
d19484 4
a19487 2
echo "$ac_t""$use_locale_charset" 1>&6
test $use_locale_charset != no && cat >> confdefs.h <<\EOF
d19491 2
a19492 3

echo $ac_n "checking if experimental nested-table logic should be used""... $ac_c" 1>&6
echo "configure:13597: checking if experimental nested-table logic should be used" >&5
d19499 1
a19499 1
    use_nested_tables=$enableval 
d19504 1
a19504 1
  enableval=no 
a19505 2
  
fi
d19507 4
a19510 2
echo "$ac_t""$use_nested_tables" 1>&6
test $use_nested_tables != no && cat >> confdefs.h <<\EOF
d19514 2
a19515 3

echo $ac_n "checking if scrollbar code should be used""... $ac_c" 1>&6
echo "configure:13621: checking if scrollbar code should be used" >&5
d19522 1
a19522 1
    use_scrollbar=$enableval 
d19527 1
a19527 1
  enableval=no 
a19528 2
  
fi
d19530 3
a19532 1
echo "$ac_t""$use_scrollbar" 1>&6
d19534 2
a19535 5



echo $ac_n "checking if alternative line-edit bindings should be used""... $ac_c" 1>&6
echo "configure:13644: checking if alternative line-edit bindings should be used" >&5
d19542 1
a19542 1
    use_alt_bindings=$enableval 
d19547 1
a19547 1
  enableval=no 
a19548 2
  
fi
d19550 4
a19553 2
echo "$ac_t""$use_alt_bindings" 1>&6
test $use_alt_bindings != no && cat >> confdefs.h <<\EOF
d19557 2
a19558 3

echo $ac_n "checking if you want to use extended HTML DTD logic""... $ac_c" 1>&6
echo "configure:13668: checking if you want to use extended HTML DTD logic" >&5
d19565 1
a19565 1
    use_ext_htmldtd=no 
d19570 1
a19570 1
  enableval=yes 
a19571 2
  
fi
d19573 4
a19576 2
echo "$ac_t""$use_ext_htmldtd" 1>&6
test $use_ext_htmldtd = "no" && cat >> confdefs.h <<\EOF
d19580 2
a19581 3

echo $ac_n "checking if file-upload logic should be used""... $ac_c" 1>&6
echo "configure:13692: checking if file-upload logic should be used" >&5
d19588 1
a19588 1
    use_file_upload=$enableval 
d19593 1
a19593 1
  enableval=yes 
a19594 2
  
fi
d19596 4
a19599 2
echo "$ac_t""$use_file_upload" 1>&6
test $use_file_upload != no && cat >> confdefs.h <<\EOF
d19603 2
d19606 22
a19627 2
echo $ac_n "checking if partial-display should be used""... $ac_c" 1>&6
echo "configure:13716: checking if partial-display should be used" >&5
d19634 1
a19634 1
    use_partial_display=$enableval 
d19639 1
a19639 1
  enableval=yes 
a19640 2
  
fi
d19642 4
a19645 2
echo "$ac_t""$use_partial_display" 1>&6
test $use_partial_display != no && cat >> confdefs.h <<\EOF
d19649 2
a19650 3

echo $ac_n "checking if persistent-cookie logic should be used""... $ac_c" 1>&6
echo "configure:13740: checking if persistent-cookie logic should be used" >&5
d19657 1
a19657 1
    use_filed_cookies=$enableval 
d19662 1
a19662 1
  enableval=yes 
a19663 2
  
fi
d19665 4
a19668 2
echo "$ac_t""$use_filed_cookies" 1>&6
test $use_filed_cookies != no && cat >> confdefs.h <<\EOF
d19672 2
a19673 3

echo $ac_n "checking if html source should be colorized""... $ac_c" 1>&6
echo "configure:13764: checking if html source should be colorized" >&5
d19680 1
a19680 1
    use_prettysrc=$enableval 
d19685 1
a19685 1
  enableval=yes 
a19686 2
  
fi
d19688 4
a19691 2
echo "$ac_t""$use_prettysrc" 1>&6
test $use_prettysrc != no && cat >> confdefs.h <<\EOF
d19695 2
a19696 3

echo $ac_n "checking if read-progress message should show ETA""... $ac_c" 1>&6
echo "configure:13788: checking if read-progress message should show ETA" >&5
d19703 1
a19703 1
    use_read_eta=$enableval 
d19708 1
a19708 1
  enableval=yes 
a19709 2
  
fi
d19711 4
a19714 2
echo "$ac_t""$use_read_eta" 1>&6
test $use_read_eta != no && cat >> confdefs.h <<\EOF
d19718 2
a19719 3

echo $ac_n "checking if source caching should be used""... $ac_c" 1>&6
echo "configure:13812: checking if source caching should be used" >&5
d19726 1
a19726 1
    use_source_cache=$enableval 
d19731 1
a19731 1
  enableval=yes 
a19732 2
  
fi
d19734 4
a19737 2
echo "$ac_t""$use_source_cache" 1>&6
test $use_source_cache != no && cat >> confdefs.h <<\EOF
d19741 2
a19742 3

echo $ac_n "checking if you want to use external commands""... $ac_c" 1>&6
echo "configure:13836: checking if you want to use external commands" >&5
d19749 1
a19749 1
    use_externs=yes 
d19754 1
a19754 1
  enableval=no 
a19755 2
  
fi
d19757 3
a19759 1
echo "$ac_t""$use_externs" 1>&6
d19761 1
a19761 1
	cat >> confdefs.h <<\EOF
d19765 1
a19765 1
	LIBOBJS="$LIBOBJS LYExtern\$o"
d19768 2
a19769 2
echo $ac_n "checking if you want to use setfont support""... $ac_c" 1>&6
echo "configure:13863: checking if you want to use setfont support" >&5
d19776 1
a19776 1
    use_setfont=yes 
d19781 1
a19781 1
  enableval=no 
d19783 122
a19904 1
  
d19907 9
a19915 2
echo "$ac_t""$use_setfont" 1>&6
test $use_setfont = yes && cat >> confdefs.h <<\EOF
d19919 5
d19925 2
a19926 2
echo $ac_n "checking if you want cgi-link support""... $ac_c" 1>&6
echo "configure:13887: checking if you want cgi-link support" >&5
d19933 1
a19933 1
    cat >> confdefs.h <<\EOF
d19936 1
a19936 1
 
d19939 4
a19942 2
  enableval=no   
fi
d19944 2
a19945 4
echo "$ac_t""$enableval" 1>&6

echo $ac_n "checking if you want change-exec support""... $ac_c" 1>&6
echo "configure:13906: checking if you want change-exec support" >&5
d19952 1
a19952 1
    use_change_exec=yes 
d19957 1
a19957 1
  enableval=no 
a19958 2
  
fi
d19960 4
a19963 2
echo "$ac_t""$use_change_exec" 1>&6
test $use_change_exec = yes && cat >> confdefs.h <<\EOF
d19967 2
a19968 3

echo $ac_n "checking if you want exec-links support""... $ac_c" 1>&6
echo "configure:13930: checking if you want exec-links support" >&5
d19975 1
a19975 1
    use_exec_links=$enableval 
d19980 1
a19980 1
  enableval=$use_change_exec 
a19981 2
  
fi
d19983 4
a19986 2
echo "$ac_t""$use_exec_links" 1>&6
test $use_exec_links = yes && cat >> confdefs.h <<\EOF
d19990 2
a19991 3

echo $ac_n "checking if you want exec-scripts support""... $ac_c" 1>&6
echo "configure:13954: checking if you want exec-scripts support" >&5
d19998 1
a19998 1
    use_exec_scripts=$enableval 
d20003 1
a20003 1
  enableval=$use_change_exec 
a20004 2
  
fi
d20006 4
a20009 2
echo "$ac_t""$use_exec_scripts" 1>&6
test $use_exec_scripts = yes && cat >> confdefs.h <<\EOF
d20013 2
a20014 3

echo $ac_n "checking if you want internal-links feature""... $ac_c" 1>&6
echo "configure:13978: checking if you want internal-links feature" >&5
d20021 1
a20021 1
    use_internal_links=yes 
d20026 1
a20026 1
  enableval=no 
a20027 2
  
fi
d20029 4
a20032 2
echo "$ac_t""$use_internal_links" 1>&6
test $use_internal_links = no && cat >> confdefs.h <<\EOF
d20036 2
a20037 3

echo $ac_n "checking if you want to fork NSL requests""... $ac_c" 1>&6
echo "configure:14002: checking if you want to fork NSL requests" >&5
d20044 1
a20044 1
    use_nsl_fork=yes 
d20049 1
a20049 1
  enableval=no 
a20050 2
  
fi
d20052 4
a20055 2
echo "$ac_t""$use_nsl_fork" 1>&6
test $use_nsl_fork = yes && cat >> confdefs.h <<\EOF
d20059 2
a20060 3

echo $ac_n "checking if you want to log URL requests via syslog""... $ac_c" 1>&6
echo "configure:14026: checking if you want to log URL requests via syslog" >&5
d20067 1
a20067 1
    use_syslog=yes 
d20072 1
a20072 1
  enableval=no 
a20073 2
  
fi
d20075 4
a20078 2
echo "$ac_t""$use_syslog" 1>&6
test $use_syslog = yes && cat >> confdefs.h <<\EOF
d20082 2
a20083 3

echo $ac_n "checking if you want to underline links""... $ac_c" 1>&6
echo "configure:14050: checking if you want to underline links" >&5
d20090 1
a20090 1
    use_underline=yes 
d20095 1
a20095 1
  enableval=no 
a20096 2
  
fi
d20098 4
a20101 2
echo "$ac_t""$use_underline" 1>&6
test $use_underline = yes && cat >> confdefs.h <<\EOF
d20105 1
a20105 1
test $use_underline = no  && cat >> confdefs.h <<\EOF
d20109 2
a20110 3

echo $ac_n "checking if help files should be gzip'ed""... $ac_c" 1>&6
echo "configure:14078: checking if help files should be gzip'ed" >&5
d20117 1
a20117 1
    use_gzip_help=$enableval 
d20122 1
a20122 1
  enableval=no 
a20123 2
  
fi
d20125 3
a20127 1
echo "$ac_t""$use_gzip_help" 1>&6
d20129 2
a20130 2
echo $ac_n "checking if you want to use libbz2 for decompression of some bzip2 files""... $ac_c" 1>&6
echo "configure:14098: checking if you want to use libbz2 for decompression of some bzip2 files" >&5
d20138 3
a20140 1
fi
d20142 1
a20142 1
echo "$ac_t""$use_bzlib" 1>&6
d20144 4
a20147 6
if test ".$use_bzlib" != ".no" ; then
	
echo $ac_n "checking if we need to add -I option to get bzlib.h""... $ac_c" 1>&6
echo "configure:14113: checking if we need to add -I option to get bzlib.h" >&5
cat > conftest.$ac_ext <<EOF
#line 14115 "configure"
d20150 3
a20152 1
int main() {
d20154 18
a20171 5
; return 0; }
EOF
if { (eval echo configure:14122: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d20173 5
a20177 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
echo "$ac_t""yes" 1>&6
a20247 1

d20251 2
a20252 1
		
d20255 2
d20259 2
d20263 17
d20292 11
d20306 1
a20306 1
	
d20311 1
a20311 1
	
d20315 4
d20329 1
a20329 1
rm -f conftest*
d20333 4
a20336 4
	echo $ac_n "checking for BZ2_bzopen""... $ac_c" 1>&6
echo "configure:14251: checking for BZ2_bzopen" >&5
if eval "test \"`echo '$''{'ac_cv_func_BZ2_bzopen'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d20338 2
a20339 2
  cat > conftest.$ac_ext <<EOF
#line 14256 "configure"
d20342 1
a20342 1
    which can conflict with char BZ2_bzopen(); below.  */
d20345 3
d20349 3
a20351 4
    builtin and then its argument prototype would still apply.  */
char BZ2_bzopen();

int main() {
d20353 3
d20362 1
a20362 1
BZ2_bzopen();
d20365 27
a20391 16
; return 0; }
EOF
if { (eval echo configure:14279: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_BZ2_bzopen=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_BZ2_bzopen=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'BZ2_bzopen`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a20393 1
  echo "$ac_t""no" 1>&6
d20396 2
a20397 2
		echo $ac_n "checking for BZ2_bzopen in -lbz2""... $ac_c" 1>&6
echo "configure:14299: checking for BZ2_bzopen in -lbz2" >&5
d20399 2
a20400 2
		cat > conftest.$ac_ext <<EOF
#line 14302 "configure"
d20405 3
a20407 1
int main() {
d20409 18
a20426 5
; return 0; }
EOF
if { (eval echo configure:14311: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d20428 1
a20428 1
			
d20430 4
a20433 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d20492 2
a20493 2
				echo $ac_n "checking for -lbz2 in $cf_libdir""... $ac_c" 1>&6
echo "configure:14380: checking for -lbz2 in $cf_libdir" >&5
d20495 2
a20496 2
				cat > conftest.$ac_ext <<EOF
#line 14383 "configure"
d20501 3
a20503 1
int main() {
d20505 18
a20522 5
; return 0; }
EOF
if { (eval echo configure:14392: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d20526 4
a20529 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d20532 1
a20532 1
rm -f conftest*
d20534 1
a20534 1
			
d20536 2
a20537 2
rm -f conftest*
		
d20543 3
a20545 1
	{ echo "configure: error: Cannot link bz2 library" 1>&2; exit 1; }
d20548 1
a20548 3


	cat >> confdefs.h <<\EOF
d20554 2
a20555 2
echo $ac_n "checking if you want to use zlib for decompression of some gzip files""... $ac_c" 1>&6
echo "configure:14427: checking if you want to use zlib for decompression of some gzip files" >&5
d20563 3
a20565 1
fi
d20567 1
a20567 1
echo "$ac_t""$use_zlib" 1>&6
d20569 4
a20572 6
if test ".$use_zlib" != ".no" ; then
	
echo $ac_n "checking if we need to add -I option to get zlib.h""... $ac_c" 1>&6
echo "configure:14442: checking if we need to add -I option to get zlib.h" >&5
cat > conftest.$ac_ext <<EOF
#line 14444 "configure"
d20575 3
a20577 1
int main() {
d20579 18
a20596 5
; return 0; }
EOF
if { (eval echo configure:14451: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d20598 5
a20602 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
echo "$ac_t""yes" 1>&6
a20672 1

d20676 2
a20677 1
		
d20680 2
d20684 2
d20688 17
d20717 11
d20731 1
a20731 1
	
d20736 1
a20736 1
	
d20740 4
d20754 1
a20754 1
rm -f conftest*
d20758 4
a20761 4
	echo $ac_n "checking for gzopen""... $ac_c" 1>&6
echo "configure:14580: checking for gzopen" >&5
if eval "test \"`echo '$''{'ac_cv_func_gzopen'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d20763 2
a20764 2
  cat > conftest.$ac_ext <<EOF
#line 14585 "configure"
d20767 1
a20767 1
    which can conflict with char gzopen(); below.  */
d20770 3
d20774 3
a20776 4
    builtin and then its argument prototype would still apply.  */
char gzopen();

int main() {
d20778 3
d20787 1
a20787 1
gzopen();
d20790 27
a20816 16
; return 0; }
EOF
if { (eval echo configure:14608: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_gzopen=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_gzopen=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'gzopen`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a20818 1
  echo "$ac_t""no" 1>&6
d20821 2
a20822 2
		echo $ac_n "checking for gzopen in -lz""... $ac_c" 1>&6
echo "configure:14628: checking for gzopen in -lz" >&5
d20824 2
a20825 2
		cat > conftest.$ac_ext <<EOF
#line 14631 "configure"
d20828 3
a20830 1
int main() {
d20832 18
a20849 5
; return 0; }
EOF
if { (eval echo configure:14638: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d20851 1
a20851 1
			
d20853 4
a20856 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d20915 2
a20916 2
				echo $ac_n "checking for -lz in $cf_libdir""... $ac_c" 1>&6
echo "configure:14707: checking for -lz in $cf_libdir" >&5
d20918 2
a20919 2
				cat > conftest.$ac_ext <<EOF
#line 14710 "configure"
d20922 3
a20924 1
int main() {
d20926 18
a20943 5
; return 0; }
EOF
if { (eval echo configure:14717: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d20947 4
a20950 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
d20953 1
a20953 1
rm -f conftest*
d20955 1
a20955 1
			
d20957 2
a20958 2
rm -f conftest*
		
d20964 3
a20966 1
	{ echo "configure: error: Cannot link z library" 1>&2; exit 1; }
d20969 1
a20969 3


	cat >> confdefs.h <<\EOF
d20975 2
a20976 4


echo $ac_n "checking if you want to exclude FINGER code""... $ac_c" 1>&6
echo "configure:14754: checking if you want to exclude FINGER code" >&5
d20983 1
a20983 1
    use_finger=yes 
d20988 1
a20988 1
  enableval=yes 
a20989 2
  
fi
d20991 4
a20994 2
echo "$ac_t""$use_finger" 1>&6
test $use_finger != "no" && cat >> confdefs.h <<\EOF
d20998 2
a20999 3

echo $ac_n "checking if you want to exclude GOPHER code""... $ac_c" 1>&6
echo "configure:14778: checking if you want to exclude GOPHER code" >&5
d21006 1
a21006 1
    use_gopher=yes 
d21011 1
a21011 1
  enableval=yes 
a21012 2
  
fi
d21014 4
a21017 2
echo "$ac_t""$use_gopher" 1>&6
test $use_gopher != "no" && cat >> confdefs.h <<\EOF
d21021 2
a21022 3

echo $ac_n "checking if you want to exclude NEWS code""... $ac_c" 1>&6
echo "configure:14802: checking if you want to exclude NEWS code" >&5
d21029 1
a21029 1
    use_news=yes 
d21034 1
a21034 1
  enableval=yes 
a21035 2
  
fi
d21037 4
a21040 2
echo "$ac_t""$use_news" 1>&6
test $use_news != "no" && cat >> confdefs.h <<\EOF
d21044 2
a21045 3

echo $ac_n "checking if you want to exclude FTP code""... $ac_c" 1>&6
echo "configure:14826: checking if you want to exclude FTP code" >&5
d21052 1
a21052 1
    use_ftp=yes 
d21057 1
a21057 1
  enableval=yes 
a21058 2
  
fi
d21060 4
a21063 2
echo "$ac_t""$use_ftp" 1>&6
test $use_ftp != "no" && cat >> confdefs.h <<\EOF
a21066 4




d21069 2
a21070 2
echo $ac_n "checking if directory-editor code should be used""... $ac_c" 1>&6
echo "configure:14855: checking if directory-editor code should be used" >&5
d21077 1
a21077 1
    use_dired=$enableval 
d21082 1
a21082 1
  enableval=yes 
a21083 2
  
fi
d21085 3
a21087 1
echo "$ac_t""$use_dired" 1>&6
d21090 2
a21091 2
	LIBOBJS="$LIBOBJS LYLocal\$o"
	cat >> confdefs.h <<\EOF
d21095 2
a21097 3
	echo $ac_n "checking if you wish to allow extracting from archives via DirEd""... $ac_c" 1>&6
echo "configure:14882: checking if you wish to allow extracting from archives via DirEd" >&5
	
d21103 1
a21103 1
    cat >> confdefs.h <<\EOF
d21106 1
a21106 1
 
d21109 4
a21112 2
  enableval=yes   
fi
d21114 2
a21115 1
	echo "$ac_t""$enableval" 1>&6
a21116 3
	echo $ac_n "checking if DirEd mode should override keys""... $ac_c" 1>&6
echo "configure:14901: checking if DirEd mode should override keys" >&5
	
d21122 1
a21122 1
    : 
d21124 1
a21124 1
    cat >> confdefs.h <<\EOF
d21130 2
a21131 2
  enableval=yes 
  cat >> confdefs.h <<\EOF
d21135 3
a21137 2
  
fi
d21139 2
a21140 1
	echo "$ac_t""$enableval" 1>&6
a21141 3
	echo $ac_n "checking if you wish to allow permissions commands via DirEd""... $ac_c" 1>&6
echo "configure:14927: checking if you wish to allow permissions commands via DirEd" >&5
	
d21147 1
a21147 1
    : 
d21149 1
a21149 1
    cat >> confdefs.h <<\EOF
d21155 2
a21156 2
  enableval=yes 
  cat >> confdefs.h <<\EOF
d21160 3
a21162 2
  
fi
d21164 2
a21165 1
	echo "$ac_t""$enableval" 1>&6
a21166 3
	echo $ac_n "checking if you wish to allow executable-permission commands via DirEd""... $ac_c" 1>&6
echo "configure:14953: checking if you wish to allow executable-permission commands via DirEd" >&5
	
d21172 1
a21172 1
    cat >> confdefs.h <<\EOF
d21175 1
a21175 1
 
d21178 4
a21181 2
  enableval=yes   
fi
d21183 2
a21184 1
	echo "$ac_t""$enableval" 1>&6
a21185 3
	echo $ac_n "checking if you wish to allow "tar" commands from DirEd""... $ac_c" 1>&6
echo "configure:14972: checking if you wish to allow "tar" commands from DirEd" >&5
	
d21191 1
a21191 1
    : 
d21193 1
a21193 1
    cat >> confdefs.h <<\EOF
d21199 2
a21200 2
  enableval=yes 
  cat >> confdefs.h <<\EOF
d21204 3
a21206 2
  
fi
d21208 2
a21209 1
	echo "$ac_t""$enableval" 1>&6
a21210 3
	echo $ac_n "checking if you wish to allow "uudecode" commands from DirEd""... $ac_c" 1>&6
echo "configure:14998: checking if you wish to allow "uudecode" commands from DirEd" >&5
	
d21216 1
a21216 1
    : 
d21218 1
a21218 1
    cat >> confdefs.h <<\EOF
d21224 2
a21225 2
  enableval=yes 
  cat >> confdefs.h <<\EOF
d21229 3
a21231 2
  
fi
d21233 2
a21234 1
	echo "$ac_t""$enableval" 1>&6
a21235 3
	echo $ac_n "checking if you wish to allow "zip" and "unzip" commands from DirEd""... $ac_c" 1>&6
echo "configure:15024: checking if you wish to allow "zip" and "unzip" commands from DirEd" >&5
	
d21241 1
a21241 1
    : 
d21243 1
a21243 1
    cat >> confdefs.h <<\EOF
d21249 2
a21250 2
  enableval=yes 
  cat >> confdefs.h <<\EOF
d21254 3
a21256 2
  
fi
d21258 2
a21259 1
	echo "$ac_t""$enableval" 1>&6
a21260 3
	echo $ac_n "checking if you wish to allow "gzip" and "gunzip" commands from DirEd""... $ac_c" 1>&6
echo "configure:15050: checking if you wish to allow "gzip" and "gunzip" commands from DirEd" >&5
	
d21266 1
a21266 1
    : 
d21268 1
a21268 1
    cat >> confdefs.h <<\EOF
d21274 2
a21275 2
  enableval=yes 
  cat >> confdefs.h <<\EOF
d21279 3
a21281 4
  
fi

	echo "$ac_t""$enableval" 1>&6
d21284 2
a21285 2
echo $ac_n "checking if you want long-directory listings""... $ac_c" 1>&6
echo "configure:15077: checking if you want long-directory listings" >&5
d21292 1
a21292 1
    : 
d21294 1
a21294 1
    cat >> confdefs.h <<\EOF
d21300 2
a21301 2
  enableval=yes 
  cat >> confdefs.h <<\EOF
d21305 3
a21307 4
  
fi

echo "$ac_t""$enableval" 1>&6
d21309 2
a21310 2
echo $ac_n "checking if parent-directory references are permitted""... $ac_c" 1>&6
echo "configure:15103: checking if parent-directory references are permitted" >&5
d21317 1
a21317 1
    cat >> confdefs.h <<\EOF
d21320 1
a21320 1
 
d21323 4
a21326 5
  enableval=yes   
fi

echo "$ac_t""$enableval" 1>&6

d21329 1
a21329 1
for ac_prog in $TELNET telnet 
d21331 1
a21331 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d21333 4
a21336 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15128: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TELNET'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d21338 2
a21339 2
  case "$TELNET" in
  /*)
a21341 3
  ?:/*)			 
  ac_cv_path_TELNET="$TELNET" # Let the user override the test with a dos path.
  ;;
d21343 12
a21354 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TELNET="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d21358 2
a21359 1
TELNET="$ac_cv_path_TELNET"
d21361 2
a21362 1
  echo "$ac_t""$TELNET" 1>&6
d21364 2
a21365 1
  echo "$ac_t""no" 1>&6
d21368 1
a21368 1
test -n "$TELNET" && break
a21371 1

d21388 7
a21394 1
			
d21406 1
a21406 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d21410 2
a21411 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a21430 2
	
echo "(line 15219) testing defining path for ${cf_path_prog} ..." 1>&5
d21432 3
a21434 1
	cat >> confdefs.h <<EOF
d21438 1
a21438 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a21443 1

d21445 1
a21445 1
for ac_prog in $TN3270 tn3270 
d21447 1
a21447 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d21449 4
a21452 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15238: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TN3270'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d21454 2
a21455 2
  case "$TN3270" in
  /*)
a21457 3
  ?:/*)			 
  ac_cv_path_TN3270="$TN3270" # Let the user override the test with a dos path.
  ;;
d21459 12
a21470 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TN3270="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d21474 2
a21475 1
TN3270="$ac_cv_path_TN3270"
d21477 2
a21478 1
  echo "$ac_t""$TN3270" 1>&6
d21480 2
a21481 1
  echo "$ac_t""no" 1>&6
d21484 1
a21484 1
test -n "$TN3270" && break
a21487 1

d21504 7
a21510 1
			
d21522 1
a21522 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d21526 2
a21527 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a21546 2
	
echo "(line 15329) testing defining path for ${cf_path_prog} ..." 1>&5
d21548 3
a21550 1
	cat >> confdefs.h <<EOF
d21554 1
a21554 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a21559 1

d21561 1
a21561 1
for ac_prog in $RLOGIN rlogin 
d21563 1
a21563 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d21565 4
a21568 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15348: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_RLOGIN'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d21570 2
a21571 2
  case "$RLOGIN" in
  /*)
a21573 3
  ?:/*)			 
  ac_cv_path_RLOGIN="$RLOGIN" # Let the user override the test with a dos path.
  ;;
d21575 12
a21586 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_RLOGIN="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d21590 2
a21591 1
RLOGIN="$ac_cv_path_RLOGIN"
d21593 2
a21594 1
  echo "$ac_t""$RLOGIN" 1>&6
d21596 2
a21597 1
  echo "$ac_t""no" 1>&6
d21600 1
a21600 1
test -n "$RLOGIN" && break
a21603 1

d21620 7
a21626 1
			
d21638 1
a21638 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d21642 2
a21643 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a21662 2
	
echo "(line 15439) testing defining path for ${cf_path_prog} ..." 1>&5
d21664 3
a21666 1
	cat >> confdefs.h <<EOF
d21670 1
a21670 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a21675 2


d21677 1
a21677 1
for ac_prog in $MV mv 
d21679 1
a21679 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d21681 4
a21684 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15459: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MV'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d21686 2
a21687 2
  case "$MV" in
  /*)
a21689 3
  ?:/*)			 
  ac_cv_path_MV="$MV" # Let the user override the test with a dos path.
  ;;
d21691 12
a21702 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_MV="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d21706 2
a21707 1
MV="$ac_cv_path_MV"
d21709 2
a21710 1
  echo "$ac_t""$MV" 1>&6
d21712 2
a21713 1
  echo "$ac_t""no" 1>&6
d21716 1
a21716 1
test -n "$MV" && break
a21719 1

d21736 7
a21742 1
			
d21754 1
a21754 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d21758 2
a21759 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a21778 2
	
echo "(line 15550) testing defining path for ${cf_path_prog} ..." 1>&5
d21780 3
a21782 1
	cat >> confdefs.h <<EOF
d21786 1
a21786 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a21791 2


d21793 1
a21793 1
for ac_prog in $GZIP gzip 
d21795 1
a21795 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d21797 4
a21800 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15570: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GZIP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d21802 2
a21803 2
  case "$GZIP" in
  /*)
a21805 3
  ?:/*)			 
  ac_cv_path_GZIP="$GZIP" # Let the user override the test with a dos path.
  ;;
d21807 12
a21818 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d21822 2
a21823 1
GZIP="$ac_cv_path_GZIP"
d21825 2
a21826 1
  echo "$ac_t""$GZIP" 1>&6
d21828 2
a21829 1
  echo "$ac_t""no" 1>&6
d21832 1
a21832 1
test -n "$GZIP" && break
a21835 1

d21852 7
a21858 1
			
d21870 1
a21870 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d21874 2
a21875 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a21894 2
	
echo "(line 15661) testing defining path for ${cf_path_prog} ..." 1>&5
d21896 3
a21898 1
	cat >> confdefs.h <<EOF
d21902 1
a21902 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a21907 1

d21909 1
a21909 1
for ac_prog in $UNCOMPRESS gunzip 
d21911 1
a21911 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d21913 4
a21916 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15680: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UNCOMPRESS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d21918 2
a21919 2
  case "$UNCOMPRESS" in
  /*)
d21922 13
a21934 14
  ?:/*)			 
  ac_cv_path_UNCOMPRESS="$UNCOMPRESS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UNCOMPRESS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d21938 2
a21939 1
UNCOMPRESS="$ac_cv_path_UNCOMPRESS"
d21941 2
a21942 1
  echo "$ac_t""$UNCOMPRESS" 1>&6
d21944 2
a21945 1
  echo "$ac_t""no" 1>&6
d21948 1
a21948 1
test -n "$UNCOMPRESS" && break
a21951 1

d21968 7
a21974 1
			
d21986 1
a21986 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d21990 2
a21991 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22010 2
	
echo "(line 15771) testing defining path for ${cf_path_prog} ..." 1>&5
d22012 3
a22014 1
	cat >> confdefs.h <<EOF
d22018 1
a22018 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a22023 1

d22025 1
a22025 1
for ac_prog in $UNZIP unzip 
d22027 1
a22027 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22029 4
a22032 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15790: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UNZIP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22034 2
a22035 2
  case "$UNZIP" in
  /*)
a22037 3
  ?:/*)			 
  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a dos path.
  ;;
d22039 12
a22050 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UNZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22054 2
a22055 1
UNZIP="$ac_cv_path_UNZIP"
d22057 2
a22058 1
  echo "$ac_t""$UNZIP" 1>&6
d22060 2
a22061 1
  echo "$ac_t""no" 1>&6
d22064 1
a22064 1
test -n "$UNZIP" && break
a22067 1

d22084 7
a22090 1
			
d22102 1
a22102 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22106 2
a22107 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22126 2
	
echo "(line 15881) testing defining path for ${cf_path_prog} ..." 1>&5
d22128 3
a22130 1
	cat >> confdefs.h <<EOF
d22134 1
a22134 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a22139 1

d22141 1
a22141 1
for ac_prog in $BZIP2 bzip2 
d22143 1
a22143 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22145 4
a22148 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:15900: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_BZIP2'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22150 2
a22151 2
  case "$BZIP2" in
  /*)
a22153 3
  ?:/*)			 
  ac_cv_path_BZIP2="$BZIP2" # Let the user override the test with a dos path.
  ;;
d22155 12
a22166 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_BZIP2="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22170 2
a22171 1
BZIP2="$ac_cv_path_BZIP2"
d22173 2
a22174 1
  echo "$ac_t""$BZIP2" 1>&6
d22176 2
a22177 1
  echo "$ac_t""no" 1>&6
d22180 1
a22180 1
test -n "$BZIP2" && break
a22183 1

d22200 7
a22206 1
			
d22218 1
a22218 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22222 2
a22223 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22242 2
	
echo "(line 15991) testing defining path for ${cf_path_prog} ..." 1>&5
d22244 3
a22246 1
	cat >> confdefs.h <<EOF
d22250 1
a22250 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
d22256 2
a22257 6

if test ".$use_dired" != ".no" ; then


test -z "$COMPRESS" && COMPRESS=compress
for ac_prog in $COMPRESS compress 
d22259 1
a22259 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22261 4
a22264 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:16013: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_COMPRESS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22266 3
a22268 6
  case "$COMPRESS" in
  /*)
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a dos path.
d22271 12
a22282 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_COMPRESS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22286 5
a22290 3
COMPRESS="$ac_cv_path_COMPRESS"
if test -n "$COMPRESS"; then
  echo "$ac_t""$COMPRESS" 1>&6
d22292 2
a22293 1
  echo "$ac_t""no" 1>&6
d22296 1
a22296 1
test -n "$COMPRESS" && break
d22298 1
a22298 2
test -n "$COMPRESS" || COMPRESS="$COMPRESS"

d22312 1
a22312 1
for cf_temp in $ac_cv_path_COMPRESS
d22316 7
a22322 1
			
d22334 1
a22334 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22338 2
a22339 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22358 2
	
echo "(line 16104) testing defining path for ${cf_path_prog} ..." 1>&5
d22360 4
a22363 2
	cat >> confdefs.h <<EOF
#define COMPRESS_PATH "$cf_path_prog"
d22366 2
a22367 2
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define COMPRESS_ARGS "$cf_path_args"
d22372 39
d22412 2
a22413 2
test -z "$RM" && RM=rm
for ac_prog in $RM rm 
d22415 1
a22415 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22417 4
a22420 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:16123: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_RM'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22422 3
a22424 6
  case "$RM" in
  /*)
  ac_cv_path_RM="$RM" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_RM="$RM" # Let the user override the test with a dos path.
d22427 12
a22438 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_RM="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22442 5
a22446 3
RM="$ac_cv_path_RM"
if test -n "$RM"; then
  echo "$ac_t""$RM" 1>&6
d22448 2
a22449 1
  echo "$ac_t""no" 1>&6
d22452 1
a22452 1
test -n "$RM" && break
d22454 1
a22454 2
test -n "$RM" || RM="$RM"

d22468 1
a22468 1
for cf_temp in $ac_cv_path_RM
d22472 7
a22478 1
			
d22490 1
a22490 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22494 2
a22495 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22514 2
	
echo "(line 16214) testing defining path for ${cf_path_prog} ..." 1>&5
d22516 4
a22519 2
	cat >> confdefs.h <<EOF
#define RM_PATH "$cf_path_prog"
d22522 2
a22523 2
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define RM_ARGS "$cf_path_args"
d22528 2
a22529 3

test -z "$TAR" && TAR=tar
for ac_prog in $TAR tar pax gtar gnutar bsdtar star
d22531 1
a22531 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22533 4
a22536 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:16233: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TAR'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22538 3
a22540 6
  case "$TAR" in
  /*)
  ac_cv_path_TAR="$TAR" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TAR="$TAR" # Let the user override the test with a dos path.
d22543 12
a22554 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TAR="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22558 5
a22562 3
TAR="$ac_cv_path_TAR"
if test -n "$TAR"; then
  echo "$ac_t""$TAR" 1>&6
d22564 2
a22565 1
  echo "$ac_t""no" 1>&6
d22568 1
a22568 1
test -n "$TAR" && break
d22570 1
a22570 2
test -n "$TAR" || TAR="$TAR"

d22584 1
a22584 1
for cf_temp in $ac_cv_path_TAR
d22588 7
a22594 1
			
d22606 1
a22606 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22610 2
a22611 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22630 2
	
echo "(line 16324) testing defining path for ${cf_path_prog} ..." 1>&5
d22632 4
a22635 2
	cat >> confdefs.h <<EOF
#define TAR_PATH "$cf_path_prog"
d22638 2
a22639 2
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TAR_ARGS "$cf_path_args"
a22643 1

d22645 1
a22645 1
for ac_prog in $UUDECODE uudecode 
d22647 1
a22647 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22649 4
a22652 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:16343: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UUDECODE'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22654 2
a22655 2
  case "$UUDECODE" in
  /*)
a22657 3
  ?:/*)			 
  ac_cv_path_UUDECODE="$UUDECODE" # Let the user override the test with a dos path.
  ;;
d22659 12
a22670 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UUDECODE="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22674 2
a22675 1
UUDECODE="$ac_cv_path_UUDECODE"
d22677 2
a22678 1
  echo "$ac_t""$UUDECODE" 1>&6
d22680 2
a22681 1
  echo "$ac_t""no" 1>&6
d22684 1
a22684 1
test -n "$UUDECODE" && break
a22687 1

d22704 7
a22710 1
			
d22722 1
a22722 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22726 2
a22727 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22746 2
	
echo "(line 16434) testing defining path for ${cf_path_prog} ..." 1>&5
d22748 3
a22750 1
	cat >> confdefs.h <<EOF
d22754 1
a22754 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a22759 1

d22761 1
a22761 1
for ac_prog in $ZCAT zcat 
d22763 1
a22763 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22765 4
a22768 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:16453: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_ZCAT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22770 2
a22771 2
  case "$ZCAT" in
  /*)
a22773 3
  ?:/*)			 
  ac_cv_path_ZCAT="$ZCAT" # Let the user override the test with a dos path.
  ;;
d22775 12
a22786 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_ZCAT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22790 2
a22791 1
ZCAT="$ac_cv_path_ZCAT"
d22793 2
a22794 1
  echo "$ac_t""$ZCAT" 1>&6
d22796 2
a22797 1
  echo "$ac_t""no" 1>&6
d22800 1
a22800 1
test -n "$ZCAT" && break
a22803 1

d22820 7
a22826 1
			
d22838 1
a22838 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22842 2
a22843 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a22862 2
	
echo "(line 16544) testing defining path for ${cf_path_prog} ..." 1>&5
d22864 3
a22866 1
	cat >> confdefs.h <<EOF
d22870 1
a22870 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a22875 1

d22877 1
a22877 1
for ac_prog in $ZIP zip 
d22879 1
a22879 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d22881 4
a22884 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:16563: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_ZIP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d22886 2
a22887 2
  case "$ZIP" in
  /*)
a22889 3
  ?:/*)			 
  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a dos path.
  ;;
d22891 12
a22902 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_ZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d22906 2
a22907 1
ZIP="$ac_cv_path_ZIP"
d22909 2
a22910 1
  echo "$ac_t""$ZIP" 1>&6
d22912 2
a22913 1
  echo "$ac_t""no" 1>&6
d22916 1
a22916 1
test -n "$ZIP" && break
a22919 1

d22936 7
a22942 1
			
d22954 1
a22954 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22958 2
a22959 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d22966 11
a22976 50
			cf_path_prog="$cf_temp"
		else
			cf_path_prog="`basename $cf_temp`"
		fi
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

if test -n "$cf_path_prog" ; then
	
echo "(line 16654) testing defining path for ${cf_path_prog} ..." 1>&5

	cat >> confdefs.h <<EOF
#define ZIP_PATH "$cf_path_prog"
EOF

	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define ZIP_ARGS "$cf_path_args"
EOF

fi



case $TAR in
*pax)
	TAR_UP_OPTIONS="-w"
	TAR_DOWN_OPTIONS="-r"
	TAR_PIPE_OPTIONS=""
	TAR_FILE_OPTIONS="-f"
	;;
*star)
	TAR_UP_OPTIONS="-c -f"
	TAR_DOWN_OPTIONS="-x -U -f"
	TAR_PIPE_OPTIONS="-"
	TAR_FILE_OPTIONS=""
	;;
*tar)
	# FIXME: some versions of tar require, some don't allow the "-"
	TAR_UP_OPTIONS="-cf"
	TAR_DOWN_OPTIONS="-xf"
	TAR_PIPE_OPTIONS="-"
	TAR_FILE_OPTIONS=""
	;;
esac

d22978 1
d22980 1
d22982 2
a22983 4


cat >> confdefs.h <<EOF
#define TAR_UP_OPTIONS "$TAR_UP_OPTIONS"
d22986 2
a22987 10
cat >> confdefs.h <<EOF
#define TAR_DOWN_OPTIONS "$TAR_DOWN_OPTIONS"
EOF

cat >> confdefs.h <<EOF
#define TAR_FILE_OPTIONS "$TAR_FILE_OPTIONS"
EOF

cat >> confdefs.h <<EOF
#define TAR_PIPE_OPTIONS "$TAR_PIPE_OPTIONS"
d22990 1
d22994 1
a22994 1
	cat >> confdefs.h <<EOF
d23001 1
a23001 1
	
d23003 1
a23003 1
for ac_prog in $INSTALL install 
d23005 1
a23005 1
# Extract the first word of "$ac_prog", so it can be a program name with args.
d23007 4
a23010 4
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:16728: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_INSTALL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23012 2
a23013 2
  case "$INSTALL" in
  /*)
a23015 3
  ?:/*)			 
  ac_cv_path_INSTALL="$INSTALL" # Let the user override the test with a dos path.
  ;;
d23017 12
a23028 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_INSTALL="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
d23032 2
a23033 1
INSTALL="$ac_cv_path_INSTALL"
d23035 2
a23036 1
  echo "$ac_t""$INSTALL" 1>&6
d23038 2
a23039 1
  echo "$ac_t""no" 1>&6
d23042 1
a23042 1
test -n "$INSTALL" && break
a23045 1

d23062 7
a23068 1
			
d23080 1
a23080 1
    cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
d23084 2
a23085 2
.NONE/*)
  cf_temp=`echo $cf_temp | sed -e s%NONE%$ac_default_prefix%`
a23104 2
	
echo "(line 16819) testing defining path for ${cf_path_prog} ..." 1>&5
d23106 3
a23108 1
	cat >> confdefs.h <<EOF
d23112 1
a23112 1
	test -n "$cf_path_args" && cat >> confdefs.h <<EOF
a23129 2


a23130 7
	
	# If we find X, set shell vars x_includes and x_libraries to the
# paths, otherwise set no_x=yes.
# Uses ac_ vars as temps to allow command line to override cache and checks.
# --without-x overrides everything else, but does not touch the cache.
echo $ac_n "checking for X""... $ac_c" 1>&6
echo "configure:16852: checking for X" >&5
d23132 2
a23137 2
  :
fi
d23139 1
d23149 2
a23150 2
if eval "test \"`echo '$''{'ac_cv_have_x'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23153 4
a23156 4
ac_x_includes=NO ac_x_libraries=NO
rm -fr conftestdir
if mkdir conftestdir; then
  cd conftestdir
d23158 1
a23158 1
  cat > Imakefile <<'EOF'
d23168 1
a23168 1
        test -f $ac_im_libdir/libX11.$ac_extension; then
d23175 1
a23175 1
    case "$ac_im_incroot" in
d23177 1
a23177 1
	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes="$ac_im_incroot" ;;
d23179 1
a23179 1
    case "$ac_im_usrlibdir" in
d23181 1
a23181 1
	*) test -d "$ac_im_usrlibdir" && ac_x_libraries="$ac_im_usrlibdir" ;;
d23185 1
a23185 1
  rm -fr conftestdir
d23188 36
a23223 3
if test "$ac_x_includes" = NO; then
  # Guess where to find include files, by looking for this one X11 .h file.
  test -z "$x_direct_test_include" && x_direct_test_include=X11/Intrinsic.h
d23225 2
d23228 2
a23229 2
cat > conftest.$ac_ext <<EOF
#line 16915 "configure"
d23231 19
a23249 7
#include <$x_direct_test_include>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:16920: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
d23253 1
a23253 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d23255 6
a23260 44
  rm -rf conftest*
  # Look for the header file in a standard set of common directories.
# Check X11 before X11Rn because it is often a symlink to the current release.
  for ac_dir in               \
    /usr/X11/include          \
    /usr/X11R6/include        \
    /usr/X11R5/include        \
    /usr/X11R4/include        \
                              \
    /usr/include/X11          \
    /usr/include/X11R6        \
    /usr/include/X11R5        \
    /usr/include/X11R4        \
                              \
    /usr/local/X11/include    \
    /usr/local/X11R6/include  \
    /usr/local/X11R5/include  \
    /usr/local/X11R4/include  \
                              \
    /usr/local/include/X11    \
    /usr/local/include/X11R6  \
    /usr/local/include/X11R5  \
    /usr/local/include/X11R4  \
                              \
    /usr/X386/include         \
    /usr/x386/include         \
    /usr/XFree86/include/X11  \
                              \
    /usr/include              \
    /usr/local/include        \
    /usr/unsupported/include  \
    /usr/athena/include       \
    /usr/local/x11r5/include  \
    /usr/lpp/Xamples/include  \
                              \
    /usr/openwin/include      \
    /usr/openwin/share/include \
    ; \
  do
    if test -r "$ac_dir/$x_direct_test_include"; then
      ac_x_includes=$ac_dir
      break
    fi
  done
d23262 2
a23263 2
rm -f conftest*
fi # $ac_x_includes = NO
d23265 1
a23265 1
if test "$ac_x_libraries" = NO; then
a23266 4

  test -z "$x_direct_test_library" && x_direct_test_library=Xt
  test -z "$x_direct_test_function" && x_direct_test_function=XtMalloc

d23269 4
a23272 4
  ac_save_LIBS="$LIBS"
  LIBS="-l$x_direct_test_library $LIBS"
cat > conftest.$ac_ext <<EOF
#line 16989 "configure"
d23274 22
a23295 8

int main() {
${x_direct_test_function}()
; return 0; }
EOF
if { (eval echo configure:16996: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  LIBS="$ac_save_LIBS"
d23299 4
a23302 42
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  LIBS="$ac_save_LIBS"
# First see if replacing the include by lib works.
# Check X11 before X11Rn because it is often a symlink to the current release.
for ac_dir in `echo "$ac_x_includes" | sed s/include/lib/` \
    /usr/X11/lib          \
    /usr/X11R6/lib        \
    /usr/X11R5/lib        \
    /usr/X11R4/lib        \
                          \
    /usr/lib/X11          \
    /usr/lib/X11R6        \
    /usr/lib/X11R5        \
    /usr/lib/X11R4        \
                          \
    /usr/local/X11/lib    \
    /usr/local/X11R6/lib  \
    /usr/local/X11R5/lib  \
    /usr/local/X11R4/lib  \
                          \
    /usr/local/lib/X11    \
    /usr/local/lib/X11R6  \
    /usr/local/lib/X11R5  \
    /usr/local/lib/X11R4  \
                          \
    /usr/X386/lib         \
    /usr/x386/lib         \
    /usr/XFree86/lib/X11  \
                          \
    /usr/lib              \
    /usr/local/lib        \
    /usr/unsupported/lib  \
    /usr/athena/lib       \
    /usr/local/x11r5/lib  \
    /usr/lpp/Xamples/lib  \
    /lib/usr/lib/X11	  \
                          \
    /usr/openwin/lib      \
    /usr/openwin/share/lib \
    ; \
d23304 1
d23306 1
a23306 1
    if test -r $ac_dir/lib${x_direct_test_library}.$ac_extension; then
d23313 2
a23314 2
rm -f conftest*
fi # $ac_x_libraries = NO
d23316 1
a23316 1
if test "$ac_x_includes" = NO || test "$ac_x_libraries" = NO; then
d23325 1
d23331 2
a23332 1
  echo "$ac_t""$have_x" 1>&6
d23341 2
a23342 1
  echo "$ac_t""libraries $x_libraries, headers $x_includes" 1>&6
d23345 2
d23348 1
a23348 317

# We need to check for -lsocket and -lnsl here in order to work around an
# autoconf bug.  autoconf-2.12 is not checking for these prior to checking for
# the X11R6 -lSM and -lICE libraries.  The resultant failures cascade...
# 	(tested on Solaris 2.5 w/ X11R6)
SYSTEM_NAME=`echo "$cf_cv_system_name"|tr ' ' -`
cf_have_X_LIBS=no
case $SYSTEM_NAME in
irix[56]*) ;;
clix*)
	# FIXME: modify the library lookup in autoconf to
	# allow _s.a suffix ahead of .a
	echo $ac_n "checking for open in -lc_s""... $ac_c" 1>&6
echo "configure:17096: checking for open in -lc_s" >&5
ac_lib_var=`echo c_s'_'open | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lc_s  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 17104 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char open();

int main() {
open()
; return 0; }
EOF
if { (eval echo configure:17115: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lc_s $LIBS"
	echo $ac_n "checking for gethostname in -lbsd""... $ac_c" 1>&6
echo "configure:17132: checking for gethostname in -lbsd" >&5
ac_lib_var=`echo bsd'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lbsd  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 17140 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:17151: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lbsd $LIBS"
	echo $ac_n "checking for gethostname in -lnsl_s""... $ac_c" 1>&6
echo "configure:17168: checking for gethostname in -lnsl_s" >&5
ac_lib_var=`echo nsl_s'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lnsl_s  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 17176 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:17187: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lnsl_s $LIBS"
	echo $ac_n "checking for XOpenDisplay in -lX11_s""... $ac_c" 1>&6
echo "configure:17204: checking for XOpenDisplay in -lX11_s" >&5
ac_lib_var=`echo X11_s'_'XOpenDisplay | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lX11_s  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 17212 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char XOpenDisplay();

int main() {
XOpenDisplay()
; return 0; }
EOF
if { (eval echo configure:17223: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lX11_s $LIBS"
	echo $ac_n "checking for XtAppInitialize in -lXt_s""... $ac_c" 1>&6
echo "configure:17240: checking for XtAppInitialize in -lXt_s" >&5
ac_lib_var=`echo Xt_s'_'XtAppInitialize | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lXt_s  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 17248 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char XtAppInitialize();

int main() {
XtAppInitialize()
; return 0; }
EOF
if { (eval echo configure:17259: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lXt_s $LIBS"
		 cf_have_X_LIBS=Xt
		
else
  echo "$ac_t""no" 1>&6
fi
 
else
  echo "$ac_t""no" 1>&6
fi
 
else
  echo "$ac_t""no" 1>&6
fi
 
else
  echo "$ac_t""no" 1>&6
fi
 
else
  echo "$ac_t""no" 1>&6
fi

	;;
*)
	echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
echo "configure:17300: checking for socket in -lsocket" >&5
ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lsocket  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 17308 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
EOF
if { (eval echo configure:17319: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo socket | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lsocket $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

	echo $ac_n "checking for gethostname in -lnsl""... $ac_c" 1>&6
echo "configure:17347: checking for gethostname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lnsl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 17355 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:17366: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo nsl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-lnsl $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

	;;
esac

if test $cf_have_X_LIBS = no ; then
	if test "$no_x" = yes; then
  # Not all programs may use this symbol, but it does not hurt to define it.
  cat >> confdefs.h <<\EOF
d23363 1
a23363 1
    case "`(uname -sr) 2>/dev/null`" in
d23365 5
a23369 5
      echo $ac_n "checking whether -R must be followed by a space""... $ac_c" 1>&6
echo "configure:17417: checking whether -R must be followed by a space" >&5
      ac_xsave_LIBS="$LIBS"; LIBS="$LIBS -R$x_libraries"
      cat > conftest.$ac_ext <<EOF
#line 17420 "configure"
d23372 3
a23374 1
int main() {
d23376 16
a23391 4
; return 0; }
EOF
if { (eval echo configure:17427: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d23394 3
a23396 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_R_nospace=no
d23398 1
a23398 1
rm -f conftest*
d23400 2
a23401 1
	echo "$ac_t""no" 1>&6
d23405 2
a23406 2
	cat > conftest.$ac_ext <<EOF
#line 17443 "configure"
d23409 3
a23411 1
int main() {
d23413 16
a23428 4
; return 0; }
EOF
if { (eval echo configure:17450: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d23431 3
a23433 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_R_space=no
d23435 1
a23435 1
rm -f conftest*
d23437 2
a23438 1
	  echo "$ac_t""yes" 1>&6
d23441 2
a23442 1
	  echo "$ac_t""neither works" 1>&6
d23445 1
a23445 1
      LIBS="$ac_xsave_LIBS"
d23456 2
a23457 2
    # Martyn.Johnson@@cl.cam.ac.uk says this is needed for Ultrix, if the X
    # libraries were built with DECnet support.  And karl@@cs.umb.edu says
d23459 40
a23498 5
    echo $ac_n "checking for dnet_ntoa in -ldnet""... $ac_c" 1>&6
echo "configure:17482: checking for dnet_ntoa in -ldnet" >&5
ac_lib_var=`echo dnet'_'dnet_ntoa | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23500 1
a23500 1
  ac_save_LIBS="$LIBS"
d23502 2
a23503 2
cat > conftest.$ac_ext <<EOF
#line 17490 "configure"
d23505 1
d23507 3
d23511 34
a23544 22
    builtin and then its argument prototype would still apply.  */
char dnet_ntoa();

int main() {
dnet_ntoa()
; return 0; }
EOF
if { (eval echo configure:17501: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a23545 2
else
  echo "$ac_t""no" 1>&6
d23549 4
a23552 5
      echo $ac_n "checking for dnet_ntoa in -ldnet_stub""... $ac_c" 1>&6
echo "configure:17523: checking for dnet_ntoa in -ldnet_stub" >&5
ac_lib_var=`echo dnet_stub'_'dnet_ntoa | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23554 1
a23554 1
  ac_save_LIBS="$LIBS"
d23556 2
a23557 2
cat > conftest.$ac_ext <<EOF
#line 17531 "configure"
d23559 1
d23561 3
d23565 34
a23598 22
    builtin and then its argument prototype would still apply.  */
char dnet_ntoa();

int main() {
dnet_ntoa()
; return 0; }
EOF
if { (eval echo configure:17542: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a23599 2
else
  echo "$ac_t""no" 1>&6
d23603 3
d23609 1
a23609 1
    # chad@@anasazi.com says the Pyramis MIS-ES running DC/OSx (SVR4)
d23612 7
a23618 5
    # on Irix 5.2, according to dickey@@clark.net.
    echo $ac_n "checking for gethostbyname""... $ac_c" 1>&6
echo "configure:17571: checking for gethostbyname" >&5
if eval "test \"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23620 2
a23621 2
  cat > conftest.$ac_ext <<EOF
#line 17576 "configure"
d23624 1
a23624 1
    which can conflict with char gethostbyname(); below.  */
d23627 3
d23631 3
a23633 4
    builtin and then its argument prototype would still apply.  */
char gethostbyname();

int main() {
d23635 3
d23644 1
a23644 1
gethostbyname();
d23647 21
a23667 12
; return 0; }
EOF
if { (eval echo configure:17599: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_gethostbyname=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_gethostbyname=no"
fi
rm -f conftest*
d23669 1
a23669 6

if eval "test \"`echo '$ac_cv_func_'gethostbyname`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
d23671 2
d23675 4
a23678 5
      echo $ac_n "checking for gethostbyname in -lnsl""... $ac_c" 1>&6
echo "configure:17620: checking for gethostbyname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23680 1
a23680 1
  ac_save_LIBS="$LIBS"
d23682 2
a23683 2
cat > conftest.$ac_ext <<EOF
#line 17628 "configure"
d23685 1
d23687 3
d23691 36
a23726 2
    builtin and then its argument prototype would still apply.  */
char gethostbyname();
d23728 5
a23732 7
int main() {
gethostbyname()
; return 0; }
EOF
if { (eval echo configure:17639: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
d23734 5
a23738 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d23740 40
a23779 6
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl"
else
  echo "$ac_t""no" 1>&6
d23782 1
d23788 8
a23795 8
    # on later versions), says simon@@lia.di.epfl.ch: it contains
    # gethostby* variants that don't use the nameserver (or something).
    # -lsocket must be given before -lnsl if both are needed.
    # We assume that if connect needs -lnsl, so does gethostbyname.
    echo $ac_n "checking for connect""... $ac_c" 1>&6
echo "configure:17669: checking for connect" >&5
if eval "test \"`echo '$''{'ac_cv_func_connect'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23797 2
a23798 2
  cat > conftest.$ac_ext <<EOF
#line 17674 "configure"
d23801 1
a23801 1
    which can conflict with char connect(); below.  */
d23804 3
d23808 3
a23810 4
    builtin and then its argument prototype would still apply.  */
char connect();

int main() {
d23812 3
d23821 1
a23821 1
connect();
d23824 21
a23844 12
; return 0; }
EOF
if { (eval echo configure:17697: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_connect=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_connect=no"
fi
rm -f conftest*
d23846 1
a23846 6

if eval "test \"`echo '$ac_cv_func_'connect`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
d23848 2
d23852 4
a23855 5
      echo $ac_n "checking for connect in -lsocket""... $ac_c" 1>&6
echo "configure:17718: checking for connect in -lsocket" >&5
ac_lib_var=`echo socket'_'connect | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23857 1
a23857 1
  ac_save_LIBS="$LIBS"
d23859 2
a23860 2
cat > conftest.$ac_ext <<EOF
#line 17726 "configure"
d23862 1
d23864 3
d23868 34
a23901 22
    builtin and then its argument prototype would still apply.  */
char connect();

int main() {
connect()
; return 0; }
EOF
if { (eval echo configure:17737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a23902 2
else
  echo "$ac_t""no" 1>&6
d23907 5
a23911 5
    # gomez@@mi.uni-erlangen.de says -lposix is necessary on A/UX.
    echo $ac_n "checking for remove""... $ac_c" 1>&6
echo "configure:17761: checking for remove" >&5
if eval "test \"`echo '$''{'ac_cv_func_remove'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23913 2
a23914 2
  cat > conftest.$ac_ext <<EOF
#line 17766 "configure"
d23917 1
a23917 1
    which can conflict with char remove(); below.  */
d23920 3
d23924 3
a23926 4
    builtin and then its argument prototype would still apply.  */
char remove();

int main() {
d23928 3
d23937 1
a23937 1
remove();
d23940 21
a23960 12
; return 0; }
EOF
if { (eval echo configure:17789: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_remove=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_remove=no"
fi
rm -f conftest*
d23962 1
a23962 6

if eval "test \"`echo '$ac_cv_func_'remove`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
d23964 2
d23968 4
a23971 5
      echo $ac_n "checking for remove in -lposix""... $ac_c" 1>&6
echo "configure:17810: checking for remove in -lposix" >&5
ac_lib_var=`echo posix'_'remove | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d23973 1
a23973 1
  ac_save_LIBS="$LIBS"
d23975 2
a23976 2
cat > conftest.$ac_ext <<EOF
#line 17818 "configure"
d23978 1
d23980 3
d23984 34
a24017 22
    builtin and then its argument prototype would still apply.  */
char remove();

int main() {
remove()
; return 0; }
EOF
if { (eval echo configure:17829: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a24018 2
else
  echo "$ac_t""no" 1>&6
d24024 4
a24027 4
    echo $ac_n "checking for shmat""... $ac_c" 1>&6
echo "configure:17853: checking for shmat" >&5
if eval "test \"`echo '$''{'ac_cv_func_shmat'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d24029 2
a24030 2
  cat > conftest.$ac_ext <<EOF
#line 17858 "configure"
d24033 1
a24033 1
    which can conflict with char shmat(); below.  */
d24036 3
d24040 3
a24042 4
    builtin and then its argument prototype would still apply.  */
char shmat();

int main() {
d24044 3
d24053 1
a24053 1
shmat();
d24056 21
a24076 12
; return 0; }
EOF
if { (eval echo configure:17881: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_shmat=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_shmat=no"
fi
rm -f conftest*
d24078 1
a24078 6

if eval "test \"`echo '$ac_cv_func_'shmat`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
d24080 2
d24084 4
a24087 5
      echo $ac_n "checking for shmat in -lipc""... $ac_c" 1>&6
echo "configure:17902: checking for shmat in -lipc" >&5
ac_lib_var=`echo ipc'_'shmat | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d24089 1
a24089 1
  ac_save_LIBS="$LIBS"
d24091 2
a24092 2
cat > conftest.$ac_ext <<EOF
#line 17910 "configure"
d24094 1
d24096 3
d24100 34
a24133 22
    builtin and then its argument prototype would still apply.  */
char shmat();

int main() {
shmat()
; return 0; }
EOF
if { (eval echo configure:17921: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a24134 2
else
  echo "$ac_t""no" 1>&6
d24141 1
a24141 1
  ac_save_LDFLAGS="$LDFLAGS"
d24148 5
a24152 6
  #  --interran@@uluru.Stanford.EDU, kb@@cs.umb.edu.
  echo $ac_n "checking for IceConnectionNumber in -lICE""... $ac_c" 1>&6
echo "configure:17954: checking for IceConnectionNumber in -lICE" >&5
ac_lib_var=`echo ICE'_'IceConnectionNumber | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d24154 1
a24154 1
  ac_save_LIBS="$LIBS"
d24156 2
a24157 2
cat > conftest.$ac_ext <<EOF
#line 17962 "configure"
d24159 1
d24161 3
d24165 38
a24202 2
    builtin and then its argument prototype would still apply.  */
char IceConnectionNumber();
a24203 12
int main() {
IceConnectionNumber()
; return 0; }
EOF
if { (eval echo configure:17973: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a24204 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d24206 1
a24206 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
else
  echo "$ac_t""no" 1>&6
fi
d24208 1
a24208 1
  LDFLAGS="$ac_save_LDFLAGS"
d24210 1
a24210 1
fi
a24211 2
	LDFLAGS="$LDFLAGS $X_LIBS"
	
d24217 1
d24220 2
d24224 2
d24228 17
d24257 11
d24282 5
d24289 2
a24290 2
cat > conftest.$ac_ext <<EOF
#line 18039 "configure"
d24293 3
a24295 1
int main() {
d24297 16
a24312 3
; return 0; }
EOF
if { (eval echo configure:18046: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d24315 3
a24317 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d24325 1
a24325 1
rm -f conftest*
d24328 4
a24331 5
	echo $ac_n "checking for XOpenDisplay in -lX11""... $ac_c" 1>&6
echo "configure:18064: checking for XOpenDisplay in -lX11" >&5
ac_lib_var=`echo X11'_'XOpenDisplay | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d24333 2
a24334 4
  ac_save_LIBS="$LIBS"
LIBS="-lX11 $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
cat > conftest.$ac_ext <<EOF
#line 18072 "configure"
d24336 3
d24340 3
d24344 3
a24346 2
    builtin and then its argument prototype would still apply.  */
char XOpenDisplay();
d24348 11
a24358 15
int main() {
XOpenDisplay()
; return 0; }
EOF
if { (eval echo configure:18083: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d24360 28
a24387 4
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lX11 $LIBS"
a24388 2
  echo "$ac_t""no" 1>&6
fi
d24390 4
a24393 5
	echo $ac_n "checking for XtAppInitialize in -lXt""... $ac_c" 1>&6
echo "configure:18104: checking for XtAppInitialize in -lXt" >&5
ac_lib_var=`echo Xt'_'XtAppInitialize | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d24395 4
a24398 4
  ac_save_LIBS="$LIBS"
LIBS="-lXt $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
cat > conftest.$ac_ext <<EOF
#line 18112 "configure"
d24400 1
d24402 3
d24406 35
a24440 15
    builtin and then its argument prototype would still apply.  */
char XtAppInitialize();

int main() {
XtAppInitialize()
; return 0; }
EOF
if { (eval echo configure:18123: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a24441 2
rm -f conftest*
LIBS="$ac_save_LIBS"
a24443 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_LIBXT 1
EOF
d24445 4
a24448 2
		 cf_have_X_LIBS=Xt
		 LIBS="-lXt $X_PRE_LIBS $LIBS"
d24450 14
a24463 42
  echo "$ac_t""no" 1>&6
fi

else
	LDFLAGS="$LDFLAGS $X_LIBS"
	
test -n "$verbose" && echo "	checking additions to CFLAGS" 1>&6

cf_check_cflags="$CFLAGS"
cf_check_cppflags="$CPPFLAGS"

cf_new_cflags=
cf_new_cppflags=
for cf_add_cflags in $X_CFLAGS
do
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case "$CPPFLAGS" in
		*$cf_add_cflags) #(vi
			;;
		*) #(vi
			cf_new_cppflags="$cf_new_cppflags $cf_add_cflags"
			;;
		esac
		;;
	*)
		cf_new_cflags="$cf_new_cflags $cf_add_cflags"
		;;
	esac
done

if test -n "$cf_new_cflags" ; then
	test -n "$verbose" && echo "	add to \$CFLAGS $cf_new_cflags" 1>&6

	CFLAGS="$CFLAGS $cf_new_cflags"
fi

if test -n "$cf_new_cppflags" ; then
	test -n "$verbose" && echo "	add to \$CPPFLAGS $cf_new_cppflags" 1>&6

	CPPFLAGS="$cf_new_cppflags $CPPFLAGS"
fi
d24465 11
d24477 27
a24503 10
if test "$cf_check_cflags" != "$CFLAGS" ; then
cat > conftest.$ac_ext <<EOF
#line 18191 "configure"
#include "confdefs.h"
#include <stdio.h>
int main() {
printf("Hello world");
; return 0; }
EOF
if { (eval echo configure:18198: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a24505 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d24507 53
a24559 2
	 if test "$cf_check_cppflags" != "$CPPFLAGS" ; then
		 test -n "$verbose" && echo "	but keeping change to \$CPPFLAGS" 1>&6
d24561 2
a24562 4
	 fi
	 CFLAGS="$cf_check_flags"
fi
rm -f conftest*
d24568 1
a24568 1
	echo "configure: warning: Unable to successfully link X Toolkit library (-lXt) with
d24570 4
a24573 1
to makefile." 1>&2
a24575 1

d24578 3
d24585 9
a24593 1
  cf_x_athena=Xaw3d
d24596 3
a24598 1

d24603 9
a24611 1
  cf_x_athena=neXtaw
d24614 3
a24616 1

a24620 3
  cf_x_athena=XawPlus
fi

d24622 14
a24635 5
echo $ac_n "checking for XextCreateExtension in -lXext""... $ac_c" 1>&6
echo "configure:18251: checking for XextCreateExtension in -lXext" >&5
ac_lib_var=`echo Xext'_'XextCreateExtension | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d24637 1
a24637 1
  ac_save_LIBS="$LIBS"
d24639 2
a24640 2
cat > conftest.$ac_ext <<EOF
#line 18259 "configure"
d24642 1
d24644 3
d24648 34
a24681 22
    builtin and then its argument prototype would still apply.  */
char XextCreateExtension();

int main() {
XextCreateExtension()
; return 0; }
EOF
if { (eval echo configure:18270: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
a24682 2
else
  echo "$ac_t""no" 1>&6
a24684 1

a24686 1

d24701 2
a24702 2
			echo $ac_n "checking for $cf_test in $cf_path""... $ac_c" 1>&6
echo "configure:18309: checking for $cf_test in $cf_path" >&5
d24704 2
a24705 2
			echo $ac_n "checking for $cf_test""... $ac_c" 1>&6
echo "configure:18312: checking for $cf_test" >&5
d24707 2
a24708 2
		cat > conftest.$ac_ext <<EOF
#line 18315 "configure"
d24713 3
a24715 1
int main() {
d24717 16
a24732 4
; return 0; }
EOF
if { (eval echo configure:18324: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d24735 7
a24741 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
d24752 2
a24753 1
	echo "configure: warning: Unable to successfully find Athena header files with test program" 1>&2
a24757 1

d24777 2
a24778 2
				echo $ac_n "checking for $cf_lib in $cf_path""... $ac_c" 1>&6
echo "configure:18371: checking for $cf_lib in $cf_path" >&5
d24781 2
a24782 2
				echo $ac_n "checking for $cf_test in $cf_lib""... $ac_c" 1>&6
echo "configure:18375: checking for $cf_test in $cf_lib" >&5
d24786 2
a24787 2
			cat > conftest.$ac_ext <<EOF
#line 18380 "configure"
d24790 3
a24792 1
int main() {
d24794 16
a24809 4
; return 0; }
EOF
if { (eval echo configure:18387: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d24812 7
a24818 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
			echo "$ac_t""$cf_result" 1>&6
d24831 3
a24833 1
	{ echo "configure: error: Unable to successfully link Athena library (-l$cf_x_athena_root) with test program" 1>&2; exit 1; }
a24835 1

d24838 1
a24838 1
cat >> confdefs.h <<EOF
a24841 4




d24849 1
d24852 2
d24856 2
d24860 17
d24889 11
d24914 5
d24921 2
a24922 2
cat > conftest.$ac_ext <<EOF
#line 18466 "configure"
d24925 3
a24927 1
int main() {
d24929 16
a24944 3
; return 0; }
EOF
if { (eval echo configure:18473: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d24947 3
a24949 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  test -n "$verbose" && echo "	test-compile failed.  Undoing change to \$CFLAGS" 1>&6
d24957 1
a24957 1
rm -f conftest*
d24960 4
a24963 5
echo $ac_n "checking for XOpenDisplay in -lX11""... $ac_c" 1>&6
echo "configure:18491: checking for XOpenDisplay in -lX11" >&5
ac_lib_var=`echo X11'_'XOpenDisplay | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d24965 1
a24965 1
  ac_save_LIBS="$LIBS"
d24967 2
a24968 2
cat > conftest.$ac_ext <<EOF
#line 18499 "configure"
d24970 1
d24972 3
d24976 35
a25010 15
    builtin and then its argument prototype would still apply.  */
char XOpenDisplay();

int main() {
XOpenDisplay()
; return 0; }
EOF
if { (eval echo configure:18510: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a25011 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d25013 4
a25016 4
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lX11 $LIBS"
a25017 2
  echo "$ac_t""no" 1>&6
fi
a25018 6
echo $ac_n "checking for XCurses library""... $ac_c" 1>&6
echo "configure:18531: checking for XCurses library" >&5
if eval "test \"`echo '$''{'cf_cv_lib_XCurses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d25020 2
a25021 2
cat > conftest.$ac_ext <<EOF
#line 18538 "configure"
d25027 3
a25029 1
int main() {
d25031 16
a25046 4
; return 0; }
EOF
if { (eval echo configure:18548: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d25049 3
a25051 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_lib_XCurses=no
d25053 1
a25053 1
rm -f conftest*
d25056 2
a25057 2

echo "$ac_t""$cf_cv_lib_XCurses" 1>&6
d25059 1
a25059 1
	cat >> confdefs.h <<\EOF
d25063 1
a25063 1
	cat >> confdefs.h <<\EOF
d25067 1
a25067 1
	cat >> confdefs.h <<\EOF
d25072 3
a25074 1
	{ echo "configure: error: Cannot link with XCurses" 1>&2; exit 1; }
d25078 5
a25082 5
	
echo $ac_n "checking if we can include termio.h with curses""... $ac_c" 1>&6
echo "configure:18582: checking if we can include termio.h with curses" >&5
if eval "test \"`echo '$''{'cf_cv_termio_and_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25084 1
a25084 1
  
d25088 2
a25089 2
    cat > conftest.$ac_ext <<EOF
#line 18591 "configure"
d25094 3
a25096 1
int main() {
d25098 16
a25113 4
; return 0; }
EOF
if { (eval echo configure:18600: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d25116 3
a25118 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_termio_and_curses=no
d25120 1
a25120 1
rm -f conftest*
d25125 2
d25128 1
a25128 3
echo "$ac_t""$cf_cv_termio_and_curses" 1>&6

test $cf_cv_termio_and_curses = yes && cat >> confdefs.h <<\EOF
a25131 1

d25136 2
a25137 1
	for ac_hdr in $cf_cv_screen/term.h term.h
d25139 24
a25162 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:18630: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25164 4
a25167 11
  cat > conftest.$ac_ext <<EOF
#line 18635 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:18640: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d25169 1
a25169 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d25171 1
a25171 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d25173 1
a25173 1
rm -f conftest*
d25175 5
a25179 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d25181 1
a25181 3
 
else
  echo "$ac_t""no" 1>&6
d25185 4
a25188 5
	
echo $ac_n "checking if curses supports alternate-character set""... $ac_c" 1>&6
echo "configure:18668: checking if curses supports alternate-character set" >&5
if eval "test \"`echo '$''{'cf_cv_alt_char_set'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25190 1
a25190 1
  
d25193 2
a25194 2
	cat > conftest.$ac_ext <<EOF
#line 18676 "configure"
d25198 4
a25201 2
	
int main() {
d25203 16
a25218 4
; return 0; }
EOF
if { (eval echo configure:18685: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d25222 3
a25224 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_alt_char_set=no
d25226 1
a25226 1
rm -f conftest*
d25228 1
a25228 1
	
d25231 3
a25233 2
echo "$ac_t""$cf_cv_alt_char_set" 1>&6
test $cf_cv_alt_char_set != no && cat >> confdefs.h <<EOF
d25237 5
d25243 2
a25244 9
	
echo $ac_n "checking if curses supports fancy attributes""... $ac_c" 1>&6
echo "configure:18708: checking if curses supports fancy attributes" >&5
if eval "test \"`echo '$''{'cf_cv_fancy_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 18714 "configure"
d25249 3
a25251 1
int main() {
d25256 17
a25272 5
	
; return 0; }
EOF
if { (eval echo configure:18727: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d25275 3
a25277 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_fancy_curses=no
d25279 2
a25280 2
rm -f conftest*
	
d25283 3
a25285 2
echo "$ac_t""$cf_cv_fancy_curses" 1>&6
test $cf_cv_fancy_curses = yes && cat >> confdefs.h <<\EOF
d25289 20
d25310 30
a25339 1
	
d25342 4
a25345 4
echo $ac_n "checking for obsolete/broken version of ncurses""... $ac_c" 1>&6
echo "configure:18750: checking for obsolete/broken version of ncurses" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_broken'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25347 3
a25349 3
  
cat > conftest.$ac_ext <<EOF
#line 18756 "configure"
d25353 3
a25355 1
int main() {
d25363 16
a25378 4
; return 0; }
EOF
if { (eval echo configure:18770: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d25381 3
a25383 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ncurses_broken=yes
d25385 1
a25385 1
rm -f conftest*
d25389 2
a25390 1
echo "$ac_t""$cf_cv_ncurses_broken" 1>&6
d25392 3
a25394 2
	echo "configure: warning: hmm... you should get an up-to-date version of ncurses" 1>&2
	cat >> confdefs.h <<\EOF
d25401 4
a25404 5
	
echo $ac_n "checking if curses supports color attributes""... $ac_c" 1>&6
echo "configure:18795: checking if curses supports color attributes" >&5
if eval "test \"`echo '$''{'cf_cv_color_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25406 3
a25408 3
  
	cat > conftest.$ac_ext <<EOF
#line 18801 "configure"
d25413 3
a25415 1
int main() {
d25422 17
a25438 5
	
; return 0; }
EOF
if { (eval echo configure:18816: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d25441 3
a25443 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_color_curses=no
d25445 2
a25446 2
rm -f conftest*
	
d25449 2
a25450 1
echo "$ac_t""$cf_cv_color_curses" 1>&6
d25452 1
a25452 1
	cat >> confdefs.h <<\EOF
d25456 1
a25456 1
	test ".$cf_cv_ncurses_broken" != .yes && cat >> confdefs.h <<\EOF
d25462 1
a25462 2
	
for ac_hdr in \
d25468 24
a25491 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:18850: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25493 4
a25496 11
  cat > conftest.$ac_ext <<EOF
#line 18855 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:18860: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d25498 1
a25498 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d25500 1
a25500 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d25502 1
a25502 1
rm -f conftest*
d25504 5
a25508 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d25510 1
a25510 3
 
else
  echo "$ac_t""no" 1>&6
d25515 2
a25516 1
	for ac_hdr in sys/termio.h 
d25518 24
a25541 5
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:18891: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25543 4
a25546 11
  cat > conftest.$ac_ext <<EOF
#line 18896 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:18901: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
d25548 1
a25548 2
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
d25550 1
a25550 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d25552 1
a25552 1
rm -f conftest*
d25554 5
a25558 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d25560 1
a25560 3
 
else
  echo "$ac_t""no" 1>&6
d25572 4
a25575 4
	echo $ac_n "checking whether termios.h needs _POSIX_SOURCE""... $ac_c" 1>&6
echo "configure:18936: checking whether termios.h needs _POSIX_SOURCE" >&5
	cat > conftest.$ac_ext <<EOF
#line 18938 "configure"
d25578 3
a25580 1
int main() {
d25582 16
a25597 4
; return 0; }
EOF
if { (eval echo configure:18945: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d25600 5
a25604 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
		cat > conftest.$ac_ext <<EOF
#line 18954 "configure"
d25609 3
a25611 1
int main() {
d25613 16
a25628 4
; return 0; }
EOF
if { (eval echo configure:18963: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d25631 3
a25633 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  termios_bad=yes cat >> confdefs.h <<\EOF
d25638 2
a25639 2
rm -f conftest*
			
d25641 3
a25643 2
rm -f conftest*
	echo "$ac_t""$termios_bad" 1>&6
d25647 5
a25652 7

echo $ac_n "checking declaration of size-change""... $ac_c" 1>&6
echo "configure:18986: checking declaration of size-change" >&5
if eval "test \"`echo '$''{'cf_cv_sizechange'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
d25661 2
a25662 2
    cat > conftest.$ac_ext <<EOF
#line 19000 "configure"
d25683 3
a25685 1
int main() {
d25700 17
a25716 5
	
; return 0; }
EOF
if { (eval echo configure:19039: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d25719 3
a25721 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_sizechange=no
d25723 1
a25723 1
rm -f conftest*
d25734 2
a25735 2

echo "$ac_t""$cf_cv_sizechange" 1>&6
d25737 1
a25737 1
	cat >> confdefs.h <<\EOF
d25743 1
a25743 1
		cat >> confdefs.h <<EOF
d25751 4
a25754 5
	
echo $ac_n "checking if ttytype is declared in curses library""... $ac_c" 1>&6
echo "configure:19078: checking if ttytype is declared in curses library" >&5
if eval "test \"`echo '$''{'cf_cv_have_ttytype'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25756 3
a25758 3
  
	cat > conftest.$ac_ext <<EOF
#line 19084 "configure"
d25761 3
a25763 1
int main() {
d25765 16
a25780 4
; return 0; }
EOF
if { (eval echo configure:19091: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d25783 3
a25785 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_ttytype=no
d25787 2
a25788 2
rm -f conftest*
	
d25791 3
a25793 2
echo "$ac_t""$cf_cv_have_ttytype" 1>&6
test $cf_cv_have_ttytype = yes && cat >> confdefs.h <<\EOF
d25797 1
d25799 4
a25802 5
	
echo $ac_n "checking if curses supports wide characters""... $ac_c" 1>&6
echo "configure:19112: checking if curses supports wide characters" >&5
if eval "test \"`echo '$''{'cf_cv_widec_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25804 3
a25806 3
  
cat > conftest.$ac_ext <<EOF
#line 19118 "configure"
d25811 3
a25813 1
int main() {
d25820 16
a25835 4
; return 0; }
EOF
if { (eval echo configure:19132: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d25838 3
a25840 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_widec_curses=no
d25842 1
a25842 1
rm -f conftest*
d25845 2
a25846 2

echo "$ac_t""$cf_cv_widec_curses" 1>&6
d25849 1
a25849 1
	cat >> confdefs.h <<\EOF
a25852 1

d25854 4
a25857 4
	echo $ac_n "checking if we must include wchar.h to declare mbstate_t""... $ac_c" 1>&6
echo "configure:19155: checking if we must include wchar.h to declare mbstate_t" >&5
if eval "test \"`echo '$''{'cf_cv_widec_mbstate'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25859 3
a25861 3
  
	cat > conftest.$ac_ext <<EOF
#line 19161 "configure"
d25866 3
a25868 1
int main() {
d25870 16
a25885 4
; return 0; }
EOF
if { (eval echo configure:19170: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d25888 4
a25891 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 19178 "configure"
d25897 3
a25899 1
int main() {
d25901 16
a25916 4
; return 0; }
EOF
if { (eval echo configure:19188: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d25919 3
a25921 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_widec_mbstate=unknown
d25923 1
a25923 1
rm -f conftest*
d25925 1
a25925 1
rm -f conftest*
d25927 2
a25928 2

echo "$ac_t""$cf_cv_widec_mbstate" 1>&6
d25931 1
a25931 1
	cat >> confdefs.h <<\EOF
d25938 1
a25938 1
	cat >> confdefs.h <<\EOF
d25946 6
a25951 5
	
echo $ac_n "checking if we must define _XOPEN_SOURCE_EXTENDED""... $ac_c" 1>&6
echo "configure:19222: checking if we must define _XOPEN_SOURCE_EXTENDED" >&5
if eval "test \"`echo '$''{'cf_cv_need_xopen_extension'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d25953 3
a25955 3
  
cat > conftest.$ac_ext <<EOF
#line 19228 "configure"
d25960 3
a25962 1
int main() {
d25967 16
a25982 4
; return 0; }
EOF
if { (eval echo configure:19240: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d25985 4
a25988 5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 19248 "configure"
d25994 3
a25996 1
int main() {
d26001 16
a26016 4
; return 0; }
EOF
if { (eval echo configure:19261: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d26019 3
a26021 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_need_xopen_extension=unknown
d26023 1
a26023 1
rm -f conftest*
d26025 1
a26025 1
rm -f conftest*
d26027 2
a26028 2

echo "$ac_t""$cf_cv_need_xopen_extension" 1>&6
d26031 4
a26034 5

echo $ac_n "checking for term.h""... $ac_c" 1>&6
echo "configure:19280: checking for term.h" >&5
if eval "test \"`echo '$''{'cf_cv_term_header'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
a26035 1
  
d26043 2
a26044 2
	cat > conftest.$ac_ext <<EOF
#line 19293 "configure"
d26049 3
a26051 1
int main() {
d26053 16
a26068 4
; return 0; }
EOF
if { (eval echo configure:19302: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d26072 3
a26074 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_term_header=no
d26076 1
a26076 1
rm -f conftest*
d26080 2
a26081 2

echo "$ac_t""$cf_cv_term_header" 1>&6
d26085 1
a26085 1
	cat >> confdefs.h <<\EOF
d26091 1
a26091 1
	cat >> confdefs.h <<\EOF
d26097 1
a26097 1
	cat >> confdefs.h <<\EOF
a26103 3



d26121 1
d26126 1
a26126 1
		
d26128 1
a26128 1
	
d26131 2
a26132 4
	echo $ac_n "checking for ${cf_func}""... $ac_c" 1>&6
echo "configure:19370: checking for ${cf_func}" >&5
	
echo "(line 19372) testing ${cf_func} ..." 1>&5
d26134 4
a26137 2
	if eval "test \"`echo '$''{'cf_cv_func_$cf_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d26139 1
a26139 1
  
d26142 2
a26143 2
			cat > conftest.$ac_ext <<EOF
#line 19381 "configure"
d26163 3
a26165 1
int main() {
d26171 17
a26187 5
			
; return 0; }
EOF
if { (eval echo configure:19410: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
d26190 3
a26192 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
d26194 1
a26194 1
rm -f conftest*
d26197 1
a26197 1
	
d26202 2
a26203 1
	echo "$ac_t""$cf_result" 1>&6
d26205 1
a26205 1
		cat >> confdefs.h <<EOF
d26216 3
a26218 1
		{ echo "configure: error: Configuration does not support color-styles" 1>&2; exit 1; }
d26221 3
a26223 1
		{ echo "configure: error: Configuration does not support color-styles" 1>&2; exit 1; }
d26229 2
a26230 1
		echo "configure: warning: Configuration does not support ACS_xxx definitions" 1>&2
d26232 1
a26232 1
		cat >> confdefs.h <<\EOF
a26241 1

d26253 3
a26255 3

trap '' 1 2 15
cat > confcache <<\EOF
d26258 3
a26260 2
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
d26262 2
a26263 8
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
d26265 6
a26270 1
EOF
d26276 25
a26300 17
(set) 2>&1 |
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
  *ac_space=\ *)
    # `set' does not quote correctly, so add quotes (double-quote substitution
    # turns \\\\ into \\, and sed turns \\ into \).
    sed -n \
      -e "s/'/'\\\\''/g" \
      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
    ;;
  *)
    # `set' quotes correctly as required by POSIX, so do not add quotes.
    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
    ;;
  esac >> confcache
if cmp -s $cache_file confcache; then
  :
else
d26302 2
a26303 2
    echo "updating cache $cache_file"
    cat confcache > $cache_file
a26309 2
trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

d26314 4
a26317 3
# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
d26319 8
a26326 1
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
a26328 2
trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

a26330 1
# Without the "./", some shells look in PATH for config.status.
d26332 6
a26337 5

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
a26339 5
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
d26341 80
a26420 1
# configure, is in ./config.log if it exists.
d26422 60
a26481 2
ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
d26483 18
a26500 1
  case "\$ac_option" in
d26502 35
a26536 8
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.13.20030927"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
d26538 1
d26541 2
a26542 2
ac_given_srcdir=$srcdir
ac_given_INSTALL="$INSTALL"
d26544 11
a26554 134
trap 'rm -fr `echo "makefile \
	WWW/Library/Implementation/makefile \
	src/makefile \
	src/chrtrans/makefile \
	$SUB_MAKEFILE
	 $CONFIG_H:config.hin" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@@/@@@@/; s/@@%/@@@@/; s/%g\$/@@g/; /@@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@@@/%@@/; s/@@@@/@@%/; s/@@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@@SHELL@@%$SHELL%g
s%@@CFLAGS@@%$CFLAGS%g
s%@@CPPFLAGS@@%$CPPFLAGS%g
s%@@CXXFLAGS@@%$CXXFLAGS%g
s%@@FFLAGS@@%$FFLAGS%g
s%@@DEFS@@%$DEFS%g
s%@@LDFLAGS@@%$LDFLAGS%g
s%@@LIBS@@%$LIBS%g
s%@@exec_prefix@@%$exec_prefix%g
s%@@prefix@@%$prefix%g
s%@@program_transform_name@@%$program_transform_name%g
s%@@bindir@@%$bindir%g
s%@@sbindir@@%$sbindir%g
s%@@libexecdir@@%$libexecdir%g
s%@@datadir@@%$datadir%g
s%@@sysconfdir@@%$sysconfdir%g
s%@@sharedstatedir@@%$sharedstatedir%g
s%@@localstatedir@@%$localstatedir%g
s%@@libdir@@%$libdir%g
s%@@includedir@@%$includedir%g
s%@@oldincludedir@@%$oldincludedir%g
s%@@infodir@@%$infodir%g
s%@@mandir@@%$mandir%g
s%@@host@@%$host%g
s%@@host_alias@@%$host_alias%g
s%@@host_cpu@@%$host_cpu%g
s%@@host_vendor@@%$host_vendor%g
s%@@host_os@@%$host_os%g
s%@@PACKAGE@@%$PACKAGE%g
s%@@VERSION@@%$VERSION%g
s%@@DESTDIR@@%$DESTDIR%g
s%@@CONFIG_H@@%$CONFIG_H%g
s%@@CC@@%$CC%g
s%@@CPP@@%$CPP%g
s%@@LN_S@@%$LN_S%g
s%@@SET_MAKE@@%$SET_MAKE%g
s%@@INSTALL_PROGRAM@@%$INSTALL_PROGRAM%g
s%@@INSTALL_SCRIPT@@%$INSTALL_SCRIPT%g
s%@@INSTALL_DATA@@%$INSTALL_DATA%g
s%@@LINT@@%$LINT%g
s%@@build@@%$build%g
s%@@build_alias@@%$build_alias%g
s%@@build_cpu@@%$build_cpu%g
s%@@build_vendor@@%$build_vendor%g
s%@@build_os@@%$build_os%g
s%@@RANLIB@@%$RANLIB%g
s%@@AR@@%$AR%g
s%@@AR_OPTS@@%$AR_OPTS%g
s%@@ECHO_LT@@%$ECHO_LT%g
s%@@ECHO_LD@@%$ECHO_LD%g
s%@@RULE_CC@@%$RULE_CC%g
s%@@SHOW_CC@@%$SHOW_CC%g
s%@@ECHO_CC@@%$ECHO_CC%g
s%@@DONT_ECHO_CC@@%$DONT_ECHO_CC%g
s%@@EXTRA_CFLAGS@@%$EXTRA_CFLAGS%g
s%@@EXEEXT@@%$EXEEXT%g
s%@@OBJEXT@@%$OBJEXT%g
s%@@PROG_EXT@@%$PROG_EXT%g
s%@@ALLOCA@@%$ALLOCA%g
s%@@GLIBC21@@%$GLIBC21%g
s%@@LIBICONV@@%$LIBICONV%g
s%@@USE_NLS@@%$USE_NLS%g
s%@@PATHSEP@@%$PATHSEP%g
s%@@MSGFMT@@%$MSGFMT%g
s%@@GMSGFMT@@%$GMSGFMT%g
s%@@XGETTEXT@@%$XGETTEXT%g
s%@@INTLBISON@@%$INTLBISON%g
s%@@BUILD_INCLUDED_LIBINTL@@%$BUILD_INCLUDED_LIBINTL%g
s%@@USE_INCLUDED_LIBINTL@@%$USE_INCLUDED_LIBINTL%g
s%@@CATALOGS@@%$CATALOGS%g
s%@@CATOBJEXT@@%$CATOBJEXT%g
s%@@GMOFILES@@%$GMOFILES%g
s%@@INTLLIBS@@%$INTLLIBS%g
s%@@INTLOBJS@@%$INTLOBJS%g
s%@@POFILES@@%$POFILES%g
s%@@POSUB@@%$POSUB%g
s%@@DATADIRNAME@@%$DATADIRNAME%g
s%@@INSTOBJEXT@@%$INSTOBJEXT%g
s%@@GENCAT@@%$GENCAT%g
s%@@MKINSTALLDIRS@@%$MKINSTALLDIRS%g
s%@@INTL_LIBTOOL_SUFFIX_PREFIX@@%$INTL_LIBTOOL_SUFFIX_PREFIX%g
s%@@MSG_DIR_MAKE@@%$MSG_DIR_MAKE%g
s%@@SUB_MAKEFILE@@%$SUB_MAKEFILE%g
s%@@INTLDIR_MAKE@@%$INTLDIR_MAKE%g
s%@@GT_YES@@%$GT_YES%g
s%@@GT_NO@@%$GT_NO%g
s%@@INTLDIR_CPPFLAGS@@%$INTLDIR_CPPFLAGS%g
s%@@NLS_DATADIR@@%$NLS_DATADIR%g
s%@@CHARSET_DEFS@@%$CHARSET_DEFS%g
s%@@LIBOBJS@@%$LIBOBJS%g
s%@@INSTALL_LSS@@%$INSTALL_LSS%g
s%@@LYNXCFG_MAKE@@%$LYNXCFG_MAKE%g
s%@@LYNXCFG_URL@@%$LYNXCFG_URL%g
s%@@TELNET@@%$TELNET%g
s%@@TN3270@@%$TN3270%g
s%@@RLOGIN@@%$RLOGIN%g
s%@@MV@@%$MV%g
s%@@GZIP@@%$GZIP%g
s%@@UNCOMPRESS@@%$UNCOMPRESS%g
s%@@UNZIP@@%$UNZIP%g
s%@@BZIP2@@%$BZIP2%g
s%@@COMPRESS@@%$COMPRESS%g
s%@@RM@@%$RM%g
s%@@TAR@@%$TAR%g
s%@@UUDECODE@@%$UUDECODE%g
s%@@ZCAT@@%$ZCAT%g
s%@@ZIP@@%$ZIP%g
s%@@TAR_UP_OPTIONS@@%$TAR_UP_OPTIONS%g
s%@@TAR_DOWN_OPTIONS@@%$TAR_DOWN_OPTIONS%g
s%@@TAR_FILE_OPTIONS@@%$TAR_FILE_OPTIONS%g
s%@@TAR_PIPE_OPTIONS@@%$TAR_PIPE_OPTIONS%g
s%@@INSTALL@@%$INSTALL%g
s%@@COMPRESS_PROG@@%$COMPRESS_PROG%g
s%@@COMPRESS_EXT@@%$COMPRESS_EXT%g
s%@@X_CFLAGS@@%$X_CFLAGS%g
s%@@X_PRE_LIBS@@%$X_PRE_LIBS%g
s%@@X_LIBS@@%$X_LIBS%g
s%@@X_EXTRA_LIBS@@%$X_EXTRA_LIBS%g
s%@@CONFIG_SHELL@@%$CONFIG_SHELL%g
s%@@SRCDIR_CLEAN@@%$SRCDIR_CLEAN%g
d26556 1
a26556 1
CEOF
d26559 9
a26567 1
cat >> $CONFIG_STATUS <<\EOF
d26569 17
a26585 27
# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
d26587 9
a26595 2
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
d26597 187
d26786 38
a26823 1
cat >> $CONFIG_STATUS <<EOF
a26824 6
CONFIG_FILES=\${CONFIG_FILES-"makefile \
	WWW/Library/Implementation/makefile \
	src/makefile \
	src/chrtrans/makefile \
	$SUB_MAKEFILE
	"}
d26826 2
a26827 2
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
d26829 8
a26836 4
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
d26839 28
a26866 1
  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.
d26868 1
a26868 6
  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
d26870 1
a26870 1
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
d26875 10
a26884 5
  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
d26886 2
a26887 2
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
d26890 3
a26892 3
  case "$ac_given_INSTALL" in
  [/$]*) INSTALL="$ac_given_INSTALL" ;;
  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
d26895 62
a26956 8
  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac
d26958 3
a26960 9
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@@configure_input@@%$configure_input%g
s%@@srcdir@@%$srcdir%g
s%@@top_srcdir@@%$top_srcdir%g
s%@@INSTALL@@%$INSTALL%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*
d26966 12
a26977 7
ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
ac_dC='\3'
ac_dD='%g'
# ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='\([ 	]\)%\1#\2define\3'
d26979 1
a26979 6
ac_uD='\4%g'
# ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_eB='$%\1#\2define\3'
ac_eC=' '
ac_eD='%g'
d26981 1
a26981 8
if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="$CONFIG_H:config.hin"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
d26983 8
a26990 4
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
d26993 2
a26994 1
  echo creating $ac_file
d26996 29
a27024 3
  rm -f conftest.frag conftest.in conftest.out
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in
d27028 31
a27058 15

# Transform confdefs.h into a sed script conftest.vals that substitutes
# the proper values into config.h.in to produce config.h.  And first:
# Protect against being on the right side of a sed subst in config.status.
# Protect against being in an unquoted here document in config.status.
rm -f conftest.vals
cat > conftest.hdr <<\EOF
s/[\\&%]/\\&/g
s%[\\$`]%\\&%g
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
s%ac_d%ac_u%gp
s%ac_u%ac_e%gp
EOF
sed -n -f conftest.hdr confdefs.h > conftest.vals
rm -f conftest.hdr
d27063 2
a27064 2
cat >> conftest.vals <<\EOF
s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
d27067 33
a27099 3
# Break up conftest.vals because some shells have a limit on
# the size of here documents, and old seds have small limits too.

d27101 1
a27101 1
while :
d27103 8
a27110 6
  ac_lines=`grep -c . conftest.vals`
  # grep -c gives empty output for an empty file on some AIX systems.
  if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
  # Write a limited-size here document to conftest.frag.
  echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
d27112 16
a27127 19
  sed -f conftest.frag conftest.in > conftest.out
  rm -f conftest.in
  mv conftest.out conftest.in
' >> $CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
  rm -f conftest.vals
  mv conftest.tail conftest.vals
done
rm -f conftest.vals


cat >> $CONFIG_STATUS <<\EOF
  rm -f conftest.frag conftest.h
  echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
  cat conftest.in >> conftest.h
  rm -f conftest.in
  if cmp -s $ac_file conftest.h 2>/dev/null; then
    echo "$ac_file is unchanged"
    rm -f conftest.h
d27129 20
a27148 2
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
d27150 19
a27168 2
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
d27170 3
a27172 2
    rm -f $ac_file
    mv conftest.h $ac_file
d27174 1
a27174 2
fi; done

d27176 1
a27176 1
cat >> $CONFIG_STATUS <<EOF
d27178 6
a27183 5
# Extra initialization commands, if any

	USE_NLS=$USE_NLS
	use_our_messages=$use_our_messages
	
d27185 2
a27186 3
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in $CONFIG_FILES; do
d27215 2
a27216 3
      done
# Extra commands, if any

d27228 8
a27235 2
	
exit 0
d27238 19
a27256 2
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
@


1.10
log
@update to lynx2.8.5rel.4; fixes CAN-2005-3120 among other things.
prompted by naddy@@, cloder@@ ok.
@
text
@d11390 1
a11390 1
for cf_func in srandom/random srand48/lrand48 srand/rand
d11406 1
a11406 1
long seed = 1; $cf_srand_func(seed); seed = $cf_rand_func()
d11434 4
@


1.9
log
@sync with lynx 2.8.5.rel2 which fixes a few minor bugs (null pointer checks,
progress bar with very slow connections)
@
text
@d726 1
a726 1
VERSION=2.8.5rel.2
@


1.8
log
@update to lynx 2.8.5rel.1
tested todd@@,naddy@@. millert@@ deraadt@@ ok
@
text
@d726 1
a726 1
VERSION=2.8.5rel.1
@


1.7
log
@Update to lynx-2.8.4-rel1, patchset d, now with IPv6 as well

Local patches we maintain to the distribution are:
- replace unbounded fscanf with fgets (avsm)
- spelling fixes (deraadt)
- hppa -O0 workaround (mickey)
- default to ftp passive (deraadt)
- work with non-exec scripts (deraadt,hin,maja)
- be more careful with rlogin username (art)
- default to our webpage (deraadt)
- install helpfiles locally (maja)
- mkdtemp temp space directory (art)
- install more recent config.guess (avsm)

Tested by beck,millert,grange,fries,miod and others, deraadt@@ ok
@
text
@d3 16
d20 1
a20 1
# Generated automatically using autoconf version 2.13.20000819 
d201 1
a201 1
cat <<EOF
d210 2
d213 1
d216 3
a218 2
  --with-catgets          use catgets functions if available
  --enable-included-msgs  use included messages, for i18n support
a219 2
EOF
cat <<EOF
d222 1
d227 1
d231 2
d234 1
a234 1
  --disable-forms-options disable experimental forms-based options
a236 2
EOF
cat <<EOF
a240 1
  --enable-file-upload    use experimental file-upload support
d245 3
a247 1
  --enable-libjs          use experimental JavaScript support (Mozilla libjs)
a248 4
  --enable-prettysrc      colorize HTML source
EOF
cat <<EOF
  --enable-read-eta       experimental read-progress message shows ETA
a249 1
  --enable-source-cache   cache HTML source for parse mode changes
d253 1
d255 6
a265 2
EOF
cat <<EOF
a269 1
  --disable-persistent-cookies  disable persistent-cookie support
d272 3
d276 1
a280 2
EOF
cat <<EOF
d283 1
a283 1
  --disable-dired-archive  disable dearchiving commands
d287 2
a295 2
EOF
cat <<EOF
d300 1
d451 1
a451 1
    echo "configure generated by autoconf version 2.13.20000819"
d639 7
a645 1
cat config.cache; rm -f config.cache; touch config.cache
d648 1
d669 1
a669 1
if test -f $srcdir/config.guess ; then
d677 1
a677 1
echo "configure:648: checking host system type" >&5
d716 1
a716 1
test -n "$cf_cv_system_name" && echo "$ac_t"""Configuring for $cf_cv_system_name"" 1>&6
d725 2
a726 2
VERSION=2.8.4

d747 1
a747 1
echo "configure:718: checking for $ac_word" >&5
d777 1
a777 1
echo "configure:748: checking for $ac_word" >&5
d828 1
a828 1
echo "configure:799: checking for $ac_word" >&5
d860 1
a860 1
echo "configure:831: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d871 1
a871 1
#line 842 "configure"
d876 1
a876 1
if { (eval echo configure:847: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d902 1
a902 1
echo "configure:873: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d907 1
a907 1
echo "configure:878: checking whether we are using GNU C" >&5
d916 1
a916 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:887: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d935 1
a935 1
echo "configure:906: checking whether ${CC-cc} accepts -g" >&5
d967 1
a967 1
echo "configure:938: checking how to run the C preprocessor" >&5
d982 1
a982 1
#line 953 "configure"
d988 1
a988 1
{ (eval echo configure:959: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d999 1
a999 1
#line 970 "configure"
d1005 1
a1005 1
{ (eval echo configure:976: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1016 1
a1016 1
#line 987 "configure"
d1022 1
a1022 1
{ (eval echo configure:993: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1047 1
a1047 1
echo "configure:1018: checking whether ln -s works" >&5
a1066 30
# Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1041: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
fi
fi
RANLIB="$ac_cv_prog_RANLIB"
if test -n "$RANLIB"; then
  echo "$ac_t""$RANLIB" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

d1193 173
d1367 1
a1367 1
echo "configure:1195: checking for AIX" >&5
d1369 1
a1369 1
#line 1197 "configure"
d1391 1
a1391 1
echo "configure:1219: checking for POSIXized ISC" >&5
d1417 1
a1417 1
echo "configure:1245: checking if you want to see long compiling messages" >&5
d1425 1
d1433 1
d1443 1
d1459 1
d1469 1
a1469 1
echo "configure:1293: checking if you want to check memory-leaks" >&5
d1492 3
d1496 1
a1496 1
echo "configure:1317: checking if you want to enable debug-code" >&5
d1517 1
a1517 1
		
d1529 1
a1529 1
		CFLAGS=`echo ${CFLAGS} | sed -e 's/-g //' -e 's/-g$//'`
d1532 1
a1532 1
		CFLAGS=`echo ${CFLAGS} | sed -e 's/-g //' -e 's/-g$//'`
d1538 1
a1538 1
echo "configure:1359: checking if you want to enable lynx trace code *recommended* " >&5
d1562 1
a1562 1
echo "configure:1383: checking if you want verbose trace code" >&5
d1588 1
a1588 1
echo "configure:1409: checking if you want to turn on gcc warnings" >&5
d1628 1
a1628 1
echo "configure:1449: checking for $CC __attribute__ directives" >&5
d1630 1
a1630 1
#line 1451 "configure"
d1668 1
a1668 1
		if { (eval echo configure:1489: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a1670 2
#		else
#			sed -e 's/__attr.*/\/*nothing*\//' conftest.h >>confdefs.h
d1680 12
d1695 1
a1695 1
#line 1506 "configure"
d1699 1
a1699 1
echo "configure:1510: checking for $CC warning options" >&5
d1714 2
a1715 1
		Wstrict-prototypes $cf_warn_CONST
d1718 1
a1718 1
		if { (eval echo configure:1528: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1720 13
a1733 1
			test "$cf_opt" = Wcast-qual && EXTRA_CFLAGS="$EXTRA_CFLAGS -DXTSTRINGDEFINES"
d1744 2
d1747 14
a1760 8
cat >> confdefs.h <<\EOF
#define UNIX 1
EOF


echo $ac_n "checking for working const""... $ac_c" 1>&6
echo "configure:1549: checking for working const" >&5
if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
d1763 4
a1766 2
  cat > conftest.$ac_ext <<EOF
#line 1554 "configure"
d1768 4
d1774 1
a1774 43

/* Ultrix mips cc rejects this.  */
typedef int charset[2]; const charset x;
/* SunOS 4.1.1 cc rejects this.  */
char const *const *ccp;
char **p;
/* NEC SVR4.0.2 mips cc rejects this.  */
struct point {int x, y;};
static struct point const zero = {0,0};
/* AIX XL C 1.02.0.0 rejects this.
   It does not let you subtract one const X* pointer from another in an arm
   of an if-expression whose if-part is not a constant expression */
const char *g = "string";
ccp = &g + (g ? g-g : 0);
/* HPUX 7.0 cc rejects these. */
++ccp;
p = (char**) ccp;
ccp = (char const *const *) p;
{ /* SCO 3.2v4 cc rejects this.  */
  char *t;
  char const *s = 0 ? (char *) 0 : (char const *) 0;

  *t++ = 0;
}
{ /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
  int x[] = {25, 17};
  const int *foo = &x[0];
  ++foo;
}
{ /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
  typedef const int *iptr;
  iptr p = 0;
  ++p;
}
{ /* AIX XL C 1.02.0.0 rejects this saying
     "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
  struct s { int j; const int *ap[3]; };
  struct s *b; b->j = 5;
}
{ /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
  const int foo = 10;
}

d1777 1
a1777 1
if { (eval echo configure:1603: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1779 1
a1779 1
  ac_cv_c_const=yes
d1784 1
a1784 1
  ac_cv_c_const=no
d1787 2
d1790 6
a1795 5

echo "$ac_t""$ac_cv_c_const" 1>&6
if test $ac_cv_c_const = no; then
  cat >> confdefs.h <<\EOF
#define const 
d1798 290
a2087 1
fi
a2089 1
PROG_EXT=
d2097 1
d2111 1
a2111 1
echo "configure:1645: checking for strcmp in -lc_s" >&5
d2119 1
a2119 1
#line 1653 "configure"
d2130 1
a2130 1
if { (eval echo configure:1664: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2162 1
a2162 1
	PROG_EXT=".exe"
d2185 4
d2190 1
a2190 1
	TRY_CFLAGS="$TRY_CFLAGS -DNEXT -DXMOSAIC_HACK"
d2192 1
a2192 1
openbsd*)
a2194 6
os2*)
	# We make sure -Zexe is not used -- it would interfere with @@PROG_EXT@@
	TRY_CFLAGS="$TRY_CFLAGS -Zmt -D__ST_MT_ERRNO__"
	LDFLAGS=`echo "$LDFLAGS -Zmt -Zcrtdll" | sed "s/-Zexe//g"`
	PROG_EXT=".exe"
	;;
d2221 1
a2221 1
echo "configure:1757: checking for $ac_word" >&5
d2266 1
a2266 1
echo "configure:1802: checking for $ac_hdr" >&5
d2271 1
a2271 1
#line 1807 "configure"
d2276 1
a2276 1
{ (eval echo configure:1812: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2320 1
a2320 1
echo "configure:1856: checking for $ac_hdr" >&5
d2325 1
a2325 1
#line 1861 "configure"
d2330 1
a2330 1
{ (eval echo configure:1866: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
a2362 1

d2366 1
a2366 1
echo "configure:1903: checking for ${CC-cc} option to accept ANSI C" >&5
d2390 2
d2397 1
a2397 1
		*$cf_add_cflags)
d2399 2
a2400 2
		*)
			CPPFLAGS="$CPPFLAGS $cf_add_cflags"
d2405 1
a2405 1
		CFLAGS="$CFLAGS $cf_add_cflags"
d2410 11
d2422 1
a2422 1
#line 1946 "configure"
d2438 1
a2438 1
if { (eval echo configure:1962: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2457 2
d2464 1
a2464 1
		*$cf_add_cflags)
d2466 2
a2467 2
		*)
			CPPFLAGS="$CPPFLAGS $cf_add_cflags"
d2472 1
a2472 1
		CFLAGS="$CFLAGS $cf_add_cflags"
d2477 11
d2501 30
d2532 1
a2532 1
echo "configure:2013: checking for ANSI C header files" >&5
d2537 1
a2537 1
#line 2018 "configure"
d2545 1
a2545 1
{ (eval echo configure:2026: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2562 1
a2562 1
#line 2043 "configure"
d2580 1
a2580 1
#line 2061 "configure"
d2601 1
a2601 1
#line 2082 "configure"
d2612 1
a2612 1
if { (eval echo configure:2093: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d2636 1
a2636 1
echo "configure:2117: checking for inline" >&5
d2643 1
a2643 1
#line 2124 "configure"
d2650 1
a2650 1
if { (eval echo configure:2131: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2676 1
a2676 1
echo "configure:2157: checking for off_t" >&5
d2681 1
a2681 1
#line 2162 "configure"
d2709 1
a2709 1
echo "configure:2190: checking for size_t" >&5
d2714 1
a2714 1
#line 2195 "configure"
d2744 1
a2744 1
echo "configure:2225: checking for working alloca.h" >&5
d2749 1
a2749 1
#line 2230 "configure"
d2756 1
a2756 1
if { (eval echo configure:2237: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2777 1
a2777 1
echo "configure:2258: checking for alloca" >&5
d2782 1
a2782 1
#line 2263 "configure"
d2810 1
a2810 1
if { (eval echo configure:2291: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2842 1
a2842 1
echo "configure:2323: checking whether alloca needs Cray hooks" >&5
d2847 1
a2847 1
#line 2328 "configure"
d2872 1
a2872 1
echo "configure:2353: checking for $ac_func" >&5
d2877 1
a2877 1
#line 2358 "configure"
d2900 1
a2900 1
if { (eval echo configure:2381: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2927 1
a2927 1
echo "configure:2408: checking stack direction for C alloca" >&5
d2935 1
a2935 1
#line 2416 "configure"
d2954 1
a2954 1
if { (eval echo configure:2435: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d2979 1
a2979 1
echo "configure:2460: checking for $ac_hdr" >&5
d2984 1
a2984 1
#line 2465 "configure"
d2989 1
a2989 1
{ (eval echo configure:2470: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3018 1
a3018 1
echo "configure:2499: checking for $ac_func" >&5
d3023 1
a3023 1
#line 2504 "configure"
d3046 1
a3046 1
if { (eval echo configure:2527: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3071 1
a3071 1
echo "configure:2552: checking for working mmap" >&5
d3079 1
a3079 1
#line 2560 "configure"
d3219 1
a3219 1
if { (eval echo configure:2700: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d3242 41
a3282 4
	case $cf_cv_system_name in
	os2*)	PATHSEP=';'  ;;
	*)	PATHSEP=':'  ;;
	esac
d3291 16
a3306 3
                              
   for ac_hdr in argz.h limits.h locale.h nl_types.h malloc.h string.h \
unistd.h sys/param.h
d3310 1
a3310 1
echo "configure:2741: checking for $ac_hdr" >&5
d3315 1
a3315 1
#line 2746 "configure"
d3320 1
a3320 1
{ (eval echo configure:2751: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3346 3
a3348 2
   for ac_func in getcwd munmap putenv setenv setlocale strchr strcasecmp \
strdup __argz_count __argz_stringify __argz_next
d3351 1
a3351 1
echo "configure:2781: checking for $ac_func" >&5
d3356 1
a3356 1
#line 2786 "configure"
d3379 1
a3379 1
if { (eval echo configure:2809: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3404 18
a3421 6
   if test "${ac_cv_func_stpcpy+set}" != "set"; then
     for ac_func in stpcpy
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2838: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d3424 27
a3450 2
  cat > conftest.$ac_ext <<EOF
#line 2843 "configure"
d3452 27
a3478 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
d3480 9
a3488 1
int main() {
d3490 8
a3497 5
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
d3499 1
a3499 1
$ac_func();
d3502 2
d3506 1
a3506 1
if { (eval echo configure:2866: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3508 1
a3508 1
  eval "ac_cv_func_$ac_func=yes"
d3513 1
a3513 1
  eval "ac_cv_func_$ac_func=no"
d3516 1
d3519 27
a3545 5
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
d3547 3
a3549 1
 
d3551 7
a3557 1
  echo "$ac_t""no" 1>&6
a3558 1
done
d3560 4
a3563 4
   fi
   if test "${ac_cv_func_stpcpy}" = "yes"; then
     cat >> confdefs.h <<\EOF
#define HAVE_STPCPY 1
d3566 1
a3566 1
   fi
d3570 1
a3570 1
echo "configure:2900: checking for LC_MESSAGES" >&5
d3575 1
a3575 1
#line 2905 "configure"
d3582 1
a3582 1
if { (eval echo configure:2912: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3603 1
a3603 1
echo "configure:2933: checking whether NLS is requested" >&5
d3605 1
d3617 1
d3619 1
d3627 1
a3627 1
echo "configure:2954: checking whether included gettext is requested" >&5
d3641 4
a3644 3
                        		nls_cv_header_intl=
	nls_cv_header_libgt=
	CATOBJEXT=NONE
d3648 1
a3648 1
echo "configure:2974: checking for libintl.h" >&5
d3653 1
a3653 1
#line 2979 "configure"
d3658 1
a3658 1
{ (eval echo configure:2984: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d3674 3
a3676 3
  echo $ac_n "checking for gettext in libc""... $ac_c" 1>&6
echo "configure:3001: checking for gettext in libc" >&5
if eval "test \"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\" = set"; then
d3680 1
a3680 1
#line 3006 "configure"
d3683 1
d3685 2
a3686 1
return (int) gettext ("")
d3689 1
a3689 1
if { (eval echo configure:3013: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3691 1
a3691 1
  gt_cv_func_gettext_libc=yes
d3696 1
a3696 1
  gt_cv_func_gettext_libc=no
d3701 1
a3701 1
echo "$ac_t""$gt_cv_func_gettext_libc" 1>&6
d3703 4
a3706 5
	   if test "$gt_cv_func_gettext_libc" != "yes"; then
	     echo $ac_n "checking for bindtextdomain in -lintl""... $ac_c" 1>&6
echo "configure:3029: checking for bindtextdomain in -lintl" >&5
ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d3709 4
a3712 4
  ac_save_LIBS="$LIBS"
LIBS="-lintl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3037 "configure"
d3714 2
a3715 35
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char bindtextdomain();

int main() {
bindtextdomain()
; return 0; }
EOF
if { (eval echo configure:3048: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
   gt_save_LIBS="$LIBS"
		 LIBS="$gt_save_LIBS -lintl"
	         echo $ac_n "checking for gettext in libintl""... $ac_c" 1>&6
echo "configure:3066: checking for gettext in libintl" >&5
if eval "test \"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3071 "configure"
#include "confdefs.h"

d3717 2
a3718 1
return (int) gettext ("")
d3721 1
a3721 1
if { (eval echo configure:3078: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3723 1
a3723 1
  gt_cv_func_gettext_libintl=yes
d3728 1
a3728 1
  gt_cv_func_gettext_libintl=no
d3731 1
d3734 1
a3734 6
echo "$ac_t""$gt_cv_func_gettext_libintl" 1>&6
		 LIBS="$gt_save_LIBS"
else
  echo "$ac_t""no" 1>&6
fi

d3737 4
a3740 7
	   if test "$gt_cv_func_gettext_libintl" = yes; then
	     LIBS="$LIBS -lintl"
	   fi

	   if test "$gt_cv_func_gettext_libc" = "yes" \
	      || test "$gt_cv_func_gettext_libintl" = "yes"; then
	      cat >> confdefs.h <<\EOF
a3743 1
	      # Extract the first word of "msgfmt", so it can be a program name with args.
d3745 7
a3751 34
set dummy msgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3112: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$MSGFMT" in
  /*)
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATHSEP}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"; then
	ac_cv_path_MSGFMT="$ac_dir/$ac_word"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT="no"
  ;;
esac
fi
MSGFMT="$ac_cv_path_MSGFMT"
if test -n "$MSGFMT"; then
  echo "$ac_t""$MSGFMT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
	      if test "$MSGFMT" != "no"; then
		for ac_func in dcgettext
d3754 1
a3754 1
echo "configure:3146: checking for $ac_func" >&5
d3759 1
a3759 1
#line 3151 "configure"
d3782 1
a3782 1
if { (eval echo configure:3174: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3806 38
a3843 1
		# Extract the first word of "gmsgfmt", so it can be a program name with args.
d3846 1
a3846 1
echo "configure:3201: checking for $ac_word" >&5
d3879 2
a3880 1
		# Extract the first word of "xgettext", so it can be a program name with args.
d3884 1
a3884 1
echo "configure:3238: checking for $ac_word" >&5
d3897 1
a3897 1
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"; then
d3909 1
a3909 1
if test -n "$XGETTEXT"; then
a3914 3
		cat > conftest.$ac_ext <<EOF
#line 3270 "configure"
#include "confdefs.h"
d3916 2
a3917 20
int main() {
extern int _nl_msg_cat_cntr;
			       return _nl_msg_cat_cntr
; return 0; }
EOF
if { (eval echo configure:3278: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  CATOBJEXT=.gmo
		   DATADIRNAME=share
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CATOBJEXT=.mo
		   DATADIRNAME=lib
fi
rm -f conftest*
		INSTOBJEXT=.mo
	      fi
	    fi
d3925 3
a3927 25
	  echo $ac_n "checking whether catgets can be used""... $ac_c" 1>&6
echo "configure:3301: checking whether catgets can be used" >&5
	  
# Check whether --with-catgets or --without-catgets was given.
if test "${with_catgets+set}" = set; then
  withval="$with_catgets"
  nls_cv_use_catgets=$withval
else
  nls_cv_use_catgets=no
fi

	  echo "$ac_t""$nls_cv_use_catgets" 1>&6

	  if test "$nls_cv_use_catgets" = "yes"; then
	    	    echo $ac_n "checking for main in -li""... $ac_c" 1>&6
echo "configure:3315: checking for main in -li" >&5
ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-li  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 3323 "configure"
#include "confdefs.h"
d3929 5
a3933 247
int main() {
main()
; return 0; }
EOF
if { (eval echo configure:3330: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo i | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-li $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

	    echo $ac_n "checking for catgets""... $ac_c" 1>&6
echo "configure:3358: checking for catgets" >&5
if eval "test \"`echo '$''{'ac_cv_func_catgets'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3363 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char catgets(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char catgets();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_catgets) || defined (__stub___catgets)
choke me
#else
catgets();
#endif

; return 0; }
EOF
if { (eval echo configure:3386: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_catgets=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_catgets=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'catgets`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_CATGETS 1
EOF

	       INTLOBJS="\$(CATOBJS)"
	       # Extract the first word of "gencat", so it can be a program name with args.
set dummy gencat; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3408: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GENCAT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GENCAT" in
  /*)
  ac_cv_path_GENCAT="$GENCAT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_GENCAT="$GENCAT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GENCAT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GENCAT" && ac_cv_path_GENCAT="no"
  ;;
esac
fi
GENCAT="$ac_cv_path_GENCAT"
if test -n "$GENCAT"; then
  echo "$ac_t""$GENCAT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
	       if test "$GENCAT" != "no"; then
		 # Extract the first word of "gmsgfmt", so it can be a program name with args.
set dummy gmsgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3444: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GMSGFMT" in
  /*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="no"
  ;;
esac
fi
GMSGFMT="$ac_cv_path_GMSGFMT"
if test -n "$GMSGFMT"; then
  echo "$ac_t""$GMSGFMT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

		 if test "$GMSGFMT" = "no"; then
		   # Extract the first word of "msgfmt", so it can be a program name with args.

set dummy msgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3482: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GMSGFMT" in
  /*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATHSEP}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"; then
	ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="no"
  ;;
esac
fi
GMSGFMT="$ac_cv_path_GMSGFMT"
if test -n "$GMSGFMT"; then
  echo "$ac_t""$GMSGFMT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

		 fi
		 # Extract the first word of "xgettext", so it can be a program name with args.

set dummy xgettext; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3518: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$XGETTEXT" in
  /*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}${PATHSEP}"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"; then
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
  ;;
esac
fi
XGETTEXT="$ac_cv_path_XGETTEXT"
if test -n "$XGETTEXT"; then
  echo "$ac_t""$XGETTEXT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

		 USE_INCLUDED_LIBINTL=yes
		 CATOBJEXT=.cat
		 INSTOBJEXT=.cat
		 DATADIRNAME=lib
		 INTLDEPS='$(top_builddir)/intl/libintl.a'
		 INTLLIBS=$INTLDEPS
		 LIBS=`echo $LIBS | sed -e 's/-lintl//'`
		 nls_cv_header_intl=intl/libintl.h
		 nls_cv_header_libgt=intl/libgettext.h
	       fi
else
  echo "$ac_t""no" 1>&6
fi

	  fi
        fi

        if test "$CATOBJEXT" = "NONE"; then
	  	  	  nls_cv_use_gnu_gettext=yes
        fi
      fi

      if test "$nls_cv_use_gnu_gettext" = "yes"; then
                INTLOBJS="\$(GETTOBJS)"
d3938 1
a3938 1
echo "configure:3577: checking for $ac_word" >&5
d3951 1
a3951 1
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"; then
d3958 1
a3958 1
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT="msgfmt"
d3963 1
a3963 1
if test -n "$MSGFMT"; then
d3972 1
a3972 1
echo "configure:3611: checking for $ac_word" >&5
d4009 1
a4009 1
echo "configure:3648: checking for $ac_word" >&5
d4022 1
a4022 1
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"; then
d4034 1
a4034 1
if test -n "$XGETTEXT"; then
d4041 1
d4044 11
a4054 7
        INSTOBJEXT=.mo
        DATADIRNAME=share
	INTLDEPS='$(top_builddir)/intl/libintl.a'
	INTLLIBS=$INTLDEPS
	LIBS=`echo $LIBS | sed -e 's/-lintl//'`
        nls_cv_header_intl=intl/libintl.h
        nls_cv_header_libgt=intl/libgettext.h
d4057 2
a4058 2
            if test "$XGETTEXT" != ":"; then
			if $XGETTEXT --omit-header /dev/null 2> /dev/null; then
d4066 1
a4066 6
      # We need to process the po/ directory.
      POSUB=po
    else
      DATADIRNAME=share
      nls_cv_header_intl=intl/libintl.h
      nls_cv_header_libgt=intl/libgettext.h
d4069 5
a4073 5
    # If this is used in GNU gettext we have to set USE_NLS to `yes'
    # because some of the sources are only built for this goal.
    if test "$PACKAGE" = gettext; then
      USE_NLS=yes
      USE_INCLUDED_LIBINTL=yes
d4076 20
a4095 5
    # If we really do not use included intl, suppress the command that
    # would attempt to symlink the two copies of its header.
    if test "$USE_INCLUDED_LIBINTL" != yes; then
      nls_cv_header_libgt=
      nls_cv_header_intl=
d4097 13
a4109 1
    
d4111 18
a4128 1
    
d4144 8
d4153 2
d4163 1
a4163 1
echo "configure:3748: checking for catalogs to be installed" >&5
d4165 15
a4179 4
       for lang in ${LINGUAS=$ALL_LINGUAS}; do
         case "$ALL_LINGUAS" in
          *$lang*) NEW_LINGUAS="$NEW_LINGUAS $lang" ;;
         esac
d4190 11
a4200 5
            if test $ac_cv_header_locale_h = yes; then
     INCLUDE_LOCALE_H="#include <locale.h>"
   else
     INCLUDE_LOCALE_H="\
/* The system does not provide the header <locale.h>.  Take care of it yourself. */"
d4204 10
a4213 91
            if test "$USE_NLS" = "yes"; then
     test -d intl || mkdir intl
     if test "$CATOBJEXT" = ".cat"; then
       ac_safe=`echo "linux/version.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for linux/version.h""... $ac_c" 1>&6
echo "configure:3777: checking for linux/version.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3782 "configure"
#include "confdefs.h"
#include <linux/version.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:3787: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  msgformat=linux
else
  echo "$ac_t""no" 1>&6
msgformat=xopen
fi


                     sed -e '/^#/d' $srcdir/intl/$msgformat-msg.sed > intl/po2msg.sed
     fi
          if test -f $srcdir/intl/po2tbl.sed.in ; then
       rm -f intl/po2tbl.sed
       sed -e '/^#.*[^\\]$/d' -e '/^#$/d' \
         $srcdir/intl/po2tbl.sed.in > intl/po2tbl.sed
     fi
   fi

            if test "$PACKAGE" = "gettext"; then
     GT_NO="#NO#"
     GT_YES=
   else
     GT_NO=
     GT_YES="#YES#"
   fi
   
   

               MKINSTALLDIRS=
   if test -n "$ac_aux_dir"; then
     MKINSTALLDIRS="$ac_aux_dir/mkdirs.sh"
   fi
   if test -z "$MKINSTALLDIRS"; then
     MKINSTALLDIRS="\$(top_srcdir)/mkdirs.sh"
   fi
   

      l=
   

         if test "x$srcdir" != "x."; then
     if test "x`echo $srcdir | sed 's@@/.*@@@@'`" = "x"; then
       posrcprefix="$srcdir/"
     else
       posrcprefix="../$srcdir/"
     fi
   else
     posrcprefix="../"
   fi
   if test -f $srcdir/po/POTFILES.in ; then
   if test "$USE_NLS" = "yes"; then
     test -d po || mkdir po
     rm -f po/POTFILES
     sed -e "/^#/d" -e "/^\$/d" -e "s,.*,	$posrcprefix& \\\\," -e "\$s/\(.*\) \\\\/\1/" \
	  < $srcdir/po/POTFILES.in > po/POTFILES
   fi
   fi


INTLDIR_MAKE=
MSG_DIR_MAKE=
SUB_MAKEFILE=
d4219 1
a4219 1
echo "configure:3868: checking if we should use included message-library" >&5
d4232 10
a4241 1
test $use_our_messages = yes && USE_OUR_MESSAGES=
d4246 1
a4246 1
		SUB_MAKEFILE="intl/$cf_makefile"
d4248 1
a4248 1
		SUB_MAKEFILE="intl/$cf_makefile"
d4252 14
a4265 3
	if test $use_our_messages = no ; then
		MSG_DIR_MAKE="#"
		SUB_MAKEFILE=
d4267 4
a4270 7
	if test "$use_our_messages" = yes ; then
		SUB_MAKEFILE="$SUB_MAKEFILE po/$cf_makefile.in:po/$cf_makefile.inn"
	else
		MSG_DIR_MAKE="#"
	fi
elif test "$USE_NLS" = yes ; then
	for ac_hdr in libintl.h
d4274 1
a4274 1
echo "configure:3906: checking for $ac_hdr" >&5
d4279 1
a4279 1
#line 3911 "configure"
d4284 1
a4284 1
{ (eval echo configure:3916: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d4310 1
a4310 5
	INTLDIR_MAKE="#"
	SUB_MAKEFILE="po/$cf_makefile.in:po/$cf_makefile.inn"
else
	INTLDIR_MAKE="#"
	MSG_DIR_MAKE="#"
d4313 2
a4314 5
if test -z "$MSG_DIR_MAKE" ; then
	if test $use_our_messages = no ; then
		MSG_DIR_MAKE="#"
		SUB_MAKEFILE=
	fi
d4317 6
a4322 2
if test -z "$INTLDIR_MAKE" ; then
	CPPFLAGS="$CPPFLAGS -I../intl"
d4329 2
d4369 3
a4371 1
./*) #(vi
d4379 1
a4379 1
    withval=`echo $withval | sed -e s@@NONE@@$ac_default_prefix@@`
d4384 1
a4384 1
  withval=`echo $withval | sed -e s@@NONE@@$ac_default_prefix@@`
d4387 1
a4387 1
  { echo "configure: error: expected a pathname" 1>&2; exit 1; }
d4395 1
a4395 1
echo "configure:4026: checking if you want full utility pathnames" >&5
d4420 1
a4420 1
echo "configure:4051: checking for system mailer" >&5
d4447 1
a4447 1
echo "configure:4078: checking system mail flags" >&5
d4468 5
d4475 15
a4489 7
test -z "$CHMOD" && CHMOD=chmod
if test "$with_full_paths" = yes ; then
	# Extract the first word of "chmod", so it can be a program name with args.
set dummy chmod; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4106: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_CHMOD'+set}'`\" = set"; then
d4492 40
a4531 21
  case "$CHMOD" in
  /*)
  ac_cv_path_CHMOD="$CHMOD" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_CHMOD="$CHMOD" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_CHMOD="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_CHMOD" && ac_cv_path_CHMOD="$CHMOD"
  ;;
esac
d4533 3
a4535 5
CHMOD="$ac_cv_path_CHMOD"
if test -n "$CHMOD"; then
  echo "$ac_t""$CHMOD" 1>&6
else
  echo "$ac_t""no" 1>&6
d4537 1
a4538 5
else
	echo $ac_n "checking for chmod""... $ac_c" 1>&6
echo "configure:4141: checking for chmod" >&5
	echo "$ac_t""$CHMOD" 1>&6
	eval 'ac_cv_path_'CHMOD'="'chmod'"'
d4540 22
a4561 6
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
d4564 11
a4574 14
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_CHMOD
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d4576 4
a4579 2
cat >> confdefs.h <<EOF
#define CHMOD_PATH "$cf_path_prog"
d4581 14
d4596 4
a4599 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define CHMOD_ARGS "$cf_path_args"
d4601 14
d4616 1
d4618 2
d4621 4
a4624 7
test -z "$COMPRESS" && COMPRESS=compress
if test "$with_full_paths" = yes ; then
	# Extract the first word of "compress", so it can be a program name with args.
set dummy compress; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4183: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_COMPRESS'+set}'`\" = set"; then
d4627 40
a4666 21
  case "$COMPRESS" in
  /*)
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_COMPRESS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_COMPRESS" && ac_cv_path_COMPRESS="$COMPRESS"
  ;;
esac
d4668 3
a4670 5
COMPRESS="$ac_cv_path_COMPRESS"
if test -n "$COMPRESS"; then
  echo "$ac_t""$COMPRESS" 1>&6
else
  echo "$ac_t""no" 1>&6
d4672 1
a4673 5
else
	echo $ac_n "checking for compress""... $ac_c" 1>&6
echo "configure:4218: checking for compress" >&5
	echo "$ac_t""$COMPRESS" 1>&6
	eval 'ac_cv_path_'COMPRESS'="'compress'"'
d4675 3
a4677 9
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
d4680 12
a4691 1
for cf_temp in $ac_cv_path_COMPRESS
d4693 14
a4706 7
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
a4707 1
IFS="$cf_save_ifs"
d4709 21
a4729 2
cat >> confdefs.h <<EOF
#define COMPRESS_PATH "$cf_path_prog"
d4731 7
d4739 8
a4746 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define COMPRESS_ARGS "$cf_path_args"
EOF
d4748 1
d4751 5
a4755 7
test -z "$COPY" && COPY=cp
if test "$with_full_paths" = yes ; then
	# Extract the first word of "cp", so it can be a program name with args.
set dummy cp; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4260: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_COPY'+set}'`\" = set"; then
d4758 11
a4768 21
  case "$COPY" in
  /*)
  ac_cv_path_COPY="$COPY" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_COPY="$COPY" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_COPY="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_COPY" && ac_cv_path_COPY="$COPY"
  ;;
esac
d4770 8
a4777 3
COPY="$ac_cv_path_COPY"
if test -n "$COPY"; then
  echo "$ac_t""$COPY" 1>&6
d4779 1
a4779 2
  echo "$ac_t""no" 1>&6
fi
d4781 4
d4786 1
a4786 4
	echo $ac_n "checking for cp""... $ac_c" 1>&6
echo "configure:4295: checking for cp" >&5
	echo "$ac_t""$COPY" 1>&6
	eval 'ac_cv_path_'COPY'="'cp'"'
a4787 26
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_COPY
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

cat >> confdefs.h <<EOF
#define COPY_PATH "$cf_path_prog"
EOF
a4788 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define COPY_ARGS "$cf_path_args"
EOF
d4790 1
d4792 2
d4795 3
a4797 7
test -z "$GZIP" && GZIP=gzip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "gzip", so it can be a program name with args.
set dummy gzip; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4337: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GZIP'+set}'`\" = set"; then
d4800 1
a4800 28
  case "$GZIP" in
  /*)
  ac_cv_path_GZIP="$GZIP" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_GZIP="$GZIP" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GZIP" && ac_cv_path_GZIP="$GZIP"
  ;;
esac
fi
GZIP="$ac_cv_path_GZIP"
if test -n "$GZIP"; then
  echo "$ac_t""$GZIP" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
d4802 4
d4807 1
a4807 4
	echo $ac_n "checking for gzip""... $ac_c" 1>&6
echo "configure:4372: checking for gzip" >&5
	echo "$ac_t""$GZIP" 1>&6
	eval 'ac_cv_path_'GZIP'="'gzip'"'
a4808 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_GZIP
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
a4809 3
cat >> confdefs.h <<EOF
#define GZIP_PATH "$cf_path_prog"
EOF
d4811 1
a4811 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define GZIP_ARGS "$cf_path_args"
EOF
d4813 1
d4815 3
a4817 8

test -z "$MKDIR" && MKDIR=mkdir
if test "$with_full_paths" = yes ; then
	# Extract the first word of "mkdir", so it can be a program name with args.
set dummy mkdir; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4414: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MKDIR'+set}'`\" = set"; then
d4820 6
a4825 25
  case "$MKDIR" in
  /*)
  ac_cv_path_MKDIR="$MKDIR" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_MKDIR="$MKDIR" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_MKDIR="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MKDIR" && ac_cv_path_MKDIR="$MKDIR"
  ;;
esac
fi
MKDIR="$ac_cv_path_MKDIR"
if test -n "$MKDIR"; then
  echo "$ac_t""$MKDIR" 1>&6
d4827 1
a4827 1
  echo "$ac_t""no" 1>&6
d4830 1
a4830 5
else
	echo $ac_n "checking for mkdir""... $ac_c" 1>&6
echo "configure:4449: checking for mkdir" >&5
	echo "$ac_t""$MKDIR" 1>&6
	eval 'ac_cv_path_'MKDIR'="'mkdir'"'
d4832 8
a4839 7
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
d4841 12
a4852 2
	IFS="${IFS}:"
	;;
d4854 4
a4857 11
for cf_temp in $ac_cv_path_MKDIR
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d4859 2
a4860 2
cat >> confdefs.h <<EOF
#define MKDIR_PATH "$cf_path_prog"
d4863 2
a4864 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define MKDIR_ARGS "$cf_path_args"
d4867 3
d4871 3
d4875 3
a4877 37
test -z "$MV" && MV=mv
if test "$with_full_paths" = yes ; then
	# Extract the first word of "mv", so it can be a program name with args.
set dummy mv; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4491: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MV'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$MV" in
  /*)
  ac_cv_path_MV="$MV" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_MV="$MV" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_MV="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MV" && ac_cv_path_MV="$MV"
  ;;
esac
fi
MV="$ac_cv_path_MV"
if test -n "$MV"; then
  echo "$ac_t""$MV" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
d4879 3
a4881 28
else
	echo $ac_n "checking for mv""... $ac_c" 1>&6
echo "configure:4526: checking for mv" >&5
	echo "$ac_t""$MV" 1>&6
	eval 'ac_cv_path_'MV'="'mv'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_MV
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d4883 2
a4884 2
cat >> confdefs.h <<EOF
#define MV_PATH "$cf_path_prog"
d4887 2
a4888 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define MV_ARGS "$cf_path_args"
d4891 3
d4895 2
d4898 5
a4902 8
test -z "$RM" && RM=rm
if test "$with_full_paths" = yes ; then
	# Extract the first word of "rm", so it can be a program name with args.
set dummy rm; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4568: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_RM'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d4904 11
a4914 3
  case "$RM" in
  /*)
  ac_cv_path_RM="$RM" # Let the user override the test with a path.
d4916 8
a4923 11
  ?:/*)			 
  ac_cv_path_RM="$RM" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_RM="$ac_dir/$ac_word"
      break
d4925 3
a4927 3
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_RM" && ac_cv_path_RM="$RM"
d4930 44
a4973 4
fi
RM="$ac_cv_path_RM"
if test -n "$RM"; then
  echo "$ac_t""$RM" 1>&6
d4975 4
a4978 1
  echo "$ac_t""no" 1>&6
d4980 1
a4980 6

else
	echo $ac_n "checking for rm""... $ac_c" 1>&6
echo "configure:4603: checking for rm" >&5
	echo "$ac_t""$RM" 1>&6
	eval 'ac_cv_path_'RM'="'rm'"'
d4982 6
a4987 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_RM
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d4989 2
a4990 2
cat >> confdefs.h <<EOF
#define RM_PATH "$cf_path_prog"
d4993 2
a4994 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define RM_ARGS "$cf_path_args"
d4997 3
d5001 15
a5016 8
test -z "$TAR" && TAR=tar
if test "$with_full_paths" = yes ; then
	# Extract the first word of "tar", so it can be a program name with args.
set dummy tar; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4645: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TAR'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5018 3
a5020 28
  case "$TAR" in
  /*)
  ac_cv_path_TAR="$TAR" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TAR="$TAR" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TAR="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TAR" && ac_cv_path_TAR="$TAR"
  ;;
esac
fi
TAR="$ac_cv_path_TAR"
if test -n "$TAR"; then
  echo "$ac_t""$TAR" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
d5022 3
a5024 28
else
	echo $ac_n "checking for tar""... $ac_c" 1>&6
echo "configure:4680: checking for tar" >&5
	echo "$ac_t""$TAR" 1>&6
	eval 'ac_cv_path_'TAR'="'tar'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_TAR
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5026 2
a5027 2
cat >> confdefs.h <<EOF
#define TAR_PATH "$cf_path_prog"
d5030 2
a5031 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TAR_ARGS "$cf_path_args"
d5034 6
d5041 3
d5045 6
a5050 8
test -z "$TOUCH" && TOUCH=touch
if test "$with_full_paths" = yes ; then
	# Extract the first word of "touch", so it can be a program name with args.
set dummy touch; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4722: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TOUCH'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5052 4
a5055 21
  case "$TOUCH" in
  /*)
  ac_cv_path_TOUCH="$TOUCH" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TOUCH="$TOUCH" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TOUCH="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TOUCH" && ac_cv_path_TOUCH="$TOUCH"
  ;;
esac
d5057 7
a5063 3
TOUCH="$ac_cv_path_TOUCH"
if test -n "$TOUCH"; then
  echo "$ac_t""$TOUCH" 1>&6
d5065 6
a5070 3
  echo "$ac_t""no" 1>&6
fi

d5072 5
a5076 17
	echo $ac_n "checking for touch""... $ac_c" 1>&6
echo "configure:4757: checking for touch" >&5
	echo "$ac_t""$TOUCH" 1>&6
	eval 'ac_cv_path_'TOUCH'="'touch'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_TOUCH
d5078 26
a5103 9
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5105 1
a5105 2
cat >> confdefs.h <<EOF
#define TOUCH_PATH "$cf_path_prog"
d5107 11
d5119 5
a5123 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TOUCH_ARGS "$cf_path_args"
d5125 3
d5129 4
a5132 9


test -z "$UNCOMPRESS" && UNCOMPRESS=gunzip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "gunzip", so it can be a program name with args.
set dummy gunzip; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4799: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UNCOMPRESS'+set}'`\" = set"; then
d5135 17
a5151 25
  case "$UNCOMPRESS" in
  /*)
  ac_cv_path_UNCOMPRESS="$UNCOMPRESS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_UNCOMPRESS="$UNCOMPRESS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UNCOMPRESS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_UNCOMPRESS" && ac_cv_path_UNCOMPRESS="$UNCOMPRESS"
  ;;
esac
fi
UNCOMPRESS="$ac_cv_path_UNCOMPRESS"
if test -n "$UNCOMPRESS"; then
  echo "$ac_t""$UNCOMPRESS" 1>&6
d5153 4
a5156 1
  echo "$ac_t""no" 1>&6
d5158 2
a5160 5
else
	echo $ac_n "checking for gunzip""... $ac_c" 1>&6
echo "configure:4834: checking for gunzip" >&5
	echo "$ac_t""$UNCOMPRESS" 1>&6
	eval 'ac_cv_path_'UNCOMPRESS'="'gunzip'"'
d5162 5
a5166 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_UNCOMPRESS
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5168 2
a5169 2
cat >> confdefs.h <<EOF
#define UNCOMPRESS_PATH "$cf_path_prog"
d5172 4
a5175 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define UNCOMPRESS_ARGS "$cf_path_args"
EOF
d5177 8
a5184 9


test -z "$UNZIP" && UNZIP=unzip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "unzip", so it can be a program name with args.
set dummy unzip; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4876: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UNZIP'+set}'`\" = set"; then
d5187 17
a5203 25
  case "$UNZIP" in
  /*)
  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UNZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_UNZIP" && ac_cv_path_UNZIP="$UNZIP"
  ;;
esac
fi
UNZIP="$ac_cv_path_UNZIP"
if test -n "$UNZIP"; then
  echo "$ac_t""$UNZIP" 1>&6
d5205 4
a5208 1
  echo "$ac_t""no" 1>&6
d5210 2
a5212 5
else
	echo $ac_n "checking for unzip""... $ac_c" 1>&6
echo "configure:4911: checking for unzip" >&5
	echo "$ac_t""$UNZIP" 1>&6
	eval 'ac_cv_path_'UNZIP'="'unzip'"'
d5214 5
a5218 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_UNZIP
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5220 2
a5221 2
cat >> confdefs.h <<EOF
#define UNZIP_PATH "$cf_path_prog"
d5224 4
a5227 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define UNZIP_ARGS "$cf_path_args"
EOF
d5229 4
a5234 36
test -z "$BZIP2" && BZIP2=bzip2
if test "$with_full_paths" = yes ; then
	# Extract the first word of "bzip2", so it can be a program name with args.
set dummy bzip2; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4953: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_BZIP2'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$BZIP2" in
  /*)
  ac_cv_path_BZIP2="$BZIP2" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_BZIP2="$BZIP2" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_BZIP2="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_BZIP2" && ac_cv_path_BZIP2="$BZIP2"
  ;;
esac
fi
BZIP2="$ac_cv_path_BZIP2"
if test -n "$BZIP2"; then
  echo "$ac_t""$BZIP2" 1>&6
else
  echo "$ac_t""no" 1>&6
d5237 1
a5237 5
else
	echo $ac_n "checking for bzip2""... $ac_c" 1>&6
echo "configure:4988: checking for bzip2" >&5
	echo "$ac_t""$BZIP2" 1>&6
	eval 'ac_cv_path_'BZIP2'="'bzip2'"'
a5238 20
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_BZIP2
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
a5239 1
IFS="$cf_save_ifs"
d5241 15
a5255 3
cat >> confdefs.h <<EOF
#define BZIP2_PATH "$cf_path_prog"
EOF
d5257 3
a5259 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define BZIP2_ARGS "$cf_path_args"
d5261 11
a5272 32


test -z "$UUDECODE" && UUDECODE=uudecode
if test "$with_full_paths" = yes ; then
	# Extract the first word of "uudecode", so it can be a program name with args.
set dummy uudecode; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5030: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UUDECODE'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$UUDECODE" in
  /*)
  ac_cv_path_UUDECODE="$UUDECODE" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_UUDECODE="$UUDECODE" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UUDECODE="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_UUDECODE" && ac_cv_path_UUDECODE="$UUDECODE"
  ;;
esac
d5274 3
a5276 3
UUDECODE="$ac_cv_path_UUDECODE"
if test -n "$UUDECODE"; then
  echo "$ac_t""$UUDECODE" 1>&6
d5281 8
d5290 21
a5310 27
	echo $ac_n "checking for uudecode""... $ac_c" 1>&6
echo "configure:5065: checking for uudecode" >&5
	echo "$ac_t""$UUDECODE" 1>&6
	eval 'ac_cv_path_'UUDECODE'="'uudecode'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_UUDECODE
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5312 1
a5312 2
cat >> confdefs.h <<EOF
#define UUDECODE_PATH "$cf_path_prog"
d5314 11
d5326 5
a5330 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define UUDECODE_ARGS "$cf_path_args"
d5332 3
d5336 4
a5339 9


test -z "$ZCAT" && ZCAT=zcat
if test "$with_full_paths" = yes ; then
	# Extract the first word of "zcat", so it can be a program name with args.
set dummy zcat; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5107: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_ZCAT'+set}'`\" = set"; then
d5342 17
a5358 25
  case "$ZCAT" in
  /*)
  ac_cv_path_ZCAT="$ZCAT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_ZCAT="$ZCAT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_ZCAT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_ZCAT" && ac_cv_path_ZCAT="$ZCAT"
  ;;
esac
fi
ZCAT="$ac_cv_path_ZCAT"
if test -n "$ZCAT"; then
  echo "$ac_t""$ZCAT" 1>&6
d5360 4
a5363 1
  echo "$ac_t""no" 1>&6
d5365 2
a5367 5
else
	echo $ac_n "checking for zcat""... $ac_c" 1>&6
echo "configure:5142: checking for zcat" >&5
	echo "$ac_t""$ZCAT" 1>&6
	eval 'ac_cv_path_'ZCAT'="'zcat'"'
d5369 5
a5373 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_ZCAT
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5375 2
a5376 2
cat >> confdefs.h <<EOF
#define ZCAT_PATH "$cf_path_prog"
d5379 4
a5382 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define ZCAT_ARGS "$cf_path_args"
EOF
d5384 8
a5391 9


test -z "$ZIP" && ZIP=zip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "zip", so it can be a program name with args.
set dummy zip; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5184: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_ZIP'+set}'`\" = set"; then
d5394 17
a5410 25
  case "$ZIP" in
  /*)
  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_ZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_ZIP" && ac_cv_path_ZIP="$ZIP"
  ;;
esac
fi
ZIP="$ac_cv_path_ZIP"
if test -n "$ZIP"; then
  echo "$ac_t""$ZIP" 1>&6
d5412 4
a5415 1
  echo "$ac_t""no" 1>&6
d5417 2
a5419 5
else
	echo $ac_n "checking for zip""... $ac_c" 1>&6
echo "configure:5219: checking for zip" >&5
	echo "$ac_t""$ZIP" 1>&6
	eval 'ac_cv_path_'ZIP'="'zip'"'
d5421 5
a5425 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_ZIP
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5427 2
a5428 2
cat >> confdefs.h <<EOF
#define ZIP_PATH "$cf_path_prog"
d5431 4
a5434 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define ZIP_ARGS "$cf_path_args"
EOF
d5436 4
d5442 13
a5454 7
test -z "$TELNET" && TELNET=telnet
if test "$with_full_paths" = yes ; then
	# Extract the first word of "telnet", so it can be a program name with args.
set dummy telnet; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5261: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TELNET'+set}'`\" = set"; then
d5457 34
a5490 21
  case "$TELNET" in
  /*)
  ac_cv_path_TELNET="$TELNET" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TELNET="$TELNET" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TELNET="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TELNET" && ac_cv_path_TELNET="$TELNET"
  ;;
esac
d5492 8
a5499 3
TELNET="$ac_cv_path_TELNET"
if test -n "$TELNET"; then
  echo "$ac_t""$TELNET" 1>&6
a5501 1
fi
d5503 23
d5527 4
a5530 4
	echo $ac_n "checking for telnet""... $ac_c" 1>&6
echo "configure:5296: checking for telnet" >&5
	echo "$ac_t""$TELNET" 1>&6
	eval 'ac_cv_path_'TELNET'="'telnet'"'
d5532 2
a5533 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_TELNET
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5535 6
a5540 3
cat >> confdefs.h <<EOF
#define TELNET_PATH "$cf_path_prog"
EOF
d5542 2
a5543 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TELNET_ARGS "$cf_path_args"
d5546 2
a5547 36


test -z "$TN3270" && TN3270=tn3270
if test "$with_full_paths" = yes ; then
	# Extract the first word of "tn3270", so it can be a program name with args.
set dummy tn3270; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5338: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TN3270'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$TN3270" in
  /*)
  ac_cv_path_TN3270="$TN3270" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TN3270="$TN3270" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TN3270="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TN3270" && ac_cv_path_TN3270="$TN3270"
  ;;
esac
fi
TN3270="$ac_cv_path_TN3270"
if test -n "$TN3270"; then
  echo "$ac_t""$TN3270" 1>&6
d5550 4
d5556 1
a5556 5
else
	echo $ac_n "checking for tn3270""... $ac_c" 1>&6
echo "configure:5373: checking for tn3270" >&5
	echo "$ac_t""$TN3270" 1>&6
	eval 'ac_cv_path_'TN3270'="'tn3270'"'
d5558 4
a5561 12
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_TN3270
d5563 26
a5588 9
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d5590 1
a5590 2
cat >> confdefs.h <<EOF
#define TN3270_PATH "$cf_path_prog"
d5592 11
d5604 5
a5608 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TN3270_ARGS "$cf_path_args"
d5610 3
d5614 4
a5617 9


test -z "$RLOGIN" && RLOGIN=rlogin
if test "$with_full_paths" = yes ; then
	# Extract the first word of "rlogin", so it can be a program name with args.
set dummy rlogin; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5415: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_RLOGIN'+set}'`\" = set"; then
d5620 17
a5636 25
  case "$RLOGIN" in
  /*)
  ac_cv_path_RLOGIN="$RLOGIN" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_RLOGIN="$RLOGIN" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_RLOGIN="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_RLOGIN" && ac_cv_path_RLOGIN="$RLOGIN"
  ;;
esac
fi
RLOGIN="$ac_cv_path_RLOGIN"
if test -n "$RLOGIN"; then
  echo "$ac_t""$RLOGIN" 1>&6
d5638 4
a5641 1
  echo "$ac_t""no" 1>&6
d5643 2
a5645 5
else
	echo $ac_n "checking for rlogin""... $ac_c" 1>&6
echo "configure:5450: checking for rlogin" >&5
	echo "$ac_t""$RLOGIN" 1>&6
	eval 'ac_cv_path_'RLOGIN'="'rlogin'"'
d5647 5
a5651 32
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_RLOGIN
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

cat >> confdefs.h <<EOF
#define RLOGIN_PATH "$cf_path_prog"
EOF

test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define RLOGIN_ARGS "$cf_path_args"
EOF


a5652 2
case "$INSTALL" in
$srcdir*) # (vi
d5654 1
a5654 1
#define INSTALL_PATH "install"
d5657 2
a5658 38
	;;
*) # (vi
	cf_save_INSTALL="$INSTALL"
	
test -z "$INSTALL" && INSTALL=install
if test "$with_full_paths" = yes ; then
	# Extract the first word of "install", so it can be a program name with args.
set dummy install; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5502: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_INSTALL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$INSTALL" in
  /*)
  ac_cv_path_INSTALL="$INSTALL" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_INSTALL="$INSTALL" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_INSTALL="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_INSTALL" && ac_cv_path_INSTALL="$INSTALL"
  ;;
esac
fi
INSTALL="$ac_cv_path_INSTALL"
if test -n "$INSTALL"; then
  echo "$ac_t""$INSTALL" 1>&6
d5661 4
d5667 1
a5667 5
else
	echo $ac_n "checking for install""... $ac_c" 1>&6
echo "configure:5537: checking for install" >&5
	echo "$ac_t""$INSTALL" 1>&6
	eval 'ac_cv_path_'INSTALL'="'install'"'
a5668 20
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_INSTALL
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
a5669 1
IFS="$cf_save_ifs"
a5670 3
cat >> confdefs.h <<EOF
#define INSTALL_PATH "$cf_path_prog"
EOF
d5672 1
a5672 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define INSTALL_ARGS "$cf_path_args"
EOF
d5674 2
d5677 1
a5677 3
	INSTALL="$cf_save_INSTALL"
	;;
esac
d5679 3
a5681 4

echo $ac_n "checking if we must define _GNU_SOURCE""... $ac_c" 1>&6
echo "configure:5579: checking if we must define _GNU_SOURCE" >&5
if eval "test \"`echo '$''{'cf_cv_gnu_source'+set}'`\" = set"; then
d5686 1
a5686 1
#line 5585 "configure"
d5689 4
d5694 1
a5694 4

#ifndef _XOPEN_SOURCE
make an error
#endif
d5697 1
a5697 1
if { (eval echo configure:5595: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d5699 1
a5699 1
  cf_cv_gnu_source=no
d5704 20
a5723 4
  cf_save="$CPPFLAGS"
	 CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE"
	 cat > conftest.$ac_ext <<EOF
#line 5605 "configure"
d5726 4
d5731 1
a5731 4

#ifdef _XOPEN_SOURCE
make an error
#endif
d5734 1
a5734 1
if { (eval echo configure:5615: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d5736 1
a5736 1
  cf_cv_gnu_source=no
d5741 1
a5741 5
  cf_cv_gnu_source=yes
fi
rm -f conftest*
	CPPFLAGS="$cf_save"
	
a5743 1

d5746 14
a5759 30
echo "$ac_t""$cf_cv_gnu_source" 1>&6
test "$cf_cv_gnu_source" = yes && CPPFLAGS="$CPPFLAGS -D_GNU_SOURCE"


if test -n "$TRY_CFLAGS" ; then
	cf_save_CFLAGS="$CFLAGS"
	cf_save_CPPFLAGS="$CPPFLAGS"
	
for cf_add_cflags in $TRY_CFLAGS
do
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case "$CPPFLAGS" in
		*$cf_add_cflags)
			;;
		*)
			CPPFLAGS="$CPPFLAGS $cf_add_cflags"
			;;
		esac
		;;
	*)
		CFLAGS="$CFLAGS $cf_add_cflags"
		;;
	esac
done

	echo $ac_n "checking if we should use compile options $TRY_CFLAGS""... $ac_c" 1>&6
echo "configure:5659: checking if we should use compile options $TRY_CFLAGS" >&5
	cat > conftest.$ac_ext <<EOF
#line 5661 "configure"
d5761 5
a5765 1
#include <stdio.h>
d5767 1
a5767 1
FILE *fp = stdin
d5770 1
a5770 1
if { (eval echo configure:5668: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d5772 1
a5772 1
  cf_result=yes
d5777 1
a5777 1
  cf_result=no
d5780 4
a5783 5
	echo "$ac_t""$cf_result" 1>&6
	if test "$cf_result" = no ; then
		CFLAGS="$cf_save_CFLAGS"
		CPPFLAGS="$cf_save_CPPFLAGS"
	fi
d5786 7
a5792 16

### Look for network libraries first, since some functions (such as gethostname)
### are used in a lot of places.
echo $ac_n "checking if you want ssl library""... $ac_c" 1>&6
echo "configure:5689: checking if you want ssl library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libssl'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  

# Check whether --with-ssl or --without-ssl was given.
if test "${with_ssl+set}" = set; then
  withval="$with_ssl"
  cf_cv_use_libssl=$withval
else
  cf_cv_use_libssl=no
d5795 11
a5805 8

fi

echo "$ac_t""$cf_cv_use_libssl" 1>&6

echo $ac_n "checking if you want socks library""... $ac_c" 1>&6
echo "configure:5709: checking if you want socks library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libsocks'+set}'`\" = set"; then
d5808 9
a5816 1
  
d5818 7
a5824 4
# Check whether --with-socks or --without-socks was given.
if test "${with_socks+set}" = set; then
  withval="$with_socks"
  cf_cv_use_libsocks=$withval
d5826 4
a5829 1
  cf_cv_use_libsocks=no
d5831 2
a5832 1

d5835 7
d5843 1
a5843 1
echo "$ac_t""$cf_cv_use_libsocks" 1>&6
a5844 4
echo $ac_n "checking if you want socks5 library""... $ac_c" 1>&6
echo "configure:5729: checking if you want socks5 library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libsocks5'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d5846 1
a5846 9
  

# Check whether --with-socks5 or --without-socks5 was given.
if test "${with_socks5+set}" = set; then
  withval="$with_socks5"
  cf_cv_use_libsocks5=$withval
else
  cf_cv_use_libsocks5=no
fi
d5848 2
d5851 6
a5858 6
echo "$ac_t""$cf_cv_use_libsocks5" 1>&6

if test "x$cf_cv_use_libsocks" != xno ; then
	
case "$cf_cv_use_libsocks" in #(vi
no|yes) #(vi
d5861 4
a5864 4
  if test -d $cf_cv_use_libsocks ; then
    if test -d $cf_cv_use_libsocks/include ; then
      CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks/include"
      LIBS="$LIBS -L$cf_cv_use_libsocks/lib"
d5866 2
a5867 2
      LIBS="$LIBS -L$cf_cv_use_libsocks"
      test -d $cf_cv_use_libsocks/../include && CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks/../include"
d5870 1
a5870 1
    echo "configure: warning: expected a directory: $cf_cv_use_libsocks" 1>&2
d5874 1
a5874 36
LIBS="$LIBS -lsocks"
cat >> confdefs.h <<\EOF
#define SOCKS 1
EOF

cat >> confdefs.h <<\EOF
#define accept Raccept
EOF

cat >> confdefs.h <<\EOF
#define bind Rbind
EOF

cat >> confdefs.h <<\EOF
#define connect Rconnect
EOF

cat >> confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF

cat >> confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF

cat >> confdefs.h <<\EOF
#define listen Rlisten
EOF

cat >> confdefs.h <<\EOF
#define recvfrom Rrecvfrom
EOF

cat >> confdefs.h <<\EOF
#define select Rselect
EOF
d5876 2
d5879 1
a5879 1
#line 5805 "configure"
d5883 1
d5885 1
a5885 2

	accept((char *)0)
d5888 3
a5890 2
if { (eval echo configure:5814: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  :
d5895 1
a5895 1
  { echo "configure: error: Cannot link with socks library" 1>&2; exit 1; }
d5898 3
a5900 23

elif test "x$cf_cv_use_libsocks5" != xno ; then
	
case "$cf_cv_use_libsocks5" in #(vi
no|yes) #(vi
  ;;
*)
  if test -d $cf_cv_use_libsocks5 ; then
    if test -d $cf_cv_use_libsocks5/include ; then
      CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks5/include"
      LIBS="$LIBS -L$cf_cv_use_libsocks5/lib"
    else
      LIBS="$LIBS -L$cf_cv_use_libsocks5"
      test -d $cf_cv_use_libsocks5/../include && CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libsocks5/../include"
    fi
  else
    echo "configure: warning: expected a directory: $cf_cv_use_libsocks5" 1>&2
  fi
  ;;
esac
LIBS="$LIBS -lsocks5"
cat >> confdefs.h <<\EOF
#define USE_SOCKS5 1
a5902 3
cat >> confdefs.h <<\EOF
#define SOCKS 1
EOF
d5904 2
a5905 3
echo $ac_n "checking if the socks library uses socks4 prefix""... $ac_c" 1>&6
echo "configure:5853: checking if the socks library uses socks4 prefix" >&5
cf_use_socks4=error
d5907 1
a5907 1
#line 5856 "configure"
d5910 7
a5916 1
#include <socks.h>
d5918 1
a5918 2

	Rinit((char *)0)
d5921 1
a5921 1
if { (eval echo configure:5865: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5923 1
a5923 5
  cat >> confdefs.h <<\EOF
#define USE_SOCKS4_PREFIX 1
EOF

	 cf_use_socks4=yes
d5928 34
a5961 2
  cat > conftest.$ac_ext <<EOF
#line 5877 "configure"
d5963 5
a5967 1
#include <socks.h>
d5969 1
a5969 1
SOCKSinit((char *)0)
d5972 1
a5972 1
if { (eval echo configure:5884: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d5974 1
a5974 1
  cf_use_socks4=no
d5979 1
a5979 1
  { echo "configure: error: Cannot link with socks5 library" 1>&2; exit 1; }
d5982 2
d5985 6
a5990 25
rm -f conftest*
echo "$ac_t""$cf_use_socks4" 1>&6
if test "$cf_use_socks4" = "yes" ; then
	cat >> confdefs.h <<\EOF
#define accept Raccept
EOF

	cat >> confdefs.h <<\EOF
#define bind Rbind
EOF

	cat >> confdefs.h <<\EOF
#define connect Rconnect
EOF

	cat >> confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF

	cat >> confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF

	cat >> confdefs.h <<\EOF
#define listen Rlisten
d5993 1
a5993 7
	cat >> confdefs.h <<\EOF
#define recvfrom Rrecvfrom
EOF

	cat >> confdefs.h <<\EOF
#define select Rselect
EOF
d5996 1
a5996 3
	cat >> confdefs.h <<\EOF
#define accept SOCKSaccept
EOF
d5998 2
a5999 3
	cat >> confdefs.h <<\EOF
#define getpeername SOCKSgetpeername
EOF
d6001 7
a6007 3
	cat >> confdefs.h <<\EOF
#define getsockname SOCKSgetsockname
EOF
d6009 16
a6024 3
	cat >> confdefs.h <<\EOF
#define recvfrom SOCKSrecvfrom
EOF
d6026 2
a6027 3
fi
echo $ac_n "checking if socks5p.h is available""... $ac_c" 1>&6
echo "configure:5949: checking if socks5p.h is available" >&5
d6029 1
a6029 1
#line 5951 "configure"
d6032 2
a6033 2
#define INCLUDE_PROTOTYPES
#include <socks.h>
d6035 1
a6035 2

	init((char *)0)
d6038 1
a6038 1
if { (eval echo configure:5961: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d6040 1
a6040 1
  cf_use_socks5p_h=yes
d6045 1
a6045 1
  cf_use_socks5p_h=no
d6048 3
a6050 3
echo "$ac_t""$cf_use_socks5p_h" 1>&6
test "$cf_use_socks5p_h" = yes && cat >> confdefs.h <<\EOF
#define INCLUDE_PROTOTYPES 1
d6054 4
a6057 21
else
	
cf_test_netlibs=no
echo $ac_n "checking for network libraries""... $ac_c" 1>&6
echo "configure:5981: checking for network libraries" >&5
if eval "test \"`echo '$''{'cf_cv_netlibs'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
echo "$ac_t""working..." 1>&6
cf_cv_netlibs=""
cf_test_netlibs=yes
for ac_func in gethostname
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5992: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5997 "configure"
a6058 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
d6060 3
a6062 7
int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
d6064 1
a6064 1
$ac_func();
d6067 2
d6071 1
a6071 1
if { (eval echo configure:6020: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6073 1
a6073 1
  eval "ac_cv_func_$ac_func=yes"
d6078 1
a6078 1
  eval "ac_cv_func_$ac_func=no"
d6081 5
a6085 1
fi
a6086 7
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
d6088 2
a6089 1
  echo "$ac_t""no" 1>&6
d6091 2
a6092 8
echo $ac_n "checking for gethostname in -lnsl""... $ac_c" 1>&6
echo "configure:6043: checking for gethostname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lnsl $cf_cv_netlibs $LIBS"
d6094 1
a6094 1
#line 6051 "configure"
d6096 7
a6102 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();
d6105 2
a6106 1
gethostname()
d6109 1
a6109 1
if { (eval echo configure:6062: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6111 1
a6111 1
  eval "ac_cv_lib_$ac_lib_var=yes"
a6114 2
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
d6117 5
a6121 1
LIBS="$ac_save_LIBS"
a6123 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d6125 1
a6125 3
	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d6127 3
a6129 13
	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
else
  echo "$ac_t""no" 1>&6

	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
	
		
echo $ac_n "checking for gethostname in -lsocket""... $ac_c" 1>&6
echo "configure:6095: checking for gethostname in -lsocket" >&5
ac_lib_var=`echo socket'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d6132 1
a6132 9
  ac_save_LIBS="$LIBS"
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6103 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();
d6134 11
a6144 7
int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:6114: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
d6146 1
a6146 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
a6147 2
rm -f conftest*
LIBS="$ac_save_LIBS"
d6150 5
a6154 3
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
a6155 1
cf_tr_func=`echo "gethostname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d6157 26
a6182 3
	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF
d6184 1
a6184 2
	ac_cv_func_gethostname=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
d6186 1
a6186 5
  echo "$ac_t""no" 1>&6

	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
	
d6190 2
a6191 1
fi
d6193 22
a6216 1
done
d6218 6
a6223 8
#
# FIXME:  sequent needs this library (i.e., -lsocket -linet -lnsl), but
# I don't know the entrypoints - 97/7/22 TD
# AC_HAVE_LIBRARY(inet,cf_cv_netlibs="-linet $cf_cv_netlibs")
echo $ac_n "checking for main in -linet""... $ac_c" 1>&6
echo "configure:6159: checking for main in -linet" >&5
ac_lib_var=`echo inet'_'main | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d6226 8
a6233 2
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
d6235 1
a6235 1
#line 6167 "configure"
d6237 1
a6237 1

d6239 1
a6239 1
main()
d6242 36
a6277 1
if { (eval echo configure:6174: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6279 1
a6279 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d6281 1
d6285 1
a6285 1
  eval "ac_cv_lib_$ac_lib_var=no"
a6287 2
LIBS="$ac_save_LIBS"

d6289 1
a6289 1
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
d6291 5
a6295 1
  cf_cv_netlibs="-linet $cf_cv_netlibs"
d6299 1
d6301 6
a6306 7
#
if test "$ac_cv_func_lsocket" != no ; then
for ac_func in socket
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:6199: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d6309 30
d6340 1
a6340 1
#line 6204 "configure"
a6341 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
d6343 11
a6353 7
int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
d6355 5
a6359 1
$ac_func();
d6361 15
d6377 18
d6397 1
a6397 1
if { (eval echo configure:6227: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6399 1
a6399 1
  eval "ac_cv_func_$ac_func=yes"
d6404 1
a6404 1
  eval "ac_cv_func_$ac_func=no"
d6407 1
a6407 1
fi
d6409 6
a6414 13
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6

echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
echo "configure:6250: checking for socket in -lsocket" >&5
ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
d6419 1
a6419 1
LIBS="-lsocket $cf_cv_netlibs $LIBS"
d6421 1
a6421 1
#line 6258 "configure"
d6426 1
a6426 1
char socket();
d6429 1
a6429 1
socket()
d6432 1
a6432 1
if { (eval echo configure:6269: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6447 1
a6447 10
  
	
cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_socket=yes
	if test "$cf_used_lib_socket" != yes ; then cf_used_lib_socket=yes; cf_cv_netlibs="-lsocket $cf_cv_netlibs"; fi
d6450 1
d6452 5
a6456 7
	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
	
		
echo $ac_n "checking for socket in -lbsd""... $ac_c" 1>&6
echo "configure:6302: checking for socket in -lbsd" >&5
ac_lib_var=`echo bsd'_'socket | sed 'y%./+-%__p_%'`
d6461 1
a6461 1
LIBS="-lbsd $cf_cv_netlibs $LIBS"
d6463 1
a6463 1
#line 6310 "configure"
d6468 1
a6468 1
char socket();
d6471 1
a6471 1
socket()
d6474 1
a6474 1
if { (eval echo configure:6321: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6490 5
a6494 2
	
cf_tr_func=`echo "socket" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d6496 3
a6498 79
	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_socket=yes
	if test "$cf_used_lib_bsd" != yes ; then cf_used_lib_bsd=yes; cf_cv_netlibs="-lbsd $cf_cv_netlibs"; fi
else
  echo "$ac_t""no" 1>&6

	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
	
fi


fi


fi
done

fi
#
for ac_func in gethostbyname
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:6366: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 6371 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:6394: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6

echo $ac_n "checking for gethostbyname in -lnsl""... $ac_c" 1>&6
echo "configure:6417: checking for gethostbyname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`
d6503 1
a6503 1
LIBS="-lnsl $cf_cv_netlibs $LIBS"
d6505 1
a6505 1
#line 6425 "configure"
d6510 1
a6510 1
char gethostbyname();
d6513 1
a6513 1
gethostbyname()
d6516 1
a6516 1
if { (eval echo configure:6436: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6532 5
a6536 9
	
cf_tr_func=`echo "gethostbyname" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_gethostbyname=yes
	if test "$cf_used_lib_nsl" != yes ; then cf_used_lib_nsl=yes; cf_cv_netlibs="-lnsl $cf_cv_netlibs"; fi
d6539 1
a6540 3
	ac_cv_func_gethostbyname=unknown
	unset ac_cv_func_gethostbyname 2>/dev/null
	
d6543 15
d6559 6
a6564 2
fi
done
d6566 5
a6570 6
#
for ac_func in strcasecmp
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:6477: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d6574 1
a6574 1
#line 6482 "configure"
d6577 1
a6577 1
    which can conflict with char $ac_func(); below.  */
d6582 1
a6582 1
char $ac_func();
d6589 1
a6589 1
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
d6592 1
a6592 1
$ac_func();
d6597 1
a6597 1
if { (eval echo configure:6505: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6599 1
a6599 1
  eval "ac_cv_func_$ac_func=yes"
d6604 1
a6604 1
  eval "ac_cv_func_$ac_func=no"
d6609 1
a6609 1
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
d6611 1
a6611 5
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
d6615 5
a6619 3
echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
echo "configure:6528: checking for strcasecmp in -lresolv" >&5
ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
d6624 1
a6624 1
LIBS="-lresolv $cf_cv_netlibs $LIBS"
d6626 1
a6626 1
#line 6536 "configure"
d6631 1
a6631 1
char strcasecmp();
d6634 1
a6634 1
strcasecmp()
d6637 1
a6637 1
if { (eval echo configure:6547: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6652 1
a6652 10
  
	
cf_tr_func=`echo "strcasecmp" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_strcasecmp=yes
	if test "$cf_used_lib_resolv" != yes ; then cf_used_lib_resolv=yes; cf_cv_netlibs="-lresolv $cf_cv_netlibs"; fi
d6655 1
d6657 1
a6657 2
	ac_cv_func_strcasecmp=unknown
	unset ac_cv_func_strcasecmp 2>/dev/null
d6662 8
a6669 14
fi
done


fi

LIBS="$LIBS $cf_cv_netlibs"
test $cf_test_netlibs = no && echo "$cf_cv_netlibs" >&6

fi

echo $ac_n "checking for inet_aton function""... $ac_c" 1>&6
echo "configure:6593: checking for inet_aton function" >&5
if eval "test \"`echo '$''{'cf_cv_have_inet_aton'+set}'`\" = set"; then
d6672 2
a6673 1
  
d6675 1
a6675 1
#line 6599 "configure"
d6677 4
a6680 4
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d6683 1
a6683 1
inet_aton(0, (struct in_addr *)0)
d6686 1
a6686 1
if { (eval echo configure:6610: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6688 1
a6688 1
  cf_cv_have_inet_aton=yes
d6693 1
a6693 1
  cf_cv_have_inet_aton=no
d6696 8
d6706 2
a6707 5
echo "$ac_t""$cf_cv_have_inet_aton" 1>&6
if test "$cf_cv_have_inet_aton" = yes ; then
    cat >> confdefs.h <<\EOF
#define HAVE_INET_ATON 1
EOF
d6709 6
a6714 9
else
    echo $ac_n "checking for inet_addr function""... $ac_c" 1>&6
echo "configure:6630: checking for inet_addr function" >&5
if eval "test \"`echo '$''{'cf_cv_have_inet_addr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 6636 "configure"
d6716 1
a6716 5
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
    
d6718 1
a6718 1
inet_addr(0)
d6721 1
a6721 1
if { (eval echo configure:6647: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6723 1
a6723 1
  cf_cv_have_inet_addr=yes
d6728 1
a6728 1
  cf_cv_have_inet_addr=no
d6731 18
a6748 8
fi

echo "$ac_t""$cf_cv_have_inet_addr" 1>&6
    if test "$cf_cv_have_inet_addr" = no ; then
	echo $ac_n "checking for library with inet_addr""... $ac_c" 1>&6
echo "configure:6662: checking for library with inet_addr" >&5
if eval "test \"`echo '$''{'cf_cv_lib_inet_addr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d6750 3
d6754 3
a6756 6
	    cf_save_LIBS="$LIBS"
	    for cf_inetlib in -lbind -lresolv
	    do
		LIBS="$cf_save_LIBS $cf_inetlib"
		cat > conftest.$ac_ext <<EOF
#line 6672 "configure"
d6758 1
a6758 5
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
		
d6760 1
a6760 1
inet_addr(0)
d6763 1
a6763 1
if { (eval echo configure:6683: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6765 1
a6765 1
  cf_cv_lib_inet_addr=$cf_inetlib
d6770 1
a6770 1
  cf_cv_lib_inet_addr=no
d6773 1
a6773 4
		LIBS="$cf_save_LIBS"
		test "$cf_cv_lib_inet_addr" != no && break
	    done
	
d6775 2
a6776 6

echo "$ac_t""$cf_cv_lib_inet_addr" 1>&6
	if test "$cf_cv_lib_inet_addr" != no ; then
	    LIBS="$LIBS $cf_cv_lib_inet_addr"
	else
	    echo "configure: warning: Unable to find library for inet_addr function" 1>&2
d6778 1
a6778 1
    fi
d6781 1
a6781 1
if test "x$cf_cv_use_libssl"  != xno ; then
d6783 3
a6785 9
cf_ssl_library="-lssl -lcrypto"
case "$cf_cv_use_libssl" in #(vi
no) #(vi
  ;;
yes) #(vi
  echo $ac_n "checking for SSL_get_version in -lssl""... $ac_c" 1>&6
echo "configure:6716: checking for SSL_get_version in -lssl" >&5
ac_lib_var=`echo ssl'_'SSL_get_version | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d6788 22
a6809 4
  ac_save_LIBS="$LIBS"
LIBS="-lssl -lcrypto $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6724 "configure"
a6810 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char SSL_get_version();
d6812 2
d6815 7
a6821 1
SSL_get_version()
d6824 1
a6824 1
if { (eval echo configure:6735: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6826 6
a6831 1
  eval "ac_cv_lib_$ac_lib_var=yes"
a6834 2
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
d6837 1
a6837 1
LIBS="$ac_save_LIBS"
d6839 3
a6841 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo ssl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
a6843 1
  LIBS="-lssl $LIBS"
d6845 5
d6851 3
a6853 34
  echo "$ac_t""no" 1>&6

  	if test -d /usr/local/ssl ; then
		test -n "$verbose" && echo "	assume it is in /usr/local/ssl" 1>&6

		cf_ssl_library="-L/usr/local/ssl/lib $cf_ssl_library"
		CPPFLAGS="-I/usr/local/ssl/include $CPPFLAGS"
	else
		{ echo "configure: error: cannot find ssl library" 1>&2; exit 1; }
	fi
	
fi

  ;;
*)
  if test -d $cf_cv_use_libssl ; then
    if test -d $cf_cv_use_libssl/include ; then
      CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libssl/include"
      cf_ssl_library="-L$cf_cv_use_libssl/lib $cf_ssl_library"
    else
      cf_ssl_library="-L$cf_cv_use_libssl $cf_ssl_library"
      test -d $cf_cv_use_libssl/../include && CPPFLAGS="$CPPFLAGS -I$cf_cv_use_libssl/../include"
    fi
  else
    echo "configure: warning: expected a directory: $cf_cv_use_libssl" 1>&2
  fi
  ;;
esac
LIBS="$cf_ssl_library $LIBS"

echo $ac_n "checking for openssl include directory""... $ac_c" 1>&6
echo "configure:6790: checking for openssl include directory" >&5
cat > conftest.$ac_ext <<EOF
#line 6792 "configure"
d6856 1
a6856 2
#include <stdio.h>
#include <openssl/ssl.h>
d6858 1
a6858 1
SSL_shutdown((SSL *)0)
d6861 1
a6861 1
if { (eval echo configure:6801: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d6863 1
a6863 1
  cf_openssl_incl=yes
d6868 2
a6869 13
  cf_openssl_incl=no
fi
rm -f conftest*
echo "$ac_t""$cf_openssl_incl" 1>&6
test "$cf_openssl_incl" = yes && cat >> confdefs.h <<\EOF
#define USE_OPENSSL_INCL 1
EOF


echo $ac_n "checking if we can link to ssl library""... $ac_c" 1>&6
echo "configure:6818: checking if we can link to ssl library" >&5
cat > conftest.$ac_ext <<EOF
#line 6820 "configure"
d6872 1
a6872 7
#include <stdio.h>
#ifdef USE_OPENSSL_INCL
#include <openssl/ssl.h>
#else
#include <ssl.h>
#endif

d6874 1
a6874 1
SSL_shutdown((SSL *)0)
d6877 1
a6877 1
if { (eval echo configure:6834: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d6879 1
a6879 1
  cf_ssl_library=yes
d6884 3
a6886 1
  cf_ssl_library=no
d6889 11
a6899 2
echo "$ac_t""$cf_ssl_library" 1>&6
if test "$cf_ssl_library" = yes ; then
d6901 1
a6901 1
#define USE_SSL 1
d6904 8
a6911 3
else
	{ echo "configure: error: Cannot link with ssl library" 1>&2; exit 1; }
fi
d6913 3
a6915 1
fi
d6917 3
a6919 3
echo $ac_n "checking for screen type""... $ac_c" 1>&6
echo "configure:6857: checking for screen type" >&5
if eval "test \"`echo '$''{'cf_cv_screen'+set}'`\" = set"; then
d6923 8
a6931 14
# Check whether --with-screen or --without-screen was given.
if test "${with_screen+set}" = set; then
  withval="$with_screen"
  
case $withval in
curses|ncurses|pdcurses|slang)
	cf_cv_screen=$withval
	;;
*)	{ echo "configure: error: Unexpected value" 1>&2; exit 1; }
	;;
esac
else
  cf_cv_screen=curses
fi
d6933 2
a6934 1
fi
d6936 1
a6936 1
echo "$ac_t""$cf_cv_screen" 1>&6
d6938 15
a6952 15
case $cf_cv_screen in
ncurses|slang)
	;;
pdcurses)
	cf_cv_ncurses_header=xcurses.h
	;;
curses)
	if eval "test \"`echo '$''{'cf_cv_ncurses_header'+set}'`\" != set"; then
		cf_cv_ncurses_header=curses.h
	fi
	;;
esac

case $cf_cv_screen in
curses)
d6954 7
d6962 2
a6963 18
echo $ac_n "checking for extra include directories""... $ac_c" 1>&6
echo "configure:6900: checking for extra include directories" >&5
if eval "test \"`echo '$''{'cf_cv_curses_incdir'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cf_cv_curses_incdir=no
case $host_os in #(vi
hpux10.*|hpux11.*) #(vi
	test -d /usr/include/curses_colr && \
	cf_cv_curses_incdir="-I/usr/include/curses_colr"
	;;
sunos3*|sunos4*)
	test -d /usr/5lib && \
	test -d /usr/5include && \
	cf_cv_curses_incdir="-I/usr/5include"
	;;
esac
d6967 1
a6967 2
echo "$ac_t""$cf_cv_curses_incdir" 1>&6
test "$cf_cv_curses_incdir" != no && CPPFLAGS="$CPPFLAGS $cf_cv_curses_incdir"
d6969 6
a6974 3
echo $ac_n "checking if we have identified curses headers""... $ac_c" 1>&6
echo "configure:6924: checking if we have identified curses headers" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_header'+set}'`\" = set"; then
d6978 78
a7055 6
cf_cv_ncurses_header=curses.h
for cf_header in \
	curses.h \
	ncurses.h \
	ncurses/curses.h \
	ncurses/ncurses.h
d7057 12
a7068 2
cat > conftest.$ac_ext <<EOF
#line 6937 "configure"
d7070 1
a7070 1
#include <${cf_header}>
d7072 1
a7072 1
initscr(); tgoto("?", 0,0)
d7075 2
a7076 3
if { (eval echo configure:6944: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_ncurses_header=$cf_header; break
d7080 2
d7084 10
d7096 12
a7107 1
fi
d7109 1
a7109 1
echo "$ac_t""$cf_cv_ncurses_header" 1>&6
d7111 11
a7121 13
# cheat, to get the right #define's for HAVE_NCURSES_H, etc.
for ac_hdr in $cf_cv_ncurses_header
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:6963: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 6968 "configure"
#include "confdefs.h"
#include <$ac_hdr>
d7123 1
a7123 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:6973: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d7125 2
a7126 1
  eval "ac_cv_header_$ac_safe=yes"
a7127 1
  echo "$ac_err" >&5
d7131 1
a7131 1
  eval "ac_cv_header_$ac_safe=no"
d7134 13
d7148 28
a7175 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d7177 2
a7178 1
 
d7180 4
a7183 1
  echo "$ac_t""no" 1>&6
d7185 11
d7199 31
a7230 1
	
d7232 1
a7232 1
echo "configure:7003: checking for ncurses version" >&5
d7258 1
a7258 1
	{ (eval echo configure:7029: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d7260 1
a7260 1
		cf_out=`cat conftest.out | sed -e 's@@^Autoconf @@@@' -e 's@@^[^"]*"@@@@' -e 's@@".*@@@@'`
d7267 1
a7267 1
#line 7038 "configure"
d7291 1
a7291 1
if { (eval echo configure:7062: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d7312 1
d7315 14
a7328 2
echo $ac_n "checking if we have identified curses libraries""... $ac_c" 1>&6
echo "configure:7086: checking if we have identified curses libraries" >&5
d7330 1
a7330 1
#line 7088 "configure"
d7332 5
a7336 1
#include <${cf_cv_ncurses_header-curses.h}>
d7338 1
a7338 36
initscr(); tgoto("?", 0,0)
; return 0; }
EOF
if { (eval echo configure:7095: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_result=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
echo "$ac_t""$cf_result" 1>&6

if test "$cf_result" = no ; then
case $host_os in #(vi
freebsd*) #(vi
	echo $ac_n "checking for tgoto in -lmytinfo""... $ac_c" 1>&6
echo "configure:7111: checking for tgoto in -lmytinfo" >&5
ac_lib_var=`echo mytinfo'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lmytinfo  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7119 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
tgoto()
d7341 1
a7341 1
if { (eval echo configure:7130: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7356 3
a7358 10
  LIBS="-lmytinfo $LIBS"
else
  echo "$ac_t""no" 1>&6
fi

	;;
hpux10.*|hpux11.*) #(vi
	echo $ac_n "checking for initscr in -lcur_colr""... $ac_c" 1>&6
echo "configure:7153: checking for initscr in -lcur_colr" >&5
ac_lib_var=`echo cur_colr'_'initscr | sed 'y%./+-%__p_%'`
d7363 1
a7363 1
LIBS="-lcur_colr  $LIBS"
d7365 1
a7365 1
#line 7161 "configure"
d7376 1
a7376 1
if { (eval echo configure:7172: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7391 6
a7396 4
  
		LIBS="-lcur_colr $LIBS"
		ac_cv_func_initscr=yes
		
d7399 2
d7402 7
a7408 3
	echo $ac_n "checking for initscr in -lHcurses""... $ac_c" 1>&6
echo "configure:7195: checking for initscr in -lHcurses" >&5
ac_lib_var=`echo Hcurses'_'initscr | sed 'y%./+-%__p_%'`
d7413 1
a7413 1
LIBS="-lHcurses  $LIBS"
d7415 1
a7415 1
#line 7203 "configure"
d7420 1
a7420 1
char initscr();
d7423 1
a7423 1
initscr()
d7426 1
a7426 1
if { (eval echo configure:7214: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7441 1
a7441 6
  
		# HP's header uses __HP_CURSES, but user claims _HP_CURSES.
		LIBS="-lHcurses $LIBS"
		CPPFLAGS="-D__HP_CURSES -D_HP_CURSES $CPPFLAGS"
		ac_cv_func_initscr=yes
		
a7445 10
fi

	;;
linux*) # Suse Linux does not follow /usr/lib convention
	LIBS="$LIBS -L/lib"
	;;
sunos3*|sunos4*)
	test -d /usr/5lib && \
	LIBS="$LIBS -L/usr/5lib -lcurses -ltermcap"
	ac_cv_func_initscr=yes
d7449 1
a7449 4
if test ".$ac_cv_func_initscr" != .yes ; then
	cf_save_LIBS="$LIBS"
	cf_term_lib=""
	cf_curs_lib=""
d7451 10
a7460 12
	if test ".${cf_cv_ncurses_version-no}" != .no
	then
		cf_check_list="ncurses curses cursesX"
	else
		cf_check_list="cursesX curses ncurses"
	fi

	# Check for library containing tgoto.  Do this before curses library
	# because it may be needed to link the test-case for initscr.
	echo $ac_n "checking for tgoto""... $ac_c" 1>&6
echo "configure:7267: checking for tgoto" >&5
if eval "test \"`echo '$''{'ac_cv_func_tgoto'+set}'`\" = set"; then
d7464 1
a7464 1
#line 7272 "configure"
d7467 1
a7467 1
    which can conflict with char tgoto(); below.  */
d7472 1
a7472 1
char tgoto();
d7479 1
a7479 1
#if defined (__stub_tgoto) || defined (__stub___tgoto)
d7482 1
a7482 1
tgoto();
d7487 1
a7487 1
if { (eval echo configure:7295: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7489 1
a7489 1
  eval "ac_cv_func_tgoto=yes"
d7494 1
a7494 1
  eval "ac_cv_func_tgoto=no"
d7499 1
a7499 1
if eval "test \"`echo '$ac_cv_func_'tgoto`\" = yes"; then
d7501 1
a7501 1
  cf_term_lib=predefined
d7505 6
a7510 12
		for cf_term_lib in $cf_check_list termcap termlib unknown
		do
			echo $ac_n "checking for tgoto in -l$cf_term_lib""... $ac_c" 1>&6
echo "configure:7316: checking for tgoto in -l$cf_term_lib" >&5
ac_lib_var=`echo $cf_term_lib'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-l$cf_term_lib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7324 "configure"
d7512 1
a7512 5
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();

d7514 1
a7514 1
tgoto()
d7517 1
a7517 1
if { (eval echo configure:7335: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7519 3
a7521 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d7526 27
a7552 4
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d7554 9
a7562 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  break
else
  echo "$ac_t""no" 1>&6
fi
d7564 9
a7572 3
		done
	
fi
d7574 8
d7583 7
a7589 14
	# Check for library containing initscr
	test "$cf_term_lib" != predefined && test "$cf_term_lib" != unknown && LIBS="-l$cf_term_lib $cf_save_LIBS"
	for cf_curs_lib in $cf_check_list xcurses jcurses unknown
	do
		echo $ac_n "checking for initscr in -l$cf_curs_lib""... $ac_c" 1>&6
echo "configure:7365: checking for initscr in -l$cf_curs_lib" >&5
ac_lib_var=`echo $cf_curs_lib'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-l$cf_curs_lib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7373 "configure"
d7591 1
a7591 5
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char initscr();

d7596 1
a7596 1
if { (eval echo configure:7384: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7598 3
a7600 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d7605 6
a7610 1
  eval "ac_cv_lib_$ac_lib_var=no"
d7613 4
a7616 1
LIBS="$ac_save_LIBS"
d7618 2
d7621 2
a7622 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  break
else
  echo "$ac_t""no" 1>&6
d7625 9
d7635 2
a7636 8
	test $cf_curs_lib = unknown && { echo "configure: error: no curses library found" 1>&2; exit 1; }

	LIBS="-l$cf_curs_lib $cf_save_LIBS"
	if test "$cf_term_lib" = unknown ; then
		echo $ac_n "checking if we can link with $cf_curs_lib library""... $ac_c" 1>&6
echo "configure:7410: checking if we can link with $cf_curs_lib library" >&5
		cat > conftest.$ac_ext <<EOF
#line 7412 "configure"
d7640 1
a7640 1
initscr()
d7643 1
a7643 1
if { (eval echo configure:7419: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7645 1
a7645 1
  cf_result=yes
d7650 2
a7651 1
  cf_result=no
d7654 21
a7674 22
		echo "$ac_t""$cf_result" 1>&6
		test $cf_result = no && { echo "configure: error: Cannot link curses library" 1>&2; exit 1; }
	elif test "$cf_curs_lib" = "$cf_term_lib" ; then
		:
	elif test "$cf_term_lib" != predefined ; then
		echo $ac_n "checking if we need both $cf_curs_lib and $cf_term_lib libraries""... $ac_c" 1>&6
echo "configure:7435: checking if we need both $cf_curs_lib and $cf_term_lib libraries" >&5
		cat > conftest.$ac_ext <<EOF
#line 7437 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int main() {
initscr(); tgoto((char *)0, 0, 0);
; return 0; }
EOF
if { (eval echo configure:7444: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_result=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
d7676 4
a7679 4
			LIBS="-l$cf_curs_lib -l$cf_term_lib $cf_save_LIBS"
			cat > conftest.$ac_ext <<EOF
#line 7454 "configure"
#include "confdefs.h"
d7681 9
a7689 3
int main() {
initscr()
; return 0; }
d7691 6
a7696 14
if { (eval echo configure:7461: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_result=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=error
fi
rm -f conftest*
			
fi
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
a7697 2
fi
fi
a7698 6

	
echo $ac_n "checking for curses performance tradeoff""... $ac_c" 1>&6
echo "configure:7482: checking for curses performance tradeoff" >&5
if eval "test \"`echo '$''{'cf_cv_curs_performance'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d7700 2
a7701 4
  
    cf_cv_curs_performance=no
    cat > conftest.$ac_ext <<EOF
#line 7489 "configure"
d7705 10
a7714 4
int main() {

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ERR;
d7716 5
a7720 1
	int x = ;	/* force an error */
d7722 2
a7723 2
	
; return 0; }
d7725 2
a7726 2
if { (eval echo configure:7503: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d7728 1
a7728 19
	cat > conftest.$ac_ext <<EOF
#line 7507 "configure"
#include "confdefs.h"

#define CURS_PERFORMANCE
#include <${cf_cv_ncurses_header-curses.h}>
int main() {

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ;	/* force an error */
#else
	int x = ERR;
#endif
	
; return 0; }
EOF
if { (eval echo configure:7522: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_curs_performance=yes
d7733 1
a7733 4
rm -f conftest*
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d7735 3
a7737 1
rm -f conftest*
d7740 3
a7742 3
echo "$ac_t""$cf_cv_curs_performance" 1>&6
test $cf_cv_curs_performance = yes && cat >> confdefs.h <<\EOF
#define CURS_PERFORMANCE 1
d7746 2
d7749 3
a7751 3
echo $ac_n "checking for curses touchline function""... $ac_c" 1>&6
echo "configure:7545: checking for curses touchline function" >&5
if eval "test \"`echo '$''{'cf_cv_curs_touchline'+set}'`\" = set"; then
d7755 1
d7757 1
a7757 1
#line 7551 "configure"
d7760 1
a7760 1
#include <${cf_cv_ncurses_header-curses.h}>
d7762 1
a7762 1
touchline(stdscr, 1,2,3);
d7765 1
a7765 1
if { (eval echo configure:7559: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7767 1
a7767 1
  cf_cv_curs_touchline=bsd
d7772 3
a7774 2
  cat > conftest.$ac_ext <<EOF
#line 7567 "configure"
d7777 1
a7777 1
#include <${cf_cv_ncurses_header-curses.h}>
d7779 1
a7779 1
touchline(stdscr, 1,2);
d7782 1
a7782 1
if { (eval echo configure:7575: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d7784 1
a7784 1
  cf_cv_curs_touchline=sysv
d7789 1
a7789 1
  cf_cv_curs_touchline=bsd
d7792 2
d7798 1
a7798 6
echo "$ac_t""$cf_cv_curs_touchline" 1>&6
case "$cf_cv_curs_touchline" in #(vi
bsd) #(vi
	cat >> confdefs.h <<\EOF
#define HAVE_BSD_TOUCHLINE 1
EOF
d7800 3
a7802 2
	;;
sysv)
d7804 1
a7804 1
#define HAVE_SYSV_TOUCHLINE 1
d7807 2
a7808 2
	;;
esac
a7809 2
	;;
ncurses)
d7811 9
a7819 2
echo $ac_n "checking for ncurses header in include-path""... $ac_c" 1>&6
echo "configure:7609: checking for ncurses header in include-path" >&5
d7824 3
a7826 5
	for cf_header in \
		curses.h \
		ncurses.h \
		ncurses/curses.h \
		ncurses/ncurses.h
d7828 1
d7830 1
a7830 1
#line 7621 "configure"
d7832 6
d7842 5
d7852 1
a7852 1
make an error
d7859 1
a7859 1
if { (eval echo configure:7639: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d7861 1
a7861 1
  cf_cv_ncurses_h=$cf_header; break
d7870 2
d7881 2
a7882 2
echo $ac_n "checking for ncurses include-path""... $ac_c" 1>&6
echo "configure:7660: checking for ncurses include-path" >&5
d7887 1
d7890 14
a7903 3
test "$includedir" != NONE && \
test -d "$includedir" && \
cf_search="$cf_search $includedir $includedir/ncurses"
d7905 9
a7913 3
test "$oldincludedir" != NONE && \
test -d "$oldincludedir" && \
cf_search="$cf_search $oldincludedir $oldincludedir/ncurses"
d7916 8
a7923 2
test -d "$prefix" && \
cf_search="$cf_search $prefix/include $prefix/include/ncurses $prefix/ncurses/include"
d7925 9
a7933 3
test "$prefix" != /usr/local && \
test -d /usr/local && \
cf_search="$cf_search /usr/local/include /usr/local/include/ncurses /usr/local/ncurses/include"
d7936 14
a7949 1
cf_search="$cf_search /usr/include /usr/include/ncurses /usr/ncurses/include"
d7951 6
a7956 3
test "$prefix" != /opt && \
test -d /opt && \
cf_search="$cf_search /opt/include /opt/include/ncurses /opt/ncurses/include"
a7957 1
cf_search="$cf_search $HOME/lib $HOME/lib/ncurses $HOME/ncurses/lib"
d7959 2
a7960 1
	test -n "$verbose" && echo
a7962 26
		for cf_header in \
			ncurses.h \
			curses.h
		do
			if egrep "NCURSES_[VH]" $cf_incdir/$cf_header 1>&5 2>&1; then
				cf_cv_ncurses_h2=$cf_incdir/$cf_header
				test -n "$verbose" && echo $ac_n "	... found $ac_c" 1>&6
				break
			fi
			test -n "$verbose" && echo "	... tested $cf_incdir/$cf_header" 1>&6
		done
		test -n "$cf_cv_ncurses_h2" && break
	done
	test -z "$cf_cv_ncurses_h2" && { echo "configure: error: not found" 1>&2; exit 1; }
	
fi

echo "$ac_t""$cf_cv_ncurses_h2" 1>&6

	cf_1st_incdir=`echo $cf_cv_ncurses_h2 | sed -e 's:/[^/]*$::'`
	cf_2nd_incdir=`echo $cf_1st_incdir | sed -e 's:/[^/]*$::'`
	cf_cv_ncurses_header=`basename $cf_cv_ncurses_h2`
	echo cf_1st_include=$cf_1st_incdir
	echo cf_2nd_include=$cf_2nd_incdir
	if test `basename $cf_1st_incdir` = ncurses ; then
		cf_cv_ncurses_header=ncurses/$cf_cv_ncurses_header
d7964 1
a7964 1
for cf_add_incdir in $cf_2nd_incdir
d7971 23
a7993 18
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's:/include/.*$:/include:'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
done

	fi
	
for cf_add_incdir in $cf_1st_incdir
do
	while true
	do
		case $cf_add_incdir in
		/usr/include) # (vi
d7999 1
a7999 1
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's:/include/.*$:/include:'`
d8005 8
a8013 1
fi
d8015 3
a8017 3
cat >> confdefs.h <<\EOF
#define NCURSES 1
EOF
d8019 102
d8139 6
d8149 1
a8149 1
echo "configure:7787: checking for ncurses version" >&5
d8175 1
a8175 1
	{ (eval echo configure:7813: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d8177 1
a8177 1
		cf_out=`cat conftest.out | sed -e 's@@^Autoconf @@@@' -e 's@@^[^"]*"@@@@' -e 's@@".*@@@@'`
d8184 1
a8184 1
#line 7822 "configure"
d8208 1
a8208 1
if { (eval echo configure:7846: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d8232 1
d8239 1
a8239 1
echo "configure:7876: checking for Gpm_Open in -lgpm" >&5
d8247 1
a8247 1
#line 7884 "configure"
d8258 1
a8258 1
if { (eval echo configure:7895: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8274 1
a8274 1
echo "configure:7911: checking for initscr in -lgpm" >&5
d8282 1
a8282 1
#line 7919 "configure"
d8293 1
a8293 1
if { (eval echo configure:7930: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8324 1
a8324 1
echo "configure:7961: checking for tgoto in -lmytinfo" >&5
d8332 1
a8332 1
#line 7969 "configure"
d8343 1
a8343 1
if { (eval echo configure:7980: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8368 6
a8373 1
	eval 'cf_cv_have_lib_'ncurses'=no'
d8376 1
a8376 1
echo "configure:8008: checking for initscr" >&5
d8381 1
a8381 1
#line 8013 "configure"
d8404 1
a8404 1
if { (eval echo configure:8036: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8418 1
a8418 1
  eval 'cf_cv_have_lib_'ncurses'=yes'
d8423 3
a8425 3
		echo $ac_n "checking for initscr in -lncurses""... $ac_c" 1>&6
echo "configure:8056: checking for initscr in -lncurses" >&5
		LIBS="-lncurses $LIBS"
d8427 1
a8427 1
#line 8059 "configure"
d8434 1
a8434 1
if { (eval echo configure:8066: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8437 1
a8437 1
			 eval 'cf_cv_have_lib_'ncurses'=yes'
d8446 6
a8451 7
test "$libdir" != NONE && \
test -d $libdir && \
cf_search="$cf_search $libdir $libdir/ncurses"

test "$exec_prefix" != NONE && \
test -d $exec_prefix && \
cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/ncurses"
d8453 7
a8459 4
test "$prefix" != NONE && \
test "$prefix" != "$exec_prefix" && \
test -d $prefix && \
cf_search="$cf_search $prefix/lib $prefix/lib/ncurses $prefix/ncurses/lib"
d8462 8
a8469 2
test -d /usr/local && \
cf_search="$cf_search /usr/local/lib /usr/local/lib/ncurses /usr/local/ncurses/lib"
d8471 9
a8479 5
test "$prefix" != /usr && \
cf_search="$cf_search /usr/lib /usr/lib/ncurses /usr/ncurses/lib"

test "$prefix" != / && \
cf_search="$cf_search /lib /lib/ncurses /ncurses/lib"
d8482 8
a8489 2
test -d /opt && \
cf_search="$cf_search /opt/lib /opt/lib/ncurses /opt/ncurses/lib"
d8491 8
a8498 1
cf_search="$cf_search $HOME/lib $HOME/lib/ncurses $HOME/ncurses/lib"
d8502 3
a8504 3
				echo $ac_n "checking for -lncurses in $cf_libdir""... $ac_c" 1>&6
echo "configure:8110: checking for -lncurses in $cf_libdir" >&5
				LIBS="-L$cf_libdir -lncurses $cf_save_LIBS"
d8506 1
a8506 1
#line 8113 "configure"
d8513 1
a8513 1
if { (eval echo configure:8120: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8516 1
a8516 1
			 		 eval 'cf_cv_have_lib_'ncurses'=yes'
d8533 1
a8533 1
eval 'cf_found_library=$cf_cv_have_lib_'ncurses
d8536 1
a8536 1
	{ echo "configure: error: Cannot link ncurses library" 1>&2; exit 1; }
d8540 1
d8543 2
a8544 2
	echo $ac_n "checking if we can link ncurses without $cf_ncurses_LIBS""... $ac_c" 1>&6
echo "configure:8150: checking if we can link ncurses without $cf_ncurses_LIBS" >&5
d8547 1
a8547 1
		q=`echo $LIBS | sed -e 's/'$p' //' -e 's/'$p'$//'`
d8553 1
a8553 1
#line 8159 "configure"
d8560 1
a8560 1
if { (eval echo configure:8166: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8573 8
d8583 1
a8583 1
echo "configure:8181: checking for ncurses version" >&5
d8609 1
a8609 1
	{ (eval echo configure:8207: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d8611 1
a8611 1
		cf_out=`cat conftest.out | sed -e 's@@^Autoconf @@@@' -e 's@@^[^"]*"@@@@' -e 's@@".*@@@@'`
d8618 1
a8618 1
#line 8216 "configure"
d8642 1
a8642 1
if { (eval echo configure:8240: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d8665 1
d8671 1
a8671 1
echo "configure:8268: checking for slang header file" >&5
d8677 1
a8677 1
#line 8274 "configure"
d8684 1
a8684 1
if { (eval echo configure:8281: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d8694 14
a8707 3
test "$includedir" != NONE && \
test -d "$includedir" && \
cf_search="$cf_search $includedir $includedir/slang"
d8709 9
a8717 3
test "$oldincludedir" != NONE && \
test -d "$oldincludedir" && \
cf_search="$cf_search $oldincludedir $oldincludedir/slang"
d8720 8
a8727 2
test -d "$prefix" && \
cf_search="$cf_search $prefix/include $prefix/include/slang $prefix/slang/include"
d8729 9
a8737 3
test "$prefix" != /usr/local && \
test -d /usr/local && \
cf_search="$cf_search /usr/local/include /usr/local/include/slang /usr/local/slang/include"
d8740 14
a8753 1
cf_search="$cf_search /usr/include /usr/include/slang /usr/slang/include"
d8755 6
a8760 3
test "$prefix" != /opt && \
test -d /opt && \
cf_search="$cf_search /opt/include /opt/include/slang /opt/slang/include"
a8761 1
cf_search="$cf_search $HOME/lib $HOME/lib/slang $HOME/slang/lib"
d8788 1
a8788 1
cf_incdir=`echo $cf_cv_slang_header | sed -e 's:/[^/]*$::'`
d8802 24
d8830 1
a8830 1
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's:/include/.*$:/include:'`
d8839 59
d8907 1
a8907 1
#line 8377 "configure"
d8914 1
a8914 1
if { (eval echo configure:8384: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8917 1
a8917 1
#line 8387 "configure"
d8924 1
a8924 1
if { (eval echo configure:8394: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8953 1
a8953 1
echo "configure:8423: checking for $cf_func in -l$cf_lib" >&5
d8955 1
a8955 1
#line 8425 "configure"
d8962 1
a8962 1
if { (eval echo configure:8432: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d8989 1
a8989 1
echo "configure:8459: checking for initscr in -lcurses" >&5
d8997 1
a8997 1
#line 8467 "configure"
d9008 1
a9008 1
if { (eval echo configure:8478: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9029 1
a9029 1
echo "configure:8499: checking for tgoto in -ltermcap" >&5
d9037 1
a9037 1
#line 8507 "configure"
d9048 1
a9048 1
if { (eval echo configure:8518: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9080 1
a9080 1
echo "configure:8550: checking for acos" >&5
d9085 1
a9085 1
#line 8555 "configure"
d9108 1
a9108 1
if { (eval echo configure:8578: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9127 1
a9127 1
echo "configure:8597: checking for acos in -lm" >&5
d9135 1
a9135 1
#line 8605 "configure"
d9146 1
a9146 1
if { (eval echo configure:8616: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9188 1
a9188 1
echo "configure:8658: checking for v_init" >&5
d9193 1
a9193 1
#line 8663 "configure"
d9216 1
a9216 1
if { (eval echo configure:8686: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9236 1
a9236 1
echo "configure:8706: checking for v_init in -lvideo" >&5
d9239 1
a9239 1
#line 8709 "configure"
d9246 1
a9246 1
if { (eval echo configure:8716: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9258 6
a9263 7
test "$libdir" != NONE && \
test -d $libdir && \
cf_search="$cf_search $libdir $libdir/video"

test "$exec_prefix" != NONE && \
test -d $exec_prefix && \
cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/video"
d9265 7
a9271 4
test "$prefix" != NONE && \
test "$prefix" != "$exec_prefix" && \
test -d $prefix && \
cf_search="$cf_search $prefix/lib $prefix/lib/video $prefix/video/lib"
d9274 8
a9281 2
test -d /usr/local && \
cf_search="$cf_search /usr/local/lib /usr/local/lib/video /usr/local/video/lib"
d9283 9
a9291 5
test "$prefix" != /usr && \
cf_search="$cf_search /usr/lib /usr/lib/video /usr/video/lib"

test "$prefix" != / && \
cf_search="$cf_search /lib /lib/video /video/lib"
d9294 8
a9301 2
test -d /opt && \
cf_search="$cf_search /opt/lib /opt/lib/video /opt/video/lib"
d9303 8
a9310 1
cf_search="$cf_search $HOME/lib $HOME/lib/video $HOME/video/lib"
d9315 1
a9315 1
echo "configure:8760: checking for -lvideo in $cf_libdir" >&5
d9318 1
a9318 1
#line 8763 "configure"
d9325 1
a9325 1
if { (eval echo configure:8770: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9358 1
a9358 1
echo "configure:8803: checking for SLtt_get_screen_size" >&5
d9363 1
a9363 1
#line 8808 "configure"
d9386 1
a9386 1
if { (eval echo configure:8831: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9406 1
a9406 1
echo "configure:8851: checking for SLtt_get_screen_size in -lslang" >&5
d9409 1
a9409 1
#line 8854 "configure"
d9416 1
a9416 1
if { (eval echo configure:8861: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9428 6
a9433 7
test "$libdir" != NONE && \
test -d $libdir && \
cf_search="$cf_search $libdir $libdir/slang"

test "$exec_prefix" != NONE && \
test -d $exec_prefix && \
cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/slang"
d9435 7
a9441 4
test "$prefix" != NONE && \
test "$prefix" != "$exec_prefix" && \
test -d $prefix && \
cf_search="$cf_search $prefix/lib $prefix/lib/slang $prefix/slang/lib"
d9444 8
a9451 2
test -d /usr/local && \
cf_search="$cf_search /usr/local/lib /usr/local/lib/slang /usr/local/slang/lib"
d9453 9
a9461 5
test "$prefix" != /usr && \
cf_search="$cf_search /usr/lib /usr/lib/slang /usr/slang/lib"

test "$prefix" != / && \
cf_search="$cf_search /lib /lib/slang /slang/lib"
d9464 8
a9471 2
test -d /opt && \
cf_search="$cf_search /opt/lib /opt/lib/slang /opt/slang/lib"
d9473 8
a9480 1
cf_search="$cf_search $HOME/lib $HOME/lib/slang $HOME/slang/lib"
d9485 1
a9485 1
echo "configure:8905: checking for -lslang in $cf_libdir" >&5
d9488 1
a9488 1
#line 8908 "configure"
d9495 1
a9495 1
if { (eval echo configure:8915: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9524 1
a9524 1
echo "configure:8944: checking if we can link slang without termcap" >&5
d9526 1
a9526 1
	cf_exclude=`echo ".$cf_slang_LIBS2" | sed -e "s@@$cf_slang_LIBS1@@@@" -e 's@@^.@@@@'`
d9530 1
a9530 1
LIBS=`echo ".$cf_slang_LIBS3" | sed -e "s@@$cf_exclude@@@@" -e 's@@^.@@@@'`
d9532 1
a9532 1
#line 8952 "configure"
d9539 1
a9539 1
if { (eval echo configure:8959: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9556 1
a9556 1
echo "configure:8976: checking if we must tell slang this is UNIX" >&5
d9562 1
a9562 1
#line 8982 "configure"
d9576 1
a9576 1
if { (eval echo configure:8996: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9599 1
a9599 1
cf_libdir=`echo $cf_libdir | sed -e s@@'^NONE/'@@$prefix/@@ -e s@@'^NONE/'@@$ac_default_prefix/@@`
d9602 1
a9602 1
echo "configure:9022: checking for location of config-file" >&5
d9614 1
a9614 1
echo "configure:9034: checking if you want only a few charsets" >&5
d9675 1
a9675 1
echo "configure:9095: checking for ANSI C header files" >&5
d9680 1
a9680 1
#line 9100 "configure"
d9688 1
a9688 1
{ (eval echo configure:9108: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d9705 1
a9705 1
#line 9125 "configure"
d9723 1
a9723 1
#line 9143 "configure"
d9744 1
a9744 1
#line 9164 "configure"
d9755 1
a9755 1
if { (eval echo configure:9175: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d9779 1
a9779 1
echo "configure:9199: checking whether time.h and sys/time.h may both be included" >&5
d9784 1
a9784 1
#line 9204 "configure"
d9793 1
a9793 1
if { (eval echo configure:9213: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9818 1
a9818 1
echo "configure:9238: checking for $ac_hdr that defines DIR" >&5
d9823 1
a9823 1
#line 9243 "configure"
d9831 1
a9831 1
if { (eval echo configure:9251: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9856 1
a9856 1
echo "configure:9276: checking for opendir in -ldir" >&5
d9864 1
a9864 1
#line 9284 "configure"
d9875 1
a9875 1
if { (eval echo configure:9295: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9897 1
a9897 1
echo "configure:9317: checking for opendir in -lx" >&5
d9905 1
a9905 1
#line 9325 "configure"
d9916 1
a9916 1
if { (eval echo configure:9336: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9959 1
a9959 1
echo "configure:9379: checking for $ac_hdr" >&5
d9964 1
a9964 1
#line 9384 "configure"
d9969 1
a9969 1
{ (eval echo configure:9389: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d9997 1
a9997 1
echo "configure:9417: checking termio.h and termios.h" >&5
d10003 1
a10003 1
#line 9423 "configure"
d10016 1
a10016 1
if { (eval echo configure:9436: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10036 1
a10036 1
echo "configure:9456: checking for sigaction and structs" >&5
d10042 1
a10042 1
#line 9462 "configure"
d10057 1
a10057 1
if { (eval echo configure:9477: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10081 1
a10081 1
echo "configure:9501: checking for $ac_hdr" >&5
d10086 1
a10086 1
#line 9506 "configure"
d10091 1
a10091 1
{ (eval echo configure:9511: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d10128 1
a10128 1
echo "configure:9548: checking for $ac_hdr" >&5
d10133 1
a10133 1
#line 9553 "configure"
d10138 1
a10138 1
{ (eval echo configure:9558: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d10168 1
a10168 1
echo "configure:9588: checking for $ac_hdr" >&5
d10173 1
a10173 1
#line 9593 "configure"
d10178 1
a10178 1
{ (eval echo configure:9598: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d10219 1
a10219 1
echo "configure:9639: checking for union wait" >&5
d10225 1
a10225 1
#line 9645 "configure"
d10236 1
a10236 1
if { (eval echo configure:9656: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10247 1
a10247 1
#line 9667 "configure"
d10262 1
a10262 1
if { (eval echo configure:9682: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10289 1
a10289 1
echo "configure:9709: checking if union wait can be used as wait-arg" >&5
d10295 1
a10295 1
#line 9715 "configure"
d10302 1
a10302 1
if { (eval echo configure:9722: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10322 1
a10322 1
echo "configure:9742: checking if union wait can be used as waitpid-arg" >&5
d10328 1
a10328 1
#line 9748 "configure"
d10335 1
a10335 1
if { (eval echo configure:9755: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10361 1
a10361 1
echo "configure:9781: checking for $ac_hdr" >&5
d10366 1
a10366 1
#line 9786 "configure"
d10371 1
a10371 1
{ (eval echo configure:9791: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d10398 1
a10398 1
echo "configure:9818: checking for standard varargs" >&5
d10404 1
a10404 1
#line 9824 "configure"
d10419 1
a10419 1
if { (eval echo configure:9839: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10439 1
a10439 1
echo "configure:9859: checking for uid_t in sys/types.h" >&5
d10444 1
a10444 1
#line 9864 "configure"
d10473 1
a10473 1
echo "configure:9893: checking type of array argument to getgroups" >&5
d10481 1
a10481 1
#line 9901 "configure"
d10506 1
a10506 1
if { (eval echo configure:9926: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d10520 1
a10520 1
#line 9940 "configure"
d10544 1
a10544 1
echo "configure:9964: checking for pid_t" >&5
d10549 1
a10549 1
#line 9969 "configure"
d10577 1
a10577 1
echo "configure:9997: checking for uid_t in sys/types.h" >&5
d10582 1
a10582 1
#line 10002 "configure"
d10611 1
a10611 1
echo "configure:10031: checking for mode_t" >&5
d10616 1
a10616 1
#line 10036 "configure"
d10645 5
a10649 4
ac_safe=`echo "vfork.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for vfork.h""... $ac_c" 1>&6
echo "configure:10067: checking for vfork.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d10653 1
a10653 1
#line 10072 "configure"
d10655 4
a10658 1
#include <vfork.h>
d10660 1
a10660 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:10077: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d10662 1
a10662 1
  eval "ac_cv_header_$ac_safe=yes"
a10663 1
  echo "$ac_err" >&5
d10667 1
a10667 1
  eval "ac_cv_header_$ac_safe=no"
d10671 3
a10673 2
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
d10675 1
a10675 1
#define HAVE_VFORK_H 1
a10677 2
else
  echo "$ac_t""no" 1>&6
d10680 3
a10682 9
echo $ac_n "checking for working vfork""... $ac_c" 1>&6
echo "configure:10102: checking for working vfork" >&5
if eval "test \"`echo '$''{'ac_cv_func_vfork_works'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  echo $ac_n "checking for vfork""... $ac_c" 1>&6
echo "configure:10108: checking for vfork" >&5
if eval "test \"`echo '$''{'ac_cv_func_vfork'+set}'`\" = set"; then
d10686 1
a10686 1
#line 10113 "configure"
d10688 248
a10935 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char vfork(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char vfork();
d10950 1
a10950 1
if { (eval echo configure:10136: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10972 1
a10972 1
#line 10158 "configure"
d11067 1
a11067 1
if { (eval echo configure:10253: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d11091 1
a11091 1
echo "configure:10277: checking if we should use fcntl or ioctl" >&5
d11097 1
a11097 1
#line 10283 "configure"
d11109 1
a11109 1
if { (eval echo configure:10295: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11118 1
a11118 1
#line 10304 "configure"
d11135 1
a11135 1
if { (eval echo configure:10321: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11158 1
a11158 1
echo "configure:10344: checking for broken/missing definition of remove" >&5
d11164 1
a11164 1
#line 10350 "configure"
d11171 1
a11171 1
if { (eval echo configure:10357: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11179 1
a11179 1
#line 10365 "configure"
d11187 1
a11187 1
if { (eval echo configure:10373: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11211 1
a11211 1
echo "configure:10397: checking for lstat" >&5
d11217 1
a11217 1
#line 10403 "configure"
d11226 1
a11226 1
if { (eval echo configure:10412: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a11253 1
	mkstemp \
d11255 1
d11269 1
a11269 1
echo "configure:10455: checking for $ac_func" >&5
d11274 1
a11274 1
#line 10460 "configure"
d11297 1
a11297 1
if { (eval echo configure:10483: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11327 1
a11327 1
echo "configure:10513: checking for $ac_func" >&5
d11332 1
a11332 1
#line 10518 "configure"
d11355 1
a11355 1
if { (eval echo configure:10541: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11384 1
a11384 1
echo "configure:10570: checking for random-integer functions" >&5
d11390 1
a11390 1
for cf_func in srand48/lrand48 srandom/random srand/rand
d11392 2
a11393 2
	cf_srand_func=`echo $cf_func | sed -e 's@@/.*@@@@'`
	cf_rand_func=`echo  $cf_func | sed -e 's@@.*/@@@@'`
d11395 1
a11395 1
#line 10581 "configure"
d11409 1
a11409 1
if { (eval echo configure:10595: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11425 1
a11425 1
echo "configure:10611: checking for range of random-integers" >&5
d11441 1
a11441 1
#line 10627 "configure"
d11455 1
a11455 1
if { (eval echo configure:10641: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11468 2
a11469 2
	cf_srand_func=`echo $cf_func | sed -e 's@@/.*@@@@'`
	cf_rand_func=`echo  $cf_func | sed -e 's@@.*/@@@@'`
d11491 1
a11491 1
echo "configure:10677: checking for $ac_func declaration" >&5
d11496 1
a11496 1
#line 10682 "configure"
d11505 1
a11505 1
if { (eval echo configure:10691: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11509 1
a11509 1
#line 10695 "configure"
d11518 1
a11518 1
if { (eval echo configure:10704: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11560 1
a11560 1
echo "configure:10746: checking for $ac_func declaration" >&5
d11565 1
a11565 1
#line 10751 "configure"
d11576 1
a11576 1
if { (eval echo configure:10762: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11580 1
a11580 1
#line 10766 "configure"
d11591 1
a11591 1
if { (eval echo configure:10777: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11633 1
a11633 1
echo "configure:10819: checking if TRUE/FALSE are defined" >&5
d11639 1
a11639 1
#line 10825 "configure"
d11648 1
a11648 1
if { (eval echo configure:10834: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11675 1
a11675 1
echo "configure:10861: checking if external errno is declared" >&5
d11681 1
a11681 1
#line 10867 "configure"
d11694 1
a11694 1
if { (eval echo configure:10880: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11696 1
a11696 1
  eval 'cf_cv_dcl_'errno'=yes'
d11701 1
a11701 1
  eval 'cf_cv_dcl_'errno'=no'
d11707 1
d11709 1
a11709 5
eval 'cf_result=$cf_cv_dcl_'errno
echo "$ac_t""$cf_result" 1>&6

if test "$cf_result" = no ; then
    eval 'cf_result=DECL_'errno
d11711 1
a11711 1
cf_result=`echo "$cf_result" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11722 1
a11722 1
echo "configure:10911: checking if external errno exists" >&5
d11728 1
a11728 1
#line 10917 "configure"
d11738 1
a11738 1
if { (eval echo configure:10927: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11740 1
a11740 1
  eval 'cf_cv_have_'errno'=yes'
d11745 1
a11745 1
  eval 'cf_cv_have_'errno'=no'
d11748 1
d11751 1
d11753 1
a11753 5
eval 'cf_result=$cf_cv_have_'errno
echo "$ac_t""$cf_result" 1>&6

if test "$cf_result" = yes ; then
    eval 'cf_result=HAVE_'errno
d11755 1
a11755 1
cf_result=`echo "$cf_result" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11768 1
a11768 1
echo "configure:10959: checking if we can set errno" >&5
d11775 1
a11775 1
#line 10966 "configure"
d11782 1
a11782 1
if { (eval echo configure:10973: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11794 1
a11794 1
#line 10985 "configure"
d11804 1
a11804 1
if { (eval echo configure:10995: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d11827 1
a11827 1
echo "configure:11018: checking for setlocale()" >&5
d11833 1
a11833 1
#line 11024 "configure"
d11840 1
a11840 1
if { (eval echo configure:11031: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11854 1
a11854 1
test $cf_cv_locale = yes && cat >> confdefs.h <<\EOF
d11857 1
a11857 1

d11861 1
a11861 1
echo "configure:11052: checking if NGROUPS is defined" >&5
d11867 1
a11867 1
#line 11058 "configure"
d11881 1
a11881 1
if { (eval echo configure:11072: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11889 1
a11889 1
#line 11080 "configure"
d11903 1
a11903 1
if { (eval echo configure:11094: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11917 3
a11931 2
fi

a11932 3

for cf_name in sys_nerr sys_errlist
do
d11934 3
a11936 3
echo $ac_n "checking if external $cf_name is declared""... $ac_c" 1>&6
echo "configure:11128: checking if external $cf_name is declared" >&5
if eval "test \"`echo '$''{'cf_cv_dcl_$cf_name'+set}'`\" = set"; then
d11941 1
a11941 1
#line 11134 "configure"
d11951 1
a11951 1
long x = (long) $cf_name
d11954 1
a11954 1
if { (eval echo configure:11147: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11956 1
a11956 1
  eval 'cf_cv_dcl_'$cf_name'=yes'
d11961 1
a11961 1
  eval 'cf_cv_dcl_'$cf_name'=no'
d11967 1
d11969 1
a11969 5
eval 'cf_result=$cf_cv_dcl_'$cf_name
echo "$ac_t""$cf_result" 1>&6

if test "$cf_result" = no ; then
    eval 'cf_result=DECL_'$cf_name
d11971 1
a11971 1
cf_result=`echo "$cf_result" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d11981 3
a11983 3
echo $ac_n "checking if external $cf_name exists""... $ac_c" 1>&6
echo "configure:11178: checking if external $cf_name exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_$cf_name'+set}'`\" = set"; then
d11988 1
a11988 1
#line 11184 "configure"
d11991 2
a11992 2
#undef $cf_name
extern int $cf_name;
d11995 1
a11995 1
$cf_name = 2
d11998 1
a11998 1
if { (eval echo configure:11194: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d12000 1
a12000 1
  eval 'cf_cv_have_'$cf_name'=yes'
d12005 1
a12005 1
  eval 'cf_cv_have_'$cf_name'=no'
d12008 1
d12011 1
d12013 1
a12013 5
eval 'cf_result=$cf_cv_have_'$cf_name
echo "$ac_t""$cf_result" 1>&6

if test "$cf_result" = yes ; then
    eval 'cf_result=HAVE_'$cf_name
d12015 93
a12107 1
cf_result=`echo "$cf_result" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a12116 1
done
d12123 1
a12123 1
echo "configure:11230: checking for $ac_hdr" >&5
d12128 1
a12128 1
#line 11235 "configure"
d12133 1
a12133 1
{ (eval echo configure:11240: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d12160 1
a12160 1
echo "configure:11267: checking for lastlog path" >&5
d12166 1
a12166 1
#line 11273 "configure"
d12181 1
a12181 1
if { (eval echo configure:11288: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d12208 1
a12208 1
echo "configure:11315: checking for utmp implementation" >&5
d12215 1
a12215 4
	cat > conftest.$ac_ext <<EOF
#line 11323 "configure"
#include "confdefs.h"

d12222 5
a12226 1

d12233 1
a12233 1
if { (eval echo configure:11339: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d12243 1
a12243 1
#line 11349 "configure"
d12245 1
a12245 8

#include <sys/types.h>
#include <${cf_header}.h>
#define getutent getutxent
#ifdef USE_LASTLOG
#include <lastlog.h>	/* may conflict with utmpx.h on Linux */
#endif

d12252 1
a12252 1
if { (eval echo configure:11365: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a12254 4
	 cat >> confdefs.h <<\EOF
#define ut_name ut_user
EOF

a12279 1

d12282 1
a12282 1
echo "configure:11400: checking if utmp.ut_host is declared" >&5
d12288 1
a12288 1
#line 11406 "configure"
d12297 1
a12297 1
if { (eval echo configure:11415: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d12318 41
d12360 14
d12376 1
a12376 1
echo "configure:11439: checking for exit-status in $cf_cv_have_utmp" >&5
d12388 1
a12388 1
#line 11451 "configure"
d12397 1
a12397 1
if { (eval echo configure:11460: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a12425 1

d12428 1
a12428 1
echo "configure:11492: checking if utmp.ut_xtime is declared" >&5
d12434 1
a12434 1
#line 11498 "configure"
d12443 1
a12443 1
if { (eval echo configure:11507: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d12451 1
a12451 1
#line 11515 "configure"
d12460 1
a12460 1
if { (eval echo configure:11524: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a12491 1

d12494 1
a12494 1
echo "configure:11559: checking if utmp.ut_session is declared" >&5
d12500 1
a12500 1
#line 11565 "configure"
d12509 1
a12509 1
if { (eval echo configure:11574: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a12531 1

d12533 1
a12533 1
echo "configure:11599: checking if $cf_cv_have_utmp is SYSV flavor" >&5
d12540 1
a12540 1
#line 11606 "configure"
d12554 1
a12554 1
if { (eval echo configure:11620: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d12577 1
a12577 1
echo "configure:11643: checking if external h_errno exists" >&5
d12583 1
a12583 1
#line 11649 "configure"
d12593 1
a12593 1
if { (eval echo configure:11659: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d12595 1
a12595 1
  eval 'cf_cv_have_'h_errno'=yes'
d12600 1
a12600 1
  eval 'cf_cv_have_'h_errno'=no'
d12603 1
d12606 1
d12608 1
a12608 5
eval 'cf_result=$cf_cv_have_'h_errno
echo "$ac_t""$cf_result" 1>&6

if test "$cf_result" = yes ; then
    eval 'cf_result=HAVE_'h_errno
d12610 1
a12610 1
cf_result=`echo "$cf_result" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
d12620 15
a12634 10
### These tests must be run after establishing the curses library.
if test $cf_cv_screen != slang ; then
	if test $cf_cv_screen != pdcurses ; then
		for ac_hdr in ncurses/term.h term.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:11695: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12636 3
a12638 17
  cat > conftest.$ac_ext <<EOF
#line 11700 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:11705: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d12640 4
a12643 7
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
a12644 5
 
else
  echo "$ac_t""no" 1>&6
fi
done
d12646 13
a12658 6
	fi
	
echo $ac_n "checking if curses supports alternate-character set""... $ac_c" 1>&6
echo "configure:11734: checking if curses supports alternate-character set" >&5
if eval "test \"`echo '$''{'cf_cv_alt_char_set'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12660 2
d12663 1
a12663 5
for mapname in acs_map _acs_map
do
	cat > conftest.$ac_ext <<EOF
#line 11742 "configure"
#include "confdefs.h"
d12665 3
a12667 5
#include <${cf_cv_ncurses_header-curses.h}>
	
int main() {
chtype x = $mapname['l']; $mapname['m'] = 0
; return 0; }
d12669 14
a12682 4
if { (eval echo configure:11751: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_alt_char_set=$mapname
	 break
d12684 3
a12686 8
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_alt_char_set=no
fi
rm -f conftest*
done
	
d12689 3
a12691 3
echo "$ac_t""$cf_cv_alt_char_set" 1>&6
test $cf_cv_alt_char_set != no && cat >> confdefs.h <<EOF
#define ALT_CHAR_SET $cf_cv_alt_char_set
d12695 12
a12706 5
	
echo $ac_n "checking if curses supports fancy attributes""... $ac_c" 1>&6
echo "configure:11774: checking if curses supports fancy attributes" >&5
if eval "test \"`echo '$''{'cf_cv_fancy_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12708 2
d12711 10
a12720 3
	cat > conftest.$ac_ext <<EOF
#line 11780 "configure"
#include "confdefs.h"
d12722 14
a12735 1
#include <${cf_cv_ncurses_header-curses.h}>
d12737 3
a12739 7
int main() {
attrset(A_UNDERLINE|A_BOLD|A_REVERSE);
	 wattrset(stdscr, A_BLINK|A_DIM);
	 attroff(A_BOLD);
	 keypad(stdscr,TRUE);
	
; return 0; }
d12741 14
a12754 3
if { (eval echo configure:11793: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_fancy_curses=yes
d12756 3
a12758 7
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_fancy_curses=no
fi
rm -f conftest*
	
d12761 3
a12763 3
echo "$ac_t""$cf_cv_fancy_curses" 1>&6
test $cf_cv_fancy_curses = yes && cat >> confdefs.h <<\EOF
#define FANCY_CURSES 1
d12767 2
a12768 1
	
d12770 9
a12778 5
if test "$cf_cv_ncurses_version" != no ; then
echo $ac_n "checking for obsolete/broken version of ncurses""... $ac_c" 1>&6
echo "configure:11816: checking for obsolete/broken version of ncurses" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_broken'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12780 2
d12783 6
a12788 3
cat > conftest.$ac_ext <<EOF
#line 11822 "configure"
#include "confdefs.h"
a12789 2
#include <${cf_cv_ncurses_header-curses.h}>
int main() {
d12791 2
a12792 5
#if defined(NCURSES_VERSION) && defined(wgetbkgd)
	make an error
#else
	int x = 1
#endif
d12794 9
a12802 5
; return 0; }
EOF
if { (eval echo configure:11836: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_ncurses_broken=no
d12804 3
a12806 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ncurses_broken=yes
a12807 1
rm -f conftest*
a12808 1
fi
d12810 6
a12815 3
echo "$ac_t""$cf_cv_ncurses_broken" 1>&6
if test "$cf_cv_ncurses_broken" = yes ; then
	echo "configure: warning: hmm... you should get an up-to-date version of ncurses" 1>&2
d12817 10
a12826 1
#define NCURSES_BROKEN 1
d12829 30
d12860 6
d12868 12
a12879 5
	
echo $ac_n "checking if curses supports color attributes""... $ac_c" 1>&6
echo "configure:11861: checking if curses supports color attributes" >&5
if eval "test \"`echo '$''{'cf_cv_color_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12881 2
d12884 1
a12884 3
	cat > conftest.$ac_ext <<EOF
#line 11867 "configure"
#include "confdefs.h"
d12886 1
a12886 1
#include <${cf_cv_ncurses_header-curses.h}>
d12888 5
a12892 21
int main() {
chtype x = COLOR_BLUE;
	 has_colors();
	 start_color();
#ifndef NCURSES_BROKEN
	 wbkgd(curscr, getbkgd(stdscr)); /* X/Open XPG4 aka SVr4 Curses */
#endif
	
; return 0; }
EOF
if { (eval echo configure:11882: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_color_curses=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_color_curses=no
fi
rm -f conftest*
	
a12894 5
echo "$ac_t""$cf_cv_color_curses" 1>&6
if test $cf_cv_color_curses = yes ; then
	cat >> confdefs.h <<\EOF
#define COLOR_CURSES 1
EOF
d12896 12
a12907 2
	test ".$cf_cv_ncurses_broken" != .yes && cat >> confdefs.h <<\EOF
#define HAVE_GETBKGD 1
d12909 4
a12912 1

d12915 2
a12917 4
for ac_hdr in \
termio.h \
termios.h \
unistd.h \
d12919 3
a12921 5
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:11916: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d12924 17
a12940 2
  cat > conftest.$ac_ext <<EOF
#line 11921 "configure"
d12942 5
a12946 1
#include <$ac_hdr>
d12948 2
a12949 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:11926: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d12951 1
a12951 7
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d12954 11
a12964 6
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d12966 4
a12969 3
 
else
  echo "$ac_t""no" 1>&6
d12971 1
a12971 1
done
d12973 4
a12976 11
if test "$ISC" = yes ; then
	for ac_hdr in sys/termio.h 
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:11957: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 11962 "configure"
d12978 5
a12982 1
#include <$ac_hdr>
d12984 2
a12985 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:11967: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d12987 1
a12987 7
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d12990 20
a13009 6
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d13011 4
a13014 3
 
else
  echo "$ac_t""no" 1>&6
d13016 1
a13016 1
done
d13018 4
a13021 12
fi
if test "$ac_cv_header_termios_h" = yes ; then
	case "$CFLAGS $CPPFLAGS" in
	*-D_POSIX_SOURCE*)
		termios_bad=dunno ;;
	*)	termios_bad=maybe ;;
	esac
	if test "$termios_bad" = maybe ; then
	echo $ac_n "checking whether termios.h needs _POSIX_SOURCE""... $ac_c" 1>&6
echo "configure:12002: checking whether termios.h needs _POSIX_SOURCE" >&5
	cat > conftest.$ac_ext <<EOF
#line 12004 "configure"
d13023 5
a13027 4
#include <termios.h>
int main() {
struct termios foo; int x = foo.c_iflag
; return 0; }
d13029 2
a13030 1
if { (eval echo configure:12011: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d13032 6
a13037 6
  termios_bad=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d13039 1
a13039 1
#line 12020 "configure"
d13042 4
a13045 5
#define _POSIX_SOURCE
#include <termios.h>
int main() {
struct termios foo; int x = foo.c_iflag
; return 0; }
d13047 2
a13048 1
if { (eval echo configure:12029: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d13050 1
a13050 9
  termios_bad=unknown
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  termios_bad=yes cat >> confdefs.h <<\EOF
#define SVR4_TERMIO 1
EOF

d13053 5
a13057 4
			
fi
rm -f conftest*
	echo "$ac_t""$termios_bad" 1>&6
d13059 2
d13063 4
d13068 2
d13071 31
a13101 8
echo $ac_n "checking declaration of size-change""... $ac_c" 1>&6
echo "configure:12052: checking declaration of size-change" >&5
if eval "test \"`echo '$''{'cf_cv_sizechange'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cf_cv_sizechange=unknown
    cf_save_CPPFLAGS="$CPPFLAGS"
d13103 1
a13103 2
for cf_opts in "" "NEED_PTEM_H"
do
d13105 2
a13106 4
    CPPFLAGS="$cf_save_CPPFLAGS"
    test -n "$cf_opts" && CPPFLAGS="$CPPFLAGS -D$cf_opts"
    cat > conftest.$ac_ext <<EOF
#line 12066 "configure"
d13108 1
d13110 3
a13112 18
#ifdef HAVE_TERMIOS_H
#include <termios.h>
#else
#ifdef HAVE_TERMIO_H
#include <termio.h>
#endif
#endif
#ifdef NEED_PTEM_H
/* This is a workaround for SCO:  they neglected to define struct winsize in
 * termios.h -- it's only in termio.h and ptem.h
 */
#include        <sys/stream.h>
#include        <sys/ptem.h>
#endif
#if !defined(sun) || !defined(HAVE_TERMIOS_H)
#include <sys/ioctl.h>
#endif

d13114 1
a13114 15

#ifdef TIOCGSIZE
	struct ttysize win;	/* FIXME: what system is this? */
	int y = win.ts_lines;
	int x = win.ts_cols;
#else
#ifdef TIOCGWINSZ
	struct winsize win;
	int y = win.ws_row;
	int x = win.ws_col;
#else
	no TIOCGSIZE or TIOCGWINSZ
#endif /* TIOCGWINSZ */
#endif /* TIOCGSIZE */
	
d13117 2
a13118 3
if { (eval echo configure:12105: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_sizechange=yes
d13123 47
a13169 3
  cf_cv_sizechange=no
fi
rm -f conftest*
d13171 8
a13178 7
	CPPFLAGS="$cf_save_CPPFLAGS"
	if test "$cf_cv_sizechange" = yes ; then
		echo "size-change succeeded ($cf_opts)" >&5
		test -n "$cf_opts" && cf_cv_sizechange="$cf_opts"
		break
	fi
done
d13180 6
a13185 1
fi
d13187 6
a13192 5
echo "$ac_t""$cf_cv_sizechange" 1>&6
if test "$cf_cv_sizechange" != no ; then
	cat >> confdefs.h <<\EOF
#define HAVE_SIZECHANGE 1
EOF
a13193 5
	case $cf_cv_sizechange in #(vi
	NEED*)
		cat >> confdefs.h <<EOF
#define $cf_cv_sizechange  1
EOF
d13195 12
a13206 2
		;;
	esac
d13208 1
d13211 5
a13215 3
echo $ac_n "checking if ttytype is declared in curses library""... $ac_c" 1>&6
echo "configure:12144: checking if ttytype is declared in curses library" >&5
if eval "test \"`echo '$''{'cf_cv_have_ttytype'+set}'`\" = set"; then
d13218 2
a13219 3
  
	cat > conftest.$ac_ext <<EOF
#line 12150 "configure"
d13221 8
a13228 1
#include <${cf_cv_ncurses_header-curses.h}>
d13230 10
a13239 1
char *x = &ttytype[1]; *x = 1
d13242 1
a13242 1
if { (eval echo configure:12157: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d13244 1
a13244 1
  cf_cv_have_ttytype=yes
d13249 1
a13249 1
  cf_cv_have_ttytype=no
a13251 1
	
d13254 5
a13258 4
echo "$ac_t""$cf_cv_have_ttytype" 1>&6
test $cf_cv_have_ttytype = yes && cat >> confdefs.h <<\EOF
#define HAVE_TTYTYPE 1
EOF
d13260 6
a13265 10

	
echo $ac_n "checking if we must define _XOPEN_SOURCE_EXTENDED""... $ac_c" 1>&6
echo "configure:12178: checking if we must define _XOPEN_SOURCE_EXTENDED" >&5
if eval "test \"`echo '$''{'cf_cv_need_xopen_extension'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 12184 "configure"
d13268 4
a13271 2
#include <stdlib.h>
#include <${cf_cv_ncurses_header-curses.h}>
d13273 1
a13273 2

	long x = winnstr(stdscr, "", 0)
d13276 1
a13276 1
if { (eval echo configure:12194: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d13278 3
a13280 1
  cf_cv_need_xopen_extension=no
d13285 64
a13348 2
  cat > conftest.$ac_ext <<EOF
#line 12202 "configure"
d13351 4
a13354 3
#define _XOPEN_SOURCE_EXTENDED
#include <stdlib.h>
#include <${cf_cv_ncurses_header-curses.h}>
d13356 1
a13356 2

	long x = winnstr(stdscr, "", 0)
d13359 1
a13359 1
if { (eval echo configure:12213: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d13361 3
a13363 1
  cf_cv_need_xopen_extension=yes
d13368 2
a13369 1
  cf_cv_need_xopen_extension=no
d13372 2
d13376 1
d13379 2
a13380 2
echo "$ac_t""$cf_cv_need_xopen_extension" 1>&6
test $cf_cv_need_xopen_extension = yes && CPPFLAGS="$CPPFLAGS -D_XOPEN_SOURCE_EXTENDED"
d13382 5
a13388 22
for cf_func in \
		assume_default_colors \
		cbreak \
		define_key \
		delscreen \
		getattrs \
		getbegx \
		getbegy \
		keypad \
		napms \
		newpad \
		newterm \
		pnoutrefresh \
		wresize resizeterm \
		touchline \
		touchwin \
		use_default_colors \
		wborder \
		wredrawln 
do
	
cf_tr_func=`echo "$cf_func" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`
a13389 4
	echo $ac_n "checking for ${cf_func}""... $ac_c" 1>&6
echo "configure:12256: checking for ${cf_func}" >&5
	
echo "(line 12258) testing ${cf_func} ..." 1>&5
d13391 3
a13393 1
	if eval "test \"`echo '$''{'cf_cv_func_$cf_func'+set}'`\" = set"; then
d13397 5
a13401 4
		eval cf_result='$ac_cv_func_'$cf_func
		if test ".$cf_result" != ".no"; then
			cat > conftest.$ac_ext <<EOF
#line 12267 "configure"
d13404 74
a13477 14
#ifdef HAVE_XCURSES
#include <xcurses.h>
char * XCursesProgramName = "test";
#else
#include <${cf_cv_ncurses_header-curses.h}>
#if defined(NCURSES_VERSION) && defined(HAVE_NCURSES_TERM_H)
#include <ncurses/term.h>
#else
#ifdef HAVE_TERM_H
#include <term.h>
#endif
#endif
#endif
int main() {
a13478 6
#ifndef ${cf_func}
long foo = (long)(&${cf_func});
exit(foo == 0);
#endif
			
; return 0; }
d13480 3
a13482 3
if { (eval echo configure:12292: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_result=yes
d13486 4
a13489 2
  rm -rf conftest*
  cf_result=no
d13491 2
a13492 4
rm -f conftest*
		fi
		eval 'cf_cv_func_'$cf_func'=$cf_result'
	
d13495 4
a13498 6
	# use the computed/retrieved cache-value:
	eval 'cf_result=$cf_cv_func_'$cf_func
	echo "$ac_t""$cf_result" 1>&6
	if test $cf_result != no; then
		cat >> confdefs.h <<EOF
#define HAVE_${cf_tr_func} 1
d13501 3
a13503 2
	fi
done
d13508 11
d13520 1
d13522 2
a13523 2
echo $ac_n "checking if bibp: URLs should be supported""... $ac_c" 1>&6
echo "configure:12324: checking if bibp: URLs should be supported" >&5
d13525 6
a13530 6
# Check whether --enable-bibp-urls or --disable-bibp-urls was given.
if test "${enable_bibp_urls+set}" = set; then
  enableval="$enable_bibp_urls"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_bibp_urls=$enableval 
d13532 1
a13532 1
    use_bibp_urls=yes
d13535 2
a13536 2
  enableval=yes 
  use_bibp_urls=yes
d13540 3
a13542 3
echo "$ac_t""$use_bibp_urls" 1>&6
test $use_bibp_urls = no && cat >> confdefs.h <<\EOF
#define DISABLE_BIBP 1
d13546 2
a13547 2
echo $ac_n "checking if configuration info should be browsable""... $ac_c" 1>&6
echo "configure:12348: checking if configuration info should be browsable" >&5
d13549 6
a13554 6
# Check whether --enable-config-info or --disable-config-info was given.
if test "${enable_config_info+set}" = set; then
  enableval="$enable_config_info"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_config_info=$enableval 
d13556 1
a13556 1
    use_config_info=yes
d13559 2
a13560 2
  enableval=yes 
  use_config_info=yes
d13564 3
a13566 3
echo "$ac_t""$use_config_info" 1>&6
test $use_config_info = no && cat >> confdefs.h <<\EOF
#define NO_CONFIG_INFO 1
a13569 2
echo $ac_n "checking if new-style forms-based options screen should be used""... $ac_c" 1>&6
echo "configure:12372: checking if new-style forms-based options screen should be used" >&5
d13571 9
a13579 6
# Check whether --enable-forms-options or --disable-forms-options was given.
if test "${enable_forms_options+set}" = set; then
  enableval="$enable_forms_options"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_forms_options=$enableval 
d13581 1
a13581 1
    use_forms_options=yes
d13584 2
a13585 2
  enableval=yes 
  use_forms_options=yes
d13589 3
a13591 3
echo "$ac_t""$use_forms_options" 1>&6
test $use_forms_options = no && cat >> confdefs.h <<\EOF
#define NO_OPTION_FORMS 1
d13595 2
a13596 2
echo $ac_n "checking if old-style options menu should be used""... $ac_c" 1>&6
echo "configure:12396: checking if old-style options menu should be used" >&5
d13598 6
a13603 6
# Check whether --enable-menu-options or --disable-menu-options was given.
if test "${enable_menu_options+set}" = set; then
  enableval="$enable_menu_options"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_menu_options=$enableval 
d13605 1
a13605 1
    use_menu_options=yes
d13608 2
a13609 2
  enableval=yes 
  use_menu_options=yes
d13613 3
a13615 3
echo "$ac_t""$use_menu_options" 1>&6
test $use_menu_options = no && cat >> confdefs.h <<\EOF
#define NO_OPTION_MENU 1
d13619 2
a13620 2
echo $ac_n "checking if experimental address-list page should be used""... $ac_c" 1>&6
echo "configure:12420: checking if experimental address-list page should be used" >&5
d13622 3
a13624 3
# Check whether --enable-addrlist-page or --disable-addrlist-page was given.
if test "${enable_addrlist_page+set}" = set; then
  enableval="$enable_addrlist_page"
d13627 1
a13627 1
    use_addrlist_page=$enableval 
d13629 1
a13629 1
    use_addrlist_page=no
d13633 1
a13633 1
  use_addrlist_page=no
d13637 3
a13639 4
echo "$ac_t""$use_addrlist_page" 1>&6
test $use_addrlist_page != no && cat >> confdefs.h <<\EOF
#define EXP_ADDRLIST_PAGE 1
EOF
d13642 2
a13643 2
echo $ac_n "checking if experimental charset-selection logic should be used""... $ac_c" 1>&6
echo "configure:12444: checking if experimental charset-selection logic should be used" >&5
d13645 3
a13647 3
# Check whether --enable-charset-choice or --disable-charset-choice was given.
if test "${enable_charset_choice+set}" = set; then
  enableval="$enable_charset_choice"
d13650 1
a13650 1
    use_charset_choice=$enableval 
d13652 1
a13652 1
    use_charset_choice=no
d13656 1
a13656 1
  use_charset_choice=no
d13660 3
a13662 3
echo "$ac_t""$use_charset_choice" 1>&6
test $use_charset_choice != no && cat >> confdefs.h <<\EOF
#define EXP_CHARSET_CHOICE 1
d13666 2
a13667 2
echo $ac_n "checking if experimental CJK logic should be used""... $ac_c" 1>&6
echo "configure:12468: checking if experimental CJK logic should be used" >&5
d13669 6
a13674 6
# Check whether --enable-cjk or --disable-cjk was given.
if test "${enable_cjk+set}" = set; then
  enableval="$enable_cjk"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_cjk=$enableval 
d13676 1
a13676 1
    use_cjk=no
d13679 2
a13680 2
  enableval=no 
  use_cjk=no
d13684 3
a13686 3
echo "$ac_t""$use_cjk" 1>&6
test $use_cjk != no && cat >> confdefs.h <<\EOF
#define CJK_EX 1
d13690 2
a13691 2
echo $ac_n "checking if color-style code should be used""... $ac_c" 1>&6
echo "configure:12492: checking if color-style code should be used" >&5
d13693 6
a13698 6
# Check whether --enable-color-style or --disable-color-style was given.
if test "${enable_color_style+set}" = set; then
  enableval="$enable_color_style"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_color_style=$enableval 
d13700 1
a13700 1
    use_color_style=no
d13703 2
a13704 2
  enableval=no 
  use_color_style=no
d13708 5
d13714 16
a13729 7
if test $use_color_style != no ; then
	if test .$cf_cv_color_curses != .yes ; then
		{ echo "configure: error: Configuration does not support color-styles" 1>&2; exit 1; }
	fi
	if test $cf_cv_screen = slang ; then
		{ echo "configure: error: Configuration does not support color-styles" 1>&2; exit 1; }
	fi
d13732 3
a13734 8
case $use_color_style in
no)
	echo "$ac_t""no" 1>&6
	INSTALL_LSS=
	;;
*)
	cat >> confdefs.h <<\EOF
#define USE_COLOR_STYLE 1
a13736 1
	echo "$ac_t""yes" 1>&6
d13738 21
a13758 5
	echo $ac_n "checking for location of style-sheet file""... $ac_c" 1>&6
echo "configure:12532: checking for location of style-sheet file" >&5
	LYNX_LSS_FILE=$cf_libdir/lynx.lss
	cat >> confdefs.h <<EOF
#define LYNX_LSS_FILE "$LYNX_LSS_FILE"
a13760 4
	echo "$ac_t""$LYNX_LSS_FILE" 1>&6
	INSTALL_LSS=install-lss
	;;
esac
d13762 22
a13784 3
use_dft_colors=no
test ".$cf_cv_screen" = ".slang"                && use_dft_colors=maybe
test ".$cf_cv_func_use_default_colors" = ".yes" && use_dft_colors=maybe
d13786 2
a13787 3
if test "$use_dft_colors" != no ; then
echo $ac_n "checking if you want to use default-colors""... $ac_c" 1>&6
echo "configure:12550: checking if you want to use default-colors" >&5
d13789 6
a13794 6
# Check whether --enable-default-colors or --disable-default-colors was given.
if test "${enable_default_colors+set}" = set; then
  enableval="$enable_default_colors"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_dft_colors=yes 
d13796 1
a13796 1
    use_dft_colors=no
d13799 2
a13800 2
  enableval=no 
  use_dft_colors=no
d13804 3
a13806 3
echo "$ac_t""$use_dft_colors" 1>&6
test $use_dft_colors = "yes" && cat >> confdefs.h <<\EOF
#define USE_DEFAULT_COLORS 1
d13809 17
d13828 8
a13835 2
echo $ac_n "checking if experimental file-upload logic should be used""... $ac_c" 1>&6
echo "configure:12575: checking if experimental file-upload logic should be used" >&5
d13837 3
a13839 3
# Check whether --enable-file-upload or --disable-file-upload was given.
if test "${enable_file_upload+set}" = set; then
  enableval="$enable_file_upload"
d13842 1
a13842 1
    use_file_upload=$enableval 
d13844 1
a13844 1
    use_file_upload=no
d13848 1
a13848 1
  use_file_upload=no
d13852 4
a13855 3
echo "$ac_t""$use_file_upload" 1>&6
test $use_file_upload != no && cat >> confdefs.h <<\EOF
#define EXP_FILE_UPLOAD 1
d13858 2
d13861 2
a13862 2
echo $ac_n "checking if experimental htmlized lynx.cfg should be built""... $ac_c" 1>&6
echo "configure:12599: checking if experimental htmlized lynx.cfg should be built" >&5
d13864 3
a13866 3
# Check whether --enable-htmlized-cfg or --disable-htmlized-cfg was given.
if test "${enable_htmlized_cfg+set}" = set; then
  enableval="$enable_htmlized_cfg"
d13869 1
a13869 1
    use_exp_htmlized_cfg=$enableval 
d13871 1
a13871 1
    use_exp_htmlized_cfg=no
d13875 1
a13875 1
  use_exp_htmlized_cfg=no
d13879 4
a13882 8
echo "$ac_t""$use_exp_htmlized_cfg" 1>&6

LYNXCFG_MAKE=''
LYNXCFG_URL=''
if test $use_exp_htmlized_cfg = no ; then
	LYNXCFG_MAKE='#'
	LYNXCFG_URL='http://www.hippo.ru/%7Ehvv/'
fi
d13885 2
d13888 3
a13890 7
### check for ipv6 support
echo $ac_n "checking whether to enable ipv6""... $ac_c" 1>&6
echo "configure:12629: checking whether to enable ipv6" >&5

# Check whether --enable-ipv6 or --disable-ipv6 was given.
if test "${enable_ipv6+set}" = set; then
  enableval="$enable_ipv6"
d13894 1
a13894 1
#define ENABLE_IPV6 1
a13902 2
if test "$enableval" = "yes"; then
	
d13904 12
a13915 4
echo $ac_n "checking ipv6 stack type""... $ac_c" 1>&6
echo "configure:12650: checking ipv6 stack type" >&5
if eval "test \"`echo '$''{'cf_cv_ipv6type'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13917 2
d13920 29
a13948 22
cf_cv_ipv6type=unknown
for i in solaris inria kame linux-glibc linux-libinet6 toshiba v6d zeta
do
	case $i in #(vi
	solaris) #(vi
		if test "SunOS" = "`uname -s`"
		then
		  if test -f /usr/include/netinet/ip6.h
		  then
			cf_cv_ipv6type=$i
		  fi
		fi
		;;
	inria) #(vi
				cat > conftest.$ac_ext <<EOF
#line 12670 "configure"
#include "confdefs.h"
dnl
#include <netinet/in.h>
#ifdef IPV6_INRIA_VERSION
yes
#endif
d13950 18
a13967 4
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  cf_cv_ipv6type=$i
a13968 1
rm -f conftest*
d13970 3
a13972 10
		;;
	kame) #(vi
				cat > conftest.$ac_ext <<EOF
#line 12688 "configure"
#include "confdefs.h"
dnl
#include <netinet/in.h>
#ifdef __KAME__
yes
#endif
d13974 18
a13991 4
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  cf_cv_ipv6type=$i
a13992 1
rm -f conftest*
d13994 3
a13996 10
		;;
	linux-glibc) #(vi
				cat > conftest.$ac_ext <<EOF
#line 12706 "configure"
#include "confdefs.h"
dnl
#include <features.h>
#if defined(__GLIBC__) && __GLIBC__ >= 2 && __GLIBC_MINOR__ >= 1
yes
#endif
d13998 18
a14015 4
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  cf_cv_ipv6type=$i
a14016 1
rm -f conftest*
d14018 3
a14020 19
		;;
	linux-libinet6) #(vi
				if test -d /usr/inet6
		then
			cf_cv_ipv6type=$i
		elif test -f /usr/include/netinet/ip6.h
		then
			cf_cv_ipv6type=$i
		fi
		;;
	toshiba) #(vi
		cat > conftest.$ac_ext <<EOF
#line 12733 "configure"
#include "confdefs.h"
dnl
#include <sys/param.h>
#ifdef _TOSHIBA_INET6
yes
#endif
d14022 18
a14039 4
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  cf_cv_ipv6type=$i
a14040 1
rm -f conftest*
d14042 3
a14044 10
		;;
	v6d) #(vi
		cat > conftest.$ac_ext <<EOF
#line 12751 "configure"
#include "confdefs.h"
dnl
#include </usr/local/v6/include/sys/v6config.h>
#ifdef __V6D__
yes
#endif
d14046 18
a14063 4
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  cf_cv_ipv6type=$i
a14064 1
rm -f conftest*
d14066 7
a14072 10
		;;
	zeta)
		cat > conftest.$ac_ext <<EOF
#line 12769 "configure"
#include "confdefs.h"
dnl
#include <sys/param.h>
#ifdef _ZETA_MINAMI_INET6
yes
#endif
a14073 6
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "yes" >/dev/null 2>&1; then
  rm -rf conftest*
  cf_cv_ipv6type=$i
fi
rm -f conftest*
a14074 6
		;;
	esac
	if test "$cf_cv_ipv6type" != "unknown"; then
		break
	fi
done
d14076 16
d14094 1
a14094 1
echo "$ac_t""$cf_cv_ipv6type" 1>&6
d14096 2
d14099 7
d14107 1
d14109 9
a14117 2
cf_ipv6lib=none
cf_ipv6dir=none
a14118 44
echo $ac_n "checking for ipv6 library if required""... $ac_c" 1>&6
echo "configure:12802: checking for ipv6 library if required" >&5
case $cf_cv_ipv6type in #(vi
solaris) #(vi
	;;
inria) #(vi
	;;
kame) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
linux-glibc) #(vi
	;;
linux-libinet6) #(vi
		cf_ipv6lib=inet6
	cf_ipv6dir=inet6
	;;
toshiba) #(vi
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
v6d) #(vi
	cf_ipv6lib=v6
	cf_ipv6dir=v6
	;;
zeta)
	cf_ipv6lib=inet6
	cf_ipv6dir=v6
	;;
esac
echo "$ac_t""$cf_ipv6lib" 1>&6

if test "$cf_ipv6lib" != "none"; then

	cat > conftest.$ac_ext <<EOF
#line 12836 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
int main() {
getaddrinfo(0, 0, 0, 0)
d14121 3
a14123 2
if { (eval echo configure:12847: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  :
d14129 9
a14137 1
	cf_search=""
d14139 7
a14145 3
test "$includedir" != NONE && \
test -d "$includedir" && \
cf_search="$cf_search $includedir $includedir/$cf_ipv6dir"
d14147 9
a14155 3
test "$oldincludedir" != NONE && \
test -d "$oldincludedir" && \
cf_search="$cf_search $oldincludedir $oldincludedir/$cf_ipv6dir"
d14158 8
a14165 2
test -d "$prefix" && \
cf_search="$cf_search $prefix/include $prefix/include/$cf_ipv6dir $prefix/$cf_ipv6dir/include"
d14167 9
a14175 3
test "$prefix" != /usr/local && \
test -d /usr/local && \
cf_search="$cf_search /usr/local/include /usr/local/include/$cf_ipv6dir /usr/local/$cf_ipv6dir/include"
d14178 22
a14199 1
cf_search="$cf_search /usr/include /usr/include/$cf_ipv6dir /usr/$cf_ipv6dir/include"
d14201 23
a14223 3
test "$prefix" != /opt && \
test -d /opt && \
cf_search="$cf_search /opt/include /opt/include/$cf_ipv6dir /opt/$cf_ipv6dir/include"
d14225 4
a14228 1
cf_search="$cf_search $HOME/lib $HOME/lib/$cf_ipv6dir $HOME/$cf_ipv6dir/lib"
d14230 1
a14230 11
	for cf_incdir in $cf_search
	do
		cf_header=$cf_incdir/netinet/ip6.h
		if test -f $cf_header
		then
			CPPFLAGS="$CPPFLAGS -I$cf_incdir"
			test -n "$verbose" && echo "	... found $cf_header" 1>&6
			break
		fi
		test -n "$verbose" && echo "	... tested $cf_header" 1>&6
	done
d14232 12
d14247 1
a14247 2
	
	eval 'cf_cv_have_lib_'$cf_ipv6lib'=no'
d14249 3
a14251 3
	echo $ac_n "checking for getaddrinfo""... $ac_c" 1>&6
echo "configure:12900: checking for getaddrinfo" >&5
if eval "test \"`echo '$''{'ac_cv_func_getaddrinfo'+set}'`\" = set"; then
d14255 1
a14255 1
#line 12905 "configure"
d14258 1
a14258 1
    which can conflict with char getaddrinfo(); below.  */
d14263 1
a14263 1
char getaddrinfo();
d14270 1
a14270 1
#if defined (__stub_getaddrinfo) || defined (__stub___getaddrinfo)
d14273 1
a14273 1
getaddrinfo();
d14278 1
a14278 1
if { (eval echo configure:12928: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d14280 1
a14280 1
  eval "ac_cv_func_getaddrinfo=yes"
d14285 1
a14285 1
  eval "ac_cv_func_getaddrinfo=no"
d14290 1
a14290 1
if eval "test \"`echo '$ac_cv_func_'getaddrinfo`\" = yes"; then
d14292 1
a14292 1
  eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
d14297 3
a14299 3
		echo $ac_n "checking for getaddrinfo in -l$cf_ipv6lib""... $ac_c" 1>&6
echo "configure:12948: checking for getaddrinfo in -l$cf_ipv6lib" >&5
		LIBS="-l$cf_ipv6lib $LIBS"
d14301 1
a14301 1
#line 12951 "configure"
d14304 2
a14305 4
#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
d14307 1
a14307 1
getaddrinfo(0, 0, 0, 0)
d14310 1
a14310 1
if { (eval echo configure:12962: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d14313 1
a14313 1
			 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
d14322 6
a14327 7
test "$libdir" != NONE && \
test -d $libdir && \
cf_search="$cf_search $libdir $libdir/$cf_ipv6dir"

test "$exec_prefix" != NONE && \
test -d $exec_prefix && \
cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/$cf_ipv6dir"
d14329 7
a14335 4
test "$prefix" != NONE && \
test "$prefix" != "$exec_prefix" && \
test -d $prefix && \
cf_search="$cf_search $prefix/lib $prefix/lib/$cf_ipv6dir $prefix/$cf_ipv6dir/lib"
d14338 8
a14345 2
test -d /usr/local && \
cf_search="$cf_search /usr/local/lib /usr/local/lib/$cf_ipv6dir /usr/local/$cf_ipv6dir/lib"
d14347 9
a14355 5
test "$prefix" != /usr && \
cf_search="$cf_search /usr/lib /usr/lib/$cf_ipv6dir /usr/$cf_ipv6dir/lib"

test "$prefix" != / && \
cf_search="$cf_search /lib /lib/$cf_ipv6dir /$cf_ipv6dir/lib"
d14358 8
a14365 2
test -d /opt && \
cf_search="$cf_search /opt/lib /opt/lib/$cf_ipv6dir /opt/$cf_ipv6dir/lib"
d14367 8
a14374 1
cf_search="$cf_search $HOME/lib $HOME/lib/$cf_ipv6dir $HOME/$cf_ipv6dir/lib"
d14378 3
a14380 3
				echo $ac_n "checking for -l$cf_ipv6lib in $cf_libdir""... $ac_c" 1>&6
echo "configure:13006: checking for -l$cf_ipv6lib in $cf_libdir" >&5
				LIBS="-L$cf_libdir -l$cf_ipv6lib $cf_save_LIBS"
d14382 1
a14382 1
#line 13009 "configure"
d14385 2
a14386 4
#include <sys/types.h>
#include <netdb.h>
#include <netinet/in.h>
#include <netinet/ip6.h>
d14388 1
a14388 1
getaddrinfo(0, 0, 0, 0)
d14391 1
a14391 1
if { (eval echo configure:13020: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d14394 1
a14394 1
			 		 eval 'cf_cv_have_lib_'$cf_ipv6lib'=yes'
d14411 7
a14417 1
eval 'cf_found_library=$cf_cv_have_lib_'$cf_ipv6lib
d14419 3
a14422 4
	if test $cf_found_library = no ; then
		{ echo "configure: error: No $cf_ipv6lib library found, cannot continue.  You must fetch lib$cf_ipv6lib.a
from an appropriate ipv6 kit and compile beforehand." 1>&2; exit 1; }
	fi
d14425 10
d14436 1
d14438 9
d14448 5
a14452 4
echo $ac_n "checking working getaddrinfo""... $ac_c" 1>&6
echo "configure:13053: checking working getaddrinfo" >&5
if eval "test \"`echo '$''{'cf_cv_getaddrinfo'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14454 3
d14458 9
a14466 6
if test "$cross_compiling" = yes; then
  cf_cv_getaddrinfo=unknown
else
  cat > conftest.$ac_ext <<EOF
#line 13062 "configure"
#include "confdefs.h"
d14468 7
a14474 5
#include <sys/types.h>
#include <netdb.h>
#include <string.h>
#include <sys/socket.h>
#include <netinet/in.h>
d14476 9
a14484 1
#define expect(a,b) if (strcmp(a,b) != 0) goto bad
d14486 9
a14494 5
int main()
{
   int passive, gaierr, inet4 = 0, inet6 = 0;
   struct addrinfo hints, *ai, *aitop;
   char straddr[INET6_ADDRSTRLEN], strport[16];
d14496 9
a14504 45
   for (passive = 0; passive <= 1; passive++) {
     memset(&hints, 0, sizeof(hints));
     hints.ai_family = AF_UNSPEC;
     hints.ai_flags = passive ? AI_PASSIVE : 0;
     hints.ai_socktype = SOCK_STREAM;
     if ((gaierr = getaddrinfo(NULL, "54321", &hints, &aitop)) != 0) {
       (void)gai_strerror(gaierr);
       goto bad;
     }
     for (ai = aitop; ai; ai = ai->ai_next) {
       if (ai->ai_addr == NULL ||
           ai->ai_addrlen == 0 ||
           getnameinfo(ai->ai_addr, ai->ai_addrlen,
                       straddr, sizeof(straddr), strport, sizeof(strport),
                       NI_NUMERICHOST|NI_NUMERICSERV) != 0) {
         goto bad;
       }
       switch (ai->ai_family) {
       case AF_INET:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "0.0.0.0");
         } else {
           expect(straddr, "127.0.0.1");
         }
         inet4++;
         break;
       case AF_INET6:
         expect(strport, "54321");
         if (passive) {
           expect(straddr, "::");
         } else {
           expect(straddr, "::1");
         }
         inet6++;
         break;
       case AF_UNSPEC:
         goto bad;
         break;
       default:
         /* another family support? */
         break;
       }
     }
   }
d14506 8
a14513 4
   if (!(inet4 == 0 || inet4 == 2))
     goto bad;
   if (!(inet6 == 0 || inet6 == 2))
     goto bad;
d14515 6
a14520 3
   if (aitop)
     freeaddrinfo(aitop);
   exit(0);
d14522 5
a14526 4
  bad:
   if (aitop)
     freeaddrinfo(aitop);
   exit(1);
d14529 77
d14607 3
a14609 3
if { (eval echo configure:13141: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  cf_cv_getaddrinfo=yes
d14613 2
a14614 2
  rm -fr conftest*
  cf_cv_getaddrinfo=no
d14616 1
a14616 1
rm -fr conftest*
d14619 74
d14694 8
a14701 1
fi
d14703 12
a14714 4
echo "$ac_t""$cf_cv_getaddrinfo" 1>&6
if test "$cf_cv_getaddrinfo" = yes ; then
	cat >> confdefs.h <<\EOF
#define HAVE_GAI_STRERROR 1
d14716 19
d14736 1
a14736 3
	cat >> confdefs.h <<\EOF
#define HAVE_GETADDRINFO 1
EOF
d14738 2
d14743 5
a14747 9
if test "$cf_cv_getaddrinfo" != "yes"; then
	if test "$cf_cv_ipv6type" != "linux"; then
		{ echo "configure: error: You must get working getaddrinfo() function,
or you can specify "--disable-ipv6"" 1>&2; exit 1; }
	else
		echo "configure: warning: The getaddrinfo() implementation on your system seems be buggy.
You should upgrade your system library to the newest version
of GNU C library (aka glibc)." 1>&2
	fi
a14750 1
fi
d14752 2
a14753 2
echo $ac_n "checking if experimental element-justification logic should be used""... $ac_c" 1>&6
echo "configure:13184: checking if experimental element-justification logic should be used" >&5
d14755 6
a14760 6
# Check whether --enable-justify-elts or --disable-justify-elts was given.
if test "${enable_justify_elts+set}" = set; then
  enableval="$enable_justify_elts"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_exp_justify_elts=$enableval 
d14762 1
a14762 1
    use_exp_justify_elts=no
d14765 2
a14766 2
  enableval=no 
  use_exp_justify_elts=no
d14770 3
a14772 3
echo "$ac_t""$use_exp_justify_elts" 1>&6
test $use_exp_justify_elts != no && cat >> confdefs.h <<\EOF
#define EXP_JUSTIFY_ELTS 1
d14776 2
a14777 2
echo $ac_n "checking if experimental keyboard-layout logic should be used""... $ac_c" 1>&6
echo "configure:13208: checking if experimental keyboard-layout logic should be used" >&5
d14779 6
a14784 6
# Check whether --enable-kbd-layout or --disable-kbd-layout was given.
if test "${enable_kbd_layout+set}" = set; then
  enableval="$enable_kbd_layout"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_kbd_layout=$enableval 
d14786 1
a14786 1
    use_kbd_layout=no
d14789 2
a14790 2
  enableval=no 
  use_kbd_layout=no
d14794 3
a14796 3
echo "$ac_t""$use_kbd_layout" 1>&6
test $use_kbd_layout != no && cat >> confdefs.h <<\EOF
#define EXP_KEYBOARD_LAYOUT 1
d14800 2
a14801 2
echo $ac_n "checking if experimental JavaScript support should be used""... $ac_c" 1>&6
echo "configure:13232: checking if experimental JavaScript support should be used" >&5
d14803 6
a14808 6
# Check whether --enable-libjs or --disable-libjs was given.
if test "${enable_libjs+set}" = set; then
  enableval="$enable_libjs"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_libjs=$enableval 
d14810 1
a14810 1
    use_libjs=no
d14813 2
a14814 2
  enableval=no 
  use_libjs=no
d14818 3
a14820 3
echo "$ac_t""$use_libjs" 1>&6
test $use_libjs != no && cat >> confdefs.h <<\EOF
#define EXP_LIBJS 1
d14824 2
a14825 2
echo $ac_n "checking if experimental nested-table logic should be used""... $ac_c" 1>&6
echo "configure:13256: checking if experimental nested-table logic should be used" >&5
d14827 6
a14832 6
# Check whether --enable-nested-tables or --disable-nested-tables was given.
if test "${enable_nested_tables+set}" = set; then
  enableval="$enable_nested_tables"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nested_tables=$enableval 
d14834 1
a14834 1
    use_nested_tables=no
d14837 2
a14838 2
  enableval=no 
  use_nested_tables=no
d14842 3
a14844 3
echo "$ac_t""$use_nested_tables" 1>&6
test $use_nested_tables != no && cat >> confdefs.h <<\EOF
#define EXP_NESTED_TABLES 1
a14847 2
echo $ac_n "checking if html source should be colorized""... $ac_c" 1>&6
echo "configure:13280: checking if html source should be colorized" >&5
d14849 13
a14861 6
# Check whether --enable-prettysrc or --disable-prettysrc was given.
if test "${enable_prettysrc+set}" = set; then
  enableval="$enable_prettysrc"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_prettysrc=$enableval 
d14863 1
a14863 1
    use_prettysrc=no
d14866 2
a14867 2
  enableval=no 
  use_prettysrc=no
d14871 6
a14876 3
echo "$ac_t""$use_prettysrc" 1>&6
test $use_prettysrc != no && cat >> confdefs.h <<\EOF
#define USE_PRETTYSRC 1
d14880 18
a14897 2
echo $ac_n "checking if read-progress message should show ETA""... $ac_c" 1>&6
echo "configure:13304: checking if read-progress message should show ETA" >&5
d14899 9
a14907 6
# Check whether --enable-read-eta or --disable-read-eta was given.
if test "${enable_read_eta+set}" = set; then
  enableval="$enable_read_eta"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_read_eta=$enableval 
d14909 4
a14912 1
    use_read_eta=no
d14915 5
a14919 2
  enableval=no 
  use_read_eta=no
d14923 14
a14936 3
echo "$ac_t""$use_read_eta" 1>&6
test $use_read_eta != no && cat >> confdefs.h <<\EOF
#define EXP_READPROGRESS 1
a14938 12

echo $ac_n "checking if scrollbar code should be used""... $ac_c" 1>&6
echo "configure:13328: checking if scrollbar code should be used" >&5

# Check whether --enable-scrollbar or --disable-scrollbar was given.
if test "${enable_scrollbar+set}" = set; then
  enableval="$enable_scrollbar"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_scrollbar=$enableval 
  else
    use_scrollbar=no
d14941 5
a14945 2
  enableval=no 
  use_scrollbar=no
d14949 1
a14949 1
echo "$ac_t""$use_scrollbar" 1>&6
d14951 10
a14960 6
if test $use_scrollbar != no ; then
	if test .$cf_cv_fancy_curses != .yes ; then
		echo "configure: warning: Configuration does not support ACS_xxx definitions" 1>&2
	else
		cat >> confdefs.h <<\EOF
#define USE_SCROLLBAR 1
d14962 4
a14965 2

	fi
d14968 1
a14968 2
echo $ac_n "checking if source caching should be used""... $ac_c" 1>&6
echo "configure:13359: checking if source caching should be used" >&5
d14970 9
a14978 6
# Check whether --enable-source-cache or --disable-source-cache was given.
if test "${enable_source_cache+set}" = set; then
  enableval="$enable_source_cache"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_source_cache=$enableval 
d14980 4
a14983 1
    use_source_cache=no
d14986 5
a14990 2
  enableval=no 
  use_source_cache=no
d14994 14
a15007 3
echo "$ac_t""$use_source_cache" 1>&6
test $use_source_cache != no && cat >> confdefs.h <<\EOF
#define SOURCE_CACHE 1
a15009 15




echo $ac_n "checking if alternative line-edit bindings should be used""... $ac_c" 1>&6
echo "configure:13386: checking if alternative line-edit bindings should be used" >&5

# Check whether --enable-alt-bindings or --disable-alt-bindings was given.
if test "${enable_alt_bindings+set}" = set; then
  enableval="$enable_alt_bindings"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_alt_bindings=$enableval 
  else
    use_alt_bindings=yes
d15012 5
a15016 2
  enableval=no 
  use_alt_bindings=yes
d15020 1
a15020 4
echo "$ac_t""$use_alt_bindings" 1>&6
test $use_alt_bindings != no && cat >> confdefs.h <<\EOF
#define EXP_ALT_BINDINGS 1
EOF
d15022 6
a15027 7

echo $ac_n "checking if you want to use extended HTML DTD logic""... $ac_c" 1>&6
echo "configure:13410: checking if you want to use extended HTML DTD logic" >&5

# Check whether --enable-extended-dtd or --disable-extended-dtd was given.
if test "${enable_extended_dtd+set}" = set; then
  enableval="$enable_extended_dtd"
d15030 1
a15030 1
    use_ext_htmldtd=no 
d15032 4
a15035 1
    use_ext_htmldtd=yes
d15039 4
a15042 1
  use_ext_htmldtd=yes
d15046 1
a15046 4
echo "$ac_t""$use_ext_htmldtd" 1>&6
test $use_ext_htmldtd = "no" && cat >> confdefs.h <<\EOF
#define NO_EXTENDED_HTMLDTD 1
EOF
d15048 6
a15053 7

echo $ac_n "checking if partial-display should be used""... $ac_c" 1>&6
echo "configure:13434: checking if partial-display should be used" >&5

# Check whether --enable-partial or --disable-partial was given.
if test "${enable_partial+set}" = set; then
  enableval="$enable_partial"
d15056 1
a15056 1
    use_partial_display=$enableval 
d15058 4
a15061 1
    use_partial_display=yes
d15065 2
a15066 7
  use_partial_display=yes
  
fi

echo "$ac_t""$use_partial_display" 1>&6
test $use_partial_display != no && cat >> confdefs.h <<\EOF
#define DISP_PARTIAL 1
a15068 16

echo $ac_n "checking if you want to use external commands""... $ac_c" 1>&6
echo "configure:13458: checking if you want to use external commands" >&5

# Check whether --enable-externs or --disable-externs was given.
if test "${enable_externs+set}" = set; then
  enableval="$enable_externs"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_externs=yes 
  else
    use_externs=no
  fi
else
  enableval=no 
  use_externs=no
d15072 1
a15072 7
echo "$ac_t""$use_externs" 1>&6
if test $use_externs != "no" ; then
	cat >> confdefs.h <<\EOF
#define USE_EXTERNALS 1
EOF

	LIBOBJS="$LIBOBJS LYExtern.o"
d15075 2
a15076 2
echo $ac_n "checking if you want to use setfont support""... $ac_c" 1>&6
echo "configure:13485: checking if you want to use setfont support" >&5
d15078 6
a15083 6
# Check whether --enable-font-switch or --disable-font-switch was given.
if test "${enable_font_switch+set}" = set; then
  enableval="$enable_font_switch"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_setfont=yes 
d15085 4
a15088 1
    use_setfont=no
d15091 5
a15095 2
  enableval=no 
  use_setfont=no
d15099 1
a15099 4
echo "$ac_t""$use_setfont" 1>&6
test $use_setfont = yes && cat >> confdefs.h <<\EOF
#define EXP_CHARTRANS_AUTOSWITCH 1
EOF
d15101 2
d15104 5
a15108 8
echo $ac_n "checking if you want cgi-link support""... $ac_c" 1>&6
echo "configure:13509: checking if you want cgi-link support" >&5

# Check whether --enable-cgi-links or --disable-cgi-links was given.
if test "${enable_cgi_links+set}" = set; then
  enableval="$enable_cgi_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
d15110 1
a15110 1
#define LYNXCGI_LINKS 1
d15115 1
a15115 1
  enableval=no   
a15119 2
echo $ac_n "checking if you want change-exec support""... $ac_c" 1>&6
echo "configure:13528: checking if you want change-exec support" >&5
d15121 9
a15129 9
# Check whether --enable-change-exec or --disable-change-exec was given.
if test "${enable_change_exec+set}" = set; then
  enableval="$enable_change_exec"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_change_exec=yes 
  else
    use_change_exec=no
  fi
d15131 20
a15150 3
  enableval=no 
  use_change_exec=no
  
d15152 3
a15154 19

echo "$ac_t""$use_change_exec" 1>&6
test $use_change_exec = yes && cat >> confdefs.h <<\EOF
#define ENABLE_OPTS_CHANGE_EXEC 1
EOF


echo $ac_n "checking if you want exec-links support""... $ac_c" 1>&6
echo "configure:13552: checking if you want exec-links support" >&5

# Check whether --enable-exec-links or --disable-exec-links was given.
if test "${enable_exec_links+set}" = set; then
  enableval="$enable_exec_links"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_links=$enableval 
  else
    use_exec_links=$enableval
  fi
d15156 1
a15156 3
  enableval=$use_change_exec 
  use_exec_links=$enableval
  
d15159 3
a15161 4
echo "$ac_t""$use_exec_links" 1>&6
test $use_exec_links = yes && cat >> confdefs.h <<\EOF
#define EXEC_LINKS 1
EOF
d15164 11
a15174 2
echo $ac_n "checking if you want exec-scripts support""... $ac_c" 1>&6
echo "configure:13576: checking if you want exec-scripts support" >&5
d15176 27
a15202 14
# Check whether --enable-exec-scripts or --disable-exec-scripts was given.
if test "${enable_exec_scripts+set}" = set; then
  enableval="$enable_exec_scripts"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "$use_change_exec" ; then
    use_exec_scripts=$enableval 
  else
    use_exec_scripts=$enableval
  fi
else
  enableval=$use_change_exec 
  use_exec_scripts=$enableval
  
fi
d15204 11
a15214 4
echo "$ac_t""$use_exec_scripts" 1>&6
test $use_exec_scripts = yes && cat >> confdefs.h <<\EOF
#define EXEC_SCRIPTS 1
EOF
d15216 3
d15220 3
a15222 2
echo $ac_n "checking if you want internal-links feature""... $ac_c" 1>&6
echo "configure:13600: checking if you want internal-links feature" >&5
d15224 2
a15225 18
# Check whether --enable-internal-links or --disable-internal-links was given.
if test "${enable_internal_links+set}" = set; then
  enableval="$enable_internal_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_internal_links=yes 
  else
    use_internal_links=no
  fi
else
  enableval=no 
  use_internal_links=no
  
fi

echo "$ac_t""$use_internal_links" 1>&6
test $use_internal_links = no && cat >> confdefs.h <<\EOF
#define DONT_TRACK_INTERNAL_LINKS 1
d15228 1
a15229 2
echo $ac_n "checking if you want to fork NSL requests""... $ac_c" 1>&6
echo "configure:13624: checking if you want to fork NSL requests" >&5
d15231 9
a15239 9
# Check whether --enable-nsl-fork or --disable-nsl-fork was given.
if test "${enable_nsl_fork+set}" = set; then
  enableval="$enable_nsl_fork"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nsl_fork=yes 
  else
    use_nsl_fork=no
  fi
d15241 1665
a16905 3
  enableval=no 
  use_nsl_fork=no
  
d16908 9
a16916 3
echo "$ac_t""$use_nsl_fork" 1>&6
test $use_nsl_fork = yes && cat >> confdefs.h <<\EOF
#define NSL_FORK 1
d16918 72
d16991 63
d17055 12
a17066 2
echo $ac_n "checking if you want to log URL requests via syslog""... $ac_c" 1>&6
echo "configure:13648: checking if you want to log URL requests via syslog" >&5
d17068 11
a17078 13
# Check whether --enable-syslog or --disable-syslog was given.
if test "${enable_syslog+set}" = set; then
  enableval="$enable_syslog"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_syslog=yes 
  else
    use_syslog=no
  fi
else
  enableval=no 
  use_syslog=no
  
a17080 4
echo "$ac_t""$use_syslog" 1>&6
test $use_syslog = yes && cat >> confdefs.h <<\EOF
#define SYSLOG_REQUESTED_URLS 1
EOF
d17083 26
a17108 2
echo $ac_n "checking if persistent-cookie logic should be used""... $ac_c" 1>&6
echo "configure:13672: checking if persistent-cookie logic should be used" >&5
d17110 7
a17116 9
# Check whether --enable-persistent-cookies or --disable-persistent-cookies was given.
if test "${enable_persistent_cookies+set}" = set; then
  enableval="$enable_persistent_cookies"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_filed_cookies=$enableval 
  else
    use_filed_cookies=yes
  fi
d17118 4
a17121 3
  enableval=yes 
  use_filed_cookies=yes
  
d17123 2
d17126 9
a17134 18
echo "$ac_t""$use_filed_cookies" 1>&6
test $use_filed_cookies != no && cat >> confdefs.h <<\EOF
#define EXP_PERSISTENT_COOKIES 1
EOF


echo $ac_n "checking if you want to underline links""... $ac_c" 1>&6
echo "configure:13696: checking if you want to underline links" >&5

# Check whether --enable-underlines or --disable-underlines was given.
if test "${enable_underlines+set}" = set; then
  enableval="$enable_underlines"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_underline=yes 
  else
    use_underline=no
  fi
d17136 9
a17144 4
  enableval=no 
  use_underline=no
  
fi
d17146 3
a17148 3
echo "$ac_t""$use_underline" 1>&6
test $use_underline = yes && cat >> confdefs.h <<\EOF
#define UNDERLINE_LINKS 1
d17150 3
a17152 14


echo $ac_n "checking if help files should be gzip'ed""... $ac_c" 1>&6
echo "configure:13720: checking if help files should be gzip'ed" >&5

# Check whether --enable-gzip-help or --disable-gzip-help was given.
if test "${enable_gzip_help+set}" = set; then
  enableval="$enable_gzip_help"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_gzip_help=$enableval 
  else
    use_gzip_help=no
  fi
d17154 4
a17157 3
  enableval=no 
  use_gzip_help=no
  
d17159 2
a17161 7
echo "$ac_t""$use_gzip_help" 1>&6

COMPRESS_PROG=
COMPRESS_EXT=
if test $use_gzip_help = yes ; then
	COMPRESS_PROG=$ac_cv_path_GZIP
	COMPRESS_EXT=.gz
d17163 18
d17182 7
a17188 9


echo $ac_n "checking if you want to use zlib for decompression of some gzip files""... $ac_c" 1>&6
echo "configure:13749: checking if you want to use zlib for decompression of some gzip files" >&5

# Check whether --with-zlib or --without-zlib was given.
if test "${with_zlib+set}" = set; then
  withval="$with_zlib"
  use_zlib=$withval
d17190 4
a17193 1
  use_zlib=no
d17195 2
d17198 19
a17216 1
echo "$ac_t""$use_zlib" 1>&6
a17217 7
if test ".$use_zlib" != ".no" ; then
	echo $ac_n "checking if we need to add -I option to get zlib.h""... $ac_c" 1>&6
echo "configure:13763: checking if we need to add -I option to get zlib.h" >&5
	cat > conftest.$ac_ext <<EOF
#line 13765 "configure"
#include "confdefs.h"
#include <zlib.h>
d17219 1
a17219 1

d17222 1
a17222 1
if { (eval echo configure:13772: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d17224 1
a17224 1
  echo "$ac_t""no" 1>&6
d17229 4
a17232 56
  
	echo "$ac_t""yes" 1>&6
	cf_search=""

test "$includedir" != NONE && \
test -d "$includedir" && \
cf_search="$cf_search $includedir $includedir/zlib"

test "$oldincludedir" != NONE && \
test -d "$oldincludedir" && \
cf_search="$cf_search $oldincludedir $oldincludedir/zlib"

test "$prefix" != NONE && \
test -d "$prefix" && \
cf_search="$cf_search $prefix/include $prefix/include/zlib $prefix/zlib/include"

test "$prefix" != /usr/local && \
test -d /usr/local && \
cf_search="$cf_search /usr/local/include /usr/local/include/zlib /usr/local/zlib/include"

test "$prefix" != /usr && \
cf_search="$cf_search /usr/include /usr/include/zlib /usr/zlib/include"

test "$prefix" != /opt && \
test -d /opt && \
cf_search="$cf_search /opt/include /opt/include/zlib /opt/zlib/include"

cf_search="$cf_search $HOME/lib $HOME/lib/zlib $HOME/zlib/lib"

	for cf_incdir in $cf_search
	do
		if test -f $cf_incdir/zlib.h ; then
			
for cf_add_cflags in -I$cf_incdir
do
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case "$CPPFLAGS" in
		*$cf_add_cflags)
			;;
		*)
			CPPFLAGS="$CPPFLAGS $cf_add_cflags"
			;;
		esac
		;;
	*)
		CFLAGS="$CFLAGS $cf_add_cflags"
		;;
	esac
done

			test -n "$verbose" && echo "	... found in $cf_incdir" 1>&6

			break
		fi
		test -n "$verbose" && echo "	... tested $cf_incdir" 1>&6
a17233 2
	done
	
d17235 7
a17241 7
rm -f conftest*
	
	eval 'cf_cv_have_lib_'z'=no'
	cf_libdir=""
	echo $ac_n "checking for gzopen""... $ac_c" 1>&6
echo "configure:13844: checking for gzopen" >&5
if eval "test \"`echo '$''{'ac_cv_func_gzopen'+set}'`\" = set"; then
d17244 4
a17247 2
  cat > conftest.$ac_ext <<EOF
#line 13849 "configure"
a17248 3
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gzopen(); below.  */
#include <assert.h>
d17252 1
a17252 1
char gzopen();
d17255 1
a17255 10

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gzopen) || defined (__stub___gzopen)
choke me
#else
gzopen();
#endif

d17258 1
a17258 1
if { (eval echo configure:13872: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d17260 1
a17260 1
  eval "ac_cv_func_gzopen=yes"
d17265 1
a17265 1
  eval "ac_cv_func_gzopen=no"
d17268 2
d17271 1
a17271 2

if eval "test \"`echo '$ac_cv_func_'gzopen`\" = yes"; then
d17273 19
a17291 1
  eval 'cf_cv_have_lib_'z'=yes'
d17294 1
d17296 12
a17307 6
		cf_save_LIBS="$LIBS"
		echo $ac_n "checking for gzopen in -lz""... $ac_c" 1>&6
echo "configure:13892: checking for gzopen in -lz" >&5
		LIBS="-lz $LIBS"
		cat > conftest.$ac_ext <<EOF
#line 13895 "configure"
d17309 5
a17313 1
#include <zlib.h>
d17315 1
a17315 1
gzopen("name","mode")
d17318 1
a17318 1
if { (eval echo configure:13902: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d17320 1
a17320 3
  echo "$ac_t""yes" 1>&6
			 eval 'cf_cv_have_lib_'z'=yes'
			
d17325 4
a17328 2
  echo "$ac_t""no" 1>&6
			cf_search=""
d17330 8
a17337 7
test "$libdir" != NONE && \
test -d $libdir && \
cf_search="$cf_search $libdir $libdir/z"

test "$exec_prefix" != NONE && \
test -d $exec_prefix && \
cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/z"
d17339 1
a17339 4
test "$prefix" != NONE && \
test "$prefix" != "$exec_prefix" && \
test -d $prefix && \
cf_search="$cf_search $prefix/lib $prefix/lib/z $prefix/z/lib"
d17341 3
a17343 3
test "$prefix" != /usr/local && \
test -d /usr/local && \
cf_search="$cf_search /usr/local/lib /usr/local/lib/z /usr/local/z/lib"
d17345 15
a17359 11
test "$prefix" != /usr && \
cf_search="$cf_search /usr/lib /usr/lib/z /usr/z/lib"

test "$prefix" != / && \
cf_search="$cf_search /lib /lib/z /z/lib"

test "$prefix" != /opt && \
test -d /opt && \
cf_search="$cf_search /opt/lib /opt/lib/z /opt/z/lib"

cf_search="$cf_search $HOME/lib $HOME/lib/z $HOME/z/lib"
a17360 9
			for cf_libdir in $cf_search
			do
				echo $ac_n "checking for -lz in $cf_libdir""... $ac_c" 1>&6
echo "configure:13946: checking for -lz in $cf_libdir" >&5
				LIBS="-L$cf_libdir -lz $cf_save_LIBS"
				cat > conftest.$ac_ext <<EOF
#line 13949 "configure"
#include "confdefs.h"
#include <zlib.h>
d17362 1
a17362 1
gzopen("name","mode")
d17365 1
a17365 1
if { (eval echo configure:13956: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d17367 1
a17367 3
  echo "$ac_t""yes" 1>&6
			 		 eval 'cf_cv_have_lib_'z'=yes'
					 break
d17372 1
a17372 2
  echo "$ac_t""no" 1>&6
					 LIBS="$cf_save_LIBS"
d17375 1
a17375 8
			done
			
fi
rm -f conftest*
		
fi

eval 'cf_found_library=$cf_cv_have_lib_'z
a17376 2
if test $cf_found_library = no ; then
	{ echo "configure: error: Cannot link z library" 1>&2; exit 1; }
d17378 6
a17383 4


	cat >> confdefs.h <<\EOF
#define USE_ZLIB 1
d17386 1
a17386 4
fi

echo $ac_n "checking if you want to exclude FINGER code""... $ac_c" 1>&6
echo "configure:13990: checking if you want to exclude FINGER code" >&5
a17387 9
# Check whether --enable-finger or --disable-finger was given.
if test "${enable_finger+set}" = set; then
  enableval="$enable_finger"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_finger=yes 
  else
    use_finger=no
  fi
d17389 1
a17389 3
  enableval=yes 
  use_finger=no
  
d17392 2
a17393 4
echo "$ac_t""$use_finger" 1>&6
test $use_finger != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_FINGER 1
EOF
d17395 5
a17399 22

echo $ac_n "checking if you want to exclude GOPHER code""... $ac_c" 1>&6
echo "configure:14014: checking if you want to exclude GOPHER code" >&5

# Check whether --enable-gopher or --disable-gopher was given.
if test "${enable_gopher+set}" = set; then
  enableval="$enable_gopher"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_gopher=yes 
  else
    use_gopher=no
  fi
else
  enableval=yes 
  use_gopher=no
  
fi

echo "$ac_t""$use_gopher" 1>&6
test $use_gopher != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_GOPHER 1
d17402 1
a17402 13

echo $ac_n "checking if you want to exclude NEWS code""... $ac_c" 1>&6
echo "configure:14038: checking if you want to exclude NEWS code" >&5

# Check whether --enable-news or --disable-news was given.
if test "${enable_news+set}" = set; then
  enableval="$enable_news"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_news=yes 
  else
    use_news=no
  fi
d17404 2
a17405 51
  enableval=yes 
  use_news=no
  
fi

echo "$ac_t""$use_news" 1>&6
test $use_news != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_NEWS 1
EOF


echo $ac_n "checking if you want to exclude FTP code""... $ac_c" 1>&6
echo "configure:14062: checking if you want to exclude FTP code" >&5

# Check whether --enable-ftp or --disable-ftp was given.
if test "${enable_ftp+set}" = set; then
  enableval="$enable_ftp"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ftp=yes 
  else
    use_ftp=no
  fi
else
  enableval=yes 
  use_ftp=no
  
fi

echo "$ac_t""$use_ftp" 1>&6
test $use_ftp != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_FTP 1
EOF





# All DirEd functions that were enabled on compilation can be disabled
# or modified at run time via DIRED_MENU symbols in lynx.cfg.
echo $ac_n "checking if directory-editor code should be used""... $ac_c" 1>&6
echo "configure:14091: checking if directory-editor code should be used" >&5

# Check whether --enable-dired or --disable-dired was given.
if test "${enable_dired+set}" = set; then
  enableval="$enable_dired"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_dired=$enableval 
  else
    use_dired=yes
a17406 5
else
  enableval=yes 
  use_dired=yes
  
fi
d17408 13
a17420 1
echo "$ac_t""$use_dired" 1>&6
d17422 1
a17422 5
if test ".$use_dired" != ".no" ; then
	LIBOBJS="$LIBOBJS LYLocal.o"
	cat >> confdefs.h <<\EOF
#define DIRED_SUPPORT 1
EOF
d17424 1
a17424 11

	echo $ac_n "checking if you wish to allow extracting from archives via DirEd""... $ac_c" 1>&6
echo "configure:14118: checking if you wish to allow extracting from archives via DirEd" >&5
	
# Check whether --enable-dired-dearchive or --disable-dired-dearchive was given.
if test "${enable_dired_dearchive+set}" = set; then
  enableval="$enable_dired_dearchive"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    cat >> confdefs.h <<\EOF
#define ARCHIVE_ONLY 1
d17426 3
a17428 2
 
  fi
d17430 4
a17433 1
  enableval=yes   
d17435 9
d17445 1
a17445 1
	echo "$ac_t""$enableval" 1>&6
d17447 1
a17447 12
	echo $ac_n "checking if DirEd mode should override keys""... $ac_c" 1>&6
echo "configure:14137: checking if DirEd mode should override keys" >&5
	
# Check whether --enable-dired-override or --disable-dired-override was given.
if test "${enable_dired_override+set}" = set; then
  enableval="$enable_dired_override"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_OVERRIDE 1
d17449 3
a17451 2

  fi
d17453 4
a17456 6
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_OVERRIDE 1
EOF

  
d17458 11
d17470 3
a17472 1
	echo "$ac_t""$enableval" 1>&6
d17474 2
a17475 9
	echo $ac_n "checking if you wish to allow permissions commands via DirEd""... $ac_c" 1>&6
echo "configure:14163: checking if you wish to allow permissions commands via DirEd" >&5
	
# Check whether --enable-dired-permit or --disable-dired-permit was given.
if test "${enable_dired_permit+set}" = set; then
  enableval="$enable_dired_permit"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
d17477 22
a17498 2
    cat >> confdefs.h <<\EOF
#define OK_PERMIT 1
d17500 11
d17512 4
a17515 1
  fi
d17517 1
a17517 6
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_PERMIT 1
EOF

  
d17520 16
a17535 1
	echo "$ac_t""$enableval" 1>&6
d17537 3
a17539 10
	echo $ac_n "checking if you wish to allow executable-permission commands via DirEd""... $ac_c" 1>&6
echo "configure:14189: checking if you wish to allow executable-permission commands via DirEd" >&5
	
# Check whether --enable-dired-xpermit or --disable-dired-xpermit was given.
if test "${enable_dired_xpermit+set}" = set; then
  enableval="$enable_dired_xpermit"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    cat >> confdefs.h <<\EOF
#define NO_CHANGE_EXECUTE_PERMS 1
d17541 3
a17543 2
 
  fi
d17545 4
a17548 1
  enableval=yes   
d17550 2
d17553 7
a17559 1
	echo "$ac_t""$enableval" 1>&6
d17561 1
a17561 13
	echo $ac_n "checking if you wish to allow "tar" commands from DirEd""... $ac_c" 1>&6
echo "configure:14208: checking if you wish to allow "tar" commands from DirEd" >&5
	
# Check whether --enable-dired-tar or --disable-dired-tar was given.
if test "${enable_dired_tar+set}" = set; then
  enableval="$enable_dired_tar"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_TAR 1
EOF
d17563 10
a17572 1
  fi
d17574 10
a17583 4
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_TAR 1
EOF
d17585 1
a17585 2
  
fi
d17587 8
a17594 1
	echo "$ac_t""$enableval" 1>&6
d17596 1
a17596 12
	echo $ac_n "checking if you wish to allow "uudecode" commands from DirEd""... $ac_c" 1>&6
echo "configure:14234: checking if you wish to allow "uudecode" commands from DirEd" >&5
	
# Check whether --enable-dired-uudecode or --disable-dired-uudecode was given.
if test "${enable_dired_uudecode+set}" = set; then
  enableval="$enable_dired_uudecode"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_UUDECODE 1
d17598 3
a17600 2

  fi
d17602 6
a17607 6
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_UUDECODE 1
EOF

  
d17610 3
a17612 17
	echo "$ac_t""$enableval" 1>&6

	echo $ac_n "checking if you wish to allow "zip" and "unzip" commands from DirEd""... $ac_c" 1>&6
echo "configure:14260: checking if you wish to allow "zip" and "unzip" commands from DirEd" >&5
	
# Check whether --enable-dired-zip or --disable-dired-zip was given.
if test "${enable_dired_zip+set}" = set; then
  enableval="$enable_dired_zip"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_ZIP 1
EOF

  fi
d17614 1
a17614 6
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_ZIP 1
EOF

  
d17617 16
a17632 1
	echo "$ac_t""$enableval" 1>&6
d17634 3
a17636 12
	echo $ac_n "checking if you wish to allow "gzip" and "gunzip" commands from DirEd""... $ac_c" 1>&6
echo "configure:14286: checking if you wish to allow "gzip" and "gunzip" commands from DirEd" >&5
	
# Check whether --enable-dired-gzip or --disable-dired-gzip was given.
if test "${enable_dired_gzip+set}" = set; then
  enableval="$enable_dired_gzip"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_GZIP 1
d17638 3
a17640 2

  fi
d17642 7
a17648 4
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_GZIP 1
EOF
a17649 1
  
d17651 5
a17655 2

	echo "$ac_t""$enableval" 1>&6
d17658 1
a17658 2
echo $ac_n "checking if you want long-directory listings""... $ac_c" 1>&6
echo "configure:14313: checking if you want long-directory listings" >&5
d17660 11
a17670 12
# Check whether --enable-long-list or --disable-long-list was given.
if test "${enable_long_list+set}" = set; then
  enableval="$enable_long_list"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define LONG_LIST 1
EOF

  fi
d17672 10
a17681 4
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define LONG_LIST 1
EOF
d17683 1
a17683 2
  
fi
d17685 8
a17692 1
echo "$ac_t""$enableval" 1>&6
d17694 1
a17694 10
echo $ac_n "checking if parent-directory references are permitted""... $ac_c" 1>&6
echo "configure:14339: checking if parent-directory references are permitted" >&5

# Check whether --enable-parent-dir-refs or --disable-parent-dir-refs was given.
if test "${enable_parent_dir_refs+set}" = set; then
  enableval="$enable_parent_dir_refs"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    cat >> confdefs.h <<\EOF
#define NO_PARENT_DIR_REFERENCE 1
d17696 3
a17698 2
 
  fi
d17700 6
a17705 1
  enableval=yes   
d17708 2
a17709 15
echo "$ac_t""$enableval" 1>&6

if test $cf_cv_screen = pdcurses ; then
	
	# If we find X, set shell vars x_includes and x_libraries to the
# paths, otherwise set no_x=yes.
# Uses ac_ vars as temps to allow command line to override cache and checks.
# --without-x overrides everything else, but does not touch the cache.
echo $ac_n "checking for X""... $ac_c" 1>&6
echo "configure:14364: checking for X" >&5


# Check whether --with-x or --without-x was given.
if test "${with_x+set}" = set; then
  withval="$with_x"
d17711 2
d17715 5
a17719 10
# $have_x is `yes', `no', `disabled', or empty when we do not yet know.
if test "x$with_x" = xno; then
  # The user explicitly disabled X.
  have_x=disabled
else
  if test "x$x_includes" != xNONE && test "x$x_libraries" != xNONE; then
    # Both variables are already set.
    have_x=yes
  else
if eval "test \"`echo '$''{'ac_cv_have_x'+set}'`\" = set"; then
d17722 13
a17734 9
  # One or both of the vars are not set, and there is no cached value.
ac_x_includes=NO ac_x_libraries=NO
rm -fr conftestdir
if mkdir conftestdir; then
  cd conftestdir
  # Make sure to not put "make" in the Imakefile rules, since we grep it out.
  cat > Imakefile <<'EOF'
acfindx:
	@@echo 'ac_im_incroot="${INCROOT}"; ac_im_usrlibdir="${USRLIBDIR}"; ac_im_libdir="${LIBDIR}"'
d17736 18
a17753 24
  if (xmkmf) >/dev/null 2>/dev/null && test -f Makefile; then
    # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
    eval `${MAKE-make} acfindx 2>/dev/null | grep -v make`
    # Open Windows xmkmf reportedly sets LIBDIR instead of USRLIBDIR.
    for ac_extension in a so sl; do
      if test ! -f $ac_im_usrlibdir/libX11.$ac_extension &&
        test -f $ac_im_libdir/libX11.$ac_extension; then
        ac_im_usrlibdir=$ac_im_libdir; break
      fi
    done
    # Screen out bogus values from the imake configuration.  They are
    # bogus both because they are the default anyway, and because
    # using them would break gcc on systems where it needs fixed includes.
    case "$ac_im_incroot" in
	/usr/include) ;;
	*) test -f "$ac_im_incroot/X11/Xos.h" && ac_x_includes="$ac_im_incroot" ;;
    esac
    case "$ac_im_usrlibdir" in
	/usr/lib | /lib) ;;
	*) test -d "$ac_im_usrlibdir" && ac_x_libraries="$ac_im_usrlibdir" ;;
    esac
  fi
  cd ..
  rm -fr conftestdir
d17756 1
a17756 3
if test "$ac_x_includes" = NO; then
  # Guess where to find include files, by looking for this one X11 .h file.
  test -z "$x_direct_test_include" && x_direct_test_include=X11/Intrinsic.h
d17758 8
a17765 3
  # First, try using that file with no special directory specified.
cat > conftest.$ac_ext <<EOF
#line 14427 "configure"
d17767 20
a17786 1
#include <$x_direct_test_include>
d17788 1
a17788 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:14432: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d17790 1
a17790 2
  # We can compile using X headers with no special include directory.
ac_x_includes=
a17791 1
  echo "$ac_err" >&5
d17795 1
a17795 43
  # Look for the header file in a standard set of common directories.
# Check X11 before X11Rn because it is often a symlink to the current release.
  for ac_dir in               \
    /usr/X11/include          \
    /usr/X11R6/include        \
    /usr/X11R5/include        \
    /usr/X11R4/include        \
                              \
    /usr/include/X11          \
    /usr/include/X11R6        \
    /usr/include/X11R5        \
    /usr/include/X11R4        \
                              \
    /usr/local/X11/include    \
    /usr/local/X11R6/include  \
    /usr/local/X11R5/include  \
    /usr/local/X11R4/include  \
                              \
    /usr/local/include/X11    \
    /usr/local/include/X11R6  \
    /usr/local/include/X11R5  \
    /usr/local/include/X11R4  \
                              \
    /usr/X386/include         \
    /usr/x386/include         \
    /usr/XFree86/include/X11  \
                              \
    /usr/include              \
    /usr/local/include        \
    /usr/unsupported/include  \
    /usr/athena/include       \
    /usr/local/x11r5/include  \
    /usr/lpp/Xamples/include  \
                              \
    /usr/openwin/include      \
    /usr/openwin/share/include \
    ; \
  do
    if test -r "$ac_dir/$x_direct_test_include"; then
      ac_x_includes=$ac_dir
      break
    fi
  done
d17798 1
a17798 1
fi # $ac_x_includes = NO
d17800 6
a17805 2
if test "$ac_x_libraries" = NO; then
  # Check for the libraries.
d17807 7
a17813 5
  test -z "$x_direct_test_library" && x_direct_test_library=Xt
  test -z "$x_direct_test_function" && x_direct_test_function=XtMalloc

  # See if we find them without any special options.
  # Don't add to $LIBS permanently.
d17815 1
a17815 1
  LIBS="-l$x_direct_test_library $LIBS"
d17817 1
a17817 1
#line 14501 "configure"
d17819 4
d17825 1
a17825 1
${x_direct_test_function}()
d17828 1
a17828 1
if { (eval echo configure:14508: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d17830 1
a17830 3
  LIBS="$ac_save_LIBS"
# We can link X programs with no special library path.
ac_x_libraries=
d17835 1
a17835 47
  LIBS="$ac_save_LIBS"
# First see if replacing the include by lib works.
# Check X11 before X11Rn because it is often a symlink to the current release.
for ac_dir in `echo "$ac_x_includes" | sed s/include/lib/` \
    /usr/X11/lib          \
    /usr/X11R6/lib        \
    /usr/X11R5/lib        \
    /usr/X11R4/lib        \
                          \
    /usr/lib/X11          \
    /usr/lib/X11R6        \
    /usr/lib/X11R5        \
    /usr/lib/X11R4        \
                          \
    /usr/local/X11/lib    \
    /usr/local/X11R6/lib  \
    /usr/local/X11R5/lib  \
    /usr/local/X11R4/lib  \
                          \
    /usr/local/lib/X11    \
    /usr/local/lib/X11R6  \
    /usr/local/lib/X11R5  \
    /usr/local/lib/X11R4  \
                          \
    /usr/X386/lib         \
    /usr/x386/lib         \
    /usr/XFree86/lib/X11  \
                          \
    /usr/lib              \
    /usr/local/lib        \
    /usr/unsupported/lib  \
    /usr/athena/lib       \
    /usr/local/x11r5/lib  \
    /usr/lpp/Xamples/lib  \
    /lib/usr/lib/X11	  \
                          \
    /usr/openwin/lib      \
    /usr/openwin/share/lib \
    ; \
do
  for ac_extension in a so sl; do
    if test -r $ac_dir/lib${x_direct_test_library}.$ac_extension; then
      ac_x_libraries=$ac_dir
      break 2
    fi
  done
done
d17838 39
a17876 1
fi # $ac_x_libraries = NO
d17878 5
a17882 3
if test "$ac_x_includes" = NO || test "$ac_x_libraries" = NO; then
  # Didn't find X anywhere.  Cache the known absence of X.
  ac_cv_have_x="have_x=no"
d17884 4
a17887 3
  # Record where we found X for the cache.
  ac_cv_have_x="have_x=yes \
	        ac_x_includes=$ac_x_includes ac_x_libraries=$ac_x_libraries"
d17889 1
a17890 3
  fi
  eval "$ac_cv_have_x"
fi # $with_x != no
d17892 3
a17894 3
if test "$have_x" != yes; then
  echo "$ac_t""$have_x" 1>&6
  no_x=yes
d17896 1
a17896 7
  # If each of the values was on the command line, it overrides each guess.
  test "x$x_includes" = xNONE && x_includes=$ac_x_includes
  test "x$x_libraries" = xNONE && x_libraries=$ac_x_libraries
  # Update the cache value to reflect the command line values.
  ac_cv_have_x="have_x=yes \
		ac_x_includes=$x_includes ac_x_libraries=$x_libraries"
  echo "$ac_t""libraries $x_libraries, headers $x_includes" 1>&6
d17899 4
a17902 16


# We need to check for -lsocket and -lnsl here in order to work around an
# autoconf bug.  autoconf-2.12 is not checking for these prior to checking for
# the X11R6 -lSM and -lICE libraries.  The resultant failures cascade...
# 	(tested on Solaris 2.5 w/ X11R6)
SYSTEM_NAME=`echo "$cf_cv_system_name"|tr ' ' -`
cf_have_X_LIBS=no
case $SYSTEM_NAME in
irix[56]*) ;;
clix*)
	# FIXME: modify the library lookup in autoconf to
	# allow _s.a suffix ahead of .a
	echo $ac_n "checking for open in -lc_s""... $ac_c" 1>&6
echo "configure:14608: checking for open in -lc_s" >&5
ac_lib_var=`echo c_s'_'open | sed 'y%./+-%__p_%'`
d17907 1
a17907 1
LIBS="-lc_s  $LIBS"
d17909 1
a17909 1
#line 14616 "configure"
d17914 1
a17914 1
char open();
d17917 1
a17917 1
open()
d17920 1
a17920 1
if { (eval echo configure:14627: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d17935 20
a17954 4
  LIBS="-lc_s $LIBS"
	echo $ac_n "checking for gethostname in -lbsd""... $ac_c" 1>&6
echo "configure:14644: checking for gethostname in -lbsd" >&5
ac_lib_var=`echo bsd'_'gethostname | sed 'y%./+-%__p_%'`
d17959 1
a17959 1
LIBS="-lbsd  $LIBS"
d17961 1
a17961 1
#line 14652 "configure"
d17966 1
a17966 1
char gethostname();
d17969 1
a17969 1
gethostname()
d17972 1
a17972 1
if { (eval echo configure:14663: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d17987 1
a17987 6
  LIBS="-lbsd $LIBS"
	echo $ac_n "checking for gethostname in -lnsl_s""... $ac_c" 1>&6
echo "configure:14680: checking for gethostname in -lnsl_s" >&5
ac_lib_var=`echo nsl_s'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d17989 48
a18036 2
  ac_save_LIBS="$LIBS"
LIBS="-lnsl_s  $LIBS"
d18038 1
a18038 1
#line 14688 "configure"
d18040 1
a18040 5
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

d18042 1
a18042 1
gethostname()
d18045 2
a18046 3
if { (eval echo configure:14699: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
d18051 7
a18057 1
  eval "ac_cv_lib_$ac_lib_var=no"
d18060 1
a18060 1
LIBS="$ac_save_LIBS"
d18062 3
a18064 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lnsl_s $LIBS"
	echo $ac_n "checking for XOpenDisplay in -lX11_s""... $ac_c" 1>&6
echo "configure:14716: checking for XOpenDisplay in -lX11_s" >&5
ac_lib_var=`echo X11_s'_'XOpenDisplay | sed 'y%./+-%__p_%'`
d18069 1
a18069 1
LIBS="-lX11_s  $LIBS"
d18071 1
a18071 1
#line 14724 "configure"
d18082 1
a18082 1
if { (eval echo configure:14735: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18097 8
a18104 4
  LIBS="-lX11_s $LIBS"
	echo $ac_n "checking for XtAppInitialize in -lXt_s""... $ac_c" 1>&6
echo "configure:14752: checking for XtAppInitialize in -lXt_s" >&5
ac_lib_var=`echo Xt_s'_'XtAppInitialize | sed 'y%./+-%__p_%'`
d18109 1
a18109 1
LIBS="-lXt_s  $LIBS"
d18111 1
a18111 1
#line 14760 "configure"
d18122 1
a18122 1
if { (eval echo configure:14771: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18137 4
a18140 1
  LIBS="-lXt_s $LIBS"
d18142 1
a18142 1
		
d18146 1
a18146 1
 
d18148 37
a18184 1
  echo "$ac_t""no" 1>&6
d18186 13
a18198 1
 
d18200 30
a18229 1
  echo "$ac_t""no" 1>&6
d18231 7
a18237 3
 
else
  echo "$ac_t""no" 1>&6
d18239 7
a18245 3
 
else
  echo "$ac_t""no" 1>&6
d18248 4
a18251 5
	;;
*)
	echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
echo "configure:14812: checking for socket in -lsocket" >&5
ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
d18256 1
a18256 1
LIBS="-lsocket  $LIBS"
d18258 1
a18258 1
#line 14820 "configure"
d18263 1
a18263 1
char socket();
d18266 1
a18266 1
socket()
d18269 1
a18269 1
if { (eval echo configure:14831: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18276 55
a18330 1
  eval "ac_cv_lib_$ac_lib_var=no"
d18333 9
a18341 1
LIBS="$ac_save_LIBS"
d18343 4
a18347 7
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo socket | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF
a18348 1
  LIBS="-lsocket $LIBS"
d18350 2
a18351 3
else
  echo "$ac_t""no" 1>&6
fi
d18353 27
a18379 10
	echo $ac_n "checking for gethostname in -lnsl""... $ac_c" 1>&6
echo "configure:14859: checking for gethostname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lnsl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 14867 "configure"
a18380 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();
d18383 1
a18383 1
gethostname()
d18386 1
a18386 1
if { (eval echo configure:14878: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18388 1
a18388 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d18393 1
a18393 1
  eval "ac_cv_lib_$ac_lib_var=no"
d18396 11
a18406 1
LIBS="$ac_save_LIBS"
d18408 2
d18411 6
a18416 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo nsl | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
a18418 1
  LIBS="-lnsl $LIBS"
d18420 34
a18453 2
else
  echo "$ac_t""no" 1>&6
d18456 2
a18457 2
	;;
esac
d18459 2
a18460 6
if test $cf_have_X_LIBS = no ; then
	if test "$no_x" = yes; then
  # Not all programs may use this symbol, but it does not hurt to define it.
  cat >> confdefs.h <<\EOF
#define X_DISPLAY_MISSING 1
EOF
a18461 5
  X_CFLAGS= X_PRE_LIBS= X_LIBS= X_EXTRA_LIBS=
else
  if test -n "$x_includes"; then
    X_CFLAGS="$X_CFLAGS -I$x_includes"
  fi
d18463 3
a18465 12
  # It would also be nice to do this for all -L options, not just this one.
  if test -n "$x_libraries"; then
    X_LIBS="$X_LIBS -L$x_libraries"
    # For Solaris; some versions of Sun CC require a space after -R and
    # others require no space.  Words are not sufficient . . . .
    case "`(uname -sr) 2>/dev/null`" in
    "SunOS 5"*)
      echo $ac_n "checking whether -R must be followed by a space""... $ac_c" 1>&6
echo "configure:14929: checking whether -R must be followed by a space" >&5
      ac_xsave_LIBS="$LIBS"; LIBS="$LIBS -R$x_libraries"
      cat > conftest.$ac_ext <<EOF
#line 14932 "configure"
d18467 1
a18467 1

d18469 1
a18469 1

d18472 2
a18473 3
if { (eval echo configure:14939: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_R_nospace=yes
d18478 1
a18478 11
  ac_R_nospace=no
fi
rm -f conftest*
      if test $ac_R_nospace = yes; then
	echo "$ac_t""no" 1>&6
	X_LIBS="$X_LIBS -R$x_libraries"
      else
	LIBS="$ac_xsave_LIBS -R $x_libraries"
	cat > conftest.$ac_ext <<EOF
#line 14955 "configure"
#include "confdefs.h"
d18480 2
a18481 1
int main() {
d18483 2
a18484 10
; return 0; }
EOF
if { (eval echo configure:14962: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_R_space=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_R_space=no
d18487 1
a18487 10
	if test $ac_R_space = yes; then
	  echo "$ac_t""yes" 1>&6
	  X_LIBS="$X_LIBS -R $x_libraries"
	else
	  echo "$ac_t""neither works" 1>&6
	fi
      fi
      LIBS="$ac_xsave_LIBS"
    esac
  fi
d18489 3
a18491 13
  # Check for system-dependent libraries X programs must link with.
  # Do this before checking for the system-independent R6 libraries
  # (-lICE), since we may need -lsocket or whatever for X linking.

  if test "$ISC" = yes; then
    X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl_s -linet"
  else
    # Martyn.Johnson@@cl.cam.ac.uk says this is needed for Ultrix, if the X
    # libraries were built with DECnet support.  And karl@@cs.umb.edu says
    # the Alpha needs dnet_stub (dnet does not exist).
    echo $ac_n "checking for dnet_ntoa in -ldnet""... $ac_c" 1>&6
echo "configure:14994: checking for dnet_ntoa in -ldnet" >&5
ac_lib_var=`echo dnet'_'dnet_ntoa | sed 'y%./+-%__p_%'`
d18496 1
a18496 1
LIBS="-ldnet  $LIBS"
d18498 1
a18498 1
#line 15002 "configure"
d18503 1
a18503 1
char dnet_ntoa();
d18506 1
a18506 1
dnet_ntoa()
d18509 1
a18509 1
if { (eval echo configure:15013: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18524 1
a18524 1
  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet"
d18529 3
a18531 5
    if test $ac_cv_lib_dnet_dnet_ntoa = no; then
      echo $ac_n "checking for dnet_ntoa in -ldnet_stub""... $ac_c" 1>&6
echo "configure:15035: checking for dnet_ntoa in -ldnet_stub" >&5
ac_lib_var=`echo dnet_stub'_'dnet_ntoa | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d18534 2
a18535 2
  ac_save_LIBS="$LIBS"
LIBS="-ldnet_stub  $LIBS"
d18537 54
a18590 1
#line 15043 "configure"
a18591 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char dnet_ntoa();
d18593 2
d18596 1
a18596 1
dnet_ntoa()
d18599 1
a18599 1
if { (eval echo configure:15054: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18601 1
a18601 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d18606 1
a18606 1
  eval "ac_cv_lib_$ac_lib_var=no"
d18609 2
a18610 1
LIBS="$ac_save_LIBS"
d18613 8
a18620 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  X_EXTRA_LIBS="$X_EXTRA_LIBS -ldnet_stub"
else
  echo "$ac_t""no" 1>&6
d18623 8
a18630 11
    fi

    # msh@@cis.ufl.edu says -lnsl (and -lsocket) are needed for his 386/AT,
    # to get the SysV transport functions.
    # chad@@anasazi.com says the Pyramis MIS-ES running DC/OSx (SVR4)
    # needs -lnsl.
    # The nsl library prevents programs from opening the X display
    # on Irix 5.2, according to dickey@@clark.net.
    echo $ac_n "checking for gethostbyname""... $ac_c" 1>&6
echo "configure:15083: checking for gethostbyname" >&5
if eval "test \"`echo '$''{'ac_cv_func_gethostbyname'+set}'`\" = set"; then
d18634 1
a18634 1
#line 15088 "configure"
d18636 1
a18636 20
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char gethostbyname(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostbyname();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_gethostbyname) || defined (__stub___gethostbyname)
choke me
#else
gethostbyname();
#endif

; return 0; }
d18638 4
a18641 1
if { (eval echo configure:15111: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18643 1
a18643 1
  eval "ac_cv_func_gethostbyname=yes"
d18645 1
d18649 1
a18649 1
  eval "ac_cv_func_gethostbyname=no"
d18653 1
a18653 2

if eval "test \"`echo '$ac_cv_func_'gethostbyname`\" = yes"; then
d18655 5
a18659 1
  :
d18663 1
d18665 4
a18668 5
    if test $ac_cv_func_gethostbyname = no; then
      echo $ac_n "checking for gethostbyname in -lnsl""... $ac_c" 1>&6
echo "configure:15132: checking for gethostbyname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d18671 5
a18675 4
  ac_save_LIBS="$LIBS"
LIBS="-lnsl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 15140 "configure"
a18676 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostbyname();
d18678 2
d18681 1
a18681 1
gethostbyname()
d18684 1
a18684 1
if { (eval echo configure:15151: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18686 2
a18687 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d18692 1
a18692 1
  eval "ac_cv_lib_$ac_lib_var=no"
d18695 3
a18697 1
LIBS="$ac_save_LIBS"
d18699 4
a18702 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lnsl"
else
  echo "$ac_t""no" 1>&6
fi
a18703 1
    fi
d18705 4
a18708 10
    # lieder@@skyler.mavd.honeywell.com says without -lsocket,
    # socket/setsockopt and other routines are undefined under SCO ODT
    # 2.0.  But -lsocket is broken on IRIX 5.2 (and is not necessary
    # on later versions), says simon@@lia.di.epfl.ch: it contains
    # gethostby* variants that don't use the nameserver (or something).
    # -lsocket must be given before -lnsl if both are needed.
    # We assume that if connect needs -lnsl, so does gethostbyname.
    echo $ac_n "checking for connect""... $ac_c" 1>&6
echo "configure:15181: checking for connect" >&5
if eval "test \"`echo '$''{'ac_cv_func_connect'+set}'`\" = set"; then
d18711 3
a18713 2
  cat > conftest.$ac_ext <<EOF
#line 15186 "configure"
d18715 2
a18716 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char connect(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char connect();
d18719 5
a18723 10

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_connect) || defined (__stub___connect)
choke me
#else
connect();
#endif

d18726 1
a18726 1
if { (eval echo configure:15209: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18728 1
a18728 1
  eval "ac_cv_func_connect=yes"
d18733 1
a18733 1
  eval "ac_cv_func_connect=no"
d18736 1
d18739 7
a18745 6
if eval "test \"`echo '$ac_cv_func_'connect`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
fi
d18747 4
a18750 5
    if test $ac_cv_func_connect = no; then
      echo $ac_n "checking for connect in -lsocket""... $ac_c" 1>&6
echo "configure:15230: checking for connect in -lsocket" >&5
ac_lib_var=`echo socket'_'connect | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d18753 1
a18753 2
  ac_save_LIBS="$LIBS"
LIBS="-lsocket $X_EXTRA_LIBS $LIBS"
d18755 1
a18755 1
#line 15238 "configure"
a18756 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char connect();
d18758 1
d18760 7
a18766 1
connect()
d18769 1
a18769 1
if { (eval echo configure:15249: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18771 1
a18771 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d18776 1
a18776 1
  eval "ac_cv_lib_$ac_lib_var=no"
a18778 1
LIBS="$ac_save_LIBS"
d18781 9
a18789 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  X_EXTRA_LIBS="-lsocket $X_EXTRA_LIBS"
else
  echo "$ac_t""no" 1>&6
d18792 4
a18795 6
    fi

    # gomez@@mi.uni-erlangen.de says -lposix is necessary on A/UX.
    echo $ac_n "checking for remove""... $ac_c" 1>&6
echo "configure:15273: checking for remove" >&5
if eval "test \"`echo '$''{'ac_cv_func_remove'+set}'`\" = set"; then
d18798 3
a18800 2
  cat > conftest.$ac_ext <<EOF
#line 15278 "configure"
d18802 2
a18803 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char remove(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char remove();
d18806 5
a18810 8

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_remove) || defined (__stub___remove)
choke me
#else
remove();
d18812 1
a18812 1

d18815 1
a18815 1
if { (eval echo configure:15301: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18817 1
a18817 1
  eval "ac_cv_func_remove=yes"
d18822 1
a18822 1
  eval "ac_cv_func_remove=no"
d18825 1
d18828 10
a18837 5
if eval "test \"`echo '$ac_cv_func_'remove`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
d18840 11
a18850 5
    if test $ac_cv_func_remove = no; then
      echo $ac_n "checking for remove in -lposix""... $ac_c" 1>&6
echo "configure:15322: checking for remove in -lposix" >&5
ac_lib_var=`echo posix'_'remove | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d18853 2
a18854 4
  ac_save_LIBS="$LIBS"
LIBS="-lposix  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 15330 "configure"
d18856 1
a18856 8
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char remove();

int main() {
remove()
; return 0; }
d18858 4
a18861 1
if { (eval echo configure:15341: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18863 1
a18863 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d18865 1
d18869 1
a18869 1
  eval "ac_cv_lib_$ac_lib_var=no"
a18871 2
LIBS="$ac_save_LIBS"

d18873 1
a18873 1
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
d18875 5
a18879 1
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lposix"
d18883 1
d18885 7
a18891 6
    fi

    # BSDI BSD/OS 2.1 needs -lipc for XOpenDisplay.
    echo $ac_n "checking for shmat""... $ac_c" 1>&6
echo "configure:15365: checking for shmat" >&5
if eval "test \"`echo '$''{'ac_cv_func_shmat'+set}'`\" = set"; then
d18895 1
a18895 1
#line 15370 "configure"
d18897 1
a18897 20
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char shmat(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char shmat();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_shmat) || defined (__stub___shmat)
choke me
#else
shmat();
#endif

; return 0; }
d18899 4
a18902 1
if { (eval echo configure:15393: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18904 1
a18904 1
  eval "ac_cv_func_shmat=yes"
d18906 1
d18910 1
a18910 1
  eval "ac_cv_func_shmat=no"
d18914 1
a18914 2

if eval "test \"`echo '$ac_cv_func_'shmat`\" = yes"; then
d18916 5
a18920 1
  :
d18924 1
d18926 12
a18937 11
    if test $ac_cv_func_shmat = no; then
      echo $ac_n "checking for shmat in -lipc""... $ac_c" 1>&6
echo "configure:15414: checking for shmat in -lipc" >&5
ac_lib_var=`echo ipc'_'shmat | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lipc  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 15422 "configure"
d18939 1
a18939 5
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char shmat();

d18941 1
a18941 1
shmat()
d18944 1
a18944 1
if { (eval echo configure:15433: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18946 1
a18946 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d18951 3
a18953 35
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  X_EXTRA_LIBS="$X_EXTRA_LIBS -lipc"
else
  echo "$ac_t""no" 1>&6
fi

    fi
  fi

  # Check for libraries that X11R6 Xt/Xaw programs need.
  ac_save_LDFLAGS="$LDFLAGS"
  test -n "$x_libraries" && LDFLAGS="$LDFLAGS -L$x_libraries"
  # SM needs ICE to (dynamically) link under SunOS 4.x (so we have to
  # check for ICE first), but we must link in the order -lSM -lICE or
  # we get undefined symbols.  So assume we have SM if we have ICE.
  # These have to be linked with before -lX11, unlike the other
  # libraries we check for below, so use a different variable.
  #  --interran@@uluru.Stanford.EDU, kb@@cs.umb.edu.
  echo $ac_n "checking for IceConnectionNumber in -lICE""... $ac_c" 1>&6
echo "configure:15466: checking for IceConnectionNumber in -lICE" >&5
ac_lib_var=`echo ICE'_'IceConnectionNumber | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lICE $X_EXTRA_LIBS $LIBS"
cat > conftest.$ac_ext <<EOF
#line 15474 "configure"
a18954 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char IceConnectionNumber();
d18956 2
d18959 1
a18959 1
IceConnectionNumber()
d18962 1
a18962 1
if { (eval echo configure:15485: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d18964 1
a18964 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d18969 4
a18972 1
  eval "ac_cv_lib_$ac_lib_var=no"
d18975 1
a18975 2
LIBS="$ac_save_LIBS"

d18977 3
a18979 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  X_PRE_LIBS="$X_PRE_LIBS -lSM -lICE"
else
  echo "$ac_t""no" 1>&6
a18981 1
  LDFLAGS="$ac_save_LDFLAGS"
a18982 1
fi
d18984 10
a18993 3
	LDFLAGS="$LDFLAGS $X_LIBS"
	
for cf_add_cflags in $X_CFLAGS
a18994 15
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case "$CPPFLAGS" in
		*$cf_add_cflags)
			;;
		*)
			CPPFLAGS="$CPPFLAGS $cf_add_cflags"
			;;
		esac
		;;
	*)
		CFLAGS="$CFLAGS $cf_add_cflags"
		;;
	esac
done
d18996 23
a19018 15
	echo $ac_n "checking for XOpenDisplay in -lX11""... $ac_c" 1>&6
echo "configure:15530: checking for XOpenDisplay in -lX11" >&5
ac_lib_var=`echo X11'_'XOpenDisplay | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lX11 $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
cat > conftest.$ac_ext <<EOF
#line 15538 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char XOpenDisplay();
d19021 15
a19035 1
XOpenDisplay()
d19038 1
a19038 1
if { (eval echo configure:15549: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d19040 1
a19040 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d19045 1
a19045 1
  eval "ac_cv_lib_$ac_lib_var=no"
d19048 8
a19055 1
LIBS="$ac_save_LIBS"
d19058 15
a19072 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lX11 $LIBS"
else
  echo "$ac_t""no" 1>&6
d19075 4
a19078 4
	echo $ac_n "checking for XtAppInitialize in -lXt""... $ac_c" 1>&6
echo "configure:15570: checking for XtAppInitialize in -lXt" >&5
ac_lib_var=`echo Xt'_'XtAppInitialize | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d19081 3
a19083 4
  ac_save_LIBS="$LIBS"
LIBS="-lXt $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
cat > conftest.$ac_ext <<EOF
#line 15578 "configure"
d19085 1
a19085 5
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char XtAppInitialize();

d19087 1
a19087 1
XtAppInitialize()
d19090 1
a19090 1
if { (eval echo configure:15589: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d19092 1
a19092 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d19097 1
a19097 1
  eval "ac_cv_lib_$ac_lib_var=no"
d19100 2
a19101 1
LIBS="$ac_save_LIBS"
d19103 3
a19105 5
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_LIBXT 1
a19107 5
		 cf_have_X_LIBS=Xt
		 LIBS="-lXt $X_PRE_LIBS $LIBS"
else
  echo "$ac_t""no" 1>&6
fi
a19108 2
else
	LDFLAGS="$LDFLAGS $X_LIBS"
d19110 3
a19112 50
for cf_add_cflags in $X_CFLAGS
do
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case "$CPPFLAGS" in
		*$cf_add_cflags)
			;;
		*)
			CPPFLAGS="$CPPFLAGS $cf_add_cflags"
			;;
		esac
		;;
	*)
		CFLAGS="$CFLAGS $cf_add_cflags"
		;;
	esac
done

fi

if test $cf_have_X_LIBS = no ; then
	echo "configure: warning: Unable to successfully link X Toolkit library (-lXt) with
test program.  You will have to check and add the proper libraries by hand
to makefile." 1>&2
fi


cf_x_athena=${cf_x_athena-Xaw}


# Check whether --with-Xaw3d or --without-Xaw3d was given.
if test "${with_Xaw3d+set}" = set; then
  withval="$with_Xaw3d"
  cf_x_athena=Xaw3d
fi



# Check whether --with-neXtaw or --without-neXtaw was given.
if test "${with_neXtaw+set}" = set; then
  withval="$with_neXtaw"
  cf_x_athena=neXtaw
fi



echo $ac_n "checking for XextCreateExtension in -lXext""... $ac_c" 1>&6
echo "configure:15664: checking for XextCreateExtension in -lXext" >&5
ac_lib_var=`echo Xext'_'XextCreateExtension | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d19115 1
a19115 2
  ac_save_LIBS="$LIBS"
LIBS="-lXext  $LIBS"
d19117 1
a19117 1
#line 15672 "configure"
a19118 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char XextCreateExtension();
d19120 2
d19123 6
a19128 1
XextCreateExtension()
d19131 1
a19131 1
if { (eval echo configure:15683: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d19133 1
a19133 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d19138 1
a19138 1
  eval "ac_cv_lib_$ac_lib_var=no"
a19140 1
LIBS="$ac_save_LIBS"
a19142 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lXext $LIBS"
else
  echo "$ac_t""no" 1>&6
fi
d19144 1
d19146 4
a19149 2
cf_x_athena_include=""
cf_x_athena_lib=""
a19150 6
for cf_path in default \
	/usr/contrib/X11R6 \
	/usr/contrib/X11R5 \
	/usr/lib/X11R5 \
	/usr/local
do
d19152 9
a19160 13
	if test -z "$cf_x_athena_include" ; then
		cf_save="$CPPFLAGS"
		cf_test=X11/$cf_x_athena/SimpleMenu.h
		if test $cf_path != default ; then
			CPPFLAGS="-I$cf_path/include $cf_save"
			echo $ac_n "checking for $cf_test in $cf_path""... $ac_c" 1>&6
echo "configure:15720: checking for $cf_test in $cf_path" >&5
		else
			echo $ac_n "checking for $cf_test""... $ac_c" 1>&6
echo "configure:15723: checking for $cf_test" >&5
		fi
		cat > conftest.$ac_ext <<EOF
#line 15726 "configure"
d19163 2
a19164 2
#include <X11/Intrinsic.h>
#include <$cf_test>
d19166 1
a19166 1

d19169 1
a19169 1
if { (eval echo configure:15735: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d19171 1
a19171 1
  cf_result=yes
d19176 2
a19177 27
  cf_result=no
fi
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
		if test "$cf_result" = yes ; then
			cf_x_athena_include=$cf_path
		else
			CPPFLAGS="$cf_save"
		fi
	fi

	for cf_lib in "-l$cf_x_athena -lXmu" "-l${cf_x_athena}_s -lXmu_s"
	do
		if test -z "$cf_x_athena_lib" ; then
			cf_save="$LIBS"
			cf_test=XawSimpleMenuAddGlobalActions
			if test $cf_path != default ; then
				LIBS="-L$cf_path/lib $cf_lib $LIBS"
				echo $ac_n "checking for $cf_lib in $cf_path""... $ac_c" 1>&6
echo "configure:15761: checking for $cf_lib in $cf_path" >&5
			else
				LIBS="$cf_lib $LIBS"
				echo $ac_n "checking for $cf_test in $cf_lib""... $ac_c" 1>&6
echo "configure:15765: checking for $cf_test in $cf_lib" >&5
			fi
			cat > conftest.$ac_ext <<EOF
#line 15768 "configure"
d19180 3
d19184 1
a19184 1
$cf_test()
d19187 1
a19187 1
if { (eval echo configure:15775: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d19189 1
a19189 1
  cf_result=yes
d19194 1
a19194 1
  cf_result=no
a19196 12
			echo "$ac_t""$cf_result" 1>&6
			if test "$cf_result" = yes ; then
				cf_x_athena_lib="$cf_lib"
			else
				LIBS="$cf_save"
			fi
		fi
	done
done

if test -z "$cf_x_athena_include" ; then
	echo "configure: warning: Unable to successfully find Athena header files with test program" 1>&2
d19198 1
a19198 3

if test -z "$cf_x_athena_lib" ; then
	{ echo "configure: error: Unable to successfully link Athena library (-l$cf_x_athena) with test program" 1>&2; exit 1; }
d19201 1
d19203 3
a19205 4
CF_X_ATHENA_LIBS=`echo "HAVE_LIB_$cf_x_athena" | sed y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%`

cat >> confdefs.h <<EOF
#define $CF_X_ATHENA_LIBS 1
d19208 1
d19210 4
d19215 1
d19217 1
a19217 19
LDFLAGS="$LDFLAGS $X_LIBS"

for cf_add_cflags in $X_CFLAGS
do
	case $cf_add_cflags in #(vi
	-undef|-nostdinc*|-I*|-D*|-U*|-E|-P|-C) #(vi
		case "$CPPFLAGS" in
		*$cf_add_cflags)
			;;
		*)
			CPPFLAGS="$CPPFLAGS $cf_add_cflags"
			;;
		esac
		;;
	*)
		CFLAGS="$CFLAGS $cf_add_cflags"
		;;
	esac
done
d19219 4
a19222 4
echo $ac_n "checking for XOpenDisplay in -lX11""... $ac_c" 1>&6
echo "configure:15834: checking for XOpenDisplay in -lX11" >&5
ac_lib_var=`echo X11'_'XOpenDisplay | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d19225 1
a19225 2
  ac_save_LIBS="$LIBS"
LIBS="-lX11 $X_PRE_LIBS $LIBS $X_EXTRA_LIBS $LIBS"
d19227 21
a19247 1
#line 15842 "configure"
a19248 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char XOpenDisplay();
d19250 3
d19254 4
a19257 1
XOpenDisplay()
d19260 1
a19260 1
if { (eval echo configure:15853: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d19262 1
a19262 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d19267 1
a19267 1
  eval "ac_cv_lib_$ac_lib_var=no"
a19269 2
LIBS="$ac_save_LIBS"

d19271 1
a19271 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lX11 $LIBS"
else
  echo "$ac_t""no" 1>&6
d19274 7
a19280 3
echo $ac_n "checking for XCurses library""... $ac_c" 1>&6
echo "configure:15874: checking for XCurses library" >&5
if eval "test \"`echo '$''{'cf_cv_lib_XCurses'+set}'`\" = set"; then
d19284 9
a19292 3
LIBS="-lXCurses $LIBS"
cat > conftest.$ac_ext <<EOF
#line 15881 "configure"
d19295 2
a19296 3
#include <xcurses.h>
char *XCursesProgramName = "test";

d19298 1
a19298 1
XCursesExit();
d19301 1
a19301 1
if { (eval echo configure:15891: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d19303 2
a19304 1
  cf_cv_lib_XCurses=yes
d19309 1
a19309 1
  cf_cv_lib_XCurses=no
d19312 1
d19316 4
a19319 2
echo "$ac_t""$cf_cv_lib_XCurses" 1>&6
if test $cf_cv_lib_XCurses = yes ; then
d19321 1
a19321 1
#define UNIX 1
d19324 2
d19327 1
a19327 1
#define XCURSES 1
d19330 2
d19333 1
a19333 1
#define HAVE_XCURSES 1
d19336 31
a19366 3
else
	{ echo "configure: error: Cannot link with XCurses" 1>&2; exit 1; }
fi
d19368 2
a19369 1
else
d19371 3
a19373 3
echo $ac_n "checking if we can include termio.h with curses""... $ac_c" 1>&6
echo "configure:15925: checking if we can include termio.h with curses" >&5
if eval "test \"`echo '$''{'cf_cv_termio_and_curses'+set}'`\" = set"; then
d19377 4
a19380 5
    cf_save_CFLAGS="$CPPFLAGS"
    CPPFLAGS="$CPPFLAGS -DHAVE_CONFIG_H -I. -I${srcdir-.} -I${srcdir-.}/src -I${srcdir-.}/WWW/Library/Implementation"
    touch lynx_cfg.h
    cat > conftest.$ac_ext <<EOF
#line 15934 "configure"
d19383 17
a19399 2
#include <LYCurses.h>
#include <termio.h>
d19401 6
a19406 1
putchar(0x0a)
d19409 1
a19409 1
if { (eval echo configure:15943: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d19411 1
a19411 1
  cf_cv_termio_and_curses=yes
d19416 1
a19416 1
  cf_cv_termio_and_curses=no
d19419 15
a19433 2
    CPPFLAGS="$cf_save_CFLAGS"
    rm -f lynx_cfg.h
d19437 8
a19444 1
echo "$ac_t""$cf_cv_termio_and_curses" 1>&6
d19446 6
a19451 2
test $cf_cv_termio_and_curses = yes && cat >> confdefs.h <<\EOF
#define TERMIO_AND_CURSES 1
d19454 1
a19454 1

d19458 3
d19466 3
a19468 3
	/bin/sh $srcdir/mkdirs.sh WWW/Library/Implementation
	/bin/sh $srcdir/mkdirs.sh src/chrtrans
	test "$USE_INCLUDED_LIBINTL" = yes && $srcdir/mkdirs.sh intl
a19471 3
test -z "$CONFIG_SHELL" && CONFIG_SHELL=/bin/sh


d19563 1
a19563 1
    echo "$CONFIG_STATUS generated by autoconf version 2.13.20000819"
a19622 1
s%@@RANLIB@@%$RANLIB%g
d19628 9
d19643 2
d19647 2
d19654 2
a19655 1
s%@@GENCAT@@%$GENCAT%g
a19658 1
s%@@DATADIRNAME@@%$DATADIRNAME%g
a19659 2
s%@@INSTOBJEXT@@%$INSTOBJEXT%g
s%@@INTLDEPS@@%$INTLDEPS%g
d19664 3
a19666 3
s%@@INCLUDE_LOCALE_H@@%$INCLUDE_LOCALE_H%g
s%@@GT_NO@@%$GT_NO%g
s%@@GT_YES@@%$GT_YES%g
d19668 3
a19670 2
s%@@l@@%$l%g
s%@@USE_OUR_MESSAGES@@%$USE_OUR_MESSAGES%g
d19672 2
a19673 1
s%@@MSG_DIR_MAKE@@%$MSG_DIR_MAKE%g
d19676 9
a19684 3
s%@@CHMOD@@%$CHMOD%g
s%@@COMPRESS@@%$COMPRESS%g
s%@@COPY@@%$COPY%g
a19685 5
s%@@MKDIR@@%$MKDIR%g
s%@@MV@@%$MV%g
s%@@RM@@%$RM%g
s%@@TAR@@%$TAR%g
s%@@TOUCH@@%$TOUCH%g
d19689 3
d19695 4
a19698 3
s%@@TELNET@@%$TELNET%g
s%@@TN3270@@%$TN3270%g
s%@@RLOGIN@@%$RLOGIN%g
a19699 5
s%@@CHARSET_DEFS@@%$CHARSET_DEFS%g
s%@@LIBOBJS@@%$LIBOBJS%g
s%@@INSTALL_LSS@@%$INSTALL_LSS%g
s%@@LYNXCFG_MAKE@@%$LYNXCFG_MAKE%g
s%@@LYNXCFG_URL@@%$LYNXCFG_URL%g
a19922 45

cat >> $CONFIG_STATUS <<EOF
ac_sources="$nls_cv_header_libgt"
ac_dests="$nls_cv_header_intl"
EOF

cat >> $CONFIG_STATUS <<\EOF
srcdir=$ac_given_srcdir
while test -n "$ac_sources"; do
  set $ac_dests; ac_dest=$1; shift; ac_dests=$*
  set $ac_sources; ac_source=$1; shift; ac_sources=$*

  echo "linking $srcdir/$ac_source to $ac_dest"

  if test ! -r $srcdir/$ac_source; then
    { echo "configure: error: $srcdir/$ac_source: File not found" 1>&2; exit 1; }
  fi
  rm -f $ac_dest

  # Make relative symlinks.
  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dest_dir=`echo $ac_dest|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dest_dir" != "$ac_dest" && test "$ac_dest_dir" != .; then
    # The dest file is in a subdirectory.
    test ! -d "$ac_dest_dir" && mkdir "$ac_dest_dir"
    ac_dest_dir_suffix="/`echo $ac_dest_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dest_dir_suffix.
    ac_dots=`echo $ac_dest_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dest_dir_suffix= ac_dots=
  fi

  case "$srcdir" in
  [/$]*) ac_rel_source="$srcdir/$ac_source" ;;
  *) ac_rel_source="$ac_dots$srcdir/$ac_source" ;;
  esac

  # Make a symlink if possible; otherwise try a hard link.
  if ln -s $ac_rel_source $ac_dest 2>/dev/null ||
    ln $srcdir/$ac_source $ac_dest; then :
  else
    { echo "configure: error: can not link $ac_dest to $srcdir/$ac_source" 1>&2; exit 1; }
  fi
done
EOF
a19923 8
 #(vi
      case "\$CONFIG_FILES" in
      *po/makefile.in*) #(vi
        sed -e "/POTFILES =/r po/POTFILES" po/makefile.in > po/makefile
        ;;
      *po/Makefile.in*)
        sed -e "/POTFILES =/r po/POTFILES" po/Makefile.in > po/Makefile
      esac
d19933 30
d19969 1
a19969 1
		sed	-e 's@@^.*LYMessages.c@@	../LYMessages.c@@' \
@


1.6
log
@a little bit of glue to call openssl; mark@@moxienet.com
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.13.19990117 
d188 1
a188 1
  --disable-echo          test: display "compiling" commands
d190 1
a190 1
  --enable-debug          logic for object code debugging
d192 1
d198 1
a199 2
  --enable-included-msgs  use included messages, for i18n support
  --disable-full-paths    control whether full utility pathnames are used
d202 2
d208 1
d210 1
d215 5
a219 1
  --enable-color-style    use optional/experimental color style
d221 4
d226 2
d231 2
d241 1
d243 2
a247 2
EOF
cat <<EOF
d257 2
d262 1
a262 3
EOF
cat <<EOF
  --disable-dired-override disable private keymaps
d273 6
d428 1
a428 1
    echo "configure generated by autoconf version 2.13.19990117"
d616 2
a617 1

d647 1
a647 1
echo "configure:624: checking host system type" >&5
d694 8
d707 7
d717 1
a717 1
echo "configure:679: checking for $ac_word" >&5
d747 1
a747 1
echo "configure:709: checking for $ac_word" >&5
d798 1
a798 1
echo "configure:760: checking for $ac_word" >&5
d830 1
a830 1
echo "configure:792: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d841 1
a841 1
#line 803 "configure"
d846 1
a846 1
if { (eval echo configure:808: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d872 1
a872 1
echo "configure:834: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d877 1
a877 1
echo "configure:839: checking whether we are using GNU C" >&5
d886 1
a886 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:848: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d905 1
a905 1
echo "configure:867: checking whether ${CC-cc} accepts -g" >&5
d937 1
a937 1
echo "configure:899: checking how to run the C preprocessor" >&5
d952 1
a952 1
#line 914 "configure"
d958 1
a958 1
{ (eval echo configure:920: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d969 1
a969 1
#line 931 "configure"
d975 1
a975 1
{ (eval echo configure:937: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d986 1
a986 1
#line 948 "configure"
d992 1
a992 1
{ (eval echo configure:954: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d1016 21
d1040 1
a1040 1
echo "configure:981: checking for $ac_word" >&5
d1068 1
a1068 1
echo "configure:1009: checking whether ${MAKE-make} sets \${MAKE}" >&5
d1106 1
a1106 1
echo "configure:1047: checking for a BSD compatible install" >&5
d1163 1
a1163 1
echo "configure:1104: checking for $ac_word" >&5
d1194 1
a1194 1
echo "configure:1135: checking for AIX" >&5
d1196 1
a1196 1
#line 1137 "configure"
d1218 1
a1218 1
echo "configure:1159: checking for POSIXized ISC" >&5
d1244 1
a1244 1
echo "configure:1185: checking if you want to see long compiling messages" >&5
d1292 1
a1292 1
echo "configure:1233: checking if you want to check memory-leaks" >&5
d1316 1
a1316 1
echo "configure:1257: checking if you want to enable debug-code" >&5
d1358 1
a1358 1
echo "configure:1299: checking if you want to enable lynx trace code *recommended* " >&5
d1381 24
d1408 1
a1408 1
echo "configure:1325: checking if you want to turn on gcc warnings" >&5
d1429 1
a1429 1
if test -n "$GCC"
d1445 1
a1445 1
if test -n "$GCC"
d1447 4
a1450 4
	echo "checking for gcc __attribute__ directives" 1>&6
echo "configure:1365: checking for gcc __attribute__ directives" >&5
	cat > conftest.$ac_ext <<EOF
#line 1367 "configure"
d1469 1
a1469 1
		for cf_attribute in scanf printf unused noreturn
d1472 1
a1472 1
CF_ATTRIBUTE=`echo $cf_attribute | tr '[a-z]' '[A-Z]'`
d1475 1
a1475 1
		echo "checking for gcc $cf_directive" 1>&5
d1488 1
a1488 1
		if { (eval echo configure:1405: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1502 1
a1502 1
if test -n "$GCC"
d1504 2
a1505 2
		cat > conftest.$ac_ext <<EOF
#line 1422 "configure"
d1508 2
a1509 2
		echo "checking for gcc warning options" 1>&6
echo "configure:1426: checking for gcc warning options" >&5
d1527 1
a1527 1
		if { (eval echo configure:1444: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1542 2
a1543 102


echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:1462: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1467 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1475: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  ac_cv_header_stdc=yes
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1492 "configure"
#include "confdefs.h"
#include <string.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1510 "configure"
#include "confdefs.h"
#include <stdlib.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
if test "$cross_compiling" = yes; then
  :
else
  cat > conftest.$ac_ext <<EOF
#line 1531 "configure"
#include "confdefs.h"
#include <ctype.h>
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:1542: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  :
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
fi
rm -fr conftest*
fi

fi
fi

echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
#define STDC_HEADERS 1
a1545 1
fi
d1548 1
a1548 1
echo "configure:1566: checking for working const" >&5
d1553 1
a1553 1
#line 1571 "configure"
d1602 1
a1602 1
if { (eval echo configure:1620: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1622 25
a1646 3
echo $ac_n "checking for inline""... $ac_c" 1>&6
echo "configure:1641: checking for inline" >&5
if eval "test \"`echo '$''{'ac_cv_c_inline'+set}'`\" = set"; then
d1649 4
a1652 4
  ac_cv_c_inline=no
for ac_kw in inline __inline__ __inline; do
  cat > conftest.$ac_ext <<EOF
#line 1648 "configure"
d1654 4
d1660 1
a1660 1
} $ac_kw foo() {
d1663 1
a1663 1
if { (eval echo configure:1655: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1665 1
a1665 1
  ac_cv_c_inline=$ac_kw; break
d1669 2
d1673 1
a1673 1
done
d1676 7
d1684 1
a1684 12
echo "$ac_t""$ac_cv_c_inline" 1>&6
case "$ac_cv_c_inline" in
  inline | yes) ;;
  no) cat >> confdefs.h <<\EOF
#define inline 
EOF
 ;;
  *)  cat >> confdefs.h <<EOF
#define inline $ac_cv_c_inline
EOF
 ;;
esac
a1685 4
echo $ac_n "checking for off_t""... $ac_c" 1>&6
echo "configure:1681: checking for off_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_off_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d1687 1
a1687 16
  cat > conftest.$ac_ext <<EOF
#line 1686 "configure"
#include "confdefs.h"
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])off_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_off_t=yes
else
  rm -rf conftest*
  ac_cv_type_off_t=no
a1688 1
rm -f conftest*
d1690 90
a1780 5
echo "$ac_t""$ac_cv_type_off_t" 1>&6
if test $ac_cv_type_off_t = no; then
  cat >> confdefs.h <<\EOF
#define off_t long
EOF
d1782 3
a1784 1
fi
d1786 17
a1802 3
echo $ac_n "checking for size_t""... $ac_c" 1>&6
echo "configure:1714: checking for size_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_size_t'+set}'`\" = set"; then
d1806 1
a1806 1
#line 1719 "configure"
d1808 1
a1808 5
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
d1810 4
a1813 2
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
d1815 1
a1815 1
  ac_cv_type_size_t=yes
d1817 3
d1821 1
a1821 1
  ac_cv_type_size_t=no
a1823 1

d1825 5
a1829 4
echo "$ac_t""$ac_cv_type_size_t" 1>&6
if test $ac_cv_type_size_t = no; then
  cat >> confdefs.h <<\EOF
#define size_t unsigned
d1831 3
a1833 1

d1835 1
d1837 20
a1856 5
# The Ultrix 4.2 mips builtin alloca declared by alloca.h only works
# for constant arguments.  Useless!
echo $ac_n "checking for working alloca.h""... $ac_c" 1>&6
echo "configure:1749: checking for working alloca.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_alloca_h'+set}'`\" = set"; then
d1860 1
a1860 1
#line 1754 "configure"
d1862 1
a1862 4
#include <alloca.h>
int main() {
char *p = alloca(2 * sizeof(int));
; return 0; }
d1864 4
a1867 1
if { (eval echo configure:1761: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1869 1
a1869 1
  ac_cv_header_alloca_h=yes
d1871 1
d1875 1
a1875 1
  ac_cv_header_alloca_h=no
d1879 8
a1886 5

echo "$ac_t""$ac_cv_header_alloca_h" 1>&6
if test $ac_cv_header_alloca_h = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_ALLOCA_H 1
d1889 3
d1893 4
d1898 6
a1903 3
echo $ac_n "checking for alloca""... $ac_c" 1>&6
echo "configure:1782: checking for alloca" >&5
if eval "test \"`echo '$''{'ac_cv_func_alloca_works'+set}'`\" = set"; then
d1906 40
a1945 2
  cat > conftest.$ac_ext <<EOF
#line 1787 "configure"
d1948 4
a1951 19
#ifdef __GNUC__
# define alloca __builtin_alloca
#else
# ifdef _MSC_VER
#  include <malloc.h>
#  define alloca _alloca
# else
#  if HAVE_ALLOCA_H
#   include <alloca.h>
#  else
#   ifdef _AIX
 #pragma alloca
#   else
#    ifndef alloca /* predefined by HP cc +Olibcalls */
char *alloca ();
#    endif
#   endif
#  endif
# endif
d1955 4
a1958 1
char *p = (char *) alloca(1);
d1961 1
a1961 1
if { (eval echo configure:1815: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d1963 1
a1963 1
  ac_cv_func_alloca_works=yes
a1966 2
  rm -rf conftest*
  ac_cv_func_alloca_works=no
d1969 4
d1975 30
a2004 5
echo "$ac_t""$ac_cv_func_alloca_works" 1>&6
if test $ac_cv_func_alloca_works = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_ALLOCA 1
EOF
a2007 9
if test $ac_cv_func_alloca_works = no; then
  # The SVR3 libPW and SVR4 libucb both contain incompatible functions
  # that cause trouble.  Some versions do not even contain alloca or
  # contain a buggy version.  If you still want to use their alloca,
  # use ar to extract alloca.o from them instead of compiling alloca.c.
  ALLOCA=alloca.${ac_objext}
  cat >> confdefs.h <<\EOF
#define C_ALLOCA 1
EOF
d2010 4
a2013 3
echo $ac_n "checking whether alloca needs Cray hooks""... $ac_c" 1>&6
echo "configure:1847: checking whether alloca needs Cray hooks" >&5
if eval "test \"`echo '$''{'ac_cv_os_cray'+set}'`\" = set"; then
d2017 1
a2017 1
#line 1852 "configure"
d2019 4
a2022 6
#if defined(CRAY) && ! defined(CRAY2)
webecray
#else
wenotbecray
#endif

d2024 4
a2027 2
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "webecray" >/dev/null 2>&1; then
d2029 1
a2029 1
  ac_cv_os_cray=yes
d2031 3
d2035 1
a2035 1
  ac_cv_os_cray=no
d2039 4
a2042 12
fi

echo "$ac_t""$ac_cv_os_cray" 1>&6
if test $ac_cv_os_cray = yes; then
for ac_func in _getb67 GETB67 getb67; do
  echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1877: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1882 "configure"
d2044 1
a2044 20
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
d2046 3
a2048 3
if { (eval echo configure:1905: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
a2049 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2051 1
a2051 1
  eval "ac_cv_func_$ac_func=no"
d2054 1
d2057 6
a2062 4
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<EOF
#define CRAY_STACKSEG_END $ac_func
d2064 3
a2066 2

  break
d2068 2
a2069 1
  echo "$ac_t""no" 1>&6
d2071 1
a2072 1
done
d2075 4
a2078 7
echo $ac_n "checking stack direction for C alloca""... $ac_c" 1>&6
echo "configure:1932: checking stack direction for C alloca" >&5
if eval "test \"`echo '$''{'ac_cv_c_stack_direction'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_c_stack_direction=0
d2081 1
a2081 1
#line 1940 "configure"
d2083 8
a2090 16
find_stack_direction ()
{
  static char *addr = 0;
  auto char dummy;
  if (addr == 0)
    {
      addr = &dummy;
      return find_stack_direction ();
    }
  else
    return (&dummy > addr) ? 1 : -1;
}
main ()
{
  exit (find_stack_direction() < 0);
}
d2092 1
a2092 1
if { (eval echo configure:1959: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d2094 1
a2094 1
  ac_cv_c_stack_direction=1
d2099 1
a2099 1
  ac_cv_c_stack_direction=-1
d2105 1
d2107 4
a2110 3
echo "$ac_t""$ac_cv_c_stack_direction" 1>&6
cat >> confdefs.h <<EOF
#define STACK_DIRECTION $ac_cv_c_stack_direction
d2115 3
a2117 6
for ac_hdr in unistd.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:1984: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d2120 2
d2123 1
a2123 1
#line 1989 "configure"
d2125 4
a2128 1
#include <$ac_hdr>
d2130 1
a2130 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1994: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d2132 1
a2132 1
  eval "ac_cv_header_$ac_safe=yes"
a2133 1
  echo "$ac_err" >&5
a2135 2
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d2138 2
d2141 10
a2150 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d2152 2
a2153 5
 
else
  echo "$ac_t""no" 1>&6
fi
done
d2155 3
a2157 5
for ac_func in getpagesize
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2023: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d2161 1
a2161 1
#line 2028 "configure"
d2163 4
a2166 17
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
a2167 2

; return 0; }
d2169 2
a2170 1
if { (eval echo configure:2051: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2172 1
a2172 1
  eval "ac_cv_func_$ac_func=yes"
a2173 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d2175 1
a2175 1
  eval "ac_cv_func_$ac_func=no"
d2178 1
d2180 5
a2185 9
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
a2186 1
done
d2188 3
a2190 3
echo $ac_n "checking for working mmap""... $ac_c" 1>&6
echo "configure:2076: checking for working mmap" >&5
if eval "test \"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\" = set"; then
a2192 3
  if test "$cross_compiling" = yes; then
  ac_cv_func_mmap_fixed_mapped=no
else
d2194 1
a2194 1
#line 2084 "configure"
a2195 22

/* Thanks to Mike Haertel and Jim Avera for this test.
   Here is a matrix of mmap possibilities:
	mmap private not fixed
	mmap private fixed at somewhere currently unmapped
	mmap private fixed at somewhere already mapped
	mmap shared not fixed
	mmap shared fixed at somewhere currently unmapped
	mmap shared fixed at somewhere already mapped
   For private mappings, we should verify that changes cannot be read()
   back from the file, nor mmap's back from the file at a different
   address.  (There have been systems where private was not correctly
   implemented like the infamous i386 svr4.0, and systems where the
   VM page cache was not coherent with the filesystem buffer cache
   like early versions of FreeBSD and possibly contemporary NetBSD.)
   For shared mappings, we should conversely verify that changes get
   propogated back to all the places they're supposed to be.

   Grep wants private fixed already mapped.
   The main things grep needs to know about mmap are:
   * does it exist and is it safe to write into the mmap'd area
   * how to use it (BSD variants)  */
d2197 3
a2199 48
#include <fcntl.h>
#include <sys/mman.h>

/* This mess was copied from the GNU getpagesize.h.  */
#ifndef HAVE_GETPAGESIZE
# ifdef HAVE_UNISTD_H
#  include <unistd.h>
# endif

/* Assume that all systems that can run configure have sys/param.h.  */
# ifndef HAVE_SYS_PARAM_H
#  define HAVE_SYS_PARAM_H 1
# endif

# ifdef _SC_PAGESIZE
#  define getpagesize() sysconf(_SC_PAGESIZE)
# else /* no _SC_PAGESIZE */
#  ifdef HAVE_SYS_PARAM_H
#   include <sys/param.h>
#   ifdef EXEC_PAGESIZE
#    define getpagesize() EXEC_PAGESIZE
#   else /* no EXEC_PAGESIZE */
#    ifdef NBPG
#     define getpagesize() NBPG * CLSIZE
#     ifndef CLSIZE
#      define CLSIZE 1
#     endif /* no CLSIZE */
#    else /* no NBPG */
#     ifdef NBPC
#      define getpagesize() NBPC
#     else /* no NBPC */
#      ifdef PAGESIZE
#       define getpagesize() PAGESIZE
#      endif /* PAGESIZE */
#     endif /* no NBPC */
#    endif /* no NBPG */
#   endif /* no EXEC_PAGESIZE */
#  else /* no HAVE_SYS_PARAM_H */
#   define getpagesize() 8192	/* punt totally */
#  endif /* no HAVE_SYS_PARAM_H */
# endif /* no _SC_PAGESIZE */

#endif /* no HAVE_GETPAGESIZE */

#ifdef __cplusplus
extern "C" { void *malloc(unsigned); }
#else
char *malloc();
a2200 65

int
main()
{
	char *data, *data2, *data3;
	int i, pagesize;
	int fd;

	pagesize = getpagesize();

	/*
	 * First, make a file with some known garbage in it.
	 */
	data = malloc(pagesize);
	if (!data)
		exit(1);
	for (i = 0; i < pagesize; ++i)
		*(data + i) = rand();
	umask(0);
	fd = creat("conftestmmap", 0600);
	if (fd < 0)
		exit(1);
	if (write(fd, data, pagesize) != pagesize)
		exit(1);
	close(fd);

	/*
	 * Next, try to mmap the file at a fixed address which
	 * already has something else allocated at it.  If we can,
	 * also make sure that we see the same garbage.
	 */
	fd = open("conftestmmap", O_RDWR);
	if (fd < 0)
		exit(1);
	data2 = malloc(2 * pagesize);
	if (!data2)
		exit(1);
	data2 += (pagesize - ((int) data2 & (pagesize - 1))) & (pagesize - 1);
	if (data2 != mmap(data2, pagesize, PROT_READ | PROT_WRITE,
	    MAP_PRIVATE | MAP_FIXED, fd, 0L))
		exit(1);
	for (i = 0; i < pagesize; ++i)
		if (*(data + i) != *(data2 + i))
			exit(1);

	/*
	 * Finally, make sure that changes to the mapped area
	 * do not percolate back to the file as seen by read().
	 * (This is a bug on some variants of i386 svr4.0.)
	 */
	for (i = 0; i < pagesize; ++i)
		*(data2 + i) = *(data2 + i) + 1;
	data3 = malloc(pagesize);
	if (!data3)
		exit(1);
	if (read(fd, data3, pagesize) != pagesize)
		exit(1);
	for (i = 0; i < pagesize; ++i)
		if (*(data + i) != *(data3 + i))
			exit(1);
	close(fd);
	unlink("conftestmmap");
	exit(0);
}

d2202 4
a2205 3
if { (eval echo configure:2224: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  ac_cv_func_mmap_fixed_mapped=yes
d2207 2
a2208 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_func_mmap_fixed_mapped=no
fi
rm -fr conftest*
d2210 1
d2213 2
a2214 3

echo "$ac_t""$ac_cv_func_mmap_fixed_mapped" 1>&6
if test $ac_cv_func_mmap_fixed_mapped = yes; then
d2216 1
a2216 1
#define HAVE_MMAP 1
d2221 5
a2225 8
                              
   for ac_hdr in argz.h limits.h locale.h nl_types.h malloc.h string.h \
unistd.h values.h sys/param.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:2252: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d2229 1
a2229 1
#line 2257 "configure"
d2231 4
a2234 1
#include <$ac_hdr>
d2236 1
a2236 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:2262: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d2238 1
a2238 1
  eval "ac_cv_header_$ac_safe=yes"
a2239 1
  echo "$ac_err" >&5
d2243 1
a2243 1
  eval "ac_cv_header_$ac_safe=no"
d2247 5
a2251 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d2253 1
a2253 3
 
else
  echo "$ac_t""no" 1>&6
a2254 1
done
d2256 3
a2258 6
   for ac_func in getcwd munmap putenv setenv setlocale strchr strcasecmp \
__argz_count __argz_stringify __argz_next
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2292: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d2262 1
a2262 1
#line 2297 "configure"
a2263 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
d2265 2
a2266 7
int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
d2268 16
a2283 1
$ac_func();
d2286 2
d2290 1
a2290 1
if { (eval echo configure:2320: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2292 1
a2292 1
  eval "ac_cv_func_$ac_func=yes"
d2297 1
a2297 1
  eval "ac_cv_func_$ac_func=no"
d2302 33
a2334 5
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
d2336 4
a2339 1
 
d2341 2
a2342 1
  echo "$ac_t""no" 1>&6
d2344 1
a2344 1
done
d2346 1
d2348 5
a2352 5
   if test "${ac_cv_func_stpcpy+set}" != "set"; then
     for ac_func in stpcpy
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2349: checking for $ac_func" >&5
d2357 1
a2357 1
#line 2354 "configure"
d2380 1
a2380 1
if { (eval echo configure:2377: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
a2393 1
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d2395 1
a2395 1
#define $ac_tr_func 1
d2397 2
a2398 1
 
d2402 1
d2404 1
d2406 3
a2408 12
   fi
   if test "${ac_cv_func_stpcpy}" = "yes"; then
     cat >> confdefs.h <<\EOF
#define HAVE_STPCPY 1
EOF

   fi

   if test $ac_cv_header_locale_h = yes; then
    echo $ac_n "checking for LC_MESSAGES""... $ac_c" 1>&6
echo "configure:2411: checking for LC_MESSAGES" >&5
if eval "test \"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\" = set"; then
d2411 3
d2417 16
a2432 4
#include <locale.h>
int main() {
return LC_MESSAGES
; return 0; }
d2434 3
a2436 3
if { (eval echo configure:2423: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  am_cv_val_LC_MESSAGES=yes
d2440 2
a2441 2
  rm -rf conftest*
  am_cv_val_LC_MESSAGES=no
d2443 1
a2443 1
rm -f conftest*
a2445 17
echo "$ac_t""$am_cv_val_LC_MESSAGES" 1>&6
    if test $am_cv_val_LC_MESSAGES = yes; then
      cat >> confdefs.h <<\EOF
#define HAVE_LC_MESSAGES 1
EOF

    fi
  fi
   echo $ac_n "checking whether NLS is requested""... $ac_c" 1>&6
echo "configure:2444: checking whether NLS is requested" >&5
        
# Check whether --enable-nls or --disable-nls was given.
if test "${enable_nls+set}" = set; then
  enableval="$enable_nls"
  USE_NLS=$enableval
else
  USE_NLS=no
d2448 3
a2450 8
    echo "$ac_t""$USE_NLS" 1>&6
    

    USE_INCLUDED_LIBINTL=no

        if test "$USE_NLS" = "yes"; then
      cat >> confdefs.h <<\EOF
#define ENABLE_NLS 1
a2452 9
      echo $ac_n "checking whether included gettext is requested""... $ac_c" 1>&6
echo "configure:2465: checking whether included gettext is requested" >&5
      
# Check whether --with-included-gettext or --without-included-gettext was given.
if test "${with_included_gettext+set}" = set; then
  withval="$with_included_gettext"
  nls_cv_force_use_gnu_gettext=$withval
else
  nls_cv_force_use_gnu_gettext=yes
d2455 5
a2459 11
      echo "$ac_t""$nls_cv_force_use_gnu_gettext" 1>&6

      nls_cv_use_gnu_gettext="$nls_cv_force_use_gnu_gettext"
      if test "$nls_cv_force_use_gnu_gettext" != "yes"; then
                        		nls_cv_header_intl=
	nls_cv_header_libgt=
	CATOBJEXT=NONE

	ac_safe=`echo "libintl.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for libintl.h""... $ac_c" 1>&6
echo "configure:2485: checking for libintl.h" >&5
d2464 1
a2464 1
#line 2490 "configure"
d2466 1
a2466 1
#include <libintl.h>
d2469 1
a2469 1
{ (eval echo configure:2495: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d2485 3
a2487 12
  echo $ac_n "checking for gettext in libc""... $ac_c" 1>&6
echo "configure:2512: checking for gettext in libc" >&5
if eval "test \"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2517 "configure"
#include "confdefs.h"
#include <libintl.h>
int main() {
return (int) gettext ("")
; return 0; }
d2489 1
a2489 3
if { (eval echo configure:2524: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  gt_cv_func_gettext_libc=yes
d2491 1
a2491 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gt_cv_func_gettext_libc=no
fi
rm -f conftest*
d2493 1
d2495 5
a2499 7
echo "$ac_t""$gt_cv_func_gettext_libc" 1>&6

	   if test "$gt_cv_func_gettext_libc" != "yes"; then
	     echo $ac_n "checking for bindtextdomain in -lintl""... $ac_c" 1>&6
echo "configure:2540: checking for bindtextdomain in -lintl" >&5
ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d2502 2
a2503 4
  ac_save_LIBS="$LIBS"
LIBS="-lintl  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 2548 "configure"
d2505 3
d2511 1
a2511 1
char bindtextdomain();
a2513 14
bindtextdomain()
; return 0; }
EOF
if { (eval echo configure:2559: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d2515 8
a2522 11
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  echo $ac_n "checking for gettext in libintl""... $ac_c" 1>&6
echo "configure:2575: checking for gettext in libintl" >&5
if eval "test \"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2580 "configure"
#include "confdefs.h"
a2523 2
int main() {
return (int) gettext ("")
d2526 1
a2526 1
if { (eval echo configure:2587: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2528 1
a2528 1
  gt_cv_func_gettext_libintl=yes
d2533 1
a2533 1
  gt_cv_func_gettext_libintl=no
d2538 7
a2544 1
echo "$ac_t""$gt_cv_func_gettext_libintl" 1>&6
d2548 1
d2550 3
a2552 13
	   fi

	   if test "$gt_cv_func_gettext_libc" = "yes" \
	      || test "$gt_cv_func_gettext_libintl" = "yes"; then
	      cat >> confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF

	      # Extract the first word of "msgfmt", so it can be a program name with args.
set dummy msgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2615: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\" = set"; then
d2555 208
a2762 19
  case "$MSGFMT" in
  /*)
  ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"; then
	ac_cv_path_MSGFMT="$ac_dir/$ac_word"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT="no"
  ;;
esac
d2764 7
a2770 3
MSGFMT="$ac_cv_path_MSGFMT"
if test -n "$MSGFMT"; then
  echo "$ac_t""$MSGFMT" 1>&6
d2774 4
a2777 2
	      if test "$MSGFMT" != "no"; then
		for ac_func in dcgettext
d2780 1
a2780 1
echo "configure:2649: checking for $ac_func" >&5
d2785 1
a2785 1
#line 2654 "configure"
d2808 1
a2808 1
if { (eval echo configure:2677: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d2832 7
a2838 5
		# Extract the first word of "gmsgfmt", so it can be a program name with args.
set dummy gmsgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2704: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\" = set"; then
d2841 34
a2874 21
  case "$GMSGFMT" in
  /*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="$MSGFMT"
  ;;
esac
d2876 8
a2883 3
GMSGFMT="$ac_cv_path_GMSGFMT"
if test -n "$GMSGFMT"; then
  echo "$ac_t""$GMSGFMT" 1>&6
d2887 9
d2897 4
a2900 5
		# Extract the first word of "xgettext", so it can be a program name with args.
set dummy xgettext; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2740: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\" = set"; then
d2903 26
a2928 13
  case "$XGETTEXT" in
  /*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"; then
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word"
	break
      fi
d2930 10
a2939 5
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
  ;;
esac
d2941 18
a2958 3
XGETTEXT="$ac_cv_path_XGETTEXT"
if test -n "$XGETTEXT"; then
  echo "$ac_t""$XGETTEXT" 1>&6
d2960 1
a2960 1
  echo "$ac_t""no" 1>&6
d2963 43
a3005 2
		cat > conftest.$ac_ext <<EOF
#line 2772 "configure"
d3007 1
a3007 1

d3009 1
a3009 2
extern int _nl_msg_cat_cntr;
			       return _nl_msg_cat_cntr
d3012 1
a3012 1
if { (eval echo configure:2780: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3014 1
a3014 2
  CATOBJEXT=.gmo
		   DATADIRNAME=share
d3019 1
a3019 2
  CATOBJEXT=.mo
		   DATADIRNAME=lib
a3021 6
		INSTOBJEXT=.mo
	      fi
	    fi
	
else
  echo "$ac_t""no" 1>&6
d3024 1
d3026 4
a3029 18
        if test "$CATOBJEXT" = "NONE"; then
	  echo $ac_n "checking whether catgets can be used""... $ac_c" 1>&6
echo "configure:2803: checking whether catgets can be used" >&5
	  
# Check whether --with-catgets or --without-catgets was given.
if test "${with_catgets+set}" = set; then
  withval="$with_catgets"
  nls_cv_use_catgets=$withval
else
  nls_cv_use_catgets=no
fi

	  echo "$ac_t""$nls_cv_use_catgets" 1>&6

	  if test "$nls_cv_use_catgets" = "yes"; then
	    	    echo $ac_n "checking for main in -li""... $ac_c" 1>&6
echo "configure:2817: checking for main in -li" >&5
ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`
d3034 1
a3034 1
LIBS="-li  $LIBS"
d3036 1
a3036 1
#line 2825 "configure"
d3038 4
d3044 1
a3044 1
main()
d3047 1
a3047 1
if { (eval echo configure:2832: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3062 5
a3066 15
    ac_tr_lib=HAVE_LIB`echo i | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
EOF

  LIBS="-li $LIBS"

else
  echo "$ac_t""no" 1>&6
fi

	    echo $ac_n "checking for catgets""... $ac_c" 1>&6
echo "configure:2860: checking for catgets" >&5
if eval "test \"`echo '$''{'ac_cv_func_catgets'+set}'`\" = set"; then
d3070 1
a3070 1
#line 2865 "configure"
a3071 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char catgets(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char catgets();
d3074 1
a3074 10

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_catgets) || defined (__stub___catgets)
choke me
#else
catgets();
#endif

d3077 1
a3077 1
if { (eval echo configure:2888: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d3079 1
a3079 1
  eval "ac_cv_func_catgets=yes"
d3084 1
a3084 1
  eval "ac_cv_func_catgets=no"
d3089 2
a3090 75
if eval "test \"`echo '$ac_cv_func_'catgets`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_CATGETS 1
EOF

	       INTLOBJS="\$(CATOBJS)"
	       # Extract the first word of "gencat", so it can be a program name with args.
set dummy gencat; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2910: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GENCAT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GENCAT" in
  /*)
  ac_cv_path_GENCAT="$GENCAT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_GENCAT="$GENCAT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GENCAT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GENCAT" && ac_cv_path_GENCAT="no"
  ;;
esac
fi
GENCAT="$ac_cv_path_GENCAT"
if test -n "$GENCAT"; then
  echo "$ac_t""$GENCAT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
	       if test "$GENCAT" != "no"; then
		 # Extract the first word of "gmsgfmt", so it can be a program name with args.
set dummy gmsgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2946: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GMSGFMT" in
  /*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="no"
  ;;
esac
fi
GMSGFMT="$ac_cv_path_GMSGFMT"
if test -n "$GMSGFMT"; then
  echo "$ac_t""$GMSGFMT" 1>&6
d3095 1
a3095 34
		 if test "$GMSGFMT" = "no"; then
		   # Extract the first word of "msgfmt", so it can be a program name with args.
set dummy msgfmt; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:2983: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$GMSGFMT" in
  /*)
  ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`"; then
	ac_cv_path_GMSGFMT="$ac_dir/$ac_word"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="no"
  ;;
esac
fi
GMSGFMT="$ac_cv_path_GMSGFMT"
if test -n "$GMSGFMT"; then
  echo "$ac_t""$GMSGFMT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
d3097 3
a3099 34
		 fi
		 # Extract the first word of "xgettext", so it can be a program name with args.
set dummy xgettext; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3018: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$XGETTEXT" in
  /*)
  ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test -z "`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`"; then
	ac_cv_path_XGETTEXT="$ac_dir/$ac_word"
	break
      fi
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
  ;;
esac
fi
XGETTEXT="$ac_cv_path_XGETTEXT"
if test -n "$XGETTEXT"; then
  echo "$ac_t""$XGETTEXT" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
d3101 5
a3105 13
		 USE_INCLUDED_LIBINTL=yes
		 CATOBJEXT=.cat
		 INSTOBJEXT=.cat
		 DATADIRNAME=lib
		 INTLDEPS='$(top_builddir)/intl/libintl.a'
		 INTLLIBS=$INTLDEPS
		 LIBS=`echo $LIBS | sed -e 's/-lintl//'`
		 nls_cv_header_intl=intl/libintl.h
		 nls_cv_header_libgt=intl/libgettext.h
	       fi
else
  echo "$ac_t""no" 1>&6
fi
d3107 1
a3107 7
	  fi
        fi

        if test "$CATOBJEXT" = "NONE"; then
	  	  	  nls_cv_use_gnu_gettext=yes
        fi
      fi
a3108 3
      if test "$nls_cv_use_gnu_gettext" = "yes"; then
                INTLOBJS="\$(GETTOBJS)"
        # Extract the first word of "msgfmt", so it can be a program name with args.
d3111 1
a3111 1
echo "configure:3076: checking for $ac_word" >&5
d3120 1
a3120 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d3131 1
a3131 1
  test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT="msgfmt"
d3141 55
d3197 1
a3197 1
        # Extract the first word of "gmsgfmt", so it can be a program name with args.
d3200 1
a3200 1
echo "configure:3110: checking for $ac_word" >&5
d3233 2
a3234 1
        # Extract the first word of "xgettext", so it can be a program name with args.
d3237 1
a3237 1
echo "configure:3146: checking for $ac_word" >&5
d3246 1
a3246 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d3268 3
a3270 11
        
	USE_INCLUDED_LIBINTL=yes
        CATOBJEXT=.gmo
        INSTOBJEXT=.mo
        DATADIRNAME=share
	INTLDEPS='$(top_builddir)/intl/libintl.a'
	INTLLIBS=$INTLDEPS
	LIBS=`echo $LIBS | sed -e 's/-lintl//'`
        nls_cv_header_intl=intl/libintl.h
        nls_cv_header_libgt=intl/libgettext.h
      fi
d3272 24
a3295 8
            if test "$XGETTEXT" != ":"; then
			if $XGETTEXT --omit-header /dev/null 2> /dev/null; then
	  : ;
	else
	  echo "$ac_t""found xgettext programs is not GNU xgettext; ignore it" 1>&6
	  XGETTEXT=":"
	fi
      fi
a3296 7
      # We need to process the po/ directory.
      POSUB=po
    else
      DATADIRNAME=share
      nls_cv_header_intl=intl/libintl.h
      nls_cv_header_libgt=intl/libgettext.h
    fi
d3298 11
a3308 6
    # If this is used in GNU gettext we have to set USE_NLS to `yes'
    # because some of the sources are only built for this goal.
    if test "$PACKAGE" = gettext; then
      USE_NLS=yes
      USE_INCLUDED_LIBINTL=yes
    fi
d3310 1
a3310 4
                for lang in $ALL_LINGUAS; do
      GMOFILES="$GMOFILES $lang.gmo"
      POFILES="$POFILES $lang.po"
    done
d3312 5
a3316 49
        
    
    
    
    
    
    
    
    
    
    
  

   if test "x$CATOBJEXT" != "x"; then
     if test "x$ALL_LINGUAS" = "x"; then
       LINGUAS=
     else
       echo $ac_n "checking for catalogs to be installed""... $ac_c" 1>&6
echo "configure:3236: checking for catalogs to be installed" >&5
       NEW_LINGUAS=
       for lang in ${LINGUAS=$ALL_LINGUAS}; do
         case "$ALL_LINGUAS" in
          *$lang*) NEW_LINGUAS="$NEW_LINGUAS $lang" ;;
         esac
       done
       LINGUAS=$NEW_LINGUAS
       echo "$ac_t""$LINGUAS" 1>&6
     fi

          if test -n "$LINGUAS"; then
       for lang in $LINGUAS; do CATALOGS="$CATALOGS $lang$CATOBJEXT"; done
     fi
   fi

            if test $ac_cv_header_locale_h = yes; then
     INCLUDE_LOCALE_H="#include <locale.h>"
   else
     INCLUDE_LOCALE_H="\
/* The system does not provide the header <locale.h>.  Take care of it yourself. */"
   fi
   

            if test "$USE_NLS" = "yes"; then
     test -d intl || mkdir intl
     if test "$CATOBJEXT" = ".cat"; then
       ac_safe=`echo "linux/version.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for linux/version.h""... $ac_c" 1>&6
echo "configure:3265: checking for linux/version.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d3319 4
a3322 2
  cat > conftest.$ac_ext <<EOF
#line 3270 "configure"
d3324 4
a3327 1
#include <linux/version.h>
d3329 1
a3329 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:3275: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d3331 1
a3331 1
  eval "ac_cv_header_$ac_safe=yes"
a3332 1
  echo "$ac_err" >&5
d3336 1
a3336 1
  eval "ac_cv_header_$ac_safe=no"
d3339 2
d3342 1
a3342 1
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
d3344 8
a3351 1
  msgformat=linux
a3353 1
msgformat=xopen
d3356 15
d3372 1
a3372 8
                     sed -e '/^#/d' $srcdir/intl/$msgformat-msg.sed > intl/po2msg.sed
     fi
          if test -f $srcdir/intl/po2tbl.sed.in ; then
       rm -f intl/po2tbl.sed
       sed -e '/^#.*[^\\]$/d' -e '/^#$/d' \
         $srcdir/intl/po2tbl.sed.in > intl/po2tbl.sed
     fi
   fi
d3374 8
a3381 9
            if test "$PACKAGE" = "gettext"; then
     GT_NO="#NO#"
     GT_YES=
   else
     GT_NO=
     GT_YES="#YES#"
   fi
   
   
d3383 13
a3395 8
               MKINSTALLDIRS=
   if test -n "$ac_aux_dir"; then
     MKINSTALLDIRS="$ac_aux_dir/mkdirs.sh"
   fi
   if test -z "$MKINSTALLDIRS"; then
     MKINSTALLDIRS="\$(top_srcdir)/mkdirs.sh"
   fi
   
d3397 5
a3401 2
      l=
   
d3403 7
a3409 24
         if test "x$srcdir" != "x."; then
     if test "x`echo $srcdir | sed 's@@/.*@@@@'`" = "x"; then
       posrcprefix="$srcdir/"
     else
       posrcprefix="../$srcdir/"
     fi
   else
     posrcprefix="../"
   fi
   if test -f $srcdir/po/POTFILES.in ; then
   if test "$USE_NLS" = "yes"; then
     test -d po || mkdir po
     rm -f po/POTFILES
     sed -e "/^#/d" -e "/^\$/d" -e "s,.*,	$posrcprefix& \\\\," -e "\$s/\(.*\) \\\\/\1/" \
	  < $srcdir/po/POTFILES.in > po/POTFILES
   fi
   fi



# Check whether --with-nls-datadir or --without-nls-datadir was given.
if test "${with_nls_datadir+set}" = set; then
  withval="$with_nls_datadir"
  :
d3411 6
a3416 5
  withval="${NLS_DATADIR-$prefix/$DATADIRNAME}"
fi

case ".$withval" in #(vi
./*) #(vi
d3418 12
a3429 13
.\${*prefix}*) #(vi
  eval withval="$withval"
  case ".$withval" in #(vi
  .NONE/*)
    withval=`echo $withval | sed -e s@@NONE@@$ac_default_prefix@@`
    ;;
  esac
  ;; #(vi
.NONE/*)
  withval=`echo $withval | sed -e s@@NONE@@$ac_default_prefix@@`
  ;;
*)
  { echo "configure: error: expected a pathname" 1>&2; exit 1; }
a3431 20

eval NLS_DATADIR="$withval"


INTLDIR_CPPFLAGS="#"
INTLDIR_MAKE=
MSG_DIR_MAKE=
SUB_MAKEFILE=

use_our_messages=no
if test -d $srcdir/po ; then
echo $ac_n "checking if we should use included message-library""... $ac_c" 1>&6
echo "configure:3387: checking if we should use included message-library" >&5
	
# Check whether --enable-included-msgs or --disable-included-msgs was given.
if test "${enable_included_msgs+set}" = set; then
  enableval="$enable_included_msgs"
  use_our_messages=$enableval
else
  use_our_messages=yes
d3433 3
a3435 58

fi
echo "$ac_t""$use_our_messages" 1>&6
test $use_our_messages = yes && USE_OUR_MESSAGES=


if test "$USE_INCLUDED_LIBINTL" = yes ; then
        if test "$nls_cv_force_use_gnu_gettext" = yes ; then
		echo "configure: warning: Using included gettext anyway, since none was found" 1>&2
		SUB_MAKEFILE="intl/makefile"
	else
		INTLDIR_MAKE="#"
	fi
	if test $use_our_messages = no ; then
		MSG_DIR_MAKE="#"
		SUB_MAKEFILE=
	fi
	if test "$use_our_messages" = yes ; then
		SUB_MAKEFILE="$SUB_MAKEFILE po/makefile.in:po/makefile.inn"
	else
		MSG_DIR_MAKE="#"
	fi
elif test "$USE_NLS" = yes ; then
	for ac_hdr in libintl.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:3423: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 3428 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:3433: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
d3439 3
a3441 125
done

	INTLDIR_MAKE="#"
	SUB_MAKEFILE="po/makefile.in:po/makefile.inn"
else
	INTLDIR_MAKE="#"
	MSG_DIR_MAKE="#"
fi

if test -z "$MSG_DIR_MAKE" ; then
	if test $use_our_messages = no ; then
		MSG_DIR_MAKE="#"
		SUB_MAKEFILE=
	fi
fi

if test -z "$INTLDIR_MAKE" ; then
	INTLDIR_CPPFLAGS=
fi






if test "$USE_INCLUDED_LIBINTL" = yes ; then
	if test "$nls_cv_force_use_gnu_gettext" = yes ; then
		cat >> confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF

	elif test "$nls_cv_use_gnu_gettext" = yes ; then
		cat >> confdefs.h <<\EOF
#define HAVE_GETTEXT 1
EOF

	fi
	if test -n "$nls_cv_header_intl" ; then
		cat >> confdefs.h <<\EOF
#define HAVE_LIBINTL_H 1
EOF

	fi
fi

echo $ac_n "checking if you want full utility pathnames""... $ac_c" 1>&6
echo "configure:3503: checking if you want full utility pathnames" >&5

# Check whether --enable-full-paths or --disable-full-paths was given.
if test "${enable_full_paths+set}" = set; then
  enableval="$enable_full_paths"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    with_full_paths=no 
  else
    with_full_paths=yes
  fi
else
  enableval=yes 
  with_full_paths=yes
  
fi

echo "$ac_t""$with_full_paths" 1>&6
test $with_full_paths = no && cat >> confdefs.h <<\EOF
#define USE_EXECVP 1
EOF



echo $ac_n "checking for system mailer""... $ac_c" 1>&6
echo "configure:3528: checking for system mailer" >&5
if eval "test \"`echo '$''{'cf_cv_SYSTEM_MAIL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cf_cv_SYSTEM_MAIL=unknown
	for cv_path in /usr/mmdf/bin/submit \
	/usr/sbin/sendmail \
	/usr/lib/sendmail  \
	
	do
		if test -f $cv_path ; then
			cf_cv_SYSTEM_MAIL=$cv_path
			break
		fi
	done
	
fi

echo "$ac_t""$cf_cv_SYSTEM_MAIL" 1>&6
cat >> confdefs.h <<EOF
#define SYSTEM_MAIL "$cf_cv_SYSTEM_MAIL"
EOF



echo $ac_n "checking system mail flags""... $ac_c" 1>&6
echo "configure:3555: checking system mail flags" >&5
if eval "test \"`echo '$''{'cf_cv_system_mail_flags'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	case $cf_cv_SYSTEM_MAIL in
	*/mmdf/*)
		cf_cv_system_mail_flags="-mlruxto,cc\\\\*"
        	;;
	*)
        	cf_cv_system_mail_flags="-t -oi"
	esac
	
fi

echo "$ac_t""$cf_cv_system_mail_flags" 1>&6
cat >> confdefs.h <<EOF
#define SYSTEM_MAIL_FLAGS "$cf_cv_system_mail_flags"
EOF




test -z "$CHMOD" && CHMOD=chmod
if test "$with_full_paths" = yes ; then
	# Extract the first word of "chmod", so it can be a program name with args.
set dummy chmod; ac_word=$2
d3443 2
a3444 2
echo "configure:3583: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_CHMOD'+set}'`\" = set"; then
d3447 1
a3447 1
  case "$CHMOD" in
d3449 1
a3449 1
  ac_cv_path_CHMOD="$CHMOD" # Let the user override the test with a path.
d3452 1
a3452 1
  ac_cv_path_CHMOD="$CHMOD" # Let the user override the test with a dos path.
d3460 1
a3460 1
      ac_cv_path_CHMOD="$ac_dir/$ac_word"
d3465 1
a3465 1
  test -z "$ac_cv_path_CHMOD" && ac_cv_path_CHMOD="$CHMOD"
d3469 3
a3471 3
CHMOD="$ac_cv_path_CHMOD"
if test -n "$CHMOD"; then
  echo "$ac_t""$CHMOD" 1>&6
d3476 32
d3509 1
a3509 4
	echo $ac_n "checking for chmod""... $ac_c" 1>&6
echo "configure:3618: checking for chmod" >&5
	echo "$ac_t""$CHMOD" 1>&6
	eval 'ac_cv_path_'CHMOD'="'chmod'"'
a3510 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_CHMOD
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d3512 4
a3515 14
cat >> confdefs.h <<EOF
#define CHMOD_PATH "$cf_path_prog"
EOF

test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define CHMOD_ARGS "$cf_path_args"
EOF



test -z "$COMPRESS" && COMPRESS=compress
if test "$with_full_paths" = yes ; then
	# Extract the first word of "compress", so it can be a program name with args.
set dummy compress; ac_word=$2
d3517 2
a3518 2
echo "configure:3660: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_COMPRESS'+set}'`\" = set"; then
d3521 1
a3521 1
  case "$COMPRESS" in
d3523 1
a3523 4
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_COMPRESS="$COMPRESS" # Let the user override the test with a dos path.
d3526 2
a3527 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
d3530 4
a3533 2
      ac_cv_path_COMPRESS="$ac_dir/$ac_word"
      break
d3537 1
a3537 1
  test -z "$ac_cv_path_COMPRESS" && ac_cv_path_COMPRESS="$COMPRESS"
d3541 3
a3543 3
COMPRESS="$ac_cv_path_COMPRESS"
if test -n "$COMPRESS"; then
  echo "$ac_t""$COMPRESS" 1>&6
d3548 10
d3559 1
a3559 4
	echo $ac_n "checking for compress""... $ac_c" 1>&6
echo "configure:3695: checking for compress" >&5
	echo "$ac_t""$COMPRESS" 1>&6
	eval 'ac_cv_path_'COMPRESS'="'compress'"'
a3560 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_COMPRESS
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d3562 2
a3563 3
cat >> confdefs.h <<EOF
#define COMPRESS_PATH "$cf_path_prog"
EOF
d3565 4
a3568 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define COMPRESS_ARGS "$cf_path_args"
EOF
d3570 3
d3574 1
a3574 5

test -z "$COPY" && COPY=cp
if test "$with_full_paths" = yes ; then
	# Extract the first word of "cp", so it can be a program name with args.
set dummy cp; ac_word=$2
d3576 2
a3577 2
echo "configure:3737: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_COPY'+set}'`\" = set"; then
d3580 1
a3580 1
  case "$COPY" in
d3582 1
a3582 4
  ac_cv_path_COPY="$COPY" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_COPY="$COPY" # Let the user override the test with a dos path.
d3585 2
a3586 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
d3589 4
a3592 2
      ac_cv_path_COPY="$ac_dir/$ac_word"
      break
d3596 1
a3596 1
  test -z "$ac_cv_path_COPY" && ac_cv_path_COPY="$COPY"
d3600 3
a3602 3
COPY="$ac_cv_path_COPY"
if test -n "$COPY"; then
  echo "$ac_t""$COPY" 1>&6
d3607 2
a3608 43
else
	echo $ac_n "checking for cp""... $ac_c" 1>&6
echo "configure:3772: checking for cp" >&5
	echo "$ac_t""$COPY" 1>&6
	eval 'ac_cv_path_'COPY'="'cp'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_COPY
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

cat >> confdefs.h <<EOF
#define COPY_PATH "$cf_path_prog"
EOF

test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define COPY_ARGS "$cf_path_args"
EOF



test -z "$GZIP" && GZIP=gzip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "gzip", so it can be a program name with args.
set dummy gzip; ac_word=$2
d3610 2
a3611 2
echo "configure:3814: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_GZIP'+set}'`\" = set"; then
d3614 1
a3614 1
  case "$GZIP" in
d3616 1
a3616 1
  ac_cv_path_GZIP="$GZIP" # Let the user override the test with a path.
d3619 1
a3619 1
  ac_cv_path_GZIP="$GZIP" # Let the user override the test with a dos path.
d3627 1
a3627 1
      ac_cv_path_GZIP="$ac_dir/$ac_word"
d3632 1
a3632 1
  test -z "$ac_cv_path_GZIP" && ac_cv_path_GZIP="$GZIP"
d3636 3
a3638 3
GZIP="$ac_cv_path_GZIP"
if test -n "$GZIP"; then
  echo "$ac_t""$GZIP" 1>&6
d3643 1
a3643 28
else
	echo $ac_n "checking for gzip""... $ac_c" 1>&6
echo "configure:3849: checking for gzip" >&5
	echo "$ac_t""$GZIP" 1>&6
	eval 'ac_cv_path_'GZIP'="'gzip'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_GZIP
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d3645 1
a3645 14
cat >> confdefs.h <<EOF
#define GZIP_PATH "$cf_path_prog"
EOF

test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define GZIP_ARGS "$cf_path_args"
EOF



test -z "$MKDIR" && MKDIR=mkdir
if test "$with_full_paths" = yes ; then
	# Extract the first word of "mkdir", so it can be a program name with args.
set dummy mkdir; ac_word=$2
d3647 2
a3648 2
echo "configure:3891: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MKDIR'+set}'`\" = set"; then
d3651 1
a3651 1
  case "$MKDIR" in
d3653 1
a3653 4
  ac_cv_path_MKDIR="$MKDIR" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_MKDIR="$MKDIR" # Let the user override the test with a dos path.
d3656 2
a3657 3
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
d3660 4
a3663 2
      ac_cv_path_MKDIR="$ac_dir/$ac_word"
      break
d3667 1
a3667 1
  test -z "$ac_cv_path_MKDIR" && ac_cv_path_MKDIR="$MKDIR"
d3671 3
a3673 3
MKDIR="$ac_cv_path_MKDIR"
if test -n "$MKDIR"; then
  echo "$ac_t""$MKDIR" 1>&6
d3678 15
a3692 23
else
	echo $ac_n "checking for mkdir""... $ac_c" 1>&6
echo "configure:3926: checking for mkdir" >&5
	echo "$ac_t""$MKDIR" 1>&6
	eval 'ac_cv_path_'MKDIR'="'mkdir'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_MKDIR
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
d3694 2
a3695 1
		cf_path_args="$cf_path_args $cf_temp"
d3697 31
a3727 2
done
IFS="$cf_save_ifs"
d3729 12
a3740 3
cat >> confdefs.h <<EOF
#define MKDIR_PATH "$cf_path_prog"
EOF
d3742 15
a3756 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define MKDIR_ARGS "$cf_path_args"
EOF
d3758 4
d3763 7
d3771 7
a3777 7
test -z "$MV" && MV=mv
if test "$with_full_paths" = yes ; then
	# Extract the first word of "mv", so it can be a program name with args.
set dummy mv; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:3968: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_MV'+set}'`\" = set"; then
d3780 19
a3798 21
  case "$MV" in
  /*)
  ac_cv_path_MV="$MV" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_MV="$MV" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_MV="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_MV" && ac_cv_path_MV="$MV"
  ;;
esac
d3800 3
a3802 3
MV="$ac_cv_path_MV"
if test -n "$MV"; then
  echo "$ac_t""$MV" 1>&6
d3805 1
a3807 28
else
	echo $ac_n "checking for mv""... $ac_c" 1>&6
echo "configure:4003: checking for mv" >&5
	echo "$ac_t""$MV" 1>&6
	eval 'ac_cv_path_'MV'="'mv'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_MV
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d3809 8
a3816 3
cat >> confdefs.h <<EOF
#define MV_PATH "$cf_path_prog"
EOF
d3818 9
a3826 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define MV_ARGS "$cf_path_args"
EOF
d3828 8
d3837 2
d3840 261
a4100 1
test -z "$RM" && RM=rm
d4102 2
a4103 2
	# Extract the first word of "rm", so it can be a program name with args.
set dummy rm; ac_word=$2
d4105 4384
a8488 25
echo "configure:4045: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_RM'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$RM" in
  /*)
  ac_cv_path_RM="$RM" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_RM="$RM" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_RM="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_RM" && ac_cv_path_RM="$RM"
  ;;
esac
d8490 3
a8492 3
RM="$ac_cv_path_RM"
if test -n "$RM"; then
  echo "$ac_t""$RM" 1>&6
d8497 5
d8503 9
a8511 27
	echo $ac_n "checking for rm""... $ac_c" 1>&6
echo "configure:4080: checking for rm" >&5
	echo "$ac_t""$RM" 1>&6
	eval 'ac_cv_path_'RM'="'rm'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_RM
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d8513 3
a8515 2
cat >> confdefs.h <<EOF
#define RM_PATH "$cf_path_prog"
d8517 11
a8528 36
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define RM_ARGS "$cf_path_args"
EOF



test -z "$TAR" && TAR=tar
if test "$with_full_paths" = yes ; then
	# Extract the first word of "tar", so it can be a program name with args.
set dummy tar; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4122: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TAR'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$TAR" in
  /*)
  ac_cv_path_TAR="$TAR" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TAR="$TAR" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TAR="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TAR" && ac_cv_path_TAR="$TAR"
  ;;
esac
d8530 3
a8532 3
TAR="$ac_cv_path_TAR"
if test -n "$TAR"; then
  echo "$ac_t""$TAR" 1>&6
a8536 5
else
	echo $ac_n "checking for tar""... $ac_c" 1>&6
echo "configure:4157: checking for tar" >&5
	echo "$ac_t""$TAR" 1>&6
	eval 'ac_cv_path_'TAR'="'tar'"'
a8537 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_TAR
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d8539 7
a8545 3
cat >> confdefs.h <<EOF
#define TAR_PATH "$cf_path_prog"
EOF
d8547 16
a8562 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TAR_ARGS "$cf_path_args"
EOF
d8564 1
d8566 8
d8575 5
a8579 8
test -z "$TOUCH" && TOUCH=touch
if test "$with_full_paths" = yes ; then
	# Extract the first word of "touch", so it can be a program name with args.
set dummy touch; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4199: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TOUCH'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8581 4
a8584 21
  case "$TOUCH" in
  /*)
  ac_cv_path_TOUCH="$TOUCH" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TOUCH="$TOUCH" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TOUCH="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TOUCH" && ac_cv_path_TOUCH="$TOUCH"
  ;;
esac
d8586 1
a8586 5
TOUCH="$ac_cv_path_TOUCH"
if test -n "$TOUCH"; then
  echo "$ac_t""$TOUCH" 1>&6
else
  echo "$ac_t""no" 1>&6
d8589 3
d8593 1
a8593 27
	echo $ac_n "checking for touch""... $ac_c" 1>&6
echo "configure:4234: checking for touch" >&5
	echo "$ac_t""$TOUCH" 1>&6
	eval 'ac_cv_path_'TOUCH'="'touch'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_TOUCH
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d8595 15
a8609 3
cat >> confdefs.h <<EOF
#define TOUCH_PATH "$cf_path_prog"
EOF
d8611 3
a8613 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TOUCH_ARGS "$cf_path_args"
d8615 11
d8627 6
d8634 3
d8638 2
a8639 34
test -z "$UNCOMPRESS" && UNCOMPRESS=gunzip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "gunzip", so it can be a program name with args.
set dummy gunzip; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4276: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UNCOMPRESS'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$UNCOMPRESS" in
  /*)
  ac_cv_path_UNCOMPRESS="$UNCOMPRESS" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_UNCOMPRESS="$UNCOMPRESS" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UNCOMPRESS="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_UNCOMPRESS" && ac_cv_path_UNCOMPRESS="$UNCOMPRESS"
  ;;
esac
fi
UNCOMPRESS="$ac_cv_path_UNCOMPRESS"
if test -n "$UNCOMPRESS"; then
  echo "$ac_t""$UNCOMPRESS" 1>&6
d8642 4
d8648 1
a8648 5
else
	echo $ac_n "checking for gunzip""... $ac_c" 1>&6
echo "configure:4311: checking for gunzip" >&5
	echo "$ac_t""$UNCOMPRESS" 1>&6
	eval 'ac_cv_path_'UNCOMPRESS'="'gunzip'"'
d8650 1
a8650 3
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
d8652 21
a8672 18
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_UNCOMPRESS
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d8674 8
a8681 3
cat >> confdefs.h <<EOF
#define UNCOMPRESS_PATH "$cf_path_prog"
EOF
d8683 1
a8683 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define UNCOMPRESS_ARGS "$cf_path_args"
d8685 3
a8687 11



test -z "$UNZIP" && UNZIP=unzip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "unzip", so it can be a program name with args.
set dummy unzip; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4353: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UNZIP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8689 4
a8692 21
  case "$UNZIP" in
  /*)
  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_UNZIP="$UNZIP" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UNZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_UNZIP" && ac_cv_path_UNZIP="$UNZIP"
  ;;
esac
d8694 1
a8694 5
UNZIP="$ac_cv_path_UNZIP"
if test -n "$UNZIP"; then
  echo "$ac_t""$UNZIP" 1>&6
else
  echo "$ac_t""no" 1>&6
d8697 3
d8701 1
a8701 27
	echo $ac_n "checking for unzip""... $ac_c" 1>&6
echo "configure:4388: checking for unzip" >&5
	echo "$ac_t""$UNZIP" 1>&6
	eval 'ac_cv_path_'UNZIP'="'unzip'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_UNZIP
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d8703 11
a8713 2
cat >> confdefs.h <<EOF
#define UNZIP_PATH "$cf_path_prog"
d8715 11
d8727 26
a8752 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define UNZIP_ARGS "$cf_path_args"
EOF
d8754 1
d8756 18
a8773 35

test -z "$BZIP2" && BZIP2=bzip2
if test "$with_full_paths" = yes ; then
	# Extract the first word of "bzip2", so it can be a program name with args.
set dummy bzip2; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4430: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_BZIP2'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  case "$BZIP2" in
  /*)
  ac_cv_path_BZIP2="$BZIP2" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_BZIP2="$BZIP2" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_BZIP2="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_BZIP2" && ac_cv_path_BZIP2="$BZIP2"
  ;;
esac
fi
BZIP2="$ac_cv_path_BZIP2"
if test -n "$BZIP2"; then
  echo "$ac_t""$BZIP2" 1>&6
d8775 3
d8779 8
d8789 4
a8792 5
else
	echo $ac_n "checking for bzip2""... $ac_c" 1>&6
echo "configure:4465: checking for bzip2" >&5
	echo "$ac_t""$BZIP2" 1>&6
	eval 'ac_cv_path_'BZIP2'="'bzip2'"'
d8794 2
a8795 9
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
a8797 11
for cf_temp in $ac_cv_path_BZIP2
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d8799 17
a8815 3
cat >> confdefs.h <<EOF
#define BZIP2_PATH "$cf_path_prog"
EOF
d8817 1
a8817 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define BZIP2_ARGS "$cf_path_args"
EOF
d8819 8
d8828 5
a8832 9

test -z "$UUDECODE" && UUDECODE=uudecode
if test "$with_full_paths" = yes ; then
	# Extract the first word of "uudecode", so it can be a program name with args.
set dummy uudecode; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4507: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_UUDECODE'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8834 4
a8837 21
  case "$UUDECODE" in
  /*)
  ac_cv_path_UUDECODE="$UUDECODE" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_UUDECODE="$UUDECODE" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_UUDECODE="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_UUDECODE" && ac_cv_path_UUDECODE="$UUDECODE"
  ;;
esac
d8839 1
a8839 5
UUDECODE="$ac_cv_path_UUDECODE"
if test -n "$UUDECODE"; then
  echo "$ac_t""$UUDECODE" 1>&6
else
  echo "$ac_t""no" 1>&6
d8842 3
d8846 1
a8846 27
	echo $ac_n "checking for uudecode""... $ac_c" 1>&6
echo "configure:4542: checking for uudecode" >&5
	echo "$ac_t""$UUDECODE" 1>&6
	eval 'ac_cv_path_'UUDECODE'="'uudecode'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_UUDECODE
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d8848 11
a8858 2
cat >> confdefs.h <<EOF
#define UUDECODE_PATH "$cf_path_prog"
d8860 11
d8872 26
a8897 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define UUDECODE_ARGS "$cf_path_args"
EOF
d8899 1
d8901 18
a8918 9

test -z "$ZCAT" && ZCAT=zcat
if test "$with_full_paths" = yes ; then
	# Extract the first word of "zcat", so it can be a program name with args.
set dummy zcat; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4584: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_ZCAT'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8920 5
a8924 21
  case "$ZCAT" in
  /*)
  ac_cv_path_ZCAT="$ZCAT" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_ZCAT="$ZCAT" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_ZCAT="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_ZCAT" && ac_cv_path_ZCAT="$ZCAT"
  ;;
esac
d8926 3
a8928 5
ZCAT="$ac_cv_path_ZCAT"
if test -n "$ZCAT"; then
  echo "$ac_t""$ZCAT" 1>&6
else
  echo "$ac_t""no" 1>&6
d8930 2
a8931 6

else
	echo $ac_n "checking for zcat""... $ac_c" 1>&6
echo "configure:4619: checking for zcat" >&5
	echo "$ac_t""$ZCAT" 1>&6
	eval 'ac_cv_path_'ZCAT'="'zcat'"'
a8932 26
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_ZCAT
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"

cat >> confdefs.h <<EOF
#define ZCAT_PATH "$cf_path_prog"
EOF
d8934 1
a8934 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define ZCAT_ARGS "$cf_path_args"
EOF
d8936 3
d8941 5
a8945 8
test -z "$ZIP" && ZIP=zip
if test "$with_full_paths" = yes ; then
	# Extract the first word of "zip", so it can be a program name with args.
set dummy zip; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4661: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_ZIP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8947 1
a8947 21
  case "$ZIP" in
  /*)
  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_ZIP="$ZIP" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_ZIP="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_ZIP" && ac_cv_path_ZIP="$ZIP"
  ;;
esac
d8949 12
a8960 3
ZIP="$ac_cv_path_ZIP"
if test -n "$ZIP"; then
  echo "$ac_t""$ZIP" 1>&6
d8962 4
a8965 1
  echo "$ac_t""no" 1>&6
d8967 3
a8970 28
else
	echo $ac_n "checking for zip""... $ac_c" 1>&6
echo "configure:4696: checking for zip" >&5
	echo "$ac_t""$ZIP" 1>&6
	eval 'ac_cv_path_'ZIP'="'zip'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_ZIP
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
a8971 3
cat >> confdefs.h <<EOF
#define ZIP_PATH "$cf_path_prog"
EOF
a8972 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define ZIP_ARGS "$cf_path_args"
EOF
d8974 11
d8986 6
d8993 5
a8997 8
test -z "$TELNET" && TELNET=telnet
if test "$with_full_paths" = yes ; then
	# Extract the first word of "telnet", so it can be a program name with args.
set dummy telnet; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4738: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TELNET'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d8999 4
a9002 21
  case "$TELNET" in
  /*)
  ac_cv_path_TELNET="$TELNET" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TELNET="$TELNET" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TELNET="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TELNET" && ac_cv_path_TELNET="$TELNET"
  ;;
esac
d9004 2
a9005 5
TELNET="$ac_cv_path_TELNET"
if test -n "$TELNET"; then
  echo "$ac_t""$TELNET" 1>&6
else
  echo "$ac_t""no" 1>&6
d9008 6
a9013 15
else
	echo $ac_n "checking for telnet""... $ac_c" 1>&6
echo "configure:4773: checking for telnet" >&5
	echo "$ac_t""$TELNET" 1>&6
	eval 'ac_cv_path_'TELNET'="'telnet'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
a9015 11
for cf_temp in $ac_cv_path_TELNET
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d9017 6
d9024 1
a9024 1
#define TELNET_PATH "$cf_path_prog"
d9027 3
a9029 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TELNET_ARGS "$cf_path_args"
EOF
d9032 2
d9035 4
a9038 8
test -z "$TN3270" && TN3270=tn3270
if test "$with_full_paths" = yes ; then
	# Extract the first word of "tn3270", so it can be a program name with args.
set dummy tn3270; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4815: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_TN3270'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9040 1
a9040 27
  case "$TN3270" in
  /*)
  ac_cv_path_TN3270="$TN3270" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_TN3270="$TN3270" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_TN3270="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_TN3270" && ac_cv_path_TN3270="$TN3270"
  ;;
esac
fi
TN3270="$ac_cv_path_TN3270"
if test -n "$TN3270"; then
  echo "$ac_t""$TN3270" 1>&6
else
  echo "$ac_t""no" 1>&6
d9043 10
a9052 25
else
	echo $ac_n "checking for tn3270""... $ac_c" 1>&6
echo "configure:4850: checking for tn3270" >&5
	echo "$ac_t""$TN3270" 1>&6
	eval 'ac_cv_path_'TN3270'="'tn3270'"'
fi
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_TN3270
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
d9054 2
a9055 2
done
IFS="$cf_save_ifs"
d9057 28
a9084 3
cat >> confdefs.h <<EOF
#define TN3270_PATH "$cf_path_prog"
EOF
d9086 5
a9090 3
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define TN3270_ARGS "$cf_path_args"
EOF
d9093 3
a9095 8

test -z "$RLOGIN" && RLOGIN=rlogin
if test "$with_full_paths" = yes ; then
	# Extract the first word of "rlogin", so it can be a program name with args.
set dummy rlogin; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:4892: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_path_RLOGIN'+set}'`\" = set"; then
d9098 14
a9111 25
  case "$RLOGIN" in
  /*)
  ac_cv_path_RLOGIN="$RLOGIN" # Let the user override the test with a path.
  ;;
  ?:/*)			 
  ac_cv_path_RLOGIN="$RLOGIN" # Let the user override the test with a dos path.
  ;;
  *)
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do 
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_path_RLOGIN="$ac_dir/$ac_word"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_path_RLOGIN" && ac_cv_path_RLOGIN="$RLOGIN"
  ;;
esac
fi
RLOGIN="$ac_cv_path_RLOGIN"
if test -n "$RLOGIN"; then
  echo "$ac_t""$RLOGIN" 1>&6
d9113 5
a9117 1
  echo "$ac_t""no" 1>&6
d9119 1
d9121 10
d9132 2
a9133 4
	echo $ac_n "checking for rlogin""... $ac_c" 1>&6
echo "configure:4927: checking for rlogin" >&5
	echo "$ac_t""$RLOGIN" 1>&6
	eval 'ac_cv_path_'RLOGIN'="'rlogin'"'
d9135 1
a9135 22
cf_path_prog=""
cf_path_args=""
IFS="${IFS= 	}"; cf_save_ifs="$IFS"
case $host_os in #(vi
os2*) #(vi
	IFS="${IFS};"
	;;
*)
	IFS="${IFS}:"
	;;
esac
for cf_temp in $ac_cv_path_RLOGIN
do
	if test -z "$cf_path_prog" ; then
		cf_path_prog="$cf_temp"
	elif test -z "$cf_path_args" ; then
		cf_path_args="$cf_temp"
	else
		cf_path_args="$cf_path_args $cf_temp"
	fi
done
IFS="$cf_save_ifs"
d9137 1
a9137 3
cat >> confdefs.h <<EOF
#define RLOGIN_PATH "$cf_path_prog"
EOF
d9139 6
a9144 2
test -n "$cf_path_args" && cat >> confdefs.h <<EOF
#define RLOGIN_ARGS "$cf_path_args"
d9146 8
d9155 1
d9157 15
a9172 4
case "$INSTALL" in
$srcdir*) # (vi
	cat >> confdefs.h <<EOF
#define INSTALL_PATH "install"
d9174 11
d9186 7
a9192 4
	;;
*) # (vi
	cat >> confdefs.h <<EOF
#define INSTALL_PATH "$INSTALL"
d9195 1
a9195 2
	;;
esac
d9197 26
d9224 4
a9227 2
cat >> confdefs.h <<\EOF
#define UNIX 1
d9230 1
d9232 46
a9277 5
if test -z "$GCC" ; then
	
echo $ac_n "checking for ${CC-cc} option to accept ANSI C""... $ac_c" 1>&6
echo "configure:4988: checking for ${CC-cc} option to accept ANSI C" >&5
if eval "test \"`echo '$''{'cf_cv_ansi_cc'+set}'`\" = set"; then
d9280 4
a9283 21
  
cf_cv_ansi_cc=no
cf_save_CFLAGS="$CFLAGS"
# Don't try gcc -ansi; that turns off useful extensions and
# breaks some systems' header files.
# AIX			-qlanglvl=ansi
# Ultrix and OSF/1	-std1
# HP-UX			-Aa -D_HPUX_SOURCE
# SVR4			-Xc
# UnixWare 1.2		(cannot use -Xc, since ANSI/POSIX clashes)
for cf_arg in "-DCC_HAS_PROTOS" \
	"" \
	-qlanglvl=ansi \
	-std1 \
	"-Aa -D_HPUX_SOURCE +e" \
	"-Aa -D_HPUX_SOURCE" \
	-Xc
do
	CFLAGS="$cf_save_CFLAGS $cf_arg"
	cat > conftest.$ac_ext <<EOF
#line 5012 "configure"
d9285 4
a9288 6

#ifndef CC_HAS_PROTOS
#if !defined(__STDC__) || (__STDC__ != 1)
choke me
#endif
#endif
d9291 1
a9291 4

	int test (int i, double x);
	struct s1 {int (*f) (int a);};
	struct s2 {int (*f) (double a);};
d9294 1
a9294 1
if { (eval echo configure:5028: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9296 1
a9296 1
  cf_cv_ansi_cc="$cf_arg"; break
d9300 2
d9304 1
a9304 2
done
CFLAGS="$cf_save_CFLAGS"
d9307 6
d9314 16
a9329 1
echo "$ac_t""$cf_cv_ansi_cc" 1>&6
d9331 7
a9337 3
if test "$cf_cv_ansi_cc" != "no"; then
if test ".$cf_cv_ansi_cc" != ".-DCC_HAS_PROTOS"; then
	CFLAGS="$CFLAGS $cf_cv_ansi_cc"
d9339 7
a9345 3
	cat >> confdefs.h <<\EOF
#define CC_HAS_PROTOS 1
EOF
d9348 5
d9356 24
a9379 3
echo $ac_n "checking for working const""... $ac_c" 1>&6
echo "configure:5056: checking for working const" >&5
if eval "test \"`echo '$''{'ac_cv_c_const'+set}'`\" = set"; then
d9383 1
a9383 1
#line 5061 "configure"
d9385 1
a9385 46

int main() {

/* Ultrix mips cc rejects this.  */
typedef int charset[2]; const charset x;
/* SunOS 4.1.1 cc rejects this.  */
char const *const *ccp;
char **p;
/* NEC SVR4.0.2 mips cc rejects this.  */
struct point {int x, y;};
static struct point const zero = {0,0};
/* AIX XL C 1.02.0.0 rejects this.
   It does not let you subtract one const X* pointer from another in an arm
   of an if-expression whose if-part is not a constant expression */
const char *g = "string";
ccp = &g + (g ? g-g : 0);
/* HPUX 7.0 cc rejects these. */
++ccp;
p = (char**) ccp;
ccp = (char const *const *) p;
{ /* SCO 3.2v4 cc rejects this.  */
  char *t;
  char const *s = 0 ? (char *) 0 : (char const *) 0;

  *t++ = 0;
}
{ /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */
  int x[] = {25, 17};
  const int *foo = &x[0];
  ++foo;
}
{ /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */
  typedef const int *iptr;
  iptr p = 0;
  ++p;
}
{ /* AIX XL C 1.02.0.0 rejects this saying
     "k.c", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */
  struct s { int j; const int *ap[3]; };
  struct s *b; b->j = 5;
}
{ /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */
  const int foo = 10;
}

; return 0; }
d9387 4
a9390 1
if { (eval echo configure:5110: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9392 1
a9392 1
  ac_cv_c_const=yes
d9394 1
d9398 1
a9398 1
  ac_cv_c_const=no
d9402 5
a9406 5

echo "$ac_t""$ac_cv_c_const" 1>&6
if test $ac_cv_c_const = no; then
  cat >> confdefs.h <<\EOF
#define const 
d9408 3
a9410 1

d9412 1
d9415 3
a9417 24
PROG_EXT=
TRY_CFLAGS=
case $host_os in
aix4*)
	CFLAGS="$CFLAGS -DAIX4 -D_BSD=44 -D_AIX"
	LIBS="$LIBS -lbsd"
	;;
aix*)
	LIBS="$LIBS -lbsd"
	;;
apollo*)
	TRY_CFLAGS="$TRY_CFLAGS -D_BUILTINS -W0,-opt,4"
	;;
bsdi*)
	CFLAGS="$CFLAGS -DBSDI"
	;;
clix*)
	# Tested on CLIX 3.1 (T.Dickey).  The original makefile entry
	# contributed by Alex Matulich (matuli_a@@marlin.navsea.navy.mil) also
	# references -lmalloc and -lbsd.
	echo $ac_n "checking for strcmp in -lc_s""... $ac_c" 1>&6
echo "configure:5152: checking for strcmp in -lc_s" >&5
ac_lib_var=`echo c_s'_'strcmp | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d9420 3
a9422 4
  ac_save_LIBS="$LIBS"
LIBS="-lc_s  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5160 "configure"
a9423 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char strcmp();
d9425 6
d9432 1
a9432 1
strcmp()
d9435 1
a9435 1
if { (eval echo configure:5171: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9437 1
a9437 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d9442 1
a9442 1
  eval "ac_cv_lib_$ac_lib_var=no"
d9445 1
a9445 1
LIBS="$ac_save_LIBS"
d9447 3
a9449 7
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_lib=HAVE_LIB`echo c_s | sed -e 's/[^a-zA-Z0-9_]/_/g' \
    -e 'y/abcdefghijklmnopqrstuvwxyz/ABCDEFGHIJKLMNOPQRSTUVWXYZ/'`
  cat >> confdefs.h <<EOF
#define $ac_tr_lib 1
a9451 1
  LIBS="-lc_s $LIBS"
a9452 3
else
  echo "$ac_t""no" 1>&6
fi
d9454 3
a9456 65
	;;
convex*)
	CFLAGS="$CFLAGS -D__STDC__ -Dunix"
	;;
dgux*)
	CFLAGS="$CFLAGS -DDGUX"
	;;
hpux*)
	CFLAGS="$CFLAGS -DSNAKE"
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -Wp,-H600000"
	;;
isc*)
	# -DPOSIX_JC is necessary, else LYBookmark.c never finds out what a mode_t is.
	CFLAGS="$CFLAGS -DISC -DPOSIX_JC"
	LIBS="$LIBS -linet -lnsl_s -lcposix"
	;;
irix*)
	# The original makefile used the $CFLAGS option -cckr for some form
	# of K&R compatibility.  However, this causes compilation warnings for
	# varargs on IRIX 5.2, and does not appear to be needed.
	#removed: CFLAGS="$CFLAGS -cckr"
	;;
linux*)
	CFLAGS="$CFLAGS -DLINUX"
	;;
next*)
	CFLAGS="$CFLAGS -DNEXT -DXMOSAIC_HACK"
	;;
openbsd*)
	LIBS="$LIBS -lcompat -ltermlib -lssl -lcrypto"
	;;
os2*)
	# We make sure -Zexe is not used -- it would interfere with @@PROG_EXT@@
	CFLAGS="$CFLAGS -Zmt -D__ST_MT_ERRNO__"
	LDFLAGS=`echo "$LDFLAGS -Zmt -Zcrtdll" | sed "s/-Zexe//g"`
	PROG_EXT=".exe"
	;;
osf4*)
	# The -Olimit flag (see below) is no longer available with
	# Digital C 5.2, which is bundled with Digital UNIX 4.0.
	CFLAGS="$CFLAGS -DDSYS5"
	;;
osf*)
	# Increase the maximum size of functions that will be optimized.
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -O -Olimit 4000"
	CFLAGS="$CFLAGS -DDSYS5"
	;;
sco3.2v5*)
	test $ac_cv_prog_gcc != yes && TRY_CFLAGS="$TRY_CFLAGS -belf"
	;;
sco*)
	LIBS="$LIBS -lmalloc"
	# It's a little late to do much, but try to warn user if he's using
	# SCO's cc (which is reported to have broken const/volatile).
	case "$CC" in #(vi
	cc|*/cc)
		echo "configure: warning: You should consider using gcc or rcc if available" 1>&2
		unset ac_cv_prog_CC
		for ac_prog in gcc rcc
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:5261: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
d9459 20
a9478 2
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
d9480 4
a9483 10
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
d9485 2
a9486 6
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
d9489 6
a9494 3
test -n "$CC" && break
done
test -n "$CC" || CC="$CC"
d9496 1
a9496 12
		;;
	esac
	;;
sequent-ptx)
	CFLAGS="$CFLAGS -DSVR4_BSDSELECT -DNO_IOCTL -DUSE_FCNTL"
	;;
sequent-ptx2)
	CFLAGS="$CFLAGS -DSVR4_BSDSELECT"
	;;
sony-newsos*)
	CFLAGS="$CFLAGS -I/usr/sony/include"
	for ac_hdr in jcurses.h
d9500 1
a9500 1
echo "configure:5306: checking for $ac_hdr" >&5
d9505 1
a9505 1
#line 5311 "configure"
d9510 1
a9510 1
{ (eval echo configure:5316: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d9536 8
a9543 15
	;;
svr4)
	CFLAGS="$CFLAGS -DSVR4_BSDSELECT -DSVR4"
	;;
sunos3*)
	CFLAGS="$CFLAGS -DSUN"
	;;
sunos4*)
	CFLAGS="$CFLAGS -DSUN -DSUN4"
	;;
ultrix*)
	# Increase the maximum size of functions that will be optimized.
	test -z "$GCC" && TRY_CFLAGS="$TRY_CFLAGS -O -Olimit 600 -G 7"
	CFLAGS="$CFLAGS -DULTRIX"
	for ac_hdr in cursesX.h
d9547 1
a9547 1
echo "configure:5360: checking for $ac_hdr" >&5
d9552 1
a9552 1
#line 5365 "configure"
d9557 1
a9557 1
{ (eval echo configure:5370: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d9577 1
a9577 5
 cat >> confdefs.h <<\EOF
#define HAVE_CURSESX_H 1
EOF

		 cf_cv_ncurses_header=cursesX.h
d9583 10
a9592 11
	;;
esac


if test -n "$TRY_CFLAGS" ; then
	cf_save_CFLAGS="$CFLAGS"
	CFLAGS="$CFLAGS $TRY_CFLAGS"
	echo $ac_n "checking if we should use compile options $TRY_CFLAGS""... $ac_c" 1>&6
echo "configure:5408: checking if we should use compile options $TRY_CFLAGS" >&5
	cat > conftest.$ac_ext <<EOF
#line 5410 "configure"
d9594 1
a9594 4
#include <stdio.h>
int main() {
FILE *fp = stdin
; return 0; }
d9596 4
a9599 1
if { (eval echo configure:5417: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9601 1
a9601 1
  cf_result=yes
d9603 1
d9607 1
a9607 1
  cf_result=no
a9609 2
	echo "$ac_t""$cf_result" 1>&6
	test "$cf_result" = no && CFLAGS="$cf_save_CFLAGS"
d9611 7
a9617 8


### Look for network libraries first, since some functions (such as gethostname)
### are used in a lot of places.
echo $ac_n "checking if you want socks library""... $ac_c" 1>&6
echo "configure:5435: checking if you want socks library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libsocks'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d9619 1
a9619 8
  

# Check whether --with-socks or --without-socks was given.
if test "${with_socks+set}" = set; then
  withval="$with_socks"
  cf_cv_use_libsocks=$withval
else
  cf_cv_use_libsocks=no
d9621 1
d9623 4
a9626 1

d9628 4
a9631 16

echo "$ac_t""$cf_cv_use_libsocks" 1>&6

echo $ac_n "checking if you want socks5 library""... $ac_c" 1>&6
echo "configure:5455: checking if you want socks5 library" >&5
if eval "test \"`echo '$''{'cf_cv_use_libsocks5'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  

# Check whether --with-socks5 or --without-socks5 was given.
if test "${with_socks5+set}" = set; then
  withval="$with_socks5"
  cf_cv_use_libsocks5=$withval
else
  cf_cv_use_libsocks5=no
a9632 2


a9634 15
echo "$ac_t""$cf_cv_use_libsocks5" 1>&6

if test "x$cf_cv_use_libsocks" != xno ; then
	
case "$cf_cv_use_libsocks" in #(vi
no|yes) #(vi
  ;;
*)
  LIBS="$LIBS -L$cf_cv_use_libsocks"
  ;;
esac
LIBS="$LIBS -lsocks"
cat >> confdefs.h <<\EOF
#define SOCKS 1
EOF
a9635 3
cat >> confdefs.h <<\EOF
#define accept Raccept
EOF
d9637 4
a9640 40
cat >> confdefs.h <<\EOF
#define bind Rbind
EOF

cat >> confdefs.h <<\EOF
#define connect Rconnect
EOF

cat >> confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF

cat >> confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF

cat >> confdefs.h <<\EOF
#define listen Rlisten
EOF

cat >> confdefs.h <<\EOF
#define recvfrom Rrecvfrom
EOF

cat >> confdefs.h <<\EOF
#define select Rselect
EOF

cat > conftest.$ac_ext <<EOF
#line 5521 "configure"
#include "confdefs.h"

#include <stdio.h>
int main() {

	accept((char *)0)
; return 0; }
EOF
if { (eval echo configure:5530: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  :
d9642 3
a9644 30
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  { echo "configure: error: Cannot link with socks library" 1>&2; exit 1; }
fi
rm -f conftest*

elif test "x$cf_cv_use_libsocks5" != xno ; then
	
case "$cf_cv_use_libsocks5" in #(vi
no|yes) #(vi
  ;;
*)
  LIBS="$LIBS -L$cf_cv_use_libsocks5"
  CFLAGS="$CFLAGS -I$cf_cv_use_libsocks5/../include"
  ;;
esac
LIBS="$LIBS -lsocks5"
cat >> confdefs.h <<\EOF
#define USE_SOCKS5 1
EOF

cat >> confdefs.h <<\EOF
#define SOCKS 1
EOF

echo $ac_n "checking if the socks library uses socks4 prefix""... $ac_c" 1>&6
echo "configure:5560: checking if the socks library uses socks4 prefix" >&5
cat > conftest.$ac_ext <<EOF
#line 5562 "configure"
d9646 1
a9646 2

#include <socks.h>
d9648 5
a9652 2

	Rinit((char *)0)
d9655 1
a9655 1
if { (eval echo configure:5571: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9657 3
a9659 5
  cat >> confdefs.h <<\EOF
#define USE_SOCKS4_PREFIX 1
EOF

	 cf_use_socks4=yes
d9664 3
a9666 2
  cat > conftest.$ac_ext <<EOF
#line 5583 "configure"
d9668 1
a9668 1
#include <socks.h>
d9670 9
a9678 1
SOCKSinit((char *)0)
d9681 1
a9681 1
if { (eval echo configure:5590: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9683 3
a9685 1
  cf_use_socks4=no
d9690 1
a9690 1
  { echo "configure: error: Cannot link with socks5 library" 1>&2; exit 1; }
d9695 5
a9699 4
echo "$ac_t""$cf_use_socks4" 1>&6
if test "$cf_use_socks4" = "yes" ; then
	cat >> confdefs.h <<\EOF
#define accept Raccept
a9701 3
	cat >> confdefs.h <<\EOF
#define bind Rbind
EOF
a9702 3
	cat >> confdefs.h <<\EOF
#define connect Rconnect
EOF
a9703 3
	cat >> confdefs.h <<\EOF
#define getpeername Rgetpeername
EOF
d9705 1
a9705 3
	cat >> confdefs.h <<\EOF
#define getsockname Rgetsockname
EOF
d9707 13
a9719 2
	cat >> confdefs.h <<\EOF
#define listen Rlisten
d9721 12
d9734 3
a9736 2
	cat >> confdefs.h <<\EOF
#define recvfrom Rrecvfrom
a9738 3
	cat >> confdefs.h <<\EOF
#define select Rselect
EOF
d9740 4
d9745 8
a9752 2
	cat >> confdefs.h <<\EOF
#define accept SOCKSaccept
d9754 12
d9767 3
a9769 2
	cat >> confdefs.h <<\EOF
#define getpeername SOCKSgetpeername
a9771 3
	cat >> confdefs.h <<\EOF
#define getsockname SOCKSgetsockname
EOF
d9773 1
a9773 3
	cat >> confdefs.h <<\EOF
#define recvfrom SOCKSrecvfrom
EOF
a9774 1
fi
d9776 1
a9776 13
else
	
cf_test_netlibs=no
echo $ac_n "checking for network libraries""... $ac_c" 1>&6
echo "configure:5659: checking for network libraries" >&5
if eval "test \"`echo '$''{'cf_cv_netlibs'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
echo "$ac_t""working..." 1>&6
cf_cv_netlibs=""
cf_test_netlibs=yes
for ac_func in gethostname
d9778 4
a9781 3
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5670: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d9785 1
a9785 1
#line 5675 "configure"
d9787 1
a9787 20
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
d9789 4
a9792 1
if { (eval echo configure:5698: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9794 1
a9794 1
  eval "ac_cv_func_$ac_func=yes"
d9796 1
d9800 1
a9800 1
  eval "ac_cv_func_$ac_func=no"
d9804 1
a9804 2

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
d9806 1
a9806 1
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
d9808 1
a9808 1
#define $ac_tr_func 1
d9813 2
d9816 3
a9818 4
echo $ac_n "checking for gethostname in -lnsl""... $ac_c" 1>&6
echo "configure:5721: checking for gethostname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d9821 3
a9823 4
  ac_save_LIBS="$LIBS"
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5729 "configure"
a9824 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();
d9826 8
d9835 1
a9835 1
gethostname()
d9838 1
a9838 1
if { (eval echo configure:5740: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9840 1
a9840 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d9845 1
a9845 1
  eval "ac_cv_lib_$ac_lib_var=no"
d9848 1
a9848 2
LIBS="$ac_save_LIBS"

a9849 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
cf_tr_func=`echo gethostname | tr 'a-z' 'A-Z'`
d9851 3
a9853 2
	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
a9855 4
	ac_cv_func_gethostname=yes
	cf_cv_netlibs="-lnsl $cf_cv_netlibs"
else
  echo "$ac_t""no" 1>&6
d9857 3
a9859 8
	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
	
		
echo $ac_n "checking for gethostname in -lsocket""... $ac_c" 1>&6
echo "configure:5773: checking for gethostname in -lsocket" >&5
ac_lib_var=`echo socket'_'gethostname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d9862 2
a9863 4
  ac_save_LIBS="$LIBS"
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5781 "configure"
d9865 4
a9868 10
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostname();

int main() {
gethostname()
; return 0; }
EOF
if { (eval echo configure:5792: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9870 1
a9870 1
  eval "ac_cv_lib_$ac_lib_var=yes"
a9871 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d9873 1
a9873 1
  eval "ac_cv_lib_$ac_lib_var=no"
a9875 1
LIBS="$ac_save_LIBS"
a9877 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
cf_tr_func=`echo gethostname | tr 'a-z' 'A-Z'`
d9879 4
a9882 2
	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
d9885 3
a9887 4
	ac_cv_func_gethostname=yes
	cf_cv_netlibs="-lsocket $cf_cv_netlibs"
else
  echo "$ac_t""no" 1>&6
a9888 3
	ac_cv_func_gethostname=unknown
	unset ac_cv_func_gethostname 2>/dev/null
	
d9891 3
a9893 13

fi


fi
done

#
# FIXME:  sequent needs this library (i.e., -lsocket -linet -lnsl), but
# I don't know the entrypoints - 97/7/22 TD
echo $ac_n "checking for -linet""... $ac_c" 1>&6
echo "configure:5836: checking for -linet" >&5
if eval "test \"`echo '$''{'ac_cv_lib_inet'+set}'`\" = set"; then
d9896 5
a9900 4
  ac_save_LIBS="$LIBS"
LIBS="-linet  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5843 "configure"
d9903 5
a9907 1
int main() {
d9909 15
a9923 1
; return 0; }
d9925 3
a9927 3
if { (eval echo configure:5850: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_cv_lib_inet=yes
d9931 2
a9932 2
  rm -rf conftest*
  ac_cv_lib_inet=no
d9934 1
a9934 7
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
echo "$ac_t""$ac_cv_lib_inet" 1>&6
if test "$ac_cv_lib_inet" = yes; then
  cf_cv_netlibs="-linet $cf_cv_netlibs"
d9937 3
a9939 11
#
if test "$ac_cv_func_lsocket" != no ; then
for ac_func in socket
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:5873: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 5878 "configure"
d9941 1
a9941 20
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
d9943 2
a9944 1
if { (eval echo configure:5901: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9946 1
a9946 1
  eval "ac_cv_func_$ac_func=yes"
a9947 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d9949 1
a9949 1
  eval "ac_cv_func_$ac_func=no"
d9952 2
d9956 3
a9958 5
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
a9959 3
 
else
  echo "$ac_t""no" 1>&6
d9961 4
a9964 4
echo $ac_n "checking for socket in -lsocket""... $ac_c" 1>&6
echo "configure:5924: checking for socket in -lsocket" >&5
ac_lib_var=`echo socket'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d9967 2
a9968 4
  ac_save_LIBS="$LIBS"
LIBS="-lsocket $cf_cv_netlibs $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5932 "configure"
d9970 5
a9974 8
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
d9976 2
a9977 1
if { (eval echo configure:5943: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d9979 1
a9979 1
  eval "ac_cv_lib_$ac_lib_var=yes"
a9980 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d9982 1
a9982 1
  eval "ac_cv_lib_$ac_lib_var=no"
a9984 1
LIBS="$ac_save_LIBS"
d9987 4
a9990 8
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
cf_tr_func=`echo socket | tr 'a-z' 'A-Z'`

	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
d9993 1
a9993 4
	ac_cv_func_socket=yes
	cf_cv_netlibs="-lsocket $cf_cv_netlibs"
else
  echo "$ac_t""no" 1>&6
d9995 3
a9997 8
	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
	
		
echo $ac_n "checking for socket in -lbsd""... $ac_c" 1>&6
echo "configure:5976: checking for socket in -lbsd" >&5
ac_lib_var=`echo bsd'_'socket | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d10000 2
a10001 4
  ac_save_LIBS="$LIBS"
LIBS="-lbsd $cf_cv_netlibs $LIBS"
cat > conftest.$ac_ext <<EOF
#line 5984 "configure"
d10003 1
a10003 8
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char socket();

int main() {
socket()
; return 0; }
d10005 2
a10006 1
if { (eval echo configure:5995: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10008 1
a10008 1
  eval "ac_cv_lib_$ac_lib_var=yes"
a10009 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d10011 1
a10011 1
  eval "ac_cv_lib_$ac_lib_var=no"
a10013 1
LIBS="$ac_save_LIBS"
a10015 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
cf_tr_func=`echo socket | tr 'a-z' 'A-Z'`
d10017 4
a10020 2
	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
d10023 3
a10025 13
	ac_cv_func_socket=yes
	cf_cv_netlibs="-lbsd $cf_cv_netlibs"
else
  echo "$ac_t""no" 1>&6

	ac_cv_func_socket=unknown
	unset ac_cv_func_socket 2>/dev/null
	
fi


fi

a10027 23
done

fi
#
for ac_func in gethostbyname
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:6040: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 6045 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {
d10029 12
a10040 7
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
a10041 2

; return 0; }
d10043 2
a10044 1
if { (eval echo configure:6068: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10046 1
a10046 1
  eval "ac_cv_func_$ac_func=yes"
a10047 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d10049 1
a10049 1
  eval "ac_cv_func_$ac_func=no"
d10052 8
a10061 9
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
d10063 5
a10067 4
echo $ac_n "checking for gethostbyname in -lnsl""... $ac_c" 1>&6
echo "configure:6091: checking for gethostbyname in -lnsl" >&5
ac_lib_var=`echo nsl'_'gethostbyname | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d10070 2
a10071 4
  ac_save_LIBS="$LIBS"
LIBS="-lnsl $cf_cv_netlibs $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6099 "configure"
d10073 1
a10073 8
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char gethostbyname();

int main() {
gethostbyname()
; return 0; }
d10075 4
a10078 1
if { (eval echo configure:6110: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10080 1
a10080 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d10082 1
d10086 1
a10086 1
  eval "ac_cv_lib_$ac_lib_var=no"
a10088 2
LIBS="$ac_save_LIBS"

d10090 1
a10090 1
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
d10092 2
a10093 6
  
	
cf_tr_func=`echo gethostbyname | tr 'a-z' 'A-Z'`

	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
a10095 2
	ac_cv_func_gethostbyname=yes
	cf_cv_netlibs="-lnsl $cf_cv_netlibs"
a10097 4

	ac_cv_func_gethostbyname=unknown
	unset ac_cv_func_gethostbyname 2>/dev/null
	
d10100 9
a10108 10

fi
done

#
for ac_func in strcasecmp
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:6151: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d10112 1
a10112 1
#line 6156 "configure"
d10115 1
a10115 1
    which can conflict with char $ac_func(); below.  */
d10120 1
a10120 1
char $ac_func();
d10127 1
a10127 1
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
d10130 1
a10130 1
$ac_func();
d10135 1
a10135 1
if { (eval echo configure:6179: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10137 1
a10137 1
  eval "ac_cv_func_$ac_func=yes"
d10142 1
a10142 1
  eval "ac_cv_func_$ac_func=no"
d10147 1
a10147 1
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
d10149 1
a10149 5
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
d10152 1
d10154 1
a10154 5
echo $ac_n "checking for strcasecmp in -lresolv""... $ac_c" 1>&6
echo "configure:6202: checking for strcasecmp in -lresolv" >&5
ac_lib_var=`echo resolv'_'strcasecmp | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d10156 2
a10157 4
  ac_save_LIBS="$LIBS"
LIBS="-lresolv $cf_cv_netlibs $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6210 "configure"
d10159 86
a10244 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char strcasecmp();
d10246 5
a10250 3
int main() {
strcasecmp()
; return 0; }
d10252 3
a10254 3
if { (eval echo configure:6221: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
d10258 2
a10259 2
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
d10261 1
a10261 22
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
cf_tr_func=`echo strcasecmp | tr 'a-z' 'A-Z'`

	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
EOF

	ac_cv_func_strcasecmp=yes
	cf_cv_netlibs="-lresolv $cf_cv_netlibs"
else
  echo "$ac_t""no" 1>&6

	ac_cv_func_strcasecmp=unknown
	unset ac_cv_func_strcasecmp 2>/dev/null
	
a10263 1

a10264 1
done
d10266 5
a10273 2
LIBS="$LIBS $cf_cv_netlibs"
test $cf_test_netlibs = no && echo "$cf_cv_netlibs" >&6
d10275 3
a10277 5
fi

echo $ac_n "checking for inet_aton function""... $ac_c" 1>&6
echo "configure:6267: checking for inet_aton function" >&5
if eval "test \"`echo '$''{'cf_cv_have_inet_aton'+set}'`\" = set"; then
d10282 1
a10282 1
#line 6273 "configure"
d10284 1
d10286 1
a10286 3
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
d10289 3
a10291 1
inet_aton(0, (struct in_addr *)0)
d10294 1
a10294 1
if { (eval echo configure:6284: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10296 1
a10296 1
  cf_cv_have_inet_aton=yes
a10300 17
  cf_cv_have_inet_aton=no
fi
rm -f conftest*
fi

echo "$ac_t""$cf_cv_have_inet_aton" 1>&6
if test "$cf_cv_have_inet_aton" = yes ; then
    cat >> confdefs.h <<\EOF
#define HAVE_INET_ATON 1
EOF

else
    echo $ac_n "checking for inet_addr function""... $ac_c" 1>&6
echo "configure:6304: checking for inet_addr function" >&5
if eval "test \"`echo '$''{'cf_cv_have_inet_addr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
d10302 2
a10303 2
    cat > conftest.$ac_ext <<EOF
#line 6310 "configure"
d10305 1
d10307 7
a10313 4
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
    
d10315 3
a10317 1
inet_addr(0)
d10320 1
a10320 1
if { (eval echo configure:6321: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10322 1
a10322 1
  cf_cv_have_inet_addr=yes
d10327 1
a10327 1
  cf_cv_have_inet_addr=no
a10330 34

echo "$ac_t""$cf_cv_have_inet_addr" 1>&6
    if test "$cf_cv_have_inet_addr" = no ; then
	echo $ac_n "checking for library with inet_addr""... $ac_c" 1>&6
echo "configure:6336: checking for library with inet_addr" >&5
if eval "test \"`echo '$''{'cf_cv_lib_inet_addr'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	    cf_save_LIBS="$LIBS"
	    for cf_inetlib in -lbind -lresolv
	    do
		LIBS="$cf_save_LIBS $cf_inetlib"
		cat > conftest.$ac_ext <<EOF
#line 6346 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <arpa/inet.h>
		
int main() {
inet_addr(0)
; return 0; }
EOF
if { (eval echo configure:6357: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_lib_inet_addr=$cf_inetlib
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_lib_inet_addr=no
fi
a10331 5
		LIBS="$cf_save_LIBS"
		test "$cf_cv_lib_inet_addr" != no && break
	    done
	
fi
a10332 7
echo "$ac_t""$cf_cv_lib_inet_addr" 1>&6
	if test "$cf_cv_lib_inet_addr" != no ; then
	    LIBS="$LIBS $cf_cv_lib_inet_addr"
	else
	    echo "configure: warning: Unable to find library for inet_addr function" 1>&2
	fi
    fi
d10335 4
a10339 23
echo $ac_n "checking for screen type""... $ac_c" 1>&6
echo "configure:6384: checking for screen type" >&5
if eval "test \"`echo '$''{'cf_cv_screen'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  

# Check whether --with-screen or --without-screen was given.
if test "${with_screen+set}" = set; then
  withval="$with_screen"
  
case $withval in
curses|ncurses|slang)
	cf_cv_screen=$withval
	;;
*)	{ echo "configure: error: Unexpected value" 1>&2; exit 1; }
	;;
esac
else
  cf_cv_screen=curses
fi

fi
a10340 1
echo "$ac_t""$cf_cv_screen" 1>&6
d10342 3
a10344 12
if test $cf_cv_screen != ncurses ; then
	if eval "test \"`echo '$''{'cf_cv_ncurses_header'+set}'`\" != set"; then
		cf_cv_ncurses_header=curses.h
	fi
fi

case $cf_cv_screen in
curses)
	
echo $ac_n "checking for initscr""... $ac_c" 1>&6
echo "configure:6419: checking for initscr" >&5
if eval "test \"`echo '$''{'ac_cv_func_initscr'+set}'`\" = set"; then
d10347 3
a10349 2
  cat > conftest.$ac_ext <<EOF
#line 6424 "configure"
d10351 1
a10351 8
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char initscr(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char initscr();

d10353 1
a10353 10

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_initscr) || defined (__stub___initscr)
choke me
#else
initscr();
#endif

d10356 1
a10356 1
if { (eval echo configure:6447: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10358 1
a10358 1
  eval "ac_cv_func_initscr=yes"
d10363 2
a10364 23
  eval "ac_cv_func_initscr=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'initscr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6

case $host_os in #(vi
freebsd*) #(vi
	echo $ac_n "checking for tgoto in -lmytinfo""... $ac_c" 1>&6
echo "configure:6468: checking for tgoto in -lmytinfo" >&5
ac_lib_var=`echo mytinfo'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lmytinfo  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6476 "configure"
d10366 2
a10367 5
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();

d10369 1
a10369 1
tgoto()
d10372 1
a10372 1
if { (eval echo configure:6487: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10374 1
a10374 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d10379 4
a10382 1
  eval "ac_cv_lib_$ac_lib_var=no"
a10384 1
LIBS="$ac_save_LIBS"
a10386 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="-lmytinfo $LIBS"
else
  echo "$ac_t""no" 1>&6
fi
d10388 4
a10391 17
	;;
hpux10.*)
	echo $ac_n "checking for initscr in -lcur_colr""... $ac_c" 1>&6
echo "configure:6510: checking for initscr in -lcur_colr" >&5
ac_lib_var=`echo cur_colr'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lcur_colr  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6518 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char initscr();
a10392 15
int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:6529: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
a10393 10
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
		LIBS="-lcur_colr $LIBS"
		CFLAGS="-I/usr/include/curses_colr $CFLAGS"
		ac_cv_func_initscr=yes
		
else
  echo "$ac_t""no" 1>&6
d10395 3
a10397 4
	echo $ac_n "checking for initscr in -lHcurses""... $ac_c" 1>&6
echo "configure:6553: checking for initscr in -lHcurses" >&5
ac_lib_var=`echo Hcurses'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d10400 1
a10400 2
  ac_save_LIBS="$LIBS"
LIBS="-lHcurses  $LIBS"
d10402 1
a10402 1
#line 6561 "configure"
a10403 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char initscr();
d10405 2
d10408 1
a10408 1
initscr()
d10411 1
a10411 1
if { (eval echo configure:6572: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10413 1
a10413 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d10418 1
a10418 1
  eval "ac_cv_lib_$ac_lib_var=no"
d10421 1
a10421 13
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
		# HP's header uses __HP_CURSES, but user claims _HP_CURSES.
		LIBS="-lHcurses $LIBS"
		CFLAGS="-D__HP_CURSES -D_HP_CURSES $CFLAGS"
		ac_cv_func_initscr=yes
		
else
  echo "$ac_t""no" 1>&6
d10424 5
a10428 7
fi

	;;
linux*) # Suse Linux does not follow /usr/lib convention
	LIBS="$LIBS -L/lib"
	;;
esac
a10429 6
if test ".$With5lib" != ".no" ; then
if test -d /usr/5lib ; then
	# SunOS 3.x or 4.x
	CPPFLAGS="$CPPFLAGS -I/usr/5include"
	LIBS="$LIBS -L/usr/5lib"
fi
d10432 19
a10450 4
if test ".$ac_cv_func_initscr" != .yes ; then
	cf_save_LIBS="$LIBS"
	cf_term_lib=""
	cf_curs_lib=""
d10452 4
a10455 5
	# Check for library containing tgoto.  Do this before curses library
	# because it may be needed to link the test-case for initscr.
	echo $ac_n "checking for tgoto""... $ac_c" 1>&6
echo "configure:6621: checking for tgoto" >&5
if eval "test \"`echo '$''{'ac_cv_func_tgoto'+set}'`\" = set"; then
d10459 1
a10459 1
#line 6626 "configure"
d10462 1
a10462 1
    which can conflict with char tgoto(); below.  */
d10467 1
a10467 1
char tgoto();
d10474 1
a10474 1
#if defined (__stub_tgoto) || defined (__stub___tgoto)
d10477 1
a10477 1
tgoto();
d10482 1
a10482 1
if { (eval echo configure:6649: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10484 1
a10484 1
  eval "ac_cv_func_tgoto=yes"
d10489 1
a10489 1
  eval "ac_cv_func_tgoto=no"
d10494 1
a10494 1
if eval "test \"`echo '$ac_cv_func_'tgoto`\" = yes"; then
d10496 3
a10498 25
  cf_term_lib=predefined
else
  echo "$ac_t""no" 1>&6

		for cf_term_lib in termcap termlib unknown
		do
			echo $ac_n "checking for tgoto in -l$cf_term_lib""... $ac_c" 1>&6
echo "configure:6670: checking for tgoto in -l$cf_term_lib" >&5
ac_lib_var=`echo $cf_term_lib'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-l$cf_term_lib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6678 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();

int main() {
tgoto()
; return 0; }
d10500 1
a10500 16
if { (eval echo configure:6689: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  break
d10504 1
d10506 3
a10508 3
		done
	
fi
d10510 4
a10513 9

	# Check for library containing initscr
	test "$cf_term_lib" != predefined && test "$cf_term_lib" != unknown && LIBS="-l$cf_term_lib $cf_save_LIBS"
	for cf_curs_lib in cursesX curses ncurses xcurses jcurses unknown
	do
		echo $ac_n "checking for initscr in -l$cf_curs_lib""... $ac_c" 1>&6
echo "configure:6719: checking for initscr in -l$cf_curs_lib" >&5
ac_lib_var=`echo $cf_curs_lib'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d10516 2
a10517 4
  ac_save_LIBS="$LIBS"
LIBS="-l$cf_curs_lib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 6727 "configure"
d10519 3
d10525 1
a10525 1
char initscr();
d10528 10
a10537 1
initscr()
d10540 1
a10540 1
if { (eval echo configure:6738: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10542 1
a10542 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d10547 1
a10547 1
  eval "ac_cv_lib_$ac_lib_var=no"
d10550 1
a10550 1
LIBS="$ac_save_LIBS"
d10552 1
a10552 2
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
d10554 5
a10558 1
  break
d10561 1
d10563 1
a10564 71
	done
	test $cf_curs_lib = unknown && { echo "configure: error: no curses library found" 1>&2; exit 1; }

	LIBS="-l$cf_curs_lib $cf_save_LIBS"
	if test "$cf_term_lib" = unknown ; then
		echo $ac_n "checking if we can link with $cf_curs_lib library""... $ac_c" 1>&6
echo "configure:6764: checking if we can link with $cf_curs_lib library" >&5
		cat > conftest.$ac_ext <<EOF
#line 6766 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:6773: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_result=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=no
fi
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
		test $cf_result = no && { echo "configure: error: Cannot link curses library" 1>&2; exit 1; }
	elif test "$cf_term_lib" != predefined ; then
		echo $ac_n "checking if we need both $cf_curs_lib and $cf_term_lib libraries""... $ac_c" 1>&6
echo "configure:6787: checking if we need both $cf_curs_lib and $cf_term_lib libraries" >&5
		cat > conftest.$ac_ext <<EOF
#line 6789 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int main() {
initscr(); tgoto((char *)0, 0, 0);
; return 0; }
EOF
if { (eval echo configure:6796: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_result=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
			LIBS="-l$cf_curs_lib -l$cf_term_lib $cf_save_LIBS"
			cat > conftest.$ac_ext <<EOF
#line 6806 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:6813: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_result=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_result=error
fi
rm -f conftest*
			
fi
rm -f conftest*
		echo "$ac_t""$cf_result" 1>&6
	fi
fi
a10566 1
fi
d10568 3
a10570 4
	
echo $ac_n "checking for curses performance tradeoff""... $ac_c" 1>&6
echo "configure:6835: checking for curses performance tradeoff" >&5
if eval "test \"`echo '$''{'cf_cv_curs_performance'+set}'`\" = set"; then
d10574 7
a10580 3
    cf_cv_curs_performance=no
    cat > conftest.$ac_ext <<EOF
#line 6842 "configure"
d10583 5
a10587 7
#include <${cf_cv_ncurses_header-curses.h}>
int main() {

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ERR;
#else
	int x = ;	/* force an error */
a10588 9
	
; return 0; }
EOF
if { (eval echo configure:6856: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
	cat > conftest.$ac_ext <<EOF
#line 6860 "configure"
#include "confdefs.h"
a10589 2
#define CURS_PERFORMANCE
#include <${cf_cv_ncurses_header-curses.h}>
d10591 1
a10591 7

#if defined(wbkgdset) && defined(clearok) && defined(getbkgd)
	int x = ;	/* force an error */
#else
	int x = ERR;
#endif
	
d10594 1
a10594 1
if { (eval echo configure:6875: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10596 2
a10597 6
  cf_cv_curs_performance=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -f conftest*
d10603 2
d10607 5
a10611 12
echo "$ac_t""$cf_cv_curs_performance" 1>&6
test $cf_cv_curs_performance = yes && cat >> confdefs.h <<\EOF
#define CURS_PERFORMANCE 1
EOF


	;;
ncurses)
	
echo $ac_n "checking for ncurses header file""... $ac_c" 1>&6
echo "configure:6900: checking for ncurses header file" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_header'+set}'`\" = set"; then
d10615 12
a10626 2
	cat > conftest.$ac_ext <<EOF
#line 6906 "configure"
a10627 2
#include <curses.h>
int main() {
d10629 2
a10630 7
#ifdef NCURSES_VERSION
printf("%s\n", NCURSES_VERSION);
#else
#ifdef __NCURSES_H
printf("old\n");
#else
make an error
d10632 2
d10635 3
a10637 1
	
d10640 2
a10641 3
if { (eval echo configure:6923: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_ncurses_header=predefined
d10646 1
a10646 4
  
	cf_search=""
if test -d "$includedir"  ; then
test "$includedir" != NONE       && cf_search="$cf_search $includedir $includedir/ncurses"
d10648 2
a10649 2
if test -d "$oldincludedir"  ; then
test "$oldincludedir" != NONE    && cf_search="$cf_search $oldincludedir $oldincludedir/ncurses"
a10650 5
if test -d "$prefix"; then
test "$prefix" != NONE           && cf_search="$cf_search $prefix/include $prefix/include/ncurses"
fi
test "$prefix" != /usr/local     && cf_search="$cf_search /usr/local/include /usr/local/include/ncurses"
test "$prefix" != /usr           && cf_search="$cf_search /usr/include /usr/include/ncurses"
d10652 3
a10654 17
	test -n "$verbose" && echo
	for cf_incdir in $cf_search
	do
		for cf_header in \
			curses.h \
			ncurses.h
		do
			if egrep "NCURSES_[VH]" $cf_incdir/$cf_header 1>&5 2>&1; then
				cf_cv_ncurses_header=$cf_incdir/$cf_header
				test -n "$verbose" && echo $ac_n "	... found $ac_c" 1>&6
				break
			fi
			test -n "$verbose" && echo "	... tested $cf_incdir/$cf_header" 1>&6
		done
		test -n "$cf_cv_ncurses_header" && break
	done
	test -z "$cf_cv_ncurses_header" && { echo "configure: error: not found" 1>&2; exit 1; }
d10656 1
a10656 3
fi
rm -f conftest*
fi
d10658 2
a10659 3
echo "$ac_t""$cf_cv_ncurses_header" 1>&6
cat >> confdefs.h <<\EOF
#define NCURSES 1
d10662 3
d10666 2
a10667 6
cf_incdir=`echo $cf_cv_ncurses_header | sed -e 's:/[^/]*$::'`

case $cf_cv_ncurses_header in # (vi
*/ncurses.h)
	cat >> confdefs.h <<\EOF
#define HAVE_NCURSES_H 1
d10670 1
a10670 2
	;;
esac
d10672 1
a10672 7
case $cf_cv_ncurses_header in # (vi
predefined) # (vi
	cf_cv_ncurses_header=curses.h
	;;
*)
	
for cf_add_incdir in $cf_incdir
a10673 14
	while true
	do
		case $cf_add_incdir in
		/usr/include) # (vi
			;;
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's:/include/.*$:/include:'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
done
d10675 3
a10677 5
	;;
esac
echo $ac_n "checking for ncurses version""... $ac_c" 1>&6
echo "configure:7009: checking for ncurses version" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_version'+set}'`\" = set"; then
d10680 7
a10686 18
  
	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	if test "$cross_compiling" = yes; then
  

	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
d10688 1
d10690 5
a10694 11
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo configure:7034: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's@@^Autoconf @@@@' -e 's@@^[^"]*"@@@@' -e 's@@".*@@@@'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi

else
  cat > conftest.$ac_ext <<EOF
#line 7043 "configure"
d10696 4
a10699 17

#include <${cf_cv_ncurses_header-curses.h}>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
d10701 1
a10701 2
	exit(0);
}
d10703 8
a10710 2
if { (eval echo configure:7066: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
d10712 3
a10714 2
	cf_cv_ncurses_version=`cat $cf_tempfile`
	rm -f $cf_tempfile
d10718 3
d10722 1
a10722 1
rm -fr conftest*
d10725 5
a10729 1
fi
d10731 2
a10732 1
echo "$ac_t""$cf_cv_ncurses_version" 1>&6
d10734 6
d10741 2
a10742 1
	
d10744 3
a10746 9
	# This works, except for the special case where we find gpm, but
	# ncurses is in a nonstandard location via $LIBS, and we really want
	# to link gpm.
cf_ncurses_LIBS=""
cf_ncurses_SAVE="$LIBS"
echo $ac_n "checking for Gpm_Open in -lgpm""... $ac_c" 1>&6
echo "configure:7091: checking for Gpm_Open in -lgpm" >&5
ac_lib_var=`echo gpm'_'Gpm_Open | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d10749 15
a10763 2
  ac_save_LIBS="$LIBS"
LIBS="-lgpm  $LIBS"
d10765 1
a10765 1
#line 7099 "configure"
a10766 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char Gpm_Open();
d10768 6
a10773 2
int main() {
Gpm_Open()
d10776 1
a10776 1
if { (eval echo configure:7110: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10778 2
a10779 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d10784 2
a10785 1
  eval "ac_cv_lib_$ac_lib_var=no"
a10787 28
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  echo $ac_n "checking for initscr in -lgpm""... $ac_c" 1>&6
echo "configure:7126: checking for initscr in -lgpm" >&5
ac_lib_var=`echo gpm'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lgpm  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7134 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
EOF
if { (eval echo configure:7145: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
d10792 2
a10793 1
  eval "ac_cv_lib_$ac_lib_var=no"
d10796 1
a10796 1
LIBS="$ac_save_LIBS"
d10798 1
a10798 2
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
d10800 1
a10800 1
  LIBS="$cf_ncurses_SAVE"
d10803 8
a10810 1
cf_ncurses_LIBS="-lgpm"
d10812 2
a10814 3
else
  echo "$ac_t""no" 1>&6
fi
d10817 3
a10819 8
case $host_os in #(vi
freebsd*)
	# This is only necessary if you are linking against an obsolete
	# version of ncurses (but it should do no harm, since it's static).
	echo $ac_n "checking for tgoto in -lmytinfo""... $ac_c" 1>&6
echo "configure:7176: checking for tgoto in -lmytinfo" >&5
ac_lib_var=`echo mytinfo'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d10822 1
a10822 2
  ac_save_LIBS="$LIBS"
LIBS="-lmytinfo  $LIBS"
d10824 1
a10824 1
#line 7184 "configure"
a10825 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();
d10827 2
d10830 1
a10830 1
tgoto()
d10833 1
a10833 1
if { (eval echo configure:7195: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10835 1
a10835 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d10840 1
a10840 1
  eval "ac_cv_lib_$ac_lib_var=no"
d10843 11
a10853 1
LIBS="$ac_save_LIBS"
a10855 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cf_ncurses_LIBS="-lmytinfo $cf_ncurses_LIBS"
else
  echo "$ac_t""no" 1>&6
fi
a10856 2
	;;
esac
a10857 1
LIBS="$cf_ncurses_LIBS $LIBS"
d10859 3
a10861 5
	cf_cv_have_lib_ncurses=no
	cf_libdir=""
	echo $ac_n "checking for initscr""... $ac_c" 1>&6
echo "configure:7223: checking for initscr" >&5
if eval "test \"`echo '$''{'ac_cv_func_initscr'+set}'`\" = set"; then
d10864 3
a10866 2
  cat > conftest.$ac_ext <<EOF
#line 7228 "configure"
a10867 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char initscr(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char initscr();
d10869 6
d10876 1
a10876 10

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_initscr) || defined (__stub___initscr)
choke me
#else
initscr();
#endif

d10879 1
a10879 1
if { (eval echo configure:7251: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10881 1
a10881 1
  eval "ac_cv_func_initscr=yes"
d10886 1
a10886 1
  eval "ac_cv_func_initscr=no"
d10889 16
d10907 6
a10912 3
if eval "test \"`echo '$ac_cv_func_'initscr`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cf_cv_have_lib_ncurses=yes
d10914 7
a10920 1
  echo "$ac_t""no" 1>&6
a10921 8
		cf_save_LIBS="$LIBS"
		echo $ac_n "checking for initscr in -lncurses""... $ac_c" 1>&6
echo "configure:7271: checking for initscr in -lncurses" >&5
		LIBS="-lncurses $LIBS"
		cat > conftest.$ac_ext <<EOF
#line 7274 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
d10923 1
a10923 1
initscr()
d10926 1
a10926 1
if { (eval echo configure:7281: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10928 1
a10928 3
  echo "$ac_t""yes" 1>&6
			 cf_cv_have_lib_ncurses=yes
			
d10933 1
a10933 4
  echo "$ac_t""no" 1>&6
			cf_search=""
if test -d "$libdir"  ; then
test "$libdir" != NONE           && cf_search="$cf_search $libdir $libdir/ncurses"
d10935 1
a10935 2
if test -d "$exec_prefix"; then
test "$exec_prefix" != NONE      && cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/ncurses"
d10937 14
a10950 3
if test -d "$prefix"; then
test "$prefix" != NONE           && \
test "$prefix" != "$exec_prefix" && cf_search="$cf_search $prefix/lib $prefix/lib/ncurses"
a10951 2
test "$prefix" != /usr/local     && cf_search="$cf_search /usr/local/lib /usr/local/lib/ncurses"
test "$prefix" != /usr           && cf_search="$cf_search /usr/lib /usr/lib/ncurses"
d10953 13
a10965 7
			for cf_libdir in $cf_search
			do
				echo $ac_n "checking for -lncurses in $cf_libdir""... $ac_c" 1>&6
echo "configure:7308: checking for -lncurses in $cf_libdir" >&5
				LIBS="-L$cf_libdir -lncurses $cf_save_LIBS"
				cat > conftest.$ac_ext <<EOF
#line 7311 "configure"
d10967 1
a10967 1
#include <${cf_cv_ncurses_header-curses.h}>
d10969 1
a10969 1
initscr()
d10972 1
a10972 1
if { (eval echo configure:7318: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d10974 1
a10974 3
  echo "$ac_t""yes" 1>&6
			 		 cf_cv_have_lib_ncurses=yes
					 break
d10979 1
a10979 2
  echo "$ac_t""no" 1>&6
					 LIBS="$cf_save_LIBS"
d10982 4
a10985 6
			done
			
fi
rm -f conftest*
		
fi
d10987 6
a10992 27
if test $cf_cv_have_lib_ncurses = no ; then
	{ echo "configure: error: Cannot link ncurses library" 1>&2; exit 1; }
fi
case $host_os in #(vi
linux*) # Suse Linux does not follow /usr/lib convention
	LIBS="$LIBS -L/lib"
	;;
esac


if test -n "$cf_ncurses_LIBS" ; then
	echo $ac_n "checking if we can link ncurses without $cf_ncurses_LIBS""... $ac_c" 1>&6
echo "configure:7350: checking if we can link ncurses without $cf_ncurses_LIBS" >&5
	cf_ncurses_SAVE="$LIBS"
	for p in $cf_ncurses_LIBS ; do
		q=`echo $LIBS | sed -e 's/'$p' //' -e 's/'$p'$//'`
		if test "$q" != "$LIBS" ; then
			LIBS="$q"
		fi
	done
	cat > conftest.$ac_ext <<EOF
#line 7359 "configure"
#include "confdefs.h"
#include <${cf_cv_ncurses_header-curses.h}>
int main() {
initscr(); mousemask(0,0); tgoto((char *)0, 0, 0);
; return 0; }
d10994 3
a10996 3
if { (eval echo configure:7366: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
d10999 5
a11003 4
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
		 LIBS="$cf_ncurses_SAVE"
d11005 2
a11006 1
rm -f conftest*
d11009 10
a11018 6
	;;
slang)
	
echo $ac_n "checking for slang header file""... $ac_c" 1>&6
echo "configure:7383: checking for slang header file" >&5
if eval "test \"`echo '$''{'cf_cv_slang_header'+set}'`\" = set"; then
d11022 2
a11023 2
	cat > conftest.$ac_ext <<EOF
#line 7389 "configure"
d11025 1
a11025 1
#include <slang.h>
d11027 1
a11027 1
printf("%s\n", SLANG_VERSION)
d11030 1
a11030 1
if { (eval echo configure:7396: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11032 1
a11032 1
  cf_cv_slang_header=predefined
d11037 1
a11037 4
  
	cf_search=""
if test -d "$includedir"  ; then
test "$includedir" != NONE       && cf_search="$cf_search $includedir $includedir/slang"
d11039 1
a11039 23
if test -d "$oldincludedir"  ; then
test "$oldincludedir" != NONE    && cf_search="$cf_search $oldincludedir $oldincludedir/slang"
fi
if test -d "$prefix"; then
test "$prefix" != NONE           && cf_search="$cf_search $prefix/include $prefix/include/slang"
fi
test "$prefix" != /usr/local     && cf_search="$cf_search /usr/local/include /usr/local/include/slang"
test "$prefix" != /usr           && cf_search="$cf_search /usr/include /usr/include/slang"

	for cf_incdir in $cf_search
	do
		for cf_header in \
			slang.h
		do
			echo trying $cf_incdir/$cf_header 1>&5
			if egrep "SLANG_VERSION" $cf_incdir/$cf_header 1>&5 2>&1; then
				cf_cv_slang_header=$cf_incdir/$cf_header
				break
			fi
		done
		test -n "$cf_cv_slang_header" && break
	done
	test -z "$cf_cv_slang_header" && { echo "configure: error: not found" 1>&2; exit 1; }
a11041 2
rm -f conftest*
fi
d11043 3
a11045 3
echo "$ac_t""$cf_cv_slang_header" 1>&6
cat >> confdefs.h <<\EOF
#define USE_SLANG 1
a11048 1
cf_incdir=`echo $cf_cv_slang_header | sed -e 's:/[^/]*$::'`
d11050 3
a11052 29
case $cf_cv_slang_header in # (vi
predefined) # (vi
	;;
*)
	
for cf_add_incdir in $cf_incdir
do
	while true
	do
		case $cf_add_incdir in
		/usr/include) # (vi
			;;
		*) # (vi
			CPPFLAGS="$CPPFLAGS -I$cf_add_incdir"
			;;
		esac
		cf_top_incdir=`echo $cf_add_incdir | sed -e 's:/include/.*$:/include:'`
		test "$cf_top_incdir" = "$cf_add_incdir" && break
		cf_add_incdir="$cf_top_incdir"
	done
done

	;;
esac

	
cf_slang_LIBS1="$LIBS"

if eval "test \"`echo '$''{'cf_cv_termlib'+set}'`\" = set"; then
a11055 1
cf_cv_termlib=none
d11057 1
a11057 1
#line 7478 "configure"
d11060 7
d11068 1
a11068 1
char *x=(char*)tgoto("",0,0)
d11071 6
a11076 1
if { (eval echo configure:7485: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11079 1
a11079 1
#line 7488 "configure"
d11082 7
d11090 1
a11090 1
int x=tigetstr("")
d11093 1
a11093 1
if { (eval echo configure:7495: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11095 1
a11095 1
  cf_cv_termlib=terminfo
d11100 4
a11103 1
  cf_cv_termlib=termcap
d11106 14
a11119 1
	test -n "$verbose" && echo "	using functions in predefined $cf_cv_termlib LIBS" 1>&6
a11121 5
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
d11123 6
a11128 6
# HP-UX 9.x terminfo has setupterm, but no tigetstr.
if test "$cf_cv_termlib" = none; then
	echo $ac_n "checking for tigetstr in -ltermlib""... $ac_c" 1>&6
echo "configure:7517: checking for tigetstr in -ltermlib" >&5
ac_lib_var=`echo termlib'_'tigetstr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d11131 3
a11133 4
  ac_save_LIBS="$LIBS"
LIBS="-ltermlib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7525 "configure"
a11134 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tigetstr();
d11136 6
d11143 1
a11143 1
tigetstr()
d11146 1
a11146 1
if { (eval echo configure:7536: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11148 1
a11148 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d11153 1
a11153 1
  eval "ac_cv_lib_$ac_lib_var=no"
a11155 1
LIBS="$ac_save_LIBS"
d11158 14
a11171 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -ltermlib" cf_cv_termlib=terminfo
else
  echo "$ac_t""no" 1>&6
d11174 5
a11178 6
fi
if test "$cf_cv_termlib" = none; then
	echo $ac_n "checking for tgoto in -ltermlib""... $ac_c" 1>&6
echo "configure:7559: checking for tgoto in -ltermlib" >&5
ac_lib_var=`echo termlib'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d11181 3
a11183 4
  ac_save_LIBS="$LIBS"
LIBS="-ltermlib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7567 "configure"
d11185 3
a11187 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();
d11190 1
a11190 1
tgoto()
d11193 1
a11193 1
if { (eval echo configure:7578: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11195 1
a11195 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d11200 1
a11200 1
  eval "ac_cv_lib_$ac_lib_var=no"
d11203 14
a11216 1
LIBS="$ac_save_LIBS"
a11218 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -ltermlib" cf_cv_termlib=termcap
else
  echo "$ac_t""no" 1>&6
fi
d11220 11
a11230 7
fi
if test "$cf_cv_termlib" = none; then
	# allow curses library for broken AIX system.
	echo $ac_n "checking for initscr in -lcurses""... $ac_c" 1>&6
echo "configure:7602: checking for initscr in -lcurses" >&5
ac_lib_var=`echo curses'_'initscr | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d11233 2
a11234 4
  ac_save_LIBS="$LIBS"
LIBS="-lcurses  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7610 "configure"
d11236 1
a11236 8
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char initscr();

int main() {
initscr()
; return 0; }
d11238 4
a11241 1
if { (eval echo configure:7621: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11243 1
a11243 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d11245 1
d11249 1
a11249 1
  eval "ac_cv_lib_$ac_lib_var=no"
a11251 2
LIBS="$ac_save_LIBS"

d11253 1
a11253 1
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
d11255 5
a11259 1
  LIBS="$LIBS -lcurses" cf_cv_termlib=termcap
d11263 1
d11265 3
a11267 4
	echo $ac_n "checking for tgoto in -ltermcap""... $ac_c" 1>&6
echo "configure:7642: checking for tgoto in -ltermcap" >&5
ac_lib_var=`echo termcap'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d11270 1
a11270 2
  ac_save_LIBS="$LIBS"
LIBS="-ltermcap  $LIBS"
d11272 1
a11272 1
#line 7650 "configure"
a11273 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();
d11275 8
d11284 1
a11284 1
tgoto()
d11287 1
a11287 1
if { (eval echo configure:7661: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11289 1
a11289 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d11294 5
a11298 1
  eval "ac_cv_lib_$ac_lib_var=no"
a11300 1
LIBS="$ac_save_LIBS"
a11302 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -ltermcap" cf_cv_termlib=termcap
else
  echo "$ac_t""no" 1>&6
fi
d11304 12
a11315 6
fi
if test "$cf_cv_termlib" = none; then
	echo $ac_n "checking for tgoto in -ltermcap""... $ac_c" 1>&6
echo "configure:7684: checking for tgoto in -ltermcap" >&5
ac_lib_var=`echo termcap'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d11318 5
a11322 4
  ac_save_LIBS="$LIBS"
LIBS="-ltermcap  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7692 "configure"
d11324 7
a11330 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();
d11333 3
a11335 1
tgoto()
d11338 1
a11338 1
if { (eval echo configure:7703: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11340 2
a11341 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d11346 4
a11349 4
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"
d11351 6
a11356 25
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -ltermcap" cf_cv_termlib=termcap
else
  echo "$ac_t""no" 1>&6
fi

fi
if test "$cf_cv_termlib" = none; then
	echo $ac_n "checking for tgoto in -lncurses""... $ac_c" 1>&6
echo "configure:7726: checking for tgoto in -lncurses" >&5
ac_lib_var=`echo ncurses'_'tgoto | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lncurses  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 7734 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char tgoto();
d11359 3
a11361 1
tgoto()
d11364 1
a11364 1
if { (eval echo configure:7745: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11366 7
a11372 1
  eval "ac_cv_lib_$ac_lib_var=yes"
a11375 2
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
d11378 3
a11380 1
LIBS="$ac_save_LIBS"
a11382 6
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lncurses" cf_cv_termlib=ncurses
else
  echo "$ac_t""no" 1>&6
fi
d11384 6
a11389 1
fi
d11391 3
a11393 5
fi
rm -f conftest*
if test "$cf_cv_termlib" = none; then
	{ echo "configure: error: Can't find -ltermlib, -lcurses, or -ltermcap" 1>&2; exit 1; }
fi
d11395 1
a11395 1
fi
d11397 4
a11400 4
cf_slang_LIBS2="$LIBS"
echo $ac_n "checking for acos""... $ac_c" 1>&6
echo "configure:7777: checking for acos" >&5
if eval "test \"`echo '$''{'ac_cv_func_acos'+set}'`\" = set"; then
d11403 3
a11405 2
  cat > conftest.$ac_ext <<EOF
#line 7782 "configure"
a11406 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char acos(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char acos();
d11408 2
d11411 1
a11411 10

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_acos) || defined (__stub___acos)
choke me
#else
acos();
#endif

d11414 1
a11414 1
if { (eval echo configure:7805: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11416 1
a11416 1
  eval "ac_cv_func_acos=yes"
d11421 1
a11421 1
  eval "ac_cv_func_acos=no"
d11424 8
d11434 1
a11434 5
if eval "test \"`echo '$ac_cv_func_'acos`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
d11436 4
a11439 4
echo $ac_n "checking for acos in -lm""... $ac_c" 1>&6
echo "configure:7824: checking for acos in -lm" >&5
ac_lib_var=`echo m'_'acos | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d11442 7
a11448 2
  ac_save_LIBS="$LIBS"
LIBS="-lm $LIBS $LIBS"
d11450 1
a11450 1
#line 7832 "configure"
a11451 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char acos();
d11453 2
d11456 1
a11456 1
acos()
d11459 1
a11459 1
if { (eval echo configure:7843: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11461 2
a11462 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d11467 1
a11467 1
  eval "ac_cv_lib_$ac_lib_var=no"
d11470 1
a11470 1
LIBS="$ac_save_LIBS"
d11473 6
a11478 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  
	
cf_tr_func=`echo acos | tr '[a-z]' '[A-Z]'`
d11481 1
a11481 1
#define HAVE_$cf_tr_func 1
a11483 8
	ac_cv_func_acos=yes
	LIBS="-lm $LIBS"
else
  echo "$ac_t""no" 1>&6

	ac_cv_func_acos=unknown
	unset ac_cv_func_acos 2>/dev/null
	
a11484 2


d11487 1
d11489 4
a11492 5
	cf_cv_have_lib_slang=no
	cf_libdir=""
	echo $ac_n "checking for SLtt_get_screen_size""... $ac_c" 1>&6
echo "configure:7883: checking for SLtt_get_screen_size" >&5
if eval "test \"`echo '$''{'ac_cv_func_SLtt_get_screen_size'+set}'`\" = set"; then
d11495 18
d11514 1
a11514 1
#line 7888 "configure"
a11515 7
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char SLtt_get_screen_size(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char SLtt_get_screen_size();
d11517 2
d11520 18
d11539 5
a11543 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_SLtt_get_screen_size) || defined (__stub___SLtt_get_screen_size)
choke me
#else
SLtt_get_screen_size();
#endif
d11545 3
a11547 1
; return 0; }
d11549 2
a11550 8
if { (eval echo configure:7911: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_SLtt_get_screen_size=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_SLtt_get_screen_size=no"
a11551 1
rm -f conftest*
d11554 7
a11560 3
if eval "test \"`echo '$ac_cv_func_'SLtt_get_screen_size`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cf_cv_have_lib_slang=yes
d11562 4
a11565 1
  echo "$ac_t""no" 1>&6
d11567 2
a11568 8
		cf_save_LIBS="$LIBS"
		echo $ac_n "checking for SLtt_get_screen_size in -lslang""... $ac_c" 1>&6
echo "configure:7931: checking for SLtt_get_screen_size in -lslang" >&5
		LIBS="-lslang $LIBS"
		cat > conftest.$ac_ext <<EOF
#line 7934 "configure"
#include "confdefs.h"
#include <slang.h>
d11570 1
a11570 1
SLtt_get_screen_size()
d11573 1
a11573 1
if { (eval echo configure:7941: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11575 1
a11575 3
  echo "$ac_t""yes" 1>&6
			 cf_cv_have_lib_slang=yes
			
d11580 4
a11583 4
  echo "$ac_t""no" 1>&6
			cf_search=""
if test -d "$libdir"  ; then
test "$libdir" != NONE           && cf_search="$cf_search $libdir $libdir/slang"
d11585 7
a11591 2
if test -d "$exec_prefix"; then
test "$exec_prefix" != NONE      && cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/slang"
a11592 3
if test -d "$prefix"; then
test "$prefix" != NONE           && \
test "$prefix" != "$exec_prefix" && cf_search="$cf_search $prefix/lib $prefix/lib/slang"
a11593 2
test "$prefix" != /usr/local     && cf_search="$cf_search /usr/local/lib /usr/local/lib/slang"
test "$prefix" != /usr           && cf_search="$cf_search /usr/lib /usr/lib/slang"
d11595 11
a11605 7
			for cf_libdir in $cf_search
			do
				echo $ac_n "checking for -lslang in $cf_libdir""... $ac_c" 1>&6
echo "configure:7968: checking for -lslang in $cf_libdir" >&5
				LIBS="-L$cf_libdir -lslang $cf_save_LIBS"
				cat > conftest.$ac_ext <<EOF
#line 7971 "configure"
d11607 3
a11609 1
#include <slang.h>
d11611 6
a11616 1
SLtt_get_screen_size()
d11619 1
a11619 1
if { (eval echo configure:7978: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11621 1
a11621 3
  echo "$ac_t""yes" 1>&6
			 		 cf_cv_have_lib_slang=yes
					 break
d11626 1
a11626 2
  echo "$ac_t""no" 1>&6
					 LIBS="$cf_save_LIBS"
d11629 1
a11629 2
			done
			
d11631 7
a11637 2
rm -f conftest*
		
a11639 8
if test $cf_cv_have_lib_slang = no ; then
	{ echo "configure: error: Cannot link slang library" 1>&2; exit 1; }
fi
case $host_os in #(vi
linux*) # Suse Linux does not follow /usr/lib convention
	LIBS="$LIBS -L/lib"
	;;
esac
d11641 4
a11644 5
cf_slang_LIBS3="$LIBS"
echo $ac_n "checking if we can link slang without termcap""... $ac_c" 1>&6
echo "configure:8009: checking if we can link slang without termcap" >&5
if test -n "`echo $cf_slang_LIBS1 | sed -e 's/ //g'`" ; then
	cf_exclude=`echo ".$cf_slang_LIBS2" | sed -e "s@@$cf_slang_LIBS1@@@@" -e 's@@^.@@@@'`
d11646 3
a11648 5
	cf_exclude="$cf_slang_LIBS2"
fi
LIBS=`echo ".$cf_slang_LIBS3" | sed -e "s@@$cf_exclude@@@@" -e 's@@^.@@@@'`
cat > conftest.$ac_ext <<EOF
#line 8017 "configure"
d11650 4
a11653 1
#include <slang.h>
d11655 1
a11655 1
SLtt_get_screen_size()
d11658 1
a11658 1
if { (eval echo configure:8024: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11660 1
a11660 1
  cf_result=yes
d11665 1
a11665 1
  cf_result=no
d11668 4
a11672 1
test $cf_result = no && LIBS="$cf_slang_LIBS3"
d11674 4
a11677 2
	;;
esac
d11679 3
a11681 2
eval cf_libdir=$libdir
cf_libdir=`echo $cf_libdir | sed -e s@@'^NONE/'@@$prefix/@@ -e s@@'^NONE/'@@$ac_default_prefix/@@`
d11683 1
a11683 6
echo $ac_n "checking for location of config-file""... $ac_c" 1>&6
echo "configure:8044: checking for location of config-file" >&5
LYNX_CFG_FILE=$cf_libdir/lynx.cfg
cat >> confdefs.h <<EOF
#define LYNX_CFG_FILE "$LYNX_CFG_FILE"
EOF
a11684 1
echo "$ac_t""$LYNX_CFG_FILE" 1>&6
d11687 9
a11695 3
echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:8054: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
d11699 1
a11699 1
#line 8059 "configure"
d11701 1
a11701 4
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
d11704 1
a11704 1
{ (eval echo configure:8067: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
d11708 1
a11708 1
  ac_cv_header_stdc=yes
d11714 1
a11714 1
  ac_cv_header_stdc=no
d11717 12
d11730 12
a11741 4
if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 8084 "configure"
d11743 6
a11748 1
#include <string.h>
d11750 4
a11753 3
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
d11755 2
d11758 1
a11758 1
  ac_cv_header_stdc=no
d11761 8
a11769 1
fi
d11771 9
a11779 4
if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 8102 "configure"
d11781 10
a11790 1
#include <stdlib.h>
d11792 3
a11794 3
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
d11796 2
d11799 1
a11799 1
  ac_cv_header_stdc=no
d11802 8
d11811 1
a11811 1
fi
d11813 5
a11817 4
if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
if test "$cross_compiling" = yes; then
  :
d11819 3
a11821 2
  cat > conftest.$ac_ext <<EOF
#line 8123 "configure"
a11822 7
#include <ctype.h>
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }
d11824 10
d11835 3
a11837 3
if { (eval echo configure:8134: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  :
d11841 2
a11842 4
  rm -fr conftest*
  ac_cv_header_stdc=no
fi
rm -fr conftest*
d11844 1
a11846 1
fi
d11848 5
a11852 4
echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
#define STDC_HEADERS 1
d11856 1
d11858 4
a11861 3
echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
echo "configure:8158: checking whether time.h and sys/time.h may both be included" >&5
if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
d11864 3
a11866 2
  cat > conftest.$ac_ext <<EOF
#line 8163 "configure"
d11868 3
a11870 3
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>
d11872 7
a11878 1
struct tm *tp;
d11881 1
a11881 1
if { (eval echo configure:8172: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11883 1
a11883 1
  ac_cv_header_time=yes
d11888 1
a11888 1
  ac_cv_header_time=no
d11891 1
d11894 8
a11901 4
echo "$ac_t""$ac_cv_header_time" 1>&6
if test $ac_cv_header_time = yes; then
  cat >> confdefs.h <<\EOF
#define TIME_WITH_SYS_TIME 1
d11906 6
a11911 2
ac_header_dirent=no
for ac_hdr in dirent.h sys/ndir.h sys/dir.h ndir.h
d11914 3
a11916 3
echo $ac_n "checking for $ac_hdr that defines DIR""... $ac_c" 1>&6
echo "configure:8197: checking for $ac_hdr that defines DIR" >&5
if eval "test \"`echo '$''{'ac_cv_header_dirent_$ac_safe'+set}'`\" = set"; then
d11920 1
a11920 1
#line 8202 "configure"
a11921 1
#include <sys/types.h>
a11922 3
int main() {
DIR *dirp = 0;
; return 0; }
d11924 4
a11927 1
if { (eval echo configure:8210: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d11929 1
a11929 1
  eval "ac_cv_header_dirent_$ac_safe=yes"
d11931 1
d11935 1
a11935 1
  eval "ac_cv_header_dirent_$ac_safe=no"
d11939 1
a11939 1
if eval "test \"`echo '$ac_cv_header_dirent_'$ac_safe`\" = yes"; then
d11945 1
a11945 1
 ac_header_dirent=$ac_hdr; break
d11950 8
a11957 6
# Two versions of opendir et al. are in -ldir and -lx on SCO Xenix.
if test $ac_header_dirent = dirent.h; then
echo $ac_n "checking for opendir in -ldir""... $ac_c" 1>&6
echo "configure:8235: checking for opendir in -ldir" >&5
ac_lib_var=`echo dir'_'opendir | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
d11960 2
a11961 4
  ac_save_LIBS="$LIBS"
LIBS="-ldir  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 8243 "configure"
d11963 1
a11963 8
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char opendir();

int main() {
opendir()
; return 0; }
d11965 4
a11968 1
if { (eval echo configure:8254: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d11970 1
a11970 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d11972 1
d11976 1
a11976 1
  eval "ac_cv_lib_$ac_lib_var=no"
a11978 2
LIBS="$ac_save_LIBS"

d11980 1
a11980 1
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
d11982 5
a11986 1
  LIBS="$LIBS -ldir"
d11990 1
d11992 21
d12014 6
a12019 10
echo $ac_n "checking for opendir in -lx""... $ac_c" 1>&6
echo "configure:8276: checking for opendir in -lx" >&5
ac_lib_var=`echo x'_'opendir | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-lx  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 8284 "configure"
a12020 4
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char opendir();
d12022 2
d12025 1
a12025 1
opendir()
d12028 1
a12028 1
if { (eval echo configure:8295: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d12030 1
a12030 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d12035 4
a12038 1
  eval "ac_cv_lib_$ac_lib_var=no"
d12041 1
a12041 2
LIBS="$ac_save_LIBS"

d12043 3
a12045 5
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LIBS="$LIBS -lx"
else
  echo "$ac_t""no" 1>&6
a12047 1
fi
a12048 13
for ac_hdr in \
	fcntl.h \
	limits.h \
	stdlib.h \
	string.h \
	sys/fcntl.h \
	sys/filio.h \
	sys/ioctl.h \
	sys/param.h \
	sys/time.h \
	termio.h \
	termios.h \
	unistd.h \
d12050 3
a12052 5
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:8334: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d12055 11
a12065 2
  cat > conftest.$ac_ext <<EOF
#line 8339 "configure"
d12067 36
a12102 1
#include <$ac_hdr>
d12104 1
a12104 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:8344: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d12106 1
a12106 1
  eval "ac_cv_header_$ac_safe=yes"
a12107 1
  echo "$ac_err" >&5
d12111 1
a12111 1
  eval "ac_cv_header_$ac_safe=no"
d12114 9
d12124 11
a12134 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d12136 3
a12138 3
 
else
  echo "$ac_t""no" 1>&6
a12139 1
done
d12141 4
a12144 4

echo $ac_n "checking termio.h and termios.h""... $ac_c" 1>&6
echo "configure:8372: checking termio.h and termios.h" >&5
if eval "test \"`echo '$''{'cf_cv_termio_and_termios'+set}'`\" = set"; then
d12148 2
a12149 2
    cat > conftest.$ac_ext <<EOF
#line 8378 "configure"
d12151 1
a12151 7

#if HAVE_TERMIO_H
#include <termio.h>
#endif
#if HAVE_TERMIOS_H
#include <termios.h>
#endif 
d12153 1
a12153 1
putchar (0x0a)
d12156 1
a12156 1
if { (eval echo configure:8391: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d12158 1
a12158 1
  cf_cv_termio_and_termios=yes
d12163 1
a12163 1
  cf_cv_termio_and_termios=no
d12166 1
d12169 3
a12171 3
echo "$ac_t""$cf_cv_termio_and_termios" 1>&6
test $cf_cv_termio_and_termios = no && cat >> confdefs.h <<\EOF
#define TERMIO_AND_TERMIOS 1
d12175 4
a12178 7

for ac_hdr in sys/wait.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:8414: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d12181 3
a12183 2
  cat > conftest.$ac_ext <<EOF
#line 8419 "configure"
d12185 7
a12191 1
#include <$ac_hdr>
d12193 1
a12193 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:8424: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d12195 1
a12195 1
  eval "ac_cv_header_$ac_safe=yes"
a12196 1
  echo "$ac_err" >&5
a12199 31
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

cf_wait_headers="#include <sys/types.h>
"
if test $ac_cv_header_sys_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <sys/wait.h>
"
else
for ac_hdr in wait.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:8461: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
d12201 1
a12201 1
#line 8466 "configure"
d12203 8
a12210 1
#include <$ac_hdr>
d12212 1
a12212 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:8471: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d12214 1
a12214 1
  eval "ac_cv_header_$ac_safe=yes"
a12215 1
  echo "$ac_err" >&5
d12219 1
a12219 1
  eval "ac_cv_header_$ac_safe=no"
d12223 1
a12223 9
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
a12224 1
done
d12226 24
a12249 1
for ac_hdr in waitstatus.h
d12251 9
a12259 4
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:8501: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
d12262 5
a12266 2
  cat > conftest.$ac_ext <<EOF
#line 8506 "configure"
d12268 22
a12289 1
#include <$ac_hdr>
d12291 1
a12291 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:8511: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d12293 1
a12293 1
  eval "ac_cv_header_$ac_safe=yes"
a12294 1
  echo "$ac_err" >&5
d12298 1
a12298 1
  eval "ac_cv_header_$ac_safe=no"
d12301 37
d12339 4
a12342 5
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d12344 14
a12357 1
 
d12359 3
a12361 1
  echo "$ac_t""no" 1>&6
a12362 1
done
d12364 22
a12385 9
if test $ac_cv_header_wait_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <wait.h>
"
fi
if test $ac_cv_header_waitstatus_h = yes; then
cf_wait_headers="$cf_wait_headers
#include <waitstatus.h>
"
d12387 23
d12411 5
d12418 2
d12421 9
a12429 4
echo $ac_n "checking for union wait""... $ac_c" 1>&6
echo "configure:8552: checking for union wait" >&5
if eval "test \"`echo '$''{'cf_cv_type_unionwait'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12431 2
d12434 5
a12438 11
	cat > conftest.$ac_ext <<EOF
#line 8558 "configure"
#include "confdefs.h"
$cf_wait_headers
int main() {
int x;
	 int y = WEXITSTATUS(x);
	 int z = WTERMSIG(x);
	 wait(&x);
	
; return 0; }
d12440 14
a12453 5
if { (eval echo configure:8569: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_type_unionwait=no
	 echo compiles ok w/o union wait 1>&5
	
d12455 2
a12456 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
a12457 30
	cat > conftest.$ac_ext <<EOF
#line 8580 "configure"
#include "confdefs.h"
$cf_wait_headers
int main() {
union wait x;
#ifdef WEXITSTATUS
	 int y = WEXITSTATUS(x);
#endif
#ifdef WTERMSIG
	 int z = WTERMSIG(x);
#endif
	 wait(&x);
	
; return 0; }
EOF
if { (eval echo configure:8595: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_type_unionwait=yes
	 echo compiles ok with union wait and possibly macros too 1>&5
	
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_type_unionwait=no
fi
rm -f conftest*
fi
rm -f conftest*
d12460 3
a12462 3
echo "$ac_t""$cf_cv_type_unionwait" 1>&6
test $cf_cv_type_unionwait = yes && cat >> confdefs.h <<\EOF
#define HAVE_TYPE_UNIONWAIT 1
d12466 2
d12469 9
a12477 7

if test $cf_cv_type_unionwait = yes; then

	echo $ac_n "checking if union wait can be used as wait-arg""... $ac_c" 1>&6
echo "configure:8622: checking if union wait can be used as wait-arg" >&5
	if eval "test \"`echo '$''{'cf_cv_arg_union_wait'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12479 2
a12481 19
		cat > conftest.$ac_ext <<EOF
#line 8628 "configure"
#include "confdefs.h"
$cf_wait_headers
int main() {
union wait x; wait(&x)
; return 0; }
EOF
if { (eval echo configure:8635: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_arg_union_wait=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_arg_union_wait=no
fi
rm -f conftest*
		
d12484 3
a12486 3
	echo "$ac_t""$cf_cv_arg_union_wait" 1>&6
	test $cf_cv_arg_union_wait = yes && cat >> confdefs.h <<\EOF
#define WAIT_USES_UNION 1
d12490 12
a12501 4
	echo $ac_n "checking if union wait can be used as waitpid-arg""... $ac_c" 1>&6
echo "configure:8655: checking if union wait can be used as waitpid-arg" >&5
	if eval "test \"`echo '$''{'cf_cv_arg_union_waitpid'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12503 2
a12505 16
		cat > conftest.$ac_ext <<EOF
#line 8661 "configure"
#include "confdefs.h"
$cf_wait_headers
int main() {
union wait x; waitpid(0, &x, 0)
; return 0; }
EOF
if { (eval echo configure:8668: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_arg_union_waitpid=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_arg_union_waitpid=no
d12507 9
a12515 2
rm -f conftest*
		
d12518 17
a12534 3
	echo "$ac_t""$cf_cv_arg_union_waitpid" 1>&6
	test $cf_cv_arg_union_waitpid = yes && cat >> confdefs.h <<\EOF
#define WAITPID_USES_UNION 1
d12537 4
a12541 1
fi
d12543 7
d12551 9
a12559 7
for ac_hdr in stdarg.h varargs.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:8694: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12561 3
a12563 17
  cat > conftest.$ac_ext <<EOF
#line 8699 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:8704: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
d12565 4
a12568 7
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
d12570 1
a12570 3
 
else
  echo "$ac_t""no" 1>&6
a12571 1
done
d12573 12
a12584 4
echo $ac_n "checking for standard varargs""... $ac_c" 1>&6
echo "configure:8731: checking for standard varargs" >&5
if eval "test \"`echo '$''{'cf_cv_ansi_varargs'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12586 2
a12588 27
	cat > conftest.$ac_ext <<EOF
#line 8737 "configure"
#include "confdefs.h"

#if HAVE_STDARG_H
#include <stdarg.h>
#else
#if HAVE_VARARGS_H
#include <varargs.h>
#endif
#endif
		
int main() {
return 0;} int foo(char *fmt,...){va_list args;va_start(args,fmt);va_end(args)
; return 0; }
EOF
if { (eval echo configure:8752: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_ansi_varargs=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_ansi_varargs=no
fi
rm -f conftest*
	
d12591 3
a12593 3
echo "$ac_t""$cf_cv_ansi_varargs" 1>&6
test $cf_cv_ansi_varargs = yes && cat >> confdefs.h <<\EOF
#define ANSI_VARARGS 1
d12597 12
a12608 4
echo $ac_n "checking for uid_t in sys/types.h""... $ac_c" 1>&6
echo "configure:8772: checking for uid_t in sys/types.h" >&5
if eval "test \"`echo '$''{'ac_cv_type_uid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d12610 3
a12612 15
  cat > conftest.$ac_ext <<EOF
#line 8777 "configure"
#include "confdefs.h"
#include <sys/types.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "uid_t" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_uid_t=yes
else
  rm -rf conftest*
  ac_cv_type_uid_t=no
fi
rm -f conftest*

d12615 1
a12615 9
echo "$ac_t""$ac_cv_type_uid_t" 1>&6
if test $ac_cv_type_uid_t = no; then
  cat >> confdefs.h <<\EOF
#define uid_t int
EOF

  cat >> confdefs.h <<\EOF
#define gid_t int
EOF
d12617 5
a12623 11
echo $ac_n "checking type of array argument to getgroups""... $ac_c" 1>&6
echo "configure:8806: checking type of array argument to getgroups" >&5
if eval "test \"`echo '$''{'ac_cv_type_getgroups'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  ac_cv_type_getgroups=cross
else
  cat > conftest.$ac_ext <<EOF
#line 8814 "configure"
#include "confdefs.h"
a12624 10
/* Thanks to Mike Rendell for this test.  */
#include <sys/types.h>
#define NGID 256
#undef MAX
#define MAX(x, y) ((x) > (y) ? (x) : (y))
main()
{
  gid_t gidset[NGID];
  int i, n;
  union { gid_t gval; long lval; }  val;
d12626 3
a12628 9
  val.lval = -1;
  for (i = 0; i < NGID; i++)
    gidset[i] = val.gval;
  n = getgroups (sizeof (gidset) / MAX (sizeof (int), sizeof (gid_t)) - 1,
                 gidset);
  /* Exit non-zero if getgroups seems to require an array of ints.  This
     happens when gid_t is short but getgroups modifies an array of ints.  */
  exit ((n > 0 && gidset[n] != val.gval) ? 1 : 0);
}
d12630 7
d12638 2
a12639 3
if { (eval echo configure:8839: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
    ac_cv_type_getgroups=gid_t
d12641 1
a12641 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_type_getgroups=int
fi
rm -fr conftest*
d12644 26
a12669 3
if test $ac_cv_type_getgroups = cross; then
        cat > conftest.$ac_ext <<EOF
#line 8853 "configure"
d12671 5
a12675 1
#include <unistd.h>
d12678 1
a12678 1
  egrep "getgroups.*int.*gid_t" >/dev/null 2>&1; then
d12680 1
a12680 4
  ac_cv_type_getgroups=gid_t
else
  rm -rf conftest*
  ac_cv_type_getgroups=int
d12684 4
a12687 16
fi
fi

echo "$ac_t""$ac_cv_type_getgroups" 1>&6
cat >> confdefs.h <<EOF
#define GETGROUPS_T $ac_cv_type_getgroups
EOF


echo $ac_n "checking for pid_t""... $ac_c" 1>&6
echo "configure:8877: checking for pid_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_pid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 8882 "configure"
d12689 4
a12692 4
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
d12696 1
a12696 4
  egrep "(^|[^a-zA-Z_0-9])pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_pid_t=yes
else
d12698 1
a12698 1
  ac_cv_type_pid_t=no
d12702 10
a12711 5
fi
echo "$ac_t""$ac_cv_type_pid_t" 1>&6
if test $ac_cv_type_pid_t = no; then
  cat >> confdefs.h <<\EOF
#define pid_t int
d12713 4
a12716 1

d12718 1
d12720 13
a12732 7
echo $ac_n "checking for uid_t in sys/types.h""... $ac_c" 1>&6
echo "configure:8910: checking for uid_t in sys/types.h" >&5
if eval "test \"`echo '$''{'ac_cv_type_uid_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 8915 "configure"
d12734 5
a12738 1
#include <sys/types.h>
d12741 1
a12741 4
  egrep "uid_t" >/dev/null 2>&1; then
  rm -rf conftest*
  ac_cv_type_uid_t=yes
else
d12743 1
a12743 1
  ac_cv_type_uid_t=no
d12747 10
a12756 6
fi

echo "$ac_t""$ac_cv_type_uid_t" 1>&6
if test $ac_cv_type_uid_t = no; then
  cat >> confdefs.h <<\EOF
#define uid_t int
d12758 4
a12761 5

  cat >> confdefs.h <<\EOF
#define gid_t int
EOF

d12763 1
d12765 4
a12768 7
echo $ac_n "checking for mode_t""... $ac_c" 1>&6
echo "configure:8944: checking for mode_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_mode_t'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 8949 "configure"
d12770 4
a12773 4
#include <sys/types.h>
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
d12777 1
a12777 1
  egrep "(^|[^a-zA-Z_0-9])mode_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
d12779 1
a12779 4
  ac_cv_type_mode_t=yes
else
  rm -rf conftest*
  ac_cv_type_mode_t=no
d12783 7
a12790 5
echo "$ac_t""$ac_cv_type_mode_t" 1>&6
if test $ac_cv_type_mode_t = no; then
  cat >> confdefs.h <<\EOF
#define mode_t int
EOF
d12792 7
a12798 1
fi
d12800 31
d12832 1
d12834 2
a12835 8
ac_safe=`echo "vfork.h" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for vfork.h""... $ac_c" 1>&6
echo "configure:8980: checking for vfork.h" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 8985 "configure"
d12837 8
a12844 1
#include <vfork.h>
d12846 5
a12850 4
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:8990: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
d12852 40
a12891 7
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
a12893 6
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  cat >> confdefs.h <<\EOF
#define HAVE_VFORK_H 1
EOF
d12895 6
a12900 13
else
  echo "$ac_t""no" 1>&6
fi

echo $ac_n "checking for working vfork""... $ac_c" 1>&6
echo "configure:9015: checking for working vfork" >&5
if eval "test \"`echo '$''{'ac_cv_func_vfork_works'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test "$cross_compiling" = yes; then
  echo $ac_n "checking for vfork""... $ac_c" 1>&6
echo "configure:9021: checking for vfork" >&5
if eval "test \"`echo '$''{'ac_cv_func_vfork'+set}'`\" = set"; then
d12904 1
a12904 1
#line 9026 "configure"
d12907 1
a12907 1
    which can conflict with char vfork(); below.  */
d12912 1
a12912 1
char vfork();
d12919 1
a12919 1
#if defined (__stub_vfork) || defined (__stub___vfork)
d12922 1
a12922 1
vfork();
d12927 1
a12927 1
if { (eval echo configure:9049: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d12929 1
a12929 1
  eval "ac_cv_func_vfork=yes"
d12934 1
a12934 1
  eval "ac_cv_func_vfork=no"
d12939 1
a12939 1
if eval "test \"`echo '$ac_cv_func_'vfork`\" = yes"; then
d12941 1
a12941 1
  :
a12943 1
fi
d12945 21
a12965 1
ac_cv_func_vfork_works=$ac_cv_func_vfork
d12967 42
a13008 2
  cat > conftest.$ac_ext <<EOF
#line 9071 "configure"
d13010 1
a13010 2
/* Thanks to Paul Eggert for this test.  */
#include <stdio.h>
d13012 29
a13040 37
#include <sys/stat.h>
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifdef HAVE_VFORK_H
#include <vfork.h>
#endif
/* On some sparc systems, changes by the child to local and incoming
   argument registers are propagated back to the parent.
   The compiler is told about this with #include <vfork.h>,
   but some compilers (e.g. gcc -O) don't grok <vfork.h>.
   Test for this by using a static variable whose address
   is put into a register that is clobbered by the vfork.  */
static
#ifdef __cplusplus
sparc_address_test (int arg)
#else
sparc_address_test (arg) int arg;
#endif
{
  static pid_t child;
  if (!child) {
    child = vfork ();
    if (child < 0) {
      perror ("vfork");
      _exit(2);
    }
    if (!child) {
      arg = getpid();
      write(-1, "", 0);
      _exit (arg);
    }
  }
}
main() {
  pid_t parent = getpid ();
  pid_t child;
d13042 5
a13046 1
  sparc_address_test ();
a13047 1
  child = vfork ();
a13048 19
  if (child == 0) {
    /* Here is another test for sparc vfork register problems.
       This test uses lots of local variables, at least
       as many local variables as main has allocated so far
       including compiler temporaries.  4 locals are enough for
       gcc 1.40.3 on a Solaris 4.1.3 sparc, but we use 8 to be safe.
       A buggy compiler should reuse the register of parent
       for one of the local variables, since it will think that
       parent can't possibly be used any more in this routine.
       Assigning to the local variable will thus munge parent
       in the parent process.  */
    pid_t
      p = getpid(), p1 = getpid(), p2 = getpid(), p3 = getpid(),
      p4 = getpid(), p5 = getpid(), p6 = getpid(), p7 = getpid();
    /* Convince the compiler that p..p7 are live; otherwise, it might
       use the same hardware register for all 8 local variables.  */
    if (p != p1 || p != p2 || p != p3 || p != p4
	|| p != p5 || p != p6 || p != p7)
      _exit(1);
a13049 9
    /* On some systems (e.g. IRIX 3.3),
       vfork doesn't separate parent from child file descriptors.
       If the child closes a descriptor before it execs or exits,
       this munges the parent's descriptor as well.
       Test for this by closing stdout in the child.  */
    _exit(close(fileno(stdout)) != 0);
  } else {
    int status;
    struct stat st;
d13051 12
a13062 5
    while (wait(&status) != child)
      ;
    exit(
	 /* Was there some problem with vforking?  */
	 child < 0
d13064 5
a13068 2
	 /* Did the child fail?  (This shouldn't happen.)  */
	 || status
d13070 1
a13070 2
	 /* Did the vfork/compiler bug occur?  */
	 || parent != getpid()
d13072 65
a13136 4
	 /* Did the file descriptor bug occur?  */
	 || fstat(fileno(stdout), &st) != 0
	 );
  }
d13138 1
d13140 1
a13140 1
if { (eval echo configure:9166: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
d13142 1
a13142 1
  ac_cv_func_vfork_works=yes
d13147 1
a13147 1
  ac_cv_func_vfork_works=no
d13152 1
d13155 8
a13162 4
echo "$ac_t""$ac_cv_func_vfork_works" 1>&6
if test $ac_cv_func_vfork_works = no; then
  cat >> confdefs.h <<\EOF
#define vfork fork
d13168 26
a13193 4
echo $ac_n "checking if we should use fcntl or ioctl""... $ac_c" 1>&6
echo "configure:9190: checking if we should use fcntl or ioctl" >&5
if eval "test \"`echo '$''{'cf_cv_fionbio'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13195 2
d13198 6
a13203 3
cat > conftest.$ac_ext <<EOF
#line 9196 "configure"
#include "confdefs.h"
a13204 2
#include <sys/types.h>
#include <sys/ioctl.h>
d13206 2
a13207 1
int main() {
d13209 9
a13217 7
        int ret = ioctl(0, FIONBIO, (char *)0);
	
; return 0; }
EOF
if { (eval echo configure:9208: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_fionbio=ioctl
d13219 2
a13220 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
d13222 7
a13228 3
cat > conftest.$ac_ext <<EOF
#line 9217 "configure"
#include "confdefs.h"
d13230 2
a13231 9
#include <sys/types.h>
#if HAVE_FCNTL_H
#include <fcntl.h>
#else
#if HAVE_SYS_FCNTL_H
#include <sys/fcntl.h>
#endif
#endif
int main() {
d13233 9
a13241 7
        int ret = fcntl(0, F_SETFL, O_NONBLOCK);
	
; return 0; }
EOF
if { (eval echo configure:9234: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_fionbio=fcntl
d13243 3
a13245 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_fionbio=unknown
a13246 3
rm -f conftest*
fi
rm -f conftest*
d13248 22
d13272 3
a13274 3
echo "$ac_t""$cf_cv_fionbio" 1>&6
test "$cf_cv_fionbio" = "fcntl" && cat >> confdefs.h <<\EOF
#define USE_FCNTL 1
d13278 2
d13281 9
a13289 4
echo $ac_n "checking for broken/missing definition of remove""... $ac_c" 1>&6
echo "configure:9257: checking for broken/missing definition of remove" >&5
if eval "test \"`echo '$''{'cf_cv_baddef_remove'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13291 2
d13294 5
a13298 7
cat > conftest.$ac_ext <<EOF
#line 9263 "configure"
#include "confdefs.h"
#include <stdio.h>
int main() {
remove("dummy")
; return 0; }
d13300 14
a13313 3
if { (eval echo configure:9270: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_baddef_remove=no
d13315 8
a13322 11
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 9278 "configure"
#include "confdefs.h"
#include <stdio.h>
		int __unlink(name) { return unlink(name); } 
int main() {
remove("dummy")
; return 0; }
d13324 14
a13337 3
if { (eval echo configure:9286: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_baddef_remove=yes
d13339 3
a13341 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_baddef_remove=unknown
a13342 4
rm -f conftest*
	
fi
rm -f conftest*
d13344 1
a13344 1
fi
d13346 6
a13351 3
echo "$ac_t""$cf_cv_baddef_remove" 1>&6
test "$cf_cv_baddef_remove" != no && cat >> confdefs.h <<\EOF
#define NEED_REMOVE 1
d13354 2
d13357 2
d13360 9
a13368 4
echo $ac_n "checking for lstat""... $ac_c" 1>&6
echo "configure:9310: checking for lstat" >&5
if eval "test \"`echo '$''{'ac_cv_func_lstat'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13370 2
a13372 21
cat > conftest.$ac_ext <<EOF
#line 9316 "configure"
#include "confdefs.h"

#include <sys/types.h>
#include <sys/stat.h>
int main() {
lstat(".", (struct stat *)0)
; return 0; }
EOF
if { (eval echo configure:9325: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  ac_cv_func_lstat=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_func_lstat=no
fi
rm -f conftest*
	
d13375 3
a13377 4
echo "$ac_t""$ac_cv_func_lstat " 1>&6
if test $ac_cv_func_lstat = yes; then
	cat >> confdefs.h <<\EOF
#define HAVE_LSTAT 1
a13379 1
fi
a13380 11
for ac_func in \
	cuserid \
	getcwd \
	getgroups \
	gettimeofday \
	popen \
	putenv \
	readdir \
	strerror \
	unsetenv \
	waitpid \
a13381 16
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:9360: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 9365 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
a13382 1
int main() {
d13384 2
a13385 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif
d13387 9
a13395 5
; return 0; }
EOF
if { (eval echo configure:9388: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d13397 3
a13399 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
d13402 3
a13404 5
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
d13406 14
a13419 1
 
d13421 3
a13423 1
  echo "$ac_t""no" 1>&6
a13424 1
done
d13426 4
a13429 20
for ac_func in \
	mktime \
	strstr \

do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:9418: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 9423 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();
a13430 1
int main() {
d13432 2
a13433 8
/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif
d13435 9
a13443 5
; return 0; }
EOF
if { (eval echo configure:9446: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
d13445 3
a13447 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
d13450 3
a13452 5
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
a13453 6
 
else
  echo "$ac_t""no" 1>&6
LIBOBJS="$LIBOBJS ${ac_func}.${ac_objext}"
fi
done
d13456 2
d13459 9
a13467 7
for ac_func in strstr
do

echo $ac_n "checking for $ac_func declaration""... $ac_c" 1>&6
echo "configure:9477: checking for $ac_func declaration" >&5
if eval "test \"`echo '$''{'ac_cv_func_decl_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13469 2
a13470 12
  cat > conftest.$ac_ext <<EOF
#line 9482 "configure"
#include "confdefs.h"
#include <string.h>
int main() {
#ifndef ${ac_func}
extern	int	${ac_func}();
#endif
; return 0; }
EOF
if { (eval echo configure:9491: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d13472 6
a13477 9
cat > conftest.$ac_ext <<EOF
#line 9495 "configure"
#include "confdefs.h"
#include <string.h>
int main() {
#ifndef ${ac_func}
int	(*p)() = ${ac_func};
#endif
; return 0; }
d13479 2
a13480 10
if { (eval echo configure:9504: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
eval "ac_cv_func_decl_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  
eval "ac_cv_func_decl_$ac_func=no"
d13482 13
a13494 1
rm -f conftest*
d13496 2
a13497 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
a13498 3
eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f conftest*
d13501 5
a13505 5
if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
else
  echo "$ac_t""no" 1>&6
d13507 2
a13508 2
  
ac_tr_func=`echo DECL_$ac_func | tr '[a-z]' '[A-Z]'`
d13510 7
a13516 2
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
d13519 3
a13522 1
done
d13524 4
a13527 2
for ac_func in getgrgid getgrnam
do
d13529 9
a13537 4
echo $ac_n "checking for $ac_func declaration""... $ac_c" 1>&6
echo "configure:9546: checking for $ac_func declaration" >&5
if eval "test \"`echo '$''{'ac_cv_func_decl_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13539 4
a13542 3
  cat > conftest.$ac_ext <<EOF
#line 9551 "configure"
#include "confdefs.h"
d13544 3
a13546 7
#include <stdio.h>
#include <grp.h>
int main() {
#ifndef ${ac_func}
extern	int	${ac_func}();
#endif
; return 0; }
d13548 17
a13564 2
if { (eval echo configure:9562: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
d13566 1
a13566 3
cat > conftest.$ac_ext <<EOF
#line 9566 "configure"
#include "confdefs.h"
d13568 3
a13570 7
#include <stdio.h>
#include <grp.h>
int main() {
#ifndef ${ac_func}
int	(*p)() = ${ac_func};
#endif
; return 0; }
d13572 14
a13585 4
if { (eval echo configure:9577: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  
eval "ac_cv_func_decl_$ac_func=yes"
d13587 2
a13588 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
a13589 1
eval "ac_cv_func_decl_$ac_func=no"
d13591 19
a13609 1
rm -f conftest*
d13611 2
a13612 3
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
a13613 3
eval "ac_cv_func_decl_$ac_func=yes"
fi
rm -f conftest*
d13616 18
a13633 3
if eval "test \"`echo '$ac_cv_func_'decl_$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  :
d13635 2
a13636 2
  echo "$ac_t""no" 1>&6

d13638 1
a13638 1
ac_tr_func=`echo DECL_$ac_func | tr '[a-z]' '[A-Z]'`
d13640 3
a13642 2
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
a13643 3
 
fi
done
d13646 2
d13649 9
a13657 5

echo $ac_n "checking if TRUE/FALSE are defined""... $ac_c" 1>&6
echo "configure:9619: checking if TRUE/FALSE are defined" >&5
if eval "test \"`echo '$''{'cf_cv_bool_defs'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13659 2
a13661 20
cat > conftest.$ac_ext <<EOF
#line 9625 "configure"
#include "confdefs.h"

#include <${cf_cv_ncurses_header-curses.h}>
#include <stdio.h>
int main() {
int x = TRUE, y = FALSE
; return 0; }
EOF
if { (eval echo configure:9634: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_bool_defs=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_bool_defs=no
fi
rm -f conftest*
d13664 3
a13666 4
echo "$ac_t""$cf_cv_bool_defs" 1>&6
if test "$cf_cv_bool_defs" = no ; then
	cat >> confdefs.h <<\EOF
#define TRUE (1)
a13668 3
	cat >> confdefs.h <<\EOF
#define FALSE (0)
EOF
d13670 2
a13671 1
fi
d13673 9
a13681 6


echo $ac_n "checking if external errno is declared""... $ac_c" 1>&6
echo "configure:9661: checking if external errno is declared" >&5
if eval "test \"`echo '$''{'cf_cv_dcl_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13683 2
d13686 1
a13686 3
    cat > conftest.$ac_ext <<EOF
#line 9667 "configure"
#include "confdefs.h"
d13688 3
a13690 9
#if HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h> 
int main() {
long x = (long) errno
; return 0; }
a13691 12
if { (eval echo configure:9680: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  eval 'cf_cv_dcl_'errno'=yes'
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval 'cf_cv_dcl_'errno'=no'
fi
rm -f conftest*

fi
d13694 2
a13695 2
eval 'cf_result=$cf_cv_dcl_'errno
echo "$ac_t""$cf_result" 1>&6
d13697 14
a13710 4
if test "$cf_result" = no ; then
    eval 'cf_result=DECL_'errno
    
cf_result=`echo $cf_result | tr '[a-z]' '[A-Z]'`
d13712 3
a13714 2
    cat >> confdefs.h <<EOF
#define $cf_result 1
a13716 1
fi
d13718 2
a13719 1
# It's possible (for near-UNIX clones) that the data doesn't exist
d13721 9
a13729 4
echo $ac_n "checking if external errno exists""... $ac_c" 1>&6
echo "configure:9711: checking if external errno exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d13731 2
d13734 1
a13734 3
    cat > conftest.$ac_ext <<EOF
#line 9717 "configure"
#include "confdefs.h"
d13736 1
a13736 2
#undef errno
extern int errno;
d13738 5
a13742 14
int main() {
errno = 2
; return 0; }
EOF
if { (eval echo configure:9727: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval 'cf_cv_have_'errno'=yes'
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval 'cf_cv_have_'errno'=no'
fi
rm -f conftest*
a13745 2
eval 'cf_result=$cf_cv_have_'errno
echo "$ac_t""$cf_result" 1>&6
d13747 2
a13748 8
if test "$cf_result" = yes ; then
    eval 'cf_result=HAVE_'errno
    
cf_result=`echo $cf_result | tr '[a-z]' '[A-Z]'`

    cat >> confdefs.h <<EOF
#define $cf_result 1
EOF
d13750 6
d13758 1
d13760 5
a13764 11



echo $ac_n "checking for setlocale()""... $ac_c" 1>&6
echo "configure:9759: checking for setlocale()" >&5
if eval "test \"`echo '$''{'cf_cv_locale'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
cat > conftest.$ac_ext <<EOF
#line 9765 "configure"
d13766 1
a13766 1
#include <locale.h>
d13768 1
a13768 1
setlocale(LC_ALL, "")
d13771 1
a13771 1
if { (eval echo configure:9772: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d13773 1
a13773 1
  cf_cv_locale=yes
d13778 28
a13805 5
  cf_cv_locale=no
fi
rm -f conftest*
	
fi
d13807 21
a13827 4
echo "$ac_t""$cf_cv_locale" 1>&6
test $cf_cv_locale = yes && cat >> confdefs.h <<\EOF
#define LOCALE 1
EOF
d13829 1
d13831 3
d13835 10
a13844 3
echo $ac_n "checking if NGROUPS is defined""... $ac_c" 1>&6
echo "configure:9793: checking if NGROUPS is defined" >&5
if eval "test \"`echo '$''{'cf_cv_ngroups'+set}'`\" = set"; then
d13847 2
a13848 3
  
cat > conftest.$ac_ext <<EOF
#line 9799 "configure"
d13850 17
a13866 6

#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
a13868 2
int main() {
int x = NGROUPS
d13871 1
a13871 1
if { (eval echo configure:9813: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d13873 1
a13873 1
  cf_cv_ngroups=yes
d13878 4
a13881 3
  cat > conftest.$ac_ext <<EOF
#line 9821 "configure"
#include "confdefs.h"
d13883 5
a13887 6
#if HAVE_SYS_PARAM_H
#include <sys/param.h>
#endif
#if HAVE_LIMITS_H
#include <limits.h>
#endif
d13889 8
d13898 1
a13898 1
int x = NGROUPS_MAX
d13901 1
a13901 1
if { (eval echo configure:9835: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d13903 3
a13905 1
  cf_cv_ngroups=NGROUPS_MAX
d13910 2
a13911 11
  cf_cv_ngroups=no
fi
rm -f conftest*
	
fi
rm -f conftest*
echo "$ac_t""$cf_cv_ngroups" 1>&6
if test "$cf_cv_ngroups" = no ; then
	cat >> confdefs.h <<\EOF
#define NGROUPS 16
EOF
d13913 26
a13938 4
elif test "$cf_cv_ngroups" = NGROUPS_MAX ; then
	cat >> confdefs.h <<\EOF
#define NGROUPS NGROUPS_MAX
EOF
d13940 1
a13940 1
fi
d13942 7
a13948 15
fi



for cf_name in sys_nerr sys_errlist
do
    
echo $ac_n "checking if external $cf_name is declared""... $ac_c" 1>&6
echo "configure:9869: checking if external $cf_name is declared" >&5
if eval "test \"`echo '$''{'cf_cv_dcl_$cf_name'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
    cat > conftest.$ac_ext <<EOF
#line 9875 "configure"
d13950 1
a13950 7

#if HAVE_STDLIB_H
#include <stdlib.h>
#endif
#include <stdio.h>
#include <sys/types.h>
#include <errno.h> 
d13952 1
a13952 1
long x = (long) $cf_name
d13955 1
a13955 1
if { (eval echo configure:9888: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d13957 3
a13959 1
  eval 'cf_cv_dcl_'$cf_name'=yes'
d13964 6
a13969 1
  eval 'cf_cv_dcl_'$cf_name'=no'
d13972 1
a13972 1

d13975 1
d13977 3
a13979 2
eval 'cf_result=$cf_cv_dcl_'$cf_name
echo "$ac_t""$cf_result" 1>&6
a13980 4
if test "$cf_result" = no ; then
    eval 'cf_result=DECL_'$cf_name
    
cf_result=`echo $cf_result | tr '[a-z]' '[A-Z]'`
d13982 2
a13983 2
    cat >> confdefs.h <<EOF
#define $cf_result 1
d13988 2
a13989 1
# It's possible (for near-UNIX clones) that the data doesn't exist
d13991 9
a13999 4
echo $ac_n "checking if external $cf_name exists""... $ac_c" 1>&6
echo "configure:9919: checking if external $cf_name exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_$cf_name'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14001 2
d14004 10
a14013 3
    cat > conftest.$ac_ext <<EOF
#line 9925 "configure"
#include "confdefs.h"
d14015 14
a14028 2
#undef $cf_name
extern int $cf_name;
d14030 3
a14032 3
int main() {
$cf_name = 2
; return 0; }
d14034 14
a14047 3
if { (eval echo configure:9935: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval 'cf_cv_have_'$cf_name'=yes'
d14049 3
a14051 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval 'cf_cv_have_'$cf_name'=no'
fi
rm -f conftest*
d14053 5
d14060 2
a14061 2
eval 'cf_result=$cf_cv_have_'$cf_name
echo "$ac_t""$cf_result" 1>&6
d14063 14
a14076 4
if test "$cf_result" = yes ; then
    eval 'cf_result=HAVE_'$cf_name
    
cf_result=`echo $cf_result | tr '[a-z]' '[A-Z]'`
d14078 3
a14080 2
    cat >> confdefs.h <<EOF
#define $cf_result 1
a14082 1
fi
a14085 1
done
d14087 4
d14092 9
a14100 4
echo $ac_n "checking if struct utmp is declared""... $ac_c" 1>&6
echo "configure:9968: checking if struct utmp is declared" >&5
if eval "test \"`echo '$''{'cf_cv_have_utmp'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14102 2
d14105 3
a14107 3
	cat > conftest.$ac_ext <<EOF
#line 9974 "configure"
#include "confdefs.h"
d14109 4
a14112 5
#include <sys/types.h>
#include <utmp.h>
int main() {
struct utmp x; char *y = &x.ut_host[0]
; return 0; }
d14114 12
a14125 14
if { (eval echo configure:9983: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_have_utmp=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cat > conftest.$ac_ext <<EOF
#line 9991 "configure"
#include "confdefs.h"
#include <utmpx.h>
int main() {
struct utmpx x; char *y = &x.ut_host[0]
; return 0; }
d14127 2
a14128 3
if { (eval echo configure:9998: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  cf_cv_have_utmp=utmpx
d14130 1
a14130 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_have_utmp=no
d14132 5
a14136 4
rm -f conftest*
		
fi
rm -f conftest*
d14138 10
a14147 1
fi
d14149 5
a14153 3
echo "$ac_t""$cf_cv_have_utmp" 1>&6
test $cf_cv_have_utmp != no && cat >> confdefs.h <<\EOF
#define HAVE_UTMP 1
d14156 2
a14157 3
test $cf_cv_have_utmp = utmpx && cat >> confdefs.h <<\EOF
#define UTMPX_FOR_UTMP 1
EOF
d14159 1
d14161 13
d14175 1
a14175 4
echo $ac_n "checking if external h_errno exists""... $ac_c" 1>&6
echo "configure:10026: checking if external h_errno exists" >&5
if eval "test \"`echo '$''{'cf_cv_have_h_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d14177 5
d14183 1
a14183 3
    cat > conftest.$ac_ext <<EOF
#line 10032 "configure"
#include "confdefs.h"
d14185 1
a14185 2
#undef h_errno
extern int h_errno;
d14187 10
a14196 3
int main() {
h_errno = 2
; return 0; }
d14198 2
a14199 3
if { (eval echo configure:10042: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval 'cf_cv_have_'h_errno'=yes'
d14201 1
a14201 6
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval 'cf_cv_have_'h_errno'=no'
fi
rm -f conftest*
d14204 1
d14206 13
a14218 2
eval 'cf_result=$cf_cv_have_'h_errno
echo "$ac_t""$cf_result" 1>&6
d14220 5
a14224 7
if test "$cf_result" = yes ; then
    eval 'cf_result=HAVE_'h_errno
    
cf_result=`echo $cf_result | tr '[a-z]' '[A-Z]'`

    cat >> confdefs.h <<EOF
#define $cf_result 1
d14227 1
d14230 1
d14232 13
d14246 6
a14252 5
echo $ac_n "checking if character set is EBCDIC""... $ac_c" 1>&6
echo "configure:10073: checking if character set is EBCDIC" >&5
if eval "test \"`echo '$''{'cf_cv_ebcdic'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
a14253 27
	cat > conftest.$ac_ext <<EOF
#line 10079 "configure"
#include "confdefs.h"
 
int main() {
 /* TryCompile function for CharSet.
   Treat any failure as ASCII for compatibility with existing art.
   Use compile-time rather than run-time tests for cross-compiler
   tolerance.  */
#if '0'!=240
make an error "Character set is not EBCDIC"
#endif 
; return 0; }
EOF
if { (eval echo configure:10092: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
   # TryCompile action if true
cf_cv_ebcdic=yes 
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
   # TryCompile action if false
cf_cv_ebcdic=no
fi
rm -f conftest*
# end of TryCompile 
d14256 14
a14269 5
# end of CacheVal CvEbcdic
echo "$ac_t""$cf_cv_ebcdic" 1>&6
case "$cf_cv_ebcdic" in  #(vi
    yes) cat >> confdefs.h <<\EOF
#define EBCDIC 1
d14272 5
a14276 2
         cat >> confdefs.h <<\EOF
#define NOT_ASCII 1
a14277 3
;; #(vi
    *)   ;;
esac
d14279 2
d14282 1
a14282 14
### These tests must be run after establishing the curses library.
if test $cf_cv_screen != slang ; then
	
echo $ac_n "checking if curses supports alternate-character set""... $ac_c" 1>&6
echo "configure:10126: checking if curses supports alternate-character set" >&5
if eval "test \"`echo '$''{'cf_cv_alt_char_set'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
for mapname in acs_map _acs_map
do
	cat > conftest.$ac_ext <<EOF
#line 10134 "configure"
#include "confdefs.h"
d14284 2
a14285 1
#include <${cf_cv_ncurses_header-curses.h}>
d14287 9
a14295 3
int main() {
chtype x = $mapname['l']; $mapname['m'] = 0
; return 0; }
d14297 2
a14298 4
if { (eval echo configure:10143: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_alt_char_set=$mapname
	 break
d14300 3
a14302 13
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_alt_char_set=no
fi
rm -f conftest*
done
	
fi

echo "$ac_t""$cf_cv_alt_char_set" 1>&6
test $cf_cv_alt_char_set != no && cat >> confdefs.h <<EOF
#define ALT_CHAR_SET $cf_cv_alt_char_set
d14305 2
d14308 2
a14309 10
	
echo $ac_n "checking if curses supports fancy attributes""... $ac_c" 1>&6
echo "configure:10166: checking if curses supports fancy attributes" >&5
if eval "test \"`echo '$''{'cf_cv_fancy_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 10172 "configure"
#include "confdefs.h"
d14311 2
a14312 1
#include <${cf_cv_ncurses_header-curses.h}>
d14314 9
a14322 7
int main() {
attrset(A_UNDERLINE|A_BOLD|A_REVERSE);
	 wattrset(stdscr, A_BLINK|A_DIM);
	 attroff(A_BOLD);
	 keypad(stdscr,TRUE);
	
; return 0; }
a14323 12
if { (eval echo configure:10185: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  cf_cv_fancy_curses=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  cf_cv_fancy_curses=no
fi
rm -f conftest*
	
fi
d14325 5
a14329 3
echo "$ac_t""$cf_cv_fancy_curses" 1>&6
test $cf_cv_fancy_curses = yes && cat >> confdefs.h <<\EOF
#define FANCY_CURSES 1
a14331 10

	echo $ac_n "checking for ncurses version""... $ac_c" 1>&6
echo "configure:10205: checking for ncurses version" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_version'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cf_cv_ncurses_version=no
	cf_tempfile=out$$
	if test "$cross_compiling" = yes; then
d14333 1
d14335 1
a14335 21
	# This will not work if the preprocessor splits the line after the
	# Autoconf token.  The 'unproto' program does that.
	cat > conftest.$ac_ext <<EOF
#include <${cf_cv_ncurses_header-curses.h}>
#undef Autoconf
#ifdef NCURSES_VERSION
Autoconf NCURSES_VERSION
#else
#ifdef __NCURSES_H
Autoconf "old"
#endif
;
#endif
EOF
	cf_try="$ac_cpp conftest.$ac_ext 2>&5 | grep '^Autoconf ' >conftest.out"
	{ (eval echo configure:10230: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
	if test -f conftest.out ; then
		cf_out=`cat conftest.out | sed -e 's@@^Autoconf @@@@' -e 's@@^[^"]*"@@@@' -e 's@@".*@@@@'`
		test -n "$cf_out" && cf_cv_ncurses_version="$cf_out"
		rm -f conftest.out
	fi
d14337 2
a14338 4
else
  cat > conftest.$ac_ext <<EOF
#line 10239 "configure"
#include "confdefs.h"
d14340 7
a14346 19
#include <${cf_cv_ncurses_header-curses.h}>
int main()
{
	FILE *fp = fopen("$cf_tempfile", "w");
#ifdef NCURSES_VERSION
# ifdef NCURSES_VERSION_PATCH
	fprintf(fp, "%s.%d\n", NCURSES_VERSION, NCURSES_VERSION_PATCH);
# else
	fprintf(fp, "%s\n", NCURSES_VERSION);
# endif
#else
# ifdef __NCURSES_H
	fprintf(fp, "old\n");
# else
	make an error
# endif
#endif
	exit(0);
}
d14348 2
a14349 5
if { (eval echo configure:10262: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  
	cf_cv_ncurses_version=`cat $cf_tempfile`
	rm -f $cf_tempfile
d14351 1
a14351 4
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
fi
rm -fr conftest*
d14354 10
a14363 1
fi
a14364 1
echo "$ac_t""$cf_cv_ncurses_version" 1>&6
d14366 5
a14370 1
	
d14372 10
a14381 4
if test "$cf_cv_ncurses_version" != no ; then
echo $ac_n "checking for obsolete/broken version of ncurses""... $ac_c" 1>&6
echo "configure:10282: checking for obsolete/broken version of ncurses" >&5
if eval "test \"`echo '$''{'cf_cv_ncurses_broken'+set}'`\" = set"; then
d14384 41
a14424 1
  
d14426 1
a14426 1
#line 10288 "configure"
d14428 1
a14428 11

#include <${cf_cv_ncurses_header-curses.h}>
int main() {

#if defined(NCURSES_VERSION) && defined(wgetbkgd)
	make an error
#else
	int x = 1
#endif

; return 0; }
d14430 4
a14433 1
if { (eval echo configure:10302: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d14435 2
a14436 1
  cf_cv_ncurses_broken=no
d14438 1
d14442 43
a14484 1
  cf_cv_ncurses_broken=yes
d14487 1
d14489 2
a14490 8
fi

echo "$ac_t""$cf_cv_ncurses_broken" 1>&6
if test "$cf_cv_ncurses_broken" = yes ; then
	echo "configure: warning: hmm... you should get an up-to-date version of ncurses" 1>&2
	cat >> confdefs.h <<\EOF
#define NCURSES_BROKEN 1
EOF
d14492 2
a14493 2
fi
fi
d14495 6
a14500 9
	
echo $ac_n "checking if curses supports color attributes""... $ac_c" 1>&6
echo "configure:10327: checking if curses supports color attributes" >&5
if eval "test \"`echo '$''{'cf_cv_color_curses'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
	cat > conftest.$ac_ext <<EOF
#line 10333 "configure"
a14502 2
#include <${cf_cv_ncurses_header-curses.h}>

d14504 1
a14504 7
chtype x = COLOR_BLUE;
	 has_colors();
	 start_color();
#ifndef NCURSES_BROKEN
	 wbkgd(curscr, getbkgd(stdscr)); /* X/Open XPG4 aka SVr4 Curses */
#endif
	
d14507 1
a14507 1
if { (eval echo configure:10348: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d14509 3
a14511 1
  cf_cv_color_curses=yes
d14516 47
a14562 1
  cf_cv_color_curses=no
d14565 10
a14574 1
	
d14576 3
d14580 12
a14591 5
echo "$ac_t""$cf_cv_color_curses" 1>&6
if test $cf_cv_color_curses = yes ; then
	cat >> confdefs.h <<\EOF
#define COLOR_CURSES 1
EOF
a14592 3
	test ".$cf_cv_ncurses_broken" != .yes && cat >> confdefs.h <<\EOF
#define HAVE_GETBKGD 1
EOF
a14593 1
fi
d14595 15
a14609 4
	
echo $ac_n "checking declaration of size-change""... $ac_c" 1>&6
echo "configure:10375: checking declaration of size-change" >&5
if eval "test \"`echo '$''{'cf_cv_sizechange'+set}'`\" = set"; then
d14612 4
a14615 11
  
    cf_cv_sizechange=unknown
    cf_save_CFLAGS="$CFLAGS"

for cf_opts in "" "NEED_PTEM_H"
do

    CFLAGS="$cf_save_CFLAGS"
    test -n "$cf_opts" && CFLAGS="$CFLAGS -D$cf_opts"
    cat > conftest.$ac_ext <<EOF
#line 10389 "configure"
d14617 4
a14620 18
#include <sys/types.h>
#if HAVE_TERMIOS_H
#include <termios.h>
#else
#if HAVE_TERMIO_H
#include <termio.h>
#endif
#endif
#if NEED_PTEM_H
/* This is a workaround for SCO:  they neglected to define struct winsize in
 * termios.h -- it's only in termio.h and ptem.h
 */
#include        <sys/stream.h>
#include        <sys/ptem.h>
#endif
#if !defined(sun) || !defined(HAVE_TERMIOS_H)
#include <sys/ioctl.h>
#endif
d14623 1
a14623 15

#ifdef TIOCGSIZE
	struct ttysize win;	/* FIXME: what system is this? */
	int y = win.ts_lines;
	int x = win.ts_cols;
#else
#ifdef TIOCGWINSZ
	struct winsize win;
	int y = win.ws_row;
	int x = win.ws_col;
#else
	no TIOCGSIZE or TIOCGWINSZ
#endif /* TIOCGWINSZ */
#endif /* TIOCGSIZE */
	
d14626 1
a14626 1
if { (eval echo configure:10428: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d14628 1
a14628 1
  cf_cv_sizechange=yes
d14633 1
a14633 1
  cf_cv_sizechange=no
d14636 1
a14637 11
	CFLAGS="$cf_save_CFLAGS"
	if test "$cf_cv_sizechange" = yes ; then
		echo "size-change succeeded ($cf_opts)" >&5
		test -n "$cf_opts" && cat >> confdefs.h <<EOF
#define $cf_opts 1
EOF

		break
	fi
done
	
d14639 7
a14645 11

echo "$ac_t""$cf_cv_sizechange" 1>&6
test $cf_cv_sizechange != no && cat >> confdefs.h <<\EOF
#define HAVE_SIZECHANGE 1
EOF


	
echo $ac_n "checking if ttytype is declared in curses library""... $ac_c" 1>&6
echo "configure:10460: checking if ttytype is declared in curses library" >&5
if eval "test \"`echo '$''{'cf_cv_have_ttytype'+set}'`\" = set"; then
d14648 4
a14651 3
  
	cat > conftest.$ac_ext <<EOF
#line 10466 "configure"
d14653 5
a14657 1
#include <${cf_cv_ncurses_header-curses.h}>
d14659 1
a14659 1
char *x = &ttytype[1]; *x = 1
d14662 1
a14662 1
if { (eval echo configure:10473: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d14664 1
a14664 1
  cf_cv_have_ttytype=yes
d14669 1
a14669 1
  cf_cv_have_ttytype=no
d14672 2
a14673 1
	
d14675 7
a14681 18

echo "$ac_t""$cf_cv_have_ttytype" 1>&6
test $cf_cv_have_ttytype = yes && cat >> confdefs.h <<\EOF
#define HAVE_TTYTYPE 1
EOF


	for ac_func in \
		cbreak \
		define_key \
		keypad \
		use_default_colors \
		wborder \
	
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:10501: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
d14684 4
a14687 2
  cat > conftest.$ac_ext <<EOF
#line 10506 "configure"
a14688 3
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
d14692 1
a14692 1
char $ac_func();
d14695 1
a14695 10

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

d14698 1
a14698 1
if { (eval echo configure:10529: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d14700 1
a14700 1
  eval "ac_cv_func_$ac_func=yes"
d14705 1
a14705 1
  eval "ac_cv_func_$ac_func=no"
d14708 2
d14711 1
a14711 2

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
d14713 6
a14718 5
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
d14720 9
a14728 3
  echo "$ac_t""no" 1>&6
fi
done
d14730 3
a14732 26
fi




echo $ac_n "checking if configuration info should be browsable""... $ac_c" 1>&6
echo "configure:10559: checking if configuration info should be browsable" >&5

# Check whether --enable-config-info or --disable-config-info was given.
if test "${enable_config_info+set}" = set; then
  enableval="$enable_config_info"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_config_info=$enableval 
  else
    use_config_info=yes
  fi
else
  enableval=yes 
  use_config_info=yes
  
fi

echo "$ac_t""$use_config_info" 1>&6
test $use_config_info = no && cat >> confdefs.h <<\EOF
#define NO_CONFIG_INFO 1
d14734 3
a14736 14


echo $ac_n "checking if new-style forms-based options screen should be used""... $ac_c" 1>&6
echo "configure:10583: checking if new-style forms-based options screen should be used" >&5

# Check whether --enable-forms-options or --disable-forms-options was given.
if test "${enable_forms_options+set}" = set; then
  enableval="$enable_forms_options"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_forms_options=$enableval 
  else
    use_forms_options=yes
  fi
d14738 4
a14741 3
  enableval=yes 
  use_forms_options=yes
  
d14743 2
a14745 22
echo "$ac_t""$use_forms_options" 1>&6
test $use_forms_options = no && cat >> confdefs.h <<\EOF
#define NO_OPTION_FORMS 1
EOF


echo $ac_n "checking if old-style options menu should be used""... $ac_c" 1>&6
echo "configure:10607: checking if old-style options menu should be used" >&5

# Check whether --enable-menu-options or --disable-menu-options was given.
if test "${enable_menu_options+set}" = set; then
  enableval="$enable_menu_options"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_menu_options=$enableval 
  else
    use_menu_options=yes
  fi
else
  enableval=yes 
  use_menu_options=yes
  
d14747 8
a14754 19

echo "$ac_t""$use_menu_options" 1>&6
test $use_menu_options = no && cat >> confdefs.h <<\EOF
#define NO_OPTION_MENU 1
EOF


echo $ac_n "checking if experimental address-list page should be used""... $ac_c" 1>&6
echo "configure:10631: checking if experimental address-list page should be used" >&5

# Check whether --enable-addrlist-page or --disable-addrlist-page was given.
if test "${enable_addrlist_page+set}" = set; then
  enableval="$enable_addrlist_page"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_addrlist_page=$enableval 
  else
    use_addrlist_page=no
  fi
d14756 9
a14764 4
  enableval=no 
  use_addrlist_page=no
  
fi
d14766 3
a14768 3
echo "$ac_t""$use_addrlist_page" 1>&6
test $use_addrlist_page != no && cat >> confdefs.h <<\EOF
#define EXP_ADDRLIST_PAGE 1
d14770 3
a14772 80


echo $ac_n "checking if color-style code should be used""... $ac_c" 1>&6
echo "configure:10655: checking if color-style code should be used" >&5

# Check whether --enable-color-style or --disable-color-style was given.
if test "${enable_color_style+set}" = set; then
  enableval="$enable_color_style"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_color_style=$enableval 
  else
    use_color_style=no
  fi
else
  enableval=no 
  use_color_style=no
  
fi


if test $use_color_style != no ; then
	if test .$cf_cv_color_curses != .yes ; then
		{ echo "configure: error: Configuration does not support color-styles" 1>&2; exit 1; }
	fi
	if test $cf_cv_screen = slang ; then
		{ echo "configure: error: Configuration does not support color-styles" 1>&2; exit 1; }
	fi
	cat >> confdefs.h <<\EOF
#define USE_HASH 1
EOF

	cat >> confdefs.h <<\EOF
#define LINKEDSTYLES 1
EOF

fi

case $use_color_style in
no)
	echo "$ac_t""no" 1>&6
	INSTALL_LSS=
	;;
*)
	cat >> confdefs.h <<\EOF
#define USE_COLOR_STYLE 1
EOF

	echo "$ac_t""yes" 1>&6

	echo $ac_n "checking for location of style-sheet file""... $ac_c" 1>&6
echo "configure:10703: checking for location of style-sheet file" >&5
	LYNX_LSS_FILE=$cf_libdir/lynx.lss
	cat >> confdefs.h <<EOF
#define LYNX_LSS_FILE "$LYNX_LSS_FILE"
EOF

	echo "$ac_t""$LYNX_LSS_FILE" 1>&6
	INSTALL_LSS=install-lss
	;;
esac


use_dft_colors=no
test ".$cf_cv_screen" = ".slang"                && use_dft_colors=maybe
test ".$ac_cv_func_use_default_colors" = ".yes" && use_dft_colors=maybe

if test "$use_dft_colors" != no ; then
echo $ac_n "checking if you want to use default-colors""... $ac_c" 1>&6
echo "configure:10721: checking if you want to use default-colors" >&5

# Check whether --enable-default-colors or --disable-default-colors was given.
if test "${enable_default_colors+set}" = set; then
  enableval="$enable_default_colors"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_dft_colors=yes 
  else
    use_dft_colors=no
  fi
d14774 4
a14777 3
  enableval=no 
  use_dft_colors=no
  
d14779 2
d14782 24
a14805 5
echo "$ac_t""$use_dft_colors" 1>&6
test $use_dft_colors = "yes" && cat >> confdefs.h <<\EOF
#define USE_DEFAULT_COLORS 1
EOF

d14808 17
a14824 2
echo $ac_n "checking if experimental keyboard-layout logic should be used""... $ac_c" 1>&6
echo "configure:10746: checking if experimental keyboard-layout logic should be used" >&5
d14826 7
a14832 9
# Check whether --enable-kbd-layout or --disable-kbd-layout was given.
if test "${enable_kbd_layout+set}" = set; then
  enableval="$enable_kbd_layout"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_kbd_layout=$enableval 
  else
    use_kbd_layout=no
  fi
d14834 4
a14837 3
  enableval=no 
  use_kbd_layout=no
  
d14839 2
d14842 7
a14848 3
echo "$ac_t""$use_kbd_layout" 1>&6
test $use_kbd_layout != no && cat >> confdefs.h <<\EOF
#define EXP_KEYBOARD_LAYOUT 1
d14851 1
d14853 3
d14857 5
a14861 12
echo $ac_n "checking if html source should be colorized""... $ac_c" 1>&6
echo "configure:10771: checking if html source should be colorized" >&5

# Check whether --enable-prettysrc or --disable-prettysrc was given.
if test "${enable_prettysrc+set}" = set; then
  enableval="$enable_prettysrc"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_prettysrc=$enableval 
  else
    use_prettysrc=no
  fi
d14863 9
a14871 4
  enableval=no 
  use_prettysrc=no
  
fi
d14873 3
a14875 3
echo "$ac_t""$use_prettysrc" 1>&6
test $use_prettysrc != no && cat >> confdefs.h <<\EOF
#define USE_PSRC 1
d14877 3
a14879 14


echo $ac_n "checking if source caching should be used""... $ac_c" 1>&6
echo "configure:10795: checking if source caching should be used" >&5

# Check whether --enable-source-cache or --disable-source-cache was given.
if test "${enable_source_cache+set}" = set; then
  enableval="$enable_source_cache"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_source_cache=$enableval 
  else
    use_source_cache=no
  fi
d14881 4
a14884 3
  enableval=no 
  use_source_cache=no
  
d14886 2
d14889 7
a14895 3
echo "$ac_t""$use_source_cache" 1>&6
test $use_source_cache != no && cat >> confdefs.h <<\EOF
#define SOURCE_CACHE 1
d14898 1
a14899 15



echo $ac_n "checking if alternative line-edit bindings should be used""... $ac_c" 1>&6
echo "configure:10822: checking if alternative line-edit bindings should be used" >&5

# Check whether --enable-alt-bindings or --disable-alt-bindings was given.
if test "${enable_alt_bindings+set}" = set; then
  enableval="$enable_alt_bindings"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_alt_bindings=$enableval 
  else
    use_alt_bindings=yes
  fi
d14901 1
a14901 3
  enableval=no 
  use_alt_bindings=yes
  
d14904 8
a14911 3
echo "$ac_t""$use_alt_bindings" 1>&6
test $use_alt_bindings != no && cat >> confdefs.h <<\EOF
#define EXP_ALT_BINDINGS 1
d14914 5
d14920 13
a14932 2
echo $ac_n "checking if you want to use extended HTML DTD logic""... $ac_c" 1>&6
echo "configure:10846: checking if you want to use extended HTML DTD logic" >&5
d14934 1
a14934 14
# Check whether --enable-extended-dtd or --disable-extended-dtd was given.
if test "${enable_extended_dtd+set}" = set; then
  enableval="$enable_extended_dtd"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ext_htmldtd=no 
  else
    use_ext_htmldtd=yes
  fi
else
  enableval=yes 
  use_ext_htmldtd=yes
  
fi
d14936 1
a14936 3
echo "$ac_t""$use_ext_htmldtd" 1>&6
test $use_ext_htmldtd = "no" && cat >> confdefs.h <<\EOF
#define NO_EXTENDED_HTMLDTD 1
d14938 3
a14940 14


echo $ac_n "checking if partial-display should be used""... $ac_c" 1>&6
echo "configure:10870: checking if partial-display should be used" >&5

# Check whether --enable-partial or --disable-partial was given.
if test "${enable_partial+set}" = set; then
  enableval="$enable_partial"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_partial_display=$enableval 
  else
    use_partial_display=yes
  fi
d14942 4
a14945 3
  enableval=yes 
  use_partial_display=yes
  
d14947 11
d14959 1
a14959 3
echo "$ac_t""$use_partial_display" 1>&6
test $use_partial_display != no && cat >> confdefs.h <<\EOF
#define DISP_PARTIAL 1
d14961 3
a14963 14


echo $ac_n "checking if you want to use external commands""... $ac_c" 1>&6
echo "configure:10894: checking if you want to use external commands" >&5

# Check whether --enable-externs or --disable-externs was given.
if test "${enable_externs+set}" = set; then
  enableval="$enable_externs"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_externs=yes 
  else
    use_externs=no
  fi
d14965 4
a14968 3
  enableval=no 
  use_externs=no
  
d14970 11
d14982 3
a14984 8
echo "$ac_t""$use_externs" 1>&6
test $use_externs != ".no" && cat >> confdefs.h <<\EOF
#define USE_EXTERNALS 1
EOF


echo $ac_n "checking if you want to use setfont support""... $ac_c" 1>&6
echo "configure:10918: checking if you want to use setfont support" >&5
d14986 2
a14987 6
# Check whether --enable-font-switch or --disable-font-switch was given.
if test "${enable_font_switch+set}" = set; then
  enableval="$enable_font_switch"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_setfont=yes 
d14989 8
a14996 2
    use_setfont=no
  fi
d14998 9
a15006 4
  enableval=no 
  use_setfont=no
  
fi
d15008 3
a15010 3
echo "$ac_t""$use_setfont" 1>&6
test $use_setfont = yes && cat >> confdefs.h <<\EOF
#define EXP_CHARTRANS_AUTOSWITCH 1
d15012 11
d15024 7
d15032 16
a15047 2
echo $ac_n "checking if you want cgi-link support""... $ac_c" 1>&6
echo "configure:10942: checking if you want cgi-link support" >&5
d15049 3
a15051 7
# Check whether --enable-cgi-links or --disable-cgi-links was given.
if test "${enable_cgi_links+set}" = set; then
  enableval="$enable_cgi_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    cat >> confdefs.h <<\EOF
#define LYNXCGI_LINKS 1
d15053 3
a15055 2
 
  fi
d15057 4
a15060 1
  enableval=no   
d15062 2
d15065 7
a15071 1
echo "$ac_t""$enableval" 1>&6
d15073 1
a15073 2
echo $ac_n "checking if you want exec-links support""... $ac_c" 1>&6
echo "configure:10961: checking if you want exec-links support" >&5
d15075 10
a15084 10
# Check whether --enable-exec-links or --disable-exec-links was given.
if test "${enable_exec_links+set}" = set; then
  enableval="$enable_exec_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    cat >> confdefs.h <<\EOF
#define EXEC_LINKS 1
EOF
 
  fi
d15086 10
a15095 2
  enableval=no   
fi
d15097 1
a15097 1
echo "$ac_t""$enableval" 1>&6
d15099 8
a15106 2
echo $ac_n "checking if you want exec-scripts support""... $ac_c" 1>&6
echo "configure:10980: checking if you want exec-scripts support" >&5
d15108 1
a15108 7
# Check whether --enable-exec-scripts or --disable-exec-scripts was given.
if test "${enable_exec_scripts+set}" = set; then
  enableval="$enable_exec_scripts"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    cat >> confdefs.h <<\EOF
#define EXEC_SCRIPTS 1
d15110 3
a15112 2
 
  fi
d15114 6
a15119 1
  enableval=no   
d15122 6
a15127 1
echo "$ac_t""$enableval" 1>&6
d15129 16
a15144 2
echo $ac_n "checking if you want internal-links feature""... $ac_c" 1>&6
echo "configure:10999: checking if you want internal-links feature" >&5
d15146 7
a15152 9
# Check whether --enable-internal-links or --disable-internal-links was given.
if test "${enable_internal_links+set}" = set; then
  enableval="$enable_internal_links"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_internal_links=yes 
  else
    use_internal_links=no
  fi
d15154 4
a15157 3
  enableval=no 
  use_internal_links=no
  
d15159 2
d15162 7
a15168 4
echo "$ac_t""$use_internal_links" 1>&6
test $use_internal_links = no && cat >> confdefs.h <<\EOF
#define DONT_TRACK_INTERNAL_LINKS 1
EOF
d15170 1
d15172 11
a15182 12
echo $ac_n "checking if you want to fork NSL requests""... $ac_c" 1>&6
echo "configure:11023: checking if you want to fork NSL requests" >&5

# Check whether --enable-nsl-fork or --disable-nsl-fork was given.
if test "${enable_nsl_fork+set}" = set; then
  enableval="$enable_nsl_fork"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_nsl_fork=yes 
  else
    use_nsl_fork=no
  fi
d15184 10
a15193 4
  enableval=no 
  use_nsl_fork=no
  
fi
d15195 1
a15195 4
echo "$ac_t""$use_nsl_fork" 1>&6
test $use_nsl_fork = yes && cat >> confdefs.h <<\EOF
#define NSL_FORK 1
EOF
d15197 8
d15206 5
a15210 12
echo $ac_n "checking if you want to log URL requests via syslog""... $ac_c" 1>&6
echo "configure:11047: checking if you want to log URL requests via syslog" >&5

# Check whether --enable-syslog or --disable-syslog was given.
if test "${enable_syslog+set}" = set; then
  enableval="$enable_syslog"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_syslog=yes 
  else
    use_syslog=no
  fi
d15212 6
a15217 3
  enableval=no 
  use_syslog=no
  
d15220 3
a15222 18
echo "$ac_t""$use_syslog" 1>&6
test $use_syslog = yes && cat >> confdefs.h <<\EOF
#define SYSLOG_REQUESTED_URLS 1
EOF


echo $ac_n "checking if persistent-cookie logic should be used""... $ac_c" 1>&6
echo "configure:11071: checking if persistent-cookie logic should be used" >&5

# Check whether --enable-persistent-cookies or --disable-persistent-cookies was given.
if test "${enable_persistent_cookies+set}" = set; then
  enableval="$enable_persistent_cookies"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_filed_cookies=$enableval 
  else
    use_filed_cookies=yes
  fi
d15224 1
a15224 3
  enableval=no 
  use_filed_cookies=yes
  
d15227 20
a15246 3
echo "$ac_t""$use_filed_cookies" 1>&6
test $use_filed_cookies != no && cat >> confdefs.h <<\EOF
#define EXP_PERSISTENT_COOKIES 1
d15248 11
d15260 7
d15268 1
a15268 2
echo $ac_n "checking if you want to underline links""... $ac_c" 1>&6
echo "configure:11095: checking if you want to underline links" >&5
d15270 5
a15274 9
# Check whether --enable-underlines or --disable-underlines was given.
if test "${enable_underlines+set}" = set; then
  enableval="$enable_underlines"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_underline=yes 
  else
    use_underline=no
  fi
d15276 10
a15285 4
  enableval=no 
  use_underline=no
  
fi
d15287 1
a15287 4
echo "$ac_t""$use_underline" 1>&6
test $use_underline = yes && cat >> confdefs.h <<\EOF
#define UNDERLINE_LINKS 1
EOF
d15289 8
d15298 13
a15310 2
echo $ac_n "checking if help files should be gzip'ed""... $ac_c" 1>&6
echo "configure:11119: checking if help files should be gzip'ed" >&5
d15312 3
a15314 9
# Check whether --enable-gzip-help or --disable-gzip-help was given.
if test "${enable_gzip_help+set}" = set; then
  enableval="$enable_gzip_help"
  test "$enableval" != yes && enableval=no
  if test "$enableval" != "no" ; then
    use_gzip_help=$enableval 
  else
    use_gzip_help=no
  fi
d15316 1
a15316 3
  enableval=no 
  use_gzip_help=no
  
d15319 16
a15334 1
echo "$ac_t""$use_gzip_help" 1>&6
d15336 12
a15347 5
COMPRESS_PROG=
COMPRESS_EXT=
if test $use_gzip_help = yes ; then
	COMPRESS_PROG=$ac_cv_path_GZIP
	COMPRESS_EXT=.gz
d15349 2
d15352 4
a15355 9


echo $ac_n "checking if you want to use zlib for decompression of some gzip files""... $ac_c" 1>&6
echo "configure:11148: checking if you want to use zlib for decompression of some gzip files" >&5

# Check whether --with-zlib or --without-zlib was given.
if test "${with_zlib+set}" = set; then
  withval="$with_zlib"
  use_zlib=$withval
d15357 1
a15357 1
  use_zlib=no
d15360 1
a15360 1
echo "$ac_t""$use_zlib" 1>&6
d15362 4
a15365 7
if test ".$use_zlib" != ".no" ; then
	
	cf_cv_have_lib_z=no
	cf_libdir=""
	echo $ac_n "checking for gzopen""... $ac_c" 1>&6
echo "configure:11165: checking for gzopen" >&5
if eval "test \"`echo '$''{'ac_cv_func_gzopen'+set}'`\" = set"; then
d15369 1
a15369 1
#line 11170 "configure"
d15372 1
a15372 1
    which can conflict with char gzopen(); below.  */
d15377 1
a15377 1
char gzopen();
d15384 1
a15384 1
#if defined (__stub_gzopen) || defined (__stub___gzopen)
d15387 1
a15387 1
gzopen();
d15392 157
a15548 1
if { (eval echo configure:11193: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d15550 1
a15550 1
  eval "ac_cv_func_gzopen=yes"
d15555 1
a15555 1
  eval "ac_cv_func_gzopen=no"
d15558 2
d15561 1
a15561 2

if eval "test \"`echo '$ac_cv_func_'gzopen`\" = yes"; then
d15563 1
a15563 1
  cf_cv_have_lib_z=yes
d15566 1
d15568 10
a15577 6
		cf_save_LIBS="$LIBS"
		echo $ac_n "checking for gzopen in -lz""... $ac_c" 1>&6
echo "configure:11213: checking for gzopen in -lz" >&5
		LIBS="-lz $LIBS"
		cat > conftest.$ac_ext <<EOF
#line 11216 "configure"
d15579 4
a15582 28
#include <zlib.h>
int main() {
gzopen("name","mode")
; return 0; }
EOF
if { (eval echo configure:11223: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  echo "$ac_t""yes" 1>&6
			 cf_cv_have_lib_z=yes
			
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  echo "$ac_t""no" 1>&6
			cf_search=""
if test -d "$libdir"  ; then
test "$libdir" != NONE           && cf_search="$cf_search $libdir $libdir/z"
fi
if test -d "$exec_prefix"; then
test "$exec_prefix" != NONE      && cf_search="$cf_search $exec_prefix/lib $exec_prefix/lib/z"
fi
if test -d "$prefix"; then
test "$prefix" != NONE           && \
test "$prefix" != "$exec_prefix" && cf_search="$cf_search $prefix/lib $prefix/lib/z"
fi
test "$prefix" != /usr/local     && cf_search="$cf_search /usr/local/lib /usr/local/lib/z"
test "$prefix" != /usr           && cf_search="$cf_search /usr/lib /usr/lib/z"
a15583 9
			for cf_libdir in $cf_search
			do
				echo $ac_n "checking for -lz in $cf_libdir""... $ac_c" 1>&6
echo "configure:11250: checking for -lz in $cf_libdir" >&5
				LIBS="-L$cf_libdir -lz $cf_save_LIBS"
				cat > conftest.$ac_ext <<EOF
#line 11253 "configure"
#include "confdefs.h"
#include <zlib.h>
d15585 1
a15585 1
gzopen("name","mode")
d15588 1
a15588 1
if { (eval echo configure:11260: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d15590 1
a15590 3
  echo "$ac_t""yes" 1>&6
			 		 cf_cv_have_lib_z=yes
					 break
d15595 1
a15595 2
  echo "$ac_t""no" 1>&6
					 LIBS="$cf_save_LIBS"
d15598 1
a15598 6
			done
			
fi
rm -f conftest*
		
fi
a15599 2
if test $cf_cv_have_lib_z = no ; then
	{ echo "configure: error: Cannot link z library" 1>&2; exit 1; }
d15601 4
a15604 8
case $host_os in #(vi
linux*) # Suse Linux does not follow /usr/lib convention
	LIBS="$LIBS -L/lib"
	;;
esac

	cat >> confdefs.h <<\EOF
#define USE_ZLIB 1
d15607 4
d15613 20
a15632 2
echo $ac_n "checking if you want to exclude FINGER code""... $ac_c" 1>&6
echo "configure:11296: checking if you want to exclude FINGER code" >&5
a15633 13
# Check whether --enable-finger or --disable-finger was given.
if test "${enable_finger+set}" = set; then
  enableval="$enable_finger"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_finger=yes 
  else
    use_finger=no
  fi
else
  enableval=yes 
  use_finger=no
  
d15636 4
a15639 22
echo "$ac_t""$use_finger" 1>&6
test $use_finger != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_FINGER 1
EOF


echo $ac_n "checking if you want to exclude GOPHER code""... $ac_c" 1>&6
echo "configure:11320: checking if you want to exclude GOPHER code" >&5

# Check whether --enable-gopher or --disable-gopher was given.
if test "${enable_gopher+set}" = set; then
  enableval="$enable_gopher"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_gopher=yes 
  else
    use_gopher=no
  fi
else
  enableval=yes 
  use_gopher=no
  
a15641 4
echo "$ac_t""$use_gopher" 1>&6
test $use_gopher != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_GOPHER 1
EOF
d15643 1
a15644 2
echo $ac_n "checking if you want to exclude NEWS code""... $ac_c" 1>&6
echo "configure:11344: checking if you want to exclude NEWS code" >&5
d15646 4
a15649 13
# Check whether --enable-news or --disable-news was given.
if test "${enable_news+set}" = set; then
  enableval="$enable_news"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_news=yes 
  else
    use_news=no
  fi
else
  enableval=yes 
  use_news=no
  
a15651 5
echo "$ac_t""$use_news" 1>&6
test $use_news != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_NEWS 1
EOF

a15652 2
echo $ac_n "checking if you want to exclude FTP code""... $ac_c" 1>&6
echo "configure:11368: checking if you want to exclude FTP code" >&5
d15654 4
a15657 13
# Check whether --enable-ftp or --disable-ftp was given.
if test "${enable_ftp+set}" = set; then
  enableval="$enable_ftp"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_ftp=yes 
  else
    use_ftp=no
  fi
else
  enableval=yes 
  use_ftp=no
  
a15659 5
echo "$ac_t""$use_ftp" 1>&6
test $use_ftp != "no" && cat >> confdefs.h <<\EOF
#define DISABLE_FTP 1
EOF

d15662 5
a15666 16


# All DirEd functions that were enabled on compilation can be disabled
# or modified at run time via DIRED_MENU symbols in lynx.cfg.
echo $ac_n "checking if directory-editor code should be used""... $ac_c" 1>&6
echo "configure:11397: checking if directory-editor code should be used" >&5

# Check whether --enable-dired or --disable-dired was given.
if test "${enable_dired+set}" = set; then
  enableval="$enable_dired"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    use_dired=$enableval 
  else
    use_dired=yes
  fi
d15668 9
a15676 4
  enableval=yes 
  use_dired=yes
  
fi
d15678 3
a15680 5
echo "$ac_t""$use_dired" 1>&6

if test ".$use_dired" != ".no" ; then
	cat >> confdefs.h <<\EOF
#define DIRED_SUPPORT 1
d15682 3
a15684 15


	echo $ac_n "checking if you wish to allow extracting from archives via DirEd""... $ac_c" 1>&6
echo "configure:11423: checking if you wish to allow extracting from archives via DirEd" >&5
	
# Check whether --enable-dired-archive or --disable-dired-archive was given.
if test "${enable_dired_archive+set}" = set; then
  enableval="$enable_dired_archive"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    cat >> confdefs.h <<\EOF
#define ARCHIVE_ONLY 1
EOF
 
  fi
d15686 4
a15689 1
  enableval=yes   
d15691 2
d15694 4
a15697 17
	echo "$ac_t""$enableval" 1>&6

	echo $ac_n "checking if you wish to allow users to redefine DirEd keys""... $ac_c" 1>&6
echo "configure:11442: checking if you wish to allow users to redefine DirEd keys" >&5
	
# Check whether --enable-dired-override or --disable-dired-override was given.
if test "${enable_dired_override+set}" = set; then
  enableval="$enable_dired_override"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_OVERRIDE 1
EOF

  fi
d15699 1
a15699 6
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_OVERRIDE 1
EOF

  
a15701 1
	echo "$ac_t""$enableval" 1>&6
d15703 2
a15704 13
	echo $ac_n "checking if you wish to allow permissions commands via DirEd""... $ac_c" 1>&6
echo "configure:11468: checking if you wish to allow permissions commands via DirEd" >&5
	
# Check whether --enable-dired-permit or --disable-dired-permit was given.
if test "${enable_dired_permit+set}" = set; then
  enableval="$enable_dired_permit"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_PERMIT 1
EOF
d15706 6
a15711 6
  fi
else
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_PERMIT 1
EOF
d15713 14
a15726 2
  
fi
d15728 3
a15730 1
	echo "$ac_t""$enableval" 1>&6
d15732 1
a15732 10
	echo $ac_n "checking if you wish to allow executable-permission commands via DirEd""... $ac_c" 1>&6
echo "configure:11494: checking if you wish to allow executable-permission commands via DirEd" >&5
	
# Check whether --enable-dired-xpermit or --disable-dired-xpermit was given.
if test "${enable_dired_xpermit+set}" = set; then
  enableval="$enable_dired_xpermit"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    cat >> confdefs.h <<\EOF
#define NO_CHANGE_EXECUTE_PERMS 1
d15734 3
a15736 2
 
  fi
d15738 4
a15741 1
  enableval=yes   
d15743 8
d15752 17
a15768 1
	echo "$ac_t""$enableval" 1>&6
d15770 3
a15772 12
	echo $ac_n "checking if you wish to allow "tar" commands from DirEd""... $ac_c" 1>&6
echo "configure:11513: checking if you wish to allow "tar" commands from DirEd" >&5
	
# Check whether --enable-dired-tar or --disable-dired-tar was given.
if test "${enable_dired_tar+set}" = set; then
  enableval="$enable_dired_tar"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_TAR 1
d15774 19
d15794 3
a15796 6
  fi
else
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_TAR 1
EOF
d15798 2
a15799 1
  
a15801 1
	echo "$ac_t""$enableval" 1>&6
d15803 1
a15803 13
	echo $ac_n "checking if you wish to allow "uudecode" commands from DirEd""... $ac_c" 1>&6
echo "configure:11539: checking if you wish to allow "uudecode" commands from DirEd" >&5
	
# Check whether --enable-dired-uudecode or --disable-dired-uudecode was given.
if test "${enable_dired_uudecode+set}" = set; then
  enableval="$enable_dired_uudecode"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_UUDECODE 1
EOF
d15805 2
a15806 5
  fi
else
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_UUDECODE 1
a15808 2
  
fi
a15809 1
	echo "$ac_t""$enableval" 1>&6
a15810 13
	echo $ac_n "checking if you wish to allow "zip" and "unzip" commands from DirEd""... $ac_c" 1>&6
echo "configure:11565: checking if you wish to allow "zip" and "unzip" commands from DirEd" >&5
	
# Check whether --enable-dired-zip or --disable-dired-zip was given.
if test "${enable_dired_zip+set}" = set; then
  enableval="$enable_dired_zip"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_ZIP 1
EOF
d15812 1
a15812 6
  fi
else
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_ZIP 1
EOF
d15814 17
a15830 2
  
fi
d15832 15
a15846 1
	echo "$ac_t""$enableval" 1>&6
d15848 3
a15850 12
	echo $ac_n "checking if you wish to allow "gzip" and "gunzip" commands from DirEd""... $ac_c" 1>&6
echo "configure:11591: checking if you wish to allow "gzip" and "gunzip" commands from DirEd" >&5
	
# Check whether --enable-dired-gzip or --disable-dired-gzip was given.
if test "${enable_dired_gzip+set}" = set; then
  enableval="$enable_dired_gzip"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define OK_GZIP 1
d15852 11
d15864 4
a15867 1
  fi
d15869 2
a15870 4
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define OK_GZIP 1
EOF
d15872 5
d15878 4
a15881 1
fi
d15883 2
a15884 2
	echo "$ac_t""$enableval" 1>&6
fi
d15886 3
a15888 12
echo $ac_n "checking if you want long-directory listings""... $ac_c" 1>&6
echo "configure:11618: checking if you want long-directory listings" >&5

# Check whether --enable-long-list or --disable-long-list was given.
if test "${enable_long_list+set}" = set; then
  enableval="$enable_long_list"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    : 
  else
    cat >> confdefs.h <<\EOF
#define LONG_LIST 1
d15890 3
a15892 2

  fi
d15894 6
a15899 4
  enableval=yes 
  cat >> confdefs.h <<\EOF
#define LONG_LIST 1
EOF
a15900 1
  
d15903 5
a15907 1
echo "$ac_t""$enableval" 1>&6
d15909 3
a15911 2
echo $ac_n "checking if parent-directory references are permitted""... $ac_c" 1>&6
echo "configure:11644: checking if parent-directory references are permitted" >&5
d15913 2
a15914 7
# Check whether --enable-parent-dir-refs or --disable-parent-dir-refs was given.
if test "${enable_parent_dir_refs+set}" = set; then
  enableval="$enable_parent_dir_refs"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    cat >> confdefs.h <<\EOF
#define NO_PARENT_DIR_REFERENCE 1
d15916 1
a15916 2
 
  fi
d15918 1
a15918 1
  enableval=yes   
d15921 2
a15922 3
echo "$ac_t""$enableval" 1>&6


d15924 1
a15924 1
echo "configure:11664: checking if we can include termio.h with curses" >&5
d15929 2
a15930 2
    cf_save_CFLAGS="$CFLAGS"
    CFLAGS="$CFLAGS -DHAVE_CONFIG_H -I. -I${srcdir-.} -I${srcdir-.}/src -I${srcdir-.}/WWW/Library/Implementation"
d15933 1
a15933 1
#line 11673 "configure"
d15942 1
a15942 1
if { (eval echo configure:11682: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d15952 1
a15952 1
    CFLAGS="$cf_save_CFLAGS"
d15964 1
d15972 2
a15973 2
	${CONFIG_SHELL-/bin/sh} $srcdir/mkdirs.sh WWW/Library/Implementation
	${CONFIG_SHELL-/bin/sh} $srcdir/mkdirs.sh src/chrtrans
d16072 1
a16072 1
    echo "$CONFIG_STATUS generated by autoconf version 2.13.19990117"
d16088 1
a16088 1
	 lynx_cfg.h:config.hin" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
d16125 4
d16131 1
d16144 1
d16147 1
a16167 1
s%@@NLS_DATADIR@@%$NLS_DATADIR%g
a16168 1
s%@@INTLDIR_CPPFLAGS@@%$INTLDIR_CPPFLAGS%g
d16171 2
d16191 2
a16192 1
s%@@PROG_EXT@@%$PROG_EXT%g
d16195 2
d16199 4
d16332 1
a16332 1
  CONFIG_HEADERS="lynx_cfg.h:config.hin"
d16420 45
d16466 9
d16489 1
a16489 1
		sed	-e 's@@^.*LYMessages.c@@../LYMessages.c@@' \
@


1.5
log
@Upgrade to Lynx 2.8.2. -moj
@
text
@d5226 1
a5226 1
	LIBS="$LIBS -lcompat -ltermlib"
@


1.4
log
@support non-executable shell scripts
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.12.971230 
d53 1
d188 5
a192 4
  --disable-echo          test: display "compiling" commands (default: on)
  --enable-find-leaks     logic for testing memory leaks (default: off)
  --enable-debug          logic for traces/debugging (default: off)
  --enable-warnings       GCC compiler warnings (default: off)
d194 10
a203 1
  --disable-full-paths    control whether full utility pathnames are used (default: on)
d206 12
d219 10
a228 4
  --enable-8bit-toupper   use experimental 8-bit case-conversion (default: off)
  --enable-color-style    use optional/experimental color style (default: off)
  --enable-default-colors enable use of default-colors (ncurses/slang) (default: off)
  --disable-extended-dtd  disable extended HTML DTD logic (default: on)
d231 4
a234 5
  --enable-externs        use external commands (default: off)
  --enable-font-switch    use Linux setfont for character-translation (default: off)
  --enable-internal-links  handle following links to same doc differently (default: off)
  --enable-nsl-fork       fork NSL requests, allowing them to be aborted (default: off)
  --enable-underlines     underline links rather than using boldface (default: off)
d236 4
d241 2
a242 5
  --disable-dired          enable optional directory-editor, DirEd (default: on)
  --disable-dired-archive  disable dearchiving commands (default: on)
  --disable-dired-override disable private keymaps (default: on)
  --disable-dired-permit  disable chmod/attrib commands (default: on)
  --disable-dired-xpermit disable chmod/attrib commands (default: on)
d245 8
a252 5
  --disable-dired-tar     disable "tar" command (default: on)
  --disable-dired-uudecode disable "uudecode" command (default: on)
  --disable-dired-zip     disable "zip", "unzip"  commands (default: on)
  --disable-dired-gzip    disable "gzip", "gunzip" commands (default: on)
  --disable-long-list     disable long "ls -l" directory listings (default: on)
d254 1
a254 1
                          disable "Up-to" links in directory listings (default: on)
d405 1
a405 1
    echo "configure generated by autoconf version 2.12.971230"
d575 1
a575 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d578 2
a594 1

d615 2
d618 1
a618 1
if sh $ac_config_sub sun4 >/dev/null 2>&1; then :
d623 1
a623 1
echo "configure:589: checking host system type" >&5
d630 1
a630 1
    if host_alias=`sh $ac_config_guess`; then :
d637 1
a637 1
host=`sh $ac_config_sub $host_alias`
d643 30
d678 1
a678 1
echo "configure:614: checking for $ac_word" >&5
d685 3
a687 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d708 1
a708 1
echo "configure:643: checking for $ac_word" >&5
d715 1
a715 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d717 2
a718 1
  for ac_dir in $PATH; do
d753 34
d791 1
a791 1
echo "configure:691: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d797 1
a797 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d800 3
a802 2
cat > conftest.$ac_ext <<EOF
#line 701 "configure"
d804 1
d807 1
a807 1
if { (eval echo configure:705: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d821 6
d833 1
a833 1
echo "configure:725: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d838 1
a838 1
echo "configure:730: checking whether we are using GNU C" >&5
d847 1
a847 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:739: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d858 9
a866 5
  ac_test_CFLAGS="${CFLAGS+set}"
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:754: checking whether ${CC-cc} accepts -g" >&5
d881 4
a884 3
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS="$ac_save_CFLAGS"
  elif test $ac_cv_prog_cc_g = yes; then
d887 4
d892 2
a894 3
else
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
d898 1
a898 1
echo "configure:782: checking how to run the C preprocessor" >&5
d913 1
a913 1
#line 797 "configure"
d919 2
a920 2
{ (eval echo configure:803: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d930 18
a947 1
#line 814 "configure"
d953 2
a954 2
{ (eval echo configure:820: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d967 2
d980 1
a980 1
echo "configure:845: checking for $ac_word" >&5
d987 3
a989 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1008 1
a1008 1
echo "configure:872: checking whether ${MAKE-make} sets \${MAKE}" >&5
a1033 52

echo $ac_n "checking for style of include in makefiles""... $ac_c" 1>&6
echo "configure:900: checking for style of include in makefiles" >&5

make_include_left=""
make_include_right=""
make_include_quote="unknown"

cf_inc=head$$
cf_dir=subd$$
echo 'RESULT=OK' >$cf_inc
mkdir $cf_dir

for cf_include in "include" ".include" "!include"
do
	for cf_quote in '' '"'
	do
		cat >$cf_dir/makefile <<CF_EOF
SHELL=/bin/sh
${cf_include} ${cf_quote}../$cf_inc${cf_quote}
all :
	@@echo 'cf_make_include=\$(RESULT)'
CF_EOF
	cf_make_include=""
	eval `cd $cf_dir && ${MAKE-make} 2>&5 | grep cf_make_include=OK`
	if test -n "$cf_make_include"; then
		make_include_left="$cf_include"
		make_include_quote="$cf_quote"
		break
	else
		echo Tried 1>&5
		cat $cf_dir/makefile 1>&5
	fi
	done
	test -n "$cf_make_include" && break
done

rm -rf $cf_inc $cf_dir

if test -z "$make_include_left" ; then
	{ echo "configure: error: Your $ac_make program does not support includes" 1>&2; exit 1; }
fi
if test ".$make_include_quote" != .unknown ; then
	make_include_left="$make_include_left $make_include_quote"
	make_include_right="$make_include_quote"
fi

echo "$ac_t""${make_include_left}file${make_include_right}" 1>&6




d1041 1
d1046 1
a1046 1
echo "configure:961: checking for a BSD compatible install" >&5
d1051 1
a1051 1
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS="${IFS}:"
d1058 3
a1060 1
      for ac_prog in ginstall installbsd scoinst install; do
a1064 1
	    # OSF/1 installbsd also uses dspmsg, but is usable.
d1094 2
d1103 1
a1103 1
echo "configure:1015: checking for $ac_word" >&5
d1110 3
a1112 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1133 46
d1184 1
a1184 1
echo "configure:1049: checking if you want to see long compiling messages" >&5
d1223 8
d1232 1
a1232 1
echo "configure:1089: checking if you want to check memory-leaks" >&5
d1256 1
a1256 1
echo "configure:1113: checking if you want to enable debug-code" >&5
d1287 2
a1288 1
	ultrix*|osf*) #(vi
d1292 1
a1292 1
			CFLAGS=`echo ${CFLAGS} | sed -e 's/-g //' -e 's/-g$//'`
d1297 22
d1324 1
a1324 1
echo "configure:1158: checking if you want to turn on gcc warnings" >&5
d1364 1
a1364 1
echo "configure:1198: checking for gcc __attribute__ directives" >&5
d1366 1
a1366 1
#line 1200 "configure"
d1404 1
a1404 1
		if { (eval echo configure:1238: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1421 2
a1422 2
#line 1255 "configure"
int main(int argc, char *argv[]) { return argv[argc-1] == 0; }
d1425 1
a1425 1
echo "configure:1259: checking for gcc warning options" >&5
d1443 1
a1443 1
		if { (eval echo configure:1277: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1460 27
a1486 2
echo $ac_n "checking if you want full utility pathnames""... $ac_c" 1>&6
echo "configure:1295: checking if you want full utility pathnames" >&5
d1488 10
a1497 9
# Check whether --enable-full-paths or --disable-full-paths was given.
if test "${enable_full_paths+set}" = set; then
  enableval="$enable_full_paths"
  test "$enableval" != no && enableval=yes
  if test "$enableval" != "yes" ; then
    with_full_paths=no 
  else
    with_full_paths=yes
  fi
d1499 2
a1500 3
  enableval=yes 
  with_full_paths=yes
  
d1502 1
d1504 1
a1504 1
echo "$ac_t""$with_full_paths" 1>&6
d1506 10
a1515 5

echo $ac_n "checking for system mailer""... $ac_c" 1>&6
echo "configure:1316: checking for system mailer" >&5
if eval "test \"`echo '$''{'cf_cv_SYSTEM_MAIL'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d1517 2
a1518 13
  
	cf_cv_SYSTEM_MAIL=unknown
	for cv_path in /usr/mmdf/bin/submit \
	/usr/sbin/sendmail \
	/usr/lib/sendmail  \
	
	do
		if test -f $cv_path ; then
			cf_cv_SYSTEM_MAIL=$cv_path
			break
		fi
	done
	
d1520 1
d1522 1
a1522 4
echo "$ac_t""$cf_cv_SYSTEM_MAIL" 1>&6
cat >> confdefs.h <<EOF
#define SYSTEM_MAIL "$cf_cv_SYSTEM_MAIL"
EOF
d1524 15
d1540 2017
a3556 5

echo $ac_n "checking system mail flags""... $ac_c" 1>&6
echo "configure:1343: checking system mail flags" >&5
if eval "test \"`echo '$''{'cf_cv_system_mail_flags'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
d3562 1
a3562 1
        	;; 
d3582 1
a3582 1
echo "configure:1371: checking for $ac_word" >&5
d3590 3
d3594 3
a3596 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d3617 1
a3617 1
echo "configure:1402: checking for chmod" >&5
d3619 1
a3620 1

d3623 9
a3631 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d3659 1
a3659 1
echo "configure:1436: checking for $ac_word" >&5
d3667 3
d3671 3
a3673 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d3694 1
a3694 1
echo "configure:1467: checking for compress" >&5
d3696 1
a3697 1

d3700 9
a3708 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d3736 1
a3736 1
echo "configure:1501: checking for $ac_word" >&5
d3744 3
d3748 3
a3750 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d3771 1
a3771 1
echo "configure:1532: checking for cp" >&5
d3773 1
a3774 1

d3777 9
a3785 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d3813 1
a3813 1
echo "configure:1566: checking for $ac_word" >&5
d3821 3
d3825 3
a3827 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d3848 1
a3848 1
echo "configure:1597: checking for gzip" >&5
d3850 1
a3851 1

d3854 9
a3862 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d3890 1
a3890 1
echo "configure:1631: checking for $ac_word" >&5
d3898 3
d3902 3
a3904 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d3925 1
a3925 1
echo "configure:1662: checking for mkdir" >&5
d3927 1
a3928 1

d3931 9
a3939 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d3967 1
a3967 1
echo "configure:1696: checking for $ac_word" >&5
d3975 3
d3979 3
a3981 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4002 1
a4002 1
echo "configure:1727: checking for mv" >&5
d4004 1
a4005 1

d4008 9
a4016 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4044 1
a4044 1
echo "configure:1761: checking for $ac_word" >&5
d4052 3
d4056 3
a4058 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4079 1
a4079 1
echo "configure:1792: checking for rm" >&5
d4081 1
a4082 1

d4085 9
a4093 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4121 1
a4121 1
echo "configure:1826: checking for $ac_word" >&5
d4129 3
d4133 3
a4135 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4156 1
a4156 1
echo "configure:1857: checking for tar" >&5
d4158 1
a4159 1

d4162 9
a4170 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4198 1
a4198 1
echo "configure:1891: checking for $ac_word" >&5
d4206 3
d4210 3
a4212 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4233 1
a4233 1
echo "configure:1922: checking for touch" >&5
d4235 1
a4236 1

d4239 9
a4247 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4275 1
a4275 1
echo "configure:1956: checking for $ac_word" >&5
d4283 3
d4287 3
a4289 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4310 1
a4310 1
echo "configure:1987: checking for gunzip" >&5
d4312 1
a4313 1

d4316 9
a4324 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4352 1
a4352 1
echo "configure:2021: checking for $ac_word" >&5
d4360 3
d4364 3
a4366 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4387 1
a4387 1
echo "configure:2052: checking for unzip" >&5
d4389 1
a4390 1

d4393 9
a4401 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4424 77
d4506 1
a4506 1
echo "configure:2086: checking for $ac_word" >&5
d4514 3
d4518 3
a4520 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4541 1
a4541 1
echo "configure:2117: checking for uudecode" >&5
d4543 1
a4544 1

d4547 9
a4555 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4583 1
a4583 1
echo "configure:2151: checking for $ac_word" >&5
d4591 3
d4595 3
a4597 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4618 1
a4618 1
echo "configure:2182: checking for zcat" >&5
d4620 1
a4621 1

d4624 9
a4632 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4660 1
a4660 1
echo "configure:2216: checking for $ac_word" >&5
d4668 3
d4672 3
a4674 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d4695 1
a4695 1
echo "configure:2247: checking for zip" >&5
d4697 1
a4698 1

d4701 9
a4709 1
IFS="${IFS= 	}"; cf_save_ifs="$IFS"; IFS="${IFS}:"
d4732 231
d4987 1
a4987 1
echo "configure:2300: checking for ${CC-cc} option to accept ANSI C" >&5
d5001 7
a5007 1
for cf_arg in "-DCC_HAS_PROTOS" "" -qlanglvl=ansi -std1 "-Aa -D_HPUX_SOURCE" -Xc
d5011 1
a5011 1
#line 2318 "configure"
d5015 1
a5015 1
#if !defined(__STDC__) || __STDC__ != 1
d5027 1
a5027 1
if { (eval echo configure:2334: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d5055 1
a5055 1
echo "configure:2362: checking for working const" >&5
d5060 1
a5060 1
#line 2367 "configure"
d5109 1
a5109 1
if { (eval echo configure:2416: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d5131 1
d5134 1
a5134 1
	CFLAGS="$CFLAGS -DAIX4 -D_BSD=44" 
d5141 1
a5141 1
	CFLAGS="$CFLAGS -D_BUILTINS -W0,-opt,4"
d5144 1
a5144 1
	CFLAGS="$CFLAGS -DBSDI" 
d5151 1
a5151 1
echo "configure:2457: checking for strcmp in -lc_s" >&5
d5159 1
a5159 1
#line 2465 "configure"
d5170 1
a5170 1
if { (eval echo configure:2476: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5202 1
a5202 1
	CFLAGS="$CFLAGS -DDGUX" 
d5205 2
a5206 1
	CFLAGS="$CFLAGS -DSNAKE" 
d5217 1
a5217 1
	#removed: CFLAGS="$CFLAGS -cckr" 
d5220 1
a5220 1
	CFLAGS="$CFLAGS -DLINUX" 
d5234 5
d5241 1
a5241 1
	test -z "$GCC" && CFLAGS="$CFLAGS -O -Olimit 4000"
d5245 1
a5245 1
	test $ac_cv_prog_gcc != yes && CC="cc -belf"
d5260 1
a5260 1
echo "configure:2560: checking for $ac_word" >&5
d5267 3
a5269 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d5305 1
a5305 1
echo "configure:2604: checking for $ac_hdr" >&5
d5310 1
a5310 1
#line 2609 "configure"
d5315 2
a5316 2
{ (eval echo configure:2614: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d5353 2
a5354 2
	test -z "$GCC" && CFLAGS="$CFLAGS -O -Olimit 600 -G 7"
	CFLAGS="$CFLAGS -DULTRIX" 
d5359 1
a5359 1
echo "configure:2658: checking for $ac_hdr" >&5
d5364 1
a5364 1
#line 2663 "configure"
d5369 2
a5370 2
{ (eval echo configure:2668: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d5389 5
a5393 1
 cf_cv_ncurses_header=cursesX.h
d5403 248
d5652 1
d5654 2
d5658 1
a5658 1
echo "configure:2702: checking for network libraries" >&5
d5669 1
a5669 1
echo "configure:2713: checking for $ac_func" >&5
d5674 1
a5674 1
#line 2718 "configure"
d5697 1
a5697 1
if { (eval echo configure:2741: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5720 1
a5720 1
echo "configure:2764: checking for gethostname in -lnsl" >&5
d5728 1
a5728 1
#line 2772 "configure"
d5739 1
a5739 1
if { (eval echo configure:2783: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5772 1
a5772 1
echo "configure:2816: checking for gethostname in -lsocket" >&5
d5780 1
a5780 1
#line 2824 "configure"
d5791 1
a5791 1
if { (eval echo configure:2835: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5835 1
a5835 1
echo "configure:2879: checking for -linet" >&5
d5842 1
a5842 1
#line 2886 "configure"
d5849 1
a5849 1
if { (eval echo configure:2893: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5872 1
a5872 1
echo "configure:2916: checking for $ac_func" >&5
d5877 1
a5877 1
#line 2921 "configure"
d5900 1
a5900 1
if { (eval echo configure:2944: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5923 1
a5923 1
echo "configure:2967: checking for socket in -lsocket" >&5
d5931 1
a5931 1
#line 2975 "configure"
d5942 1
a5942 1
if { (eval echo configure:2986: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d5975 1
a5975 1
echo "configure:3019: checking for socket in -lbsd" >&5
d5983 1
a5983 1
#line 3027 "configure"
d5994 1
a5994 1
if { (eval echo configure:3038: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6039 1
a6039 1
echo "configure:3083: checking for $ac_func" >&5
d6044 1
a6044 1
#line 3088 "configure"
d6067 1
a6067 1
if { (eval echo configure:3111: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6090 1
a6090 1
echo "configure:3134: checking for gethostbyname in -lnsl" >&5
d6098 1
a6098 1
#line 3142 "configure"
d6109 1
a6109 1
if { (eval echo configure:3153: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6150 1
a6150 1
echo "configure:3194: checking for $ac_func" >&5
d6155 1
a6155 1
#line 3199 "configure"
d6178 1
a6178 1
if { (eval echo configure:3222: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6201 1
a6201 1
echo "configure:3245: checking for strcasecmp in -lresolv" >&5
d6209 1
a6209 1
#line 3253 "configure"
d6214 102
a6315 2
char strcasecmp();

d6317 1
a6317 1
strcasecmp()
d6320 1
a6320 1
if { (eval echo configure:3264: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6322 1
a6322 1
  eval "ac_cv_lib_$ac_lib_var=yes"
d6327 1
a6327 1
  eval "ac_cv_lib_$ac_lib_var=no"
d6330 1
a6330 1
LIBS="$ac_save_LIBS"
d6332 7
a6338 3
fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
d6340 15
a6354 5
	
cf_tr_func=`echo strcasecmp | tr 'a-z' 'A-Z'`

	cat >> confdefs.h <<EOF
#define HAVE_$cf_tr_func 1
d6356 3
a6358 3

	ac_cv_func_strcasecmp=yes
	cf_cv_netlibs="-lresolv $cf_cv_netlibs"
d6360 9
a6368 4
  echo "$ac_t""no" 1>&6

	ac_cv_func_strcasecmp=unknown
	unset ac_cv_func_strcasecmp 2>/dev/null
d6372 7
a6378 5

fi
done


a6380 3
LIBS="$LIBS $cf_cv_netlibs"
test $cf_test_netlibs = no && echo "$cf_cv_netlibs" >&6

d6383 1
a6383 1
echo "configure:3309: checking for screen type" >&5
d6418 1
a6418 1
echo "configure:3344: checking for initscr" >&5
d6423 1
a6423 1
#line 3349 "configure"
d6446 1
a6446 1
if { (eval echo configure:3372: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6467 1
a6467 1
echo "configure:3393: checking for tgoto in -lmytinfo" >&5
d6475 1
a6475 1
#line 3401 "configure"
d6486 1
a6486 1
if { (eval echo configure:3412: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6509 1
a6509 1
echo "configure:3435: checking for initscr in -lcur_colr" >&5
d6517 1
a6517 1
#line 3443 "configure"
d6528 1
a6528 1
if { (eval echo configure:3454: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6552 1
a6552 1
echo "configure:3478: checking for initscr in -lHcurses" >&5
d6560 1
a6560 1
#line 3486 "configure"
d6571 1
a6571 1
if { (eval echo configure:3497: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6599 3
d6620 1
a6620 1
echo "configure:3543: checking for tgoto" >&5
d6625 1
a6625 1
#line 3548 "configure"
d6648 1
a6648 1
if { (eval echo configure:3571: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6669 1
a6669 1
echo "configure:3592: checking for tgoto in -l$cf_term_lib" >&5
d6677 1
a6677 1
#line 3600 "configure"
d6688 1
a6688 1
if { (eval echo configure:3611: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6715 1
a6715 1
	for cf_curs_lib in curses ncurses xcurses cursesX jcurses unknown
d6718 1
a6718 1
echo "configure:3641: checking for initscr in -l$cf_curs_lib" >&5
d6726 1
a6726 1
#line 3649 "configure"
d6737 1
a6737 1
if { (eval echo configure:3660: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6763 1
a6763 1
echo "configure:3686: checking if we can link with $cf_curs_lib library" >&5
d6765 1
a6765 1
#line 3688 "configure"
d6772 1
a6772 1
if { (eval echo configure:3695: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6786 1
a6786 1
echo "configure:3709: checking if we need both $cf_curs_lib and $cf_term_lib libraries" >&5
d6788 1
a6788 1
#line 3711 "configure"
d6795 1
a6795 1
if { (eval echo configure:3718: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6805 1
a6805 1
#line 3728 "configure"
d6812 1
a6812 1
if { (eval echo configure:3735: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d6834 1
a6834 1
echo "configure:3757: checking for curses performance tradeoff" >&5
d6841 1
a6841 1
#line 3764 "configure"
d6844 1
a6844 1
#include <$cf_cv_ncurses_header>
d6855 1
a6855 1
if { (eval echo configure:3778: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d6859 1
a6859 1
#line 3782 "configure"
d6863 1
a6863 1
#include <$cf_cv_ncurses_header>
d6874 1
a6874 1
if { (eval echo configure:3797: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d6899 1
a6899 1
echo "configure:3822: checking for ncurses header file" >&5
d6905 1
a6905 1
#line 3828 "configure"
d6922 1
a6922 1
if { (eval echo configure:3845: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d7008 1
a7008 1
echo "configure:3931: checking for ncurses version" >&5
d7033 1
a7033 1
	{ (eval echo configure:3956: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d7042 1
a7042 1
#line 3965 "configure"
d7065 1
a7065 1
if { (eval echo configure:3988: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
d7090 1
a7090 1
echo "configure:4013: checking for Gpm_Open in -lgpm" >&5
d7098 1
a7098 1
#line 4021 "configure"
d7109 1
a7109 1
if { (eval echo configure:4032: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7125 1
a7125 1
echo "configure:4048: checking for initscr in -lgpm" >&5
d7133 1
a7133 1
#line 4056 "configure"
d7144 1
a7144 1
if { (eval echo configure:4067: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7175 1
a7175 1
echo "configure:4098: checking for tgoto in -lmytinfo" >&5
d7183 1
a7183 1
#line 4106 "configure"
d7194 1
a7194 1
if { (eval echo configure:4117: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7222 1
a7222 1
echo "configure:4145: checking for initscr" >&5
d7227 1
a7227 1
#line 4150 "configure"
d7250 1
a7250 1
if { (eval echo configure:4173: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7270 1
a7270 1
echo "configure:4193: checking for initscr in -lncurses" >&5
d7273 1
a7273 1
#line 4196 "configure"
d7280 1
a7280 1
if { (eval echo configure:4203: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7307 1
a7307 1
echo "configure:4230: checking for -lncurses in $cf_libdir" >&5
d7310 1
a7310 1
#line 4233 "configure"
d7317 1
a7317 1
if { (eval echo configure:4240: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7342 1
a7342 1
	ncurses="$ncurses /lib"
d7349 1
a7349 1
echo "configure:4272: checking if we can link ncurses without $cf_ncurses_LIBS" >&5
d7358 1
a7358 1
#line 4281 "configure"
d7365 1
a7365 1
if { (eval echo configure:4288: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7382 1
a7382 1
echo "configure:4305: checking for slang header file" >&5
d7388 1
a7388 1
#line 4311 "configure"
d7395 1
a7395 1
if { (eval echo configure:4318: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d7423 1
a7423 1
				cf_cv_slang_header=$cf_incdir/$cf_header 
d7471 1
a7471 1
if eval "test \"`echo '$''{'cf_cv_lib_termcap'+set}'`\" = set"; then
d7475 38
a7512 1
cf_cv_lib_termcap=none
d7514 1
a7514 1
if test "$termlib" = none; then
d7516 1
a7516 1
echo "configure:4402: checking for tigetstr in -ltermlib" >&5
d7524 1
a7524 1
#line 4410 "configure"
d7535 1
a7535 1
if { (eval echo configure:4421: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7550 1
a7550 1
  LIBS="$LIBS -ltermlib" cf_cv_lib_termcap=terminfo
d7556 1
a7556 1
if test "$cf_cv_lib_termcap" = none; then
d7558 1
a7558 1
echo "configure:4444: checking for tgoto in -ltermlib" >&5
d7566 1
a7566 1
#line 4452 "configure"
d7577 1
a7577 1
if { (eval echo configure:4463: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7592 1
a7592 1
  LIBS="$LIBS -ltermlib" cf_cv_lib_termcap=termcap
d7598 1
a7598 1
if test "$cf_cv_lib_termcap" = none; then
d7601 1
a7601 1
echo "configure:4487: checking for initscr in -lcurses" >&5
d7609 1
a7609 1
#line 4495 "configure"
d7620 1
a7620 1
if { (eval echo configure:4506: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7635 1
a7635 1
  LIBS="$LIBS -lcurses" cf_cv_lib_termcap=termcap
d7641 1
a7641 1
echo "configure:4527: checking for tgoto in -ltermcap" >&5
d7649 1
a7649 1
#line 4535 "configure"
d7660 1
a7660 1
if { (eval echo configure:4546: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7675 1
a7675 1
  LIBS="$LIBS -ltermcap" cf_cv_lib_termcap=termcap
d7681 1
a7681 1
if test "$cf_cv_lib_termcap" = none; then
d7683 1
a7683 1
echo "configure:4569: checking for tgoto in -ltermcap" >&5
d7691 1
a7691 1
#line 4577 "configure"
d7702 1
a7702 1
if { (eval echo configure:4588: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7717 1
a7717 1
  LIBS="$LIBS -ltermcap" cf_cv_lib_termcap=termcap
d7723 1
a7723 1
if test "$cf_cv_lib_termcap" = none; then
d7725 1
a7725 1
echo "configure:4611: checking for tgoto in -lncurses" >&5
d7733 1
a7733 1
#line 4619 "configure"
d7744 1
a7744 1
if { (eval echo configure:4630: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7759 1
a7759 1
  LIBS="$LIBS -lncurses" cf_cv_lib_termcap=ncurses
d7767 4
a7771 2
if test "$cf_cv_lib_termcap" = none; then
	{ echo "configure: error: Can't find -ltermlib, -lcurses, or -ltermcap" 1>&2; exit 1; }
d7776 1
a7776 1
echo "configure:4660: checking for acos" >&5
d7781 1
a7781 1
#line 4665 "configure"
d7804 1
a7804 1
if { (eval echo configure:4688: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7823 1
a7823 1
echo "configure:4707: checking for acos in -lm" >&5
d7831 1
a7831 1
#line 4715 "configure"
d7842 1
a7842 1
if { (eval echo configure:4726: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7882 1
a7882 1
echo "configure:4766: checking for SLtt_get_screen_size" >&5
d7887 1
a7887 1
#line 4771 "configure"
d7910 1
a7910 1
if { (eval echo configure:4794: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7930 1
a7930 1
echo "configure:4814: checking for SLtt_get_screen_size in -lslang" >&5
d7933 1
a7933 1
#line 4817 "configure"
d7940 1
a7940 1
if { (eval echo configure:4824: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d7967 1
a7967 1
echo "configure:4851: checking for -lslang in $cf_libdir" >&5
d7970 1
a7970 1
#line 4854 "configure"
d7977 1
a7977 1
if { (eval echo configure:4861: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d8002 1
a8002 1
	slang="$slang /lib"
d8008 1
a8008 1
echo "configure:4892: checking if we can link slang without termcap" >&5
d8016 1
a8016 1
#line 4900 "configure"
d8023 1
a8023 1
if { (eval echo configure:4907: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d8043 1
a8043 1
echo "configure:4927: checking for location of config-file" >&5
d8053 1
a8053 1
echo "configure:4937: checking for ANSI C header files" >&5
d8058 1
a8058 1
#line 4942 "configure"
d8066 2
a8067 2
{ (eval echo configure:4950: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d8083 1
a8083 1
#line 4967 "configure"
d8101 1
a8101 1
#line 4985 "configure"
d8122 1
a8122 1
#line 5006 "configure"
d8133 1
a8133 1
if { (eval echo configure:5017: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
d8157 1
a8157 1
echo "configure:5041: checking whether time.h and sys/time.h may both be included" >&5
d8162 1
a8162 1
#line 5046 "configure"
d8171 1
a8171 1
if { (eval echo configure:5055: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d8196 1
a8196 1
echo "configure:5080: checking for $ac_hdr that defines DIR" >&5
d8201 1
a8201 1
#line 5085 "configure"
d8209 1
a8209 1
if { (eval echo configure:5093: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d8234 1
a8234 1
echo "configure:5118: checking for opendir in -ldir" >&5
d8242 1
a8242 1
#line 5126 "configure"
d8253 1
a8253 1
if { (eval echo configure:5137: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d8275 1
a8275 1
echo "configure:5159: checking for opendir in -lx" >&5
d8283 1
a8283 1
#line 5167 "configure"
d8294 1
a8294 1
if { (eval echo configure:5178: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d8333 1
a8333 1
echo "configure:5217: checking for $ac_hdr" >&5
d8338 1
a8338 1
#line 5222 "configure"
d8343 2
a8344 2
{ (eval echo configure:5227: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d8371 1
a8371 1
echo "configure:5255: checking termio.h and termios.h" >&5
d8377 1
a8377 1
#line 5261 "configure"
d8390 1
a8390 1
if { (eval echo configure:5274: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d8413 1
a8413 1
echo "configure:5297: checking for $ac_hdr" >&5
d8418 1
a8418 1
#line 5302 "configure"
d8423 2
a8424 2
{ (eval echo configure:5307: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d8460 1
a8460 1
echo "configure:5344: checking for $ac_hdr" >&5
d8465 1
a8465 1
#line 5349 "configure"
d8470 2
a8471 2
{ (eval echo configure:5354: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d8500 1
a8500 1
echo "configure:5384: checking for $ac_hdr" >&5
d8505 1
a8505 1
#line 5389 "configure"
d8510 2
a8511 2
{ (eval echo configure:5394: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d8551 1
a8551 1
echo "configure:5435: checking for union wait" >&5
d8557 1
a8557 1
#line 5441 "configure"
d8568 1
a8568 1
if { (eval echo configure:5452: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d8579 1
a8579 1
#line 5463 "configure"
d8594 1
a8594 1
if { (eval echo configure:5478: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d8617 236
a8852 11

if test $cf_cv_type_unionwait = yes; then

	echo $ac_n "checking if union wait can be used as wait-arg""... $ac_c" 1>&6
echo "configure:5505: checking if union wait can be used as wait-arg" >&5
	if eval "test \"`echo '$''{'cf_cv_arg_union_wait'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
		cat > conftest.$ac_ext <<EOF
#line 5511 "configure"
d8854 1
a8854 4
$cf_wait_headers
int main() {
union wait x; wait(&x)
; return 0; }
d8856 2
a8857 1
if { (eval echo configure:5518: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d8859 1
a8859 1
  cf_cv_arg_union_wait=yes
a8860 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d8862 1
a8862 1
  cf_cv_arg_union_wait=no
d8865 2
a8866 1
		
d8869 3
a8871 3
	echo "$ac_t""$cf_cv_arg_union_wait" 1>&6
	test $cf_cv_arg_union_wait = yes && cat >> confdefs.h <<\EOF
#define WAIT_USES_UNION 1
d8875 3
a8877 3
	echo $ac_n "checking if union wait can be used as waitpid-arg""... $ac_c" 1>&6
echo "configure:5538: checking if union wait can be used as waitpid-arg" >&5
	if eval "test \"`echo '$''{'cf_cv_arg_union_waitpid'+set}'`\" = set"; then
d8880 2
a8881 3
  
		cat > conftest.$ac_ext <<EOF
#line 5544 "configure"
d8883 5
a8887 4
$cf_wait_headers
int main() {
union wait x; waitpid(0, &x, 0)
; return 0; }
d8889 2
a8890 1
if { (eval echo configure:5551: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d8892 1
a8892 1
  cf_cv_arg_union_waitpid=yes
a8893 2
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
d8895 1
a8895 1
  cf_cv_arg_union_waitpid=no
d8898 1
a8898 1
		
d8900 4
a8903 4

	echo "$ac_t""$cf_cv_arg_union_waitpid" 1>&6
	test $cf_cv_arg_union_waitpid = yes && cat >> confdefs.h <<\EOF
#define WAITPID_USES_UNION 1
a8905 1

d8908 3
a8910 3
echo $ac_n "checking for mode_t""... $ac_c" 1>&6
echo "configure:5573: checking for mode_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_mode_t'+set}'`\" = set"; then
d8914 1
a8914 1
#line 5578 "configure"
a8916 4
#if STDC_HEADERS
#include <stdlib.h>
#include <stddef.h>
#endif
d8919 1
a8919 1
  egrep "mode_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
d8921 1
a8921 1
  ac_cv_type_mode_t=yes
d8924 1
a8924 1
  ac_cv_type_mode_t=no
d8929 7
a8935 2
echo "$ac_t""$ac_cv_type_mode_t" 1>&6
if test $ac_cv_type_mode_t = no; then
d8937 1
a8937 1
#define mode_t int
d8942 3
a8944 5


echo $ac_n "checking for pid_t""... $ac_c" 1>&6
echo "configure:5608: checking for pid_t" >&5
if eval "test \"`echo '$''{'ac_cv_type_pid_t'+set}'`\" = set"; then
d8948 1
a8948 1
#line 5613 "configure"
d8957 1
a8957 1
  egrep "pid_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
d8959 1
a8959 1
  ac_cv_type_pid_t=yes
d8962 1
a8962 1
  ac_cv_type_pid_t=no
d8967 2
a8968 2
echo "$ac_t""$ac_cv_type_pid_t" 1>&6
if test $ac_cv_type_pid_t = no; then
d8970 1
a8970 1
#define pid_t int
d8975 2
d8979 1
a8979 1
echo "configure:5642: checking for vfork.h" >&5
d8984 1
a8984 1
#line 5647 "configure"
d8989 2
a8990 2
{ (eval echo configure:5652: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d9014 1
a9014 1
echo "configure:5677: checking for working vfork" >&5
d9020 1
a9020 1
echo "configure:5683: checking for vfork" >&5
d9025 1
a9025 1
#line 5688 "configure"
d9048 1
a9048 1
if { (eval echo configure:5711: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9067 1
d9070 1
a9070 1
#line 5732 "configure"
d9165 1
a9165 1
if { (eval echo configure:5827: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
d9189 1
a9189 1
echo "configure:5851: checking if we should use fcntl or ioctl" >&5
d9195 1
a9195 1
#line 5857 "configure"
d9207 1
a9207 1
if { (eval echo configure:5869: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9216 1
a9216 1
#line 5878 "configure"
d9233 1
a9233 1
if { (eval echo configure:5895: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9256 1
a9256 1
echo "configure:5918: checking for broken/missing definition of remove" >&5
d9262 1
a9262 1
#line 5924 "configure"
d9269 1
a9269 1
if { (eval echo configure:5931: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9277 1
a9277 1
#line 5939 "configure"
d9285 1
a9285 1
if { (eval echo configure:5947: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9309 1
a9309 1
echo "configure:5971: checking for lstat" >&5
d9315 1
a9315 1
#line 5977 "configure"
d9324 1
a9324 1
if { (eval echo configure:5986: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9349 2
d9354 1
d9359 1
a9359 1
echo "configure:6018: checking for $ac_func" >&5
d9364 1
a9364 1
#line 6023 "configure"
d9387 1
a9387 1
if { (eval echo configure:6046: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9417 1
a9417 1
echo "configure:6076: checking for $ac_func" >&5
d9422 1
a9422 1
#line 6081 "configure"
d9445 1
a9445 1
if { (eval echo configure:6104: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9466 1
a9466 1
LIBOBJS="$LIBOBJS ${ac_func}.o"
d9476 1
a9476 1
echo "configure:6135: checking for $ac_func declaration" >&5
d9481 1
a9481 1
#line 6140 "configure"
d9490 1
a9490 1
if { (eval echo configure:6149: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9494 1
a9494 1
#line 6153 "configure"
d9503 1
a9503 1
if { (eval echo configure:6162: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9545 1
a9545 1
echo "configure:6204: checking for $ac_func declaration" >&5
d9550 1
a9550 1
#line 6209 "configure"
d9561 1
a9561 1
if { (eval echo configure:6220: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9565 1
a9565 1
#line 6224 "configure"
d9576 1
a9576 1
if { (eval echo configure:6235: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9618 1
a9618 1
echo "configure:6277: checking if TRUE/FALSE are defined" >&5
d9624 1
a9624 1
#line 6283 "configure"
d9627 1
a9627 1
#include <$cf_cv_ncurses_header>
d9633 1
a9633 1
if { (eval echo configure:6292: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9659 2
a9660 2
echo $ac_n "checking declaration of errno""... $ac_c" 1>&6
echo "configure:6319: checking declaration of errno" >&5
d9666 1
a9666 1
#line 6325 "configure"
d9679 1
a9679 1
if { (eval echo configure:6338: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9689 1
d9692 1
d9696 1
a9696 6
# It's possible (for near-UNIX clones) that the data doesn't exist
if eval "test \"`echo '$''{'cf_cv_have_errno'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
if test $cf_result = no ; then
d9705 12
a9716 4
    echo $ac_n "checking existence of errno""... $ac_c" 1>&6
echo "configure:6368: checking existence of errno" >&5
        cat > conftest.$ac_ext <<EOF
#line 6370 "configure"
d9720 1
a9720 1
extern long errno;
d9726 1
a9726 1
if { (eval echo configure:6380: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
a9735 4
        eval 'cf_result=$cf_cv_have_'errno
        echo "$ac_t""$cf_result" 1>&6
else
    eval 'cf_cv_have_'errno'=yes'
a9737 1
fi
d9739 2
a9740 1
eval 'cf_result=HAVE_'errno
d9742 3
d9747 1
a9747 1
eval 'test $cf_cv_have_'errno' = yes && cat >> confdefs.h <<EOF
d9750 4
a9753 1
'
d9758 1
a9758 1
echo "configure:6410: checking for setlocale()" >&5
d9764 1
a9764 1
#line 6416 "configure"
d9771 1
a9771 1
if { (eval echo configure:6423: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d9792 1
a9792 1
echo "configure:6444: checking if NGROUPS is defined" >&5
d9798 1
a9798 1
#line 6450 "configure"
d9812 1
a9812 1
if { (eval echo configure:6464: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9820 1
a9820 1
#line 6472 "configure"
d9834 1
a9834 1
if { (eval echo configure:6486: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9867 2
a9868 2
echo $ac_n "checking declaration of $cf_name""... $ac_c" 1>&6
echo "configure:6520: checking declaration of $cf_name" >&5
d9874 1
a9874 1
#line 6526 "configure"
d9887 1
a9887 1
if { (eval echo configure:6539: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9897 1
d9900 1
d9904 1
a9904 6
# It's possible (for near-UNIX clones) that the data doesn't exist
if eval "test \"`echo '$''{'cf_cv_have_$cf_name'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  
if test $cf_result = no ; then
d9913 12
a9924 4
    echo $ac_n "checking existence of $cf_name""... $ac_c" 1>&6
echo "configure:6569: checking existence of $cf_name" >&5
        cat > conftest.$ac_ext <<EOF
#line 6571 "configure"
d9928 1
a9928 1
extern long $cf_name;
d9934 1
a9934 1
if { (eval echo configure:6581: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
a9943 4
        eval 'cf_result=$cf_cv_have_'$cf_name
        echo "$ac_t""$cf_result" 1>&6
else
    eval 'cf_cv_have_'$cf_name'=yes'
a9945 1
fi
d9947 2
a9948 1
eval 'cf_result=HAVE_'$cf_name
d9950 3
d9955 1
a9955 1
eval 'test $cf_cv_have_'$cf_name' = yes && cat >> confdefs.h <<EOF
d9958 4
a9961 1
'
d9967 1
a9967 1
echo "configure:6612: checking if struct utmp is declared" >&5
d9973 1
a9973 1
#line 6618 "configure"
d9982 1
a9982 1
if { (eval echo configure:6627: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d9990 1
a9990 1
#line 6635 "configure"
d9997 1
a9997 1
if { (eval echo configure:6642: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10024 97
d10125 1
a10125 1
echo "configure:6673: checking if curses supports alternate-character set" >&5
d10130 2
d10133 1
a10133 1
#line 6679 "configure"
d10136 1
a10136 1
#include <$cf_cv_ncurses_header>
d10139 1
a10139 1
chtype x = acs_map['l']; acs_map['m'] = 0
d10142 1
a10142 1
if { (eval echo configure:6688: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d10144 2
a10145 1
  cf_cv_alt_char_set=yes
d10153 2
d10158 2
a10159 2
test $cf_cv_alt_char_set = yes && cat >> confdefs.h <<\EOF
#define ALT_CHAR_SET 1
d10165 1
a10165 1
echo "configure:6708: checking if curses supports fancy attributes" >&5
d10171 1
a10171 1
#line 6714 "configure"
d10174 1
a10174 1
#include <$cf_cv_ncurses_header>
d10184 1
a10184 1
if { (eval echo configure:6727: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d10204 1
a10204 1
echo "configure:6747: checking for ncurses version" >&5
d10229 1
a10229 1
	{ (eval echo configure:6772: \"$cf_try\") 1>&5; (eval $cf_try) 2>&5; }
d10238 1
a10238 1
#line 6781 "configure"
d10261 1
a10261 1
if { (eval echo configure:6804: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
d10281 1
a10281 1
echo "configure:6824: checking for obsolete/broken version of ncurses" >&5
d10287 1
a10287 1
#line 6830 "configure"
d10290 1
a10290 1
#include <$cf_cv_ncurses_header>
d10301 1
a10301 1
if { (eval echo configure:6844: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10326 1
a10326 1
echo "configure:6869: checking if curses supports color attributes" >&5
d10332 1
a10332 1
#line 6875 "configure"
d10347 1
a10347 1
if { (eval echo configure:6890: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d10374 1
a10374 1
echo "configure:6917: checking declaration of size-change" >&5
d10388 1
a10388 1
#line 6931 "configure"
d10427 1
a10427 1
if { (eval echo configure:6970: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d10459 1
a10459 1
echo "configure:7002: checking if ttytype is declared in curses library" >&5
d10465 1
a10465 1
#line 7008 "configure"
d10467 1
a10467 1
#include <$cf_cv_ncurses_header>
d10472 1
a10472 1
if { (eval echo configure:7015: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d10493 1
d10500 1
a10500 1
echo "configure:7042: checking for $ac_func" >&5
d10505 1
a10505 1
#line 7047 "configure"
d10528 1
a10528 1
if { (eval echo configure:7070: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d10537 61
a10597 2
rm -f conftest*
fi
d10599 3
a10601 5
if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
d10603 14
a10616 1
 
d10618 3
a10620 4
  echo "$ac_t""no" 1>&6
fi
done

d10623 4
d10629 2
d10632 3
a10634 6
echo $ac_n "checking if experimental 8-bit case-conversion should be used""... $ac_c" 1>&6
echo "configure:7100: checking if experimental 8-bit case-conversion should be used" >&5

# Check whether --enable-8bit-toupper or --disable-8bit-toupper was given.
if test "${enable_8bit_toupper+set}" = set; then
  enableval="$enable_8bit_toupper"
d10637 1
a10637 1
    use_8bit_toupper=$enableval 
d10639 1
a10639 1
    use_8bit_toupper=no
d10643 1
a10643 1
  use_8bit_toupper=no
d10647 3
a10649 2
test $use_8bit_toupper != no && cat >> confdefs.h <<\EOF
#define EXP_8BIT_TOUPPER 1
d10654 1
a10654 1
echo "configure:7123: checking if color-style code should be used" >&5
d10699 1
a10699 1
	echo "$ac_t""curses-style" 1>&6
d10702 1
a10702 1
echo "configure:7171: checking for location of style-sheet file" >&5
d10720 1
a10720 1
echo "configure:7189: checking if you want to use default-colors" >&5
d10744 100
d10845 1
a10845 1
echo "configure:7214: checking if you want to use extended HTML DTD logic" >&5
d10868 24
d10893 1
a10893 1
echo "configure:7238: checking if you want to use external commands" >&5
d10917 1
a10917 1
echo "configure:7262: checking if you want to use setfont support" >&5
d10940 57
d10998 1
a10998 1
echo "configure:7286: checking if you want internal-links feature" >&5
d11022 1
a11022 1
echo "configure:7310: checking if you want to fork NSL requests" >&5
d11045 48
d11094 1
a11094 1
echo "configure:7334: checking if you want to underline links" >&5
d11117 29
d11147 1
a11147 1
echo "configure:7358: checking if you want to use zlib for decompression of some gzip files" >&5
d11164 1
a11164 1
echo "configure:7375: checking for gzopen" >&5
d11169 1
a11169 1
#line 7380 "configure"
d11192 1
a11192 1
if { (eval echo configure:7403: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d11212 1
a11212 1
echo "configure:7423: checking for gzopen in -lz" >&5
d11215 1
a11215 1
#line 7426 "configure"
d11222 1
a11222 1
if { (eval echo configure:7433: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d11249 1
a11249 1
echo "configure:7460: checking for -lz in $cf_libdir" >&5
d11252 1
a11252 1
#line 7463 "configure"
d11259 1
a11259 1
if { (eval echo configure:7470: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d11284 1
a11284 1
	z="$z /lib"
d11294 96
d11396 1
a11396 1
echo "configure:7511: checking if directory-editor code should be used" >&5
d11422 1
a11422 1
echo "configure:7537: checking if you wish to allow extracting from archives via DirEd" >&5
d11441 1
a11441 1
echo "configure:7556: checking if you wish to allow users to redefine DirEd keys" >&5
d11467 1
a11467 1
echo "configure:7582: checking if you wish to allow permissions commands via DirEd" >&5
d11493 1
a11493 1
echo "configure:7608: checking if you wish to allow executable-permission commands via DirEd" >&5
d11512 1
a11512 1
echo "configure:7627: checking if you wish to allow "tar" commands from DirEd" >&5
d11538 1
a11538 1
echo "configure:7653: checking if you wish to allow "uudecode" commands from DirEd" >&5
d11564 1
a11564 1
echo "configure:7679: checking if you wish to allow "zip" and "unzip" commands from DirEd" >&5
d11590 1
a11590 1
echo "configure:7705: checking if you wish to allow "gzip" and "gunzip" commands from DirEd" >&5
d11617 1
a11617 1
echo "configure:7732: checking if you want long-directory listings" >&5
d11643 1
a11643 1
echo "configure:7758: checking if parent-directory references are permitted" >&5
d11661 43
d11710 3
a11712 2
	sh $srcdir/mkdirs.sh WWW/Library/unix
	sh $srcdir/mkdirs.sh src/chrtrans
d11716 3
d11743 1
a11743 1
  case `(ac_space=' '; set) 2>&1 | grep '^ac_space='` in
d11810 1
a11810 1
    echo "$CONFIG_STATUS generated by autoconf version 2.12.971230"
d11822 1
a11822 1
	WWW/Library/unix/makefile \
d11825 2
a11826 1
 lynx_cfg.h:config.hin" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
d11835 1
d11839 1
a11866 2
s%@@make_include_left@@%$make_include_left%g
s%@@make_include_right@@%$make_include_right%g
d11868 1
d11875 1
d11877 27
d11915 1
d11919 3
d11925 3
d11971 1
a11971 1
	WWW/Library/unix/makefile \
d11974 2
a11975 1
"}
d12147 4
d12155 12
@


1.3
log
@support non-executable shell scripts
@
text
@d7781 2
a7782 2
	$srcdir/mkdirs.sh WWW/Library/unix
	$srcdir/mkdirs.sh src/chrtrans
@


1.2
log
@make it work in our world... -moj
@
text
@d583 1
a583 1
if $ac_config_sub sun4 >/dev/null 2>&1; then :
d595 1
a595 1
    if host_alias=`$ac_config_guess`; then :
d602 1
a602 1
host=`$ac_config_sub $host_alias`
@


1.1
log
@Initial revision
@
text
@d2530 1
a2530 1
	LIBS="$LIBS -lcompat"
@


1.1.1.1
log
@Lynx 2.8
@
text
@@

