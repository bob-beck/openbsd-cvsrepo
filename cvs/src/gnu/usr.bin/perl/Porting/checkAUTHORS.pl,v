head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.1.1.8.0.4
	OPENBSD_5_9_BASE:1.1.1.8
	OPENBSD_5_8:1.1.1.8.0.6
	OPENBSD_5_8_BASE:1.1.1.8
	PERL_5_20_2:1.1.1.8
	OPENBSD_5_7:1.1.1.8.0.2
	OPENBSD_5_7_BASE:1.1.1.8
	PERL_5_20_1:1.1.1.8
	OPENBSD_5_6:1.1.1.7.0.4
	OPENBSD_5_6_BASE:1.1.1.7
	PERL_5_18_2:1.1.1.7
	PERL:1.1.1
	OPENBSD_5_5:1.1.1.6.0.6
	OPENBSD_5_5_BASE:1.1.1.6
	OPENBSD_5_4:1.1.1.6.0.2
	OPENBSD_5_4_BASE:1.1.1.6
	PERL_5_16_3:1.1.1.6
	OPENBSD_5_3:1.1.1.5.0.10
	OPENBSD_5_3_BASE:1.1.1.5
	OPENBSD_5_2:1.1.1.5.0.8
	OPENBSD_5_2_BASE:1.1.1.5
	OPENBSD_5_1_BASE:1.1.1.5
	OPENBSD_5_1:1.1.1.5.0.6
	OPENBSD_5_0:1.1.1.5.0.4
	OPENBSD_5_0_BASE:1.1.1.5
	OPENBSD_4_9:1.1.1.5.0.2
	OPENBSD_4_9_BASE:1.1.1.5
	PERL_5_12_2:1.1.1.5
	OPENBSD_4_8:1.1.1.4.0.4
	OPENBSD_4_8_BASE:1.1.1.4
	OPENBSD_4_7:1.1.1.4.0.2
	OPENBSD_4_7_BASE:1.1.1.4
	PERL_5_10_1:1.1.1.4
	OPENBSD_4_6:1.1.1.3.0.6
	OPENBSD_4_6_BASE:1.1.1.3
	OPENBSD_4_5:1.1.1.3.0.2
	OPENBSD_4_5_BASE:1.1.1.3
	PERL_5_10_0:1.1.1.3
	OPENBSD_4_4:1.1.1.2.0.10
	OPENBSD_4_4_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.8
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_2:1.1.1.2.0.6
	OPENBSD_4_2_BASE:1.1.1.2
	OPENBSD_4_1:1.1.1.2.0.4
	OPENBSD_4_1_BASE:1.1.1.2
	OPENBSD_4_0:1.1.1.2.0.2
	OPENBSD_4_0_BASE:1.1.1.2
	PERL_5_8_8:1.1.1.2
	OPENBSD_3_9:1.1.1.1.0.6
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	PERL_5_8_6:1.1.1.1
	CPAN:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.3
date	2017.02.05.00.31.54;	author afresh1;	state Exp;
branches;
next	1.2;
commitid	cxJ08BvJA9Pt2PTM;

1.2
date	2016.07.03.01.07.56;	author afresh1;	state Exp;
branches;
next	1.1;
commitid	GzHqjSTnBjdF7Wcw;

1.1
date	2005.01.15.21.18.11;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.01.15.21.18.11;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2006.03.28.18.49.38;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2008.09.29.17.18.12;	author millert;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2009.10.12.18.10.45;	author millert;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2010.09.24.14.49.20;	author millert;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2013.03.25.20.09.28;	author sthen;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2014.03.24.14.59.08;	author afresh1;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2014.11.17.20.53.16;	author afresh1;	state Exp;
branches;
next	;
commitid	B31cAbBIXiCqnL97;


desc
@@


1.3
log
@Fix merge issues, remove excess files - match perl-5.24.1 dist
@
text
@#!/usr/bin/perl -w
use strict;
my ($committer, $patch, $author);
use utf8;
use Getopt::Long;
use Unicode::Collate;
use Text::Wrap;
$Text::Wrap::columns = 80;

my ($rank, $ta, $ack, $who, $tap) = (0) x 5;
my ($author_file, $percentage, $cumulative, $reverse);
my (%authors, %untraced, %patchers, %committers, %real_names);

my $result = GetOptions (
             # modes
             "who"            => \$who,
             "rank"           => \$rank,
             "thanks-applied" => \$ta,
             "missing"        => \$ack ,
             "tap"            => \$tap,

             # modifiers
             "authors=s"      => \$author_file,
             "percentage"     => \$percentage,      # show as %age
             "cumulative"     => \$cumulative,
             "reverse"        => \$reverse,
            );

if (!$result or ( $rank + $ta + $who + $ack + $tap != 1 ) or !@@ARGV) {
    usage();
}

$author_file ||= './AUTHORS';
die "Can't locate '$author_file'. Specify it with '--authors <path>'."
  unless -f $author_file;

my $map = generate_known_author_map();

read_authors_files($author_file);


if ($rank) {
  parse_commits_from_stdin();
  display_ordered(\%patchers);
} elsif ($ta) {
  parse_commits_from_stdin();
  display_ordered(\%committers);
} elsif ($tap) {
  parse_commits_from_stdin_authors();
  display_test_output(\%patchers, \%authors, \%real_names);
} elsif ($ack) {
  parse_commits_from_stdin();
  display_missing_authors(\%patchers, \%authors, \%real_names);
} elsif ($who) {
  parse_commits_from_stdin();
  list_authors(\%patchers, \%authors);
}

exit(0);

sub usage {

  die <<"EOS";
Usage: $0 [modes] [modifiers] <git-log-output-file>

Modes (use only one):
   --who                          # show list of unique authors by full name
   --rank                         # rank authors by patches
   --thanks-applied               # ranks committers of others' patches
   --missing                      # display authors not in AUTHORS
   --tap                          # show authors present/missing as TAP

Modifiers:
   --authors <authors-file>       # path to authors file (default: ./AUTHORS)
   --percentage                   # show rankings as percentages
   --cumulative                   # show rankings cumulatively
   --reverse                      # show rankings in reverse

Generate git-log-output-file with git log --pretty=fuller rev1..rev2
(or pipe by specifying '-' for stdin).  For example:
  \$ git log --pretty=fuller v5.12.0..v5.12.1 > gitlog
  \$ perl Porting/checkAUTHORS.pl --rank --percentage gitlog
EOS
}

sub list_authors {
    my ($patchers, $authors) = @@_;
    binmode(STDOUT, ":utf8");
    print wrap '', '', join(', ', Unicode::Collate->new(level => 1)->sort(
                      map { $authors->{$_} }
                      keys %$patchers)) . ".\n";
}

sub parse_commits_from_stdin {
    my @@lines = split( /^commit\s*/sm, join( '', <> ) );
    for (@@lines) {
        next if m/^$/;
        next if m/^(\S*?)^Merge:/ism;    # skip merge commits
        if (m/^(.*?)^Author:\s*(.*?)^AuthorDate:\s*.*?^Commit:\s*(.*?)^(.*)$/gism) {

            # new patch
            ( $patch, $author, $committer ) = ( $1, $2, $3 );
            chomp($author);
            unless ($author) { die $_ }
            chomp($committer);
            unless ($committer) { die $_ }
            process( $committer, $patch, $author );
        } else {
            die "XXX $_ did not match";
        }
    }

}

# just grab authors. Quicker than parse_commits_from_stdin

sub parse_commits_from_stdin_authors {
    while (<>) {
        next unless /^Author:\s*(.*)$/;
	my $author = $1;
	$author = _raw_address($author);
	$patchers{$author}++;
    }
}


sub generate_known_author_map {
    my %map;

    my $prev = "";
    while (<DATA>) {
        chomp;
        s/\\100/\@@/g;
        $_ = lc;
        if ( my ( $correct, $alias ) = /^\s*([^#\s]\S*)\s+(.*\S)/ ) {
            $correct =~ s/^\\043/#/;
            if   ( $correct eq '+' ) { $correct = $prev }
            else                     { $prev    = $correct }
            $map{$alias} = $correct;
        }
    }

    #
    # Email addresses for we do not have names.
    #
    $map{$_} = "?"
        for
        "bah\100longitude.com",
        "bbucklan\100jpl-devvax.jpl.nasa.gov",
        "bilbo\100ua.fm",
        "bob\100starlabs.net",
        "cygwin\100cygwin.com",
        "david\100dhaller.de", "erik\100cs.uni-jena.de", "info\100lingo.kiev.ua",    # Lingo Translation agency
        "jms\100mathras.comcast.net",
        "premchai21\100yahoo.com",
        "pxm\100nubz.org",
        "raf\100tradingpost.com.au",
        "smoketst\100hp46t243.cup.hp.com", "root\100chronos.fi.muni.cz",             # no clue - jrv 20090803
        "gomar\100md.media-web.de",    # no clue - jrv 20090803
        "data-drift\100so.uio.no",     # no data. originally private message from 199701282014.VAA12645@@selters.uio.no
        "arbor\100al37al08.telecel.pt"
        ,    # reported perlbug ticket 5196 - no actual code contribution. no real name - jrv 20091006
        "oracle\100pcr8.pcr.com",    # Reported perlbug ticket 1015 - no patch - Probably Ed Eddington ed@@pcr.com
        "snaury\100gmail.com",       # Reported cpan ticket 35943, with patch for fix
        ;

    #
    # Email addresses for people that don't have an email address in AUTHORS
    # Presumably deliberately?
    #

    $map{$_} = '!' for

        # Nick Ing-Simmons has passed away (2006-09-25).
        "nick\100ing-simmons.net",
        "nik\100tiuk.ti.com",
        "nick.ing-simmons\100elixent.com",
        "nick\100ni-s.u-net.com",
        "nick.ing-simmons\100tiuk.ti.com",

        # Iain Truskett has passed away (2003-12-29).
        "perl\100dellah.anu.edu.au", "spoon\100dellah.org", "spoon\100cpan.org",

        # Ton Hospel
        "me-02\100ton.iguana.be", "perl-5.8.0\100ton.iguana.be", "perl5-porters\100ton.iguana.be",

        # Beau Cox
        "beau\100beaucox.com",

        # Randy W. Sims
        "ml-perl\100thepierianspring.org",

        # perl internal addresses
        "perl5-porters\100africa.nicoh.com",
        "perlbug\100perl.org",,
        "perl5-porters.nicoh.com",
        "perlbug-followup\100perl.org",
        "perlbug-comment\100perl.org",
        "bug-module-corelist\100rt.cpan.org",
        "bug-storable\100rt.cpan.org",
        "bugs-perl5\100bugs6.perl.org",
        "unknown",
        "unknown\100unknown",
        "unknown\100longtimeago",
        "unknown\100perl.org",
        "",
        "(none)",
        ;

    return \%map;
}

sub read_authors_files {
    my @@authors = (@@_);
    return unless (@@authors);
    my (%count, %raw);
    foreach my $filename (@@authors) {
        open FH, "<$filename" or die "Can't open $filename: $!";
        binmode FH, ':encoding(UTF-8)';
        while (<FH>) {
            next if /^\#/;
            next if /^-- /;
            if (/^([^<]+)<([^>]+)>/) {
                # Easy line.
                my ($name, $email) = ($1, $2);
                $name =~ s/\s*\z//;
                $raw{$email} = $name;
                $count{$email}++;
            } elsif (/^([-A-Za-z0-9 .\'À-ÖØöø-ÿ]+)[\t\n]/) {

                # Name only
                $untraced{$1}++;
            } elsif ( length $_ ) {
                chomp;
                warn "Can't parse line '$_'";
            } else {
                next;
            }
        }
    }
    foreach ( keys %raw ) {
        print "E-mail $_ occurs $count{$_} times\n" if $count{$_} > 1;
        my $lc = lc $_;
        $authors{ $map->{$lc} || $lc } = $raw{$_};
    }
    $authors{$_} = $_ for qw(? !);
}

sub display_test_output {
    my $patchers   = shift;
    my $authors    = shift;
    my $real_names = shift;
    my $count = 0;
    printf "1..%d\n", scalar keys %$patchers;
    foreach ( sort keys %$patchers ) {
        $count++;
        if ($authors->{$_}) {
            print "ok $count - ".$real_names->{$_} ." $_\n";
        } else {
            print "not ok $count - Contributor not found in AUTHORS: $_ ".($real_names->{$_} || '???' )."\n";
            print STDERR ($real_names->{$_} || '???' )." <$_> not found in AUTHORS\n";
        }

    }
}

sub display_missing_authors {
    my $patchers   = shift;
    my $authors    = shift;
    my $real_names = shift;
    my %missing;
    foreach ( sort keys %$patchers ) {
        next if $authors->{$_};

        # Sort by number of patches, then name.
        $missing{ $patchers{$_} }->{$_}++;
    }
    foreach my $patches ( sort { $b <=> $a } keys %missing ) {
        print "\n\n=head1 $patches patch(es)\n\n";
        foreach my $author ( sort keys %{ $missing{$patches} } ) {
            my $xauthor = $author;
            $xauthor =~ s/@@/\\100/g;    # xxx temp hack
            print "" . ( $real_names->{$author} || $author ) . "\t\t\t<" . $xauthor . ">\n";
        }
    }
}

sub display_ordered {
    my $what = shift;
    my @@sorted;
    my $total;

    while ( my ( $name, $count ) = each %$what ) {
        push @@{ $sorted[$count] }, $name;
        $total += $count;
    }

    my $i = @@sorted;
    return unless @@sorted;
    my $sum = 0;
    foreach my $i ( $reverse ? 0 .. $#sorted : reverse 0 .. $#sorted ) {
        next unless $sorted[$i];
        my $prefix;
        $sum += $i * @@{ $sorted[$i] };

        # Value to display is either this one, or the cumulative sum.
        my $value = $cumulative ? $sum : $i;
        if ($percentage) {
            $prefix = sprintf "%6.2f:\t", 100 * $value / $total;
        } else {
            $prefix = "$value:\t";
        }
        print wrap ( $prefix, "\t", join( " ", sort @@{ $sorted[$i] } ), "\n" );
    }
}

sub process {
    my ( $committer, $patch, $author ) = @@_;
    return unless $author;
    return unless $committer;

    $author = _raw_address($author);
    $patchers{$author}++;

    $committer = _raw_address($committer);
    if ( $committer ne $author ) {

        # separate commit credit only if committing someone else's patch
        $committers{$committer}++;
    }
}

sub _raw_address {
    my $addr = shift;
    my $real_name;
    if ($addr =~ /(?:\\?")?\s*\(via RT\) <perlbug-followup\@@perl\.org>$/p) {
        my $name = ${^PREMATCH};
        $addr = 'perlbug-followup@@perl.org';
        #
        # Try to find the author
        #
        if (exists $map->{$name}) {
            $addr = $map->{$name};
            $real_name = $authors{$addr};
        }
        else {
            while (my ($email, $author_name) = each %authors) {
                if ($name eq $author_name) {
                    $addr = $email;
                    $real_name = $name;
                    last;
                }
            }
        }
    }
    elsif ( $addr =~ /<.*>/ ) {
        $addr =~ s/^\s*(.*)\s*<\s*(.*?)\s*>.*$/$2/;
        $real_name = $1;
    }
    $addr =~ s/\[mailto://;
    $addr =~ s/\]//;
    $addr = lc $addr;
    $addr = $map->{$addr} || $addr;
    $addr =~ s/\\100/@@/g;    # Sometimes, there are encoded @@ signs in the git log.

    if ($real_name) { $real_names{$addr} = $real_name }
    return $addr;
}


__DATA__

#
# List of mappings. First entry the "correct" email address, as appears
# in the AUTHORS file. Second is any "alias" mapped to it.
#
# If the "correct" email address is a '+', the entry above it is reused;
# this for addresses with more than one alias.
#
# Note that all entries are in lowercase. Further, no '@@' signs should
# appear; use \100 instead.
#
#
#  Committers.
#
adi                                     enache\100rdslink.ro
alanbur                                 alan.burlison\100sun.com
+                                       alan.burlison\100uk.sun.com
+                                       aburlison\100cix.compulink.co.uk
ams                                     ams\100toroid.org
+                                       ams\100wiw.org
chip                                    chip\100pobox.com
+                                       chip\100perl.com
+                                       salzench\100nielsenmedia.com
+                                       chip\100atlantic.net
+                                       chip\100rio.atlantic.net
+                                       salzench\100dun.nielsen.com
+                                       chip\100ci005.sv2.upperbeyond.com
craigb                                  craig.berry\100psinetcs.com
+                                       craig.berry\100metamorgs.com
+                                       craig.berry\100signaltreesolutions.com
+                                       craigberry\100mac.com
+                                       craig.a.berry\100gmail.com
+                                       craig a. berry)
davem                                   davem\100fdgroup.com
+                                       davem\100iabyn.nospamdeletethisbit.com
+                                       davem\100iabyn.com
+                                       davem\100fdgroup.co.uk
+                                       davem\100fdisolutions.com
+                                       davem\100iabyn.com
demerphq                                demerphq\100gmail.com
+                                       yves.orton\100de.mci.com
+                                       yves.orton\100mciworldcom.de
+                                       yves.orton\100booking.com
+                                       demerphq\100dromedary.booking.com
+                                       demerphq\100gemini.(none)
+                                       demerphq\100camel.booking.com
+                                       demerphq\100hotmail.com
doughera                                doughera\100lafayette.edu
+                                       doughera\100lafcol.lafayette.edu
+                                       doughera\100fractal.phys.lafayette.edu
+                                       doughera.lafayette.edu
+                                       doughera\100newton.phys.lafayette.edu

gbarr                                   gbarr\100pobox.com
+                                       bodg\100tiuk.ti.com
+                                       gbarr\100ti.com
+                                       graham.barr\100tiuk.ti.com
+                                       gbarr\100monty.mutatus.co.uk
gisle                                   gisle\100activestate.com
+                                       gisle\100aas.no
+                                       aas\100aas.no
+                                       aas\100bergen.sn.no
gsar                                    gsar\100activestate.com
+                                       gsar\100cpan.org
+                                       gsar\100engin.umich.edu
hv                                      hv\100crypt.compulink.co.uk
+                                       hv\100crypt.org
+                                       hv\100iii.co.uk
jhi                                     jhi\100iki.fi
+                                       jhietaniemi\100gmail.com
+                                       jhi\100kosh.hut.fi
+                                       jhi\100alpha.hut.fi
+                                       jhi\100cc.hut.fi
+                                       jhi\100hut.fi
+                                       jarkko.hietaniemi\100nokia.com
+                                       jarkko.hietaniemi\100cc.hut.fi
+                                       jarkko.hietaniemi\100booking.com
jesse                                   jesse\100bestpractical.com
+                                       jesse\100fsck.com
+                                       jesse\100perl.org
merijn                                  h.m.brand\100xs4all.nl
+                                       h.m.brand\100hccnet.nl
+                                       merijn\100l1.procura.nl
+                                       merijn\100a5.(none)
mhx                                     mhx-perl\100gmx.net
+                                       mhx\100r2d2.(none)
mst                                     mst\100shadowcat.co.uk
+                                       matthewt\100hercule.scsys.co.uk
nicholas                                nick\100unfortu.net
+                                       nick\100ccl4.org
+                                       nick\100talking.bollo.cx
+                                       nick\100plum.flirble.org
+                                       nick\100babyhippo.co.uk
+                                       nick\100bagpuss.unfortu.net
+                                       nick\100babyhippo.com
+                                       nicholas\100dromedary.ams6.corp.booking.com
+                                       Nicholas Clark (sans From field in mail header)
pudge                                   pudge\100pobox.com
rgs                                     rgarciasuarez\100free.fr
+                                       rgarciasuarez\100mandrakesoft.com
+                                       rgarciasuarez\100mandriva.com
+                                       rgarciasuarez\100gmail.com
+                                       raphel.garcia-suarez\100hexaflux.com
+                                       rgs@@consttype.org
sky                                     sky\100nanisky.com
+                                       artur\100contiller.se
+                                       arthur\100contiller.se
smueller                                7k8lrvf02\100sneakemail.com
+                                       kjx9zthh3001\100sneakemail.com
+                                       dtr8sin02\100sneakemail.com
+                                       rt8363b02\100sneakemail.com
+                                       o6hhmk002\100sneakemail.com
+                                       smueller\100cpan.org
+                                       l2ot9pa02\100sneakemail.com
+                                       wyp3rlx02\100sneakemail.com
+                                       0mgwtfbbq\100sneakemail.com
+                                       xyey9001\100sneakemail.com
steveh                                  steve.m.hay\100googlemail.com
+                                       stevehay\100planit.com
+                                       steve.hay\100uk.radan.com
stevep                                  steve\100fisharerojo.org
+                                       steve.peters\100gmail.com
+                                       root\100dixie.cscaper.com
timb                                    Tim.Bunce\100pobox.com
+                                       tim.bunce\100ig.co.uk
tonyc                                   tony\100develop-help.com
+                                       tony\100openbsd32.tony.develop-help.com
+                                       tony\100saturn.(none)

#
# Mere mortals.
#
\043####\100juerd.nl                    juerd\100cpan.org
+                                       juerd\100c3.convolution.nl
+                                       juerd\100convolution.nl
a.r.ferreira\100gmail.com               aferreira\100shopzilla.com
abe\100ztreet.demon.nl                  abeltje\100cpan.org
abela\100hsc.fr                         abela\100geneanet.org
abigail\100abigail.be                   abigail\100foad.org
+                                       abigail\100abigail.nl
+                                       abigail\100fnx.com
aburt\100isis.cs.du.edu                 isis!aburt
ach\100mpe.mpg.de                       ach\100rosat.mpe-garching.mpg.de
adavies\100ptc.com                      alex.davies\100talktalk.net
ajohnson\100nvidia.com                  ajohnson\100wischip.com
+                                       anders\100broadcom.com
alexm\100netli.com                      alexm\100w-m.ru
alex-p5p\100earth.li                    alex\100rcon.rog
alexmv\100mit.edu                       alex\100chmrr.net
alian\100cpan.org                       alian\100alianwebserver.com
allen\100grumman.com                    allen\100gateway.grumman.com
allen\100huarp.harvard.edu              nort\100bottesini.harvard.edu
+                                       nort\100qnx.com
allens\100cpan.org                      easmith\100beatrice.rutgers.edu
+                                       root\100dogberry.rutgers.edu
andreas.koenig\100anima.de              andreas.koenig.gmwojprw\100franz.ak.mind.de
+                                       andreas.koenig.7os6vvqr\100franz.ak.mind.de
+                                       a.koenig\100mind.de
+                                       k\100anna.in-berlin.de
+                                       andk\100cpan.org
+                                       koenig\100anna.mind.de
+                                       k\100anna.mind.de
+                                       root\100ak-71.mind.de
+                                       root\100ak-75.mind.de
+                                       k\100sissy.in-berlin.de
+                                       a.koenig\100kulturbox.de
+                                       k\100sissy.in-berlin.de
+                                       root\100dubravka.in-berlin.de
anno4000\100lublin.zrz.tu-berlin.de     anno4000\100mailbox.tu-berlin.de
+                                       siegel\100zrz.tu-berlin.de
apocal@@cpan.org                         perl\1000ne.us
arnold\100gnu.ai.mit.edu                arnold\100emoryu2.arpa
+                                       gatech!skeeve!arnold
arodland\100cpan.org                    andrew\100hbslabs.com
arussell\100cs.uml.edu                  adam\100adam-pc.(none)
ash\100cpan.org                         ash_cpan\100firemirror.com
avarab\100gmail.com                     avar\100cpan.org

bailey\100newman.upenn.edu              bailey\100hmivax.humgen.upenn.edu
+                                       bailey\100genetics.upenn.edu
+                                       bailey.charles\100gmail.com
bah\100ecnvantage.com                   bholzman\100longitude.com
barries\100slaysys.com                  root\100jester.slaysys.com
bkedryna\100home.com                    bart\100cg681574-a.adubn1.nj.home.com
bcarter\100gumdrop.flyinganvil.org      q.eibcartereio.=~m-b.{6}-cgimosx\100gumdrop.flyinganvil.org
ben_tilly\100operamail.com              btilly\100gmail.com
+                                       ben_tilly\100hotmail.com
ben\100morrow.me.uk                     mauzo\100csv.warwick.ac.uk
+                                       mauzo\100.(none)
bepi\100perl.it                         enrico.sorcinelli\100gmail.com
bert\100alum.mit.edu                    bert\100genscan.com
bigbang7\100gmail.com                   ddascalescu+github\100gmail.com
blgl\100stacken.kth.se                  blgl\100hagernas.com
+                                       2bfjdsla52kztwejndzdstsxl9athp\100gmail.com
brian.d.foy\100gmail.com                bdfoy\100cpan.org
BQW10602\100nifty.com                   sadahiro\100cpan.org
bulk88\100hotmail.com                   bulk88

chad.granum\100dreamhost.com            exodist7\100gmail.com
choroba\100cpan.org                     choroba\100weed.(none)
chromatic\100wgz.org                    chromatic\100rmci.net
ckuskie\100cadence.com                  colink\100perldreamer.com
claes\100surfar.nu                      claes\100versed.se
clintp\100geeksalad.org                 cpierce1\100ford.com
clkao\100clkao.org                      clkao\100bestpractical.com
corion\100corion.net                    corion\100cpan.org
cp\100onsitetech.com                    publiustemp-p5p\100yahoo.com
+                                       publiustemp-p5p3\100yahoo.com
cpan\100audreyt.org                     autrijus\100egb.elixus.org
+                                       autrijus\100geb.elixus.org
+                                       autrijus\100gmail.com
+                                       autrijus\100ossf.iis.sinica.edu.tw
+                                       autrijus\100autrijus.org
+                                       audreyt\100audreyt.org
cpan\100ton.iguana.be                   me-01\100ton.iguana.be
crt\100kiski.net                        perl\100ctweten.amsite.com

dairiki\100dairiki.org                  dairiki at dairiki.org
dagolden\100cpan.org                    xdaveg\100gmail.com
+                                       xdg\100xdg.me
damian\100conway.org                    damian\100cs.monash.edu.au
dan\100sidhe.org                        sugalsd\100lbcc.cc.or.us
+                                       sugalskd\100osshe.edu
daniel\100bitpusher.com                 daniel\100biz.bitpusher.com
david.dyck\100fluke.com                 dcd\100tc.fluke.com
david\100justatheory.com                david\100wheeler.net
+                                       david\100kineticode.com
+                                       david\100wheeler.com
+                                       david\100wheeler.net
dennis\100booking.com                   dennis\100camel.ams6.corp.booking.com
+					dennis.kaarsemaker\100booking.com
+                                       dennis\100kaarsemaker.net
dev-perl\100pimb.org                    knew-p5p\100pimb.org
+                                       lists-p5p\100pimb.org
djberg86\100attbi.com                   djberg96\100attbi.com
dk\100tetsuo.karasik.eu.org             dmitry\100karasik.eu.org
domo\100computer.org                    shouldbedomo\100mac.com
+                                       domo\100slipper.ip.lu
+                                       domo\100tcp.ip.lu
dougm\100covalent.net                   dougm\100opengroup.org
+                                       dougm\100osf.org
dougw\100cpan.org                       doug_wilson\100intuit.com
dwegscheid\100qtm.net                   wegscd\100whirlpool.com
edwardp\100excitehome.net               epeschko\100den-mdev1
+                                       epeschko\100elmer.tci.com
+                                       esp5\100pge.com
egf7\100columbia.edu                    efifer\100sanwaint.com
eggert\100twinsun.com                   eggert\100sea.sm.unisys.com
etj\100cpan.org                         mohawk2\100users.noreply.github.com

fugazi\100zyx.net                       larrysh\100cpan.org
+                                       lshatzer\100islanddata.com

gbacon\100itsc.uah.edu                  gbacon\100adtrn-srv4.adtran.com
gerberb\100zenez.com                    root\100devsys0.zenez.com
gfuji\100cpan.org                       g.psy.va\100gmail.com
gerard\100ggoossen.net                  gerard\100tty.nl
gibreel\100pobox.com                    stephen.zander\100interlock.mckesson.com
+                                       srz\100loopback
gideon\100cpan.org                      gidisrael\100gmail.com
gnat\100frii.com                        gnat\100prometheus.frii.com
gp\100familiehaase.de                   gerrit\100familiehaase.de
grazz\100pobox.com                      grazz\100nyc.rr.com
gward\100ase.com                        greg\100bic.mni.mcgill.ca
haggai\100cpan.org                      alanhaggai\100alanhaggai.org
+                                       alanhaggai\100gmail.com
hansmu\100xs4all.nl                     hansm\100icgroup.nl
+                                       hansm\100icgned.nl
+                                       hans\100icgned.nl
+                                       hans\100icgroup.nl
+                                       hansm\100euronet.nl
+                                       hansm\100euro.net
hio\100ymir.co.jp                       hio\100hio.jp
hops\100sco.com                         hops\100scoot.pdev.sco.com

ian.goodacre\100xtra.co.nz              ian\100debian.lan
ingo_weinhold\100gmx.de                 bonefish\100cs.tu-berlin.de

james\100mastros.biz                    theorb\100desert-island.me.uk
jan\100jandubois.com                    jand\100activestate.com
+                                       jan.dubois\100ibm.net
japhy\100pobox.com                      japhy\100pobox.org
+                                       japhy\100perlmonk.org
+                                       japhy\100cpan.org
+                                       jeffp\100crusoe.net
jari.aalto\100poboxes.com               jari.aalto\100cante.net
jarausch\100numa1.igpm.rwth-aachen.de   helmutjarausch\100unknown
jasons\100cs.unm.edu                    jasons\100sandy-home.arc.unm.edu
jbuehler\100hekimian.com                jhpb\100hekimian.com
jcromie\100100divsol.com                jcromie\100cpan.org
+                                       jim.cromie\100gmail.com
jdhedden\100cpan.org                    jerry\100hedden.us
+                                       jdhedden\1001979.usna.com
+                                       jdhedden\100gmail.com
+                                       jdhedden\100yahoo.com
+                                       jhedden\100pn100-02-2-356p.corp.bloomberg.com
+                                       jdhedden\100solydxk
jeremy\100zawodny.com                   jzawodn\100wcnet.org
jesse\100sig.bsh.com                    jesse\100ginger
jfriedl\100yahoo.com                    jfriedl\100yahoo-inc.com
jfs\100fluent.com                       jfs\100jfs.fluent.com
jhannah\100mutationgrid.com             jay\100jays.net
+                                       jhannah\100omnihotels.com
jidanni\100jidanni.org                  jidanni\100hoffa.dreamhost.com
jjore\100cpan.org                       twists\100gmail.com
jkeenan\100cpan.org                     jkeen\100verizon.net
+                                       jkeenan\100dromedary-001.ams6.corp.booking.com
jns\100integration-house.com            jns\100gellyfish.com
+                                       gellyfish\100gellyfish.com
john\100atlantech.com                   john\100titanic.atlantech.com
john\100johnwright.org                  john.wright\100hp.com
joseph\100cscaper.com                   joseph\1005sigma.com
joshua\100rodd.us                       jrodd\100pbs.org
jtobey\100john-edwin-tobey.org          jtobey\100user1.channel1.com
jpeacock\100messagesystems.com          john.peacock\100havurah-software.org
+                                       jpeacock\100havurah-software.org
+                                       jpeacock\100dsl092-147-156.wdc1.dsl.speakeasy.net
+                                       jpeacock\100jpeacock-hp.doesntexist.org
+                                       jpeacock\100cpan.org
+                                       jpeacock\100rowman.com
jpl.jpl\100gmail.com                    jpl\100research.att.com
jql\100accessone.com                    jql\100jql.accessone.com
jsm28\100hermes.cam.ac.uk               jsm28\100cam.ac.uk

kane\100dwim.org                        kane\100xs4all.net
+                                       kane\100cpan.org
+                                       kane\100xs4all.nl
+                                       jos\100dwim.org
+                                       jib\100ripe.net
keith.s.thompson\100gmail.com           kst\100mib.org
ken\100mathforum.org                    kenahoo\100gmail.com
+                                       ken.williams\100thomsonreuters.com
kentfredric\100gmail.com                kentnl\100cpan.org
kmx\100volny.cz                         kmx\100volny.cz
+                                       kmx\100cpan.org
kroepke\100dolphin-services.de          kay\100dolphin-services.de
kst\100mib.org                          kst\100cts.com
+                                       kst\100SDSC.EDU
kstar\100wolfetech.com                  kstar\100cpan.org
+                                       kurt_starsinic\100ml.com
+                                       kstar\100www.chapin.edu
+                                       kstar\100chapin.edu
larry\100wall.org                       lwall\100jpl-devvax.jpl.nasa.gov
+                                       lwall\100netlabs.com
+                                       larry\100netlabs.com
+                                       lwall\100sems.com
+                                       lwall\100scalpel.netlabs.com
laszlo.molnar\100eth.ericsson.se        molnarl\100cdata.tvnet.hu
+                                       ml1050\100freemail.hu
lewart\100uiuc.edu                      lewart\100vadds.cvm.uiuc.edu
+                                       d-lewart\100uiuc.edu
lkundrak\100v3.sk                       lubo.rintel\100gooddata.com
lstein\100cshl.org                      lstein\100formaggio.cshl.org
+                                       lstein\100genome.wi.mit.edu
l.mai\100web.de                         plokinom\100gmail.com
lupe\100lupe-christoph.de               lupe\100alanya.m.isar.de
lutherh\100stratcom.com                 lutherh\100infinet.com
mab\100wdl.loral.com                    markb\100rdcf.sm.unisys.com
marcel\100codewerk.com                  gr\100univie.ac.at
+                                       hanekomu\100gmail.com
marcgreen\100cpan.org                   marcgreen\100wpi.edu
markleightonfisher\100gmail.com         fisherm\100tce.com
mark.p.lutz\100boeing.com               tecmpl1\100triton.ca.boeing.com
marnix\100gmail.com                     pttesac!marnix!vanam
marty+p5p\100kasei.com                  marty\100martian.org
mats\100sm6sxl.net                      mats\100sm5sxl.net
mbarbon\100dsi.unive.it                 mattia.barbon\100libero.it
+                                       mattia\100barbon.org
mcmahon\100ibiblio.org                  mcmahon\100metalab.unc.edu
me\100davidglasser.net                  glasser\100tang-eleven-seventy-nine.mit.edu
merijnb\100iloquent.nl                  merijnb\100ms.com
+                                       merijnb\100iloquent.com
merlyn\100stonehenge.com                merlyn\100gadget.cscaper.com
mestre.smash\100gmail.com               smash\100cpan.org
mgjv\100comdyn.com.au                   mgjv\100tradingpost.com.au
mlh\100swl.msd.ray.com                  webtools\100uewrhp03.msd.ray.com
michael.schroeder\100informatik.uni-erlangen.de mls\100suse.de
mike\100stok.co.uk                      mike\100exegenix.com
miyagawa\100bulknews.net                    miyagawa\100edge.co.jp
mjtg\100cam.ac.uk                       mjtg\100cus.cam.ac.uk
mikedlr\100tardis.ed.ac.uk              mikedlr\100it.com.pl
moritz\100casella.verplant.org          moritz\100faui2k3.org
+                                       moritz lenz

neale\100VMA.TABNSW.COM.AU              neale\100pucc.princeton.edu
neeracher\100mac.com                    neeri\100iis.ee.ethz.ch
neil\100bowers.com                      neilb\100cre.canon.co.uk

nospam-abuse\100bloodgate.com           tels\100bloodgate.com
+                                       perl_dummy\100bloodgate.com

ian.phillipps\100iname.com              ian_phillipps\100yahoo.co.uk
+                                       ian\100dial.pipex.com
ignasi.roca\100fujitsu-siemens.com      ignasi.roca\100fujitsu.siemens.es
ikegami\100adaelis.com                  eric\100fmdev10.(none)
ilmari\100ilmari.org                    ilmari\100vesla.ilmari.org
illpide\100telecel.pt                   arbor\100al37al08.telecel.pt
# see http://www.nntp.perl.org/group/perl.perl5.porters/2001/01/msg28925.html
#
ilya\100math.berkeley.edu               ilya\100math.ohio-state.edu
+                                       nospam-abuse\100ilyaz.org
+                                       [9]ilya\100math.ohio-state.edu
ilya\100martynov.org                    ilya\100juil.nonet

joshua.pritikin\100db.com               joshua\100paloalto.com

litt\100acm.org                         tlhackque\100yahoo.com

meyering@@asic.sc.ti.com                 jim\100meyering.net

okamoto\100corp.hp.com                  okamoto\100hpcc123.corp.hp.com
orwant\100oreilly.com                   orwant\100media.mit.edu

p5-authors\100crystalflame.net          perl\100crystalflame.net
+                                       rs\100crystalflame.net
+                                       coral\100eekeek.org
+                                       coral\100moonlight.crystalflame.net
+                                       rs\100oregonnet.com
+                                       rs\100topsy.com
paul.green\100stratus.com               paul_greenvos\100vos.stratus.com
+                                       pgreen\100seussnt.stratus.com
paul.marquess\100btinternet.com         paul_marquess\100yahoo.co.uk
+                                       paul.marquess\100ntlworld.com
+                                       paul.marquess\100openwave.com
+                                       pmarquess\100bfsec.bt.co.uk
+                                       pmqs\100cpan.org
+                                       paul\100paul-desktop.(none)
Pavel.Zakouril\100mff.cuni.cz           root\100egg.karlov.mff.cuni.cz
pcg\100goof.com                         schmorp\100schmorp.de
perl\100cadop.com                       cdp\100hpescdp.fc.hp.com
perl\100greerga.m-l.org                 greerga\100m-l.org
perl\100profvince.com                   vince\100profvince.com
perl-rt\100wizbit.be                    p5p\100perl.wizbit.be
# Maybe we should special case this to get real names out?
Peter.Dintelmann\100Dresdner-Bank.com   peter.dintelmann\100dresdner-bank.com
# NOTE: There is an intentional trailing space in the line above
pfeifer\100wait.de                      pfeifer\100charly.informatik.uni-dortmund.de
+                                       upf\100de.uu.net
ribasushi@@cpan.org			rabbit\100rabbit.us
+					rabbit+bugs\100rabbit.us
perl\100aaroncrane.co.uk		arc\100cpan.org
phil\100perkpartners.com                phil\100finchcomputer.com
pimlott\100idiomtech.com                andrew\100pimlott.net
+                                       pimlott\100abel.math.harvard.edu
pixel\100mandriva.com                   pixel\100mandrakesoft.com
pne\100cpan.org                         philip.newton\100gmx.net
+                                       philip.newton\100datenrevision.de
+                                       pnewton\100gmx.de
pprymmer\100factset.com                 pvhp\100forte.com
khw\100cpan.org                         khw\100karl.(none)
+                                       public\100khwilliamson.com
+                                       khw\100khw-desktop.(none)

radu\100netsoft.ro                      rgreab\100fx.ro
rajagopa\100pauline.schrodinger.com     rajagopa\100schrodinger.com
raphael.manfredi\100pobox.com           raphael_manfredi\100grenoble.hp.com
module@@renee-baecker.de                 renee.baecker\100smart-websolutions.de
+                                       reneeb\100reneeb-desktop.(none)
+                                       github@@renee-baecker.de
+                                       otrs\100ubuntu.(none)
+                                       perl\100renee-baecker.de
richard.foley\100rfi.net                richard.foley\100t-online.de
+                                       richard.foley\100ubs.com
+                                       richard.foley\100ubsw.com
rick\100consumercontact.com             rick\100bort.ca
+                                       rick.delaney\100rogers.com
+                                       rick\100bort.ca
+                                       rick.delaney\100home.com
rjbs\100cpan.org                        rjbs-perl-p5p\100lists.manxome.org
+                                       perl.p5p\100rjbs.manxome.org
rjk\100linguist.dartmouth.edu           rjk\100linguist.thayer.dartmouth.edu
+                                       rjk-perl-p5p\100tamias.net
+                                       rjk\100tamias.net
rjray\100redhat.com                     rjray\100uswest.com
rmgiroux\100acm.org                     rmgiroux\100hotmail.com
+                                       mgiroux\100bear.com
rmbarker\100cpan.org                    rmb1\100cise.npl.co.uk
+                                       robin.barker\100npl.co.uk
+                                       rmb\100cise.npl.co.uk
+                                       robin\100spade-ubuntu.(none)
+                                       r.m.barker\100btinternet.com
+                                       rmbarker.cpan\100btinternet.com
robertmay\100cpan.org                   rob\100themayfamily.me.uk
roberto\100keltia.freenix.fr            roberto\100eurocontrol.fr
robin\100cpan.org                       robin\100kitsite.com
roderick\100argon.org                   roderick\100gate.net
+                                       roderick\100ibcinc.com
argrath\100ub32.org                     root\100ub32.org
rootbeer\100teleport.com                rootbeer\100redcat.com
+                                       tomphoenix\100unknown
rurban\100x-ray.at                      rurban\100cpan.org
+                                       rurban\100cpanel.net
rvtol+news\100isolution.nl              rvtol\100isolution.nl
sartak\100bestpractical.com             sartak\100gmail.com
+                                       code\100sartak.org
sadinoff\100olf.com                     danny-cpan\100sadinoff.com
schubiger\100cpan.org                   steven\100accognoscere.org
+                                       sts\100accognoscere.org
+                                       schubiger\100gmail.com
+                                       stsc\100refcnt.org
schwern\100pobox.com                    schwern\100gmail.com
+                                       schwern\100athens.arena-i.com
+                                       schwern\100blackrider.aocn.com
+                                       schwern\100ool-18b93024.dyn.optonline.net
scotth\100sgi.com                       author scotth\100sgi.com 842220273 +0000
+                                       schotth\100sgi.com
schwab\100suse.de                       schwab\100issan.informatik.uni-dortmund.de
+                                       schwab\100ls5.informatik.uni-dortmund.de
sebastien\100aperghis.net               maddingue\100free.fr
+                                       saper\100cpan.org
shigeya\100wide.ad.jp                   shigeya\100foretune.co.jp
shlomif\100cpan.org                     shlomif\100vipe.technion.ac.il
+                                       shlomif\100iglu.org.il
+                                       shlomif+processed-by-perl\100gmail.com
+                                       shlomif\100shlomifish.org
simon\100simon-cozens.org               simon\100pembro4.pmb.ox.ac.uk
+                                       simon\100brecon.co.uk
+                                       simon\100othersideofthe.earth.li
+                                       simon\100cozens.net
+                                       simon\100netthink.co.uk
lannings\100who.int                     lannings\100gmail.com
+                                       slanning\100cpan.org
slaven\100rezic.de                      slaven.rezic\100berlin.de
+                                       srezic\100iconmobile.com
+                                       srezic\100cpan.org
+                                       eserte\100cs.tu-berlin.de
+                                       eserte\100vran.herceg.de
smcc\100mit.edu                         smcc\100ocf.berkeley.edu
+                                       smcc\100csua.berkeley.edu
+                                       alias\100mcs.com
+                                       smccam\100uclink4.berkeley.edu
spider\100orb.nashua.nh.us              spider\100web.zk3.dec.com
+                                       spider\100leggy.zk3.dec.com
+                                       spider-perl\100orb.nashua.nh.us
+                                       spider\100peano.zk3.dec.com
+                                       spider.boardman\100orb.nashua.nh.us>
+                                       spidb\100cpan.org
+                                       spider.boardman\100orb.nashua.nh.us
+                                       root\100peano.zk3.dec.com
spiros\100lokku.com			s.denaxas\100gmail.com
spp\100ds.net                           spp\100psa.pencom.com
+                                       spp\100psasolar.colltech.com
+                                       spp\100spotter.yi.org
stef\100mongueurs.net                   stef\100payrard.net
+                                       s.payrard\100wanadoo.fr
+                                       properler\100freesurf.fr
+                                       stef\100francenet.fr
stevan\100cpan.org                      stevan.little\100gmail.com
+                                       stevan.little\100iinteractive.com
sthoenna\100efn.org                     ysth\100raven.shiftboard.com
sisyphus1\100optusnet.com.au            sisyphus\100cpan.org

tassilo.parseval\100post.rwth-aachen.de tassilo.von.parseval\100rwth-aachen.de
tchrist\100perl.com                     tchrist\100mox.perl.com
+                                       tchrist\100jhereg.perl.com
thomas.dorner\100start.de               tdorner\100amadeus.net
tjenness\100cpan.org                    t.jenness\100jach.hawaii.edu
+                                       timj\100jach.hawaii.edu
tobez\100tobez.org                      tobez\100plab.ku.dk
toddr\100cpan.org                       toddr\100cpanel.net
tom\100compton.nu                       thh\100cyberscience.com
tom.horsley\100mail.ccur.com            tom.horsley\100ccur.com
+                                       tom\100amber.ssd.hcsc.com

vkonovalov\100lucent.com                vkonovalov\100peterstar.ru
+                                       konovalo\100mail.wplus.net
+                                       vadim\100vkonovalov.ru
+                                       vkonovalov\100spb.lucent.com
+                                       vkonovalov\100alcatel-lucent.com
+                                       vadim.konovalov\100alcatel-lucent.com

whatever\100davidnicol.com              davidnicol\100gmail.com
wolfgang.laun\100alcatel.at             wolfgang.laun\100chello.at
+                                       wolfgang.laun\100thalesgroup.com
+                                       wolfgang.laun\100gmail.com
wolfsage\100gmail.com                   mhorsfall\100darmstadtium.(none)
yath\100yath.de                         yath-perlbug\100yath.de

@


1.2
log
@Update to perl 5.20.3

OK bluhm@@
@
text
@d6 1
d89 1
a89 1
    print wrap '', '', join(', ', sort { lc $a cmp lc $b }
d91 1
a91 1
                      keys %$patchers) . ".\n";
d261 1
d448 1
d570 2
d591 1
d597 3
a599 1
david\100kineticode.com                 david\100wheeler.com
d620 1
d651 2
a652 1
jand\100activestate.com                 jan.dubois\100ibm.net
d668 1
d723 1
a723 1
lkundrak\100v3.sk                      lubo.rintel\100gooddata.com
d726 1
d739 1
d864 1
d919 2
@


1.1
log
@Initial revision
@
text
@d3 3
a7 2
my ($committer, $patch, $log);
use Getopt::Long;
d9 52
a60 3
my ($rank, @@authors, %authors, %untraced, %patchers);
my $result = GetOptions ("rank" => \$rank,			# rank authors
			 "acknowledged=s"   => \@@authors);	# authors files
a61 1
if (!$result or !($rank xor @@authors) or !@@ARGV) {
d63 19
a81 3
$0 --rank Changelogs                        # rank authors by patches
$0 --acknowledged <authors file> Changelogs # Display unacknowledged authors
Specify stdin as - if needs be. Remember that option names can be abbreviated.
d85 159
a243 114
my %map = reverse (
		   # "Correct" => "Alias"
		   adi => "enache\100rdslink.ro",
		   alanbur => "alan.burlison\100sun.com",
		   ams => "ams\100wiw.org",
		   chip => "chip\100pobox.com",
		   davem => "davem\100fdgroup.com",
		   doughera => " doughera\100lafayette.edu",
		   gbarr => "gbarr\100pobox.com",
		   gsar => "gsar\100activestate.com",
		   hv => "hv\100crypt.compulink.co.uk",
		   jhi => "jhi\100iki.fi",
		   merijn => "h.m.brand\100hccnet.nl",
		   mhx => "mhx-perl\100gmx.net",
		   nicholas => "nick\100unfortu.net",
		   nick => "nick\100ing-simmons.net",
		   pudge => "pudge\100pobox.com",
		   rgs => "rgarciasuarez\100free.fr",
		   sky => "sky\100nanisky.com", 
		   "abigail\100abigail.nl"=> "abigail\100foad.org",
		   "chromatic\100wgz.org" => "chromatic\100rmci.net",
		   "slaven\100rezic.de" => "slaven.rezic\100berlin.de",
		   "mjtg\100cam.ac.uk" => "mjtg\100cus.cam.ac.uk",
		   "robin.barker\100npl.co.uk" => "rmb1\100cise.npl.co.uk",
		   "paul.marquess\100btinternet.com"
		   => "paul_marquess\100yahoo.co.uk",
		   "wolfgang.laun\100chello.at" =>
		   "wolfgang.laun\100alcatel.at",
		   "t.jenness\100jach.hawaii.edu" => "timj\100jach.hawaii.edu",
		   "abe\100ztreet.demon.nl" => "abeltje\100cpan.org",
		   "perl_dummy\100bloodgate.com" => "tels\100bloodgate.com",
		   "jfriedl\100yahoo.com" => "jfriedl\100yahoo-inc.com",
		   "japhy\100pobox.com" => "japhy\100pobox.org",
		   "gellyfish\100gellyfish.com" => "jns\100gellyfish.com",
		  );

# Make sure these are all lower case.

$map{"alan.burlison\100uk.sun.com"} = "alanbur";
$map{"artur\100contiller.se"} = $map{"arthur\100contiller.se"} = "sky";
$map{"autrijus\100egb.elixus.org"} = $map{"autrijus\100geb.elixus.org"}
  = "autrijus\100autrijus.org";
$map{"craig.berry\100psinetcs.com"} = $map{"craig.berry\100metamorgs.com"}
  = $map{"craig.berry\100signaltreesolutions.com"} = "craigberry\100mac.com";
$map{"davem\100fdgroup.co.uk"} = "davem";
$map{"ilya\100math.ohio-state.edu"} = $map{"ilya\100math.berkeley.edu"}
  = $map{"ilya\100math.berkeley.edu"} = "nospam-abuse\100ilyaz.org";
$map{"jhi\100kosh.hut.fi"} = $map{"jhi\100cc.hut.fi"} = "jhi";
$map{"nick\100ccl4.org"} = $map{"nick\100talking.bollo.cx"}
  = $map{"nick\100plum.flirble.org"} = $map{"nick\100babyhippo.co.uk"}
  = $map{"nick\100bagpuss.unfortu.net"} = "nicholas";
$map{"philip.newton\100gmx.net"} = $map{"philip.newton\100datenrevision.de"}
  = "pnewton\100gmx.de",
$map{"raphel.garcia-suarez\100hexaflux.com"} = "rgs";
$map{"simon\100pembro4.pmb.ox.ac.uk"} = $map{"simon\100brecon.co.uk"}
  = $map{"simon\100othersideofthe.earth.li"} = $map{"simon\100cozens.net"}
  = $map{"simon\100netthink.co.uk"} = "simon\100simon-cozens.org";
$map{"spider\100web.zk3.dec.com"} = $map{"spider\100leggy.zk3.dec.com"}
  = $map{"spider-perl\100orb.nashua.nh.us"}
  = $map{"spider\100peano.zk3.dec.com"}
  = "spider\100orb.nashua.nh.us";
$map{"nik\100tiuk.ti.com"} = "nick";

$map{"a.koenig\100mind.de"} = "andreas.koenig\100anima.de";
$map{"japhy\100perlmonk.org"} = $map{"japhy\100cpan.org"}
  = "japhy\100pobox.com";
$map{"rmbarker\100cpan.org"} = "robin.barker\100npl.co.uk";

if (@@authors) {
  my %raw;
  foreach my $filename (@@authors) {
    open FH, "<$filename" or die "Can't open $filename: $!";
    while (<FH>) {
      next if /^\#/;
      next if /^-- /;
      if (/<([^>]+)>/) {
	# Easy line.
	$raw{$1}++;
      } elsif (/^([-A-Za-z0-9 .\'--]+)[\t\n]/) {
	# Name only
	$untraced{$1}++;
      } else {
	chomp;
	warn "Can't parse line '$_'";
      }
    }
  }
  foreach (keys %raw) {
    print "E-mail $_ occurs $raw{$_} times\n" if $raw{$_} > 1;
    $_ = lc $_;
    $authors{$map{$_} || $_}++;
  }
}

while (<>) {
  next if /^-+/;
  if (m!^\[\s+(\d+)\]\s+By:\s+(\S+)\s+on!) {
    # new patch
    my @@new = ($1, $2);
    &process ($committer, $patch, $log);
    ($patch, $committer) = @@new;
    undef $log;
  } elsif (s/^(\s+Log: )//) {
    die "Duplicate Log:" if $log;
    $log = $_;
    my $prefix = " " x length $1;
    LOG: while (<>) {
      if (s/^$prefix//) {
	$log .= $_;
      } elsif (/^\s+Branch:/) {
	last LOG;
      } else {
	die "Malformed log end with $_";
      }
d245 1
a245 1
  }
d248 13
a260 1
&process ($committer, $patch, $log);
a261 13
if ($rank) {
  &display_ordered;
} elsif (%authors) {
  my %missing;
  foreach (sort keys %patchers) {
    next if $authors{$_};
    # Sort by number of patches, then name.
    $missing{$patchers{$_}}->{$_}++;
  }
  foreach my $patches (sort {$b <=> $a} keys %missing) {
    print "$patches patch(es)\n";
    foreach my $author (sort keys %{$missing{$patches}}) {
      print "  $author\n";
d263 21
a283 1
  }
d287 26
a312 10
  my @@sorted;
  while (my ($name, $count) = each %patchers) {
    push @@{$sorted[$count]}, $name;
  }

  my $i = @@sorted;
  while (--$i) {
    next unless $sorted[$i];
    print wrap ("$i:\t", "\t", join (" ", sort @@{$sorted[$i]}), "\n");
  }
d316 13
a328 18
  my ($committer, $patch, $log) = @@_;
  return unless $committer;
  my @@authors = $log =~ /From:.+\s+([^\@@ \t\n]+\@@[^\@@ \t\n]+)/gm;

  if (@@authors) {
    foreach (@@authors) {
      s/^<//;
      s/>$//;
      $_ = lc $_;
      $patchers{$map{$_} || $_}++;
    }
    # print "$patch: @@authors\n";
  } else {
    # print "$patch: $committer\n";
    # Not entirely fair as this means that the maint pumpking scores for
    # everything intergrated that wasn't a third party patch in blead
    $patchers{$committer}++;
  }
d331 602
@


1.1.1.1
log
@perl 5.8.6 from CPAN
@
text
@@


1.1.1.2
log
@perl 5.8.8 import
@
text
@d8 3
a10 4
my ($rank, $ta, @@authors, %authors, %untraced, %patchers, %committers);
my $result = GetOptions ("rank" => \$rank,		    # rank authors
			 "thanks-applied" => \$ta,	    # ranks committers
			 "acknowledged=s"   => \@@authors);  # authors files
d12 1
a12 1
if (!$result or (($rank||0) + ($ta||0) + (@@authors ? 1 : 0) != 1) or !@@ARGV) {
a15 1
$0 --thanks-applied Changelogs		    # ranks committers
d32 1
a32 1
		   merijn => "h.m.brand\100xs4all.nl",
a38 3
		   steveh => "steve.hay\100uk.radan.com",
		   stevep => "steve\100fisharerojo.org",
		   gisle => "gisle\100activestate.com",
d50 1
a50 1
		   "nospam-abuse\100bloodgate.com" => "tels\100bloodgate.com",
a53 53
		   "jcromie\100divsol.com" => "jcromie\100cpan.org",
		   "demerphq\100gmail.com" => "demerphq\100hotmail.com",
		   "rick\100consumercontact.com" => "rick\100bort.ca",
		   "vkonovalov\100spb.lucent.com"
		   => "vkonovalov\100peterstar.ru",
		   "rjk\100linguist.dartmouth.edu"
		   => "rjk\100linguist.thayer.dartmouth.edu",
		   "domo\100computer.org" => "shouldbedomo\100mac.com",
		   "kane\100dwim.org" => "kane\100xs4all.net",
		   "allens\100cpan.org" => "easmith\100beatrice.rutgers.edu",
		   "spoon\100cpan.org" => "spoon\100dellah.org",
		   "ben_tilly\100operamail.com" => "btilly\100gmail.com",
		   "mbarbon\100dsi.unive.it" => "mattia.barbon\100libero.it",
		   "tassilo.parseval\100post.rwth-aachen.de" =>
		   "tassilo.von.parseval\100rwth-aachen.de",
		   "dcd\100tc.fluke.com" => "david.dyck\100fluke.com",
		   "kroepke\100dolphin-services.de"
		   => "kay\100dolphin-services.de",
		   "sebastien\100aperghis.net" => "maddingue\100free.fr",
		   "radu\100netsoft.ro" => "rgreab\100fx.ro",
		   "rick\100consumercontact.com"
		   => "rick.delaney\100rogers.com",
		   "p5-authors\100crystalflame.net"
		   => "perl\100crystalflame.net",
		   "stef\100mongueurs.net" => "stef\100payrard.net",
		   "kstar\100wolfetech.com" => "kstar\100cpan.org",
		   "7k8lrvf02\100sneakemail.com" =>
		   "kjx9zthh3001\100sneakemail.com",
		   "mgjv\100comdyn.com.au" => "mgjv\100tradingpost.com.au",
		   "thomas.dorner\100start.de" => "tdorner\100amadeus.net",
		   "ajohnson\100nvidia.com" => "ajohnson\100wischip.com",
		   "phil\100perkpartners.com" => "phil\100finchcomputer.com",
		   "tom.horsley\100mail.ccur.com" => "tom.horsley\100ccur.com",
		   "rootbeer\100teleport.com" => "rootbeer\100redcat.com",
		   "cp\100onsitetech.com" => "publiustemp-p5p\100yahoo.com",
		   "epeschko\100den-mdev1" => "esp5\100pge.com",
		   "pimlott\100idiomtech.com" => "andrew\100pimlott.net",
		   "fugazi\100zyx.net" => "larrysh\100cpan.org",
		   "merijnb\100iloquent.nl" => "merijnb\100iloquent.com",
		   "whatever\100davidnicol.com" => "davidnicol\100gmail.com",
		   "rmgiroux\100acm.org" => "rmgiroux\100hotmail.com",
		   "smcc\100mit.edu" => "smcc\100ocf.berkeley.edu",
		   "schubiger\100cpan.org" => "steven\100accognoscere.org",
		   "richard.foley\100ubsw.com"
		   => "richard.foley\100t-online.de",
		   "damian\100cs.monash.edu.au" => "damian\100conway.org",
		   "gp\100familiehaase.de" => "gerrit\100familiehaase.de",
		   "juerd\100cpan.org" => "juerd\100convolution.nl",
		   "paul.green\100stratus.com"
		   => "paul_greenvos\100vos.stratus.com",
		   "alian\100cpan.org" => "alian\100alianwebserver.com",
		   # Maybe we should special case this to get real names out?
		   "perlbug\100perl.org" => "perlbug-followup\100perl.org",
d58 2
a60 1
  = $map{"autrijus\100gmail.com"} = $map{"autrijus\100ossf.iis.sinica.edu.tw"}
d62 3
d67 4
d72 2
a73 1
  = $map{"pnewton\100gmx.de"} = "pne\100cpan.org",
d81 3
a83 2
$map{"andreas.koenig.gmwojprw\100franz.ak.mind.de"}
  = $map{"a.koenig\100mind.de"} =  "andreas.koenig\100anima.de";
a86 57
$map{"yves.orton\100de.mci.com"} = $map{"yves.orton\100mciworldcom.de"}
  = "demerphq\100gmail.com";
$map{"jim.cromie\100gmail.com"} = "jcromie\100divsol.com";
$map{"perl_dummy\100bloodgate.com"} = "nospam-abuse\100bloodgate.com";
$map{"paul.marquess\100ntlworld.com"} = "paul.marquess\100btinternet.com";
$map{"konovalo\100mail.wplus.net"} = $map{"vadim\100vkonovalov.ru"}
  = "vkonovalov\100spb.lucent.com";
$map{"kane\100cpan.org"} = "kane\100dwim.org";
$map{"rs\100crystalflame.net"} = "p5-authors\100crystalflame.net";
$map{"(srezic\100iconmobile.com)"} = "slaven\100rezic.de";
$map{"perl\100dellah.anu.edu.au"} = "spoon\100cpan.org";
$map{"rjk-perl-p5p\100tamias.net"} = "rjk\100linguist.dartmouth.edu";
$map{"sts\100accognoscere.org"} = "schubiger\100cpan.org";
$map{"s.payrard\100wanadoo.fr"} = "stef\100mongueurs.net";
$map{"richard.foley\100ubs.com"} = "richard.foley\100ubsw.com";
# I assume that Ton Hopsel's lack of e-mail address in AUTHORS is deliberate
$map{"me-02\100ton.iguana.be"} = $map{"perl-5.8.0\100ton.iguana.be"}
  = $map{"perl5-porters\100ton.iguana.be"} = "!";
# No real name for these address
$map{$_} = "?" foreach ("grommel\100sears.com", "pxm\100nubz.org",
			"padre\100elte.hu", "jdhedden\100" . "1979.usna.com",
			"nothingmuch\100woobling.org", "bob\100starlabs.net",
			"bbucklan\100jpl-devvax.jpl.nasa.gov",
			"bilbo\100ua.fm", "mats\100sm5sxl.net",
			"chris\100ex-parrot.com", 
			"kaminsky\100math.huji.ac.il",
			"bonefish\100cs.tu-berlin.de",
			"bstrand\100switchmanagement.com",
			"glasser\100tang-eleven-seventy-nine.mit.edu",
			"raf\100tradingpost.com.au", "erik\100cs.uni-jena.de",
			"jms\100mathras.comcast.net", "kvr\100centrum.cz",
			"perlbug\100veggiechinese.net",
			"scott\100perlcode.org",
		       );
# We don't have an e-mail address for Beau Cox
$map{"beau\100beaucox.com"} = "?";

$map{"rgarciasuarez\100mandrakesoft.com"}
  = $map{"rgarciasuarez\100mandriva.com"}
  = $map{"raphel.garcia-suarez\100hexaflux.com"} = "rgs";
$map{"jhietaniemi\100gmail.com"} = $map{"jhi\100kosh.hut.fi"}
  = $map{"jhi\100cc.hut.fi"} = $map{"jarkko.hietaniemi\100nokia.com"} = "jhi";
$map{"nick\100ccl4.org"} = $map{"nick\100talking.bollo.cx"}
  = $map{"nick\100plum.flirble.org"} = $map{"nick\100babyhippo.co.uk"}
  = $map{"nick\100bagpuss.unfortu.net"} = "nicholas";
$map{"craig.berry\100psinetcs.com"} = $map{"craig.berry\100metamorgs.com"}
  = $map{"craig.berry\100signaltreesolutions.com"}
  = $map{"craigberry\100mac.com"} = "craigb";
$map{"davem\100iabyn.nospamdeletethisbit.com" }
  = $map{"davem\100fdgroup.co.uk"} = $map{"davem\100fdisolutions.com"}
 = "davem";
$map{"alan.burlison\100uk.sun.com"} = "alanbur";
$map{"artur\100contiller.se"} = $map{"arthur\100contiller.se"} = "sky";
$map{"h.m.brand\100hccnet.nl"} = $map{"merijn\100l1.procura.nl"} = "merijn";
$map{"nik\100tiuk.ti.com"} = $map{"nick.ing-simmons\100elixent.com"} = "nick";
$map{"hv\100crypt.org"} = "hv";
$map{"gisle\100aas.no"} = "gisle";
a111 2
  ++$authors{'!'};
  ++$authors{'?'};
a126 1
      next if /^$/;
d132 1
a132 2
	chomp;
	die "Malformed log end with '$_'";
d141 1
a141 3
  &display_ordered(\%patchers);
} elsif ($ta) {
  &display_ordered(\%committers);
a157 1
  my $what = shift;
d159 1
a159 1
  while (my ($name, $count) = each %$what) {
a163 1
  return unless $i;
d173 1
a173 1
  my @@authors = $log =~ /From:\s+.*?([^"\@@ \t\n<>]+\@@[^"\@@ \t\n<>]+)/gm;
a182 1
    ++$committers{$committer};
@


1.1.1.3
log
@import perl 5.10.0 from CPAN
@
text
@d8 1
a8 2
my ($rank, $percentage, $cumulative, $reverse, $ta, @@authors, %authors,
    %untraced, %patchers, %committers);
d11 1
a11 5
			 "acknowledged=s"   => \@@authors ,  # authors files
			 "percentage" => \$percentage,      # show as %age
			 "cumulative" => \$cumulative,
			 "reverse" => \$reverse,
			);
a17 3
$0 --percentage ...                         # show rankings as percentages
$0 --cumulative ...                         # show rankings cumulatively
$0 --reverse ...                            # show rankings in reverse
d22 170
a191 90

my $prev = "";
my %map;

while (<DATA>) {
    chomp;
    s/\\100/\@@/g;
    $_ = lc;
    if (my ($correct, $alias) = /^\s*([^#\s]\S*)\s+(.*\S)/) {
        if ($correct eq '+') {$correct = $prev} else {$prev = $correct}
        $map {$alias} = $correct;
    }
}

#
# Email addresses for we do not have names.
#
$map {$_} = "?" for 
    "agrow\100thegotonerd.com",
    "alexander_bluhm\100genua.de",
    "alexander_gernler\100genua.de",
    "ammon\100rhythm.com",
    "bah\100longitude.com",
    "bbucklan\100jpl-devvax.jpl.nasa.gov",
    "bilbo\100ua.fm",
    "bob\100starlabs.net",
    "bonefish\100cs.tu-berlin.de",
    "bstrand\100switchmanagement.com",
    "cygwin\100cygwin.com",
    "david\100dhaller.de",
    "dformosa\100dformosa.zeta.org.au",
    "dgay\100acm.org",
    "erik\100cs.uni-jena.de",
    "glasser\100tang-eleven-seventy-nine.mit.edu",
    "gml4410\100ggr.co.uk",
    "grommel\100sears.com",
    "ilya\100juil.nonet",
    "info\100lingo.kiev.ua",
    "jms\100mathras.comcast.net",
    "kan\100dcit.cz",
    "kaminsky\100math.huji.ac.il",
    "knew-p5p\100pimb.org",
    "kvr\100centrum.cz",
    "mauzo\100csv.warwick.ac.uk",
    "merijnb\100ms.com",
    "mlelstv\100serpens.de",
    "p.boven\100sara.nl",
    "padre\100elte.hu",
    "perlbug\100veggiechinese.net",
    "pm\100capmon.dk",
    "premchai21\100yahoo.com",
    "pxm\100nubz.org",
    "raf\100tradingpost.com.au",
    "scott\100perlcode.org",
    "smoketst\100hp46t243.cup.hp.com",
    "yath-perlbug\100yath.de",
;

#
# Email addresses for people that don't have an email address in AUTHORS
# Presumably deliberately?
# 

$map {$_} = '!' for
     # Nick Ing-Simmons has passed away (2006-09-25).
     "nick\100ing-simmons.net",
     "nik\100tiuk.ti.com",
     "nick.ing-simmons\100elixent.com",

     # Iain Truskett has passed away (2003-12-29).
     "perl\100dellah.anu.edu.au",
     "spoon\100dellah.org",
     "spoon\100cpan.org",

     # Ton Hospel
     "me-02\100ton.iguana.be",
     "perl-5.8.0\100ton.iguana.be",
     "perl5-porters\100ton.iguana.be",

     # Beau Cox
     "beau\100beaucox.com",

     # Randy W. Sims 
     "ml-perl\100thepierianspring.org",

     # Yuval Kogman
     "nothingmuch\100woobling.org",

;

a234 1
      s/^\t/        /;
a270 1
  my $total;
a272 1
    $total += $count;
d276 2
a277 3
  return unless @@sorted;
  my $sum = 0;
  foreach my $i ($reverse ? 0 .. $#sorted : reverse 0 .. $#sorted) {
d279 1
a279 10
    my $prefix;
    $sum += $i * @@{$sorted[$i]};
    # Value to display is either this one, or the cumulative sum.
    my $value = $cumulative ? $sum : $i;
    if ($percentage) {
	$prefix = sprintf "%6.2f:\t", 100 * $value / $total;
    } else {
	$prefix = "$value:\t";
    }
    print wrap ($prefix, "\t", join (" ", sort @@{$sorted[$i]}), "\n");
a305 226
__DATA__

#
# List of mappings. First entry the "correct" email address, as appears
# in the AUTHORS file. Second is any "alias" mapped to it.
#
# If the "correct" email address is a '+', the entry above is reused; 
# this for addresses with more than one alias.
#
# Note that all entries are in lowercase. Further, no '@@' signs should
# appear; use \100 instead.
#
#
#  Committers.
#
adi                                     enache\100rdslink.ro
alanbur                                 alan.burlison\100sun.com
+                                       alan.burlison\100uk.sun.com
ams                                     ams\100wiw.org
chip                                    chip\100pobox.com
craigb                                  craig.berry\100psinetcs.com
+                                       craig.berry\100metamorgs.com
+                                       craig.berry\100signaltreesolutions.com
+                                       craigberry\100mac.com
davem                                   davem\100fdgroup.com
+                                       davem\100iabyn.nospamdeletethisbit.com
+                                       davem\100fdgroup.co.uk
+                                       davem\100fdisolutions.com
+                                       davem\100iabyn.com
demerphq                                demerphq\100gmail.com
+                                       yves.orton\100de.mci.com
+                                       yves.orton\100mciworldcom.de
doughera                                doughera\100lafayette.edu
gbarr                                   gbarr\100pobox.com
gisle                                   gisle\100activestate.com
+                                       gisle\100aas.no
gsar                                    gsar\100activestate.com
+                                       gsar\100cpan.org
hv                                      hv\100crypt.compulink.co.uk
+                                       hv\100crypt.org
jhi                                     jhi\100iki.fi
+                                       jhietaniemi\100gmail.com
+                                       jhi\100kosh.hut.fi
+                                       jhi\100cc.hut.fi
+                                       jarkko.hietaniemi\100nokia.com
merijn                                  h.m.brand\100xs4all.nl
+                                       h.m.brand\100hccnet.nl
+                                       merijn\100l1.procura.nl
mhx                                     mhx-perl\100gmx.net
nicholas                                nick\100unfortu.net
+                                       nick\100ccl4.org
+                                       nick\100talking.bollo.cx
+                                       nick\100plum.flirble.org
+                                       nick\100babyhippo.co.uk
+                                       nick\100bagpuss.unfortu.net
pudge                                   pudge\100pobox.com
rgs                                     rgarciasuarez\100free.fr
+                                       rgarciasuarez\100mandrakesoft.com
+                                       rgarciasuarez\100mandriva.com
+                                       rgarciasuarez\100gmail.com
+                                       raphel.garcia-suarez\100hexaflux.com
sky                                     sky\100nanisky.com
+                                       artur\100contiller.se
+                                       arthur\100contiller.se
steveh                                  stevehay\100planit.com
+                                       steve.hay\100uk.radan.com
stevep                                  steve\100fisharerojo.org
+                                       steve.peters\100gmail.com

#
# Mere mortals.
#
7k8lrvf02\100sneakemail.com             kjx9zthh3001\100sneakemail.com
+                                       dtr8sin02\100sneakemail.com
+                                       rt8363b02\100sneakemail.com
+                                       o6hhmk002\100sneakemail.com

abe\100ztreet.demon.nl                  abeltje\100cpan.org
abigail\100abigail.be                   abigail\100foad.org
+                                       abigail\100abigail.nl
ajohnson\100nvidia.com                  ajohnson\100wischip.com
alexm\100netli.com                      alexm\100w-m.ru
alian\100cpan.org                       alian\100alianwebserver.com
allens\100cpan.org                      easmith\100beatrice.rutgers.edu
andreas.koenig\100anima.de        andreas.koenig.gmwojprw\100franz.ak.mind.de
+                                 andreas.koenig.7os6vvqr\100franz.ak.mind.de
+                                       a.koenig\100mind.de
anno4000\100lublin.zrz.tu-berlin.de     anno4000\100mailbox.tu-berlin.de
+                                       siegel\100zrz.tu-berlin.de
ash\100cpan.org                         ash_cpan\100firemirror.com
avarab\100gmail.com                     avar\100cpan.org

bah\100ecnvantage.com                   bholzman\100longitude.com
bcarter@@gumdrop.flyinganvil.org         q.eibcartereio.=~m-b.{6}-cgimosx@@gumdrop.flyinganvil.org
ben_tilly\100operamail.com              btilly\100gmail.com

chromatic\100wgz.org                    chromatic\100rmci.net
clkao\100clkao.org                      clkao\100bestpractical.com
cp\100onsitetech.com                    publiustemp-p5p\100yahoo.com
+                                       publiustemp-p5p3\100yahoo.com
cpan\100audreyt.org                     autrijus\100egb.elixus.org
+                                       autrijus\100geb.elixus.org
+                                       autrijus\100gmail.com
+                                       autrijus\100ossf.iis.sinica.edu.tw
+                                       autrijus\100autrijus.org
+                                       audreyt\100audreyt.org

damian\100cs.monash.edu.au              damian\100conway.org
david.dyck\100fluke.com                 dcd\100tc.fluke.com
demerphq\100gmail.com                   demerphq\100hotmail.com
domo\100computer.org                    shouldbedomo\100mac.com

epeschko\100den-mdev1                   esp5\100pge.com

fugazi\100zyx.net                       larrysh\100cpan.org

gellyfish\100gellyfish.com              jns\100gellyfish.com
gp\100familiehaase.de                   gerrit\100familiehaase.de
grazz\100pobox.com                      grazz\100nyc.rr.com

hio\100ymir.co.jp                       hio\100hio.jp

japhy\100pobox.com                      japhy\100pobox.org
+                                       japhy\100perlmonk.org
+                                       japhy\100cpan.org
jari.aalto\100poboxes.com               jari.aalto\100cante.net
jcromie\100divsol.com                   jcromie\100cpan.org
+                                       jim.cromie\100gmail.com
jdhedden\100cpan.org                    jerry\100hedden.us
+                                       jdhedden\1001979.usna.com
+                                       jdhedden\100gmail.com
+                                       jdhedden\100yahoo.com
jfriedl\100yahoo.com                    jfriedl\100yahoo-inc.com
jjore\100cpan.org                       twists\100gmail.com
juerd\100cpan.org                       juerd\100convolution.nl

kane\100dwim.org                        kane\100xs4all.net
+                                       kane\100cpan.org
+                                       kane\100xs4all.nl
+                                       jos\100dwim.org
+                                       jib\100ripe.net
kroepke\100dolphin-services.de          kay\100dolphin-services.de
kstar\100wolfetech.com                  kstar\100cpan.org

mats\100sm6sxl.net                      mats\100sm5sxl.net
mbarbon\100dsi.unive.it                 mattia.barbon\100libero.it
mcmahon\100ibiblio.org                  mcmahon\100metalab.unc.edu
merijnb\100iloquent.nl                  merijnb\100iloquent.com
mgjv\100comdyn.com.au                   mgjv\100tradingpost.com.au
michael.schroeder\100informatik.uni-erlangen.de mls\100suse.de
mike\100stok.co.uk                      mike\100exegenix.com
mjtg\100cam.ac.uk                       mjtg\100cus.cam.ac.uk

nospam-abuse\100bloodgate.com           tels\100bloodgate.com
+                                       perl_dummy\100bloodgate.com
nospam-abuse\100ilyaz.org               ilya\100math.ohio-state.edu
+                                       ilya\100math.berkeley.edu
+                                       ilya\100math.berkeley.edu

p5-authors\100crystalflame.net          perl\100crystalflame.net
+                                       rs\100crystalflame.net
paul.green\100stratus.com               paul_greenvos\100vos.stratus.com
paul.marquess\100btinternet.com         paul_marquess\100yahoo.co.uk
+                                       paul.marquess\100ntlworld.com
+                                       paul.marquess\100openwave.com
pcg\100goof.com                         schmorp\100schmorp.de
# Maybe we should special case this to get real names out?
perlbug\100perl.org                     perlbug-followup\100perl.org
+                                       bugs-perl5\100bugs6.perl.org
phil\100perkpartners.com                phil\100finchcomputer.com
pimlott\100idiomtech.com                andrew\100pimlott.net
pne\100cpan.org                         philip.newton\100gmx.net
+                                       philip.newton\100datenrevision.de
+                                       pnewton\100gmx.de

radu\100netsoft.ro                      rgreab\100fx.ro
richard.foley\100ubsw.com               richard.foley\100t-online.de
+                                       richard.foley\100ubs.com
+                                       richard.foley\100rfi.net
rick\100consumercontact.com             rick\100bort.ca
+                                       rick.delaney\100rogers.com
rjbs\100cpan.org                        rjbs-perl-p5p\100lists.manxome.org
rjk\100linguist.dartmouth.edu           rjk\100linguist.thayer.dartmouth.edu
+                                       rjk-perl-p5p\100tamias.net
rmgiroux\100acm.org                     rmgiroux\100hotmail.com
robin.barker\100npl.co.uk               rmb1\100cise.npl.co.uk
+                                       rmbarker\100cpan.org
rootbeer\100teleport.com                rootbeer\100redcat.com

schubiger\100cpan.org                   steven\100accognoscere.org
+                                       sts\100accognoscere.org
schwern\100pobox.com                    schwern\100gmail.com
sebastien\100aperghis.net               maddingue\100free.fr
+                                       saper\100cpan.org
simon\100simon-cozens.org               simon\100pembro4.pmb.ox.ac.uk
+                                       simon\100brecon.co.uk
+                                       simon\100othersideofthe.earth.li
+                                       simon\100cozens.net
+                                       simon\100netthink.co.uk
slaven\100rezic.de                      slaven.rezic\100berlin.de
+                                       (srezic\100iconmobile.com)
smcc\100mit.edu                         smcc\100ocf.berkeley.edu
+                                       smcc\100csua.berkeley.edu
spider\100orb.nashua.nh.us              spider\100web.zk3.dec.com
+                                       spider\100leggy.zk3.dec.com
+                                       spider-perl\100orb.nashua.nh.us
+                                       spider\100peano.zk3.dec.com
stef\100mongueurs.net                   stef\100payrard.net
+                                       s.payrard\100wanadoo.fr

tassilo.parseval\100post.rwth-aachen.de tassilo.von.parseval\100rwth-aachen.de
thomas.dorner\100start.de               tdorner\100amadeus.net
tjenness\100cpan.org                    t.jenness\100jach.hawaii.edu
+                                       timj\100jach.hawaii.edu
tom.horsley\100mail.ccur.com            tom.horsley\100ccur.com

vkonovalov\100lucent.com                vkonovalov\100peterstar.ru
+                                       konovalo\100mail.wplus.net
+                                       vadim\100vkonovalov.ru
+                                       vkonovalov\100spb.lucent.com
+                                       vkonovalov\100alcatel-lucent.com

whatever\100davidnicol.com              davidnicol\100gmail.com
wolfgang.laun\100alcatel.at             wolfgang.laun\100chello.at
+                                       wolfgang.laun\100thalesgroup.com
+                                       wolfgang.laun\100gmail.com
@


1.1.1.4
log
@import perl 5.10.1
@
text
@d5 1
a5 1
my ($committer, $patch, $log,$date);
d9 8
a16 8
    %untraced, %patchers, %committers, %real_names);
my $result = GetOptions ("rank" => \$rank,            # rank authors
             "thanks-applied" => \$ta,        # ranks committers
             "acknowledged=s"   => \@@authors ,  # authors files
             "percentage" => \$percentage,      # show as %age
             "cumulative" => \$cumulative,
             "reverse" => \$reverse,
            );
d22 1
a22 1
$0 --thanks-applied Changelogs            # ranks committers
a38 1
        $correct =~ s/^\\043/#/;
d48 4
d56 2
d60 2
d63 5
a67 1
    "info\100lingo.kiev.ua", # Lingo Translation agency
d69 11
d83 1
d85 1
a85 5
		"oracle\100pcr8.pcr.com". # Probably Ed Eddington ed@@pcr.com
		"root\100chronos.fi.muni.cz", # no clue - jrv 20090803
		"gomar\100md.media-web.de", # no clue - jrv 20090803
		"data-drift\100so.uio.no", # no data. originally private message from 199701282014.VAA12645@@selters.uio.no

a97 2
     "nick\100ni-s.u-net.com",
	 "nick.ing-simmons\100tiuk.ti.com",
d115 3
a117 15
     # perl internal addresses
     "perl5-porters\100africa.nicoh.com",
	 "perlbug\100perl.org",,
     "perl5-porters.nicoh.com",
	 "perlbug-followup\100perl.org",
	 "perlbug-comment\100perl.org",
	 "bug-module-corelist\100rt.cpan.org",
	 "bug-storable\100rt.cpan.org",
	 "bugs-perl5\100bugs6.perl.org",
	 "unknown",
	 "unknown\100unknown",
	 "unknown\100longtimeago",
	 "unknown\100perl.org",
	"",
	"(none)",
d129 2
a130 2
    # Easy line.
    $raw{$1}++;
d132 2
a133 2
    # Name only
    $untraced{$1}++;
d135 2
a136 2
    chomp;
    warn "Can't parse line '$_'";
d149 3
a151 5
my @@lines = split(/^commit\s*/sm,join('',<>));
for ( @@lines) {
    next if m/^$/;
  next if m/^(\S*?)^Merge:/ism; # skip merge commits
  if (m/^(.*?)^Author:\s*(.*?)^Date:\s*(.*?)^(.*)$/gism) {
d153 1
a153 3
    ($patch, $committer, $date,$log) = ($1,$2,$3,$4);
    chomp($committer);
    unless ($committer) { die $_}
d155 19
a173 1
} else { die "XXX $_ did not match";}
d176 1
d190 1
a190 1
    print "\n\n=head1 $patches patch(es)\n\n";
d192 1
a192 3
        my $xauthor = $author;
        $xauthor =~ s/@@/\\100/g; # xxx temp hack
          print "".($real_names{$author}||$author) ."\t\t\t<" . $xauthor.">\n" ;
d216 1
a216 1
    $prefix = sprintf "%6.2f:\t", 100 * $value / $total;
d218 1
a218 1
    $prefix = "$value:\t";
d230 5
a234 3
    foreach my $addr (@@authors) {

      $patchers{_raw_address($addr)}++;
d237 1
a237 1
    $committers{_raw_address($committer)}++;
d239 1
a239 1
      # print "$patch: $committer\n";
d242 1
a242 1
    $patchers{_raw_address($committer)}++;
a245 14
sub _raw_address {
    my $addr = shift;
    my $real_name;
    if ($addr =~ /<.*>/) {
    $addr =~ s/^\s*(.*)\s*<\s*(.*?)\s*>.*$/$2/ ;
     $real_name = $1;
    }
    $addr = lc $addr;
    $addr = $map{$addr} || $addr;
    
    if ($real_name) { $real_names{$addr} = $real_name};
    return $addr;
}

d265 1
a265 3
+                                       aburlison\100cix.compulink.co.uk
ams                                     ams\100toroid.org
+                                       ams\100wiw.org
a266 5
+                                       chip\100perl.com
+                                       salzench\100nielsenmedia.com
+                                       chip\100atlantic.net
+                                       chip\100rio.atlantic.net
+                                       salzench\100dun.nielsen.com
a270 2
+                                       craig.a.berry\100gmail.com
+										craig a. berry)
a272 1
+                                       davem\100iabyn.com
a278 4
+                                       demerphq\100dromedary.booking.com
+                                       demerphq\100gemini.(none)
+                                       demerphq\100camel.booking.com
+                                       demerphq\100hotmail.com
a279 5
+                                       doughera\100lafcol.lafayette.edu
+                                       doughera\100fractal.phys.lafayette.edu
+                                       doughera.lafayette.edu
+                                       doughera\100newton.phys.lafayette.edu

a280 4
+                                       bodg\100tiuk.ti.com
+                                       gbarr\100ti.com
+                                       graham.barr\100tiuk.ti.com
+										gbarr\100monty.mutatus.co.uk
a282 2
+                                       aas\100aas.no
+                                       aas\100bergen.sn.no
a284 1
+                                       gsar\100engin.umich.edu
a286 1
+                                       hv\100iii.co.uk
a289 1
+                                       jhi\100alpha.hut.fi
a290 1
+                                       jhi\100hut.fi
a291 4
+                                       jarkko.hietaniemi\100cc.hut.fi
jesse                                   jesse\100bestpractical.com
+                                       jesse\100fsck.com
+                                       jesse\100perl.org
a294 1
+										merijn\100a5.(none)
a295 1
+										mhx\100r2d2.(none)
a301 2
+										nick\100babyhippo.com
+										Nicholas Clark (sans From field in mail header)
a314 4
+										root\100dixie.cscaper.com
timb                                    Tim.Bunce\100pobox.com
+                                       tim.bunce\100ig.co.uk

a318 2
\043####\100juerd.nl                    juerd\100cpan.org
+                                       juerd\100convolution.nl
d323 1
a323 6
+                                       smueller\100cpan.org
+                                       l2ot9pa02\100sneakemail.com
+                                       wyp3rlx02\100sneakemail.com
+                                       0mgwtfbbq\100sneakemail.com
+										xyey9001\100sneakemail.com
a.r.ferreira\100gmail.com               aferreira\100shopzilla.com
a324 1
abela\100hsc.fr                         abela\100geneanet.org
a326 4
+                                       abigail\100fnx.com
aburt\100isis.cs.du.edu					isis!aburt
ach\100mpe.mpg.de                       ach\100rosat.mpe-garching.mpg.de
adavies\100ptc.com						alex.davies\100talktalk.net
a327 1
+										anders\100broadcom.com
a328 2
alex-p5p\100earth.li                    alex\100rcon.rog
alexmv\100mit.edu                       alex\100chmrr.net
a329 3
allen\100grumman.com                    allen\100gateway.grumman.com
allen\100huarp.harvard.edu              nort\100bottesini.harvard.edu
+										nort\100qnx.com
d331 2
a332 3
+										root\100dogberry.rutgers.edu
andreas.koenig\100anima.de              andreas.koenig.gmwojprw\100franz.ak.mind.de
+                                       andreas.koenig.7os6vvqr\100franz.ak.mind.de
a333 10
+                                       k\100anna.in-berlin.de
+                                       andk\100cpan.org
+                                       koenig\100anna.mind.de
+                                       k\100anna.mind.de
+										root\100ak-71.mind.de
+										root\100ak-75.mind.de
+										k\100sissy.in-berlin.de
+										a.koenig\100kulturbox.de
+										k\100sissy.in-berlin.de
+										root\100dubravka.in-berlin.de
a335 3
arnold\100gnu.ai.mit.edu					arnold\100emoryu2.arpa
+										gatech!skeeve!arnold
arussell\100cs.uml.edu					adam\100adam-pc.(none)
a338 3
bailey\100newman.upenn.edu              bailey\100hmivax.humgen.upenn.edu
+                                       bailey\100genetics.upenn.edu
+										bailey.charles\100gmail.com
d340 1
a340 3
barries\100slaysys.com					root\100jester.slaysys.com
bkedryna\100home.com						bart\100cg681574-a.adubn1.nj.home.com
bcarter\100gumdrop.flyinganvil.org      q.eibcartereio.=~m-b.{6}-cgimosx\100gumdrop.flyinganvil.org
a341 4
+										ben_tilly\100hotmail.com
ben\100morrow.me.uk						mauzo\100csv.warwick.ac.uk
+										mauzo\100.(none)
BQW10602\100nifty.com					sadahiro\100cpan.org
a343 1
clintp\100geeksalad.org					cpierce1\100ford.com
a344 1
corion\100corion.net                    corion\100cpan.org
a352 2
cpan\100ton.iguana.be					me-01\100ton.iguana.be
crt\100kiski.net						perl\100ctweten.amsite.com
d354 1
a354 5
damian\100conway.org					damian\100cs.monash.edu.au
dagolden\100cpan.org                    xdaveg\100gmail.com
dan\100sidhe.org                        sugalsd\100lbcc.cc.or.us
+                                       sugalskd\100osshe.edu
daniel\100bitpusher.com					daniel\100biz.bitpusher.com
d356 1
a356 4
david\100kineticode.com					david\100wheeler.com
+										david\100wheeler.net
dev-perl\100pimb.org					knew-p5p\100pimb.org
djberg86\100attbi.com					djberg96\100attbi.com
d358 1
a358 10
+                                       domo\100slipper.ip.lu
+										domo\100tcp.ip.lu
dougm\100covalent.net                   dougm\100opengroup.org
+                                       dougm\100osf.org
dougw\100cpan.org						doug_wilson\100intuit.com
dwegscheid\100qtm.net						wegscd\100whirlpool.com
edwardp\100excitehome.net					epeschko\100den-mdev1
+										epeschko\100elmer.tci.com
egf7\100columbia.edu                    efifer\100sanwaint.com
eggert\100twinsun.com					eggert\100sea.sm.unisys.com
a361 1
+										lshatzer\100islanddata.com
d363 1
a363 6
gbacon\100itsc.uah.edu						gbacon\100adtrn-srv4.adtran.com
gerberb\100zenez.com					root\100devsys0.zenez.com
gfuji\100cpan.org						g.psy.va\100gmail.com
gibreel\100pobox.com                    stephen.zander\100interlock.mckesson.com
+                                       srz\100loopback
gnat\100frii.com                        gnat\100prometheus.frii.com
d366 1
a366 7
gward\100ase.com						greg\100bic.mni.mcgill.ca
hansmu\100xs4all.nl                     hansm\100icgroup.nl
+                                       hansm\100icgned.nl
+                                       hans\100icgned.nl
+                                       hans\100icgroup.nl
+                                       hansm\100euronet.nl
+										hansm\100euro.net
a367 1
hops\100sco.com							hops\100scoot.pdev.sco.com
a368 4
ingo_weinhold\100gmx.de					bonefish\100cs.tu-berlin.de

james\100mastros.biz						theorb\100desert-island.me.uk
jand\100activestate.com					jan.dubois\100ibm.net
a371 1
+										jeffp\100crusoe.net
d373 1
a373 4
jarausch\100numa1.igpm.rwth-aachen.de	helmutjarausch\100unknown
jasons\100cs.unm.edu						jasons\100sandy-home.arc.unm.edu
jbuehler\100hekimian.com					jhpb\100hekimian.com
jcromie\100100divsol.com                   jcromie\100cpan.org
a374 1
jidanni\100jidanni.org					jidanni\100hoffa.dreamhost.com
a378 3
+										jhedden\100pn100-02-2-356p.corp.bloomberg.com
jeremy\100zawodny.com					jzawodn\100wcnet.org
jesse\100sig.bsh.com					jesse\100ginger
a379 2
jfs\100fluent.com						jfs\100jfs.fluent.com
jhannah\100omnihotels.com					jay\100jays.net
d381 1
a381 12
jns\100integration-house.com            jns\100gellyfish.com
+                                       gellyfish\100gellyfish.com
john\100atlantech.com					john\100titanic.atlantech.com
john\100johnwright.org					john.wright\100hp.com
joseph\100cscaper.com					joseph\1005sigma.com
joshua\100rodd.us							jrodd\100pbs.org
jtobey\100john-edwin-tobey.org				jtobey\100user1.channel1.com
jpeacock\100rowman.com                  john.peacock\100havurah-software.org
+                                       jpeacock\100havurah-software.org
+										jpeacock\100dsl092-147-156.wdc1.dsl.speakeasy.net
jql\100accessone.com					jql\100jql.accessone.com
jsm28\100hermes.cam.ac.uk					jsm28\100cam.ac.uk
a387 1
ken\100mathforum.org                    kenahoo\100gmail.com
d390 1
a390 20
+                                       kurt_starsinic\100ml.com
+										kstar\100www.chapin.edu
+										kstar\100chapin.edu
larry\100wall.org                       lwall\100jpl-devvax.jpl.nasa.gov
+                                       lwall\100netlabs.com
+                                       larry\100netlabs.com
+                                       lwall\100sems.com
+                                       lwall\100scalpel.netlabs.com
laszlo.molnar\100eth.ericsson.se			molnarl\100cdata.tvnet.hu
+										ml1050\100freemail.hu
lewart\100uiuc.edu                      lewart\100vadds.cvm.uiuc.edu    
+                                       d-lewart\100uiuc.edu
lstein\100cshl.org						lstein\100formaggio.cshl.org
+										lstein\100genome.wi.mit.edu
lupe\100lupe-christoph.de					lupe\100alanya.m.isar.de
lutherh\100stratcom.com					lutherh\100infinet.com
mab\100wdl.loral.com						markb\100rdcf.sm.unisys.com
marcel\100codewerk.com                  gr\100univie.ac.at
mark.p.lutz\100boeing.com					tecmpl1\100triton.ca.boeing.com
marnix\100gmail.com						pttesac!marnix!vanam
d394 1
a394 4
me\100davidglasser.net					glasser\100tang-eleven-seventy-nine.mit.edu
merijnb\100iloquent.nl					merijnb\100ms.com
+										merijnb\100iloquent.com
merlyn\100stonehenge.com				merlyn\100gadget.cscaper.com
a395 1
mlh\100swl.msd.ray.com						webtools\100uewrhp03.msd.ray.com
a398 7
mikedlr\100tardis.ed.ac.uk				mikedlr\100it.com.pl
moritz\100casella.verplant.org          moritz\100faui2k3.org
+										moritz lenz

neale\100VMA.TABNSW.COM.AU				neale\100pucc.princeton.edu
neeracher\100mac.com					neeri\100iis.ee.ethz.ch
neil\100bowers.com						neilb\100cre.canon.co.uk
d402 3
a404 15

ian.phillipps\100iname.com				ian_phillipps\100yahoo.co.uk
+										ian\100dial.pipex.com
ignasi.roca\100fujitsu-siemens.com      ignasi.roca\100fujitsu.siemens.es
ilmari\100ilmari.org					ilmari\100vesla.ilmari.org
illpide\100telecel.pt						arbor\100al37al08.telecel.pt
# see http://www.nntp.perl.org/group/perl.perl5.porters/2001/01/msg28925.html
#
ilya\100math.berkeley.edu               ilya\100math.ohio-state.edu
+                                       nospam-abuse\100ilyaz.org
+										[9]ilya\100math.ohio-state.edu
ilya\100martynov.org					ilya\100juil.nonet

okamoto\100corp.hp.com                  okamoto\100hpcc123.corp.hp.com
orwant\100oreilly.com					orwant\100media.mit.edu
a407 3
+                                       coral\100eekeek.org
+                                       coral\100moonlight.crystalflame.net
+                                       rs\100oregonnet.com
a408 1
+										pgreen\100seussnt.stratus.com
a411 3
+                                       pmarquess\100bfsec.bt.co.uk
+                                       pmqs\100cpan.org
Pavel.Zakouril\100mff.cuni.cz				root\100egg.karlov.mff.cuni.cz
a412 4
perl\100cadop.com                       cdp\100hpescdp.fc.hp.com
perl\100greerga.m-l.org					greerga\100m-l.org
perl\100profvince.com                   vince\100profvince.com
perl-rt\100wizbit.be                    p5p\100perl.wizbit.be
d414 2
a415 5
Peter.Dintelmann\100Dresdner-Bank.com	peter.dintelmann\100dresdner-bank.com 
# NOTE: There is an intentional trailing space in the line above
pfeifer\100wait.de                      pfeifer\100charly.informatik.uni-dortmund.de
+										upf\100de.uu.net
rabbit\100rabbit.us						rabbit+bugs\100rabbit.us
a417 2
+										pimlott\100abel.math.harvard.edu
pixel\100mandriva.com						pixel\100mandrakesoft.com
a420 3
pprymmer\100factset.com                 pvhp\100forte.com
public\100khwilliamson.com              khw\100karl.(none)
+										khw\100khw-desktop.(none)
a422 2
raphael.manfredi\100pobox.com           raphael_manfredi\100grenoble.hp.com
renee.baecker\100smart-websolutions.de		reneeb\100reneeb-desktop.(none)
a427 2
+                                       rick\100bort.ca
+										rick.delaney\100home.com
a428 1
+                    perl.p5p\100rjbs.manxome.org
a430 1
rjray\100redhat.com                        rjray\100uswest.com
d432 2
a433 9
+										mgiroux\100bear.com
rmbarker\100cpan.org                    rmb1\100cise.npl.co.uk
+                                       robin.barker\100npl.co.uk
+                                       rmb\100cise.npl.co.uk
robertmay\100cpan.org                   rob\100themayfamily.me.uk
roberto\100keltia.freenix.fr			roberto\100eurocontrol.fr
robin\100cpan.org                       robin\100kitsite.com
roderick\100argon.org                   roderick\100gate.net
+										roderick\100ibcinc.com
d435 1
a435 1
+										tomphoenix\100unknown
a437 1
+                                       schubiger\100gmail.com
a438 7
+                                       schwern\100athens.arena-i.com
+                                       schwern\100blackrider.aocn.com
+                                       schwern\100ool-18b93024.dyn.optonline.net
scotth\100sgi.com						author scotth\100sgi.com 842220273 +0000
+										schotth\100sgi.com
schwab\100suse.de						schwab\100issan.informatik.uni-dortmund.de
+										schwab\100ls5.informatik.uni-dortmund.de
a440 1
shlomif\100vipe.technion.ac.il          shlomif\100iglu.org.il
d447 1
a447 4
+                                       srezic\100iconmobile.com
+                                       srezic\100cpan.org
+										eserte\100cs.tu-berlin.de
+										eserte\100vran.herceg.de
a449 2
+                                       alias\100mcs.com
+                                       smccam\100uclink4.berkeley.edu
a453 7
+                                       spider.boardman\100orb.nashua.nh.us>
+                                       spidb\100cpan.org
+										spider.boardman\100orb.nashua.nh.us
+										root\100peano.zk3.dec.com
spp\100ds.net                           spp\100psa.pencom.com
+                                       spp\100psasolar.colltech.com
+                                       spp\100spotter.yi.org
a455 3
+										properler\100freesurf.fr
+										stef\100francenet.fr
sthoenna\100efn.org						ysth\100raven.shiftboard.com
d458 15
a472 21
tchrist\100perl.com                      tchrist\100mox.perl.com
+                                        tchrist\100jhereg.perl.com
thomas.dorner\100start.de                tdorner\100amadeus.net
tjenness\100cpan.org                     t.jenness\100jach.hawaii.edu
+                                        timj\100jach.hawaii.edu
tobez\100tobez.org						tobez\100plab.ku.dk
tom\100compton.nu						thh\100cyberscience.com
tom.horsley\100mail.ccur.com             tom.horsley\100ccur.com
+                                        tom\100amber.ssd.hcsc.com

vkonovalov\100lucent.com                  vkonovalov\100peterstar.ru
+                                         konovalo\100mail.wplus.net
+                                         vadim\100vkonovalov.ru
+                                         vkonovalov\100spb.lucent.com
+                                         vkonovalov\100alcatel-lucent.com

whatever\100davidnicol.com                davidnicol\100gmail.com
wolfgang.laun\100alcatel.at               wolfgang.laun\100chello.at
+                                         wolfgang.laun\100thalesgroup.com
+                                         wolfgang.laun\100gmail.com
yath\100yath.de							  yath-perlbug\100yath.de
@


1.1.1.5
log
@Perl 5.12.2 from CPAN
@
text
@d5 1
a5 1
my ($committer, $patch, $author, $date);
d20 3
a22 3
$0 --rank changes                           # rank authors by patches
$0 --acknowledged <authors file> changes    # Display unacknowledged authors
$0 --thanks-applied changes                 # ranks committers of others' patches
a26 1
Generate changes with git log --pretty=fuller rev1..rev2
d62 6
a67 6
    "root\100chronos.fi.muni.cz", # no clue - jrv 20090803
    "gomar\100md.media-web.de", # no clue - jrv 20090803
    "data-drift\100so.uio.no", # no data. originally private message from 199701282014.VAA12645@@selters.uio.no
    "arbor\100al37al08.telecel.pt", # reported perlbug ticket 5196 - no actual code contribution. no real name - jrv 20091006
    "oracle\100pcr8.pcr.com", # Reported perlbug ticket 1015 - no patch - Probably Ed Eddington ed@@pcr.com
    ;
d75 39
a113 39
    # Nick Ing-Simmons has passed away (2006-09-25).
    "nick\100ing-simmons.net",
    "nik\100tiuk.ti.com",
    "nick.ing-simmons\100elixent.com",
    "nick\100ni-s.u-net.com",
    "nick.ing-simmons\100tiuk.ti.com",

    # Iain Truskett has passed away (2003-12-29).
    "perl\100dellah.anu.edu.au",
    "spoon\100dellah.org",
    "spoon\100cpan.org",

    # Ton Hospel
    "me-02\100ton.iguana.be",
    "perl-5.8.0\100ton.iguana.be",
    "perl5-porters\100ton.iguana.be",

    # Beau Cox
    "beau\100beaucox.com",

    # Randy W. Sims 
    "ml-perl\100thepierianspring.org",

    # perl internal addresses
    "perl5-porters\100africa.nicoh.com",
    "perlbug\100perl.org",,
    "perl5-porters.nicoh.com",
    "perlbug-followup\100perl.org",
    "perlbug-comment\100perl.org",
    "bug-module-corelist\100rt.cpan.org",
    "bug-storable\100rt.cpan.org",
    "bugs-perl5\100bugs6.perl.org",
    "unknown",
    "unknown\100unknown",
    "unknown\100longtimeago",
    "unknown\100perl.org",
    "",
    "(none)",
    ;
d129 1
a129 1
      } elsif (length $_) {
a131 2
      } else {
	  next
d146 1
a146 1
  next if m/^$/;
d148 1
a148 1
if (m/^(.*?)^Author:\s*(.*?)^AuthorDate:\s*(.*?)^Commit:\s*(.*?)^(.*)$/gism) {
d150 1
a150 3
    ($patch, $author, $date, $committer) = ($1,$2,$3,$4);
    chomp($author);
    unless ($author) { die $_}
d153 1
a153 1
    &process($committer, $patch, $author);
d207 1
a207 2
  my ($committer, $patch, $author) = @@_;
  return unless $author;
d209 1
d211 2
a212 2
  $author = _raw_address($author);
  $patchers{$author}++;
d214 9
a222 4
  $committer = _raw_address($committer);
  if ($committer ne $author) {
    # separate commit credit only if committing someone else's patch
    $committers{$committer}++;
a232 2
    $addr =~ s/\[mailto://;
    $addr =~ s/\]//;
d235 1
a235 2
    $addr =~ s/\\100/@@/g;  # Sometimes, there are encoded @@ signs in the git log.

a267 1
+                                       chip\100ci005.sv2.upperbeyond.com
d273 1
a273 1
+                                       craig a. berry)
d297 1
a297 1
+                                       gbarr\100monty.mutatus.co.uk
d322 1
a322 1
+                                       merijn\100a5.(none)
d324 1
a324 1
+                                       mhx\100r2d2.(none)
d331 2
a332 2
+                                       nick\100babyhippo.com
+                                       Nicholas Clark (sans From field in mail header)
a338 1
+                                       rgs@@consttype.org
d342 1
a342 2
steveh                                  steve.m.hay\100googlemail.com
+                                       stevehay\100planit.com
d346 1
a346 1
+                                       root\100dixie.cscaper.com
d364 1
a364 1
+                                       xyey9001\100sneakemail.com
d371 1
a371 1
aburt\100isis.cs.du.edu                 isis!aburt
d373 1
a373 1
adavies\100ptc.com                      alex.davies\100talktalk.net
d375 1
a375 1
+                                       anders\100broadcom.com
d382 1
a382 1
+                                       nort\100qnx.com
d384 1
a384 1
+                                       root\100dogberry.rutgers.edu
d392 6
a397 6
+                                       root\100ak-71.mind.de
+                                       root\100ak-75.mind.de
+                                       k\100sissy.in-berlin.de
+                                       a.koenig\100kulturbox.de
+                                       k\100sissy.in-berlin.de
+                                       root\100dubravka.in-berlin.de
d400 3
a402 3
arnold\100gnu.ai.mit.edu                arnold\100emoryu2.arpa
+                                       gatech!skeeve!arnold
arussell\100cs.uml.edu                  adam\100adam-pc.(none)
d408 1
a408 1
+                                       bailey.charles\100gmail.com
d410 2
a411 2
barries\100slaysys.com                  root\100jester.slaysys.com
bkedryna\100home.com                    bart\100cg681574-a.adubn1.nj.home.com
d414 4
a417 8
+                                       ben_tilly\100hotmail.com
ben\100morrow.me.uk                     mauzo\100csv.warwick.ac.uk
+                                       mauzo\100.(none)
bepi\100perl.it                         enrico.sorcinelli\100gmail.com
bert\100alum.mit.edu                    bert\100genscan.com
bigbang7\100gmail.com                   ddascalescu+github\100gmail.com
brian.d.foy\100gmail.com                bdfoy\100cpan.org
BQW10602\100nifty.com                   sadahiro\100cpan.org
d420 1
a420 1
clintp\100geeksalad.org                 cpierce1\100ford.com
d431 2
a432 2
cpan\100ton.iguana.be                   me-01\100ton.iguana.be
crt\100kiski.net                        perl\100ctweten.amsite.com
d434 1
a434 1
dairiki\100dairiki.org                  dairiki at dairiki.org
a435 1
damian\100conway.org                    damian\100cs.monash.edu.au
d438 1
a438 1
daniel\100bitpusher.com                 daniel\100biz.bitpusher.com
d440 4
a443 6
david\100kineticode.com                 david\100wheeler.com
+                                       david\100wheeler.net
dennis\100booking.com                   dennis\100camel.ams6.corp.booking.com
dev-perl\100pimb.org                    knew-p5p\100pimb.org
+                                       lists-p5p\100pimb.org
djberg86\100attbi.com                   djberg96\100attbi.com
d446 1
a446 1
+                                       domo\100tcp.ip.lu
d449 4
a452 5
dougw\100cpan.org                       doug_wilson\100intuit.com
dwegscheid\100qtm.net                   wegscd\100whirlpool.com
edwardp\100excitehome.net               epeschko\100den-mdev1
+                                       epeschko\100elmer.tci.com
+                                       esp5\100pge.com
d454 2
a455 1
eggert\100twinsun.com                   eggert\100sea.sm.unisys.com
d458 1
a458 1
+                                       lshatzer\100islanddata.com
d460 3
a462 4
gbacon\100itsc.uah.edu                  gbacon\100adtrn-srv4.adtran.com
gerberb\100zenez.com                    root\100devsys0.zenez.com
gfuji\100cpan.org                       g.psy.va\100gmail.com
gerard\100ggoossen.net                  gerard\100tty.nl
d468 1
a468 1
gward\100ase.com                        greg\100bic.mni.mcgill.ca
d474 1
a474 1
+                                       hansm\100euro.net
d476 1
a476 1
hops\100sco.com                         hops\100scoot.pdev.sco.com
d478 1
a478 1
ingo_weinhold\100gmx.de                 bonefish\100cs.tu-berlin.de
d480 2
a481 2
james\100mastros.biz                    theorb\100desert-island.me.uk
jand\100activestate.com                 jan.dubois\100ibm.net
d485 1
a485 1
+                                       jeffp\100crusoe.net
d487 4
a490 4
jarausch\100numa1.igpm.rwth-aachen.de   helmutjarausch\100unknown
jasons\100cs.unm.edu                    jasons\100sandy-home.arc.unm.edu
jbuehler\100hekimian.com                jhpb\100hekimian.com
jcromie\100100divsol.com                jcromie\100cpan.org
d492 1
a492 1
jidanni\100jidanni.org                  jidanni\100hoffa.dreamhost.com
d497 3
a499 3
+                                       jhedden\100pn100-02-2-356p.corp.bloomberg.com
jeremy\100zawodny.com                   jzawodn\100wcnet.org
jesse\100sig.bsh.com                    jesse\100ginger
d501 2
a502 2
jfs\100fluent.com                       jfs\100jfs.fluent.com
jhannah\100omnihotels.com               jay\100jays.net
d506 5
a510 5
john\100atlantech.com                   john\100titanic.atlantech.com
john\100johnwright.org                  john.wright\100hp.com
joseph\100cscaper.com                   joseph\1005sigma.com
joshua\100rodd.us                       jrodd\100pbs.org
jtobey\100john-edwin-tobey.org          jtobey\100user1.channel1.com
d513 3
a515 4
+                                       jpeacock\100dsl092-147-156.wdc1.dsl.speakeasy.net
+                                       jpeacock\100jpeacock-hp.doesntexist.org
jql\100accessone.com                    jql\100jql.accessone.com
jsm28\100hermes.cam.ac.uk               jsm28\100cam.ac.uk
a522 1
+                                       ken.williams\100thomsonreuters.com
d526 2
a527 2
+                                       kstar\100www.chapin.edu
+                                       kstar\100chapin.edu
d533 2
a534 2
laszlo.molnar\100eth.ericsson.se        molnarl\100cdata.tvnet.hu
+                                       ml1050\100freemail.hu
d537 5
a541 5
lstein\100cshl.org                      lstein\100formaggio.cshl.org
+                                       lstein\100genome.wi.mit.edu
lupe\100lupe-christoph.de               lupe\100alanya.m.isar.de
lutherh\100stratcom.com                 lutherh\100infinet.com
mab\100wdl.loral.com                    markb\100rdcf.sm.unisys.com
d543 2
a544 2
mark.p.lutz\100boeing.com               tecmpl1\100triton.ca.boeing.com
marnix\100gmail.com                     pttesac!marnix!vanam
d548 4
a551 4
me\100davidglasser.net                  glasser\100tang-eleven-seventy-nine.mit.edu
merijnb\100iloquent.nl                  merijnb\100ms.com
+                                       merijnb\100iloquent.com
merlyn\100stonehenge.com                merlyn\100gadget.cscaper.com
d553 1
a553 1
mlh\100swl.msd.ray.com                  webtools\100uewrhp03.msd.ray.com
d557 1
a557 1
mikedlr\100tardis.ed.ac.uk              mikedlr\100it.com.pl
d559 1
a559 1
+                                       moritz lenz
d561 3
a563 4
mst\100shadowcat.co.uk                  matthewt\100hercule.scsys.co.uk
neale\100VMA.TABNSW.COM.AU              neale\100pucc.princeton.edu
neeracher\100mac.com                    neeri\100iis.ee.ethz.ch
neil\100bowers.com                      neilb\100cre.canon.co.uk
d568 2
a569 2
ian.phillipps\100iname.com              ian_phillipps\100yahoo.co.uk
+                                       ian\100dial.pipex.com
d571 2
a572 3
ikegami\100adaelis.com                  eric\100fmdev10.(none)
ilmari\100ilmari.org                    ilmari\100vesla.ilmari.org
illpide\100telecel.pt                   arbor\100al37al08.telecel.pt
d577 2
a578 2
+                                       [9]ilya\100math.ohio-state.edu
ilya\100martynov.org                    ilya\100juil.nonet
d581 1
a581 1
orwant\100oreilly.com                   orwant\100media.mit.edu
d589 1
a589 1
+                                       pgreen\100seussnt.stratus.com
d595 1
a595 2
+                                       paul\100paul-desktop.(none)
Pavel.Zakouril\100mff.cuni.cz           root\100egg.karlov.mff.cuni.cz
d598 1
a598 1
perl\100greerga.m-l.org                 greerga\100m-l.org
d602 1
a602 1
Peter.Dintelmann\100Dresdner-Bank.com   peter.dintelmann\100dresdner-bank.com 
d605 2
a606 2
+                                       upf\100de.uu.net
rabbit\100rabbit.us                     rabbit+bugs\100rabbit.us
d609 2
a610 2
+                                       pimlott\100abel.math.harvard.edu
pixel\100mandriva.com                   pixel\100mandrakesoft.com
d616 1
a616 1
+                                       khw\100khw-desktop.(none)
d620 2
a621 2
renee.baecker\100smart-websolutions.de  reneeb\100reneeb-desktop.(none)
richard.foley\100rfi.net                richard.foley\100t-online.de
d623 1
a623 1
+                                       richard.foley\100ubsw.com
d627 1
a627 1
+                                       rick.delaney\100home.com
d629 1
a629 1
+                                       perl.p5p\100rjbs.manxome.org
d632 1
a632 1
rjray\100redhat.com                     rjray\100uswest.com
d634 1
a634 1
+                                       mgiroux\100bear.com
d639 1
a639 1
roberto\100keltia.freenix.fr            roberto\100eurocontrol.fr
d642 1
a642 1
+                                       roderick\100ibcinc.com
d644 1
a644 3
+                                       tomphoenix\100unknown
rurban\100x-ray.at                      rurban\100cpan.org

d652 4
a655 4
scotth\100sgi.com                       author scotth\100sgi.com 842220273 +0000
+                                       schotth\100sgi.com
schwab\100suse.de                       schwab\100issan.informatik.uni-dortmund.de
+                                       schwab\100ls5.informatik.uni-dortmund.de
d667 2
a668 2
+                                       eserte\100cs.tu-berlin.de
+                                       eserte\100vran.herceg.de
d679 2
a680 2
+                                       spider.boardman\100orb.nashua.nh.us
+                                       root\100peano.zk3.dec.com
d686 3
a688 3
+                                       properler\100freesurf.fr
+                                       stef\100francenet.fr
sthoenna\100efn.org                     ysth\100raven.shiftboard.com
d691 21
a711 21
tchrist\100perl.com                     tchrist\100mox.perl.com
+                                       tchrist\100jhereg.perl.com
thomas.dorner\100start.de               tdorner\100amadeus.net
tjenness\100cpan.org                    t.jenness\100jach.hawaii.edu
+                                       timj\100jach.hawaii.edu
tobez\100tobez.org                      tobez\100plab.ku.dk
tom\100compton.nu                       thh\100cyberscience.com
tom.horsley\100mail.ccur.com            tom.horsley\100ccur.com
+                                       tom\100amber.ssd.hcsc.com

vkonovalov\100lucent.com                vkonovalov\100peterstar.ru
+                                       konovalo\100mail.wplus.net
+                                       vadim\100vkonovalov.ru
+                                       vkonovalov\100spb.lucent.com
+                                       vkonovalov\100alcatel-lucent.com

whatever\100davidnicol.com              davidnicol\100gmail.com
wolfgang.laun\100alcatel.at             wolfgang.laun\100chello.at
+                                       wolfgang.laun\100thalesgroup.com
+                                       wolfgang.laun\100gmail.com
yath\100yath.de                         yath-perlbug\100yath.de
@


1.1.1.6
log
@import perl 5.16.3 from CPAN - worked on by Andrew Fresh and myself
@
text
@a2 3
my ($committer, $patch, $author);
use utf8;
use Getopt::Long;
d5 2
d8 5
a12 13
my ($rank, $ta, $ack, $who, $tap) = (0) x 5;
my ($author_file, $percentage, $cumulative, $reverse);
my (%authors, %untraced, %patchers, %committers, %real_names);

my $result = GetOptions (
             # modes
             "who" => \$who,
             "rank" => \$rank,
             "thanks-applied" => \$ta,
             "missing"   => \$ack ,
             "tap" => \$tap,
             # modifiers
             "authors" => \$author_file,
d18 1
a18 34
if (!$result or ( $rank + $ta + $who + $ack + $tap != 1 ) or !@@ARGV) {
    usage();
}

$author_file ||= './AUTHORS';
die "Can't locate '$author_file'. Specify it with '--author <path>'."
  unless -f $author_file;

my $map = generate_known_author_map();

read_authors_files($author_file);


if ($rank) {
  parse_commits_from_stdin();
  display_ordered(\%patchers);
} elsif ($ta) {
  parse_commits_from_stdin();
  display_ordered(\%committers);
} elsif ($tap) {
  parse_commits_from_stdin_authors();
  display_test_output(\%patchers, \%authors, \%real_names);
} elsif ($ack) {
  parse_commits_from_stdin();
  display_missing_authors(\%patchers, \%authors, \%real_names);
} elsif ($who) {
  parse_commits_from_stdin();
  list_authors(\%patchers, \%authors);
}

exit(0);

sub usage {

d20 8
a27 19
Usage: $0 [modes] [modifiers] <git-log-output-file>

Modes (use only one):
   --who                          # show list of unique authors by full name
   --rank                         # rank authors by patches
   --thanks-applied               # ranks committers of others' patches
   --missing                      # display authors not in AUTHORS
   --tap                          # show authors present/missing as TAP

Modifiers:
   --authors <authors-file>       # path to authors file (default: ./AUTHORS)
   --percentage                   # show rankings as percentages
   --cumulative                   # show rankings cumulatively
   --reverse                      # show rankings in reverse

Generate git-log-output-file with git log --pretty=fuller rev1..rev2
(or pipe by specifying '-' for stdin).  For example:
  \$ git log --pretty=fuller v5.12.0..v5.12.1 > gitlog
  \$ perl Porting/checkAUTHORS.pl --rank --percentage gitlog
a30 7
sub list_authors {
    my ($patchers, $authors) = @@_;
    binmode(STDOUT, ":utf8");
    print wrap '', '', join(', ', sort { lc $a cmp lc $b }
                      map { $authors->{$_} }
                      keys %$patchers) . ".\n";
}
d32 2
a33 18
sub parse_commits_from_stdin {
    my @@lines = split( /^commit\s*/sm, join( '', <> ) );
    for (@@lines) {
        next if m/^$/;
        next if m/^(\S*?)^Merge:/ism;    # skip merge commits
        if (m/^(.*?)^Author:\s*(.*?)^AuthorDate:\s*.*?^Commit:\s*(.*?)^(.*)$/gism) {

            # new patch
            ( $patch, $author, $committer ) = ( $1, $2, $3 );
            chomp($author);
            unless ($author) { die $_ }
            chomp($committer);
            unless ($committer) { die $_ }
            process( $committer, $patch, $author );
        } else {
            die "XXX $_ did not match";
        }
    }
d35 8
a42 10
}

# just grab authors. Quicker than parse_commits_from_stdin

sub parse_commits_from_stdin_authors {
    while (<>) {
        next unless /^Author:\s*(.*)$/;
	my $author = $1;
	$author = _raw_address($author);
	$patchers{$author}++;
d46 23
d70 90
a159 83
sub generate_known_author_map {
    my %map;

    my $prev = "";
    while (<DATA>) {
        chomp;
        s/\\100/\@@/g;
        $_ = lc;
        if ( my ( $correct, $alias ) = /^\s*([^#\s]\S*)\s+(.*\S)/ ) {
            $correct =~ s/^\\043/#/;
            if   ( $correct eq '+' ) { $correct = $prev }
            else                     { $prev    = $correct }
            $map{$alias} = $correct;
        }
    }

    #
    # Email addresses for we do not have names.
    #
    $map{$_} = "?"
        for
        "bah\100longitude.com",
        "bbucklan\100jpl-devvax.jpl.nasa.gov",
        "bilbo\100ua.fm",
        "bob\100starlabs.net",
        "cygwin\100cygwin.com",
        "david\100dhaller.de", "erik\100cs.uni-jena.de", "info\100lingo.kiev.ua",    # Lingo Translation agency
        "jms\100mathras.comcast.net",
        "premchai21\100yahoo.com",
        "pxm\100nubz.org",
        "raf\100tradingpost.com.au",
        "smoketst\100hp46t243.cup.hp.com", "root\100chronos.fi.muni.cz",             # no clue - jrv 20090803
        "gomar\100md.media-web.de",    # no clue - jrv 20090803
        "data-drift\100so.uio.no",     # no data. originally private message from 199701282014.VAA12645@@selters.uio.no
        "arbor\100al37al08.telecel.pt"
        ,    # reported perlbug ticket 5196 - no actual code contribution. no real name - jrv 20091006
        "oracle\100pcr8.pcr.com",    # Reported perlbug ticket 1015 - no patch - Probably Ed Eddington ed@@pcr.com
        ;

    #
    # Email addresses for people that don't have an email address in AUTHORS
    # Presumably deliberately?
    #

    $map{$_} = '!' for

        # Nick Ing-Simmons has passed away (2006-09-25).
        "nick\100ing-simmons.net",
        "nik\100tiuk.ti.com",
        "nick.ing-simmons\100elixent.com",
        "nick\100ni-s.u-net.com",
        "nick.ing-simmons\100tiuk.ti.com",

        # Iain Truskett has passed away (2003-12-29).
        "perl\100dellah.anu.edu.au", "spoon\100dellah.org", "spoon\100cpan.org",

        # Ton Hospel
        "me-02\100ton.iguana.be", "perl-5.8.0\100ton.iguana.be", "perl5-porters\100ton.iguana.be",

        # Beau Cox
        "beau\100beaucox.com",

        # Randy W. Sims
        "ml-perl\100thepierianspring.org",

        # perl internal addresses
        "perl5-porters\100africa.nicoh.com",
        "perlbug\100perl.org",,
        "perl5-porters.nicoh.com",
        "perlbug-followup\100perl.org",
        "perlbug-comment\100perl.org",
        "bug-module-corelist\100rt.cpan.org",
        "bug-storable\100rt.cpan.org",
        "bugs-perl5\100bugs6.perl.org",
        "unknown",
        "unknown\100unknown",
        "unknown\100longtimeago",
        "unknown\100perl.org",
        "",
        "(none)",
        ;

    return \%map;
a161 49
sub read_authors_files {
    my @@authors = (@@_);
    return unless (@@authors);
    my (%count, %raw);
    foreach my $filename (@@authors) {
        open FH, "<$filename" or die "Can't open $filename: $!";
        binmode FH, ':encoding(UTF-8)';
        while (<FH>) {
            next if /^\#/;
            next if /^-- /;
            if (/^([^<]+)<([^>]+)>/) {
                # Easy line.
                my ($name, $email) = ($1, $2);
                $name =~ s/\s*\z//;
                $raw{$email} = $name;
                $count{$email}++;
            } elsif (/^([-A-Za-z0-9 .\'À-ÖØöø-ÿ]+)[\t\n]/) {

                # Name only
                $untraced{$1}++;
            } elsif ( length $_ ) {
                chomp;
                warn "Can't parse line '$_'";
            } else {
                next;
            }
        }
    }
    foreach ( keys %raw ) {
        print "E-mail $_ occurs $count{$_} times\n" if $count{$_} > 1;
        my $lc = lc $_;
        $authors{ $map->{$lc} || $lc } = $raw{$_};
    }
    $authors{$_} = $_ for qw(? !);
}

sub display_test_output {
    my $patchers   = shift;
    my $authors    = shift;
    my $real_names = shift;
    my $count = 0;
    printf "1..%d\n", scalar keys %$patchers;
    foreach ( sort keys %$patchers ) {
        $count++;
        if ($authors->{$_}) {
            print "ok $count - ".$real_names->{$_} ." $_\n";
        } else {
            print "not ok $count - Contributor not found in AUTHORS: $_ ".($real_names->{$_} || '???' )."\n";
        }
d163 17
d181 1
a181 21
}

sub display_missing_authors {
    my $patchers   = shift;
    my $authors    = shift;
    my $real_names = shift;
    my %missing;
    foreach ( sort keys %$patchers ) {
        next if $authors->{$_};

        # Sort by number of patches, then name.
        $missing{ $patchers{$_} }->{$_}++;
    }
    foreach my $patches ( sort { $b <=> $a } keys %missing ) {
        print "\n\n=head1 $patches patch(es)\n\n";
        foreach my $author ( sort keys %{ $missing{$patches} } ) {
            my $xauthor = $author;
            $xauthor =~ s/@@/\\100/g;    # xxx temp hack
            print "" . ( $real_names->{$author} || $author ) . "\t\t\t<" . $xauthor . ">\n";
        }
    }
d185 21
a205 25
    my $what = shift;
    my @@sorted;
    my $total;

    while ( my ( $name, $count ) = each %$what ) {
        push @@{ $sorted[$count] }, $name;
        $total += $count;
    }

    my $i = @@sorted;
    return unless @@sorted;
    my $sum = 0;
    foreach my $i ( $reverse ? 0 .. $#sorted : reverse 0 .. $#sorted ) {
        next unless $sorted[$i];
        my $prefix;
        $sum += $i * @@{ $sorted[$i] };

        # Value to display is either this one, or the cumulative sum.
        my $value = $cumulative ? $sum : $i;
        if ($percentage) {
            $prefix = sprintf "%6.2f:\t", 100 * $value / $total;
        } else {
            $prefix = "$value:\t";
        }
        print wrap ( $prefix, "\t", join( " ", sort @@{ $sorted[$i] } ), "\n" );
d207 2
d212 12
a223 13
    my ( $committer, $patch, $author ) = @@_;
    return unless $author;
    return unless $committer;

    $author = _raw_address($author);
    $patchers{$author}++;

    $committer = _raw_address($committer);
    if ( $committer ne $author ) {

        # separate commit credit only if committing someone else's patch
        $committers{$committer}++;
    }
d229 3
a231 17
    if ($addr =~ /(?:\\?")?\s*\(via RT\) <perlbug-followup\@@perl\.org>$/p) {
        my $name = ${^PREMATCH};
        $addr = 'perlbug-followup@@perl.org';
        #
        # Try to find the author
        #
        while (my ($email, $author_name) = each %authors) {
            if ($name eq $author_name) {
                $addr = $email;
                $real_name = $name;
                last;
            }
        }
    }
    elsif ( $addr =~ /<.*>/ ) {
        $addr =~ s/^\s*(.*)\s*<\s*(.*?)\s*>.*$/$2/;
        $real_name = $1;
d236 2
a237 2
    $addr = $map->{$addr} || $addr;
    $addr =~ s/\\100/@@/g;    # Sometimes, there are encoded @@ signs in the git log.
d239 1
a239 1
    if ($real_name) { $real_names{$addr} = $real_name }
d250 1
a250 1
# If the "correct" email address is a '+', the entry above is reused;
a286 1
+                                       yves.orton\100booking.com
a328 2
mst                                     mst\100shadowcat.co.uk
+                                       matthewt\100hercule.scsys.co.uk
a335 1
+                                       nicholas\100dromedary.ams6.corp.booking.com
a346 10
smueller                                7k8lrvf02\100sneakemail.com
+                                       kjx9zthh3001\100sneakemail.com
+                                       dtr8sin02\100sneakemail.com
+                                       rt8363b02\100sneakemail.com
+                                       o6hhmk002\100sneakemail.com
+                                       smueller\100cpan.org
+                                       l2ot9pa02\100sneakemail.com
+                                       wyp3rlx02\100sneakemail.com
+                                       0mgwtfbbq\100sneakemail.com
+                                       xyey9001\100sneakemail.com
d355 1
a355 2
tonyc                                   tony\100develop-help.com
+                                       tony\100openbsd32.tony.develop-help.com
a360 1
+                                       juerd\100c3.convolution.nl
d362 9
a405 1
apocal@@cpan.org                         perl\1000ne.us
a407 1
arodland\100cpan.org                    andrew\100hbslabs.com
a425 2
blgl\100stacken.kth.se                  blgl\100hagernas.com
+                                       2bfjdsla52kztwejndzdstsxl9athp\100gmail.com
a429 1
claes\100surfar.nu                      claes\100versed.se
a453 2
+					dennis.kaarsemaker\100booking.com
+                                       dennis\100kaarsemaker.net
a491 1
ian.goodacre\100xtra.co.nz              ian\100debian.lan
d506 1
d516 1
a516 3
jhannah\100mutationgrid.com             jay\100jays.net
+                                       jhannah\100omnihotels.com
jidanni\100jidanni.org                  jidanni\100hoffa.dreamhost.com
d525 1
a525 1
jpeacock\100messagesystems.com          john.peacock\100havurah-software.org
a528 2
+                                       jpeacock\100cpan.org
+                                       jpeacock\100rowman.com
a536 1
keith.s.thompson\100gmail.com           kst\100mib.org
a539 2
kst\100mib.org                          kst\100cts.com
+                                       kst\100SDSC.EDU
d551 1
a551 1
lewart\100uiuc.edu                      lewart\100vadds.cvm.uiuc.edu
a552 1
lkundrak\100v3.sk                      lubo.rintel\100gooddata.com
a558 2
marcgreen\100cpan.org                   marcgreen\100wpi.edu
markleightonfisher\100gmail.com         fisherm\100tce.com
a560 1
marty+p5p\100kasei.com                  marty\100martian.org
a567 1
mestre.smash\100gmail.com               smash\100cpan.org
a571 1
miyagawa\100bulknews.net                    miyagawa\100edge.co.jp
d577 1
a597 6
joshua.pritikin\100db.com               joshua\100paloalto.com

litt\100acm.org                         tlhackque\100yahoo.com

meyering@@asic.sc.ti.com                 jim\100meyering.net

a605 1
+                                       rs\100topsy.com
d621 1
a621 1
Peter.Dintelmann\100Dresdner-Bank.com   peter.dintelmann\100dresdner-bank.com
a625 1
perl\100aaroncrane.co.uk		arc\100cpan.org
d639 1
a639 3
module@@renee-baecker.de                 renee.baecker\100smart-websolutions.de
+                                       reneeb\100reneeb-desktop.(none)
+                                       otrs\100ubuntu.(none)
a656 3
+                                       robin\100spade-ubuntu.(none)
+                                       r.m.barker\100btinternet.com
+                                       rmbarker.cpan\100btinternet.com
d665 1
a665 3
+                                       rurban\100cpanel.net
sartak\100bestpractical.com             sartak\100gmail.com
sadinoff\100olf.com                     danny-cpan\100sadinoff.com
a668 1
+                                       stsc\100refcnt.org
d679 1
a679 5
shigeya\100wide.ad.jp                   shigeya\100foretune.co.jp
shlomif\100cpan.org                     shlomif\100vipe.technion.ac.il
+                                       shlomif\100iglu.org.il
+                                       shlomif+processed-by-perl\100gmail.com
+                                       shlomif\100shlomifish.org
a701 1
spiros\100lokku.com			s.denaxas\100gmail.com
a709 1
sisyphus1\100optusnet.com.au            sisyphus\100cpan.org
a717 1
toddr\100cpanel.net                     toddr\100cpan.org
a726 1
+                                       vadim.konovalov\100alcatel-lucent.com
a732 2

jkeen@@verizon.net                       jkeenan@@cpan.org
@


1.1.1.7
log
@Import perl-5.18.2

OK espie@@ sthen@@ deraadt@@
@
text
@d15 2
a16 2
             "who"            => \$who,
             "rank"           => \$rank,
d18 2
a19 3
             "missing"        => \$ack ,
             "tap"            => \$tap,

d21 4
a24 4
             "authors=s"      => \$author_file,
             "percentage"     => \$percentage,      # show as %age
             "cumulative"     => \$cumulative,
             "reverse"        => \$reverse,
d32 1
a32 1
die "Can't locate '$author_file'. Specify it with '--authors <path>'."
a161 1
        "snaury\100gmail.com",       # Reported cpan ticket 35943, with patch for fix
d338 5
a342 11
        if (exists $map->{$name}) {
            $addr = $map->{$name};
            $real_name = $authors{$addr};
        }
        else {
            while (my ($email, $author_name) = each %authors) {
                if ($name eq $author_name) {
                    $addr = $email;
                    $real_name = $name;
                    last;
                }
d367 1
a367 1
# If the "correct" email address is a '+', the entry above it is reused;
a555 1
bulk88\100hotmail.com                   bulk88
a557 1
ckuskie\100cadence.com                  colink\100perldreamer.com
a587 1
dk\100tetsuo.karasik.eu.org             dmitry\100karasik.eu.org
a697 1
+                                       hanekomu\100gmail.com
a788 1
rajagopa\100pauline.schrodinger.com     rajagopa\100schrodinger.com
a791 1
+                                       github@@renee-baecker.de
a792 1
+                                       perl\100renee-baecker.de
a803 1
+                                       rjk\100tamias.net
a817 1
argrath\100ub32.org                     root\100ub32.org
a822 1
+                                       code\100sartak.org
a847 2
lannings\100who.int                     lannings\100gmail.com
+                                       slanning\100cpan.org
a898 1
wolfsage\100gmail.com                   mhorsfall\100darmstadtium.(none)
@


1.1.1.8
log
@Import perl-5.20.1
@
text
@a495 1
+                                       tony\100saturn.(none)
a620 1
gideon\100cpan.org                      gidisrael\100gmail.com
a624 2
haggai\100cpan.org                      alanhaggai\100alanhaggai.org
+                                       alanhaggai\100gmail.com
a661 2
jkeenan\100cpan.org                     jkeen\100verizon.net
+                                       jkeenan\100dromedary-001.ams6.corp.booking.com
a674 1
jpl.jpl\100gmail.com                    jpl\100research.att.com
a685 1
kentfredric\100gmail.com                kentnl\100cpan.org
d787 1
a787 2
ribasushi@@cpan.org			rabbit\100rabbit.us
+					rabbit+bugs\100rabbit.us
d797 1
a797 2
khw\100cpan.org                         khw\100karl.(none)
+                                       public\100khwilliamson.com
d903 1
a903 1
toddr\100cpan.org                       toddr\100cpanel.net
d922 1
@


