head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_0:1.1.1.8.0.42
	OPENBSD_6_0_BASE:1.1.1.8
	OPENBSD_5_9:1.1.1.8.0.38
	OPENBSD_5_9_BASE:1.1.1.8
	OPENBSD_5_8:1.1.1.8.0.40
	OPENBSD_5_8_BASE:1.1.1.8
	OPENBSD_5_7:1.1.1.8.0.32
	OPENBSD_5_7_BASE:1.1.1.8
	OPENBSD_5_6:1.1.1.8.0.36
	OPENBSD_5_6_BASE:1.1.1.8
	OPENBSD_5_5:1.1.1.8.0.34
	OPENBSD_5_5_BASE:1.1.1.8
	OPENBSD_5_4:1.1.1.8.0.30
	OPENBSD_5_4_BASE:1.1.1.8
	OPENBSD_5_3:1.1.1.8.0.28
	OPENBSD_5_3_BASE:1.1.1.8
	OPENBSD_5_2:1.1.1.8.0.26
	OPENBSD_5_2_BASE:1.1.1.8
	OPENBSD_5_1_BASE:1.1.1.8
	OPENBSD_5_1:1.1.1.8.0.24
	OPENBSD_5_0:1.1.1.8.0.22
	OPENBSD_5_0_BASE:1.1.1.8
	OPENBSD_4_9:1.1.1.8.0.20
	OPENBSD_4_9_BASE:1.1.1.8
	OPENBSD_4_8:1.1.1.8.0.18
	OPENBSD_4_8_BASE:1.1.1.8
	OPENBSD_4_7:1.1.1.8.0.14
	OPENBSD_4_7_BASE:1.1.1.8
	OPENBSD_4_6:1.1.1.8.0.16
	OPENBSD_4_6_BASE:1.1.1.8
	OPENBSD_4_5:1.1.1.8.0.12
	OPENBSD_4_5_BASE:1.1.1.8
	OPENBSD_4_4:1.1.1.8.0.10
	OPENBSD_4_4_BASE:1.1.1.8
	OPENBSD_4_3:1.1.1.8.0.8
	OPENBSD_4_3_BASE:1.1.1.8
	OPENBSD_4_2:1.1.1.8.0.6
	OPENBSD_4_2_BASE:1.1.1.8
	OPENBSD_4_1:1.1.1.8.0.4
	OPENBSD_4_1_BASE:1.1.1.8
	OPENBSD_4_0:1.1.1.8.0.2
	OPENBSD_4_0_BASE:1.1.1.8
	TEXINFO_4_8:1.1.1.8
	OPENBSD_3_9:1.1.1.7.0.16
	OPENBSD_3_9_BASE:1.1.1.7
	OPENBSD_3_8:1.1.1.7.0.14
	OPENBSD_3_8_BASE:1.1.1.7
	OPENBSD_3_7:1.1.1.7.0.12
	OPENBSD_3_7_BASE:1.1.1.7
	OPENBSD_3_6:1.1.1.7.0.10
	OPENBSD_3_6_BASE:1.1.1.7
	OPENBSD_3_5:1.1.1.7.0.8
	OPENBSD_3_5_BASE:1.1.1.7
	OPENBSD_3_4:1.1.1.7.0.6
	OPENBSD_3_4_BASE:1.1.1.7
	OPENBSD_3_3:1.1.1.7.0.4
	OPENBSD_3_3_BASE:1.1.1.7
	OPENBSD_3_2:1.1.1.7.0.2
	OPENBSD_3_2_BASE:1.1.1.7
	TEXINFO_4_2:1.1.1.7
	OPENBSD_3_1:1.1.1.6.0.10
	OPENBSD_3_1_BASE:1.1.1.6
	OPENBSD_3_0:1.1.1.6.0.8
	OPENBSD_3_0_BASE:1.1.1.6
	OPENBSD_2_9:1.1.1.6.0.6
	OPENBSD_2_9_BASE:1.1.1.6
	OPENBSD_2_8:1.1.1.6.0.4
	OPENBSD_2_8_BASE:1.1.1.6
	OPENBSD_2_7:1.1.1.6.0.2
	OPENBSD_2_7_BASE:1.1.1.6
	TEXINFO_4_0:1.1.1.6
	OPENBSD_2_6:1.1.1.5.0.4
	OPENBSD_2_6_BASE:1.1.1.5
	OPENBSD_2_5:1.1.1.5.0.2
	OPENBSD_2_5_BASE:1.1.1.5
	TEXINFO_3_12:1.1.1.5
	OPENBSD_2_4:1.1.1.4.0.6
	OPENBSD_2_4_BASE:1.1.1.4
	OPENBSD_2_3:1.1.1.4.0.4
	OPENBSD_2_3_BASE:1.1.1.4
	OPENBSD_2_2:1.1.1.4.0.2
	OPENBSD_2_2_BASE:1.1.1.4
	TEXINFO_3_11:1.1.1.4
	OPENBSD_2_1:1.1.1.3.0.2
	OPENBSD_2_1_BASE:1.1.1.3
	TEXINFO_3_9:1.1.1.3
	OPENBSD_2_0:1.1.1.2.0.2
	OPENBSD_2_0_BASE:1.1.1.2
	TEXINFO_3_7:1.1.1.2
	TEXINFO_3_6:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.1
date	95.12.22.16.47.08;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.12.22.16.47.08;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.07.30.17.34.15;	author niklas;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	96.12.15.21.37.46;	author downsj;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	97.08.01.21.59.28;	author kstailey;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	99.01.11.16.31.25;	author espie;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2000.02.09.01.23.50;	author espie;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2002.06.10.13.20.06;	author espie;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2006.07.17.16.03.14;	author espie;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@Wed Jun 21 03:19:39 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_infoinclude): Clean up after printing
	error if the file couldn't be included.
	(discard_braces): Print errors only for those unmatched open
	braces that belong to a texinfo command.

	* */Makefile.in: Use @@CFLAGS@@ and @@LDFLAGS@@.

	* makeinfo/makeinfo.c: End `node_search_string' and friends with a
	terminating null character.

Wed Jun 21 01:23:49 1995  Jim Meyering (meyering@@comco.com)

	* makeinfo/makeinfo.c: Close comment after #endif.

Tue Jun 20 04:58:26 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* emacs/Makefile.in (install): Fix typo: "fle" -> "file".

	* Makefile.in (VERSION): Bump to 3.6

	* info/clib.c: Include general.h for `info_toupper' and friends.

	* info/clib.h: strncmp and strncascmp return an int.  What kind of
	drugs was I on?

Mon Jun 19 23:34:47 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (make_index_entries_unique): Copy the last
	index entry.

Mon Jun 19 21:55:49 1995  Noah Friedman  <friedman@@prep.ai.mit.edu>

        * util/texi2dvi (--version): New option.
        Cosmetic changes.

Mon Jun 19 16:06:40 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_macro): Fix typo.  `x != y' is not the
	same as `x |= y'.

	* info/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).
	* makeinfo/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).
	* util/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).
	* libtxi/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).

	* emacs/Makefile.in (uninstall): New target.
	(install): Use the definition of $(lispdir), don't dynamically
	find it.  Use INSTALL_DATA not cp.
	(exec_prefix): use @@exec_prefix@@ not $(prefix).

	* makeinfo/makeinfo.c (apply): If there isn't an actual argument
	for a named argument, default it to "".

	* Makefile.in (VERSION): Now at 3.5.
	(texinfo): Make ./makeinfo/makeinfo depend on sub-all for parallel
	makes.

	* emacs/Makefile.in (ELISP_OBJS): Explictly declare .el and .elc
	in the SUFFIXES list.

	* makeinfo/makeinfo.c (cm_today): Special case for losing alpha.
	* (minor_version): Increase to 63.

	* info/info.c (version_string): Now at 2.14.
	* info/tilde.c: Declare getenv to return (char *).
	* info/window.c (build_message_buffer): Jump through hoops to keep
	DEC Alpha's happy.

	* info/xmalloc.c: Declare malloc and realloc as (void *) returning
	functions.

Sun Jun 18 12:47:21 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* emacs/detexinfo.el (detexinfo-line-cmds-without-arg):
	Handle ifhtml.

Fri Jun 16 13:48:14 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* util/texindex.c: Update TEXINDEX_VERSION_STRING for texinfo 3.4

	* (All *.c *.h *.in): Change FSF old address to new.
	* texinfo.texi (Obtaining TeX): Change FSF old address to new
	address.  Change Old phone numbers to new phone numbers.

	* Makefile.in (VERSION): Change to 3.4.

Thu Jun 15 22:49:07 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi, emacs/=development/cover.texi: update
          Texinfo distribution package version number

Thu Jun 15 09:23:02 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/info.c: (minor_version): Set to 13.

	* info/clib.c,h: New files gather together replacement functions
	for those POSIX-style C library functions that are not present on
	the target system.

	* info/Makefile.in (SRCS): Add clib.c and clib.h.  makedoc now
	needs clib.o to build on systems missing various string.h stuff.

	* info/variables.c (whole file): Call strdup, not savestring.
	* info/tilde.c (whole file): Call strdup, not savestring.
	* info/search.c (whole file): Call strdup, not savestring.
	* info/nodes.c (whole file): Call strdup, not savestring.
	* info/nodemenu.c (whole file): Call strdup, not savestring.
	* info/man.c (whole file): Call strdup, not savestring.
	* info/makedoc.c (whole file): Call strdup, not savestring.
	* info/m-x.c (whole file): Call strdup, not savestring.
	* info/info.c (whole file): Call strdup, not savestring.
	* info/indices.c (whole file): Call strdup, not savestring.
	* info/echo_area.c (whole file): Call strdup, not savestring.
	* info/session.c (whole file): Call strdup, not savestring.
	* info/filesys.c (whole file): Call strdup, not savestring.

	* makeinfo/makeinfo.c (minor_version): Change to 1.62.
	* makeinfo/makeinfo.c (get_execution_string): Initialize `i' to 0
	in case there are no execution_strings.

Wed Jun 14 17:48:06 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* texinfo.texi: include "texinfo.tex", not "texinfo".
	* info/session.c (forget_window_and_nodes): Place a sequence point
	in between "info_windows[i] = info_windows[++i];" as per various
	compiler experts.

	* makeinfo/makeinfo.c (strdup): Create this function if the system
	doesn't have it.
	(discard_insertions): Use the insertion's filename, not the
	current input file.
	(push_insertion): Remember the current input file with each
	insertion.
	(pop_insertion): Free storage used by remembered input file.

	* makeinfo/makeinfo.c (whole file): Use `strdup' instead of
	`savestring'.
	* configure.in: Check for `strdup'.

Wed Jun 14 15:58:51 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

        * libtxi/Makefile.in (prefix): Use @@prefix@@, not /usr/local/

Wed Jun 14 10:50:57 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* Makefile.in (DISTFILES): Don't include *.elc files in the list
	  of files to distribute.
	  (installdirs): Include `emacs' in the list of sub-dirs with
	  Makefile.in's.

	* emacs/elisp-comp: Shell script which batch compiles the *.el files.
	* emacs/Makefile.in: New file contains targets to build the elc files.
	* configure.in: Add `emacs/Makefile' to the list of created makefiles.
	* makeinfo/makeinfo.c (whole file): Give every function a return
	  type.  All cm_xxx functions are now void.  Add declarations for
	  functions to top of file.

Mon Jun 12 12:00:57 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/man.c (reference_section_starters): Add versions of "SEE
	ALSO" and "RELATED INFORMATION" with tabs instead of spaces as
	well.

	* util/texindex.c: Back out changes for OFF_T.  Explicity coerce
	the result of lseek to a long, and use longs everywhere.

	* texinfo.texi: Change "@@end shorttitlepage" to "@@end titlepage".
	* makeinfo/makeinfo.c: Make @@shorttitlepage ignore the rest of the
	line.

	* util/texindex.c (strrchr): Create if not present.
	Test for HAVE_STRCHR and HAVE_STRING_H.
	(main): Make PROGRAM_NAME be just the last path componenet of argv[0].
	(decode_command): Rewrite.
	(usage): Rewrite.  Now texindex handles --version.

	* makeinfo/makeinfo.c (make_index_entries_unique): Rewrite from
	scratch.

	* Don't distribute created info files with texinfo.  After all,
	the user will have the tools necessary to create them, yes?

	* Makefile.in (distclean): Remove *.log

	* info/man.c (read_from_fd): Change timeout value for select to 15
	seconds.  Some systems (e.g., albert.ai.mit.edu) actually need
	more than 10 seconds to format a man page.

	* info/tilde.c: Fix typo in declaration for
	`tilde_expansion_failure_hook'.

Wed Jun  7 13:36:53 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* info/tilde.h: Change type of tilde_expansion_failure_hook to
	a pointer to a function returning a (char *).
	* info/tilde.c: Change type of tilde_expansion_failure_hook to a
	pointer to function returning a (char *).

	* makeinfo/makeinfo.c (get_execution_string): Don't use `i' in the
	latter assignment, use `execution_strings_index' instead.

	* info/man.c (read_from_fd): Change logic to avoid using FIONREAD.

	* info/xmalloc.c (xrealloc): Use (void *), not (caddr_t *).
	* info/xmalloc.c (xmalloc): Use (void *), not (caddr_t *).

	* Makefile.in (DISTFILES): Don't find RCS no "=" directories.

	* util/Makefile.in (prefix): Use @@prefix@@ as the value.
	* info/Makefile.in (prefix): Use @@prefix@@ as the value.
	* makeinfo/Makefile.in (prefix): Use @@prefix@@ as the value.

Wed Jun  7 12:29:28 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi: Correct minor typos.

        * emacs/texinfmt.el:  Don't require @@shorttitlepage to be inside
          of @@iftex ... @@end iftex

Mon May  8 18:33:52 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/nodes.c: #include "man.h" if HANDLE_MAN_PAGES.
	(info_get_node_of_file_buffer): If the file buffer is one
	associated with manpages, call the manpage node finding
	function instead.
	(info_find_file_internal): If the file buffer is one associated
	with manpages, avoid doing any file I/O.
	(info_reload_file_buffer_contents): Ditto.
	(info_find_file_internal): Call create_manpage_file_buffer instead
	of info_load_file_internal.

	* info/info.c: #include "man.h" if HANDLE_MAN_PAGES.
	(main): If the initial node cannot be found, perhaps find it as a
	manpage.
	* info/info-utils.c: #include "man.h" if HANDLE_MAN_PAGES.
	(info_xrefs_of_node): If handling man pages, and this is a manpage
	node, use xrefs_of_manpage.

	* info/session.c (info_set_input_from_file): Only fclose (stream)
	if it is non-null and not stdin.
	#include "man.h" if HANDLE_MAN_PAGES.
	(info_menu_or_ref_item): If handling man pages, and this is a
	manpage node, get the xrefs from manpage_xrefs_in_binding.
	(info_man): Compile in for M-x man if handling man pages.
	(info_move_to_xref): If handling man pages, and the current node
	is a manpage node, use locate_manpage_xref to get xrefs.

Thu May  4 08:55:23 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/info.c (main): If the output device is not a terminal, and
	no output filename has been specified, make user_output_filename
	be "-", so that the info is written to stdout, and turn on the
	dumping of subnodes.

Thu Apr 13 18:05:06 1995  Daniel Hagerty  <hag@@churchy.gnu.ai.mit.edu>

	* texinfo.texi: Fixed @@end titlepage/@@end shorttitlepage

Sat Apr  8 12:51:49 1995  Roland McGrath  <roland@@churchy.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c [! HAVE_STRERROR] (strerror): New function,
 	snarfed from ../info/filesys.c.
	(cm_infoinclude): Use strerror instead of sys_errlist.

Tue Apr  4 18:44:00 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* util/texindex.c (sort_offline): Change TOTAL to be an off_t.
	* util/texindex.c (sort_in_core): Change TOTAL to be an off_t.
	* util/texindex.c (MAX_IN_CORE_SORT): Cast to off_t.

Sun Apr  2 16:20:13 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/Makefile.in: Define DEFAULT_INFOPATH in case we are
	compiling in the current directory.
	* info/Makefile.in (info.o): Add filesys.h because of DEFAULT_INFOPATH.
	* info/(search.c,h, nodes.c info-utils.c) Use strcasecmp and
	strncasecmp instead of stricmp and strnicmp.  Define strcasecmp
	and strncasecmp in search.c if !HAVE_STRCASECMP.
	* info/search.c: If HAVE_STRING_H include it.
	* info/nodes.c: If HAVE_STRING_H include it.
	* info/info-utils.c: If HAVE_STRING_H include it.
	* info/info.h: If HAVE_STRING_H include it.
	* configure.in (AC_HAVE_FUNCS): Check for strcasecmp.
	* makeinfo/makeinfo.c (strcasecmp): Define if !HAVE_STRCASECMP.
	* makeinfo/makeinfo.c (entire file): Use `strcasecmp' instead of
	`stricmp'.
	* makeinfo/makeinfo.c (cm_ifeq): New command takes three args.
	Compares first two, executes remainder if the first two are
	string-wise eq.
	* makeinfo/makeinfo.c (ifhtml): Add to command list.  Shouldn't be
	used, but it is by people who don't want to hack macros.

Sat Apr  1 09:20:14 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makeinfo/makeinfo.c (begin_insertion): Fix reversed arguments to
	line_error.

	* info/info-stnd.texi: Use "end" footnote style instead of "separate".

	* info/Makefile.in: Change "rm -f" to $(RM).

	* info/general.h: Define zero_mem in terms of memset if we have
	it, else in terms of bzero if we have that, else as inline code.

	* info/NEWS: Updated to reflect changes in 2.11.

Fri Mar 31 22:38:31 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* Makefile (DISTFILES): Don't include *.a, *orig, nor *.e
	files.
	(DISTFILES):

Sat Mar  4 12:16:29 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* Makefile.in: Use @@prefix@@ instead of hardwired `/usr/local'.
	  Clean up makefile rules which make in subdirs.
	  (ALL_SUBDIRS): Add makeinfo/macros to list of subdirectories.

	* configure.in (AC_CHECK_FUNCS): Add `bcopy' to list of things to
	check for.

Fri Mar  3 13:54:10 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi: Minor changes for incremental new edition 2.20.

Fri Mar  3 19:01:36 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* filesys.c (filesys_read_info_file): Local variable ST_SIZE is a
	long which has the value of finfo->st_size casted to it.
	* nodes.c (whole file): Similar changes.

	These changes and the following for makedoc.c were required for
	proper operation on HPm68k NetBSD.

Mon Feb 27 15:16:27 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makedoc.c (process_one_file): Local variable FILE_SIZE is a long
	which has the value of finfo.st_size casted to it.


Fri Mar  3 18:58:38 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makeinfo.c (find_and_load): Cast fileinfo.st_size to a long for
	internal use.  This makes things work on NetBSD.


Fri Mar  3 13:54:10 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi: Minor changes for incremental new edition 2.20.

Fri Mar  3 09:41:39 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* configure.in (TERMLIBS): Use AC_CHECK_LIB instead of
	AC_HAVE_LIBRARY.

Mon Jan  9 16:55:31 1995  Brian Fox  <bfox@@churchy.gnu.ai.mit.edu>

	* Makefile.in (DISTFILES): Add the directory EMACS-BACKUPS to the
	list of things to avoid distributing.

Tue Nov 29 17:48:37 1994  David J. MacKenzie  <djm@@duality.gnu.ai.mit.edu>

	* configure.in: Check for off_t.
	* util/texindex.c (main): Use it.

Fri Nov 11 14:46:28 1994  David J. MacKenzie  <djm@@duality.gnu.ai.mit.edu>

	* configure.in: Update for Autoconf v2.

Thu Oct 13 02:17:38 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* emacs/detexinfo.el (detexinfo): Handle @@!, @@?, @@^, @@".

Mon Aug  1 03:26:13 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* texindex.c: Move the memset define down past string.h include.

Tue Jun 28 14:21:43 1994  David J. MacKenzie  (djm@@churchy.gnu.ai.mit.edu)

	* makeinfo/makeinfo.c: Add --help option.
	(usage): Take args for stream and error code.
	Change callers.
	(print_version_info): Write to stdout, not stderr.

Wed May 18 18:55:24 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/session.c (forget_window_and_nodes): Negate test for
	internal_info_node_p.  We only want to free the text if it is
	not an internal node.

Thu Mar 10 03:07:18 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)

	* texindex.c (memset): Fix invalid parm name (was 0).

Thu Feb 10 12:56:52 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * makeinfo/makeinfo.c (current_item_function): Don't loop if elt
        is NULL.

Wed Feb  9 12:21:09 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (minor_version): Release now at 1.60.

	* makeinfo/makeinfo.c (expand_filename): Additional fixes.  Now
	when called with NULL filename, makes an output filename from the
	input filename.
	(convert_from_loaded_file): If REQUIRE_SETFILENAME is #defined (no
	longer the default case) then error if no @@setfilename was found
	in the file.  If REQUIRE_SETFILENAME is not #defined, the input
	file starts either at the first line, or at the second line if the
	first line contains the text "\input", and the output filename is
	the input file name without directory and with ".info" replacing
	any extension found.
	(convert_from_loaded_file): Fixed bug in search for first
	occurence of "@@setfilename".

Tue Feb  8 14:16:58 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * configure.in: Check for sys/file.h.
        info/dir.c, info/filesys.c, info/makedoc.c, info/nodes.c,
        info/session.c, info/termdep.h, makeinfo/makeinfo.c
        [HAVE_SYS_FILE_H]: Include <sys/file.h>.

        * makeinfo/makeinfo.c (convert_from_loaded_file): Print
        real_output_filename instead of output_filename, so user knows
        exactly where output file is going.

        Fri Jun 11 14:34:30 1993  Ian Lance Taylor  (ian@@cygnus.com)
       	* configure.in: Check for sigprocmask and sigsetmask.
	* info/signals.h (HAVE_SIGSETMASK): Don't define.
	(HAVE_SIGPROCMASK): Use instead of _POSIX_VERSION.
	(BLOCK_SIGNAL, UNBLOCK_SIGNAL): If neither HAVE_SIGPROCMASK nor
	HAVE_SIGSETMASK is defined, define these to do nothing.
	* info/signals.c (sigprocmask): Don't compile if HAVE_SIGSETMASK
	is not defined.

	* info/terminal.c (terminal_prep_terminal): Don't clobber VINTR
	and VQUIT in conditionals.

Mon Feb  7 18:10:22 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (full_pathname): Correct to really return
	the full pathname of the input argument.  Now makeinfo
	/foo/bar.texi, where /foo/bar.texi contains "@@setfilename
	bar.info", correctly leaves the output file in "./bar.info".
	Note that "@@setfilename ../bar.info" still works; this is already
	an absolute pathname.

Sat Feb  5 13:04:05 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c: Version 1.59 released.

	* makeinfo/makeinfo.c (whole file):  Large number of changes allow
	the "-E filename" option to be used to write a macro expanded
	output file.  On a file which contains no @@include's and no
	@@macro's, the output file is identical to the input file.

	* makeinfo/makeinfo.c (declarations): Remove cm_tex ().  It is
	never used since it is implemented with `command_name_condition'.

	* makeinfo/makeinfo.c (add_char): Shift braces following the
	current break point if we have deleted any characters.
	(adjust_braces_following): New function adjusts all of the markers
	in the brace stack which follow HERE by AMOUNT.  This fixes a bug
	where (for example) @@var{} immediately following a line break
	which is the end of a sentence modified the output incorrectly.

Wed Feb  2 14:14:03 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo: Version 1.58.

	* makeinfo/makeinfo.c (cm_node): Add extra hair to allow
	backtracking through execution strings.  Add extra hair to allow
	the first node seen after a @@top node is seen to adjust the
	sectioning level of the @@top node and associated menus.
	Fix a few typos.
	Add facility for macros to invoke the original definition.  This
	works by not allowing a single macro to recurse.  Mutual recursion
	is also disallowed with this plan.

	* makeinfo/macros: New directory contains shippable macros.
	* makeinfo/macros/simpledoc.texi: Macros which simplify the most
	common uses of TeXinfo.  See the example file.
	Macros are now a reasonable way to get people started using
	TeXinfo.

Mon Jan 31 12:54:36 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (minor_version): Increase to 57.

	* makeinfo/makeinfo.c (cm_node): Call execute_string on the node,
	next, prev, and up pointers.
	(reader_loop): Change logic for `@@bye'.  No longer required at the
	ends of executed strings.
	(execute_string): Do not append `@@bye' to the string to execute.

	* makeinfo/makeinfo.c (whole file): Use COMMAND_PREFIX instead of
	hardcoding `@@' character in strings and searches.

	* makeinfo/makeinfo.c (read_command): If HAVE_MACROS is defined,
	then recognize and execute macros here.
	(CommandTable): Add "macro" and "unmacro" to table if HAVE_MACROS
	is defined.

	* makeinfo/makeinfo.c (cm_macro, cm_unmacro, execute_macro)
	  makeinfo/makeinfo.c (get_macro_args, find_macro, add_macro)
	  makeinfo/makeinfo.c (delete_macro, array_len, apply):
	  New functions implement macro facility if HAVE_MACROS is
	  defined.

	* makeinfo/macro.texi (new file): Examples of using the new macro
	facility.

Mon Jan 31 10:24:52 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * makeinfo/makeinfo.c (executing_string): Restore global
        declaration.

Mon Jan 24 23:48:26 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * texinfo.texi: Various typo fixes from Bob Chassell
        <bob@@gnu.ai.mit.edu>.

Thu Jan  6 13:34:21 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * texinfo.texi: Turned on smallbook format and @@set smallbook.

Wed Dec 15 20:08:43 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/filesys.h (DEFAULT_INFOPATH): Added /usr/local/info,
        /opt/gnu/info, /usr/share/info, and /usr/local/share/info.

Tue Dec 14 19:10:20 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * libtxi/Makefile.in (ALLOCA): Define from configure.

Fri Dec 10 04:33:12 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi: Put under RCS control.

Sun Dec 26 11:55:46 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/session.c (info_numeric_digit_arg_loop): Fix doc string.

	* info/infodoc.c (create_internal_info_help_node): Print out list
	of functions which have to keystroke equivalent if we support
	NAMED_FUNCTIONS.

	* info/filesys.c (compress_suffixes): Add ".gz" for "gunzip" to
	alist.

	* info/footnotes.c (make_footnotes_node): If refs[i] doesn't have
	a nodename, then it couldn't be a reference to a footnote.

	* info/nodemenu.c (get_visited_nodes): Handle the case where
	filter_func has left no possible buffers to select.

Sat Dec 25 10:35:56 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/infodoc.c (create_internal_info_help_node): Conditionalize
	generation of the help node based on the #define
	HELP_NODE_GETS_REGENERATED.  When this is not set (the default)
	the help node is generated exactly once, and is not gc'able.
	Otherwise, a new node is always created for the help window, and
	the old node gets garbage collected by the gc system.
	(info_find_or_create_help_window): Conditionalize window node
	selected based on the #define HELP_NODE_GETS_REGENERATED.

	* info/dir.c (add_menu_to_file_buffer): Place exactly one blank
	line between directory entries.

	* info/info.c (version_string): Update minor version to "11".

	* info/info.h: Update comment to "2.11".

	* info/dir.c (maybe_build_dir_node): Only add the contents of a
	new file if it is not identical to the file of the DIR buffer.

	* info/nodes.c (info_get_node): Call `maybe_build_dir_node' on
	"dir" as well as "localdir" to mimic emacs-19.22 "dir" merging
	behaviour.

Fri Dec  3 13:41:44 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/info-utils.c (canonicalize_whitespace): Suppress whitespace
	found at the start of STRING.

Sat Nov 20 14:00:50 1993  Brian J. Fox  (bfox@@hippie)

	* info/indices.c (DECLARE_INFO_COMMAND): Fix typo in assignment to
	`old_offset' (= instead of ==).

Tue Nov  2 12:22:40 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (make_index_entries_unique): New function
	makes a sorted array have all unique entries by appending numbers
	to the ends of strings.
	(sort_index): Call `make_index_entries_unique'.

Mon Sep 20 12:04:05 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (get_execution_string): New Function returns
	a pointer to an  EXECUTION_STRING structure.
	(execute_string): No longer uses a static string; call
	`get_execution_string' instead in order to get a free buffer for
	consing.

Sun May 23 07:00:20 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * Texinfo 3.1 released.

Sat May 22 18:21:27 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/info.c (info_patch_level): Increment constant to 1.

        * info/Makefile.in (DEFAULT_INFOPATH): Default definition deleted.
        Makefile.in: Put it here instead.
        * Makefile.in (MDEFINES): Add DEFAULT_INFOPATH.

        * configure.in: check for vfprintf and vsprintf.

        * makeinfo/makeinfo.c: Version 1.55.

        * makeinfo/makeinfo.c (add_word_args, execute_string) [HAVE_VARARGS_H]:
        Don't use this definition unless HAVE_VSPRINTF is also defined.
        (error, line_error, warning) [HAVE_VARARGS_H]: Don't use this
        definition unless HAVE_VFPRINTF is also defined.
        Remove indentation of all cpp directives, except for #pragma.

Fri May 21 14:34:24 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * texinfo.texi: Rename to texi.texi.
        Change @@setfilenname and START-INFO-DIR-ENTRY to `texi.info'.

        * Makefile.in (MDEFINES): Pass LDFLAGS to sub-makes.
        (realclean): Delete `configure'.
        Changed all references to texinfo.info to texi.info

        * configure.in: Add AC_PROG_RANLIB, and AC_CONST.
        Check for `rindex' function.
        Check for varargs.h.
        Clean up symbol names for header files so a single AC_HAVE_HEADERS
        can be used.
        (AC_INIT): Use texi.texi instead of makeinfo/makeinfo.c

        * info/info-utils.h: Copy definitions of bcopy, index, and rindex
        (with appropriate #ifdef wrappers) from termdep.h.  These are
        included by a mutually exclusive set of files.

        * info/termdep.h [HAVE_SYS_PTEM]: Use HAVE_SYS_PTEM_H instead.

        * info/terminal.c, info/termdep.h [HAVE_TERMIO]: Use HAVE_TERMIO_H
        instead.

        * info/makedoc.c, info/filesys.c [!O_RDONLY]: Include fcntl.h or
        sys/fnctl.h, depending on whether HAVE_SYS_FCNTL_H is set.

        * info/termdep.h: Remove all indentation in #-exprs.
        Remove old assumptions about bcopy, index, and rindex.
        [HAVE_BCOPY]: Define bcopy.
        [HAVE_RINDEX]: Define index and rindex.

        * info/nodes.c (info_get_node): Don't call stricmp if nodename is
        NULL. Remove indentation in #-exprs.

        * info/echo_area.c (echo_area_stack_depth): Declare static.

        * info/Makefile.in (DEFAULT_INFOPATH): Make separate Makefile
        variable so it can be overridden more easily by the user.  Add `.'
        to beginning of path.
        (clean): Delete core.* (386bsd core files).
        (MAKEDOC): Variable removed.  Refer to `makedoc' explicitly.
        (funs.h): Add `:' commands after if, to avoid spurious nonzero
        exit statuses.

        * info/userdoc.texi: Improved comments explaining its purpose.

        * makeinfo/makeinfo.c [HAVE_VARARGS_H]: Include varargs.h.
        (error, line_error, warning, add_word_args,
          execute_string)[HAVE_VARARGS_H]: New versions that
        use varargs.  From bfox.

        * makeinfo/Makefile.in (clean): Delete core.* (386bsd core files).

        * util/Makefile.in (clean): Remove core.* (386bsd core files).

        * libtxi/Makefile.in: Remove all references to $(common).
        (RANLIB): New variable, set from autoconf.
        (libtxi.a): Use $(RANLIB) instead of `ranlib' in target rules.
        (clean): Delete core.* (386bsd core files).

Tue May 18 12:08:24 1993  Robert J. Chassell (bob at grackle.stockbridge.ma.us)

        * emacs/texinfmt.el (texinfo-format-refill): Do not fill a section
        title line with the asterisks, hyphens, etc. that underline
        it in any circumstance.

Sun May 16 13:53:43 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/mkinstalldirs: handle relative pathnames.

Fri May 14 20:18:49 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/mkinstalldirs: initialize IFS if unset.

Tue May 11 06:33:14 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * makeinfo/makeinfo.c (cm_item): don't dereference item_func if NULL.

Mon May 10 14:50:31 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * Texinfo 3.0 released.

        * Makefile.in (ALLOCA): Provide for substitution.

Mon May 10 10:12:53 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * emacs/texinfmt.el (texinfmt-version): Updated year.

Fri Apr 16 04:48:03 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * makeinfo/makeinfo.c: Version 1.54 from bfox.

        * util/fixfonts: Replace instances of `[..]' with `test'.
        Use more portable `test' arguments: `z$foo = z' instead of `! $foo'.
        Robustify quoting in eval assignments.
        (textfmdir, texpkdir, texgfdir): Don't override definition from
        environment, if any.
        Trap EXIT, SIGHUP, SIGINT, SIGQUIT, SIGTERM to delete temp files
        instead of trying to remove them explicitly before calling exit.
        When changing cwd, do so in subshell, in case various tex*dir
        variables are relative.
        Don't use `head', `dirname', or `basename'.  These don't behave
        consistently and/or don't even exist on some systems.  They can
        all be emulated with `sed' anyway.
        (tempfile2_line1): New variable.  Use it instead of running
        process to extract first line out of tempfile2 multiple times.
        Eliminate some gratuitous uses of $tempfile2, such as in for loops.

Fri Mar 26 23:25:13 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * texinfo.texi: @@setfilename texinfo.info.

        * makeinfo/makeinfo.c (reader_loop, end_insertion): Fix typos in
        comments.
        (handle_variable_internal): Handle the case that there further
        menu text after a false ifset/ifclear.

        * util/texi2dvi: Version 0.4
        Replace all instances of `[ ... ]' with `test'.
        Updated bug-reporting address.

Thu Mar 25 12:31:30 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/Makefile.in (install): Install info.1 man page.
        (uninstall): Remove installed info.1 man page.

        * info/infoman.texi: Standalone manual renamed to info-stnd.texi.
        Makefile.in: Targets updated appropriately.

        * info/Makefile.in (LDEFS): New variable.  Use it for info-local
        macros, since DEFS will be inherited from parent make and any
        local definitions will get clobbered.

        * info/RELEASE: Renamed to info/NEWS.

        * README: New file.

        * Makefile.in (topclean): New target.

        * Getting-started: Renamed to INTRODUCTION.  Former name is too
          long (over 14 chars).

        * New-features: Renamed to NEWS.

        * Makefile.in (MDEFINES): Set it.

        * Makefile.in (dist): Use --gzip option to tar to make sure
          resulting file is compressed with gzip.  Change tar file
          extension from `.Z' to `.z'.

        * Makefile.in (DISTFILES): Filter out any file or directory names
          starting with `='.

        * fixfonts: Moved to util/fixfonts.

        * RELEASE: Deleted.

        * makeinfo/Makefile.in (VPATH): Use $(srcdir), not @@srcdir@@.
        (common): Use ../libtxi, not ../common.
        (makeinfo.in): Run makeinfo with --no-split.

        * makeinfo/makeinfo.texi: Changes from bob.

        * util/Makefile.in (VPATH): Use $(srcdir), not @@srcdir@@.
        (common): Use ../libtxi, not ../common.

        * util/fixfonts: Moved from top-level directory.

Wed Mar 24 10:21:31 1993  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-format-region): Do not require
        `@@setfilename' line; delete `\input texinfo' line if part of
        region.

        * emacs/texinfmt.el (texinfo-raise-lower-sections): Raise or lower the
        hierarchical level of chapters, sections, etc. according to
        `@@raisesections' and `@@lowersections' commands.

Thu Mar 18 16:02:27 1993  Robert J. Chassell  (bob at grackle)

        * emacs/texinfo.el (texinfo-show-structure): Indent *Occur* buffer
        according to the structure of the file.

Sat Mar  6 05:16:44 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi: use ${1+"$@@"}, not just "$@@".

Tue Feb  2 08:38:06 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/Makefile.in: Replace all "--nosplit" arguments to makeinfo
        with "--no-split"

Sun Jan 31 18:16:58 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi: Don't put .dvi and related auxillary files in same
        directory as source files.  Put them in current directory instead.
        (TEXINPUTS_orig): New variable.
        (file_texi): Variable removed.
        (filename_texi): New variable.
        (command_line_filename): Use this wherever references to file_texi
        occured except in setting filename_noext.
        (TEXINPUTS): Current directory and source directory where input
        file resides prepended to standard path before invoking TeX.

Wed Jan 27 16:24:37 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/Makefile.in: overhauled.

Tue Jan 26 21:04:23 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * Makefile.in, info/Makefile.in, makeinfo/Makefile.in: Overhauled.

        * configure.in: Renamed from texinfo.in.
          Incorporated makeinfo/makeinfo.in, info/info.in, and
          util/util.in.  Create all child Makefiles.

        * makeinfo/makeinfo.in, info/info.in: Deleted (incorporated into
        top configure.in).

        * util/util.in: Deleted (incorporated into ../configure.in).

Mon Jan 25 10:59:49 1993  Brian Fox  (bfox@@cubit)

        * info/info.c: New version 2.9; new variable INFO_PATCH_LEVEL
        appears in the version string if it is non-zero.  New function
        version_string () produces the current version string, as in 2.8-p1.

        * info/dir.c: New file implements Gillespies `localdir' hacks.

        * info/nodes.c (info_get_node): Now calls maybe_build_dir_node ()
        if the file name to look for is "dir".

        * info/nodes.h: New flag N_CannotGC unconditionally prevents garbage
        collection of a file buffer's contents.  Used when "dir" is made
        from at least one "localdir".

Fri Jan 22 11:36:42 1993  Brian Fox  (bfox@@cubit)

        * info/footnotes.c: Do not declare auto_footnotes_p as "extern" in
        this file.

Thu Jan 21 08:57:08 1993  Brian Fox  (bfox@@cubit)

        * info/info.c: New version 2.8.

        * info/userdoc.texi, info/infoman.texi, info/info.texi: Fully
        document Info; create both online and printed manual versions.
        "userdoc.texi" contains exactly the documentation for GNU Info 2.x.
        "infoman.texi" is a wrapper for that file; it is meant to produce
        printed documentation. "info.texi" has the user documentation as a
        complete chapter within itself, but continues to contain the Info
        tutorial.

        * info/makedoc.c: Convert "ea_" into "echo_area_" when creating the
        command name.

Fri Jan 15 16:50:35 1993  Brian Fox  (bfox@@cubit)

        * info/search.c (skip_node_characters): New argument NEWLINES_OKAY if
        non-zero says that newlines should be skipped over during parsing.

        * info/info-utils.c (info_parse_node): New argument NEWLINES_OKAY if
        non-zero says that newlines should be skipped while parsing out
        the nodename specification.

Wed Jan 13 14:42:33 1993  Brian Fox  (bfox@@cubit)

        * info/makedoc.c: Remove "info_" from the front of the command name
        before installing it.

        * info/session.c (info_menu_or_ref_item): A label of "Menu" is okay if
        the builder is not info_menu_of_node ();

        * info/m-x.c: New function replace_in_documentation () replaces \\[foo]
        with the keystrokes you type to get that command.  Now used in
        indices.c, info.c, infodoc.c.

Mon Jan 11 10:27:41 1993  Brian Fox  (bfox@@cubit)

        * info/variables.c, h: New files contain describe-variable and stuff
        moved out of m-x.c.

        * info/m-x.c: Move VARIABLE_ALIST and variable functions into
        variables.c.  Add documentation string to variable definition.

        * info/echo_area.c (push_echo_area): Zero the contents of
        echo_area_completion_items after pushing the vars.

Sat Jan  9 11:59:47 1993  Brian Fox  (bfox@@cubit)

        * info/Makefile.in: Add footnotes.c,h,o to the appropriate Makefile
        variables.

        * info/window.c (window_tile_windows): New function divides the
        available space among the visible windows.

        * info/session.c (info_tile_windows): New function calls
        window_tile_windows.

        * info/footnotes.c, footnotes.h: New file implements functions for
        aiding automatic footnote display when entering a node which has
        footnotes.

        * info/m-x.c: New user-variable "automatic-footnotes".

        * info/window.c (window_physical_lines) New function counts the
        carriage returns found in NODE.

Wed Jan  6 11:24:19 1993  Brian Fox  (bfox@@cubit)

        * info/general.h: #include <unistd.h> if we have it.

Tue Jan  5 11:12:33 1993  Brian Fox  (bfox@@cubit)

        * info/info-utils.c (info_concatenate_references): If either arg is
        NULL, return the other arg.

        * info/indices.c (info_indices_of_file_buffer): Simplified and
        corrected loop through tags/nodes of file buffer looking for
        indices.

        * info/search.c (skip_node_characters): Rewrite "if" statement for
        clarification and conciseness.

Fri Jan  1 03:18:26 1993  Brian Fox  (bfox@@cubit)

        * info/info.in: Check for setvbuf (), and check to see whether the args
        are reversed.

        * info/dribble.c (open_dribble_file) Check HAVE_SETVBUF and
        SETVBUF_REVERSED when setting the buffering on info_dribble_file.

Thu Dec 31 20:14:13 1992  Brian Fox  (bfox@@cubit)

        * info/session.c (info_select_reference) If the node couldn't be found,
        look for the label as a filename (i.e., "(LABEL)Top").

Wed Dec 30 01:57:50 1992  Brian Fox  (bfox@@cubit)

        * New Version 2.7 Beta.

        * info/echo_area.c: Numerous functions now do something with the
        numeric argument.  Kill ring implemented, as well as yank and
        yank_pop.  Also transpose-chars.

        * info/window.c (window_make_modeline): Check node->flags for
        N_IsCompressed and display "zz" in the modeline if the node comes
        from a file which is compressed on disk.

Mon Dec 28 17:33:12 1992  Brian Fox  (bfox@@cubit)

        * info/filesys.c, info/nodes.c: New member of FILE_BUFFER "FILESIZE"
        contains the size of file_buffer->contents.  finfo.st_size is no
        longer relied upon to read the contents of files, since the new
        function (filesys_read_info_file) can read compressed files.

        * info/filesys.c (info_find_fullpath) If a file starts with a slash (or
        tilde expansion causes it to start with a slash) still call
        info_find_file_in_path () on it so that we can find files with
        compression suffixes.

        * info/m-x.c: New variable "gc-compressed-files".

Tue Dec 22 03:45:28 1992  Brian Fox  (bfox@@cubit)

        * info/info.c: Version 2.6 Beta.

        * info/indices.c (info_index_next): Improve the final search for the
        matched index entry.

        * info/session.c (move_to_screen_line): New function implements `M-r'.
        Given a numeric argument, move point to the start of that line in
        the current window; without an arg, move to the center line.
        * infomap.c: Put move_to_screen_line () on `M-r'.

        * info/nodes.c (adjust_nodestart): Don't set N_UpdateTags unless the
        node came from a tags table.

        * info/nodes.c (info_find_file_internal): If the filename being looked
        for doesn't start with a `/', then additionally compare the
        filename against the fullpath of the file buffer sans the
        directory name.  This can happen when selecting nodemenu items.

Mon Dec 21 10:07:18 1992  Brian Fox  (bfox@@cubit)

        * info/session.c, info/display.c: Remove all references to
        active_window_ch, active_window_cv, cursor_h, and cursor_v.  The
        single function display_cursor_at_point () is used for all cursor
        movement, and to place the terminal's cursor at the right location
        on the screen.

Sat Dec 19 12:01:33 1992  Brian Fox  (bfox@@cubit)

        * info/nodemenu.c: New file implements a few functions for manipulating
        previously visited nodes.  `list-visited-nodes' produces a menu of
        the nodes that could be reached by info_history_node () in some
        window.  `select-visited-node' is similar to `list-visited-node'
        followed by `info-menu-item', but doesn't display a window with
        the visited nodes menu.

        * info/session.c (info_numeric_arg_digit_loop): If redisplay had been
        interrupted, then redisplay all of the windows while waiting for
        input.

        * info/display.c (display_was_interrupted_p): New variable keeps track
        of interrupted display.  Used in
        info/session.c:info_numeric_arg_digit_loop ().

        * info/session.c (info_global_next, info_global_prev): Use the numeric
        argument passed to determine how many nodes to move.

        * info/session.c (info_scroll_forward, info_scroll_backward): If the
        invoking key is not SPC or DEL only do Page Only scrolling.

Thu Dec 17 01:34:22 1992  Brian Fox  (bfox@@cubit)

        * info/display.c (display_update_one_window): Allow W_NoWrap to affect
        window display.

        * info/window.c (calculate_line_starts): Now takes a WINDOW * as an
        argument, and simply does the calculation, placing the results
        into window->line_starts and window->line_count.  It also handles
        W_NoWrap in window->flags.

Mon Dec 14 02:18:55 1992  Brian Fox  (bfox@@cubit)

        * info/session.c (info_backward_scroll): Don't try to get previous node
        if the top of the node isn't currently being displayed.

        * info/window.c (window_adjust_pagetop) Use new variable
        "window_scroll_step" to attempt to control the amount which the
        window scrolls.

        * info/m-x.c (info_variables) Add "scroll-step" to the list.

Thu Dec 10 08:52:10 1992  Brian Fox  (bfox@@cubit)

        * info/m-x.c: New variable entry show-index-matches.  When set to
        non-zero the matched portion of the search string is indicated
        with ` and '.  Perhaps I should use `|' inst|ea|d?

        * info/echo_area.c (ea_possible_completions): Always build completions
        before checking to see how many there were.

        * info/info-utils.c: (info_concatenate_references): New utility
        function concatenates references.

        * info/Makefile.in: Add indices.c and indices.h to SRCS and HDRS.
          Add indices.c to CMDFILES.

        * info/indices.c, info/indices.h: New file implements `i' and `,'
        commands of info, and provides index searching capabilities.

        * info/echo_area.c (info_read_completing_in_echo_area):  Split off into
        separate callable function info_read_completing_internal ().

        * info/echo_area.c (info_read_maybe_completing): New function calls
        info_read_completing_internal () with non-forcing argument.

        * info/session.c: Rename down_next_upnext_or_error () and
        prev_up_or_error () to forward_move_node_structure (), and
        backward_move_node_structure ().  Implement new commands
        info_global_next () and info_global_prev ().

        * info/infomap.c (initialize_info_keymaps): Bind `[' and `]' to
        backward_, forward_move_node_structure () respectively.

        * info/session.c (info_menu_digit): Called with "0" as arg, select the
        last menu item.

        * info/infomap.c (initialize_info_keymaps): "0" calls
        info_menu_digit ().

        * info/session.c (info_move_to_xref): Take dir into account when there
        are xrefs and menu items in the node and we are wrapping
        backwards.

Tue Dec  8 09:57:58 1992  Brian Fox  (bfox@@cubit)

        * info/info.c: Version 2.5 Beta.

        * info/terminal.c (terminal_insert_lines, terminal_delete_lines) Do not
        expect tgoto to return a new string; it returns the address of a
        static buffer.

        * info/infodoc.c (info_find_or_create_help_window) Correct check for
        prior existing help node.

        * info/m-x.c (set_variable): Allow variables to have a list of choices.
        Add new variable scroll-behaviour.

        * info/session.c (down_next_upnext_or_error, prev_up_or_error) New
        functions implement user-controlled behaviour when attempting to
        scroll past the bottom or top of a node.  New variable
        info_scroll_behaviour is user visible as "scroll-behaviour".

        * info/session.c (info_scroll_forward, info_scroll_backward) Call new
        functions for user-controlled scroll behaviour.

        * info/terminal.c (terminal_initialize_terminal) Set PC from BC not
        from BUFFER.

Mon Dec  7 11:26:12 1992  Brian Fox  (bfox@@cubit)

        * util/texindex.c: Change EXIT_SUCCESS and EXIT_FATAL to TI_NO_ERROR
        and TI_FATAL_ERROR respectively.  This avoids namespace conflicts
        on NeXT 2.0.

Sat Dec  5 00:07:59 1992  Brian Fox  (bfox@@cubit)

        * info/info.c: New option "--subnodes" says to recursively dump the
        menus of the nodes that you wish to dump.  Menu items which point
        to external nodes are not dumped, and no node is dumped twice.

Thu Dec  3 16:11:02 1992  Brian Fox  (bfox@@cubit)

        * info/session.c (info_error) Don't ring the bell if
        info_error_rings_bell_p is zero.  (info_abort_key) Ring the bell
        if printing "Quit" in the echo area wouldn't do it.

        * info/m-x.c (set_variable) New functions allows setting of
        variables in the echo area.  Currently, only visilble-bell and
        errors-ring-bell are implemented.

Wed Dec  2 13:11:37 1992  Brian Fox  (bfox@@cubit)

        * info/nodes.c, info/makedoc.c: If O_RDONLY is not defined by
        sys/file.h, include sys/fcntl.h.

        * info/filesys.c (info_file_in_path): Expand leading tildes found
        within directory names.

        * info/terminal.c (terminal_initialize_terminal) Set ospeed to 13 if
        not settable any other way.  It is an index into an array of
        output speeds.

        * info/display.c (free_display) Do not free a NULL display.

        * info/display.c (string_width): New functions returns the width of
        STRING when printed at HPOS.

Sun Nov 29 01:24:42 1992  Brian Fox  (bfox@@cubit)

        * info/info.c: New version 2.4 beta.

        * info/general.h: #define info_toupper and info_tolower which check
        their arguments before performing any conversion.

        * info/search.c, info/echo_area.c: Use info_toupper.

Sat Nov 28 14:23:24 1992  Brian Fox  (bfox@@cubit)

        * info/session.c (info_scroll_forward, info_scroll_backward) If at
        last/first page of the node, and the last command was
        forward/backward, do info_next/prev/_node.

        * info/session.c: New function info_select_reference_this_line gets
        menu or cross reference immediately.

        * info/infomap.c (initialize_info_keymaps): Add info_keymap[LFD] to
        invoke info_select_reference_this_line ().

        * info/session.c (info_last_reference) Rename to
        info_history_reference.  Wrote info_last_reference, and
        info_first_reference which go to the last or first node of an info
        file.

Fri Nov 27 00:59:02 1992  Brian Fox  (bfox@@cubit)

        * info/info.c: New version 2.3.  Completed implementing contents of
        TODO file.

        * info/session.c (info_redraw_display): Fix C-l with numeric arg.

Thu Nov 26 20:14:18 1992  Brian Fox  (bfox@@cubit)

        * info/m-x.c: New file implements reading named commands in the echo
        area, along with a new function "info-set-screen-height".
        Compilation of this file and some code in others controlled by the
        Makefile variable NAMED_COMMANDS (set to -DNAMED_COMMANDS).

        * info/window.c (window_new_screen_size) Rewrite from scratch, allowing
        clean growth and shrinkage of the screen.  New variable
        window_deletion_notifier is a pointer to a function to call when
        the screen changes size, and some windows have to get deleted.
        The function is called with the window to be deleted as an
        argument, and it should clean up dangling references to that
        window.

        * info/session.c (initialize_info_session): Set
        window_deletion_function to forget_window_and_nodes.

        * info/display.c (display_update_one_window): If the first row of the
        window to display wouldn't appear in the_screen, don't try to
        display it.  This happens when the screen has been made
        unreasonably small, and we attempt to display the echo area.

Tue Nov 24 00:47:20 1992  Brian Fox  (bfox@@cubit)

        * Release Info 2.2.

        * info/session.c: New functions implement reading typeahead and
        implement C-g flushing typed ahead characters.
        (info_search_internal): allows C-g to exit multi-file searches.

Mon Nov 23 01:53:35 1992  Brian Fox  (bfox@@cubit)

        * info/nodes.c: Remove calls to sscanf (), replacing them with calls to
        atol (), since that is much faster.
        (get_nodes_of_tags_table) Only check for "(Indirect)" if we
        haven't parsed any nodes out of the tags table.  Increase the
        amount that file_buffer->nodes grows to 100 from 50.  These two
        together sufficiently speed up the parsing process.

        * info/nodes.c: info_get_node_of_file_buffer_tags (),
        info_get_node_of_file_buffer_nodes (): Search the appropriate list
        and return a node.  This was simply a cut and paste edit to
        functionalize the code.

        * info/TODO: Remove suggestion for partial tag parsing, since tag
        parsing is much faster now.

Sat Nov 21 02:48:23 1992  Brian Fox  (bfox@@cubit)

        * info/makedoc.c: New File replaces makedoc.sh shell script.

        * info/infomap.c: Install info_isearch (on C-s) and
        info_reverse_isearch (on C-r) for Info windows.

        * info/session.c (incremental_search, info_isearch,
        info_reverse_isearch) New functions implement incremental
        searching.

Fri Nov 20 00:01:35 1992  Brian Fox  (bfox@@cubit)

        * info/terminal.c (terminal_initialize_terminal): Declare and set up
        `ospeed'.  Turn off C-s and C-q processing.

        * info/session.c (info_show_point) When this function is called, the
        desired result is to show the point immediately.  So now it calls
        set_window_pagetop () if the new pagetop is not the same as the
        old one.  This means that info_prev_line (), info_next_line (),
        info_forward_word (), and info_backward_word () can all scroll the
        window if they have to.

Thu Nov 19 12:27:07 1992  Brian Fox  (bfox@@cubit)

        * info/session.c (set_window_pagetop): Add scrolling to make this
        faster.

        * info/echo_area.c (push/pop_echo_area): Remember the list of items to
        complete over.

        * info/session.c (info_forward_char): Don't let point get equal to
        nodelen, only to nodelen - 1.

        * info/display.c: New function display_scroll_display () scrolls the
        rmembered display as well as the text on the actual display.

        * info/terminal.c: New functions terminal_scroll_terminal (),
        terminal_scroll_down (), and terminal_scroll_up ().  All
        implemented using "al" and "dl" termcap capabilities. (i.e.,
        insert and delete line).

Wed Nov 18 15:05:14 1992  Brian Fox  (bfox@@cubit)

        * info/termdep.h: Only define HAVE_FCNTL_H if !aix and !ultrix.

Tue Nov 17 20:35:08 1992  Brian Fox  (bfox@@cubit)

        * First Beta Release of Info 2.0.

Sun Nov  1 02:21:05 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi (--force): Option removed.  Always run tex at least
        once, don't bother checking if .dvi file is newer than source.

Fri Oct 30 02:16:28 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi (-D): debugging option renamed from '-d'.
        Made check to enable debugging more terse.
        When checking if index files have changed, use
        variable $this_file instead of $file in for loop.
        (file_texi): wherever the variable $file was used to reference
        the texinfo file, substituted $file_texi.

Sat Oct 17 07:30:34 1992  Brian J. Fox  (bfox@@helios)

        * util/texindex.c: Remove references to USG replacing them with a
        define declaring the actual feature required or missing.

Thu Oct 15 16:17:47 1992  Robert J. Chassell  (bob@@nutrimat.gnu.ai.mit.edu)

        * emacs/texinfmt.el (texinfo-format-setfilename): Remove date from
        Info file header so regression testing is easier.

Tue Sep 15 16:28:35 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfmt-version): New variable.
        (texinfo-format-setfilename): Include date and
        version in Info file header.
        Better documentation for @@definfoenclose
        Handle whitespace after @@end iftex, etc.

Thu Sep  3 09:25:37 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el: Fix typo re `texinfo-sequential-node-update.'

Tue Aug 18 08:56:24 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-value): Revise syntax.

        * emacs/texnfo-upd.el (texinfo-start-menu-description):
        New function to insert title as description in a menu.
        (texinfo-make-menu-list): Remove automatic title insertion.

        * emacs/texinfo.el (texinfo-mode-map): Add keybinding for
        texinfo-start-menu-description.

Wed Jul 29 11:58:53 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-set): Revise to set a string to the flag.
        (texinfo-value): @@value{flag}: New command which inserts the
        string to which the flag is set.

Tue Jul  7 15:10:52 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el (texinfo-master-menu): Error message if file
        contains too few nodes for a master menu.
        (texinfo-insert-master-menu-list): Only attempt to insert detailed
        master menu if there is one.

Wed Jun 10 15:26:18 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-append-refill): Refill properly when lines
        begin with within-paragraph @@-commands.

Tue Jun  9 12:28:11 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el: Add `texinfo-deffn-formatting-property' and
        `texinfo-defun-indexing-property' to @@deffn commands.

Mon Jun  8 11:52:01 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el: Replace `(mark-whole-buffer)' with
        `(push-mark (point-max) t) (goto-char (point-min))'
        to avoid `Mark set' messages.

Fri Jun  5 15:15:16 1992  Robert J. Chassell  (bob@@kropotkin.gnu.ai.mit.edu)

        * emacs/texnfo-upd.el (texinfo-check-for-node-name): Offer section
        title as prompt.
        (texinfo-copy-next-section-title): Copy title correctly.

Thu May 28 20:34:17 1992  Robert J. Chassell  (bob@@hill.gnu.ai.mit.edu)

        * emacs/texinfmt.el: @@vtable defined, parallel to @@ftable, for
        variables.
        (texinfo-append-refill): set case-fold-search nil so @@TeX is not
        confused with @@tex.

Thu Mar 26 21:36:41 1992  Robert J. Chassell  (bob@@kropotkin.gnu.ai.mit.edu)

        * emacs/makeinfo.el: Rename temp buffer from `*Makeinfo*' back to
        `*compilation*' so `next-error' works; unfortunately,
        `*compilation*' is written into the code as the name
        `next-error' needs.
        Rename `makeinfo-recenter-makeinfo-buffer' back to
        `makeinfo-recenter-makeinfo-buffer'

Thu May 14 21:14:25 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/fixfonts: Enclosed most variable references with "" to prevent
        potential globbing and other weirdness.  Eliminated uses of
        ${var-value}, which unfortunately isn't portable.

        * util/texi2dvi: rewritten from scratch.

Sat Apr 18 23:46:25 1992  Charles Hannum  (mycroft@@hal.gnu.ai.mit.edu)

        * util/fixfonts: Re-evaluate prefix and libdir if inherited (to resolve
        variable references from make).
        (texlibdir): Don't add '/tex', since it's already there.

Fri Apr 10 14:51:23 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/fixfonts: set prefix and libdir only if they are not already
        defined (i.e. not inherited from the environment).
        Changed default path for libdir to be consistent with Makefile.

Tue Mar  3 13:17:42 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el (texinfo-insert-master-menu-list): Insert a
        master menu only after `Top' node and before next node.
        (texinfo-copy-menu): Error message if menu empty.

Mon Feb 24 15:47:49 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-format-region): Make sure region ends in a
        newline.
        (texinfo-itemize-item): Recognize all non-whitespace on same line
        as @@item command.

Sat Feb 22 02:15:00 1992  Brian Fox  (bfox at gnuwest.fsf.org)

        * util/texindex.c: New version 1.45 has cleanups, should compile under
        VMS quietly.

Wed Feb 12 10:50:51 1992  Robert J. Chassell  (bob at grackle)

        * emacs/makeinfo.el: Rename temp buffer as *Makeinfo*.
        Rename `makeinfo-recenter-compilation-buffer'.
        (makeinfo-buffer): Offer to save buffer if it is modified.
        (makeinfo-compile): Do not offer to save other buffers.
        (makeinfo-compilation-sentinel): Switch to Info file.

Tue Feb  4 13:07:39 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-print-index): Format so that node names in
        the index are lined up.

Mon Feb  3 09:08:14 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-itemize-item): Format entry when text
        is on the same line as @@item command.  Also, handle @@-commands.
        (texinfo-format-region, texinfo-format-buffer-1): Set fill column
        to local value of Texinfo buffer.

        * emacs/texnfo-upd.el (texinfo-pointer-name):  Find only those
        section commands that are accompanied by `@@node' lines.

Tue Jan 14 16:10:16 1992  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el: Ensure that no commands depend on the value of
        case-fold-search.

Fri Jan 10 15:13:55 1992  Robert J. Chassell  (bob at kropotkin)

        * emacs/texinfmt.el (texinfo-append-refill): Replace use of
        unsupported function `looking-at-backward' with
        `re-search-backward'.

Mon Dec 23 23:46:42 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)

        * util/texindex.c: Change POSIX ifdefs to HAVE_UNISTD_H and
        _POSIX_VERSION.

Mon Dec 16 15:01:36 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-append-refill): New function appends
        @@refill to all appropriate paragraphs so you no longer need to
        append @@refill command yourself.
        (texinfo-format-region, texinfo-format-buffer-1,
        texinfo-format-include): Call `texinfo-append-refill'.

Fri Dec  6 01:25:09 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)

        * util/texindex.c: Conditionalize on _AIX (which is predefined) instead
        of AIX, just like makeinfo does.

Tue Nov 26 10:21:04 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el (texinfo-section-types-regexp): `@@subtitle' no
        longer treated as subsection.

Sat Nov 16 08:27:42 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)

        * util/fixfonts: New file, from Karl Berry.

Tue Nov 12 16:13:24 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el: Create @@end smalllisp.

Mon Nov 11 16:50:13 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfo.el (texinfo-environment-regexp): Add all other block
        enclosing Texinfo commands.

Thu Nov  7 10:23:51 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfo.el (texinfo-insert-@@end): Attempt to insert correct end
        command statement, eg, @@end table.  Fails with nested lists.
         (texinfo-insert-*): Accept prefix arg to surround following N
         words with braces for command.

Thu Oct 31 21:31:41 1991  Robert J. Chassell  (bob at kropotki)

        * emacs/texinfmt.el (texinfo-clear): Clear flag even if flag not
        previously set.

Wed Oct 23 11:15:58 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfo.el (texinfo-mode): page-delimiter now finds top node as
        well as chapters.

Tue Oct 22 11:46:12 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-do-flushright): Test whether a line is too
        long for the flush right command (line length must be less than
        the value of fill column).

        * emacs/texnfo-tex.el (texinfo-tex-buffer): Prompt for original file
        even if point moved to *texinfo-tex-shell*.
        texinfo-tex-original-file: variable to hold file name.

Wed Oct 16 08:32:05 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-format-center): Expand string before
        centering so @@-commands not included.

Thu Oct 10 22:01:47 1991  Robert J. Chassell  (bob at kropotki)

        * emacs/texnfo-tex.el (texinfo-show-tex-print-queue): Do not kill a
        running process; do start a process none exists.

Thu Sep 26 21:58:47 1991  Robert J. Chassell  (bob at kropotki)

        * util/texi2dvi: Misc. bugs fixed.

        * emacs/texinfo.el: Remove extraneous references to TeX.

Thu Sep 19 20:45:29 1991  Robert J. Chassell  (bob at kropotki)

        * emacs/texinfmt.el: add @@cartouche as a noop (makes box with rounded
        corners in TeX)

Tue Sep 10 20:44:57 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el (texinfo-make-one-menu): Copy node-name correctly
        for message.

Thu Aug 29 17:54:07 1991  Robert J. Chassell  (bob at kropotki)

        * emacs/texnfo-tex.el (texinfo-quit-tex-job): Do not set mark.

Wed Aug 21 10:36:21 1991  Robert J. Chassell  (bob at grackle)

         * emacs/texnfo-upd.el: (texinfo-copy-menu-title): Copy title as it
         should rather than node line.

Mon Aug  5 15:27:12 1991  Robert J. Chassell  (bob at grackle)

         * emacs/texinfmt.el (texinfo-format-convert): Changed regexp that
         looks for three hyphens in a row to find those between word
         constituent characters, as now, for Oxford Univ. style dashes and
         also between spaces, for Cambridge Univ. Press style dashes.

        * emacs/texnfo-tex.el (texinfo-tex-start-shell): Runs "/bin/sh" so
        `explicit-shell-file-name' is not set globally.

        * emacs/texnfo-upd.el: Rewrite messages.
        (texinfo-find-higher-level-node): Stop search at limit.
        (texinfo-copy-menu-title): Rewrite to handle outer include files.
        (texinfo-multi-file-update): Update all nodes properly;
        rewrite doc string and interactive.

Sat Aug  3 10:46:13 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-upd.el (texinfo-all-menus-update): Fixed typo that
        caused the function to create a master menu when it shouldn't.

        * emacs/texinfo.el (texinfo-mode): Make `indent-tabs-mode' a local
        variable and set to nil to prevent TABs troubles with TeX.

Wed Jul 31 11:07:08 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texnfo-tex.el (texinfo-quit-tex-job): New function: quit
        currently running TeX job, by sending an `x' to it.
        (texinfo-tex-shell-sentinel): New function to
        restart texinfo-tex-shell after it is killed.
        (texinfo-kill-tex-job): Rewrite to use kill-process rather than
        quit-process; uses `texinfo-tex-shell-sentinel' to restart
        texinfo-tex-shell after it is killed.
        (texinfo-tex-region, texinfo-tex-buffer): Replace
        texinfo-kill-tex-job with quit-process.

        * emacs/texinfo.el (texinfo-define-common-keys): Add keybinding for
        texinfo-quit-tex-job

Wed Jul 10 15:15:03 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el: New commands @@set, @@clear, @@ifset...@@end
        ifset, and @@ifclear...@@end ifclear.
        Definition functions rewritten to make them easier to
        maintain.

Wed Jul  3 19:37:04 1991  Robert J. Chassell  (bob at kropotki)

        * emacs/texinfmt.el (texinfo-format-deftypefn-index): Remove reference
        to data-type to make consistent with texinfo.tex and makeinfo.
        texinfo.el: Fix page-delimiter and texinfo-chapter-level-regexp
        variables.

Thu Jun 27 18:35:36 1991  Robert J. Chassell  (bob at nutrimat)

        * emacs/texinfmt.el: Add @@dmn as `texinfo-format-noop'.
        texinfo2.texi: Document @@dmn.
        texinfmt.el (texinfo{,-end}-{eleterate,ecapitate} renamed
        {alphaenumerate, capsenumerate}.

Fri Jun 14 12:46:32 1991  Robert J. Chassell  (bob at churchy.gnu.ai.mit.edu)

        * emacs/texinfmt.el (texinfo-format-defun-1): @@defivar prints name
        correctly.

Thu Jun  6 21:38:33 1991  Robert J. Chassell  (bob at churchy.gnu.ai.mit.edu)

        * emacs/texinfo.el (texinfo-mode): Set page delimiter to
        'texinfo-chapter-level-regexp' so that page commands work by
        chapter or equivalent.

        * emacs/texinfmt.el (texinfo-format-defun-1): @@defop prints name
        correctly.
        (batch-texinfo-format): replace unsupported
        'buffer-disable-undo' with 'buffer-flush-undo'

Fri Apr  5 15:17:17 1991  Robert J. Chassell  (bob at wookumz.gnu.ai.mit.edu)

        * emacs/makeinfo.el (makeinfo-compilation-sentinel): Check for
        existance of makeinfo-temp-file to avoid harmless error message.
        texinfo2.texi: Minor typos fixed.

Thu Mar 28 19:13:24 1991  Robert J. Chassell  (bob at pogo.gnu.ai.mit.edu)

        * util/texi2dvi: Revised.

Mon Mar 11 12:35:51 1991  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el: (@@footnotestyle): New command to set
        footnotestyle.
        (@@paragraphindent): New command to set indentation.
        (texinfo-format-refill): Add indentation feature so as to
        indent paragraph or leave indentation asis before refilling
        according to value set by @@paragraphindent command.
        (texinfo-format-region): Insert header, if any, into Info buffer.
        (texinfo-format-separate-node, texinfo-format-end-node): Run
        texinfo-format-scan on footnote text only once.
        (texinfo-format-scan): Shorten `---' to `--'.

        * emacs/texinfo.el: Define key for `texinfo-master-menu'; define
        start and end of header expressions.

        * emacs/texnfo-upd.el (texinfo-all-menus-update): Update
        pre-existing master menu, if there is one.

Fri May 11 14:36:07 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)

        * util/texindex.c: Rename `lines' to `nlines'.
        (bzero): Pass arg to lib$movc5 through non-register var.
        (perror_with_file, pfatal_with_file): Move extern decls and includes
        to top of file.
        [VMS]: If not using VMS C, define away `noshare' keyword.
        Include perror.h.

Mon Jul 11 18:02:29 1988  Chris Hanson  (cph at kleph)

        * util/texindex.c (indexify): when comparing to initial strings to
        decide whether to change the header, must use `strncmp' to avoid
        comparing entire strings of which initials are a substring.

Sun Jun 26 18:46:16 1988  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)

        * util/texindex.c (sort_in_core, sort_offline, parsefile):
        Give up on input file if any line doesn't start with backslash.
@


1.1.1.1
log
@Import of texinfo-3.6 from FSF
@
text
@@


1.1.1.2
log
@import of texinfo 3.7
@
text
@a0 27
Sat Dec 23 11:48:43 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/man.c: (clean_manpage) Remove ^L's from page.

	* makeinfo/makeinfo.c (get_brace_args): Change some memcpy's to
	memmoves.

	* info/info.c (main): Prefer caseless matches over partial
	matches.

	* Makefile.in (All Subdir Targets): Change suggested by Debian
	people which allows errors in recursive makes to kill the
	top-level make.

	* makeinfo/Makefile.in (makeinfo.dvi): New target.

	* info/info.c (main): Print version of containing texinfo package.

	* makeinfo/makeinfo.c (flush_output): Don't strip high-bit from
	sentence_enders.
	Print the version number of the containing texinfo package.

	* info/man.c (locate_manpage_xref): Count the 0th entry.

	* makeinfo/makeinfo.c (cm_menu): If a menu is seen before a node
	has been defined, warn, and create the node `Top'.

@


1.1.1.3
log
@Import of texinfo-3.9.
@
text
@a0 622
Fri Oct  4 07:49:49 1996  Karl Berry  <karl@@cs.umb.edu>

	* Version 3.9.

	* Makefile.in (install): Say to install texinfo.tex manually.

	* util/texi2dvi,
	* util/texindex.c,
	* makeinfo/makeinfo.c,
	* info/info.c: Include only the current year in the copyright message.

	* util/texi2dvi: Exit successfully.
	From: Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>.

Thu Oct  3 12:58:32 1996  Karl Berry  <karl@@cs.umb.edu>

	* Rename install.sh to the preferred install-sh.

	* Makefile.in (VERSION),
	* util/texi2dvi,
	* util/texindex.c,
	* util/install-info.c,
	* makeinfo/makeinfo.c (minor_version, print_version_info),
     	* info/info.c: Update version number.

	* util/texi2dvi: Only show diff if verbose.

	* util/install-info.c (main): Check for a missing dir file as well
 	as a missing info files.
	(main): At start of a node, completely initialize the newly-malloced
	node structure.

	* texinfo.texi: Fix incorrect uses of @@key,
	insert missing newline in Installing Dir Entries' @@menu item,
	document install-info invocation.

	* Makefile.in (DISTFILES): Do not put .gdbinit's in distribution.
	(dist): Use || instead of && (and invert sense) so make doesn't think
	the command failed.
	(dist): Exclude more junk.

	* makeinfo/makeinfo.c (cm_xref): Back out patch from Tom T., since
        we generate a good-enough error message that is suppressible
        without it.

	* util/gen-dir-node: The recommended name for the top-level info
 	file is dir, not dir.info.

	* util/install-info.c (main): At `Mark the end of the Top node',
        make sure the node name is non-NULL before comparing it. From
        lvirden@@cas.org.

	* configure.in (AC_REPLACE_FUNCS): Use this for memcpy, memmove,
	and strdup.
        (AC_CHECK_FUNCS): Instead of this.
	Because both bcopy and memmove are missing on the 3b2, as reported by
	Gaylen Miller <gaylen@@proaxis.com>, hence we must provide our own.
	* libtxi/Makefile.in (LIBOBJS): New variable.
	(OBJS): Include it.
	* libtxi/memcpy.c, libtxi/memmove.c, libtxi/strdup.c: New files,
	taken from fileutils 3.13.
	* makeinfo/makeinfo.c,
	* info/clib.c (strdup): Move to libtxi.

Wed Oct  2 18:23:30 1996  Karl Berry  <karl@@cs.umb.edu>

	* info/info-utils.h (memcpy) [!HAVE_MEMCPY],
	* info/termdep.h (memcpy) [!HAVE_MEMCPY],
	* makeinfo/makeinfo.c (memmove) [!HAVE_MEMMOVE]: Remove this
        #ifdef, as we now include it in libtxi if missing.

Tue Oct  1 17:41:52 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/Makefile.in (install),
	* info/Makefile.in (install),
	* Makefile.in (install): Use new option name --info-dir instead of
 	--infodir.

	* makeinfo/multi.c (out_char): New fn.  Replace all calls to
	putc/fprintf with calls to this.

	* util/install-info.c: Rename --infodir to info-dir.

Mon Sep 30 10:07:21 1996  Karl Berry  <karl@@cs.umb.edu>

	* Version 3.8.

	* texinfo.tex: Untabify.

	* texinfo.tex (\ptexl, \ptexL): Do not save, we have our own
	commands now.
	(\onepageout): Reformat for readability, and call \indexdummies
	to avoid expansion of Texinfo commands (e.g., accents) in \write's.
	(\,, \dotaccent, \ringaccent, \tieaccent, \ubaraccent, udotaccent,
	\questiondown, \exclamdown, \dotless): New macros.
	(\l): Let plain TeX definition remain, instead of switching
	to ``lisp'' font.
	(\multitable): Ensure space between the columns,
	insert struts to make interline spacing constant,
	use real strut instead of a box containing `Xy'.
	(\indexdummies): Do not define \rm, \char, but
	do define \@@, \{, \}, \dotless, and \,.  And \t should generate
	\t, not \r.
	(\indexnofonts): Define \, and \dotless as \indexdummyfont,
	and let \@@ be @@.
	(\doind): Reformat for readability, and use temp control sequence
	names that actually make sense.
	(\doublecolumnout, \pagesofar, \enddoublecolumns): Restore
	Knuth's original code to avoid spurious overfull vbox messages.
	(No boxes are actually overfull).
	(\shortcontents): Do not allow hyphenations.
	(\dochapentry, \tocentry): Make glue above and below flexible, to allow
	better page breaks.
	(\tex): Reset \, to its plain TeX meaning,
	and do not reset \l.
	
	* COPYING: Update for new FSF address (from gcc dist).

	* libtxi/Makefile.in: Various simplifications.

Sun Sep 29 12:58:44 1996  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Use $progname instead of $0 for --version.

	* util/install-info.c (xmalloc, xrealloc): Declare malloc and
	realloc as returning void *,
	to avoid ptr/int problems on Digital Unix.

	* info/tilde.c (tilde_expand_word): Declare getenv as returning char *,
	to avoid warning on Digital Unix.

	* makeinfo/multi.c (multitable_active): Declare extern here to
 	avoid ld warning on rs6000.

	* util/texindex.c (usage): Avoid ??' trigraph.

	* util/install-info.c: Include <sys/fcntl.h> or <fnctl.h>,
	according to HAVE_SYS_FCNTL_H,
	and only include <sys/file.h> if HAVE_SYS_FILE_H.
	(readlines): Oops, had NULL's and 0's reversed for ptr/int members.

	* info/terminal.c (terminal_goto_xy): Remove spurious extra ;.

	* util/install-info.c: Untabify.	(input_sections): Initialize.
	(find_lines): Initialize the terminating element of the array.
	(print_help): Document --infodir.
	(main): Compare the basename of infile sans .info to the dir entry,
	not infile itself.
	* util/Makefile.in (clean): Remove the install-info binary.

	* info/Makefile.in (distclean): Remove *.info* files.

	* Makefile.in (install),
	* info/Makefile.in (install),
	* makeinfo/Makefile.in (install): Use --infodir instead of --info-file.

	* info/info.c,
	* makeinfo/makeinfo.c: Avoid newlines in string constants for the
 		sake of SunOS cc.

	* makeinfo/multi.c: Do not assume ANSI C.

	* info/info.texi: Oops, need @@end vtable for a @@vtable.

Sat Sep 28 16:31:28 1996  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.in (texinfo): Do not depend on sub-all, as then
        makeinfo is always run.  Instead, depend on texinfo.texi.

	* makeinfo/Makefile.in (info, dvi): New targets.
	makeinfo.info, makeinfo.dvi: Do not depend on macro.texi for now.

	* info/Makefile.in (install): Must call install-info twice.

	* info/info-stnd.texi,
	* info/info.texi,
	* makeinfo/makeinfo.texi: Include direntry.

	* emacs/Makefile.in: Use && after cd, etc.

	* texinfo.texi: Kludges so makeinfo -E will not create spurious
        differences.  Add new direntries.

	* util/install-info.c,
	* util/texindex.c,
	* makeinfo/makeinfo.c,
	* info/info.c: Standardize --version output.

	* makeinfo/makeinfo.c (defun_internal): Don't insert index command
 	if expanding macros.
	(cm_footnotestyle): Don't change the footnote style if it was set
	on the command line.

	* util/texi2dvi: Recompute original index files each time through loop.
	Make indentation uniform.
	Use same basename for the temp input files.
	Standardize --version output.

	* info/Makefile.in (install),
	* makeinfo/Makefile.in (install): Insert $(POST_INSTALL).

Fri Sep 27 13:27:30 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi (Format with texi2dvi): Rewrite now that the script
 	runs in a loop.

	* info/Makefile.in (MAKEINFO): Simplify to ../makeinfo/makeinfo.

Fri Sep 27 00:26:03 1996  Miles Bader  <miles@@gnu.ai.mit.edu>

	* info/terminal.c [HAVE_TERMIOS_H] (terminal_prep_terminal,
	terminal_unprep_terminal): Add code for termios.
	[HAVE_TERMIOS_H] (original_termios, ttybuff): New variables.
	* info/termdep.h: [HAVE_TERMIOS_H]: Add include of <termios.h>.
	* configure.in: Add check for <termios.h>.

Thu Sep 26 10:46:34 1996  Karl Berry  <karl@@cs.umb.edu>

	* emacs/texnfo-upd.el,
	* emacs/texinfo.el,
	* emacs/texinfmt.el: Update from bob for new Texinfo commands, etc.
	
	* emacs/info.el, emacs/informat.el, emacs/makeinfo.el,
	emacs/texnfo-tex.el: Update from Emacs 19.34 dist.
	
	* emacs/elisp-comp: Use TMPDIR if set.

	* util/Makefile.in (libdir): Remove.

	* makeinfo/Makefile.in (install),
	* Makefile.in (install),
	* info/Makefile.in (install): Run install-info.
	(libdir): Remove.

	* texinfo.texi: Various fixes as I make this go through TeX.

	* util/install-info.c: Quote newlines in help message.

	* util/texi2dvi (texi2dvi): Run TeX until the aux/index files
        stabilize, instead of just twice.  From: David Shaw
        <daves@@gsms01.alcatel.com.au>.

Tue Sep 24 14:43:03 1996  Karl Berry  <karl@@cs.umb.edu>

	* dir: Blank dir file for installation on new systems.

Mon Sep 23 12:18:43 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (args_from_string): Do not back up at a };
 		that leads to an infinite loop.

Sat Sep 21 17:48:04 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_xref): Do not seg fault if outside of
 	any node.  From: Tom Tromey <tromey@@creche.cygnus.com>.
	(cm_ctrl): Make obsolete.

Tue Sep 17 13:30:08 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\inforef): Move to more appropriate place.
	(\pounds): Remove spurious extra $.
	(\email): Typeset argument in angle brackets.
	(\macro): Use \doignore for robustness, instead of just letting TeX
	parse the argument.
	(\unmacro): Define.

Sat Sep 14 16:17:35 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Document multitables, new ISBN number.

Wed Sep 11 18:01:24 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (struct env): Remove unused output_position
        field; this needs to be global.
        (setup_multitable_parameters): Implement template-defined multitables.
	(output_multitable_row): Remove trailing whitespace.

	* makeinfo/makeinfo.c (_READ_BUFFER_GROWTH, struct _defines):
	Remove leading underscore for POSIX/ANSI pedants.
	(init_conversion): Initialize output_position here.
	(init_paragraph): Instead of here, where it loses with the
	multitable calls, eventually resulting in negative counts to the
	write call when the output file is split.

	* texinfo.texi: First cut at macro documentation.
	Change accent doc to use tables.
	Remove whitespace experiments, they are now the default.

Mon Sep  9 14:16:24 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Use putc instead of fprintf where possible.
        (cm_accent): Put _ from @@ubaraccent after argument.

	* util/texindex.c (strerror) [!strerror]: Conditionalize
 		declaration.

Sat Sep  7 14:13:24 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Obsolete @@setchapterstyle.

Thu Sep  5 15:45:11 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (convert_from_loaded_file): Oops, fix
 		wording of initial output comment.

	* makeinfo/makeinfo.c (cm_angle_brackets): Rename from cm_key.
        (commandTable): @@email should produce angle brackets.
	@@key: Change name.

Tue Sep  3 14:52:17 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\hsize): Decrease.
        (\hoffset): Increase.
	(\setleading): Decrease dramatically.
	This change affects 8.5x11 format only.

	* texinfo.texi: Document accent commands.

Mon Sep  2 11:10:49 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Deprecate @@ichapter and
	@@titlespec.
	Move all the deprecated @@i<section> commands to the end of the list.

	* texinfo.texi: Document @@pounds{} and @@centerchap{}.

	* texinfo.tex (\centerchfplain): Rewrite to use \chfplain, and to
 	actually center.
	(\unnchfplain): Just call \chfplain.
	(\chfplain): Rewrite to be generally callable.
	(\centerparametersmaybe): Hook, a no-op except with @@centerchap.

Sun Sep  1 15:01:49 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Document @@<whitespace>, rearrange spacing section.

	* makeinfo.c (commandTable): Make @@. @@? @@! insert themselves,
 	not be sentence-non-enders.  They are sentence *enders*.  Also,
 	make @@\t and @@\n insert a normal space character, not themselves.
  	Also, define @@hyphenation.
	(insert_space): New function.
	(cm_ignore_sentence_ender): Remove this.
	(flush_output): Check only for META-SPC, not META-<sentence-ender>.

Fri Aug 30 18:55:30 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Document @@- and @@hyphenation{}.
	Miscellanous fixes.

	* makeinfo/makeinfo.c (commandTable): Define @@- as cm_no_op, since
 	makeinfo doesn't do hyphenation.

Thu Aug 29 13:05:38 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\key): Do not uppercase the argument; key names
	can be mixed case, e.g., `Control'.

	* makeinfo/makeinfo.c: @@infotop, @@infounnumbered,
	@@infounnumberedsec, @@infounnumberedsubsec,
	@@infounnumberedsubsubsec, @@infoappendix, @@infoappendixsec,
	@@infoappendixsubsec, @@infoappendixsubsubsec, @@infochapter,
	@@infosection, @@infosubsection, @@infosubsubsection:
	  Remove these long-since obsolete commands.
	@@iappendix, @@iappendixsection, @@iappendixsec, @@iappendixsubsec,
	@@iappendixsubsubsec, @@ichapter, @@isection, @@isubsection,
	@@isubsubsection, @@iunnumbered, @@iunnumberedsec, @@iunnumberedsubsec,
	@@iunnumberedsubsubsec:
 	  Deprecate these.
	@@infoinclude:
	  Obsolete this.
	@@,: Have to take an argument, since have to do @@,{c} not c@@,; can't
	feasibly implement the latter in TeX.

	* makeinfo/makeinfo.c: Rename @@d to @@udotaccent, since this is
 		relatively infrequently used.

Tue Aug 27 14:58:56 1996  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c (print_short_help),
	* util/install-info.c (print_help),
	* util/texi2dvi,
	* makeinfo/makeinfo.c (usage) Include bug reporting address.

Mon Aug 26 15:27:17 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Remove @@input, @@medbreak,
 		@@smallbreak, @@overfullrule, @@br.

Sun Aug 25 17:25:48 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Unify commands that perform
        the same operation, such as cm_file, cm_samp, cm_email,
        etc., which all do cm_code.

	* texinfo.texi: Document @@ifhtml ... @@end ifhtml.  Change
	`PlainTeX' to `plain TeX'.

Fri Aug 23 16:03:16 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\pounds): New Texinfo command @@pounds{}.
	(\parskip): New smaller value.
	(\chapheadingskip, \secheadingskip, \subsecheadingskip): New smaller
	values, both for 8.5x11 and @@smallbook formats. From Bob.

	* makeinfo/makeinfo.c (cm_special_char): @@pounds{} prints a #.
	(commandTable): Add new command @@pounds.

Tue Aug 20 13:47:20 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (CommandTable): Restore "!", accidentally
        removed previously.

	* texinfo.tex (\key): Typeset a lozenge around the argument (from
	gildea@@intouchsys.com).
	* makeinfo/makeinfo.c (cm_key): Surround arg with <...> to match
        new lozenge style in TeX.

Wed Aug 14 16:59:23 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Propagate change from rms.

Tue Aug 13 11:33:27 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Propagate change from rms.

	* texinfo.texi: Document other @@headings options.

Sun Aug 11 13:19:42 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_accent, cm_special_char, cm_dotless):
	New functions.
	(CommandTable): Add new commands for all of plain.tex's
	accents and non-English characters.

Fri Aug  9 14:12:07 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (convert_from_loaded_file): Say we're making
 	``text'' file if no_headers.  Also, use `input_filename' instead
 	of just `name' for clarity.
	(suffixes): Check for no suffix last, i.e., prefer `foo.texi' as an
	input file to `foo'.  (The latter is probably a binary.)

Mon Aug  5 13:52:39 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\heading, \subheading, \subsubheading): Can no
 	longer call the nonexistent \*secheadingi series. Instead, call
 	\plain*secheading.
	(\plainsubsecheading, \plainsubsubsecheading): New macros, by analogy
	with \plainsecheading.
	(\unnumberedsubseczzz, \unnumberedsubsubseczzz): Call them.

Sun Aug  4 16:46:10 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (flush_output): Mask out eighth bit, that we
 	turned on in non-sentence enders.

Sat Aug  3 14:03:10 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\HEADINGSdouble, \HEADINGSsingle,
 	HEADINGSdoubleafter, \HEADINGSsingleafter, \CHAPPAGoff,
 	\CHAPPAGon, \CHAPPAGodd): Set \contentsalignmacro, analogous to
 	\pagealignmacro.
	(\startcontents): Call \contentsalignmacro instead of \pagealignmacro.

Mon Jul 29 14:44:33 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\indexfonts): Make leading be 12pt. Otherwise, it's
 	too crammed.
	(\smalllispx): Remove \setleading{10pt}. That was too small.
	(\doprintindex): Do not call \tex ... \Etex.  Index files are Texinfo
	source, not TeX source, except for using \ instead of @@ as the
 	escape character (for now).

Sun Jul 28 13:37:05 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (paragraphindent): Move to more reasonable place in
        the source file.	
        (chapfonts, secfonts, subsecfonts, indexfonts): Call \setleading. 
	(\chfplain, \secheading, \plainsecheading, \subsecheading,
	 \subsubheading): Rewrite to properly \hangindent the title.
     	(\sectionheading): New generic macro to print section titles.

	* texinfo.texi: Update the `Obtaining TeX' node.

Fri Jul 26 14:11:48 1996  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Do macro expansion with makeinfo before running TeX.
	Various expansion safety measures added for test; avoid use of -o.

	* makeinfo/makeinfo.c (usage): More usage message tweaks.

Fri Jul 26 11:55:37 1996  Karl Berry  <karl@@laurie>

	* util/texi2dvi: Format usage message to conform to the other *utils.

Thu Jul 25 17:05:47 1996  Karl Berry  <karl@@cs.umb.edu>

	* emacs/Makefile.in: Do not compile the Elisp by default.  We
	don't install it, so it confuses people to compile it.

Sun Jul 21 07:20:09 1996  Karl Berry  <karl@@cs.umb.edu>

	* util/Makefile.in (install-info): Dependency should be
 	  install-info.o, not install-info. Also, update copyright years.

	* makeinfo/makeinfo.c (cm_printindex): Don't call execute_string
        to print index entries, we've already done the expansion now.

	* makeinfo/makeinfo.h: Add copyright.  Finish merge of rms changes.
	* makeinfo/makeinfo.c: Finish merge, add my expansion changes again.
	* makeinfo/multi.c: Add copyright message.

Fri Jul 19 10:35:22 1996  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c: Update copyright date.

	* info/info.texi,
	* util/install-info.c,
	* emacs/Makefile.in,
	* emacs/texnfo-tex.el,
	* emacs/Makefile.in: Change FSF address.

	* Merged changes from bfox -- below, plus multitable changes, plus
	lots more.

	    Sun Apr 14 08:49:50 1996  Brian J. Fox  <bfox@@nirvana.samsara.com>

		    * makeinfo/makeinfo.c (remember_node_reference): Numerous commands
		    call remember_node_reference.  If a node has not yet been defined,
		    use the empty string as the current node for those cases.

	    Mon Feb 12 17:35:38 1996  Brian J. Fox  <bfox@@nirvana.samsara.com>

		    * makeinfo/makeinfo.c (push_node_filename): Clean up calls to
		    xmalloc and xrealloc.  Only have to call xrealloc.

	    Fri Jan 26 08:00:38 1996  Brian J. Fox  <bfox@@nirvana.samsara.com>

		    * info/session.c (info_input_buffer_space_available): Fix typo
		    which forced the limitation of the sizeof (int) instead of sizeof
		    (buffer).

		    * Makefile.in (PACKVER): now at 3.8.  Add TERMIOS support to
		    Info.  Minor bugs fixed in Makeinfo.

Sat Jul 13 11:58:57 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi (ftable vtable): Mention example.

Sun Jun 30 14:59:51 1996  Karl Berry  <karl@@goldman.gnu.ai.mit.edu>

        * makeinfo/makeinfo.c (cm_email): New function for new @@email command.
	* texinfo.texi (email): New node documenting it.

Wed Apr 17 18:07:34 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_kbd): Do nothing if in @@example or @@code.
	(struct brace_element): New field in_fixed_with_font.
	(remember_brace_1): Save in_fixed_with_font.
	(pop_and_call_brace): Restore in_fixed_with_font.
	(cm_code): Don't decrement in_fixed_with_font at end of construct.
	(struct istack_elt): New field in_fixed_with_font.
	(push_insertion, pop_insertion): Save and restore in_fixed_with_font.
	(end_insertion): Don't decrement in_fixed_with_font here.
	(not_fixed_width): New function.
	(cm_sc, cm_var, cm_italic, cm_roman, cm_titlefont):
	Use not_fixed_width.

Sat Apr 13 23:22:05 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* util/install-info.c (main): Fatal error if no input file spec'd.
	Look for START-INFO-DIR-ENTRY, not BEGIN-INFO-DIR-ENTRY.

Thu Apr 11 18:21:50 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_enddots): New function.
	(self_delimiting): Accept -, ^ and ".
	(CommandTable): Add commands -, ^, ", enddots, centerchap.

Sun Mar 24 12:18:32 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (enum insertion_type): Add `direntry'.
	(insertion_type_names): Add "direntry".
	(cm_dircategory): New function.
	(cm_direntry): New function.
	(CommandTable): Add "dircategory" and "direntry".
	(insert_string): New function.
	(end_insertion): Handle direntry.
	(begin_insertion): Handle direntry.

Sun Mar 24 11:10:05 1996  Karl Berry  <karl@@spiff.gnu.ai.mit.edu>

        * makeinfo/makeinfo.c (cm_url): New function for new @@url command.

Fri Feb 23 21:14:40 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* info/Makefile.in (install, uninstall): Use manprefix.

Fri Feb 23 19:50:18 1996  Richard Stallman  <rms@@whiz-bang.gnu.ai.mit.edu>

	* util/Makefile.in (install-info, install-info.o): New targets.
	(all): Depend on install-info.
	(install, uninstall): Operate on install-info.

	* install-info.c: New file.

Wed Jan  3 10:01:45 1996  Brian J. Fox  <bfox@@nirvana.datawave.net>

        * makeinfo/makeinfo.c (make_index_entries_unique): Be a little bit
	stricter about what makes two index entries identical. 

Fri Dec 29 13:00:24 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makeinfo/makeinfo.c (Whole File): Add @@detailmenu for allowing
	detailed menu listings to appear while still defaulting nodes.

Wed Dec 27 13:54:30 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_code): Always notice that we are in
	fixed_width_font, even if other formatting changes are not to take
	place.

@


1.1.1.4
log
@Import of FSF texinfo 3.11
@
text
@a0 892
Thu Jul 31 11:57:46 1997  Karl Berry  <karl@@cs.umb.edu>

	*  Version 3.11.

	* info/man.c (reap_children): Declare status as int, not unsigned,
		since that's what POSIX says the arg to wait should be.

	* makeinfo/makeinfo.c (cm_uref, cm_email): Rewrite to do macro
 		expansion in the arguments.

	* makeinfo/makeinfo.c (main): setlocale LC_MESSAGES and LC_TIME,
		instead of LC_ALL.
	From: Akim Demaille <demaille@@inf.enst.fr>.

	* makeinfo/makeinfo.c (cm_today): Let the %d %s %d be translated,
		so other languages can change the order of day/month/year.
	From: Akim Demaille <demaille@@inf.enst.fr>.

	* info/infomap.c: Doc fix.

	* lib/system.h [!O_RDONLY]: Prefer <fcntl.h> to <sys/fcntl.h>.

	* configure.in (AC_CHECK_HEADERS): Check for fcntl.h.

	* doc/Makefile.am (install-data-local): Suggest tex/generic/dvips
		for epsf.tex.
	From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

	* configure.in (TEXMF): Move check to block with other program
 		checks.

Wed Jul 30 11:20:37 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (defun_internal): Allow extra text after
		most @@def... commands, for tzname[2] in libc.texinfo.

	* info/info.c: Include indices.h.
	* configure.in (AC_CHECK_HEADERS): Test for sys/wait.h, info/man.c
 		uses it.
	From: Erick Branderhorst <Erick.Branderhorst@@asml.nl>.

Tue Jul 29 15:55:19 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Version 3.9j.

	* info/terminal.c (output_character_function): Return int (the
 		arg), not void.

	* info/infomap.c: Don't define term_kP as 'v', since that's undefined.
	From: Tom Hageman <tom@@basil.icce.rug.nl>.

	* makeinfo/makeinfo.c: Parameterize some messages to avoid
 		duplicate translations.

	* info/terminal.c: Only try to declare ospeed, PC, tputs, etc. if
		we don't have <ncurses.h/termcap.h> or <termcap.h>.

	* makeinfo/makeinfo.c (cm_email): New function, like cm_uref.

Sun Jul 27 17:09:20 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Only check for <ncurses/termcap.h> if we're using
		-lncurses.
	From: Bo Johansson <bo.johansson@@mbox2.swipnet.se>.

	* info/dir.c (new_dir_file_p): Avoid automatic struct
		initialization, SunOS 4 etc. cc can't handle it.
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>.

Sat Jul 26 15:08:13 1997  Karl Berry  <karl@@cs.umb.edu>

	* Version 3.9i.

	* configure.in: Check for termcap.h and ncurses/termcap.h.
	From: bo.johansson@@mbox2.swipnet.se.

Fri Jul 25 14:09:05 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document new second optional arg to email.

	* info/infodoc.c: Document CTRL-x 0 as the way to get out of help.

	* info/dir.c (maybe_build_dir_node): Really check for the same dir
		file twice, not just by name.
	(new_dir_file_p): New function.

	* util/install-info.c: Tell them about --help in doc strings.

Thu Jul 24 14:25:44 1997  Karl Berry  <karl@@cs.umb.edu>

	* util/texindex.c (memory_error): Move to avoid incorrect implicit
 		decl.

	* makeinfo/makeinfo.c,
	* makeinfo/multi.c,
	* util/install-info.c,
	* util/texindex.c,
	* info/tilde.c,
	* info/man.c,
	* info/gc.c,
	* info/session.c (info_replace_key_to_typeahead): Remove unused
         function,
	* info/nodemenu.c,
	* info/man.c,
	* info/m-x.c,
	* info/footnotes.c
	* info/info.c
	* info/indices.c,
	* info/filesys.c: Parenthesize to avoid -Wall warnings
	remove unused variables,
	make return types explicit,
	printf type corrections.

	* lib/system.h: <ctype.h>: Include this.
	* util/texindex.c,
	* makeinfo/makeinfo.c,
	* info/echo-area.c,
	* info/display.c: ctype.h: Included in system.h now.

	* info/echo-area.c: Parenthesize to avoid -Wall warnings.
        (ctype.h): #include for isprint.
	(echo_area_stack_depth): Remove unused function.
	* info/display.c: Parenthesize to avoid -Wall warnings.
        (ctype.h): #include for isprint.
	* info/dir.c: Parenthesize to avoid -Wall warnings.
	(build_dir_node_internal): Remove declaration of nonexistent function.
	From: Erick Branderhorst <Erick.Branderhorst@@asml.nl>.

	* configure.in (TEXMF): Call texconfig to discover the default value,
	for the sake of the warning in doc/Makefile.
	From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

	* doc/Makefile.am (TEXMF): New variable.
        (install-data-local): Use it in warning.
	From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

	* info/session.c (initialize_info_session): Only call
	terminal_prep_terminal if clear_screen is true.  Otherwise, failed
        --index-searches prep the terminal but do not unprep it.
	From: William Edward Webber <wew@@yallara.cs.rmit.EDU.AU>.

	* info/nodemenu.c: Doc fix.

Mon Jul 21 17:11:09 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Comment out @@smallbook and @@set smallbook so
 		people at other sites can print it the way they want.
	From: Thomas Walter <walter@@pctc.chemie.uni-erlangen.de>

Sun Jul 20 07:52:25 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: 3.9h.

	* doc/Makefile.am (install-info-am, distclean-aminfo): New targets
		to avoid assuming info files are in srcdir.

	* lib/system.h (xstrdup): Returns char *, not void *.

	* doc/Makefile.am (.texi.info),
	* doc/Makefile.am (texinfo): Don't run in $(srcdir).

	* util/install-info.c (main): Remove unnecessary decl of strrchr.

	* info/tilde.c: Include info.h (for config.h) before alloca stuff.

	* makeinfo/makeinfo.c (validate_file): Rename `valid' to `valid_p'
		to avoid conflict with SunOS 4 header files.
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>.

	* info/session.c (initialize_info_session): Call
          terminal_prep_terminal here (before calling terminal_clear_screen).
	(info_session): Instead of here.
	From: William Edward Webber <wew@@yallara.cs.rmit.EDU.AU>.

	* Makefile.am (EXTRA_DIST): Add README-alpha.

Sat Jul 19 13:50:27 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/terminal.c: Use `keypad transmit' sequence if it's defined:
	(term_keypad_on, term_keypad_off): New statics.
	(terminal_begin_using_terminal): If term_keypad_on, send it.
	(terminal_end_using_terminal): If term_keypad_off, send it.
	(terminal_initialize_terminal): Look up ks and ke termcap strings.
	From: William Edward Webber <wew@@yallara.cs.rmit.EDU.AU>.

	* info/infomap.c (initialize_info_keymaps): Initialize hardwired
 		cases for arrow keys a la readline.  Found by John Eaton,
 		jwe@@bevo.che.wisc.edu.

	* makeinfo/makeinfo.c (output_pending_notes): Remove footnote
        macro expansion code I #if 0'd out some time ago.  And doc fixes.

	* Applied this patch:

Sat Jul 19 16:29:01 1997  Karl Eichwalder  <ke@@suse.de>

	* info/info.c (main): setlocale, bindtextdomain, and textdomain.

Fri Jul 18 10:02:18 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/Makefile.am (install-data-local),
	* emacs/Makefile.am (install-data-local): Give subdir in warning.

	* configure.in: Version 3.9f.

	* doc/texinfo.texi: Correct \^ to @@^.
	From Andreas S.

	* Merged these changes:

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/display.c (display_cursor_at_point): Flush ouput.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/session.c (remember_window_and_node): Don't crash when the
	current window has no current node.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* util/texindex.c (usage): Translate the doc strings.
	* makeinfo/makeinfo.c (cm_today): Translate the month names.
	* info/variables.c (describe_variable): Translate the doc strings.
	* info/nodes.h: Don't translate the strings defining the info format.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (get_item_function): Remove superfluous call
	to canon_white after get_rest_of_line.
	(cm_end): Likewise.
	(handle_variable): Likewise.
	(cm_item): Likewise.
	(cm_unmacro): Likewise.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/nodemenu.c (list_visited_nodes): Don't clear the internal
	flag, this and other functions depend on it.  Don't insist on
	displaying the menu below the current window.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (cm_uref): Fix memory leaks.
	(cm_inforef): Likewise.  Handle empty cross reference name.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/echo-area.c (ea_possible_completions): Check that the
	current window can actually be split.

Thu Jul 17 17:19:34 1997  Karl Berry  <karl@@cs.umb.edu>

	
	* emacs/Makefile.am (*clean-lisp): Define, as Automake didn't.
	From: Kenneth Stailey <kstailey@@disclosure.com>.

	* doc/Makefile.am: Do not distribute info.1.
	* makeinfo/macros: Do not distribute this directory, it's merged
		into the main documentation.
	* doc/makeinfo.texi: Don't distribute this either, it's in the 
		main manual.

	* util/install-info.c: Use \n\ for multiline string constant.
  		From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

Wed Jul 16 15:29:50 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: @@set must be after @@setfilename, I guess.
	Noted by Erick Branderhorst.

	* Applied this change:

Tue Nov 12 22:20:22 1996  John Eaton  <jwe@@bevo.che.wisc.edu>

	* makeinfo.c (INDEX_ALIST): Use two indices, read_index and
	write_index, instead of just one.
	(find_index_offset): If a match is found, return index to the
	current INDEX_ALIST struct, not the index pointing to the list of
	index entries.
	(translate_index): Return read_index from the matching
	INDEX_ALIST.
	(undefindex): Delete the list of index elements pointed to by
	read_index from the INDEX_ALIST that matches name.
	(defindex): Initialize read_index and write_index.
	(index_add_arg): Add entries to the list pointed to by write_index
	from the INDEX_ALIST matching name.
	(index_append): Delete unused function.
	(cm_synindex): Don't merge indcies, just make the write_index for
	redirectee the same as the write_index for redirector.

Tue Jul 15 09:32:04 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Bump edition number for 2.24.

	* util/Makefile.am (localedir): Define.

	* info/window.h: Rename __window__ to window_struct.

	* info/window.h,
	* info/variables.h,
	* info/search.h,
	* info/man.h,
	* info/info-utils.h,
	* info/gc.h,
	* info/footnotes.h,
	* info/filesys.h,
	* info/echo-area.h,
	* info/display.h: Avoid leading _ in #define for #include protection.

	* makeinfo/makeinfo.c: Version 1.68.
	* info/info.c: Version 2.17.

	* Most all files: Untabify.

	* doc/Makefile.am (texinfo): Add explicit target.

	* emacs/Makefile.am (noinst_LISP): Remove the obsolete
		detexinfo.el (makeinfo --no-headers is better) and
	        texnfo-tex.el (now handled by TeX modes in general).

Mon Jul 14 15:21:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Update RCS file from 3.9 distribution.

	* util/Makefile.am (EXTRA_DIST): Add update-info, from
 		rhawes@@dmapub.dma.org

Sun Jul 13 17:05:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/signals.c: Use RETSIGTYPE instead of hardwiring void.
	From: "Jeffery L. JT Vogt" <lfm@@atw.earthreach.com>.

	* info/session.c (info_history_node): Rewrite as
  	      info_kill_node (current_node).
        (kill_node, read_nodename_to_kill): New functions from info_kill_node.
	(info_kill_node): Now this just calls them.

Fri Jul 11 11:56:58 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Fix `Conditionals' xref.

Thu Jul 10 17:58:12 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/info.texi: Don't say SPC clears ? screen.

Sun Jul  6 16:26:41 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/info-stnd.texi: Document --index-search.

	* info/tilde.c,
	* info/session.c: Remove redundant getenv decl.

	* Installed following change:
Tue Nov 12 14:44:00 1996  John W. Eaton  <jwe@@bevo.che.wisc.edu>

	* info/info.c (main): Handle new option, --index-search STRING.
	(index_search_p, index_search_string): New static variables, used
	to handle --index-search option.

	* info/session.c (initialize_info_session): New arg,
	clear_screen.  Change all callers.

	* info/indices.h (do_info_index_search, index_intry_exists):
	Provide declarations here.

	* info/indices.c (do_info_index_search): New function, extracted
	from info_index_search.
	(info_index_search): Simply call do_info_index_search() with
	search_string set to NULL.
	(index_entry_exists): New function.

Sat Jul  5 17:17:14 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document @@kbdinputstyle.

	* makeinfo/makeinfo.c (kbdinputstyle): New command.
	(cm_no_op_line_arg): New function.

	* info/termdep.h (HAVE_TERMIOS_H) [NeXT]: #undef.  
	From: Gregor Hoffleit <flight@@mathi.uni-heidelberg.de> et al.

Fri Jul  4 14:18:08 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am (EXTRA_DIST),
	* util/Makefile.am (EXTRA_DIST),
	* makeinfo/Makefile.am (EXTRA_DIST),
	* lib/Makefile.am (EXTRA_DIST): Include README.

	* doc/texinfo.texi (makeinfo options): Document --paragraph-indent
 		values more completely.
	* makeinfo/makeinfo.c (set_paragraph_indent): Allow translated
 		asis or none, improve doc.
 	From ke.

	* doc/Makefile.am (dist-info): New empty target so that we do not
 		distribute info files.
 	From Erick Branderhorst.

	* doc/texinfo.texi (Invoking install-info): Document that the dir
		file is created now if need be.
	* Makefile.am (EXTRA_DIST): No longer need dir.
	* util/install-info.c (ensure_dirfile_exists): New routine.
	(main): Call it before trying to open dirfile for reading.

	* doc/texinfo.texi: Document install-info --delete a little better.
	* util/install-info.c: Set something_deleted when we delete a
 		normal line.
	Bug from: Denis Kosygin <dkosygin@@math.Princeton.EDU>.

	* util/install-info.c: If no info dir entry, give warning and exit 0.

Wed Jul  2 06:35:17 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (ALL_LINGUAS): Add fr.

	* makeinfo/makeinfo.h (insertion_type, insertion_type_names): Add
		ifnot... entries. Alphabetize.

Tue Jul  1 17:21:54 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (sort_index): Set defining_line and
		input_filename so errors in index entries are reported at
		the correct location.  From rms.

	* makeinfo/makeinfo.c (cm_ifnothtml, etc.): Routines for new
 		commands.

Sun Jun 29 09:44:01 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document new @@ifnot... commands, etc.
	* doc/texinfo.texi: Document @@image, etc.

Thu Jun 26 17:57:37 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_image): New routine for new command @@image.
	(cm_end): Move to better place, doesn't need its own page.
	Doc fixes.

Mon Jun 23 16:54:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am (SUBDIRS): Do intl first.

	* doc/Makefile.am (EXTRA_DIST): Include epsf.tex.
	(install-data-local): Suggest possible installation directory.
	* epsf.tex: New file.

Wed Jun 18 17:51:52 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document texinfo.cnf.

Sun Jun 15 14:37:58 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (Command List): Various commands missing or
		erroneous.
	From: Karl_Heinz_Marbaise@@p69.ks.fido.de.

	* makeinfo/makeinfo.c: Oops, failed to break out of loop.

	* util/texindex.c: Use <getopt.h> not "getopt.h".

	* All source files: Merge gettext changes from Karl E.;
	his ChangeLog entries below.

Sat Jun 14 17:04:28 1997  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am,
	* makeinfo/Makefile.am: Doc fix.
	* util/Makefile.am (EXTRA_DIST): Add texi2dvi.  From Karl E.

Fri Jun 13 17:39:34 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c [WIN32]: Handle read bogosity and c:\
		absolute paths.
	From: Eric Hanchrow <erich@@MICROSOFT.com>.

	* configure.in (AC_CHECK_HEADERS): Check for pwd.h.
	* info/tilde.c (pwd.h): Move #include to system.h.

	* makeinfo/makeinfo.c (main): New option -P to prepend to search path.
	From: Kenneth Stailey <kstailey@@cvs.openbsd.org>.

	* doc/texinfo.texi (Invoking makeinfo),
	* doc/makeinfo.texi: Mention -P.

Thu Jun 12 16:25:40 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/signals.h (SIGCHLD): #define as SIGCLD if undefined, for sysV68.
	From: "Philippe De Muyter" <phdm%labauto1@@ulb.ac.be>.

	* util/install-info.c (O_RDONLY): Remove this stuff, it's in system.h.
 	(main): Handle existing entry in dir file having .info extension.
	From: "Bradley C. Kuszmaul" <bradley@@GRANITE.SYSTEMSX.CS.YALE.EDU>.

	* makeinfo/makeinfo.c (get_char_len): Don't count 8-bit characters
		as two chars in the output.
	From: Sung-Hyun Nam <namsh@@amuna.rms.lgic.co.kr>.

Wed Jun 11 16:36:51 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (Other Info Directories): Document new trailing
 		: in INFOPATH feature.

	* info/info.c (main): Have trailing : in INFOPATH expand to the
 		default path.

Fri Jun  6 13:22:02 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (uref): New node for new command.

Thu Jun  5 18:13:48 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_uref): New function to accept optional
		second argument.  Call it in command table.

Sat Jun 14 10:54:16 1997  Karl Eichwalder  <ke@@suse.de>

	* mkinstalldirs: Update from automake-1.1p.

	* configure.in: Touch po/ChangeLog (gettext needs it).

Thu Jun 12 08:37:52 1997  Karl Eichwalder  <ke@@ke.Central.DE>

	* util/texindex.c: Include system.h, remove config.h.

	* po/POTFILES.in: Fill it.

	* makeinfo/multi.c: Include system.h.

	* info/Makefile.am:
	* makeinfo/Makefile.am:
	* util/Makefile.am:
 	(localedir): Set. 
	(INCLUDES): Add intl/ and LOCALEDIR.
	(LDADD): Add @@INTLLIBS@@.

	* makeinfo/makeinfo.c (main):
	* util/texindex.c (main): 
	* util/install-info.c (main):
 	setlocale, bindtextdomain, and textdomain.

	* lib/system.h: Include locale.h and libintl.h.

	* acconfig.h: Include libintl.h.
	(_, N_): Define.
	Add ENABLE_NLS, HAVE_CATGETS, HAVE_GETTEXT, HAVE_LC_MESSAGES,
	HAVE_STPCPY for libintl.
	Add @@TOP@@ and @@BOTTOM@@.

	* configure.in (AM_GNU_GETTEXT): Add.
	(AC_OUTPUT): Process Makefiles in intl/ and po/.
	(ALL_LINGUAS): Available languages.

	* Makefile.am (AUTOMAKE_OPTIONS): Now use 1.1p.

Wed Jun 11 17:05:37 1997  Karl Eichwalder  <ke@@ke.Central.DE>

	* Makefile.am (SUBDIRS): Add intl/ and po/ for NLS.

	* run `gettextize -c' to get the i18n skeleton.

Wed Jun  4 17:51:08 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (uref): New command, another alias for @@code
 		for now.

Wed Jun  4 02:02:33 1997  Miles Bader  <miles@@gnu.ai.mit.edu>

        * doc/texinfo.texi (email): { and } need @@ escapes.

Sun Jun  1 16:34:12 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (itemx): @@itemx should always follow @@item.

	* makeinfo/makeinfo.c (cm_item): Insert blank line if two
		consecutive @@item's.
	From: Karl Eichwalder <ke@@ke.central.de>.
	Also various doc fixes.

Tue May 27 17:20:44 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (various): Document @@deftypemethod.	
	(email): @@ should have been @@@@ in the example.
	From: Mate Wierdl <mw@@wierdlmpc.msci.memphis.edu>

Mon May 26 16:56:26 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (setup_multitable_parameters): Avoid use of %n
		for sake of m68k-hp-bsd.
	From: Derek L Davies <ddavies@@world.std.com>.

	* info/terminal.c (terminal_begin_using_terminal,
        terminal_end_using_terminal): Call fflush and sleep to handle
	cmdtool/shelltool with scrollbars.  Also ignore
 	SIGWINCH so we do not prematurely exit.  Move call.
	(terminal_prep_terminal): Disable LNEXT (CTRL-V).
	From: strube@@physik3.gwdg.de (Hans Werner Strube).

	* configure.in (AC_TYPE_SIGNAL): Check this.

Sun May 25 16:49:58 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (discard_insertions): Take arg saying
 		whether ifinfo/ifset/etc. are ok.
        (convert_from_loaded_file): At `finished', call discard_insertions.
	(handle_variable_internal): Complain if we reach eof before the
		@@end for a false condition.
	From: HERBERT@@boevm4.vnet.ibm.com.

	* info/Makefile.am (ginfo_SOURCES): Add doc.h.
	* lib/Makefile.am (libtxi_a_SOURCES): Add system.h.

Sat May 24 18:08:27 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Check that we have macro_expansion_filename
 		before using strcmp.

Thu May 22 17:59:46 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/makeinfo.texi: Minimally document --force.

	* makeinfo/makeinfo.c (--force): New option.
	(-E): Allow stdout via `-'.
	(convert_from_loaded_file): Unlink output files if errors and !force.

Tue May 20 17:48:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Change all strdup calls to xstrdup.
	(xmalloc, xrealloc, memory_error): Remove these functions, they're
		in lib.
	(set_paragraph_indent, cm_paragraph_indent): Move to misc page.
	(cm_footnote): Expand macros in the arg for the macro expansion output.

Fri May 16 17:26:59 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_macro): Allocate an empty body if the
 		macro was empty.
 	(cm_unmacro): Allocate one more byte for the null.
	From: Robert Hoehne <robert.hoehne@@Mathematik.TU-Chemnitz.DE>.

Sun May 11 17:51:21 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (cm_printindex): Fix calculation of the
	length of an index line.

Sun May 11 14:47:42 1997  Tom Tromey  <tromey@@cygnus.com>

	* makeinfo/makeinfo.c (main): Don't unconditionally run usage when
	-e specified.

Sun May 11 17:47:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (init_indices): Free the source for an @@synindex.
	(undefindex): Do not go further if the target was already freed.
	(free_index): Do not free the node names, as init_tags already did.
	(cm_synindex, index_add_arg): Improve error message.
	(program_index, function_index, etc.): Remove these unused #defines.

Tue May  6 17:53:37 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (init_internals): Do not free current_node,
        it already is, at least when multiple input files are specified.
	From: Karl Eichwalder <ke@@ke.central.de>.

Mon May  5 16:14:39 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Mention both alignment and non-alignment of
 		continuation description lines in menus (Arnold).

Sun Apr 27 16:12:44 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (apply): Handle body being `\string'.
	Also, avoid dereferencing a null pointer when a macro has no named
	parameters.
	From: Eli Zaretskii <eliz@@is.elta.co.il>.

	* makeinfo/makeinfo.c: Wording changes/fixes in warnings.

	* info/session.c (info_get_input_char): Do not mix stdio with raw I/O.
	From: Egil Kvaleberg <egilk@@sn.no>.

	From Tom Hageman <tom@@basil.icce.rug.nl>.  These changes make
        arrow keys work:
	* info/infomap.c: Add arrow key bindings.
        (keymap_bind_keyseq): New support function.
	(initialize_info_keymaps): Use it.
	(term_ku,term_kd,term_kl,term_kr): Remove explicit declarations;
	use #include "terminal.h" instead.
	* info/session.c (initialize_info_session): Unbuffer stdin.
	(info_get_another_input_char): Fix bug in `ready' logic.
	* info/terminal.h,
	* info/terminal.c (term_kP, term_kN): New variables to hold
 		PageUp, PageDown key sequences.
	  (terminal_initialize_terminal): Set them.
       
	* util/texindex.c (main),
	* util/install-info.c (main),
	* makeinfo/makeinfo.c (print_version_info),
	* info/info.c (main): Use PACKAGE and VERSION from Automake for
 		printing version number.

Sat Apr 26 19:19:46 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (get_until_in_line): Do not expand if
		executing_string.
	Also, free temporary strings.
	Also, untabify entire file.

	* doc/texinfo.texi: Many corrections from Arnold.

Thu Apr 24 16:31:09 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (draw_horizontal_separator): Account for indent
 		here also.  From Ulrich.

Wed Apr 23 15:15:34 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_today): Use time_t instead of long;
 		everyone else does.
 	(LOCALTIME_CAST): Remove kludge, we'll always use time_t now.

	* info/Makefile.am (ginfo_SOURCES): Remove general.h, that got
 		merged into system.h.

Mon Apr 21 17:13:25 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (output_multitable_row): Account for
 	column_indent, both the global one and for each column.
	(setup_multitable_parameters): Account for column_indent in the table
	width in the columnfrac case, but don't bother with the template
 		case for now.

Sun Apr 20 16:32:00 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (output_stream): Remove redundant
        definition; it's in makeinfo.h,
	and a vaxstation-ultrix4.3 fails to link because of the two defns.
	From: Anders Olofsson <anders@@kid025.ericsson.se>.

	* makeinfo/makeinfo.c (expansion): Inhibit appending to the macro
 		expansion stream.
 	(get_until_in_line): Possibly expand the text.
	Change caller in get_node_token to do the expansion,
	all other calls to remain the same.

	* makeinfo/makeinfo.c (cm_node): No need to call strlen to check
 		for the empty string.

	* doc/texinfo.texi: Restore missing @@c for initial comment.

Fri Apr 18 17:41:36 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Mention that .info is unnecessary in the info
		file name argument of an xref.

	* doc/texinfo.texi: Mention texi2dvi -t instead of embedding
 		@@smallbook or @@afourpaper in the document source.

Sun Apr 13 15:19:08 1997  Karl Berry  <karl@@cs.umb.edu>

	* lib/system.h (_GNU_SOURCE): #define.

Mon Apr  7 16:30:11 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/info.texi,
	* doc/info-stnd.texi,
	* doc/texinfo.texi: Do not make (dir) the previous ptr from the top node,
	and tell people not to do that in the manual.
	From: rmedina@@kanojo.ivic.ve (Rodrigo Medina),
	confirmed by rms.

Fri Apr  4 16:30:33 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Move error page to top to avoid
	prototypes, and do add prototypes for add_word_args and execute_string,
	so we can use <stdarg.h>.

	* info/makedoc.c,
	* info/nodemenu.c: Use %ld instead of %d for file offsets.
	* makeinfo/makeinfo.c (delete_macro): Decrement macro_list_len.
	(get_macro_args): Decrement line number if see \n.
	* utils/texindex.c (indexify): Use fputs instead of fprintf
	for constant string.
	From: Eli Zaretskii <eliz@@is.elta.co.il>.

Thu Apr  3 17:40:52 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (AC_CHECK_HEADERS): No need to check for vararg.h
	here, AC_FUNC_VPRINTF does it.
	(AC_CHECK_FUNCS): Likewise for vsprintf and vfprintf.
	* makeinfo/makeinfo.c (add_word_args, execute_string): Rewrite
	like the error functions.

Wed Apr  2 17:46:28 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Add AC_FUNC_VPRINTF.
	* makeinfo/makeinfo.c (error, line_error, warning): Rewrite a la
        error.c from the *utils to use <stdarg.h> if available.

Tue Apr  1 11:48:40 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Tabs are a bad idea.

	* doc/userdoc.texi,
	* doc/info.texi: Untabify.

Sun Mar 30 17:36:47 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (end_of_sentence_p): New function.
	(add_char): Call it, instead of simply sentence_ender.
	(post_sentence): New macro.
	Also, remove some #include's now in system.h.
	* lib/system.h [VMS]: #include <perror.h>, from makeinfo.

Thu Mar 27 17:41:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/search.c (skip_node_characters): Do not arbitrarily
	strip trailing period from end of node name; this is valid.

Mon Mar 24 16:44:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (AC_OUTPUT): Don't need to create stamp-h here,
	tromey says AM_CONFIG_HEADER will do it.

	* info/Makefile.am, util/Makefile.am, makeinfo/Makefile.am (INCLUDES):
        Don't need -I.. (for config.h) or -I$(srcdir), says tromey.
        Automake includes those already.

Fri Mar 14 15:05:17 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am: Build as ginfo, install as info,
	to avoid conflict with the standard info target.

	* lib/system.h: New file.
	* makeinfo/makeinfo.c (strerror): Remove declaration,
	include system.h, remove other redundant #if stuff.
	* info/general.h: Include system.h instead of doing common stuff.
	* util/install-info.c (my_strerror): Remove this, use strerror,
	include system.h.

	* info/terminal.c (terminal_prep_terminal): Only use OCRNL and
		ONLCR if they are defined.  Reported by many people.

	* Installed:

	Sun Dec  1 19:23:54 1996  Karl Eichwalder  <ke@@ke.Central.DE>

		* configure.in (TERMLIBS): Add ncurses.

Thu Mar 13 13:59:45 1997  Karl Berry  <karl@@cs.umb.edu>

	* lib/Makefile.am (libtxi_a_SOURCES): Add xstrdup.c.
	* info/*.c: Use xstrdup instead of strdup everywhere.

	* info/tilde.c: Do not include clib.h, move stdlib.h include to
	* info/general.h: here.

	* configure.in (AC_CONFIG_HEADER): Use this,
	to avoid hugely long compile line with all the -D's.
	* info/general.h: Include <config.h>.
	
	* emacs/Makefile.am (install, install-data): Do @@echo
	to tell the user to compile/install the elisp manually.
	
	* configure.in (AC_REPLACE_FUNCS): Move strerror check to here.
	(AC_CHECK_FUNCS): From here.

	* lib/strerror.c: New file, from enscript (et al.) distribution.

Tue Mar 11 16:36:25 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am (info_SOURCES): Add doc.c, dribble.c, infodoc.c.
	(LDADD): Add @@TERMLIBS@@.

	* info/info.h: HANDLE_MAN_PAGES, NAMED_FUNCTIONS: Define these.

	* info/filesys.h: Spurious ! when DEFAULT_INFOPATH is not defined.

	* configure.in (AC_OUTPUT): Do lib first and doc last.

	* info/echo-area.c,
	* info/echo-area.h,
	* info/info.h: Rename echo_area to echo-area.

Mon Mar 10 17:59:05 1997  Karl Berry  <karl@@cs.umb.edu>

	* */Makefile.am: Write Makefile.am files for Automake.
	* doc: New subdirectory, move all manuals and texinfo.tex there.
	* AUTHORS, THANKS, config.guess, config.sub, mkinstalldirs: New files,
	required by Automake.
	* lib/xmalloc.c: Move from info/.

@


1.1.1.5
log
@Import of FSF texinfo 3.12. This version creates empty info-dirs correctly.
@
text
@a0 225
Tue Mar  3 13:29:17 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Version 3.12.

	* po/de.po: New version.
	
	* po/POTFILES.in: Do not include doc.c; that gets built at
	runtime, thus causing texinfo.pot to try to get rebuilt.  Besides,
	it doesn't have any translatable strings.

Sun Mar  1 10:38:47 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c: No need for i18n on version message.  From
 		ke@@suse.de.

Fri Feb 27 16:06:23 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Run texconfig conf instead of confall.

	* doc/Makefile.am (INSTALL_INFO): New variable.
	(install-info-am): Use install-info from our distribution.

	* info/info.c (info_minor_version): Increment.
	* (info_patch_level),
	* info/info.h (info_patch_level): Remove.

	* info/info.c (program_name): Move decl.

	* util/install-info.c (ensure_dirfile_exists): Use commas and \t
	 instead of an explicit tab, which make dist expands.

	* doc/texinfo.txi: @@prep.ai.mit.edu -> @@gnu.org.

	* info/info.c: Make help messages consistent with others.

	* util/install-info.c (print_help): Format consistently.
	
	(readfile): Support gzipped files via libz.
	From: Elliot Lee <sopwith@@redhat.com>
	Date: Mon, 1 Sep 1997 23:37:14 -0400 (EDT)

Thu Feb 26 16:13:14 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/echo-area.c: Whoops, _ might not start with parens.

	* configure.in: Check for libz.
	Do not output emacs/Makefile.

	* Makefile.am (AUTOMAKE_OPTIONS): Set to 1.2f.

	* util/texi2dvi: Always remove temporary directories. (From Akim.)
	Formatting changes.

Wed Feb 25 15:26:26 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: New options --batch, --clean.
	From: Akim Demaille <demaille@@inf.enst.fr>
	Date: 15 Aug 1997 18:05:33 +0200
	* doc/texinfo.txi (Format with texi2dvi): Mention --help.

	Applied this:
1997-08-09  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (me_executing_string): New variable.
	(me_execute_string): Use it instead of executing_string.
	(popfile): Check for me_executing_string as well as
	executing_string.
	(get_until_in_line): Likewise.
	(insert_and_underscore): Do not write any expansion output if
	executing a string.
	(cm_node, cm_include, index_add_arg, cm_footnote, execute_macro,
	cm_macro, cm_unmacro): Likewise.
	(cm_footnote): Include the footnote marker in the expansion
	output.
	(append_to_expansion_output): Do nothing if the input_text wasn't
	a remembered text.
	(defun_internal): Make the index entry even if expanding macros.
	(expansion): Don't reset macro_expansion_output_stream around call
	to execute_string.
	(apply): Fix typo.

Tue Feb 24 17:33:44 1998  Karl Berry  <karl@@cs.umb.edu>

	1997-11-10 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
	* makeinfo/makeinfo.c (get_until_in_line): Don't use xstrdup on
		the unterminated input_text.

	* makeinfo/makeinfo.c: Don't assume all \'s in macro bodies are
		arguments.
	From: Mathias.Herberts@@irisa.fr (Mathias Herberts)
	Date: Tue, 6 Jan 1998 18:54:26 +0100

	* configure.in: Check for sigblock in libc before libbsd.
	* From: hjl@@lucon.org (H.J. Lu)
	* Date: Fri, 23 Jan 1998 21:50:25 -0800 (PST)

Mon Feb 23 16:26:31 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/window.c (character_width): If ISO_Latin_p is set, make
		printable_limit 255, not 160.  ISO Latin 1 uses
		essentially all of the 256 characters.
	Reported by: Marius Groeger <mag@@sysgo.de>
	Date: Wed, 17 Dec 1997 16:05:27 +0100

	* info/info.c: Improve help message.

Sun Feb 22 17:38:32 1998  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am (SUBDIRS): Remove emacs; we'll just distribute the
		Elisp files with Emacs.

	* doc/Makefile.am (info_TEXINFOS, texinfo): Rename manual to
		texinfo.txi to avoid DOS filename clash with texinfo.tex.

	* info/tilde.c: Copy slightly updated alloca stuff from makeinfo.

	* util/texindex.c (main): Declare as returning int to placate
 		warnings.

	* info/Makefile.am: Uncomment BUILT_SOURCES stuff and add missing _.
	From: "Joel N. Weber II" <devnull@@gnu.org>
	Date: Fri, 30 Jan 1998 17:21:38 -1000

	* util/texindex.c,
	* util/install-info.c,
	* makeinfo/makeinfo.c,
	* info/info.c: Change help address to @@gnu.org.

	1998-01-22 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
	* makeinfo/makeinfo.c (usage): Fix order of arguments to help
		format string.

	* makeinfo/makeinfo.c (cm_top): Error message wording.

	* doc/texinfo.texi (Functions in Typed Languages): Remove
		duplicate description of @@deftypemethod.
	From: KHMarbaise@@p69.ks.fido.de (Karl Heinz Marbaise)
	Date: Wed, 07 Jan 1998 11:11:50 +0100

	* info/session.c (info_get_input_char) [EINTR]: Keep reading if we
		get EINTR.
	From: Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
	Date: 22 Dec 1997 10:32:53 +0100

Sat Feb 21 17:41:26 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (find_and_load): Malloc enough room for the
		null as well as the newline.
	From: "John W. Eaton" <jwe@@bevo.che.wisc.edu>
	Date: Tue, 30 Sep 1997 21:12:01 -0500

	* util/texindex.c (--version),
	* makeinfo/makeinfo.c (cm_today),
	* makeinfo/makeinfo.c (print_version_info): Version strings etc. do not
		need translation. 
	From: Karl Eichwalder <ke@@suse.de>
	Date: 13 Sep 1997 16:20:02 +0200

	* info/echo-area.c: Rewrite pluralization to be translatable.
	From: Karl Eichwalder <ke@@suse.de>
	Date: 13 Sep 1997 16:20:02 +0200

	* util/texindex.c,
	* info/info.c,
	* makeinfo/makeinfo.c,
	* util/install-info.c: --version: Give year as argument to printf,
		to reduce the number of translations needed.
	From: Ulrich Drepper <drepper@@ipd.info.uni-karlsruhe.de>
	Date: 02 Sep 1997 18:01:26 +0200

	* util/texindex.c: Remove the fnctl.h and sys/file.h conditional #includes, they are
	already in lib/system.h.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Thu, 21 Aug 1997 20:16:49 +0200 (MET DST)

	* info/terminal.c (terminal_begin_using_terminal,
 	  terminal_end_using_terminal): #ifdef SIGWINCH settings for
	 	  m68k-motorola-sysv.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Thu, 21 Aug 1997 20:16:49 +0200 (MET DST)

	* info/filesys.c (info_suffixes): Add /index as a possibility for
		subdirectories.
	From: Matthew Wilcox <willy@@odie.barnet.ac.uk>
	Date: Wed, 6 Aug 1997 15:55:16 +0100 (BST)

	* configure.in: Redirect texconfig input from /dev/null to avoid
		stoppage.
	From: Thomas Esser <te@@informatik.uni-hannover.de>
	Date: Mon, 4 Aug 1997 18:15:49 +0200

	* makeinfo/makeinfo.c (find_and_load): Null-terminate the input text.
	From: Kenneth Stailey <kstailey@@disclosure.com>.

	* info/Makefile.am (INCLUDES): Add -I.. -I$(srcdir).

Fri Aug 22 16:24:59 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Adjust ISBN, edition number for print run.

Mon Aug  4 16:12:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c (main) [INFODIR]: Add this to infopath, if set.
	* info/Makefile.am (DEFS): New define, include -DINFODIR.
	From: Larry Schwimmer <rosebud@@cyclone.Stanford.EDU>.

	* util/install-info.c (ensure_dirfile_exists): Use tabs instead of
 		spaces on the File: dir line.
 	Bug from: Dave Love <d.love@@dl.ac.uk>.

Sat Aug  2 12:43:57 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_value, cm_email, cm_uref): Have to cast
 		from unsigned char * to char * or IRIX cc complains.
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>.

Fri Aug  1 14:05:10 1997  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am (EXTRA_DIST): Remove README-alpha.
	From: "ir. Mark M._Kettenis" <kettenis@@phys.uva.nl>.

1997-07-31 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>	

	* configure.in: Use AC_CHECK_HEADERS, not AC_CHECK_HEADER.

@


1.1.1.6
log
@TexInfo 4.0. New manpages, can create html.
A bit more grumpy about bad texinfo, though.
@
text
@a0 3173
1999-09-28  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: New isbn.

	* configure.in,
	util/texi2dvi: version 4.0.

1999-09-24  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Fixes from Oleg.

1999-09-20  Karl Berry  <karl@@gnu.org>

	* makeinfo/node.c: Don't write region at an anchor.
	From: Thomas Esken <esken@@nmlab.informatik.fh-dortmund.de>

	* info/terminal.c: Only set dumb terminal if tgetent returns < 0,
		not 0.
	For HP-UP 11.
	From jeff.hull@@state.co.us.

	* makeinfo/footnote.c: Don't translate the `Footnotes' string
		according to LANG, it should be according to
		@@documentlanguage, which isn't implemented yet.
	From: Jan Nieuwenhuizen <janneke@@gnu.org>

	* doc/texinfo.txi: @@end direntry from kama.

1999-09-19  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: \ninett is now \smalltt.

	* doc/texinfo.txi: arnold changes

	1999-09-03  Akim Demaille  <akim@@epita.fr>
	* texi2dvi (getopt): batch has to be assigned `eval', not `echo'.
	(bibtex): Launch BibTeX also when the LOG file complains that
 	there are no BBL file.

	* doc/texinfo.txi: Document that @@anchor ignores spaces.

	* makeinfo/cmds.c (cm_shyph): remove, &shy; is not supported in
		browsers. 
	From: Thomas Esken <esken@@nmlab.informatik.fh-dortmund.de>

	* makeinfo/makeinfo.c: Don't crash if current_indent = 0.
	From: Jan Nieuwenhuizen <janneke@@gnu.org>

	* makeinfo/makeinfo.c: Avoid blank lines between @@menu entries.
	* configure.in: 3.12t

	1999-08-31  Eli Zaretskii  <eliz@@is.elta.co.il>
	* info/info.c (info_short_help): Document --apropos.

1999-09-18  Karl Berry  <karl@@gnu.org>

	* makeinfo/html.c (html_output_head): use text for <title>, not
		html markup.  From Franois.
	* makeinfo/makeinfo.c (text_expansion): new routine.
	* makeinfo/cmds.c (cm_settitle): don't expand the title here,
		we'll do it later.

	* makeinfo/makeinfo.h (text_expansion): declare.

	* info/indices.c,
	* info/infodoc.c,
	* info/session.c,
	* info/footnotes.c: translate errors.
	* info/info.h: Use `' instead of "" in errors.

1999-09-06  Karl Berry  <karl@@gnu.org>

	+1999-08-24  Jan Nieuwenhuizen <janneke@@gnu.org>
	* makeinfo/node.c:cm_node: don't compare current_node when null.

	1999-08-23  W. L. Estes  <will@@fumblers.org>
	*  makeinfo/node.c (cm_node): write <a name=> tags even
           ifusing --no-headers

	* configure.in: ospeedlib -> trylib
	From: Andreas Schwab <schwab@@suse.de>

	* makeinfo/makeinfo.c (read_command): add explicit 0 to return if
	enclosure command.  From: Andreas Jaeger <aj@@arthur.rhein-neckar.de>.

1999-08-19  Karl Berry  <karl@@gnu.org>

	* configure.in: add missing quotes, logic in new termcap library
	check.

1999-08-17  Karl Berry  <karl@@gnu.org>

	* makeinfo/multi.c,
	* makeinfo/sectioning.c,
	* makeinfo/node.c,
	* makeinfo/macro.c: omit unused vars
	* info/session.c (info_goto_invocation_node): omit unused decl.

	* configure.in: Check for extra termlib variable necessary on
		HP-UX 9.
	From: Olaf Bachmann <obachman@@mathematik.uni-kl.de>

  1999-08-16  Andreas Schwab  <schwab@@suse.de>
	  * info/terminal.c (terminal_initialize_terminal): Try tcgetattr
	  and cfgetospeed in preference to TIOCGETP.
	  (original_tchars, original_ltchars): Define them only if needed.

1999-08-16  Karl Berry  <karl@@gnu.org>

	* info/infodoc.c (create_internal_info_help_node): rename arg.
	(info_find_or_create_help_window): avoid deref of null eligible.

	* info/terminal.c (TIOCGETP, TIOCGETC, TIOCGLTC) [alpha && linux]:
	#undef.  Useless stubs are present.

1999-08-15  Karl Berry  <karl@@gnu.org>

	* info/nodes.c: Remove reference to nonexistent RFC for Info
	files.

1999-08-11  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/nodes.c (info_find_file_internal): If the file's contents
	were gc'ed since last time it was loaded, reload the file.

Wed Aug 11 06:42:47 1999  Karl Berry  <karl@@gnu.org>

	* doc/Makefile.am (EXTRA_DIST): add txi-pt.tex from Lalo.

Mon Aug  9 16:28:18 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Support preloaded texinfo.tex, from Stephen.

	* makeinfo/makeinfo.c (add_char): restore ugly check for first
 		character being <.

	* makeinfo/cmds.c (cm_kbd): Increment in_fixed_width_font for
 		html.

	* doc/texinfo.txi: effect not affect

	* makeinfo/makeinfo.c: Rearrange help.

	* makeinfo/toc.c: Cast %* arguments to (int) to placate gcc
 		-Wformat.

Fri Aug  6 13:03:14 1999  Karl Berry  <karl@@gnu.org>

	* util/install-info.c: Hardwire the File: dir, Node: top part of
		the skeleton dir file.
	Report from: Stanislav Brabec <utx@@k332.feld.cvut.cz>

	* info/Makefile.am (BUILT_SOURCES): rm -f $(BUILT_SOURCES), a
 		kludge.

    1999-07-28  Karl Eichwalder  <ke@@gnu.franken.de>

	    * makeinfo/makeinfo.c: Fix help string (-o).

    1999-07-30  Eli Zaretskii  <eliz@@is.elta.co.il>

	    * makeinfo/makeinfo.c (cm_uref, cm_email): Don't collapse -- and
	    `` in the URL part of the reference.

    1999-08-03  Eli Zaretskii  <eliz@@is.elta.co.il>

	    * util/install-info.c (main): For entries given on command line,
	    set entry_sections and entry_sections_tail members to NULL, and
	    set text_len member to the entry length.  After processing the
	    Info file, update the entry_sections pointers of all entries that
	    came from the command line.

	* util/texindex.c (sort_offline, sort_in_core): use off_t rather
		than long.
	Found on FreedBSD 2.2.8 by "Trond Endrestol" <endrestol@@hotmail.com>.

Mon Jul 19 17:16:46 1999  Karl Berry  <karl@@gnu.org>

	* configure.in: 3.12n

	* makeinfo/makeinfo.c (add_char): Don't insert <p> if we're in
 		@@html.

	* makeinfo/html.c (add_escaped_anchor_name),
	* makeinfo/toc.c (toc_add_entry): use URL_SAFE_CHAR.
	* makeinfo/makeinfo.h (HTML_SAFE, URL_SAFE_CHAR): new macros.

Sun Jul 18 14:47:40 1999  Karl Berry  <karl@@gnu.org>

	* dir-example: Add bzip2.

	* configure.in: 3.12m.

	* doc/texinfo.txi (@@afourlatex,@@afourwide): add to command list.

1999-07-17  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (cm_xref): Don't collapse `` and -- while
	expanding node names.  Generate a terminating period for
	@@pxref, when it has more than a single argument.

	* makeinfo/index.c (cm_printindex): Don't collapse `` and -- while
	expanding node names.

Sat Jul 17 16:33:45 1999  Karl Berry  <karl@@gnu.org>

	* 3.12l.

	* doc/texinfo.txi: @@alias, @@definfoenclose, etc.

	* util/texindex.c (indexify): error message instead of abort(2)
 		when no page number.

Fri Jul 16 18:00:26 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Overfull boxes, help2man, etc.

	* util/Makefile.am (EXTRA_DIST): texi-outline.gawk is really
	outline.gawk, add fixref.gawk and prepinfo.awk and
		texi-docstring-magic.el.

Thu Jul 15 18:57:54 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: .fmt, etc.
	* doc/texinfo.txi: More macro docs, etc.

Wed Jul 14 19:58:47 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Give good quote.

	* util/Makefile.am (EXTRA_DIST): add texi-outline.gawk.

	From: kama@@hippo.fido.de (Karl Heinz Marbaise)
	* makeinfo/toc.c (contents_update_html): go back to start level.
	* doc/texinfo.txi: deftypeop

	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>
	* makeinfo/toc.c (toc_add_entry): don't assume sprintf return type
 		is int.
	* makeinfo/sectioning.c (insert_and_underscore): declare more
 		unsigned char *.
	* makeinfo/macro.h (itext_info, itext_size): remove declarations,
		they're defined static.
	* makeinfo/makeinfo.c: Split up help string even more.

Tue Jul 13 17:16:18 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Document @@rmacro.
	* makeinfo/macro.c (cm_rmacro): new command to do @@allow-recursion
 		by default.
 	(define_macro): split off from cm_macro.

	* makeinfo/macro.h (cm_rmacro): declare.
	* makeinfo/macro.h (delete_macro): do not need to export.
	* makeinfo/cmds.c (rmacro): new command.

	* makeinfo/html.c,
	* makeinfo/toc.c,
	* makeinfo/lang.c,
	* makeinfo/makeinfo.c: Use strchr instead of member.

Mon Jul 12 08:01:19 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: document this.
	* makeinfo/macro.c (apply): warn if \ in macro body is not
		followed by a parameter name or \, instead of silently
		accepting it, for compatibility with TeX. 

	* makeinfo/macro.c: Doc fix.

Sun Jul 11 12:49:50 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/macro.c (cm_macro): do @@quote-arg implicitly if single
 		argument to macro.
	* doc/texinfo.txi: Document this.

	* doc/texinfo.txi (Smallcaps): Document makeinfo warning if arg is
 		all uppercase.
	* makeinfo/cmds.c (cm_sc): warn if arg is all upper (suggested by
 		Jim Meyering).

	* makeinfo/cmds.c (cm_var): warn if argument contains any of ,[]()
		which are unlikely to be allowable in real variable names.
		Suggested by rms.

	* makeinfo/makeinfo.h (member): remove weird masking macro.

	* doc/texinfo.txi: Probably ok to indent @@example.

	* configure.in: 3.12k.

	* makeinfo/html.c (add_escaped_anchor_name): Cast to unsigned char
		for 8-bit chars. From Yoshiki.

	* makeinfo/makeinfo.c: complain -> warn for sake of <80 chars.

1999-07-09  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/multi.c (multitable_item): Quote the value of align=
	property.

	* makeinfo/defun.c (defun_internal): Ditto.

	* makeinfo/cmds.c (cm_center): Ditto.

	* makeinfo/toc.c (toc_add_entry): New argument ANCHOR; all callers
	changed.  In HTML mode, expand NODE_NAME, or use ANCHOR, if
	non-NULL, and save it together with the TOC name in the name
	member of the TOC entry.
	(toc_add_entry, toc_find_section_of_node): Add a warning in a
	comment that the NODE argument must be unexpanded.
	(contents_update_html): Terminate the TOC entry with </a>.

	* makeinfo/sectioning.c (sectioning_html): If the sectioning
	command is outside any node, generate explicit anchor and pass it
	to toc_add_entry.

	* makeinfo/node.c (expand_node_name): Now external instead of
	static.
	(cm_node): Output expanded node name in the navigation bar.

	* makeinfo/node.h: Declare expand_node_name.

	* makeinfo/index.c (cm_printindex): Produce valid HTML links, even
	if index->node is NULL or empty.  Fix format of index under
	--no-headers.

Fri Jul  9 18:09:28 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Pair @@end html properly.  From Olaf B.

	* doc/Makefile.am (EXTRA_DIST): add txi-nl.tex from Marcel van der Boom
	<marcel@@virtualprojects.org>.

	* doc/txi-en.tex: Doc fix.

Wed Jul  7 16:07:44 1999  Karl Berry  <karl@@gnu.org>

	* doc/Makefile.am: Doc fix.

	* configure.in (txi_CHECK_DECLS): call this new macro (in
 		acinclude.m4).
 	* acinclude.m4: new file.

Tue Jul  6 19:12:37 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.h,
	* makeinfo/insertion.c,
	* makeinfo/cmds.c,
	* makeinfo/defun.c: new command @@deftypeop.
	Suggestion from: booth@@us.ibm.com.

1999-07-05  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (cm_value): Don't convert quotes and dashes
	in the argument of @@value, since @@set doesn't.

Mon Jul  5 16:43:23 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c (get_item_function): return "@@ " rather
 		than "@@".	(command_needs_braces): new fn.
	(cm_item): handle @@itemize markers that don't take braces.
	Bug reported by Stephen, prototype fix from Yoshiki.

	* doc/texinfo.txi (Contents): @@contents ignored at beginning when
 		outputting to stdout.
	Installed this.
>1999-05-02  Eli Zaretskii  <eliz@@is.elta.co.il>
>	* makeinfo/toc.c (cm_contents, cm_shortcontents): If writing to
>	stdout, output the contents and short contents immediately, and
>	assign NULL to contents_filename and shortcontents_filename, so
>	that toc_update won't try to rewrite stdout.


	* makeinfo/sectioning.c (sectioning_html): declare starting_pos
		and ending_pos as unsigned char * since they're based on
		output_paragraph.

	* makeinfo/insertion.c: Cast output_paragraph to char * for sake
		of strncmp prototype (on IRIX 4).
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>


	* info/man.c (get_manpage_contents): restore previous (default)
 		SIGCHLD handler so the pclose when gunzipping info files
 		doesn't fail with `No child processes' (because
 		reap_children reaped it).
 	From: Josip Rodin <jrodin@@public.srce.hr>
 	njs@@uclink4.berkeley.edu, 38063-forwarded@@bugs.debian.org

Fri Jul  2 14:26:22 1999  Karl Berry  <karl@@gnu.org>

	From gildea:
	* info/terminal.c (TIOCGETC) [M_XENIX && TIOCGETC]: #undef.
	* info/session.c (strncasecmp) [M_XENIX]: declare.  

Thu Jul  1 19:25:12 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c (cm_value): erroneous capitalization in
 		error message.

	* makeinfo/insertion.c (end_insertion): @@end html should turn html
 		escaping back on. From esr.

	* makeinfo/makeinfo.c (cm_pxref): No period needed to terminate
 		cross-reference.

Sun Jun 13 16:12:41 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Remove some more node links.

Sat May  1 16:01:36 1999  Karl Berry  <karl@@gnu.org>

	* info/info.c: Single space for option indent to match others.

	* makeinfo/makeinfo.c,
	* util/texindex.c,
	* util/install-info.c: Must indent option list for help2man.

	* info/infodoc.c [HELP_NODE_GETS_REGENERATED]: set to true.
	(info_internal_help_text): put moving cmds first so they know how to go
	forward in the help window.
	(create_internal_info_help_node): can't always quit help with C-x 0.
	(info_find_or_create_help_window): pass !one_window_p.

1999-04-29  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* makeinfo/makeinfo.c (cm_xref): Don't collapse --- to -- etc., 
	in references.

Mon Apr 26 16:41:55 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/node.c (validate): arrange to translate the reference type.
	Report from Sergio.

	* makeinfo/makeinfo.c (validate): should not be declared here.

	* makeinfo/index.c (cm_printindex): <ul compact> is not
 		translatable.  From Yoshiki.

	* doc/Makefile.am (EXTRA_DIST): include new txi-es.tex from Adrian
 		Perez Jorge <alu1415@@csi.ull.es>.  And new txi-en.tex.

Sun Apr 25 16:08:27 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/cmds.c (cm_settitle): don't output html head here.

	* makeinfo/makeinfo.c: Move html routines to html.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add html.[ch].
	* makeinfo/html.[ch]: new files.

	* makeinfo/makeinfo.c: Restore -- in --output line.  From Sergio.

1999-04-23  Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* makeinfo/cmds.c (cm_center): Recover the previous state when 
	called with --html.

1999-04-24  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/cmds.c (cm_bye): Flush the output, in case some command
	produced it immediately before @@bye.

	* makeinfo/toc.h (TOC_ENTRY_ELT): New member: containing_node.

	* makeinfo/toc.c (lots_of_stars): New variable.
	(toc_add_entry): Add a new parameter node_name; all callers
	changed.  Record the name of the node containing the section.
	(toc_find_section_of_node): New function.
	(toc_free): Free the new containing_node member.
	(contents_update_info, shortcontents_update_info): Underline the
	title with stars.  Output two empty lines after the TOC.
	(contents_update): Fix off-by-one error in writing the rest of the
	file after updating the TOC.

	* makeinfo/index.c (cm_printindex): Save and restore line_number
	and input_filename.  Don't output the "* Menu" header when
	--no-headers is in effect.  Make the fake node name for index
	entries that are outside any node be more explanatory, and emit an
	error for such index entries.  Under --no-headers, output a
	reference to the section name, as returned by a call to
	toc_find_section_of_node, instead of a node name.

1999-04-24  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/index.c (struct index_elt): Add a new member
	entry_text.
	(free_index, make_index_entries_unique): Free the entry_text
	member.
	(index_add_arg): Don't HTML-escape the index entry here.
	(index_add_arg): Initialize the entry member to NULL.  Put the
	entry text into the entry_text member.
	(sort_index): Expand the index entries as if in non-HTML mode.
	Put the expansion into the entry member of struct index_elt.
	(cm_printindex): Allocate the line[] array in Info mode only.
	In HTML mode, escape and expand the original index entry text,
	don't use the results of expansion inside sort_index.

	* makeinfo/cmds.c (cm_r): Undo the effect of @@code while printing
	one of the "code"-style indices in HTML mode.

1999-04-23  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/infomap.c (initialize_vi_like_keymaps): Bind DEL in echo
	area to ea_rubout, except for __MSDOS__.

	* doc/info-stnd.texi (Node Commands): Document that `I' only
	produces its effect for programs documented in the current Info
	file.  Tell them to invoke `I' from DIR if it doesn't work from
	current place.

Thu Apr 22 09:59:02 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c,
	* info/info.c: Rewrite help string a little more.

	* doc/info-stnd.texi: Change chapter name to match node name,
		* other changes.

	* makeinfo/cmds.c (cm_bye): call discard_braces.

	* makeinfo/cmds.c (cm_settitle): output more meta and link tags.

	* configure.in (ALL_LINGUAS): add eo.

	* util/install-info.c [STRIP_DOT_EXE]: #if not #ifdef

Wed Apr 21 19:40:51 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Doc fix.

	* makeinfo/sectioning.c (insert_and_underscore): do not output
 		html anchor here.
	* makeinfo/node.c (cm_node): do anchor at node name not sectioning
 		title.

	* makeinfo/node.c: Newlines on node lines.

Tue Apr 20 13:02:46 1999  Karl Berry  <karl@@gnu.org>

	* info/man.c (get_manpage_contents): freopen stdin and stderr to
        /dev/null rather than closing them. http://bugs.debian.org/14787

Mon Apr 19 14:12:09 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Document possibility of `titlepage' stuff for
		plain text output using @@ifinfo.
	Report from: Kurt Hornik <Kurt.Hornik@@ci.tuwien.ac.at>.

	* makeinfo/cmds.c: Screw that.
	* doc/texinfo.txi: Fix up frontmatter a bit.

	* dir-example: Spaces not tabs.
	* dir-example (R FAQ): add.

	* makeinfo/makeinfo.c: Lowercase makeinfo in first line.

	* doc/info.texi (The node reached...): is a @@subsection not a
 		@@subsub.

	* doc/texinfo.txi: Document option rename.
	* makeinfo/makeinfo.c: Rename option to commands-in-node-names.

	* makeinfo/index.h (index_compare_fn): declare.
	* makeinfo/index.c (index_element_compare): call through new
 		variable index_compare_fn, and set it to strcoll if
	 	@@documentlanguage was used and LANG != en.
	 	#include lang.h.

Sat Apr 17 14:46:47 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c (current_item_function, cm_item): rewrite
 		to skip all conditionals.
 	(cm_item): use current_item_function rather than current_insertion_type
	to check what to use for @@item, so @@ifset etc. can be used around
		@@items.
	Report from: "W. L. Estes" <wlestes@@br20920.uncg.edu>.

	* makeinfo/makeinfo.c (current_insertion_type): no need to
 		declare.

	* makeinfo/makeinfo.c: Add examples to help message.

	* util/texindex.c (usage): Rearrange --help, avoid extra newline.

	* info/info.c: Sort --help in the usual place.

	* makeinfo/makeinfo.c: Reindent help message, rename
	       --expensive-validation to --commands-in-nodes.

Fri Apr 16 17:53:48 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/cmds.c (cm_ignore_arg): new routine.
	(cm_ignore_line_no_op): remove, can use cm_ignore_line.

Tue Apr 13 16:45:39 1999  Karl Berry  <karl@@gnu.org>

	* doc/info-stnd.texi: Frontmatter changes.

	* doc/info.texi: Remove advanced remark in first node.

	* doc/texinfo.txi: Texinfo.tex does macros now. From Eli.

	* doc/texinfo.txi: Document @@w{ } to produce an unbreakable space.

	* util/texi2dvi: Update from Akim, avoid Solaris ucb echo weirdness.

	* info/infodoc.c: Parenthesize function calls, don't depend on
 		gettext being there.  Report from: Doug Semler
 		<doug@@seaspace.com>.

1999-04-12  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/infomap.c (initialize_vi_like_keymaps): Initialize the echo
	are keymap *before* it is filled up with keys.

1999-04-10  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/macro.c (execute_macro): Reset the line number to where
	the macro argumenst begin, before executing its expansion.

	* makeinfo/makeinfo.c (cm_xref): Expand the name of arguments
	before writing them in HTML mode.
	(handle_menu_entry): Expand the name of the gleaned node before
	writing it in HTML mode.

	* makeinfo/sectioning.c (sectioning_html): Expand the name of the
	current node when producing the <a name=... anchor.

	* makeinfo/node.c (cm_node): Expand the name of node and its links
	before outputting them in HTML mode.

	* makeinfo/index.c (cm_printindex): Expand node names to which the
	index points.

	* makeinfo/footnote.c (cm_footnote): Call execute_string instead
	of add_word_args, since current_node needs to be expanded.  Expand
	the name of the Footnotes node before calling
	remember_node_reference.

	* makeinfo/tests/node-expand.txi: New test, for testing how node
	names are expanded in @@node, @@menu, cross-references, and
	indices.

	* makeinfo/makeinfo.c (add_char): If we output <p>, adjust the
	affected brace positions by 3, so cm_xxx functions get what they
	expect in START and END.
	(insert_html_tag): Likewise.

	* makeinfo/cmds.c (cm_sc): Remove the kludge that looks for the
	beginning of <small>, it is no longer needed.

	* makeinfo/macro.c (cm_definfoenclose): Don't stop at the first
	blank after the second comma: the blank may belong to the second
	delimiter.

	* makeinfo/tests/htmlpara.txi: New test, for the commands affected
	by the <p> output at paragraph beginning.

	* makeinfo/makeinfo.h (expensive_validation): New option.

	* makeinfo/makeinfo.c (long_options): Add expensive_validation.
	(usage): Likewise.

	* makeinfo/node.c (find_node): If NAME isn't found verbatim, try
	expanding it and every node name in tag table, before comparing
	them, but only if expensive_validation is non-zero.
	(find_node_reference): Likewise.
	(cm_node): Don't expand node name and its links here.
	(validate_file): If direct comparisons fail, try expanding the
	comparees before giving up, unless expensive_validation is zero.
	Switch the order of NODE and UP in error message about a lacking
	menu item.

1999-04-07  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/index.c (cm_printindex): Don't output "Menu" header.

	* makeinfo/node.c (get_node_token): Collapse whitespace in node
	names.
	(glean_node_from_menu, expand_node_name): Likewise.

	* info/infomap.c (initialize_vi_like_keymaps): Bind all the 256
	keys to ea_insert, like the Emacs-like case does.

	* doc/info-stnd.texi (Invoking Info): Document support for files
	compessed with bzip2, and the --vi-keys option.
	(Many places): Document key bindings under --vi-keys.

1999-04-06  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/session.c (info_last_node, info_first_node): With a numeric
	argument, go to ARGth node counting from the beginning.  Skip
	anchor tags when looking for the target node--the last tag can be
	an anchor, for example.
	(last_search_direction, last_search_case_sensitive): New
	variables.
	(last_search_for_string): Remove variable.
	(info_search_internal): Always move point by one notch before
	beginning the search, to avoid complications in repeated search
	commands.  When looking for the next node tag, skip any anchor
	tags.
	(info_search_1): Accept a 5th argument ASK_FOR_STRING, and only
	prompt for search string if it's non-zero.  All callers changed.
	Look for the COUNTth occurence of the string.
	(info_search, info_search_backward, info_search_case_sensitively):
	Set last_search_direction and last_search_case_sensitive.
	(info_search_next, info_search_previous): New commands, repeat
	last search in the same or reverse direction without prompting the
	user for the string.

	* info/infomap.c (initialize_emacs_like_keymaps): Bind `C-x n' to
	info_search_next and `C-x N' to info_search_previous.
	(initialize_vi_like_keymaps): Bind `n' to info_search_next and `N'
	to info_search_previous.

1999-04-04  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (get_rest_of_line): Don't expand non-macros,
	so that macro-expanded output will still have them.

1999-04-03  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/node.c (cm_node): Expand the node name and its links
	completely before using them, so that they could use e.g. @@value{}
	etc.

	* makeinfo/makeinfo.c (replace_with_expansion): Don't
	remember_itext if we are executing_string.

	* makeinfo/sectioning.c (sectioning_html): Remove #ifdef
	HAVE_MACROS.  Don't call me_execute_string if already
	executing_string.

	* makeinfo/toc.c (toc_add_entry): Expand macros in TOCNAME right
	here, since the macro can be later redefined.
	(contents_update_html, contents_update_info,
	shortcontents_update_html, shortcontents_update_info): Use stdio
	functions for output instead of add_word etc.
	(rewrite_top, contents_update, shortcontents_update, toc_update):
	New functions, replace the TOC placebo with the actual TOC.
	(cm_contents): Output a placebo instead of writing the TOC.
	(cm_shortcontents): Output a placebo instead of writing the short
	TOC.

	* makeinfo/makeinfo.c (convert_from_loaded_file): Call toc_update
	if appropriate.

	* makeinfo/sectioning.c (cm_top): Don't output the HTML header
	here, since the Top node might be preceeded by other commands,
	like @@contents.

	* makeinfo/cmds.c (cm_settitle): Output the HTML header here.

	* makeinfo/node.c (set_current_output_filename): New function,
	saves the name of the actual file we are now writing, including in
	the case of split-HTML output.
	(cm_node): Call it to record the name of output file.

	* makeinfo/footnote.c (free_pending_notes): Re-initialize
	current_footnote_number to 1.

	* makeinfo/index.c (index_add_arg): Remove redundant xstrdup.
	(cm_printindex): Don't free index->entry: it is freed in
	free_index, if, e.g., there's more than one file to convert.

	* makeinfo/makeinfo.c (init_internals): Call toc_free.

Mon Apr  5 16:53:33 1999  Karl Berry  <karl@@gnu.org>

	* doc/Makefile.am: Texmf_{texinfo,dvips}: dirs not files.  From
 		Kurt Hornik.

Wed Mar 31 13:50:09 1999  Karl Berry  <karl@@gnu.org>

	* Pretest 3.12h.

	* makeinfo/node.c (last_node_p): new fn.
	(split_file): call it, instead of assuming no more entries means
		no more nodes.  (Loses with anchors.)
	Report from: "Oleg S. Tihonov" <ost@@benetnash.ffke-campus.mipt.ru>.

	* makeinfo/index.c (sort_index): whether an entry is @@code or not
		depends on the element, not the index, because of synindex.

	* doc/Makefile.am (install-tex): Must use $(TEXMF), do
		$(mkinstalldirs) on tex dirs.
	From: Nathan Sidwell <nathan@@acm.org>.

	* doc/texinfo.txi: Document need for blank line before @@image if
 		you want space.

	* Install changes from Eli:

	1999-03-09  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/infodoc.c (info_internal_help_text): Remove hard-wired key
	names, use %-10s instead.
	(info_help_keys_text): New variable, holds two variants of keys
	that invoke basic commands, indexed by vi_keys_p.
	(create_internal_info_help_node): Use info_help_keys_text[].

	* info/window.c (build_message_buffer): Support more general
	format strings, like %-10.15s, %+4d etc.

	* info/infomap.c (initialize_vi_like_keymaps): Bind ESC-h, ESC-t,
	C-x LFD and C-x RET.

	1999-03-08  Eli Zaretskii  <eliz@@is.elta.co.il>

	* util/install-info.c (output_dirfile): Sort the entries and
	output them in alphabetic order.  Output each entry only in those
	sections where it belongs.
	(parse_input): New function, code moved from main.  Process
	sections and entries in a single loop, and record with each entry
	the list of sections where that entry belongs.  Record each entry
	separately, not all of them together as a single block.
	(parse_dir_file): New function, code moved from main.
	(main): Move code to parse_input and parse_dir_file.  Put the new
	entries only into sections where they belong.
	(compare_entries_text): New function, called when sorting new
	entries.

	* info/infomap.c (initialize_vi_like_keymaps): New function.  Bind
	keys a-la Less, including new functions from session.c below.
	(initialize_emacs_like_keymaps): New function, with the guts of
	initialize_info_keymaps.

	* info/session.c (info_scroll_forward, info_scroll_backward): If
	default_window_size is non-negative, use it as the default number
	of lines to scroll.
	(info_scroll_forward_set_window, info_scroll_backward_set_window,
	info_down_line, info_up_line, info_scroll_half_screen_down,
	info_scroll_half_screen_up, info_search_backward): New functions,
	for Less-like look and feel.

Tue Mar 30 16:44:53 UTC 1999 Karl Heinz Marbaise <kama@@hippo.fido.de>

        * doc/txi-de.tex:
            - added additional putwordin
        * doc/texinfo.txi:
            - changed defivar into deftypeivar
        * makeinfo/sectioning.c:
            - changed output of anchors based on problems with ie.
        * makeinfo/defun.c:
            - output in HTML mode changed to be on previous state.
        * makeinfo/insertion.c:
            - fixed up HTML output for deftypeivar.

1999-03-30  Akim Demaille  <demaille@@inf.enst.fr>

        * texi2dvi ($tmpdir): Avoid security holes.

Fri Mar 26 17:06:55 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/cmds.c (cm_exdent): rewrite to preserve blank lines.
	Bug from: "Oleg S. Tihonov" <ost@@benetnash.ffke-campus.mipt.ru>.

	* makeinfo/cmds.c (cm_exdent): arg is in `roman'.

Thu Mar 25 16:21:27 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c,
	* makeinfo/defun.c,
	* makeinfo/insertion.h (insertion_type): add deftypeivar.
	* makeinfo/defun.h (cm_defun): declare here.
	* makeinfo/cmds.c (defun.h): include.
	* doc/texinfo.txi (deftypeivar[x]): new commands.
	* makeinfo/cmds.c (deftypeivar[x]): new commands.

	* makeinfo/cmds.c (cm_exdent): save, set and restore
 		in_fixed_width_font.

	* doc/texinfo.txi (uref): rewrite.

	* info/info.c (info_short_help): more spaces for new help2man.

	* makeinfo/node.c (cm_node): output node name in html, change
 		navbar punctuation.

	* doc/texinfo.5: Fix URL.

	* Finally installed this:
	1998-05-01  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>
	* makeinfo/makeinfo.c (convert_from_loaded_file): When the file
	contains no @@setfilename then always look for \input (not
	\include) in the first line and skip that.  Don't skip the first
	line if no \input was found.

1999-03-24  Akim Demaille  <demaille@@inf.enst.fr>

	* configure.in (AC_HEADER_STAT): Added.
	* util/texindex.c (main): Check infiles are not directories.

1999-03-24  Akim Demaille  <demaille@@inf.enst.fr>

	* texi2dvi (index_files): Don't use `!' to run sed -e "s!foo$!!"
        since the shell will interpret `$!'.

Tue Mar 23 16:41:08 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi (uref): rewrite to make HTML output read more
 		nicely.  From Tim S.

	* info/info.c (info_short_help): include examples.

	* makeinfo/makeinfo.c (close_paragraph_with_lines): move earlier
 		so can be static.

	* makeinfo/sectioning.c,
	* makeinfo/node.c,
	* makeinfo/makeinfo.h,
	* makeinfo/makeinfo.c,
	* makeinfo/macro.c,
	* makeinfo/insertion.c,
	* makeinfo/cmds.c,
	* makeinfo/files.c,
	* makeinfo/footnote.c (size_of_input_text): rename to
 		input_text_length.

	* makeinfo/makeinfo.c (cm_xref): make wrong-char-following a warning.
 	(replace_with_expansion): remove bogus conditional that was duplicated
	unconditionally.
	From: Hans-Bernhard Broeker <broeker@@physik.rwth-aachen.de>

Mon Mar 22 14:39:59 1999  Karl Berry  <karl@@gnu.org>

	* doc/Makefile.am (install-tex): parenthesize.

	* Makefile.am (dist-hook): remove, it uses hard links so we chmod
 		all our sources.

	* makeinfo/toc.c,
	* makeinfo/defun.c,
	* makeinfo/sectioning.c: Use _, not N_.

	* info/Makefile.am (ginfo_SOURCES): include $(BUILT_SOURCES)
 		explicitly.

	* makeinfo/lang.c,
	* makeinfo/lang.h: ISO-639 updates.

	* makeinfo/cmds.c: exampleindent changes.

	* info/info.c (info_short_help): reformat somewhat, and don't say
		info info options any more.

	* doc/info-stnd.texi (Invoking): make description format somewhat
 		more standard.

	* info/infomap.c (Initialize_info_keymaps): do ea_insert bindings
		first so subsequent bindings (e.g., for ESC) override.

Sun Mar 21 17:31:00 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/multi.c (output_multitable_row): remove unnecessary
	trailing whitespace from output, output blank row for blank @@item.

	* doc/texinfo.txi: Remove extra @@item in language multitable.

Sat Mar 20 12:30:25 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Update language table from ISO 639:
	http://www.iro.umontreal.ca/contrib/po/iso-639.  From kama.

	* doc/texinfo.txi (exampleindent): document.

	* doc/texinfo.txi (Creating an Info File): use this for the node name.

	* doc/info.texi: Make Texinfo references consistent, etc.

1999-03-18  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* makeinfo/makeinfo.c (set_default_indentation_increment): new
	routine.
	* makeinfo/insertion.c (cm_exampleindent): new routine.
	Call set_default_indentation_increment.

Mon Mar 15 17:06:15 1999  Karl Berry  <karl@@gnu.org>

	* info/Makefile.am (ginfo_SOURCES): Remove doc.c and funs.h in
		hopes they then won't be distributed.  Report from Andreas.

	* makeinfo/cmds.c (cm_sp): close paragraph and disable filling to
		produce blank lines in info. 
	Report from: Michael Vanier <mvanier@@bbb.caltech.edu>.

	* doc/texinfo.txi: Attempt to get Edition info on one line.

	* makeinfo/makeinfo.h (cr_or_whitespace): use whitespace and check
 		for \r.	(skip_whitespace_and_newlines, command_char): use it.
 	Report from bonzini@@gnu.org.

	* makeinfo/cmds.c (cm_center): save and restore filling_enabled,
 		so @@center can be used inside an @@example.  Bug from kama.

1999-03-13  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/footnote.c (cm_footnote): In separate footnote style,
	generate a reference to "foo-Footnote-NN" for each footnote.
	(output_pending_notes): In separate footnote style, generate an
	anchor "foo-Footnote-NN" for each footnote, so that the link in
	the parent node would lead directly to the footnote.

	* info/footnotes.c (make_footnotes_node): Recognize the new
	"foo-Footnote-NN" style of footnote references.

1999-03-09  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* configure.in (AC_OUTPUT): Remove command to create po/Makefile,
	already done by AM_GNU_GETTEXT.

Tue Mar  9 17:48:46 1999  Karl Berry  <karl@@gnu.org>

	* Makefile.am (dist-hook): make distribution directory writable.

	* Installed these changes:

  1999-03-04  Akim Demaille  <demaille@@inf.enst.fr>

	    * texi2dvi (bibtex): Allow several runs of bibtex, this can be
	    used if bibentries reference other bibentries.  Moreover, looking
	    for `Citation' in the LOG should be enough to avoid uneless runs.

  Sun Mar  7 15:15:00 1999 UTC Karl Heinz Marbaise <kama@@hippo.fido.de>

      * makeinfo/sectioning.{c,h}:
	      - using defines instead of literals.
	      - cleaned up some stylistic matters like Karl Berry
		suggested. Handling of things like:
		@@unnumbered ..
		@@section ...
		now it works correct.

      * makeinfo/toc.{c,h}
	      - addTocEntry, freeToc changed into toc_add_entry
		toc_free. stylistics changed.

      * makeinfo/iso2cht.pl,iso-639: script, table from the web.
	      - perl script converting the iso-639 table from the web
		into the appropiate files (isoenum.h, isotab.c and
		iso.texi) which can be inserted directly into
		lang.c, lang.h and texinfo.txi.

Tue Mar  9 17:47:59 1999  Karl Berry  <karl@@gnu.org>

	* configure.in: Bump to 3.12g.

Sun Mar  7 07:01:19 1999  Karl Berry  <karl@@gnu.org>

	* info/infomap.c: Don't do isprint, just bind everything.

Fri Mar  5 14:31:42 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi,
	* makeinfo/makeinfo.c: Document that --no-headers writes to stdout
 		by default.

	* doc/texinfo.txi: @@setchapternewpage doesn't change
	\bindingoffset, just headers. Recommend not including it in the
		manual source at all.

	* makeinfo/node.c (write_tag_table_internal): set
 		in_fixed_width_font while constructing this so --- doesn't
 		collapse to --, etc.  Bug report from Sergio.

	* dir-example: Add a2ps stuff.

	* info/session.c: Allow any character in search string.

	* info/infodoc.c (describe_key): don't assume non-latin1
 		characters are undefined.

	* info/infomap.c (initialize_info_keymaps): make all characters
		insertable by default in echo area.  From Eli.

	* Installed these changes:

  Wed Feb 23 22:00:00 1999  Karl Heinz Marbaise <kama@@hippo.fido.de>

      * makeinfo/sectioning.{c,h}:
	      - added to hold complete handling of sectioning
		a little step towards modularization ;-)

      * makeinfo/cmds.c:
	      - sectioning_alist moved to sectioning.c and
		added information about enumerated chapter,
		section ..., appendix or not. Everything
		which has any relationship with sectioning
		moved to sectioning.{c,h} I hope I have found
		all.

      * makeinfo/toc.{c,h}:
	      - added for complete handling of "table of contents"
		"short contents". Better ASCII only support
		(--no-headers) so no Text "Menu" is printed.
		May be we can do more.

      * makeinfo/makeinfo.{c,h}:
	      - added new command line switch --number to enumerate
		chapter, sections etc.

      * doc/texinfo.txi:
	      - --number option documented.

  1999-02-28  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>

	  * makeinfo/insertion.c (in_paragraph): New variable.
	  (cm_item): Add </p> only if <p> is open.
	  * makeinfo/makeinfo.c (handle_menu_entry): Ditto.

	  * makeinfo/insertion.c (begin_insertion),
	  * makeinfo/makeinfo.c (handle_menu_entry): If commentary 
	  precedes first menu item, put them outside of <ul>. 
	  Put <p> and </p> correctly.

  1999-02-27  Eli Zaretskii  <eliz@@is.elta.co.il>

	  * info/info.c (info_short_help): Document --show-options and
	  --usage.

  1999-02-26  Eli Zaretskii  <eliz@@is.elta.co.il>

	  * info/makedoc.c (main) [STRIP_DOT_EXE]: Strip the .exe suffix, so
	  that doc.c says "./makedoc.c", not "./makedoc.exe.c".

	  * info/info.c (goto_invocation_p): New variable.
	  (long_options): New options --show-options and its alias --usage.
	  (main): Don't update the display until we find the first node to
	  be displayed, to avoid flushing incorrect display.  If user wants
	  to see the command-line options node right away, display whatever
	  info_intuit_options_node finds.

	  * info/session.c (info_intuit_options_node): New function, uses
	  heuristics to find the node which describes program's invocation.
	  (info_goto_invocation_node): New command, asks for a program's
	  name and displays the invocation node of that program.
	  (entry_in_menu): New function, fuzzily looks for a menu entry in a
	  node's menu.
	  (program_name_from_file_name): New function, suggests a program
	  name given a name of its Info file.
	  (info_search_in_node): Accept an additional argument: a flag to
	  search case-sensitively; all callers changed.  If case-sensitive
	  search is required, don't turn on the case-fold flag in the search
	  binding.
	  (info_search_internal): Accept an additional argument: a flag to
	  search case-sensitively; all callers changed.  Share the last
	  search string between normal and case-sensitive search commands.
	  (info_search_1): New function, with the guts that previously
	  belonged to info_search.  If the search is case-sensitive,
	  mentions that in the prompt for the search string.  If the search
	  string includes upper-case characters, searches case-sensitively.
	  (info_search): Calls info_search_1 with zero case-sensitivity
	  flag.
	  (info_search_case_sensitively): New command, calls info_search_1
	  with non-zero case-sensitivity flag.
	  (incremental_search): If the search
	  string includes upper-case characters, searches case-sensitively.

	  * info/search.c (search_backward): Fix bug in case-sensitive
	  search.

	  * info/infomap.c (initialize_info_keymaps): `-' in info window map
	  produces negative arguments.  `S' invokes case-sensitive search.
	  `O' and `I' invoke goto-invocation.

	  * doc/info-stnd.texi (Invoking Info): Document --show-options.
	  (Node Commands): Document `O', goto-invocation.
	  (Searching Commands): Document `S' and the case-sensitive search
	  when the search string includes upper-case letters.  Document `/'
	  as a synonym for `s'.
	  (Miscellaneous Commands): Document `M--' and `-'.

  1999-02-25  Eli Zaretskii  <eliz@@is.elta.co.il>

	  * info/info.c (main): Under --index-search, search indices *after*
	  following menus, so that we don't look for an index in DIR.


Wed Mar  3 17:20:07 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/cmds.c: Do not output <small> in info mode.
	From: Eli Zaretskii <eliz@@is.elta.co.il>.

	* makeinfo/insertion.c (enum_html): Remove unused var temp.
	From: Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* info/infodoc.c: Avoid translation of blank lines.

	* info/tilde.c,
	* info/man.c,
	* makeinfo/index.c (index_add_arg): avoid use of alloca.

	* info/echo-area.c: Don't pause for an additional 75 microseconds.
	Noted by Eli.
	
	* configure.in: Bump to 3.12f.

	* doc/texinfo.txi: findex enddots.  From Eli.

1999-03-01  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* makeinfo/makeinfo.c (insert_html_tag): Add <p> when 
	paragraph is not opened.
	(sectioning_html): Call close_paragraph so that paragraph
	will be started.

1999-02-26  Akim Demaille  <demaille@@inf.enst.fr>

        * texi2dvi (get_xref_files): Take $filename_noext as $1.
        (get_xref_files): Look for $1.idx only, not *.idx.
        (get_xref_files): Look for $1.cb files (\usepackage{changebar}).
        * texi2dvi: Look for rerun requests in LOG files in addition to
        xref files comparison.
        (bibtex): Remove useless `./' (already added in
        command_line_filename).
        (filename_dir): Smarter sed expression that handles file names
        with no directory part.
        (txiversion): Removed useless () (`` already guarantee a subshell).

1999-02-25  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/multi.c (find_template_width): Fix operator precedence.

Tue Feb 23 10:35:53 1999  Karl Berry  <karl@@gnu.org>

	* dir-example: ccmode not cc-mode.  From hds.

Mon Feb 22 07:34:00 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/lang.c,
	* doc/texinfo.txi: Fix kazakhkh typo.

1999-02-21  Eli Zaretskii  <eliz@@is.elta.co.il>

	* djgpp/config.sed: Add pcterm.c to terminal.o dependencies.

1999-02-21  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/lang.c (cm_accent_generic): Emit the accent character
	only once, after the argument.

Sun Feb 21 16:36:14 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c (handle_menu_entry): new routine.
	(reader_loop): call it, allowing for comments in menus.

	* makeinfo/node.c: Rearrange functions to make static, etc.

	* doc/Makefile.am (EXTRA_DIST, install-tex): Add txi-cs and txi-no.

1999-02-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	* util/install-info.c (open_possibly_compressed_file): Output
	explicit message about empty input files.
	(insert_entry_here): Insert multiple entries in alphabetical order.

Fri Feb 19 09:13:28 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c (enum_html): new routine.
	(begin_insertion): call it.
	Based on code from: Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>.

	* lib/xexit.c (EXIT_FAILURE) [!defined EXIT_SUCCESS && VMS]: weird
		long value.
	From: Lars Hecking <lhecking@@nmrc.ucc.ie>

Thu Feb 18 16:42:10 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/node.h (remember_node_reference): decl.
	* makeinfo/makeinfo.c (find_unused_reference): dump unused decl.

1999-02-18  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/cmds.c (cm_dots, cm_enddots): Don't produce &#133; for
	HTML, as too many browsers don't support it; use "..." in a
	smaller font.
	(cm_top): Output the lang= attribute inside <html>.

	* makeinfo/node.c (cm_node): Output the lang= attribute inside
	<html>.

	* makeinfo/footnote.c (output_pending_notes): Generate <ol>
	instead of <dl compact>.  Make the text of each footnote start a
	new paragraph.

1999-02-17  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/insertion.c (cm_item): Remove <dd> when immediately
	followed by a <dt>.  Add a <br> before every <dt>, except if we
	are converting @@itemx, or in the first item after <dl>.
	(begin_insertion): Use <dl> for tables, to make it look closer to
	the Info output.  Don't output a newline after a <pre>.

1999-02-17  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (handle_variable): Don't backup input
	pointer if we hit the end of text (usually, inside
	execute_string).
	* makeinfo/insertion.c (get_item_function): Likewise.

Wed Feb 17 15:09:06 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Better indexing of space entries.

	* makeinfo/multi.c (find_template_width): new routine to really
 		parse @@multitable {...} templates.
 	(setup_multitable_parameters): call it.
	Bug report from: Sergio Pokrovskij <pok@@nbsp.nsk.su>.

	* lib/system.h (substring): declare.

	* lib/Makefile.am (libtxi_a_SOURCES): add substring.c.

	* makeinfo/defun.c: Move substring to lib.

	* util/texindex.c (tempcopy): no longer used.
      	(maketempname): make static.

	* Installed these changes:

1999-02-13  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/cmds.c (cm_acronym): New function, makes @@acronym
	produce a smaller font size in HTML mode.
	(cm_sc): Produce smaller font size in HTML mode.

	* makeinfo/footnote.c (cm_footnote): In HTML output, make the
	footnote number be a superscript; remove [] around the link.

	* makeinfo/cmds.c (cm_var_sc): Separated into two functions:
	cm_var and cm_sc, since @@var and @@sc have different effects in
	HTML output.

	* makeinfo/makeinfo.c (cm_xref, cm_inforef): Don't put "[]" around
	HTML links.

	* info/pcterm.c (DJGPP_keytab): Add translation for Alt-PgUp and
	Alt-PgDn, to support the new M-prior key.

Wed Feb 17 11:50:46 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Don't mention texi2roff so prominently.

	* makeinfo/makeinfo.c: Pass enclose_expand to remember_brace
 		rather than enclose_command.  From Eli.

	* makeinfo/macro.c (cm_alias, cm_definfoenclose): Expand macros in
		first call to get_until_in_line.  From Eli.

	* info/makedoc.c,
	* info/session.c,
	* info/man.c,
	* info/tilde.c,
	* info/info.c,
	* makeinfo/files.c,
	* makeinfo/multi.c,
	* makeinfo/node.c,
	* makeinfo/makeinfo.c: Use xexit.
	* makeinfo/makeinfo.h (NO_ERROR, FATAL, SYNTAX): remove.

	* info/terminal.c: Avoid sleep unless on sun-cmd terminal.

	* lib/xexit.c (EXIT_FAILURE) [!EXIT_FAILURE]: #define to 1 to fix
		Sony NEWS-OS 4.0C lossage.  From Akim.

	* info/infodoc.c: Translate where is doc string, underline lines
 		in help.  
	From: Trond Endrestol <trond@@agamemnon.gtf.ol.no>

	* makeinfo/cmds.c (cm_dots, cm_enddots): go back to ... and ....,
		&#133; apparently doesn't work widely enough.

Tue Feb 16 07:37:54 1999  Karl Berry  <karl@@gnu.org>

	* configure.in (ALL_LINGUAS): add de_AT.

	* util/texi2dvi: Redirect cd output to /dev/null when determining
 		txiversion.

Mon Feb 15 13:43:37 1999  Karl Berry  <karl@@gnu.org>

	* util/install-info.c,
	* util/texindex.c: Call xexit instead of exit.

	* lib/system.h (xexit): Declare.

	* lib/Makefile.am (libtxi_a_SOURCES): Add xexit.c.

	* doc/texinfo.txi: Document that @@documentencoding is used in the
 		HTML output.

	* makeinfo/cmds.c (cm_top): use document_encoding if set.
	(command_table): call cm_documentencoding instead of no-op.
	* makeinfo/lang.c (document_encoding, cm_documentencoding): define.
	* makeinfo/lang.h (document_encoding, cm_documentencoding): declare.

	* makeinfo/insertion.c: Restore </p> before <li>.

	* util/texi2dvi: If texinfo.tex version is too low for macros, use
 		makeinfo.

	* makeinfo/cmds.c (cm_center): save and restore value of
	       indented_fill, otherwise @@center within an @@enumerate (say)
	       also closes the indentation.
	Bug from: Sergio Pokrovskij <pok@@nbsp.nsk.su>.

Sun Feb 14 15:25:02 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Doc fix.

	* doc/texinfo.txi: Be enthusiastic if people want to implement
		more output formats, but use makeinfo to do the job.

	* makeinfo/index.c (index_element_compare): Use strcoll if it's
 		available.
	* configure.in: Call AC_FUNC_STRCOLL.
	* makeinfo/makeinfo.c (main): Use LC_CTYPE and LC_COLLATE
 		categories.  Suggestion from Oleg.

	* lib/system.h (setlocale) [!HAVE_SETLOCALE]: #define away.
	Suggestion from Akim.

	* doc/texinfo.txi: Document @@paragraphindent working in TeX now.

	* doc/texinfo.txi,
	* makeinfo/lang.c,
	* makeinfo/lang.h (language_code_type): abbrev changes from Oleg.

	* makeinfo/cmds.c,
	* makeinfo/node.c: Only translate `Next:', `Previous:', and `Up:',
 		not the whole href.  From Eli.

	* doc/texinfo.txi: Document that only unsplit html output is
 		supported in this release.

Sat Feb 13 17:55:30 1999  Karl Berry  <karl@@gnu.org>

	* configure.in: Check for termlib before termcap for sake of
 		Solaris (judging from less-332 configure.in) and maybe
 		HP-UX 11.

	* doc/texinfo.txi (Footnote commands): incoherency reported by Aharon.
	Language vs country fixes from Oleg.

1999-02-13  Karl Eichwalder  <ke@@gnu.franken.de>

	* makeinfo/node.c (cm_node): Tag navigation links as translatable.
	* makeinfo/cmds.c (cm_top): Ditto.

Wed Feb 10 22:00:00 1999  Karl Heinz Marbaise <kama@@hippo.fido.de>

    * makeinfo/defun.h:
            - new because we need get_base_type-function
              accessible in insertion.c

    * makeinfo/defun.c:
            - complete HTML handling of the @@def... things.

    * makeinfo/Makefile.am:
            - defun.h added as part of makeinfo.

    * makeinfo/makeinfo.c:
            - define looking_at moved into header-file, because
              we need it in defun.c

    * makeinfo/insertion.c:
            - some minor changes made to support the @@def...
              things in HTML.
    
    * makeinfo/lang.c: (cm_accent_generic)
            - bug fixed. Using umlaut (accent ...)
              would produce &A only if an umlaut follows
              an empty line.
            - bug fixed. Because things like &tilde; &grave;
              and &circ; do not exist as standalone characters
              in HTML.
            - cm_special_char now produce correct HTML for
              @@O{} and @@o{}.
            - warning using _("Text") instead "Text" (gettext).

    * makeinfo/cmds.c:
            - @@url fixed. Display the given Text.

    * doc/texinfo.txi:
            - corrected the references for @@uref, because
              they were given as "url" instead of "uref".
              @@uref has three arguments, so show them in
              command list.

Wed Feb 10 17:27:58 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Rewrite for overfull box.

Tue Feb  9 19:03:16 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Document more HTML output stuff.  Based on esr
 		changes.
	* makeinfo/macro.c,
	* makeinfo/macro.h,
	* makeinfo/makeinfo.c: Do alias and definfoenclose expansion.
  		From esr.

Mon Feb  8 14:41:07 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/cmds.c: New commands @@alias and @@definfoenclose.
	From: "Eric S. Raymond" <esr@@snark.thyrsus.com>.

	* doc/texinfo.txi: Document @@documentlanguage and
 		@@documentencoding.

	* makeinfo/cmds.c: Move accent support to lang.c.

	* makeinfo/makeinfo.c (add_char): add &nbsp; rather than an 8-bit
 		char for html.

	* makeinfo/Makefile.am (makeinfo_SOURCES): add lang.[ch].

	* doc/texinfo.txi: Be even more emphatic that @@url is not
		typically what you want.
	* doc/texinfo.txi: Document that macro calls must use empty
 		braces.

	* info/session.c: Do not translate node pointers.  From Karl E.

	* makeinfo/cmds.c (cm_dfn): Use <dfn>.  Suggestion from Eli.

Sun Feb  7 07:00:08 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Make --html imply --no-split.

	* makeinfo/cmds.c (cm_top): don't core dump if the top node has no
 		next.

	* makeinfo/makeinfo.c (replace_with_expansion): compare length
		after expansion with length of full input text before
		expansion, not just the length of the expanded text.
                Bug (contents2) reported by kama.

	* info/infodoc.c (create_internal_info_help_node): gettext calls
		to help msg strings. From Ulrich.

Fri Feb  5 17:35:13 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: set makeinfo= for latex case.

	* doc/texinfo.txi (@@deftp summary): ref Data Types node that
		actually describes it.  From kama.

Thu Feb  4 07:39:10 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Take it back.  Emacs info needs that text
 		before the CTRL-_.
	* makeinfo/makeinfo.c: Don't bother to output the header (This is
 		-, produced ...) to stdout.

	* doc/texinfo.txi (Other Info Directories): Mention that dir files
 		must be named dir.

	* makeinfo/makeinfo.c (cm_uref): implement optional third
 		argument.
	* doc/texinfo.txi (uref): document it.
	Suggestion from: Charles Karney <karney@@pppl.gov>

	* doc/Makefile.am (info_TEXINFOS): put texinfo.txi first so
		UPDATED reflects its modtime, rather than info-stnd's.

	* makeinfo/files.c (full_pathname) [!WIN32]: #endif in wrong place.
	From: Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* makeinfo/cmds.c (cm_url): Remove URL: from output.  It's ugly.

Wed Feb  3 16:05:03 1999  Karl Berry  <karl@@gnu.org>

	* info/infodoc.c: Doc fix, zero not oh.

	* makeinfo/makeinfo.c (add_char): don't ignore if
		only_macro_expansion, even in no_headers case.
		Otherwise menu items don't get remembered and defaulting
		doesn't work.  Macros suck!

	* util/texi2dvi (common): include orig_pwd.
	(language): reguess for each file if not explicitly set.

Tue Feb  2 16:22:32 1999  Karl Berry  <karl@@gnu.org>

	* configure.in: Bump to 3.12d now.

Mon Feb  1 14:46:45 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c (cm_item): For itemize and enumerate, do
		</p> before the <li> for html. Bug from Eli.

	* makeinfo/index.c: Installed change in index.c:
	Mon Dec 28 12:50:14 1998  Matthew Fredette  <fredette@@mit.edu>
		* makeinfo.c (index_add_arg): Use xstrdup on input_filename
		when saving it in the new index entry.

	* util/texi2dvi: cd / before cd $orig_pwd in case of DOS drive
 		change.

Sun Jan 31 16:39:01 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Used sed to expand only the @@{if,}tex parts of
	the source since makeinfo's conditional options aren't ready yet
		(from Akim).
	Also use ${1+"$@@"} for Digital Unix "$@@" expansion bug (from Noah).

	* util/install-info.c: Doc fix from Eli.

	* doc/texinfo.txi: Oops, said we looked for .png twice.

Sat Jan 30 17:18:14 1999  Karl Berry  <karl@@gnu.org>

	* info/session.c (forward_move_node_structure): remove tangled
	code to merely print words instead of numbers; too hard to translate.

	* info/session.c: Missing _'s for more i18n.  From Trond.

	* doc/Makefile.am (EXTRA_DIST): Include txi-no.tex from Trond.

Sun Jan 24 09:28:12 1999  Karl Berry  <karl@@gnu.org>

	* Makefile.am (EXTRA_DIST): Use djgpp by itself instead of listing
		each file separately (new feature in automake 1.4).

	* makeinfo/insertion.c (begin_insertion): for quotation, always
		increment current_indent even if html output, why not.
		(Otherwise must not decrement current_indent in end_insertion.)

	* doc/texinfo.txi: More overfull box fixes.

	* makeinfo/insertion.c: Add some assertions and the beginnings of
 		handling @@tex.

	* doc/texinfo.txi: Fix overfull boxes, but tables of contents at
 		the front.

	* util/texi2dvi: Can't pass --no-ifinfo --iftex to makeinfo yet,
 		it's not ready.

Sat Jan 23 10:22:16 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Pass --no-ifinfo --iftex to makeinfo.

Fri Jan 22 19:09:49 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Include version.texi before @@settitle so
 		@@value{VERSION} gets expanded in the html title.  From kama.

	* These patches from Tim Singletary <talon@@clark.net>.
	* makeinfo/makeinfo.c: Simplify and improve html menus.
	* makeinfo/insertion.c (begin_insertion): simplify html menu case
 		and set had_menu_commentary.
	* makeinfo/insertion.h (had_menu_commentary): declare new global.
	* makeinfo/node.h (glean_node_from_menu): declare.
	* makeinfo/node.c (glean_node_from_menu): new arg to specify what
 		type of reference to remember as.

	Date: Sun, 29 Nov 1998 09:21:01 -0500 (EST)
	From: Tim Singletary <tsingle@@talon.clark.net>
	To: texinfo-pretest@@tug.org
	Subject: explanation of previous patches

	> These diffs introduce some non-trivial changes into very
	> sensitive parts of makeinfo, and it is hard to judge them without
	> knowing what exactly do they solve.

	At a high level, these patches fix (or at least significantly improve)
	the html conversion of menus.  Specifically, they fix bugs in the
	conversion of menu commentary and detailmenu entries.

	The menu commentary fixes require some justification:  The unpatched
	makeinfo attempts, with many bugs, to place menu commentary outside
	the <menu> by adding </ul> and <ul> tags.  While I understand the
	motivation for this, that there might be browsers that don't support
	<p> within <menu>, I'm not aware of any such browser and don't see any
	compelling reason to continue the </ul> kludge.

	Certainly
			<menu>
			<li>First paragraph.
			 <p>Second paragraph.
			<li>Second item.
			</menu>
	is valid html!

	Anyway, here's what my patches do:

	1) Deleted the `<h4>Menu</h4>' at the beginning of each menu.  Using
	   `<h4>' is wrong since menus don't usually come after an `h3'
	   header.  `<b>' looks the same on most browsers, but my opinion is
	   that there's no need for any header at all!

	2) Deleted the `<li>' kludge at the begining of each menu.  It's no
	   longer needed since I'm deleting the </ul> kludge.

	3) Replace `in_menu_para', declared static in makeinfo.c:add_char()
	   with `had_menu_commentary', declared globally.  Modified
	   insertion.c:begin_insertion() to initialize had_menu_commentary to
	   1 when beginning a menu.  Now there's enough state information for
	   menu commentary to be processed within <menu> ... </menu>; the
	   commentary can be seperated from the rest of the menu by bracketing
	   it between <p>'s.

	   Note that the first patch had a bug initializing
	   had_menu_commentary; the second patch fixes this bug.

	4) Changed the semantics of the argument to
	   node.c:glean_node_from_menu().  Previously, glean_node_from_menu()
	   only called remember_node_reference() when the argument was
	   non-zero.  But add_char() didn't call `glean_node_from_menu(1)'
	   when processing detailmenu entries.  In other words, detailmenu
	   entries didn't get registered as references, which lead to the html
	   conversion of detailmenu entries not producing proper hrefs!

	   The new semantics are that glean_node_from_menu always calls
	   remember_node_reference(), but calls it with `menu_reference' when
	   the first arg to glean_node_from_menu() is 1 and with
	   `followed_reference' otherwise.  Now, detailmenu entries get
	   registered as `followed_reference' (normal menu entries still get
	   registered as `menu_reference') and the html conversion produces
	   proper hrefs.

	5) The above changes made it possible to streamline the section of
	   add_char() that deals with html menu text.

	6) In an otherwise unrelated change, rewrote a section of
	   glean_node_from_menu to no longer use `goto save_node;'.


Thu Jan 21 12:55:42 1999  Karl Berry  <karl@@gnu.org>

	* doc/info-stnd.texi: OK, let's try restoring the @@include
 		version.texi with the new automake.

	* makeinfo/cmds.c: Improve HTML @@pounds, @@bullet, etc.

	* doc/Makefile.am (install-tex): new target.
	(EXTRA_DIST): Include txi-??.tex.
	txi-de.tex: new file from kama.

	* Makefile.am (AUTOMAKE_OPTIONS): Bump to 1.4.
	(install-tex): new target.

	* util/texi2dvi: Restore "$@@" for explicitness in main loop.

	* doc/Makefile.am (*.1) [TEXINFO_MAINT]: Conditionalize.

	* configure.in (AC_PREREQ): Bump to 2.13.
	(TEXINFO_MAINT): Define this AM_CONDITIONAL.

	* doc/texinfo.txi: Document that the HTML output name is derived
 		from @@setfilename.

	* makeinfo/makeinfo.c (convert_from_loaded_file): Use @@setfilename
		for basename of html output.

	* doc/texinfo.txi (url): Use example.org for the example.

	* makeinfo/cmds.c (cm_url): @@url should not produce a link, sorry
 		to say.

Wed Jan 20 16:31:55 1999  Karl Berry  <karl@@gnu.org>

	* util/texindex.c,
	* util/install-info.c,
	* makeinfo/makeinfo.c,
	* info/info.c: It's 1999.

	* doc/info.texi (Advanced info commands): Fix typos from Gildea.

	* makeinfo/makeinfo.c (end_of_sentence_p): don't check negative
		array offset.
	From: Enrico Scholz <enrico.scholz@@wirtschaft.tu-chemnitz.de>

Sun Jan 17 16:42:16 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Restore --batch, handle changing escape character
		more cleanly.  From Akim (as always).

Thu Jan 14 16:47:41 1999  Karl Berry  <karl@@gnu.org>

	* configure.in (ALL_LINGUAS): Add no.
	From: Trond Endrestol <trond@@agamemnon.gtf.ol.no>

	* util/texi2dvi: Doc fix from Akim and do not always exit 1 from trap.
	And it's 1999.

	* doc/texinfo.txi (image): Document imagename.pdf.

	* Apply this change from Eli:

  1998-11-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	  * makeinfo/makeinfo.h (meta_char_pos): New variable.
	  * makeinfo/makeinfo.c (init_paragraph): Initialize it.
	  (add_char): Use META to create a non-breakable space character.
	  (add_meta_char): New function.
	  (end_of_sentence_p): Don't handle characters at meta_char_pos as
	  normal sentence enders.
	  (flush_output): Only unMETA the non-breaking space character.
	  Reset meta_char_pos to zero.
	  (do_flush_right_indentation): Call adjust_braces_following.
	  (indent): Likewise.
	  (cm_value): Save and restore the value of meta_char_pos.
	  (expansion): Likewise.
	  * makeinfo/macro.c (me_execute_string_keep_state): Save and
	  restore the value of meta_char_pos.
	  * makeinfo/node.c (cm_node): Save and restore the value of
	  meta_char_pos.
	  * makeinfo/cmds.c (cm_accent): Make the dot we add due to
	  @@dotaccent be a meta-character.
	  (cm_code, cm_dfn): Call add_meta_char to insert the closing
	  quote.
	  (cm_cite): Call add_char instead of add_word.

Thu Jan  7 18:04:26 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Handle pdf files more cleanly.  From Akim.

Wed Jan  6 17:49:11 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c (cm_image): Check for .png also.

Sun Dec 20 07:54:47 1998  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Add --pdf.

	* util/texi2dvi: New option -@@ to use @@input and @@nonstopmode, in
		case texinfo is preloaded.
	From: Khimenko Victor <khim@@sch57.msk.ru>
	Date: Sun, 20 Dec 1998 02:04:12 +0300 (EET)

Sat Dec 19 17:37:37 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi (Multitable Column Widths): leading zero ok for
 		@@columnfractions.

	* util/texi2dvi: New version from Akim, plus --quiet is like
 		--batch, etc.

Fri Dec 18 17:22:44 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Document that the Texinfo source can't be
	arbitrarily ordered (for print) even if all pointers are supplied.

	* makeinfo/insertion.c (end_insertion): In itemize case,
		close_insertion_paragraph so @@end itemize cause a line break.
        Report from: Sergei Pokrovsky <pok@@nbsp.nsk.su>
        Date: Sun, 22 Nov 1998 19:45:21 +0700 (GMT)

Tue Dec 15 16:21:51 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: More fixes from Oleg.

	* configure.in: Bump version to 3.12c for next pretest.

	* util/install-info.c (open_possibly_compressed_file)
		[STRIP_DOT_EXE]: logic for compression_program assignment
		was reversed.
	From: wlestes@@wlestes.uncg.edu

Sat Dec 12 18:02:48 1998  Karl Berry  <karl@@gnu.org>

	* Merged these changes from Andreas:

1998-12-06  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/node.c (cm_node): When searching for @@menu don't
	require a space after it.

1998-12-06  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/cmds.c (cm_top): free top_name only after done using it.

Sat Dec 12 15:40:13 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Various typos and fixes from Oleg.

	* doc/texinfo.txi: Move @@node's outside of @@ifinfo for the sake of
 		HTML processing.

	* doc/texinfo.txi (titlepage): @@pxref was not in parens.  From Oleg.

Sun Dec  6 16:49:09 1998  Karl Berry  <karl@@gnu.org>

	* dir-example: Amd is now am-utils.

	* doc/Makefile.am: Reinstate help2man invocations for development.

	* doc/texinfo.txi: Document @@set...contentsaftertitlepage (from kama).
	Fix incorrect sense for @@image and Hungariam typo (from Oleg).

	* lib/system.h: #include libintl.h here instead of acconfig.h, so
		the system include files have a chance to #define NULL
		before it does.
	* acconfig.h: Remove libintl.h and #defines from here.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Fri, 4 Dec 1998 00:56:25 +0100 (CET)

	* info/signals.c: Start #ifdef's in column one for cc on sysv68
		(m68k-motorola-sysv).
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Fri, 4 Dec 1998 00:56:25 +0100 (CET)

	* info/filesys.c (is_dir_name): use strcpy instead of automatic
		array initialization.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Fri, 4 Dec 1998 00:56:25 +0100 (CET)

	* configure.in (ALL_LINGUAS): add ru.

Fri Dec  4 08:12:11 1998  Karl Berry  <karl@@gnu.org>

	* info/infodoc.c: Gettextize the help buffer string.

Sun Nov 29 17:12:35 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Use @@ifnottex rather than @@ifinfo for @@top.
	(makeinfo top): document this.

	* doc/info-stnd.texi,
	* doc/info.texi: Use @@ifnottex rather than @@ifinfo for @@top.

	* makeinfo/insertion.c (cm_menu): Implicitly insert @@top command
        so we can construct the node tree as usual when we see @@menu
 	before @@node.  Probably this is when the input uses
 	@@ifinfo instead of @@ifnottex, as virtually all existing
 	manuals do.

	* makeinfo/insertion.c (discard_insertions): Let any conditional
	cross node boundary.  (So the @@top node can be wrapped
	in @@ifnottex, for example.)

	* Installed these:

1998-11-21  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (expansion): Save and restore
	last_inserted_character and last_char_was_newline.

	* makeinfo/cmds.c (cm_dircategory): Kill any indentation before
	INFO-DIR-SECTION.  install-info relies on this.

1998-11-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/multi.c (struct env): Add meta_char_pos member.
	(select_output_environment): Save and restore meta_char_pos.
	(out_char): Output characters by switching environment to #0 and
	calling insert.  Call flush_output when a newline is output.
	(output_multitable_row): Update the current environment's
	output_paragraph_offset as well, after removing trailing
	whitespace.  Fix typo in loop index.
	(do_multitable): Call close_single_paragraph.
	(end_multitable): Call close_insertion_paragraph.  Don't output
	an extra newline.

1998-11-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.h (meta_char_pos): New variable.
	* makeinfo/makeinfo.c (init_paragraph): Initialize it.
	(add_char): Use META to create a non-breakable space character.
	(add_meta_char): New function.
	(end_of_sentence_p): Don't handle characters at meta_char_pos as
	normal sentence enders.
	(flush_output): Only unMETA the non-breaking space character.
	Reset meta_char_pos to zero.
	(do_flush_right_indentation): Call adjust_braces_following.
	(indent): Likewise.
	(cm_value): Save and restore the value of meta_char_pos.
	(expansion): Likewise.
	* makeinfo/macro.c (me_execute_string_keep_state): Save and
	restore the value of meta_char_pos.
	* makeinfo/node.c (cm_node): Save and restore the value of
	meta_char_pos.
	* makeinfo/cmds.c (cm_accent): Make the dot we add due to
	@@dotaccent be a meta-character.
	(cm_code, cm_dfn): Call add_meta_char to insert the closing
	quote.
	(cm_cite): Call add_char instead of add_word.

Sun Nov 29 16:30:06 1998  Karl Berry  <karl@@gnu.org>

	* info/info.h,
	* info/footnotes.h (FOOTNOTE_LABEL),
	* info/indices.c (APROPOS_NONE): Use N_ rather than _.

	* info/infodoc.c (create_internal_info_help_node,
	function_documentation): Do not translate the empty string.
	Date: Fri, 25 Sep 1998 15:09:42 +0400
	From: "Oleg S. Tihonov" <tihonov@@ffke-campus.mipt.ru>

	* doc/info-stnd.texi: Mention PRIOR as another alias for
 		PREVIOUS/PageUp.

	* doc/texinfo.txi: @@emph produces _emph_ not *emph*.  Spurious
		junk before makeinfo bison example.
	From: tihonov@@ffke-campus.mipt.ru.

1998-11-16  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/defun.c (defun_internal): Don't expand the arguments to
	@@defun and its ilk.

	* makeinfo/makeinfo.c (expansion): Copy the name of the currently-
	executing command and restore it after expansion.

Sun Nov 15 17:40:51 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Rearrange usage, allow -v for verbose, only
		output `Making' line when verbose.
	* makeinfo/makeinfo.h (process_html, process_info, process_tex):
 		declare.
	* makeinfo/cmds.c: Use conditional commands.
	* makeinfo/insertion.c (find_type_from_name): Handle rawhtml and
 		rawtex.
	(conditional commands): Allow individual switching on and off.

	* makeinfo/insertion.h: Declare conditionals.

1998-11-14  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/insertion.c (begin_insertion, end_insertion): Use <pre>
	to convert @@display and @@smalldisplay into HTML.

	* makeinfo/cmds.c (cm_asterisk): Don't insert an extra newline in
	HTML mode, since input includes a newline right after the @@*.
	(cm_sp): Output "<br><p>\n" as many times as the argument says.
	(cm_url): Don't include "<a href=" in the anchor text in HTML
	output.

	* makeinfo/makeinfo.c (cm_pxref): Don't add a period after @@pxref
	if in HTML mode.
	(get_rest_of_line): Accept an additional argument EXPAND, and
	expand the rest of line if it's non-zero.  All callers changed.
	(close_paragraph): When in HTML mode, honor the formatting of the
	source paragraphs by generating "<p>" for every closed paragraph;
	follow it by as many "<p>"'s as paragraph_spacing specifies.

Sat Nov 14 17:38:27 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c: Use <ul compact> instead of deprecated <menu>.
	Omit extra <li> after the menu beginning.

	* makeinfo/index.c: Use <ul compact> instead of deprecated <menu>.

Thu Nov 12 16:33:09 1998  Karl Berry  <karl@@gnu.org>

	* Makefile.am (EXTRA_DIST): add djgpp/config.sed.

	* info/terminal.c: #include <sys/ioctl.h> to define TIOCGWINSZ
 		under LynxOS.  From: Marius Groeger <mag@@sysgo.de>.

1998-11-06  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/insertion.c (begin_insertion): Correctly handle
	ifnottex and ifnothtml.
	(end_insertion): Likewise.

Sun Nov  8 17:30:23 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/index.c,
	* makeinfo/insertion.c: Menu is special to Info.
	* makeinfo/node.c: Top is a special name, don't translate it.
	* info/session.c (info_top_node): Top is a special name, don't
		translate it.
	From: "Oleg S. Tihonov" <tihonov@@ffke-campus.mipt.ru>.

Fri Nov  6 17:18:43 1998  Karl Berry  <karl@@gnu.org>

	* configure.in: Version 3.12b.

	* util/texi2dvi: Fixes from Eli and Christoph Martin.

	Mon Oct  5 13:58:53 1998  Dave Glowacki  <dglo@@ssec.wisc.edu>
	* util/install-info.c: Fix off-by-one error in findlines()

	* util/texindex.c (usage): avoid trigraph until Ulrich fixes
 		po2tbl.sed.in.  From Paul Eggert.

1998-11-03  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (cm_xref): Don't bypass the test that an
	xref ends with a period or a comma if the reference has a single
	argument.

1998-10-31  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/insertion.c (end_insertion): Don't decrement
	in_fixed_width_font when leaving a menu, the previous value is
	restored by pop_insertion.

	* makeinfo/makeinfo.c (add_char): Don't increment output_column
	twice when a newline is inserted into the output.

	* doc/texinfo.txi (emph & strong): Document the use of underscores
	for @@emph in the Info output.

1998-10-30  Eli Zaretskii  <eliz@@is.elta.co.il>

	* djgpp/config.bat: Make sure intl/po2tblsed.in exists before we
	begin the configure boogie.
	* djgpp/config.sed: Sed script, to be run by config.bat.

	* doc/info-stnd.texi (Node Commands): Document the new G command.

	* info/session.c (info_follow_menus): Step over a possible leading
	space in a menu entry in menus[].
	(split_list_of_nodenames): Renamed from split_words.  Split the
	string on commas, not on spaces, since a menu entry can have
	embedded whitespace.  Get past the null byte after inserting it.
	(info_menu_sequence): Don't crash if there's no DIR node; try
	using Top of the current Info file, and if that doesn't work
	either, throw an error.

	* util/texi2dvi: Use $path_sep in TEXINPUTS.  Don't include any
	dots in $tmpdir, 8+3 filesystems won't like that.

	* makeinfo/makeinfo.c (reader_loop): Expand any macros in a menu
	entry when creating a <menu> item for HTML.  Fix an off-by-one
	error in counting input lines.

	* makeinfo/files.c (expand_filename): Don't treat .foo/bar as
	absolute file name.

	* makeinfo/makeinfo.c (add_char): Use strncpy instead of memcpy,
	since the buffers overlap.  If the line being refilled includes
	nothing but the indentation and the word being added, do NOT add
	an extra newline.

	* util/install-info.c (strip_info_suffix, menu_item_equal,
	open_possibly_compressed_file) [__MSDOS__]: Allow .inz and .igz as
	suffuxes for compressed files.
	(open_possibly_compressed_file): Return an indication whether we
	opened a file or a pipe.  Use FOPEN_RBIN from system.h.
	[STRIP_DOT_EXE]: Use gzip.exe with an explicit .exe extension.
	[O_BINARY]: If the file is not compressed, switch its stream to
	text mode.
	(readfile): Close the file or the pipe.
	(output_dirfile): Call pclose to actually run the compressor.

Thu Nov  5 08:33:06 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: effect -> affect
	From: Eric Hanchrow <offby1@@blarg.net>

Tue Nov  3 14:26:59 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c (cm_image): Allocate enough space for the
 		zero byte.

	* doc/texinfo.txi: Document epsf.tex standard location.

Tue Oct 27 10:45:47 1998  Karl Berry  <karl@@gnu.org>

	* Makefile.am (TEXINFO_TEX): add definition.

	* doc/info-stnd.texi: Avoid unnecessary overfull boxes from
 		examples.

	* doc/Makefile.am (install-data-local): missing ".

	* doc/Makefile.am: Don't try to run help2man in distribution.

Mon Oct 26 13:43:53 1998  Karl Berry  <karl@@gnu.org>

	* configure.in (TEXMF): lose this whole block.  It is too painful
		to maintain with the different tex installations out there.

	* util/Makefile.am (EXTRA_DIST): update-info renamed to
 		fix-info-dir.

	* makeinfo/footnote.h: Doc fix.

	* makeinfo/multi.c: #include "insertion.h"
	* makeinfo/cmds.c: #include "node.h"
	* makeinfo/makeinfo.h,
	* makeinfo/makeinfo.c: Move globals, functions for insertions and
 		nodes.
	* makeinfo/defun.c: #include "insertion.h"
	* makeinfo/Makefile.am: Add insertion.[ch], node.[ch].
	* node.[ch], insertion.[ch]: New files.

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h: Move globals for cmds.h.
	* makeinfo/index.h: Include cmds.h.
	* makeinfo/Makefile.am (makeinfo_SOURCES): Add cmds.h, cmds.c.
	* cmds.c, cmds.h: New files.

Sat Oct 24 17:28:14 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h: Globals for files.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add files.[ch].

Tue Oct 20 17:03:10 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/Makefile.am (makeinfo_SOURCES): add macro.c and
 		macro.h.
	* makeinfo/makeinfo.c: Move macro code to macro.h and macro.c.
	* makeinfo/makeinfo.h: Move macro stuff to macro.h, expose global
		last_char_was_newline for macro.c.
	* makeinfo/index.c,
	* makeinfo/footnote.c: #include macro.h.

Wed Oct  7 16:24:07 1998  Karl Berry  <karl@@gnu.org>

	* doc/info-stnd.texi: For now don't include version.texi due to
 		automake error.

	* makeinfo/index.h: #include makeinfo.h for sake of COMMAND type.
	* makeinfo/index.c: No need to include makeinfo.h, index.h does
 		now.

	* makeinfo/makeinfo.c: Move footnote code to footnote.c.
	* makeinfo/makeinfo.h: Globals for footnote.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add footnote.[ch].

	* makeinfo/makeinfo.c: Move defun code to defun.c, necessary
 		global to makeinfo.h.
	* makeinfo/makeinfo.h (default_indentation_increment): move here
 		for defun.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add defun.c.

	* Makefile.am: Doc fix.

	* configure.in (AC_OUTPUT): generate makeinfo/tests/Makefile.

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h,
	* makeinfo/Makefile.am (makeinfo_SOURCES): add index.[ch].

Fri Oct  2 17:42:26 1998  Karl Berry  <karl@@gnu.org>

	* lib/system.h (STREQ): new macro.

Thu Oct  1 09:26:57 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Delete spare copy since out of date,
	add makeinfo html to menu,
	detailmenu doesn't take braces in summary.

Wed Sep 30 14:38:21 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Remove != NULL comparisons,
	xmalloc/xrealloc casts, assignments in if statements.

Wed Sep 30 14:16:01 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Remove NULL casts and parentheses in return
 		statements.

	* makeinfo/makeinfo.c (add_link): Don't add a link if the node is null.
 	(reader_loop): don't glean_node_from_menu if detailmenu, even if html.
	Various formatting changes.

	* doc/help2man: Always exit successfully.

	* makeinfo/Makefile.am (SUBDIRS): add.
	(makeinfo_SOURCES): no more html.h.

Fri Sep 11 18:47:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Fiddle with html output.

1998-09-07  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (maybe_update_execution_strings): Only
	reallocate TEXT if the existing storage is too small, otherwise
	leave TEXT alone.
	(replace_with_expansion): Call maybe_update_execution_strings to
	reallocate input_text if we are executing_string, since storage
	for execution_string is assumed to be large enough to hold every
	possible string.
	(me_execute_string): xstrdup the argument, so callees could freely
	relocate it as needed.

1998-09-06  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (replace_with_expansion): Don't remember
	macro-expansion pointers if we are executing_string.

1998-09-05  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/filesys.c (info_suffixes): Put the empty suffix last in the
	list, so that `foo.info' is found before `foo', if both exist.

1998-09-05  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (maybe_update_execution_strings): New
	function, updates an entry in execution_strings[] array after
	input_text is relocated by replace_with_expansion.
	(replace_with_expansion): Call it.

1998-09-04  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (expand_macro): If a macro is called with
	too many arguments, return NULL and print the line number where
	the call begins.
	(execute_macro): If expand_macro returns NULL, return
	immediately.

Sun Sep  6 19:11:28 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h,
	* makeinfo/multi.c: Html output.  Specifically, these changes:

    Fri Jul  4 22:58:29 1997  Dave Love  <d.love@@dl.ac.uk>

	     * doc/makeinfo.texi: Document HTML output.

	     * makeinfo/makeinfo.c: Wrap strings in _() in bits changed for
	     HTML.
	     (cm_image): Generate <img> for HTML.

    Sun Jun 22 22:50:07 1997  Dave Love  <d.love@@dl.ac.uk>

	    * makeinfo/makeinfo.c (NAMED_NODE_ANCHORS): New define.
	    (title, outstanding_node, node_number, node_node_references,
	     escape_html, ifinfo_as_html): New variables.
	    (tentry.number, node_ref.number, fn.number): New fields.
	    (CommandTable): Various additions and alterations for HTML.
	    (long_options): Add html and no-info-as-html.
	    (main): Extra code for HTML.
	    (usage): Add HTML stuff.
	    (expand_filename): Deal with .html.
	    (escape_string): New procedure.
	    (convert_from_loaded_file): Extra code for HTML.
	    (init_internals): Call free_node_references, initialize
	    node_number.
	    (reader_loop): Process menu items for HTML hyperlinks.  Escape
	    HTML special characters.
	    (add_char): Code for line breaks and paragraph insertions in
	    HTML.
	    (flush_output): Don't UNMETA for HTML.
	    (indent): Do nothing for HTML.
	    (current_item_function): Case for ifhtml.
	    (begin_insertion): Deal with HTML in various cases.
	    (insert_html_tag): new procedure.
	    (cm_asterisk, cm_copyright, cm_accent, cm_code, cm_kbd,
	    cm_angle_brackets, cm_var, cm_defn, cm_var, cm_emph, cm_string,
	    cm_cite, cm_top, cm_xref, cm_inforef, cm_uref, cm_direntry,
	    cm_ifinfo, cm_item, process_defun_args, defun_internal, cm_sp,
	    cm_dircategory, cm_center, cm_result, cm_expansion, cm_error,
	    cm_exdent, index_add_arg, make_index_entries_unique,
	    cm_printindex, cm_footnote, output_pending_notes,
	    me_execute_string): Code for HTML.
	    (cm_shyph): New procedure.
	    (cm_special_char): Add start, end args.  Code for HTML.
	    (cm_email, cm_url, cm_i, cm_b, cm_r): New procedures.
	    (sectioning_html): New procedure.
	    (sectioning_underscore): Use it.
	    (add_link): New procedure.
	    (remember_node): Add number field and update node_number.  Note
	    next, etc. nodes for HTML.
	    (add_escaped_anchor_name, add_anchor_name): New procedures.
	    (cm_node): New code for HTML.  Move some other code to more
	    useful place.
	    (remember_node_reference): Add number field and update
	    node_number.
	    (remember_node_node_reference, free_node_node_references,
	    number_of_node): New procedures.
	    (cm_ifhtml, cm_html): New procedures.
	    (expansion): Take care of HTML escaping.
	    (cm_settitle): New procedure.
	    (remember_note): Set number field.

	    Declare various procedures in advance.

	* doc/texinfo.txi: Makeinfo --html documentation from Dave Love.
	Typo fixes from: Paul DuBois <dubois@@primate.wisc.edu>.

Thu Sep  3 11:11:01 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/Makefile.am (makeinfo_SOURCES): add html.[ch].

1998-08-28  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (cm_uref, cm_email): Use get_xref_token to
	gather arguments.
	(get_xref_token): Keep track of input line number when expanding
	xref arguments.

Tue Aug 25 14:36:44 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Exit the script if TeX exits with bad status.

1998-08-16 Eli Zaretskii <eliz@@is.elta.co.il>

	* info/indices.c (info_index_apropos): In the *Apropos*
	menu, print the label first, then the Info file name and
	the node name.  Make the Info file name part of the menu
	entry, so that all entries are distinct.
	(apropos_in_all_indices): Scan each Info file only once, thus
	avoiding multiple identical entries in the *Apropos* menu.
	Free xstrdup'ed buffer, to avoid leaking memory.

Thu Aug 13 12:54:58 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Set version to 3.12a.

	* Makefile.am (AUTOMAKE_OPTIONS): bump required version to 1.3,
 		add readme-alpha option.

	* util/texindex.c (program_name),
	* util/install-info.c (progname),
	* info/info.c (program_name),
	* makeinfo/makeinfo.c (progname): hardwire per coding standards.
	* doc/help2man: Remove ginfo special case.

Tue Aug 11 17:41:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/gen-dir-node: New version from drk@@sgi.com.

Mon Aug 10 13:55:37 1998  Karl Berry  <karl@@cs.umb.edu>

	* dir-example: Add entries from Linux.

	* info/info-utils.c (get_window_of_node): New fn.
	* info/info-utils.h (get_window_of_node): New fn.
	* (strchr,...) [!HAVE_STRCHR]: remove these #defines.
	* info/infodoc.c (info_find_or_create_help_window): Call
		get_window_of_node instead of get_internal_info_window.
	This is so pressing ? repeatedly will always get to the same Help
		window instead of popping up new ones.
	From: "Brian J. Fox" <bfox@@prospero.datawave.net>

	* info/signals.c: Ignore SIGWINCH if we're in the midst of it.
	We might get a whole lot of them.  Noticed on Afterstep.
	From: "Brian J. Fox" <bfox@@prospero.datawave.net>

1998-07-25  Bruno Haible  <bruno@@linuix.math.u-bordeaux.fr>

        * install-info.c (findlines): Allocate room for one more line,
        to avoid crash if dir file has exactly 512 lines.

Tue Aug  4 07:14:35 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c: Improve help message.

	* dir-example: Add mtools.

Fri Jul 31 13:29:52 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/help2man: Various hacks for texinfo.

	* doc/texinfo.txi: Make dir entries more consistent.

	* doc/Makefile.am: Generate man pages with help2man.

	* util/texi2dvi,
	* util/install-info.c,
	* makeinfo/makeinfo.c,
	* util/texindex.c: Improve help message.

	* doc/info.5: Initial.
	* doc/texinfo.5: Section 5.

Thu Jul 30 17:31:42 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/info-stnd.texi,
	* doc/texinfo.txi: Use Automake-standard VERSION and UPDATED.

Wed Jul 29 17:34:41 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Describe macro limitations a bit more.

	* dir-example: Correct makeinfo link.

Tue Jul 28 16:44:06 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (remember_brace_1): xstrdup command, since
 		we free it later.

Mon Jul 27 16:27:30 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/session.c (node_printed_rep): New fn.
	Change calls.

	* info/session.c (info_set_node_of_window): Simplify by taking new
		argument to say whether to call
		set_remembered_pagetop_and_point.  Change calls.
	* info/indices.c: Change call.

	* info/info.c: Rewrite initial menu-sequence following stuff as a
		function in session.c, and call it.

	* info/infomap.c: Define `G' as info_menu_sequence.
	* info/session.h (info_menu_sequence, info_follow_menus): declare
 		new fns.
	* info/session.c (info_follow_menus, split_words,
		* info_menu_sequence): New functions for new command.

Thu Jul 23 16:44:42 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/session.c (info_scroll_other_window_backward): new command.
	* info/infomap.c (initialize_info_keymaps): bind M-DEL and M-prior to
	scroll-other-window-backward.
	Report from: Vladimir Alexiev <vladimir@@cs.ualberta.ca>
	Date: 	Tue, 2 Dec 1997 14:54:30 -0700

	* info/info-utils.c (printed_representation): If ISO_Latin_p, show
		characters as-is.  Don't assume iscntrl(x) returns false
		for meta characters.
        Report from: Francois Pinard <pinard@@iro.umontreal.ca>
	Date: 15 Jan 1998 17:48:51 -0500

	* info/pcterm.c (pc_initialize_terminal): now no need to set it
 		here.
	* info/info-utils.c (ISO_Latin_p): set to 1 by default.

	* doc/info-stnd.texi: Document SPC, add goto-node anchor.

Wed Jul 22 18:58:38 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/window.c (message_buffer_to_node),
	* info/session.c (kill_node),
	* info/nodes.c (info_get_node_of_file_buffer,
 		info_node_of_file_buffer_tags),
	* info/man.c (manpage_node_of_file_buffer),
	* info/footnotes.c (make_footnotes_node): set display_pos member
 		in new node.

Tue Jul 21 14:04:52 1998  Karl Berry  <karl@@cs.umb.edu>

        (all of this is to make SPC/DEL not move outside the current
	        document, i.e., not up through dir)
	* info/info-utils.h (info_label_was_found): Move from here.
	* (info_prev_label_of_node): Don't use it any more.
	* info/session.c (INFO_LABEL_WAS_FOUND): Move to here, add test
 		for filename not dir.
 	(forward_move_node_structure): Change calls, notice if no more nodes.
	(backward_move_node_structure): Check for moving outside current
	document to dir.
	* info/filesys.c (compression_suffixes): Add bz2 for bunzip2.
	(is_dir_name): New fn.
	* info/filesys.h: Declare it.
	* info/nodes.c (info_get_node, info_find_file_internal): Use it.

	* makeinfo/makeinfo.c: Set in_fixed_width_font to avoid munging
 		node names.

Sat Jul 18 17:14:10 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/man.c (reap_children): Call wait (NULL), since we don't
		actually use the return status for anything.  NEXTSTEP 3.3
		doesn't like an int * even though that is the POSIX
		specification.
	Date: Fri, 22 Aug 1997 13:55:42 +0200
	From: "Felix H. Gatzemeier" <fxg@@imib.rwth-aachen.de>
	Via: Thomas Esser <te@@informatik.uni-hannover.de>

	* info/session.c (kill_node): Restore point when we go back.

Thu Jul 16 18:54:04 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (BRACE_ELEMENT): Add `command' to the save
 		stack.
 	(MAYBE_BRACE_ARGS): New possibility, somewhat like TeX's
	  next-token-as-argument.
	(command_table): Use cm_accent and MAYBE_BRACE_ARGS for all accents.
	(read_command): Implement MAYBE_BRACE_ARGS.
	(init_brace_stack): save current command.
	(pop_and_call_brace): restore current command.
	(cm_accent): move almost all accent characters to after the argument.
	Suggested by Fran,cois.

	* info/info.c (version_string): Remove defn.
	Change call for --version option.
	* info/session.c (display_startup_message_and_start): Just use
 		VERSION.
	* info/info.h (version_string): Remove decl.

Tue Jul 14 16:46:58 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.h: Doc fix.

	* makeinfo/makeinfo.c (validate_file): Don't complain about
 		unreferenced anchors.

	* doc/texinfo.txi: Document @@anchor.

Sun Jul 12 14:14:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (remember_node): Only set `current_node' if
 		this is not an anchor.

	* info/nodes.c (get_tags_of_indirect_tags_table): Don't set
	nodelen to -1 when fixing up the subfile entries, it might be 0
	from an anchor.

	* info/nodes.c (find_node_of_anchor): Offset display_pos for
	anchor tags by the amount that node references are off by (- 1).

Sat Jul 11 17:37:18 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_anchor): Add output_column for anchors
 		embedded in a line.

Fri Jul 10 16:28:21 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/session.c (info_menu_or_ref_item): Don't search for the
		xref text if it's an anchor.
	* info/nodes.h (N_FromAnchor): New NODE flag.
	* info/nodes.c (find_node_of_anchor): New fn.
	(info_node_of_file_buffer_tags): Handle anchor case.

Wed Jul  8 17:48:59 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/window.c (window_set_node_of_window): Set window->point to
		node->display_pos.
	Remove unneeded casts.

Tue Jul  7 08:06:14 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (add_word_args) [!VA_SPRINTF]: Use buffer,
		not the undeclared temp_string.
	From:     Tobias Naehring <naehring@@eeetw3.et.tu-dresden.de>
	To:       egcs-bugs@@cygnus.com
	Date:     Mon, 6 Jul 98 13:51:55 +0200

Mon Jul  6 17:43:25 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/nodes.h (NODE): Add display_pos member.

Sun Jul  5 08:17:43 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/nodes.h (INFO_REF_LABEL): Define.

	* util/texi2dvi: Rationalize use of `index' vs. more general
 		`xref'.

Thu Jul  2 18:53:43 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Don't translate -Footnotes, it's a magic
 		cookie.  From Eli.

Wed Jul  1 08:42:41 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi (url): Missing word `command'.

Tue Jun 30 10:35:48 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c: Missing \n in try --help msg.

	* makeinfo/makeinfo.c (cm_anchor): New fn for new cmd.
	(TAG_FLAG_ANCHOR): New flag for tag entries.
	(write_tag_table_internal): Handle anchor case.
	(TAG_FLAG_{{PREV,NEXT,UP}_ERROR,NO_WARN,IS_TOP}): Add TAG_FLAG_ prefix
	for clarity, change uses.

	* doc/texinfo.txi: Remove warning about footnotes with @@item, that
 		works now.

Mon Jun 29 10:17:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (AM_CONFIG_HEADER): Use second argument to be 8.3
		compliant.
	* config.h.in: Rename to config.in.

	* info/Makefile.am (EXTRA_DIST),
	* info/terminal.c [__MSDOS__]: Change #include to pcterm.c and
		rename file.

Sun Jun 28 14:29:27 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am (EXTRA_DIST): Add pc_term.c.

	* makeinfo/makeinfo.c (HAVE_MACROS): Remove this conditional, we
 		always want macros now.

	* info/indices.c: Copyright.

1998-06-26  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c: (only_macro_expansion): New variable,
	suppresses all expansions except macros.
	(replace_with_expansion): New function, replaces a portion of
	input text with its expansion.  Avoids moving the text around if
	we are positive it will expand into itself.  If the length of the
	expanded text is the same as the length of the original text, just
	replaces the original text without moving the rest.  Resyncs the
	remembered text pointers with the realloc'ed input_text, when it
	is realloc'ed.
	(reader_loop): When only_macro_expansion is non-zero, only handle
	macros, but leave the rest of input intact.
	(read_command): Now returns an int, zero means no known command or
	macro is found after the prefix character; all callers changed.
	Support operation under non-zero only_macro_expansion.
	(cm_node): Expand only the macros in the @@node line.  Allocate and
	generate the macro-expanded @@node line in one swell whoop.
	(glean_node_from_menu): Expand macros in menu entries.
	(get_xref_token): A new argument EXPAND, when non-zero, means
	expand macros in the entire brace-delimited argument before
	looking for the next comma; all callers changed.
	(expansion): Save and restore additional state variables important
	for output generation machinery.  Disable indentation and filling
	during the recursive expansion, so that the output buffer offset
	is not invalidated by filling.
	(me_execute_string_keep_state): New function, calls
	me_execute_string, but saves and restores state variables
	important for output generation, so that -E doesn't change the
	generated Info output.
	(index_add_arg, cm_footnote): Call me_execute_string_keep_state.
	(expand_macro): New function, returns the macro expansion as a
	malloc'ed string.
	(execute_macro): Call expand_macro.
	(me_execute_string): Avoid memory leak by freeing input_filename.
	(get_until_in_braces, replace_with_expansion, add_char,
	cm_footnote, cm_macro, cm_unmacro, get_brace_args,
	extract_colon_unit): Use the faster memcpy/memmove instead of
	strncpy.

Sat Jun 27 14:18:54 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/info.texi: Use @@subsubsection instead of
		@@unnumberedsubsubsection, since it's in a numbered chapter.

	* Started installation of following DOS patches from Eli.
>1998-05-16  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* info/session.c (info_goto_node): Don't show the nodes of the
>	current Info file twice in *Completions*.
>	* info/echo-area.c (ea_possible_completions): Actually pass the
>	number of completions to printf_to_message_buffer.
>
>	* info/man.c (manpage_node_of_file_buffer): xstrdup the nodename
>	member of manpage nodes, since the tags are freed and recomputed
>	when a new man page is added to *manpages* file_buffer.
>	(get_manpage_node): Recompute info_windows[]->nodes[] for all
>	windows showing the man pages after nodes[]->contents are
>	invalidated by reallocation of file_buffer->contents.
>
>1998-05-15  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* lib/system.h (DEFAULT_INFO_PRINT_COMMAND) [__MSDOS__]: Define to
>	">PRN".
>	* info/session.c (print_node): Support ">printer" in
>	INFO_PRINT_COMMAND, to mean write to the named file/device insead
>	of piping to it as a program.
>	(kill_node): Compare window in addition to the nodename, when
>	looking for the node to kill.
>
>1998-05-09  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* lib/system.h (SET_SCREEN_SIZE_HELPER) [__MSDOS__]: Define a new
>	macro.
>	* info/m-x.c (set_screen_height): Use SET_SCREEN_SIZE_HELPER, if
>	defined.  If the screen size did'n change, redisplay the previous
>	screen contents.
>
>	* info/infomap.c (initialize_info_keymaps) [__MSDOS__]: Bind DEL
>	to ea_delete in the echo-area keymap.
>	* info/session.c (incremental_search): If the key is
>	isearch_terminate_search_key, but buffered input is pending, don't
>	gobble the ESC key.
>
>	* info/info.c (main): Switch the order thet terminal_prep_terminal
>	and terminal_clear_screen are called, to make it consistent with
>	what initialize_info_session does when called with non-zero second
>	argument.  Call terminal_unprep_terminal last, after moving the
>	cursor to the bottom of the screen.  If user_filename is of the
>	form "d:foo", add "d:." to the INFOPATH, not "d:".
>
>	* info/signals.c (initialize_info_signal_handler): Save old
>	SIGUSR1 handler.
>	(info_signal_handler): Handle SIGUSR1.
>
>	* info/indices.c (info_apropos): Print the results to stdout.
>
>1998-05-02  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* makeinfo/makeinfo.c (ALSO_NULL_DEVICE): New macro, for alternate
>	null device name.
>
>	* info/man.c (get_manpage_contents): Redirect stderr of the man
>	page formatter to the null device.
>	(executable_file_in_path): Use IS_SLASH.
>
>	* info/session.c (info_gather_typeahead) [__DJGPP__]: Call
>	pc_term_chars_avail to get the number of pending characters.
>
>	* info/filesys.c (convert_eols): New function, converts DOS-style
>	EOLs to a single Newline.
>	(filesys_read_info_file, filesys_read_compressed): Call it.
>	(filesys_read_compressed) [STRIP_DOT_EXE]: Use explicit .exe
>	suffix.
>	(filesys_read_compressed): Check return status of `pclose'.
>
>1998-05-01  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* info/filesys.c (filesys_read_info_file): Add additional
>	parameter: is_compressed.  All callers changed.
>
>	* makeinfo/makeinfo.c (convert_from_loaded_file): Compare file
>	names with FILENAME_CMP.  Use NULL_DEVICE.
>	(cm_node): Compare file names with FILENAME_CMP.
>	* info/tilde.c (tilde_find_suffix, tilde_expand_word): Use
>	IS_SLASH.
>
>	* info/pc_term.c: New file, handles the PC terminal on MS-DOS and
>	MS-Windows.
>	* info/terminal.c [__MSDOS__]: Include pc_term.c.
>	* info/Makefile.in (ginfo_SOURCES): Add pc_term.c
>	Add pc_term.c to dependencies of terminal.o.
>
>	* info/session.c (info_get_input_char): Reassign tty after EOF
>	from a non-stdin input stream.
>
>1998-04-30  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* info/session.c (info_set_input_from_file): Use binary input.
>	(info_gc_file_buffers): Compare file names with FILENAME_CMP.
>	* info/search.c (skip_whitespace_and_newlines): Use
>	whitespace_or_newline macro instead of reinventing the wheel.
>	* info/nodes.c (info_find_file_internal): Use IS_ABSOLUTE and
>	FILENAME_CMP.
>	(info_load_file_internal): Call filename_non_directory to find out
>	where the basename begins.
>	(get_tags_of_indirect_tags_table): Call filename_non_directory.
>	containing_dir of "d:foo" is "d:.", not "d:".
>	(forget_info_file): Compare file names with FILENAME_CMP.
>	* info/nodemenu.c (get_visited_nodes): Use FILENAME_CMP to find
>	duplicate lines.
>
>	* lib/system.h (PIPE_USE_FORK): New macro.
>	* info/man.c (get_manpage_contents): Use it to determine whether
>	to call pipe/fork/exec or popen/pclose to run the man page
>	formatter.
>	(executable_file_in_path): Search for the file with several known
>	extensions such as .exe, where appropriate.
>
>	* lib/system.h (NULL_DEVICE): A new macro.
>	* info/makedoc.c (main): Use it.
>	(maybe_dump_tags): Switch output strem to binary mode when
>	appropriate.
>	(process_one_file): Update file_size after reading the file.
>
>	* info/infodoc.c: Add TAB, RET, and `i' to the list of important
>	commands in info_internal_help_text.
>
>	* info/info.c (main): Support the --speech-friendly option.  Use
>	PATH_SEP to separate directories.
>	(info_short_help) [__MSDOS__]: Mention the --speech-friendly
>	option.
>
>	* info/info-utils.c (filename_non_directory): Use HAVE_DRIVE and
>	IS_SLASH.
>	* info/indices.c (do_info_index_search, index_entry_exists): Use
>	FILENAME_CMP to compare file names.
>	* info/filesys.c: Add ".inf" to the list of known extensions.
>	Look for .z before .Z, for the sake of case-insensitive
>	filesystems.  Add DOS-specific extensions to work around 8+3
>	namespace restrictions.
>	(info_absolute_file): New function.
>	(info_find_fullpath): Call it for candidates which are absolute
>	file names.  Use IS_SLASH and IS_ABSOLUTE.
>	(info_file_in_path): Use IS_SLASH.
>	(extract_colon_unit, info_add_path): Use PATH_SEP instead of ":".
>	(lookup_info_filename): Compare file names with FILENAME_CMP.
>	(filesys_read_info_file): Read Info files in binary mode.
>	(filesys_decompressor_for_file): Read Info files in binary mode.
>	Compare file names with FILENAME_CMP.  On MS-DOS, allow files
>	whose names end with a `z' be decompressed with gunzip.
>	* info/dribble.c (open_dribble_file): Open dribble file in
>	FOPEN_WBIN mode.
>	* info/dir.c (maybe_build_dir_node): Use IS_SLASH.
>	* util/texindex.c (maketempname): Put the numeric suffix after the
>	dot, to salvage 3 more characters on 8+3 filesystems.
>
>1998-04-29  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* util/texindex.c (main): Use IS_SLASH to find the basename of
>	argv[0].  Lose the .exe suffix, if any.
>	(decode_command): Look at $TEMP and $TMP in addition to $TMPDIR.
>	Use DEFAULT_TMPDIR.
>	* util/texi2dvi: Use either `:' or `;' as directory separator in
>	TEXINPUTS, computed at run time.  Save previous versions of index
>	files in a separate backup directory.
>	* util/install-info.c (main): Support backslashes in file names by
>	using IS_SLASH.  Avoid recomputing length of infile_basename
>	unnecessarily.  Use FILENAME_CMP for comparing file names
>	case-insensitively, where appropriate.  Allow foo.inf as well as
>	foo.info to be an Info file name.
>	* lib/system.h (PATH_SEP, STRIP_DOT_EXE, FILENAME_CMPN,
>	DEFAULT_TMPDIR): New macros.
>
>1998-04-25  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* lib/system.h (O_BINARY, SET_BINARY, FOPEN_RBIN, FOPEN_WBIN,
>	IS_SLASH, HAVE_DRIVE, IS_ABSOLUTE, FILENAME_CMP, PATH_SEP,
>	HAVE_LONG_FILENAMES): New macros.
>	* makeinfo/makeinfo.c (find_and_load): Use O_BINARY to decide when
>	read returning a value different from what st_size says is not an
>	error.  Realloc the buffer after we've read the file.
>	(skip_directory_part): New function, skips leading directory in a
>	way that works on DOSISH systems.
>	(filename_non_directory, pathname_part): Call it.
>	(filename_part): Call filename_non_directory.
>	(expand_filename, full_pathname): Use IS_ABSOLUTE and IS_SLASH.
>	(convert_from_file): Check .txi extension first.
>	(split_file): Support splitting output files on 8+3 filesystems.
>	(main, extract_colon_unit): Use PATH_SEP instead of ':'.
>	(get_file_info_in_path): Use IS_ABSOLUTE and IS_SLASH.


	* doc/texinfo.txi: Changes from Eli for MS-DOS stuff.
	* doc/info-stnd.texi: Fixes from Eli: he documented all the
 		missing keys and command-line options, corrected
 		inaccuracies (probably left-overs from previous versions),
 		and added some clarifications where I thought the manual
 		was not clear enough.
	* Makefile.am (EXTRA_DIST): Add djgpp files.

	* makeinfo/makeinfo.c: New no-op commands @@setcontentsaftertitlepage
	and @@setshortcontentsaftertitlepage.
	* doc/texinfo.txi: Document the new @@set{,short}contentsaftertitlepage
	commands and the possibility of putting @@contents and
        @@shortcontents after @@end titlepage.

	* util/texi2dvi: Check that the toc file has not changed (as well
 		as .aux and .??).

Thu Jun 25 16:58:46 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document new commands @@env, @@command, @@option.

	* makeinfo/makeinfo.c (option, command, env): New markup commands, same
 		as @@code in info.

Wed Jun 24 15:39:38 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: New no-op command @@acronym.

	* doc/texinfo.txi: Document new command @@acronym.

	* util/install-info.c (strip_info_suffix, menu_item_equal): New fns.
 	(main): Call them instead of doing the filename test inline; all the
	.info variations are too confusing to write out twice.

Tue Jun 23 18:01:40 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Fix some overfull boxes.

Mon Jun 22 19:22:17 1998  Karl Berry  <karl@@north>

	* configure.in: Remove AC_LINK_FILES call, that was an old gettext
 		thing, no longer necessary, and causes problems with Autoconf.

Sun Jun 14 07:00:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Indent options so help2man will work.  From Akim.

Sat Jun 13 10:45:25 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (ALL_LINGUAS): Add nl.

	* util/texi2dvi: Avoid tabs.

Wed Jun 10 17:38:21 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (gen_defindex): Use xmalloc instead of alloca.
	This was our only use of alloca, so also remove all the #if junk
	at the beginning to define it.

	* makeinfo/makeinfo.c: Fix grammar in multiply-defined-node error
		message.

Tue Jun  9 17:53:54 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document new commands @@smallformat,
 		@@smalldisplay.

	* makeinfo/makeinfo.c: New commands @@smalldisplay and @@smallformat.
	Suggestion from: Eli Zaretskii <eliz@@is.elta.co.il>.

	* makeinfo/makeinfo.h (insertion_type, insertion_type_names):
	Declare smalldisplay and smallformat.

Mon Jun  8 07:57:52 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document possibility of combining @@titlefont
 		and @@title.  From Eli.

	* util/texi2dvi: Set verbose to : instead of false by default.

	* util/texi2dvi: Missing \\ for sed with -t text.  From Akim.

Sun Jun  7 13:02:13 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document @@pagesizes and texidvi -t.

	* makeinfo/makeinfo.c: Define no-op @@pagesizes and @@afourpaper.
	(major_version, minor_version): Remove these globals, just use the
	Texinfo package version.
	(print_version_info): Ditto.

Fri Jun  5 17:54:16 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Change texi2dvi documentation a bit.

	* util/texi2dvi: Handle --option=argument style of specifying
 		arguments.

Sat May 30 14:01:37 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: More.

	* util/install-info.c (open_possibly_compressed_file): Finish
 		implementation.

	* doc/texinfo.txi: Document install-info compression support.

Fri May 29 08:01:43 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (open_possibly_compressed_file): Initial
 		implementation.

	* util/install-info.c (output_dirfile): Attempt to write dir.gz if
 		that's what we read.
 	(readfile): Pass back the actual opened filename, too.

	* info/indices.c: Check in Eli's patch.

Thu May 28 17:09:45 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (readfile): Set up to handle compressed
	input (and output) files. Change callers.
	Rearrange function order to avoid forward declarations.

	* configure.in: Remove check for libz, we'll fork gzip instead.

Tue May 26 18:01:13 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (print_help): Missing \n\ in help string.

	* makeinfo/makeinfo.c (POST_SENTENCE): Rename from post_sentence.
  	Change calls.
	(flush_output): Strip 8th bit if post_sentence char as well as space.
	(cm_code, etc.): Change add_char calls for post_sentence chars to set
	8th bit.

1998-05-23  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/indices.c (info_next_index_match): Call
	info_set_node_of_window to display the node, so that footnotes are
	displayed as well.

Thu May 21 11:05:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (output_dirfile): New function, extracted
 		from the end of main.

	* makeinfo/makeinfo.c (begin_insertion): Ignore @@group in all the
	example-like environments, not just @@example.  Otherwise the first
	line in the environment is not indented correctly. Reported by rms.

Wed May 20 17:44:38 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c: Doc fixes.

	* util/install-info.c: Handle XEmacs-style dir entries:
	* FILENAME::PROGRAM  DESCRIPTION.
	Date: Wed, 13 May 1998 13:58:28 +0900
	From: KIRIYAMA Kazuhiko <kiri@@kiri.toba-cmt.ac.jp>

	Also, do not set something_deleted on continuation lines; they are only
	deleted if the entry was deleted.

Tue May 19 17:22:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c: Do not read the dir file if we are only
	deleting -- it might not exist, and we don't actually need it.
	From: David Kaelbling <drk@@sgi.com>
	Date: Tue, 12 May 1998 11:05:26 -0400

	* util/gen-dir-node:
	From: David Kaelbling <drk@@sgi.com>
	Date: Tue, 12 May 1998 16:05:16 -0400 -
	- The "dir" moobler header is slightly different from the default
		dir file.
	- If all files in ${infofiles} appear in the skeleton the last one
 		is processed twice.
 	- INFO-DIR-SECTION data is ignored.
  	- Don't generate entries for directories.

Sat May 16 17:16:56 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_novalidate): New fn for new command
 		@@novalidate, like --no-validate.

Thu May 14 18:02:31 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document the @@novalidate command.

Wed May 13 17:47:20 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document limitation on @@set/@@value names in
 		index commands.

Fri May  1 14:12:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi (Command List): @@deftypevar out of order.

	* configure.in (ALL_LINGUAS): Add cs.

Tue Apr 28 09:33:41 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (strcasecmp): This is in lib now.

1998-04-26 Richard Stallman <rms@@psilocin.gnu.org>

	* util/install-info.c (print_help): Doc clarifications.

Sun Apr 19 15:55:10 1998  Karl Berry  <karl@@cs.umb.edu>

	* lib/system.h (strcasecmp, strncasecmp) [!HAVE_STR[N]CASECMP]:
 		Declare these.

	* info/search.h (str[n]casecmp): Remove decl from here.

	* configure.in (AC_REPLACE_FUNCS): Check for strcasecmp and
 	strncasecmp here.
	(AC_CHECK_FUNCS): Instead of just strcasecmp here.

	* configure.in (texconfig): Use TEXMFMAIN in preference to TEXMF
 		for post-0.4 teTeX.

Wed Apr 15 17:20:31 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi (Reporting Bugs): New section.
	Suggestion from: Andrew Shapira <shapiraa@@cs.rpi.edu>
	Date: Mon, 4 Aug 1997 19:06:06 -0400 (EDT)

	* info/infomap.c: Define / to be info_search.
	Suggestion from: Egil Kvaleberg <egil@@kvaleberg.no>
	Date: Fri, 1 Aug 1997 08:16:45 +0200 (MET DST)

	* doc/texinfo.txi (uref): Document reason for not using <URL: format.
	Also use ftp.gnu.org instead of ftp.gnu.ai.mit.edu throughout.

Tue Apr 14 10:43:39 1998  Karl Berry  <karl@@cs.umb.edu>

	1998-04-05 Karl Eichwalder <ke@@suse.de>
	* makeinfo/makeinfo.c (begin_insertion): No need to
 	gettext; it's a keyword.  From carl-friedriech.spilcke-liss@@ensae.fr.
 	(cm_printindex): ditto.

	* util/texi2dvi: Always remove the $tmp_dir's.
	From: Dean Gaudet <dgaudet@@arctic.org>
	Date: Tue, 14 Apr 1998 00:55:36 -0700 (PDT)

Mon Apr 13 18:02:57 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Include
	AM_SYS_POSIX_TERMIOS
	AM_HEADER_TIOCGWINSZ_NEEDS_SYS_IOCTL
	to avoid window resizing being ignored under glibc2 systems,
	e.g., Red Hat Linux 5.0.  Actually any system where the ioctls are not
	defined in <termios.h>.
	See also http://www-gnats.gnu.org:8080/cgi-bin/wwwgnats.pl/full/206.
	* acconfig.h (GWINSZ_IN_SYS_IOCTL): New #undef for autoheader.
	* info/termdep.h [GWINSZ_IN_SYSIOCTL]: #include <sys/ioctl> if
 		this is defined.
	From: Mark Jefferys <mjeffery@@cse.ogi.edu>
	Date: Thu, 9 Apr 1998 12:38:27 -0700 (PDT)

Fri Apr  3 01:18:22 1998  Philippe De Muyter  <phdm@@macqel.be>

	* info/info.c (main): Use 0, not NULL, as ? : alternative.

d6 1
a6 1

d37 1
a37 1

d155 1
a155 1
		need translation.
d222 1
a222 1
1997-07-31 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
d479 1
a479 1

d486 1
a486 1
	* doc/makeinfo.texi: Don't distribute this either, it's in the
d605 1
a605 1
	* info/termdep.h (HAVE_TERMIOS_H) [NeXT]: #undef.
d758 1
a758 1
 	(localedir): Set.
d763 1
a763 1
	* util/texindex.c (main):
d807 1
a807 1
	* doc/texinfo.texi (various): Document @@deftypemethod.
d920 1
a920 1

d1086 1
a1086 1

d1089 1
a1089 1

d1233 1
a1233 1

d1339 1
a1339 1

d1342 1
a1342 1

d1594 2
a1595 2
        the source file.
        (chapfonts, secfonts, subsecfonts, indexfonts): Call \setleading.
d1727 1
a1727 1
	stricter about what makes two index entries identical.
@


1.1.1.7
log
@TeXinfo 4.2, much more robust html (and other formats) output, and a few
features that new FSF programs will need (e.g., gcc snapshots).

looked at by fgs@@, thanks.
@
text
@d1 1
a1 1
2002-04-01    <karl@@gnu.org>
d3 1
a3 2
	* configure.ac: version 4.2.
	* util/texi2dvi: 4.2
d5 2
a6 4
	* makeinfo/toc.c: doc fix.
	* util/install-info-html:
	* makeinfo/texinfo.xsl: Fixes From: Ville Skytt
		<ville.skytta@@iki.fi>.
d8 1
a8 3
	* makeinfo/insertion.c (begin_insertion): (copying case) omit
		cm_insert_copying if no_headers.
	Bug report from Stephen Gildea.
d10 1
a10 1
2002-03-28    <karl@@gnu.org>
d12 1
a12 1
	* configure.ac: pretest 4.1d.
d14 2
a15 2
	* doc/texinfo.txi:
	* makeinfo/cmds.c: ignore headings commands.  From Stephen Gildea.
d17 4
a20 1
	* doc/texinfo.txi: @@ifplaintext
d22 4
a25 1
2002-03-26    <karl@@gnu.org>
d27 1
a27 2
	* doc/texinfo.tex (\ifplaintext,\ifnotplaintext): new output
		format conditional.
d29 1
a29 3
	* makeinfo/cmds.c (cm_settitle):
	* makeinfo/node.c (cm_node): need to pass output filename arg to
		* xml_begin_document.
d31 1
a31 2
	* makeinfo/cmds.c (cm_sp): need close_single_paragraph instead of
	close_paragraph to avoid an extra blank line.  Bug report from Stephen Gildea.
d33 1
a33 2
	* doc/texinfo.tex (\doignore): can't do c kludge for
		documentdescription.  Bug report from Stephen Gildea.
d35 4
a38 2
	* doc/texinfo.txi: missing t in documentdescription example, from
	Stephen Gildea.
d40 1
a40 1
2002-03-24    <karl@@gnu.org>
d42 3
a44 1
	* doc/texinfo.txi: invar sec
d46 2
a47 1
2002-03-23    <karl@@gnu.org>
d49 2
a50 1
	* configure.ac: pretest 4.1c.
d52 2
a53 1
2002-03-23  Eli Zaretskii  <eliz@@is.elta.co.il>
d55 1
a55 2
	* info/search.c (skip_non_whitespace): Don't go beyond the
	terminating null character.
d57 5
a61 3
	* info/filesys.c (filesys_read_info_file) 
	(filesys_read_compressed): Null-terminate the contents of the file
	we've read, so it could be used as a C string.
d63 1
a63 1
2002-03-23  Eli Zaretskii  <eliz@@is.elta.co.il>
d65 5
a69 6
	* makeinfo/makeinfo.c (insert_toplevel_subdirectory): Fix
	computation of output_filename's length, to avoid overrunning
	malloc'ed buffer.  If mkdir returns with EEXIST, assume we can use
	an existing directory only if the existing file is indeed a
	directory.  On MS-DOS, allow for EACCES in addition to EEXIST.
	<max_name_len>: Remove this variable.
d71 1
a71 4
	* makeinfo/makeinfo.c (expansion): Protect execute_string from too
	long strings.
	(EXECUTE_STRING_MAX): New macro.
	(execute_string): Use EXECUTE_STRING_MAX, not 4000.
d73 2
a74 1
2002-03-23    <karl@@gnu.org>
d76 3
a78 11
	* doc/texinfo.txi:
	* makeinfo/insertion.h:
	* makeinfo/texinfo.dtd:
	* makeinfo/xml.h:
	* makeinfo/xml.c:
	* makeinfo/makeinfo.h:
	* makeinfo/insertion.c:
	* makeinfo/html.c:
	* makeinfo/cmds.c:
	* doc/info-stnd.texi: @@permissions -> @@copying.
	* doc/texinfo.tex: permissions -> copying.
d80 2
a81 1
2002-03-22    <karl@@gnu.org>
d83 2
a84 1
	* configure.ac: pretest 4.1b.
d86 1
a86 2
	* info/Makefile.am (BUILT_SOURCES): conditionalize on
		TEXINFO_MAINT, to appease distcheck.
d88 2
a89 6
	* From: Matthew Woodcraft <mattheww@@chiark.greenend.org.uk>:
	* makeinfo/makeinfo.h (next_menu_item_number): New global.
	* makeinfo/insertion.c (begin_insertion): Initialise it.
	* makeinfo/makeinfo.c (handle_menu_entry): Emit accesskey attribute
	in html output, according to next_menu_item_number.
	* makeinfo/node.c (cm_node): Emit accesskey attributes in html output.
d91 1
a91 1
	* doc/texinfo.txi: GNU texts.
d93 5
a97 1
	* doc/info-stnd.texi: @@syncodeindex, not @@synindex.
d99 3
a101 1
2002-03-21    <karl@@gnu.org>
d103 4
a106 1
	* doc/texinfo.txi: @@permissions.
d108 1
a108 1
2002-03-20    <karl@@gnu.org>
d110 2
a111 3
	* doc/texinfo.txi: document --no-headers a bit better.
	* makeinfo/makeinfo.c: better description of --no-headers,
		suggested by Stephen Gildea.
d113 2
a114 2
	* makeinfo/makeinfo.c (insert_toplevel_subdirectory): use
		command-line specified output name unchanged.
d116 1
a116 10
	* makeinfo/makeinfo.c (full_expansion): new routine, separated
	from expansion, that does not tamper with the formatting parameters.
	* makeinfo/insertion.c: copying -> permissions.
	(cm_insert_permissions): insert rather than add.
	* makeinfo/texinfo.dtd:
	* makeinfo/xml.h:
	* makeinfo/xml.c:
	* makeinfo/cmds.c: copying -> permissions.
	* makeinfo/makeinfo.h: copying -> permissions.
	(full_expansion): declare.
d118 2
a119 2
	* doc/texinfo.txi: @@copying -> @@permissions, @@include fdl.texi.
	* doc/info-stnd.texi: @@copying -> @@permissions, always include the FDL.
d121 1
a121 4
	* makeinfo/html.c (html_output_head): copying -> permissions, use
	insert_string.
	* makeinfo/insertion.h: copying -> permissions.
	* doc/texinfo.tex: \copying -> \permissions.
d123 2
a124 1
	* doc/Makefile.am (EXTRA_DIST): include fdl.texi.
d126 1
a126 1
2002-03-19    <karl@@gnu.org>
d128 1
a128 2
	* makeinfo/insertion.c (cm_insert_copying): use insert_string in
		the xml case, sigh.
d130 1
a130 1
	* doc/info-stnd.texi: copying
d132 1
a132 1
	* dir-example: info standalone.
d134 2
a135 11
	* makeinfo/html.c: copyright_text -> copying_text.
	* makeinfo/texinfo.dtd:
	* makeinfo/insertion.c:
	* makeinfo/insertion.h:
	* makeinfo/makeinfo.h:
	* makeinfo/xml.c:
	* makeinfo/xml.h:
	* makeinfo/cmds.c: copyrighttext -> copying.
	* doc/info-stnd.texi: copyrighttext -> copying.
	* doc/texinfo.tex (\copying, \insertcopying): rename from
		copyrighttext per rms.
d137 2
a138 2
	* makeinfo/index.c (index_add_arg): don't emit warning for index
	entries containing : after all.
d140 1
a140 2
	* info/infokey.c: remove non-ansi trailing commas from last items
	of enums.  From: Albert Chin-A-Young <china@@thewrittenword.com>.
d142 1
a142 1
2002-03-18    <karl@@gnu.org>
d144 2
a145 2
	* doc/info-stnd.texi: @@include after @@setfilename.
	* doc/texinfo.txi: @@insertcopyrighttext, @@settitle GNU ...
d147 1
a147 2
	* doc/texinfo.txi: mention @@setfilename and source filename
		exceptions at the top.
d149 3
a151 2
	* makeinfo/defun.c (scan_group_in_string): handle escaped @@{ and @@}.
	Bug report from Werner Lemberg.
d153 2
a154 3
	* doc/info-stnd.texi: add version number to title a la Texinfo.
	* doc/info-stnd.texi: file -> manual.
	* doc/info-stnd.texi: use @@copyrighttext.
d156 1
a156 8
	* makeinfo/insertion.c (begin_insertion, end_insertion):
			copyrighttext case.
	* makeinfo/makeinfo.h (copyright_text): declare/define.
	* makeinfo/html.c (html_output_head): output copyrighttext.
	* makeinfo/texinfo.dtd: Add copyrighttext.
	* makeinfo/xml.h (xml_element): add COPYRIGHTTEXT.
	* makeinfo/xml.c (texinfoml_element_list, docbook_element_list):
			copyrighttext case.
d158 1
a158 1
2002-03-17    <karl@@gnu.org>
d160 1
a160 2
	* makeinfo/insertion.h (insertion_type): include copyrighttext.
	* makeinfo/cmds.c (command_table): new command copyrighttext.
d162 2
a163 4
	* doc/texinfo.tex (\copyrighttext, \insertcopyrighttext): new
	 Texinfo commands to handle the copyright and permission text cleanly.
	(\dblarrowbox,\longdblarrowbox,\pushcharbox,\equivbox,\bullbox):
		remove these definitions that have not been used for ages.
d165 1
a165 2
	* configure.ac: call AC_CANONICAL_BUILD before the termcap
	checking.  Bug report from Eli.
d167 5
a171 1
2002-03-16  Eli Zaretskii  <eliz@@is.elta.co.il>
d173 3
a175 3
	* makeinfo/node.c (cm_anchor): When recording the anchor position,
	account for output_paragraph_offset, since the current paragraph
	might not be closed yet (happens inside a menu, for example).
d177 1
a177 1
	* djgpp/config.sed: Tweak to adapt to the new Automake/Autoconf.
d179 1
a179 1
	* djgpp/README: Update.
d181 2
a182 1
2002-03-15    <karl@@gnu.org>
d184 3
a186 1
	* dir-example: GNU organization.
d188 1
a188 1
2002-03-14    <karl@@gnu.org>
d190 1
a190 2
	* makeinfo/cmds.c (cm_titlepage): do not declare nonexistent
	function.
d192 1
a192 1
2002-03-14    <karl@@gnu.org>
d194 1
a194 3
	* doc/texinfo.txi: don't say specifically html 3.2, since <html
			lang=...> is not 3.2.
	Bug reprt from: Matthew Woodcraft <mattheww@@chiark.greenend.org.uk>.
d196 1
a196 1
2002-03-13    <karl@@gnu.org>
d198 3
a200 3
	* doc/texinfo.tex (\writetocentry): set \pdfmakepagedesttrue here.
	(\Etitlepage): instead of here.  In case the document has no
		@@titlepage.  Bug report from Stephen Gildea.
d202 2
a203 2
	* util/texi2dvi: be verbose after the definition of cmd, not
	before.  From Andreas Schwab.
d205 1
a205 1
2002-03-12    <karl@@gnu.org>
d207 1
a207 2
	* pretest 4.1a.
	* doc/info-stnd.texi: update to FDL.
d209 1
a209 1
2002-03-11    <karl@@gnu.org>
d211 2
a212 6
	* util/texi2dvi:
	* util/texindex.c:
	* util/install-info.c:
	* makeinfo/makeinfo.c:
	* info/infokey.c:
	* info/info.c: home page and help message.
d214 1
a214 3
	* doc/texinfo.txi (math): document @@\ (aka \\) for literal \.
	regularize index entries.
	* makeinfo/cmds.c (command_table): \\ -> insert_self.
d216 1
a216 3
	* doc/texinfo.tex (\mathbackslash): new definition.
	(\math): handle \\ too.
	(\codeunder): handle @@code{\} in mmode.
d218 3
a220 1
	* makeinfo/html.c: make home page be gnu's.
d222 1
a222 3
	* doc/texinfo.txi (Conventions): rewrite description of quotes so
	as to work in all formats; there was no output for HTML.
	Report from: David Merrill <david@@lupercalia.net>.
d224 2
a225 1
2002-03-10    <karl@@gnu.org>
d227 1
a227 2
	* doc/texinfo.txi (Texinfo Copying Conditions): mention this
	manual's license specifically.
d229 1
a229 1
2002-03-09  Eli Zaretskii  <eliz@@is.elta.co.il>
d231 1
a231 2
	* info/indices.c (add_index_to_index_nodenames): Fix an off-by-one
	error when computing the number of the last index entry.
d233 3
a235 1
2002-03-08    <karl@@gnu.org>
d237 8
a244 4
	* doc/texinfo.tex: Rewrite unnumbered toc handling to keep track
	of their sequence, so they can be handled correctly in
	the PDF toc (= bookmarks).
	From: Werner LEMBERG <wl@@gnu.org>.
d246 1
a246 2
	* configure.ac: AC_MSG_WARN if can't find a term library.  From:
	Marc.Herbert@@ens-lyon.fr.
d248 4
a251 2
	* info/info.c: alphabetize.
	* info/info.c: include short option names.
d253 3
a255 1
2002-03-08  Eli Zaretskii  <eliz@@is.elta.co.il>
d257 4
a260 5
	* info/display.c (display_update_one_window): Dynamically reallocate
	printed_line[] as needed.  When under -R, ignore ANSI escapes for
	the purposes of line wrap display.  Clear the line to EOL if it
	used escape sequences.  Reallocate entry->text if the new
	printed_line is longer than screenwidth.
d262 1
a262 6
	* info/window.c (string_width): Don't count ANSI escape sequences
	in string width, when under -R..
	(calculate_line_starts): Don't count ANSI escape sequences in line
	width, when under -R.
	(window_get_cursor_column, window_chars_to_goal): When under -R,
	ANSI escapes don't affect the horizontal position.
d264 4
a267 2
	* info/info-utils.c (printed_representation): If -R is in effect,
	treat ESC as a normal character.
d269 1
a269 1
2002-03-08    <karl@@gnu.org>
d271 1
a271 4
	* util/Makefile.am:
	* info/Makefile.am:
	* makeinfo/Makefile.am:
	* lib/Makefile.am: doc fix.
d273 3
a275 5
	* doc/Makefile.am (install-tex): prefix the install directories
	with $(DESTDIR), because that is what automake does for all
	generated install rules.  The file pdfcolor.tex should be
	installed as such (and not as epsf.tex).
	From: Peter Breitenlohner <peb@@mppmu.mpg.de>.
d277 4
a280 2
	* configure.ac (AC_INIT): now pass [GNU Texinfo].
	(AM_INIT_AUTOMAKE): now no args, for automake 1.6.
d282 3
a284 1
2002-03-05    <karl@@gnu.org>
d286 1
a286 1
	* doc/texinfo.txi: history
d288 1
a288 1
2002-03-04    <karl@@gnu.org>
d290 1
a290 2
	* configure.ac: version 4.1.
	* util/texi2dvi: version.
d292 2
a293 2
	* doc/texinfo.txi: @@settitle is used in html output (from Eli),
		various underfull hbox fixes.
d295 1
a295 1
2002-03-02    <karl@@gnu.org>
d297 1
a297 1
	* configure.ac: pretest 4.0k
d299 2
a300 1
	* info/info.c: declare add_file_to_directory to avoid warning.
d302 1
a302 2
	* doc/info-stnd.texi: info standalone so as not to collide with
		`standards' in dir.
d304 1
a304 1
2002-03-01  Eli Zaretskii  <eliz@@is.elta.co.il>
d306 7
a312 2
	* makeinfo/insertion.c (end_insertion): Insert the /td and /tr
	directives in lower case.  From Per Bothner <per@@bothner.com>.
d314 3
a316 2
	* makeinfo/macro.c (cm_alias): Ignore whitespace around the alias
	name, like the manual promises.
d318 3
a320 3
	* doc/texinfo.txi (Invoking Macros, Macro Details): Document that
	commas in macro arguments don't work in TeX.  Advise texi2dvi -e
	when macros don't work with TeX.
d322 1
a322 3
	* doc/texinfo.txi (Node Line Requirements): Add restrictions about
	parens and some punctuation characters in node names.
	(Def Cmd Template): Document that macros are not expanded.
d324 3
a326 2
	The following two changes allow to say "info foo" if there's an
	Info file `foo' somewhere along INFOPATH.
d328 1
a328 3
	* info/info.c (add_file_directory_to_path): New function, code
	moved from `main'.
	(main): Use add_file_directory_to_path.  
d330 1
a330 2
	* info/session.c (info_follow_menus): If the first menu entry
	couldn't be found as an item in DIR's menu, try it as a file name.
d332 2
a333 1
	2001-06-19  Mark Montague  <markmont@@umich.edu>
d335 1
a335 1
	* info/filesys.c: Fix for sparc64 (offsets should be "long"s).
d337 1
a337 1
	* info/session.c: Fix typos in function calls.
d339 1
a339 1
	2001-08-23  Eli Zaretskii  <eliz@@is.elta.co.il>
d341 3
a343 5
	* makeinfo/footnote.c (cm_footnote): Don't allow footnotes inside
	footnotes.
	(output_pending_notes): Increment already_outputting_pending_notes
	in the HTML case as well, to protect execute_string from
	recursively entering output_pending_notes.
d345 1
a345 1
2002-03-01    <karl@@gnu.org>
d347 5
a351 2
	* doc/texinfo.tex: fix mismatched $'s for sake of emacs font-lock.
	From: Stephen Gildea <gildea@@stop.mail-abuse.org>.
d353 1
a353 1
2002-02-27    <karl@@gnu.org>
d355 2
a356 1
	* configure.ac: pretest 4.0j.
d358 1
a358 1
	* info/infodoc.c: 1scroll-forward typo.
d360 4
a363 1
2002-02-26    <karl@@gnu.org>
d365 8
a372 1
	* lib/system.h [! ENABLE_NLS]: let's not go const.
a373 1
2002-02-26  Eli Zaretskii  <eliz@@is.elta.co.il>
d375 3
a377 2
	* djgpp/config.sed: Add tweaking of file names in "install-info"
	and "uninstall-info" targets.
d379 3
a381 2
	* doc/inf-stnd.texi (Custom Key Bindings, Invoking infokey):
          Add footnotes about DOS file names.
a382 2
	* info/infokey.c (main) [__MSDOS__]: If HOME is not defined,
	default to the current directory.
d384 6
a389 1
2002-02-26    <karl@@gnu.org>
d391 1
a391 1
	* lib/system.h (LC_MESSAGES) [! LC_MESSAGES]: need this after all.
d393 3
a395 1
2002-02-25    <karl@@gnu.org>
d397 1
a397 2
	* doc/info-stnd.texi: contents at top, avoid overfull hbox.
	* lib/Makefile.am (libtxi_a_sources): include gettext.h.
d399 2
a400 2
	* lib/system.h (LC_MESSAGES): don't need conditional, Bruno says
		that locale.h or libintl.h does so.
d402 2
a403 1
	* configure.ac: pretest 4.0i.
d405 2
a406 3
	* dir-example: infokey.
	* doc/info-stnd.texi: invoking infokey.
	* info/infokey.c (short_help): reorganize slightly.
d408 1
a408 2
	* lib/system.h: use "gettext.h" instead of <libintl.h> per gettext
	0.11 recommendation.
d410 1
a410 1
2002-02-25  gettextize  <bug-gnu-gettext@@gnu.org>
d412 1
a412 2
	* Makefile.am (SUBDIRS): Add intl.
	* configure.ac (AC_CONFIG_FILES): Add intl/Makefile.
d414 1
a414 1
2002-02-25    <karl@@gnu.org>
d416 3
a418 3
	* util/Makefile.am (LDADD):
	* makeinfo/Makefile.am (LDADD):
	* info/Makefile.am (LDADD): @@LIBINTL@@ per gettextize.
d420 5
a424 2
	* configure.ac: gettextize changes.
	* Makefile.am: gettextize changes.
d426 1
a426 1
2002-02-25  gettextize  <bug-gnu-gettext@@gnu.org>
d428 2
a429 6
	* Makefile.am (SUBDIRS): Add m4.
	(SUBDIRS): Remove intl.
	(ACLOCAL_AMFLAGS): New variable.
	(EXTRA_DIST): Add config.rpath.
	* configure.ac (AC_CONFIG_FILES): Add m4/Makefile.
	(AC_CONFIG_FILES): Remove intl/Makefile.
d431 1
a431 1
2002-02-23    <karl@@gnu.org>
d433 2
a434 1
	* pretest 4.0h.
d436 1
a436 5
	* 2002-02-23  Eli Zaretskii  <eliz@@is.elta.co.il>
	* doc/info-stnd.texi (Invoking Info): Add a reference to the
	description of index-apropos and index-search.  Document the
	--raw-escapes option.
	(Searching Commands): Describe index-search and index-apropos.
d438 2
a439 2
	* info/man.c (clean_manpage): If raw_escapes_p is not set, remove
	ANSI escape sequences from the man page.
d441 2
a442 1
	* info/info.h: Declare raw_escapes_p.
d444 1
a444 6
	* info/info.c: <raw_escapes_p>: New variable.
	New option --raw-escapes or -R.
	(main): Handle it.
	(info_short_help): Document it.
	(main): Honor --output together with --usage, by dumping the node
	we found to the named file.
d446 1
a446 3
	2002-02-23  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/html.c (nodename_to_filename): Call
	nodename_to_filename_1 with the last argument 1, not 0.
d448 3
a450 2
	* makeinfo/toc.c (shortcontents_update_html) 
	(contents_update_html): Don't omit the entry for the Top node.
d452 1
a452 6
	* 2002-01-30  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/node.c (cm_node): Don't condition splitting on
	top_node_seen being non-zero.  If current_node is NULL, use the
	current output file name to get at the file name for the previous
	node.  Don't compute a new file name for a node if we didn't close
	the current file.
d454 1
a454 3
	2002-02-01  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/node.c (cm_node): Call html_output_head whenever we
	create a new split-HTML file.
d456 2
a457 3
	* makeinfo/html.c (html_output_head): Make html_title static.
	Compute it only once, and don't free it.  Output the <h1> title
	header only once per run.
d459 1
a459 4
	2002-02-02  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/toc.c (contents_update_html): Fix the condition for
	omitting duplicate TOC entries.  Fix comparison with the TOC entry
	for "Top".
d461 2
a462 1
2002-02-14    <karl@@gnu.org>
d464 1
a464 2
	* doc/Makefile.am (DISTCLEANFILES): use this variable instead of
	the distclean-aminfo target, which apparently is no longer used.
d466 9
a474 1
	* pretest 4.0g.
d476 7
a482 6
	* doc/texinfo.tex (\appendixentry): new macro for typesetting
	appendix toc entries.
	(\appendixzzz, \summarycontents, \pdfoutlines): use it, instead of
	usurping \chapentry.  This allows the bookmarks in the pdf output
	to come out right.  Report from: Kurt Hornik
	<Kurt.Hornik@@ci.tuwien.ac.at>.
d484 1
a484 1
2002-02-13    <karl@@gnu.org>
d486 12
a497 2
	* configure.ac: ALL_LINGUAS is deprecated as of gettext 0.11.
	* doc/texinfo.tex (\image): remove spurious \loggingall.
d499 2
a500 2
	* doc/texinfo.txi: @@math now implies @@tex.
	* doc/texinfo.tex (\math): imply @@tex.
d502 1
a502 1
2002-02-11    <karl@@gnu.org>
d504 2
a505 3
	* makeinfo/insertion.c (handle_verbatim_environment): save and
	restore filling_enabled and inhibit_paragraph_indentation.  Bug
	report from: Alexandre Duret-Lutz <duret_g@@lrde.epita.fr>.
d507 4
a510 2
	* makeinfo/makeinfo.c (reader_loop): don't worry about bare braces
	inside @@math.
d512 1
a512 1
2002-02-08    <karl@@gnu.org>
d514 2
a515 3
	* info/infodoc.c: keep underlines with the text they refer to, for
		translation purposes.
	Pointed out by Christian Rose <menthos@@menthos.com>, 20 nov 2001.
d517 2
a518 1
	* doc/info.texi: recommend setting INFOPATH.
d520 1
a520 2
	* doc/Makefile.am (install-tex): need $(srcdir) for install.
	From: istry <istry@@mail.ru>.
d522 1
a522 3
	* doc/texinfo.tex: replace $$$ delimiter with $.$, for sake of
	font-lock in Emacs 21.1.  Suggestion from: Stephen Gildea
	<gildea@@stop.mail-abuse.org>.
d524 1
a524 6
	2002-01-26  Eli Zaretskii  <eliz@@is.elta.co.il>
	* info/infomap.c (default_emacs_like_info_keys) 
	(default_emacs_like_ea_keys, default_vi_like_info_keys) 
	(default_vi_like_ea_keys): Fix default keybindings to be
	consistent with non-INFOKEY branch.  Add bindings for Home, End,
	and Delete keys.
d526 1
a526 2
	2002-01-23  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/toc.h <TOC_ENTRY_ELT>: New member html_file.
d528 1
a528 8
	* makeinfo/toc.c (toc_add_entry): Compute and set the html_file
	member.
	(shortcontents_update_html): Produce the toc_* links correctly,
	without duplicating the link text.  Fix comparison with "Top".
	Handle the case when there's @@shortcontents, but no @@contents.
	(contents_update_html): Fix the way toc_* anchors are produced
	from toc_entry_alist[i]->name: take only the node name from the
	string in toc_entry_alist[i]->name.  Fix comparison with "Top".
d530 1
a530 4
	* makeinfo/sectioning.c (sectioning_html): Take the toc_anchor
	substring before closing the anchor with </a>.  Fix the closing
	</hN> tag--add 2 to level, not 1.  Use sizeof instead of a magic
	value of 9.
d532 4
a535 2
	* makeinfo/cmds.c: Make @@summarycontents call cm_shortcontents, as
	promised by the docs.
d537 1
a537 3
	2002-01-19  Eli Zaretskii  <eliz@@is.elta.co.il>
	* djgpp/config.sed: Fix a problem with AC_CONFIG_LINKS that
	prevented building from a directory on another drive.
d539 1
a539 1
	* djgpp/config.bat: Fix problems with long --srcdir diectory names.
d541 2
a542 1
	* djgpp/README: Update.
d544 1
a544 1
2002-01-31    <karl@@gnu.org>
d546 3
a548 1
	* doc/texinfo.txi: mention dvips
d550 2
a551 1
2002-01-28    <karl@@gnu.org>
d553 2
a554 1
	* configure.ac (ALL_LINGUAS): add hr.
d556 1
a556 1
2002-01-22    <karl@@gnu.org>
d558 2
a559 4
	* makeinfo/defun.c (defun.c): only warn about ( immediately
        following a defun name, since the groff manual needs other
        characters there where whitespace is incorrect.
	Reported by Werner Lemberg <wl@@gnu.org>.
d561 2
a562 1
	* doc/info-stnd.texi: alphabetize variable list.
d564 5
a568 2
	* doc/texinfo.txi: no :'s in index entries, index @@page/@@group
	some more.
d570 1
a570 2
	* makeinfo/index.c (index_add_arg): warn if index entry contains a
	colon.  From: Kenneth Lorber <keni@@his.com>.
d572 6
a577 1
2002-01-21    <karl@@gnu.org>
d579 2
a580 2
	* makeinfo/insertion.c: </pre not /<pre, reported by Mike
	Benefield <mike@@duckbrain.com>.
d582 1
a582 1
2002-01-18    <karl@@gnu.org>
d584 1
a584 1
	* configure.ac: pretest 4.0f.
d586 1
a586 4
	* util/texindex.c:
	* util/install-info.c:
	* makeinfo/makeinfo.c:
	* info/info.c: it's 2002.
d588 2
a589 2
	* info/session.c: pass right args to info_scroll_half_screen_up.
	From Eli.
d591 1
a591 1
2002-01-18  Eli Zaretskii  <eliz@@is.elta.co.il>
d593 2
a594 1
	* makeinfo/multi.c (multitable_item): Always return a value.
d596 1
a596 5
	* util/install-info.c (xmalloc, xrealloc, pfatal_with_name)
	(open_possibly_compressed_file, parse_input): Call `fatal' with 3
	arguments, to avoid compiler warnings.
	(main): Call `fatal', `error', and `warning' with the right number
	of arguments.
d598 1
a598 2
	* makeinfo/makeinfo.c (main): Remove extraneous first arg of
	usage().
d600 1
a600 2
	* info/window.c (build_message_node): Supply a 4th argument to
	build_message_buffer.
d602 1
d604 1
a604 1
2002-01-18  Eli Zaretskii  <eliz@@is.elta.co.il>
d606 1
a606 2
	* makeinfo/sectioning.c (sectioning_html): End the anchor properly
	with a </a>.
d608 3
a610 2
	* info/session.c (info_menu_or_ref_item): If we didn't find a
	cross-reference on this line, try the one before.
d612 1
a612 2
	* info/infomap.c (fetch_user_maps): Provide two different
	translations for ``file too small'' and ``file too big'' error.
d614 2
a615 3
	* info/info.c (info_short_help): Print the --speech-friendly
	option together with the other options, not at the end of the help
	screen.
d617 1
a617 1
2002-01-18  Andreas Schwab  <schwab@@suse.de>
d619 2
a620 2
	* makeinfo/html.c (escape_string): When string is empty don't read
	past end of it.
d622 4
a625 1
2002-01-17    <karl@@gnu.org>
d627 2
a628 1
	* doc/info-stnd.texi: overfull box in table.
d630 2
a631 1
2002-01-16    <karl@@gnu.org>
d633 2
a634 1
	* configure.ac: pretest 4.0e.
d636 4
a639 1
	* doc/info.texi: update from emacs.
d641 3
a643 1
2002-01-03  Eli Zaretskii  <eliz@@is.elta.co.il>
d645 4
a648 1
	* makeinfo/makeinfo.c (file_line_error): New function.
d650 2
a651 2
	* makeinfo/insertion.c (discard_insertions): Call file_line_error
	instead of changing global variables.
d653 3
a655 1
	* makeinfo/sectioning.c (cm_top): Ditto.
d657 2
a658 1
	* makeinfo/node.c (validate_file): Ditto.
d660 1
a660 2
	* makeinfo/makeinfo.c (discard_braces, handle_variable_internal):
	Ditto.
d662 2
a663 1
	* makeinfo/macro.c (define_macro): Ditto.
d665 9
a673 1
	2001-12-31  Eli Zaretskii  <eliz@@is.elta.co.il>
d675 1
a675 1
	* makeinfo/node.h (TAG_ENTRY): New struct member html_fname.
d677 1
a677 10
	* makeinfo/node.c (find_node_by_fname): New function.
	(remember_node): Accept an additional argument FNAME, the node's
	file name, and record it in the list of nodes; callers changed.
	(cm_node): Call find_node_by_fname to see if this node's file name
	clashes with another node or anchor.  If it clashes with another
	node, append the new node to the same file instead of erasing the
	other node.  If it clashes with an anchor, print an error message
	and overwrite the anchor's file.
	(cm_anchor): If this anchor's file name clashes with another
	anchor or node, print an error message and ignore the anchor.
d679 3
a681 1
	* makeinfo/files.c (normalize_filename): New function.
d683 2
a684 1
	* makeinfo/files.h <normalize_filename>: Add declaration.
d686 3
a688 4
	* makeinfo/html.c (nodename_to_filename_1): Call
	normalize_filename before returning the file name to the caller.
	Disable the code which adds #Nodified-filename to the file name we
	produce.
d690 1
a690 5
	* makeinfo/makeinfo.c (add_char): Don't replace whitespace with
	&nbsp; if we are producing an HTML directive.
	(add_html_elt): New function.
	(cm_xref, cm_inforef, cm_uref, cm_email, cm_image): Use
	add_html_elt instead of add_word, where appropriate.
d692 19
a710 1
	* makeinfo/html.c (add_link): Ditto.
d712 4
a715 1
	* makeinfo/footnote.c (cm_footnote): Ditto. 
d717 1
a717 1
	* makeinfo/defun.c (defun_internal): Ditto.
d719 2
a720 1
	2001-12-27  Eli Zaretskii  <eliz@@is.elta.co.il>
d722 1
a722 2
	* makeinfo/node.c (cm_node): Don't omit links to (DIR) from the
	navigation bar, add_anchor_name will DTRT now.
d724 3
a726 8
	* makeinfo/makeinfo.c (cm_xref): Produce a split-HTML file name
	from arg1, the node name, not from arg3 or arg2, which are the
	reference name.  Use arg2 or arg3 for the text to be displayed as
	a link between ">" and "</a>".  Use add_anchor_name instead of
	add_nodename_to_filename.
	(cm_inforef): Use add_anchor_name instead of
	add_nodename_to_filename.  Handle the case of a missing second
	argument in @@inforef.
d728 2
a729 6
	* makeinfo/html.c (add_anchor_name): Always add # and the anchor
	name, even if we are splitting.  If the node is "(dir)", treat it
	as if it were "dir".
	(nodename_to_filename_1): Don't append #Top for the Top node.
	(add_link): Don't punt if nodename is "(dir)".  Output "</a>"
	after the link.
d731 3
a733 1
	2001-12-25  Eli Zaretskii  <eliz@@is.elta.co.il>
d735 10
a744 2
	* makeinfo/makeinfo.c (cm_xref, cm_inforef): Output the target
	file name via add_nodename_to_filename.
d746 2
a747 1
	2001-12-20  Eli Zaretskii  <eliz@@is.elta.co.il>
d749 3
a751 4
	* makeinfo/html.c (nodename_to_filename_1): Make references to Top
	to refer to index.html#Top.
	(add_nodename_to_filename): Accept additional argument HREF;
	callers changed.
d753 1
a753 2
	* makeinfo/toc.c (rewrite_top): If the filename to rewrite is
	stdout or the null device, do nothing.
d755 4
a758 9
	* makeinfo/makeinfo.c (insert_toplevel_subdirectory): Use
	FILENAME_CMP instead of strcmp.  Search for a period forward, not
	backward.  Make index_name[] a static const array, and its len
	computed at compile time.
	(convert_from_loaded_file): If output_filename is the null device,
	turn off HTML splitting.
	(cm_xref): Use add_anchor_name, rather than add_escaped_anchor_name,
	in the 5-argument case in HTML mode.
	(cm_inforef): Fix external references in HTML mode.
d760 2
a761 5
	* makeinfo/node.c (cm_node): Use FILENAME_CMP instead of strcmp.
	Don't open a new file if the new node's name is empty.  Take the
	directory part of split-HTML files from current_output_filename,
	not from toplevel_output_filename (the latter doesn't include the
	manual's subdirectory part).
d763 3
a765 2
	* makeinfo/html.c (nodename_to_filename_1): Use FILENAME_CMPN
	instead of strncmp.  Support *.inf files in references.
d767 1
a767 1
2001-12-11  Eli Zaretskii  <eliz@@is.elta.co.il>
d769 1
a769 2
	* djgpp/config.bat, djgpp/config.sed, djgpp/config.site: Update
	for Texinfo 4.0d.
d771 2
a772 4
	* makeinfo/makeinfo.c (insert_toplevel_subdirectory): Use IS_SLASH
	instead of literal `/'.
	(convert_from_loaded_file): Flush the output stream before
	creating the TOC.
d774 1
d776 1
a776 1
2002-01-14    <karl@@gnu.org>
d778 4
a781 2
	* info/info.c: translate --speech-friendly (from Eli).
	* makeinfo/index.c: formatting.
d783 2
a784 3
	2001-12-24  Eli Zaretskii  <eliz@@is.elta.co.il>
	* info/infomap.c (initialize_info_keymaps): Bind the user-defined
	keys on top of the default ones, not the other way around.
d786 3
a788 1
2002-01-11    <karl@@gnu.org>
d790 2
a791 2
	* info/info.c: can't do #ifdef inside of printf any more.
	From: Tyler <tyler@@zerodivide.cx>
d793 1
a793 1
	* configure.ac (ALL_LINGUAS): add he, from Eli.
d795 1
a795 1
2002-01-09  Eli Zaretskii <eliz@@is.elta.co.il>
d797 5
a801 2
	* info/window.c (calculate_line_starts): Cast node->contents[i] to
 	unsigned char.
d803 2
a804 1
2002-01-04    <karl@@gnu.org>
d806 2
a807 1
	* doc/texinfo.tex (\footnotezzz): \noindent=\relax.
d809 1
a809 1
2002-01-03    <karl@@gnu.org>
d811 12
a822 4
	* doc/texinfo.tex (\imagexxx): handle pdf and dvi cases the same.
        (\dopdfimage): need \immediate to avoid seg fault when including the
	same image twice.
	Bug reports from Alexandre Duret-Lutz <duret_g@@lrde.epita.fr>.
d824 4
a827 1
2001-12-31    <karl@@gnu.org>
d829 7
a835 2
	* makeinfo/makeinfo.c (cm_image): check *ext_arg as well as
		ext_arg when computing length of fullname.
d837 1
a837 3
	* makeinfo/defun.c: docbook changes.
	* makeinfo/docbook.c (docbook_punctuation): remove deprecated
		default: at end of statement.
d839 10
a848 4
	* makeinfo/docbook.c: initial.
	* makeinfo/docbook.h: initial.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add docbook.[ch].
	* makeinfo/makeinfo.c (add_char): use &nbsp; in docbook case.
d850 1
a850 2
	* doc/texinfo.tex (\footnotezzz): use \everypar={\hang} instead of
	just \hang in case a footnote extends for multiple paragraphs.
d852 1
a852 1
2001-12-18    <karl@@gnu.org>
d854 1
a854 2
	* info/Makefile.am (BUILT_SOURCES): include $(EXEEXT) on makedoc
	dependency since automake doesn't do it.
d856 2
a857 1
	2001-12-11  Eli Zaretskii  <eliz@@is.elta.co.il>
d859 1
a859 2
	* djgpp/config.bat, djgpp/config.sed, djgpp/config.site: Update
	for Texinfo 4.0d.
d861 1
a861 4
	* info/infomap.c (fetch_user_maps): Initialize `filename' to NULL
	and don't try to call `open' if `filename' is NULL.
	[__MSDOS__]: Try the current directory if neither $INFOKEY nor
	$HOME are defined.
d863 7
a869 4
	* makeinfo/makeinfo.c (insert_toplevel_subdirectory): Use IS_SLASH
	instead of literal `/'.
	(convert_from_loaded_file): Flush the output stream before
	creating the TOC.
d871 2
a872 1
	2001-12-10  Eli Zaretskii  <eliz@@is.elta.co.il>
d874 1
a874 1
	* info/infokey.c (main): Use FOPEN_WBIN instead of "w".
d876 1
a876 2
	* info/infokey.h (INFOKEY_SRCFILE, INFOKEY_FILE) [__MSDOS__]:
	Special definitions for MS-DOS.
d878 2
a879 1
	2001-12-09  Eli Zaretskii  <eliz@@is.elta.co.il>
d881 1
a881 4
	* lib/system.h: Condition inclusion of libintl.h on ENABLE_NLS.
	(gettext, bindtextdomain, textdomain) [!ENABLE_NLS]: Provide
	trivial definitions for when NLS is not used.
	(LC_MESSAGES) [!ENABLE_NLS]: Define if undefined by locale.h.
d883 6
a888 1
2001-12-18  Eli Zaretskii  <eliz@@is.elta.co.il>
d890 1
a890 5
	* info/infomap.c (decode_keys): Change the return type to int;
	callers changed.  Return zero if some of the special keys in SRC
	are not defined by the terminal; return non-zero otherwise.
	(section_to_keymaps): If decode_keys returns zero, don't bind the
	key sequence.
d892 2
a893 1
2001-12-18  Eli Zaretskii  <eliz@@is.elta.co.il>
d895 1
a895 2
	* makeinfo/xml.c (xml_insert_element_with_attribute) 
	(xml_insert_element): Rename the argument `element' to `elt'.
d897 2
a898 1
	* info/infokey.c (compile): Use \033 instead of (non-standard) \e.
d900 1
a900 1
2001-12-17    <karl@@gnu.org>
d902 2
a903 1
	2001-12-16  Eli Zaretskii  <eliz@@is.elta.co.il>
d905 1
a905 4
	* info/pcterm.c (pc_initialize_terminal) [INFOKEY]: Store term_kh,
	term_ke, term_ki, and term_kx sequences.
	(DJGPP_keytab): Map Home, End, and Insert to escape sequences, not
	to C-a, C-e, etc.
d907 2
a908 4
	* info/infomap.c (default_emacs_like_info_keys) 
	(default_emacs_like_ea_keys, default_vi_like_info_keys) 
	(default_vi_like_ea_keys): Add the leading suppress-default flag,
	to be consistent with the table which comes from a file.
d910 10
a919 1
	* info/session.c (info_do_lowercase_version): Add a doc string.
d921 4
a924 3
	* info/infodoc.c (describe_key) [INFOKEY]: If keystroke is bound
	to do-lowercase-version, but its lower-case variant is undefined,
	say that keystroke is also undefined.
d926 1
d928 1
a928 1
2001-12-12    <karl@@gnu.org>
d930 2
a931 2
	* makeinfo/files.c (find_and_load): remove conditionals on
		 VMS|O_BINARY, always just read as many bytes as we can.
d933 3
a935 2
        2001-12-11  Eli Zaretskii  <eliz@@is.elta.co.il>
        * new files for djgpp/.
d937 2
a938 4
        2001-09-09  Eli Zaretskii  <eliz@@is.elta.co.il>
	* info/echo-area.c (build_completions): Look for a candidate
	completion which matches user's request including the letter-case,
	use that as the value of LCD_completion.
d940 2
a941 4
        2001-12-06  Eli Zaretskii  <eliz@@is.elta.co.il>
	* info/echo-area.c (build_completions): When looking for the best
	completion candidate, only compare as much characters as the user
	typed.
d943 1
d945 2
a946 1
2001-12-04    <karl@@gnu.org>
d948 2
a949 2
	* doc/texinfo.tex (\pdfmkpgn): remove trailing @@ in link names
		again.  Also from Kurt.
d951 2
a952 2
	* doc/texinfo.tex (\image): need five commas to ignore additional
	optional args to @@image.  From Kurt.Hornik@@ci.tuwien.ac.at.
d954 1
a954 2
	* doc/texinfo.tex (\afourlatex): reset \globaldefs=0 explicitly.
	From Trond Endrestl <trond@@ramstind.gtf.ol.no>.
d956 2
a957 1
2001-12-01    <karl@@gnu.org>
d959 1
a959 2
	* makeinfo/files.c (find_and_load): remove O_BINARY from open
	call, this messes up under Windows.  From eli.
d961 1
a961 1
2001-11-20    <karl@@gnu.org>
d963 2
a964 1
	* makeinfo/makeinfo.c (cm_image): reword error messages.
d966 1
a966 1
2001-11-19    <karl@@gnu.org>
d968 1
a968 2
	* Pretest 4.0d.
	* doc/texinfo.txi: index ragged right/left.
d970 1
a970 2
	* info/window.c (build_message_buffer): handle %1$s as used in
	ja.po.  From Fumitoshi UKAI <ukai@@debian.or.jp>.
d972 1
a972 1
	* configure.ac (ALL_LINGUAS): add sv.
d974 4
a977 1
2001-11-16    <karl@@gnu.org>
d979 1
a979 1
	* Makefile.am (EXTRA_DIST): add COPYING.DOC.
d981 2
a982 1
        1999-10-30  Andrew Bettison  <andrewb@@zip.com.au>
d984 3
a986 4
	All these changes are to implement user-configurable key mapping
	using the new 'infokey' program.  For the time being, the new
	code is conditional on [INFOKEY] and the old code is still there
	in case we want to revert.
d988 1
a988 3
	* info/session.c (incremental_search): test for printable chars
	_before_ isearch command keys -- makes a difference if the
	isearch commands are bound to printable chars.
d990 3
a992 13
	* info/doc.h,
	* info/infodoc.c,
	* info/infomap.c,
	* info/m-x.c,
	* info/session.c: New typedef InfoCommand, plus a bunch of
	supporting macros, to abstract a "command" away from being a
	function pointer.

	* info/doc.h (pretty_keyseq),
	* info/infodoc.c (pretty_keyseq),
	* info/session.c (pretty_keyseq): Moved definition from
	session.c into infodoc.c, and rewrote to recognise special
	terminal sequences (PgUp, PgDn, etc.).
d994 2
a995 228
	* info/infodoc.c (create_internal_info_help_node,
	replace_in_documentation, info_where_is),
	* info/m-x.c (info_execute_command): Cleaned up references to
	hardwired keystrokes.

	* info/infodoc.c (replace_in_documentation):
	Extended the \\[foo] syntax to recognise \\%-X.Y[foo], which
	causes the replacement text to be inserted using sprintf("%-X.Ys").

	* info/session.c (_scroll_forward, _scroll_backward,
	scroll_forward_page_only, scroll_backward_page_only,
	scroll_forward_page_only_set_window,
	scroll_backward_page_only_set_window): New functions, eliminating
	need for SPC and DEL hack.

	* info/session.c (scroll_forward, scroll_backward,
	scroll_forward_set_window, scroll_backward_set_window): Call
	_scroll_forward and _scroll_backward to do all the work.

	* info/infomap.c (initialize_info_keymaps)[!INFOKEY]: set 'v'
	and Control('v') key bindings to info_scroll_backward_page_only
	and info_scroll_forward_page_only respectively.

	* info/Makefile.am (bin_PROGRAMS): Added new executable `infokey'.
	(infokey_SOURCES): Defined.
	(EXTRA_DIST): Added `sample_infokey'.
	(BUILT_SOURCES): Added `key.c'.

	* info/infokey.h,
	* info/infokey.c: Created, for new program `infokey' which
	creates a $HOME/.info file by compiling a text source file with
	syntax very similar to that used by `lesskey' in less 3.4.0.

	* info/makedoc.c: Generate new file `key.c' defining an array to
	map command names to codes.

	* info/key.h: Created, to define contents of new `key.c' now
	created by makedoc.

	* info/info.h (INFOKEY): Define, to enable all following changes.
	(set_variable_to_value)[INFOKEY]: Declare new function.

	* info/makedoc.c [INFOKEY]: Write '#define A_' numeric command
	code definitions into `funs.h' to support new key binding system.

	* info/session.c (info_dispatch_on_key, info_numeric_arg_digit_loop)
	[INFOKEY],
	* info/infomap.c [INFOKEY],
	* info/infodoc.c (function_documentation, function_name,
	describe_key, pretty_keyname, pretty_keyseq_internal,
	where_is_internal)[INFOKEY],
	* info/terminal.h (term_kh, term_ke, term_kx, term_ki)[INFOKEY],
	* info/terminal.c (term_kh, term_ke, term_kx, term_ki,
	terminal_initialize_terminal)[INFOKEY],
	* info/variables.c (set_variable_to_value)[INFOKEY],
	* info/sample_infokey: Added infokey functionality, copied more
	or less wholesale from 'lesskey' in GNU Less 3.4.0.  Added a new
	typedef struct FUNCTION_KEYSEQ, and a new element `keys' to
	typedef struct FUNCTION_DOC, to give the user some control over
	the keystrokes that appear in the documentation node generated
	by get-help-window, and to improve efficiency a little.

	* info/infodoc.c (info_internal_help_text,
	create_internal_info_help_node)[INFOKEY]: Rewrote all code that
	assumes fixed keystrokes, replacing %10s sequences with \\%10[foo]
	sequences instead.

	* doc/info-stnd.texi: Documented above changes.

2001-09-19    <karl@@gnu.org>

	* makeinfo/cmds.c: </ not /<, duh :).  From janneke.

2001-09-12    <karl@@gnu.org>

	* configure.ac (AC_SYS_POSIX_TERMIOS, AC_HEADER_TIOCGWINSZ): use
	 these new autoconf macros instead of the old automake ones.

	* info/terminal.c: remove unconditional include of sys/ioctl.h.
	* info/termdep.h: <sys/ioctl.h> [GWINSZ_IN_SYS_IOCTL]: include outside of HAVE_TERMIOS_H,
	per autoconf manual.

	* doc/Makefile.am (install-info-am): remove override of automake's
	 target, instead enable looking in . for info files within automake.

	* doc/info-stnd.texi: include separate version-stnd.texi
	* configure.ac: autoconf 2.52, and rename to configure.ac.

2001-09-11    <karl@@gnu.org>

	* doc/texinfo.txi: recommend against using - and _ in @@set names,
		* and rearrange that section.

	* info/infodoc.c (replace_in_documentation): free fun_name to fix
		memory leak.
	From: "Art Haas" <ahaas@@neosoft.com>, Sat, 4 Aug 2001 08:34:31 -0500.

	* makeinfo/lang.c: encoding support for info output from kama.
	* makeinfo/lang.h: encoding support for info output from kama.

	* makeinfo/html.c: include document encoding code unless
	no_encoding.
	* makeinfo/insertion.c (cm_direntry): don't call begin_insertion
	if ignoring.
	(cm_documentdescription): moved here, and likewise.
	(begin_insertion): don't need output format conditionals here.

	* makeinfo/cmds.c (cm_documentdescription): move to insertion.c.
	* makeinfo/makeinfo.h (enable_encoding): new global.
	* makeinfo/makeinfo.c: new option --enable-encoding, rearrange help.

	Sun Oct 31 18:44:24 UTC 1999 Karl Heinz Marbaise <kama@@hippo.fido.de>

	    - lang.{c,h}:
	      o added translation map between HTML markups and 8-Bit
		(ISO-8859-1 codes; supplemental is Unicode for the future).
	      o added cm_search_iso_map:
		search for characters based on HTML markup names for
		translation 8-Bit code.
	      o recognizing of @@documentencoding improved.
		now we can recognize things like ISO-8859-{1...15}

	    - makeinfo.{c,h}:
	      o added two command line switches.
		+ info-encoding to activate the encoding for info output
		  which is correctly shown by info. Default is NOT to
		  encode the output to be compatible with earlier versions.
		+ no-encoding to suppress encoding e.g. while producing
		  ASCII output (--no-headers) results in that you get
		  "A for &Auml; as before.
	      o help output changed to document the switches.

	    - html.c:
	      charset encoding in html based on @@documentencoding.


2001-07-31    <karl@@gnu.org>

	* doc/texinfo.txi: mention pdfcolor.tex.
	* doc/texinfo.tex: doc.
	* doc/Makefile.am (install-tex): install pdfcolor.tex too.
	* doc/pdfcolor.tex: new file, since Kurt.Hornik@@ci.tuwien.ac.at
		reports that not all pdftex installations include it.

2001-07-25    <karl@@gnu.org>

	* doc/texinfo.tex (\Etitlepage): need \HEADINGSon before the
	\...aftertitlepage checks to get page numbers. Report from
	3diff@@gnu.org.

2001-07-06    <karl@@gnu.org>

	* doc/texinfo.txi: mention http://docbook2X.sourceforge.net/.

2001-06-29    <karl@@gnu.org>

	* makeinfo/makeinfo.c: make output to stdout imply --no-split for
		HTML, too.

	* makeinfo/html.c (html_output_head): use documentdescription if set.
	* makeinfo/insertion.h (insertion_type): new case documentdescription.
	* makeinfo/insertion.c (begin_insertion, end_insertion,
	insertion_type_names): new case for documentdescription.
	* makeinfo/cmds.c (cm_documentdescription): new fn.
	* makeinfo/makeinfo.h (document_description): new global.
	* doc/texinfo.txi: @@documentdescription.
	@@documentdescription implementation from patches by Will Estes.

2001-06-26    <karl@@gnu.org>

	* doc/texinfo.txi: documentdescription
	* doc/texinfo.tex: Ignore @@documentdescription ... @@end
	documentdescription.

	* doc/texinfo.txi: document sequential punctuation in @@footnote is
	normal, suggested by rms.

2001-06-21    <karl@@gnu.org>

	* doc/texinfo.tex (\textfonts): call \setleading here, so that we can
	switch font sizes back and forth inside @@tex with \globaldefs=1
	and not lose the leading.

	* doc/texinfo.txi: allow @@smallbook to run without overfull or
		underfull boxes.

2001-06-19    <karl@@gnu.org>

	* doc/texinfo.tex (\imagexxx): ignore new optional args to @@image.

	* makeinfo/html.c (html_output_head): include <h1>title</h1> at
	beginning of document.
	* makeinfo/sectioning.c (cm_top): don't include explicit links in
	HTML output, the regular code for @@node will do it.
	(sectioning_html): use <h2> for chapter instead of <h1>, etc.
	* makeinfo/node.c (cm_node): do not include code to output the
	HTML <head>, we do that elsewhere now.
	
	1999-11-26 W. L. Estes <will@@fumblers.org>
	* makeinfo/insertion.c (begin_insertion): add an explicit <br>
	before beginning a <pre> block. for flushleft and flushright, use
	<div> tag with an align attribute set.
	* makeinfo/insertion.c (end_insertion): for flushleft and
	flushright, end the </div> block.

	* makeinfo/makeinfo.c (cm_image): new variable, alt_arg now allows
	user-supplied alt attribute value and
	ext_arg allows user-supplied extension for image files.

	* makeinfo/toc.c (contents_update_html): add anchors at chapter
	level entries
	(shortcontents_update_html): hrefs in shortcontents point to the
	above anchors in the detailed contents

	* doc/texinfo.txi: document changes to @@image and the new behavior
	of shortcontents entries

2001-06-14    <karl@@gnu.org>

	* makeinfo/node.c: no need for size_t.

2001-06-13    <karl@@gnu.org>

	* texinfo.tex (\pdfmkdest): \normalturnoffactive, so refs and 
	defs match.
	(\xrefX): pdf link defs no longer use @@, so link refs shouldn't use @@
	either. (All xrefs in pdf were failing.)
	(\mkpgn): remove redundant second definition.
d997 1
a997 6
	* texinfo.tex (\smallerfonts): new font size.
	(\smallexample, et al.): use it, in all cases, not just @@smallbook.
	
	1999-11-30 Andreas Schwab <schwab@@suse.de>
	* doc/texinfo.tex (\xrefX): Turn off active characters when writing
	out the link name for pdf.
d999 5
a1003 1
2001-06-13    <karl@@gnu.org>
d1005 2
a1006 2
	* doc/texinfo.txi: document that @@smallexample is smaller in all
		page formats now.
d1008 1
a1008 1
2001-06-11    <karl@@gnu.org>
d1010 2
a1011 3
	* 4.0c.
	* util/Makefile.am: Don't need automake patch any more, with
		automake 1.4p4.
d1013 1
a1013 3
	* configure.in (AC_FUNC_SETVBUF_REVERSED): only needed on
	pre-sysvr3 systems that nobody has anymore?  Or so Russ Allbery
	informs me ...
d1015 1
a1015 1
2001-06-08    <karl@@gnu.org>
d1017 1
a1017 1
	* makeinfo/Makefile.am (EXTRA_DIST): include texinfo.{dtd,xsl}.
d1019 1
a1019 1
	* util/Makefile.am: automake-1.4p3 now.
d1021 3
a1023 1
2001-06-07    <karl@@gnu.org>
d1025 1
a1025 2
	* util/texi2dvi: comment out conditional text, from Werner LEMBERG
	       <wl@@gnu.org>.
d1027 7
a1033 3
       2001-06-02  Eli Zaretskii  <eliz@@is.elta.co.il>
	* info/echo-area.c (info_read_completing_internal): If there are
	no completions, say that instead of "Not complete".
d1035 3
a1037 1
	* configure.in (ALL_LINGUAS): add da
d1039 5
a1043 1
	* makeinfo/Makefile.am (pkgdata_DATA): include texinfo.xsl.
d1045 1
a1045 1
	* configure.in: update for autoconf 2.50.
d1047 1
a1047 1
2001-06-04    <karl@@gnu.org>
d1049 1
a1049 2
	* util/Makefile.am (EXTRA_DIST): automake-14p2.patch now.
	* util/automake-14p2.patch: rename from 14p1.
d1051 1
a1051 1
2001-05-22    <karl@@gnu.org>
d1053 1
a1053 1
	* changes from feloy for lowercase xml names, etc.
d1055 3
a1057 1
2001-05-21    <karl@@gnu.org>
d1059 3
a1061 3
	* util/Makefile.am (EXTRA_DIST): add automake-14p1.patch.
	* makeinfo/Makefile.am (pkgdata_DATA): define to install
	        texinfo.dtd.
d1063 3
a1065 3
        2001-05-17  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/makeinfo.c (cm_xref, cm_inforef): Don't allow empty
	first arguments in cross references.
d1067 1
a1067 1
	* makeinfo/makeinfo.c: redo --help, basic patch from ke@@suse.de.
d1069 1
a1069 1
2001-05-03    <karl@@gnu.org>
d1071 2
a1072 3
	* doc/info.texi: move help-cross to be subnode of cross-refs,
	instead dangling out in space.
	* doc/info.texi: update from eli
d1074 2
a1075 1
2001-05-02    <karl@@gnu.org>
d1077 1
a1077 2
	* makeinfo/xml.c (xml_push_current_element): need to select the
		`name' member.
d1079 1
a1079 1
2001-05-01    <karl@@gnu.org>
d1081 3
a1083 1
	* configure.in: 4.0b
d1085 7
a1091 1
	* doc/info.texi (Help-Cross): subsection of Cross-refs.
d1093 5
a1097 2
	* lib/system.h (va_alist, etc.): moved from makeinfo.c.
	* makeinfo/makeinfo.c (va_alist, etc.): move to system.h
d1099 3
a1101 4
	* makeinfo/xml.[ch]: new files from Philippe Martin <feloy@@free.fr>.
	* pretty much all files also modified for XML/DocBook output.
	* doc/texinfo.txi: minimally mention --xml and --docbook.
	* makeinfo/xml.c: convert to K&R until we can do ansi2knr.
d1103 2
a1104 3
	* util/texindex.c,
	* util/install-info.c,
	* info/info.c: it's 2001.
d1106 1
a1106 1
2001-04-15    <karl@@gnu.org>
d1108 3
a1110 1
	* doc/info.texi: major update from eli.
d1112 4
a1115 1
2001-04-13    <karl@@gnu.org>
d1117 1
a1117 4
        1999-10-16  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/node.c (cm_node): Don't generate cross-references to
	"(DIR)".
	* makeinfo/html.c (add_link): Likewise.
d1119 2
a1120 9
        1999-10-16  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/makeinfo.c (insert): Don't call html_output_head here.
	(add_char): Call html_output_head here...
	* makeinfo/cmds.c (cm_sp): ...and here...
	* makeinfo/toc.c (cm_contents, cm_shortcontents): ...and here...
	* makeinfo/node.c (cm_anchor): ...and here.
	
	* makeinfo/html.c (html_output_head): `free' html_title if
	expanded.  Make <head> and <body> stand out.
d1122 1
a1122 1
2001-04-12    <karl@@gnu.org>
d1124 2
a1125 4
	1999-12-26  Eli Zaretskii  <eliz@@is.elta.co.il>
	* makeinfo/defun.c (defun_internal): Use execute_string instead
	add_word_args to expand defined_name, type_name and category (in
	HTML mode).
d1127 6
a1132 1
2001-03-29    <karl@@gnu.org>
d1134 25
a1158 1
	* Makefile.am: simple license.
d1160 2
a1161 1
2001-02-27    <karl@@gnu.org>
d1163 3
a1165 5
	1999-12-17  Yoshiki Hayashi  <t90553@@mail.ecc.u-tokyo.ac.jp>
		* info/terminal.h, info/terminal.c (term_kh, term_ke, term_kD):
		New variables to hold Home, End, Delete key sequences.
		* info/infomap.c (initialize_emacs_like_keymaps,
		initialize_vi_like_keymaps): Set them.
d1167 6
a1172 6
	* makeinfo/makeinfo.h,
	* makeinfo/makeinfo.c: --split-size option from Yoshiki:
	1999-12-09  Yoshiki Hayashi  <t90553@@mail.ecc.u-tokyo.ac.jp>
		* makeinfo/makeinfo.h (split_size): New option.
		* makeinfo/makeinfo.c (long_options): Add split_size.
		(usage): Ditto.	Suggested by Richard Y. Kim.
d1174 1
a1174 1
	* util/texi2dvi: -o support from Akim.
d1176 2
a1177 1
2001-02-02    <karl@@gnu.org>
a1178 1
	* dir-example: don't need zsh twice.
d1180 1
a1180 4
	From: Nishio Futoshi <fut_nis@@d3.dion.ne.jp>, 02 Apr 2000.
	* doc/texinfo.txi: capitalization fixes.
	* doc/info.texi: up pointer fixes.
	* doc/texinfo.txi: installing an info file.
d1182 2
a1183 2
	* makeinfo/makeinfo.c: --output is for split html, not non-split.
	From: Karl Eichwalder <keichwa@@gmx.net>
d1185 2
a1186 1
2001-01-12    <karl@@gnu.org>
d1188 1
a1188 3
	1999-10-15  Eli Zaretskii  <eliz@@is.elta.co.il>
		* makeinfo/cmds.c (cm_sc): Don't print the warning about
		all-uppercase argument in menus under --no-headers.
d1190 3
a1192 1
	* makeinfo/files.c: pass O_BINARY flag to open, suggested by bfox.
d1194 4
a1197 1
2001-01-11    <karl@@gnu.org>
d1199 1
a1199 6
	* info/terminal.c [HAVE_TERMIOS_H && TCOON]: tcflow TCOOFF/TCCON
	to resume output if user presses CTRL-S at the beginning of
	things.
	[HAVE_TERMIO_H && TCXONC]: ditto.
	From Kevin Ryde <user42@@zip.com.au>, 16jun2000;
	cf. emacs/src/sysdep.c.
d1201 1
a1201 1
2001-01-08    <karl@@gnu.org>
d1203 4
a1206 2
	* makeinfo/cmds.c: afivepaper, afourwide, afourlatex.
	* doc/texinfo.txi: afivepaper
d1208 1
a1208 1
2001-01-05    <karl@@gnu.org>
d1210 10
a1219 2
	* doc/info.texi: typo from: Martin Buchholz <martin@@xemacs.org>.
	* doc/info.texi: typo fixes from meyering.
d1221 1
a1221 1
2001-01-02    <karl@@gnu.org>
d1223 1
a1223 3
	* makeinfo/makeinfo.c (remember_brace_1): don't assume command is
	 non-null, an (erroneous) input line like \hbox to7in{ passes in a
	 null.
d1225 1
a1225 2
	* makeinfo/toc.c: fix from jan
	* makeinfo/html.c: fix from jan for top-level references.
d1227 1
a1227 1
2000-12-22    <karl@@gnu.org>
d1229 1
a1229 2
	* makeinfo/makeinfo.c: --help changes.
	* doc/texinfo.txi: -o means the directory name for HTML output.
d1231 2
a1232 1
2000-12-21    <karl@@gnu.org>
d1234 1
a1234 1
	* doc/texinfo.txi: switch to fdl
d1236 1
a1236 3
	* makeinfo/html.c: doc fix.
	* makeinfo/insertion.c: no space after _ I guess.
	* makeinfo/cmds.c: no space after _ I guess.
d1238 1
a1238 2
	* makeinfo/html.c (nodename_to_filename_1): fix up external
	* top-node references.
d1240 2
a1241 1
2000-12-20    <karl@@gnu.org>
d1243 1
a1243 2
* HTML table patch from Jan:
    2000-12-19  Jan Nieuwenhuizen  <janneke@@gnu.org>
d1245 2
a1246 3
	    * makeinfo/multi.c (multitable_item),
	    (cm_tab): close html table columns.  Also, align cell contents to
	    top, which is probably the most sensible thing to do for text.
d1248 1
d1250 1
a1250 1
2000-12-19    <karl@@gnu.org>
d1252 1
a1252 2
	* makeinfo/makeinfo.c (insert_toplevel_subdirectory): try
		name.html if just name doesn't work.
d1254 3
a1256 2
	* doc/texinfo.txi: document html output in .html directory
		sometimes.
d1258 1
a1258 1
	* util/Makefile.am (EXTRA_DIST): add install-info-html.
d1260 3
a1262 4
	* util/texindex.c: 2000
	* util/install-info.c: 2000
	* info/info.c: 2000
	* configure.in: 4.0a
d1264 3
a1266 1
	* lib/system.h: include limits.h
d1268 1
a1268 2
	* Applied HTML splitting changes from Jan:
    2000-11-10  Jan Nieuwenhuizen  <janneke@@gnu.org>
d1270 2
a1271 2
	    * makeinfo: removed code for numbered split HTML output, removed
	    SPLIT_JCN conditional.
d1273 1
a1273 1
    2000-11-09  Jan Nieuwenhuizen  <janneke@@gnu.org>
d1275 4
a1278 3
	    * makeinfo/html.c: prepared nodifying filename functions for
	    linking not non-spit HTML documents, by adding ``#anchor'' to
	    external refernces.
d1280 2
a1281 2
	    * doc/texinfo.txi (Installing HTML info): updated doco for --html
	    option, added node Installing HTML info.
d1283 3
a1285 2
	    * util/install-info-html.in: new script.  The bare minimum
	    required for generating HTML index.  
d1287 1
a1287 1
	    * lib/system.h:	compilation fix.
d1289 5
a1293 1
    2000-11-08  Jan Nieuwenhuizen  <janneke@@gnu.org>
d1295 1
a1295 4
	    * makeinfo/makeinfo.c (convert_from_loaded_file): [SPLIT_JCN]:
	    overloaded already way too hairy function with logic to put split
	    html output into subdirectory with basename of toplevel output
	    file.
d1297 4
a1300 1
	    * makeinfo/html.c (fix_filename): new function.
d1302 1
a1302 1
    2000-11-07  Jan Nieuwenhuizen  <janneke@@gnu.org>
d1304 1
a1304 4
	    * toc.c (toc_add_entry): 
	    (contents_update_html): 
	    (shortcontents_update_html): [SPLIT_JCN]: use hrefs for nodename based
	    html files.
d1306 4
a1309 2
	    * node.c (cm_node): [SPLIT_JCN]: create html filename based on
	    nodename (instead of a numbered node<num>.html filename).
d1311 1
a1311 2
	    * makeinfo/makeinfo.c (main): [SPLIT_JCN]: enable splitting of
	    html output.
d1313 1
a1313 3
	    * makeinfo/html.c
	    (add_url_name,add_nodename_to_filename,nodename_to_filename): new
	    functions.
d1315 1
a1315 1
2000-12-15    <karl@@gnu.org>
d1317 2
a1318 1
	* configure.in (AC_CHECK_HEADERS): add limits.h explicitly.
d1320 1
a1320 1
2000-11-10    <karl@@gnu.org>
d1322 1
a1322 2
	* dir-example: update
	* info/nodes.c: doc fixes, etc.
d1324 3
a1326 2
	* incorporated verbatim patch from janneke:
    2000-04-14    <janneke@@gnu.org>
d1328 2
a1329 1
	    * applied texinfo-3.12s.jcn4 patch
d1331 3
a1333 1
    1999-09-02    <janneke@@gnu.org>
d1335 2
a1336 5
	    * makeinfo/cmds.c,
	    * makeinfo/insertion.c: @@verbatiminclude file
	    * doc/texinfo.tex: @@verbatiminclude file
	    * doc/texinfo.txi: @@vebatiminclude file doco
	    * NEWS: added @@verbatiminclude to Language section
d1338 2
a1339 1
    1999-09-01    <janneke@@gnu.org>
d1341 1
a1341 6
	    * makeinfo/makeinfo.c: bf: @@exdent (urg6.texi) -- Rolled into 4.0
	    * NEWS: added verb* to Language section
	    * doc/texinfo.txi: @@verb, @@verbatim doco
	    * doc/texinfo.tex: tricky tex-fix for @@verb{<char>..<char>}
	    * doc/texinfo.tex: real tab expansion for @@verbatim mode
	    * doc/texinfo.tex: proper start of environment, no indentation
d1343 1
a1343 1
    1999-08-31    <janneke@@gnu.org>
d1345 2
a1346 4
	    * makeinfo/cmds.c: 
	    * makeinfo/insertion.{c,h},
	    * makeinfo/makeinfo.{c,h}: redo of @@verbatim, @@verb{<char>..<char>}
	    * doc/texinfo.tex: fixed @@verb{<char>..<char>}
d1348 2
a1349 1
    1999-08-30  Jan Nieuwenhuizen <janneke@@gnu.org>
d1351 10
a1360 5
	    * makeinfo/cmds.c,
	    * makeinfo/insertion.{c,h},
	    * makeinfo/makeinfo.{c,h}: added @@verbatim (and preliminary @@verb)
	    support
	    * doc/texinfo.tex: added @@verbatim (and preliminary @@verb) support
d1362 1
a1362 1
    1999-08-24  Jan Nieuwenhuizen <janneke@@gnu.org>
d1364 2
a1365 1
	    * bf: empty node: makeinfo/node.c:cm_node () -- Rolled into 4.0
d1367 3
d1371 2
a1372 1
2000-10-18    <karl@@gnu.org>
d1374 1
a1374 1
	* doc/info.texi: eli update
d1376 1
a1376 1
2000-09-22    <karl@@gnu.org>
d1378 2
a1379 2
	* makeinfo/defun.c: warn if non-whitespace follows @@defun'd name
	  (suggestion from Akim).
d1381 1
a1381 5
  Installed some patches:
  
  2000-08-04  Paul Eggert  <eggert@@twinsun.com>
	  * makeinfo/multi.c (find_template_width):
	  Don't access before start of *PARAMS.
d1383 2
a1384 3
  2000-08-21  Eli Zaretskii  <eliz@@is.elta.co.il>
	  * info/filesys.c (info_file_in_path): Reject FILENAME if it is
	  empty, or ".", or "..".
d1386 1
a1386 6
  2000-08-23  Eli Zaretskii  <eliz@@is.elta.co.il>
	  * info/session.c (info_menu_or_ref_item): If the user have chosen
	  menu item or xref that's identical to defentry's label, use
	  defentry instead of looking for its label.  Otherwise, select the
	  entry whose position is the closest to the window's point, in
	  case there's more than a single entry with that label.
d1388 1
a1388 1
2000-09-12    <karl@@gnu.org>
d1390 2
a1391 3
	* doc/texinfo.txi: it's 2000 now.
	* doc/texinfo.txi: document the only real (and rare) reason for not using implicit pointer
	creation.
d1393 4
a1396 1
2000-09-06    <karl@@gnu.org>
d1398 1
a1398 2
	* configure.in: test all termcap variables for existence.  From
	andy@@rz.uni-karlsruhe.de.
d1400 2
a1401 4
	* configure.in (ALL_LINGUAS): include ja.
	* lib/system.h [HAVE_IO_H]: make #include <io.h> conditional for
	BeOS.  Reported by Dan Moore, dan@@moore.cx.
	* configure.in (AC_CHECK_HEADERS): add io.h.
d1403 4
a1406 1
2000-06-05    <karl@@gnu.org>
d1408 1
a1408 1
	* doc/texinfo.txi: forgot to escape {}.
d1410 1
a1410 1
2000-05-30    <karl@@gnu.org>
d1412 2
a1413 3
	* info/filesys.c (is_dir_name): check all info suffixes as well as
	the compression suffixes.  Fixes segmentation fault on a dir.info
	file ending after the * Menu.
d1415 5
a1419 1
2000-05-28    <karl@@gnu.org>
d1421 2
a1422 1
	* doc/texinfo.txi: Forgot {arg} in @@rmacro example.  From Olaf B.
d1424 1
a1424 1
2000-05-27    <karl@@gnu.org>
d1426 3
a1428 1
	* doc/txi-cs.tex: update from: Stepan Kasal <kasal@@suse.cz>.
d1430 3
a1432 2
	* doc/Makefile.am (install-data-local): reformat warning per
	Franois to hopefully make it more noticeable.
d1434 2
a1435 3
	2000-02-08  Eli Zaretskii  <eliz@@is.elta.co.il>
		* info/session.c (incremental_search): Don't retain RET when
		exiting isearch.  Suggested by Hrvoje Niksic <hniksic@@iskon.hr>.
d1437 1
a1437 1
2000-05-22    <karl@@gnu.org>
d1439 3
a1441 1
	* doc/texinfo.txi: pageparams -> pagesizes
d1443 2
a1444 1
2000-05-18    <karl@@gnu.org>
d1446 1
a1446 2
	* makeinfo/lang.c (cm_accent_tilde): need N in list.
	From: kama@@hippo.fido.de (Karl Heinz Marbaise)
d1448 2
a1449 4
	* makeinfo/files.c (find_and_load): read only the number of bytes
	available in the buffer.  Also, remove one-byte-at-a-time reading
	in the WIN32 case.
	From: "J. David Bryan" <dbryan@@bcpl.net>
d1451 1
a1451 2
	* info/man.c: use eli's patch after all, we re-increment j at the
	top of the loop.
d1453 3
a1455 1
2000-05-16    <karl@@gnu.org>
d1457 2
a1458 3
	* info/man.c (clean_manpage): don't write before the beginning of
	newpage.
	(based on patch from Eli).
d1460 2
a1461 1
2000-02-03    <karl@@gnu.org>
d1463 3
a1465 1
	* doc/texinfo.txi: remove spurious space. from kaja.
d1467 14
a1480 1
1999-10-12  Karl Berry  <karl@@gnu.org>
d1482 2
a1483 1
	* doc/Makefile.am (install-tex): install all txi-?? files.
d1485 5
a1489 1
1999-10-01  W. L. Estes  <will@@fumblers.org>
d1491 1
a1491 2
	* makeinfo/cmds.c: dont treat @@center as separate paragraph,
	use div element to output center
d1493 1
a1493 1
1999-09-29  Eli Zaretskii  <eliz@@is.elta.co.il>
d1495 1
a1495 1
	* djgpp/README: Say `dir-example', not DIR.
d1497 6
a1502 1
	* lib/system.h (DEFAULT_INFOPATH) [__DJGPP__]: Define.
d1504 1
a1504 1
1999-09-28  Karl Berry  <karl@@gnu.org>
d1506 2
a1507 3
	* configure.in,
	util/texi2dvi: version 4.0.
	* doc/texinfo.txi: New isbn.
d1509 2
a1510 1
1999-09-24  Karl Berry  <karl@@gnu.org>
d1512 1
a1512 1
	* doc/texinfo.txi: Fixes from Oleg.
d1514 2
a1515 1
1999-09-20  Karl Berry  <karl@@gnu.org>
d1517 1
a1517 2
	* makeinfo/node.c: Don't write region at an anchor.
	From: Thomas Esken <esken@@nmlab.informatik.fh-dortmund.de>
d1519 4
a1522 4
	* info/terminal.c: Only set dumb terminal if tgetent returns < 0,
		not 0.
	For HP-UP 11.
	From jeff.hull@@state.co.us.
d1524 1
a1524 4
	* makeinfo/footnote.c: Don't translate the `Footnotes' string
		according to LANG, it should be according to
		@@documentlanguage, which isn't implemented yet.
	From: Jan Nieuwenhuizen <janneke@@gnu.org>
d1526 1
a1526 1
	* doc/texinfo.txi: @@end direntry from kama.
d1528 1
a1528 1
1999-09-19  Karl Berry  <karl@@gnu.org>
d1530 1
a1530 1
	* doc/texinfo.txi: \ninett is now \smalltt.
d1532 2
a1533 1
	* doc/texinfo.txi: arnold changes
d1535 4
a1538 4
	1999-09-03  Akim Demaille  <akim@@epita.fr>
	* texi2dvi (getopt): batch has to be assigned `eval', not `echo'.
	(bibtex): Launch BibTeX also when the LOG file complains that
 	there are no BBL file.
d1540 2
a1541 1
	* doc/texinfo.txi: Document that @@anchor ignores spaces.
d1543 1
a1543 3
	* makeinfo/cmds.c (cm_shyph): remove, &shy; is not supported in
		browsers. 
	From: Thomas Esken <esken@@nmlab.informatik.fh-dortmund.de>
d1545 1
a1545 2
	* makeinfo/makeinfo.c: Don't crash if current_indent = 0.
	From: Jan Nieuwenhuizen <janneke@@gnu.org>
d1547 2
a1548 2
	* makeinfo/makeinfo.c: Avoid blank lines between @@menu entries.
	* configure.in: 3.12t
d1550 1
a1550 2
	1999-08-31  Eli Zaretskii  <eliz@@is.elta.co.il>
	* info/info.c (info_short_help): Document --apropos.
d1552 4
a1555 1
1999-09-18  Karl Berry  <karl@@gnu.org>
d1557 2
a1558 5
	* makeinfo/html.c (html_output_head): use text for <title>, not
		html markup.  From Franois.
	* makeinfo/makeinfo.c (text_expansion): new routine.
	* makeinfo/cmds.c (cm_settitle): don't expand the title here,
		we'll do it later.
d1560 4
a1563 1
	* makeinfo/makeinfo.h (text_expansion): declare.
d1565 2
a1566 5
	* info/indices.c,
	* info/infodoc.c,
	* info/session.c,
	* info/footnotes.c: translate errors.
	* info/info.h: Use `' instead of "" in errors.
d1568 2
a1569 1
1999-09-06  Karl Berry  <karl@@gnu.org>
d1571 1
a1571 2
	+1999-08-24  Jan Nieuwenhuizen <janneke@@gnu.org>
	* makeinfo/node.c:cm_node: don't compare current_node when null.
d1573 1
a1573 3
	1999-08-23  W. L. Estes  <will@@fumblers.org>
	*  makeinfo/node.c (cm_node): write <a name=> tags even
           ifusing --no-headers
d1575 1
a1575 2
	* configure.in: ospeedlib -> trylib
	From: Andreas Schwab <schwab@@suse.de>
d1577 4
a1580 2
	* makeinfo/makeinfo.c (read_command): add explicit 0 to return if
	enclosure command.  From: Andreas Jaeger <aj@@arthur.rhein-neckar.de>.
d1582 2
a1583 1
1999-08-19  Karl Berry  <karl@@gnu.org>
d1585 1
a1585 2
	* configure.in: add missing quotes, logic in new termcap library
	check.
d1587 1
a1587 1
1999-08-17  Karl Berry  <karl@@gnu.org>
d1589 1
a1589 5
	* makeinfo/multi.c,
	* makeinfo/sectioning.c,
	* makeinfo/node.c,
	* makeinfo/macro.c: omit unused vars
	* info/session.c (info_goto_invocation_node): omit unused decl.
d1591 2
a1592 3
	* configure.in: Check for extra termlib variable necessary on
		HP-UX 9.
	From: Olaf Bachmann <obachman@@mathematik.uni-kl.de>
d1594 4
a1597 4
  1999-08-16  Andreas Schwab  <schwab@@suse.de>
	  * info/terminal.c (terminal_initialize_terminal): Try tcgetattr
	  and cfgetospeed in preference to TIOCGETP.
	  (original_tchars, original_ltchars): Define them only if needed.
d1599 2
a1600 1
1999-08-16  Karl Berry  <karl@@gnu.org>
d1602 1
a1602 2
	* info/infodoc.c (create_internal_info_help_node): rename arg.
	(info_find_or_create_help_window): avoid deref of null eligible.
d1604 4
a1607 2
	* info/terminal.c (TIOCGETP, TIOCGETC, TIOCGLTC) [alpha && linux]:
	#undef.  Useless stubs are present.
d1609 1
a1609 1
1999-08-15  Karl Berry  <karl@@gnu.org>
d1611 1
a1611 2
	* info/nodes.c: Remove reference to nonexistent RFC for Info
	files.
d1613 1
a1613 1
1999-08-11  Eli Zaretskii  <eliz@@is.elta.co.il>
d1615 2
a1616 2
	* info/nodes.c (info_find_file_internal): If the file's contents
	were gc'ed since last time it was loaded, reload the file.
d1618 1
a1618 1
Wed Aug 11 06:42:47 1999  Karl Berry  <karl@@gnu.org>
d1620 1
a1620 1
	* doc/Makefile.am (EXTRA_DIST): add txi-pt.tex from Lalo.
d1622 1
a1622 1
Mon Aug  9 16:28:18 1999  Karl Berry  <karl@@gnu.org>
d1624 2
a1625 1
	* util/texi2dvi: Support preloaded texinfo.tex, from Stephen.
d1627 3
a1629 2
	* makeinfo/makeinfo.c (add_char): restore ugly check for first
 		character being <.
d1631 1
a1631 2
	* makeinfo/cmds.c (cm_kbd): Increment in_fixed_width_font for
 		html.
d1633 2
a1634 1
	* doc/texinfo.txi: effect not affect
d1636 2
a1637 1
	* makeinfo/makeinfo.c: Rearrange help.
d1639 2
a1640 2
	* makeinfo/toc.c: Cast %* arguments to (int) to placate gcc
 		-Wformat.
d1642 1
a1642 1
Fri Aug  6 13:03:14 1999  Karl Berry  <karl@@gnu.org>
d1644 1
a1644 3
	* util/install-info.c: Hardwire the File: dir, Node: top part of
		the skeleton dir file.
	Report from: Stanislav Brabec <utx@@k332.feld.cvut.cz>
d1646 1
a1646 2
	* info/Makefile.am (BUILT_SOURCES): rm -f $(BUILT_SOURCES), a
 		kludge.
d1648 2
a1649 1
    1999-07-28  Karl Eichwalder  <ke@@gnu.franken.de>
d1651 8
a1658 1
	    * makeinfo/makeinfo.c: Fix help string (-o).
d1660 4
a1663 1
    1999-07-30  Eli Zaretskii  <eliz@@is.elta.co.il>
d1665 3
a1667 2
	    * makeinfo/makeinfo.c (cm_uref, cm_email): Don't collapse -- and
	    `` in the URL part of the reference.
d1669 3
a1671 1
    1999-08-03  Eli Zaretskii  <eliz@@is.elta.co.il>
d1673 6
a1678 5
	    * util/install-info.c (main): For entries given on command line,
	    set entry_sections and entry_sections_tail members to NULL, and
	    set text_len member to the entry length.  After processing the
	    Info file, update the entry_sections pointers of all entries that
	    came from the command line.
d1680 7
a1686 3
	* util/texindex.c (sort_offline, sort_in_core): use off_t rather
		than long.
	Found on FreedBSD 2.2.8 by "Trond Endrestol" <endrestol@@hotmail.com>.
d1688 1
a1688 1
Mon Jul 19 17:16:46 1999  Karl Berry  <karl@@gnu.org>
d1690 4
a1693 1
	* configure.in: 3.12n
d1695 2
a1696 2
	* makeinfo/makeinfo.c (add_char): Don't insert <p> if we're in
 		@@html.
d1698 7
a1704 3
	* makeinfo/html.c (add_escaped_anchor_name),
	* makeinfo/toc.c (toc_add_entry): use URL_SAFE_CHAR.
	* makeinfo/makeinfo.h (HTML_SAFE, URL_SAFE_CHAR): new macros.
d1706 2
a1707 1
Sun Jul 18 14:47:40 1999  Karl Berry  <karl@@gnu.org>
d1709 7
a1715 1
	* dir-example: Add bzip2.
d1717 7
a1723 1
	* configure.in: 3.12m.
d1725 2
a1726 1
	* doc/texinfo.txi (@@afourlatex,@@afourwide): add to command list.
d1728 2
a1729 1
1999-07-17  Eli Zaretskii  <eliz@@is.elta.co.il>
a1730 3
	* makeinfo/makeinfo.c (cm_xref): Don't collapse `` and -- while
	expanding node names.  Generate a terminating period for
	@@pxref, when it has more than a single argument.
d1732 1
a1732 2
	* makeinfo/index.c (cm_printindex): Don't collapse `` and -- while
	expanding node names.
d1734 2
a1735 1
Sat Jul 17 16:33:45 1999  Karl Berry  <karl@@gnu.org>
d1737 1
a1737 1
	* 3.12l.
d1739 3
a1741 1
	* doc/texinfo.txi: @@alias, @@definfoenclose, etc.
d1743 2
a1744 2
	* util/texindex.c (indexify): error message instead of abort(2)
 		when no page number.
d1746 1
a1746 1
Fri Jul 16 18:00:26 1999  Karl Berry  <karl@@gnu.org>
d1748 1
a1748 1
	* doc/texinfo.txi: Overfull boxes, help2man, etc.
d1750 2
a1751 3
	* util/Makefile.am (EXTRA_DIST): texi-outline.gawk is really
	outline.gawk, add fixref.gawk and prepinfo.awk and
		texi-docstring-magic.el.
d1753 2
a1754 1
Thu Jul 15 18:57:54 1999  Karl Berry  <karl@@gnu.org>
d1756 2
a1757 2
	* doc/texinfo.txi: .fmt, etc.
	* doc/texinfo.txi: More macro docs, etc.
d1759 1
a1759 1
Wed Jul 14 19:58:47 1999  Karl Berry  <karl@@gnu.org>
d1761 2
a1762 1
	* doc/texinfo.txi: Give good quote.
d1764 1
a1764 1
	* util/Makefile.am (EXTRA_DIST): add texi-outline.gawk.
d1766 4
a1769 3
	From: kama@@hippo.fido.de (Karl Heinz Marbaise)
	* makeinfo/toc.c (contents_update_html): go back to start level.
	* doc/texinfo.txi: deftypeop
d1771 1
a1771 8
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>
	* makeinfo/toc.c (toc_add_entry): don't assume sprintf return type
 		is int.
	* makeinfo/sectioning.c (insert_and_underscore): declare more
 		unsigned char *.
	* makeinfo/macro.h (itext_info, itext_size): remove declarations,
		they're defined static.
	* makeinfo/makeinfo.c: Split up help string even more.
d1773 3
a1775 1
Tue Jul 13 17:16:18 1999  Karl Berry  <karl@@gnu.org>
d1777 1
a1777 4
	* doc/texinfo.txi: Document @@rmacro.
	* makeinfo/macro.c (cm_rmacro): new command to do @@allow-recursion
 		by default.
 	(define_macro): split off from cm_macro.
d1779 2
a1780 3
	* makeinfo/macro.h (cm_rmacro): declare.
	* makeinfo/macro.h (delete_macro): do not need to export.
	* makeinfo/cmds.c (rmacro): new command.
d1782 1
a1782 4
	* makeinfo/html.c,
	* makeinfo/toc.c,
	* makeinfo/lang.c,
	* makeinfo/makeinfo.c: Use strchr instead of member.
d1784 2
a1785 1
Mon Jul 12 08:01:19 1999  Karl Berry  <karl@@gnu.org>
d1787 2
a1788 4
	* doc/texinfo.txi: document this.
	* makeinfo/macro.c (apply): warn if \ in macro body is not
		followed by a parameter name or \, instead of silently
		accepting it, for compatibility with TeX. 
d1790 1
a1790 1
	* makeinfo/macro.c: Doc fix.
d1792 1
a1792 1
Sun Jul 11 12:49:50 1999  Karl Berry  <karl@@gnu.org>
d1794 1
a1794 3
	* makeinfo/macro.c (cm_macro): do @@quote-arg implicitly if single
 		argument to macro.
	* doc/texinfo.txi: Document this.
d1796 21
a1816 4
	* doc/texinfo.txi (Smallcaps): Document makeinfo warning if arg is
 		all uppercase.
	* makeinfo/cmds.c (cm_sc): warn if arg is all upper (suggested by
 		Jim Meyering).
d1818 1
a1818 3
	* makeinfo/cmds.c (cm_var): warn if argument contains any of ,[]()
		which are unlikely to be allowable in real variable names.
		Suggested by rms.
d1820 1
a1820 1
	* makeinfo/makeinfo.h (member): remove weird masking macro.
d1822 1
a1822 1
	* doc/texinfo.txi: Probably ok to indent @@example.
d1824 1
a1824 1
	* configure.in: 3.12k.
d1826 1
a1826 2
	* makeinfo/html.c (add_escaped_anchor_name): Cast to unsigned char
		for 8-bit chars. From Yoshiki.
d1828 1
a1828 1
	* makeinfo/makeinfo.c: complain -> warn for sake of <80 chars.
d1830 4
a1833 1
1999-07-09  Eli Zaretskii  <eliz@@is.elta.co.il>
d1835 1
a1835 2
	* makeinfo/multi.c (multitable_item): Quote the value of align=
	property.
d1837 2
a1838 1
	* makeinfo/defun.c (defun_internal): Ditto.
d1840 2
a1841 1
	* makeinfo/cmds.c (cm_center): Ditto.
d1843 1
a1843 7
	* makeinfo/toc.c (toc_add_entry): New argument ANCHOR; all callers
	changed.  In HTML mode, expand NODE_NAME, or use ANCHOR, if
	non-NULL, and save it together with the TOC name in the name
	member of the TOC entry.
	(toc_add_entry, toc_find_section_of_node): Add a warning in a
	comment that the NODE argument must be unexpanded.
	(contents_update_html): Terminate the TOC entry with </a>.
d1845 2
a1846 3
	* makeinfo/sectioning.c (sectioning_html): If the sectioning
	command is outside any node, generate explicit anchor and pass it
	to toc_add_entry.
d1848 4
a1851 3
	* makeinfo/node.c (expand_node_name): Now external instead of
	static.
	(cm_node): Output expanded node name in the navigation bar.
d1853 1
a1853 1
	* makeinfo/node.h: Declare expand_node_name.
d1855 1
a1855 3
	* makeinfo/index.c (cm_printindex): Produce valid HTML links, even
	if index->node is NULL or empty.  Fix format of index under
	--no-headers.
d1857 1
a1857 1
Fri Jul  9 18:09:28 1999  Karl Berry  <karl@@gnu.org>
d1859 4
a1862 1
	* doc/texinfo.txi: Pair @@end html properly.  From Olaf B.
d1864 1
a1864 2
	* doc/Makefile.am (EXTRA_DIST): add txi-nl.tex from Marcel van der Boom
	<marcel@@virtualprojects.org>.
d1866 1
a1866 1
	* doc/txi-en.tex: Doc fix.
d1868 1
a1868 1
Wed Jul  7 16:07:44 1999  Karl Berry  <karl@@gnu.org>
d1870 2
a1871 1
	* doc/Makefile.am: Doc fix.
d1873 1
a1873 3
	* configure.in (txi_CHECK_DECLS): call this new macro (in
 		acinclude.m4).
 	* acinclude.m4: new file.
d1875 1
a1875 1
Tue Jul  6 19:12:37 1999  Karl Berry  <karl@@gnu.org>
d1877 1
a1877 5
	* makeinfo/insertion.h,
	* makeinfo/insertion.c,
	* makeinfo/cmds.c,
	* makeinfo/defun.c: new command @@deftypeop.
	Suggestion from: booth@@us.ibm.com.
d1879 1
a1879 1
1999-07-05  Eli Zaretskii  <eliz@@is.elta.co.il>
d1881 2
a1882 2
	* makeinfo/makeinfo.c (cm_value): Don't convert quotes and dashes
	in the argument of @@value, since @@set doesn't.
d1884 1
a1884 1
Mon Jul  5 16:43:23 1999  Karl Berry  <karl@@gnu.org>
d1886 1
a1886 4
	* makeinfo/insertion.c (get_item_function): return "@@ " rather
 		than "@@".	(command_needs_braces): new fn.
	(cm_item): handle @@itemize markers that don't take braces.
	Bug reported by Stephen, prototype fix from Yoshiki.
d1888 1
a1888 8
	* doc/texinfo.txi (Contents): @@contents ignored at beginning when
 		outputting to stdout.
	Installed this.
>1999-05-02  Eli Zaretskii  <eliz@@is.elta.co.il>
>	* makeinfo/toc.c (cm_contents, cm_shortcontents): If writing to
>	stdout, output the contents and short contents immediately, and
>	assign NULL to contents_filename and shortcontents_filename, so
>	that toc_update won't try to rewrite stdout.
d1890 1
d1892 2
a1893 3
	* makeinfo/sectioning.c (sectioning_html): declare starting_pos
		and ending_pos as unsigned char * since they're based on
		output_paragraph.
d1895 6
a1900 3
	* makeinfo/insertion.c: Cast output_paragraph to char * for sake
		of strncmp prototype (on IRIX 4).
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>
d1902 4
d1907 4
a1910 6
	* info/man.c (get_manpage_contents): restore previous (default)
 		SIGCHLD handler so the pclose when gunzipping info files
 		doesn't fail with `No child processes' (because
 		reap_children reaped it).
 	From: Josip Rodin <jrodin@@public.srce.hr>
 	njs@@uclink4.berkeley.edu, 38063-forwarded@@bugs.debian.org
d1912 1
a1912 1
Fri Jul  2 14:26:22 1999  Karl Berry  <karl@@gnu.org>
d1914 1
a1914 3
	From gildea:
	* info/terminal.c (TIOCGETC) [M_XENIX && TIOCGETC]: #undef.
	* info/session.c (strncasecmp) [M_XENIX]: declare.  
d1916 1
a1916 1
Thu Jul  1 19:25:12 1999  Karl Berry  <karl@@gnu.org>
d1918 1
a1918 2
	* makeinfo/makeinfo.c (cm_value): erroneous capitalization in
 		error message.
d1920 2
a1921 2
	* makeinfo/insertion.c (end_insertion): @@end html should turn html
 		escaping back on. From esr.
d1923 2
a1924 2
	* makeinfo/makeinfo.c (cm_pxref): No period needed to terminate
 		cross-reference.
d1926 5
a1930 1
Sun Jun 13 16:12:41 1999  Karl Berry  <karl@@gnu.org>
d1932 3
a1934 1
	* doc/texinfo.txi: Remove some more node links.
d1936 1
a1936 1
Sat May  1 16:01:36 1999  Karl Berry  <karl@@gnu.org>
d1938 1
a1938 1
	* info/info.c: Single space for option indent to match others.
d1940 2
a1941 3
	* makeinfo/makeinfo.c,
	* util/texindex.c,
	* util/install-info.c: Must indent option list for help2man.
d1943 2
a1944 5
	* info/infodoc.c [HELP_NODE_GETS_REGENERATED]: set to true.
	(info_internal_help_text): put moving cmds first so they know how to go
	forward in the help window.
	(create_internal_info_help_node): can't always quit help with C-x 0.
	(info_find_or_create_help_window): pass !one_window_p.
d1946 1
a1946 1
1999-04-29  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>
d1948 10
a1957 2
	* makeinfo/makeinfo.c (cm_xref): Don't collapse --- to -- etc., 
	in references.
d1959 1
a1959 1
Mon Apr 26 16:41:55 1999  Karl Berry  <karl@@gnu.org>
d1961 21
a1981 2
	* makeinfo/node.c (validate): arrange to translate the reference type.
	Report from Sergio.
d1983 1
a1983 1
	* makeinfo/makeinfo.c (validate): should not be declared here.
d1985 3
a1987 2
	* makeinfo/index.c (cm_printindex): <ul compact> is not
 		translatable.  From Yoshiki.
d1989 4
a1992 2
	* doc/Makefile.am (EXTRA_DIST): include new txi-es.tex from Adrian
 		Perez Jorge <alu1415@@csi.ull.es>.  And new txi-en.tex.
d1994 2
a1995 1
Sun Apr 25 16:08:27 1999  Karl Berry  <karl@@gnu.org>
d1997 3
a1999 1
	* makeinfo/cmds.c (cm_settitle): don't output html head here.
d2001 1
a2001 3
	* makeinfo/makeinfo.c: Move html routines to html.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add html.[ch].
	* makeinfo/html.[ch]: new files.
d2003 2
a2004 1
	* makeinfo/makeinfo.c: Restore -- in --output line.  From Sergio.
d2006 2
a2007 1
1999-04-23  Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>
d2009 1
a2009 2
	* makeinfo/cmds.c (cm_center): Recover the previous state when 
	called with --html.
d2011 8
a2018 1
1999-04-24  Eli Zaretskii  <eliz@@is.elta.co.il>
d2020 1
a2020 2
	* makeinfo/cmds.c (cm_bye): Flush the output, in case some command
	produced it immediately before @@bye.
d2022 1
a2022 1
	* makeinfo/toc.h (TOC_ENTRY_ELT): New member: containing_node.
d2024 2
a2025 9
	* makeinfo/toc.c (lots_of_stars): New variable.
	(toc_add_entry): Add a new parameter node_name; all callers
	changed.  Record the name of the node containing the section.
	(toc_find_section_of_node): New function.
	(toc_free): Free the new containing_node member.
	(contents_update_info, shortcontents_update_info): Underline the
	title with stars.  Output two empty lines after the TOC.
	(contents_update): Fix off-by-one error in writing the rest of the
	file after updating the TOC.
d2027 5
a2031 7
	* makeinfo/index.c (cm_printindex): Save and restore line_number
	and input_filename.  Don't output the "* Menu" header when
	--no-headers is in effect.  Make the fake node name for index
	entries that are outside any node be more explanatory, and emit an
	error for such index entries.  Under --no-headers, output a
	reference to the section name, as returned by a call to
	toc_find_section_of_node, instead of a node name.
d2033 7
a2039 1
1999-04-24  Eli Zaretskii  <eliz@@is.elta.co.il>
d2041 1
a2041 12
	* makeinfo/index.c (struct index_elt): Add a new member
	entry_text.
	(free_index, make_index_entries_unique): Free the entry_text
	member.
	(index_add_arg): Don't HTML-escape the index entry here.
	(index_add_arg): Initialize the entry member to NULL.  Put the
	entry text into the entry_text member.
	(sort_index): Expand the index entries as if in non-HTML mode.
	Put the expansion into the entry member of struct index_elt.
	(cm_printindex): Allocate the line[] array in Info mode only.
	In HTML mode, escape and expand the original index entry text,
	don't use the results of expansion inside sort_index.
d2043 2
a2044 2
	* makeinfo/cmds.c (cm_r): Undo the effect of @@code while printing
	one of the "code"-style indices in HTML mode.
d2046 1
a2046 1
1999-04-23  Eli Zaretskii  <eliz@@is.elta.co.il>
d2048 1
a2048 2
	* info/infomap.c (initialize_vi_like_keymaps): Bind DEL in echo
	area to ea_rubout, except for __MSDOS__.
d2050 1
a2050 4
	* doc/info-stnd.texi (Node Commands): Document that `I' only
	produces its effect for programs documented in the current Info
	file.  Tell them to invoke `I' from DIR if it doesn't work from
	current place.
d2052 2
a2053 1
Thu Apr 22 09:59:02 1999  Karl Berry  <karl@@gnu.org>
d2055 1
a2055 2
	* makeinfo/makeinfo.c,
	* info/info.c: Rewrite help string a little more.
d2057 3
a2059 2
	* doc/info-stnd.texi: Change chapter name to match node name,
		* other changes.
d2061 1
a2061 1
	* makeinfo/cmds.c (cm_bye): call discard_braces.
d2063 6
a2068 1
	* makeinfo/cmds.c (cm_settitle): output more meta and link tags.
d2070 1
a2070 1
	* configure.in (ALL_LINGUAS): add eo.
d2072 1
a2072 1
	* util/install-info.c [STRIP_DOT_EXE]: #if not #ifdef
d2074 1
a2074 1
Wed Apr 21 19:40:51 1999  Karl Berry  <karl@@gnu.org>
d2076 2
a2077 1
	* makeinfo/makeinfo.c: Doc fix.
d2079 2
a2080 4
	* makeinfo/sectioning.c (insert_and_underscore): do not output
 		html anchor here.
	* makeinfo/node.c (cm_node): do anchor at node name not sectioning
 		title.
d2082 1
a2082 1
	* makeinfo/node.c: Newlines on node lines.
d2084 3
a2086 1
Tue Apr 20 13:02:46 1999  Karl Berry  <karl@@gnu.org>
d2088 1
a2088 2
	* info/man.c (get_manpage_contents): freopen stdin and stderr to
        /dev/null rather than closing them. http://bugs.debian.org/14787
d2090 3
a2092 1
Mon Apr 19 14:12:09 1999  Karl Berry  <karl@@gnu.org>
d2094 2
a2095 3
	* doc/texinfo.txi: Document possibility of `titlepage' stuff for
		plain text output using @@ifinfo.
	Report from: Kurt Hornik <Kurt.Hornik@@ci.tuwien.ac.at>.
d2097 2
a2098 2
	* makeinfo/cmds.c: Screw that.
	* doc/texinfo.txi: Fix up frontmatter a bit.
d2100 1
a2100 2
	* dir-example: Spaces not tabs.
	* dir-example (R FAQ): add.
d2102 3
a2104 1
	* makeinfo/makeinfo.c: Lowercase makeinfo in first line.
d2106 1
a2106 2
	* doc/info.texi (The node reached...): is a @@subsection not a
 		@@subsub.
d2108 8
a2115 2
	* doc/texinfo.txi: Document option rename.
	* makeinfo/makeinfo.c: Rename option to commands-in-node-names.
d2117 2
a2118 5
	* makeinfo/index.h (index_compare_fn): declare.
	* makeinfo/index.c (index_element_compare): call through new
 		variable index_compare_fn, and set it to strcoll if
	 	@@documentlanguage was used and LANG != en.
	 	#include lang.h.
d2120 3
a2122 1
Sat Apr 17 14:46:47 1999  Karl Berry  <karl@@gnu.org>
d2124 2
a2125 6
	* makeinfo/insertion.c (current_item_function, cm_item): rewrite
 		to skip all conditionals.
 	(cm_item): use current_item_function rather than current_insertion_type
	to check what to use for @@item, so @@ifset etc. can be used around
		@@items.
	Report from: "W. L. Estes" <wlestes@@br20920.uncg.edu>.
d2127 4
a2130 2
	* makeinfo/makeinfo.c (current_insertion_type): no need to
 		declare.
d2132 10
a2141 1
	* makeinfo/makeinfo.c: Add examples to help message.
d2143 1
a2143 1
	* util/texindex.c (usage): Rearrange --help, avoid extra newline.
d2145 2
a2146 1
	* info/info.c: Sort --help in the usual place.
d2148 1
a2148 2
	* makeinfo/makeinfo.c: Reindent help message, rename
	       --expensive-validation to --commands-in-nodes.
d2150 2
a2151 1
Fri Apr 16 17:53:48 1999  Karl Berry  <karl@@gnu.org>
d2153 1
a2153 2
	* makeinfo/cmds.c (cm_ignore_arg): new routine.
	(cm_ignore_line_no_op): remove, can use cm_ignore_line.
d2155 1
a2155 1
Tue Apr 13 16:45:39 1999  Karl Berry  <karl@@gnu.org>
d2157 1
a2157 1
	* doc/info-stnd.texi: Frontmatter changes.
d2159 2
a2160 1
	* doc/info.texi: Remove advanced remark in first node.
d2162 1
a2162 1
	* doc/texinfo.txi: Texinfo.tex does macros now. From Eli.
d2164 1
a2164 1
	* doc/texinfo.txi: Document @@w{ } to produce an unbreakable space.
d2166 1
a2166 1
	* util/texi2dvi: Update from Akim, avoid Solaris ucb echo weirdness.
d2168 2
a2169 3
	* info/infodoc.c: Parenthesize function calls, don't depend on
 		gettext being there.  Report from: Doug Semler
 		<doug@@seaspace.com>.
d2171 2
a2172 1
1999-04-12  Eli Zaretskii  <eliz@@is.elta.co.il>
d2174 1
a2174 2
	* info/infomap.c (initialize_vi_like_keymaps): Initialize the echo
	are keymap *before* it is filled up with keys.
d2176 8
a2183 1
1999-04-10  Eli Zaretskii  <eliz@@is.elta.co.il>
d2185 5
a2189 2
	* makeinfo/macro.c (execute_macro): Reset the line number to where
	the macro argumenst begin, before executing its expansion.
d2191 1
a2191 4
	* makeinfo/makeinfo.c (cm_xref): Expand the name of arguments
	before writing them in HTML mode.
	(handle_menu_entry): Expand the name of the gleaned node before
	writing it in HTML mode.
d2193 3
a2195 2
	* makeinfo/sectioning.c (sectioning_html): Expand the name of the
	current node when producing the <a name=... anchor.
d2197 1
a2197 2
	* makeinfo/node.c (cm_node): Expand the name of node and its links
	before outputting them in HTML mode.
d2199 7
a2205 2
	* makeinfo/index.c (cm_printindex): Expand node names to which the
	index points.
d2207 1
a2207 4
	* makeinfo/footnote.c (cm_footnote): Call execute_string instead
	of add_word_args, since current_node needs to be expanded.  Expand
	the name of the Footnotes node before calling
	remember_node_reference.
d2209 2
a2210 3
	* makeinfo/tests/node-expand.txi: New test, for testing how node
	names are expanded in @@node, @@menu, cross-references, and
	indices.
d2212 3
a2214 4
	* makeinfo/makeinfo.c (add_char): If we output <p>, adjust the
	affected brace positions by 3, so cm_xxx functions get what they
	expect in START and END.
	(insert_html_tag): Likewise.
d2216 3
a2218 2
	* makeinfo/cmds.c (cm_sc): Remove the kludge that looks for the
	beginning of <small>, it is no longer needed.
d2220 5
a2224 3
	* makeinfo/macro.c (cm_definfoenclose): Don't stop at the first
	blank after the second comma: the blank may belong to the second
	delimiter.
d2226 1
a2226 2
	* makeinfo/tests/htmlpara.txi: New test, for the commands affected
	by the <p> output at paragraph beginning.
d2228 1
a2228 1
	* makeinfo/makeinfo.h (expensive_validation): New option.
d2230 3
a2232 2
	* makeinfo/makeinfo.c (long_options): Add expensive_validation.
	(usage): Likewise.
d2234 1
a2234 9
	* makeinfo/node.c (find_node): If NAME isn't found verbatim, try
	expanding it and every node name in tag table, before comparing
	them, but only if expensive_validation is non-zero.
	(find_node_reference): Likewise.
	(cm_node): Don't expand node name and its links here.
	(validate_file): If direct comparisons fail, try expanding the
	comparees before giving up, unless expensive_validation is zero.
	Switch the order of NODE and UP in error message about a lacking
	menu item.
d2236 1
a2236 1
1999-04-07  Eli Zaretskii  <eliz@@is.elta.co.il>
d2238 1
a2238 1
	* makeinfo/index.c (cm_printindex): Don't output "Menu" header.
d2240 3
a2242 3
	* makeinfo/node.c (get_node_token): Collapse whitespace in node
	names.
	(glean_node_from_menu, expand_node_name): Likewise.
d2244 1
a2244 2
	* info/infomap.c (initialize_vi_like_keymaps): Bind all the 256
	keys to ea_insert, like the Emacs-like case does.
d2246 2
a2247 3
	* doc/info-stnd.texi (Invoking Info): Document support for files
	compessed with bzip2, and the --vi-keys option.
	(Many places): Document key bindings under --vi-keys.
d2249 4
a2252 1
1999-04-06  Eli Zaretskii  <eliz@@is.elta.co.il>
d2254 3
a2256 19
	* info/session.c (info_last_node, info_first_node): With a numeric
	argument, go to ARGth node counting from the beginning.  Skip
	anchor tags when looking for the target node--the last tag can be
	an anchor, for example.
	(last_search_direction, last_search_case_sensitive): New
	variables.
	(last_search_for_string): Remove variable.
	(info_search_internal): Always move point by one notch before
	beginning the search, to avoid complications in repeated search
	commands.  When looking for the next node tag, skip any anchor
	tags.
	(info_search_1): Accept a 5th argument ASK_FOR_STRING, and only
	prompt for search string if it's non-zero.  All callers changed.
	Look for the COUNTth occurence of the string.
	(info_search, info_search_backward, info_search_case_sensitively):
	Set last_search_direction and last_search_case_sensitive.
	(info_search_next, info_search_previous): New commands, repeat
	last search in the same or reverse direction without prompting the
	user for the string.
d2258 1
a2258 4
	* info/infomap.c (initialize_emacs_like_keymaps): Bind `C-x n' to
	info_search_next and `C-x N' to info_search_previous.
	(initialize_vi_like_keymaps): Bind `n' to info_search_next and `N'
	to info_search_previous.
d2260 2
a2261 1
1999-04-04  Eli Zaretskii  <eliz@@is.elta.co.il>
d2263 1
a2263 2
	* makeinfo/makeinfo.c (get_rest_of_line): Don't expand non-macros,
	so that macro-expanded output will still have them.
d2265 1
a2265 1
1999-04-03  Eli Zaretskii  <eliz@@is.elta.co.il>
d2267 1
a2267 3
	* makeinfo/node.c (cm_node): Expand the node name and its links
	completely before using them, so that they could use e.g. @@value{}
	etc.
d2269 9
a2277 2
	* makeinfo/makeinfo.c (replace_with_expansion): Don't
	remember_itext if we are executing_string.
d2279 1
a2279 3
	* makeinfo/sectioning.c (sectioning_html): Remove #ifdef
	HAVE_MACROS.  Don't call me_execute_string if already
	executing_string.
d2281 2
a2282 10
	* makeinfo/toc.c (toc_add_entry): Expand macros in TOCNAME right
	here, since the macro can be later redefined.
	(contents_update_html, contents_update_info,
	shortcontents_update_html, shortcontents_update_info): Use stdio
	functions for output instead of add_word etc.
	(rewrite_top, contents_update, shortcontents_update, toc_update):
	New functions, replace the TOC placebo with the actual TOC.
	(cm_contents): Output a placebo instead of writing the TOC.
	(cm_shortcontents): Output a placebo instead of writing the short
	TOC.
d2284 1
a2284 2
	* makeinfo/makeinfo.c (convert_from_loaded_file): Call toc_update
	if appropriate.
d2286 2
a2287 3
	* makeinfo/sectioning.c (cm_top): Don't output the HTML header
	here, since the Top node might be preceeded by other commands,
	like @@contents.
d2289 1
a2289 1
	* makeinfo/cmds.c (cm_settitle): Output the HTML header here.
d2291 4
a2294 4
	* makeinfo/node.c (set_current_output_filename): New function,
	saves the name of the actual file we are now writing, including in
	the case of split-HTML output.
	(cm_node): Call it to record the name of output file.
d2296 1
a2296 2
	* makeinfo/footnote.c (free_pending_notes): Re-initialize
	current_footnote_number to 1.
d2298 5
a2302 3
	* makeinfo/index.c (index_add_arg): Remove redundant xstrdup.
	(cm_printindex): Don't free index->entry: it is freed in
	free_index, if, e.g., there's more than one file to convert.
d2304 1
a2304 1
	* makeinfo/makeinfo.c (init_internals): Call toc_free.
d2306 3
a2308 1
Mon Apr  5 16:53:33 1999  Karl Berry  <karl@@gnu.org>
d2310 1
a2310 2
	* doc/Makefile.am: Texmf_{texinfo,dvips}: dirs not files.  From
 		Kurt Hornik.
d2312 1
a2312 1
Wed Mar 31 13:50:09 1999  Karl Berry  <karl@@gnu.org>
d2314 3
a2316 1
	* Pretest 3.12h.
d2318 1
a2318 4
	* makeinfo/node.c (last_node_p): new fn.
	(split_file): call it, instead of assuming no more entries means
		no more nodes.  (Loses with anchors.)
	Report from: "Oleg S. Tihonov" <ost@@benetnash.ffke-campus.mipt.ru>.
d2320 49
a2368 2
	* makeinfo/index.c (sort_index): whether an entry is @@code or not
		depends on the element, not the index, because of synindex.
d2370 1
a2370 3
	* doc/Makefile.am (install-tex): Must use $(TEXMF), do
		$(mkinstalldirs) on tex dirs.
	From: Nathan Sidwell <nathan@@acm.org>.
d2372 2
a2373 2
	* doc/texinfo.txi: Document need for blank line before @@image if
 		you want space.
d2375 1
a2375 1
	* Install changes from Eli:
d2377 1
a2377 1
	1999-03-09  Eli Zaretskii  <eliz@@is.elta.co.il>
d2379 1
a2379 5
	* info/infodoc.c (info_internal_help_text): Remove hard-wired key
	names, use %-10s instead.
	(info_help_keys_text): New variable, holds two variants of keys
	that invoke basic commands, indexed by vi_keys_p.
	(create_internal_info_help_node): Use info_help_keys_text[].
d2381 4
a2384 2
	* info/window.c (build_message_buffer): Support more general
	format strings, like %-10.15s, %+4d etc.
d2386 1
a2386 2
	* info/infomap.c (initialize_vi_like_keymaps): Bind ESC-h, ESC-t,
	C-x LFD and C-x RET.
d2388 1
a2388 1
	1999-03-08  Eli Zaretskii  <eliz@@is.elta.co.il>
d2390 1
a2390 12
	* util/install-info.c (output_dirfile): Sort the entries and
	output them in alphabetic order.  Output each entry only in those
	sections where it belongs.
	(parse_input): New function, code moved from main.  Process
	sections and entries in a single loop, and record with each entry
	the list of sections where that entry belongs.  Record each entry
	separately, not all of them together as a single block.
	(parse_dir_file): New function, code moved from main.
	(main): Move code to parse_input and parse_dir_file.  Put the new
	entries only into sections where they belong.
	(compare_entries_text): New function, called when sorting new
	entries.
d2392 7
a2398 4
	* info/infomap.c (initialize_vi_like_keymaps): New function.  Bind
	keys a-la Less, including new functions from session.c below.
	(initialize_emacs_like_keymaps): New function, with the guts of
	initialize_info_keymaps.
d2400 1
a2400 7
	* info/session.c (info_scroll_forward, info_scroll_backward): If
	default_window_size is non-negative, use it as the default number
	of lines to scroll.
	(info_scroll_forward_set_window, info_scroll_backward_set_window,
	info_down_line, info_up_line, info_scroll_half_screen_down,
	info_scroll_half_screen_up, info_search_backward): New functions,
	for Less-like look and feel.
d2402 1
a2402 1
Tue Mar 30 16:44:53 UTC 1999 Karl Heinz Marbaise <kama@@hippo.fido.de>
d2404 2
a2405 10
        * doc/txi-de.tex:
            - added additional putwordin
        * doc/texinfo.txi:
            - changed defivar into deftypeivar
        * makeinfo/sectioning.c:
            - changed output of anchors based on problems with ie.
        * makeinfo/defun.c:
            - output in HTML mode changed to be on previous state.
        * makeinfo/insertion.c:
            - fixed up HTML output for deftypeivar.
d2407 5
a2411 1
1999-03-30  Akim Demaille  <demaille@@inf.enst.fr>
d2413 1
a2413 1
        * texi2dvi ($tmpdir): Avoid security holes.
d2415 1
a2415 1
Fri Mar 26 17:06:55 1999  Karl Berry  <karl@@gnu.org>
d2417 1
a2417 2
	* makeinfo/cmds.c (cm_exdent): rewrite to preserve blank lines.
	Bug from: "Oleg S. Tihonov" <ost@@benetnash.ffke-campus.mipt.ru>.
d2419 1
a2419 1
	* makeinfo/cmds.c (cm_exdent): arg is in `roman'.
d2421 8
a2428 1
Thu Mar 25 16:21:27 1999  Karl Berry  <karl@@gnu.org>
d2430 3
a2432 7
	* makeinfo/insertion.c,
	* makeinfo/defun.c,
	* makeinfo/insertion.h (insertion_type): add deftypeivar.
	* makeinfo/defun.h (cm_defun): declare here.
	* makeinfo/cmds.c (defun.h): include.
	* doc/texinfo.txi (deftypeivar[x]): new commands.
	* makeinfo/cmds.c (deftypeivar[x]): new commands.
d2434 1
a2434 2
	* makeinfo/cmds.c (cm_exdent): save, set and restore
 		in_fixed_width_font.
d2436 2
a2437 1
	* doc/texinfo.txi (uref): rewrite.
d2439 1
a2439 1
	* info/info.c (info_short_help): more spaces for new help2man.
d2441 1
a2441 2
	* makeinfo/node.c (cm_node): output node name in html, change
 		navbar punctuation.
d2443 1
a2443 1
	* doc/texinfo.5: Fix URL.
d2445 1
a2445 6
	* Finally installed this:
	1998-05-01  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>
	* makeinfo/makeinfo.c (convert_from_loaded_file): When the file
	contains no @@setfilename then always look for \input (not
	\include) in the first line and skip that.  Don't skip the first
	line if no \input was found.
d2447 1
a2447 1
1999-03-24  Akim Demaille  <demaille@@inf.enst.fr>
d2449 1
a2449 2
	* configure.in (AC_HEADER_STAT): Added.
	* util/texindex.c (main): Check infiles are not directories.
d2451 1
a2451 1
1999-03-24  Akim Demaille  <demaille@@inf.enst.fr>
d2453 4
a2456 2
	* texi2dvi (index_files): Don't use `!' to run sed -e "s!foo$!!"
        since the shell will interpret `$!'.
d2458 2
a2459 1
Tue Mar 23 16:41:08 1999  Karl Berry  <karl@@gnu.org>
d2461 1
a2461 2
	* doc/texinfo.txi (uref): rewrite to make HTML output read more
 		nicely.  From Tim S.
d2463 2
a2464 1
	* info/info.c (info_short_help): include examples.
d2466 1
a2466 2
	* makeinfo/makeinfo.c (close_paragraph_with_lines): move earlier
 		so can be static.
d2468 1
a2468 10
	* makeinfo/sectioning.c,
	* makeinfo/node.c,
	* makeinfo/makeinfo.h,
	* makeinfo/makeinfo.c,
	* makeinfo/macro.c,
	* makeinfo/insertion.c,
	* makeinfo/cmds.c,
	* makeinfo/files.c,
	* makeinfo/footnote.c (size_of_input_text): rename to
 		input_text_length.
d2470 1
a2470 4
	* makeinfo/makeinfo.c (cm_xref): make wrong-char-following a warning.
 	(replace_with_expansion): remove bogus conditional that was duplicated
	unconditionally.
	From: Hans-Bernhard Broeker <broeker@@physik.rwth-aachen.de>
d2472 1
a2472 1
Mon Mar 22 14:39:59 1999  Karl Berry  <karl@@gnu.org>
d2474 2
a2475 1
	* doc/Makefile.am (install-tex): parenthesize.
d2477 1
a2477 2
	* Makefile.am (dist-hook): remove, it uses hard links so we chmod
 		all our sources.
d2479 2
a2480 3
	* makeinfo/toc.c,
	* makeinfo/defun.c,
	* makeinfo/sectioning.c: Use _, not N_.
d2482 4
a2485 2
	* info/Makefile.am (ginfo_SOURCES): include $(BUILT_SOURCES)
 		explicitly.
d2487 2
a2488 2
	* makeinfo/lang.c,
	* makeinfo/lang.h: ISO-639 updates.
d2490 5
a2494 1
	* makeinfo/cmds.c: exampleindent changes.
d2496 1
a2496 2
	* info/info.c (info_short_help): reformat somewhat, and don't say
		info info options any more.
d2498 5
a2502 2
	* doc/info-stnd.texi (Invoking): make description format somewhat
 		more standard.
d2504 5
a2508 2
	* info/infomap.c (Initialize_info_keymaps): do ea_insert bindings
		first so subsequent bindings (e.g., for ESC) override.
d2510 3
a2512 1
Sun Mar 21 17:31:00 1999  Karl Berry  <karl@@gnu.org>
d2514 1
a2514 2
	* makeinfo/multi.c (output_multitable_row): remove unnecessary
	trailing whitespace from output, output blank row for blank @@item.
d2516 1
a2516 1
	* doc/texinfo.txi: Remove extra @@item in language multitable.
d2518 7
a2524 1
Sat Mar 20 12:30:25 1999  Karl Berry  <karl@@gnu.org>
d2526 1
a2526 2
	* doc/texinfo.txi: Update language table from ISO 639:
	http://www.iro.umontreal.ca/contrib/po/iso-639.  From kama.
d2528 13
a2540 1
	* doc/texinfo.txi (exampleindent): document.
d2542 2
a2543 1
	* doc/texinfo.txi (Creating an Info File): use this for the node name.
d2545 1
a2545 1
	* doc/info.texi: Make Texinfo references consistent, etc.
d2547 7
a2553 1
1999-03-18  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>
d2555 1
a2555 4
	* makeinfo/makeinfo.c (set_default_indentation_increment): new
	routine.
	* makeinfo/insertion.c (cm_exampleindent): new routine.
	Call set_default_indentation_increment.
d2557 1
a2557 1
Mon Mar 15 17:06:15 1999  Karl Berry  <karl@@gnu.org>
d2559 10
a2568 2
	* info/Makefile.am (ginfo_SOURCES): Remove doc.c and funs.h in
		hopes they then won't be distributed.  Report from Andreas.
d2570 5
a2574 3
	* makeinfo/cmds.c (cm_sp): close paragraph and disable filling to
		produce blank lines in info. 
	Report from: Michael Vanier <mvanier@@bbb.caltech.edu>.
d2576 1
a2576 1
	* doc/texinfo.txi: Attempt to get Edition info on one line.
d2578 1
a2578 3
	* makeinfo/makeinfo.h (cr_or_whitespace): use whitespace and check
 		for \r.	(skip_whitespace_and_newlines, command_char): use it.
 	Report from bonzini@@gnu.org.
d2580 2
a2581 2
	* makeinfo/cmds.c (cm_center): save and restore filling_enabled,
 		so @@center can be used inside an @@example.  Bug from kama.
d2583 1
a2583 1
1999-03-13  Eli Zaretskii  <eliz@@is.elta.co.il>
d2585 1
a2585 5
	* makeinfo/footnote.c (cm_footnote): In separate footnote style,
	generate a reference to "foo-Footnote-NN" for each footnote.
	(output_pending_notes): In separate footnote style, generate an
	anchor "foo-Footnote-NN" for each footnote, so that the link in
	the parent node would lead directly to the footnote.
d2587 2
a2588 2
	* info/footnotes.c (make_footnotes_node): Recognize the new
	"foo-Footnote-NN" style of footnote references.
d2590 3
a2592 1
1999-03-09  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>
d2594 2
a2595 2
	* configure.in (AC_OUTPUT): Remove command to create po/Makefile,
	already done by AM_GNU_GETTEXT.
d2597 1
a2597 1
Tue Mar  9 17:48:46 1999  Karl Berry  <karl@@gnu.org>
d2599 2
a2600 1
	* Makefile.am (dist-hook): make distribution directory writable.
d2602 1
a2602 1
	* Installed these changes:
d2604 5
a2608 1
  1999-03-04  Akim Demaille  <demaille@@inf.enst.fr>
d2610 1
a2610 3
	    * texi2dvi (bibtex): Allow several runs of bibtex, this can be
	    used if bibentries reference other bibentries.  Moreover, looking
	    for `Citation' in the LOG should be enough to avoid uneless runs.
d2612 3
a2614 1
  Sun Mar  7 15:15:00 1999 UTC Karl Heinz Marbaise <kama@@hippo.fido.de>
d2616 1
a2616 7
      * makeinfo/sectioning.{c,h}:
	      - using defines instead of literals.
	      - cleaned up some stylistic matters like Karl Berry
		suggested. Handling of things like:
		@@unnumbered ..
		@@section ...
		now it works correct.
d2618 5
a2622 3
      * makeinfo/toc.{c,h}
	      - addTocEntry, freeToc changed into toc_add_entry
		toc_free. stylistics changed.
d2624 1
a2624 5
      * makeinfo/iso2cht.pl,iso-639: script, table from the web.
	      - perl script converting the iso-639 table from the web
		into the appropiate files (isoenum.h, isotab.c and
		iso.texi) which can be inserted directly into
		lang.c, lang.h and texinfo.txi.
d2626 1
a2626 1
Tue Mar  9 17:47:59 1999  Karl Berry  <karl@@gnu.org>
d2628 1
a2628 1
	* configure.in: Bump to 3.12g.
d2630 1
a2630 1
Sun Mar  7 07:01:19 1999  Karl Berry  <karl@@gnu.org>
d2632 2
a2633 1
	* info/infomap.c: Don't do isprint, just bind everything.
d2635 1
a2635 1
Fri Mar  5 14:31:42 1999  Karl Berry  <karl@@gnu.org>
d2637 2
a2638 3
	* doc/texinfo.txi,
	* makeinfo/makeinfo.c: Document that --no-headers writes to stdout
 		by default.
d2640 1
a2640 3
	* doc/texinfo.txi: @@setchapternewpage doesn't change
	\bindingoffset, just headers. Recommend not including it in the
		manual source at all.
d2642 1
a2642 3
	* makeinfo/node.c (write_tag_table_internal): set
 		in_fixed_width_font while constructing this so --- doesn't
 		collapse to --, etc.  Bug report from Sergio.
d2644 1
a2644 1
	* dir-example: Add a2ps stuff.
d2646 1
a2646 1
	* info/session.c: Allow any character in search string.
d2648 5
a2652 2
	* info/infodoc.c (describe_key): don't assume non-latin1
 		characters are undefined.
d2654 2
a2655 2
	* info/infomap.c (initialize_info_keymaps): make all characters
		insertable by default in echo area.  From Eli.
d2657 1
a2657 1
	* Installed these changes:
d2659 3
a2661 1
  Wed Feb 23 22:00:00 1999  Karl Heinz Marbaise <kama@@hippo.fido.de>
d2663 3
a2665 3
      * makeinfo/sectioning.{c,h}:
	      - added to hold complete handling of sectioning
		a little step towards modularization ;-)
d2667 1
a2667 7
      * makeinfo/cmds.c:
	      - sectioning_alist moved to sectioning.c and
		added information about enumerated chapter,
		section ..., appendix or not. Everything
		which has any relationship with sectioning
		moved to sectioning.{c,h} I hope I have found
		all.
d2669 1
a2669 5
      * makeinfo/toc.{c,h}:
	      - added for complete handling of "table of contents"
		"short contents". Better ASCII only support
		(--no-headers) so no Text "Menu" is printed.
		May be we can do more.
d2671 2
a2672 3
      * makeinfo/makeinfo.{c,h}:
	      - added new command line switch --number to enumerate
		chapter, sections etc.
d2674 1
a2674 2
      * doc/texinfo.txi:
	      - --number option documented.
d2676 1
a2676 1
  1999-02-28  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>
d2678 37
a2714 3
	  * makeinfo/insertion.c (in_paragraph): New variable.
	  (cm_item): Add </p> only if <p> is open.
	  * makeinfo/makeinfo.c (handle_menu_entry): Ditto.
d2716 1
a2716 4
	  * makeinfo/insertion.c (begin_insertion),
	  * makeinfo/makeinfo.c (handle_menu_entry): If commentary 
	  precedes first menu item, put them outside of <ul>. 
	  Put <p> and </p> correctly.
d2718 2
a2719 1
  1999-02-27  Eli Zaretskii  <eliz@@is.elta.co.il>
d2721 111
a2831 1713
	  * info/info.c (info_short_help): Document --show-options and
	  --usage.

  1999-02-26  Eli Zaretskii  <eliz@@is.elta.co.il>

	  * info/makedoc.c (main) [STRIP_DOT_EXE]: Strip the .exe suffix, so
	  that doc.c says "./makedoc.c", not "./makedoc.exe.c".

	  * info/info.c (goto_invocation_p): New variable.
	  (long_options): New options --show-options and its alias --usage.
	  (main): Don't update the display until we find the first node to
	  be displayed, to avoid flushing incorrect display.  If user wants
	  to see the command-line options node right away, display whatever
	  info_intuit_options_node finds.

	  * info/session.c (info_intuit_options_node): New function, uses
	  heuristics to find the node which describes program's invocation.
	  (info_goto_invocation_node): New command, asks for a program's
	  name and displays the invocation node of that program.
	  (entry_in_menu): New function, fuzzily looks for a menu entry in a
	  node's menu.
	  (program_name_from_file_name): New function, suggests a program
	  name given a name of its Info file.
	  (info_search_in_node): Accept an additional argument: a flag to
	  search case-sensitively; all callers changed.  If case-sensitive
	  search is required, don't turn on the case-fold flag in the search
	  binding.
	  (info_search_internal): Accept an additional argument: a flag to
	  search case-sensitively; all callers changed.  Share the last
	  search string between normal and case-sensitive search commands.
	  (info_search_1): New function, with the guts that previously
	  belonged to info_search.  If the search is case-sensitive,
	  mentions that in the prompt for the search string.  If the search
	  string includes upper-case characters, searches case-sensitively.
	  (info_search): Calls info_search_1 with zero case-sensitivity
	  flag.
	  (info_search_case_sensitively): New command, calls info_search_1
	  with non-zero case-sensitivity flag.
	  (incremental_search): If the search
	  string includes upper-case characters, searches case-sensitively.

	  * info/search.c (search_backward): Fix bug in case-sensitive
	  search.

	  * info/infomap.c (initialize_info_keymaps): `-' in info window map
	  produces negative arguments.  `S' invokes case-sensitive search.
	  `O' and `I' invoke goto-invocation.

	  * doc/info-stnd.texi (Invoking Info): Document --show-options.
	  (Node Commands): Document `O', goto-invocation.
	  (Searching Commands): Document `S' and the case-sensitive search
	  when the search string includes upper-case letters.  Document `/'
	  as a synonym for `s'.
	  (Miscellaneous Commands): Document `M--' and `-'.

  1999-02-25  Eli Zaretskii  <eliz@@is.elta.co.il>

	  * info/info.c (main): Under --index-search, search indices *after*
	  following menus, so that we don't look for an index in DIR.


Wed Mar  3 17:20:07 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/cmds.c: Do not output <small> in info mode.
	From: Eli Zaretskii <eliz@@is.elta.co.il>.

	* makeinfo/insertion.c (enum_html): Remove unused var temp.
	From: Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* info/infodoc.c: Avoid translation of blank lines.

	* info/tilde.c,
	* info/man.c,
	* makeinfo/index.c (index_add_arg): avoid use of alloca.

	* info/echo-area.c: Don't pause for an additional 75 microseconds.
	Noted by Eli.
	
	* configure.in: Bump to 3.12f.

	* doc/texinfo.txi: findex enddots.  From Eli.

1999-03-01  Yoshiki Hayashi  <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* makeinfo/makeinfo.c (insert_html_tag): Add <p> when 
	paragraph is not opened.
	(sectioning_html): Call close_paragraph so that paragraph
	will be started.

1999-02-26  Akim Demaille  <demaille@@inf.enst.fr>

        * texi2dvi (get_xref_files): Take $filename_noext as $1.
        (get_xref_files): Look for $1.idx only, not *.idx.
        (get_xref_files): Look for $1.cb files (\usepackage{changebar}).
        * texi2dvi: Look for rerun requests in LOG files in addition to
        xref files comparison.
        (bibtex): Remove useless `./' (already added in
        command_line_filename).
        (filename_dir): Smarter sed expression that handles file names
        with no directory part.
        (txiversion): Removed useless () (`` already guarantee a subshell).

1999-02-25  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/multi.c (find_template_width): Fix operator precedence.

Tue Feb 23 10:35:53 1999  Karl Berry  <karl@@gnu.org>

	* dir-example: ccmode not cc-mode.  From hds.

Mon Feb 22 07:34:00 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/lang.c,
	* doc/texinfo.txi: Fix kazakhkh typo.

1999-02-21  Eli Zaretskii  <eliz@@is.elta.co.il>

	* djgpp/config.sed: Add pcterm.c to terminal.o dependencies.

1999-02-21  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/lang.c (cm_accent_generic): Emit the accent character
	only once, after the argument.

Sun Feb 21 16:36:14 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c (handle_menu_entry): new routine.
	(reader_loop): call it, allowing for comments in menus.

	* makeinfo/node.c: Rearrange functions to make static, etc.

	* doc/Makefile.am (EXTRA_DIST, install-tex): Add txi-cs and txi-no.

1999-02-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	* util/install-info.c (open_possibly_compressed_file): Output
	explicit message about empty input files.
	(insert_entry_here): Insert multiple entries in alphabetical order.

Fri Feb 19 09:13:28 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c (enum_html): new routine.
	(begin_insertion): call it.
	Based on code from: Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>.

	* lib/xexit.c (EXIT_FAILURE) [!defined EXIT_SUCCESS && VMS]: weird
		long value.
	From: Lars Hecking <lhecking@@nmrc.ucc.ie>

Thu Feb 18 16:42:10 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/node.h (remember_node_reference): decl.
	* makeinfo/makeinfo.c (find_unused_reference): dump unused decl.

1999-02-18  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/cmds.c (cm_dots, cm_enddots): Don't produce &#133; for
	HTML, as too many browsers don't support it; use "..." in a
	smaller font.
	(cm_top): Output the lang= attribute inside <html>.

	* makeinfo/node.c (cm_node): Output the lang= attribute inside
	<html>.

	* makeinfo/footnote.c (output_pending_notes): Generate <ol>
	instead of <dl compact>.  Make the text of each footnote start a
	new paragraph.

1999-02-17  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/insertion.c (cm_item): Remove <dd> when immediately
	followed by a <dt>.  Add a <br> before every <dt>, except if we
	are converting @@itemx, or in the first item after <dl>.
	(begin_insertion): Use <dl> for tables, to make it look closer to
	the Info output.  Don't output a newline after a <pre>.

1999-02-17  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (handle_variable): Don't backup input
	pointer if we hit the end of text (usually, inside
	execute_string).
	* makeinfo/insertion.c (get_item_function): Likewise.

Wed Feb 17 15:09:06 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Better indexing of space entries.

	* makeinfo/multi.c (find_template_width): new routine to really
 		parse @@multitable {...} templates.
 	(setup_multitable_parameters): call it.
	Bug report from: Sergio Pokrovskij <pok@@nbsp.nsk.su>.

	* lib/system.h (substring): declare.

	* lib/Makefile.am (libtxi_a_SOURCES): add substring.c.

	* makeinfo/defun.c: Move substring to lib.

	* util/texindex.c (tempcopy): no longer used.
      	(maketempname): make static.

	* Installed these changes:

1999-02-13  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/cmds.c (cm_acronym): New function, makes @@acronym
	produce a smaller font size in HTML mode.
	(cm_sc): Produce smaller font size in HTML mode.

	* makeinfo/footnote.c (cm_footnote): In HTML output, make the
	footnote number be a superscript; remove [] around the link.

	* makeinfo/cmds.c (cm_var_sc): Separated into two functions:
	cm_var and cm_sc, since @@var and @@sc have different effects in
	HTML output.

	* makeinfo/makeinfo.c (cm_xref, cm_inforef): Don't put "[]" around
	HTML links.

	* info/pcterm.c (DJGPP_keytab): Add translation for Alt-PgUp and
	Alt-PgDn, to support the new M-prior key.

Wed Feb 17 11:50:46 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Don't mention texi2roff so prominently.

	* makeinfo/makeinfo.c: Pass enclose_expand to remember_brace
 		rather than enclose_command.  From Eli.

	* makeinfo/macro.c (cm_alias, cm_definfoenclose): Expand macros in
		first call to get_until_in_line.  From Eli.

	* info/makedoc.c,
	* info/session.c,
	* info/man.c,
	* info/tilde.c,
	* info/info.c,
	* makeinfo/files.c,
	* makeinfo/multi.c,
	* makeinfo/node.c,
	* makeinfo/makeinfo.c: Use xexit.
	* makeinfo/makeinfo.h (NO_ERROR, FATAL, SYNTAX): remove.

	* info/terminal.c: Avoid sleep unless on sun-cmd terminal.

	* lib/xexit.c (EXIT_FAILURE) [!EXIT_FAILURE]: #define to 1 to fix
		Sony NEWS-OS 4.0C lossage.  From Akim.

	* info/infodoc.c: Translate where is doc string, underline lines
 		in help.  
	From: Trond Endrestol <trond@@agamemnon.gtf.ol.no>

	* makeinfo/cmds.c (cm_dots, cm_enddots): go back to ... and ....,
		&#133; apparently doesn't work widely enough.

Tue Feb 16 07:37:54 1999  Karl Berry  <karl@@gnu.org>

	* configure.in (ALL_LINGUAS): add de_AT.

	* util/texi2dvi: Redirect cd output to /dev/null when determining
 		txiversion.

Mon Feb 15 13:43:37 1999  Karl Berry  <karl@@gnu.org>

	* util/install-info.c,
	* util/texindex.c: Call xexit instead of exit.

	* lib/system.h (xexit): Declare.

	* lib/Makefile.am (libtxi_a_SOURCES): Add xexit.c.

	* doc/texinfo.txi: Document that @@documentencoding is used in the
 		HTML output.

	* makeinfo/cmds.c (cm_top): use document_encoding if set.
	(command_table): call cm_documentencoding instead of no-op.
	* makeinfo/lang.c (document_encoding, cm_documentencoding): define.
	* makeinfo/lang.h (document_encoding, cm_documentencoding): declare.

	* makeinfo/insertion.c: Restore </p> before <li>.

	* util/texi2dvi: If texinfo.tex version is too low for macros, use
 		makeinfo.

	* makeinfo/cmds.c (cm_center): save and restore value of
	       indented_fill, otherwise @@center within an @@enumerate (say)
	       also closes the indentation.
	Bug from: Sergio Pokrovskij <pok@@nbsp.nsk.su>.

Sun Feb 14 15:25:02 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Doc fix.

	* doc/texinfo.txi: Be enthusiastic if people want to implement
		more output formats, but use makeinfo to do the job.

	* makeinfo/index.c (index_element_compare): Use strcoll if it's
 		available.
	* configure.in: Call AC_FUNC_STRCOLL.
	* makeinfo/makeinfo.c (main): Use LC_CTYPE and LC_COLLATE
 		categories.  Suggestion from Oleg.

	* lib/system.h (setlocale) [!HAVE_SETLOCALE]: #define away.
	Suggestion from Akim.

	* doc/texinfo.txi: Document @@paragraphindent working in TeX now.

	* doc/texinfo.txi,
	* makeinfo/lang.c,
	* makeinfo/lang.h (language_code_type): abbrev changes from Oleg.

	* makeinfo/cmds.c,
	* makeinfo/node.c: Only translate `Next:', `Previous:', and `Up:',
 		not the whole href.  From Eli.

	* doc/texinfo.txi: Document that only unsplit html output is
 		supported in this release.

Sat Feb 13 17:55:30 1999  Karl Berry  <karl@@gnu.org>

	* configure.in: Check for termlib before termcap for sake of
 		Solaris (judging from less-332 configure.in) and maybe
 		HP-UX 11.

	* doc/texinfo.txi (Footnote commands): incoherency reported by Aharon.
	Language vs country fixes from Oleg.

1999-02-13  Karl Eichwalder  <ke@@gnu.franken.de>

	* makeinfo/node.c (cm_node): Tag navigation links as translatable.
	* makeinfo/cmds.c (cm_top): Ditto.

Wed Feb 10 22:00:00 1999  Karl Heinz Marbaise <kama@@hippo.fido.de>

    * makeinfo/defun.h:
            - new because we need get_base_type-function
              accessible in insertion.c

    * makeinfo/defun.c:
            - complete HTML handling of the @@def... things.

    * makeinfo/Makefile.am:
            - defun.h added as part of makeinfo.

    * makeinfo/makeinfo.c:
            - define looking_at moved into header-file, because
              we need it in defun.c

    * makeinfo/insertion.c:
            - some minor changes made to support the @@def...
              things in HTML.
    
    * makeinfo/lang.c: (cm_accent_generic)
            - bug fixed. Using umlaut (accent ...)
              would produce &A only if an umlaut follows
              an empty line.
            - bug fixed. Because things like &tilde; &grave;
              and &circ; do not exist as standalone characters
              in HTML.
            - cm_special_char now produce correct HTML for
              @@O{} and @@o{}.
            - warning using _("Text") instead "Text" (gettext).

    * makeinfo/cmds.c:
            - @@url fixed. Display the given Text.

    * doc/texinfo.txi:
            - corrected the references for @@uref, because
              they were given as "url" instead of "uref".
              @@uref has three arguments, so show them in
              command list.

Wed Feb 10 17:27:58 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Rewrite for overfull box.

Tue Feb  9 19:03:16 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Document more HTML output stuff.  Based on esr
 		changes.
	* makeinfo/macro.c,
	* makeinfo/macro.h,
	* makeinfo/makeinfo.c: Do alias and definfoenclose expansion.
  		From esr.

Mon Feb  8 14:41:07 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/cmds.c: New commands @@alias and @@definfoenclose.
	From: "Eric S. Raymond" <esr@@snark.thyrsus.com>.

	* doc/texinfo.txi: Document @@documentlanguage and
 		@@documentencoding.

	* makeinfo/cmds.c: Move accent support to lang.c.

	* makeinfo/makeinfo.c (add_char): add &nbsp; rather than an 8-bit
 		char for html.

	* makeinfo/Makefile.am (makeinfo_SOURCES): add lang.[ch].

	* doc/texinfo.txi: Be even more emphatic that @@url is not
		typically what you want.
	* doc/texinfo.txi: Document that macro calls must use empty
 		braces.

	* info/session.c: Do not translate node pointers.  From Karl E.

	* makeinfo/cmds.c (cm_dfn): Use <dfn>.  Suggestion from Eli.

Sun Feb  7 07:00:08 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Make --html imply --no-split.

	* makeinfo/cmds.c (cm_top): don't core dump if the top node has no
 		next.

	* makeinfo/makeinfo.c (replace_with_expansion): compare length
		after expansion with length of full input text before
		expansion, not just the length of the expanded text.
                Bug (contents2) reported by kama.

	* info/infodoc.c (create_internal_info_help_node): gettext calls
		to help msg strings. From Ulrich.

Fri Feb  5 17:35:13 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: set makeinfo= for latex case.

	* doc/texinfo.txi (@@deftp summary): ref Data Types node that
		actually describes it.  From kama.

Thu Feb  4 07:39:10 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Take it back.  Emacs info needs that text
 		before the CTRL-_.
	* makeinfo/makeinfo.c: Don't bother to output the header (This is
 		-, produced ...) to stdout.

	* doc/texinfo.txi (Other Info Directories): Mention that dir files
 		must be named dir.

	* makeinfo/makeinfo.c (cm_uref): implement optional third
 		argument.
	* doc/texinfo.txi (uref): document it.
	Suggestion from: Charles Karney <karney@@pppl.gov>

	* doc/Makefile.am (info_TEXINFOS): put texinfo.txi first so
		UPDATED reflects its modtime, rather than info-stnd's.

	* makeinfo/files.c (full_pathname) [!WIN32]: #endif in wrong place.
	From: Yoshiki Hayashi <g740685@@komaba.ecc.u-tokyo.ac.jp>

	* makeinfo/cmds.c (cm_url): Remove URL: from output.  It's ugly.

Wed Feb  3 16:05:03 1999  Karl Berry  <karl@@gnu.org>

	* info/infodoc.c: Doc fix, zero not oh.

	* makeinfo/makeinfo.c (add_char): don't ignore if
		only_macro_expansion, even in no_headers case.
		Otherwise menu items don't get remembered and defaulting
		doesn't work.  Macros suck!

	* util/texi2dvi (common): include orig_pwd.
	(language): reguess for each file if not explicitly set.

Tue Feb  2 16:22:32 1999  Karl Berry  <karl@@gnu.org>

	* configure.in: Bump to 3.12d now.

Mon Feb  1 14:46:45 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c (cm_item): For itemize and enumerate, do
		</p> before the <li> for html. Bug from Eli.

	* makeinfo/index.c: Installed change in index.c:
	Mon Dec 28 12:50:14 1998  Matthew Fredette  <fredette@@mit.edu>
		* makeinfo.c (index_add_arg): Use xstrdup on input_filename
		when saving it in the new index entry.

	* util/texi2dvi: cd / before cd $orig_pwd in case of DOS drive
 		change.

Sun Jan 31 16:39:01 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Used sed to expand only the @@{if,}tex parts of
	the source since makeinfo's conditional options aren't ready yet
		(from Akim).
	Also use ${1+"$@@"} for Digital Unix "$@@" expansion bug (from Noah).

	* util/install-info.c: Doc fix from Eli.

	* doc/texinfo.txi: Oops, said we looked for .png twice.

Sat Jan 30 17:18:14 1999  Karl Berry  <karl@@gnu.org>

	* info/session.c (forward_move_node_structure): remove tangled
	code to merely print words instead of numbers; too hard to translate.

	* info/session.c: Missing _'s for more i18n.  From Trond.

	* doc/Makefile.am (EXTRA_DIST): Include txi-no.tex from Trond.

Sun Jan 24 09:28:12 1999  Karl Berry  <karl@@gnu.org>

	* Makefile.am (EXTRA_DIST): Use djgpp by itself instead of listing
		each file separately (new feature in automake 1.4).

	* makeinfo/insertion.c (begin_insertion): for quotation, always
		increment current_indent even if html output, why not.
		(Otherwise must not decrement current_indent in end_insertion.)

	* doc/texinfo.txi: More overfull box fixes.

	* makeinfo/insertion.c: Add some assertions and the beginnings of
 		handling @@tex.

	* doc/texinfo.txi: Fix overfull boxes, but tables of contents at
 		the front.

	* util/texi2dvi: Can't pass --no-ifinfo --iftex to makeinfo yet,
 		it's not ready.

Sat Jan 23 10:22:16 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Pass --no-ifinfo --iftex to makeinfo.

Fri Jan 22 19:09:49 1999  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Include version.texi before @@settitle so
 		@@value{VERSION} gets expanded in the html title.  From kama.

	* These patches from Tim Singletary <talon@@clark.net>.
	* makeinfo/makeinfo.c: Simplify and improve html menus.
	* makeinfo/insertion.c (begin_insertion): simplify html menu case
 		and set had_menu_commentary.
	* makeinfo/insertion.h (had_menu_commentary): declare new global.
	* makeinfo/node.h (glean_node_from_menu): declare.
	* makeinfo/node.c (glean_node_from_menu): new arg to specify what
 		type of reference to remember as.

	Date: Sun, 29 Nov 1998 09:21:01 -0500 (EST)
	From: Tim Singletary <tsingle@@talon.clark.net>
	To: texinfo-pretest@@tug.org
	Subject: explanation of previous patches

	> These diffs introduce some non-trivial changes into very
	> sensitive parts of makeinfo, and it is hard to judge them without
	> knowing what exactly do they solve.

	At a high level, these patches fix (or at least significantly improve)
	the html conversion of menus.  Specifically, they fix bugs in the
	conversion of menu commentary and detailmenu entries.

	The menu commentary fixes require some justification:  The unpatched
	makeinfo attempts, with many bugs, to place menu commentary outside
	the <menu> by adding </ul> and <ul> tags.  While I understand the
	motivation for this, that there might be browsers that don't support
	<p> within <menu>, I'm not aware of any such browser and don't see any
	compelling reason to continue the </ul> kludge.

	Certainly
			<menu>
			<li>First paragraph.
			 <p>Second paragraph.
			<li>Second item.
			</menu>
	is valid html!

	Anyway, here's what my patches do:

	1) Deleted the `<h4>Menu</h4>' at the beginning of each menu.  Using
	   `<h4>' is wrong since menus don't usually come after an `h3'
	   header.  `<b>' looks the same on most browsers, but my opinion is
	   that there's no need for any header at all!

	2) Deleted the `<li>' kludge at the begining of each menu.  It's no
	   longer needed since I'm deleting the </ul> kludge.

	3) Replace `in_menu_para', declared static in makeinfo.c:add_char()
	   with `had_menu_commentary', declared globally.  Modified
	   insertion.c:begin_insertion() to initialize had_menu_commentary to
	   1 when beginning a menu.  Now there's enough state information for
	   menu commentary to be processed within <menu> ... </menu>; the
	   commentary can be seperated from the rest of the menu by bracketing
	   it between <p>'s.

	   Note that the first patch had a bug initializing
	   had_menu_commentary; the second patch fixes this bug.

	4) Changed the semantics of the argument to
	   node.c:glean_node_from_menu().  Previously, glean_node_from_menu()
	   only called remember_node_reference() when the argument was
	   non-zero.  But add_char() didn't call `glean_node_from_menu(1)'
	   when processing detailmenu entries.  In other words, detailmenu
	   entries didn't get registered as references, which lead to the html
	   conversion of detailmenu entries not producing proper hrefs!

	   The new semantics are that glean_node_from_menu always calls
	   remember_node_reference(), but calls it with `menu_reference' when
	   the first arg to glean_node_from_menu() is 1 and with
	   `followed_reference' otherwise.  Now, detailmenu entries get
	   registered as `followed_reference' (normal menu entries still get
	   registered as `menu_reference') and the html conversion produces
	   proper hrefs.

	5) The above changes made it possible to streamline the section of
	   add_char() that deals with html menu text.

	6) In an otherwise unrelated change, rewrote a section of
	   glean_node_from_menu to no longer use `goto save_node;'.


Thu Jan 21 12:55:42 1999  Karl Berry  <karl@@gnu.org>

	* doc/info-stnd.texi: OK, let's try restoring the @@include
 		version.texi with the new automake.

	* makeinfo/cmds.c: Improve HTML @@pounds, @@bullet, etc.

	* doc/Makefile.am (install-tex): new target.
	(EXTRA_DIST): Include txi-??.tex.
	txi-de.tex: new file from kama.

	* Makefile.am (AUTOMAKE_OPTIONS): Bump to 1.4.
	(install-tex): new target.

	* util/texi2dvi: Restore "$@@" for explicitness in main loop.

	* doc/Makefile.am (*.1) [TEXINFO_MAINT]: Conditionalize.

	* configure.in (AC_PREREQ): Bump to 2.13.
	(TEXINFO_MAINT): Define this AM_CONDITIONAL.

	* doc/texinfo.txi: Document that the HTML output name is derived
 		from @@setfilename.

	* makeinfo/makeinfo.c (convert_from_loaded_file): Use @@setfilename
		for basename of html output.

	* doc/texinfo.txi (url): Use example.org for the example.

	* makeinfo/cmds.c (cm_url): @@url should not produce a link, sorry
 		to say.

Wed Jan 20 16:31:55 1999  Karl Berry  <karl@@gnu.org>

	* util/texindex.c,
	* util/install-info.c,
	* makeinfo/makeinfo.c,
	* info/info.c: It's 1999.

	* doc/info.texi (Advanced info commands): Fix typos from Gildea.

	* makeinfo/makeinfo.c (end_of_sentence_p): don't check negative
		array offset.
	From: Enrico Scholz <enrico.scholz@@wirtschaft.tu-chemnitz.de>

Sun Jan 17 16:42:16 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Restore --batch, handle changing escape character
		more cleanly.  From Akim (as always).

Thu Jan 14 16:47:41 1999  Karl Berry  <karl@@gnu.org>

	* configure.in (ALL_LINGUAS): Add no.
	From: Trond Endrestol <trond@@agamemnon.gtf.ol.no>

	* util/texi2dvi: Doc fix from Akim and do not always exit 1 from trap.
	And it's 1999.

	* doc/texinfo.txi (image): Document imagename.pdf.

	* Apply this change from Eli:

  1998-11-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	  * makeinfo/makeinfo.h (meta_char_pos): New variable.
	  * makeinfo/makeinfo.c (init_paragraph): Initialize it.
	  (add_char): Use META to create a non-breakable space character.
	  (add_meta_char): New function.
	  (end_of_sentence_p): Don't handle characters at meta_char_pos as
	  normal sentence enders.
	  (flush_output): Only unMETA the non-breaking space character.
	  Reset meta_char_pos to zero.
	  (do_flush_right_indentation): Call adjust_braces_following.
	  (indent): Likewise.
	  (cm_value): Save and restore the value of meta_char_pos.
	  (expansion): Likewise.
	  * makeinfo/macro.c (me_execute_string_keep_state): Save and
	  restore the value of meta_char_pos.
	  * makeinfo/node.c (cm_node): Save and restore the value of
	  meta_char_pos.
	  * makeinfo/cmds.c (cm_accent): Make the dot we add due to
	  @@dotaccent be a meta-character.
	  (cm_code, cm_dfn): Call add_meta_char to insert the closing
	  quote.
	  (cm_cite): Call add_char instead of add_word.

Thu Jan  7 18:04:26 1999  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Handle pdf files more cleanly.  From Akim.

Wed Jan  6 17:49:11 1999  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c (cm_image): Check for .png also.

Sun Dec 20 07:54:47 1998  Karl Berry  <karl@@gnu.org>

	* util/texi2dvi: Add --pdf.

	* util/texi2dvi: New option -@@ to use @@input and @@nonstopmode, in
		case texinfo is preloaded.
	From: Khimenko Victor <khim@@sch57.msk.ru>
	Date: Sun, 20 Dec 1998 02:04:12 +0300 (EET)

Sat Dec 19 17:37:37 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi (Multitable Column Widths): leading zero ok for
 		@@columnfractions.

	* util/texi2dvi: New version from Akim, plus --quiet is like
 		--batch, etc.

Fri Dec 18 17:22:44 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Document that the Texinfo source can't be
	arbitrarily ordered (for print) even if all pointers are supplied.

	* makeinfo/insertion.c (end_insertion): In itemize case,
		close_insertion_paragraph so @@end itemize cause a line break.
        Report from: Sergei Pokrovsky <pok@@nbsp.nsk.su>
        Date: Sun, 22 Nov 1998 19:45:21 +0700 (GMT)

Tue Dec 15 16:21:51 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: More fixes from Oleg.

	* configure.in: Bump version to 3.12c for next pretest.

	* util/install-info.c (open_possibly_compressed_file)
		[STRIP_DOT_EXE]: logic for compression_program assignment
		was reversed.
	From: wlestes@@wlestes.uncg.edu

Sat Dec 12 18:02:48 1998  Karl Berry  <karl@@gnu.org>

	* Merged these changes from Andreas:

1998-12-06  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/node.c (cm_node): When searching for @@menu don't
	require a space after it.

1998-12-06  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/cmds.c (cm_top): free top_name only after done using it.

Sat Dec 12 15:40:13 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Various typos and fixes from Oleg.

	* doc/texinfo.txi: Move @@node's outside of @@ifinfo for the sake of
 		HTML processing.

	* doc/texinfo.txi (titlepage): @@pxref was not in parens.  From Oleg.

Sun Dec  6 16:49:09 1998  Karl Berry  <karl@@gnu.org>

	* dir-example: Amd is now am-utils.

	* doc/Makefile.am: Reinstate help2man invocations for development.

	* doc/texinfo.txi: Document @@set...contentsaftertitlepage (from kama).
	Fix incorrect sense for @@image and Hungariam typo (from Oleg).

	* lib/system.h: #include libintl.h here instead of acconfig.h, so
		the system include files have a chance to #define NULL
		before it does.
	* acconfig.h: Remove libintl.h and #defines from here.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Fri, 4 Dec 1998 00:56:25 +0100 (CET)

	* info/signals.c: Start #ifdef's in column one for cc on sysv68
		(m68k-motorola-sysv).
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Fri, 4 Dec 1998 00:56:25 +0100 (CET)

	* info/filesys.c (is_dir_name): use strcpy instead of automatic
		array initialization.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Fri, 4 Dec 1998 00:56:25 +0100 (CET)

	* configure.in (ALL_LINGUAS): add ru.

Fri Dec  4 08:12:11 1998  Karl Berry  <karl@@gnu.org>

	* info/infodoc.c: Gettextize the help buffer string.

Sun Nov 29 17:12:35 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Use @@ifnottex rather than @@ifinfo for @@top.
	(makeinfo top): document this.

	* doc/info-stnd.texi,
	* doc/info.texi: Use @@ifnottex rather than @@ifinfo for @@top.

	* makeinfo/insertion.c (cm_menu): Implicitly insert @@top command
        so we can construct the node tree as usual when we see @@menu
 	before @@node.  Probably this is when the input uses
 	@@ifinfo instead of @@ifnottex, as virtually all existing
 	manuals do.

	* makeinfo/insertion.c (discard_insertions): Let any conditional
	cross node boundary.  (So the @@top node can be wrapped
	in @@ifnottex, for example.)

	* Installed these:

1998-11-21  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (expansion): Save and restore
	last_inserted_character and last_char_was_newline.

	* makeinfo/cmds.c (cm_dircategory): Kill any indentation before
	INFO-DIR-SECTION.  install-info relies on this.

1998-11-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/multi.c (struct env): Add meta_char_pos member.
	(select_output_environment): Save and restore meta_char_pos.
	(out_char): Output characters by switching environment to #0 and
	calling insert.  Call flush_output when a newline is output.
	(output_multitable_row): Update the current environment's
	output_paragraph_offset as well, after removing trailing
	whitespace.  Fix typo in loop index.
	(do_multitable): Call close_single_paragraph.
	(end_multitable): Call close_insertion_paragraph.  Don't output
	an extra newline.

1998-11-20  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.h (meta_char_pos): New variable.
	* makeinfo/makeinfo.c (init_paragraph): Initialize it.
	(add_char): Use META to create a non-breakable space character.
	(add_meta_char): New function.
	(end_of_sentence_p): Don't handle characters at meta_char_pos as
	normal sentence enders.
	(flush_output): Only unMETA the non-breaking space character.
	Reset meta_char_pos to zero.
	(do_flush_right_indentation): Call adjust_braces_following.
	(indent): Likewise.
	(cm_value): Save and restore the value of meta_char_pos.
	(expansion): Likewise.
	* makeinfo/macro.c (me_execute_string_keep_state): Save and
	restore the value of meta_char_pos.
	* makeinfo/node.c (cm_node): Save and restore the value of
	meta_char_pos.
	* makeinfo/cmds.c (cm_accent): Make the dot we add due to
	@@dotaccent be a meta-character.
	(cm_code, cm_dfn): Call add_meta_char to insert the closing
	quote.
	(cm_cite): Call add_char instead of add_word.

Sun Nov 29 16:30:06 1998  Karl Berry  <karl@@gnu.org>

	* info/info.h,
	* info/footnotes.h (FOOTNOTE_LABEL),
	* info/indices.c (APROPOS_NONE): Use N_ rather than _.

	* info/infodoc.c (create_internal_info_help_node,
	function_documentation): Do not translate the empty string.
	Date: Fri, 25 Sep 1998 15:09:42 +0400
	From: "Oleg S. Tihonov" <tihonov@@ffke-campus.mipt.ru>

	* doc/info-stnd.texi: Mention PRIOR as another alias for
 		PREVIOUS/PageUp.

	* doc/texinfo.txi: @@emph produces _emph_ not *emph*.  Spurious
		junk before makeinfo bison example.
	From: tihonov@@ffke-campus.mipt.ru.

1998-11-16  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/defun.c (defun_internal): Don't expand the arguments to
	@@defun and its ilk.

	* makeinfo/makeinfo.c (expansion): Copy the name of the currently-
	executing command and restore it after expansion.

Sun Nov 15 17:40:51 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Rearrange usage, allow -v for verbose, only
		output `Making' line when verbose.
	* makeinfo/makeinfo.h (process_html, process_info, process_tex):
 		declare.
	* makeinfo/cmds.c: Use conditional commands.
	* makeinfo/insertion.c (find_type_from_name): Handle rawhtml and
 		rawtex.
	(conditional commands): Allow individual switching on and off.

	* makeinfo/insertion.h: Declare conditionals.

1998-11-14  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/insertion.c (begin_insertion, end_insertion): Use <pre>
	to convert @@display and @@smalldisplay into HTML.

	* makeinfo/cmds.c (cm_asterisk): Don't insert an extra newline in
	HTML mode, since input includes a newline right after the @@*.
	(cm_sp): Output "<br><p>\n" as many times as the argument says.
	(cm_url): Don't include "<a href=" in the anchor text in HTML
	output.

	* makeinfo/makeinfo.c (cm_pxref): Don't add a period after @@pxref
	if in HTML mode.
	(get_rest_of_line): Accept an additional argument EXPAND, and
	expand the rest of line if it's non-zero.  All callers changed.
	(close_paragraph): When in HTML mode, honor the formatting of the
	source paragraphs by generating "<p>" for every closed paragraph;
	follow it by as many "<p>"'s as paragraph_spacing specifies.

Sat Nov 14 17:38:27 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/insertion.c: Use <ul compact> instead of deprecated <menu>.
	Omit extra <li> after the menu beginning.

	* makeinfo/index.c: Use <ul compact> instead of deprecated <menu>.

Thu Nov 12 16:33:09 1998  Karl Berry  <karl@@gnu.org>

	* Makefile.am (EXTRA_DIST): add djgpp/config.sed.

	* info/terminal.c: #include <sys/ioctl.h> to define TIOCGWINSZ
 		under LynxOS.  From: Marius Groeger <mag@@sysgo.de>.

1998-11-06  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>

	* makeinfo/insertion.c (begin_insertion): Correctly handle
	ifnottex and ifnothtml.
	(end_insertion): Likewise.

Sun Nov  8 17:30:23 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/index.c,
	* makeinfo/insertion.c: Menu is special to Info.
	* makeinfo/node.c: Top is a special name, don't translate it.
	* info/session.c (info_top_node): Top is a special name, don't
		translate it.
	From: "Oleg S. Tihonov" <tihonov@@ffke-campus.mipt.ru>.

Fri Nov  6 17:18:43 1998  Karl Berry  <karl@@gnu.org>

	* configure.in: Version 3.12b.

	* util/texi2dvi: Fixes from Eli and Christoph Martin.

	Mon Oct  5 13:58:53 1998  Dave Glowacki  <dglo@@ssec.wisc.edu>
	* util/install-info.c: Fix off-by-one error in findlines()

	* util/texindex.c (usage): avoid trigraph until Ulrich fixes
 		po2tbl.sed.in.  From Paul Eggert.

1998-11-03  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (cm_xref): Don't bypass the test that an
	xref ends with a period or a comma if the reference has a single
	argument.

1998-10-31  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/insertion.c (end_insertion): Don't decrement
	in_fixed_width_font when leaving a menu, the previous value is
	restored by pop_insertion.

	* makeinfo/makeinfo.c (add_char): Don't increment output_column
	twice when a newline is inserted into the output.

	* doc/texinfo.txi (emph & strong): Document the use of underscores
	for @@emph in the Info output.

1998-10-30  Eli Zaretskii  <eliz@@is.elta.co.il>

	* djgpp/config.bat: Make sure intl/po2tblsed.in exists before we
	begin the configure boogie.
	* djgpp/config.sed: Sed script, to be run by config.bat.

	* doc/info-stnd.texi (Node Commands): Document the new G command.

	* info/session.c (info_follow_menus): Step over a possible leading
	space in a menu entry in menus[].
	(split_list_of_nodenames): Renamed from split_words.  Split the
	string on commas, not on spaces, since a menu entry can have
	embedded whitespace.  Get past the null byte after inserting it.
	(info_menu_sequence): Don't crash if there's no DIR node; try
	using Top of the current Info file, and if that doesn't work
	either, throw an error.

	* util/texi2dvi: Use $path_sep in TEXINPUTS.  Don't include any
	dots in $tmpdir, 8+3 filesystems won't like that.

	* makeinfo/makeinfo.c (reader_loop): Expand any macros in a menu
	entry when creating a <menu> item for HTML.  Fix an off-by-one
	error in counting input lines.

	* makeinfo/files.c (expand_filename): Don't treat .foo/bar as
	absolute file name.

	* makeinfo/makeinfo.c (add_char): Use strncpy instead of memcpy,
	since the buffers overlap.  If the line being refilled includes
	nothing but the indentation and the word being added, do NOT add
	an extra newline.

	* util/install-info.c (strip_info_suffix, menu_item_equal,
	open_possibly_compressed_file) [__MSDOS__]: Allow .inz and .igz as
	suffuxes for compressed files.
	(open_possibly_compressed_file): Return an indication whether we
	opened a file or a pipe.  Use FOPEN_RBIN from system.h.
	[STRIP_DOT_EXE]: Use gzip.exe with an explicit .exe extension.
	[O_BINARY]: If the file is not compressed, switch its stream to
	text mode.
	(readfile): Close the file or the pipe.
	(output_dirfile): Call pclose to actually run the compressor.

Thu Nov  5 08:33:06 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: effect -> affect
	From: Eric Hanchrow <offby1@@blarg.net>

Tue Nov  3 14:26:59 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c (cm_image): Allocate enough space for the
 		zero byte.

	* doc/texinfo.txi: Document epsf.tex standard location.

Tue Oct 27 10:45:47 1998  Karl Berry  <karl@@gnu.org>

	* Makefile.am (TEXINFO_TEX): add definition.

	* doc/info-stnd.texi: Avoid unnecessary overfull boxes from
 		examples.

	* doc/Makefile.am (install-data-local): missing ".

	* doc/Makefile.am: Don't try to run help2man in distribution.

Mon Oct 26 13:43:53 1998  Karl Berry  <karl@@gnu.org>

	* configure.in (TEXMF): lose this whole block.  It is too painful
		to maintain with the different tex installations out there.

	* util/Makefile.am (EXTRA_DIST): update-info renamed to
 		fix-info-dir.

	* makeinfo/footnote.h: Doc fix.

	* makeinfo/multi.c: #include "insertion.h"
	* makeinfo/cmds.c: #include "node.h"
	* makeinfo/makeinfo.h,
	* makeinfo/makeinfo.c: Move globals, functions for insertions and
 		nodes.
	* makeinfo/defun.c: #include "insertion.h"
	* makeinfo/Makefile.am: Add insertion.[ch], node.[ch].
	* node.[ch], insertion.[ch]: New files.

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h: Move globals for cmds.h.
	* makeinfo/index.h: Include cmds.h.
	* makeinfo/Makefile.am (makeinfo_SOURCES): Add cmds.h, cmds.c.
	* cmds.c, cmds.h: New files.

Sat Oct 24 17:28:14 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h: Globals for files.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add files.[ch].

Tue Oct 20 17:03:10 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/Makefile.am (makeinfo_SOURCES): add macro.c and
 		macro.h.
	* makeinfo/makeinfo.c: Move macro code to macro.h and macro.c.
	* makeinfo/makeinfo.h: Move macro stuff to macro.h, expose global
		last_char_was_newline for macro.c.
	* makeinfo/index.c,
	* makeinfo/footnote.c: #include macro.h.

Wed Oct  7 16:24:07 1998  Karl Berry  <karl@@gnu.org>

	* doc/info-stnd.texi: For now don't include version.texi due to
 		automake error.

	* makeinfo/index.h: #include makeinfo.h for sake of COMMAND type.
	* makeinfo/index.c: No need to include makeinfo.h, index.h does
 		now.

	* makeinfo/makeinfo.c: Move footnote code to footnote.c.
	* makeinfo/makeinfo.h: Globals for footnote.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add footnote.[ch].

	* makeinfo/makeinfo.c: Move defun code to defun.c, necessary
 		global to makeinfo.h.
	* makeinfo/makeinfo.h (default_indentation_increment): move here
 		for defun.c.
	* makeinfo/Makefile.am (makeinfo_SOURCES): add defun.c.

	* Makefile.am: Doc fix.

	* configure.in (AC_OUTPUT): generate makeinfo/tests/Makefile.

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h,
	* makeinfo/Makefile.am (makeinfo_SOURCES): add index.[ch].

Fri Oct  2 17:42:26 1998  Karl Berry  <karl@@gnu.org>

	* lib/system.h (STREQ): new macro.

Thu Oct  1 09:26:57 1998  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi: Delete spare copy since out of date,
	add makeinfo html to menu,
	detailmenu doesn't take braces in summary.

Wed Sep 30 14:38:21 1998  Karl Berry  <karl@@gnu.org>

	* makeinfo/makeinfo.c: Remove != NULL comparisons,
	xmalloc/xrealloc casts, assignments in if statements.

Wed Sep 30 14:16:01 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Remove NULL casts and parentheses in return
 		statements.

	* makeinfo/makeinfo.c (add_link): Don't add a link if the node is null.
 	(reader_loop): don't glean_node_from_menu if detailmenu, even if html.
	Various formatting changes.

	* doc/help2man: Always exit successfully.

	* makeinfo/Makefile.am (SUBDIRS): add.
	(makeinfo_SOURCES): no more html.h.

Fri Sep 11 18:47:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Fiddle with html output.

1998-09-07  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (maybe_update_execution_strings): Only
	reallocate TEXT if the existing storage is too small, otherwise
	leave TEXT alone.
	(replace_with_expansion): Call maybe_update_execution_strings to
	reallocate input_text if we are executing_string, since storage
	for execution_string is assumed to be large enough to hold every
	possible string.
	(me_execute_string): xstrdup the argument, so callees could freely
	relocate it as needed.

1998-09-06  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (replace_with_expansion): Don't remember
	macro-expansion pointers if we are executing_string.

1998-09-05  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/filesys.c (info_suffixes): Put the empty suffix last in the
	list, so that `foo.info' is found before `foo', if both exist.

1998-09-05  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (maybe_update_execution_strings): New
	function, updates an entry in execution_strings[] array after
	input_text is relocated by replace_with_expansion.
	(replace_with_expansion): Call it.

1998-09-04  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (expand_macro): If a macro is called with
	too many arguments, return NULL and print the line number where
	the call begins.
	(execute_macro): If expand_macro returns NULL, return
	immediately.

Sun Sep  6 19:11:28 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c,
	* makeinfo/makeinfo.h,
	* makeinfo/multi.c: Html output.  Specifically, these changes:

    Fri Jul  4 22:58:29 1997  Dave Love  <d.love@@dl.ac.uk>

	     * doc/makeinfo.texi: Document HTML output.

	     * makeinfo/makeinfo.c: Wrap strings in _() in bits changed for
	     HTML.
	     (cm_image): Generate <img> for HTML.

    Sun Jun 22 22:50:07 1997  Dave Love  <d.love@@dl.ac.uk>

	    * makeinfo/makeinfo.c (NAMED_NODE_ANCHORS): New define.
	    (title, outstanding_node, node_number, node_node_references,
	     escape_html, ifinfo_as_html): New variables.
	    (tentry.number, node_ref.number, fn.number): New fields.
	    (CommandTable): Various additions and alterations for HTML.
	    (long_options): Add html and no-info-as-html.
	    (main): Extra code for HTML.
	    (usage): Add HTML stuff.
	    (expand_filename): Deal with .html.
	    (escape_string): New procedure.
	    (convert_from_loaded_file): Extra code for HTML.
	    (init_internals): Call free_node_references, initialize
	    node_number.
	    (reader_loop): Process menu items for HTML hyperlinks.  Escape
	    HTML special characters.
	    (add_char): Code for line breaks and paragraph insertions in
	    HTML.
	    (flush_output): Don't UNMETA for HTML.
	    (indent): Do nothing for HTML.
	    (current_item_function): Case for ifhtml.
	    (begin_insertion): Deal with HTML in various cases.
	    (insert_html_tag): new procedure.
	    (cm_asterisk, cm_copyright, cm_accent, cm_code, cm_kbd,
	    cm_angle_brackets, cm_var, cm_defn, cm_var, cm_emph, cm_string,
	    cm_cite, cm_top, cm_xref, cm_inforef, cm_uref, cm_direntry,
	    cm_ifinfo, cm_item, process_defun_args, defun_internal, cm_sp,
	    cm_dircategory, cm_center, cm_result, cm_expansion, cm_error,
	    cm_exdent, index_add_arg, make_index_entries_unique,
	    cm_printindex, cm_footnote, output_pending_notes,
	    me_execute_string): Code for HTML.
	    (cm_shyph): New procedure.
	    (cm_special_char): Add start, end args.  Code for HTML.
	    (cm_email, cm_url, cm_i, cm_b, cm_r): New procedures.
	    (sectioning_html): New procedure.
	    (sectioning_underscore): Use it.
	    (add_link): New procedure.
	    (remember_node): Add number field and update node_number.  Note
	    next, etc. nodes for HTML.
	    (add_escaped_anchor_name, add_anchor_name): New procedures.
	    (cm_node): New code for HTML.  Move some other code to more
	    useful place.
	    (remember_node_reference): Add number field and update
	    node_number.
	    (remember_node_node_reference, free_node_node_references,
	    number_of_node): New procedures.
	    (cm_ifhtml, cm_html): New procedures.
	    (expansion): Take care of HTML escaping.
	    (cm_settitle): New procedure.
	    (remember_note): Set number field.

	    Declare various procedures in advance.

	* doc/texinfo.txi: Makeinfo --html documentation from Dave Love.
	Typo fixes from: Paul DuBois <dubois@@primate.wisc.edu>.

Thu Sep  3 11:11:01 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/Makefile.am (makeinfo_SOURCES): add html.[ch].

1998-08-28  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c (cm_uref, cm_email): Use get_xref_token to
	gather arguments.
	(get_xref_token): Keep track of input line number when expanding
	xref arguments.

Tue Aug 25 14:36:44 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Exit the script if TeX exits with bad status.

1998-08-16 Eli Zaretskii <eliz@@is.elta.co.il>

	* info/indices.c (info_index_apropos): In the *Apropos*
	menu, print the label first, then the Info file name and
	the node name.  Make the Info file name part of the menu
	entry, so that all entries are distinct.
	(apropos_in_all_indices): Scan each Info file only once, thus
	avoiding multiple identical entries in the *Apropos* menu.
	Free xstrdup'ed buffer, to avoid leaking memory.

Thu Aug 13 12:54:58 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Set version to 3.12a.

	* Makefile.am (AUTOMAKE_OPTIONS): bump required version to 1.3,
 		add readme-alpha option.

	* util/texindex.c (program_name),
	* util/install-info.c (progname),
	* info/info.c (program_name),
	* makeinfo/makeinfo.c (progname): hardwire per coding standards.
	* doc/help2man: Remove ginfo special case.

Tue Aug 11 17:41:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/gen-dir-node: New version from drk@@sgi.com.

Mon Aug 10 13:55:37 1998  Karl Berry  <karl@@cs.umb.edu>

	* dir-example: Add entries from Linux.

	* info/info-utils.c (get_window_of_node): New fn.
	* info/info-utils.h (get_window_of_node): New fn.
	* (strchr,...) [!HAVE_STRCHR]: remove these #defines.
	* info/infodoc.c (info_find_or_create_help_window): Call
		get_window_of_node instead of get_internal_info_window.
	This is so pressing ? repeatedly will always get to the same Help
		window instead of popping up new ones.
	From: "Brian J. Fox" <bfox@@prospero.datawave.net>

	* info/signals.c: Ignore SIGWINCH if we're in the midst of it.
	We might get a whole lot of them.  Noticed on Afterstep.
	From: "Brian J. Fox" <bfox@@prospero.datawave.net>

1998-07-25  Bruno Haible  <bruno@@linuix.math.u-bordeaux.fr>

        * install-info.c (findlines): Allocate room for one more line,
        to avoid crash if dir file has exactly 512 lines.

Tue Aug  4 07:14:35 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c: Improve help message.

	* dir-example: Add mtools.

Fri Jul 31 13:29:52 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/help2man: Various hacks for texinfo.

	* doc/texinfo.txi: Make dir entries more consistent.

	* doc/Makefile.am: Generate man pages with help2man.

	* util/texi2dvi,
	* util/install-info.c,
	* makeinfo/makeinfo.c,
	* util/texindex.c: Improve help message.

	* doc/info.5: Initial.
	* doc/texinfo.5: Section 5.

Thu Jul 30 17:31:42 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/info-stnd.texi,
	* doc/texinfo.txi: Use Automake-standard VERSION and UPDATED.

Wed Jul 29 17:34:41 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Describe macro limitations a bit more.

	* dir-example: Correct makeinfo link.

Tue Jul 28 16:44:06 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (remember_brace_1): xstrdup command, since
 		we free it later.

Mon Jul 27 16:27:30 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/session.c (node_printed_rep): New fn.
	Change calls.

	* info/session.c (info_set_node_of_window): Simplify by taking new
		argument to say whether to call
		set_remembered_pagetop_and_point.  Change calls.
	* info/indices.c: Change call.

	* info/info.c: Rewrite initial menu-sequence following stuff as a
		function in session.c, and call it.

	* info/infomap.c: Define `G' as info_menu_sequence.
	* info/session.h (info_menu_sequence, info_follow_menus): declare
 		new fns.
	* info/session.c (info_follow_menus, split_words,
		* info_menu_sequence): New functions for new command.

Thu Jul 23 16:44:42 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/session.c (info_scroll_other_window_backward): new command.
	* info/infomap.c (initialize_info_keymaps): bind M-DEL and M-prior to
	scroll-other-window-backward.
	Report from: Vladimir Alexiev <vladimir@@cs.ualberta.ca>
	Date: 	Tue, 2 Dec 1997 14:54:30 -0700

	* info/info-utils.c (printed_representation): If ISO_Latin_p, show
		characters as-is.  Don't assume iscntrl(x) returns false
		for meta characters.
        Report from: Francois Pinard <pinard@@iro.umontreal.ca>
	Date: 15 Jan 1998 17:48:51 -0500

	* info/pcterm.c (pc_initialize_terminal): now no need to set it
 		here.
	* info/info-utils.c (ISO_Latin_p): set to 1 by default.

	* doc/info-stnd.texi: Document SPC, add goto-node anchor.

Wed Jul 22 18:58:38 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/window.c (message_buffer_to_node),
	* info/session.c (kill_node),
	* info/nodes.c (info_get_node_of_file_buffer,
 		info_node_of_file_buffer_tags),
	* info/man.c (manpage_node_of_file_buffer),
	* info/footnotes.c (make_footnotes_node): set display_pos member
 		in new node.

Tue Jul 21 14:04:52 1998  Karl Berry  <karl@@cs.umb.edu>

        (all of this is to make SPC/DEL not move outside the current
	        document, i.e., not up through dir)
	* info/info-utils.h (info_label_was_found): Move from here.
	* (info_prev_label_of_node): Don't use it any more.
	* info/session.c (INFO_LABEL_WAS_FOUND): Move to here, add test
 		for filename not dir.
 	(forward_move_node_structure): Change calls, notice if no more nodes.
	(backward_move_node_structure): Check for moving outside current
	document to dir.
	* info/filesys.c (compression_suffixes): Add bz2 for bunzip2.
	(is_dir_name): New fn.
	* info/filesys.h: Declare it.
	* info/nodes.c (info_get_node, info_find_file_internal): Use it.

	* makeinfo/makeinfo.c: Set in_fixed_width_font to avoid munging
 		node names.

Sat Jul 18 17:14:10 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/man.c (reap_children): Call wait (NULL), since we don't
		actually use the return status for anything.  NEXTSTEP 3.3
		doesn't like an int * even though that is the POSIX
		specification.
	Date: Fri, 22 Aug 1997 13:55:42 +0200
	From: "Felix H. Gatzemeier" <fxg@@imib.rwth-aachen.de>
	Via: Thomas Esser <te@@informatik.uni-hannover.de>

	* info/session.c (kill_node): Restore point when we go back.

Thu Jul 16 18:54:04 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (BRACE_ELEMENT): Add `command' to the save
 		stack.
 	(MAYBE_BRACE_ARGS): New possibility, somewhat like TeX's
	  next-token-as-argument.
	(command_table): Use cm_accent and MAYBE_BRACE_ARGS for all accents.
	(read_command): Implement MAYBE_BRACE_ARGS.
	(init_brace_stack): save current command.
	(pop_and_call_brace): restore current command.
	(cm_accent): move almost all accent characters to after the argument.
	Suggested by Fran,cois.

	* info/info.c (version_string): Remove defn.
	Change call for --version option.
	* info/session.c (display_startup_message_and_start): Just use
 		VERSION.
	* info/info.h (version_string): Remove decl.

Tue Jul 14 16:46:58 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.h: Doc fix.

	* makeinfo/makeinfo.c (validate_file): Don't complain about
 		unreferenced anchors.

	* doc/texinfo.txi: Document @@anchor.

Sun Jul 12 14:14:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (remember_node): Only set `current_node' if
 		this is not an anchor.

	* info/nodes.c (get_tags_of_indirect_tags_table): Don't set
	nodelen to -1 when fixing up the subfile entries, it might be 0
	from an anchor.

	* info/nodes.c (find_node_of_anchor): Offset display_pos for
	anchor tags by the amount that node references are off by (- 1).

Sat Jul 11 17:37:18 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_anchor): Add output_column for anchors
 		embedded in a line.

Fri Jul 10 16:28:21 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/session.c (info_menu_or_ref_item): Don't search for the
		xref text if it's an anchor.
	* info/nodes.h (N_FromAnchor): New NODE flag.
	* info/nodes.c (find_node_of_anchor): New fn.
	(info_node_of_file_buffer_tags): Handle anchor case.

Wed Jul  8 17:48:59 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/window.c (window_set_node_of_window): Set window->point to
		node->display_pos.
	Remove unneeded casts.

Tue Jul  7 08:06:14 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (add_word_args) [!VA_SPRINTF]: Use buffer,
		not the undeclared temp_string.
	From:     Tobias Naehring <naehring@@eeetw3.et.tu-dresden.de>
	To:       egcs-bugs@@cygnus.com
	Date:     Mon, 6 Jul 98 13:51:55 +0200

Mon Jul  6 17:43:25 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/nodes.h (NODE): Add display_pos member.

Sun Jul  5 08:17:43 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/nodes.h (INFO_REF_LABEL): Define.

	* util/texi2dvi: Rationalize use of `index' vs. more general
 		`xref'.

Thu Jul  2 18:53:43 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Don't translate -Footnotes, it's a magic
 		cookie.  From Eli.

Wed Jul  1 08:42:41 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi (url): Missing word `command'.

Tue Jun 30 10:35:48 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c: Missing \n in try --help msg.

	* makeinfo/makeinfo.c (cm_anchor): New fn for new cmd.
	(TAG_FLAG_ANCHOR): New flag for tag entries.
	(write_tag_table_internal): Handle anchor case.
	(TAG_FLAG_{{PREV,NEXT,UP}_ERROR,NO_WARN,IS_TOP}): Add TAG_FLAG_ prefix
	for clarity, change uses.

	* doc/texinfo.txi: Remove warning about footnotes with @@item, that
 		works now.

Mon Jun 29 10:17:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (AM_CONFIG_HEADER): Use second argument to be 8.3
		compliant.
	* config.h.in: Rename to config.in.

	* info/Makefile.am (EXTRA_DIST),
	* info/terminal.c [__MSDOS__]: Change #include to pcterm.c and
		rename file.

Sun Jun 28 14:29:27 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am (EXTRA_DIST): Add pc_term.c.

	* makeinfo/makeinfo.c (HAVE_MACROS): Remove this conditional, we
 		always want macros now.

	* info/indices.c: Copyright.

1998-06-26  Eli Zaretskii  <eliz@@is.elta.co.il>

	* makeinfo/makeinfo.c: (only_macro_expansion): New variable,
	suppresses all expansions except macros.
	(replace_with_expansion): New function, replaces a portion of
	input text with its expansion.  Avoids moving the text around if
	we are positive it will expand into itself.  If the length of the
	expanded text is the same as the length of the original text, just
	replaces the original text without moving the rest.  Resyncs the
	remembered text pointers with the realloc'ed input_text, when it
	is realloc'ed.
	(reader_loop): When only_macro_expansion is non-zero, only handle
	macros, but leave the rest of input intact.
	(read_command): Now returns an int, zero means no known command or
	macro is found after the prefix character; all callers changed.
	Support operation under non-zero only_macro_expansion.
	(cm_node): Expand only the macros in the @@node line.  Allocate and
	generate the macro-expanded @@node line in one swell whoop.
	(glean_node_from_menu): Expand macros in menu entries.
	(get_xref_token): A new argument EXPAND, when non-zero, means
	expand macros in the entire brace-delimited argument before
	looking for the next comma; all callers changed.
	(expansion): Save and restore additional state variables important
	for output generation machinery.  Disable indentation and filling
	during the recursive expansion, so that the output buffer offset
	is not invalidated by filling.
	(me_execute_string_keep_state): New function, calls
	me_execute_string, but saves and restores state variables
	important for output generation, so that -E doesn't change the
	generated Info output.
	(index_add_arg, cm_footnote): Call me_execute_string_keep_state.
	(expand_macro): New function, returns the macro expansion as a
	malloc'ed string.
	(execute_macro): Call expand_macro.
	(me_execute_string): Avoid memory leak by freeing input_filename.
	(get_until_in_braces, replace_with_expansion, add_char,
	cm_footnote, cm_macro, cm_unmacro, get_brace_args,
	extract_colon_unit): Use the faster memcpy/memmove instead of
	strncpy.

Sat Jun 27 14:18:54 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/info.texi: Use @@subsubsection instead of
		@@unnumberedsubsubsection, since it's in a numbered chapter.

	* Started installation of following DOS patches from Eli.
>1998-05-16  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* info/session.c (info_goto_node): Don't show the nodes of the
>	current Info file twice in *Completions*.
>	* info/echo-area.c (ea_possible_completions): Actually pass the
>	number of completions to printf_to_message_buffer.
>
>	* info/man.c (manpage_node_of_file_buffer): xstrdup the nodename
>	member of manpage nodes, since the tags are freed and recomputed
>	when a new man page is added to *manpages* file_buffer.
>	(get_manpage_node): Recompute info_windows[]->nodes[] for all
>	windows showing the man pages after nodes[]->contents are
>	invalidated by reallocation of file_buffer->contents.
>
>1998-05-15  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* lib/system.h (DEFAULT_INFO_PRINT_COMMAND) [__MSDOS__]: Define to
>	">PRN".
>	* info/session.c (print_node): Support ">printer" in
>	INFO_PRINT_COMMAND, to mean write to the named file/device insead
>	of piping to it as a program.
>	(kill_node): Compare window in addition to the nodename, when
>	looking for the node to kill.
>
>1998-05-09  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* lib/system.h (SET_SCREEN_SIZE_HELPER) [__MSDOS__]: Define a new
>	macro.
>	* info/m-x.c (set_screen_height): Use SET_SCREEN_SIZE_HELPER, if
>	defined.  If the screen size did'n change, redisplay the previous
>	screen contents.
>
>	* info/infomap.c (initialize_info_keymaps) [__MSDOS__]: Bind DEL
>	to ea_delete in the echo-area keymap.
>	* info/session.c (incremental_search): If the key is
>	isearch_terminate_search_key, but buffered input is pending, don't
>	gobble the ESC key.
>
>	* info/info.c (main): Switch the order thet terminal_prep_terminal
>	and terminal_clear_screen are called, to make it consistent with
>	what initialize_info_session does when called with non-zero second
>	argument.  Call terminal_unprep_terminal last, after moving the
>	cursor to the bottom of the screen.  If user_filename is of the
>	form "d:foo", add "d:." to the INFOPATH, not "d:".
>
>	* info/signals.c (initialize_info_signal_handler): Save old
>	SIGUSR1 handler.
>	(info_signal_handler): Handle SIGUSR1.
>
>	* info/indices.c (info_apropos): Print the results to stdout.
>
>1998-05-02  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* makeinfo/makeinfo.c (ALSO_NULL_DEVICE): New macro, for alternate
>	null device name.
>
>	* info/man.c (get_manpage_contents): Redirect stderr of the man
>	page formatter to the null device.
>	(executable_file_in_path): Use IS_SLASH.
>
>	* info/session.c (info_gather_typeahead) [__DJGPP__]: Call
>	pc_term_chars_avail to get the number of pending characters.
>
>	* info/filesys.c (convert_eols): New function, converts DOS-style
>	EOLs to a single Newline.
>	(filesys_read_info_file, filesys_read_compressed): Call it.
>	(filesys_read_compressed) [STRIP_DOT_EXE]: Use explicit .exe
>	suffix.
>	(filesys_read_compressed): Check return status of `pclose'.
>
>1998-05-01  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* info/filesys.c (filesys_read_info_file): Add additional
>	parameter: is_compressed.  All callers changed.
>
>	* makeinfo/makeinfo.c (convert_from_loaded_file): Compare file
>	names with FILENAME_CMP.  Use NULL_DEVICE.
>	(cm_node): Compare file names with FILENAME_CMP.
>	* info/tilde.c (tilde_find_suffix, tilde_expand_word): Use
>	IS_SLASH.
>
>	* info/pc_term.c: New file, handles the PC terminal on MS-DOS and
>	MS-Windows.
>	* info/terminal.c [__MSDOS__]: Include pc_term.c.
>	* info/Makefile.in (ginfo_SOURCES): Add pc_term.c
>	Add pc_term.c to dependencies of terminal.o.
>
>	* info/session.c (info_get_input_char): Reassign tty after EOF
>	from a non-stdin input stream.
>
>1998-04-30  Eli Zaretskii  <eliz@@is.elta.co.il>
>
>	* info/session.c (info_set_input_from_file): Use binary input.
>	(info_gc_file_buffers): Compare file names with FILENAME_CMP.
>	* info/search.c (skip_whitespace_and_newlines): Use
>	whitespace_or_newline macro instead of reinventing the wheel.
>	* info/nodes.c (info_find_file_internal): Use IS_ABSOLUTE and
>	FILENAME_CMP.
>	(info_load_file_internal): Call filename_non_directory to find out
>	where the basename begins.
>	(get_tags_of_indirect_tags_table): Call filename_non_directory.
>	containing_dir of "d:foo" is "d:.", not "d:".
>	(forget_info_file): Compare file names with FILENAME_CMP.
>	* info/nodemenu.c (get_visited_nodes): Use FILENAME_CMP to find
>	duplicate lines.
>
>	* lib/system.h (PIPE_USE_FORK): New macro.
>	* info/man.c (get_manpage_contents): Use it to determine whether
>	to call pipe/fork/exec or popen/pclose to run the man page
>	formatter.
d2909 7
a2915 2699
	* doc/texinfo.txi: Changes from Eli for MS-DOS stuff.
	* doc/info-stnd.texi: Fixes from Eli: he documented all the
 		missing keys and command-line options, corrected
 		inaccuracies (probably left-overs from previous versions),
 		and added some clarifications where I thought the manual
 		was not clear enough.
	* Makefile.am (EXTRA_DIST): Add djgpp files.

	* makeinfo/makeinfo.c: New no-op commands @@setcontentsaftertitlepage
	and @@setshortcontentsaftertitlepage.
	* doc/texinfo.txi: Document the new @@set{,short}contentsaftertitlepage
	commands and the possibility of putting @@contents and
        @@shortcontents after @@end titlepage.

	* util/texi2dvi: Check that the toc file has not changed (as well
 		as .aux and .??).

Thu Jun 25 16:58:46 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document new commands @@env, @@command, @@option.

	* makeinfo/makeinfo.c (option, command, env): New markup commands, same
 		as @@code in info.

Wed Jun 24 15:39:38 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: New no-op command @@acronym.

	* doc/texinfo.txi: Document new command @@acronym.

	* util/install-info.c (strip_info_suffix, menu_item_equal): New fns.
 	(main): Call them instead of doing the filename test inline; all the
	.info variations are too confusing to write out twice.

Tue Jun 23 18:01:40 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Fix some overfull boxes.

Mon Jun 22 19:22:17 1998  Karl Berry  <karl@@north>

	* configure.in: Remove AC_LINK_FILES call, that was an old gettext
 		thing, no longer necessary, and causes problems with Autoconf.

Sun Jun 14 07:00:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Indent options so help2man will work.  From Akim.

Sat Jun 13 10:45:25 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (ALL_LINGUAS): Add nl.

	* util/texi2dvi: Avoid tabs.

Wed Jun 10 17:38:21 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (gen_defindex): Use xmalloc instead of alloca.
	This was our only use of alloca, so also remove all the #if junk
	at the beginning to define it.

	* makeinfo/makeinfo.c: Fix grammar in multiply-defined-node error
		message.

Tue Jun  9 17:53:54 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document new commands @@smallformat,
 		@@smalldisplay.

	* makeinfo/makeinfo.c: New commands @@smalldisplay and @@smallformat.
	Suggestion from: Eli Zaretskii <eliz@@is.elta.co.il>.

	* makeinfo/makeinfo.h (insertion_type, insertion_type_names):
	Declare smalldisplay and smallformat.

Mon Jun  8 07:57:52 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document possibility of combining @@titlefont
 		and @@title.  From Eli.

	* util/texi2dvi: Set verbose to : instead of false by default.

	* util/texi2dvi: Missing \\ for sed with -t text.  From Akim.

Sun Jun  7 13:02:13 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document @@pagesizes and texidvi -t.

	* makeinfo/makeinfo.c: Define no-op @@pagesizes and @@afourpaper.
	(major_version, minor_version): Remove these globals, just use the
	Texinfo package version.
	(print_version_info): Ditto.

Fri Jun  5 17:54:16 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Change texi2dvi documentation a bit.

	* util/texi2dvi: Handle --option=argument style of specifying
 		arguments.

Sat May 30 14:01:37 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: More.

	* util/install-info.c (open_possibly_compressed_file): Finish
 		implementation.

	* doc/texinfo.txi: Document install-info compression support.

Fri May 29 08:01:43 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (open_possibly_compressed_file): Initial
 		implementation.

	* util/install-info.c (output_dirfile): Attempt to write dir.gz if
 		that's what we read.
 	(readfile): Pass back the actual opened filename, too.

	* info/indices.c: Check in Eli's patch.

Thu May 28 17:09:45 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (readfile): Set up to handle compressed
	input (and output) files. Change callers.
	Rearrange function order to avoid forward declarations.

	* configure.in: Remove check for libz, we'll fork gzip instead.

Tue May 26 18:01:13 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (print_help): Missing \n\ in help string.

	* makeinfo/makeinfo.c (POST_SENTENCE): Rename from post_sentence.
  	Change calls.
	(flush_output): Strip 8th bit if post_sentence char as well as space.
	(cm_code, etc.): Change add_char calls for post_sentence chars to set
	8th bit.

1998-05-23  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/indices.c (info_next_index_match): Call
	info_set_node_of_window to display the node, so that footnotes are
	displayed as well.

Thu May 21 11:05:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c (output_dirfile): New function, extracted
 		from the end of main.

	* makeinfo/makeinfo.c (begin_insertion): Ignore @@group in all the
	example-like environments, not just @@example.  Otherwise the first
	line in the environment is not indented correctly. Reported by rms.

Wed May 20 17:44:38 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c: Doc fixes.

	* util/install-info.c: Handle XEmacs-style dir entries:
	* FILENAME::PROGRAM  DESCRIPTION.
	Date: Wed, 13 May 1998 13:58:28 +0900
	From: KIRIYAMA Kazuhiko <kiri@@kiri.toba-cmt.ac.jp>

	Also, do not set something_deleted on continuation lines; they are only
	deleted if the entry was deleted.

Tue May 19 17:22:50 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c: Do not read the dir file if we are only
	deleting -- it might not exist, and we don't actually need it.
	From: David Kaelbling <drk@@sgi.com>
	Date: Tue, 12 May 1998 11:05:26 -0400

	* util/gen-dir-node:
	From: David Kaelbling <drk@@sgi.com>
	Date: Tue, 12 May 1998 16:05:16 -0400 -
	- The "dir" moobler header is slightly different from the default
		dir file.
	- If all files in ${infofiles} appear in the skeleton the last one
 		is processed twice.
 	- INFO-DIR-SECTION data is ignored.
  	- Don't generate entries for directories.

Sat May 16 17:16:56 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_novalidate): New fn for new command
 		@@novalidate, like --no-validate.

Thu May 14 18:02:31 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document the @@novalidate command.

Wed May 13 17:47:20 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi: Document limitation on @@set/@@value names in
 		index commands.

Fri May  1 14:12:15 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi (Command List): @@deftypevar out of order.

	* configure.in (ALL_LINGUAS): Add cs.

Tue Apr 28 09:33:41 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (strcasecmp): This is in lib now.

1998-04-26 Richard Stallman <rms@@psilocin.gnu.org>

	* util/install-info.c (print_help): Doc clarifications.

Sun Apr 19 15:55:10 1998  Karl Berry  <karl@@cs.umb.edu>

	* lib/system.h (strcasecmp, strncasecmp) [!HAVE_STR[N]CASECMP]:
 		Declare these.

	* info/search.h (str[n]casecmp): Remove decl from here.

	* configure.in (AC_REPLACE_FUNCS): Check for strcasecmp and
 	strncasecmp here.
	(AC_CHECK_FUNCS): Instead of just strcasecmp here.

	* configure.in (texconfig): Use TEXMFMAIN in preference to TEXMF
 		for post-0.4 teTeX.

Wed Apr 15 17:20:31 1998  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.txi (Reporting Bugs): New section.
	Suggestion from: Andrew Shapira <shapiraa@@cs.rpi.edu>
	Date: Mon, 4 Aug 1997 19:06:06 -0400 (EDT)

	* info/infomap.c: Define / to be info_search.
	Suggestion from: Egil Kvaleberg <egil@@kvaleberg.no>
	Date: Fri, 1 Aug 1997 08:16:45 +0200 (MET DST)

	* doc/texinfo.txi (uref): Document reason for not using <URL: format.
	Also use ftp.gnu.org instead of ftp.gnu.ai.mit.edu throughout.

Tue Apr 14 10:43:39 1998  Karl Berry  <karl@@cs.umb.edu>

	1998-04-05 Karl Eichwalder <ke@@suse.de>
	* makeinfo/makeinfo.c (begin_insertion): No need to
 	gettext; it's a keyword.  From carl-friedriech.spilcke-liss@@ensae.fr.
 	(cm_printindex): ditto.

	* util/texi2dvi: Always remove the $tmp_dir's.
	From: Dean Gaudet <dgaudet@@arctic.org>
	Date: Tue, 14 Apr 1998 00:55:36 -0700 (PDT)

Mon Apr 13 18:02:57 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Include
	AM_SYS_POSIX_TERMIOS
	AM_HEADER_TIOCGWINSZ_NEEDS_SYS_IOCTL
	to avoid window resizing being ignored under glibc2 systems,
	e.g., Red Hat Linux 5.0.  Actually any system where the ioctls are not
	defined in <termios.h>.
	See also http://www-gnats.gnu.org:8080/cgi-bin/wwwgnats.pl/full/206.
	* acconfig.h (GWINSZ_IN_SYS_IOCTL): New #undef for autoheader.
	* info/termdep.h [GWINSZ_IN_SYSIOCTL]: #include <sys/ioctl> if
 		this is defined.
	From: Mark Jefferys <mjeffery@@cse.ogi.edu>
	Date: Thu, 9 Apr 1998 12:38:27 -0700 (PDT)

Fri Apr  3 01:18:22 1998  Philippe De Muyter  <phdm@@macqel.be>

	* info/info.c (main): Use 0, not NULL, as ? : alternative.

Tue Mar  3 13:29:17 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Version 3.12.

	* po/de.po: New version.

	* po/POTFILES.in: Do not include doc.c; that gets built at
	runtime, thus causing texinfo.pot to try to get rebuilt.  Besides,
	it doesn't have any translatable strings.

Sun Mar  1 10:38:47 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/install-info.c: No need for i18n on version message.  From
 		ke@@suse.de.

Fri Feb 27 16:06:23 1998  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Run texconfig conf instead of confall.

	* doc/Makefile.am (INSTALL_INFO): New variable.
	(install-info-am): Use install-info from our distribution.

	* info/info.c (info_minor_version): Increment.
	* (info_patch_level),
	* info/info.h (info_patch_level): Remove.

	* info/info.c (program_name): Move decl.

	* util/install-info.c (ensure_dirfile_exists): Use commas and \t
	 instead of an explicit tab, which make dist expands.

	* doc/texinfo.txi: @@prep.ai.mit.edu -> @@gnu.org.

	* info/info.c: Make help messages consistent with others.

	* util/install-info.c (print_help): Format consistently.

	(readfile): Support gzipped files via libz.
	From: Elliot Lee <sopwith@@redhat.com>
	Date: Mon, 1 Sep 1997 23:37:14 -0400 (EDT)

Thu Feb 26 16:13:14 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/echo-area.c: Whoops, _ might not start with parens.

	* configure.in: Check for libz.
	Do not output emacs/Makefile.

	* Makefile.am (AUTOMAKE_OPTIONS): Set to 1.2f.

	* util/texi2dvi: Always remove temporary directories. (From Akim.)
	Formatting changes.

Wed Feb 25 15:26:26 1998  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: New options --batch, --clean.
	From: Akim Demaille <demaille@@inf.enst.fr>
	Date: 15 Aug 1997 18:05:33 +0200
	* doc/texinfo.txi (Format with texi2dvi): Mention --help.

	Applied this:
1997-08-09  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (me_executing_string): New variable.
	(me_execute_string): Use it instead of executing_string.
	(popfile): Check for me_executing_string as well as
	executing_string.
	(get_until_in_line): Likewise.
	(insert_and_underscore): Do not write any expansion output if
	executing a string.
	(cm_node, cm_include, index_add_arg, cm_footnote, execute_macro,
	cm_macro, cm_unmacro): Likewise.
	(cm_footnote): Include the footnote marker in the expansion
	output.
	(append_to_expansion_output): Do nothing if the input_text wasn't
	a remembered text.
	(defun_internal): Make the index entry even if expanding macros.
	(expansion): Don't reset macro_expansion_output_stream around call
	to execute_string.
	(apply): Fix typo.

Tue Feb 24 17:33:44 1998  Karl Berry  <karl@@cs.umb.edu>

	1997-11-10 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
	* makeinfo/makeinfo.c (get_until_in_line): Don't use xstrdup on
		the unterminated input_text.

	* makeinfo/makeinfo.c: Don't assume all \'s in macro bodies are
		arguments.
	From: Mathias.Herberts@@irisa.fr (Mathias Herberts)
	Date: Tue, 6 Jan 1998 18:54:26 +0100

	* configure.in: Check for sigblock in libc before libbsd.
	* From: hjl@@lucon.org (H.J. Lu)
	* Date: Fri, 23 Jan 1998 21:50:25 -0800 (PST)

Mon Feb 23 16:26:31 1998  Karl Berry  <karl@@cs.umb.edu>

	* info/window.c (character_width): If ISO_Latin_p is set, make
		printable_limit 255, not 160.  ISO Latin 1 uses
		essentially all of the 256 characters.
	Reported by: Marius Groeger <mag@@sysgo.de>
	Date: Wed, 17 Dec 1997 16:05:27 +0100

	* info/info.c: Improve help message.

Sun Feb 22 17:38:32 1998  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am (SUBDIRS): Remove emacs; we'll just distribute the
		Elisp files with Emacs.

	* doc/Makefile.am (info_TEXINFOS, texinfo): Rename manual to
		texinfo.txi to avoid DOS filename clash with texinfo.tex.

	* info/tilde.c: Copy slightly updated alloca stuff from makeinfo.

	* util/texindex.c (main): Declare as returning int to placate
 		warnings.

	* info/Makefile.am: Uncomment BUILT_SOURCES stuff and add missing _.
	From: "Joel N. Weber II" <devnull@@gnu.org>
	Date: Fri, 30 Jan 1998 17:21:38 -1000

	* util/texindex.c,
	* util/install-info.c,
	* makeinfo/makeinfo.c,
	* info/info.c: Change help address to @@gnu.org.

	1998-01-22 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
	* makeinfo/makeinfo.c (usage): Fix order of arguments to help
		format string.

	* makeinfo/makeinfo.c (cm_top): Error message wording.

	* doc/texinfo.texi (Functions in Typed Languages): Remove
		duplicate description of @@deftypemethod.
	From: KHMarbaise@@p69.ks.fido.de (Karl Heinz Marbaise)
	Date: Wed, 07 Jan 1998 11:11:50 +0100

	* info/session.c (info_get_input_char) [EINTR]: Keep reading if we
		get EINTR.
	From: Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
	Date: 22 Dec 1997 10:32:53 +0100

Sat Feb 21 17:41:26 1998  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (find_and_load): Malloc enough room for the
		null as well as the newline.
	From: "John W. Eaton" <jwe@@bevo.che.wisc.edu>
	Date: Tue, 30 Sep 1997 21:12:01 -0500

	* util/texindex.c (--version),
	* makeinfo/makeinfo.c (cm_today),
	* makeinfo/makeinfo.c (print_version_info): Version strings etc. do not
		need translation.
	From: Karl Eichwalder <ke@@suse.de>
	Date: 13 Sep 1997 16:20:02 +0200

	* info/echo-area.c: Rewrite pluralization to be translatable.
	From: Karl Eichwalder <ke@@suse.de>
	Date: 13 Sep 1997 16:20:02 +0200

	* util/texindex.c,
	* info/info.c,
	* makeinfo/makeinfo.c,
	* util/install-info.c: --version: Give year as argument to printf,
		to reduce the number of translations needed.
	From: Ulrich Drepper <drepper@@ipd.info.uni-karlsruhe.de>
	Date: 02 Sep 1997 18:01:26 +0200

	* util/texindex.c: Remove the fnctl.h and sys/file.h conditional #includes, they are
	already in lib/system.h.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Thu, 21 Aug 1997 20:16:49 +0200 (MET DST)

	* info/terminal.c (terminal_begin_using_terminal,
 	  terminal_end_using_terminal): #ifdef SIGWINCH settings for
	 	  m68k-motorola-sysv.
	From: "Philippe De Muyter" <phdm@@macqel.be>
	Date: Thu, 21 Aug 1997 20:16:49 +0200 (MET DST)

	* info/filesys.c (info_suffixes): Add /index as a possibility for
		subdirectories.
	From: Matthew Wilcox <willy@@odie.barnet.ac.uk>
	Date: Wed, 6 Aug 1997 15:55:16 +0100 (BST)

	* configure.in: Redirect texconfig input from /dev/null to avoid
		stoppage.
	From: Thomas Esser <te@@informatik.uni-hannover.de>
	Date: Mon, 4 Aug 1997 18:15:49 +0200

	* makeinfo/makeinfo.c (find_and_load): Null-terminate the input text.
	From: Kenneth Stailey <kstailey@@disclosure.com>.

	* info/Makefile.am (INCLUDES): Add -I.. -I$(srcdir).

Fri Aug 22 16:24:59 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Adjust ISBN, edition number for print run.

Mon Aug  4 16:12:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c (main) [INFODIR]: Add this to infopath, if set.
	* info/Makefile.am (DEFS): New define, include -DINFODIR.
	From: Larry Schwimmer <rosebud@@cyclone.Stanford.EDU>.

	* util/install-info.c (ensure_dirfile_exists): Use tabs instead of
 		spaces on the File: dir line.
 	Bug from: Dave Love <d.love@@dl.ac.uk>.

Sat Aug  2 12:43:57 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_value, cm_email, cm_uref): Have to cast
 		from unsigned char * to char * or IRIX cc complains.
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>.

Fri Aug  1 14:05:10 1997  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am (EXTRA_DIST): Remove README-alpha.
	From: "ir. Mark M._Kettenis" <kettenis@@phys.uva.nl>.

1997-07-31 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>

	* configure.in: Use AC_CHECK_HEADERS, not AC_CHECK_HEADER.

Thu Jul 31 11:57:46 1997  Karl Berry  <karl@@cs.umb.edu>

	*  Version 3.11.

	* info/man.c (reap_children): Declare status as int, not unsigned,
		since that's what POSIX says the arg to wait should be.

	* makeinfo/makeinfo.c (cm_uref, cm_email): Rewrite to do macro
 		expansion in the arguments.

	* makeinfo/makeinfo.c (main): setlocale LC_MESSAGES and LC_TIME,
		instead of LC_ALL.
	From: Akim Demaille <demaille@@inf.enst.fr>.

	* makeinfo/makeinfo.c (cm_today): Let the %d %s %d be translated,
		so other languages can change the order of day/month/year.
	From: Akim Demaille <demaille@@inf.enst.fr>.

	* info/infomap.c: Doc fix.

	* lib/system.h [!O_RDONLY]: Prefer <fcntl.h> to <sys/fcntl.h>.

	* configure.in (AC_CHECK_HEADERS): Check for fcntl.h.

	* doc/Makefile.am (install-data-local): Suggest tex/generic/dvips
		for epsf.tex.
	From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

	* configure.in (TEXMF): Move check to block with other program
 		checks.

Wed Jul 30 11:20:37 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (defun_internal): Allow extra text after
		most @@def... commands, for tzname[2] in libc.texinfo.

	* info/info.c: Include indices.h.
	* configure.in (AC_CHECK_HEADERS): Test for sys/wait.h, info/man.c
 		uses it.
	From: Erick Branderhorst <Erick.Branderhorst@@asml.nl>.

Tue Jul 29 15:55:19 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Version 3.9j.

	* info/terminal.c (output_character_function): Return int (the
 		arg), not void.

	* info/infomap.c: Don't define term_kP as 'v', since that's undefined.
	From: Tom Hageman <tom@@basil.icce.rug.nl>.

	* makeinfo/makeinfo.c: Parameterize some messages to avoid
 		duplicate translations.

	* info/terminal.c: Only try to declare ospeed, PC, tputs, etc. if
		we don't have <ncurses.h/termcap.h> or <termcap.h>.

	* makeinfo/makeinfo.c (cm_email): New function, like cm_uref.

Sun Jul 27 17:09:20 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Only check for <ncurses/termcap.h> if we're using
		-lncurses.
	From: Bo Johansson <bo.johansson@@mbox2.swipnet.se>.

	* info/dir.c (new_dir_file_p): Avoid automatic struct
		initialization, SunOS 4 etc. cc can't handle it.
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>.

Sat Jul 26 15:08:13 1997  Karl Berry  <karl@@cs.umb.edu>

	* Version 3.9i.

	* configure.in: Check for termcap.h and ncurses/termcap.h.
	From: bo.johansson@@mbox2.swipnet.se.

Fri Jul 25 14:09:05 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document new second optional arg to email.

	* info/infodoc.c: Document CTRL-x 0 as the way to get out of help.

	* info/dir.c (maybe_build_dir_node): Really check for the same dir
		file twice, not just by name.
	(new_dir_file_p): New function.

	* util/install-info.c: Tell them about --help in doc strings.

Thu Jul 24 14:25:44 1997  Karl Berry  <karl@@cs.umb.edu>

	* util/texindex.c (memory_error): Move to avoid incorrect implicit
 		decl.

	* makeinfo/makeinfo.c,
	* makeinfo/multi.c,
	* util/install-info.c,
	* util/texindex.c,
	* info/tilde.c,
	* info/man.c,
	* info/gc.c,
	* info/session.c (info_replace_key_to_typeahead): Remove unused
         function,
	* info/nodemenu.c,
	* info/man.c,
	* info/m-x.c,
	* info/footnotes.c
	* info/info.c
	* info/indices.c,
	* info/filesys.c: Parenthesize to avoid -Wall warnings
	remove unused variables,
	make return types explicit,
	printf type corrections.

	* lib/system.h: <ctype.h>: Include this.
	* util/texindex.c,
	* makeinfo/makeinfo.c,
	* info/echo-area.c,
	* info/display.c: ctype.h: Included in system.h now.

	* info/echo-area.c: Parenthesize to avoid -Wall warnings.
        (ctype.h): #include for isprint.
	(echo_area_stack_depth): Remove unused function.
	* info/display.c: Parenthesize to avoid -Wall warnings.
        (ctype.h): #include for isprint.
	* info/dir.c: Parenthesize to avoid -Wall warnings.
	(build_dir_node_internal): Remove declaration of nonexistent function.
	From: Erick Branderhorst <Erick.Branderhorst@@asml.nl>.

	* configure.in (TEXMF): Call texconfig to discover the default value,
	for the sake of the warning in doc/Makefile.
	From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

	* doc/Makefile.am (TEXMF): New variable.
        (install-data-local): Use it in warning.
	From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

	* info/session.c (initialize_info_session): Only call
	terminal_prep_terminal if clear_screen is true.  Otherwise, failed
        --index-searches prep the terminal but do not unprep it.
	From: William Edward Webber <wew@@yallara.cs.rmit.EDU.AU>.

	* info/nodemenu.c: Doc fix.

Mon Jul 21 17:11:09 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Comment out @@smallbook and @@set smallbook so
 		people at other sites can print it the way they want.
	From: Thomas Walter <walter@@pctc.chemie.uni-erlangen.de>

Sun Jul 20 07:52:25 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: 3.9h.

	* doc/Makefile.am (install-info-am, distclean-aminfo): New targets
		to avoid assuming info files are in srcdir.

	* lib/system.h (xstrdup): Returns char *, not void *.

	* doc/Makefile.am (.texi.info),
	* doc/Makefile.am (texinfo): Don't run in $(srcdir).

	* util/install-info.c (main): Remove unnecessary decl of strrchr.

	* info/tilde.c: Include info.h (for config.h) before alloca stuff.

	* makeinfo/makeinfo.c (validate_file): Rename `valid' to `valid_p'
		to avoid conflict with SunOS 4 header files.
	From: "Kaveh R. Ghazi" <ghazi@@caip.rutgers.edu>.

	* info/session.c (initialize_info_session): Call
          terminal_prep_terminal here (before calling terminal_clear_screen).
	(info_session): Instead of here.
	From: William Edward Webber <wew@@yallara.cs.rmit.EDU.AU>.

	* Makefile.am (EXTRA_DIST): Add README-alpha.

Sat Jul 19 13:50:27 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/terminal.c: Use `keypad transmit' sequence if it's defined:
	(term_keypad_on, term_keypad_off): New statics.
	(terminal_begin_using_terminal): If term_keypad_on, send it.
	(terminal_end_using_terminal): If term_keypad_off, send it.
	(terminal_initialize_terminal): Look up ks and ke termcap strings.
	From: William Edward Webber <wew@@yallara.cs.rmit.EDU.AU>.

	* info/infomap.c (initialize_info_keymaps): Initialize hardwired
 		cases for arrow keys a la readline.  Found by John Eaton,
 		jwe@@bevo.che.wisc.edu.

	* makeinfo/makeinfo.c (output_pending_notes): Remove footnote
        macro expansion code I #if 0'd out some time ago.  And doc fixes.

	* Applied this patch:

Sat Jul 19 16:29:01 1997  Karl Eichwalder  <ke@@suse.de>

	* info/info.c (main): setlocale, bindtextdomain, and textdomain.

Fri Jul 18 10:02:18 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/Makefile.am (install-data-local),
	* emacs/Makefile.am (install-data-local): Give subdir in warning.

	* configure.in: Version 3.9f.

	* doc/texinfo.texi: Correct \^ to @@^.
	From Andreas S.

	* Merged these changes:

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/display.c (display_cursor_at_point): Flush ouput.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/session.c (remember_window_and_node): Don't crash when the
	current window has no current node.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* util/texindex.c (usage): Translate the doc strings.
	* makeinfo/makeinfo.c (cm_today): Translate the month names.
	* info/variables.c (describe_variable): Translate the doc strings.
	* info/nodes.h: Don't translate the strings defining the info format.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (get_item_function): Remove superfluous call
	to canon_white after get_rest_of_line.
	(cm_end): Likewise.
	(handle_variable): Likewise.
	(cm_item): Likewise.
	(cm_unmacro): Likewise.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/nodemenu.c (list_visited_nodes): Don't clear the internal
	flag, this and other functions depend on it.  Don't insist on
	displaying the menu below the current window.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (cm_uref): Fix memory leaks.
	(cm_inforef): Likewise.  Handle empty cross reference name.

1997-07-17  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* info/echo-area.c (ea_possible_completions): Check that the
	current window can actually be split.

Thu Jul 17 17:19:34 1997  Karl Berry  <karl@@cs.umb.edu>


	* emacs/Makefile.am (*clean-lisp): Define, as Automake didn't.
	From: Kenneth Stailey <kstailey@@disclosure.com>.

	* doc/Makefile.am: Do not distribute info.1.
	* makeinfo/macros: Do not distribute this directory, it's merged
		into the main documentation.
	* doc/makeinfo.texi: Don't distribute this either, it's in the
		main manual.

	* util/install-info.c: Use \n\ for multiline string constant.
  		From: Tim Mooney <mooney@@dogbert.cc.ndsu.NoDak.edu>.

Wed Jul 16 15:29:50 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: @@set must be after @@setfilename, I guess.
	Noted by Erick Branderhorst.

	* Applied this change:

Tue Nov 12 22:20:22 1996  John Eaton  <jwe@@bevo.che.wisc.edu>

	* makeinfo.c (INDEX_ALIST): Use two indices, read_index and
	write_index, instead of just one.
	(find_index_offset): If a match is found, return index to the
	current INDEX_ALIST struct, not the index pointing to the list of
	index entries.
	(translate_index): Return read_index from the matching
	INDEX_ALIST.
	(undefindex): Delete the list of index elements pointed to by
	read_index from the INDEX_ALIST that matches name.
	(defindex): Initialize read_index and write_index.
	(index_add_arg): Add entries to the list pointed to by write_index
	from the INDEX_ALIST matching name.
	(index_append): Delete unused function.
	(cm_synindex): Don't merge indcies, just make the write_index for
	redirectee the same as the write_index for redirector.

Tue Jul 15 09:32:04 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Bump edition number for 2.24.

	* util/Makefile.am (localedir): Define.

	* info/window.h: Rename __window__ to window_struct.

	* info/window.h,
	* info/variables.h,
	* info/search.h,
	* info/man.h,
	* info/info-utils.h,
	* info/gc.h,
	* info/footnotes.h,
	* info/filesys.h,
	* info/echo-area.h,
	* info/display.h: Avoid leading _ in #define for #include protection.

	* makeinfo/makeinfo.c: Version 1.68.
	* info/info.c: Version 2.17.

	* Most all files: Untabify.

	* doc/Makefile.am (texinfo): Add explicit target.

	* emacs/Makefile.am (noinst_LISP): Remove the obsolete
		detexinfo.el (makeinfo --no-headers is better) and
	        texnfo-tex.el (now handled by TeX modes in general).

Mon Jul 14 15:21:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Update RCS file from 3.9 distribution.

	* util/Makefile.am (EXTRA_DIST): Add update-info, from
 		rhawes@@dmapub.dma.org

Sun Jul 13 17:05:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/signals.c: Use RETSIGTYPE instead of hardwiring void.
	From: "Jeffery L. JT Vogt" <lfm@@atw.earthreach.com>.

	* info/session.c (info_history_node): Rewrite as
  	      info_kill_node (current_node).
        (kill_node, read_nodename_to_kill): New functions from info_kill_node.
	(info_kill_node): Now this just calls them.

Fri Jul 11 11:56:58 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Fix `Conditionals' xref.

Thu Jul 10 17:58:12 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/info.texi: Don't say SPC clears ? screen.

Sun Jul  6 16:26:41 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/info-stnd.texi: Document --index-search.

	* info/tilde.c,
	* info/session.c: Remove redundant getenv decl.

	* Installed following change:
Tue Nov 12 14:44:00 1996  John W. Eaton  <jwe@@bevo.che.wisc.edu>

	* info/info.c (main): Handle new option, --index-search STRING.
	(index_search_p, index_search_string): New static variables, used
	to handle --index-search option.

	* info/session.c (initialize_info_session): New arg,
	clear_screen.  Change all callers.

	* info/indices.h (do_info_index_search, index_intry_exists):
	Provide declarations here.

	* info/indices.c (do_info_index_search): New function, extracted
	from info_index_search.
	(info_index_search): Simply call do_info_index_search() with
	search_string set to NULL.
	(index_entry_exists): New function.

Sat Jul  5 17:17:14 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document @@kbdinputstyle.

	* makeinfo/makeinfo.c (kbdinputstyle): New command.
	(cm_no_op_line_arg): New function.

	* info/termdep.h (HAVE_TERMIOS_H) [NeXT]: #undef.
	From: Gregor Hoffleit <flight@@mathi.uni-heidelberg.de> et al.

Fri Jul  4 14:18:08 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am (EXTRA_DIST),
	* util/Makefile.am (EXTRA_DIST),
	* makeinfo/Makefile.am (EXTRA_DIST),
	* lib/Makefile.am (EXTRA_DIST): Include README.

	* doc/texinfo.texi (makeinfo options): Document --paragraph-indent
 		values more completely.
	* makeinfo/makeinfo.c (set_paragraph_indent): Allow translated
 		asis or none, improve doc.
 	From ke.

	* doc/Makefile.am (dist-info): New empty target so that we do not
 		distribute info files.
 	From Erick Branderhorst.

	* doc/texinfo.texi (Invoking install-info): Document that the dir
		file is created now if need be.
	* Makefile.am (EXTRA_DIST): No longer need dir.
	* util/install-info.c (ensure_dirfile_exists): New routine.
	(main): Call it before trying to open dirfile for reading.

	* doc/texinfo.texi: Document install-info --delete a little better.
	* util/install-info.c: Set something_deleted when we delete a
 		normal line.
	Bug from: Denis Kosygin <dkosygin@@math.Princeton.EDU>.

	* util/install-info.c: If no info dir entry, give warning and exit 0.

Wed Jul  2 06:35:17 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (ALL_LINGUAS): Add fr.

	* makeinfo/makeinfo.h (insertion_type, insertion_type_names): Add
		ifnot... entries. Alphabetize.

Tue Jul  1 17:21:54 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (sort_index): Set defining_line and
		input_filename so errors in index entries are reported at
		the correct location.  From rms.

	* makeinfo/makeinfo.c (cm_ifnothtml, etc.): Routines for new
 		commands.

Sun Jun 29 09:44:01 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document new @@ifnot... commands, etc.
	* doc/texinfo.texi: Document @@image, etc.

Thu Jun 26 17:57:37 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_image): New routine for new command @@image.
	(cm_end): Move to better place, doesn't need its own page.
	Doc fixes.

Mon Jun 23 16:54:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am (SUBDIRS): Do intl first.

	* doc/Makefile.am (EXTRA_DIST): Include epsf.tex.
	(install-data-local): Suggest possible installation directory.
	* epsf.tex: New file.

Wed Jun 18 17:51:52 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Document texinfo.cnf.

Sun Jun 15 14:37:58 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (Command List): Various commands missing or
		erroneous.
	From: Karl_Heinz_Marbaise@@p69.ks.fido.de.

	* makeinfo/makeinfo.c: Oops, failed to break out of loop.

	* util/texindex.c: Use <getopt.h> not "getopt.h".

	* All source files: Merge gettext changes from Karl E.;
	his ChangeLog entries below.

Sat Jun 14 17:04:28 1997  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.am,
	* makeinfo/Makefile.am: Doc fix.
	* util/Makefile.am (EXTRA_DIST): Add texi2dvi.  From Karl E.

Fri Jun 13 17:39:34 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c [WIN32]: Handle read bogosity and c:\
		absolute paths.
	From: Eric Hanchrow <erich@@MICROSOFT.com>.

	* configure.in (AC_CHECK_HEADERS): Check for pwd.h.
	* info/tilde.c (pwd.h): Move #include to system.h.

	* makeinfo/makeinfo.c (main): New option -P to prepend to search path.
	From: Kenneth Stailey <kstailey@@cvs.openbsd.org>.

	* doc/texinfo.texi (Invoking makeinfo),
	* doc/makeinfo.texi: Mention -P.

Thu Jun 12 16:25:40 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/signals.h (SIGCHLD): #define as SIGCLD if undefined, for sysV68.
	From: "Philippe De Muyter" <phdm%labauto1@@ulb.ac.be>.

	* util/install-info.c (O_RDONLY): Remove this stuff, it's in system.h.
 	(main): Handle existing entry in dir file having .info extension.
	From: "Bradley C. Kuszmaul" <bradley@@GRANITE.SYSTEMSX.CS.YALE.EDU>.

	* makeinfo/makeinfo.c (get_char_len): Don't count 8-bit characters
		as two chars in the output.
	From: Sung-Hyun Nam <namsh@@amuna.rms.lgic.co.kr>.

Wed Jun 11 16:36:51 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (Other Info Directories): Document new trailing
 		: in INFOPATH feature.

	* info/info.c (main): Have trailing : in INFOPATH expand to the
 		default path.

Fri Jun  6 13:22:02 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (uref): New node for new command.

Thu Jun  5 18:13:48 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_uref): New function to accept optional
		second argument.  Call it in command table.

Sat Jun 14 10:54:16 1997  Karl Eichwalder  <ke@@suse.de>

	* mkinstalldirs: Update from automake-1.1p.

	* configure.in: Touch po/ChangeLog (gettext needs it).

Thu Jun 12 08:37:52 1997  Karl Eichwalder  <ke@@ke.Central.DE>

	* util/texindex.c: Include system.h, remove config.h.

	* po/POTFILES.in: Fill it.

	* makeinfo/multi.c: Include system.h.

	* info/Makefile.am:
	* makeinfo/Makefile.am:
	* util/Makefile.am:
 	(localedir): Set.
	(INCLUDES): Add intl/ and LOCALEDIR.
	(LDADD): Add @@INTLLIBS@@.

	* makeinfo/makeinfo.c (main):
	* util/texindex.c (main):
	* util/install-info.c (main):
 	setlocale, bindtextdomain, and textdomain.

	* lib/system.h: Include locale.h and libintl.h.

	* acconfig.h: Include libintl.h.
	(_, N_): Define.
	Add ENABLE_NLS, HAVE_CATGETS, HAVE_GETTEXT, HAVE_LC_MESSAGES,
	HAVE_STPCPY for libintl.
	Add @@TOP@@ and @@BOTTOM@@.

	* configure.in (AM_GNU_GETTEXT): Add.
	(AC_OUTPUT): Process Makefiles in intl/ and po/.
	(ALL_LINGUAS): Available languages.

	* Makefile.am (AUTOMAKE_OPTIONS): Now use 1.1p.

Wed Jun 11 17:05:37 1997  Karl Eichwalder  <ke@@ke.Central.DE>

	* Makefile.am (SUBDIRS): Add intl/ and po/ for NLS.

	* run `gettextize -c' to get the i18n skeleton.

Wed Jun  4 17:51:08 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (uref): New command, another alias for @@code
 		for now.

Wed Jun  4 02:02:33 1997  Miles Bader  <miles@@gnu.ai.mit.edu>

        * doc/texinfo.texi (email): { and } need @@ escapes.

Sun Jun  1 16:34:12 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (itemx): @@itemx should always follow @@item.

	* makeinfo/makeinfo.c (cm_item): Insert blank line if two
		consecutive @@item's.
	From: Karl Eichwalder <ke@@ke.central.de>.
	Also various doc fixes.

Tue May 27 17:20:44 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi (various): Document @@deftypemethod.
	(email): @@ should have been @@@@ in the example.
	From: Mate Wierdl <mw@@wierdlmpc.msci.memphis.edu>

Mon May 26 16:56:26 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (setup_multitable_parameters): Avoid use of %n
		for sake of m68k-hp-bsd.
	From: Derek L Davies <ddavies@@world.std.com>.

	* info/terminal.c (terminal_begin_using_terminal,
        terminal_end_using_terminal): Call fflush and sleep to handle
	cmdtool/shelltool with scrollbars.  Also ignore
 	SIGWINCH so we do not prematurely exit.  Move call.
	(terminal_prep_terminal): Disable LNEXT (CTRL-V).
	From: strube@@physik3.gwdg.de (Hans Werner Strube).

	* configure.in (AC_TYPE_SIGNAL): Check this.

Sun May 25 16:49:58 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (discard_insertions): Take arg saying
 		whether ifinfo/ifset/etc. are ok.
        (convert_from_loaded_file): At `finished', call discard_insertions.
	(handle_variable_internal): Complain if we reach eof before the
		@@end for a false condition.
	From: HERBERT@@boevm4.vnet.ibm.com.

	* info/Makefile.am (ginfo_SOURCES): Add doc.h.
	* lib/Makefile.am (libtxi_a_SOURCES): Add system.h.

Sat May 24 18:08:27 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Check that we have macro_expansion_filename
 		before using strcmp.

Thu May 22 17:59:46 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/makeinfo.texi: Minimally document --force.

	* makeinfo/makeinfo.c (--force): New option.
	(-E): Allow stdout via `-'.
	(convert_from_loaded_file): Unlink output files if errors and !force.

Tue May 20 17:48:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Change all strdup calls to xstrdup.
	(xmalloc, xrealloc, memory_error): Remove these functions, they're
		in lib.
	(set_paragraph_indent, cm_paragraph_indent): Move to misc page.
	(cm_footnote): Expand macros in the arg for the macro expansion output.

Fri May 16 17:26:59 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_macro): Allocate an empty body if the
 		macro was empty.
 	(cm_unmacro): Allocate one more byte for the null.
	From: Robert Hoehne <robert.hoehne@@Mathematik.TU-Chemnitz.DE>.

Sun May 11 17:51:21 1997  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>

	* makeinfo/makeinfo.c (cm_printindex): Fix calculation of the
	length of an index line.

Sun May 11 14:47:42 1997  Tom Tromey  <tromey@@cygnus.com>

	* makeinfo/makeinfo.c (main): Don't unconditionally run usage when
	-e specified.

Sun May 11 17:47:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (init_indices): Free the source for an @@synindex.
	(undefindex): Do not go further if the target was already freed.
	(free_index): Do not free the node names, as init_tags already did.
	(cm_synindex, index_add_arg): Improve error message.
	(program_index, function_index, etc.): Remove these unused #defines.

Tue May  6 17:53:37 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (init_internals): Do not free current_node,
        it already is, at least when multiple input files are specified.
	From: Karl Eichwalder <ke@@ke.central.de>.

Mon May  5 16:14:39 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Mention both alignment and non-alignment of
 		continuation description lines in menus (Arnold).

Sun Apr 27 16:12:44 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (apply): Handle body being `\string'.
	Also, avoid dereferencing a null pointer when a macro has no named
	parameters.
	From: Eli Zaretskii <eliz@@is.elta.co.il>.

	* makeinfo/makeinfo.c: Wording changes/fixes in warnings.

	* info/session.c (info_get_input_char): Do not mix stdio with raw I/O.
	From: Egil Kvaleberg <egilk@@sn.no>.

	From Tom Hageman <tom@@basil.icce.rug.nl>.  These changes make
        arrow keys work:
	* info/infomap.c: Add arrow key bindings.
        (keymap_bind_keyseq): New support function.
	(initialize_info_keymaps): Use it.
	(term_ku,term_kd,term_kl,term_kr): Remove explicit declarations;
	use #include "terminal.h" instead.
	* info/session.c (initialize_info_session): Unbuffer stdin.
	(info_get_another_input_char): Fix bug in `ready' logic.
	* info/terminal.h,
	* info/terminal.c (term_kP, term_kN): New variables to hold
 		PageUp, PageDown key sequences.
	  (terminal_initialize_terminal): Set them.

	* util/texindex.c (main),
	* util/install-info.c (main),
	* makeinfo/makeinfo.c (print_version_info),
	* info/info.c (main): Use PACKAGE and VERSION from Automake for
 		printing version number.

Sat Apr 26 19:19:46 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (get_until_in_line): Do not expand if
		executing_string.
	Also, free temporary strings.
	Also, untabify entire file.

	* doc/texinfo.texi: Many corrections from Arnold.

Thu Apr 24 16:31:09 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (draw_horizontal_separator): Account for indent
 		here also.  From Ulrich.

Wed Apr 23 15:15:34 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_today): Use time_t instead of long;
 		everyone else does.
 	(LOCALTIME_CAST): Remove kludge, we'll always use time_t now.

	* info/Makefile.am (ginfo_SOURCES): Remove general.h, that got
 		merged into system.h.

Mon Apr 21 17:13:25 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (output_multitable_row): Account for
 	column_indent, both the global one and for each column.
	(setup_multitable_parameters): Account for column_indent in the table
	width in the columnfrac case, but don't bother with the template
 		case for now.

Sun Apr 20 16:32:00 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (output_stream): Remove redundant
        definition; it's in makeinfo.h,
	and a vaxstation-ultrix4.3 fails to link because of the two defns.
	From: Anders Olofsson <anders@@kid025.ericsson.se>.

	* makeinfo/makeinfo.c (expansion): Inhibit appending to the macro
 		expansion stream.
 	(get_until_in_line): Possibly expand the text.
	Change caller in get_node_token to do the expansion,
	all other calls to remain the same.

	* makeinfo/makeinfo.c (cm_node): No need to call strlen to check
 		for the empty string.

	* doc/texinfo.texi: Restore missing @@c for initial comment.

Fri Apr 18 17:41:36 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Mention that .info is unnecessary in the info
		file name argument of an xref.

	* doc/texinfo.texi: Mention texi2dvi -t instead of embedding
 		@@smallbook or @@afourpaper in the document source.

Sun Apr 13 15:19:08 1997  Karl Berry  <karl@@cs.umb.edu>

	* lib/system.h (_GNU_SOURCE): #define.

Mon Apr  7 16:30:11 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/info.texi,
	* doc/info-stnd.texi,
	* doc/texinfo.texi: Do not make (dir) the previous ptr from the top node,
	and tell people not to do that in the manual.
	From: rmedina@@kanojo.ivic.ve (Rodrigo Medina),
	confirmed by rms.

Fri Apr  4 16:30:33 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Move error page to top to avoid
	prototypes, and do add prototypes for add_word_args and execute_string,
	so we can use <stdarg.h>.

	* info/makedoc.c,
	* info/nodemenu.c: Use %ld instead of %d for file offsets.
	* makeinfo/makeinfo.c (delete_macro): Decrement macro_list_len.
	(get_macro_args): Decrement line number if see \n.
	* utils/texindex.c (indexify): Use fputs instead of fprintf
	for constant string.
	From: Eli Zaretskii <eliz@@is.elta.co.il>.

Thu Apr  3 17:40:52 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (AC_CHECK_HEADERS): No need to check for vararg.h
	here, AC_FUNC_VPRINTF does it.
	(AC_CHECK_FUNCS): Likewise for vsprintf and vfprintf.
	* makeinfo/makeinfo.c (add_word_args, execute_string): Rewrite
	like the error functions.

Wed Apr  2 17:46:28 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in: Add AC_FUNC_VPRINTF.
	* makeinfo/makeinfo.c (error, line_error, warning): Rewrite a la
        error.c from the *utils to use <stdarg.h> if available.

Tue Apr  1 11:48:40 1997  Karl Berry  <karl@@cs.umb.edu>

	* doc/texinfo.texi: Tabs are a bad idea.

	* doc/userdoc.texi,
	* doc/info.texi: Untabify.

Sun Mar 30 17:36:47 1997  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (end_of_sentence_p): New function.
	(add_char): Call it, instead of simply sentence_ender.
	(post_sentence): New macro.
	Also, remove some #include's now in system.h.
	* lib/system.h [VMS]: #include <perror.h>, from makeinfo.

Thu Mar 27 17:41:03 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/search.c (skip_node_characters): Do not arbitrarily
	strip trailing period from end of node name; this is valid.

Mon Mar 24 16:44:42 1997  Karl Berry  <karl@@cs.umb.edu>

	* configure.in (AC_OUTPUT): Don't need to create stamp-h here,
	tromey says AM_CONFIG_HEADER will do it.

	* info/Makefile.am, util/Makefile.am, makeinfo/Makefile.am (INCLUDES):
        Don't need -I.. (for config.h) or -I$(srcdir), says tromey.
        Automake includes those already.

Fri Mar 14 15:05:17 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am: Build as ginfo, install as info,
	to avoid conflict with the standard info target.

	* lib/system.h: New file.
	* makeinfo/makeinfo.c (strerror): Remove declaration,
	include system.h, remove other redundant #if stuff.
	* info/general.h: Include system.h instead of doing common stuff.
	* util/install-info.c (my_strerror): Remove this, use strerror,
	include system.h.

	* info/terminal.c (terminal_prep_terminal): Only use OCRNL and
		ONLCR if they are defined.  Reported by many people.

	* Installed:

	Sun Dec  1 19:23:54 1996  Karl Eichwalder  <ke@@ke.Central.DE>

		* configure.in (TERMLIBS): Add ncurses.

Thu Mar 13 13:59:45 1997  Karl Berry  <karl@@cs.umb.edu>

	* lib/Makefile.am (libtxi_a_SOURCES): Add xstrdup.c.
	* info/*.c: Use xstrdup instead of strdup everywhere.

	* info/tilde.c: Do not include clib.h, move stdlib.h include to
	* info/general.h: here.

	* configure.in (AC_CONFIG_HEADER): Use this,
	to avoid hugely long compile line with all the -D's.
	* info/general.h: Include <config.h>.

	* emacs/Makefile.am (install, install-data): Do @@echo
	to tell the user to compile/install the elisp manually.

	* configure.in (AC_REPLACE_FUNCS): Move strerror check to here.
	(AC_CHECK_FUNCS): From here.

	* lib/strerror.c: New file, from enscript (et al.) distribution.

Tue Mar 11 16:36:25 1997  Karl Berry  <karl@@cs.umb.edu>

	* info/Makefile.am (info_SOURCES): Add doc.c, dribble.c, infodoc.c.
	(LDADD): Add @@TERMLIBS@@.

	* info/info.h: HANDLE_MAN_PAGES, NAMED_FUNCTIONS: Define these.

	* info/filesys.h: Spurious ! when DEFAULT_INFOPATH is not defined.

	* configure.in (AC_OUTPUT): Do lib first and doc last.

	* info/echo-area.c,
	* info/echo-area.h,
	* info/info.h: Rename echo_area to echo-area.

Mon Mar 10 17:59:05 1997  Karl Berry  <karl@@cs.umb.edu>

	* */Makefile.am: Write Makefile.am files for Automake.
	* doc: New subdirectory, move all manuals and texinfo.tex there.
	* AUTHORS, THANKS, config.guess, config.sub, mkinstalldirs: New files,
	required by Automake.
	* lib/xmalloc.c: Move from info/.

Fri Oct  4 07:49:49 1996  Karl Berry  <karl@@cs.umb.edu>

	* Version 3.9.

	* Makefile.in (install): Say to install texinfo.tex manually.

	* util/texi2dvi,
	* util/texindex.c,
	* makeinfo/makeinfo.c,
	* info/info.c: Include only the current year in the copyright message.

	* util/texi2dvi: Exit successfully.
	From: Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>.

Thu Oct  3 12:58:32 1996  Karl Berry  <karl@@cs.umb.edu>

	* Rename install.sh to the preferred install-sh.

	* Makefile.in (VERSION),
	* util/texi2dvi,
	* util/texindex.c,
	* util/install-info.c,
	* makeinfo/makeinfo.c (minor_version, print_version_info),
     	* info/info.c: Update version number.

	* util/texi2dvi: Only show diff if verbose.

	* util/install-info.c (main): Check for a missing dir file as well
 	as a missing info files.
	(main): At start of a node, completely initialize the newly-malloced
	node structure.

	* texinfo.texi: Fix incorrect uses of @@key,
	insert missing newline in Installing Dir Entries' @@menu item,
	document install-info invocation.

	* Makefile.in (DISTFILES): Do not put .gdbinit's in distribution.
	(dist): Use || instead of && (and invert sense) so make doesn't think
	the command failed.
	(dist): Exclude more junk.

	* makeinfo/makeinfo.c (cm_xref): Back out patch from Tom T., since
        we generate a good-enough error message that is suppressible
        without it.

	* util/gen-dir-node: The recommended name for the top-level info
 	file is dir, not dir.info.

	* util/install-info.c (main): At `Mark the end of the Top node',
        make sure the node name is non-NULL before comparing it. From
        lvirden@@cas.org.

	* configure.in (AC_REPLACE_FUNCS): Use this for memcpy, memmove,
	and strdup.
        (AC_CHECK_FUNCS): Instead of this.
	Because both bcopy and memmove are missing on the 3b2, as reported by
	Gaylen Miller <gaylen@@proaxis.com>, hence we must provide our own.
	* libtxi/Makefile.in (LIBOBJS): New variable.
	(OBJS): Include it.
	* libtxi/memcpy.c, libtxi/memmove.c, libtxi/strdup.c: New files,
	taken from fileutils 3.13.
	* makeinfo/makeinfo.c,
	* info/clib.c (strdup): Move to libtxi.

Wed Oct  2 18:23:30 1996  Karl Berry  <karl@@cs.umb.edu>

	* info/info-utils.h (memcpy) [!HAVE_MEMCPY],
	* info/termdep.h (memcpy) [!HAVE_MEMCPY],
	* makeinfo/makeinfo.c (memmove) [!HAVE_MEMMOVE]: Remove this
        #ifdef, as we now include it in libtxi if missing.

Tue Oct  1 17:41:52 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/Makefile.in (install),
	* info/Makefile.in (install),
	* Makefile.in (install): Use new option name --info-dir instead of
 	--infodir.

	* makeinfo/multi.c (out_char): New fn.  Replace all calls to
	putc/fprintf with calls to this.

	* util/install-info.c: Rename --infodir to info-dir.

Mon Sep 30 10:07:21 1996  Karl Berry  <karl@@cs.umb.edu>

	* Version 3.8.

	* texinfo.tex: Untabify.

	* texinfo.tex (\ptexl, \ptexL): Do not save, we have our own
	commands now.
	(\onepageout): Reformat for readability, and call \indexdummies
	to avoid expansion of Texinfo commands (e.g., accents) in \write's.
	(\,, \dotaccent, \ringaccent, \tieaccent, \ubaraccent, udotaccent,
	\questiondown, \exclamdown, \dotless): New macros.
	(\l): Let plain TeX definition remain, instead of switching
	to ``lisp'' font.
	(\multitable): Ensure space between the columns,
	insert struts to make interline spacing constant,
	use real strut instead of a box containing `Xy'.
	(\indexdummies): Do not define \rm, \char, but
	do define \@@, \{, \}, \dotless, and \,.  And \t should generate
	\t, not \r.
	(\indexnofonts): Define \, and \dotless as \indexdummyfont,
	and let \@@ be @@.
	(\doind): Reformat for readability, and use temp control sequence
	names that actually make sense.
	(\doublecolumnout, \pagesofar, \enddoublecolumns): Restore
	Knuth's original code to avoid spurious overfull vbox messages.
	(No boxes are actually overfull).
	(\shortcontents): Do not allow hyphenations.
	(\dochapentry, \tocentry): Make glue above and below flexible, to allow
	better page breaks.
	(\tex): Reset \, to its plain TeX meaning,
	and do not reset \l.

	* COPYING: Update for new FSF address (from gcc dist).

	* libtxi/Makefile.in: Various simplifications.

Sun Sep 29 12:58:44 1996  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Use $progname instead of $0 for --version.

	* util/install-info.c (xmalloc, xrealloc): Declare malloc and
	realloc as returning void *,
	to avoid ptr/int problems on Digital Unix.

	* info/tilde.c (tilde_expand_word): Declare getenv as returning char *,
	to avoid warning on Digital Unix.

	* makeinfo/multi.c (multitable_active): Declare extern here to
 	avoid ld warning on rs6000.

	* util/texindex.c (usage): Avoid ??' trigraph.

	* util/install-info.c: Include <sys/fcntl.h> or <fnctl.h>,
	according to HAVE_SYS_FCNTL_H,
	and only include <sys/file.h> if HAVE_SYS_FILE_H.
	(readlines): Oops, had NULL's and 0's reversed for ptr/int members.

	* info/terminal.c (terminal_goto_xy): Remove spurious extra ;.

	* util/install-info.c: Untabify.	(input_sections): Initialize.
	(find_lines): Initialize the terminating element of the array.
	(print_help): Document --infodir.
	(main): Compare the basename of infile sans .info to the dir entry,
	not infile itself.
	* util/Makefile.in (clean): Remove the install-info binary.

	* info/Makefile.in (distclean): Remove *.info* files.

	* Makefile.in (install),
	* info/Makefile.in (install),
	* makeinfo/Makefile.in (install): Use --infodir instead of --info-file.

	* info/info.c,
	* makeinfo/makeinfo.c: Avoid newlines in string constants for the
 		sake of SunOS cc.

	* makeinfo/multi.c: Do not assume ANSI C.

	* info/info.texi: Oops, need @@end vtable for a @@vtable.

Sat Sep 28 16:31:28 1996  Karl Berry  <karl@@cs.umb.edu>

	* Makefile.in (texinfo): Do not depend on sub-all, as then
        makeinfo is always run.  Instead, depend on texinfo.texi.

	* makeinfo/Makefile.in (info, dvi): New targets.
	makeinfo.info, makeinfo.dvi: Do not depend on macro.texi for now.

	* info/Makefile.in (install): Must call install-info twice.

	* info/info-stnd.texi,
	* info/info.texi,
	* makeinfo/makeinfo.texi: Include direntry.

	* emacs/Makefile.in: Use && after cd, etc.

	* texinfo.texi: Kludges so makeinfo -E will not create spurious
        differences.  Add new direntries.

	* util/install-info.c,
	* util/texindex.c,
	* makeinfo/makeinfo.c,
	* info/info.c: Standardize --version output.

	* makeinfo/makeinfo.c (defun_internal): Don't insert index command
 	if expanding macros.
	(cm_footnotestyle): Don't change the footnote style if it was set
	on the command line.

	* util/texi2dvi: Recompute original index files each time through loop.
	Make indentation uniform.
	Use same basename for the temp input files.
	Standardize --version output.

	* info/Makefile.in (install),
	* makeinfo/Makefile.in (install): Insert $(POST_INSTALL).

Fri Sep 27 13:27:30 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi (Format with texi2dvi): Rewrite now that the script
 	runs in a loop.

	* info/Makefile.in (MAKEINFO): Simplify to ../makeinfo/makeinfo.

Fri Sep 27 00:26:03 1996  Miles Bader  <miles@@gnu.ai.mit.edu>

	* info/terminal.c [HAVE_TERMIOS_H] (terminal_prep_terminal,
	terminal_unprep_terminal): Add code for termios.
	[HAVE_TERMIOS_H] (original_termios, ttybuff): New variables.
	* info/termdep.h: [HAVE_TERMIOS_H]: Add include of <termios.h>.
	* configure.in: Add check for <termios.h>.

Thu Sep 26 10:46:34 1996  Karl Berry  <karl@@cs.umb.edu>

	* emacs/texnfo-upd.el,
	* emacs/texinfo.el,
	* emacs/texinfmt.el: Update from bob for new Texinfo commands, etc.

	* emacs/info.el, emacs/informat.el, emacs/makeinfo.el,
	emacs/texnfo-tex.el: Update from Emacs 19.34 dist.

	* emacs/elisp-comp: Use TMPDIR if set.

	* util/Makefile.in (libdir): Remove.

	* makeinfo/Makefile.in (install),
	* Makefile.in (install),
	* info/Makefile.in (install): Run install-info.
	(libdir): Remove.

	* texinfo.texi: Various fixes as I make this go through TeX.

	* util/install-info.c: Quote newlines in help message.

	* util/texi2dvi (texi2dvi): Run TeX until the aux/index files
        stabilize, instead of just twice.  From: David Shaw
        <daves@@gsms01.alcatel.com.au>.

Tue Sep 24 14:43:03 1996  Karl Berry  <karl@@cs.umb.edu>

	* dir: Blank dir file for installation on new systems.

Mon Sep 23 12:18:43 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (args_from_string): Do not back up at a };
 		that leads to an infinite loop.

Sat Sep 21 17:48:04 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_xref): Do not seg fault if outside of
 	any node.  From: Tom Tromey <tromey@@creche.cygnus.com>.
	(cm_ctrl): Make obsolete.

Tue Sep 17 13:30:08 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\inforef): Move to more appropriate place.
	(\pounds): Remove spurious extra $.
	(\email): Typeset argument in angle brackets.
	(\macro): Use \doignore for robustness, instead of just letting TeX
	parse the argument.
	(\unmacro): Define.

Sat Sep 14 16:17:35 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Document multitables, new ISBN number.

Wed Sep 11 18:01:24 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/multi.c (struct env): Remove unused output_position
        field; this needs to be global.
        (setup_multitable_parameters): Implement template-defined multitables.
	(output_multitable_row): Remove trailing whitespace.

	* makeinfo/makeinfo.c (_READ_BUFFER_GROWTH, struct _defines):
	Remove leading underscore for POSIX/ANSI pedants.
	(init_conversion): Initialize output_position here.
	(init_paragraph): Instead of here, where it loses with the
	multitable calls, eventually resulting in negative counts to the
	write call when the output file is split.

	* texinfo.texi: First cut at macro documentation.
	Change accent doc to use tables.
	Remove whitespace experiments, they are now the default.

Mon Sep  9 14:16:24 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c: Use putc instead of fprintf where possible.
        (cm_accent): Put _ from @@ubaraccent after argument.

	* util/texindex.c (strerror) [!strerror]: Conditionalize
 		declaration.

Sat Sep  7 14:13:24 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Obsolete @@setchapterstyle.

Thu Sep  5 15:45:11 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (convert_from_loaded_file): Oops, fix
 		wording of initial output comment.

	* makeinfo/makeinfo.c (cm_angle_brackets): Rename from cm_key.
        (commandTable): @@email should produce angle brackets.
	@@key: Change name.

Tue Sep  3 14:52:17 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\hsize): Decrease.
        (\hoffset): Increase.
	(\setleading): Decrease dramatically.
	This change affects 8.5x11 format only.

	* texinfo.texi: Document accent commands.

Mon Sep  2 11:10:49 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Deprecate @@ichapter and
	@@titlespec.
	Move all the deprecated @@i<section> commands to the end of the list.

	* texinfo.texi: Document @@pounds{} and @@centerchap{}.

	* texinfo.tex (\centerchfplain): Rewrite to use \chfplain, and to
 	actually center.
	(\unnchfplain): Just call \chfplain.
	(\chfplain): Rewrite to be generally callable.
	(\centerparametersmaybe): Hook, a no-op except with @@centerchap.

Sun Sep  1 15:01:49 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Document @@<whitespace>, rearrange spacing section.

	* makeinfo.c (commandTable): Make @@. @@? @@! insert themselves,
 	not be sentence-non-enders.  They are sentence *enders*.  Also,
 	make @@\t and @@\n insert a normal space character, not themselves.
  	Also, define @@hyphenation.
	(insert_space): New function.
	(cm_ignore_sentence_ender): Remove this.
	(flush_output): Check only for META-SPC, not META-<sentence-ender>.

Fri Aug 30 18:55:30 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Document @@- and @@hyphenation{}.
	Miscellanous fixes.

	* makeinfo/makeinfo.c (commandTable): Define @@- as cm_no_op, since
 	makeinfo doesn't do hyphenation.

Thu Aug 29 13:05:38 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\key): Do not uppercase the argument; key names
	can be mixed case, e.g., `Control'.

	* makeinfo/makeinfo.c: @@infotop, @@infounnumbered,
	@@infounnumberedsec, @@infounnumberedsubsec,
	@@infounnumberedsubsubsec, @@infoappendix, @@infoappendixsec,
	@@infoappendixsubsec, @@infoappendixsubsubsec, @@infochapter,
	@@infosection, @@infosubsection, @@infosubsubsection:
	  Remove these long-since obsolete commands.
	@@iappendix, @@iappendixsection, @@iappendixsec, @@iappendixsubsec,
	@@iappendixsubsubsec, @@ichapter, @@isection, @@isubsection,
	@@isubsubsection, @@iunnumbered, @@iunnumberedsec, @@iunnumberedsubsec,
	@@iunnumberedsubsubsec:
 	  Deprecate these.
	@@infoinclude:
	  Obsolete this.
	@@,: Have to take an argument, since have to do @@,{c} not c@@,; can't
	feasibly implement the latter in TeX.

	* makeinfo/makeinfo.c: Rename @@d to @@udotaccent, since this is
 		relatively infrequently used.

Tue Aug 27 14:58:56 1996  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c (print_short_help),
	* util/install-info.c (print_help),
	* util/texi2dvi,
	* makeinfo/makeinfo.c (usage) Include bug reporting address.

Mon Aug 26 15:27:17 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Remove @@input, @@medbreak,
 		@@smallbreak, @@overfullrule, @@br.

Sun Aug 25 17:25:48 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (commandTable): Unify commands that perform
        the same operation, such as cm_file, cm_samp, cm_email,
        etc., which all do cm_code.

	* texinfo.texi: Document @@ifhtml ... @@end ifhtml.  Change
	`PlainTeX' to `plain TeX'.

Fri Aug 23 16:03:16 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\pounds): New Texinfo command @@pounds{}.
	(\parskip): New smaller value.
	(\chapheadingskip, \secheadingskip, \subsecheadingskip): New smaller
	values, both for 8.5x11 and @@smallbook formats. From Bob.

	* makeinfo/makeinfo.c (cm_special_char): @@pounds{} prints a #.
	(commandTable): Add new command @@pounds.

Tue Aug 20 13:47:20 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (CommandTable): Restore "!", accidentally
        removed previously.

	* texinfo.tex (\key): Typeset a lozenge around the argument (from
	gildea@@intouchsys.com).
	* makeinfo/makeinfo.c (cm_key): Surround arg with <...> to match
        new lozenge style in TeX.

Wed Aug 14 16:59:23 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Propagate change from rms.

Tue Aug 13 11:33:27 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi: Propagate change from rms.

	* texinfo.texi: Document other @@headings options.

Sun Aug 11 13:19:42 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (cm_accent, cm_special_char, cm_dotless):
	New functions.
	(CommandTable): Add new commands for all of plain.tex's
	accents and non-English characters.

Fri Aug  9 14:12:07 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (convert_from_loaded_file): Say we're making
 	``text'' file if no_headers.  Also, use `input_filename' instead
 	of just `name' for clarity.
	(suffixes): Check for no suffix last, i.e., prefer `foo.texi' as an
	input file to `foo'.  (The latter is probably a binary.)

Mon Aug  5 13:52:39 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\heading, \subheading, \subsubheading): Can no
 	longer call the nonexistent \*secheadingi series. Instead, call
 	\plain*secheading.
	(\plainsubsecheading, \plainsubsubsecheading): New macros, by analogy
	with \plainsecheading.
	(\unnumberedsubseczzz, \unnumberedsubsubseczzz): Call them.

Sun Aug  4 16:46:10 1996  Karl Berry  <karl@@cs.umb.edu>

	* makeinfo/makeinfo.c (flush_output): Mask out eighth bit, that we
 	turned on in non-sentence enders.

Sat Aug  3 14:03:10 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\HEADINGSdouble, \HEADINGSsingle,
 	HEADINGSdoubleafter, \HEADINGSsingleafter, \CHAPPAGoff,
 	\CHAPPAGon, \CHAPPAGodd): Set \contentsalignmacro, analogous to
 	\pagealignmacro.
	(\startcontents): Call \contentsalignmacro instead of \pagealignmacro.

Mon Jul 29 14:44:33 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\indexfonts): Make leading be 12pt. Otherwise, it's
 	too crammed.
	(\smalllispx): Remove \setleading{10pt}. That was too small.
	(\doprintindex): Do not call \tex ... \Etex.  Index files are Texinfo
	source, not TeX source, except for using \ instead of @@ as the
 	escape character (for now).

Sun Jul 28 13:37:05 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (paragraphindent): Move to more reasonable place in
        the source file.
        (chapfonts, secfonts, subsecfonts, indexfonts): Call \setleading.
	(\chfplain, \secheading, \plainsecheading, \subsecheading,
	 \subsubheading): Rewrite to properly \hangindent the title.
     	(\sectionheading): New generic macro to print section titles.

	* texinfo.texi: Update the `Obtaining TeX' node.

Fri Jul 26 14:11:48 1996  Karl Berry  <karl@@cs.umb.edu>

	* util/texi2dvi: Do macro expansion with makeinfo before running TeX.
	Various expansion safety measures added for test; avoid use of -o.

	* makeinfo/makeinfo.c (usage): More usage message tweaks.

Fri Jul 26 11:55:37 1996  Karl Berry  <karl@@laurie>

	* util/texi2dvi: Format usage message to conform to the other *utils.

Thu Jul 25 17:05:47 1996  Karl Berry  <karl@@cs.umb.edu>

	* emacs/Makefile.in: Do not compile the Elisp by default.  We
	don't install it, so it confuses people to compile it.

Sun Jul 21 07:20:09 1996  Karl Berry  <karl@@cs.umb.edu>

	* util/Makefile.in (install-info): Dependency should be
 	  install-info.o, not install-info. Also, update copyright years.

	* makeinfo/makeinfo.c (cm_printindex): Don't call execute_string
        to print index entries, we've already done the expansion now.

	* makeinfo/makeinfo.h: Add copyright.  Finish merge of rms changes.
	* makeinfo/makeinfo.c: Finish merge, add my expansion changes again.
	* makeinfo/multi.c: Add copyright message.

Fri Jul 19 10:35:22 1996  Karl Berry  <karl@@cs.umb.edu>

	* info/info.c: Update copyright date.

	* info/info.texi,
	* util/install-info.c,
	* emacs/Makefile.in,
	* emacs/texnfo-tex.el,
	* emacs/Makefile.in: Change FSF address.

	* Merged changes from bfox -- below, plus multitable changes, plus
	lots more.

	    Sun Apr 14 08:49:50 1996  Brian J. Fox  <bfox@@nirvana.samsara.com>

		    * makeinfo/makeinfo.c (remember_node_reference): Numerous commands
		    call remember_node_reference.  If a node has not yet been defined,
		    use the empty string as the current node for those cases.

	    Mon Feb 12 17:35:38 1996  Brian J. Fox  <bfox@@nirvana.samsara.com>

		    * makeinfo/makeinfo.c (push_node_filename): Clean up calls to
		    xmalloc and xrealloc.  Only have to call xrealloc.

	    Fri Jan 26 08:00:38 1996  Brian J. Fox  <bfox@@nirvana.samsara.com>

		    * info/session.c (info_input_buffer_space_available): Fix typo
		    which forced the limitation of the sizeof (int) instead of sizeof
		    (buffer).

		    * Makefile.in (PACKVER): now at 3.8.  Add TERMIOS support to
		    Info.  Minor bugs fixed in Makeinfo.

Sat Jul 13 11:58:57 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.texi (ftable vtable): Mention example.

Sun Jun 30 14:59:51 1996  Karl Berry  <karl@@goldman.gnu.ai.mit.edu>

        * makeinfo/makeinfo.c (cm_email): New function for new @@email command.
	* texinfo.texi (email): New node documenting it.

Wed Apr 17 18:07:34 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_kbd): Do nothing if in @@example or @@code.
	(struct brace_element): New field in_fixed_with_font.
	(remember_brace_1): Save in_fixed_with_font.
	(pop_and_call_brace): Restore in_fixed_with_font.
	(cm_code): Don't decrement in_fixed_with_font at end of construct.
	(struct istack_elt): New field in_fixed_with_font.
	(push_insertion, pop_insertion): Save and restore in_fixed_with_font.
	(end_insertion): Don't decrement in_fixed_with_font here.
	(not_fixed_width): New function.
	(cm_sc, cm_var, cm_italic, cm_roman, cm_titlefont):
	Use not_fixed_width.

Sat Apr 13 23:22:05 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* util/install-info.c (main): Fatal error if no input file spec'd.
	Look for START-INFO-DIR-ENTRY, not BEGIN-INFO-DIR-ENTRY.

Thu Apr 11 18:21:50 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_enddots): New function.
	(self_delimiting): Accept -, ^ and ".
	(CommandTable): Add commands -, ^, ", enddots, centerchap.

Sun Mar 24 12:18:32 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (enum insertion_type): Add `direntry'.
	(insertion_type_names): Add "direntry".
	(cm_dircategory): New function.
	(cm_direntry): New function.
	(CommandTable): Add "dircategory" and "direntry".
	(insert_string): New function.
	(end_insertion): Handle direntry.
	(begin_insertion): Handle direntry.

Sun Mar 24 11:10:05 1996  Karl Berry  <karl@@spiff.gnu.ai.mit.edu>

        * makeinfo/makeinfo.c (cm_url): New function for new @@url command.

Fri Feb 23 21:14:40 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* info/Makefile.in (install, uninstall): Use manprefix.

Fri Feb 23 19:50:18 1996  Richard Stallman  <rms@@whiz-bang.gnu.ai.mit.edu>

	* util/Makefile.in (install-info, install-info.o): New targets.
	(all): Depend on install-info.
	(install, uninstall): Operate on install-info.

	* install-info.c: New file.

Wed Jan  3 10:01:45 1996  Brian J. Fox  <bfox@@nirvana.datawave.net>

        * makeinfo/makeinfo.c (make_index_entries_unique): Be a little bit
	stricter about what makes two index entries identical.

Fri Dec 29 13:00:24 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makeinfo/makeinfo.c (Whole File): Add @@detailmenu for allowing
	detailed menu listings to appear while still defaulting nodes.

Wed Dec 27 13:54:30 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_code): Always notice that we are in
	fixed_width_font, even if other formatting changes are not to take
	place.

Sat Dec 23 11:48:43 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/man.c: (clean_manpage) Remove ^L's from page.

	* makeinfo/makeinfo.c (get_brace_args): Change some memcpy's to
	memmoves.

	* info/info.c (main): Prefer caseless matches over partial
	matches.

	* Makefile.in (All Subdir Targets): Change suggested by Debian
	people which allows errors in recursive makes to kill the
	top-level make.

	* makeinfo/Makefile.in (makeinfo.dvi): New target.

	* info/info.c (main): Print version of containing texinfo package.

	* makeinfo/makeinfo.c (flush_output): Don't strip high-bit from
	sentence_enders.
	Print the version number of the containing texinfo package.

	* info/man.c (locate_manpage_xref): Count the 0th entry.

	* makeinfo/makeinfo.c (cm_menu): If a menu is seen before a node
	has been defined, warn, and create the node `Top'.

Wed Jun 21 03:19:39 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_infoinclude): Clean up after printing
	error if the file couldn't be included.
	(discard_braces): Print errors only for those unmatched open
	braces that belong to a texinfo command.

	* */Makefile.in: Use @@CFLAGS@@ and @@LDFLAGS@@.

	* makeinfo/makeinfo.c: End `node_search_string' and friends with a
	terminating null character.

Wed Jun 21 01:23:49 1995  Jim Meyering (meyering@@comco.com)

	* makeinfo/makeinfo.c: Close comment after #endif.

Tue Jun 20 04:58:26 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* emacs/Makefile.in (install): Fix typo: "fle" -> "file".

	* Makefile.in (VERSION): Bump to 3.6

	* info/clib.c: Include general.h for `info_toupper' and friends.

	* info/clib.h: strncmp and strncascmp return an int.  What kind of
	drugs was I on?

Mon Jun 19 23:34:47 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (make_index_entries_unique): Copy the last
	index entry.

Mon Jun 19 21:55:49 1995  Noah Friedman  <friedman@@prep.ai.mit.edu>

        * util/texi2dvi (--version): New option.
        Cosmetic changes.

Mon Jun 19 16:06:40 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c (cm_macro): Fix typo.  `x != y' is not the
	same as `x |= y'.

	* info/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).
	* makeinfo/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).
	* util/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).
	* libtxi/Makefile.in (exec_prefix): Use @@exec_prefix@@ not $(prefix).

	* emacs/Makefile.in (uninstall): New target.
	(install): Use the definition of $(lispdir), don't dynamically
	find it.  Use INSTALL_DATA not cp.
	(exec_prefix): use @@exec_prefix@@ not $(prefix).

	* makeinfo/makeinfo.c (apply): If there isn't an actual argument
	for a named argument, default it to "".

	* Makefile.in (VERSION): Now at 3.5.
	(texinfo): Make ./makeinfo/makeinfo depend on sub-all for parallel
	makes.

	* emacs/Makefile.in (ELISP_OBJS): Explictly declare .el and .elc
	in the SUFFIXES list.

	* makeinfo/makeinfo.c (cm_today): Special case for losing alpha.
	* (minor_version): Increase to 63.

	* info/info.c (version_string): Now at 2.14.
	* info/tilde.c: Declare getenv to return (char *).
	* info/window.c (build_message_buffer): Jump through hoops to keep
	DEC Alpha's happy.

	* info/xmalloc.c: Declare malloc and realloc as (void *) returning
	functions.

Sun Jun 18 12:47:21 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* emacs/detexinfo.el (detexinfo-line-cmds-without-arg):
	Handle ifhtml.

Fri Jun 16 13:48:14 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* util/texindex.c: Update TEXINDEX_VERSION_STRING for texinfo 3.4

	* (All *.c *.h *.in): Change FSF old address to new.
	* texinfo.texi (Obtaining TeX): Change FSF old address to new
	address.  Change Old phone numbers to new phone numbers.

	* Makefile.in (VERSION): Change to 3.4.

Thu Jun 15 22:49:07 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi, emacs/=development/cover.texi: update
          Texinfo distribution package version number

Thu Jun 15 09:23:02 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/info.c: (minor_version): Set to 13.

	* info/clib.c,h: New files gather together replacement functions
	for those POSIX-style C library functions that are not present on
	the target system.

	* info/Makefile.in (SRCS): Add clib.c and clib.h.  makedoc now
	needs clib.o to build on systems missing various string.h stuff.

	* info/variables.c (whole file): Call strdup, not savestring.
	* info/tilde.c (whole file): Call strdup, not savestring.
	* info/search.c (whole file): Call strdup, not savestring.
	* info/nodes.c (whole file): Call strdup, not savestring.
	* info/nodemenu.c (whole file): Call strdup, not savestring.
	* info/man.c (whole file): Call strdup, not savestring.
	* info/makedoc.c (whole file): Call strdup, not savestring.
	* info/m-x.c (whole file): Call strdup, not savestring.
	* info/info.c (whole file): Call strdup, not savestring.
	* info/indices.c (whole file): Call strdup, not savestring.
	* info/echo_area.c (whole file): Call strdup, not savestring.
	* info/session.c (whole file): Call strdup, not savestring.
	* info/filesys.c (whole file): Call strdup, not savestring.

	* makeinfo/makeinfo.c (minor_version): Change to 1.62.
	* makeinfo/makeinfo.c (get_execution_string): Initialize `i' to 0
	in case there are no execution_strings.

Wed Jun 14 17:48:06 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* texinfo.texi: include "texinfo.tex", not "texinfo".
	* info/session.c (forget_window_and_nodes): Place a sequence point
	in between "info_windows[i] = info_windows[++i];" as per various
	compiler experts.

	* makeinfo/makeinfo.c (strdup): Create this function if the system
	doesn't have it.
	(discard_insertions): Use the insertion's filename, not the
	current input file.
	(push_insertion): Remember the current input file with each
	insertion.
	(pop_insertion): Free storage used by remembered input file.

	* makeinfo/makeinfo.c (whole file): Use `strdup' instead of
	`savestring'.
	* configure.in: Check for `strdup'.

Wed Jun 14 15:58:51 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

        * libtxi/Makefile.in (prefix): Use @@prefix@@, not /usr/local/

Wed Jun 14 10:50:57 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* Makefile.in (DISTFILES): Don't include *.elc files in the list
	  of files to distribute.
	  (installdirs): Include `emacs' in the list of sub-dirs with
	  Makefile.in's.

	* emacs/elisp-comp: Shell script which batch compiles the *.el files.
	* emacs/Makefile.in: New file contains targets to build the elc files.
	* configure.in: Add `emacs/Makefile' to the list of created makefiles.
	* makeinfo/makeinfo.c (whole file): Give every function a return
	  type.  All cm_xxx functions are now void.  Add declarations for
	  functions to top of file.

Mon Jun 12 12:00:57 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/man.c (reference_section_starters): Add versions of "SEE
	ALSO" and "RELATED INFORMATION" with tabs instead of spaces as
	well.

	* util/texindex.c: Back out changes for OFF_T.  Explicity coerce
	the result of lseek to a long, and use longs everywhere.

	* texinfo.texi: Change "@@end shorttitlepage" to "@@end titlepage".
	* makeinfo/makeinfo.c: Make @@shorttitlepage ignore the rest of the
	line.

	* util/texindex.c (strrchr): Create if not present.
	Test for HAVE_STRCHR and HAVE_STRING_H.
	(main): Make PROGRAM_NAME be just the last path componenet of argv[0].
	(decode_command): Rewrite.
	(usage): Rewrite.  Now texindex handles --version.

	* makeinfo/makeinfo.c (make_index_entries_unique): Rewrite from
	scratch.

	* Don't distribute created info files with texinfo.  After all,
	the user will have the tools necessary to create them, yes?

	* Makefile.in (distclean): Remove *.log

	* info/man.c (read_from_fd): Change timeout value for select to 15
	seconds.  Some systems (e.g., albert.ai.mit.edu) actually need
	more than 10 seconds to format a man page.

	* info/tilde.c: Fix typo in declaration for
	`tilde_expansion_failure_hook'.

Wed Jun  7 13:36:53 1995  Brian Fox  <bfox@@albert.gnu.ai.mit.edu>

	* info/tilde.h: Change type of tilde_expansion_failure_hook to
	a pointer to a function returning a (char *).
	* info/tilde.c: Change type of tilde_expansion_failure_hook to a
	pointer to function returning a (char *).

	* makeinfo/makeinfo.c (get_execution_string): Don't use `i' in the
	latter assignment, use `execution_strings_index' instead.

	* info/man.c (read_from_fd): Change logic to avoid using FIONREAD.

	* info/xmalloc.c (xrealloc): Use (void *), not (caddr_t *).
	* info/xmalloc.c (xmalloc): Use (void *), not (caddr_t *).

	* Makefile.in (DISTFILES): Don't find RCS no "=" directories.

	* util/Makefile.in (prefix): Use @@prefix@@ as the value.
	* info/Makefile.in (prefix): Use @@prefix@@ as the value.
	* makeinfo/Makefile.in (prefix): Use @@prefix@@ as the value.

Wed Jun  7 12:29:28 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi: Correct minor typos.

        * emacs/texinfmt.el:  Don't require @@shorttitlepage to be inside
          of @@iftex ... @@end iftex

Mon May  8 18:33:52 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/nodes.c: #include "man.h" if HANDLE_MAN_PAGES.
	(info_get_node_of_file_buffer): If the file buffer is one
	associated with manpages, call the manpage node finding
	function instead.
	(info_find_file_internal): If the file buffer is one associated
	with manpages, avoid doing any file I/O.
	(info_reload_file_buffer_contents): Ditto.
	(info_find_file_internal): Call create_manpage_file_buffer instead
	of info_load_file_internal.

	* info/info.c: #include "man.h" if HANDLE_MAN_PAGES.
	(main): If the initial node cannot be found, perhaps find it as a
	manpage.
	* info/info-utils.c: #include "man.h" if HANDLE_MAN_PAGES.
	(info_xrefs_of_node): If handling man pages, and this is a manpage
	node, use xrefs_of_manpage.

	* info/session.c (info_set_input_from_file): Only fclose (stream)
	if it is non-null and not stdin.
	#include "man.h" if HANDLE_MAN_PAGES.
	(info_menu_or_ref_item): If handling man pages, and this is a
	manpage node, get the xrefs from manpage_xrefs_in_binding.
	(info_man): Compile in for M-x man if handling man pages.
	(info_move_to_xref): If handling man pages, and the current node
	is a manpage node, use locate_manpage_xref to get xrefs.

Thu May  4 08:55:23 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/info.c (main): If the output device is not a terminal, and
	no output filename has been specified, make user_output_filename
	be "-", so that the info is written to stdout, and turn on the
	dumping of subnodes.

Thu Apr 13 18:05:06 1995  Daniel Hagerty  <hag@@churchy.gnu.ai.mit.edu>

	* texinfo.texi: Fixed @@end titlepage/@@end shorttitlepage

Sat Apr  8 12:51:49 1995  Roland McGrath  <roland@@churchy.gnu.ai.mit.edu>

	* makeinfo/makeinfo.c [! HAVE_STRERROR] (strerror): New function,
 	snarfed from ../info/filesys.c.
	(cm_infoinclude): Use strerror instead of sys_errlist.

Tue Apr  4 18:44:00 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* util/texindex.c (sort_offline): Change TOTAL to be an off_t.
	* util/texindex.c (sort_in_core): Change TOTAL to be an off_t.
	* util/texindex.c (MAX_IN_CORE_SORT): Cast to off_t.

Sun Apr  2 16:20:13 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* info/Makefile.in: Define DEFAULT_INFOPATH in case we are
	compiling in the current directory.
	* info/Makefile.in (info.o): Add filesys.h because of DEFAULT_INFOPATH.
	* info/(search.c,h, nodes.c info-utils.c) Use strcasecmp and
	strncasecmp instead of stricmp and strnicmp.  Define strcasecmp
	and strncasecmp in search.c if !HAVE_STRCASECMP.
	* info/search.c: If HAVE_STRING_H include it.
	* info/nodes.c: If HAVE_STRING_H include it.
	* info/info-utils.c: If HAVE_STRING_H include it.
	* info/info.h: If HAVE_STRING_H include it.
	* configure.in (AC_HAVE_FUNCS): Check for strcasecmp.
	* makeinfo/makeinfo.c (strcasecmp): Define if !HAVE_STRCASECMP.
	* makeinfo/makeinfo.c (entire file): Use `strcasecmp' instead of
	`stricmp'.
	* makeinfo/makeinfo.c (cm_ifeq): New command takes three args.
	Compares first two, executes remainder if the first two are
	string-wise eq.
	* makeinfo/makeinfo.c (ifhtml): Add to command list.  Shouldn't be
	used, but it is by people who don't want to hack macros.

Sat Apr  1 09:20:14 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makeinfo/makeinfo.c (begin_insertion): Fix reversed arguments to
	line_error.

	* info/info-stnd.texi: Use "end" footnote style instead of "separate".

	* info/Makefile.in: Change "rm -f" to $(RM).

	* info/general.h: Define zero_mem in terms of memset if we have
	it, else in terms of bzero if we have that, else as inline code.

	* info/NEWS: Updated to reflect changes in 2.11.

Fri Mar 31 22:38:31 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* Makefile (DISTFILES): Don't include *.a, *orig, nor *.e
	files.
	(DISTFILES):

Sat Mar  4 12:16:29 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* Makefile.in: Use @@prefix@@ instead of hardwired `/usr/local'.
	  Clean up makefile rules which make in subdirs.
	  (ALL_SUBDIRS): Add makeinfo/macros to list of subdirectories.

	* configure.in (AC_CHECK_FUNCS): Add `bcopy' to list of things to
	check for.

Fri Mar  3 13:54:10 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi: Minor changes for incremental new edition 2.20.

Fri Mar  3 19:01:36 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* filesys.c (filesys_read_info_file): Local variable ST_SIZE is a
	long which has the value of finfo->st_size casted to it.
	* nodes.c (whole file): Similar changes.

	These changes and the following for makedoc.c were required for
	proper operation on HPm68k NetBSD.

Mon Feb 27 15:16:27 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makedoc.c (process_one_file): Local variable FILE_SIZE is a long
	which has the value of finfo.st_size casted to it.


Fri Mar  3 18:58:38 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* makeinfo.c (find_and_load): Cast fileinfo.st_size to a long for
	internal use.  This makes things work on NetBSD.


Fri Mar  3 13:54:10 1995  Robert J. Chassell  <bob@@hill.gnu.ai.mit.edu>

        * texinfo.texi: Minor changes for incremental new edition 2.20.

Fri Mar  3 09:41:39 1995  Brian J. Fox  <bfox@@wizard.datawave.net>

	* configure.in (TERMLIBS): Use AC_CHECK_LIB instead of
	AC_HAVE_LIBRARY.

Mon Jan  9 16:55:31 1995  Brian Fox  <bfox@@churchy.gnu.ai.mit.edu>

	* Makefile.in (DISTFILES): Add the directory EMACS-BACKUPS to the
	list of things to avoid distributing.

Tue Nov 29 17:48:37 1994  David J. MacKenzie  <djm@@duality.gnu.ai.mit.edu>

	* configure.in: Check for off_t.
	* util/texindex.c (main): Use it.

Fri Nov 11 14:46:28 1994  David J. MacKenzie  <djm@@duality.gnu.ai.mit.edu>

	* configure.in: Update for Autoconf v2.

Thu Oct 13 02:17:38 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* emacs/detexinfo.el (detexinfo): Handle @@!, @@?, @@^, @@".

Mon Aug  1 03:26:13 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>

	* texindex.c: Move the memset define down past string.h include.

Tue Jun 28 14:21:43 1994  David J. MacKenzie  (djm@@churchy.gnu.ai.mit.edu)

	* makeinfo/makeinfo.c: Add --help option.
	(usage): Take args for stream and error code.
	Change callers.
	(print_version_info): Write to stdout, not stderr.

Wed May 18 18:55:24 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/session.c (forget_window_and_nodes): Negate test for
	internal_info_node_p.  We only want to free the text if it is
	not an internal node.

Thu Mar 10 03:07:18 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)

	* texindex.c (memset): Fix invalid parm name (was 0).

Thu Feb 10 12:56:52 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * makeinfo/makeinfo.c (current_item_function): Don't loop if elt
        is NULL.

Wed Feb  9 12:21:09 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (minor_version): Release now at 1.60.

	* makeinfo/makeinfo.c (expand_filename): Additional fixes.  Now
	when called with NULL filename, makes an output filename from the
	input filename.
	(convert_from_loaded_file): If REQUIRE_SETFILENAME is #defined (no
	longer the default case) then error if no @@setfilename was found
	in the file.  If REQUIRE_SETFILENAME is not #defined, the input
	file starts either at the first line, or at the second line if the
	first line contains the text "\input", and the output filename is
	the input file name without directory and with ".info" replacing
	any extension found.
	(convert_from_loaded_file): Fixed bug in search for first
	occurence of "@@setfilename".

Tue Feb  8 14:16:58 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * configure.in: Check for sys/file.h.
        info/dir.c, info/filesys.c, info/makedoc.c, info/nodes.c,
        info/session.c, info/termdep.h, makeinfo/makeinfo.c
        [HAVE_SYS_FILE_H]: Include <sys/file.h>.

        * makeinfo/makeinfo.c (convert_from_loaded_file): Print
        real_output_filename instead of output_filename, so user knows
        exactly where output file is going.

        Fri Jun 11 14:34:30 1993  Ian Lance Taylor  (ian@@cygnus.com)
       	* configure.in: Check for sigprocmask and sigsetmask.
	* info/signals.h (HAVE_SIGSETMASK): Don't define.
	(HAVE_SIGPROCMASK): Use instead of _POSIX_VERSION.
	(BLOCK_SIGNAL, UNBLOCK_SIGNAL): If neither HAVE_SIGPROCMASK nor
	HAVE_SIGSETMASK is defined, define these to do nothing.
	* info/signals.c (sigprocmask): Don't compile if HAVE_SIGSETMASK
	is not defined.

	* info/terminal.c (terminal_prep_terminal): Don't clobber VINTR
	and VQUIT in conditionals.

Mon Feb  7 18:10:22 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (full_pathname): Correct to really return
	the full pathname of the input argument.  Now makeinfo
	/foo/bar.texi, where /foo/bar.texi contains "@@setfilename
	bar.info", correctly leaves the output file in "./bar.info".
	Note that "@@setfilename ../bar.info" still works; this is already
	an absolute pathname.

Sat Feb  5 13:04:05 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c: Version 1.59 released.

	* makeinfo/makeinfo.c (whole file):  Large number of changes allow
	the "-E filename" option to be used to write a macro expanded
	output file.  On a file which contains no @@include's and no
	@@macro's, the output file is identical to the input file.

	* makeinfo/makeinfo.c (declarations): Remove cm_tex ().  It is
	never used since it is implemented with `command_name_condition'.

	* makeinfo/makeinfo.c (add_char): Shift braces following the
	current break point if we have deleted any characters.
	(adjust_braces_following): New function adjusts all of the markers
	in the brace stack which follow HERE by AMOUNT.  This fixes a bug
	where (for example) @@var{} immediately following a line break
	which is the end of a sentence modified the output incorrectly.

Wed Feb  2 14:14:03 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo: Version 1.58.

	* makeinfo/makeinfo.c (cm_node): Add extra hair to allow
	backtracking through execution strings.  Add extra hair to allow
	the first node seen after a @@top node is seen to adjust the
	sectioning level of the @@top node and associated menus.
	Fix a few typos.
	Add facility for macros to invoke the original definition.  This
	works by not allowing a single macro to recurse.  Mutual recursion
	is also disallowed with this plan.

	* makeinfo/macros: New directory contains shippable macros.
	* makeinfo/macros/simpledoc.texi: Macros which simplify the most
	common uses of TeXinfo.  See the example file.
	Macros are now a reasonable way to get people started using
	TeXinfo.

Mon Jan 31 12:54:36 1994  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (minor_version): Increase to 57.

	* makeinfo/makeinfo.c (cm_node): Call execute_string on the node,
	next, prev, and up pointers.
	(reader_loop): Change logic for `@@bye'.  No longer required at the
	ends of executed strings.
	(execute_string): Do not append `@@bye' to the string to execute.

	* makeinfo/makeinfo.c (whole file): Use COMMAND_PREFIX instead of
	hardcoding `@@' character in strings and searches.

	* makeinfo/makeinfo.c (read_command): If HAVE_MACROS is defined,
	then recognize and execute macros here.
	(CommandTable): Add "macro" and "unmacro" to table if HAVE_MACROS
	is defined.

	* makeinfo/makeinfo.c (cm_macro, cm_unmacro, execute_macro)
	  makeinfo/makeinfo.c (get_macro_args, find_macro, add_macro)
	  makeinfo/makeinfo.c (delete_macro, array_len, apply):
	  New functions implement macro facility if HAVE_MACROS is
	  defined.

	* makeinfo/macro.texi (new file): Examples of using the new macro
	facility.

Mon Jan 31 10:24:52 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * makeinfo/makeinfo.c (executing_string): Restore global
        declaration.

Mon Jan 24 23:48:26 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * texinfo.texi: Various typo fixes from Bob Chassell
        <bob@@gnu.ai.mit.edu>.

Thu Jan  6 13:34:21 1994  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * texinfo.texi: Turned on smallbook format and @@set smallbook.

Wed Dec 15 20:08:43 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/filesys.h (DEFAULT_INFOPATH): Added /usr/local/info,
        /opt/gnu/info, /usr/share/info, and /usr/local/share/info.

Tue Dec 14 19:10:20 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * libtxi/Makefile.in (ALLOCA): Define from configure.

Fri Dec 10 04:33:12 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi: Put under RCS control.

Sun Dec 26 11:55:46 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/session.c (info_numeric_digit_arg_loop): Fix doc string.

	* info/infodoc.c (create_internal_info_help_node): Print out list
	of functions which have to keystroke equivalent if we support
	NAMED_FUNCTIONS.

	* info/filesys.c (compress_suffixes): Add ".gz" for "gunzip" to
	alist.

	* info/footnotes.c (make_footnotes_node): If refs[i] doesn't have
	a nodename, then it couldn't be a reference to a footnote.

	* info/nodemenu.c (get_visited_nodes): Handle the case where
	filter_func has left no possible buffers to select.

Sat Dec 25 10:35:56 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/infodoc.c (create_internal_info_help_node): Conditionalize
	generation of the help node based on the #define
	HELP_NODE_GETS_REGENERATED.  When this is not set (the default)
	the help node is generated exactly once, and is not gc'able.
	Otherwise, a new node is always created for the help window, and
	the old node gets garbage collected by the gc system.
	(info_find_or_create_help_window): Conditionalize window node
	selected based on the #define HELP_NODE_GETS_REGENERATED.

	* info/dir.c (add_menu_to_file_buffer): Place exactly one blank
	line between directory entries.

	* info/info.c (version_string): Update minor version to "11".

	* info/info.h: Update comment to "2.11".

	* info/dir.c (maybe_build_dir_node): Only add the contents of a
	new file if it is not identical to the file of the DIR buffer.

	* info/nodes.c (info_get_node): Call `maybe_build_dir_node' on
	"dir" as well as "localdir" to mimic emacs-19.22 "dir" merging
	behaviour.

Fri Dec  3 13:41:44 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* info/info-utils.c (canonicalize_whitespace): Suppress whitespace
	found at the start of STRING.

Sat Nov 20 14:00:50 1993  Brian J. Fox  (bfox@@hippie)

	* info/indices.c (DECLARE_INFO_COMMAND): Fix typo in assignment to
	`old_offset' (= instead of ==).

Tue Nov  2 12:22:40 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (make_index_entries_unique): New function
	makes a sorted array have all unique entries by appending numbers
	to the ends of strings.
	(sort_index): Call `make_index_entries_unique'.

Mon Sep 20 12:04:05 1993  Brian J. Fox  (bfox@@ai.mit.edu)

	* makeinfo/makeinfo.c (get_execution_string): New Function returns
	a pointer to an  EXECUTION_STRING structure.
	(execute_string): No longer uses a static string; call
	`get_execution_string' instead in order to get a free buffer for
	consing.

Sun May 23 07:00:20 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * Texinfo 3.1 released.

Sat May 22 18:21:27 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/info.c (info_patch_level): Increment constant to 1.

        * info/Makefile.in (DEFAULT_INFOPATH): Default definition deleted.
        Makefile.in: Put it here instead.
        * Makefile.in (MDEFINES): Add DEFAULT_INFOPATH.

        * configure.in: check for vfprintf and vsprintf.

        * makeinfo/makeinfo.c: Version 1.55.

        * makeinfo/makeinfo.c (add_word_args, execute_string) [HAVE_VARARGS_H]:
        Don't use this definition unless HAVE_VSPRINTF is also defined.
        (error, line_error, warning) [HAVE_VARARGS_H]: Don't use this
        definition unless HAVE_VFPRINTF is also defined.
        Remove indentation of all cpp directives, except for #pragma.

Fri May 21 14:34:24 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * texinfo.texi: Rename to texi.texi.
        Change @@setfilenname and START-INFO-DIR-ENTRY to `texi.info'.

        * Makefile.in (MDEFINES): Pass LDFLAGS to sub-makes.
        (realclean): Delete `configure'.
        Changed all references to texinfo.info to texi.info

        * configure.in: Add AC_PROG_RANLIB, and AC_CONST.
        Check for `rindex' function.
        Check for varargs.h.
        Clean up symbol names for header files so a single AC_HAVE_HEADERS
        can be used.
        (AC_INIT): Use texi.texi instead of makeinfo/makeinfo.c

        * info/info-utils.h: Copy definitions of bcopy, index, and rindex
        (with appropriate #ifdef wrappers) from termdep.h.  These are
        included by a mutually exclusive set of files.

        * info/termdep.h [HAVE_SYS_PTEM]: Use HAVE_SYS_PTEM_H instead.

        * info/terminal.c, info/termdep.h [HAVE_TERMIO]: Use HAVE_TERMIO_H
        instead.

        * info/makedoc.c, info/filesys.c [!O_RDONLY]: Include fcntl.h or
        sys/fnctl.h, depending on whether HAVE_SYS_FCNTL_H is set.

        * info/termdep.h: Remove all indentation in #-exprs.
        Remove old assumptions about bcopy, index, and rindex.
        [HAVE_BCOPY]: Define bcopy.
        [HAVE_RINDEX]: Define index and rindex.

        * info/nodes.c (info_get_node): Don't call stricmp if nodename is
        NULL. Remove indentation in #-exprs.

        * info/echo_area.c (echo_area_stack_depth): Declare static.
d2917 5
a2921 7
        * info/Makefile.in (DEFAULT_INFOPATH): Make separate Makefile
        variable so it can be overridden more easily by the user.  Add `.'
        to beginning of path.
        (clean): Delete core.* (386bsd core files).
        (MAKEDOC): Variable removed.  Refer to `makedoc' explicitly.
        (funs.h): Add `:' commands after if, to avoid spurious nonzero
        exit statuses.
d2923 2
a2924 1
        * info/userdoc.texi: Improved comments explaining its purpose.
d2926 1
a2926 4
        * makeinfo/makeinfo.c [HAVE_VARARGS_H]: Include varargs.h.
        (error, line_error, warning, add_word_args,
          execute_string)[HAVE_VARARGS_H]: New versions that
        use varargs.  From bfox.
d2928 1
a2928 1
        * makeinfo/Makefile.in (clean): Delete core.* (386bsd core files).
d2930 2
a2931 1
        * util/Makefile.in (clean): Remove core.* (386bsd core files).
d2933 1
a2933 4
        * libtxi/Makefile.in: Remove all references to $(common).
        (RANLIB): New variable, set from autoconf.
        (libtxi.a): Use $(RANLIB) instead of `ranlib' in target rules.
        (clean): Delete core.* (386bsd core files).
d2935 1
a2935 1
Tue May 18 12:08:24 1993  Robert J. Chassell (bob at grackle.stockbridge.ma.us)
d2937 1
a2937 3
        * emacs/texinfmt.el (texinfo-format-refill): Do not fill a section
        title line with the asterisks, hyphens, etc. that underline
        it in any circumstance.
d2939 3
a2941 1
Sun May 16 13:53:43 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)
d2943 1
a2943 1
        * util/mkinstalldirs: handle relative pathnames.
d2945 1
a2945 1
Fri May 14 20:18:49 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)
d2947 1
a2947 1
        * util/mkinstalldirs: initialize IFS if unset.
d2949 2
a2950 1
Tue May 11 06:33:14 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)
d2952 1
a2952 1
        * makeinfo/makeinfo.c (cm_item): don't dereference item_func if NULL.
d2954 1
a2954 1
Mon May 10 14:50:31 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)
d2956 1
a2956 1
        * Texinfo 3.0 released.
d2958 1
a2958 1
        * Makefile.in (ALLOCA): Provide for substitution.
d2960 1
a2960 1
Mon May 10 10:12:53 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)
d2962 1
a2962 1
        * emacs/texinfmt.el (texinfmt-version): Updated year.
d2964 3
a2966 1
Fri Apr 16 04:48:03 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)
d2968 2
a2969 1
        * makeinfo/makeinfo.c: Version 1.54 from bfox.
d2971 1
a2971 15
        * util/fixfonts: Replace instances of `[..]' with `test'.
        Use more portable `test' arguments: `z$foo = z' instead of `! $foo'.
        Robustify quoting in eval assignments.
        (textfmdir, texpkdir, texgfdir): Don't override definition from
        environment, if any.
        Trap EXIT, SIGHUP, SIGINT, SIGQUIT, SIGTERM to delete temp files
        instead of trying to remove them explicitly before calling exit.
        When changing cwd, do so in subshell, in case various tex*dir
        variables are relative.
        Don't use `head', `dirname', or `basename'.  These don't behave
        consistently and/or don't even exist on some systems.  They can
        all be emulated with `sed' anyway.
        (tempfile2_line1): New variable.  Use it instead of running
        process to extract first line out of tempfile2 multiple times.
        Eliminate some gratuitous uses of $tempfile2, such as in for loops.
d2973 2
a2974 1
Fri Mar 26 23:25:13 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)
d2976 2
a2977 1
        * texinfo.texi: @@setfilename texinfo.info.
d2979 2
a2980 4
        * makeinfo/makeinfo.c (reader_loop, end_insertion): Fix typos in
        comments.
        (handle_variable_internal): Handle the case that there further
        menu text after a false ifset/ifclear.
d2982 1
a2982 3
        * util/texi2dvi: Version 0.4
        Replace all instances of `[ ... ]' with `test'.
        Updated bug-reporting address.
d2984 2
a2985 143
Thu Mar 25 12:31:30 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/Makefile.in (install): Install info.1 man page.
        (uninstall): Remove installed info.1 man page.

        * info/infoman.texi: Standalone manual renamed to info-stnd.texi.
        Makefile.in: Targets updated appropriately.

        * info/Makefile.in (LDEFS): New variable.  Use it for info-local
        macros, since DEFS will be inherited from parent make and any
        local definitions will get clobbered.

        * info/RELEASE: Renamed to info/NEWS.

        * README: New file.

        * Makefile.in (topclean): New target.

        * Getting-started: Renamed to INTRODUCTION.  Former name is too
          long (over 14 chars).

        * New-features: Renamed to NEWS.

        * Makefile.in (MDEFINES): Set it.

        * Makefile.in (dist): Use --gzip option to tar to make sure
          resulting file is compressed with gzip.  Change tar file
          extension from `.Z' to `.z'.

        * Makefile.in (DISTFILES): Filter out any file or directory names
          starting with `='.

        * fixfonts: Moved to util/fixfonts.

        * RELEASE: Deleted.

        * makeinfo/Makefile.in (VPATH): Use $(srcdir), not @@srcdir@@.
        (common): Use ../libtxi, not ../common.
        (makeinfo.in): Run makeinfo with --no-split.

        * makeinfo/makeinfo.texi: Changes from bob.

        * util/Makefile.in (VPATH): Use $(srcdir), not @@srcdir@@.
        (common): Use ../libtxi, not ../common.

        * util/fixfonts: Moved from top-level directory.

Wed Mar 24 10:21:31 1993  Robert J. Chassell  (bob at grackle)

        * emacs/texinfmt.el (texinfo-format-region): Do not require
        `@@setfilename' line; delete `\input texinfo' line if part of
        region.

        * emacs/texinfmt.el (texinfo-raise-lower-sections): Raise or lower the
        hierarchical level of chapters, sections, etc. according to
        `@@raisesections' and `@@lowersections' commands.

Thu Mar 18 16:02:27 1993  Robert J. Chassell  (bob at grackle)

        * emacs/texinfo.el (texinfo-show-structure): Indent *Occur* buffer
        according to the structure of the file.

Sat Mar  6 05:16:44 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi: use ${1+"$@@"}, not just "$@@".

Tue Feb  2 08:38:06 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * info/Makefile.in: Replace all "--nosplit" arguments to makeinfo
        with "--no-split"

Sun Jan 31 18:16:58 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/texi2dvi: Don't put .dvi and related auxillary files in same
        directory as source files.  Put them in current directory instead.
        (TEXINPUTS_orig): New variable.
        (file_texi): Variable removed.
        (filename_texi): New variable.
        (command_line_filename): Use this wherever references to file_texi
        occured except in setting filename_noext.
        (TEXINPUTS): Current directory and source directory where input
        file resides prepended to standard path before invoking TeX.

Wed Jan 27 16:24:37 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * util/Makefile.in: overhauled.

Tue Jan 26 21:04:23 1993  Noah Friedman  (friedman@@prep.ai.mit.edu)

        * Makefile.in, info/Makefile.in, makeinfo/Makefile.in: Overhauled.

        * configure.in: Renamed from texinfo.in.
          Incorporated makeinfo/makeinfo.in, info/info.in, and
          util/util.in.  Create all child Makefiles.

        * makeinfo/makeinfo.in, info/info.in: Deleted (incorporated into
        top configure.in).

        * util/util.in: Deleted (incorporated into ../configure.in).

Mon Jan 25 10:59:49 1993  Brian Fox  (bfox@@cubit)

        * info/info.c: New version 2.9; new variable INFO_PATCH_LEVEL
        appears in the version string if it is non-zero.  New function
        version_string () produces the current version string, as in 2.8-p1.

        * info/dir.c: New file implements Gillespies `localdir' hacks.

        * info/nodes.c (info_get_node): Now calls maybe_build_dir_node ()
        if the file name to look for is "dir".

        * info/nodes.h: New flag N_CannotGC unconditionally prevents garbage
        collection of a file buffer's contents.  Used when "dir" is made
        from at least one "localdir".

Fri Jan 22 11:36:42 1993  Brian Fox  (bfox@@cubit)

        * info/footnotes.c: Do not declare auto_footnotes_p as "extern" in
        this file.

Thu Jan 21 08:57:08 1993  Brian Fox  (bfox@@cubit)

        * info/info.c: New version 2.8.

        * info/userdoc.texi, info/infoman.texi, info/info.texi: Fully
        document Info; create both online and printed manual versions.
        "userdoc.texi" contains exactly the documentation for GNU Info 2.x.
        "infoman.texi" is a wrapper for that file; it is meant to produce
        printed documentation. "info.texi" has the user documentation as a
        complete chapter within itself, but continues to contain the Info
        tutorial.

        * info/makedoc.c: Convert "ea_" into "echo_area_" when creating the
        command name.

Fri Jan 15 16:50:35 1993  Brian Fox  (bfox@@cubit)

        * info/search.c (skip_node_characters): New argument NEWLINES_OKAY if
        non-zero says that newlines should be skipped over during parsing.

        * info/info-utils.c (info_parse_node): New argument NEWLINES_OKAY if
        non-zero says that newlines should be skipped while parsing out
        the nodename specification.
d2987 1
a2987 1
Wed Jan 13 14:42:33 1993  Brian Fox  (bfox@@cubit)
d2989 1
a2989 2
        * info/makedoc.c: Remove "info_" from the front of the command name
        before installing it.
d2991 1
a2991 2
        * info/session.c (info_menu_or_ref_item): A label of "Menu" is okay if
        the builder is not info_menu_of_node ();
d2993 1
a2993 3
        * info/m-x.c: New function replace_in_documentation () replaces \\[foo]
        with the keystrokes you type to get that command.  Now used in
        indices.c, info.c, infodoc.c.
d2995 4
a2998 1
Mon Jan 11 10:27:41 1993  Brian Fox  (bfox@@cubit)
d3000 1
a3000 2
        * info/variables.c, h: New files contain describe-variable and stuff
        moved out of m-x.c.
d3002 1
a3002 2
        * info/m-x.c: Move VARIABLE_ALIST and variable functions into
        variables.c.  Add documentation string to variable definition.
d3004 2
a3005 2
        * info/echo_area.c (push_echo_area): Zero the contents of
        echo_area_completion_items after pushing the vars.
d3007 1
a3007 1
Sat Jan  9 11:59:47 1993  Brian Fox  (bfox@@cubit)
d3009 1
a3009 2
        * info/Makefile.in: Add footnotes.c,h,o to the appropriate Makefile
        variables.
d3011 2
a3012 2
        * info/window.c (window_tile_windows): New function divides the
        available space among the visible windows.
d3014 1
a3014 2
        * info/session.c (info_tile_windows): New function calls
        window_tile_windows.
d3016 1
a3016 3
        * info/footnotes.c, footnotes.h: New file implements functions for
        aiding automatic footnote display when entering a node which has
        footnotes.
d3018 2
a3019 1
        * info/m-x.c: New user-variable "automatic-footnotes".
d3021 3
a3023 2
        * info/window.c (window_physical_lines) New function counts the
        carriage returns found in NODE.
d3025 1
a3025 1
Wed Jan  6 11:24:19 1993  Brian Fox  (bfox@@cubit)
d3027 1
a3027 1
        * info/general.h: #include <unistd.h> if we have it.
d3029 3
a3031 1
Tue Jan  5 11:12:33 1993  Brian Fox  (bfox@@cubit)
d3033 1
a3033 2
        * info/info-utils.c (info_concatenate_references): If either arg is
        NULL, return the other arg.
d3035 1
a3035 3
        * info/indices.c (info_indices_of_file_buffer): Simplified and
        corrected loop through tags/nodes of file buffer looking for
        indices.
d3037 1
a3037 2
        * info/search.c (skip_node_characters): Rewrite "if" statement for
        clarification and conciseness.
d3039 5
a3043 1
Fri Jan  1 03:18:26 1993  Brian Fox  (bfox@@cubit)
d3045 1
a3045 2
        * info/info.in: Check for setvbuf (), and check to see whether the args
        are reversed.
d3047 3
a3049 2
        * info/dribble.c (open_dribble_file) Check HAVE_SETVBUF and
        SETVBUF_REVERSED when setting the buffering on info_dribble_file.
d3051 1
a3051 1
Thu Dec 31 20:14:13 1992  Brian Fox  (bfox@@cubit)
d3053 2
a3054 2
        * info/session.c (info_select_reference) If the node couldn't be found,
        look for the label as a filename (i.e., "(LABEL)Top").
d3056 3
a3058 1
Wed Dec 30 01:57:50 1992  Brian Fox  (bfox@@cubit)
d3060 1
a3060 1
        * New Version 2.7 Beta.
d3062 1
a3062 3
        * info/echo_area.c: Numerous functions now do something with the
        numeric argument.  Kill ring implemented, as well as yank and
        yank_pop.  Also transpose-chars.
d3064 4
a3067 3
        * info/window.c (window_make_modeline): Check node->flags for
        N_IsCompressed and display "zz" in the modeline if the node comes
        from a file which is compressed on disk.
d3069 2
a3070 1
Mon Dec 28 17:33:12 1992  Brian Fox  (bfox@@cubit)
d3072 1
a3072 4
        * info/filesys.c, info/nodes.c: New member of FILE_BUFFER "FILESIZE"
        contains the size of file_buffer->contents.  finfo.st_size is no
        longer relied upon to read the contents of files, since the new
        function (filesys_read_info_file) can read compressed files.
d3074 4
a3077 4
        * info/filesys.c (info_find_fullpath) If a file starts with a slash (or
        tilde expansion causes it to start with a slash) still call
        info_find_file_in_path () on it so that we can find files with
        compression suffixes.
d3079 9
a3087 1
        * info/m-x.c: New variable "gc-compressed-files".
d3089 1
a3089 1
Tue Dec 22 03:45:28 1992  Brian Fox  (bfox@@cubit)
d3091 2
a3092 1
        * info/info.c: Version 2.6 Beta.
d3094 1
a3094 2
        * info/indices.c (info_index_next): Improve the final search for the
        matched index entry.
d3096 1
a3096 4
        * info/session.c (move_to_screen_line): New function implements `M-r'.
        Given a numeric argument, move point to the start of that line in
        the current window; without an arg, move to the center line.
        * infomap.c: Put move_to_screen_line () on `M-r'.
d3098 1
a3098 2
        * info/nodes.c (adjust_nodestart): Don't set N_UpdateTags unless the
        node came from a tags table.
d3100 2
a3101 4
        * info/nodes.c (info_find_file_internal): If the filename being looked
        for doesn't start with a `/', then additionally compare the
        filename against the fullpath of the file buffer sans the
        directory name.  This can happen when selecting nodemenu items.
d3103 1
a3103 1
Mon Dec 21 10:07:18 1992  Brian Fox  (bfox@@cubit)
d3105 1
a3105 5
        * info/session.c, info/display.c: Remove all references to
        active_window_ch, active_window_cv, cursor_h, and cursor_v.  The
        single function display_cursor_at_point () is used for all cursor
        movement, and to place the terminal's cursor at the right location
        on the screen.
d3107 1
a3107 1
Sat Dec 19 12:01:33 1992  Brian Fox  (bfox@@cubit)
d3109 1
a3109 6
        * info/nodemenu.c: New file implements a few functions for manipulating
        previously visited nodes.  `list-visited-nodes' produces a menu of
        the nodes that could be reached by info_history_node () in some
        window.  `select-visited-node' is similar to `list-visited-node'
        followed by `info-menu-item', but doesn't display a window with
        the visited nodes menu.
d3111 1
a3111 3
        * info/session.c (info_numeric_arg_digit_loop): If redisplay had been
        interrupted, then redisplay all of the windows while waiting for
        input.
d3113 1
a3113 3
        * info/display.c (display_was_interrupted_p): New variable keeps track
        of interrupted display.  Used in
        info/session.c:info_numeric_arg_digit_loop ().
d3115 1
a3115 2
        * info/session.c (info_global_next, info_global_prev): Use the numeric
        argument passed to determine how many nodes to move.
d3117 1
a3117 2
        * info/session.c (info_scroll_forward, info_scroll_backward): If the
        invoking key is not SPC or DEL only do Page Only scrolling.
d3119 2
a3120 1
Thu Dec 17 01:34:22 1992  Brian Fox  (bfox@@cubit)
d3122 1
a3122 2
        * info/display.c (display_update_one_window): Allow W_NoWrap to affect
        window display.
d3124 3
a3126 4
        * info/window.c (calculate_line_starts): Now takes a WINDOW * as an
        argument, and simply does the calculation, placing the results
        into window->line_starts and window->line_count.  It also handles
        W_NoWrap in window->flags.
d3128 2
a3129 1
Mon Dec 14 02:18:55 1992  Brian Fox  (bfox@@cubit)
d3131 1
a3131 2
        * info/session.c (info_backward_scroll): Don't try to get previous node
        if the top of the node isn't currently being displayed.
d3133 3
a3135 3
        * info/window.c (window_adjust_pagetop) Use new variable
        "window_scroll_step" to attempt to control the amount which the
        window scrolls.
d3137 3
a3139 1
        * info/m-x.c (info_variables) Add "scroll-step" to the list.
d3141 2
a3142 1
Thu Dec 10 08:52:10 1992  Brian Fox  (bfox@@cubit)
d3144 1
a3144 3
        * info/m-x.c: New variable entry show-index-matches.  When set to
        non-zero the matched portion of the search string is indicated
        with ` and '.  Perhaps I should use `|' inst|ea|d?
d3146 4
a3149 2
        * info/echo_area.c (ea_possible_completions): Always build completions
        before checking to see how many there were.
d3151 3
a3153 2
        * info/info-utils.c: (info_concatenate_references): New utility
        function concatenates references.
d3155 1
a3155 2
        * info/Makefile.in: Add indices.c and indices.h to SRCS and HDRS.
          Add indices.c to CMDFILES.
d3157 12
a3168 2
        * info/indices.c, info/indices.h: New file implements `i' and `,'
        commands of info, and provides index searching capabilities.
d3170 1
a3170 2
        * info/echo_area.c (info_read_completing_in_echo_area):  Split off into
        separate callable function info_read_completing_internal ().
d3172 1
a3172 2
        * info/echo_area.c (info_read_maybe_completing): New function calls
        info_read_completing_internal () with non-forcing argument.
d3174 1
a3174 4
        * info/session.c: Rename down_next_upnext_or_error () and
        prev_up_or_error () to forward_move_node_structure (), and
        backward_move_node_structure ().  Implement new commands
        info_global_next () and info_global_prev ().
d3176 1
a3176 2
        * info/infomap.c (initialize_info_keymaps): Bind `[' and `]' to
        backward_, forward_move_node_structure () respectively.
d3178 1
a3178 2
        * info/session.c (info_menu_digit): Called with "0" as arg, select the
        last menu item.
d3180 3
a3182 2
        * info/infomap.c (initialize_info_keymaps): "0" calls
        info_menu_digit ().
d3184 1
a3184 3
        * info/session.c (info_move_to_xref): Take dir into account when there
        are xrefs and menu items in the node and we are wrapping
        backwards.
d3186 2
a3187 1
Tue Dec  8 09:57:58 1992  Brian Fox  (bfox@@cubit)
d3189 1
a3189 1
        * info/info.c: Version 2.5 Beta.
d3191 1
a3191 3
        * info/terminal.c (terminal_insert_lines, terminal_delete_lines) Do not
        expect tgoto to return a new string; it returns the address of a
        static buffer.
d3193 2
a3194 2
        * info/infodoc.c (info_find_or_create_help_window) Correct check for
        prior existing help node.
d3196 3
a3198 2
        * info/m-x.c (set_variable): Allow variables to have a list of choices.
        Add new variable scroll-behaviour.
d3200 1
a3200 4
        * info/session.c (down_next_upnext_or_error, prev_up_or_error) New
        functions implement user-controlled behaviour when attempting to
        scroll past the bottom or top of a node.  New variable
        info_scroll_behaviour is user visible as "scroll-behaviour".
d3202 2
a3203 2
        * info/session.c (info_scroll_forward, info_scroll_backward) Call new
        functions for user-controlled scroll behaviour.
d3205 1
a3205 2
        * info/terminal.c (terminal_initialize_terminal) Set PC from BC not
        from BUFFER.
d3207 1
a3207 1
Mon Dec  7 11:26:12 1992  Brian Fox  (bfox@@cubit)
d3209 1
a3209 3
        * util/texindex.c: Change EXIT_SUCCESS and EXIT_FATAL to TI_NO_ERROR
        and TI_FATAL_ERROR respectively.  This avoids namespace conflicts
        on NeXT 2.0.
d3211 3
a3213 1
Sat Dec  5 00:07:59 1992  Brian Fox  (bfox@@cubit)
d3215 1
a3215 3
        * info/info.c: New option "--subnodes" says to recursively dump the
        menus of the nodes that you wish to dump.  Menu items which point
        to external nodes are not dumped, and no node is dumped twice.
d3217 1
a3217 1
Thu Dec  3 16:11:02 1992  Brian Fox  (bfox@@cubit)
d3219 2
a3220 3
        * info/session.c (info_error) Don't ring the bell if
        info_error_rings_bell_p is zero.  (info_abort_key) Ring the bell
        if printing "Quit" in the echo area wouldn't do it.
d3222 1
a3222 3
        * info/m-x.c (set_variable) New functions allows setting of
        variables in the echo area.  Currently, only visilble-bell and
        errors-ring-bell are implemented.
d3224 2
a3225 1
Wed Dec  2 13:11:37 1992  Brian Fox  (bfox@@cubit)
d3227 1
a3227 2
        * info/nodes.c, info/makedoc.c: If O_RDONLY is not defined by
        sys/file.h, include sys/fcntl.h.
d3229 4
a3232 2
        * info/filesys.c (info_file_in_path): Expand leading tildes found
        within directory names.
d3234 2
a3235 3
        * info/terminal.c (terminal_initialize_terminal) Set ospeed to 13 if
        not settable any other way.  It is an index into an array of
        output speeds.
d3237 17
a3253 1
        * info/display.c (free_display) Do not free a NULL display.
d3255 1
a3255 2
        * info/display.c (string_width): New functions returns the width of
        STRING when printed at HPOS.
d3257 3
a3259 1
Sun Nov 29 01:24:42 1992  Brian Fox  (bfox@@cubit)
d3261 4
a3264 1
        * info/info.c: New version 2.4 beta.
d3266 3
a3268 2
        * info/general.h: #define info_toupper and info_tolower which check
        their arguments before performing any conversion.
d3270 1
a3270 1
        * info/search.c, info/echo_area.c: Use info_toupper.
d3272 5
a3276 1
Sat Nov 28 14:23:24 1992  Brian Fox  (bfox@@cubit)
d3278 1
a3278 3
        * info/session.c (info_scroll_forward, info_scroll_backward) If at
        last/first page of the node, and the last command was
        forward/backward, do info_next/prev/_node.
d3280 1
a3280 2
        * info/session.c: New function info_select_reference_this_line gets
        menu or cross reference immediately.
d3282 2
a3283 2
        * info/infomap.c (initialize_info_keymaps): Add info_keymap[LFD] to
        invoke info_select_reference_this_line ().
d3285 2
a3286 4
        * info/session.c (info_last_reference) Rename to
        info_history_reference.  Wrote info_last_reference, and
        info_first_reference which go to the last or first node of an info
        file.
d3288 1
a3288 1
Fri Nov 27 00:59:02 1992  Brian Fox  (bfox@@cubit)
d3290 2
a3291 2
        * info/info.c: New version 2.3.  Completed implementing contents of
        TODO file.
d3293 3
a3295 1
        * info/session.c (info_redraw_display): Fix C-l with numeric arg.
d3297 4
a3300 1
Thu Nov 26 20:14:18 1992  Brian Fox  (bfox@@cubit)
d3302 3
a3304 4
        * info/m-x.c: New file implements reading named commands in the echo
        area, along with a new function "info-set-screen-height".
        Compilation of this file and some code in others controlled by the
        Makefile variable NAMED_COMMANDS (set to -DNAMED_COMMANDS).
d3306 1
a3306 7
        * info/window.c (window_new_screen_size) Rewrite from scratch, allowing
        clean growth and shrinkage of the screen.  New variable
        window_deletion_notifier is a pointer to a function to call when
        the screen changes size, and some windows have to get deleted.
        The function is called with the window to be deleted as an
        argument, and it should clean up dangling references to that
        window.
d3308 4
a3311 2
        * info/session.c (initialize_info_session): Set
        window_deletion_function to forget_window_and_nodes.
d3313 4
a3316 4
        * info/display.c (display_update_one_window): If the first row of the
        window to display wouldn't appear in the_screen, don't try to
        display it.  This happens when the screen has been made
        unreasonably small, and we attempt to display the echo area.
d3318 1
a3318 1
Tue Nov 24 00:47:20 1992  Brian Fox  (bfox@@cubit)
d3320 4
a3323 1
        * Release Info 2.2.
d3325 6
a3330 3
        * info/session.c: New functions implement reading typeahead and
        implement C-g flushing typed ahead characters.
        (info_search_internal): allows C-g to exit multi-file searches.
d3332 3
a3334 1
Mon Nov 23 01:53:35 1992  Brian Fox  (bfox@@cubit)
d3336 7
a3342 6
        * info/nodes.c: Remove calls to sscanf (), replacing them with calls to
        atol (), since that is much faster.
        (get_nodes_of_tags_table) Only check for "(Indirect)" if we
        haven't parsed any nodes out of the tags table.  Increase the
        amount that file_buffer->nodes grows to 100 from 50.  These two
        together sufficiently speed up the parsing process.
d3344 4
a3347 4
        * info/nodes.c: info_get_node_of_file_buffer_tags (),
        info_get_node_of_file_buffer_nodes (): Search the appropriate list
        and return a node.  This was simply a cut and paste edit to
        functionalize the code.
d3349 5
a3353 2
        * info/TODO: Remove suggestion for partial tag parsing, since tag
        parsing is much faster now.
d3355 4
a3358 1
Sat Nov 21 02:48:23 1992  Brian Fox  (bfox@@cubit)
d3360 4
a3363 1
        * info/makedoc.c: New File replaces makedoc.sh shell script.
d3365 2
a3366 2
        * info/infomap.c: Install info_isearch (on C-s) and
        info_reverse_isearch (on C-r) for Info windows.
d3368 1
a3368 3
        * info/session.c (incremental_search, info_isearch,
        info_reverse_isearch) New functions implement incremental
        searching.
d3370 1
a3370 1
Fri Nov 20 00:01:35 1992  Brian Fox  (bfox@@cubit)
d3372 1
a3372 2
        * info/terminal.c (terminal_initialize_terminal): Declare and set up
        `ospeed'.  Turn off C-s and C-q processing.
d3374 1
a3374 6
        * info/session.c (info_show_point) When this function is called, the
        desired result is to show the point immediately.  So now it calls
        set_window_pagetop () if the new pagetop is not the same as the
        old one.  This means that info_prev_line (), info_next_line (),
        info_forward_word (), and info_backward_word () can all scroll the
        window if they have to.
d3376 3
a3378 1
Thu Nov 19 12:27:07 1992  Brian Fox  (bfox@@cubit)
d3380 3
a3382 2
        * info/session.c (set_window_pagetop): Add scrolling to make this
        faster.
d3384 1
a3384 2
        * info/echo_area.c (push/pop_echo_area): Remember the list of items to
        complete over.
d3386 3
a3388 2
        * info/session.c (info_forward_char): Don't let point get equal to
        nodelen, only to nodelen - 1.
d3390 1
a3390 2
        * info/display.c: New function display_scroll_display () scrolls the
        rmembered display as well as the text on the actual display.
d3392 2
a3393 4
        * info/terminal.c: New functions terminal_scroll_terminal (),
        terminal_scroll_down (), and terminal_scroll_up ().  All
        implemented using "al" and "dl" termcap capabilities. (i.e.,
        insert and delete line).
d3395 1
a3395 1
Wed Nov 18 15:05:14 1992  Brian Fox  (bfox@@cubit)
d3397 1
a3397 1
        * info/termdep.h: Only define HAVE_FCNTL_H if !aix and !ultrix.
d3399 1
a3399 1
Tue Nov 17 20:35:08 1992  Brian Fox  (bfox@@cubit)
d3401 1
a3401 1
        * First Beta Release of Info 2.0.
d3403 2
a3404 1
Sun Nov  1 02:21:05 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)
d3406 2
a3407 2
        * util/texi2dvi (--force): Option removed.  Always run tex at least
        once, don't bother checking if .dvi file is newer than source.
d3409 3
a3411 1
Fri Oct 30 02:16:28 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)
d3413 3
a3415 6
        * util/texi2dvi (-D): debugging option renamed from '-d'.
        Made check to enable debugging more terse.
        When checking if index files have changed, use
        variable $this_file instead of $file in for loop.
        (file_texi): wherever the variable $file was used to reference
        the texinfo file, substituted $file_texi.
d3417 1
a3417 1
Sat Oct 17 07:30:34 1992  Brian J. Fox  (bfox@@helios)
d3419 1
a3419 2
        * util/texindex.c: Remove references to USG replacing them with a
        define declaring the actual feature required or missing.
d3421 1
a3421 1
Thu Oct 15 16:17:47 1992  Robert J. Chassell  (bob@@nutrimat.gnu.ai.mit.edu)
d3423 3
a3425 2
        * emacs/texinfmt.el (texinfo-format-setfilename): Remove date from
        Info file header so regression testing is easier.
d3427 2
a3428 1
Tue Sep 15 16:28:35 1992  Robert J. Chassell  (bob at grackle)
d3430 1
a3430 5
        * emacs/texinfmt.el (texinfmt-version): New variable.
        (texinfo-format-setfilename): Include date and
        version in Info file header.
        Better documentation for @@definfoenclose
        Handle whitespace after @@end iftex, etc.
d3432 2
a3433 1
Thu Sep  3 09:25:37 1992  Robert J. Chassell  (bob at grackle)
d3435 4
a3438 1
        * emacs/texnfo-upd.el: Fix typo re `texinfo-sequential-node-update.'
d3440 1
a3440 1
Tue Aug 18 08:56:24 1992  Robert J. Chassell  (bob at grackle)
d3442 1
a3442 1
        * emacs/texinfmt.el (texinfo-value): Revise syntax.
d3444 2
a3445 3
        * emacs/texnfo-upd.el (texinfo-start-menu-description):
        New function to insert title as description in a menu.
        (texinfo-make-menu-list): Remove automatic title insertion.
d3447 2
a3448 2
        * emacs/texinfo.el (texinfo-mode-map): Add keybinding for
        texinfo-start-menu-description.
d3450 2
a3451 1
Wed Jul 29 11:58:53 1992  Robert J. Chassell  (bob at grackle)
d3453 2
a3454 3
        * emacs/texinfmt.el (texinfo-set): Revise to set a string to the flag.
        (texinfo-value): @@value{flag}: New command which inserts the
        string to which the flag is set.
d3456 1
a3456 1
Tue Jul  7 15:10:52 1992  Robert J. Chassell  (bob at grackle)
d3458 1
a3458 4
        * emacs/texnfo-upd.el (texinfo-master-menu): Error message if file
        contains too few nodes for a master menu.
        (texinfo-insert-master-menu-list): Only attempt to insert detailed
        master menu if there is one.
d3460 3
a3462 1
Wed Jun 10 15:26:18 1992  Robert J. Chassell  (bob at grackle)
d3464 3
a3466 2
        * emacs/texinfmt.el (texinfo-append-refill): Refill properly when lines
        begin with within-paragraph @@-commands.
d3468 1
a3468 1
Tue Jun  9 12:28:11 1992  Robert J. Chassell  (bob at grackle)
d3470 1
a3470 2
        * emacs/texinfmt.el: Add `texinfo-deffn-formatting-property' and
        `texinfo-defun-indexing-property' to @@deffn commands.
d3472 2
a3473 1
Mon Jun  8 11:52:01 1992  Robert J. Chassell  (bob at grackle)
d3475 1
a3475 3
        * emacs/texnfo-upd.el: Replace `(mark-whole-buffer)' with
        `(push-mark (point-max) t) (goto-char (point-min))'
        to avoid `Mark set' messages.
d3477 1
a3477 1
Fri Jun  5 15:15:16 1992  Robert J. Chassell  (bob@@kropotkin.gnu.ai.mit.edu)
d3479 1
a3479 3
        * emacs/texnfo-upd.el (texinfo-check-for-node-name): Offer section
        title as prompt.
        (texinfo-copy-next-section-title): Copy title correctly.
d3481 3
a3483 1
Thu May 28 20:34:17 1992  Robert J. Chassell  (bob@@hill.gnu.ai.mit.edu)
d3485 1
a3485 4
        * emacs/texinfmt.el: @@vtable defined, parallel to @@ftable, for
        variables.
        (texinfo-append-refill): set case-fold-search nil so @@TeX is not
        confused with @@tex.
d3487 1
a3487 1
Thu Mar 26 21:36:41 1992  Robert J. Chassell  (bob@@kropotkin.gnu.ai.mit.edu)
d3489 2
a3490 6
        * emacs/makeinfo.el: Rename temp buffer from `*Makeinfo*' back to
        `*compilation*' so `next-error' works; unfortunately,
        `*compilation*' is written into the code as the name
        `next-error' needs.
        Rename `makeinfo-recenter-makeinfo-buffer' back to
        `makeinfo-recenter-makeinfo-buffer'
d3492 19
a3510 1
Thu May 14 21:14:25 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)
d3512 5
a3516 3
        * util/fixfonts: Enclosed most variable references with "" to prevent
        potential globbing and other weirdness.  Eliminated uses of
        ${var-value}, which unfortunately isn't portable.
d3518 8
a3525 1
        * util/texi2dvi: rewritten from scratch.
d3527 3
a3529 1
Sat Apr 18 23:46:25 1992  Charles Hannum  (mycroft@@hal.gnu.ai.mit.edu)
d3531 3
a3533 3
        * util/fixfonts: Re-evaluate prefix and libdir if inherited (to resolve
        variable references from make).
        (texlibdir): Don't add '/tex', since it's already there.
d3535 4
a3538 1
Fri Apr 10 14:51:23 1992  Noah Friedman  (friedman@@prep.ai.mit.edu)
d3540 1
a3540 3
        * util/fixfonts: set prefix and libdir only if they are not already
        defined (i.e. not inherited from the environment).
        Changed default path for libdir to be consistent with Makefile.
d3542 1
a3542 1
Tue Mar  3 13:17:42 1992  Robert J. Chassell  (bob at grackle)
d3544 3
a3546 3
        * emacs/texnfo-upd.el (texinfo-insert-master-menu-list): Insert a
        master menu only after `Top' node and before next node.
        (texinfo-copy-menu): Error message if menu empty.
d3548 1
a3548 1
Mon Feb 24 15:47:49 1992  Robert J. Chassell  (bob at grackle)
d3550 1
a3550 4
        * emacs/texinfmt.el (texinfo-format-region): Make sure region ends in a
        newline.
        (texinfo-itemize-item): Recognize all non-whitespace on same line
        as @@item command.
d3552 2
a3553 1
Sat Feb 22 02:15:00 1992  Brian Fox  (bfox at gnuwest.fsf.org)
d3555 1
a3555 2
        * util/texindex.c: New version 1.45 has cleanups, should compile under
        VMS quietly.
d3557 2
a3558 1
Wed Feb 12 10:50:51 1992  Robert J. Chassell  (bob at grackle)
d3560 1
a3560 5
        * emacs/makeinfo.el: Rename temp buffer as *Makeinfo*.
        Rename `makeinfo-recenter-compilation-buffer'.
        (makeinfo-buffer): Offer to save buffer if it is modified.
        (makeinfo-compile): Do not offer to save other buffers.
        (makeinfo-compilation-sentinel): Switch to Info file.
d3562 1
a3562 1
Tue Feb  4 13:07:39 1992  Robert J. Chassell  (bob at grackle)
d3564 3
a3566 2
        * emacs/texinfmt.el (texinfo-print-index): Format so that node names in
        the index are lined up.
d3568 4
a3571 1
Mon Feb  3 09:08:14 1992  Robert J. Chassell  (bob at grackle)
d3573 1
a3573 4
        * emacs/texinfmt.el (texinfo-itemize-item): Format entry when text
        is on the same line as @@item command.  Also, handle @@-commands.
        (texinfo-format-region, texinfo-format-buffer-1): Set fill column
        to local value of Texinfo buffer.
d3575 1
a3575 2
        * emacs/texnfo-upd.el (texinfo-pointer-name):  Find only those
        section commands that are accompanied by `@@node' lines.
d3577 6
a3582 1
Tue Jan 14 16:10:16 1992  Robert J. Chassell  (bob at grackle)
d3584 3
a3586 2
        * emacs/texnfo-upd.el: Ensure that no commands depend on the value of
        case-fold-search.
d3588 2
a3589 1
Fri Jan 10 15:13:55 1992  Robert J. Chassell  (bob at kropotkin)
d3591 1
a3591 3
        * emacs/texinfmt.el (texinfo-append-refill): Replace use of
        unsupported function `looking-at-backward' with
        `re-search-backward'.
d3593 1
a3593 1
Mon Dec 23 23:46:42 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
d3595 1
a3595 2
        * util/texindex.c: Change POSIX ifdefs to HAVE_UNISTD_H and
        _POSIX_VERSION.
d3597 1
a3597 1
Mon Dec 16 15:01:36 1991  Robert J. Chassell  (bob at grackle)
d3599 2
a3600 5
        * emacs/texinfmt.el (texinfo-append-refill): New function appends
        @@refill to all appropriate paragraphs so you no longer need to
        append @@refill command yourself.
        (texinfo-format-region, texinfo-format-buffer-1,
        texinfo-format-include): Call `texinfo-append-refill'.
d3602 1
a3602 1
Fri Dec  6 01:25:09 1991  David J. MacKenzie  (djm at wookumz.gnu.ai.mit.edu)
d3604 2
a3605 2
        * util/texindex.c: Conditionalize on _AIX (which is predefined) instead
        of AIX, just like makeinfo does.
d3607 1
a3607 1
Tue Nov 26 10:21:04 1991  Robert J. Chassell  (bob at grackle)
d3609 1
a3609 2
        * emacs/texnfo-upd.el (texinfo-section-types-regexp): `@@subtitle' no
        longer treated as subsection.
d3611 1
a3611 1
Sat Nov 16 08:27:42 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d3613 1
a3613 1
        * util/fixfonts: New file, from Karl Berry.
d3615 2
a3616 1
Tue Nov 12 16:13:24 1991  Robert J. Chassell  (bob at grackle)
d3618 1
a3618 1
        * emacs/texinfmt.el: Create @@end smalllisp.
d3620 4
a3623 1
Mon Nov 11 16:50:13 1991  Robert J. Chassell  (bob at grackle)
d3625 1
a3625 2
        * emacs/texinfo.el (texinfo-environment-regexp): Add all other block
        enclosing Texinfo commands.
d3627 6
a3632 1
Thu Nov  7 10:23:51 1991  Robert J. Chassell  (bob at grackle)
d3634 1
a3634 4
        * emacs/texinfo.el (texinfo-insert-@@end): Attempt to insert correct end
        command statement, eg, @@end table.  Fails with nested lists.
         (texinfo-insert-*): Accept prefix arg to surround following N
         words with braces for command.
d3636 3
a3638 1
Thu Oct 31 21:31:41 1991  Robert J. Chassell  (bob at kropotki)
d3640 1
a3640 2
        * emacs/texinfmt.el (texinfo-clear): Clear flag even if flag not
        previously set.
d3642 2
a3643 1
Wed Oct 23 11:15:58 1991  Robert J. Chassell  (bob at grackle)
d3645 1
a3645 2
        * emacs/texinfo.el (texinfo-mode): page-delimiter now finds top node as
        well as chapters.
d3647 2
a3648 1
Tue Oct 22 11:46:12 1991  Robert J. Chassell  (bob at grackle)
d3650 1
a3650 3
        * emacs/texinfmt.el (texinfo-do-flushright): Test whether a line is too
        long for the flush right command (line length must be less than
        the value of fill column).
a3651 3
        * emacs/texnfo-tex.el (texinfo-tex-buffer): Prompt for original file
        even if point moved to *texinfo-tex-shell*.
        texinfo-tex-original-file: variable to hold file name.
d3653 2
a3654 1
Wed Oct 16 08:32:05 1991  Robert J. Chassell  (bob at grackle)
d3656 5
a3660 2
        * emacs/texinfmt.el (texinfo-format-center): Expand string before
        centering so @@-commands not included.
d3662 2
a3663 1
Thu Oct 10 22:01:47 1991  Robert J. Chassell  (bob at kropotki)
d3665 1
a3665 2
        * emacs/texnfo-tex.el (texinfo-show-tex-print-queue): Do not kill a
        running process; do start a process none exists.
d3667 2
a3668 1
Thu Sep 26 21:58:47 1991  Robert J. Chassell  (bob at kropotki)
d3670 1
a3670 1
        * util/texi2dvi: Misc. bugs fixed.
d3672 1
a3672 1
        * emacs/texinfo.el: Remove extraneous references to TeX.
d3674 15
a3688 1
Thu Sep 19 20:45:29 1991  Robert J. Chassell  (bob at kropotki)
d3690 1
a3690 2
        * emacs/texinfmt.el: add @@cartouche as a noop (makes box with rounded
        corners in TeX)
d3692 1
a3692 1
Tue Sep 10 20:44:57 1991  Robert J. Chassell  (bob at grackle)
d3694 1
a3694 2
        * emacs/texnfo-upd.el (texinfo-make-one-menu): Copy node-name correctly
        for message.
d3696 1
a3696 1
Thu Aug 29 17:54:07 1991  Robert J. Chassell  (bob at kropotki)
d3698 10
a3707 1
        * emacs/texnfo-tex.el (texinfo-quit-tex-job): Do not set mark.
d3709 2
a3710 1
Wed Aug 21 10:36:21 1991  Robert J. Chassell  (bob at grackle)
d3712 1
a3712 2
         * emacs/texnfo-upd.el: (texinfo-copy-menu-title): Copy title as it
         should rather than node line.
d3714 1
a3714 1
Mon Aug  5 15:27:12 1991  Robert J. Chassell  (bob at grackle)
d3716 3
a3718 4
         * emacs/texinfmt.el (texinfo-format-convert): Changed regexp that
         looks for three hyphens in a row to find those between word
         constituent characters, as now, for Oxford Univ. style dashes and
         also between spaces, for Cambridge Univ. Press style dashes.
d3720 1
a3720 2
        * emacs/texnfo-tex.el (texinfo-tex-start-shell): Runs "/bin/sh" so
        `explicit-shell-file-name' is not set globally.
d3722 1
a3722 5
        * emacs/texnfo-upd.el: Rewrite messages.
        (texinfo-find-higher-level-node): Stop search at limit.
        (texinfo-copy-menu-title): Rewrite to handle outer include files.
        (texinfo-multi-file-update): Update all nodes properly;
        rewrite doc string and interactive.
d3724 2
a3725 1
Sat Aug  3 10:46:13 1991  Robert J. Chassell  (bob at grackle)
d3727 1
a3727 2
        * emacs/texnfo-upd.el (texinfo-all-menus-update): Fixed typo that
        caused the function to create a master menu when it shouldn't.
d3729 2
a3730 2
        * emacs/texinfo.el (texinfo-mode): Make `indent-tabs-mode' a local
        variable and set to nil to prevent TABs troubles with TeX.
d3732 4
a3735 1
Wed Jul 31 11:07:08 1991  Robert J. Chassell  (bob at grackle)
d3737 1
a3737 9
        * emacs/texnfo-tex.el (texinfo-quit-tex-job): New function: quit
        currently running TeX job, by sending an `x' to it.
        (texinfo-tex-shell-sentinel): New function to
        restart texinfo-tex-shell after it is killed.
        (texinfo-kill-tex-job): Rewrite to use kill-process rather than
        quit-process; uses `texinfo-tex-shell-sentinel' to restart
        texinfo-tex-shell after it is killed.
        (texinfo-tex-region, texinfo-tex-buffer): Replace
        texinfo-kill-tex-job with quit-process.
d3739 1
a3739 2
        * emacs/texinfo.el (texinfo-define-common-keys): Add keybinding for
        texinfo-quit-tex-job
d3741 1
a3741 1
Wed Jul 10 15:15:03 1991  Robert J. Chassell  (bob at grackle)
d3743 1
a3743 4
        * emacs/texinfmt.el: New commands @@set, @@clear, @@ifset...@@end
        ifset, and @@ifclear...@@end ifclear.
        Definition functions rewritten to make them easier to
        maintain.
d3745 1
a3745 1
Wed Jul  3 19:37:04 1991  Robert J. Chassell  (bob at kropotki)
d3747 1
a3747 4
        * emacs/texinfmt.el (texinfo-format-deftypefn-index): Remove reference
        to data-type to make consistent with texinfo.tex and makeinfo.
        texinfo.el: Fix page-delimiter and texinfo-chapter-level-regexp
        variables.
d3749 2
a3750 1
Thu Jun 27 18:35:36 1991  Robert J. Chassell  (bob at nutrimat)
d3752 2
a3753 4
        * emacs/texinfmt.el: Add @@dmn as `texinfo-format-noop'.
        texinfo2.texi: Document @@dmn.
        texinfmt.el (texinfo{,-end}-{eleterate,ecapitate} renamed
        {alphaenumerate, capsenumerate}.
d3755 3
a3757 1
Fri Jun 14 12:46:32 1991  Robert J. Chassell  (bob at churchy.gnu.ai.mit.edu)
d3759 2
a3760 2
        * emacs/texinfmt.el (texinfo-format-defun-1): @@defivar prints name
        correctly.
d3762 2
a3763 1
Thu Jun  6 21:38:33 1991  Robert J. Chassell  (bob at churchy.gnu.ai.mit.edu)
d3765 5
a3769 3
        * emacs/texinfo.el (texinfo-mode): Set page delimiter to
        'texinfo-chapter-level-regexp' so that page commands work by
        chapter or equivalent.
d3771 1
a3771 4
        * emacs/texinfmt.el (texinfo-format-defun-1): @@defop prints name
        correctly.
        (batch-texinfo-format): replace unsupported
        'buffer-disable-undo' with 'buffer-flush-undo'
d3773 1
a3773 1
Fri Apr  5 15:17:17 1991  Robert J. Chassell  (bob at wookumz.gnu.ai.mit.edu)
d3775 2
a3776 3
        * emacs/makeinfo.el (makeinfo-compilation-sentinel): Check for
        existance of makeinfo-temp-file to avoid harmless error message.
        texinfo2.texi: Minor typos fixed.
d3778 2
a3779 1
Thu Mar 28 19:13:24 1991  Robert J. Chassell  (bob at pogo.gnu.ai.mit.edu)
d3781 1
a3781 1
        * util/texi2dvi: Revised.
d3783 4
a3786 1
Mon Mar 11 12:35:51 1991  Robert J. Chassell  (bob at grackle)
d3788 5
a3792 10
        * emacs/texinfmt.el: (@@footnotestyle): New command to set
        footnotestyle.
        (@@paragraphindent): New command to set indentation.
        (texinfo-format-refill): Add indentation feature so as to
        indent paragraph or leave indentation asis before refilling
        according to value set by @@paragraphindent command.
        (texinfo-format-region): Insert header, if any, into Info buffer.
        (texinfo-format-separate-node, texinfo-format-end-node): Run
        texinfo-format-scan on footnote text only once.
        (texinfo-format-scan): Shorten `---' to `--'.
d3794 3
a3796 2
        * emacs/texinfo.el: Define key for `texinfo-master-menu'; define
        start and end of header expressions.
d3798 5
a3802 2
        * emacs/texnfo-upd.el (texinfo-all-menus-update): Update
        pre-existing master menu, if there is one.
d3804 4
a3807 1
Fri May 11 14:36:07 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d3809 1
a3809 6
        * util/texindex.c: Rename `lines' to `nlines'.
        (bzero): Pass arg to lib$movc5 through non-register var.
        (perror_with_file, pfatal_with_file): Move extern decls and includes
        to top of file.
        [VMS]: If not using VMS C, define away `noshare' keyword.
        Include perror.h.
d3811 1
a3811 1
Mon Jul 11 18:02:29 1988  Chris Hanson  (cph at kleph)
d3813 1
a3813 3
        * util/texindex.c (indexify): when comparing to initial strings to
        decide whether to change the header, must use `strncmp' to avoid
        comparing entire strings of which initials are a substring.
d3815 2
a3816 1
Sun Jun 26 18:46:16 1988  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d3818 1
a3818 4
        * util/texindex.c (sort_in_core, sort_offline, parsefile):
        Give up on input file if any line doesn't start with backslash.

/* changelog for texinfo.tex before 19jun01.  */
d3820 3
a3822 1
2001-05-24    <karl@@gnu.org>
d3824 2
a3825 4
	* texinfo.tex (\smallbreak, \medbreak, \bigbreak): add check for
	\ifnum\lastpenalty to plain tex definitions, so that we won't
	insert space right after a section title.
	(\aboveenvbreak): similar check of \lastpenalty.
d3827 1
a3827 1
2001-05-21    <karl@@gnu.org>
d3829 2
a3830 2
	* texinfo.tex (\pdfurl): \let\value=\expandablevalue, so at least
	some cases can be properly handled.
d3832 1
a3832 1
2001-03-28    <karl@@gnu.org>
d3834 3
a3836 1
	* texinfo.tex: Copyright.
d3838 1
a3838 4
	* texinfo.tex (\pdfmkdest): remove trailing @@ in target names;
	suggestion from: Reiner Schlotte <R.Schlotte@@science-computing.de>.
	(\imagexxx): call \normalturnoffactive so _ (among others) will be
	allowed in filenames; report from arnold@@skeeve.com.
d3840 1
a3840 1
2001-02-02    <karl@@gnu.org>
d3842 3
a3844 5
	* texinfo.tex (\secondary): handle pdf case.
	(\dosubind): secondary index entry not written as separate arg for
		texindex.
	From: Trevin Beattie <trevin@@eyring.com>
	Date: Tue, 21 Mar 2000 13:04:06 -0700
d3846 1
a3846 1
2001-01-12    <karl@@gnu.org>
d3848 1
a3848 3
	* texinfo.tex (\dopdfimage): different syntax for filename
	inclusion (foo vs {foo}).  From: <Kurt.Hornik@@ci.tuwien.ac.at>,
	22dec99.
d3850 1
a3850 1
2001-01-08    <karl@@gnu.org>
d3852 3
a3854 2
	* texinfo.tex (\afivepaper): new command from Jose Romildo
	Malaquias <romildo@@urano.iceb.ufop.br>.
d3856 1
a3856 1
2000-12-12    <karl@@gnu.org>
d3858 1
a3858 1
	* texinfo.tex: oops, had outside page reversed.
d3860 2
a3861 1
2000-12-11    <karl@@gnu.org>
d3863 1
a3863 1
	* texinfo.tex (\inmargin): allow lefttext and righttext as args.
d3865 3
a3867 1
2000-11-10    <karl@@gnu.org>
d3869 1
a3869 2
	* texinfo.tex: implementation of new commands @@verbatim, @@verb,
	and @@verbatiminclude from janneke@@gnu.org.
d3871 3
a3873 1
2000-11-09    <karl@@gnu.org>
d3875 2
a3876 2
	* texinfo.tex (\inmargin): rewrite to allow for placing the
	material either in the right or left margin.
d3878 2
a3879 1
2000-10-27    <karl@@gnu.org>
d3881 2
a3882 3
	* texinfo.tex (\dosynindex): new macro subroutine, do not
	\closeout twice the index being redirected.
	(\synindex, \syncodeindex): call it.
d3884 1
a3884 1
2000-10-18    <karl@@gnu.org>
d3886 2
a3887 2
	* texinfo.tex (\inmargin): rewrite to allow argument to be vmode
	material, such as a box from an image.
d3889 3
a3891 1
2000-09-06    <karl@@gnu.org>
d3893 3
a3895 5
	* texinfo.tex (\doublecolumnout): must subtract \ht\partialpage
	here, not in \begindoublecolumns.  Otherwise the \partialpage on
	the first page of double columns affects every subsequent page,
	e.g., if @@setchapternewpage off.  Reported by Aharon Robbins
	<arnold@@skeeve.com> for standards.texi.
d3897 1
a3897 1
2000-05-28    <karl@@gnu.org>
d3899 2
a3900 4
	* texinfo.tex (\linkcolor): replace Cyan with Blue.
	(\output): do \pdfmkdest at top.
	(\pdfmakeoutlines): set \_ to \normalunderscore.
	From: Trevin Beattie <trevin@@eyring.com>.
d3902 2
a3903 1
2000-05-27    <karl@@gnu.org>
d3905 1
a3905 2
	* texinfo.tex (\today): only define if undefined.
	From: Stepan Kasal <kasal@@suse.cz>.
d3907 1
a3907 1
2000-05-16    <karl@@gnu.org>
d3909 1
a3909 2
	* texinfo.tex (\deftypeivarheader): need defheaderxcond.  From:
	Marcel van der Boom <marcel@@hsdev.com>.
d3911 2
a3912 1
1999-10-01  Karl Berry  <karl@@gnu.org>
d3914 1
a3914 2
	* texinfo.tex (\afourwide): had hsize and vsize reversed.
	From: Pascal Obry <pascal_obry@@csi.com>
d3916 1
a3916 1
1999-09-25  Karl Berry  <karl@@gnu.org>
d3918 1
a3918 1
	* texinfo.tex (\alias): fix from Andreas.
d3920 1
a3920 1
1999-09-19  Karl Berry  <karl@@gnu.org>
d3922 1
a3922 1
	* texinfo.tex (\key): rename the \smallrm and \smallsy here.
d3924 1
a3924 9
	* texinfo.tex (\indexfonts): rename to \smallfonts, along with
		\indrm, etc.
	Define all the fonts, too.
	(\footnotezzz): use \smallfonts.

	* texinfo.tex (\needx): get better leading; do nothing if @@need
	       value is less than one linespace.  From Arnold.
	(\douref, \xrefX, \doemail [pdf]): make spaces normal again, so our
	\ignorespaces commands are effective even in an @@display.
d3926 1
a3926 2
	* texinfo.tex (\finishtitlepage): remove FINISH TITLE debugging
		message.
d3928 6
a3933 5
	* texinfo.tex (\anchor): rewrite to always \ignorespaces.
	Bug from esken.
	
	* texinfo.tex (\indexnofonts): dummy up \acronym.
	From: Thomas Esken <esken@@nmlab.informatik.fh-dortmund.de>
d3935 4
a3938 1
1999-09-06  Karl Berry  <karl@@gnu.org>
d3940 1
a3940 1
	* texinfo.tex (\texinfoversion): update.
d3942 5
a3946 3
	* texinfo.tex: Avoid multiparagraph cells losing linespace between
	paragraphs.  From: Andreas Schwab <schwab@@suse.de>.
	Bug from: Lalo Martins <lalo@@webcom.com>.
d3948 3
a3950 1
1999-08-19  Karl Berry  <karl@@gnu.org>
d3952 1
a3952 2
	* texinfo.tex (\shortchaplabel): move computation of width of
	"Appendix" inside, in case it's been changed by a language.
d3954 1
a3954 1
Mon Aug  9 16:31:55 1999  Karl Berry  <karl@@gnu.org>
d3956 1
a3956 1
	* texinfo.tex: pdf updates from Han.
d3958 1
a3958 1
Fri Aug  6 13:48:22 1999  Karl Berry  <karl@@gnu.org>
d3960 1
a3960 2
	* texinfo.tex (\charcode): remove unused counter. 
	From: Akira KAKUTO <kakuto@@fsci.fuk.kindai.ac.jp>.
d3962 2
a3963 1
Thu Jul 22 19:08:19 1999  Karl Berry  <karl@@gnu.org>
d3965 1
a3965 1
	* texinfo.tex: Update from Han.
d3967 1
a3967 1
Tue Jul 20 17:13:16 1999  Karl Berry  <karl@@gnu.org>
d3969 1
a3969 1
	* texinfo.tex: More pdf improvements from Han.
d3971 1
a3971 1
Mon Jul 19 16:33:31 1999  Karl Berry  <karl@@gnu.org>
d3973 4
a3976 2
	* texinfo.tex: Better pdf support from: Han The Thanh
 		<thanh@@informatics.muni.cz>.
d3978 1
a3978 1
Sun Jul 18 14:21:03 1999  Karl Berry  <karl@@gnu.org>
d3980 3
a3982 1
	* texinfo.tex: pdfimage takes braces.
d3984 1
a3984 1
Tue Jul  6 19:40:14 1999  Karl Berry  <karl@@gnu.org>
d3986 3
a3988 1
	* texinfo.tex (\deftypeop): New command.
d3990 6
a3995 1
Mon Jul  5 17:17:33 1999  Karl Berry  <karl@@gnu.org>
d3997 1
a3997 4
	* texinfo.tex (\contents): call \pdfmakeoutlines here instead of
 	inline (!).
	(\pdfmakeoutlines): call \indexnofonts instead of making a separate
	attempt at it.
d3999 1
a3999 1
Tue May 25 06:16:06 1999  Karl Berry  <karl@@gnu.org>
d4001 6
a4006 1
	* texinfo.tex (time-stamp-format): use %02H.
d4008 2
a4009 1
	* texinfo.tex: Had PDF and DVI transposed.
d4011 1
a4011 1
Sun Apr 25 15:30:00 1999  Karl Berry  <karl@@gnu.org>
d4013 2
a4014 1
	* texinfo.tex (\appendixletter): restore \the, necessary for .toc.
d4016 1
a4016 1
Thu Apr 22 19:22:12 1999  Karl Berry  <karl@@gnu.org>
d4018 1
a4018 1
	* texinfo.tex (\emergencystretch): Increase to .15\hsize.
d4020 3
a4022 1
Tue Apr 20 05:11:04 1999  Karl Berry  <karl@@gnu.org>
d4024 1
a4024 2
	* texinfo.tex (\defunargs): use \tensl\hyphenchar\font to work
		better with Gildea's PostScript version.
d4026 5
a4030 2
	* texinfo.tex (\tab): Change back to just &.
	From: Nathan Sidwell <nathan@@acm.org>.
d4032 1
a4032 1
	* texinfo.tex: No \fi.
d4034 4
a4037 1
Mon Apr 19 17:38:54 1999  Karl Berry  <karl@@gnu.org>
d4039 1
a4039 1
	* texinfo.tex (\pdflink) [!\ifpdf]: define to ignore arg.
d4041 2
a4042 2
	* texinfo.tex: Add pdf support.  Merge from: Kurt Hornik
 		<Kurt.Hornik@@ci.tuwien.ac.at>.
d4044 1
a4044 1
Wed Mar 31 13:24:16 1999  Karl Berry  <karl@@gnu.org>
d4046 2
a4047 2
	* texinfo.tex (\defopheader): missing word space before `on'.
  		Report from: Chris Hanson <cph@@martigny.ai.mit.edu>.
d4049 1
a4049 1
Fri Mar 26 17:00:41 1999  Karl Berry  <karl@@gnu.org>
d4051 5
a4055 4
	* texinfo.tex (\imagexxx): Equalize space above and below if in
 		vmode.  From rms.

Thu Mar 25 20:00:00 1999  Karl Berry  <karl@@gnu.org>
d4057 1
a4057 1
	* texinfo.tex (\deftypeivar): new command.
d4059 3
a4061 1
Tue Mar 23 17:53:37 1999  Karl Berry  <karl@@gnu.org>
d4063 1
a4063 3
	* texinfo.tex (&): be sure active & is defined for @@deftypefn
		operator&.
	Report from: Nathan Sidwell <nathan@@acm.org>.
d4065 2
a4066 1
Sat Mar 20 12:31:53 1999  Karl Berry  <karl@@gnu.org>
d4068 1
a4068 1
	* texinfo.tex (\exampleindent): new command.  From Yoshiki.
d4070 4
a4073 2
	* texinfo.tex: Changes from Andreas to use \sl\$ inside italics
		and to avoid extra spaces around @@anchor.
d4075 1
a4075 2
	* texinfo.tex (\image, \imagexx): move pdf test to imagexxx for
 		correct filename parsing.
d4077 2
a4078 1
Mon Mar 15 16:51:20 1999  Karl Berry  <karl@@gnu.org>
d4080 13
a4092 2
	* texinfo.tex (\imagexxx): reset catcode ^^M in case we're inside
 		in an example.  Report from kama.
d4094 5
a4098 3
	* texinfo.tex (\putwordin): new macro for word `in'.
	(\xrefX): use it.
	Report from: "Alexey A. Nikiforov" <A.A.Nikiforov@@inp.nsk.su>
d4100 1
a4100 1
Sun Feb 21 16:47:28 1999  Karl Berry  <karl@@gnu.org>
d4102 4
a4105 1
	* texinfo.tex: Expand tabs.
d4107 1
a4107 1
Sun Feb 14 16:02:29 1999  Karl Berry  <karl@@gnu.org>
d4109 1
a4109 2
	* texinfo.tex (\paragraphindent): implement.
	Suggestion from: Paul DuBois <dubois@@primate.wisc.edu>.
d4111 2
a4112 1
Tue Feb  9 07:25:07 1999  Karl Berry  <karl@@gnu.org>
d4114 1
a4114 2
	* texinfo.tex (\alias): use def rather than \let.
	Change timestamp format to include hours.
d4116 3
a4118 2
	* texinfo.tex: New commands @@alias and @@definfoenclose.
	From: "Eric S. Raymond" <esr@@snark.thyrsus.com>.
d4120 2
a4121 1
Mon Feb  8 14:46:56 1999  Karl Berry  <karl@@gnu.org>
d4123 1
a4123 3
	* texinfo.tex (\scanmacro): Use \endinput to avoid spurious space,
 		and various other space fixes.  From: Andreas Schwab
 		<schwab@@ls5.informatik.uni-dortmund.de>.
d4125 5
a4129 1
Thu Feb  4 15:24:40 1999  Karl Berry  <karl@@gnu.org>
d4131 1
a4131 1
	* texinfo.tex (\uref): implement optional third arg.
d4133 4
a4136 3
	* texinfo.tex (\dosubind): Include index entry in third arg to
		\entry instead of writing as bogus fourth arg.
	Report from: kama@@hippo.fido.de (Karl Heinz Marbaise).
d4138 5
a4142 1
	* texinfo.tex (\setemergencystretch): Increase somewhat.
d4144 2
a4145 2
	* texinfo.tex (\putwordof): rename from \putwordOf.
	* texinfo.tex (defivarhead, \defcvarheader): Use \putwordof.
d4147 1
a4147 1
Tue Feb  2 16:57:00 1999  Karl Berry  <karl@@gnu.org>
d4149 1
a4149 2
	* texinfo.tex (\documentlanguage, \documentencoding): new
	commands.  \documentlanguage based on an implementation by kama.
d4151 2
a4152 1
Sat Jan 30 17:23:45 1999  Karl Berry  <karl@@gnu.org>
d4154 2
a4155 1
	* texinfo.tex (\putwordMMai): Should be MMay.  From Trond.
d4157 1
a4157 1
Fri Jan 29 17:52:16 1999  Karl Berry  <karl@@gnu.org>
d4159 1
a4159 2
	* texinfo.tex: Fix @@macro expansion inside @@section.  Patch from
 	Andreas:
d4161 1
a4161 1
	From: Andreas Schwab <schwab@@ls5.informatik.uni-dortmund.de>
d4163 6
a4168 8
	The general idea is to construct a list a all defined macros in
 		the form \do\macro1\do\macro2..., then temporarily define
 		\do to something appropriate and execute the list to do
 		whatever is needed.  Here is a patch, and i have also
 		fixed a few other bugs that i found while browsing through
 		the @@macro implementation.  Additionally i have added a
 		check to prevent the user from doing silly things like
 		@@macro shipout.
d4170 1
a4170 1
Sun Jan 24 09:59:42 1999  Karl Berry  <karl@@gnu.org>
d4172 3
a4174 2
	* texinfo.tex (\obstexwarn): Don't use *** in message, it
 		interferes with make output parsing.
d4176 7
a4182 1
Thu Jan 21 15:45:20 1999  Karl Berry  <karl@@gnu.org>
d4184 1
a4184 1
	* texinfo.tex: Internationalization improvements from kama.
d4186 5
a4190 1
Wed Jan 20 17:12:52 1999  Karl Berry  <karl@@gnu.org>
d4192 1
a4192 2
	* texinfo.tex (\contents, \shortcontents): Run \contentspagealignmacro.
 	From: Trond Endrestol <trond@@agamemnon.gtf.ol.no>
d4194 3
a4196 1
Thu Jan 14 16:53:43 1999  Karl Berry  <karl@@gnu.org>
d4198 1
a4198 5
	* texinfo.tex (\begindoublecolumns): Ship out \partialpage
	immediately if it is nonvoid, instead of saving it.  This avoids a
	bug where the index could end up printing one line per page (see
	the indexspread.tex test).
	From: Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
d4200 1
a4200 2
	* texinfo.tex (\image): If running pdftex, do \pdfimage{imagefile.pdf}.
 	From: Samuel Tardieu <sam@@inf.enst.fr>
d4202 2
a4203 1
 	Also, update copyright year.
d4205 1
a4205 1
Tue Jan  5 17:50:45 1999  Karl Berry  <karl@@gnu.org>
d4207 5
a4211 3
	* texinfo.tex (\enddoublecolumns): Move \pagegoal reset to after
 		the \endgroup so we get the restored single-column \vsize
 		as intended.
d4213 1
a4213 1
Sun Dec 20 17:57:22 1998  Karl Berry  <karl@@gnu.org>
d4215 2
a4216 3
	* texinfo.tex (\indexdummies): Set \{ and \} to \mylbrace and
	\mybrace to avoid braces in the index file, which
	texindex can't handle.
d4218 1
a4218 1
Sat Dec 19 18:13:16 1998  Karl Berry  <karl@@gnu.org>
d4220 2
a4221 5
	* texinfo.tex (\pickupwholefraction): Ignore whole-number part.
	(\setuptable): Always pass whole-number part and decimal point.  This
	allows leading zeroes.
	Suggestion from: Ben Bullock <ben@@hayamasa.demon.co.uk>.
	Date: Fri, 21 Aug 1998 14:06:50 +0100 (BST)
d4223 3
a4225 1
Tue Dec 15 16:38:07 1998  Karl Berry  <karl@@gnu.org>
d4227 1
a4227 3
	* texinfo.tex (\indexdummies): set \{ and \} to \lbracecmd and
        \rbracecmd to avoid lossage if @@tex is active during \shipout.
	Report from: "Peter Kabal" <Kabal@@ece.mcgill.ca>.
d4229 2
a4230 1
Sun Dec  6 17:11:17 1998  Karl Berry  <karl@@gnu.org>
d4232 6
a4237 1
	* texinfo.tex: Doc fix.
d4239 2
a4240 1
1998-11-11  Andreas Schwab  <schwab@@issan.cs.uni-dortmund.de>
d4242 1
a4242 5
	* doc/texinfo.tex (\onepageout): Put the cropmarks in vboxes of
	zero height so that they don't contribute space themselves.
	Compensate for \topandbottommargin.
	(\internalpagesizes): Advance \outervsize by 2\topandbottommargin,
	not only 0.6in.
d4244 1
a4244 1
Fri Nov  6 17:27:57 1998  Karl Berry  <karl@@gnu.org>
d4246 1
a4246 2
	* texinfo.tex: Use standard time-stamp.el package instead of
 		update-date.el.
d4248 1
a4248 1
Sat Oct 31 19:23:02 1998  Karl Berry  <karl@@gnu.org>
d4250 2
a4251 2
	* texinfo.tex (\indexnofonts,\indexdummies): add \url and \uref to
 		list.
d4253 2
a4254 1
Fri Oct 30 08:16:23 1998  Karl Berry  <karl@@gnu.org>
d4256 3
a4258 1
	* texinfo.tex (\expandablevalue): Delete spurious `v' character.
d4260 2
a4261 1
Tue Oct 27 11:18:40 1998  Karl Berry  <karl@@gnu.org>
d4263 2
a4264 3
	* texinfo.tex (@@env, @@command, @@option): Must disable for index
 		and xref commands.  Also, \input plain if necessary before
 		using {} in the version number.
d4266 1
a4266 1
Wed Sep 30 11:40:36 1998  Karl Berry  <karl@@cs.umb.edu>
d4268 1
a4268 2
	* texinfo.tex: Use date as version number instead of RCS, and
 		update-date to update it.
d4270 2
a4271 1
Thu Sep 17 13:22:44 1998  Karl Berry  <karl@@cs.umb.edu>
d4273 1
a4273 3
	* texinfo.tex: Fix @@macro expansion of @@code with _ in the
 		argument.
 	From: Zack Weinberg <zack@@rabi.columbia.edu>.
d4275 1
a4275 1
Fri Aug 28 10:30:29 1998  Karl Berry  <karl@@cs.umb.edu>
d4277 1
a4277 2
	* texinfo.tex (\itemzzz): take \itemmargin into account when
 		unhboxing.  Reported by Bob.
d4279 3
a4281 1
Fri Aug 14 16:56:58 1998  Karl Berry  <karl@@cs.umb.edu>
d4283 1
a4283 3
	* texinfo.tex: Change @@defun environments so that right margin is
 		not changed, and instead the defun type label is outdented
 		into the margin.
d4285 5
a4289 1
Thu Aug 13 13:31:41 1998  Karl Berry  <karl@@cs.umb.edu>
d4291 1
a4291 3
	* texinfo.tex (\smartslanted): define this separately from
 	\smartitalic.
	(\emph, \i): use \smartitalic for true italics.
d4293 1
a4293 1
Mon Aug 10 11:51:13 1998  Karl Berry  <karl@@cs.umb.edu>
d4295 1
a4295 3
	* texinfo.tex (\value): handle active _ or - in argument (happens
 		if called from @@code).
 	Report from: Dave Love <d.love@@dl.ac.uk>.
d4297 4
a4300 1
Sun Jul 19 09:49:23 1998  Karl Berry  <karl@@cs.umb.edu>
d4302 2
a4303 5
	* texinfo.tex (\dosubind): Don't do \vskip to preserve \lastskip
 		unless we are in vertical mode.  Otherwise we might end a
 		paragraph prematurely, and \folio won't get expanded by
 		\output.
 	Report from: "Richard E. Stone" <res@@rstone.mn.org>
d4305 1
a4305 1
Thu Jul 16 15:33:37 1998  Karl Berry  <karl@@cs.umb.edu>
d4307 1
a4307 5
	* texinfo.tex: Keep track of how negative the page numbers have
 	gotten:
	(\lastnegativepageno): New \count register.
	(\startcontents): Use it.
	(\contents, \summarycontents): set it.
d4309 6
a4314 1
Mon Jul 13 16:58:11 1998  Karl Berry  <karl@@cs.umb.edu>
d4316 1
a4316 2
	* texinfo.tex (\imagexxx): Add some space around the image if it's
 		by itself.
d4318 4
a4321 1
1998-07-09  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>
d4323 3
a4325 3
	* texinfo.tex (chapterzzz): Put a space before the chapter number
	in the message.
	(appendixzzz): Use \putwordAppendix in the message.
d4327 4
a4330 1
Thu Jul  9 08:39:53 1998  Karl Berry  <karl@@cs.umb.edu>
d4332 3
a4334 2
	* texinfo.tex (\macro): Globalize assignments since it's done
		inside a group.  From Zack.
d4336 2
a4337 1
Mon Jul  6 17:21:25 1998  Karl Berry  <karl@@cs.umb.edu>
d4339 3
a4341 5
	* texinfo.tex (\comment): Speed up.
	(\loggingall): Turn on eTeX's extended tracing.
	More macro fixes.
	Date: Sat, 04 Jul 1998 14:51:49 -0400
	From: Zack Weinberg <zack@@rabi.phys.columbia.edu>
d4343 11
a4353 1
Thu Jul  2 10:20:32 1998  Karl Berry  <karl@@cs.umb.edu>
d4355 1
a4355 3
	* texinfo.tex (\contents, \summarycontents, \startcontents): Use
 		roman numerals for toc, arabic outside, even when toc is
 		at the beginning.
d4357 4
a4360 1
Mon Jun 29 10:05:28 1998  Karl Berry  <karl@@cs.umb.edu>
d4362 1
a4362 2
	* texinfo.tex (\anchor): New command @@anchor.
	(\xrefX): Avoid double space when xref to an @@anchor or an @@unnumbered.
d4364 4
a4367 2
	* texinfo.tex (\itemzzz): Use kerns and \unhbox when item text
		fits in the space, so footnotes can work.
d4369 2
a4370 3
	* texinfo.tex (\setref): Take additional argument for the -snt
 	xref.  Call \indexdummies.
	(\donoderef, \appendixnoderef, \unnumbnoderef): Change \setref calls.
d4372 1
a4372 1
Sat Jun 27 19:16:34 1998  Karl Berry  <karl@@cs.umb.edu>
d4374 1
a4374 1
	* texinfo.tex (\contents, \summarycontents): Must not be \outer.
d4376 1
a4376 1
Fri Jun 26 16:15:14 1998  Karl Berry  <karl@@cs.umb.edu>
d4378 1
a4378 13
	* texinfo.tex (\writetocentry): New macro.
	(\chapternofonts): No longer needed.
	(\chapter, ..., \unnumberedsubsubsec): Change all the sectioning
		commands to call \writetocentry instead of doing it inline.
	Also, do not call \chapternofonts, we avoid expansion with
		\the\toks instead.
	(\opencontents): No longer needed, instead \writetocentry opens
		the file when necessary.
	(\setfilename): Don't call \opencontents.
	(\ifsetcontentsaftertitlepage, \ifsetshortcontentsaftertitlepage):
		New conditionals.
	(\Etitlepage): Call \contents and/or \shortcontents if
		conditionals are set.
d4380 26
a4405 1
	Global: use \nobreak instead of \penalty 10000 for epsilon efficiency.
d4407 1
a4407 1
Thu Jun 25 08:29:32 1998  Karl Berry  <karl@@cs.umb.edu>
d4409 1
a4409 2
	* texinfo.tex (\option,\env,\command): New markup commands.
	Suggested by arnold@@gnu.org.
d4411 1
a4411 3
	* texinfo.tex (\afourpaper): More reasonable margins.
	From: Wilhelm Mueller <muewi@@hb.senbvs43.uni-bremen.de>
	Date: Thu, 25 Jun 1998 10:48:13 +0200 (MET DST)
d4413 1
a4413 1
Wed Jun 24 17:46:43 1998  Karl Berry  <karl@@cs.umb.edu>
d4415 3
a4417 1
	* texinfo.tex (\acronym): New Texinfo command.
d4419 2
a4420 1
Tue Jun 23 17:36:39 1998  Karl Berry  <karl@@cs.umb.edu>
d4422 2
a4423 3
	* texinfo.tex (\dots, \enddots): Missing \leavevmode.
	Report from: Thomas Esken <esken@@nmlab.informatik.fh-dortmund.de>
	Date: Tue, 23 Jun 1998 14:22:27 +0200 (MET DST)
d4425 1
a4425 1
Mon Jun 22 16:00:53 1998  Karl Berry  <karl@@north>
d4427 4
a4430 17
	* texinfo.tex: Rewrite of index stuff to do better column breaking
	and balancing.
	The old code failed miserably when the index was just the wrong size,
	e.g., the Autoconf manual with @@afourpaper.
	Bug report from: Wilhelm Mueller <muewi@@hb.senbvs43.uni-bremen.de>
	Date: Fri, 12 Jun 1998 16:34:49 +0200 (MET DST)
	(\initial): Add more glue around the initial, and make it a
		multiple of \baselineskip.
	(\entry): Add glue before each entry so the columns can always be the
	 same height.
	(\doublecolumnout): Available space no longer needs to handle
	 \partialpage specially.
	(\pagesofar): Take \ht\partialpage into account with \vsize.
	(\enddoublecolumns): Reset \output to avoid calling
		\balancecolumns twice
	(\balancecolumns): Format for readability.
	(\initialskipamount): No longer needed, remove.
d4432 1
a4432 1
	(\hbadness): Increase a bit, boxes that are a little underfull look ok.
d4434 6
a4439 1
Sun Jun 21 16:48:38 1998  Karl Berry  <karl@@north>
d4441 1
a4441 4
	* texinfo.tex (\ninettsl): cmsltt10 is not standard, so use
		cmsltt10 scaled 900.
 	Date: Mon, 15 Jun 1998 12:35:41 +0200 (MET DST)
 	From: Werner Struckmann <struck@@ips.cs.tu-bs.de>.
d4443 3
a4445 1
Thu Jun 18 08:32:15 1998  Karl Berry  <karl@@cs.umb.edu>
d4447 3
a4449 6
	* texinfo.tex: @@macro fixes from Zack Weinberg
  	     <zack@@rabi.phys.columbia.edu>.
 	- @@ifblah did not work inside @@macro
        - spaces in parameter lists in macro definitions caused errors
        - leading spaces in parameter lists in macro invocations were
	  preserved inappropriately.
d4451 1
a4451 1
Wed Jun 10 16:50:53 1998  Karl Berry  <karl@@cs.umb.edu>
d4453 1
a4453 3
	* texinfo.tex (\smallformatx, \smalldisplayx): New macros.
	(\smallbook): Arrange to use them.
	(\display, \flushleft, etc.): Rewrite to avoid duplication.
d4455 1
a4455 1
Sun Jun  7 18:13:45 1998  Karl Berry  <karl@@cs.umb.edu>
d4457 2
a4458 2
	* texinfo.tex (\pagesizes): Rename to \internalpagesizes.
	(\custompaper): Rename to \pagesizes.
d4460 2
a4461 1
Sat Jun  6 13:16:32 1998  Karl Berry  <karl@@cs.umb.edu>
d4463 1
a4463 1
	* texinfo.tex: Rewrite paper size definitions, add @@custompaper.
d4465 3
a4467 2
	* texinfo.tex: Fix for macros in arguments to other commands.
  		From Zack.
d4469 1
a4469 1
Thu Jun  4 11:21:07 1998  Karl Berry  <karl@@cs.umb.edu>
d4471 2
a4472 2
	* texinfo.tex: Better @@macro implementation.
	From: Zack Weinberg <zack@@rabi.phys.columbia.edu>.
d4474 4
a4477 1
Tue May 26 17:43:21 1998  Karl Berry  <karl@@cs.umb.edu>
d4479 4
a4482 2
	* texinfo.tex (\imagexxx): Center image if it is not part of a
 		paragraph.
d4484 4
a4487 1
Tue May 19 17:17:12 1998  Karl Berry  <karl@@cs.umb.edu>
d4489 2
a4490 4
	* texinfo.tex: \linkstrue by default.
	Also, first implementation of @@macro; can only handle some cases,
 		but that is better than nothing.
	From: Zack Weinberg <zack@@rabi.phys.columbia.edu>
d4492 1
a4492 1
Thu May 14 17:32:47 1998  Karl Berry  <karl@@cs.umb.edu>
d4494 2
a4495 4
	* texinfo.tex: New command @@novalidate along the lines of makeinfo
		--no-validate.
	Date: Sun, 26 Oct 1997 18:54:47 -0500
	From: Zack Weinberg <zack@@rabi.phys.columbia.edu>
d4497 1
a4497 1
Tue May 12 16:19:35 1998  Karl Berry  <karl@@cs.umb.edu>
d4499 1
a4499 4
	* texinfo.tex (\valuexxx): Split up into expandable and
 		non-expandable parts.
	(\expandablevalue): New macro.
	(\indexdummies): \let\value = \expandable value.
d4501 5
a4505 1
	* texinfo.tex: Doc fixes.
d4507 1
a4507 5
	* texinfo.tex (\doind): Just call \dosubind with empty third arg.
	(\dosubind): Replace with \doind definition and suitable code to handle
	possible third arg.  And propagate glue past the whatsit from the
 	\write so index entries don't cause extra space between
 	@@defuns (for example).
d4509 3
a4511 1
Wed May  6 12:51:27 1998  Karl Berry  <karl@@cs.umb.edu>
d4513 2
a4514 3
	* texinfo.tex (\deftypemethparsebody): Handle the extra arg in
 	@@deftypemethodx, too.
	(\deftypefunx): Error definition was misspelled as \deftypeunx.
d4516 1
a4516 1
Fri May  1 17:31:58 1998  Karl Berry  <karl@@cs.umb.edu>
d4518 1
a4518 8
	* texinfo/texinfo.tex (\putwordon, \putwordMethodon): New macros.
  	Use in \def... commands.
	(\indexdummies): make `\ ' be just ` ' for sorting.
	(\deftypemethparsebody): New macro.
	(\defmethod): Call it.
	Various doc fixes.
	Repored by: KHMarbaise@@p69.ks.fido.de (Karl Heinz Marbaise)
	Date: Wed, 07 Jan 1998 10:19:42 +0100
d4520 4
a4523 1
Fri Apr 10 16:54:48 1998  Karl Berry  <karl@@cs.umb.edu>
d4525 1
a4525 3
	* texinfo.tex: @@cartouche: Align right side correctly.
	From: dale.smith@@bellhow.com (Dale Smith)
	Date: Fri, 06 Mar 1998 14:47:02 GMT
d4527 1
a4527 1
Sun Apr  5 17:19:03 1998  Karl Berry  <karl@@cs.umb.edu>
d4529 3
a4531 7
	* texinfo.tex (\dosetq): Use \normalturnoffactive instead of just
 	\turnoffactive, so \'s in node names are handled properly.
	(\tie): Move definition to more rational position in the file.
	(\@@, \{, etc.): Use decimal numbers in all cases, to avoid use of '.
	Paranoia only.
	(\+): Turn off once and for all at the beginning, and define as
	\tabalign in @@tex.
d4533 1
a4533 1
Tue Mar 31 19:33:31 1998  Karl Berry  <karl@@cs.umb.edu>
d4535 1
a4535 3
	* texinfo.tex (\synindex, \syncodeindex): \closeout the redirected
		index.
	From: Jakob Stoklund Olesen <stoklund@@mi.aau.dk>
d4537 1
a4537 4
	* texinfo.tex (\doignore): Ignore everything after `c', so @@end
 	ifinfo and the like can be commented out.
	(\macrocsname): New macro.
	Reported by: "James A. Lupo" <lupoja@@feynman.ml.wpafb.af.mil>
d4539 2
a4540 1
Wed Feb 25 15:48:51 1998  Karl Berry  <karl@@cs.umb.edu>
d4542 1
a4542 3
	* texinfo.tex (\doprintindex): Change catcode of @@ before \read,
		in case of \initial{@@} being the line that is read.
	Reported by: Drew Csillag <drew_csillag@@geocities.com>
d4544 3
a4546 7
	* texinfo.tex (\dotable): Add \leftskip to \hsize in the first column.
	Don't inherit \rightskip from surrounding environment.
	Set \item to \crcr to avoid empty first row.
        Prepend \parskip glue before table.
        Set \everycr locally outside of alignment, don't reset it
	        explicitly in \Emultitable.
	All from Andreas Schwab, to avoid overfull hboxes.
d4548 1
a4548 1
	Also, work on leading commentary in file a bit.
d4550 6
a4555 1
Tue Feb 24 17:48:29 1998  Karl Berry  <karl@@cs.umb.edu>
d4557 1
a4557 3
	* texinfo.tex: \!: Save and restore this for @@tex.
	From: Jean-Pierre Moreau <jpmoreau@@ciframedical.com>
	Date: Fri, 22 Aug 1997 16:47:36 -0400
d4559 1
a4559 4
	* texinfo.tex (\angleleft, \angleright): New macros.
	(\refx, \email, \key): Use them.
	From: Stephen Gildea <gildea@@intouchsys.com>
	Date: Fri, 26 Dec 1997 11:43:32 EST
d4561 1
a4561 1
Mon Feb 23 17:34:23 1998  Karl Berry  <karl@@cs.umb.edu>
d4563 4
a4566 3
	1997-08-28 Andreas Schwab <schwab@@issan.informatik.uni-dortmund.de>
	* doc/texinfo.tex (xrdef): Read the second argument with \
 	as an escape character.
d4568 6
a4573 1
1998-01-22  Andreas Schwab  <schwab@@issan.informatik.uni-dortmund.de>
d4575 3
a4577 3
	* texinfo.tex (\tocentry): Don't \turnoffactive before typesetting
		the arguments, it causes special characters to be printed
		incorrectly.
d4579 1
a4579 1
Mon Jan 19 10:58:25 1998  Karl Berry  <karl@@cs.umb.edu>
d4581 2
a4582 1
	* texi2html: Correct version number, home page reference.
d4584 2
a4585 1
Sat Jan 17 15:12:03 1998  Karl Berry  <karl@@cs.umb.edu>
d4587 1
a4587 2
	* texi2html: Version 1.54.  Handle @@image better, etc.
	* From: Bob Friesenhahn <bfriesen@@simple.dallas.tx.us>.
d4589 1
a4589 1
Wed Dec 24 13:59:07 1997  Karl Berry  <karl@@cs.umb.edu>
d4591 1
a4591 2
	* texinfo.tex (\dots, \enddots): Use current font instead of
 		always using math italic.  From Stephen Gildea.
d4593 2
a4594 1
Tue Dec 23 11:33:07 1997  Karl Berry  <karl@@cs.umb.edu>
d4596 3
a4598 1
	* texinfo.tex: Spurious xepsf.tex should be epsf.tex.
d4600 1
a4600 1
Mon Oct 13 15:49:28 1997  Karl Berry  <karl@@cs.umb.edu>
d4602 4
a4605 1
	* texinfo.tex (\titlefont): Explicitly set \rm.
d4607 1
a4607 1
Sat Jul 26 15:12:37 1997  Karl Berry  <karl@@cs.umb.edu>
d4609 1
a4609 2
	* texinfo.tex (\email): Let to \uref instead of \code, as a second
 		optional argument makes sense for this, too.
d4611 3
a4613 1
Mon Jul 14 13:43:43 1997  Karl Berry  <karl@@cs.umb.edu>
d4615 1
a4615 1
	* texinfo.tex (\indexdummies): Add \value.
d4617 5
a4621 1
Thu Jul 10 13:34:30 1997  Karl Berry  <karl@@cs.umb.edu>
d4623 1
a4623 2
	* texinfo.tex (\authorrm): Must use \def instead of \let, as
 		\secrm is not yet defined.
d4625 1
a4625 1
1997-07-09  Richard Stallman  <rms@@psilocin.gnu.ai.mit.edu>
d4627 7
a4633 1
	* texinfo.tex (\titlefont): Define again, using \titlefonts.
d4635 1
a4635 1
Wed Jul  9 16:45:30 1997  Karl Berry  <karl@@cs.umb.edu>
d4637 2
a4638 1
	* texinfo.tex (\startcontents): Leave ^ catcode as other.
d4640 2
a4641 1
Sat Jul  5 17:16:40 1997  Karl Berry  <karl@@cs.umb.edu>
d4643 1
a4643 6
	* texinfo.tex (\titlefonts): New macro to set title font styles,
 	so italic etc. work in @@title.
	(\titlefont): No longer needed.
	(\titlepage): Call \titlefonts instead of \titlefont.
	(\chapsf, \ssecsy, \ssecttsl): Correct magstep values.
	From: Stephen Gildea <gildea@@intouchsys.com>.
d4645 2
a4646 2
	* texinfo.tex (\onepageout): Back up to 2\baselineskip per Stephen.
	(\kbdinputstyle): New command.
d4648 15
a4662 1
1997-04-03  00:07:28 1997  Richard Stallman  <rms@@gnu.ai.mit.edu>
d4664 2
a4665 4
	* texinfo.tex (\kbdfont, \kbdexamplefont): New macros, parms that
	tell @@@@kbd what to do.
	(\setkbdinputdistinct, \setkbdinputexample): New commands set them.
	(\kbd): Use those parms.
d4667 1
a4667 1
Thu Jul  3 16:52:39 1997  Karl Berry  <karl@@cs.umb.edu>
d4669 4
a4672 3
	* texinfo.tex (\onepageout): Leave only one line space above the
 	footline, to be more like plain.  Suggested by Stephen Gildea.
	(\evenfootline): Left one too many line spaces here, so reduce by two.
d4674 1
a4674 4
	(\ifnottex): Another ignore command.
	(\ifnothtml,\ifnotinfo): New commands.
	(\doignore): Ignore brace characters, so mismatched braces in ignored
	text do not cause complaints.
d4676 2
a4677 1
Fri Jun 27 15:09:16 1997  Karl Berry  <karl@@cs.umb.edu>
d4679 1
a4679 1
	* texinfo.tex (\image): New definition for new @@image command.
d4681 3
a4683 1
Wed Jun 18 15:58:20 1997  Karl Berry  <karl@@cs.umb.edu>
d4685 2
a4686 5
	* texinfo.tex (\oddfootingxxx),
	(\onepageout): Leave space for the footline if present.
	(\everyfootingxxx, \everyheadingxxx): Call \oddfootingxxx and
	\evenfootingxxx instead of repeating their code.  From: Stephen
 	Gildea <gildea@@intouchsys.com>.
d4688 1
a4688 1
	(\setfilename): Read texinfo.cnf if present.
d4690 4
a4693 3
	(\indexdummies, \indexnofonts): No-op additional commands @@result @@equiv
	@@expansion @@print @@error @@point.  From: Dave Bodenstab
 		<imdave@@ais.net> (for texi2www doc).
d4695 2
a4696 1
Fri Jun  6 10:31:34 1997  Karl Berry  <karl@@cs.umb.edu>
d4698 1
a4698 2
	* texinfo.tex (\setmultitablespacing): Restore bad typing mistake
 		from yesterday.
d4700 2
a4701 1
Thu Jun  5 18:04:26 1997  Karl Berry  <karl@@cs.umb.edu>
d4703 4
a4706 2
	* texinfo.tex (\uref): Write real definition, taking one mandatory
		argument and one optional one.
d4708 1
a4708 1
Wed Jun  4 17:16:09 1997  Karl Berry  <karl@@cs.umb.edu>
d4710 1
a4710 4
	* texinfo.tex (\mainmagstep): Define this as a \count variable
 	instead of with \let, to make changing to \magstep1 more transparent.
 	From: HERBERT@@boevm4.vnet.ibm.com.
	(\uref): New command a la \url.
d4712 1
a4712 1
Sat May 24 18:06:41 1997  Karl Berry  <karl@@cs.umb.edu>
d4714 1
a4714 3
	* texinfo.tex (\deftypemethod, \deftypemethodheader): New macros
		to implement new commands @@deftypemethod and @@deftypemethodx.
	Suggestion from: KHMarbaise@@p69.ks.fido.de (Karl Heinz Marbaise).
d4716 1
a4716 1
Wed May 21 17:17:52 1997  Karl Berry  <karl@@cs.umb.edu>
d4718 1
a4718 4
	* texinfo.tex (\opnr, \clnr): Increment/decrement \parencount, for
   	  @@defun lines with nested parens.  From Bill Schelter
 	  <wfs@@fireant.ma.utexas.edu>.
	(\itemizeitem): Correct \errmessage.
d4720 4
a4723 1
Mon May 19 17:34:40 1997  Karl Berry  <karl@@cs.umb.edu>
d4725 1
a4725 5
	* texinfo.tex (\codeunder): Use \_ and \ifusingtt to avoid
 	dotaccent from _ in roman fonts, e.g., @@deftypefn.
	(\tex): Remove spurious spaces at the end of subdefinitions.
	From: "John W. Eaton" <jwe@@bevo.che.wisc.edu>.
	(\url, \email): \let to \code; no quotes or angle brackets.
d4727 5
a4731 1
Mon May  5 17:06:35 1997  Karl Berry  <karl@@cs.umb.edu>
d4733 1
a4733 3
	* texinfo.tex (\onepageout): \ifcropmarks, center the page body.
  	Lost this when merged \croppageout with \onepageout.  Found by
 	Arnold.
d4735 6
a4740 2
	(\doprintindex): Do not bother to go into double column mode unless
	there actually is a non-empty index.
d4742 1
a4742 3
	(\begindoublecolumns): Include any existing \partialpage in the new one,
	lest we lose a whole page of output.  Found by M J Morley
 	<mjm@@scs.leeds.ac.uk>.
d4744 2
a4745 2
	(\chapternofonts): Remove spurious spaces, both in the definitions that
	get output to the aux file(s) and in this macro.
d4747 1
a4747 1
	Fix comments and rationalize whitespace in various other places.
d4749 5
a4753 1
Sun Apr 27 15:41:16 1997  Karl Berry  <karl@@cs.umb.edu>
d4755 1
a4755 2
	* texinfo.tex (\chapter, etc.): Avoid expansion of section title
        when writing the toc.
d4757 6
a4762 1
Thu Apr 24 16:35:46 1997  Karl Berry  <karl@@cs.umb.edu>
d4764 1
a4764 3
	* texinfo.tex (\onepageout): Integrate cropmarks case here,
	instead of having a completely different routine.
	(\croppageout): Remove this.
d4766 6
a4771 6
Sun Jun  9 14:26:42 1996  Karl Berry  <karl@@cs.umb.edu>

	* texinfo.tex (\ignoremorecommands): Ignore \defcodeindex, and do
        not ignore \message.

Thu Apr 11 12:59:42 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4773 1
a4773 5
	* texinfo.tex (\macro): New macro.
	(\enddots, \endldots): New macros.
	(\centerchap, \centerchapyyy): New macros.
	(\centerchfplain, \centerchfopen): New macros.
	(\CHAPFplain, \CHAPFopen): Set \centerchapmacro.
d4775 1
a4775 1
Wed Mar 13 11:42:17 1996  Karl Berry  <karl@@cs.umb.edu>
d4777 2
a4778 1
        * texinfo.tex (\url): New macro, like \samp for now.
d4780 1
a4780 1
Sun Mar 10 13:05:08 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4782 1
a4782 2
	* texinfo.tex: Changes in @@multitable code.
	Change meaning of @@multitablelinespace.
d4784 1
a4784 1
Tue Mar  5 18:56:08 1996  Dave Love  <d.love@@dl.ac.uk>
d4786 1
a4786 2
	* texinfo.tex (\set): Set catcode of space explicitly (inside a
 	group) to avoid losing inside @@example, say.
d4788 2
a4789 1
Sun Mar  3 17:01:27 1996  Karl Berry  <karl@@cs.umb.edu>
d4791 1
a4791 2
        * texinfo.tex (\itemxpar): Protect the \vskip here with \nobreak,
        to avoid a possible page break at an @@itemx.
d4793 2
a4794 1
Sun Feb 25 14:53:15 1996  Karl Berry  <karl@@cs.umb.edu>
d4796 2
a4797 2
        * texinfo.tex (\obstexwarn): Use \global to avoid ever getting the
        warning twice.
d4799 3
a4801 2
        * texinfo.tex (\include): Allow underscores and other such
        characters we made active in the file name argument.
d4803 1
a4803 1
Tue Feb  6 15:06:27 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4805 1
a4805 2
	* texinfo.tex (\afourlatex): Delete the old duplicate definition
	of \afourlatex.
d4807 5
a4811 1
Sun Feb  4 15:20:16 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4813 2
a4814 4
	* texinfo.tex (\tab): New definition.
	(\setuptable): Fix previous change.
	(\multitablecolspace): Renamed from \multitablecolmargin.
	(\multitablelinespace): Renamed from \multitablelineskip.
d4816 1
a4816 1
Fri Feb  2 02:20:16 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4818 3
a4820 7
	* texinfo.tex (\multitableparskip): Renamed from \intableparskip.
	Allocate with \newskip.
	(\multitableparindent): Renamed from \intableparindent.  Use \newskip.
	(\multitablelineskip): Renamed from \spacebetweenlines.  Use \newskip.
	(\multitablecolmargin): Renamed from \spacebetweencols.
	(\columnfractions): Renamed from \percentofhsize.
	(xcolumnfractions): Renamed from \xpercentofhsize.
d4822 1
a4822 2
	* texinfo.tex (\setuptable): Handle >1 digits after @@percentofsize.
	(\pickupwholepercent): New macro.
d4824 2
a4825 1
Sun Jan 28 21:14:46 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4827 1
a4827 2
	* texinfo.tex (\key, \kbdfoo): Use \ttsl unconditionally.
	(\setkeyfont): Definition deleted.
d4829 3
a4831 1
Tue Jan 23 14:57:23 1996  Karl Berry  <karl@@cs.umb.edu>
d4833 2
a4834 4
        * texinfo.tex: @@kbd within @@example selects slanted tty font:
	(\ttsl, \ttslshape): Define this new font shape.
        (\kbdfoo): Set the font to \ttsl if already using \tt.
        (\setkeyfont, \ifmonospace): New macros.
d4836 1
a4836 1
Wed Jan 17 23:57:48 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4838 1
a4838 3
	* texinfo.tex (\changepagesizes): Additional arg for topskip.
	(\afourlatex): Total rewrite.
	(\afourwide): Pass new arg to \changepagesizes.
d4840 1
a4840 1
Wed Jan  3 17:15:00 1996  Stephen Gildea  <gildea@@x.org>
d4842 2
a4843 3
        * texinfo.tex (\slbshape, \itbshape): Use bold slant and and
	bold italic in titles to match the bold roman.  Do not use
        bold sf or bold tt, which would be too heavy.
d4845 1
a4845 4
        * texinfo.tex (\setfont): Pass font name in more pieces.
        (\*shape): New macros defining symbolic names for all font
	shapes so can use other font families with different naming
	conventions.
d4847 11
a4857 1
Wed Jan  3 15:52:18 1996  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4859 1
a4859 2
	* texinfo.tex (\ignoremorecommands): Turn off @@everyheading and
	friends, @@headings, @@setchapternewpage, @@setchapterstyle.
d4861 2
a4862 1
Sat Dec 30 17:20:48 1995  Karl Berry  <karl@@cs.umb.edu>
d4864 1
a4864 3
        * texinfo.tex (\inmargin): Don't allow a break before the vertical
        kern.  Do allow a whole paragraph of marginal text, not just one line.
	Use \inmarginspacing.
d4866 3
a4868 1
Thu Dec 28 23:22:08 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4870 1
a4870 2
	* texinfo.tex (\inmargin): New command @@inmargin.
	(\dircategory): Ignore @@dircategory.
d4872 8
a4879 1
Tue Dec 12 17:25:36 1995  Karl Berry  <karl@@cs.umb.edu>
d4881 1
a4881 4
        * texinfo.tex (\lvvmode): Remove this; use \leavevmode as usual,
        so spaces/underscores at beginnings of lines inside @@example work.
        Bogus index entries should be (and now are, I think) handled in
        other ways.
d4883 1
a4883 1
Mon Nov 13 16:07:09 1995  Karl Berry  <karl@@cs.umb.edu>
d4885 1
a4885 3
        * texinfo.tex (\xrefX): Test for xref-automatic-section-title
        being @@set correctly, and remove spurious redefinition of
        \printednodename in that case.
d4887 1
a4887 1
Mon Oct 16 15:16:34 1995  Karl Berry  <karl@@cs.umb.edu>
d4889 1
a4889 3
        * texinfo.tex (\unsepspaces): New macro to make active space
        expand into a normal space char in index entries.
	(\indexdummies): Use \unsepspaces.
d4891 3
a4893 1
Thu Oct 12 14:56:52 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4895 1
a4895 2
	* texinfo.tex (\tie): Use \lvvmode, not \leavevmode.
	Don't use \@@M directly either.
d4897 1
a4897 1
Sun Aug 27 21:17:09 1995  Paul Eggert  <eggert@@twinsun.com>
d4899 2
a4900 1
	* texinfo.tex (\appendixsection): Fix misspelled defn.
d4902 1
a4902 1
Mon Jul 31 23:57:57 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4904 2
a4905 1
	* texinfo.tex (\ttfont): Don't call \nohyphenation.
d4907 1
a4907 1
Sun Jul 30 18:30:47 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4909 3
a4911 1
	* texinfo.tex (\tocentry): Use \turnoffactive.
d4913 1
a4913 1
Sun Feb  5 05:34:13 1995  Richard Stallman  <rms@@pogo.gnu.ai.mit.edu>
d4915 1
a4915 2
	* texinfo.tex (\boldbraxnoamp): New function.
	(\deftypefunargs): Use that, not \boldbrax.
d4917 2
a4918 1
Tue Jan 31 12:15:28 1995  Karl Berry  <karl@@cs.umb.edu>
d4920 2
a4921 1
        * texinfo.tex (\set): Use \gdef, not \xdef.
d4923 3
a4925 1
Sat Jan 21 16:39:36 1995  Richard Stallman  <rms@@pogo.gnu.ai.mit.edu>
d4927 1
a4927 3
	* texinfo.tex: Initially make _ and + \active,
	then later make them \other.
	(\otherifyactive): New command.
d4929 1
a4929 1
Thu Jan 19 21:59:22 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4931 3
a4933 1
	* texinfo.tex (\afourwide): New command.
d4935 1
a4935 1
Mon Jan 16 09:29:38 1995  Stephen Gildea  <gildea@@x.org>
d4937 2
a4938 2
	* texinfo.tex: Initially make + and _ "other" characters.
	(\fixbackslash, \everyjob): Make + and _ active characters.
d4940 1
a4940 1
Tue Jan 10 19:16:09 1995  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4942 4
a4945 2
	* texinfo.tex: At beginning, \input plain if necessary.
	(\deftypefunargs): Use \boldbrax, not \functionparens.
d4947 1
a4947 1
Sun Dec 18 16:40:11 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4949 2
a4950 1
	* texinfo.tex (\indsc): Use csc10 (at 9pt), not indrm.
d4952 1
a4952 1
Mon Oct 31 00:51:20 1994  Richard Stallman  <rms@@pogo.gnu.ai.mit.edu>
d4954 1
a4954 2
	* texinfo.tex (\changepapersizes): Fix definition syntax.
	(\fontprefix): Define only if not yet defined.
d4956 1
a4956 4
	* texinfo.tex (\margin): Define a new insert.
	(\SETmarginindex): Initialize to \relax.
	(\doindex): Optionally put the entry in the margin.
	(\pagecontents): Print the index entries put in the margin.
d4958 1
a4958 1
Sat Oct 29 19:50:10 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4960 1
a4960 3
	* texinfo.tex (\auxhat): New macro.
	(\dosetq): Use \auxhat.
	(reading the aux file): Give ^ catcode 7.
d4962 1
a4962 1
Wed Oct 26 03:28:04 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4964 2
a4965 3
	* texinfo.tex (\setfont): New macro.  Use it for specifying
	most of the fonts that are normally cm fonts.
	(\fontprefix): New macro, normally `cm'.
d4967 1
a4967 1
Mon Oct 24 01:27:09 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4969 2
a4970 1
	* texinfo.tex (\startcontents): Set catcode of ^.
d4972 1
a4972 1
Thu Oct 13 02:19:43 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4974 2
a4975 1
	* texinfo.tex (\ifhtml, \html, \enddots, \?, \!): New commands.
d4977 1
a4977 1
Fri Sep 16 16:30:52 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4979 2
a4980 3
	* texinfo.tex (\defheaderxcond): New macro.
	(\deftypefnheaderx): Use defheaderxcond when calling defname.
	(\deftypefunheaderx, \deftypevarheader, \deftypevrheader): Likewise.
d4982 4
a4985 1
Fri Aug 26 03:08:08 1994  Amy Hendickson  <amyh@@ai.mit.edu>
d4987 4
a4990 1
	* texinfo.tex (\multitable): New command.
d4992 2
a4993 1
Mon Aug  1 14:28:57 1994  Richard Stallman  <rms@@mole.gnu.ai.mit.edu>
d4995 3
a4997 1
	* texinfo.tex (\changepagesizes, \afourlatex): New macros.
d4999 2
a5000 1
Tue Jul 12 11:45:58 1994  Karl Berry  (karl@@cs.umb.edu)
d5002 2
a5003 3
        * texinfo.tex (\quotation): Set \parskip to zero to avoid extra
        space below the environment.
	(\quotation): Clean up comments and indentation.
d5005 4
a5008 1
Wed Jul 13 05:36:40 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5010 2
a5011 2
	* texinfo.tex (\xrefX): Put back, and correct, the test of
	SETxref-automatic-section-title.
d5013 1
a5013 1
Thu Jul  7 15:57:52 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5015 2
a5016 1
	* Set catcodes of chars 128-255 to \other.
d5018 1
a5018 1
Mon Jul  4 15:32:41 1994  Karl Berry  (karl@@cs.umb.edu)
d5020 1
a5020 1
        * texinfo.tex (\tie): Set \catcode of @@ to 11 before using \@@M.
d5022 3
a5024 2
        * texinfo.tex (\xrefX): Undo \turnoffactive while printing the node
        name, so _ in node names doesn't come out as the dot accent.
d5026 1
a5026 1
Sat Jul  2 14:49:26 1994  Karl Berry  (karl@@cs.umb.edu)
d5028 1
a5028 2
        * texinfo.tex (\tie): Ensure we're in horizontal mode before the
        \penalty.
d5030 2
a5031 1
Tue May 10 01:21:28 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5033 1
a5033 2
	* texinfo.tex (\donoderef, \unnumbnoderef, \appendixnoderef):
	Set \lastnode globally.
d5035 1
a5035 1
Sun Apr 17 15:35:43 1994  Karl Berry  (karl@@ra.cs.umb.edu)
d5037 3
a5039 3
        * texinfo.tex (\~): Define to be a tie.
        (\ptextilde): New defn to save the plain's tilde accent.
        (\tex): Restore plain tilde.
d5041 2
a5042 1
Sun Mar 27 23:35:17 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5044 13
a5056 1
	* texinfo.tex (\smallbook): Set \defbodyindent and \deftypemargin.
d5058 3
a5060 1
Sun Mar 20 19:47:59 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5062 1
a5062 4
	* texinfo.tex (\xrefX): Define and use \correctnodename.
	(@@turnoffactive): Move after @@ becomes available
	and turn off backslash as well as other chars.  Use @@realbackslash.
	(@@normalturnoffactive): Like @@turnoffactive but use @@normalbackslash.
d5064 4
a5067 1
Sat Mar 19 12:26:25 1994  Karl Berry  (karl@@cs.umb.edu)
d5069 7
a5075 4
        * texinfo.tex (\singlespaceskip): Increase to 12.5pt.
        (\singlespace): Call \setleading instead of just assigning to
        \baselineskip, so the strut box will be reset.
        (\smalllispx): Likewise.
d5077 3
a5079 1
Sun Mar 13 20:32:28 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5081 1
a5081 1
	* texinfo.tex (\dots): Change back to \ldots.
d5083 1
a5083 1
Sat Mar 12 22:34:10 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5085 1
a5085 1
	* texinfo.tex (\indexnofonts): Add %'s to suppress newlines after \def.
d5087 4
a5090 1
Sat Feb 26 15:51:37 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5092 6
a5097 2
	* texinfo.tex (\deftexinfoversion): New macro.
	(\texinfoversion): Define using \deftexinfoversion.
d5099 1
a5099 1
Wed Jan 26 12:40:52 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5101 3
a5103 5
	* texinfo.tex (\putwordSee, \putwordInfo, \putwordfile)
	(\putwordChapter, \putwordAppendix, \putwordSection)
	(\putwordsection, \putwordpage)
	(\putwordTableofContents, \putwordShortContents): New macros.
	Used in various places instead of fixed words.
d5105 2
a5106 1
Mon Jan 24 22:51:36 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5108 3
a5110 1
	* texinfo.tex (\ignoremorecommands): Turn off @@item and @@message.
d5112 5
a5116 1
Thu Jan 20 17:01:53 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5118 2
a5119 2
	* texinfo.tex (\indexnofonts): Treat accents as dummies.
	Turn modified European letters into one or more ordinary letters.
d5121 2
a5122 1
Tue Jan 18 14:54:32 1994  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5124 1
a5124 1
	* texinfo.tex (\indexdummies): Handle tex accents and European letters.
d5126 3
a5128 1
Wed Nov 24 16:11:51 1993  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5130 2
a5131 1
	* texinfo.tex (\dots): Use $\,$ for spacing.
d5133 1
a5133 1
Sun Nov 21 22:16:21 1993  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5135 4
a5138 2
	* texinfo.tex (\dots): Avoid using \ldots; use periods and kern.
	(\indexdotfill): Use italic periods.
d5140 2
a5141 17
Fri Nov 19 20:50:31 1993  Roland H. Pesch  (pesch@@apple-gunkies.gnu.ai.mit.edu)

        * texinfo.tex (\deftypefunargs): use \tclose rather than \code to
        avoid side effects on active chars

Tue Sep 28 16:01:58 1993  Roland H. Pesch  (pesch@@apple-gunkies.gnu.ai.mit.edu)

	* texinfo.tex (\obeyedspace defn): remove blank after \sepspaces
	(left destructive penalty in vertical list)

Mon Aug 30 14:17:27 1993  Roland McGrath  (roland@@churchy.gnu.ai.mit.edu)

	* texinfo.tex (\setref, \unnumbsetref, \appendixsetref): Uncomment
	\dosetq for title.
	(\Ytitle): Define as \thissection instead of \thischapter.
	(\xrefX): If there is no printed-title arg given, and @@ifset
	xref-automatic-section-title, try to use the real section title.
d5143 1
a5143 1
Tue Jul 27 12:47:24 1993  Charles Hannym  (mycroft@@trinity.gnu.ai.mit.edu)
d5145 2
a5146 7
	* texinfo.tex (\ifitemxneedsnegativevskip): New \if; set immediately
	following a short \item.
	(\itemxpar): \par and then if \ifitemxneedsnegativevskip is set, do
	a \vskip-\parskip.
	(\internalBitemx, \internalBxitemx, \internalBkitemx): Use \itemxpar
	rather than \par.
	(\itemzzz): Set \ifitemxneedsnegativevskip as appropriate.
d5148 1
a5148 1
Thu Jul 22 16:08:33 1993  Charles Hannum  (mycroft@@trinity.gnu.ai.mit.edu)
d5150 3
a5152 2
	* texinfo.tex (\titlezzz, \finishtitlepage): Explicitly make hrules
	have a width of \hsize so they aren't too long in smallbook format.
d5154 1
a5154 1
Tue Jun 29 15:56:19 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5156 1
a5156 2
	* texinfo.tex (\deftypefnheaderx): call \normalparens to permit
	normal typesetting of strings (e.g. for C++ docn) containing `&'
d5158 2
a5159 1
Fri Jun 25 14:08:44 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5161 1
a5161 2
	* texinfo.tex (\nestedignore): turn off \ind... fonts too
	(primarily for use within @@smallexample)
d5163 9
a5171 1
Wed Jun 23 11:58:48 1993  Jim Kingdon  (kingdon@@wombat.gnu.ai.mit.edu)
d5173 6
a5178 1
	* longopts.table: Update GDB options.
d5180 8
a5187 1
Sun Jun 20 22:00:11 1993  Roland McGrath  (roland@@churchy.gnu.ai.mit.edu)
d5189 1
a5189 2
	* lgpl.texinfo: Use @@smallexample instead of @@example.  Reformat
	example disclaimer to avoid overfull \hbox.
d5191 4
a5194 1
Mon Jun 14 04:09:47 1993  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5196 1
a5196 2
	* texinfo.tex (\entry): Don't make a line of dots
	if there are no page numbers.
d5198 1
a5198 1
Fri Jun 11 16:35:23 1993  Karl Berry  (karl@@cs.umb.edu)
d5200 1
a5200 3
	* texinfo.tex (\defparsebodycommon): New macro from \defvrparsebody.
	(\deftpparsebody): Call it; can't use \defvrparsebody.
	(\deftpheaderline, \removeemptybraces): New macros.
d5202 3
a5204 1
Sat May  8 10:49:25 1993  Karl Berry  (karl@@cs.umb.edu)
d5206 1
a5206 2
	* texinfo.tex (\itemzzz): Only change \parskip temporarily, and
	unskip by it later if the item text is on its own line.
d5208 3
a5210 4
	* texinfo.tex (\tablez): Do \afterenvbreak before the \endgroup,
	so the \parskip value is the table's, not the surrounding text's.
	(\vtable, \ftable, \itemizey): Likewise.
	Note: for most environments, \nonfillfinish deals with this.
d5212 1
a5212 2
	* texinfo.tex (\smalllisp): New definition for non-small case, a
	la @@smallexample.
d5214 19
a5232 1
	* texinfo.tex: Delete \message{} at beginning; it does nothing.
d5234 1
a5234 16
	(These changes are all trying to make space above and below
	environments more equal.)
	* texinfo.tex (\singlespace): Don't insert a kern.
	(\group): Do \offinterlineskip, and reset \par to insert a blank
	line's worth of space.
	(\lisppar): Delete meaningless call to \obeyspaces before making
	the definition.
	(\Elisp [the outer one]): Rename to \nonfillfinish, and end the
	paragraph before the group.
	(\lisp): Set \Elisp (the inner one) to \nonfillfinish
	(\example, \smallexample, \display, \format, \flushleft,
	\flushright, \quotation): Use \nonfillfinish.
	(\lineskipfactor, \strut{height,depth}percent): Set to more exact
	values.
	(\setleading): Set \normallineskip and call \normalbaselines, for
	cleanliness.
d5236 2
a5237 1
Thu May  6 16:00:59 1993  Jeffrey Osier  (jeffrey@@deneb.cygnus.com)
d5239 1
a5239 1
	* texinfo.tex (\ignoremorecommands): Turn off \set and \clear.
d5241 1
a5241 1
Tue Apr 20 17:02:34 1993  Roland H. Pesch  (pesch@@apple-gunkies.gnu.ai.mit.edu)
d5243 2
a5244 1
	* texinfo.tex (\codex): Delete space.
d5246 1
a5246 1
Thu Apr 15 14:59:04 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5248 1
a5248 2
	* texinfo.tex (\ignoremorecommands): Turn off @@raisesections, @@up,
	@@lowersections, @@down within false conditionals.
d5250 3
a5252 1
Sun Apr 18 04:33:13 1993  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5254 1
a5254 3
	* texinfo.tex (\code): Define - and _ to permit line-breaking
	despite the fact that hyphenation is disabled.
	(\codex, \codedash, \codeunder): New macros.
d5256 3
a5258 1
Tue Mar 16 18:19:16 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5260 2
a5261 2
	* texinfo.tex (\ignoremorecommands): Turn off @@printindex within
	false conditionals.
d5263 1
a5263 1
Sun Mar 14 10:47:36 1993  Karl Berry  (karl@@cs.umb.edu)
d5265 1
a5265 4
	* texinfo.tex (\footnote): Don't bother to take the footnote text
	as an argument, and hence don't define as \long.
        (\footnotezzz): Do \footstrut after we start the paragraph.
        (Also reformat these macros to make them easier to read.)
d5267 1
a5267 1
Fri Feb 26 13:02:44 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5269 3
a5271 1
	* texinfo.tex (@@include): Use \thisfile rather than #1 as \input arg.
d5273 2
a5274 2
	* texinfo.tex (\readauxfile): Call \warnedobstrue to turn off warning
		      re TeX 3.0 on second and subsequent runs.
d5276 1
a5276 1
Thu Feb 25 18:03:38 1993  Karl Berry  (karl@@cs.umb.edu)
d5278 2
a5279 1
	* texinfo.tex (\realeverypar): Delete, as it was unused.
a5280 1
	* texinfo.tex (\group): Do a \strut in \everypar.
d5282 1
a5282 1
Mon Feb 22 17:10:06 1993  Karl Berry  (karl@@claude.cs.umb.edu)
d5284 2
a5285 2
	* texinfo.tex (\obeyedspace): Define to be whatever \sepspaces
	does (and move the definition to after \sepspaces).
a5286 1
Wed Feb 17 01:55:20 1993  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5288 1
a5288 2
	* texinfo.tex (\nonfillstart): Do \singlespaces and \let\par
	before \obeylines.
d5290 1
a5290 1
Fri Feb 12 12:32:56 1993  Roland H. Pesch  (pesch at el_bosque.cygnus.com)
d5292 1
a5292 3
	* texinfo.tex (\obstexwarn): issue message re bug in TeX 3.0.
          (\nullfont): commented-out redefinition, to enable w/TeX 3.0.
          (\nestedignore): call \obstexwarn for manuals that may trip bug
d5294 2
a5295 1
	* texinfo.tex (\nestedignore): avoid @@tex contents with \doignore
d5297 1
a5297 1
Thu Feb 11 15:41:06 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5299 2
a5300 1
	* texinfo.tex (\indexdummies): enable @@dfn and @@emph in index entries
d5302 1
a5302 1
Thu Feb 11 13:32:32 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5304 2
a5305 2
	* texinfo.tex (\ignoremorecommands): ignore @@include within
          failing conditionals
d5307 1
a5307 1
Sat Feb  6 19:44:28 1993  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5309 1
a5309 1
	* texinfo.tex (\nestedignore): Set \globaldefs--make all defs local.
d5311 1
a5311 1
Tue Feb  2 15:57:37 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5313 1
a5313 6
	* texinfo.tex (@@raisesections, @@lowersections): new commands.
	* (@@up, down): original BFox synonyms for above.
        * (\numhead, \apphead, \unnmhead): internal macros to map headings
	to appropriate level
	* (@@nwnode): new synonym for @@node, used in newest
	makeinfo
d5315 1
a5315 1
Tue Jan 26 17:05:02 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5317 1
a5317 1
	* texinfo.tex (\include): avoid group around file contents
d5319 1
a5319 1
Tue Jan 19 18:58:56 1993  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5321 4
a5324 4
	* texinfo.tex (\ignoremorecommands, used in \nestedignore): also
	ignore cross-ref commands and \settitle
        (\setyyy, used in @@set): make definitions global
        (\clearxxx, used in @@clear): clear definitions globally
d5326 1
a5326 1
Thu Jan 14 17:43:32 1993  Michael I Bushnell  (mib@@geech.gnu.ai.mit.edu)
d5328 3
a5330 1
	* texinfo.tex: Added \shorttitlepage.
d5332 1
a5332 1
Sat Jan  2 15:01:45 1993  Karl Berry  (karl@@cs.umb.edu)
d5334 1
a5334 2
	* texinfo.tex (\tclose): Use \spaceskip instead of modifying
	\fontdimen's to normalize the interword space.
d5336 1
a5336 3
	* texinfo.tex (\t, \key, \tclose): Use \hyphenchar instead of
	\exhyphenpenalty, to turn off hyphenation for real.
        (\{no,restore}hyphenation): New macros.
d5338 2
a5339 1
Sat Jan  2 15:01:45 1993  Karl Berry  (karl@@cs.umb.edu)
d5341 1
a5341 3
	* texinfo.tex (\t, \key, \tclose): Use \hyphenchar instead of
	\exhyphenpenalty, to turn off hyphenation for real.
        (\{no,restore}hyphenation): New macros.
d5343 1
a5343 1
Tue Jan  5 19:15:46 1993  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5345 12
a5356 1
	* texinfo.tex (\deftpparsebody): Make synonymous with \defvrparsebody.
d5358 1
a5358 1
Sun Dec 27 09:40:08 1992  Karl Berry  (karl@@cs.umb.edu)
d5360 4
a5363 3
	* texinfo.tex (\inforef, \inforefzzz): Use the \ignorespaces
	primitive instead of \losespace.
        (\losespace): Delete.
d5365 3
a5367 1
	* texinfo.tex (\menu, \direntry): Handle like \ifinfo.
d5369 8
a5376 5
	* texinfo.tex (\unmatchedenderror, \defineunmatchedend): New macros.
        (\endxxx): Call it, instead of just doing it inline.
        (\conditionalsucceed, \nece): More new macros.
        (\iftex): Call \conditionalsucceed.
        (\Eiftex): Define to give an error at the outer level.
d5378 2
a5379 6
	* texinfo.tex (\ignoremorecommands, \nestedignore): New macros.
        (\ifset, \ifclear): Expand a macro on success as well as failure;
        also switch to using expansion instead of assignments to act after
        the conditional.
        (\if{set,clear}succeed): Call \conditionalsucceed.
        (\if{set,clear}fail): Call \nestedignore instead of \doignore.
d5381 1
a5381 1
	* texinfo.tex (\clear): Don't insert a spurious space.
d5383 6
a5388 1
	* texinfo.tex (\value): Put comment next to definition.
d5390 1
a5390 3
	* texinfo.tex (\setyyy): Call \setzzz, and define the variable as
	simply the parameter, no \unskip.
        (\setzzz): New macro; do not globally define the variable.
d5392 1
a5392 1
Thu Dec  3 17:24:05 1992  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5394 4
a5397 2
	* texinfo.tex (croppageout): use same escape-char switching as
	default output routine.  Permits using _ in TOC entries.
d5399 2
a5400 1
Fri Nov 13 17:35:38 1992  Charles Hannum  (mycroft@@gnu.ai.mit.edu)
d5402 6
a5407 2
	* texinfo.tex (indexing): Rewrote double-column mode to fix a
	rare breakage.
d5409 1
a5409 1
Sun Oct 25 07:13:31 1992  Karl Berry  (karl@@cs.umb.edu)
d5411 1
a5411 2
	* texinfo.tex (\obeyedspace): No need to define with \gdef, we're
	at the outer level.
d5413 8
a5420 1
Fri Oct 16 18:04:40 1992  Roland McGrath  (roland@@geech.gnu.ai.mit.edu)
d5422 5
a5426 2
	* lgpl.texinfo: Change "This program" to "This library" in example
	copying notice.
d5428 1
a5428 1
Sat Oct 10 09:43:45 1992  Karl Berry  (karl@@cs.umb.edu)
d5430 1
a5430 1
	* texinfo.tex (\bullet, \minus): Use \implicitmath instead of $.
d5432 5
a5436 1
Fri Oct  2 08:35:51 1992  Karl Berry  (karl@@cs.umb.edu)
d5438 2
a5439 1
	* texinfo.tex (\Egroup): Don't do the \strut and \nointerlineskip.
d5441 4
a5444 1
Sat Sep 26 09:08:59 1992  Karl Berry  (karl@@cs.umb.edu)
d5446 5
a5450 4
        * texinfo.tex (\doignore, \enddoignore): New macros.
        (\ifinfo): Call \doignore.
        (\ifxinfoxxx): Deleted.
	(\ignore, \ifsetfail, \ifclearfail): use \doignore.
d5452 2
a5453 1
        * texinfo.tex (\unnumbered): Expand the arg only once for the \message.
d5455 1
a5455 2
        * texinfo.tex (\deftpparsebody, \parsetpheaderline): New macros.
        (\deftp): Call \deftpparsebody.
d5457 2
a5458 1
Thu Sep 24 10:12:45 1992  Karl Berry  (karl@@cs.umb.edu)
d5460 1
a5460 4
        * texinfo.tex (\entry): Do \par first; add comments.
        (\short{chap,unnumbered}entry,\do{chap,sec,subsec,subsubsec}entry):
          Call \tocentry, instead of using \vbox.
        (\tocentry): New macro.
d5462 2
a5463 1
Sat Sep 19 14:36:11 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5465 1
a5465 1
	* texinfo.tex (\`, \'): Definitions deleted.
d5467 1
a5467 1
Fri Sep 18 14:33:09 1992  Roland H. Pesch  (pesch@@cygnus.com)
d5469 1
a5469 2
	* texinfo.tex (\ifset, \ifclear): Standardize catcode of space as
	for \ignore.
d5471 2
a5472 1
Fri Sep 11 15:25:01 1992  Karl Berry  (karl@@hayley)
d5474 1
a5474 2
        * texinfo.tex (\finalout): Move out of final section of file,
          which claims not to define new control words.
d5476 1
a5476 3
        * texinfo.tex (\setleading): New macro.
        (outer level, @@smallbook, @@afourpaper): Call it, instead of
        setting \baselineskip directly.
d5478 1
a5478 1
        * texinfo.tex (\|): New definition for changebars.
d5480 1
a5480 1
Tue Sep  1 17:32:48 1992  Karl Berry  (karl@@hayley)
d5482 1
a5482 1
        * texinfo.tex (\begindoublecolumns): Exactly double \vsize.
d5484 1
a5484 1
Sat Aug 29 10:12:16 1992  Karl Berry  (karl@@hayley)
d5486 3
a5488 2
        * texinfo.tex (\group): Define \Egroup to use struts instead of
          letting TeX do its own interline spacing.
d5490 2
a5491 3
        * texinfo.tex (\{remove,ignore}activespaces): New macros.
        (\end): Call \removeactivespaces; give the correct error messages;
          don't try to expand a nonexistent \E... macro.
d5493 2
a5494 1
        * texinfo.tex (\EMsimple): End the help message with a period.
d5496 2
a5497 3
        * texinfo.tex (\gobble): New macro.
        (\lisp): Call it (instead of defining it every time).
        (\example, \smallexample): Define \E... within the macro.
d5499 1
a5499 1
Tue Aug 25 11:56:26 1992  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5501 8
a5508 1
	* texinfo.tex (\readauxfile): Make + normal while reading aux file.
d5510 2
a5511 1
Thu Aug 20 21:32:34 1992  Karl Berry  (karl@@hayley)
d5513 1
a5513 4
        * texinfo.tex (\doublecolumnhsize): Compute value in
          \begindoublecolumns.
        (\afourpaper, \smallbook, <outer level>): Remove these (virtually
          identical) computations.
d5515 1
a5515 5
        * texinfo.tex (\doublecolumnvsize): Deleted.
        (\afourpaper, \smallbook): Don't compute it.
        (\begindoublecolumns): Just double \vsize here (thus decreasing
          the value considerably from the old value of 19.1in, which was far
          too large.)
d5517 2
a5518 1
Fri Aug 14 10:16:42 1992  Karl Berry  (karl@@hayley)
d5520 3
a5522 4
        * texinfo.tex (\parseargx): Use \expandafter instead of
        \aftergroup to continue the processing.
        (\parsearglinex): Renamed to \parseargline, since the former
        \parseargline is no longer needed.
d5524 1
a5524 2
	* texinfo.tex (\parseargline) Remove a trailing @@c or @@comment.
        (\argremovec, \argremovecomment): New macros.
d5526 2
a5527 1
Thu Aug  6 11:28:55 1992  Roland H. Pesch  (pesch@@fowanton.cygnus.com)
d5529 1
a5529 3
	* texinfo.tex: extended @@set to define expandable vars;
	  @@value expands same.  Auxiliary macros \setxxx, \setyyy
	  used for @@set.
d5531 2
a5532 1
Sun Aug  2 14:34:48 1992  Karl Berry  (karl@@hayley)
d5534 1
a5534 1
        * texinfo.tex (\entry): do line-breaking on the index entry.
d5536 4
a5539 1
Wed Jul  1 17:05:26 1992  Karl Berry  (karl@@claude.cs.umb.edu)
d5541 1
a5541 3
        * texinfo.tex (\lparen, \rparen): new definitions.
        ((,[,],)): new global definitions for these four active
          characters, so parens and brackets can be used in @@deffn names.
d5543 5
a5547 1
Sat Jun 27 11:32:58 1992  Karl Berry  (karl@@hayley)
d5549 1
a5549 4
        * texinfo.tex (\shortchaplabel): new macro to align chapter and
          appendix labels.
        (\shortchapentry): call it.
        (\shortappendixwidth): new dimen register.
d5551 1
a5551 1
Wed Jun 24 09:45:34 1992  Karl Berry  (karl@@hayley)
d5553 1
a5553 4
        * texinfo.tex (\afterenvbreak): make the same as \aboveenvbreak,
          so space below environments doesn't get lost.
        (\aboveenvskipamount): rename to \envskipamount, since it's used
          both above and below.
d5555 1
a5555 1
Wed Jun 24 09:45:34 1992  Karl Berry  (karl@@hayley)
d5557 3
a5559 2
        * texinfo.tex (\group): do @@comment at the end, to avoid excessive
          white space when called inside @@group.
d5561 1
a5561 1
Wed Jun 24 16:36:04 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5563 1
a5563 1
	* texinfo.tex (\startcontents): End page before setting pageno.
d5565 5
a5569 1
Thu May 28 20:27:25 1992  Robert J. Chassell  (bob@@hill.gnu.ai.mit.edu)
d5571 1
a5571 1
        * texinfo.tex (\vtable): Like @@ftable, but for variables.
d5573 2
a5574 1
Fri May 22 07:04:32 1992  Karl Berry  (karl@@hayley)
d5576 3
a5578 1
        * texinfo.tex (\w): do \leavevmode before the \hbox.
d5580 6
a5585 1
Sat May 16 11:16:27 1992  Karl Berry  (karl@@hayley)
d5587 3
a5589 1
        * texinfo.tex (\smallbook): decrease \topskip somewhat.
d5591 1
a5591 1
        * texinfo.tex (\group): use \vtop instead of \vbox.
d5593 2
a5594 3
        * texinfo.tex (\newlinechar): define for use in help strings.
        (\groupinvalidhelp): define this for use with \errhelp.
        (\group): set \errhelp to above.
d5596 2
a5597 1
Thu Apr 30 16:19:17 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5599 4
a5602 1
	* texinfo.tex (\need): Rewritten by karl.
d5604 2
a5605 1
Sat Apr 18 16:24:00 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5607 1
a5607 5
	* texinfo.tex (\exdentamount): New var, set by environments.
	(\exdent, \exdentyyy): Define suitably for filled environments.
	Always exdent by innermost indentation step.
	(\nofillexdent, \nofillexdentyyy): Alternates for nofill envs.
	(\lisp, \smalllispx, \display): Set \exdent to \nofillexdent.
d5609 7
a5615 1
Thu Apr  2 15:04:15 1992  Robert J. Chassell  (bob@@kropotkin.gnu.ai.mit.edu)
d5617 1
a5617 1
        * texinfo.tex (\Esmalllisp): Smaller baseline skip for smallexamples.
d5619 4
a5622 1
Sun Mar 29 20:44:49 1992  Brendan Kehoe  (brendan@@cs.widener.edu)
d5624 1
a5624 2
	* texinfo.tex (\startcontents): Always close contentsfile and
	adjust the page.
d5626 1
a5626 1
Fri Mar 27 17:41:52 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5628 4
a5631 1
	* texinfo.tex (\chapternofonts): Deal with \result, \equiv, etc.
d5633 1
a5633 1
Sat Mar 21 08:22:29 1992  Karl Berry  (karl at hayley)
d5635 3
a5637 2
        * texinfo.tex (\entry): format entries better if the page number
          and entry text don't fit on one line.
d5639 1
a5639 2
        * texinfo.tex (\loggingall, \gloggingall): new macros to help with
          debugging.
d5641 1
a5641 1
Fri Mar 20 15:35:42 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5643 1
a5643 4
	* texinfo.tex (\result, \expansion, \print, \equiv):
	Don't copy prefabricated boxes; must adapt to current font.
	(\dblarrowbox, \longdblarrowbox, \pushcharbox, \equivbox): Deleted.
	(\bullbox): Deleted.
d5645 1
a5645 1
Thu Mar 19 22:17:14 1992  Robert J. Chassell  (bob@@kropotkin.gnu.ai.mit.edu)
d5647 1
a5647 2
	* texinfo.tex (\widowpenalty, \clubpenalty): Set them to 10000, since
          8000 did not work.
d5649 1
a5649 1
Fri Mar  6 13:26:36 1992  Robert J. Chassell  (bob@@kropotkin.gnu.ai.mit.edu)
d5651 1
a5651 2
	* texinfo.tex (\widowpenalty, \clubpenalty): Set them to 8000, since
          2000 did not work (but \widowpenalty at 20000 did work).
d5653 1
a5653 1
Thu Feb 27 12:27:14 1992  Karl Berry  (karl@@wombat.gnu.ai.mit.edu)
d5655 1
a5655 1
        * texinfo.tex (\widowpenalty): set to 2000, not 20000.
d5657 1
a5657 1
Sat Feb  8 14:34:45 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5659 1
a5659 3
	* texinfo.tex (\widowpenalty, \clubpenalty): Set them to 2000.
	(\itemizeitem): Use penalty 1200.
	(\itemzzz): Add \nobreak near beginning.
d5661 1
a5661 2
	* texinfo.tex (\quotation): Increase right margin, instead of
	left margin twice.
d5663 1
a5663 1
Wed Feb  5 12:08:30 1992  Karl Berry  (karl at hayley)
d5665 15
a5679 3
        * texinfo.tex (\alphaenumerate, \capsenumerate): redefine as a call
          to \enumerate.
        (\{lower,upper}caseenumerate): Rename from \{alpha,caps}enumerate.
d5681 1
a5681 1
Sun Feb  2 21:07:19 1992  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5683 1
a5683 2
	* texinfo.tex (\itemzzz): Compensate in line-by-itself case for
	a table that is indented.
d5685 4
a5688 1
Mon Jan 13 21:04:07 1992  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5690 3
a5692 1
	* texinfo.tex: Use 26 instead of control-z as character constant.
d5694 1
a5694 1
Sat Jan 11 02:20:58 1992  Roland McGrath  (roland@@albert.gnu.ai.mit.edu)
d5696 2
a5697 1
	* gpl.texinfo: Unfilled Yoyodyne example.
d5699 2
a5700 1
Sat Dec  7 16:16:54 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5702 3
a5704 2
	* texinfo.tex (\cartouche): Set \nonarrowing.
	(\lisp, \smalllisp, \quotation, \display): If set, don't narrow.
d5706 1
a5706 1
Mon Dec  2 08:15:08 1991  Karl Berry  (karl at hayley)
d5708 1
a5708 3
        * texinfo.tex (\itemzzz): don't start a paragraph if the item text
          is on a line by itself; don't allow a page break after that
          line; always do \par before typesetting anything.
d5710 1
a5710 1
Tue Nov 26 15:13:13 1991  Roland McGrath  (roland@@albert.gnu.ai.mit.edu)
d5712 2
a5713 2
	* lgpl.texinfo: @@ifset lgpl-appendix, use @@appendix instead of
	@@unnumbered.
d5715 1
a5715 1
Sun Nov 10 12:00:06 1991  Karl Berry  (karl at hayley)
d5717 1
a5717 4
        * texinfo.tex (\doprintindex): only \read if the file existed;
          \closein the test stream in all cases.
        (\initial, \entry): do not \outer, so that \read does not get an
          error if the index exists.
d5719 3
a5721 1
Fri Nov  8 18:13:28 1991  Michael Bushnell  (roland@@churchy.gnu.ai.mit.edu)
d5723 2
a5724 2
	* texinfo.tex (\itemizey): missing %'s in macro defn.
	  Also, add \begingroup; accidentally deleted by Karl Berry.
d5726 1
a5726 1
Thu Nov  7 11:41:25 1991  Karl Berry  (karl at hayley)
d5728 1
a5728 2
        * texinfo.tex (\doprintindex): \read from the index file to make
          \ifeof true when the file exists but is empty.
d5730 3
a5732 1
Tue Nov  5 08:29:13 1991  Robert J. Chassell  (bob at grackle)
d5734 1
a5734 2
        * texinfo.tex (@@thischaptername): Provide default value for when
          @@chapter not defined.
d5736 2
a5737 1
Sat Nov  2 17:59:02 1991  Karl Berry  (karl at hayley)
d5739 1
a5739 2
        * texinfo.tex (\itemizezzz): do \begingroup here, since \itemizey
          can't any longer.
d5741 1
a5741 1
Tue Oct 29 12:17:41 1991  Robert J. Chassell  (bob at grackle)
d5743 3
a5745 1
        * texinfo.tex: @@paragraphindent defined as a no op.
d5747 3
a5749 1
Fri Oct 25 15:19:47 1991  Karl Berry  (karl at hayley)
d5751 1
a5751 5
        * texinfo.tex (\enumeratey): allow any lowercase letter, uppercase
          letter, or number as argument; initialize \itemno and begin the
          environment's group here.
          (\itemizey): don't initialize \itemno here.
          (\numericenumerate, \startenumeration): new macro.
d5753 2
a5754 1
Wed Oct 23 16:26:30 1991  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5756 1
a5756 1
	* texinfo.tex (\ifclear, \ifset): Remove \outer.
d5758 1
a5758 1
	* texinfo.tex (\afourpaper): Set various parameters.
d5760 1
a5760 1
Tue Oct 22 18:42:31 1991  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5762 2
a5763 3
	* texinfo.tex (\alphaenumerate, \capsenumerate):
	Let @@end enumerate end these.
	(\Ealphaenumerate, \Ecapsenumerate): Aliases for \Eenumerate.
d5765 1
a5765 1
Sun Oct 20 18:23:18 1991  Richard Stallman  (rms@@mole.gnu.ai.mit.edu)
d5767 9
a5775 3
	* texinfo.tex (\mainmagstep): New parameter macro.
	(Defining fonts): Use that parameter to scale them.
	If \bigger is defined, use 12 point fonts.
d5777 1
a5777 1
Tue Sep 24 00:30:07 1991  Roland McGrath  (roland@@churchy.gnu.ai.mit.edu)
d5779 1
a5779 1
	* texi2dvi: Iterate over the right variable to look for new idx files.
d5781 1
a5781 1
	* texi2dvi: GPL 2.
d5783 1
a5783 1
	* texi2dvi: Fix 2nd invocation of texindex to pass right args.
d5785 3
a5787 1
Wed Sep 11 20:52:42 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5789 2
a5790 1
	* texinfo.tex (\cartouche): New macro.
d5792 1
a5792 1
Fri Aug 23 16:13:46 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5794 1
a5794 2
	* texinfo.tex (\section, \subsection, \subsubsection):
	Initially define for numbered chapters.
d5796 3
a5798 1
Fri Aug  2 01:46:09 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5800 1
a5800 1
	* texinfo.tex (\footnote): Use \unskip instead of \removelastskip.
d5802 2
a5803 1
Mon Jul 29 14:06:54 1991  Roland H. Pesch  (pesch at cygint.cygnus.com)
d5805 3
a5807 6
	* texinfo.tex (\majorheadingzzz, \chapheadingzzz, \chfplain,
	\unnchfplain, \unnchfopen, \secheadingi, \subsecheadingi,
	\subsubsecheadingi): allow line breaks in headings.
	(\shortchapentry, \shortunnumberedentry, \dochapentry, \dosecentry,
	\dosubsecentry, \dosubsubsecentry): allow line breaks in table of
	contents entries.
d5809 1
a5809 1
Thu Jul 18 19:01:53 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5811 2
a5812 1
	* texinfo.tex (\secfonts, \indexfonts): Fix typos.
d5814 1
a5814 1
Sun Jul  7 16:36:28 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5816 1
a5816 1
	* texinfo.tex (\afourpaper): New command.
d5818 7
a5824 5
	* texinfo.tex (\numberedsec): Renamed from \section.
	(\numberedsubsec): Renamed from \subsection.
	(\numberedsubsubsec): Renamed from \subsubsection.
	(\chapter, \appendix, \unnumbered): Define \section, \subsection,
	and \subsubsection here according to type of chapter.
d5826 2
a5827 1
Thu Jul  4 14:19:32 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5829 1
a5829 4
	* texinfo.tex (\defvarparsebody, \defvrparsebody, \defopvarparsebody):
	New functions.
	(\defvar, \defvr, \defopt, \defcv, \defivar): Use them.
	(\deftypevar, \deftypevr): Likewise.
d5831 2
a5832 1
Mon Jul  1 13:49:25 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5834 3
a5836 1
	* texinfo.tex (\group): Report error if used outside @@example, etc.
d5838 1
a5838 2
	* texinfo.tex (\defname): Reduce \leftskip
	to cancel temporarily the increase made in \defparsebody.
d5840 2
a5841 2
	* texinfo.tex (\enumerate): Allow optional arg to specify type
	of counting.
d5843 2
a5844 1
	* texinfo.tex (\set, \clear): New commands.
d5846 3
a5848 1
Mon Jun 24 12:22:44 1991  Roland McGrath  (roland@@albert.gnu.ai.mit.edu)
d5850 1
a5850 2
	* texinfo.tex (\eleterate): Renamed to \alphaenumerate.  Sigh.
	(\ecapitate): Likewise \capsenumerate.
d5852 2
a5853 1
Thu Jun  6 20:02:48 1991  Roland McGrath  (roland@@geech.gnu.ai.mit.edu)
d5855 2
a5856 1
	* lgpl.texinfo: Created from /fsf/rms/gnuorg/lgpl.text.
d5858 2
a5859 1
	* gpl.texinfo: Created from /fsf/rms/gnuorg/gpl.text (GPL v2).
d5861 1
a5861 2
	* texinfo.tex (\eleterate, \ecapitate): New commands, like @@itemize,
	but with [a..z] or [A..Z] instead of [1..n].
d5863 2
a5864 1
Tue May 21 15:46:32 1991  Karl Berry  (karl at hayley)
d5866 2
a5867 1
        * texinfo.tex (\dmn): new command to typeset a dimension.
d5869 2
a5870 1
Tue May 21 20:58:22 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5872 3
a5874 2
	* texinfo.tex (\doind, \dosubind): Make new group around \indexdummies
	and most of body, excluding the \penalty commands.
d5876 1
a5876 1
Mon May 20 21:16:32 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5878 2
a5879 1
	* texinfo.tex (\tex): Typo in redefining \@@.
d5881 1
a5881 2
	* texinfo.tex (\_): Use \lvvmode, not \leavevmode.
	(\lvvmode): New macro.
d5883 1
a5883 1
	* texinfo.tex (\authorrm, \titlerm): Move to after section fonts.
d5885 1
a5885 9
Tue May 14 21:13:29 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)

	* texinfo.tex (\defunargs): Set \hyphenchar in \tensl, not \sl.

Thu May  9 17:07:08 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)

	* texinfo.tex (\ignore): Standardize catcode of space.

Wed May  8 13:49:45 1991  Karl Berry  (karl at hayley)
d5887 2
a5888 10
        * texinfo.tex (\sffam, \sf): New macros; support sans serif
	type style in math.
        (top level): Set up \textfonts early on, so we can create boxes w/ it.
        (\tenrm...\tensf): Define these to be \textrm...\textsf instead.
        (\df, \textfonts, \chapfonts, \secfonts, \subsecfonts):
        (\indexfonts): Redefine \tenrm (etc.) instead of just \rm, so that
	the math family assignment doesn't get lost; call \resetmathfonts.
        (\resetmathfonts): New macro; redefines \textfont of each math family.
        (\indsc, \indi, \indsy \chapsc, \chapi, \chapsy, \secsc, \seci):
        (\secsy, \ssecsc, \sseci, \ssecsy): New font definitions.
d5890 3
a5892 1
Mon May  6 21:30:19 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5894 2
a5895 1
	* texinfo.tex (\indexdummies): Write \_ when an _ is seen.
d5897 1
a5897 1
Mon Apr 29 01:41:44 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5899 2
a5900 3
	* texinfo.tex (\defname): Use \dimen2, \dimen3 for outer margins.
	Use outer margins for influencing \rightline.
	(\tclose, \key, \t): Turn off line breaks at hyphens.
d5902 2
a5903 1
Fri Apr 12 03:12:14 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5905 1
a5905 1
	* texinfo.tex (\authorrm): Move definition to top level; copy \secrm.
d5907 2
a5908 1
Tue Apr  2 22:48:39 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5910 1
a5910 2
	* texinfo.tex (\defname): Adjust size of \rlap box, not \dimen0
	or \dimen1, for current width.
d5912 1
a5912 1
	* texinfo.tex (\Yappendixletterandtype): End with {}.
d5914 3
a5916 1
Sat Mar 30 16:13:25 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5918 3
a5920 2
	* texinfo.tex (\xrefX): Really use \cite.
	(\inforefzzz): Use \samp for node name.
d5922 1
a5922 1
	* texinfo.tex (\defname): Use current width for \dimen0, \dimen1.
d5924 4
a5927 1
	* texinfo.tex (\doprintindex): Put lots of whitespace before index.
d5929 4
a5932 1
Fri Mar 29 17:00:58 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5934 1
a5934 1
	* texinfo.tex (\xrdef): Take out last change.
d5936 1
a5936 1
	* texinfo.tex (\needx): Turn off \baselineskip.  Use kern, and no glue.
d5938 1
a5938 3
	* texinfo.tex (\shortcontrm): Renamed from \truesecrm.
	(\shortcontbf, \shortcontsl): New fonts for short contents lines.
	(\summarycontents): Use them.
d5940 2
a5941 3
	* texinfo.tex (\defname): Don't set \leftskip to 0; just decrease by
	one indent level.
	(\defparsebody, \def*parsebody): Increment both margins by one level.
d5943 4
a5946 1
Tue Mar 26 22:41:38 1991  Richard Stallman  (rms at mole.gnu.ai.mit.edu)
d5948 2
a5949 1
	* texinfo.tex (\xrdef): Change catcode before reading args.
d5951 4
a5954 1
Wed Mar 20 14:21:57 1991  Roland McGrath  (roland at geech.gnu.ai.mit.edu)
d5956 1
a5956 3
	* texi2dvi: Use p modifier in sed -n command, so it works.
	Duplicate code to find the index files, instead of being smart in
	one place and dumb in another.
d5958 5
a5962 1
Thu Mar  7 17:08:32 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d5964 1
a5964 3
	* texinfo.tex (\defaultparindent): New variable.
	(\footnotezzz): Reset \parindent to default.
	(\xrefX): Use \cite for printed manual and node names.
d5966 6
a5971 1
Tue Mar  5 13:39:34 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d5973 3
a5975 1
	* texinfo.tex (\emergencystretch feature): Use \thisisundefined.
d5977 3
a5979 1
Mon Mar  4 00:35:57 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d5981 2
a5982 1
	* texinfo.tex (\ftablex): Define \Eftable; undefine \Etable.
d5984 2
a5985 1
	* texinfo.tex (\footnote): Discard preceding whitespace.
d5987 1
a5987 1
	* texinfo.tex: Use the \emergencystretch feature if available.
d5989 2
a5990 1
Fri Feb 22 03:50:58 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d5992 4
a5995 1
	* texinfo.tex (\tex): Make + not active.
d5997 1
a5997 1
Fri Feb 15 10:05:24 1991  Roland McGrath  (mcgrath at cygint.cygnus.com)
d5999 2
a6000 2
	* texi2dvi: Use $TEXINFO in place of $TEX (falling back to $TEX
	if $TEXINFO is undefined).
d6002 3
a6004 3
	* texi2dvi: Renamed from texinfo.  Bob (I believe) did this at some
	point at and didn't make a ChangeLog entry.  I'd shoot him myself if
	he weren't the person who signs my paychecks.
d6006 1
a6006 1
Sun Feb 10 22:51:52 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6008 1
a6008 2
	* texinfo.tex (\doprintindex): If index is empty, print a dummy.
	(\need): Use vskips and penalties; don't use \pagetotal.
d6010 3
a6012 1
Fri Feb  8 17:36:53 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6014 2
a6015 2
	* texinfo.tex (\ignoresections):
	Turn off \contents, \smallbook and \titlepage.
d6017 2
a6018 1
	* texinfo.tex (\Etitlepage): Do a page break before ending the group.
d6020 2
a6021 2
	* texinfo.tex (\setref, \unnumbsetref, \appendixsetref):
	Comment out recording the chapter title.
d6023 2
a6024 1
Thu Jan 24 23:28:41 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6026 2
a6027 3
	* texinfo.tex (\top): Synonym for \unnumbered.
	(\infotop): Synonym for \infounnumbered.
	(\ignoresections): Handle \top.
d6029 2
a6030 1
Thu Jan 24 12:41:33 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6032 4
a6035 1
	* texinfo.tex: Delete spurious character at beginning.
d6037 2
a6038 1
Thu Jan 17 16:34:25 1991  Roland McGrath  (roland at cygint.cygnus.com)
d6040 2
a6041 2
	* texinfo: Check the exit status of tex and texindex.  Don't procede
	after a failing run.
d6043 2
a6044 1
Thu Jan 10 15:16:47 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6046 3
a6048 1
	* texinfo.tex (\xrefX): Get rid of blank line.
d6050 1
a6050 1
Wed Jan  9 18:06:20 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6052 1
a6052 2
	* texinfo.tex (\entry, \secondary): Use \indexdotfill.
	(\indexdotfill): New macro.
d6054 3
a6056 1
Tue Jan  8 17:44:01 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6058 2
a6059 3
	* texinfo.tex (\donoderef): Define a ...-title cross-reference.
	(Ytitle): Subroutine for that.
	(xrefX): Use the real title by default (but this is commented out).
d6061 2
a6062 1
Tue Jan  1 23:18:21 1991  Richard Stallman  (rms at mole.ai.mit.edu)
d6064 4
a6067 1
	* texinfo.tex (\indexnofonts): Delete troublemaking blank line.
d6069 2
a6070 1
Sat Dec 22 00:47:21 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6072 2
a6073 1
	* texinfo.tex (\xrefX): Prevent extra space.
d6075 1
a6075 1
Fri Dec 21 21:14:50 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6077 3
a6079 1
	* texinfo.tex (\comment, \commentxxx): Ignore @@ in comment.
d6081 1
a6081 1
Thu Dec 13 22:38:31 1990  Chris Hanson  (cph at kleph)
d6083 3
a6085 1
	* texinfo.tex (\defivarheader): Capitalize "Variable".
d6087 1
a6087 1
Sun Dec  2 01:46:04 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6089 3
a6091 1
	* texinfo.tex (\indexdummies, \indexnofonts): Handle \t like \r.
d6093 3
a6095 1
	* texinfo.tex (heading fonts): New fonts based on cm...12.
d6097 1
a6097 1
Tue Nov 27 16:59:35 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6099 2
a6100 1
	* texinfo.tex (\indexnofonts): Also supersede \TeX and \dots.
d6102 2
a6103 1
Sun Nov 18 16:18:14 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6105 3
a6107 1
	* texinfo.tex (\*): End with \ignorespaces.
d6109 1
a6109 1
Fri Nov  2 17:41:48 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6111 2
a6112 4
	* texinfo.tex (\*): Output empty hbox to avoid losing whitespace.
	(\deftypevarheader, \deftypevrheader): End the paragraph
	with suitable penalties.
	(\deftypevrheader): Do print the data type.
d6114 1
a6114 1
Thu Nov  1 12:04:52 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6116 1
a6116 1
	* texinfo.tex (\defmethodheader): Print `method', not `operation'.
d6118 2
a6119 1
Fri Oct 26 17:11:08 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6121 1
a6121 3
	* texinfo.tex (\indexdummies): Temporarily redefine \_.
	(\ptexdots): Copy of plain tex \dots.
	(\tex): Temporarily reinstall that.
d6123 1
a6123 1
Fri Oct 19 16:57:48 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6125 3
a6127 1
	* texinfo.tex (\subsubsecheadingi, \subsecheadingi): New subroutines.
d6129 2
a6130 1
Mon Oct  8 13:34:19 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6132 2
a6133 1
	* texinfo.tex (active _): Use \normalunderscore.
d6135 4
a6138 1
Tue Sep 25 22:32:55 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6140 1
a6140 2
	* texinfo.tex (\deftypefn, \deftypevar, \deftypevr): New macros.
	Their subroutines also new.
d6142 2
a6143 1
Tue Sep 25 16:42:52 1990  Roland McGrath  (roland at geech.ai.mit.edu)
d6145 1
a6145 1
	* texinfo: Recognize `.tex' as a suffix.
d6147 1
a6147 1
Tue Sep 25 01:46:54 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6149 4
a6152 2
	* texinfo.tex (\deftypefun): New macro.
	(\deftypefunheader, \deftypefunheaderx, \deftypefunargs): Also new.
d6154 7
a6160 1
Fri Sep 14 00:38:28 1990  Roland McGrath  (roland at churchy.ai.mit.edu)
d6162 2
a6163 2
	* texinfo: Weed out files that have two-letter extensions but don't
	start with a backslash, and therefore aren't index files.
d6165 4
a6168 2
	* texinfo: Handle index files that have any two-letter extension,
	rather than using a static list of extensions.
d6170 1
a6170 1
	* texinfo: Handle .texi extension as well as .texinfo.
d6172 1
a6172 1
	* texinfo: New file, a sh script to do .texinfo -> .dvi.
d6174 3
a6176 1
Mon Sep 10 13:14:39 1990  Richard Stallman  (rms at mole.ai.mit.edu)
d6178 1
a6178 1
	* texinfo.tex (\math): New macro.
d6180 6
a6185 1
Tue Sep  4 07:43:33 1990  Karl Berry  (karl at hayley)
d6187 4
a6190 2
        * texinfo.tex (\chfplain): Do not print a period after the chapter
        number, for consistency with sections et al.
d6192 2
a6193 2
        * texinfo.tex (\refX): hyphenate `undefined' so that the ligature
        is not lost.
d6195 1
a6195 2
        * texinfo.tex (_): use \_ unless we're in tt.
        (\ifusingtt): new macro for such conditionalization.
d6197 1
a6197 3
        * texinfo.tex (\xrefX): don't use \unhbox to print the node names,
        since that loses on hyphens.
	Use \ignorespaces rather than \losespace.
d6199 2
a6200 1
Thu Aug  2 07:03:26 1990  Karl Berry  (karl at hayley)
d6202 3
a6204 2
        * texinfo.tex (\linenumber): new macro.
        (\refx): give the line number in the message.
d6206 1
a6206 1
Tue Jul 31 09:13:32 1990  Karl Berry  (karl at hayley)
d6208 2
a6209 2
        * texinfo.tex (\refx): improve warning messages, remove
        unnecessary groups, and improve logic.
d6211 6
a6216 1
Thu Jul 26 20:53:38 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6218 1
a6218 1
	* texinfo.tex (\subheading, \subsubheading): Missing macros defined.
d6220 2
a6221 1
Thu Jul 19 22:48:26 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6223 2
a6224 4
	* texinfo.tex (\titlepage): Don't print rule for \page unless already
	printed a rule.
	(\abstract): Deleted.
	(\direntry): New command, much like \ignore.
d6226 2
a6227 1
Sun Jul 15 16:28:42 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6229 2
a6230 1
	* texinfo.tex (\abstract): New construct; trivial in tex.
d6232 4
a6235 1
Sun Jun 17 01:03:16 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6237 1
a6237 2
	* texinfo.tex (\defcv): Protect space before `of'.
	(\defspec): Capitalize `Form'.
d6239 1
a6239 1
Sat Jun 16 19:36:56 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6241 1
a6241 1
	* texinfo.tex (\kbd, \kbdfoo): Use \par to term. arg to \kbdfoo.
d6243 1
a6243 1
Fri Jun 15 10:47:12 1990  Robert J. Chassell  (bob at pogo.ai.mit.edu)
d6245 1
a6245 2
	* texinfo.tex (\defcv): Use \defcvarheader instead of (undefined)
	\defcvheader.
d6247 2
a6248 1
Fri May 25 18:04:31 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6250 1
a6250 1
	* texinfo.tex (\xrefX): Use \turnoffactive.
d6252 6
a6257 1
Mon May 21 21:17:34 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6259 1
a6259 3
	* texinfo.tex (\turnoffactive): New command.
	(\normaldoublequote, ...): New commands.
	(\dosetq): Use \turnoffactive.
d6261 2
a6262 1
Sat May 19 12:31:17 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6264 1
a6264 2
	* texinfo.tex (\indit): Use slanted font, not italic.
	(\smalllispx): Do \indexfonts.
d6266 2
a6267 1
Fri May	 4 17:35:04 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6269 1
a6269 1
	* texinfo.tex (\footnote, \footnotezzz): Make it \long.
d6271 5
a6275 1
Wed May	 2 01:19:55 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6277 1
a6277 2
	* texinfo.tex (\titlerm): Go back to cmbx10 scaled \magstep5.
	(\hsize): Don't set it, use the default.
d6279 1
a6279 1
Fri Mar 23 21:07:02 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6281 1
a6281 1
	* texinfo.tex (\footnote): Read arg in braces, not as a line.
d6283 1
a6283 1
Mon Mar 19 19:30:08 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6285 3
a6287 1
	* texinfo.tex (\unnumbsubsubsecentry): Typo in name being defined.
d6289 2
a6290 1
Tue Mar 13 18:49:27 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6292 1
a6292 1
	* texinfo.tex (\defvarargs): Add penalty at end.
d6294 3
a6296 2
	* texinfo.tex (\synindex, \syncodeindex): Copy one index file name
	into the other.
d6298 1
a6298 1
Tue Mar	 6 16:58:54 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6300 4
a6303 1
	* texinfo.tex (\deftt): Make this a distinct font.
d6305 1
a6305 1
	* texinfo.tex (\initial): Define \tt like \tentt.
d6307 2
a6308 2
	* texinfo.tex (\ifinfo): End with \losespace.
	(\ignore, \ifsetfailxxx, \ifclearfailxxx): Likewise.
d6310 1
a6310 1
Sun Mar	 4 19:55:57 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6312 2
a6313 1
	* texinfo.tex (\lbrb, \rbrb): Use \bf.
d6315 1
a6315 1
Sat Mar	 3 17:53:22 1990  Richard Stallman  (rms at geech)
d6317 3
a6319 1
	* texinfo.tex (\onepageout): Set \escapechar here.
d6321 1
a6321 1
	* texinfo.tex (\rawbackslash): Define using \chardef.
d6323 3
a6325 1
	* texinfo.tex (\@@): Use ttfont.
d6327 1
a6327 1
Thu Mar	 1 16:37:46 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6329 4
a6332 2
	* texinfo.tex (Ysectionnumberandtype, Yappendixletterandtype):
	Capitalize "chapter", "appendix" and "section".
d6334 1
a6334 1
Mon Feb 19 20:26:22 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6336 6
a6341 2
	* texinfo.tex (\xkey): Attempt to eliminate spurious space from
	output.	 Look at y-or-n-p.
d6343 1
a6343 1
Mon Feb 12 16:34:00 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6345 3
a6347 1
	* texinfo.tex (\errorbox): Get \dimen0 from \tentt.
d6349 1
a6349 1
Sun Feb 11 15:11:57 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6351 1
a6351 2
	* texinfo.tex (\defunargs): Use ragged right for args.
	Add large penalty at end.
d6353 3
a6355 3
	* texinfo.tex: Make active definition for = using \tt, but disable.
	(\defparsebody): Make = active.
	(\defunheader, etc.): Make inactive again.
d6357 1
a6357 1
	* texinfo.tex (\errorbox): Try to equalize outside space to both sides.
d6359 3
a6361 1
Fri Feb	 2 14:47:21 1990  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6363 1
a6363 1
	* texinfo.tex (\appendix): Don't use \the before \appendixletter.
d6365 3
a6367 1
Sat Dec 16 14:02:56 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6369 1
a6369 4
	* texinfo.tex (\chapter, \appendix): Make defn of \thischapter
	refer to \thischaptername, and store actual name there.
	(\chapternofonts): Turn off more macros.
	(\indexdummies): Likewise.
d6371 4
a6374 1
Sun Nov 19 15:29:47 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6376 1
a6376 5
	* texinfo.tex (\titlerm): There were two definitions of this command.
	Put them together and commented out one of them.
	(\subtitlerm): Was same as \tenrm, so just copy that.
	(\ninett): Always define this.
	(\indtt): Copy from \ninett.
d6378 2
a6379 1
Sat Nov 18 22:57:37 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6381 1
a6381 1
	* texinfo.tex (\ssecrm, etc.): Scale by 1315, rather than to 13pt.
d6383 5
a6387 1
Wed Nov	 8 18:38:33 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6389 1
a6389 3
	* texinfo.tex (\titlepage): Turn on iffinishedtitlepage so
	bottom rule is not printed.
	(\titlezzz): Turn it off, so bottom rule is printed.
d6391 2
a6392 1
Mon Nov	 6 09:23:29 1989  Karl Berry  (karl at hayley)
d6394 1
a6394 6
	* texinfo.tex (\chapterzzz, \appendixzzz): include `Chapter
	\the\chapno' and `Appendix \appendixletter' in \thischapter; use
	\xdef instead of \gdef to define \thischapter, to avoid timing
	problems with \chapno or \appendixletter.
	(\startcontents): don't bother putting `Table of Contents' or
	`Short Contents' in the headline.
d6396 4
a6399 1
Fri Oct 20 09:11:35 1989  Karl Berry  (karl at hayley)
d6401 2
a6402 9
	* texinfo.tex (\titlepage): remove obsolete code for subtitles.
	(\titlezzz): end with \relax, to avoid misinterpretation of a
	following `plus' or `minus'
	(\page (inside \titlepage)): call \finishtitlepage.
	(\Etitlepage): call \finishtitlepage, if it hasn't been.
	(\finishtitlepage): new macro to print a rule and leave some space
	at the bottom of the title page.
	(\iffinishedtitlepage): new; says whether \finishtitlepage has been
	called.
d6404 1
a6404 1
Mon Nov	 6 21:35:34 1989  Robert J. Chassell  (bob at rice-chex)
d6406 2
a6407 2
	* texinfo.tex: Replaced `GNU CC' in the copyleft of this file with
	  the phrase `this texinfo.tex file'.
d6409 1
a6409 1
Fri Oct 27 10:36:32 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6411 3
a6413 3
	* texinfo.tex (\setfilename): Do nothing except 1st time used.
	(\titlepage): Brace misplaced in \titlezzz.
	(\indexdummies, \indexnofonts): Handle @@w.
d6415 1
a6415 3
	(\readauxfile): Set \ifhavexrefs true.
	(\refX): Warn for every use of an undefined xref,
	but if no xref values are known, warn just once that none are known.
d6417 2
a6418 1
Tue Sep 19 04:12:51 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6420 1
a6420 2
	* texinfo.tex (\xrefX): Go back to `section N [Foo], page M'.
	(\exp): Delete it.
d6422 5
a6426 1
Mon Sep 18 15:29:30 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6428 1
a6428 1
	* texinfo.tex (\chapentryfonts): Try using \rm for chap title.
d6430 2
a6431 1
Tue Sep 12 03:41:10 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6433 1
a6433 2
	* texinfo.tex (\titlepage): Missing closeparen after \title.
	Delete excess paren after \page.
d6435 2
a6436 1
	* texinfo.tex (\samp): Use \tclose.
d6438 1
a6438 1
Mon Sep 11 23:28:04 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6440 1
a6440 1
	* texinfo.tex (\tclose): Make `@@ ' a full-width space.
d6442 1
a6442 1
Sat Sep	 9 20:11:29 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6444 1
a6444 4
	* texinfo.tex (\balancecolumns): Handle properly the case where
	the index ends before one page is output, so \partialpage is nonempty.
	In this case we may need to output two pages if the data
	would just barely fit if not for \partialpage.
d6446 1
a6446 1
Wed Aug 30 22:45:31 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6448 2
a6449 5
	* texinfo.tex (\refx): New 2nd operand, output if xref is non-null.
	(\xrefX): Use that to output the comma after the section number.
	(\appendixnoderef, \appendixsetref, \Yappendixletterandtype):
	Define xrefs for appendices that say "Appendix N".
	Used in \appendix, \appendixsec, etc.
d6451 1
a6451 1
	* texinfo.tex (\smartitalic): The actual italic correction was omitted.
d6453 4
a6456 1
Mon Aug 28 00:21:33 1989  Richard Stallman  (rms at apple-gunkies.ai.mit.edu)
d6458 1
a6458 3
	* texinfo.tex (\ref): New kind of cross-reference.
	(\xrefX): Put single quotes around section name.
	(\refx): Allow hyphenation in `undefined'.
d6460 2
a6461 2
	* texinfo.tex (+): Make it active.
	(Altmode): Delete active defn.
d6463 1
a6463 3
	* texinfo.tex (\defunargs): Prevent hyphenation at `-' in args.
	Move the penalty at the end so that it works.
	(\defvarargs): Move the penalty at the end so that it works.
d6465 2
a6466 1
	* texinfo.tex (\defparsebody): Do increase right margin.
d6468 1
a6468 1
	* texinfo.tex (\defbodyindent): Now .4 inch.
d6470 3
a6472 2
	* texinfo.tex (\point, \result, \expansion, \print, \equiv, \error):
	New macros for Lisp manual.
d6474 3
a6476 1
	* texinfo.tex (\tex): Set = to code 12.
d6478 1
a6478 1
	* texinfo.tex (\entry): Hairier way to output dots.
d6480 2
a6481 1
	* texinfo.tex (\kbd): If arg consists of one \key command, be a no op.
d6483 1
a6483 1
	* texinfo.tex (\sc): Delete spurious \.
d6485 2
a6486 2
	* texinfo.tex (\smartitalic): New macro, does italic correction at end.
	(\i, \var, \dfn, \emph, \cite): Use that.
d6488 1
a6488 1
	* texinfo.tex (\node): Do \ENVcheck.
d6490 1
a6490 1
	* texinfo.tex (\initial): Infinite penalty at end.
d6492 1
a6492 4
	* texinfo.tex (\chapternofonts): New macro, sets \code, etc. to
	output selves into file.  Also undef \frenchspacing and \rawbackslash.
	(\xhapterzzz, etc.): Call that.	 Make a group to undo it.
	(\indexdummies): Do like \chapternofonts.
d6494 1
a6494 1
Sun Aug 27 16:05:23 1989  Richard Stallman  (rms at apple-gunkies.ai.mit.edu)
d6496 2
a6497 2
	* texinfo.tex (\frenchspacing): Our own definition, using
	decimal numbers for all character codes.  The standard one fails.
d6499 1
a6499 1
	* texinfo.tex (\indexnofonts): Handle \file, \tt, and many more.
d6501 2
a6502 1
Fri Aug 25 22:05:24 1989  Richard Stallman  (rms at apple-gunkies.ai.mit.edu)
d6504 1
a6504 1
	* texinfo.tex (\chapter, etc.): Undefine \tclose around \edef\temp.
d6506 1
a6506 1
Mon Aug 21 15:42:47 1989  Richard Stallman  (rms at apple-gunkies.ai.mit.edu)
d6508 1
a6508 3
	* texinfo.tex (\tclose): Like \t but make space same width
	as in surrounding text.
	(\code, \kbd): Use \tclose.
d6510 2
a6511 1
Tue Jul	 4 20:53:52 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6513 1
a6513 2
	* texinfo.tex (titlepage): Don't set \everypar; start just one group.
	See comments in the code.
d6515 4
a6518 3
	* texinfo.tex (defop,defcv): Use defopparsebody.
	* texinfo.tex (defopparsebody): Like defmethparsebody but defines
	def...x for more arguments.
d6520 2
a6521 1
Sat Jun 17 13:49:13 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6523 5
a6527 1
	* texinfo.tex (\titlepage): Rename @@subtext, etc., to @@subtitle, etc.
d6529 1
a6529 3
	* texinfo.tex (\titlepage): Don't print the title automatically.
	Define @@title to print it, and the rule underneath it.
	This should make @@titlepage upward compatible with the old one.
d6531 2
a6532 2
	* texinfo.tex (\titlepage): Revert local definition of @@page
	to previous.  Don't print a rule.
d6534 2
a6535 1
Mon Jun 12 20:49:17 1989  Karl Berry.  (karl at mote)
d6537 1
a6537 14
	* texinfo.tex (\titlepage): allow intensional definition of the
	items on the title page.  New control sequences (allowed only
	within the titlepage environment:)
	 (@@subtext): may take either a paragraph (e.g., a brief
	 description of the program) or just a line (e.g., the date).
	 May appear more than once.
	 (@@author): must come after all the @@subtext's.	 Can appear more
	 than once, also.
	 Also, use the title defined by @@settitle.
	 (\subtextfont, \authorfont): switch to using the appropriate
	 fonts with appropriate leading.
	 (\titlepagetopglue, \titlepagebottomglue): define space that
	 never stretches or shrinks.
	 (\realeverypar): formatting for the @@subtext's.
d6539 9
a6547 1
Sun Jun	 4 15:04:59 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6549 2
a6550 2
	* texinfo.tex (\shortchapentry, \shortunnumberedentry):
	Use dots, right justify page numbers.  Don't use italics.
d6552 1
a6552 1
Fri Jun	 2 14:40:28 1989  Karl Berry.  (karl at mote)
d6554 4
a6557 4
	* texinfo.tex (\entry, \secondary): use plain TeX \dotfill for
	better leaders than the homegrown one.
	(\Dotsbox): Deleted.
	(\dotfill): Deleted; use Plain TeX definition.
d6559 1
a6559 1
Wed May 31 17:19:30 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6561 4
a6564 5
	* texinfo.tex (ignore): Undefine the chapter/section macros
	while reading the args, since they are \outer.
	(ifinfo): Likewise
	(ifsetxxx, ifclearxxx): Call another macro to parse the
	conditionalized text, and do to that macro as with \ignore.
d6566 1
a6566 1
Tue May 30 15:04:37 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6568 4
a6571 1
	* texinfo.tex (unnumbered): Change back from \long to \outer.
d6573 1
a6573 9
	* texinfo.tex: Changes by Karl Berry for toc format.
	Rewrite the table of contents for appearance's sake.  Add a
	synonym for \summarycontents, \shortcontents, since that is the
	traditional name.  Two subroutines are now shared by \contents and
	\summarycontents: \prepareforcontents, to reset the page number
	and such; and \startcontents, which begins the \unnumbered and
	resets catcodes before \input \jobname.toc.  Some other macros --
	\labelspace, \dopageno, \shortpageno -- are shared by the printing
	macros.
d6575 2
a6576 2
	* texinfo.tex (\truesecrm): New font, section-size roman, used in the
	new toc. (cmr12)
d6578 1
a6578 1
Sun May 28 07:25:42 1989  Karl Berry.  (karl at mote)
d6580 3
a6582 8
	* texinfo.tex (\eatinput): Do not print the `\input texinfo' if a
	.fmt file is being used; ignore it, instead.  This is the initial
	definition for `\' now.
	(\fixbackslash): on the other hand, subsequent backslashes should
	be printed, and if the file does not have an `\input texinfo', the
	first one should be printed.  This new macro makes the definition
	for `\' be \normalbackslash, if it is \eatinput.
	(\setfilename): use \fixbackslash.
d6584 4
a6587 1
Wed May 24 15:34:59 1989  Joseph Arceneaux  (jla at apple-gunkies.ai.mit.edu)
d6589 1
a6589 1
	* texinfo.tex: Changed def of unnumbered from \outer to \long.
d6591 3
a6593 1
Tue May 23 12:27:59 1989  Karl Berry.  (karl at mote)
d6595 1
a6595 12
	* texinfo.tex: Allow one to make a texinfo.fmt file (with the
	invocation:
	   initex \&plain texinfo
	and then saying
	   @@dump
	after texinfo.tex has been read.
	Changes:
	(\setfilename): Instead of being a no-op, read the xref info, and
	open the contents and index files.  These actions were done as
	texinfo.tex was read before.
	(\opencontents, \openindices): new macros to open those files.
	(\readauxfile): and one to read the aux file.
d6597 1
a6597 1
Sat Apr 29 22:28:02 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6599 1
a6599 1
	* texinfo.tex: `@@headings on' no longer does a page break.
d6601 10
a6610 1
Sun Apr	 2 11:22:29 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6612 2
a6613 3
	* texinfo.tex: Defined `@@headings single' and `@@headings double'.
	`@@headings on' picks one of them: `@@setchapternewpage odd'
	says `@@headings	on' means double; otherwise it means single.
d6615 2
a6616 1
Mon Jan 30 22:00:35 1989  Robert J. Chassell  (bob at rice-krispies.ai.mit.edu)
d6618 1
a6618 4
	* texinfo.tex: Changed the size of the subsection fonts so they
	are scaled at13pt rather than at magstep 2. This makes them
	smaller than the section fonts, which are scaled at magstep 2.
	In addition, changed the ssecrm font from cmbx to cmb.
d6620 6
a6625 1
Fri Jan	 6 15:00:44 1989  Richard Stallman  (rms at sugar-bombs.ai.mit.edu)
d6627 1
a6627 2
	* texinfo.tex: Changed @@lisp, @@smalllisp, @@display not to change
	the right margin.
d6629 3
a6631 1
Mon Dec	 5 22:01:49 1988  Robert J. Chassell  (bob at rice-krispies.ai.mit.edu)
d6633 1
a6633 3
	* texinfo.tex: Tested the use of `cmbx10' vrs `cmb10' font and
	stayed with cmb10 font since cmb10 looks better when the bold face
	is part of a sentence although the cmbx10 font looks better on its own.
d6635 2
a6636 13
Mon Aug 15 14:33:51 1988  Robert J. Chassell  (bob at spiff)

	* texinfo.tex:	Changed the (undocumented) @@today command from a
	Month Day, Year format to a Day Month Year format.  Left old
	version commented out.


Local Variables:
mode: indented-text
left-margin: 8
fill-column: 76
version-control: never
End:
@


1.1.1.8
log
@import texinfo 4.8 into the tree.
(okay theo, kettenis)
@
text
@d1 1
a1 1
2004-12-31  Karl Berry  <karl@@gnu.org>
d3 2
a4 1
	* Version 4.8.
d6 4
a9 1
2004-12-21  Karl Berry  <karl@@gnu.org>
d11 3
a13 1
	* pretest version 4.7.94.
d15 1
a15 1
	* makeinfo/xref.c: doc fix.
d17 1
a17 1
2004-12-20  Karl Berry  <karl@@gnu.org>
d19 2
a20 3
	* makeinfo/html.c (cm_node) <html>: need old-style names in the normal
	(not no_headers) html case, too, of course.
	(add_html_names): canon_white the new name, too.
d22 1
a22 1
2004-12-19  Karl Berry  <karl@@gnu.org>
d24 1
a24 1
	* pretest version 4.7.93.
d26 2
a27 1
	* automake 1.9.4.
d29 3
a31 8
	* makeinfo/xml.c (try_docbook_image): new fn.
	(xml_insert_docbook_image): call it, trying additional formats
	pdf, svg, etc.
	* makeinfo/makeinfo.c (cm_image): check for gif too.
	http://www.gnu.org/philosophy/gif.html says:
	"we can and will include support for displaying GIF files in GNU
	 software."  Leaving it undocumented, though.
	Based on patch from Jens Elkner, 18 Dec 2004 01:56:28 +0100.
d33 2
a34 1
2004-12-19  Torsten Bronger  <bronger@@physik.rwth-aachen.de>
d36 2
a37 1
	* util/texinfo.dtd: define most entities, add <neos>.
d39 2
a40 1
2004-12-17  Juan M. Guerrero  <st001906@@hrz1.hrz.tu-darmstadt.de>
d42 1
a42 2
	* djgpp/config.bat: remove files like coXXXXXX.tmp created
	in the top_srcdir by the gl_FUNC_MKSTEMP test.
d44 1
a44 1
2004-12-15  Karl Berry  <karl@@gnu.org>
d46 1
a46 1
	* pretest version 4.7.92.
d48 1
a48 2
	* util/texinfo.dtd: merge with makeinfo/texinfo.dtd.
	* makeinfo/texinfo.dtd, makeinfo/texinfo.xsl: remove.
d50 1
a50 1
2004-12-15  Stepan Kasal  <kasal@@ucw.cz>
d52 2
a53 1
	* Makefile.am (EXTRA_DIST): Removed po/Makevars.template, sorry.
d55 3
a57 1
2004-12-15  Juan M. Guerrero  <st001906@@hrz1.hrz.tu-darmstadt.de>
d59 1
a59 3
	* djgpp/config.sed: adjust for new autoconf.
	* makeinfo/node.c (enumerate_filename): make dos_file_names const
	instead of static, since it may involve a fn call to pathconf.
d61 6
a66 1
2004-12-15  Karl Berry  <karl@@gnu.org>
d68 4
a71 2
	* Makefile.am (EXTRA_DIST): include ChangeLog.46, README.dev,
	and po/Makevars.template.  From Stepan.
d73 1
a73 1
2004-12-14  Karl Berry  <karl@@gnu.org>
d75 345
a419 3
	* doc/texinfo.txi (inforef): try to explain possible uses more
	thoroughly.
	From: Luc Teirlinck, 13 Dec 2004 21:45:58 -0600.
d421 1
a421 3
	* doc/texinfo.txi (pxref): more explanation.
	* doc/info-stnd.texi (Basic Windows): put pxref in parens.
	help-texinfo mail from adl, 13 Dec 2004 17:07:50 +0100.
d423 3
a425 1
2004-12-13  Andreas Schwab  <schwab@@suse.de>
d427 2
a428 5
	* info/echo-area.c (DECLARE_INFO_COMMAND): Add intermediate cast
	to avoid warning.
	* info/infokey.c (compile): Likewise.
	* info/session.c (forward_move_node_structure): Likewise.
	(DECLARE_INFO_COMMAND): Likewise.
d430 1
a430 2
	* makeinfo/makeinfo.c (init_paragraph): Don't use free_and_clear
	to avoid strict aliasing issue.
d432 2
a433 1
	* makeinfo/cmds.c (cm_center): Avoid strict aliasing issue.
d435 1
a435 1
2004-12-13  Karl Berry  <karl@@gnu.org>
d437 3
a439 3
	* doc/texinfo.txi (HTML Cross-reference Command Expansion): add
	@@euro{} -> U+20AC.  texinfo-pretest mail from Patrice,
	12 Dec 2004 23:49:50 +0100.
d441 2
a442 1
2004-12-12  Karl Berry  <karl@@gnu.org>
d444 1
a444 3
	* doc/texinfo.txi (makeinfo options): don't be so suggestive about
	skipping xref validation.
	emacs-devel mail from: Luc Teirlinck, 12 Dec 2004 13:02:11 -0600.
d446 6
a451 1
2004-12-08  Karl Berry  <karl@@gnu.org>
d453 1
a453 1
	* pretest version 4.7.91.
d455 1
a455 6
	* info/echo-area.c, info/infokey.c, info/session.c: omit useless
	casts to intptr_t, since we're just casting to (void *) next.
	intptr_t is not defined with gcc 3.04 on Tru64 Unix V5.1
	(This whole vararg stuff needs to be redone correctly.)
	Report from: Svend Tollak Munkejord (via te)
        8 Dec 2004 17:15:17 +0100.	
d457 5
a461 1
	* doc/texinfo.txi (ref): rewrite last two redundant paragraphs.
d463 2
a464 1
2004-12-07  Karl Berry  <karl@@gnu.org>
d466 1
a466 2
	* doc/texinfo.txi (Macro Details): document @@c kludge in macro
	definitions to work around some newline problems.  (From Werner.)
d468 6
a473 1
2004-12-05  Karl Berry  <karl@@gnu.org>
d475 3
a477 7
	* makeinfo/html.c (add_escaped_anchor_name): prefix g_t if the
	nodename begins with a nonletter.  Ugh.
	* doc/texinfo.txi (HTML Xref Node Name Expansion): document this.
	http://ff0.org/pipermail/texinfo-pretest/2004-December/000210.html
	
	* doc/texinfo.txi (HTML Xref 8-bit Character Expansion): define
	behavior for Unicode code points above 0xfff.
d479 2
a480 3
	* makeinfo/makeinfo.c (reader_loop): <wbr> didn't make it into
	HTML 4, remove it.  Sigh.
	texinfo-pretest mail from wl, 05 Dec 2004 23:39:05 +0100.
d482 6
a487 1
2004-12-02  Karl Berry  <karl@@gnu.org>
d489 3
a491 1
	* configure.ac (install-warnings): simplify default case.  From te.
d493 3
a495 1
2004-12-01  Karl Berry  <karl@@gnu.org>
d497 4
a500 1
	* pretest version 4.7.90.
d502 1
a502 4
	* util/texi2dvi (recode): new option, off by default.
	Unconditionally calling recode seems problematic, when there
	hasn't been a release for years and its Texinfo support is less than
	perfect.
d504 2
a505 1
2004-11-30  Karl Berry  <karl@@gnu.org>
d507 1
a507 5
	* doc/texinfo.txi (Quotations and Examples): @@quotation does not
	reduce interparagraph spacing.
	
	* makeinfo/node.c (cm_node) <html>: do not bother calling
	add_html_nodes in the split case, the filename is wrong.
d509 6
a514 1
2004-11-29  Karl Berry  <karl@@gnu.org>
d516 1
a516 12
	Support for writing <a name="..."> using the old-style node name
		to HTML name conversion, to keep the gcc folks happy.
	* makeinfo/node.c (add_html_names): new routine, factoring out
	common code (plus new code) from cm_node.
	(cm_node) <html>: call it.
	* makeinfo/makeinfo.h (OLD_HTML_SAFE, OLD_URL_SAFE_CHAR):
	(re)define these.
	* makeinfo/html.c (add_escaped_anchor_name): take new argument to
	optionally output the old-style conversion.
	(add_anchor_name): change call.
	* index.c: change calls.
	* makeinfo/html.h (add_escaped_anchor_name): change decl.
d518 2
a519 1
2004-11-26  Karl Berry  <karl@@gnu.org>
d521 2
a522 1
	* makeinfo/makeinfo.c (reader_loop): allow <wbr> after &mdash;
d524 1
a524 1
2004-11-25  Karl Berry  <karl@@gnu.org>
d526 3
a528 9
	* doc/texinfo.txi (Fonts): document new command @@sansserif.
	* doc/texinfo.tex (\sansserif): new command.
	* makeinfo/cmds.h (cm_sansserif): new cmd.
	* makeinfo/cmds.c (cm_sansserif): new cmd.
	(command_table): add it.
	* makeinfo/texinfo.dtd (Inline.fonts): add it; also slanted.
	* makeinfo/xml.h (SANSSERIF, SLANTED): define these new elements.
	* makeinfo/xml.c (texinfoml_element_list): add them.
	From: Frank Kster, 21 Oct 2004 23:27:33 +0200, Debian bug#277754.
d530 2
a531 3
	* doc/texinfo.txi (Quotations and Examples, end titlepage): state
	that there must be only one space between the @@end and its
	argument.  Report from: christoph.sobotka, 26 Oct 2004 22:04:03 +0200.
d533 1
a533 1
2004-11-22  Karl Berry  <karl@@gnu.org>
d535 3
a537 11
	* doc/texinfo.txi (euro): new node, documenting new command,
		@@euro{}, for the Euro currency symbol.
	* doc/texinfo.tex (\euro): new command, along with \eurofont to
	support it.  The following extra font support is also related to
	supporting @@euro{}:
	(\bfstylename): define this.
	(\textnominalsize .. \ssecnominalsize): new macros.
	(\textfonts .. \ssecfonts): define \curfontsize.
	* makeinfo/cmds.c (command_table): add euro.
	* makeinfo/lang.c (cm_special_char): handle euro.
	(iso8859_15_map): new global.	
d539 1
a539 1
2004-11-18  Stepan Kasal  <kasal@@ucw.cz>
d541 2
a542 2
	* doc/texinfo.tex (\ptexnewwrite): Save \newwrite.
	(\newwrite): Call it.
d544 3
a546 1
2004-11-17  Karl Berry  <karl@@gnu.org>
d548 6
a553 2
	* configure.ac (install-warnings): new --enable option, requested
		by te.
d555 2
a556 1
2004-11-11  Karl Berry  <karl@@gnu.org>
d558 8
a565 7
	* texinfo.dtd (metainformation): add documentdescription.
	(documentdescription): define.
	* xml.h (DOCUMENTDESCRIPTION): new value for xml_element.
	* xml.c (texinfoml_element_list): define documentdescription.
	(docbook_element_list): likewise, but don't know how to handle it.
	* cmds.c (cm_documentdescription): insert opening xml tag.
	* insertion.c (end_insertion): insert closing xml tag.
d567 4
a570 4
	* makeinfo/makeinfo.c (insert_string): declare const char * arg.
        * makeinfo/makeinfo.h: likewise.
	Report from: Vincent Lefevre, 20 Oct 2004 15:40:39 +0200,
	noting a spurious </para> after </dircategory>.
d572 2
a573 1
2004-11-08  Karl Berry  <karl@@gnu.org>
d575 3
a577 5
	* doc/texinfo.tex (\pdfmakeoutlines): in the first run through the
	toc, define \thischapnum...\thissubsecnum as 0, rather than \empty.
	This is so \expnumber doesn't end up trying to expand
	\csname sec\empty\endcsname, i.e., \sec, which is the secant function.
	Report from: Oliver Beck, help-texinfo, 8 Nov 2004 08:05:55 +0100.
d579 1
a579 1
2004-11-07  Karl Berry  <karl@@gnu.org>
d581 1
a581 2
	* makeinfo/makeinfo.c (main) [LC_MESSAGES]: #ifdef the setlocale
	using LC_MESSAGES.  From te, 6 Nov 2004 23:36:10 +0100.
d583 1
a583 1
2004-11-06  Karl Berry  <karl@@gnu.org>
d585 1
a585 3
	* lib/Makefile.am (libtxi_a_SOURCES): add strdup.h.
	Report from: Thomas Esser <te@@dbs.uni-hannover.de>,
	6 Nov 2004 18:11:51 +0100.
d587 1
a587 1
2004-11-01  Karl Berry  <karl@@gnu.org>
d589 1
a589 6
	* makeinfo/xref.c (cm_xref): don't include the external file name
	in the HTML output, since it's pretty traditional not to
	distinguish internal and external links in HTML, and it disturbs
	the flow of reading.
	From: Han-Wen Nienhuys <hanwen@@xs4all.nl>, 31 Oct 2004 00:13:36 +0200.
	(For lilypond.)
d591 1
a591 1
2004-10-31  Karl Berry  <karl@@gnu.org>
d593 4
a596 3
	* doc/texinfo.tex (\setmultitablespacing): just let \multistrut be
	the same as \strut.  Its previous computation was wrong.
	See bug-texinfo report from Werner Lemberg, 31 Oct 2004 12:52:20 +0100.
d598 1
a598 1
2004-10-22  Stepan Kasal  <kasal@@ucw.cz>
d600 2
a601 4
	* info/Makefile.am (generated_sources): Add dependencies defining
	  a total order on the files, to prevent race conditions with
	  parallel make.
	  Move the code about generated sources to the end of the file.
d603 2
a604 1
2004-10-20  Stepan Kasal  <kasal@@ucw.cz>
d606 1
a606 5
	* info/Makefile.am (doc.c, key.c, funs.h): Don't distribute them.
	  of these three files.
	(ginfo_SOURCES, nodist_ginfo_SOURCES): Move files.
	(infokey_SOURCES, nodist_infokey_SOURCES): Likewise.
	(DISTCLEANFILES): Include generated_sources.
d608 2
a609 1
2004-10-20  Stepan Kasal  <kasal@@ucw.cz>
d611 1
a611 3
	BUILT_SOURCES is a special variable for a hack to supplement
	  the automatic dependency tracking; we need it for funs.h only.
	  See the explanation in the automake manual.
d613 1
a613 3
	* info/Makefile.am (BUILT_SOURCES): All occurences replaced by ...
	(generated_sources): ... this new variable.
	(BUILT_SOURCES): set to ``funs.h''.
d615 4
a618 1
2004-10-20  Stepan Kasal  <kasal@@ucw.cz>
d620 2
a621 3
	* info/Makefile.am (ginfo_SOURCES): replace $(BUILT_SOURCES)
	  with ``doc.c funs.h''; this reflects the true situation.
	(infokey_SOURCES): Add funs.h.
d623 1
a623 1
2004-10-20  Stepan Kasal  <kasal@@ucw.cz>
d625 1
a625 2
	* info/Makefile.am (EXTRA_DIST): No need to mention the generated
	  sources here, they are in ginfo_SOURCES or infokey_SOURCES.
d627 5
a631 1
2004-10-19  Stepan Kasal  <kasal@@ucw.cz>
d633 2
a634 4
	* configure.ac: When cross compiling, we have to remove
	  ./config.status, not "$native_tools"/config.status.
	  Replace ``echo'' with AC_MSG_NOTICE.  Quote the variable
	  values passed to ``env.''
d636 2
a637 1
2004-10-17  Karl Berry  <karl@@gnu.org>
a638 2
	* makeinfo/node.c (cm_node): don't output <br> after the
		navigation line, it's apparently just extra space.
d640 1
a640 3
	* configure.ac: Clean environment for native configure.
	From: Mark Fortescue <mark@@mtfhpc.demon.co.uk>,
	17 Oct 2004 19:09:53 +0100.
d642 2
a643 1
2004-10-11  Stepan Kasal  <kasal@@ucw.cz>
d645 2
a646 1
	* configure.ac: Add a short explanation about cross compile.
d648 2
a649 1
2004-10-08  Karl Berry  <karl@@gnu.org>
d651 3
a653 1
	* info/Makefile.am (generated_sources): remove.  Found by Stepan.
d655 1
a655 1
2004-10-08  Stepan Kasal  <kasal@@ucw.cz>
d657 2
a658 2
	Support cross compiling.  Based on research by Mark Fortescue.
	Maciej W. Rozycki pointed out this issue previously.
d660 1
a660 9
	* configure.ac: If cross compiling, run second configure script
	  in a subdirectory ${native_tools}.  New automake conditional
	  TOOLS_ONLY is set inside that subdirectory.
	* Makefile.am (SUBDIRS): Add $(native_tools); restrict the
	  SUBDIRS to minimum, if we are inside the $(native_toos) dir.
	(distclean-local): Remove directory $(native_tools).
	* doc/Makefile.am: If necessary, use makeinfo and install-info
	  from $(native_tools).
	* info/Makefile.am: Similarily with the ``makedoc'' program.
d662 1
a662 1
2004-10-07  Stepan Kasal  <kasal@@ucw.cz>
d664 1
a664 2
	@@table command doesn't work inside environment @@display.
	There is no point in trying to fix it: just give up with a cry.
d666 1
a666 5
	* doc/texinfo.tex (\table, \ftable, \vtable): Instead of calling
	  \tablex directly, call ...
	(\tablecheck): ... this new macro which checks for active newline;
	  if it's found, it reports an error and uses \doignore to recover.
	* doc/texinfo.txi (display): mention this.
d668 1
a668 1
2004-10-06  Karl Berry  <karl@@gnu.org>
d670 1
a670 4
	* doc/*.texi: more consistent use of dashes.
	From Stepan and Benno Schulenberg <benno@@nietvergeten.nl>.
 
2004-10-04  Karl Berry  <karl@@gnu.org>
d672 1
a672 5
	* makeinfo/makeinfo.c (cm_value): increment and restore
		input_text_offset before execute_string on the value,
		so cm_xref doesn't complain about missing punctuation.
	From: Sergey Poznyakoff <gray@@Mirddin.farlep.net>,
	04 Oct 2004 15:04:33 +0300.
d674 2
a675 1
2004-10-01  Karl Berry  <karl@@gnu.org>
d677 1
a677 1
	* lib/Makefile.am (libtxi_a_SOURCES): add getopt_.h.
d679 1
a679 3
	* configure.ac: bump version to 4.7.90, although we're not really
		pretesting yet.  (I need a distribution to check an
		automake issue.)
d681 2
a682 1
2004-09-14  Karl Berry  <karl@@gnu.org>
d684 1
a684 3
	* util/srclist.txt (getopt.h): renamed to getopt_.h.
	* lib/getopt_.h: new file.
	* lib/getopt.h: just include getopt.h.
d686 1
a686 1
2004-09-09  Karl Berry  <karl@@gnu.org>
d688 1
a688 1
	* doc/texinfo.txi (Image Syntax): mention @@noindent, @@center.
d690 10
a699 1
2004-09-06  Stepan Kasal  <kasal@@ucw.cz>
d701 1
a701 5
	* doc/texinfo.tex (\Efloat): Take care to run \scantokens on
	  \thisshortcaption before writing the lof line to auxfile.
	  Otherwise, when a newline appears in the argument to
	  @@shortcaption, a literal ^^M is written to the aux file.
	  Report from Patrice, 1 Aug 2004 15:54:44 +0200.
d703 1
a703 1
2004-09-01  Karl Berry  <karl@@gnu.org>
d705 4
a708 1
	* util/gendocs.sh: show commands, allow / in description.
d710 5
a714 1
2004-08-30  Karl Berry  <karl@@gnu.org>
d716 1
a716 8
	* makeinfo/makeinfo.c (maybe_escaped_expansion): new routine, like
		expansion but does HTML escapes.
	* makeinfo/makeinfo.h (maybe_escaped_expansion): declare.
	* makeinfo/index.c (cm_printindex): call it.
	This is @@cindex Kahrs, J@@"urgen does not get
	gawk.texi:23425: Unknown command `&quot;urgen'.
	(in gawk 3.1.4).
	Report from: Stepan Kasal <kasal@@ucw.cz>, 24 Aug 2004 12:36:34 +0200.
d718 1
a718 1
2004-08-29  Karl Berry  <karl@@gnu.org>
d720 1
a720 5
	* makeinfo/node.c (split_file): do not search for output file
		along the path when calling find_and_load (can cause seg
		fault when cross-compiling).
	From: Martin Husemann <martin@@duskware.de>, 29 Aug 2004 08:40:33 +0200.
	http://www.netbsd.org/cgi-bin/query-pr-single.pl?number=26791
d722 1
a722 1
2004-08-27  Karl Berry  <karl@@gnu.org>
d724 2
a725 2
	* doc/texinfo.txi (Macro details): more warnings about macro usage.
	Report from: Stepan Kasal <kasal@@ucw.cz>, 24 Aug 2004 09:29:35 +0200.
d727 8
a734 3
	* doc/texinfo.tex (\Efloat): \vskip\parskip after printing the
	caption; previous \printedsomething code to do this had become
	obsolete.  Reported by Stepan.
d736 6
a741 3
	* doc/texinfo.txi (caption shortcaption): show an example for
        @@shortcaption, and remark that weird commands like @@c and @@verb
	are not allowed.  Suggested by Stepan.
d743 1
a743 1
2004-08-27  Stepan Kasal  <kasal@@ucw.cz>
d745 2
a746 6
	* doc/texinfo.tex (\initial): when breaking the column before the
	  initial, allow for some space at the bottom of the column, so
	  the baselineskip is preserved (more or less).
	  Don't give negative penalty, it encouradges creating of underfull
	  columns with stretched baselineskip.
	  At the end, the \nobreak should be before \vskip, not after it.
d748 1
a748 1
2004-08-26  Stepan Kasal  <kasal@@ucw.cz>
d750 4
a753 2
	* util/texi2dvi: fix the sed script searching for @@documentencoding;
	  Double-quote some instances of "$filename_???"
d755 2
a756 1
2004-08-26  Akim Demaille  <akim@@epita.fr>
d758 9
a766 1
	Let DVI and PDF files honor the document encoding in TeX.
d768 5
a772 5
	* util/texi2dvi ($language): Be sure to set its value.
	(get_xref_files): Turn this external shell script into a function.
	(filename_rcd, $tmpdir_rcd): New.
	If the file is in Texinfo, and has @@documentencoding, and recode
	is available, then run it.
d774 2
a775 1
2004-08-25   Akim Demaille  <akim@@epita.fr>
d777 1
a777 1
	* util/Makefile.am (texinfo.cat): Fix for srcdir != builddir.
d779 2
a780 1
2004-08-25  Karl Berry  <karl@@gnu.org>
d782 4
a785 1
	* util/texi2dvi: @@ is also ok for the first character of xref_files.
a786 1
2004-08-20  Karl Berry  <karl@@gnu.org>
d788 1
a788 2
	* doc/texinfo.tex (\tablez): accidentally removed assignments
		enabling @@item and @@itemx within @@table.
d790 2
a791 1
2004-08-19  Karl Berry  <karl@@gnu.org>
d793 3
a795 5
	* doc/texinfo.tex (\multitable): \def\item to \crcr, instead of
		\let, to avoid errors with a nested @@itemize inside
		@@multitable.
	Report from: Pierre-Luc Veilleux <plv@@centretiv.com>,
	18 Aug 2004 13:26:00 -0400.
d797 1
a797 1
2004-08-19  Stepan Kasal  <kasal@@ucw.cz>
d799 2
a800 3
	* doc/texinfo.tex (\scanmacro): Make backslash active, not other,
	  as this is the default when processing texinfo files. 
	  Otherwise, a \ inside @@copying will eventually print as ``.
d802 1
a802 1
2004-08-18  Stepan Kasal  <kasal@@ucw.cz>
d804 1
a804 2
	* doc/texinfo.tex (\scantxt): " is another active char to be
	  sanitized.
d806 2
a807 1
2004-08-18  Karl Berry  <karl@@gnu.org>
d809 1
a809 3
	* doc/texinfo.txi (exampleindent): document that the default is
		different in TeX.
	From: Simon Josefsson <jas@@extundo.com>, 18 Aug 2004 13:44:32 +0200.
d811 1
a811 1
2004-08-14  Karl Berry  <karl@@gnu.org>
d813 1
a813 2
	* doc/texinfo.tex (\cslet): equivalent-or-better, and shorter,
	version from dak, 12 Aug 2004 19:17:27 +0200.
d815 4
a818 2
	* doc/texinfo.txi (makeinfo options): use --no-number-sections
		with non-hierarchical manuals.
d820 1
a820 1
2004-08-13  Karl Berry  <karl@@gnu.org>
d822 2
a823 2
	* util/texi2dvi: check for -file-line-error, since -style is no
		longer part of the name.
d825 3
a827 1
2004-08-07  Karl Berry  <karl@@gnu.org>
d829 4
a832 6
	* info/echo-area.c (inform_in_echo_area): avoid buffer overrun.
	Report from: Roman Werpachowski <rwerp@@gazeta.pl>,
	7 Aug 2004 01:18:32 +0200.
	
	* info/echo-area.h (inform_in_echo_area): declare arg as const,
	while we're at it.
d834 2
a835 1
2004-08-02  Karl Berry  <karl@@gnu.org>
d837 1
a837 3
	* makeinfo/cmds.c (cm_acronym_or_abbr): use strchr, not index.
	Report from: Prof Brian Ripley <ripley@@stats.ox.ac.uk>, 
	2 Aug 2004 12:47:36 +0100 (BST)
d839 2
a840 1
2004-07-31  Karl Berry  <karl@@gnu.org>
d842 1
a842 5
	* doc/texinfo.txi,
	* doc/texinfo.tex,
	* makeinfo/cmds.c, cmds.h, xml.c, xml.h,
	* util/texinfo.dtd: new command @@abbr, suggested by Paul Eggert,
	who also sent the original documentation.
d844 2
a845 1
2004-07-30  Karl Berry  <karl@@gnu.org>
d847 4
a850 2
	* info/infomap.c (initialize_vi_like_keymaps): bind j to
	info_next_line and k to info_prev_line.  From Eli.
d852 4
a855 1
2004-07-30  Maciej W. Rozycki  <macro@@linux-mips.org>
d857 1
a857 2
	* info/filesys.c (extract_colon_unit): Clean up handling of the 
	end of string.
d859 1
a859 1
2004-07-27  Karl Berry  <karl@@gnu.org>
d861 2
a862 2
	* doc/texinfo.txi (verb): explicitly warn that @@verb cannot be
	used in xref contexts.
d864 1
a864 1
2004-07-27  Stepan Kasal  <kasal@@ucw.cz>
d866 4
a869 2
	* doc/texinfo.tex (\float): The parameters for @@float are
	  separated by commas; allow a space after each of the commas.
d871 1
a871 2
	The TeX code for @@caption, @@shortcaption and @@copying now uses
	a similar mechanism to macro definitions.  In detail:
d873 5
a877 8
	* doc/texinfo.tex (\macrobodyctxt, \macroargctxt): Generalize, ...
	  (\scanctxt, \scanargctxt): ... and introduce new variants.
	  (\scanexp): New macro--expand the parameter and call \scantokens.
	  (\copying, \docopying, \insertcopying): Use \scanargctxt and
	  \scanexp--this simplifies things a lot.
	  (\caption, \shortcaption): Redefine, using \scanargctxt via ...
	  (\docaption, \defcaption): ... these new macros.
	  (\appendtomacro): Simplify code, using \expandafter.
d879 1
a879 1
2004-07-26  Karl Berry  <karl@@gnu.org>
d881 2
a882 9
        Avoid using the path for output files, since this led to problems
        when incompatible files created by previous versions were found.
	* makeinfo/files.c (find_and_load): introduce second parameter
		use_path, set to 0 from the call in handle_delayed_writes,
		1 in all cases.
        * makeinfo/files.h: change decl.
        * makeinfo/cmds.c, makeinfo.c, node.c: change calls.
	From: Thomas Klausner <wiz@@danbala.ifoer.tuwien.ac.at>,
	14 Jul 2004 00:31:54 +0200.
d884 1
a884 1
2004-07-25  Werner Lemberg  <wl@@gnu.org>
d886 1
a886 1
	Rename @@s to @@slanted.
d888 1
a888 3
	* doc/texinfo.tex (\s): Replace with...
	(\slanted): This.
	* doc/texinfo.txi: Updated.
d890 4
a893 4
	* makeinfo/cmds.c (command_table): Add @@slanted, not @@s.
	(cm_s): Replace with...
	(cm_slanted): This.
	* makeinfo/cmds.h: Add cm_slanted, not cm_s..
d895 4
a898 1
	* NEWS: Updated.
d900 1
a900 1
2004-07-24  Karl Berry  <karl@@gnu.org>
d902 3
a904 5
	* info/echo-area.c (ea_possible_completions),
	* info/session.c (forward_move_node_structure),
	* info/infokey.c (compile): cast to intptr_t to avoid cast to
		pointer from integer of different size.
	From Havard Eidnes <he@@netbsd.org>, 14 Jul 2004 20:38:59 +0200.
a905 1
2004-07-19  Alper Ersoy  <dirt@@gtk.org>
d907 1
a907 6
	* makeinfo/makeinfo.c (main): with XML, instead of directly calling
	handle_variable_internal for -D and -U command line flags, hold the
	variable declarations until output document is started.
	(convert_from_loaded_file): handle variables provided with -D and -U
	flags here, just before entering the reader_loop.
	(Otherwise, -D/-U with --xml cause a segfault.)
d909 2
a910 1
2004-07-15  Werner Lemberg  <wl@@gnu.org>
d912 2
a913 3
	* doc/texinfo.tex (\s): New command to typeset text with a slanted
		font.
	* doc/texinfo.txi: Document @@s.
d915 4
a918 4
	* makeinfo/cmds.c (command_table): Add @@s.
	(cm_s): New function.  Currently the same as cm_i -- it probably
		has to be adapted to Docbook and XML.
	* makeinfo/cmds.h: Add prototype for cm_s.
d920 4
a923 1
	* NEWS: Document new command @@s.
a924 1
2004-07-15  Werner Lemberg  <wl@@gnu.org>
d926 1
a926 2
	* doc/texinfo.tex (\TeX): Adjust \spacefactor to make it act like a
		lowercase letter, not like a period.
d928 2
a929 1
2004-07-12  Karl Berry  <karl@@gnu.org>
d931 2
a932 3
	* texinfo/texinfo.txi (Useful Highlighting): Include
		cross-references to each of the commands.  Suggestion from
		Wolfgang Pausch, 12 Jul 2004 08:26:28 +0200.
d934 2
a935 4
	* texinfo/texinfo.txi (Invoking makeinfo),
	* makeinfo/makeinfo.c: mention that --if-noFORMAT also processes
	@@ifnotFORMAT blocks.
	Suggestion from Stepan.
d937 1
a937 1
2004-07-11  Karl Berry  <karl@@gnu.org>
d939 2
a940 6
	* makeinfo/makeinfo.c (discard_until): leave input_text_offset at
		the end of input_text if not found, not at one past the
		end of input_text.  (Had erroneously put that in the block
		only if an error was given.)  The result was a null byte
		after macro expansions.  Report from Werner,
		10 Jul 2004 15:36:40 +0200.		
d942 1
a942 4
	* makeinfo/node.c (split_file): fwrite Local Variables trailer so
		it actually gets into the output of the top-level info
		file; don't just insert_string.  
	Report from: Werner LEMBERG, 11 Jul 2004 08:58:13 +0200.
d944 1
a944 1
2004-07-10  Karl Berry  <karl@@gnu.org>
d946 1
a946 3
        * util/texi2pdf: new script.
        * util/Makefile.am: install it.
        * doc/texinfo.txi: document it.
d948 2
a949 1
2004-07-05  Karl Berry  <karl@@gnu.org>
d951 2
a952 5
	* makeinfo/xref.c (cm_email, cm_uref, et al.): 
	* makeinfo/xml.c (xml_insert_indexentry, xml_insert_indexterm):
	* makeinfo/sectioning.c (sectioning_underscore):
	* makeinfo/makeinfo.c (cm_listoffloats): use %s, don't pass string to
		execute_string.  Report from Christian Schenk.
d954 1
a954 1
2004-07-02  Karl Berry  <karl@@gnu.org>
d956 1
a956 2
	* makeinfo/makinfo.c (execute_string): don't worry about
		mismatched multiline commands if executing_macro.
d958 1
a958 1
2004-06-27  Karl Berry  <karl@@gnu.org>
d960 1
a960 9
	* doc/texinfo.tex: Various doc fixes.
	(\dosubindsanitize): propagate the same penalty
	>10000, don't just use \nobreak.
	(\sectionheading): insert a final penalty of
	10001, not 10000.  This causes \aboveenvbreak to
	insert \parskip glue, cancelling the
	\vskip-\parskip done here.  Otherwise, when (e.g.)
	@@section is followed immediately by @@example, the
	example can be shrunk up above the section title.
d962 4
a965 1
2004-06-14  Karl Berry  <karl@@gnu.org>
d967 3
a969 2
	* doc/texinfo.tex (\commondummies, \indexnofonts): dummy-up @@comma.
	Report from Arnold.
d971 7
a977 1
2004-06-06  Karl Berry  <karl@@gnu.org>
d979 5
a983 5
	* makeinfo/index.c (index_add_arg): ensure all elements are always
	initialized, including output_file, section, and section_name.
	(cm_printindex): don't pass index->output_file to
	add_html_block_elt_args if it is null.  Also do
	not pass spurious extra index_name argument.
d985 4
a988 4
	* makeinfo/makeinfo.c (add_char): don't call html_output_head if
	only_macro_expansion (e.g., a macro call in the
	Top menu).  From: Yuri D'Elia <wavexx@@yuv.info>,
	05 Jun 2004 21:11:00 +0200.
d990 3
a992 1
2004-06-03  Karl Berry  <karl@@gnu.org>
d994 5
a998 5
	* info/session.c (info_menu_digit): use menu, rather than entry, to
	avoid seg fault on "0" (the last item),
	since menu has already been checked.
	From: Malcolm Rowe <malcolm-gnu@@farside.org.uk>,
	02 Jun 2004 21:32:37 +0100.
d1000 3
a1002 1
2004-05-17  Karl Berry  <karl@@gnu.org>
d1004 3
a1006 2
	* util/gendocs.sh, gendocs_template: use package.format.tar.gz
		consistently.  Before, -, _, and . were all used.
d1008 4
a1011 1
2004-05-16  Karl Berry  <karl@@gnu.org>
d1013 4
a1016 3
	* lib/Makefile.am (libtxi_a_SOURCES): include strcase.h.
	From: "Gerrit P. Haase" <gp@@familiehaase.de>,
	15 May 2004 21:50:52 +0200.
d1018 2
a1019 2
	* util/gendocs.sh: force HTML output name, otherwise Emacs fails
        with its "@@setfilename ../...".
d1021 2
a1022 1
2004-05-04  Karl Berry  <karl@@gnu.org>
d1024 2
a1025 3
	* util/texi2dvi (TEX): don't use the value when it ends in
	"latex"; TEX is also used by mpost.  Report from
	Yvon.Henel@@wanadoo.fr.
d1027 2
a1028 1
2004-04-29  Karl Berry  <karl@@gnu.org>
d1030 16
a1045 2
	* doc.texinfo.txi (Invoking makeinfo): mention --plaintext.
	From Akim.
d1047 4
a1050 2
	* doc/texinfo.tex (\emptyusermacros): can use \asis.
	(\identity): remove.
d1052 1
a1052 1
2004-04-29  Stepan Kasal  <kasal@@ucw.cz>
d1054 1
a1054 4
	* doc/texinfo.tex (\commondummiesnofonts, \indexnofonts):  In order
	  to correctly transform words like `Dvo\v{r}\'{a}k' to `Dvorak'
	  for index sorting, one has to define all accent control sequences
	  as @@asis.  (Current code would produce `Dvor{a}k'.)
d1056 1
a1056 1
2004-04-29  Jan Nieuwenhuizen  <janneke@@gnu.org>
d1058 1
a1058 2
	* makeinfo/makeinfo.c (remember_error): Try cm_bye not more than
	twice.  Fixes `Too many errors!  Gave up.' looping.
d1060 2
a1061 1
2004-04-26  Karl Berry  <karl@@gnu.org>
d1063 3
a1065 5
	* lib/system.h (STRCASEEQ, STRNCASEEQ): new #defines for
		convenience.
	* makeinfo/cmds.c (cm_strong): actually change the output to avoid a
	spurious xref.  Suggestion from Jan Nieuwenhuizen
	<janneke@@gnu.org>, 26 Apr 2004 00:04:04 +0200, emacs-devel.
d1067 2
a1068 1
	* automake 1.8.4.
d1070 2
a1071 1
2004-04-24  Karl Berry  <karl@@gnu.org>
d1073 1
a1073 4
	* doc/texinfo.tex (\emptyusermacros, \identity): new macros.
	(\indexdummiesnofonts): call it.
	This is to semi-support macro calls in the arg to @@deffn.
	Report from: Akim Demaille <akim@@epita.fr>, 20 Apr 2004 17:48:28 +0200.
d1075 2
a1076 1
2004-04-21  Karl Berry  <karl@@gnu.org>
d1078 3
a1080 2
	* configure.ac (gl_FUNC_MKSTEMP): rename from UTILS_FUNC_MKSTEMP,
	per new gnulib code.
d1082 2
a1083 1
2004-04-20  Karl Berry  <karl@@gnu.org>
d1085 6
a1090 1
	* makeinfo/tests/copying: force POSIX language setting.
d1092 3
a1094 1
2004-04-19  Karl Berry  <karl@@gnu.org>
d1096 1
a1096 5
	* makeinfo/cmds.c (cm_code): use <samp> for commands other than
	@@code, so we get typewriter output; and add `...'
	for @@samp.
	Report from: John Blevin <blevin@@lucent.com>, 
	16 Apr 2004 11:40:01 -0400.
d1098 8
a1105 2
	* makeinfo/html.c (html_output_head) [CSS_FONT_ROMAN,
	CSS_FONT_SMALL_CAPS]: prettify.
d1107 9
a1115 1
2004-04-18  Karl Berry  <karl@@gnu.org>
d1117 2
a1118 2
	* doc/texinfo.tex (\Orb): define if undefined.
	Report from Laurent Siebenmann.
a1119 1
	* util/dir-example: diff updates.
d1121 1
a1121 1
2004-04-13  Karl Berry  <karl@@gnu.org>
d1123 5
a1127 1
	* doc/texinfo.tex: remove trailing blanks.  suggestion from Jim.
d1129 1
a1129 1
2004-04-12  Paul Eggert  <eggert@@twinsun.com>
d1131 5
a1135 4
	* doc/Makefile.am (info.1, infokey.1, install-info.1,
	makeinfo.1, texi2dvi.1, texindex.1): Don't use $< in ordinary
	rules; it's not portable.
	* util/Makefile.am (texinfo.cat): Likewise.
d1137 1
a1137 1
2004-04-12  Karl Berry  <karl@@gnu.org>
d1139 1
a1139 1
	* bootstrap: update from berlios.
d1141 2
a1142 1
2004-04-11  Karl Berry  <karl@@gnu.org>
d1144 8
a1151 1
	* Version 4.7.
d1153 1
a1153 1
2004-04-09  Karl Berry  <karl@@gnu.org>
d1155 3
a1157 3
	* makeinfo/makeinfo.c (execute_string): do not free the temporary copy
	of input_filename until we're definitely done with
	it.  It is used in line_error, etc.
d1159 2
a1160 1
	* INSTALL: mention texinfo.tex install step.
d1162 1
a1162 4
	* util/Makefile.am (texinfo.cat): new name instead of just
		`catalog'.  rename files.
	* util/Makefile.am (EXTRA_DIST): texinfo-cat.in now, not
		catalog.in.
d1164 3
a1166 1
2004-04-09  Alper Ersoy  <dirt@@gtk.org>
d1168 2
a1169 3
	* makeinfo/insertion.c (begin_insertion): after @@copying, do not
	discard until a newline if we are looking at one.
	(end_insertion): decrement input line number after @@end copying.
d1171 1
a1171 1
2004-04-08  Karl Berry  <karl@@gnu.org>
d1173 1
a1173 1
	* util/Makefile.am: doc fix, as automake.diff is no longer needed.
d1175 38
a1212 1
2004-04-07  Karl Berry  <karl@@gnu.org>
d1214 2
a1215 1
	* pretest version 4.6.95.
d1217 107
a1323 2
	* doc/texinfo.tex (\dodonode): new macro to remove trailing comma.
	(\donode): call it, after removing space-comma.
d1325 15
a1339 6
	* doc/texinfo.txi (indicateurl): new name for url.
	(uref): url is now a synonym for uref.
	* doc/texinfo.tex (\url, \indicateurl): implement.
	* makeinfo/cmds.c (cm_indicate_url): rename from cm_url.
	(command_table): make "url" a synonym for "uref".
	* makeinfo/cmds.h (cm_indicate_url): declare it.
d1341 5
a1345 1
2004-04-06  Karl Berry  <karl@@gnu.org>
d1347 6
a1352 3
	* makeinfo/sectioning.c (insert_and_underscore): use `...' quote
	instead of "..." in error message.
	* info/*.c: likewise.
d1354 1
a1354 1
2004-04-07  Alper Ersoy  <dirt@@gtk.org>
d1356 1
a1356 2
	* makeinfo/cmds.c (cm_colon): check if the character we are erasing
	from the output belongs to an XML tag.
d1358 1
a1358 1
2004-04-07  Alper Ersoy  <dirt@@gtk.org>
d1360 4
a1363 2
	* makeinfo/insertion.c (cm_author): use author element in XML output
	for attribution.
d1365 2
a1366 1
2004-04-06  Alper Ersoy  <dirt@@gtk.org>
d1368 1
a1368 2
	* makeinfo/makeinfo.c (convert_from_loaded_file): do not call
	write_tag_table if the output filename is "-".
d1370 3
a1372 1
2004-04-06  Alper Ersoy  <dirt@@gtk.org>
d1374 1
a1374 2
	* makeinfo/insertion.c (end_insertion): <pre> blocks implicitly ends
	the previous paragraph, so avoid </p> after the end tag.
d1376 1
a1376 3
	* makeinfo/footnote.c (output_pending_notes): made Footnotes anchor
	non translatable, and changed it to "texinfo-footnotes-in-document" to
	lessen the chance of getting in the way of another Footnotes anchor.
d1378 6
a1383 1
2004-04-04  Jim Meyering  <jim@@meyering.net>
d1385 1
a1385 2
	* info/nodes.c (info_load_file_internal): Don't free lowered_name
	until *after* using fullpath, since they may be one and the same.
d1387 2
a1388 1
2004-04-03  Karl Berry  <karl@@gnu.org>
d1390 1
a1390 1
	* doc/texinfo.txi (Image Syntax): had missing @@'s in cookies.
d1392 2
a1393 4
	* makeinfo/cmds.c (cm_w): insert a comment at the end of @@w, so that
	@@w{$}Log$ doesn't end up as <dollar>Log<dollar>.
	Report from rms.
	* doc/texinfo.txi (GNU Sample Texts, w): mention this.
d1395 1
a1395 1
2004-04-02  Karl Berry  <karl@@gnu.org>
d1397 3
a1399 1
	* configure.ac: pretest version 4.6.94.
d1401 2
a1402 1
	* doc/texinfo.txi (Node Line Requirements): discuss whitespace.
d1404 1
a1404 2
	* doc/texinfo.tex (\node, \donode): remove trailing
	spaces (before the first comma) in the @@node line.
d1406 2
a1407 1
2004-03-29  Karl Berry  <karl@@gnu.org>
d1409 1
a1409 2
	* util/install-info.c (menu_line_lessp, menu_line_equal): move to
		before all uses.
d1411 1
a1411 1
2004-03-27  Karl Berry  <karl@@gnu.org>
d1413 3
a1415 3
	* info/signals.c (initialize_info_signal_handler) [SA_NOCLDSTOP]:
	use instead of HAVE_SIGACTION, since Solaris 2.7+
	with Sun CC don't have sa_handler, sa_flags, sa_mask.
d1417 2
a1418 6
	* info/session.c (search_string_index): remove unused variable.
	* info/terminal.c (term_mo): remove unused variable.
	* info/display.c (display_clear_display): remove unused variable
		display_line.
	* util/install-info.c (infilelen_sans_info): remove unused
		variable.
d1420 1
a1420 2
	* doc/texinfo.txi: mistakenly had * name: node: in menu items instead
	of * name: node.
d1422 2
a1423 2
	* util/install-info.c (menu_item_equal): must declare ret at beginning
	of function.  From Werner.
d1425 3
a1427 1
2004-03-27  Jim Meyering  <jim@@meyering.net>
a1428 2
	* info/info-utils.c (info_parse_node): Don't read beyond end
	of buffer when looking for ``(line ...)'' in a menu item.
d1430 1
a1430 1
2004-03-27  Andreas Schwab  <schwab@@suse.de>
d1432 2
a1433 2
	* util/install-info.c (menu_item_equal): Don't scan past
	term_char.
d1435 2
a1436 1
2004-03-26  Karl Berry  <karl@@gnu.org>
d1438 1
a1438 1
	* pretest version 4.6.93.
d1440 4
a1443 3
	* util/install-info.c (menu_item_equal): compare basenames,
	so lilypond/ subdir will match.  Bug report from Werner,
	21 Mar 2004 08:31:10 +0100.
d1445 1
a1445 4
	* configure.ac (AC_CHECK_DECLS): skip strncasecmp again.
	* lib/system.h (strcase.h): change conditional to
	!HAVE_STRNCASECMP || !HAVE_STRCASECMP.  Extra
	!HAVE_DECL seems superfluous.
d1447 2
a1448 2
	* lib/system.h: include <unistd.h> last, following Autoconf's
		ac_includes_default.
d1450 2
a1451 1
2004-03-25  Karl Berry  <karl@@gnu.org>
d1453 5
a1457 18
	All these changes are because strncasecmp is only declared in
	<strings.h> on IBM AIX 4.2.  (Report from Nelson Beebe.)
	
	* configure.ac (AC_CHECK_DECLS): add memchr; no need to check for
	  	     strcasecmp.(gl_STRCASE): call this ... 
	(AC_REPLACE_FUNCS): ... replacing checks for
	strcasecmp and strncasecmp here.
	* lib/system.h (memchr) [!HAVE_DECL_MEMCHR]: add conditional
	     declaration.
	(strcase.h) [!HAVE_DECL_STRNCASE]: add conditional include.
	(strings.h) [HAVE_STRINGS_H]: include if
	available, even if <string.h> is also available.
	* info/session.c (strncasecmp) [M_XENIX]: remove this conditional
	declaration, since we haven't been testing for M_XENIX in many
	years.
	* m4/Makefile.am (EXTRA_DIST): add strcase.m4.
	* util/srclist.txt (lib/strcase.h, m4/strcase.m4): add, updating
		from gnulib.
d1459 2
a1460 1
2004-03-24  Karl Berry  <karl@@gnu.org>
d1462 2
a1463 3
	* makeinfo/index.c:
	* makeinfo/float.c: avoid use of snprintf, which is not available on
	all platforms.  Bug report by Nelson and Vin Shelton (22mar03).
d1465 1
a1465 1
	* automake 1.8.3.
d1467 1
a1467 1
2004-03-23  Karl Berry  <karl@@gnu.org>
d1469 4
a1472 1
	* doc/info-stnd.texi (Searching Commands): typo from jesper.
d1474 1
a1474 1
2004-03-21  Karl Berry  <karl@@gnu.org>
d1476 1
a1476 6
	* doc/texinfo.tex (\indexnofonts): \definedummyletter needs to
	define the control letters to be empty, without
	taking any argument; most control letters, such as
	@@:, don't take arguments, and it won't hurt to
	just always ignore them for index sorting.
	Report from Arnold.
d1478 4
a1481 2
	* info/doc.h (InfoFunction): cast NULL to VFunction *, to
	prevent pgcc from complaining.  From Nelson.
d1483 2
a1484 1
2004-03-20  Karl Berry  <karl@@gnu.org>
d1486 2
a1487 2
	* doc/texinfo.txi (Structuring Command Types): be even more explicit
	about @@unnumbered vs. @@heading.
d1489 3
a1491 3
	* makeinfo/html.c (insert_html_tag_with_attributes): use the same
	parameter names (start_or_end and tag) in both stdc and !stdc
	cases.  Report from Nelson.
d1493 1
a1493 3
	* info/m-x.c (info_execute_command): don't dereference
	InfoFunction(command) as a function call if it's NULL.  Report
	from Nelson, pgcc-5.1-3 complains.
d1495 1
a1495 1
2004-03-19  Karl Berry  <karl@@gnu.org>
d1497 1
a1497 3
	* info/signals.h [!SA_NOCLDSTOP]: borrow test from coreutils'
	sort.c, to avoid using sigset_t when it's not
	defined (apparently).
d1499 2
a1500 5
	* makeinfo/html.c (escape_string): escape ", too, for @@image's
	alttext among others.
	* makeinfo/html.h: doc fix.
	* doc/texinfo.txi (Image Syntax): making empty alt text, do
		escaping.
d1502 2
a1503 1
	* util/dir-example: reorder.
d1505 1
a1505 3
	* doc/texinfo.txi (title subtitle author): using them outside
	@@titlepage is an error, they're not actually "ignored".
	* makeinfo/insertion.c (cm_author): one mdash suffices.
d1507 1
a1507 1
2004-03-19  Jim Meyering  <jim@@meyering.net>
d1509 5
a1513 2
	* makeinfo/makeinfo.c (add_char): Use memmove, rather than strncpy,
	since source and destination strings overlap.
d1515 1
a1515 2
	* makeinfo/float.c (add_new_float): Avoid buffer overrun when
	appending `.' to a chapter number.
d1517 6
a1522 1
2004-03-18  Karl Berry  <karl@@gnu.org>
d1524 1
a1524 1
	* pretest version 4.6.92.
d1526 4
a1529 1
2004-03-18  Andreas Schwab  <schwab@@suse.de>
d1531 1
a1531 4
	* lib/xmalloc.c: Include "system.h" instead of declaring malloc
	and realloc ourselves.
	(xmalloc): Change type of size parameter to size_t.
	(xrealloc): Likewise.
d1533 5
a1537 2
	* lib/system.h (xmalloc, xrealloc): Change type of size parameter
	to size_t.
d1539 1
a1539 1
2004-03-18  Karl Berry  <karl@@gnu.org>
d1541 1
a1541 4
	* makeinfo/xref.c (cm_xref): ignore any directory part or extension
	in html case, warn if nothing left.
	* doc/texinfo.txi (HTML Xref Link Basics): ignore directory part in
	@@xref cmd.
a1542 5
	* lib/getopt.h (__GNUC_PREREQ) [! __GNUC_PREREQ]: change
	conditional to the actual symbol, instead of just
	__GNUC, else --disable-nls compilation fails under
	SunOS 5.8 with gcc 3.2.3 (at least).
	Report from Vin Shelton, 15 Mar 2004 08:51:14 -0500.
d1544 1
a1544 3
	* util/texindex.c: add some const declarations.
	* util/install-info.c: add some const declarations.
	(by no means all)
d1546 1
a1546 1
	* doc/texinfo.txi (HTML Xref *): new nodes.
d1548 1
a1548 1
2004-03-15  Karl Berry  <karl@@gnu.org>
d1550 2
a1551 2
	* makeinfo/xref.c (cm_xref): need ../ in reference to foreign html
	manual, if splitting.
d1553 5
a1557 1
2004-03-14  Jim Meyering  <jim@@meyering.net>
d1559 3
a1561 2
	* makeinfo/index.c (insert_index_output_line_no): Ensure that `i'
	is larger than zero before (not after) using `i-1' as an array index.
d1563 6
a1568 2
	* makeinfo/cmds.c (cm_acronym): Don't write description[-1]
	when description is the empty string.
d1570 1
a1570 4
	* makeinfo/makeinfo.c (insert): Avoid buffer under-run when
	output_paragraph_offset is zero.
	(canon_white): Rewrite not to use strcpy (was used with
	overlapping source and destination)
d1572 3
a1574 1
2004-03-14  Andreas Schwab  <schwab@@suse.de>
d1576 1
a1576 1
	* info/session.c: Fix buffer overflows.
d1578 2
a1579 1
2004-03-14  Alper Ersoy  <dirt@@gtk.org>
d1581 4
a1584 2
	* makeinfo/xref.c (cm_xref): print the fifth arg (or fourth if it's
	not available), in parens for the visible text of the HTML link.
d1586 1
a1586 1
2004-03-14  Alper Ersoy  <dirt@@gtk.org>
d1588 1
a1588 2
	* makeinfo/tests/node-expand.txi:
	* makeinfo/tests/node-whitespace.txi: added titles to @@top.
d1590 1
a1590 1
2004-03-14  Alper Ersoy  <dirt@@gtk.org>
d1592 3
a1594 3
	* makeinfo/sectioning.c (sectioning_underscore): check if title is
	pointing to NULL before calling strlen (happens when there is no
	@@settitle before @@top.)
d1596 1
a1596 1
2004-03-14  Alper Ersoy  <dirt@@gtk.org>
d1598 1
a1598 6
	* makeinfo/sectioning.c (sectioning_underscore): warn if both @@top and
	@@settitle are empty.
	(sectioning_html, insert_and_underscore): use @@settitle argument if
	@@top is empty.
	(insert_and_underscore): removed with_char argument from function
	declaration.
d1600 1
a1600 1
	* makeinfo/sectioning.h: insert_and_underscore proto update.
d1602 1
a1602 1
2004-03-13  Karl Berry  <karl@@gnu.org>
d1604 2
a1605 1
	* pretest version 4.6.91.
d1607 3
a1609 1
	* info/*.[ch]: copyright dates, and final ugly casts.
d1611 1
a1611 2
	* doc/texinfo.txi (Generating HTML): make its own chapter, since we
	have lots to say about xrefs now.
d1613 1
a1613 7
	* doc/texinfo.txi (Refilling Paragraphs): @@ignore this, just
	describe @@refill better in the summary.
	(Obtaining TeX): make a section of Hardcopy,
	instead of its own appendix.
	(Command Syntax): subnode of @@@@-Command List.
	This reduction in the number of appendices will hopefully make the
		manual less overwhelming.
d1615 1
a1615 1
2004-03-13  Alper Ersoy  <dirt@@gtk.org>
d1617 2
a1618 45
	* info/dir.c:
	* info/display.c:
	* info/display.h:
	* info/doc.h:
	* info/dribble.c:
	* info/dribble.h:
	* info/echo-area.c:
	* info/echo-area.h:
	* info/filesys.c:
	* info/filesys.h:
	* info/footnotes.c:
	* info/footnotes.h:
	* info/gc.c:
	* info/gc.h:
	* info/indices.c:
	* info/indices.h:
	* info/info-utils.c:
	* info/info-utils.h:
	* info/info.c:
	* info/info.h:
	* info/infodoc.c:
	* info/infokey.c:
	* info/infomap.c:
	* info/infomap.h:
	* info/m-x.c:
	* info/makedoc.c:
	* info/man.c:
	* info/man.h:
	* info/nodemenu.c:
	* info/nodes.c:
	* info/nodes.h:
	* info/search.c:
	* info/search.h:
	* info/session.c:
	* info/session.h:
	* info/signals.c:
	* info/terminal.c:
	* info/terminal.h:
	* info/tilde.c:
	* info/tilde.h:
	* info/variables.c:
	* info/variables.h:
	* info/window.c:
	* info/window.h:
	* lib/system.h: protoized.
d1620 4
a1623 1
2004-03-12  Karl Berry  <karl@@gnu.org>
d1625 2
a1626 2
	* makeinfo/sectioning.c (sectioning_underscore): don't segfault when
	generating xml if @@top arg was empty.  Report from Pat.
d1628 1
a1628 1
2004-03-11  Karl Berry  <karl@@gnu.org>
d1630 3
a1632 3
	* doc/texinfo.tex (\pdfoutput): check also for \relax and 0, not
	just \undefined, in case pdftex is being run in dvi mode.
	Reported by Thomas Esser.
d1634 1
a1634 1
	* lib/Makefile.am (libtxi_a_SOURCES): add getopt_int.h.
d1636 1
a1636 1
2004-03-11  Alper Ersoy  <dirt@@gtk.org>
d1638 1
a1638 5
	* makeinfo/html.c (add_escaped_anchor_name): removed unnecessary
	ampersand check.
	(fix_filename): removed size calculation and memory reallocation for
	filename as it is already PATH_MAX bytes.  Added a check so we don't
	cross PATH_MAX boundary while expanding not-isalnum to hex values.
d1640 1
a1640 2
	* makeinfo/toc.c (toc_add_entry): generate links following html cross
	refs proposal from Patrice Dumas.
d1642 1
a1642 1
2004-03-11  Alper Ersoy  <dirt@@gtk.org>
d1644 2
a1645 1
	* makeinfo/makeinfo.h: changed URL_SAFE_CHAR to isalnum.
d1647 1
a1647 3
	* makeinfo/html.c (add_escaped_anchor_name, add_anchor_name)
	(fix_filename): generate links following html cross refs proposal
	from Patrice Dumas.
d1649 1
a1649 2
	* makeinfo/xref.c (cm_xref): tweaked references to external manuals,
	to better follow html cross refs proposal.
d1651 1
a1651 1
2004-03-08  Karl Berry  <karl@@gnu.org>
d1653 1
a1653 1
	* pretest version 4.6.90.
d1655 3
a1657 2
	* makeinfo/Makefile.am (makeinfo_SOURCES): include multi.h.
	* makeinfo/cmds.c (cm_verb): avoid spurious warning.
d1659 1
a1659 1
2004-03-06  Alper Ersoy  <dirt@@gtk.org>
d1661 1
a1661 2
	* makeinfo/lang.c (cm_special_char): call add_encoded_char for Info
	output too.
d1663 1
a1663 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1665 2
a1666 1
	* makeinfo/cmds.c (cm_minus): use minus entity for HTML too.
d1668 4
a1671 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1673 4
a1676 3
	* makeinfo/makeinfo.c (reader_loop): disable multiple dashes and
	quotes entity substitution for HTML and XML, if escape_html is not
	true.
d1678 1
a1678 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1680 1
a1680 1
	* util/texinfo.dtd: added math element and updated footnote.
d1682 1
a1682 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1684 1
a1684 2
	* makeinfo/xml.c (xml_insert_footnote): start <para> if not already
	started.
d1686 4
a1689 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1691 1
a1691 2
	* makeinfo/index.c (index_add_arg): make entry node name 'Footnotes'
	if the output format is non-split HTML, and we are handling footnotes.
d1693 3
a1695 3
	* makeinfo/footnote.c (output_pending_notes): added anchor at the
	start of footnotes block for the non-split HTML output, so @@printindex
	can refer to that point as the nodename.
d1697 2
a1698 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1700 2
a1701 2
	* makeinfo/defun.c (defun_internal): use var element for HTML, instead
	of i.
d1703 2
a1704 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1706 1
a1706 2
	* makeinfo/makeinfo.c (cm_image): reset filling_enable to its previous
	state after getting the cookie done.
d1708 5
a1712 1
2004-03-01  Alper Ersoy  <dirt@@gtk.org>
d1714 1
a1714 2
	* makeinfo/makeinfo.c (cm_image): insert magic cookie only if there's
	a bitmap file (if all we have is a text file, skip the cookie.)
d1716 5
a1720 1
2004-02-29  Alper Ersoy  <dirt@@gtk.org>
d1722 1
a1722 2
	* makeinfo/node.c (cm_node): moved node order handling to ...
	(remember_node): here.
d1724 2
a1725 1
2004-02-29  Alper Ersoy  <dirt@@gtk.org>
d1727 3
a1729 2
	* makeinfo/multi.c (draw_horizontal_separator): insert a space before
	the newline so it looks different than @@subsection's.
d1731 2
a1732 1
2004-02-29  Alper Ersoy  <dirt@@gtk.org>
d1734 2
a1735 2
	* makeinfo/makeinfo.c (insert): do not strip trailing whitespace in
	multitables.
d1737 1
a1737 1
2004-02-29  Alper Ersoy  <dirt@@gtk.org>
d1739 2
a1740 2
	* makeinfo/makeinfo.c (execute_string): removed XML tag balance
	checks.
d1742 1
a1742 1
2004-02-28  Alper Ersoy  <dirt@@gtk.org>
d1744 5
a1748 4
	* makeinfo/insertion.c (begin_insertion, end_insertion): for rawxml,
	rawhtml and rawdocbook blocks, change the state of escaping depending
	on raw_output_block in order to avoid problems when these blocks are
	used within a @@rmacro.
d1750 3
a1752 1
2004-02-28  Alper Ersoy  <dirt@@gtk.org>
d1754 4
a1757 2
	* makeinfo/insertion.c (end_insertion): for quotation use
	default_indentation_increment.
d1759 1
a1759 1
2004-02-28  Alper Ersoy  <dirt@@gtk.org>
d1761 2
a1762 2
	* makeinfo/makeinfo.c (info_trailer): call current_document_encoding
	here too.
d1764 2
a1765 1
2004-02-28  Alper Ersoy  <dirt@@gtk.org>
d1767 1
a1767 1
	* makeinfo/lang.h: new variable unknown_encoding.
d1769 2
a1770 2
	* makeinfo/lang.c (cm_documentencoding): save and use the encoding
	argument even if it's unknown.
d1772 1
a1772 2
	* makeingo/html.c (html_output_head): call current_document_encoding
	instead of checking document_encoding_code. 
d1774 2
a1775 1
2004-02-28  Alper Ersoy  <dirt@@gtk.org>
d1777 1
a1777 1
	* makeinfo/float.c (cm_listoffloats): simplified entry generation.
d1779 1
a1779 1
2004-02-28  Alper Ersoy  <dirt@@gtk.org>
d1781 1
a1781 2
	* makeinfo/files.h: new members node_order and index_order in
	DELAYED_WRITE struct.
d1783 1
a1783 4
	* makeinfo/files.c (register_delayed_write): save current node and
	index order.
	(handle_delayed_writes): update tag_table positions and index line
	numbers by comparing orders, not line numbers they are defined.
d1785 2
a1786 2
	* makeinfo/index.c: made index_counter not static and ...
	* makeinfo/index.h: extern.
d1788 2
a1789 1
	* makeinfo/node.h: new member order in TAG_ENTRY struct.
d1791 1
a1791 1
	* makeinfo/node.c (cm_node): keep the order of the node entry.
d1793 1
a1793 1
2004-02-27  Karl Berry  <karl@@gnu.org>
d1795 2
a1796 2
	* util/gendocs.sh: generate ASCII in static file, not stdout, so
	toc/index can get written.
d1798 1
a1798 3
	* util/gendocs_template: XHTML version from
	http://www.gnu.org/boilerplate.html, via John Darrington
	<john@@cellform.com.au>, 9 Jan 2004 07:24:27 +0800.
d1800 3
a1802 1
2004-02-27  Jan Nieuwenhuizen  <janneke@@gnu.org>
d1804 2
a1805 1
	* doc/texinfo.txi (Image Syntax): Update.
d1807 1
a1807 3
	* makeinfo/makeinfo.c (cm_image): Only insert a period between the
	image's NAME and EXTENSION as a second guess, to retain backward
	compatibility.
d1809 1
a1809 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1811 1
a1811 3
	* makeinfo/xml.c (xml_insert_element_with_attribute): if we are
	closing either TABLEITEM, ITEM or DEFINITIONITEM during string
	execution, update relevant state.
d1813 2
a1814 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1816 1
a1816 3
	* makeinfo/makeinfo.c (execute_string): moved state updates below
	insertion and element stack checks, so any code executed in those
	checks will be aware of executing_string.
d1818 5
a1822 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1824 3
a1826 4
	* makeinfo/xml.c (xml_insert_docbook_image): for Docbook, if paragraph
	is open, use inlinemediaobject instead of mediaobject in an
	informalfigure.
	(xml_insert_element_with_attribute): indent after informalfigure.
d1828 1
a1828 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1830 1
a1830 2
	* makeinfo/xml.c:
	* makeinfo/xml.h: new element INLINEIMAGE.
d1832 2
a1833 2
	* makeinfo/makeinfo.c (cm_image): for XML, use INLINEIMAGE or IMAGE
	depending on paragraph state.
d1835 3
a1837 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1839 1
a1839 2
	* makeinfo/makeinfo.c (cm_image): for Info, enclose text image in
	brackets if @@image is used inline (ie. paragraph is open).
d1841 1
a1841 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1843 1
a1843 2
	* makeinfo/cmds.c (cm_noindent_cmd, cm_indent): start paragraph for
	Info too.
d1845 1
a1845 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1847 1
a1847 2
	* makeinfo/makeinfo.c (cm_image): for HTML, if paragraph is not open,
	enclose image in a <div> block.
d1849 3
a1851 1
2004-02-27  Alper Ersoy  <dirt@@gtk.org>
d1853 2
a1854 1
	* makeinfo/cmds.c (cm_noindent_cmd, cm_indent): insert <p> for HTML.
d1856 1
a1856 1
2004-02-26  Alper Ersoy  <dirt@@gtk.org>
d1858 1
a1858 1
	* util/texinfo.dtd: moved verbatim to &block;.
d1860 1
a1860 1
2004-02-25  Stepan Kasal  <kasal@@ucw.cz>
d1862 2
a1863 4
	A first step towards general cleanup of sectioning macros:
	* doc/texinfo.tex (\genhead): A generalized version of ...
	  (\numhead, \apphead, unnmhead): ... these, which uses ...
	  (\chapheadtype, \unmlevel, \maxseclevel): ... these "variables".
d1865 1
a1865 1
2004-02-25  Karl Berry  <karl@@gnu.org>
d1867 1
a1867 2
	* makeinfo/index.c (cm_printindex): insert cookie in Info output
	for benefit of Info readers.
d1869 3
a1871 1
2004-02-26  Alper Ersoy  <dirt@@gtk.org>
d1873 1
a1873 2
	* makeinfo/insertion.c (end_insertion): removed obsolete Docbook
	indentation work-around.
d1875 2
a1876 1
2004-02-25  Alper Ersoy  <dirt@@gtk.org>
d1878 1
a1878 2
	* makeinfo/insertion.c (cm_author): new function.
	(cm_titlepage_cmds): removed @@author parts.
d1880 1
a1880 1
	* makeinfo/cmds.c: made @@author call cm_author.
d1882 1
a1882 1
2004-02-24  Karl Berry  <karl@@gnu.org>
d1884 3
a1886 4
	* doc/texinfo.txi: avoid duplicate index entries within the same
	node (from Alper): syncodeindex, lines 9627 and 9633 TEXINPUTS,
	lines 14157 and 14202 texinfo-format-buffer 15131 and 15159
	texinfo-format-region 15130 and 15149
d1888 8
a1895 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1897 1
a1897 1
	* makeinfo/makeinfo.h: new variable example_indentation_increment.
d1899 4
a1902 3
	* makeinfo/cmds.c (set_default_indentation_increment): renamed to
	set_example_indentation_increment.
	(cm_exampleindent): call set_example_indentation_increment.
d1904 3
a1906 2
	* makeinfo/insertion.c (begin_insertion, end_insertion): @@example,
	@@display and the like now rely on example_indentation_increment.
d1908 4
a1911 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1913 1
a1913 2
	* makeinfo/insertion.c (begin_insertion, end_insertion): @@float should
	not play with indentation.
d1915 4
a1918 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1920 1
a1920 2
	* makeinfo/float.c (cm_listoffloats): check if we are crossing the
	caption boundaries looking for a space to break at.
d1922 1
a1922 1
2004-02-24  Karl Berry  <karl@@gnu.org>
d1924 3
a1926 2
	* makeinfo/makeinfo.c: TEXINFO_OUTPUT -> TEXINFO_OUTPUT_FORMAT,
	after discussion with tar maintainer.
d1928 4
a1931 1
2004-02-20  Stepan Kasal  <kasal@@ucw.cz>
d1933 3
a1935 2
	* doc/texinfo.tex (\infochapter, \infosection, etc.): these stubs
		of sectioning commands nuked.
d1937 1
a1937 1
2004-02-24  Stepan Kasal  <kasal@@ucw.cz>
d1939 1
a1939 4
	* doc/texinfo.tex (\centerchap): Fixed to work again,
	  don't open group.
	  (\centerparameters): New macro.
	  (\centerchfplain): Nuked.
d1941 1
a1941 4
	The following continues with prosecution of @@setchapterstyle{open}:
	* doc/texinfo.tex (\chfplain): renamed to \chapmacro.
	  (\CHAPFplain): Nuked.
	  (\setchapterstyle): Moved next to its deprecated friends.
d1943 2
a1944 1
2004-02-24  Karl Berry  <karl@@gnu.org>
d1946 1
a1946 1
	* doc/texinfo.tex (\dofloat): start a paragraph.
d1948 1
a1948 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1950 2
a1951 2
	* makeinfo/insertion.c (cm_caption): check if the innermost
	environment is @@float.
d1953 1
a1953 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1955 1
a1955 2
	* info/session.c (info_menu_digit): if the menu entry has a line
	number, go to that line.
d1957 7
a1963 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1965 3
a1967 2
	* info/info.c (main): make sure dir file is not listed for option
	--where.
d1969 3
a1971 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1973 1
a1973 4
	* makeinfo/xml.c (xml_insert_element_with_attribute, xml_add_char)
	(xml_begin_table, xml_end_table, xml_begin_table_item)
	(xml_continue_table_item): separated ITEM and TABLEITEM states to
	handle @@table environments better.
d1975 3
a1977 1
2004-02-24  Alper Ersoy  <dirt@@gtk.org>
d1979 1
a1979 2
	* util/texinfo.dtd: added float and friends, updated tableitem and
	Inline.reference.
d1981 1
a1981 1
2004-02-23  Karl Berry  <karl@@gnu.org>
d1983 2
a1984 2
	* doc/texinfo.txi (Structuring Command Types): slightly more info
	about headings.  Fix other references, too.
d1986 1
a1986 2
	* Makefile.am (EXTRA_DIST): explicitly list every file in djgpp,
	so that the CVS directory is not included in the dist.tar.gz.
d1988 1
a1988 1
2004-02-23  Arnold D. Robbins  <arnold@@skeeve.com>
d1990 1
a1990 2
	* makeinfo/cmds.c (cm_code): For @@samp, using single quotes instead of
	double quotes, to match TeX output more closely.
d1992 3
a1994 1
2004-02-23  Alper Ersoy  <dirt@@gtk.org>
d1996 1
a1996 2
	* makeinfo/index.h: new output_file and entry_number members in
	index_elt struct.
d1998 5
a2002 3
	* makeinfo/index.c (index_add_arg, cm_printindex): rewrote hyperlink
	generation for HTML to avoid duplicate anchors, and to work with
	splitting enabled.
d2004 1
a2004 1
2004-02-20  Alper Ersoy  <dirt@@gtk.org>
d2006 2
a2007 3
	* makeinfo/float.c (cm_listoffloats): create HTML hyperlinks with
	add_word instead of using @@ref to avoid problems with commas in
	captions.
d2009 1
a2009 1
2004-02-20  Alper Ersoy  <dirt@@gtk.org>
d2011 4
a2014 2
	* makeinfo/node.c (cm_node): remove whitespace before the node
	separator sequence.
d2016 8
a2023 1
2004-02-20  Alper Ersoy  <dirt@@gtk.org>
a2024 3
	* makeinfo/sectioning.c (handle_enum_increment): do not increment
	counters for ENUM_SECT_NO heading commands (ie. @@unnumbered,
	@@majorheading, etc.)
d2026 3
a2028 1
2004-02-20  Alper Ersoy  <dirt@@gtk.org>
d2030 3
a2032 2
	* makeinfo/multi.c (multitable_item): unset hsep if item command is
	not @@headitem.
a2033 1
2004-02-19  Karl Berry  <karl@@gnu.org>
d2035 6
a2040 3
	* doc/texinfo.tex: More hyphenation exceptions.
	(\author, \quotation): implement @@author inside
	@@quotation, for attribution purposes.
d2042 1
a2042 1
2004-02-19  Alper Ersoy  <dirt@@gtk.org>
d2044 3
a2046 2
	* makeinfo/cmds.c (cm_exampleindent): fixed paragraph handling after
	@@exampleindent lines.
d2048 1
a2048 1
2004-02-19  Alper Ersoy  <dirt@@gtk.org>
d2050 2
a2051 3
	* makeinfo/index.c (index_add_arg): create an anchor where @@index is
	used in HTML documents.
	(cm_printindex): make index text an hyperlink to the created anchor.
d2053 2
a2054 1
2004-02-19  Alper Ersoy  <dirt@@gtk.org>
d2056 2
a2057 2
	* makeinfo/insertion.c (begin_insertion): skip empty lines following
	@@table, @@ftable, @@vtable and @@itemize lines.
d2059 1
a2059 1
2004-02-18  Karl Berry  <karl@@gnu.org>
d2061 1
a2061 4
	* lib/substring.c,
	* lib/xexit.c,
	* lib/xmalloc.c,
	* lib/system.h: ANSI-fy.  (Other lib files come from gnulib.)
d2063 1
a2063 2
	* doc/texinfo.txi (Definition Commands): describe the argument/@@var
	situation more accurately.
d2065 1
a2065 2
	* doc/texinfo.txi (Definition Commands): explicitly document the
	implicit index entry creation in all cases.
d2067 3
a2069 3
	* doc/texinfo.txi (Printing Indices & Menus, Indices, Predefined
	Indices): remove redundancies, make different
	purposes clear, etc.
d2071 5
a2075 1
2004-02-18  Alper Ersoy  <dirt@@gtk.org>
d2077 1
a2077 5
	* makeinfo/xml.h:
	* makeinfo/xml.c (xml_get_assoc_for_id, xml_associate_title_with_id):
	removed these functions.
	
	* makeinfo/xref.c (cm_xref): do not call xml_get_assoc_for_id.
d2079 2
a2080 2
	* makeinfo/sectioning.c (sectioning_underscore): added xreflabel
	attribute to @@unnumbered for Docbook.
d2082 1
a2082 1
2004-02-18  Alper Ersoy  <dirt@@gtk.org>
d2084 2
a2085 2
	* makeinfo/xref.c (cm_xref): for Docbook, use lowercase ``see'' when
	printing index.
d2087 1
a2087 1
2004-02-18  Alper Ersoy  <dirt@@gtk.org>
d2089 2
a2090 2
	* makeinfo/xml.c (xml_insert_indexentry): removed ``see'' from index
	entries as cm_xref takes care of it.
d2092 2
a2093 1
2004-02-17  Karl Berry  <karl@@gnu.org>
d2095 1
a2095 7
	* doc/info.texi (Help-Int): mention the new line number feature.
	* doc/texinfo.txi (Indices): plural correction.
	* doc/info-stnd.texi (Invoking Info): matche typo.
	(Searching Commands): grammar.
	* info/session.c (info_menu_or_ref_item): need to subtract 1 from
	the actual line number to get to the right place,
	don't really know why.
d2097 1
a2097 4
	* makeinfo/makeinfo.c, info/info.c, util/texindex.c,
	utils/install-info.c, util/texi2dvi: update copyright year to
	2004, and do not mark copyright line for translation, since
	international law says to always use the English word "copyright".
d2099 3
a2101 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2103 1
a2103 3
	* makeinfo/insertion.c (end_insertion): use add_html_block_elt instead
	of add_word for </pre> ending @@example and the like.
	* makeinfo/float.c (cm_listoffloats): use add_html_block_elt for <li>.
d2105 1
a2105 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2107 2
a2108 3
	* makeinfo/insertion.c (begin_insertion): do not expand @@copying for
	HTML and Info too.
	(cm_insert_copying): expand copying_text for all formats here.
d2110 1
a2110 2
	* makeinfo/html.c (html_output_head): use text_expansion for copying
	text.
d2112 2
a2113 1
2004-02-17  Karl Berry  <karl@@gnu.org>
d2115 1
a2115 2
	* doc/texinfo.txi (float): mention @@multitable and @@image
	as typical contents.  From Arnold.
d2117 9
a2125 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2127 7
a2133 3
	* makeinfo/xml.c (xml_insert_element_with_attribute): removed check
	to see if current element contains para before calling xml_start_para,
	as that check is performed in xml_start_para too.
d2135 1
a2135 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2137 12
a2148 1
	* makeinfo/insertion.c (end_insertion): indent float caption.
d2150 2
a2151 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2153 1
a2153 5
	* makeinfo/insertion.c (begin_insertion): for XML and Docbook, do not
	expand @@copying text.  Instead of calling @@anchor, use <float
	name="floatlabel"> for XML.
	(cm_copying): removed ugly copying_text manipulation for Docbook.
	Warn if there is no @@copying before @@insertcopying.
d2155 2
a2156 3
	* makeinfo/xml.c: made floats contain para.
	(xml_start_para): check if current element can contain para.
	(xml_add_char): removed @@copying checks.
d2158 4
a2161 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2163 1
a2163 2
	* makeinfo/insertion.c (end_insertion): if the output format is XML,
	do not call close_insertion_paragraph after @@end menu.
d2165 2
a2166 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2168 2
a2169 2
	* makeinfo/xml.c (xml_insert_element_with_attribute): indentation
	fixes for @@multitable.
d2171 1
a2171 1
2004-02-17  Alper Ersoy  <dirt@@gtk.org>
d2173 1
a2173 3
	* makeinfo/multi.c (do_multitable): remove trailing newline when the
	output format is Docbook or XML, as output_paragraph becomes unusable
	later for xml_indent during select_output_environment.
d2175 1
a2175 1
2004-02-16  Alper Ersoy  <dirt@@gtk.org>
d2177 1
a2177 2
	* makeinfo/cmds.c (cm_bye): do not call flush_output as text appended
	by convert_from_loaded_file may need to play with output_paragraph.
d2179 1
a2179 1
2004-02-16  Alper Ersoy  <dirt@@gtk.org>
d2181 1
a2181 6
	* makeinfo/xml.c (xml_end_document): insert newline after </texinfo>
	only if indentation is disabled (otherwise xml_indent takes care of
	the newline.)
	(xml_insert_indexentry): disable warnings when executing implicit
	@@xref commands  for Docbook, otherwise makeinfo will warn about
	missing punctuation.
d2183 4
a2186 1
2004-02-16  Alper Ersoy  <dirt@@gtk.org>
d2188 1
a2188 2
	* makeinfo/insertion.c (begin_insertion): eat one newline after
	@@xml/@@docbook blocks for proper indentation.
d2190 1
a2190 1
2004-02-16  Alper Ersoy  <dirt@@gtk.org>
d2192 2
a2193 2
	* makeinfo/cmds.c (cm_center): fixed line wrapping after the @@center
	command.
d2195 1
a2195 1
2004-02-15  Alper Ersoy  <dirt@@gtk.org>
d2197 3
a2199 2
	* makeinfo/xml.c (xml_begin_document): disabled warnings around the
	implicit register_delayed_write("@@documentencoding") call.
d2201 2
a2202 1
2004-02-15  Alper Ersoy  <dirt@@gtk.org>
d2204 2
a2205 3
	* makeinfo/insertion.c (begin_insertion, end_insertion): when handling
	@@xml, @@html and @@docbook blocks, do not touch para elements, and keep
	whitespace as-is.
d2207 1
a2207 1
2004-02-15  Alper Ersoy  <dirt@@gtk.org>
d2209 2
a2210 1
	* makeinfo/xml.h: made xml_keep_space extern.
d2212 2
a2213 1
2004-02-15  Alper Ersoy  <dirt@@gtk.org>
d2215 5
a2219 2
	* makeinfo/cmds.c (cm_noindent_cmd, cm_indent): implicitly start
	para element for Docbook and XML.
d2221 1
a2221 1
2004-02-15  Karl Berry  <karl@@gnu.org>
d2223 6
a2228 5
	* doc/texinfo.tex (\hyphenation): add more hyphenation exceptions,
	gleaned from the log in TUGboat.
	* doc/info-stnd.texi: document new option --where.
	* info/info.c (main): in print_where_p case, ensure we don't try
	to print NULL.
d2230 2
a2231 1
2004-02-14  Karl Berry  <karl@@gnu.org>
d2233 1
a2233 10
	* doc/texinfo.tex (\addtokens): had two identical definitions,
	remove one.
	(\maketoks): no space token after |ENDTOKS|,
	although I guess it hasn't mattered.
	(\entry): make clear what is the argument to
	\pdfgettoks and what is output.
	(\appendtomacro): use our own token registers,
	for safety.
	(\listoffloatsdoentry): fully expand the page
	number, and don't expand the lof text.
d2235 1
a2235 1
2004-02-14  Alper Ersoy  <dirt@@gtk.org>
d2237 1
a2237 3
	* makeinfo/cmds.c (cm_strong):
	* makeinfo/xml.c (xml_begin_index): cast output_paragraph to char, to
	avoid warnings with -pedantic.
d2239 2
a2240 1
2004-02-13  Alper Ersoy  <dirt@@gtk.org>
d2242 1
a2242 33
	* makeinfo/cmds.c:
	* makeinfo/cmds.h:
	* makeinfo/defun.c:
	* makeinfo/defun.h:
	* makeinfo/files.c:
	* makeinfo/files.h:
	* makeinfo/float.c:
	* makeinfo/float.h:
	* makeinfo/footnote.c:
	* makeinfo/footnote.h:
	* makeinfo/html.c:
	* makeinfo/html.h:
	* makeinfo/index.c:
	* makeinfo/index.h:
	* makeinfo/insertion.c:
	* makeinfo/insertion.h:
	* makeinfo/lang.c:
	* makeinfo/lang.h:
	* makeinfo/macro.c:
	* makeinfo/macro.h:
	* makeinfo/makeinfo.c:
	* makeinfo/makeinfo.h:
	* makeinfo/multi.c:
	* makeinfo/node.c:
	* makeinfo/node.h:
	* makeinfo/sectioning.c:
	* makeinfo/sectioning.h:
	* makeinfo/toc.c:
	* makeinfo/toc.h:
	* makeinfo/xml.c:
	* makeinfo/xml.h:
	* makeinfo/xref.c:
	* makeinfo/xref.h: protoized functions.
d2244 2
a2245 1
2004-02-13  Alper Ersoy  <dirt@@gtk.org>
d2247 1
a2247 1
	* makeinfo/multi.h: new file.
d2249 1
a2249 1
2004-02-13  Karl Berry  <karl@@gnu.org>
d2251 1
a2251 4
	* doc/texinfo.tex (\caption): make \long.
	* doc/texinfo.txi (Nodes): mention that changing node names is bad.
	(caption shortcaption, listoffloats): write these, finishing the
	first cut at @@float documentation.
d2253 1
a2253 1
2004-02-12  Alper Ersoy  <dirt@@gtk.org>
d2255 1
a2255 2
	* makeinfo/cmds.c (cm_verb): end @@verb only if delimiter is followed
	by a closing brace.
d2257 1
a2257 1
2004-02-12  Alper Ersoy  <dirt@@gtk.org>
d2259 3
a2261 2
	* makeinfo/lang.c (cm_accent_generic): warn if accented character is
	whitespace.
d2263 1
a2263 1
2004-02-12  Alper Ersoy  <dirt@@gtk.org>
d2265 2
a2266 2
	* makeinfo/insertionc. (end_insertion): decrement current_indent
	only if the output format is Info.
d2268 1
a2268 1
2004-02-12  Alper Ersoy  <dirt@@gtk.org>
d2270 2
a2271 5
	* makeinfo/insertion.c (end_insertion): adjusted caption styles for
	label and type conditions.
	(begin_insertion, end_insertion): indent first paragraphs inside
	@@float, even if first paragraph in a chapter.  Increment/decrement
	current_indent.
d2273 4
a2276 1
2004-02-12  Alper Ersoy  <dirt@@gtk.org>
d2278 2
a2279 1
	* makeinfo/tests/defxcond: look for `--' instead of `-'.
d2281 2
a2282 1
2004-02-12  Karl Berry  <karl@@gnu.org>
d2284 2
a2285 1
	* makeinfo/float.c (cm_listoffloats): change warning wording.
d2287 4
a2290 1
2004-02-11  Karl Berry  <karl@@gnu.org>
d2292 3
a2294 7
	* doc/texinfo.tex (\dofloat): initialize caption macros here, not
		globally.
	(\Efloat): rewrite for more consistent caption
	line, matching documentation.
	(\appendtomacro): new macro.
	(\currentparindent): this \newdimen was not used; removed.
	* doc/texinfo.txi (float): continue documenting.
d2296 4
a2299 1
	* makeinfo/files.c (register_delayed_write): change wording of msgs.
d2301 2
a2302 1
2004-02-10  Karl Berry  <karl@@gnu.org>
d2304 3
a2306 3
	* makeinfo/defun.c: --- (which gets reduced to --)
	instead of -- (which gets reduced to -).
	Report from Akim Demaille <akim@@epita.fr>, 09 Feb 2004 18:06:29 +0100.
d2308 2
a2309 1
2004-02-09  Karl Berry  <karl@@gnu.org>
d2311 1
a2311 5
	* doc/texinfo.tex (\pickupwholefraction): allow the fraction to be
	an integer without a decimal point, like `1'.  Report from: Dumas
	Patrice <dumas@@centre-cired.fr>, 9 Feb 2004 16:46:30 +0100.
	* makeinfo/multi.c (setup_multitable_parameters): compute width
	and pass it, for clarity.
d2313 2
a2314 1
2004-02-07  Alper Ersoy  <dirt@@gtk.org>
d2316 9
a2324 2
	* makeinfo/insertion.c (cm_insert_copying): insert double newlines
	instead of one in non XML outputs.
d2326 1
a2326 1
2004-02-07  Alper Ersoy  <dirt@@gtk.org>
d2328 1
a2328 2
	* makeinfo/cmds.c (cm_code): do not decrement in_fixed_width_font as
	it gets decremented elsewhere.
d2330 3
a2332 1
2004-02-07  Alper Ersoy  <dirt@@gtk.org>
d2334 2
a2335 2
	* makeinfo/makeinfo.c (next_nonwhitespace_character): also check
	global input_text since filestack does not contain it.
d2337 3
a2339 1
2004-02-07  Alper Ersoy  <dirt@@gtk.org>
d2341 1
a2341 2
	* makeinfo/makeinfo.c (next_nonwhitespace_character): go through the
	whole filestack looking for the next character.
d2343 19
a2361 1
2004-02-06  Karl Berry  <karl@@gnu.org>
d2363 4
a2366 3
	* doc/texinfo.tex (\indexnofonts): define \bullet .. \result, so
	they can be used in @@?index commands.
	Report from: Akim Demaille <akim@@epita.fr>, 06 Feb 2004 13:34:15 +0100.
d2368 1
a2368 1
2004-02-05  Karl Berry  <karl@@gnu.org>
d2370 2
a2371 6
	* makeinfo/xref.c (add_xref_punctuation): if we insert anything,
	make it a period.
	(cm_xref): include command name in error message.
	* doc/texinfo.txi (ref): mention generating a period, if needed.
	Too many complaints when we made a warning for @@ref not followed
	by period or comma.
d2373 1
a2373 1
2004-02-05  Alper Ersoy  <dirt@@gtk.org>
d2375 3
a2377 2
	* info/info-utils.c (info_parse_node): look for ``(line '' instead of
	skipping any non-digit characters. 
d2379 2
a2380 1
2004-02-05  Alper Ersoy  <dirt@@gtk.org>
d2382 3
a2384 2
	* makeinfo/index.c (insert_index_output_line_no): made ``(line NNN)'' not
	translatable for Info output.
d2386 10
a2395 1
2004-02-03  Alper Ersoy  <dirt@@gtk.org>
d2397 2
a2398 1
	* makeinfo/makeinfo.c (flush_output): increment node_line_number too.
d2400 3
a2402 2
	* makeinfo/makeinfo.h: new variable node_line_number to hold the last
	output line number the current node.
d2404 1
a2404 2
	* makeinfo/nodes.c (cm_node): reset node_line_number just before the
	node start cookie.
d2406 4
a2409 5
	* makeinfo/files.h: new node member in DELAYED_WRITE struct.
	* makeinfo/files.c (register_delayed_write): save current node name if
	there's one.
	(handle_delayed_writes): adjust line numbers in indices only if the
	output is plaintext, or the index entry appears in the changed node.
d2411 2
a2412 3
	* makeinfo/index.c (index_add_arg, cm_printindex): use
	node_line_number instead of output_line_number if the output is an
	Info file.
d2414 3
a2416 1
2004-02-03  Alper Ersoy  <dirt@@gtk.org>
d2418 1
a2418 1
	* info/info-utils.h: new line_number member in REFERENCE struct.
d2420 1
a2420 3
	* info/info-utils.c (info_parse_node): parse (line ...) strings
	from menu items.
	(info_references_internal): save parsed line number in the entry.
d2422 2
a2423 2
	* info/session.c (info_menu_of_ref_item): if selected entry has a line
	number associated with it, jump to that line after updating window.
d2425 1
a2425 1
2004-02-02  Alper Ersoy  <dirt@@gtk.org>
d2427 1
a2427 6
	* makeinfo/xml.c (add_xref_punctuation): new function that inserts
	necessary punctuation after @@ref and @@pxref commands.
	(cm_xref): call add_xref_punctuation when multiple parameters are
	given, make use of next_nonwhitespace_character function in the END
	case.
	(cm_ref): do not call cm_xref in the END case.
d2429 4
a2432 1
2004-02-02  Alper Ersoy  <dirt@@gtk.org>
d2434 2
a2435 1
	* makeinfo/makeinfo.c (next_nonwhitespace_character): new function.
d2437 3
a2439 1
2004-02-02  Alper Ersoy  <dirt@@gtk.org>
d2441 2
a2442 2
	* makeinfo/cmds.c (cm_code): call xml_start_para instead of tweaking
	in_fixed_width_font, and use entities rather than quotes.
d2444 1
a2444 1
2004-02-02  Arnold D. Robbins  <arnold@@skeeve.com>
d2446 1
a2446 6
	* makeinfo/cmds.c (cm_TeX, cm_LaTeX): Add docbook support.
	(cm_code): Add opening and closing single quotes for @@samp in the
	Docbook output.
	* makeinfo/xml.c (xml_begin_document): Add `tex' and `latex' entities.
	* makeinfo/xref.c (cm_xref): Add `See' and `see' strings for docbook
	and xml.
d2448 5
a2452 1
2004-01-31  Alper Ersoy  <dirt@@gtk.org>
d2454 2
a2455 1
	* makeinfo/makeinfo.c (main): fixed ``--option: makeinfo'' messages.
d2457 2
a2458 1
2004-01-31  Alper Ersoy  <dirt@@gtk.org>
d2460 1
a2460 2
	* makeinfo/cmds.c (cm_TeX, cm_LaTeX): really ignore the arguments as
	the warning suggests.
d2462 12
a2473 1
2004-01-31  Alper Ersoy  <dirt@@gtk.org>
d2475 4
a2478 1
	* makeinfo/cmds.c (cm_TeX, cm_LaTeX): warn if there are any arguments.
d2480 7
a2486 1
2004-01-31  Alper Ersoy  <dirt@@gtk.org>
d2488 1
a2488 2
	* makeinfo/files.c (pop_path_from_include_path): do not mock with
	include_files_path address directly, as it confuses realloc.
d2490 10
a2499 1
2004-01-31  Alper Ersoy  <dirt@@gtk.org>
d2501 1
a2501 1
	* makeinfo/makeinfo.c (main, usage): new --output-indent option.
d2503 1
a2503 1
2004-01-31  Alper Ersoy  <dirt@@gtk.org>
d2505 1
a2505 2
	* makeinfo/xml.c (xml_add_char): break long lines in paragraphs
	when the output format is Docbook.
d2507 2
a2508 1
2004-01-31  Alper Ersoy  <dirt@@gtk.org>
d2510 1
a2510 3
	* makeinfo/files.c (prepend_to_include_path, append_to_include_path)
	(pop_path_from_include_path): new functions to manipulate
	include_files_path.
d2512 1
a2512 4
	* makeinfo/makeinfo.c (convert_from_file): prepend the loaded file's
	path to include_files_path in order to make relative include files to
	be found, then remove afterwards.
	(main): make use of new functions for -I and -P options. 
d2514 7
a2520 1
2004-01-30  Alper Ersoy  <dirt@@gtk.org>
d2522 2
a2523 1
	* util/texinfo.dtd: added exdent element.
d2525 1
a2525 1
2004-01-29  Alper Ersoy  <dirt@@gtk.org>
d2527 1
a2527 2
	* makeinfo/makeinfo.c (convert_from_loaded_file): call
	xml_begin_document after opening the output stream for writing.
d2529 2
a2530 3
	* makeinfo/files.c (register_delayed_write): use delayed_command
	instead of command in messages as it may differ from the actual
	command name.  Check the usability of current_output_filename.
d2532 1
a2532 1
2004-01-28  Karl Berry  <karl@@gnu.org>
d2534 6
a2539 2
	* doc/texinfo.txi (HTML Splitting): describe when two nodes are
		written to one output file.
d2541 1
a2541 1
	* doc/texinfo.tex (\TeX): \edef using original \TeX definition.
d2543 2
a2544 1
2004-01-28  Alper Ersoy  <dirt@@gtk.org>
d2546 1
a2546 3
	* makeinfo/defun.c (process_defun_args, defun_internal):
	* makeinfo/insertion.c (begin_insertion, end_insertion): execute XML
	only blocks for Docbook also.
d2548 2
a2549 4
	* makeinfo/xml.c: added Docbook elements for definition commands.
	(xml_begin_def_term): for Docbook, generate an Info-like @@defun line.
	(xml_insert_element_with_attribute): do not indent DEFINITION and
	DEFINITIONTERM when the output is Docbook.
d2551 1
a2551 1
2004-01-25  Alper Ersoy  <dirt@@gtk.org>
d2553 2
a2554 2
	* makeinfo/xml.c: changed majorheading and the like with bridgehead
	for Docbook.
d2556 1
a2556 2
	* makeinfo/sectioning.c (sectioning_underscore): do not start sections
	with @@majorheading and the like, only insert title.
d2558 2
a2559 1
2004-01-25  Alper Ersoy  <dirt@@gtk.org>
d2561 10
a2570 2
	* makeinfo/xml.c:
	* makeinfo/xml.h: new element EXDENT.
d2572 4
a2575 2
	* makeinfo/cmds.c (cm_comment): save the paragraph state.
	(cm_exdent): use EXDENT element for XML, LINEANNOTATION for Docbook.
d2577 1
a2577 2
	* makeinfo/html.c (html_output_head):
	* makeinfo/xml.c (xml_begin_document): erase output_paragraph.
d2579 1
a2579 4
	* makeinfo/insertion.c (begin_insertion): canonize whitespace around
	copying text.
	(cm_insert_copying): comment fixes.  Do not append newline if the
	output is Docbook.
d2581 2
a2582 1
	* makeinfo/makeinfo.c (close_paragraph): return if Docbook too.
d2584 3
a2586 2
	* makeinfo/sectioning.c (sectioning_underscore): removed newline from
	the end of titles.
d2588 2
a2589 2
	* makeinfo/lang.c (cm_documentencoding): insert encoding attribute 
	into XML and Docbook prologs when handling delayed writes.
d2591 2
a2592 8
	* makeinfo/xml.c (xml_begin_document): register a delayed write for
	@@documentencoding when writing the prolog.
	(xml_end_para): removed docbook checks.
	(xml_insert_element_with_attribute): skip indentation if
	xml_keep_space is true, indent after table element.  When the output
	is Docbook, do not insert xml:space attribute, and do not remove from
	the end of group element and keep_space blocks.
	(xml_add_char): join lines in a paragraph for Docbook too.
d2594 1
a2594 1
2004-01-24  Alper Ersoy  <dirt@@gtk.org>
d2596 2
a2597 2
	* makeinfo/multi.c (out_char): simple use add_char for XML and Docbook
	outputs too.
d2599 2
a2600 2
	* makeinfo/makeinfo.c (close_paragraph): just return when the output
	format is XML.
d2602 2
a2603 1
	* makeinfo/makeinfo.h: new variable xml_indendation_increment.
d2605 1
a2605 3
	* makeinfo/cmds.c (cm_comment): insert a newline before the comment,
	if there is not already one.
	(cm_noindent_cmd): skip whitespace after the command.
d2607 2
a2608 2
	* makeinfo/xml.c:
	* makeinfo/xml.h: new element DETAILMENU.
d2610 1
a2610 11
	* makeinfo/xml.c: menuentry and menucomment should not contain para.
	(xml_indent, xml_indent_end_para): use xml_indentation_increment
	value, and indent only if it is a positive number.
	(xml_start_para): apply indentation for XML output too.
	(xml_end_para): add newline if xml_indentation_increment is positive.
	(xml_insert_element_with_attribute): major indentation fixes.
	(xml_start_menu_entry): skip whitespace at the start of menu comments.
	(xml_add_char): fixed paragraph detection in menus, and added a check
	to detect multiple whitespaces after newline in menu comments.  Do not
	return when inside multitable to avoid concatenation of two lines
	without a space char in between.
d2612 1
a2612 7
	* makeinfo/insertion.c (cm_insert_copying, cm_lisp, cm_smalllisp)
	(cm_format, cm_smallformat, cm_display, cm_smalldisplay, cm_example)
	(cm_smallexample): do not insert newline when the output is XML.
	(end_insertion): ditto for the above mentioned block commands and
	@@group.  Do not increment in_fixed_font for XML output.
	(begin_insertion, end_insertion): enclose @@detailmenu in a detailmenu
	element.
d2614 2
a2615 2
	* util/texinfo.dtd: added detailmenu, and fixed menucomment and
	tableitem definitions.
d2617 1
a2617 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2619 1
a2619 2
	* util/Makefile.am: substituted catalog in EXTRA_DIST with catalog.in,
	and added catalog to CLEANFILES.
d2621 1
a2621 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2623 1
a2623 1
	* makeinfo/files.h: new input_filename member in delayed_write struct.
d2625 4
a2628 4
	* makeinfo/files.c (register_delayed_write): added input_filename to
	saved variables, and adjusted line_number saving.
	(handle_delayed_writes): set input_filename and line_number for
	correct warning and error messages.
d2630 1
a2630 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2632 2
a2633 3
	* makeinfo/float.c (cm_listoffloats):
	* makeinfo/index.c (cm_printindex): decrement line_number only if
	not handling delayed writes.
d2635 3
a2637 1
	* makeinfo/float.c (float_type_exists): check if float has a label.
d2639 1
a2639 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2641 3
a2643 1
	* makeinfo/makeinfo.c (main): updated copyright year in --version text.
d2645 2
a2646 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2648 1
a2648 1
	* makeinfo/tests/Makefile.am: commented top2.texi to fix distcheck.
d2650 5
a2654 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2656 2
a2657 2
	* makeinfo/xml.c (xml_begin_document): use PUBLIC id for TexinfoML
	instead of SYSTEM.
d2659 1
a2659 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2661 2
a2662 1
	* makeinfo/Makefile.am: removed texinfo.dtd and texinfo.xsl and ...
d2664 1
a2664 1
	* util/Makefile.am: added here.
d2666 1
a2666 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2668 1
a2668 1
	* utils/catalog.in: catalog file for texinfo.dtd.
d2670 1
a2670 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2672 3
a2674 2
	* makeinfo/texinfo.dtd:
	* makeinfo/texinfo.xsl: moved to ...
d2676 1
a2676 2
	* utils/texinfo.dtd:
	* utils/texinfo.xsl: here.
d2678 7
a2684 1
2004-01-23  Alper Ersoy  <dirt@@gtk.org>
d2686 3
a2688 2
	* makeinfo/texinfo.dtd: added ordm and ordf entities and dmn element.
	updated indexterm location in tables.
d2690 5
a2694 1
2004-01-22  Karl Berry  <karl@@gnu.org>
d2696 1
a2696 7
	* doc/texinfo.tex (\dofloat): handle empty float type and empty
	float label separately, matching makeinfo behavior.
	* doc/texinfo.txi (Floats): new section, not yet fully written.
	(Special Displays): new chapter to hold it.
	(Footnotes, Images): move these sections to the new chapter.
	(@@@@-Command Summary): list new commands.
	* NEWS: mention new commands here too.
d2698 1
a2698 1
2004-01-21  Alper Ersoy  <dirt@@gtk.org>
d2700 1
a2700 2
	* makeinfo/xml.c (xml_begin_index): move data to a temporary location
	for delayed use and insert back when handling delayed writes.
d2702 1
a2702 2
	* makeinfo/index.c (cm_printindex): call xml_begin_index when not
	handling delayed writes too.
d2704 1
a2704 1
2004-01-19  Karl Berry  <karl@@gnu.org>
d2706 3
a2708 1
	* doc/texinfo.tex: doc fix.
d2710 134
a2843 1
2004-01-18  Karl Berry  <karl@@gnu.org>
d2845 2
a2846 5
	* doc/texinfo.tex (\commondummies): dummify @@tie and remaining
	@@<char> commands.
	(\tocindent): reduce to 15pt to match \defaultparindent.
	(\setref): use XR as control sequence prefix
	instead of just X; seems nicer.  Change calls.
d2848 25
a2872 7
	Finish implementing @@listoffloats:
	(\xrdef): keep lists of each float type.
	(\dofloat): save the floattype in the aux file.
	(\Efloat): write the lof text to the aux file.
	(\iffloat, \doiffloat, \listoffloats,
	\listoffloatsdo, \listoffloatsentry): new macros.
	* bootstrap: autoheader should come after aclocal, I think.
d2874 1
a2874 1
2004-01-17  Karl Berry  <karl@@gnu.org>
d2876 1
a2876 5
	* doc/texinfo.tex (\doitemize): rename from \itemizey.
	(\itemizeitem): do not set \parskip=0 if the last
	thing was a \nobreak (e.g., from \sectionheading).
	Report from: Jesper Harder <harder@@ifa.au.dk>, 
	17 Jan 2004 22:03:51 +0100.
d2878 1
a2878 3
	* doc/texinfo.txi (email): no angle brackets in TeX output.
	Report from: Jesper Harder <harder@@ifa.au.dk>,
	17 Jan 2004 21:03:21 +0100.
d2880 1
a2880 1
2004-01-17  Alper Ersoy  <dirt@@gtk.org>
d2882 2
a2883 2
	* makeinfo/float.c (cm_listoffloats): Prefixed captions with
	float_type.  For HTML, used an <ul> block.  
d2885 1
a2885 1
2004-01-17  Alper Ersoy  <dirt@@gtk.org>
d2887 1
a2887 2
	* info/info.c (main, info_short_help): new option -w, --where,
	--location that prints the physical location of Info file.
d2889 1
a2889 1
2004-01-17  Alper Ersoy  <dirt@@gtk.org>
d2891 2
a2892 3
	* makeinfo/defun.c (defun_internal):
	* makeinfo/insertion.c (end_insertion): enclose paragraphs in @@def
	blocks in a blockquote element for indentation in the HTML output.
d2894 1
a2894 1
2004-01-17  Alper Ersoy  <dirt@@gtk.org>
d2896 2
a2897 5
	* makeinfo/html.c (insert_html_tag_with_attribute): new function.
	(insert_html_tag): only call insert_html_tag_with_attribute with
	NULL attribute string and return.
	(push_tag, pop_tag): keep the element attributes in stack too.
	(html_output_head): fixed span.roman in the default CSS.
d2899 1
a2899 1
	* makeinfo/html.h: new attribs member in hstack struct.
d2901 1
a2901 2
	* makeinfo/cmds.c (cm_dmn, cm_code, cm_sc, cm_r): use
	insert_html_tag_with_attribute for setting element class.
d2903 1
a2903 1
2004-01-15  Karl Berry  <karl@@gnu.org>
d2905 3
a2907 2
	* texinfo.tex (\readauxfile): \ must have catcode other to
	handle \ in node/section names.
d2909 1
a2909 1
2004-01-16  Alper Ersoy  <dirt@@gtk.org>
d2911 3
a2913 1
	* makeinfo/toc.c (cm_contents): fixed Docbook element stack underflow.
d2915 3
a2917 2
	* makeinfo/xml.c (xml_insert_indexterm): set xml_dont_touch_items_defs
	for only XML output.
d2919 1
a2919 1
2004-01-14  Simon Josefsson <jas@@extundo.com>
d2921 2
a2922 1
	* util/gendocs.sh: new option --html.
d2924 1
a2924 1
2004-01-14  Alper Ersoy  <dirt@@gtk.org>
d2926 4
a2929 3
	* makeinfo/html.c (rollback_empty_tag): rewrote to also identify empty
	elements with attributes.
	(insert_html_tag): increment and decrement in_html_elt.
d2931 2
a2932 3
	* makeinfo/index.c (index_add_arg): do not call flush_output for xml
	and html outputs as they do not need an accurate output line number
	tracking, and flush_output makes rollback_empty tag useless.
d2934 3
a2936 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2938 1
a2938 5
	* makeinfo/cmds.c (cm_code): increment and decrement in_html_elt when
	inserting the class attribute to avoid space char being replaced with
	entities.
	(cm_r, cm_dmn): use insert_string instead of add_word for the class
	attribute.
d2940 5
a2944 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2946 1
a2946 2
	* makeinfo/cmds.c (cm_r): changed add_word_args with insert_html_tag,
	and changed inline style with a class attribute.
d2948 4
a2951 3
	* makeinfo/html.c (insert_html_tag): when the current element is the
	same with the last in the stack, do not return if it's span.
	(html_output_head): new CSS class roman (for @@r.)
d2953 1
a2953 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2955 1
a2955 2
	* makeinfo/node.c (cm_node): reset output_position when closing the
	current HTML output file.
d2957 4
a2960 2
	* makeinfo/files.c (handle_delayed_writes): fixed position updating of
	the next writes.
d2962 1
a2962 1
2004-01-13  Karl Berry  <karl@@gnu.org>
d2964 1
a2964 2
	* makeinfo/files.c (register_delayed_write): reword warning, and
	only warn if writing to stdout, not /dev/null.
d2966 1
a2966 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2968 2
a2969 2
	* makeinfo/node.c (glean_node_from_menu): removed unnecessary
	line_number incrementation.
d2971 1
a2971 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2973 1
a2973 4
	* makeinfo/float.c (cm_listoffloats): 
	* makeinfo/index.c (cm_printindex): decrement line_number just after
	get_rest_of_line to make messages refer to the correct line,
	re-increment it just before returning.
d2975 3
a2977 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2979 2
a2980 2
	* makeinfo/node.c (cm_node): fixed prev, next, up nodes defaulting
	code to not make use of @@menus after @@bye.
d2982 3
a2984 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2986 2
a2987 3
	* makeinfo/index.c (cm_printindex): handle @@printindex immediately
	if the output format is Docbook, rather than waiting for delayed
	writes.
d2989 2
a2990 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2992 1
a2992 2
	* makeinfo/float.c (cm_listoffloats): insert xml elements also for
	docbook.
d2994 1
a2994 1
2004-01-13  Alper Ersoy  <dirt@@gtk.org>
d2996 2
a2997 3
	* makeinfo/float.c (float_type_exists): new function that checks if a
	specific type of @@float is previously used.
	(cm_listoffloats): warn if requested float_type is unknown.
d2999 2
a3000 1
2004-01-12  Alper Ersoy  <dirt@@gtk.org>
d3002 10
a3011 2
	* makeinfo/files.c (register_delayed_write): warn if delayed write is
	requested when the output file is not seekable.
d3013 1
a3013 1
2004-01-10  Karl Berry  <karl@@gnu.org>
d3015 2
a3016 2
	* doc/texinfo.txi (Using Include Files): mention the possibility
	of no nodes in an include file.  From Bob.
d3018 3
a3020 1
2004-01-10  Simon Josefsson  <jas@@extundo.com>
d3022 2
a3023 1
	* makeinfo/node.c (cm_node): Only print ",\n" at correct places.
d3025 1
a3025 1
2004-01-10  Alper Ersoy  <dirt@@gtk.org>
d3027 1
a3027 2
	* makeinfo/html.c (html_output_head): use insert_string instead of
	add_word for css inclusion to avoid reformatting.
d3029 2
a3030 1
2004-01-09  Alper Ersoy  <dirt@@gtk.org>
d3032 6
a3037 2
	* makeinfo/xml.c:
	* makeinfo/xml.h: new variable xml_dont_touch_items_defs.
d3039 1
a3039 3
	* makeinfo/cmds.c (cm_comment, cm_sp):
	* makeinfo/xml.c (xml_insert_indexterm): set and unset
	xml_dont_touch_items_defs.
d3041 2
a3042 3
	* makeinfo/xml.c (xml_insert_element_with_attribute)
	(xml_add_char): do not do anything about @@deffnx and @@itemx commands
	if xml_dont_touch_items_defs is non-zero.
d3044 4
a3047 1
2004-01-09  Alper Ersoy  <dirt@@gtk.org>
d3049 1
a3049 1
	* info/Makefile.am: define INFODIR2 that points to $datadir/info.
d3051 2
a3052 2
	* info/info.c (main): prepend INFODIR2 to infopath, if defined and if
	not the same with INFODIR.
d3054 4
a3057 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3059 1
a3059 2
	* makeinfo/index.c (cm_printindex): adapted to delayed writing,
	decreased the space between the columns of plaintext output.
d3061 1
a3061 2
	* makeinfo/float.c (cm_listoffloats): disabled menu header checks,
	synced column_width with @@printindex.
d3063 2
a3064 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3066 5
a3070 1
	* makeinfo/index.c: moved INDEX_ELT and INDEX_ALIST typedefs to ...
d3072 2
a3073 1
	* makeinfo/index.h: here
d3075 1
a3075 5
	* makeinfo/files.h:
	* makeinfo/files.c (register_delayed_write): save line number in input
	document that the calling command is in.
	(handle_delayed_writes): adjust byte offsets in tag table and output
	line numbers in all of the indices, 
d3077 3
a3079 2
	* makeinfo/makeinfo.c (convert_from_loaded_file): when finished, write
	the tag table after handling delayed writes.
d3081 3
a3083 2
	* makeinfo/node.c (write_tag_table): accept a filename argument, and
	open the file in append mode.
d3085 2
a3086 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3088 1
a3088 2
	* makeinfo/float.c (add_new_float):
	* makeinfo/float.h: save the line number @@float command used.
d3090 3
a3092 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3094 2
a3095 2
	* makeinfo/toc.c (cm_contents): moved the call to html_output_head
	to ...
d3097 1
a3097 1
	* makeinfo/files.c (register_delayed_write): here.
d3099 2
a3100 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3102 1
a3102 2
	* makeinfo/float.c (cm_listoffloats): adapted for delayed writing,
	and slightly fixed formatting with no_headers.
d3104 3
a3106 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3108 2
a3109 2
	* makeinfo/cmds.c: use cm_contents for @@shortcontents
	and @@summarycontents too.
d3111 2
a3112 2
	* makeinfo/files.c (register_delayed_write)
	(handle_delayed_writes): new functions.
d3114 3
a3116 2
	* makeinfo/files.h: new delayed_write struct and
	handling_delayed_writes variable.
d3118 14
a3131 12
	* makeinfo/makeinfo.c (insert): use whitespace macro instead of
	testing characters manually.
	(convert_from_loaded_file): call handle_delayed_writes when finished.
	
	* makeinfo/toc.c (contents_update_html, contents_update_info)
	(shortcontents_update_html, shortcontents_update_info): changed file
	read/writes with insert and insert_string.
	(rewrite_top, contents_update, shortcontents_update)
	(toc_update, cm_shortcontents): removed functions.
	(cm_contents): for HTML and Info, only call register_delayed_write if
	handling_delayed_writes is not true.  Call contents_update_html and
	other variants according to output format and command name.
d3133 2
a3134 1
	* makeinfo/toc.h: removed obsolete variables and functions.
d3136 5
a3140 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3142 1
a3142 5
	* makeinfo/index.c (index_add_arg): keep line number of the index
	entry where it appears in the output.
	(insert_index_output_line_no): new function.
	(cm_printindex): call insert_index_output_line_no for info and
	plaintext outputs.
d3144 1
a3144 1
2004-01-08  Alper Ersoy  <dirt@@gtk.org>
d3146 1
a3146 1
	* makeinfo/makeinfo.h: new variable output_line_number.
d3148 6
a3153 2
	* makeinfo/makeinfo.c (flush_output): keep number of lines in the
	flushed data, in output_line_number variable.
d3155 1
a3155 1
2004-01-07  Alper Ersoy  <dirt@@gtk.org>
d3157 2
a3158 2
	* makeinfo/float.c (cm_listoffloats): when there is no caption, do not
	insert space between the float number and the colon.
d3160 2
a3161 1
2004-01-07  Alper Ersoy  <dirt@@gtk.org>
d3163 1
a3163 2
	* makeinfo/float.c (cm_listoffloats): use shorttitle only if it's
	defined.
d3165 2
a3166 1
2004-01-07  Alper Ersoy  <dirt@@gtk.org>
d3168 1
a3168 1
	* makeinfo/cmds.c: new command @@shortcaption.
d3170 4
a3173 2
	* makeinfo/xml.c:
	* makeinfo/xml.h: new element SHORTCAPTION.
d3175 1
a3175 4
	* makeinfo/insertion.c (cm_caption): insert CAPTION or SHORTCAPTION
	according to command.
	(begin_insertion): read @@shortcaption too.  Fixed XML floatpos
	contents.
d3177 1
a3177 2
	* makeinfo/float.h: added shorttitle and position to the float_elt
	struct.
d3179 1
a3179 4
	* makeinfo/float.c (add_new_float): accept a shorttitle argument.
	(current_float_shorttitle, current_float_position): new functions.
	(cm_listoffloats): if title is too long to fit into a line, try
	shorttitle.
d3181 1
a3181 1
2004-01-07  Alper Ersoy  <dirt@@gtk.org>
d3183 2
a3184 1
	* makeinfo/float.h: new variable node_has_listoffloats.
d3186 4
a3189 2
	* makeinfo/float.c (cm_listoffloats): insert menu header string only
	if node_has_listoffloats is not true.
d3191 2
a3192 1
	* makeinfo/node.c (cm_node): reset node_has_listoffloats.
d3194 1
a3194 1
2004-01-06  Alper Ersoy  <dirt@@gtk.org>
d3196 1
a3196 5
	* makeinfo/insertion.c (begin_insertion): fixed a thinko in @@float
	arguments parsing code, regarding string termination; changed manual
	input text skipping with skip_whitespace_and_newlines for proper
	line_number handling; and changed magic number 10 with sizeof for
	improved readability.
d3198 2
a3199 2
	* makeinfo/float.c (cm_listoffloats): end paragraph before the menu
	header.  Use add_html_block_elt to insert <div> element.
d3201 1
a3201 1
2004-01-06  Alper Ersoy  <dirt@@gtk.org>
d3203 4
a3206 2
	* makeinfo/crossrefs.c:
	* makeinfo/crossrefs.h: moved to ...
d3208 2
a3209 2
	* makeinfo/xref.c:
	* makeinfo/xref.h: new files.
d3211 4
a3214 9
	* makeinfo/Makefile.am:
	* makeinfo/cmds.c:
	* makeinfo/footnote.c:
	* makeinfo/html.c:
	* makeinfo/makeinfo.c:
	* makeinfo/node.c:
	* makeinfo/node.h:
	* makeinfo/sectioning.c:
	* makeinfo/toc.c: adjusted for new names.
d3216 2
a3217 1
2004-01-06  Alper Ersoy  <dirt@@gtk.org>
d3219 2
a3220 2
	* makeinfo/makeinfo.c:
	* makeinfo/makeinfo.h: moved cross referencing commands to ...
d3222 1
a3222 2
	* makeinfo/crossrefs.c:
	* makeinfo/crossrefs.h: new files.
d3224 1
a3224 7
	* makeinfo/cmds.c:
	* makeinfo/footnote.c:
	* makeinfo/html.c:
	* makeinfo/makeinfo.c:
	* makeinfo/node.c:
	* makeinfo/sectioning.c:
	* makeinfo/toc.c: added crossrefs.h to includes.
d3226 1
a3226 1
	* makeinfo/Makefile.am: added new files crossrefs.c and crossrefs.h
d3228 4
a3231 1
2004-01-06  Alper Ersoy  <dirt@@gtk.org>
d3233 2
a3234 2
	* makeinfo/node.c (cm_node): removed ``Node: <nodename>'' from the
	node headers.
d3236 1
a3236 1
2004-01-06  Alper Ersoy  <dirt@@gtk.org>
d3238 1
a3238 3
	* makeinfo/insertion.c (begin_insertion): keep line_number the same
	before and after get_until, so messages issued inside full_expansion
	have correct line numbers.
d3240 1
a3240 1
2004-01-06  Alper Ersoy  <dirt@@gtk.org>
d3242 2
a3243 2
	* makeinfo/makeinfo.c (handle_menu_entry):
	* makeinfo/node.c (glean_node_from_menu): adjust line_number.
d3245 4
a3248 1
2004-01-05  Karl Berry  <karl@@gnu.org>
d3250 2
a3251 2
	* doc/texinfo.tex (\rawbackslashxx): rename to \backslashcurfont,
	to keep reducing the number of `xx's here.
d3253 1
a3253 5
	* doc/texinfo.tex (\setref): call \atdummies, not \indexnofonts; we
	need to keep the user's commands.
	(\dofloat): call \indexnofonts and \turnoffactive
	to support commands and special characters in the
	float type name.
d3255 4
a3258 2
	* doc/texinfo.txi (firstparindent): shorten name so it doesn't
	break in the toc.
d3260 1
a3260 1
2004-01-05  Alper Ersoy  <dirt@@gtk.org>
d3262 1
a3262 2
	* makeinfo/html.c (html_output_head): new CSS entry span.sc for
	small-caps font variant.
d3264 1
a3264 2
	* makeinfo/cmds.c (cm_sc): use span with class attribute sc, instead
	of small.
d3266 2
a3267 1
2004-01-04  Stepan Kasal  <kasal@@ucw.cz>
d3269 1
a3269 5
	* doc/texinfo.tex (\commondummies, \indexnofonts): Merge the
	  common part of these two to ...
	  (\commondummiesnofonts): ... a new macro.
	  (\indexdummylatex, \indexdummytex, \indexdummydots): Nuke,
	  the time saved is not worth the hassle.
d3271 1
a3271 1
2004-01-04  Stepan Kasal  <kasal@@ucw.cz>
d3273 1
a3273 5
	* doc/texinfo.tex (\makedispenv): Determine the size of the fonts
	  according to the value of SETdispenvsize, using ...
	  (\setnormaldispenv, \setsmalldispenv, \SETdispenvsize, \smallword):
	  (\nosmallword): ... these new macros.
	  (\flushleft): No longer defined via \makedispenv.
d3275 2
a3276 1
2004-01-03  Karl Berry  <karl@@gnu.org>
d3278 3
a3280 2
	* doc/texinfo.tex (\TeX): new macro, copying plain but make a
	period following end a sentence.  Idea from LaTeX.
d3282 1
a3282 1
2004-01-02  Alper Ersoy  <dirt@@gtk.org>
d3284 2
a3285 3
	* makeinfo/node.c (clean_old_split_files): new function.
	(split_file): moved filename generation code to a ...
	(enumerate_filename): new function.
d3287 2
a3288 2
	* makeinfo/makeinfo.c (convert_from_loaded_file): call
	clean_old_split_files before calling split_file.
d3290 2
a3291 1
2004-01-02  Alper Ersoy  <dirt@@gtk.org>
d3293 1
a3293 5
	* makeinfo/makeinfo.c (create_html_directory): new function.
	(insert_toplevel_subdirectory): moved common if blocks to
	create_html_directory.  Adjusted checks to reuse existing
	directories, and remove existing <output>.html files, when
	falling back to suffices.
d3295 1
a3295 1
2004-01-02  Alper Ersoy  <dirt@@gtk.org>
d3297 1
a3297 2
	* makeinfo/cmds.c (cm_code): for HTML, use span for @@command, @@env,
	@@file, @@option and @@samp, and insert command name as class attribute.
d3299 2
a3300 1
2003-12-31  Alper Ersoy  <dirt@@gtk.org>
d3302 8
a3309 2
	* makeinfo/makeinfo.c (add_char, handle_menu_entry): end <ul> block
	before inserting <p>, and restart afterwards.
d3311 4
a3314 1
2003-12-31  Alper Ersoy  <dirt@@gtk.org>
d3316 3
a3318 2
	* makeinfo/makeinfo.c (handle_menu_entry): for HTML, append colon only
	if there is a description following the menu item.
d3320 3
a3322 1
2003-12-31  Alper Ersoy  <dirt@@gtk.org>
d3324 6
a3329 1
	* makeinfo/makeinfo.c (usage): removed short forms of output options.
d3331 7
a3337 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3339 1
a3339 2
	* cmds.c (cm_comment): do not output comments before HTML header is
	written.
d3341 4
a3344 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3346 2
a3347 3
	* makeinfo/makeinfo.c (main): new option --plaintext.
	(usage): added short forms of --html, --xml, --docbook and --plaintext
	to the help text.
d3349 7
a3355 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3357 2
a3358 4
	* makeinfo/multi.c (multitable_item): removed thead and tbody from
	HTML tables.  Added hsep after @@headitem for Info.
	(multitable_item, multitable_tab): for HTML, use th instead of td for
	@@headitem rows.
d3360 7
a3366 7
	* makeinfo/xml.c (xml_begin_multitable): moved Docbook TGROUP code to
	a ...
	(xml_begin_multitable_group): new function.
	(xml_end_multitable_row): restart TGROUP on @@headitem.
	(xml_end_multitable): warn if @@headitem is the last item in
	multitable, and output format is Docbook.  Joined common code between
	XML and Docbook.
d3368 7
a3374 1
2003-12-30  Arnold D. Robbins  <arnold@@skeeve.com>
d3376 2
a3377 1
	* makeinfo/cmds.c (cm_strong): Use <emphasis role="bold"> for docbook.
d3379 2
a3380 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
a3381 3
	* makeinfo/float.c (cm_listoffloats): substituted fixed numbers with
	the sizeof operator where possible, and commented code where not, to
	improve code readability.
d3383 1
a3383 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3385 2
a3386 2
	* makeinfo/makeinfo.c (cm_image): do not escape backslash and double
	quote characters in plaintext output.
d3388 1
a3388 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3390 3
a3392 2
	* makeinfo/makeinfo.c (cm_image): do not write magic cookie when
	output format is plaintext.
d3394 2
a3395 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3397 1
a3397 2
	* makeinfo/makeinfo.c (add_char): added forgotten html check to
	in_html_block_level_elt if block.
d3399 1
a3399 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3401 2
a3402 3
	* makeinfo/xml.c:
	* makeinfo/xml.h: added new element alttext (IMAGEALTTEXT),
	as a child of image.
d3404 2
a3405 3
	* makeinfo/makeinfo.c (cm_image): moved alttext attribute to the new
	alttext child in XML output, to keep markup intact.  Moved filename
	CDATA to name attribute.
d3407 2
a3408 1
	* makeinfo/texinfo.dtd: updated image element.
d3410 1
a3410 1
2003-12-30  Alper Ersoy  <dirt@@gtk.org>
d3412 2
a3413 1
	* makeinfo/makeinfo.c (cm_image): use HTML entities in alt attribute.
d3415 1
a3415 1
2003-12-28  Alper Ersoy  <dirt@@gtk.org>
d3417 4
a3420 2
	* makeinfo/insertion.c (cm_item): do not call close_single_paragraph
	and use rollback_empty_tag for empty <dd> removal.
d3422 1
a3422 1
2003-12-28  Alper Ersoy  <dirt@@gtk.org>
d3424 3
a3426 3
	* makeinfo/html.c (rollback_empty_tag): new function.
	(insert_html_tag): try rollback_empty_tag before closing both
	tag and old_tag.
d3428 1
a3428 1
2003-12-28  Alper Ersoy  <dirt@@gtk.org>
d3430 2
a3431 1
	* makeinfo/cmds.c (cm_sp): for HTML use <pre>.
d3433 1
a3433 3
	* makeinfo/defun.c (defun_internal): do not close paragraph when
	outputting HTML to avoid empty <p> elements.
	(process_defun_args): joined duplicate if/else blocks.
d3435 2
a3436 2
	* makeinfo/html.c (insert_html_tag): removed redundant paragraph
	starting code.
d3438 2
a3439 4
	* makeinfo/insertion.c (begin_insertion): keep state of the first <dt>
	child of a <dl> in the new html_deflist_has_term variable for ...
	(cm_item): cleaner <br> insertion checks.  Fixed non-functional empty
	<dd> rollback code.
d3441 1
a3441 4
	* makeinfo/makeinfo.c (add_html_block_elt, add_html_block_elt_args):
	new functions for inserting block level elements that must not be
	preceded by a <p> element.
	(add_char): insert <p> only if in_html_block_level_elt is not true.
d3443 1
a3443 12
	* makeinfo/cmds.c (cm_comment, cm_center):
	* makeinfo/footnote.c (output_pending_notes):
	* makeinfo/html.c (html_output_head):
	* makeinfo/index.c (cm_printindex):
	* makeinfo/insertion.c (enum_html, begin_insertion, end_insertion)
	(handle_verbatim_environment, cm_item):
	* makeinfo/makeinfo.c (handle_menu_entry):
	* makeinfo/multi.c (do_multitable):
	* makeinfo/node.c (cm_node):
	* makeinfo/sectioning.c (sectioning_html): use add_html_block_elt and
	add_html_block_elt_args instead of add_word and add_word_args
	respectively, when inserting <ul>, <div>, <h?> and the like.
d3445 1
a3445 1
2003-12-25  Karl Berry  <karl@@gnu.org>
d3447 21
a3467 2
	* doc/texinfo.txi (Def Cmd Continuation Lines): new node.
	* NEWS: mention this new feature.
d3469 1
a3469 1
2003-12-25  Alper Ersoy  <dirt@@gtk.org>
d3471 1
a3471 2
	* makeinfo/insertion.c (end_insertion): inhibit paragraph indentation
	for more cases after example, display and the like environments.
d3473 1
a3473 2
	* makeinfo/xml.c (xml_start_para, xml_end_para): made <para> and
	</para> indentation more newline-aware.
d3475 1
a3475 1
2003-12-25  Alper Ersoy  <dirt@@gtk.org>
d3477 1
a3477 5
	* makeinfo/insertion.c (end_insertion, cm_example, cm_smallexample)
	(cm_lisp, cm_smalllisp, cm_format, cm_smallformat, cm_display)
	(cm_smalldisplay): unified whitespaces inside these elements
	in XML and Docbook output (always one newline at the beginning
	and one at the end).
d3479 1
a3479 1
2003-12-25  Alper Ersoy  <dirt@@gtk.org>
d3481 4
a3484 2
	* makeinfo/lang.c (cm_accent_generic_no_headers): do not issue
	warnings when substituting non-ASCII accents with punctuation.
d3486 1
a3486 1
2003-12-24  Karl Berry  <karl@@gnu.org>
d3488 2
a3489 3
	* makeinfo/makeinfo.c (cm_xref): rparen is not allowed after all,
	confirmed by experimentation (thanks to Luc).
	* doc/texinfo.txi (ref): remove it from doc.
d3491 2
a3492 1
2003-12-23  Alper Ersoy  <dirt@@gtk.org>
d3494 1
a3494 3
	* makeinfo/makeinfo.c (convert_from_loaded_file): when finished, do
	not indent body and html closing tags, and do not use comment tags if
	there is no trailing information.
d3496 2
a3497 1
2003-12-23  Alper Ersoy  <dirt@@gtk.org>
d3499 4
a3502 4
	* makeinfo/cmds.c (cm_acronym):
	* makeinfo/cmds.h: save second arguments of acronym in acronyms_stack
	and reuse them as title attributes of acronym element of HTML output,
	when there is only one argument given.
d3504 1
a3504 1
2003-12-23  Alper Ersoy  <dirt@@gtk.org>
d3506 1
a3506 2
	* makeinfo/makeinfo.c (cm_image): use text_expansion for alt
	attribute of images.
d3508 1
a3508 1
2003-12-23  Alper Ersoy  <dirt@@gtk.org>
d3510 4
a3513 3
	* makeinfo/sectioning.c (sectioning_html): do not insert "%s "
	unconditionally for title enumerations, which causes unnecessary
	blanks for @@unnumbered and @@top.
d3515 1
a3515 1
2003-12-23  Arnold D. Robbins  <arnold@@skeeve.com>
d3517 1
a3517 3
	* float.h (FLOAT_ELT): New member: `title_used'. Avoids reuse of
	title inside nested floats.
	(current_float_used_title, current_float_set_title_used): declared.
d3519 1
a3519 3
	* float.c (add_new_float): Init `new->title_used' to zero.
	(current_float_used_title, current_float_set_title_used): new
	functions.
d3521 2
a3522 3
	* xml.c (xml_begin_docbook_float): Make use of new functions to
	avoid omitting title, tag, id if have already done so inside
	nested float.
d3524 1
a3524 1
2003-12-22  Karl Berry  <karl@@gnu.org>
d3526 1
a3526 5
	* makeinfo/makeinfo.c (cm_xref): warn if character after @@ref does
		not produce a valid Info ref.
	(cm_ref): call cm_xref in both START and END cases.
	* doc/texinfo.txi (ref): make the second example being a "wrong"
	        one explicit (report from Luc), and mention the warning.
d3528 1
a3528 1
2003-12-21  Karl Berry  <karl@@gnu.org>
d3530 1
a3530 6
	* doc/texinfo.tex (\comma): new command.
	* makeinfo/cmds.c (cm_comma): new fn.
	(command_table): use it for @@comma.
	* doc/texinfo.txi (Atsign Braces Comma): Rename node.
	(Inserting a Comma): new node.
	(@@@@-Command Summary): include it here.
d3532 2
a3533 1
2003-12-20  gettextize  <bug-gnu-gettext@@gnu.org>
d3535 1
a3535 1
	* configure.ac (AM_GNU_GETTEXT_VERSION): Bump to 0.13.1.
d3537 1
a3537 1
2003-12-19  Karl Berry  <karl@@gnu.org>
d3539 1
a3539 2
	* doc/texinfo.tex (\ordf, \ordm): use \lllsize instead of \lsize.
	Advice from Steve Peter.
d3541 1
a3541 2
	* doc/texinfo.txi (Printing Indices & Menus): typo, @@@@index ->
		@@@@vindex.  From Luc.
d3543 2
a3544 1
2003-12-19  Alper Ersoy  <dirt@@gtk.org>
d3546 6
a3551 2
	* makeinfo/cmds.c (cm_acronym): read and make use of second argument
	like texinfo.tex does.
d3553 4
a3556 3
	* makeinfo/xml.c:
	* makeinfo/xml.h:
	* makeinfo/texinfo.dtd: new elements acronymword and acronymdesc.
d3558 4
a3561 1
2003-12-19  Alper Ersoy  <dirt@@gtk.org>
d3563 1
a3563 2
	* makeinfo/insertion.c (begin_insertion): insert float element for
	docbook too.
d3565 1
a3565 1
2003-12-18  Karl Berry  <karl@@gnu.org>
d3567 1
a3567 2
	* doc/texinfo.txi, doc/info-stnd.texi: fix incorrect cross-manual
	xrefs.  From: Juri Linkov <juri@@jurta.org>, 18 Dec 2003 05:01:07 +0200.
d3569 1
a3569 1
2003-12-18  Alper Ersoy  <dirt@@gtk.org>
d3571 2
a3572 2
	* makeinfo/makeinfo.c (insert): rollback unnecessary whitespace before
	newline characters.
d3574 2
a3575 1
2003-12-17  Karl Berry  <karl@@gnu.org>
d3577 5
a3581 6
	* doc/texinfo.tex (\ordf, \ordm): new macros.
	(\commondummies): include them.
	(\indexnofonts): here too.
	* makeinfo/makeinfo.c (command_table): add them.
	* makeinfo/lang.c (cm_special_char): first cut at handling them.
	* doc/texinfo.txi (Inserting Accents): document them.
d3583 3
a3585 1
2003-12-16  Alper Ersoy  <dirt@@gtk.org>
d3587 1
a3587 2
	* makeinfo/defun.c (process_defun_args): use execute_string instead
	of add_word so accent commands are honored.
d3589 1
a3589 1
2003-12-16  Alper Ersoy  <dirt@@gtk.org>
d3591 2
a3592 2
	* makeinfo/xml.c (xml_begin_document): output xml process instruction
	also in the Docbook prolog.
d3594 2
a3595 1
2003-12-16  Karl Berry  <karl@@gnu.org>
d3597 1
a3597 1
	* doc/texinfo.txi (dots): document enddots spacing.
d3599 10
a3608 1
2003-12-16  Stepan Kasal  <kasal@@ucw.cz>
d3610 1
a3610 4
	* doc/texinfo.tex (\dots): Use \hfil instead of \hss and only
	  the stretch factor in explicit skips; I don't suppose the dots
	  will overlap.
	  (\enddots): Merged with \dots.
d3612 21
a3632 1
2003-12-16  Karl Berry  <karl@@gnu.org>
d3634 1
a3634 4
	* makeinfo/makeinfo.c (cm_image): quote the src= arg in the Info
	case, since apparently that's what Jan implemented.  Report from:
	Torsten Bronger <bronger@@physik.rwth-aachen.de>, 16 Dec 2003
	12:55:30 +0100.
d3636 3
a3638 1
	* util/dir-example: wdiff tools.
d3640 4
a3643 1
2003-12-15  Stepan Kasal  <kasal@@ucw.cz>
d3645 2
a3646 4
	* doc/texinfo.tex (\dofloat): Move \startsavinginserts before
	  the begin of the vtop; it's still local---within the group
	  open by \float.
	  (\dofloat, \Efloat): Fix indentation.
d3648 3
a3650 1
2003-12-15  Stepan Kasal  <kasal@@ucw.cz>
d3652 1
a3652 2
	* doc/texinfo.tex (\innerdef, \innernewcount): Nuked.
	  (\getfloatno): New macro, to establish the right float count.
d3654 2
a3655 1
2003-12-15  Stepan Kasal  <kasal@@ucw.cz>
d3657 2
a3658 1
	* doc/texinfo.tex (\innernewbox): Nuked, the call expanded.
d3660 1
a3660 1
2003-12-14  Karl Berry  <karl@@gnu.org>
d3662 8
a3669 1
	* makeinfo/tests/*: unset TEXINFO_OUTPUT where necessary.
d3671 1
a3671 1
2003-12-13  Karl Berry  <karl@@gnu.org>
d3673 1
a3673 8
	* doc/texinfo.txi (Smallcaps, acronym): Compare and contrast these
		a bit more fully.
	* doc/texinfo.tex (\setfontstyle): just \def the string; since we
		are \edef'd, we can't make ourselves a control sequence.
	(\selectfonts): new macro.
	(\doacronym): print acronym in smaller size, and \unsepspaces for
		if we're called inside @@display.
	(\registeredsymbol): we can use \lllsize here too.
d3675 2
a3676 1
	* configure.ac: gettext 0.13 (many generated files updated).
d3678 5
a3682 1
	* Makefile.am (AUTOMAKE_OPTIONS): 1.8.
d3684 7
a3690 3
	* makeinfo/makeinfo.c: give warning if TEXINFO_OUTPUT value is
		unrecognized.
	* doc/texinfo.txi (makeinfo options): document TEXINFO_OUTPUT.
d3692 1
a3692 8
	* doc/texinfo.txi (tex): document @@LaTeX.
	
	* doc/texinfo.tex (\loggingall): reduce \errorcontextlines for
	sake of infinite loops.
	(\setfontstyle): \def better than \edef?
	(\commondummies): LaTeX is a new dummy.
	(\indexdummies): likewise.
	(\indexdummylatex): sorted the obvious way.
d3694 2
a3695 8
	* doc/texinfo.tex (\LaTeX): New macro for new command.
	(\setfontstyle): new macro to remember current font style.
	(\rm,\it,\sl,\bf,\tt,\sf,\ttsl): call it; all but
	the last two are new too.
	(\ssecsc): use correct magnification, we do for everything else.
	(\reducedrm..\reducedsy): new fonts.
	(\reducedfonts): new macro.
	(\textfonts..\smallerfonts): set \lsize and \lllsize macros.
d3697 1
a3697 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3699 1
a3699 2
	* makeinfo/makeinfo.c (main): changed TEXINFO_XML_OUTPUT to
	TEXINFO_OUTPUT.  It now specifies the default output format.
d3701 1
a3701 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3703 2
a3704 2
	* makeinfo/defun.c (defun_internal): implemented basic line
	continuation.
d3706 1
a3706 1
2003-12-13  Karl Berry  <karl@@gnu.org>
d3708 3
a3710 1
	* CVSROOT/loginfo: put filename/version number in mail subject.
d3712 1
a3712 3
	* util/srclist.txt (help2man): remove, we require cvs-builders to
		have this installed now (or accept `missing's replacement),
		along with the rest of the dev tools.
d3714 6
a3719 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3721 1
a3721 3
	* makeinfo/defun.c (defun_internal):
	* makeinfo/insertion.c (end_insertion): do not use tables for HTML
	@@deffns.
d3723 1
a3723 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3725 1
a3725 2
	* makeinfo/insertion.c (begin_insertion): strip whitespace from @@float
	arguments.
d3727 2
a3728 2
	* makeinfo/sectioning.c: last_section_title and last_section_number
	now default to empty strings.
d3730 2
a3731 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3733 1
a3733 1
	* makeinfo/cmds.c (cm_LaTeX): new function for @@LaTeX{}.
d3735 3
a3737 1
	* makeinfo/texinfo.dtd: new latex entity.
d3739 1
a3739 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3741 3
a3743 2
	* makeinfo/xml.h:
	* makeinfo/xml.c: new element DIMENSION.
d3745 2
a3746 1
	* makeinfo/cmds.c (cm_dmn): new function for @@dmn.
d3748 2
a3749 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3751 1
a3751 2
	* makeinfo/makeinfo.c (main): if TEXINFO_XML_OUTPUT envvar is set,
	default to XML output.
d3753 3
a3755 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3757 1
a3757 2
	* makeinfo/makeinfo.c (main): enabling one output format effectively
	disables others.
d3759 8
a3766 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3768 2
a3769 2
	* makeinfo/lang.h:
	* makeinfo/lang.c (current_document_encoding): new function.
d3771 3
a3773 2
	* makeinfo/xml.c (xml_begin_document): specify encoding in the XML
	prolog if different from no_encoding.
d3775 2
a3776 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3778 4
a3781 2
	* makeinfo/xml.c:
	* makeinfo/texinfo.dtd: moved documentlanguage out of para.
d3783 10
a3792 1
2003-12-13  Alper Ersoy  <dirt@@gtk.org>
d3794 1
a3794 1
	* makeinfo/float.c (add_new_float): now expects position argument too.
d3796 2
a3797 5
	* makeinfo/insertion.c (begin_insertion): read arguments from @@float
	line, do not look for @@anchor.
	(end_insertion): changed info caption style.
	(cm_caption): use is_in_insertion_of_type instead of
	current_insertion_type.
d3799 1
a3799 5
	* makeinfo/xml.h:
	* makeinfo/xml.c: new element floatpos.
	(xml_begin_enumerate): check actual supplied value, not first digit.
	Also special case for GPL's silly `@@enumerate 0'.  From Aharon Robbins
	<arnold@@skeeve.com> Tue, 9 Dec 2003 12:38:04 +0200.
d3801 2
a3802 1
2003-12-12  Karl Berry  <karl@@gnu.org>
d3804 1
a3804 2
	* doc/texinfo.tex (ifnotdocbook,ifnotxml): define these @@-commands.
	Report from Arnold.
d3806 1
a3806 2
	* doc/texinfo.tex (\setfilename): make the \openout\auxfile be
	\immediate, again.
d3808 1
a3808 1
2003-12-09  Stepan Kasal  <kasal@@ucw.cz>
d3810 2
a3811 3
	* doc/texinfo.tex (\envparseargdef): New macro, a combination
	  of \envdef and \parseargdef.
	  (\enumerate, \float): Use it.
d3813 1
a3813 1
2003-12-09  Stepan Kasal  <kasal@@ucw.cz>
d3815 1
a3815 2
	* doc/texinfo.tex (\float, \Efloat, \caption, \shortcaption):
	(\listoffloats): Adapt to the new environment definition framework.
d3817 1
a3817 1
2003-12-09  Stepan Kasal  <kasal@@ucw.cz>
d3819 2
a3820 2
	* doc/texinfo.tex (\setref, \xrefX): Make the ``\indexnofonts''
	  setups in these two consistent.
d3822 2
a3823 1
2003-12-09  Stepan Kasal  <kasal@@ucw.cz>
d3825 1
a3825 2
	* doc/texinfo.tex (\innernewbox): New macro, non-outer \newbox.
	  (\newsaveinsX): Use it.
d3827 8
a3834 1
2003-12-09  Stepan Kasal  <kasal@@ucw.cz>
d3836 5
a3840 4
	* doc/texinfo.tex: after test for epsf.tex, \closein 1, even if the
	  file wasn't there.
	  (\summarycontents, \tryauxfile): Similarily, \closein 1 even if eof.
	  (\startcontents, \contents, \summarycontents): fix indentation.
d3842 1
a3842 1
2003-12-09  Stepan Kasal  <kasal@@ucw.cz>
d3844 3
a3846 2
	* doc/texinfo.tex (\pdfmakeoutlines): Fix a typo, need
		\def\thisubsecnum not \let.
d3848 1
a3848 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3850 7
a3856 2
	* doc/texinfo.tex (\makedefun): Add `\def\deffnheader' or the like
	  at the end; all calls of this macro changed.
d3858 1
a3858 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3860 2
a3861 3
	* doc/texinfo.tex (\normaldefunargs): Renamed to ...
	(\defunargs): ... this; all callers changed.
	(\ampdefunargs): Nuked, the only call expanded.
d3863 3
a3865 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3867 3
a3869 5
	* doc/texinfo.tex (\setfilename): Simplify the code for conditional
	\input of texinfo.cnf.
	(\contents): Call \pdfmakeoutlines only if .toc exists.
	(\pdfmakeoutlines): Thus .toc must exist, no need to check again.
	(\documentlanguage): Simplify, fix indentation.
d3871 5
a3875 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3877 1
a3877 2
	* doc/texinfo.tex (\center): Separate the horizontal and vetical...
	(\centerH, \centerV): ... versions; account for \leftskip in \centerV.
d3879 1
a3879 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3881 3
a3883 3
	* doc/texinfo.tex (\group, \Egroup): Don't call \offinterlineskip;
	to fix the line spacing after the group, propagate \prevdepth.
	(Else, @@exdent inside @@group gets the wrong spacing.)
d3885 1
a3885 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3887 1
a3887 2
	* doc/texinfo.tex (\acronym): Check for second parameter, ...
	(\doacronym): using this new function; remove smallcaps.
d3889 1
a3889 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3891 3
a3893 3
	* doc/texinfo.tex (\pdfmakeoutlines): Make the counting macros
	  robust, so that they won't break on incorrectly nested sections.
	  (For instance, in the bzip2 manual.)
d3895 1
a3895 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3897 2
a3898 3
	* doc/texinfo.tex (\author): If appears inside a @@quotation
	environment, interpret it as an affiliation; otherwise it has to
	appear directly inside @@titlepage.
d3900 1
a3900 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3902 2
a3903 6
	* doc/texinfo.tex (\argremovec, \argcheckspaces): Add support for
	continued lines to \parsearg, while ...
	(\domakedefun, \printdefunline): ... removing it from @@defun's ...
	(\parsedefunline): ... and thus nuking this.
	(\startdefunx): Replaced by ...
	(\dodefunx): ... this; it reuses the code of the respective @@defun.
d3905 3
a3907 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3909 1
a3909 2
	* doc/texinfo.tex (\defparsearg): Rename to ...
	(\parseargdef): ... this; all uses changed.
d3911 2
a3912 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3914 1
a3914 9
	New framework for environments in texinfo.tex.  It's used like this:
		\envdef\foo{...}
		\def\Efoo{...}
	It's the responsibility of \envdef to insert \begingroup before the
	actual body; @@end closes the group after calling \Efoo.
	\envdef also defines \thisenv, so the current environment is known;
	@@end checks whether the environment name matches.
	The \checkenv macro can be used also elsewhere to check whether the
	current environment is the one expected.
d3916 1
a3916 4
	Non-false conditionals (@@iftex, @@ifset) don't fit into this, so they
	are not treated as enviroments; they don't open a group.
	(The implementation of @@end takes care not to call \endgroup in this
	special case.)
d3918 1
a3918 2
	* doc/texinfo.tex: All environment definitions, true conditionals and
	@@ifset, @@ifclear, changed.
d3920 9
a3928 3
	Another issue:
	@@set and @@value allowed - and _ in variable names, but @@clear, @@ifset
	and @@ifclear were not ready to accept such variables.
d3930 1
a3930 2
	* doc/texinfo.tex (@@set, @@clear, @@ifset, @@ifclear): Call
	\makevalueexpandable.
d3932 2
a3933 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3935 1
a3935 3
	* doc/texinfo.tex (\multitable): Move \everytab={} and the check
	for saved inserts to \everycr; thus \item is \crcr again.
	(\Emultitable): Call \setpercentfalse only after the last \crcr.
d3937 2
a3938 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3940 1
a3940 5
	* doc/texinfo.tex (\readauxfile): Read it, unconditinally;
	don't open the aux file for writing.
	(\tryauxfile): A new wrapper around \readauxfile, which checks
	whether the file exists.
	(\setfilename): Call \tryauxfile, then open the aux file for writing.
d3942 4
a3945 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3947 1
a3947 2
	* doc/texinfo.tex (\readauxfile): Don't hide serious problems by
	setting the catcode of backslash to other.
d3949 5
a3953 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3955 1
a3955 2
	* doc/texinfo.tex (\setref): Call \indexnofonts to get nicer names
	of reference identifiers expanded in \edef.
d3957 3
a3959 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3961 1
a3961 3
	* doc/texinfo.tex (\scanmacro): Add \spaceisspace, in case we are
	  in an environment with active spaces; without this, \eatspaces
	  didn't work.
d3963 1
a3963 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3965 3
a3967 3
	* doc/texinfo.tex (\scanmacro): Define only one version, using ...
	  (\scantokens): ... which is a primitive of e-TeX; under ordinary
	  TeX, define a replacement.
d3969 1
a3969 1
2003-12-08  Stepan Kasal  <kasal@@ucw.cz>
d3971 49
a4019 2
	* doc/texinfo.tex (\spaceisspace): A macro which resets space's
	catcode to its normal value; use where appropriate.
d4021 1
a4021 1
2003-12-08  Karl Berry  <karl@@gnu.org>
d4023 2
a4024 5
	* util/texi2dvi: use etex/pdfetex if available.
	(findprog): new helper fn.
	* NEWS (texi2dvi): mention this.
	* doc/texinfo.txi (Format with texi2dvi): use @@TeX{} instead of
	@@code{tex}, since we don't literally run `tex' any more.
d4026 1
a4026 5
	* info/session.c (info_select_reference_this_line): don't crash if
	we have no window->line_starts, as it is after
	set-screen-height to less than 5.
	Report from: Christian Biere <christianbiere@@gmx.de>,
	8 Dec 2003 19:12:08 +0100.
d4028 1
a4028 1
	* doc/texinfo.tex (\comma): new command.
d4030 1
a4030 1
	* bootstrap: make need for --enable-maintainer-mode more explicit.
d4032 4
a4035 2
	* doc/texinfo.tex (\xrefX): otherify everything before getting the
	-title \csname, so that _'s (et al.) are allowed.
d4037 1
a4037 1
2003-12-07  Karl Berry  <karl@@gnu.org>
d4039 1
a4039 7
	* doc/texinfo.tex (\xrefX): handle float case.
	(\parsefloat): take additional optional arg for xref label.
	(\dofloat): call \setref to define the float in
	the aux file.
	(\Yfloat): new macro for \setref.
	(\floatmagic): new macro for \xrefX and \dofloat
	to communicate.
d4041 1
a4041 1
2003-12-03  Karl Berry  <karl@@gnu.org>
d4043 7
a4049 2
	* doc/texinfo.txi (Not Ending a Sentence): mention special
	entities output for @@: in Docbook and XML.
d4051 1
a4051 1
2003-12-02  Alper Ersoy  <dirt@@gtk.org>
d4053 1
a4053 4
	* makeinfo/cmds.c (cm_punct): new function to handle @@., @@! and @@?
	commands.
	(cm_comment): crunch multiple dashes to a single dash for XML
	validity.
d4055 2
a4056 2
	* makeinfo/texinfo.dtd: new entities: period, eosperiod, quest,
	eosquest, excl, eosexcl.
d4058 5
a4062 1
2003-12-02  Alper Ersoy  <dirt@@gtk.org>
d4064 1
a4064 2
	* makeinfo/insertion.c (begin_insertion): look for a newline before
	@@anchor and @@caption commands in floatenv.
d4066 1
a4066 1
2003-12-2 Arnold Robbins  <arnold@@skeeve.com>
d4068 1
a4068 5
	* makeinfo/insertion.c (end_insertion): Change tests for docbook
	and insertion to check current insertion type instead of if deep
	inside a float insertion.
	(cm_example, cm_smallexample, cm_lisp, cm_smalllisp, cm_cartouche)
	(cm_caption): Same.
d4070 1
a4070 7
	* xml.h (FLOATCARTOUCHE): New constant.
	* xml.c (texinfoxml_element_list, docbook_element_list): Add "sidebar"
	for FLOATCARTOUCHE.  For docbook, map @@display, @@smalldisplay to
	"literallayout".
	(replacement_elements): Add entry for CARTOUCHE -> FLOATCARTOUCHE.
	(xml_begin_docbook_float): Special case for CARTOUCHE, sidebars don't
	have labels.
d4072 8
a4079 1
2003-12-01  Karl Berry  <karl@@gnu.org>
d4081 3
a4083 2
	* doc/texinfo.tex (\float, \listoffloats): new macros for new
		@@-commands -- skeletal implementation only now.
d4085 1
a4085 4
	From: Aharon Robbins <arnold@@skeeve.com>, 1 Dec 2003 17:43:12 +0200:
	* makeinfo/float.h (current_float_type): declare.
	* makeinfo/cmds.c (cm_colon): new fn.
	(command_table): use it for @@:.
d4087 2
a4088 1
2003-11-29  Karl Berry  <karl@@gnu.org>
d4090 1
a4090 3
	* doc/texinfo.tex (@@turnoffactive): include @@unsepspaces, so
	spaces in anchor names don't expand in the .aux file.  From
	Stepan.
d4092 1
a4092 1
2003-11-28  Karl Berry  <karl@@gnu.org>
d4094 1
a4094 6
	* doc/texinfo.txi (Abstract Objects): class names are no longer
	printed in rm by default.
	* doc/texinfo.tex (\cite): redefine to always use \sl, never \ttsl.
	* doc/texinfo.tex (\ttslanted): new macro.
	(\normaldefunargs): use it for @@var; go back to
	\sl by default.
d4096 1
a4096 1
	* doc/texinfo.txi: document @@deftypecv.
d4098 1
a4098 1
2003-11-28  Alper Ersoy  <dirt@@gtk.org>
d4100 1
a4100 1
	* makeinfo/cmds.c (cm_comment): do not perform expansion.
d4102 1
a4102 1
2003-11-28  Alper Ersoy  <dirt@@gtk.org>
d4104 4
a4107 1
	* makeinfo/cmds.c (cm_r): also set font-weight to normal in HTML.
d4109 2
a4110 1
2003-11-28  Alper Ersoy  <dirt@@gtk.org>
d4112 1
a4112 2
	* makeinfo/cmds.c (cm_comment): new function to output comments in
	HTML, XML and Docbook outputs.
d4114 2
a4115 1
2003-11-28  Alper Ersoy  <dirt@@gtk.org>
d4117 1
a4117 2
	* makeinfo/index.c: new section and section_name properties in
	index_elt struct.
d4119 1
a4119 3
	* makeinfo/index.c (index_add_arg): save current section number and
	title for plain text output.
	(cm_printindex): simplified printing with no_headers output.
d4121 1
a4121 1
2003-11-28  Alper Ersoy  <dirt@@gtk.org>
d4123 1
a4123 2
	* makeinfo/float.h: new section and section_name properties in
	float_elt struct.
d4125 2
a4126 4
	* makeinfo/float.c (add_new_float): save current section number and
	title for plain text output.
	(cm_listoffloats): list floats with no_headers too, following
	printindex @@example.
d4128 1
a4128 1
2003-11-28  Alper Ersoy  <dirt@@gtk.org>
d4130 2
a4131 3
	* makeinfo/sectioning.h:
	* makeinfo/sectioning.c (current_sectioning_number)
	(current_sectioning_title): new functions.
d4133 4
a4136 6
	* makeinfo/sectioning.c (get_sectioning_number): moved space char at
	the end of numbers to ...
	(insert_and_underscore, sectioning_html): here.
	(get_sectioning_number, insert_and_underscore): keep track of the last
	number/title to be used by @@float, @@cindex like commands that need to
	know in which section they are used.
d4138 2
a4139 1
2003-11-27  Alper Ersoy  <dirt@@gtk.org>
d4141 5
a4145 2
	* makeinfo/cmds.c (cm_math): new function that encloses @@math
	statements in a math element in XML.
d4147 1
a4147 2
	* makeinfo/xml.c:
	* makeinfo/xml.h: new element math.
d4149 5
a4153 1
2003-11-27  Alper Ersoy  <dirt@@gtk.org>
d4155 5
a4159 2
	* makeinfo/float.c (cm_listoffloats): made the layout in Info output
	the same with indices.
d4161 3
a4163 1
2003-11-25  Alper Ersoy  <dirt@@gtk.org>
d4165 1
a4165 2
	* makeinfo/float.c (cm_listoffloats): generate a menu for Info, with
	automatically shortened captions.
d4167 1
a4167 1
2003-11-25  Alper Ersoy  <dirt@@gtk.org>
d4169 7
a4175 3
	* makeinfo/cmds.c (cm_acronym): use acronym element for HTML.
	Report from: Torsten Bronger <bronger@@physik.rwth-aachen.de>
	Tue, 25 Nov 2003 10:30:52 +0100.
d4177 1
a4177 1
2003-11-25  Alper Ersoy  <dirt@@gtk.org>
d4179 13
a4191 2
	* makeinfo/sectioning.c (cm_appendix): reset numbers only when
	changing enum_marker.
d4193 2
a4194 1
2003-11-25  Alper Ersoy  <dirt@@gtk.org>
d4196 1
a4196 2
	* makeinfo/index.c (cm_printindex): made Appendix matching locale
	aware.
d4198 7
a4204 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4206 1
a4206 2
	* makeinfo/index.c (cm_printindex): also catch Appendix and A.1 kind
	of numbers with --no-headers Info output.
d4208 1
a4208 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4210 10
a4219 4
	* makeinfo/insertion.c (cm_example):
	* makeinfo/xml.c (xml_insert_docbook_image, xml_begin_multitable):
	moved common floatenv handling to ...
	(xml_begin_docbook_float): here.
d4221 5
a4225 2
	* makeinfo/insertion.c (end_insertion, cm_smallexample, cm_lisp)
	(cm_smalllisp): insert FLOATEXAMPLE for Docbook if inside @@float.
d4227 1
a4227 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4229 1
a4229 4
	* makeinfo/insertion.c (is_in_insertion_of_type): don't return the
	level, as it is not useful.
	(begin_insertion): instead of is_in_insertion_of_type, use
	float_active.
d4231 2
a4232 3
	* makeinfo/insertion.c (cm_example):
	* makeinfo/xml.c (xml_insert_docbook_image, xml_begin_multitable):
	insert empty label for @@floats with no @@anchor.
d4234 1
a4234 1
2003-11-24  Karl Berry  <karl@@gnu.org>
d4236 1
a4236 2
	* doc/Makefile.am (EXTRA_DIST): remove no-longer-defined
	noinst_SCRIPTS.
d4238 2
a4239 1
2003-11-24  Akim Demaille  <akim@@epita.fr>
d4241 3
a4243 5
	* configure.ac (HELP2MAN): Look for it.
	* doc/help2man: Remove.
	* doc/Makefile.am (HELP2MAN, noinst_SCRIPT): Remove.
	(common_mandeps): Don't depend on HELP2MAN which can be a complex
	command such as "missing --run help2man.
d4245 2
a4246 1
2003-11-24  Karl Berry  <karl@@gnu.org>
d4248 1
a4248 1
	* doc/texinfo.tex: doc/\global fixes.
d4250 2
a4251 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4253 1
a4253 1
	* makeinfo/cmds.c: new command @@listoffloats.
d4255 5
a4259 3
	* makeinfo/float.c (count_floats_of_type_in_chapter): only count
	floats with @@anchors.
	(cm_listoffloats): new function.
d4261 1
a4261 2
	* makeinfo/insertion.c (end_insertion): do not prepend float type and
	number if no @@anchors.
d4263 3
a4265 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4267 1
a4267 2
	* makeinfo/xml.c:
	* makeinfo/xml.h: new element listoffloats.
d4269 5
a4273 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4275 1
a4275 1
	* makeinfo/makeinfo.h: number sections by default.
d4277 1
a4277 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4279 1
a4279 3
	* makeinfo/makeinfo.c (cm_xref): if a reference is being made to a
	float with only one parameter, use the float number in HTML, and
	prepend it to the link in Info outputs.
d4281 1
a4281 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4283 2
a4284 3
	* makeinfo/float.h:
	* makeinfo/float.c (get_float_ref): new function to retrieve a float's
	number by its id.
d4286 1
a4286 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4288 2
a4289 2
	* makeinfo/insertion.c (end_insertion): indent the first paragraph
	after @@float.
d4291 1
a4291 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4293 1
a4293 1
	* makeinfo/cmds.c: new commands @@float and @@caption.
d4295 1
a4295 1
	* makeinfo/insertion.h: new environment floatenv.
d4297 1
a4297 2
	* makeinfo/insertion.c (cm_float, cm_caption): new functions.
	(begin_insertion, end_insertion): handle floatenv.
d4299 5
a4303 3
	* makeinfo/xml.c:
	* makeinfo/xml.h: new elements float, floattype, caption, floattable,
	floatfigure, floatexample.
d4305 2
a4306 4
	* makeinfo/insertion.c (cm_example):
	* makeinfo/xml.c (xml_insert_docbook_image, xml_begin_multitable):
	insert label and id attributes, title element for docbook if used
	inside @@float.
d4308 1
a4308 4
	* makeinfo/xml.c: replacements for multitable and informalfigure.
	(xml_insert_element_with_attribute): special-cased float element for
	docbook to make it appear in element stack and thus enable element
	replacements inside floatenv.
d4310 3
a4312 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4314 3
a4316 2
	* makeinfo/float.c:
	* makeinfo/float.h: new files for float environment functions.
d4318 1
a4318 1
	* makeinfo/Makefile.am: added new files to makeinfo_SOURCES.
d4320 1
a4320 1
2003-11-24  Alper Ersoy  <dirt@@gtk.org>
d4322 2
a4323 2
	* makeinfo/makeinfo.c (cm_xref): xstrdup the result from
	xml_get_assoc_for_id, as it gets freed later.
d4325 1
a4325 4
	* makeinfo/xml.c (xml_get_assoc_for_id, xml_associate_title_with_id):
	reimplemented unnumbered_labels handling.
	(xml_insert_docbook_image): Docbook expects format attribute values to
	be uppercase.
d4327 1
a4327 1
2003-11-23  Karl Berry  <karl@@gnu.org>
d4329 37
a4365 2
	* doc/texinfo.tex: doc fix for multitable.
	* util/gendocs.sh: docbook support, from Simon Josefsson.
d4367 1
a4367 8
	* doc/texinfo.tex (\defttsl): new font.
	(\df): set ttsl too.
	(\deffngeneral,\deftypefngeneral,\deftypecvgeneral,
	 \deftypheader): call \ampdefunargs or \normaldefunargs.
	(\normaldefunargs): new macro, typesetting defun
	 args in ttsl (instead of sl).
	(\ampdefunargs): treat & specially and then call \normaldefunargs.
	(\defname): typeset defun name in tt (instead of bf).
d4369 2
a4370 2
	* doc/texinfo.tex: uniformly comment out eol with {% at macro
	starts.
d4372 186
a4557 1
2003-11-23  Alper Ersoy  <dirt@@gtk.org>
a4558 2
	* makeinfo/insertion.c (is_in_insertion_of_type): return the level
	where the insertion is found.
d4560 7
a4566 3
	* makeinfo/makeinfo.c (search_forward_until_pos): new function that
	sets search_forward boundary.
	(text_expansion): also reset docbook.
d4568 5
a4572 5
	* makeinfo/sectioning.h:
	* makeinfo/sectioning.c (current_chapter_number): new function that
	returns top level chapter numbers.
	(handle_enum_increment): always do the incrementation. but return
	strings conditionally.
d4574 2
a4575 3
	* makeinfo/xml.c: changed screen element's contained_in_para to 0 for
	Docbook. @@lisp/@@smalllisp create programlisting.
	(xml_insert_quotation): reimplemented quotation_stack handling.
d4577 1
a4577 1
2003-11-22  Karl Berry  <karl@@gnu.org>
d4579 1
a4579 2
	* doc/texinfo.tex (\tocentry): same as \entry, no second 1pt of
	stretch.  And a couple doc fixes.
d4581 2
a4582 2
	* doc/texinfo.txi (Conventions): finally, get rid of @@vskip
	-@@baselineskip kludge, we handle index entries after @@item's now.
d4584 1
a4584 1
2003-11-22  Stepan Kasal  <kasal@@ucw.cz>
d4586 1
a4586 1
	* doc/texinfo.txi: use new @@quotation feature.
d4588 1
a4588 5
	* texinfo.tex (\putwordDeftypevar, \putwordDeftypefun): Remove.
	* txi-cs.tex, txi-de.tex, txi-en.tex, txi-es.tex, txi-fr.tex,
	  txi-it.tex. txi-nl.tex, txi-no.tex, txi-pl.tex, txi-pt.tex,
	  txi-tr.tex: The same. 
	[texinfo-20031120-deftype-del.patch]
d4590 3
a4592 130
	* doc/texinfo.tex (\verbatim,\Everbatim): remove one extra level
	of grouping; move two lines of code ...
	(\setupverbatim): ... here.
	(\doverbatiminclude): just call the new \setupverbatim.
	(\setupverbatiminclude): remove.
	[texinfo-20031121-verbatim2.patch]
	
	* doc/texinfo.tex (\math): no need for \mathcode, and we actually
		can use $ not \implicitmath.
	[texinfo-20031121-math.patch]

	* doc/texinfo.tex (\zeroskipmacro): new macro, so we can
	check for true zero skip.
	(\dosubindsanitize): use it.
	[texinfo-20031120-zeroskip.patch]
	
	* doc/texinfo.tex (\doignore): scan in verbatim mode.  Without this,
	if the last line of ignored text ended with ``@@'', the ``@@end ifxxx''
	tag was missed.
	(\dodoignore): use \_STOP_ instead of \ST@@P.
	[texinfo-20031120-ignore-at.patch]
	
	* doc/texinfo.tex (\defparsearg): new macro, to simplify places
	where the user macro just calls \parsearg.  Use it in many places.
	[texinfo-20031121-defparsearg.patch]
	
	* doc/texinfo.tex (\begin): remove, this is undocumented
	and unused.
	[texinfo-20031121-begin.patch]
	
	* doc/texinfo.tex (\title,\subtitle,\author,...): move to outer
	level (was inside \titlepage), it's more readable than nested
	definitions.
	[texinfo-20031116-titlepage1.patch]
	
	* doc/texinfo.tex (\evenheadingxxx,\oddfootingyyy): might as well
		use \ and avoid changing catcode of @@.
	[texinfo-20031116-catofat.patch]
	
	* doc/texinfo.tex (\set): use new macros: \parseargusing and
	\makecsname.
	[texinfo-20031116-set.patch]
	
	* doc/texinfo.tex (\cartouche): avoid \par if we are already in
	vertical mode, in case it has an effect, eg. in an @@example;
	avoid extra space from the @@cartouche line itself.
	(\Ecartouche): force vertical mode, so that the \kern has the desired
	effect.
	[texinfo-20031120-cart.patch]
	
	* doc/texinfo.tex (\ptexfootnote,\ptexinsert): save orig definitions.
	(\startsavinginserts): new macro (with relatives), call from
		\cartouche, \group, \table.
	[texinfo-20031118-saveins.patch]
	
	* doc/texinfo.tex (\table, \ftable, \vtable, \tablex, \tabley,
	\tablez): Cleaned up indentation, etc.
	(\kitem, \kitemx, \xitem, \xtemx, \description): Removed; they
	  didn't look as if they would work in their present state, anyway.
	[texinfo-20031114-table.patch]

	* doc/texinfo.tex (\filenamecatcodes): new macro.
	(\include,\verbatiminclude): use it, with new \parseargusing.
	(\pushthisfilestack,etc.): implement our own stack of filenames
	instead of reading the @@include argument in a group.
	[texinfo-20031109-include.patch]
	
	* doc/texinfo.tex (\indexbreaks): remove, and remove call.
	(\entry): read arguments on the fly, to avoid fixing catcodes.
	[texinfo-20031121-indexbreaks.patch]
	
	* doc/texinfo.tex (\makevalueexpandable): new macro.
	Change occurrences of \let\value=\expandablevalue to use it,
	to reduce code duplication.
	[texinfo-20031121-value.patch]

	* doc/texinfo.tex (\parsedefunlineX,\defunchkspace,defunchktab,
	\defunloop,\defunchkfinish,\replaceeols): New macros.
	(\parsedefunline): start them off.  This is to support continuations
	lines for @@defun headers.
	[texinfo-20031108-defun-cont.patch]
	
	* doc/texinfo.tex (\defun and all related commands):
	rewrite to use \parsearg and uniform command generation.
	(\makecsname): New macro, to be used within \edef's only.
	[texinfo-20031120-defun.patch]
	
	* doc/texinfo.tex (=, \equalChar): remove active definition of =
	and hacks that printed = in \tt sometimes.  We want to print
	everything in \tt anyway, ultimately.
	[texinfo-20031120-defun-pres3.patch]
	
	* doc/texinfo.tex (\defopheader,\defcvarheader,defivarheader):
	use \code for the class name.
	[texinfo-defun-pres2.patch]
	
	* doc/texinfo.tex (\parsearg): Reset the catcode of space before
		we scan the argument; so we don't have to worry about
		obeyed spaces before and after the argument.
	(\parseargx, \parseargy): Nuke, it was wrong anyway--\obeyedspace,
	which is a macro, was compared with \temp which could have been let
	to an obeyed space, but it couldn't be a macro.
	(\removeactivespaces,\removeactivespacesX,\removeactivespacesY): Nuke.
	(\argremovespace): If the argument scanned by \parsearg ends with
	a space, remove it.
	[texinfo-20031108-parsearg-space.patch]

	* doc/texinfo.tex: use \other, for clarity and efficiency;
		use `\^^M instead of raw number 13.
	[texinfo-20031108-other.patch]

	* doc/texinfo.tex (\doverbatim): \xdef and \gobble, to avoid
		the active space between `\end' and `verbatim'.
	[texinfo-20031120-verbatim.patch]

	* doc/texinfo.tex (\quotationlabel): new macro to print label,
		with a \bf space.
	(\quotation): change call so \parsearg is at the end.
	[texinfo-20031118-quot.patch]

2003-11-21  Alper Ersoy  <dirt@@gtk.org>

	* makeinfo/makeinfo.c (cm_xref): removed the warning about
	@@xrefs to @@unnumbered sections, as there are many situations where
	there is no way to fix them.

	* makeinfo/insertion.c: removed lingering titlepage_cmd_present
	declaration.

2003-11-21  Alper Ersoy  <dirt@@gtk.org>
d4594 1
a4594 2
	* makeinfo/cmds.c (cm_titlepage, cm_titlepage_cmds): moved to ...
	* makeinfo/insertion.c: here.
d4596 1
a4596 2
	* makeinfo/cmds.h (titlepage_cmd_present): moved to ...
	* makeinfo/makeinfo.h: here.
d4598 1
a4598 2
	* makeinfo/insertion.c (is_in_insertion_of_type): new function to
	query insertion_stack to see if we are inside a given insertion type.
d4600 2
a4601 12
	* makeinfo/makeinfo.h:
	* makeinfo/insertion.c (begin_insertion, end_insertion):
	* makeinfo/xml.c (xml_add_char):
	* makeinfo/xml.h: removed xml_in_copying and inside_titlepage_cmd
	global variables in favor of the new query function.

2003-11-21  Alper Ersoy  <dirt@@gtk.org>

	* makeinfo/makeinfo.c (discard_until, execute_string): reworded
	multiline related error messages.
	(discard_until): rollback input_text_offset only if not dealing with a
	multiline error, otherwise the same block gets in the way repeatedly.
d4603 1
a4603 1
2003-11-21  Alper Ersoy  <dirt@@gtk.org>
d4605 1
a4605 21
	* makeinfo/xml.h:
	* makeinfo/xml.c (xml_get_assoc_for_id, xml_associate_title_with_id):
	new functions.
	(xml_insert_indexentry): call execute_string(xref) instead of creating
	references directly.

	* makeinfo/makeinfo.c (cm_xref): check to see if xref is being made to
	an @@unnumbered, and only one argument is given.  issue a warning, use
	@@unnumbered's title as the third argument.

	* makeinfo/sectioning.c (sectioning_underscore): keep track of
	unnumbered sections, and their node names.

2003-11-21  Alper Ersoy  <dirt@@gtk.org>

	* makeinfo/sectioning.c (sectioning_underscore): for Docbook, always
	provide label attribute for chapter and unnumbered.
	(handle_enum_increment): simplified enumeration constraints, and
	changed to follow TeX way.  Moved marker handling to ...
	(cm_chapter, cm_unnumbered, cm_appendix): here.
	(cm_appendix): restart numbering.
d4607 1
a4607 1
2003-11-21  Alper Ersoy  <dirt@@gtk.org>
d4609 1
a4609 7
	* makeinfo/insertion.h:
	* makeinfo/insertion.c: new rawdocbook and rawxml insertion types to
	provide better block names in error messages (instead of "rawhtml" for
	everything.)
	(current_item_function, insertion_type_pname, find_type_from_name)
	(begin_insertion, end_insertion, discard_insertions, cm_docbook)
	(cm_xml, cm_item): honor new types.
d4611 1
a4611 1
2003-11-21  Alper Ersoy  <dirt@@gtk.org>
d4613 1
a4613 2
	* makeinfo/makeinfo.c (cm_image): issue only a warning instead of an
	error when .txt file is unreadable, to better comply with the manual.
d4615 3
a4617 1
2003-11-21  Alper Ersoy  <dirt@@gtk.org>
d4619 2
a4620 2
	* makeinfo/sectioning.c (sectioning_underscore): insert label="" only
	when the output format is Docbook.
d4622 1
a4622 1
2003-11-21  Alper Ersoy  <dirt@@gtk.org>
d4624 2
a4625 3
	* makeinfo/insertion.c (cm_end): get rest of the line before returning
	in case of error, so the parameter to @@end does not get leaked into
	the output document.
d4627 2
a4628 7
	* makeinfo/makeinfo.c (discard_until): when the expected string is not
	found, check to see if we are looking for @@end, and if so issue a more
	descriptive error message.
	(execute_string): keep track of insertion stack to catch multiline
	commands where they are not allowed.
	Report from: Dumas Patrice <dumas@@centre-cired.fr>, Wed, 18 Jun 2003
	09:41:56 +0200.
d4630 2
a4631 1
2003-11-21  Alper Ersoy  <dirt@@gtk.org>
d4633 1
a4633 2
	* makeinfo/multi.c (multitable_item): start <tbody> immediately if
	this a regular @@item, and first in the table
d4635 2
a4636 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4638 1
a4638 2
	* makeinfo/footnote.c (output_pending_notes): always output footnotes
	with in_fixed_width_font = 0, so entity substitutions can take place.
d4640 1
a4640 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4642 1
a4642 2
	* makeinfo/footnote.c (cm_footnote, output_pending_notes): provide
	back link from footnote marker.
d4644 1
a4644 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4646 4
a4649 2
	* makeinfo/insertion.c (cm_insert_copying): remove blockquote from
	copying_text when inside bookinfo and the output format is Docbook.
d4651 1
a4651 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4653 1
a4653 2
	* makeinfo/makeinfo.c (cm_value): return immediately instead of
	just suppressing bogus warnings.
d4655 2
a4656 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4658 1
a4658 3
	* makeinfo/makeinfo.c (cm_value): do not issue bogus warnings about
	undefined values when @@value is used inside a @@menu environment, and
	the output format is Docbook.
d4660 1
a4660 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4662 2
a4663 2
	* makeinfo/sectioning.c (sectioning_underscore): use @@settitle value
	if @@top parameter is empty.
d4665 1
a4665 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4667 1
a4667 2
	* makeinfo/xml.c (xml_begin_index): make sure we are removing the
	label attribute and not something else.
d4669 2
a4670 1
2003-11-19  Alper Ersoy  <dirt@@gtk.org>
d4672 3
a4674 5
	* makeinfo/sectioning.c (get_sectioning_number): do not append space
	with Docbook.
	(sectioning_underscore): insert label attribute to make
	distinction between chapter and unnumbered in Docbook.
	(handle_enum_increment): also increment for Docbook.
d4676 1
a4676 2
	* makeinfo/xml.c (xml_begin_index): remove label attribute from index
	element.
d4678 1
a4678 1
2003-11-18  Karl Berry  <karl@@gnu.org>
d4680 3
a4682 2
	* cmds.c (command_table): new commands @@deftypecv, @@deftypecvx.
	* defun.c, insertion.[ch], xml.c: implement them.
d4684 1
a4684 1
2003-11-18  Alper Ersoy  <dirt@@gtk.org>
d4686 1
a4686 2
	* makeinfo/makeinfo.c (execute_string): better para handling in case
	of nested executions.
d4688 1
a4688 1
2003-11-18  Karl Berry  <karl@@gnu.org>
d4690 5
a4694 3
	* doc/texinfo.txi (Multi-column Tables): include cmd name in
	section name.
	(Multitable Rows): use @@headitem in example.
d4696 1
a4696 1
2003-11-17  Alper Ersoy  <dirt@@gtk.org>
d4698 3
a4700 2
	* makeinfo/xml.c (xml_begin_document): upgraded docbook DTD to Docbook
	XML 4.2.
d4702 1
a4702 3
	* makeinfo/makeinfo.c (cm_xref):
	* makeinfo/xml.c (xml_insert_docbook_image, xml_insert_indexentry)
	(xml_begin_multitable): close previously open-tag-only elements.
d4704 2
a4705 1
2003-11-17  Karl Berry  <karl@@gnu.org>
d4707 3
a4709 1
	* bootstrap: honor environment variables.
d4711 1
a4711 1
2003-11-17  Alper Ersoy  <dirt@@gtk.org>
d4713 1
a4713 2
	* makeinfo/makeinfo.c (execute_string): end paragraphs if
	executing @@copying text with xml.
d4715 4
a4718 2
	* makeinfo/xml.c: disallow nested quotations, legalnotice in abstract,
	and samp in var with Docbook.
d4720 2
a4721 1
2003-11-17  Alper Ersoy  <dirt@@gtk.org>
d4723 1
a4723 3
	* makeinfo/insertion.c (begin_insertion): keep @@copying state.
	use legalnotice instead of abstract for @@copying.
	(cm_insert_copying): removed redundant work arounds.
d4725 4
a4728 2
	* makeinfo/makeinfo.c (execute_string): try to keep tags balanced with
	Docbook and xml.
d4730 9
a4738 4
	* makeinfo/xml.c
	(xml_current_stack_index, xml_end_current_element): new functions.
	(xml_add_char): enclose @@copying text in a quotation element with
	Docbook.
d4740 1
a4740 1
2003-11-17  Alper Ersoy  <dirt@@gtk.org>
d4742 2
a4743 2
	* makeinfo/cmds.c (cm_settitle): do not automatically start bookinfo
	element after settitle.
d4745 1
a4745 1
2003-11-17  Alper Ersoy  <dirt@@gtk.org>
d4747 1
a4747 4
	* makeinfo/xml.c (xml_synindex): new function to keep track of index
	redirections.
	(xml_insert_indexterm): added a check to see if any index
	redirections are made.
d4749 1
a4749 1
	* makeinfo/index.c (cm_synindex): let xml_synindex() handle xml part.
d4751 2
a4752 1
2003-11-17  Alper Ersoy  <dirt@@gtk.org>
d4754 1
a4754 2
	* makeinfo/makeinfo.c (cm_uref):
	* makeinfo/xml.c: use ulink for @@uref with Docbook.
d4756 1
a4756 1
2003-11-16  Karl Berry  <karl@@gnu.org>
d4758 1
a4758 3
	* util/install-info.c: protoize.
	* util/texindex.c: protoize.
	* util/dir-example (protoize,unprotoize): add.
d4760 1
a4760 3
	* doc/texinfo.tex (\everytab): new \toks.
	(\headitem): use it to typeset in bold.
	(\item): reset it.
d4762 1
a4762 1
2003-11-15  Karl Berry  <karl@@gnu.org>
d4764 1
a4764 3
	* doc/texinfo.txi (quotation): document it.
	* doc/texinfo.tex (\quotation): accept optional argument.
	(\doquotation): new macro to test for and typeset it.
d4766 1
a4766 1
	* doc/texinfo.txi (Multitable Rows): document @@headitem.
d4768 1
a4768 2
	* doc/texinfo.tex (\headitem): error by default, redefine inside
	@@multitable (= \dotable).  New command suggested by Arnold.
d4770 2
a4771 1
2003-11-15  Akim Demaille  <akim@@epita.fr>
d4773 1
a4773 2
	* util/texi2dvi (fatal): New function. Use it.
	(txiversion): Be robust to broken texinfo.tex.
d4775 3
a4777 1
	* doc/texinfo.txi (example): mention use of @@r for annotations.
d4779 2
a4780 1
2003-11-15  Alper Ersoy  <dirt@@gtk.org>
d4782 1
a4782 1
	* makeinfo/cmds.c: new command @@headitem.
d4784 3
a4786 1
	* makeinfo/insertion.c (cm_headitem): new function.
d4788 3
a4790 1
	* makeinfo/insertion.h: new variables to keep head item state.
d4792 2
a4793 5
	* makeinfo/multi.c (multitable_item, end_multitable):
	* makeinfo/xml.c (xml_end_multitable_row, xml_end_multitable):
	insert thead element if @@headitem is used.
	
	* makeinfo/xml.h: new element THEAD.
d4795 1
a4795 1
	* makeinfo/texinfo.dtd: updated multitable structure.
d4797 4
a4800 1
	* NEWS: announced @@headitem.
d4802 3
a4804 1
2003-11-14  Alper Ersoy  <dirt@@gtk.org>
d4806 1
a4806 2
	* makeinfo/makeinfo.c (cm_xref): make use of third and fifth arguments
	of @@xref with Docbook.
d4808 12
a4819 1
	* makeinfo/xml.c: use Docbook citetitle for @@cite.
d4821 1
a4821 1
2003-11-13  Karl Berry  <karl@@gnu.org>
d4823 1
a4823 1
	* doc/texinfo.tex: doc fixes.
d4825 1
a4825 1
	* configure.ac, NEWS: autoconf 2.59.
d4827 1
a4827 1
2003-11-13  Akim Demaille  <akim@@epita.fr>
d4829 1
a4829 3
	* configure.ac: Use AC_CHECK_DECLS, not txi_CHECK_DECLS.
	Also use # instead of dnl for comments.
	* acinclude.m4: Remove.
d4831 3
a4833 1
2003-11-14  Alper Ersoy  <dirt@@gtk.org>
d4835 1
a4835 4
	* makeinfo/cmds.c (cm_noindent): output continued paragraphs with
	docbook and xml only when @@noindent command is used.
	(cm_noindent_cmd): new function.  Patch from Arnold Robbins
	<arnold@@skeeve.com>, 13 Nov 2003 15:43:02 +0200.
d4837 2
a4838 1
2003-11-11  Alper Ersoy  <dirt@@gtk.org>
d4840 1
a4840 2
	* makeinfo/cmds.c (cm_i, cm_b, cm_r): do not use lineannotation if we
	are printing indices.
d4842 1
a4842 2
	* makeinfo/insertion.c (cm_insert_copying): removed unnecessary xml
	fix.
d4844 2
a4845 1
	* makeinfo/texinfo.dtd: added OElig and oelig entities.
d4847 3
a4849 1
2003-11-11  Alper Ersoy  <dirt@@gtk.org>
d4851 1
a4851 1
	* makeinfo/cmds.c (cm_sp): disabled parameter expansion.
d4853 2
a4854 1
2003-11-10  Alper Ersoy  <dirt@@gtk.org>
d4856 1
a4856 3
	* makeinfo/cmds.c:
	* makeinfo/insertion.c (cm_html): do not process @@xml blocks.
	(cm_xml): new function to process @@xml.
d4858 1
a4858 3
	* makeinfo/xml.c (xml_start_para, xml_end_para): skip para handling in
	footnote.
	(xml_insert_footnote): keep state in xml_in_footnote variable.
d4860 1
a4860 1
	* makeinfo/texinfo.dtd: updated settitle definition.
d4862 3
a4864 1
2003-11-10  Karl Berry  <karl@@gnu.org>
d4866 1
a4866 2
	* doc/texinfo.txi (Output Formats): rewrite to fix underfull
	boxes.
d4868 1
a4868 1
2003-11-10  Alper Ersoy  <dirt@@gtk.org>
d4870 2
a4871 1
	* doc/texinfo.tex (\commondummies): added registeredsymbol.
d4873 1
a4873 1
2003-11-09  Alper Ersoy  <dirt@@gtk.org>
d4875 2
a4876 2
	* makeinfo/makeinfo.c (main): fixed a segfault with --html
	--no-header.
d4878 1
a4878 1
2003-11-09  Alper Ersoy  <dirt@@gtk.org>
d4880 4
a4883 1
	* makeinfo/html.c (html_output_head): output node name in title first.
d4885 2
a4886 1
2003-11-09  Alper Ersoy  <dirt@@gtk.org>
d4888 17
a4904 3
	* makeinfo/xml.c:
	* makeinfo/xml.h: new Docbook elements for quotation: tip, note,
	important, warning, caution.
d4906 1
a4906 5
	* makeinfo/xml.c: better font tags for Docbook.
	(xml_insert_quotation): new function that is aware of specialized
	Docbook elements for quotation.
	(xml_insert_entity): use add_char() instead of insert() for correct
	paragraph handling.
d4908 3
a4910 4
	* makeinfo/insertion.c (begin_insertion, end_insertion): use
	xml_insert_quotation() for quotations.
	(cm_quotation): removed quotation element insertion.
	(cm_insert_copying): also work around xml tags.
d4912 4
a4915 1
	* makeinfo/cmds.c (cm_b): really use bold with Docbook.
d4917 3
a4919 1
	* NEWS: @@quotation changes.
d4921 1
a4921 1
2003-11-08  Karl Berry  <karl@@gnu.org>
d4923 5
a4927 1
	* doc/texinfo.txi (registeredsymbol): new node.
d4929 1
a4929 2
	* doc/Makefile.am (HELP2MAN): invoke explicitly from $(srcdir), in
	case . is not in PATH.
d4931 1
a4931 2
	* configure.ac (AC_CONFIG_HEADERS): apparent AM_CONFIG_HEADERS is
	obsolete now, and we get to use AC_CONFIG_HEADERS again.
d4933 2
a4934 2
	* doc/texinfo.txi (Fonts): mention <lineannotation> feature in
	Docbook feature.
d4936 2
a4937 2
	* doc/texinfo.txi (itemx): warn not to use blank lines between
	@@itemx's.
d4939 1
a4939 1
2003-11-08  Alper Ersoy  <dirt@@gtk.org>
d4941 2
a4942 3
	* makeinfo/cmds.c (cm_i, cm_b, cm_r): for Docbook, use <lineannotation>
	in @@example-like environments.
	(cm_r): For HTML use <span> to make sure we always get roman text.
d4944 3
a4946 3
	* makeinfo/xml.c:
	* makeinfo/xml.h: new docbook element <lineannotation>.  Added also to
	replace_elements to avoid nesting.
d4948 4
a4951 1
2003-11-08  Alper Ersoy  <dirt@@gtk.org>
d4953 3
a4955 2
	* doc/texinfo.txi (Custom Headings): removed a newline that broke
	Docbook output.
d4957 1
a4957 2
	* NEWS:
	* makeinfo/cmds.c: new command @@registeredsymbol
d4959 4
a4962 4
	* makeinfo/cmds.c (cm_registeredsymbol): new function.
	(cm_code): fixed in_fixed_width_font adjustment for XML and Docbook
	outputs.
	(cm_noindent, cm_indent): set xml_no_indent as well.
d4964 4
a4967 2
	* makeinfo/makeinfo.c (reader_loop): use entities for double quotes
	and dashes in HTML, XML and Docbook outputs.
d4969 1
a4969 5
	* makeinfo/multi.c (setup_multitable_parameters): convert
	@@columnfractions to integer percentages (original code from Arnold
	Robbins <arnold@@skeeve.com>.)
	(multitable_item, cm_tab): add width attribute to <td> element if
	@@columnfractions is used.
d4971 4
a4974 3
	* makeinfo/texinfo.dtd: added an optional role attribute to para
	element (used for @@noindent.)  New attributes ldquo, rdquo, ndash,
	mdash, registered.
d4976 6
a4981 4
	* makeinfo/xml.c: replaced repeated command element with more
	appropriate Docbook elements in docbook_element_list.
	(xml_start_para, xml_end_para): new functions to centralize paragraph
	handling.
d4983 3
a4985 1
	* makeinfo/xml.h: new variable xml_no_indent.
d4987 7
a4993 1
2003-11-07  Karl Berry  <karl@@gnu.org>
d4995 4
a4998 2
	* bootstrap: run the various auto* tools we need instead of
		autoreconf, which copies in older versions of files.
d5000 5
a5004 2
	* doc/Makefile.am (texinfo): remove the special rule, it seems to
		be fixed.
d5006 4
a5009 4
	* Makefile.am (AUTOMAKE_OPTIONS): bump to 1.7.8.
	* doc/version.texi, doc/version-stnd.texi: cvs add these again,
	because with AM_MAINTAINER_MODE they are not created
	(unless --enable-maintainer-mode is given).
d5011 4
a5014 4
	* doc/Makefile.am (*.1) [MAINTAINER_MODE]: use this conditional
	instead of TEXINFO_MAINT, now that we have it.
	* configure.ac (TEXINFO_MAINT): no longer needed, since we call
	AM_MAINTAINER_MODE.
d5016 2
a5017 1
2003-11-06  Karl Berry  <karl@@gnu.org>
d5019 1
a5019 2
	* bootstrap: ok, restore --force since it doesn't help Alper
	anyway.
d5021 1
a5021 3
	* AUTHORS: Silly syntax.
	* bootstrap: no --force, everything is considered obsolete then
	(thanks Alper).
d5023 1
a5023 1
2003-11-06  Alper Ersoy  <dirt@@gtk.org>
d5025 1
a5025 4
	* makeinfo/html.c (html_output_head): add <link> elements pointing to
	top, up, next, prev nodes when splitting output, and to top when not
	splitting.  Also provide a link to Texinfo homepage.
	(add_link): use nodename as title attribute.
d5027 3
a5029 1
2003-11-05  Alper Ersoy  <dirt@@gtk.org>
d5031 3
a5033 2
	* makeinfo/html.c (html_output_head): append node name to title if
	splitting.  Escape special chars in title.
d5035 1
a5035 2
	* makeinfo/node.c (cm_node): removed <link> elements from HTML node
	navigation <div> as they are only allowed in <head>.
d5037 3
a5039 1
2003-11-05  Alper Ersoy  <dirt@@gtk.org>
d5041 1
a5041 3
	* doc/texinfo.txi (Installing Dir Entries): fixed @@uref for Free
	Software Directory.
	(Command List): Escaped @@/.
d5043 2
a5044 4
	* info/display.c (handle_tag, handle_tag_start, handle_tag_end): new
	functions.
	(display_update_one_window): ignore the text between magic
	tags/cookies.
d5046 1
a5046 3
	* makeinfo/cmds.c (cm_dots, cm_enddots): use insert_string() for HTML
	to avoid escaping.
	(cm_bullet): use entity name (bull) instead of number (149).
d5048 1
a5048 1
	* makeinfo/index.c (cm_printindex): escape expanded_index.
d5050 1
a5050 4
	* makeinfo/lang.c (cm_accent_generic_html): handle @@dotless{i}
	correctly.
	(cm_special_char): use entity names for @@OE (OElig) and @@oe (oelig)
	instead of numbers.
d5052 1
a5052 1
	* makeinfo/node.c (cm_node): escape node names in HTML output.
d5054 2
a5055 3
	* makeinfo/xml.c (xml_id): check to see if the character is allowed.
	
	* makeinfo/tests/accent-text.txi: new @@dotless{j} lines.
d5057 2
a5058 1
	* makeinfo/tests/accent: look for &acute;j instead of &acute;i.
d5060 3
a5062 1
	* TODO: removed item about @@dotless in HTML output.
d5064 3
a5066 1
2003-11-04  Karl Berry  <karl@@gnu.org>
d5068 1
a5068 2
	* util/Makefile.am (EXTRA_DIST): spurious space after trailing
	backslash.
d5070 1
a5070 1
	* configure.ac (AC_PREREQ): 2.58.
d5072 1
a5072 1
2003-11-03  Karl Berry  <karl@@gnu.org>
d5074 3
a5076 1
	* util/Makefile.am (EXTRA_DIST): add gdoc.
d5078 2
a5079 1
2003-11-02  Karl Berry  <karl@@gnu.org>
d5081 1
a5081 1
	* util/gendocs.sh: doc fix.
d5083 2
a5084 2
	* doc/texinfo.txi (Using Texinfo): merge most details into ...
	(Output Formats): ... this section.
d5086 4
a5089 1
	* util/dir-example (VM): add.
d5091 1
a5091 1
2003-11-01  Alper Ersoy  <dirt@@gtk.org>
d5093 1
a5093 2
	* doc/texinfo.txi (Conditional Commands): Docbook text should
		really use @@ifdocbook.
d5095 2
a5096 3
	* info/info.c (raw_escapes_p): 1 by default.
	(long_options): new option no-raw-escapes.
	* doc/info-stnd.texi (Invoking Info): document it.
d5098 2
a5099 1
2003-10-31  Alper Ersoy  <dirt@@gtk.org>
d5101 2
a5102 4
	* makeinfo/xml.c:
	* makeinfo/xml.h:
	* makeinfo/insertion.c (handle_verbatim_environment): use
	<![[CDATA...]]> for @@verbatim in docbook output too.
d5104 2
a5105 1
2003-10-31  Karl Berry  <karl@@gnu.org>
d5107 1
a5107 148
	* TODO: image scaling in html needed.
	* makeinfo/cmds.c (cm_strong): only give the warning if we're
	actually producing Info output.

	* makeinfo/cmds.c (cm_strong): reword message and check for only
	*Note:, not *Note:*.  From: Kevin Ryde <user42@@zip.com.au>, 31 Oct
	2003 06:19:05 +1000.

2003-10-29  Karl Berry  <karl@@gnu.org>

	* doc/texinfo.txi (Def Cmd Template): shorten.
	* makeinfo/makeinfo.c: help message.
	* doc/texinfo.tex: version update.
	* makeinfo/texinfo.dtd: update copyright.

2003-10-28  Alper Ersoy  <dirt@@gtk.org>

	* makeinfo/cmds.c: output correct elements for @@command,
	@@env, @@file, @@option and @@samp commands, and also handle
	@@titlepage in xml output.  New commands: @@docbook,
	@@ifdocbook and @@ifnotdocbook for conditional docbook output.

	* makeinfo/defun.c (args_from_string): allow comma to be
	recognized as a separate token to help XML side of things.
	(process_defun_args): let xml.c handle xml output.

	* makeinfo/insertion.c: handle @@verbatim properly when
	outputting xml.  This means: surround data with a <verbatim>
	block, use <![[CDATA ... ]]> and disable escaping.
	Recognize @@titlepage, @@docbook, @@ifdocbook and
	@@ifnotdocbook.
	(cm_insert_copying): do not trust the consistency of
	copying_text, because full_expansion doesn't let open
	docbook elements to be closed.
	(cm_item): generate correct index entries in xml output.

	* makeinfo/insertion.h: new insertion types: ifdocbook,
	ifnotdocbook, titlepage.

	* makeinfo/lang.c: notify language changes with
	@@documentlanguage in xml output, using <documentlanguage
	xml:lang=".." /> elements.

	* makeinfo/makeinfo.c: trailing encoding settings in html
	output are commented.  Do not append any encoding settings
	to xml and docbook outputs.  Set process_docbook variable
	for @@docbook, etc. and updated --help about it.
	(set):
	(clear): Output @@set and @@clear in xml so it's possible to
	pass variables to further processors.

	* makeinfo/makeinfo.h: process_docbook and
	inside_titlepage_cmd (to check validity of @@author, @@title,
	@@subtitle, etc.)

	* makeinfo/sectioning.c: heading-only commands (@@chaphading,
	etc.) do not start/end sections in xml output.  They are now
	equivalents of the title element.

	* makeinfo/toc.c: @@contents and @@shortcontents now appear in
	the output.

	* makeinfo/xml.c: changed element_list typedefs to also note
	whether an element is filled.  Prefilled elements get
	xml:space="preserve" attribute.  Added xml prolog.  Root element
	in xml output gets the document language like it does in
	docbook, but with xml:lang.  Removed indentation for xml
	output.  Also lines in paragraphs are joined.
	(xml_process_defun_args):
	(xml_begin_definition):
	(xml_end_definition):
	(xml_begin_def_term):
	(xml_end_def_term): functions to handle @@def environments.

	* makeinfo/xml.h: new elements in xml_element enum:
	TITLEPAGE, AUTHOR, BOOKTITLE, BOOKSUBTITLE, COMMAND_TAG,
	ENV, FILE_TAG, OPTION, SAMP, CONTENTS, SHORTCONTENTS,
	DOCUMENTLANGUAGE, VERBATIM, SETVALUE, CLEARVALUE, DEF*.
	(Suffices of COMMAND_TAG and FILE_TAG are to avoid variable
	name clashes.)

	* makeinfo/texinfo.dtd: updated to reflect changes.

	* doc/texinfo.tex: skip @@docbook and @@ifdocbook.

2003-10-28  Karl Berry  <karl@@gnu.org>

	* util/gendocs.sh: new -o option to specify output directory.

2003-10-27  Karl Berry  <karl@@gnu.org>

	* lib/system.h (LC_MESSAGES): no longer needed according to
	Bruno, libintl.h defines it.
	Message of 16 Jul 2003 18:17:23 +0200.

2003-10-27  Stepan Kasal  <kasal@@ucw.cz>

	* doc/texinfo.tex (\defname): be sure to declare the space
	  we get from \rightskip in the first line.
	  (\parsebodycommon): Be careful not to issue \medbreak after
	  \penalty 2000.
	  (\defxbodycommon): The penalty changed from 2000 to 3000;
	  it should be higher that the one in \parsebodycommon.
	  -- added "@@c vim:sw=2:" near the end, for my comfort.

2003-10-27  Stepan Kasal  <kasal@@ucw.cz>

	More cleanup of active chars in @@defxx arguments:

	* doc/texinfo.tex (\opnr, \clnr): Reimplemented, ...
	  (\oprm, \clrm, \opnested, \ampnr): ... nuking these, and using ...
	  (\parenfont, \infirstlevel, \bfafterword): ... 3 new macros, ...
	  (\ifampseen): ... and a new \if.
	  (\brackcount): New count, to count also square braces, ...
	  (\lbrb, \rbrb): ... here.
	  (\checkparencounts): Macros to check whether both counts get back
	  to 0; ...
	  (\badparencount, \badbrackcount): ... if not, issue an error
	  message and reset the respective count.
	  (\deftypefnheaderx): Don't call \normalparens, it has no effect.
	  (\defvarargs): Call \boldbrax instead of \normalparens.
	  (\normalparens): Nuked.

2003-10-26  Eli Zaretskii  <eliz@@is.elta.co.il>

	* info/session.c (info_menu_or_ref_item): If point is before all
	the cross-references, use the first one as the default, instead of
	setting which to -1 and crashing.  (Patch originally sent 2000-10-09.)
	Debian bug 74278, reported from: Josip Rodin <joy@@cibalia.gkvk.hr>,
	7 Oct 2000 19:44:24 +0200.

2003-10-26  Karl Berry  <karl@@gnu.org>

	* configure.ac (AM_MAINTAINER_MODE): enable, to avoid lossage
	when Texinfo sources are imported into other
	repositories (NetBSD, TeX Live).
	Most recently suggested by Thomas Klausner
	<wiz@@danbala.ifoer.tuwien.ac.at>, 9 Sep 2003 14:57:09 +0200.

	* makeinfo/node.c (validate_file): ensure tem1 && tem2 before
	running STREQ.  Report from: Akim Demaille <akim@@epita.fr>,
	13 Oct 2003 10:43:10 +0200.

	* doc/Makefile.am (infokey.1): new target.
	(man_MANS): include infokey.1.
	Noticed this in Debian diff.
	
	* util/texi2dvi: check for tex up front; inspired by Debian diff.
d5109 1
a5109 2
	* TODO: makeinfo -E should do simple macro expansion, not
	validity checking (even syntax, for @@tex processing).
d5111 3
a5113 7
	From: Stepan Kasal <kasal@@ucw.cz>, 24 Oct 2003 19:10:02 +0200.
	Start at making makeinfo -E behave more like a macro preprocessor,
		avoiding consistency checks.
	* makeinfo/insertion.c (cm_menu,cm_detailmenu): avoid checks if
	macro_expansion_output_stream.
	* makeinfo/makeinfo.c (main): set validating=0 if
	macro_expansion_output_stream.
d5115 3
a5117 3
	* util/texi2dvi (comment_iftex_sed): don't think we need to
	comment out @@ifhtml sections here, makeinfo will not expand them
	by default.
d5119 1
a5119 1
2003-10-25  Karl Berry  <karl@@gnu.org>
d5121 1
a5121 2
	* info/info.c: --raw-escapes affects Info files, not just man
	pages.
d5123 2
a5124 2
	* doc/texinfo.tex: novalis doesn't like my clarification, so make
	it a special exception instead.
d5126 1
a5126 1
2003-10-24  Stepan Kasal  <kasal@@ucw.cz>
d5128 1
a5128 6
	* doc/texinfo.tex (\defname): Cleanup of this macro.
	  (\boldbraxnoamp): Nuked, it's equivalent to \boldbrax;
	  the caller changed.
	  Other minor cleanups around active paretheses.
	  (\defunargs): After reporting the "Unbalanced paretheses" error,
	  reset the count.
d5130 1
a5130 1
2003-10-24  Karl Berry  <karl@@gnu.org>
d5132 3
a5134 2
	* doc/texinfo.txi (makeinfo advantages): mention that plain text
	--no-headers does --enable-encoding.
d5136 1
a5136 1
2003-10-23  Karl Berry  <karl@@gnu.org>
d5138 1
a5138 4
	* makeinfo/macro.c (define_macro): write the macro definition
	itself to the output stream, to give texinfo.tex a chance at it.
	Report from: Akim Demaille <akim@@epita.fr>, 22 Oct 2003 17:15:34
	+0200.
d5140 2
a5141 3
	* doc/texinfo.tex (\readauxfile): make the \openout\auxfile be
	\immediate, to avoid spurious terminal output from the
	\immediate's in \setref.
d5143 19
a5161 1
2003-10-23  Stepan Kasal  <kasal@@ucw.cz>
d5163 5
a5167 19
	Rewrite \parsearg:
	* doc/texinfo.tex (\parsearg, \parseargusing): \parseargusing is
	  a new macro which works just like good old \parsearg but takes
	  one more parameter which contains code to be performed within
	  a group just before we slurp the rest of the line---typically,
	  some catcode chages go here.
	  (\parseargx): Insert an \empty token before the arg to be read,
	  to prevent loosing of braces.  (Thus @@end{foo} no longer works.)
	  (\parseargline, \argremovecomment, \argremovec): Change the way
	  comments are stripped; do not use \toks0.
	  (\removeactivespaces): is now called directly from \parsearg (via
	  \parseargusing and \argremovec), and stripps only the trainling
	  active spaces, doesn't perform expansion.
	  (\finishparsearg): New macro, finishes \parsearg by nuking the
	  added \empty token.
	  (\end, \endxxx): Don't call \removeactivespaces, don't use \toks0;
	  because of efficiency, move the error handling to ...
	  (\badenderror): ... a new macro.
	  (\doverbatim): ``\end{verbatim}'' changed to ``\end verbatim.''
d5169 8
a5176 10
	Cleanup of various details with active spaces.
	  (\parseargx): Do the \futurelet and move the rest ...
	  (\parseargy): ... to a new macro;
	  (\parseargusing): caller changed;
	  (\parseargdiscardspace): the other caller nuked.
	  (\obeyedspace, \sepspaces, \unsepspaces): Move near to \parsearg.
	  (\obeyedspace): Is now a macro containing the active space.
	  (\unsepspaces): No longer makes spaces active.
	  (\ignoreactivespaces): Nuked, it's only appearance in ...
	  (\aliasxxx): ... replaced by direct code.
d5178 3
a5180 1
2003-10-23  Karl Berry  <karl@@gnu.org>
d5182 3
a5184 1
	* doc/texinfo.tex: comments at top.
d5186 4
a5189 1
	* AUTHORS: add kama.  (kama's address is now khmarbaise@@gmx.de.)
d5191 1
a5191 1
2003-10-21  Karl Berry  <karl@@gnu.org>
d5193 1
a5193 3
	* util/gendocs.sh: revision of mohit's original.
	* util/Makefile.am (EXTRA_DIST): add gendocs.sh and
		gendocs_template.
d5195 3
a5197 1
2003-10-20  Karl Berry  <karl@@gnu.org>
d5199 1
a5199 7
	* makeinfo/cmds.c (handle_include): only close_paragraph if
	!insertion_stack, else we get extra blank lines when
	used inside @@example.
	* makeinfo/insertion.c (handle_verbatim_include): likewise, plus
		move the indentation around.
	Report from: Brian Gough <bjg@@network-theory.co.uk>,
	20 Oct 2003 14:36:49 +0100.
d5201 1
a5201 2
	* makeinfo/makeinfo.c (close_paragraph): formatting changes to
		minimize lines.
d5203 2
a5204 5
	* makeinfo/insertion.c (end_insertion): for html output in the
	example/etc. case, kill_self_indent to get rid of
	leading whitespace.
	Report from: Brian Gough <bjg@@network-theory.co.uk>,
	20 Oct 2003 14:36:49 +0100.
d5206 1
a5206 1
2003-10-16  Karl Berry  <karl@@gnu.org>
d5208 2
a5209 4
	* doc/texinfo.tex (\shortcontbf): cmb10 scaled \magstep1, not cmb12,
	since cmb12 is not a standard font.
	Report from: Staszek Wawrykiewicz <staw@@gust.org.pl>,
	16 Oct 2003 06:44:40 +0200.
d5211 1
a5211 1
2003-10-14  Karl Berry  <karl@@gnu.org>
d5213 1
a5213 2
	* lib/xstrdup.c: put old version back, we're not ready for gnulib
	xmalloc yet.
d5215 3
a5217 2
	* makeinfo/insertion.c: undo xml_no_para change, it causes more
	problems than it solves, according to Alper (Ersoy, <dirt@@gtk.org>).
d5219 4
a5222 1
2003-10-12  Karl Berry  <karl@@gnu.org>
d5224 1
a5224 2
	* makeinfo/insertion.c (begin_insertion,end_insertion): in rawhtml
	case (also used for rawxml), increment and decrement xml_no_para.
d5226 1
a5226 4
	* makeinfo/lang.c (cm_documentencoding): force the normal (info)
	expansion when reading the arg, even when parsing xml/html/docbook.
	Report from: Kevin Ryde <user42@@zip.com.au>,
	13 Oct 2003 10:02:23 +1000.
d5228 6
a5233 1
2003-10-09  Karl Berry  <karl@@gnu.org>
d5235 3
a5237 5
	* doc/texinfo.tex (\chapterzzz,...,\unnumberedsubsubseczzz): make
	section number settings \global.  Otherwise, when chapters are
	@@included, they are ineffective and every chapter is numbered 1.
	For instance, the Emacs and Elisp manuals.  Thanks to Stepan for
	analysis.
d5239 2
a5240 1
	* doc/texinfo.tex: add arch-tag for miles.
d5242 1
a5242 1
2003-10-08  Stepan Kasal  <kasal@@ucw.cz>
d5244 1
a5244 10
	* doc/texinfo.tex (\onepageout): At the beginning of \shipout, call
	    \pdfdest directly, not via \pdfmkdest.
	  (\pdfmkdest): Call also \atdummies before \pdfdest.
	  (\donoderef): Remove the unsuccessful attempt to expand \lastnode
	    before passing it to \setref (it only expanded `{' twice);
	    things would screw up if \lastnode was expanded too much.
	  (\setref): Rewritten, don't call \atdummies, don't expand
	    \thissection.
	  (\dosetq, \internalsetq, \Ypagenumber, \Ytitle): Nuked.
	  (\chfplain): Remove referrence to \Ytitle from a comment.
d5246 1
a5246 1
2003-10-08  Karl Berry  <karl@@gnu.org>
d5248 1
a5248 1
	* doc/texinfo.tex: spurious space and comment (from Stepan).
d5250 2
a5251 2
	* NEWS: automake 1.7.8.
	* util/dir-example: include netpbm.
d5253 1
a5253 1
2003-10-07  Karl Berry  <karl@@gnu.org>
d5255 2
a5256 2
	* doc/texinfo.tex (\defbf, shortcontbf): use \bfshape instead of
	\bxshape, so we use cmb consistently instead of cmbx.
d5258 1
a5258 2
	* doc/texinfo.txi: more index entries for em/en dashes, fix
		capitalizations of cindex entries.
d5260 1
a5260 1
2003-10-07  Stepan Kasal  <kasal@@ucw.cz>
d5262 1
a5262 2
	* doc/texinfo.tex (\defname): Don't use \ifempty.
	  (\ifempty): Nuke.
d5264 1
a5264 1
2003-10-06  Stepan Kasal  <kasal@@ucw.cz>
d5266 2
a5267 3
	* doc/texinfo.tex (\dosubind, \doind): Cleanup, move code ...
	  (\dosubindwrite, \dosubindsanitize): ... to new macros,
	  (\emptymacro): and nuke this one.
d5269 1
a5269 3
	* doc/texinfo.tex (\Ypagenumber): Add `\noexpand,' so that ...
	  (\dosetq): ... doesn't have to redefine \folio.  Move \iflinks ...
	  (\setref): ... here.
d5271 4
a5274 1
2003-10-06  Karl Berry  <karl@@gnu.org>
d5276 1
a5276 3
	* doc/texinfo.tex (\setdeffont): remove; this used DEF instead of
	def, and thus had no effect for some years, so
	clearly no one has been using it.  Noticed by Stepan.
d5278 6
a5283 1
2003-10-04  Karl Berry  <karl@@gnu.org>
d5285 1
a5285 4
	* doc/texinfo.txi: document hyphen -> dash suppression in literal
	contexts, and verbatim commands not working inside other commands.
	Report from: Luc Teirlinck <teirllm@@dms.auburn.edu>, 2 Oct 2003
	22:45:14 -0500,
d5287 3
a5289 4
	* doc/texinfo.tex (\commondummies,\indexnofonts): no-op @@verb; I
	doubt this is sufficient to make @@verb work in index entries etc.,
	but it's a start.  Analysis from: Andreas Schwab <schwab@@suse.de>,
	02 Oct 2003 18:54:40 +0200.
d5291 1
a5291 1
2003-09-28  Karl Berry  <karl@@gnu.org>
d5293 2
a5294 1
	* TODO: add item for conversion of non-texinfo manuals.
d5296 1
a5296 1
2003-09-26  Karl Berry  <karl@@gnu.org>
d5298 2
a5299 1
	* CVSROOT/loginfo: back to log_accum.
d5301 1
a5301 5
	* doc/texinfo.tex (\parsebodycommon): increase \penalty between
	headers to 2000 from 0.
	(\defxbodycommon): check for 10002, not 1000.  We don't want to
	allow a page break after a section heading.  Hmm, but it seems
	this should never be called next after a section heading?
a5302 1
2003-09-25  Karl Berry  <karl@@gnu.org>
d5304 2
a5305 3
	* makeinfo/cmds.c (cm_strong): warn if argument is exactly
	"Note:", since that conflicts with Info usage.  Suggestion from
	rms.
d5307 5
a5311 1
2003-09-24  Karl Berry  <karl@@gnu.org>
d5313 2
a5314 8
	* doc/texinfo.tex (\dosubind): must propagate penalty after all,
	because we insert a non-discardable item (the whatsit), which
	makes following glue a breakpoint.  Now I understand (maybe).
	(\sectionheading): must end with \nobreak after
	all, purely to make \lastpenalty 10000 so future code can check
	that and avoid breaks.
	(\parsebodycommon): such as this code; don't do a
	\medbreak if lastpenalty >=10000.
d5316 1
a5316 3
	* doc/texinfo.tex (\tocindent): decrease to 2pc.
	(\{app,unn}sub{sub,}secentry): redefine so that they
	indent properly.
d5318 2
a5319 1
2003-09-23  Karl Berry  <karl@@gnu.org>
d5321 1
a5321 6
	* doc/texinfo.tex (\dosubind): remove my misbegotten idea of
	propagating the penalty; all that did was increase the chance of a
	valid breakpoint.  Bug report from: Werner LEMBERG <wl@@gnu.org>,
	23 Sep 2003 15:47:31 +0200.
	(\numhead,\apphead,\unnmhead): avoid spurious
	blank spaces, for cleanliness.
d5323 1
a5323 3
	* CVSROOT/loginfo: syncmail instead of external log_accum.
	* doc/texinfo.tex (\sectionheading): remove extraneous \nobreak,
	found by Stepan (of course).
d5325 15
a5339 1
2003-09-22  Stepan Kasal  <kasal@@ucw.cz>
d5341 1
a5341 3
	* doc/texinfo.tex (\sectionheading): the space below a section
	  heading should have fixed size; \nobreak after a \vskip is
	  redundant.
d5343 1
a5343 1
2003-09-21  Karl Berry  <karl@@gnu.org>
d5345 1
a5345 4
	* doc/texinfo.tex (\sectionheading): make space below be half of
	space above, and don't add \parskip to space above.  Suggestion
	from Han-Wen Nienhuys <hanwen@@cs.uu.nl>, implementation ideas from
	Stepan Kasal <kasal@@math.cas.cz>, 16 Sep 2003 11:30:43 +0200.
d5347 1
a5347 1
2003-09-21  Stepan Kasal  <kasal@@ucw.cz>
d5349 10
a5358 4
	* doc/texinfo.tex (\dosuppressfirstparagraphindent): change the
	  redefinition of \indent and \noindent and factor out common
	  parts of all redefinitions to ...
	  (\restorefirstparagraphindent): ... a new macro.
d5360 2
a5361 1
2003-09-20  Karl Berry  <karl@@gnu.org>
d5363 1
a5363 4
	* makeinfo/macro.c (cm_alias): do not expand when calling
	get_until_in_line, since xml/docbook expansion is empty.
	Report from: Richard Kreuter <kreuter@@anduril.rutgers.edu>,
	17 Sep 2003 17:59:58 -0400.
d5365 1
a5365 2
	* info/signals.c: Clear the screen when exiting from a SIGQUIT.
	From: Wojciech Polak <polak@@gnu.org>, 19 Sep 2003 10:27:28 +0200.
d5367 3
a5369 1
2003-09-16  Stepan Kasal  <kasal@@ucw.cz>
d5371 1
a5371 3
	* doc/texinfo.tex (\sectionheading): there is no need to insert
	  \nobreak before a kern which is not followed by
	  a glue.  Such a kern is not a permissible breakpoint.
d5373 1
a5373 1
2003-09-16  Simon Law <sfllaw@@uwaterloo.ca>
d5375 2
a5376 4
	* doc/texinfo.tex (\dosuppressfirstparagraph): Gobble \noindent
	if it occurs in the first paragraph.
	(\ptexnoindent): for saving/restoring \noindent in @@tex.
	(\footnote): Neutralise the effect of @@noindent within a footnote.
d5378 1
a5378 1
2003-09-16  Karl Berry  <karl@@gnu.org>
d5380 2
a5381 28
	* doc/texinfo.tex: Changes to make pdf references go to the correct
	place on the page.  This is most easily testable
	at high magnifications (I used 400% and 800%).
	(\output): put \the\pageno pdfdest at very
	beginning of \shipout.(\dopdfoutline): new macro.
	(\pdfmakeoutlines): recompute all section numbers.
	(\unnumberedno): \newcount.
	(\chapterzzz,\appendixzzz,\unnumberedzzz,
	 ..., \unnumberedsubsubseczzz): abstract common
	elements, keep track of numbering for everything.
	(\doheading,\dosubheading,\dosubsubheading): call
	\sectionheading directly instead of \plain*secheading.
	(\chfplain, \sectionheading): take additional section type
	argument; call \writetocentry and \donoderef.  
	(\unnchfopen): mention this is deprecated.
	(\writetocentry): handle "omit" case, and
	\global\pdfmakepagedesttrue.
	(\startcontents, \summarycontents): sectioning
	commands take an extra arg.
	(\dosub*secentry): take extra arg with section
	number; change callers.
	(\pdfcatalog): move this call to the opening PDF
	commands, for clarity.
	(\unnumbnoderef): no longer needed, collapsed into
	\donoderef.(\Yomitfromtoc): new xref constant.
	(\Ynumbered,\Yappendix): renamed from
	\Ysectionnumberedandtype and
	\Yappendixletterandtype, for clarity.
d5383 4
a5386 1
	* doc/texinfo.txi (cartouche): omit invalid @@group.
d5388 1
a5388 2
	* makeinfo/node.c (cm_node): restore accesskey= on the <link>s.
	From hanwen.
d5390 1
a5390 1
2003-09-15  Karl Berry  <karl@@gnu.org>
d5392 1
a5392 1
	* util/dir-example: add guile-tut.
d5394 1
a5394 4
	* info/session.c (info_follow_menus): take the first best_guess
	rather than the last.
	From: Rob Browning <rlb@@defaultvalue.org>,
	15 Sep 2003 01:26:17 -0500.
d5396 1
a5396 1
2003-09-13  Karl Berry  <karl@@gnu.org>
d5398 1
a5398 1
	* automake 1.7.7.
d5400 2
a5401 5
	* makeinfo/insertion.c (begin_insertion): start cartouche html output
	with <p>.  @@cartouche can't be used meaningfully
	within a paragraph.
	Report from: Simon Josefsson <jas@@extundo.com>,
	11 Sep 2003 19:25:20 +0200.
d5403 2
a5404 1
2003-09-12  Karl Berry  <karl@@gnu.org>
d5406 3
a5408 4
	* makeinfo/tests/html-manuals: include -I../../doc for case when
	version-stnd.texi is in build tree.
	From: ezra peisach <epeisach@@med-xtal.bu.edu>, 
	12 Sep 2003 13:53:32 -0400.
d5410 2
a5411 1
2003-09-11  Karl Berry  <karl@@gnu.org>
d5413 2
a5414 5
	* doc/texinfo.txi (Cartouche): document that @@cartouche needs to
		be outside the @@example for HTML output to work.  This
		is painful to fix in the current makeinfo.
	Report from: Simon Josefsson <jas@@extundo.com>,
	11 Sep 2003 15:21:44 +0200.
d5416 5
a5420 1
2003-09-10  Karl Berry  <karl@@gnu.org>
d5422 1
a5422 4
	* makeinfo/sectioning.c (section_alist): add entry for centerchap,
	so at least makeinfo does not bomb out.  (No centering is actually
	done.)  From: Denys Duchier <duchier@@ps.uni-sb.de>, 10 Sep 2003
	21:35:24 +0200.
d5424 1
a5424 1
	* lib/system.h: __CYGWIN__ in comments, too.
d5426 2
a5427 1
2003-09-09  Karl Berry  <karl@@gnu.org>
d5429 2
a5430 1
	* bootstrap: --include=m4.  From Werner.
d5432 1
a5432 1
2003-09-08  Karl Berry  <karl@@gnu.org>
d5434 4
a5437 5
	* lib/system.h: make that __CYGWIN__, not __unix__.  From Eli.
	* lib/system.h (DEFAULT_TMPDIR,PATH_SEP) [O_BINARY && !__unix__]:
	new case for cygwin, from: Thomas Klausner
	<wiz@@danbala.ifoer.tuwien.ac.at>, 8 Sep 2003 13:43:29 +0200
	(for cross-building netbsd).
d5439 5
a5443 1
2003-09-04  Karl Berry  <karl@@gnu.org>
d5445 3
a5447 3
	* texinfo.txi (Conventions): say more about quotations and dashes,
	based on a report to help-texinfo from
	David.Billinghurst@@riotinto.com, 18 Jul 2003 16:07:00 +1000.
d5449 5
a5453 1
	* NEWS: mention @@tex/@@iftex are executed in a group.
d5455 4
a5458 1
2003-09-03  Karl Berry  <karl@@gnu.org>
d5460 1
a5460 5
	* doc/texinfo.txi (Macro Details): mention some makeinfo
	limitations too, from recent bug reports by Patrice Dumas
	<dumas@@centre-cired.fr> and (16 Jul 2003 17:21:56 +0200) Jesper
	Harder <harder@@ifa.au.dk>.
	* makeinfo/macro.c (define_macro): "end rmacro" is 10 chars long.
d5462 1
a5462 4
2003-08-29 Reiner Steib <Reiner.Steib@@gmx.de>
	
	* makeinfo/lang.c (encoding_table): Downcase coding system
	names, since Emacs does not recognize the uppercase names.
d5464 1
a5464 1
	* makeinfo/lang.h: doc fixes.
d5466 2
a5467 1
2003-08-28  Karl Berry  <karl@@gnu.org>
d5469 1
a5469 5
	* bootstrap: new file (cvs only).
	* README.dev: mention it.
	Report from hanwen@@cs.uu.nl, sample script from
	Akim Demaille <akim@@epita.fr>.
	* aclocal.m4: remove from cvs repository.
d5471 3
a5473 1
2003-08-26  Karl Berry  <karl@@gnu.org>
d5475 2
a5476 3
	* makeinfo/node.c (cm_node): add <LINK> tags. This will produce a
	navigation bar in Mozilla 1.4 (and perhaps earlier).  Original
	code from Han-Wen Nienhuys <hanwen@@cs.uu.nl>.
d5478 1
a5478 1
2003-08-23  Karl Berry  <karl@@gnu.org>
d5480 2
a5481 3
	* util/texi2dvi: Run tex --help in $tmpdir, to avoid leaving
	texput.log for old TeX versions.  Report from Patrick Welche
	<prlw1@@newn.cam.ac.uk>, patch from Akim.
d5483 1
a5483 1
2003-08-20  Karl Berry  <karl@@gnu.org>
d5485 3
a5487 3
	* makeinfo/defun.c (cm_defun): skip @@ifset/@@ifclear insertions
	when looking for the @@defun going with this @@defunx.  Report from:
	Akim Demaille <akim@@epita.fr>, 14 Aug 2003 12:10:37 +0200.
d5489 1
a5489 2
	* makeinfo/insertion.c (cm_end): rewrite error message for
	clarity.
d5491 1
a5491 1
2003-08-13  Karl Berry  <karl@@gnu.org>
d5493 3
a5495 3
	* info/indices.c (info_index_apropos): correct typo, whoses ->
	whose.  From: Jesper Harder <harder@@ifa.au.dk>, 13 Aug 2003
	14:49:26 +0200.
d5497 1
a5497 1
2003-08-11  Karl Berry  <karl@@gnu.org>
d5499 1
a5499 1
	* doc/texinfo.tex: excise spurious spaces, etc.
d5501 1
a5501 1
2003-08-09  Karl Berry  <karl@@gnu.org>
d5503 3
a5505 2
	* doc/texinfo.txi: don't use @@ifinfo/@@heading construct to replace
	@@section any more, the XML output is wrong.
d5507 1
a5507 2
	* doc/texinfo.tex (\pdfmakeoutlines): doc fixes, and use \def once
	instead of \let twice.
d5509 1
a5509 3
	* doc/texinfo.txi: rewrite @@ifinfo text sections to take better
	 account of HTML.  Suggestion from: Dumas Patrice
	<dumas@@centre-cired.fr>, 8 Aug 2003 17:19:22 +0200.
d5511 2
a5512 1
2003-08-07  Derek Price  <derek@@ximbiot.com>
d5514 1
a5514 2
	* makeinfo/insertion.c (cm_direntry): Skip @@direntry in --no-headers
	mode.
d5516 3
a5518 1
2003-08-05  Karl Berry  <karl@@gnu.org>
d5520 1
a5520 2
	* doc/texinfo.txi (Beginning a File, title, titlefont): more
	clarifications.  Suggestions from Patrice.
d5522 3
a5524 2
	* doc/texinfo.txi (emph & strong): inconsistent source & example.
	From Jesper Harder.
d5526 2
a5527 1
2003-08-04  Karl Berry  <karl@@gnu.org>
d5529 2
a5530 2
	* doc/texinfo.txi (titlefont): discuss html output a bit.
	Suggestion from Patrice.
d5532 2
a5533 1
2003-07-31  Karl Berry  <karl@@gnu.org>
d5535 1
a5535 3
	* doc/texinfo.tex (\doignorecount): no need to initialize.
	(\doignoreyyy): doc fix.
	From Stepan.
d5537 2
a5538 1
2003-07-29  Stepan Kasal  <kasal@@ucw.cz>
d5540 3
a5542 3
	* doc/texinfo.tex (\doignorecount): No need to initialize the
	  count while reading texinfo.tex.
	  (\doignoreyyy): Tiny comment change.
d5544 3
a5546 1
2003-07-28  Karl Berry  <karl@@gnu.org>
d5548 1
a5548 2
	* makeinfo/html.c (process_css_file): @@c (for @@charset) should
	also put us into import_state.
d5550 2
a5551 2
	* doc/texinfo.txi (Conditional Nesting): new section; also change
	other conditional sections slightly.
d5553 2
a5554 4
	* doc/texinfo.tex (\doignoretext, \doignoretextyyy): Only look for
	conditionals at the beginning of a line, to avoid problems with a
	commented conditional.  Fix from: Stepan Kasal
	<kasal@@math.cas.cz>, 28 Jul 2003 02:50:41 +0200.
d5556 1
a5556 1
2003-07-27  Stepan Kasal  <kasal@@ucw.cz>
d5558 1
a5558 4
	* doc/texinfo.tex (\doignore): Rewritten to handle nesting.
	  (\ignoremorecommands, \obstexwarn, \ifwarnedobs): No longer needed.
	  (\nestedignore): No longer needed.
	  (\readauxfile): Remove reference to \warnedobstrue.
d5560 1
a5560 1
2003-07-27  Karl Berry  <karl@@gnu.org>
d5562 2
a5563 1
	* util/dir-example: lowercase automake.
d5565 1
a5565 1
2003-07-26  Karl Berry  <karl@@gnu.org>
d5567 1
a5567 4
	* makeinfo/html.c (process_css_file): in null_state, only consider
	@@i to be the start of an @@import, since @@media can get misparsed.
	Report from: Dumas Patrice <dumas@@centre-cired.fr>, 22 Jul 2003
	12:13:29 +0200.
d5569 1
a5569 1
2003-07-25    <karl@@gnu.org>
d5571 1
a5571 4
	* doc/texinfo.txi (Raise/lower sections): mention difficulties with
	node pointer creation and top nodes.
	Report from: Dumas Patrice <dumas@@centre-cired.fr>,
	22 Jul 2003 13:08:24 +0200.
d5573 1
a5573 1
2003-07-24    <karl@@gnu.org>
d5575 1
a5575 6
	* makeinfo/sectioning.c (what_section): take additional SECNAME
		argument; change callers.
	* makeinfo/sectioning.h (what_section): remove redundant decl.
	* makeinfo/node.c (cm_node): change what_section call here, too.
	Report from: Dumas Patrice <dumas@@centre-cired.fr>,
	22 Jul 2003 13:09:19 +0200.
d5577 1
a5577 5
	* doc/texinfo.tex (\doheading,\dosubheading,\dosubsubheading):
	rationalize names.
	(\heading,\subheading,\subsubheading): change
	calls.  (yesterday's patch called the undefined
	\subsecheadingyyy, etc.)
d5579 6
a5584 1
2003-07-23  Stepan Kasal  <kasal@@ucw.cz>
d5586 4
a5589 8
	* doc/texinfo.tex (\heading, \subheading, \subsubheading): Call
	  \suppressfirstparagraphindent after setting the heading.
	  (\headingyyy, \subheadingyyy, \subsubheadingyyy): New macros.
	  (\chapheadingzzz): Call \suppressfirstparagraphindent at the end
	  and move \chapbreak ...
	  (\chapheading): ... here.
	  (\majorheading): Do a modified \chapbreak, then call \chapheadingzzz.
	  (\majorheadingzzz): Deleted.
d5591 1
a5591 1
2003-07-16    <karl@@gnu.org>
d5593 5
a5597 3
	* doc/texinfo.txi (makeinfo Pointer Creation): must pxref Menus,
	since Menu Location is not a valid xref point for
	TeX, because of the special @@heading stuff.
d5599 3
a5601 2
	* makeinfo/insertion.c (begin_insertion): lack of */ caused
	display: and smalldisplay: cases to be ignored.
d5603 1
a5603 4
	* lib/system.h (LC_MESSAGES) [!defined (HAVE_LC_MESSAGES) &&
	!defined (LC_MESSAGES)]: change conditional.  Report from
	Christian Krackowizer <ckrackowiz@@std.schuler-ag.com>, 16 Jul 2003
	14:40:30 +0200.
d5605 1
a5605 1
2003-07-14    <karl@@gnu.org>
d5607 1
a5607 3
	* util/install-info.c (ensure_dirfile_exists): replace literal ^_ with
	\x1f.  Report from Trond Endrestl
	<trond@@ramstind.gtf.ol.no>, 14 Jul 2003 13:31:29 +0200.
d5609 1
a5609 4
	* makeinfo/sectioning.c (sectioning_html): forgot to change closing </hN>
	to match opening <hN> (that is, maximum h3).
	Report from: Jesper Harder <harder@@ifa.au.dk>,
	14 Jul 2003 15:04:04 +0200.
d5611 1
a5611 1
2003-07-03    <karl@@gnu.org>
d5613 2
a5614 1
	* doc/info.texi: copy from Emacs (with revisions by Luc).
d5616 1
a5616 1
2003-07-02   Akim Demaille  <akim@@epita.fr>
d5618 1
a5618 3
	* util/texi2dvi: Add thumbpdf support.
	Use FD 6 instead of /dev/null so that when --debugging, the output
	from auxiliary tools can be observed.
d5620 1
a5620 1
2003-07-02    <karl@@gnu.org>
d5622 1
a5622 1
	* doc/texinfo.txi (kbd): document actual makeinfo behavior.
d5624 4
a5627 1
2003-07-01    <karl@@gnu.org>
d5629 1
a5629 5
	* doc/texinfo.txi (Menus): require that menus come at the end of the
	node, since Info readers can't determine the end
	of a menu.
	Report from: Luc Teirlinck <teirllm@@dms.auburn.edu>,
	29 Jun 2003 21:33:19 -0500.
d5631 3
a5633 6
	* makeinfo/insertion.c (begin_insertion): do not increment
	in_fixed_width_font for @@display or @@format; this
	incorrectly caused quotes to be omitted in @@kbd
	output in those environments.
	Report from: Luc Teirlinck <teirllm@@dms.auburn.edu>,
	26 Jun 2003 21:59:48 -0500.
d5635 1
a5635 1
2003-06-24    <karl@@gnu.org>
d5637 5141
a10777 6
	* doc/texinfo.txi (tex): misplaced period.
	From: Jesper Harder <harder@@ifa.au.dk>.
	(GNU Sample Texts): don't end the $Id index entries with a :.
	Report from: Luc Teirlinck <teirllm@@dms.auburn.edu>.
	
2003-06-20    <karl@@gnu.org>
d10779 1
a10779 4
	* makeinfo/defun.c (process_defun_args): only insert the HTML
	start/end tags if we're actually generating html.
	Report from: Shawn Betts <sabetts@@sfu.ca>, 12 Jun 2003
	16:48:50 -0700.
d10781 3
a10783 1
	* TODO: support translated manuals, from polak@@gnu.org.
d10785 1
a10785 2
	* doc/texinfo.txi: Edit Options node no longer exists in the Emacs
		manual.  From: Luc Teirlinck <teirllm@@dms.auburn.edu>.
d10787 4
a10790 1
2003-06-18    <karl@@gnu.org>
d10792 1
a10792 1
	* config.{guess,sub}, install-sh, lib/xalloc.h: update from gnulib.
d10794 2
a10795 1
2003-06-10    <karl@@gnu.org>
d10797 1
a10797 1
	* version 4.6.
d10799 3
d10803 1
a10803 1
Copyright (C) 2003, 2004 Free Software Foundation, Inc.
d10805 3
a10807 3
Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.
@


