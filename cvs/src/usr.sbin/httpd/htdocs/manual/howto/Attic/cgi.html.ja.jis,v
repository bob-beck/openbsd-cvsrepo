head	1.4;
access;
symbols
	OPENBSD_3_7:1.3.0.14
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.12
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.10
	OPENBSD_3_5_BASE:1.3
	apache_1_3_29-mod_ssl_2_8_16:1.1.1.1
	OPENBSD_3_4:1.3.0.8
	OPENBSD_3_4_BASE:1.3
	apache_1_3_28-mod_ssl_2_8_15:1.1.1.1
	OPENBSD_3_3:1.3.0.6
	OPENBSD_3_3_BASE:1.3
	apache_1_3_27-mod_ssl_2_8_12:1.1.1.1
	apache_1_3_27:1.1.1.1
	OPENBSD_3_2:1.3.0.4
	OPENBSD_3_2_BASE:1.3
	apache_1_3_26:1.1.1.1
	apache:1.1.1
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.1.0.4
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_9:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2005.07.27.20.03.16;	author jmc;	state dead;
branches;
next	1.3;

1.3
date	2002.03.29.02.08.04;	author beck;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.12.07.56.47;	author beck;	state Exp;
branches;
next	1.1;

1.1
date	2001.03.29.10.21.29;	author beck;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.07.19.21.28.02;	author henning;	state Exp;
branches;
next	;


desc
@@


1.4
log
@from tamas tevesz:
more altlangs removal, missed from previous sweep;
@
text
@<?xml version="1.0" encoding="iso-2022-jp"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>

    <title>Apache Tutorial: CGI による動的コンテンツ</title>

  </head>
  <!-- English revision: 1.8 -->
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->
  <body bgcolor="#ffffff" text="#000000" link="#0000ff"
  vlink="#000080" alink="#ff0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" /> 

      <h3>Apache HTTP Server Version 1.3</h3>
    </div>



    <h1 align="center">CGI による動的コンテンツ</h1>
    <a id="__index__" name="__index__"></a> <!-- INDEX BEGIN -->


    <ul>
      <li><a href="#dynamiccontentwithcgi">CGI
      による動的コンテンツ</a></li>

      <li>
        <a href="#configuringapachetopermitcgi">CGI を許可するように
        Apache を誓瀋蠅垢鹿畩

受貍
殊蘊釈鱚羹■黹鱸頸瘡蛛鵞肖竰蜷跚癈鹿畩鹿跚
殊蘊
釈鱚羹■竍蜿皷粤閹黹鱸頸瘡蛛黻蜥繝鱸纉肖竰蜷跚癈ぢディレクトリ外の CGI</a>

            <ul>
              <li><a
              href="#explicitlyusingoptionstopermitcgiexecution">CGI
              の実行を可能にするために Options を明声忙藩僂垢鹿畩鹿跚
殊蘊釈鱚羹■蔗痺竇齠肅跂鵞小蔗痺竇齠ぢファイル</a></li>
            </ul>
          </li>
        </ul>
      </li>

      <li>
        <a href="#writingacgiprogram">CGI プログラムを書く</a>

        <ul>
          <li><a href="#yourfirstcgiprogram">あなたの最初の CGI
          プログラム</a></li>
        </ul>
      </li>

      <li>
        <a href="#butitsstillnotworking">しかし、まだ斉阿覆鹿畩


受貍
殊蘊釈鱚羹■肅跂鞳鴉蜩皷闔鵞ぢファイルのパーミッション</a></li>

          <li><a href="#pathinformation">パス情報</a></li>

          <li><a href="#syntaxerrors">構文エラー</a></li>

          <li><a href="#errorlogs">エラーログ</a></li>
        </ul>
      </li>

      <li>
        <a href="#whatsgoingonbehindthescenes"
        >裏で何が起こっているのか?</a>

        <ul>
          <li><a href="#environmentvariables">環境変数</a></li>


          <li><a href="#stdinandstdout">標準入出力</a></li>
        </ul>
      </li>

      <li><a href="#cgimoduleslibraries">CGI
      モジュール/ライブラリ</a></li>

      <li><a href="#formoreinformation">更なる情報</a></li>
    </ul>

    <!-- INDEX END -->
    <hr />

    <h2><a id="dynamiccontentwithcgi" name="dynamiccontentwithcgi">CGI
    による動的コンテンツ</a></h2>

    <table border="1">
      <tr>
        <td valign="top"><strong>関連モジュール</strong><br />
         <br />
         <a href="../mod/mod_alias.html">mod_alias</a><br />
         <a href="../mod/mod_cgi.html">mod_cgi</a><br />
         </td>

        <td valign="top"><strong>関連ディレクティブ</strong><br />
         <br />
         <a
        href="../mod/mod_mime.html#addhandler">AddHandler</a><br />
         <a href="../mod/core.html#options">Options</a><br />
         <a
        href="../mod/mod_alias.html#scriptalias">ScriptAlias</a><br />
         </td>
      </tr>
    </table>

    <p>CGI (Common Gateway Interface) は、ウェブサーバが
    コンテンツ誓言成をする外部プログラムと協調して動作するための方法を
    定義しています。そのプログラムはしばしば CGI プログラムや CGI
    スクリプトと呼ばれます。CGI は、ウェブサイトに動的なコンテンツを
    置くための最も簡単で一般的な方法です。このドキュメントは、
    Apache ウェブサーバで CGI を誓瀋蠅掘
断プログラムを書き始めるための入門書となるでしょう。</p>
    <hr />

    <h2><a id="configuringapachetopermitcgi"
    name="configuringapachetopermitcgi">CGI を許可するように
    Apache を誓瀋蠅垢鹿畩鹿莢
腫消派ぢプログラムを誓気靴虻遒気擦襪砲蓮断を許可するように
    Apache の誓瀋蠅鮃圓ι廚△蠅泙后
これを行なうための方法がいくつかあります。</p>

    <h3><a id="scriptalias" name="scriptalias">ScriptAlias</a></h3>

    <p><code>ScriptAlias</code> ディレクティブを使用して、
    CGI プログラム用の特別な別ディレクトリを Apache に誓瀋蠅靴泙后
草痺蒹ぢは、このディレクトリ中の全てのファイルを CGI
    プログラムであると仮定します。そして、この特別なリソースが
    クライアントから要求されると、そのプログラムの実行を試みます。</p>

    <p><code>ScriptAlias</code> ディレクティブは以下のように使用します:</p>
<pre>
        ScriptAlias /cgi-bin/ /usr/local/apache/cgi-bin/
</pre>

    <p>デフォルト位置に Apache をインストールしたならば、
    この例はデフォルト状態の <code>httpd.conf</code>
    誓瀋螢侫．ぅ襪亡泙泙譴討い泙后若閼緇噬鱸頸糟蛛鷦閼緇
ディレクティブは、URL の前に付加するディレクトリを定義する
    <code>Alias</code> ディレクティブとかなり似ています。
    <code>Alias</code> と <code>ScriptAlias</code> は通常、
    <code>DocumentRoot</code>
    ディレクトリ外のディレクトリのために使用されます。
    <code>Alias</code> と <code>ScriptAlias</code> との差は、
    <code>ScriptAlias</code> が誓榮濃呂泙襪垢戮討厂ぢは CGI
    プログラムとみなされるという追加の意味を含んでいることです。
    従って、上記の例では、<code>/cgi-bin/</code>
    で始まるリソースへのあらゆるリクエストに対して、ディレクトリ
    <code>/usr/local/apache/cgi-bin/</code> から提供し、それらを
    CGI プログラムとして扱うよう Apache に示します。</p>

    <p>例えば、URL <code>http://dev.rcbowen.com/cgi-bin/test.pl</code>
    が要求された場合、Apache は ファイル
    <code>/usr/local/apache/cgi-bin/test.pl</code>
    を実行し、その出力を返すことを試みます。
    もちろん、ファイルが存在し、実行可能であり、
    決められた方法で出力を返します。
    そうでなければ、Apache はエラーメッセージを返します。</p>

    <h3><a id="cgioutsideofscriptaliasdirectories"
    name="cgioutsideofscriptaliasdirectories">
    ScriptAlias ディレクトリ外の CGI</a></h3>

    <p>CGI プログラムは、セキュリティ上の理由から <code>ScriptAlias</code>
    されたディレクトリに誓造気譴襪海箸靴个靴个△蠅泙后海諒，砲茲蝓
断プログラムを使用できるユーザを管理者が厳しく誓罎垢襪海箸任泙后
しかしながら、適誓擇淵札絅螢謄安从箸蕕譴襪覆蕕弌断プログラムを任意のディレクトリで実行できないようにする理由はありません。
    例えば、ユーザに <code>UserDir</code> ディレクティブで
    彼らのホームディレクトリ配下にウェブコンテンツを持たせたいとします。
    もし、彼らが CGI プログラムを持つことを望んでいても、メインの
    <code>cgi-bin</code> ディレクトリへのアクセスができない場合、CGI
    プログラムを実行することができる他の場所が必要になります。
    </p>

    <h3><a id="explicitlyusingoptionstopermitcgiexecution"
    name="explicitlyusingoptionstopermitcgiexecution">
    CGI の実行を可能にするために Options を明声忙藩僂垢鹿畩鹿莖
腫ぢサーバのメインの誓瀋螢侫．ぅ訝罎竢粤章頸蜿銖鹿竢粤ディレクティブを明声忙藩僂垢襪海箸如団蠅離妊譽肇蠻朮爾
断の実行を許可するように指定することができます:</p>
<pre>
        &lt;Directory /usr/local/apache/htdocs/somedir&gt;
                Options +ExecCGI
        &lt;/Directory&gt;
</pre>

    <p>上記ディレクティブは、CGI ファイルの実行を可能にするよう Apache
    に伝えます。また、どのファイルが CGI ファイルかをサーバに伝える
    必要があります。次の <code>AddHandler</code> ディレクティブの例では、
    <code>cgi</code> または <code>pl</code> を拡張子に持つすべてのファイルを
    CGI プログラムとしてみなすことをサーバに伝えます:</p>
<pre>
     AddHandler cgi-script cgi pl
</pre>

    <h3><a id="htaccessfiles"
    name="htaccessfiles">.htaccess ファイル</a></h3>

    <p><code>.htaccess</code>
    ファイルは、ディレクトリ毎にディレクティブを指定する方法です。Apache
    は、リソースを提供するときに、提供するファイルが置かれているディレクトリ中の
    <code>.htaccess</code> というファイルを参照します。そのファイルを発見したら、
    その中で発見されたディレクティブが適用されます。<code>.htaccess</code>
    ファイルは、<code>AllowOverride</code> ディレクティブの指定により
    使えるようになります。<code>AllowOverride</code>ディレクティブは、
    <code>.htaccess</code> ファイルで誓瀋蠅任襯妊譽謄屬離織ぅ廚鮖慊蠅靴泙后
若閼緇糟跫鴪蜆綣閼緇ぢディレクティブの指定がない場合、まったく使えません。
    CGI の実行を許可するために必要となるディレクティブを指定可能にするには、
    以下の誓瀋蠅機璽个離瓮ぅ鵑寮設定で必要になります:</p>
<pre>
        AllowOverride Options
</pre>

    <p><code>.htaccess</code> ファイルでは、次のディレクティブが必要と
    なります:</p>
<pre>
        Options +ExecCGI
</pre>

    <p>この誓瀋蠅任蓮△海離妊譽肇蠅砲韻
断プログラムの実行を許可するよう Apache に伝えます。</p>
    <hr />

    <h2><a id="writingacgiprogram"
    name="writingacgiprogram">CGI プログラムを書く</a></h2>

    <p>通常のプログラミングと
    CGI プログラミングの間には主に二つの違いがあります。</p>

    <p>一つは、CGI プログラムのすべての出力には MIME-type
    ヘッダ世鯢佞韻覆韻譴个覆蠅泙擦鵝海譴呂匹里茲Δ兵鑪爐離灰鵐謄鵐
を受け取っているかをクライアントに示す HTTP ヘッダ世任后
ほとんどの場合では、次のように出力します:</p>
<pre>
        Content-type: text/html
</pre>

    <p>もう一つは、出力を HTML か、
    ブラウザが表示することができる何か他の形式にする必要があります。
    大抵の場合は HTML でしょうが、GIF イメージや他の非 HTML
    コンテンツを出力する CGI プログラムを書くこともあるでしょう。
    </p>

    <p>これら二点整奮阿任蓮断プログラムを書くことは、
    あなたが書いている他のプログラムと大いに似ているでしょう。</p>

    <h3><a id="yourfirstcgiprogram"
    name="yourfirstcgiprogram">あなたの最初の CGI プログラム</a></h3>

    <p>次に示すのは、ブラウザに 1 行印字する CGI プログラムの例です。
    以下を入力し、<code>first.pl</code> というファイルに保存し、
    それを <code>cgi-bin</code> ディレクトリに置いてくだ世気ぁ
鹿霈
腫鱚齟蜴纈頏蜴闔銓綺纔蔗迪橇樌橇樌∋
頏蜴繻跫恟鳰筮∋
鹿頏緇

腫笑纈に誓債未靴討い覆討癲
何が起こるかを理解することはできるはずです。
    1 行目は、<code>/usr/bin/perl</code> で見つけられるインタプリタ
    にこのファイルを供給することでこのプログラムが実行されることを
    Apache に (シェル上で実行しようとしているならば、そのシェルに )
    示します。2 行目は、前述したとおり content-type
    の定義を印字します。これには復帰改行の二つの組を後に付加します。
    これにより、ヘッダ世僚蠅剖圓屬譟
挽墅ぢヘッダ世僚蠅肇椒妊了呂泙蠅鮗┐靴泙后行目は、
    ``Hello, World.'' という文字列を印字し、これで終りとなります。</p>

    <p>好みのブラウザを開き、アドレス</p>
<pre>
        http://www.example.com/cgi-bin/first.pl
</pre>

    <p>あるいはファイルを置いたロケーションを指定すると、
    <code>Hello, World.</code> という 1 行がブラウザウィンド
    に現れるでしょう。それはあまりエキサイティングなことではありません。
    しかし、これがうまく動けば、
    他のどのようなものでも動かすことができるようになります。</p>
    <hr />

    <h2><a id="butitsstillnotworking"
    name="butitsstillnotworking">しかし、まだ斉阿覆鹿畩鹿莢
腫ぢウェブから CGI プログラムへのアクセスを行なったとき、
    ブラウザで見る可能誓△觧佑弔隆靄榲覆海箸△蠅泙瑳
寂貍
寂断プログラムの出力</dt>

      <dd>素誓欧蕕靴ぢそれはすべてがうまく動いたことを意味します。<br />
      <br />
      </dd>

      <dt>CGI プログラムのソースコード、または
      "POST Method Not Allowed" というメッセージ</dt> 

      <dd>これは、CGI プログラムを処理できるよう
      Apache を適誓擇棒設定していなかったことを意味します。
      <a href="#configuringapachetopermitcgi">「CGI を許可するように
      Apache を誓瀋蠅垢襦鹿畩の章を読み直し、
      あなたが何を間違えたかを探してみてくだ世気ぁ錫
錫
鹿粐
寂メッセージが "Forbidden" で始まっている</dt>

      <dd>これはパーミッションの問題ということを意味します。
      <a href="#errorlogs">Apache のエラーログ</a>と、後述の
      <a href="#filepermissions">「ファイルのパーミッション」</a>の章を
      チェックしてくだ世気ぁ錫
錫
鹿粐
寂銓纈釶嚆鴟纈鴪闥というメッセージ</dt>

      <dd><a href="#errorlogs">Apache のエラーログ</a>をチェックすると、
      "Premature end of script headers" というログが記録されていると思います。
      そして、おそらく CGI プログラムによって誓言成されたエラーメッセージ
      も記録されているでしょう。この場合、CGI プログラムが適誓擇
挽墅ぢヘッダ世鮟侘呂任覆じ彊鮹里襪燭瓩法
以下の各章でチェックしてみてくだ世気ぁ
鹿粐鹿粲
取馨釈篏∽蛹辮纈迚齠蜿銖釶辣就肅跂鞳鴉蜩皷闔鵞ぢファイルのパーミッション</a></h3>

    <p>サーバはあなたの権限で実行されていないのを忘れないように。
    つまり、起動するとき、サーバは特権をもたないユーザ - 通常
    ``nobody'' や ``www'' の権限で実行されます。したがって、
    あなたが所有するファイルを実行するには別のパーミッション
    が必要となります。通常、``nobody'' が実行するのに十分な
    パーミッションを与える方法は、ファイルに誰でも実行可能とする
    パーミッションを与えることです:</p>
<pre>
        chmod a+x first.pl
</pre>

    <p>また、もしあなたのプログラムが他のファイルを読み書きするならば、
    それらのファイルは、これが可能となる誓気靴ぅ僉璽潺奪轡腑
を持っている必要があります。</p>

    <p>これに対する例外は、サーバが <a href="../suexec.html">suexec</a>
    を使用するよう誓瀋蠅気譴討い訃豺腓任后齦纔繝ぢは、CGI
    プログラムが置かれているバーチャルホストまたはユーザの
    ホームディレクトリによって、異なるユーザ権限で実行されるようにします。
    suexec はとても厳しいパーミッションのチェックがあり、
    そのチェックを通過できないと "Internal Server Error" となり、その
    CGI プログラムの実行は失敗します。
    この場合、どのセキュリティチェックが失敗しているのかを知るために
    suexec ログファイルをチェックする必要があります。</p>

    <h3><a id="pathinformation"
    name="pathinformation">パス情報</a></h3>

    <p>コマンドラインからプログラムを実行するとき、
    意識しなくてもシェルに渡される情報があります。
    例えば、参照するファイルのためにどこを検索したらよいかを
    シェルに伝えるパスがあります。</p>

    <p>プログラムが CGI プログラムとしてウェブサーバによって実行されるとき、
    それはパスを持ちません。CGI プログラム内で呼び出すあらゆるプログラム
    (例えば、'sendmail' のようなもの) は、フルパスで指定する必要があるでしょう。
    それにより、CGI プログラムを実行しようとしたとき、
    シェルはそのようなプログラムを見つけることができます。</p>

    <p>同様なことは、スクリプトのインタプリタ (しばしば <code> perl
    </code>) へのパスで、CGI プログラムの 1 行目に次のように示されます:</p>

<pre>
     #!/usr/bin/perl
</pre>

    <p>これがインタープリタへの実際のパスであることを確実にしておきます。</p>


    <h3><a id="syntaxerrors"
    name="syntaxerrors">構文エラー</a></h3>

    <p>CGI プログラムが失敗するのは大抵、
    プログラム自身に問題がある場合です。一度 CGI の使い方を理解し、
    前述の二つの誤りを犯していないならば、まず間違いなくそうでしょう。
    ブラウザを通してテストを行う前に必ず、コマンドラインから
    プログラムの実行を試してくだ世気ぁ
これにより、大抵の問題が起こらなくなります。</p>

    <h3><a id="errorlogs" name="errorlogs">エラーログ</a></h3>

    <p>エラーログは友達です。全てのうまくいかないことは、
    エラーログにメッセージを誓言成します。必ずそれを最初に見るべきです。
    もし、あなたがウェブサイトを主催している場所がエラーログの参照を
    許していないならば、きっと他のサイトで主催するべきです。
    エラーログの読み方を学ぶことで、ほとんど全ての問題が迅速に確認され、
    迅速に解決されるということが分かるでしょう。
    </p>
    <hr />

    <h2><a id="whatsgoingonbehindthescenes"
    name="whatsgoingonbehindthescenes">裏で何が起こっているのか?</a></h2>


    <p>CGI プログラミングに熟達すると、
    裏で起こっていることについて更に理解することは有益になるでしょう。
    ブラウザとサーバがどのように相互通信するかについては特にそうです。
    なぜなら、``Hello, World.''
    を印字するプログラムを書くことはまことに結構ですが、
    それは特に有益ではありません。</p>

    <h3><a id="environmentvariables"
    name="environmentvariables">環境変数</a></h3>

    <p>環境変数は、あなたがコンピュータを使うときに辺りに存在している値です。
    それらは、パス
    (コマンドをタイプしたときに実行する実際のファイルを探し出すところ)、
    ユーザ名、端末型などのような便利なものです。
    通常の、毎日の環境変数の完全なリストを調べるには、
    コマンドプロンプトで <code>env</code> を入力します。</p>

    <p>CGI の処理中、サーバとブラウザも環境変数を誓瀋蠅掘
それにより相互に通信することができるようになります。
    その環境変数は、ブラウザタイプ (Netscape, IE, Lynx)、
    サーバタイプ (Apache, IIS, WebSite)、実行されている
    CGI プログラムの名前などのようなものです。</p>

    <p>これらの変数は CGI プログラマが使用することができます。
    そして、それはクライアントとサーバの通信の話の半分です。
    必要な変数の完全なリストは <a
    href="http://hoohoo.ncsa.uiuc.edu/cgi/env.html"
    >http://hoohoo.ncsa.uiuc.edu/cgi/env.html</a> にあります。</p>

    <p>以下の単純な Perl CGI プログラムは、
    渡される全ての環境変数を表示します。同様のプログラムは、
    Apache ディストリビューションの <code>cgi-bin</code>
    ディレクトリに二つ含まれています。いくつかの変数が必須であり、
    いくつかは任意であることに注意してくだ世気ぁ修靴董
公式のリストにはないいくつかの変数が表示されているかもしれません。
    さらに、Apache はデフォルトで用意されている基本的なものに
    <a href="../env.html">あなた自身の環境変数を加える</a>ための、
    多くの異なる方法を用意してします。</p>
<pre>
     #!/usr/bin/perl
     print "Content-type: text/html\n\n";
     foreach $key (keys %ENV) {
          print "$key --&gt; $ENV{$key}&lt;br&gt;";
     }
</pre>

    <h3><a id="stdinandstdout" name="stdinandstdout">STDIN と
    STDOUT</a></h3>

    <p>サーバとクライアント間のもう一つの通信は、標準入力
    (<code>STDIN</code>)と標準出力 (<code>STDOUT</code>)
    を通じて行なわれます。通常の文脈において、<code>STDIN</code>
    はキーボードやプログラムが動作するために与えられるファイルを意味し、
    <code>STDOUT</code> は通常コンソールまたはスクリーンを意味します。
    </p>

    <p>ウェブフォームから CGI プログラムへ<code>POST</code> したとき、
    フォームのデータは特別なフォーマットで束ねられ、<code>STDIN</code>
    を通して、CGI プログラムに引き渡されます。
    プログラムはデータがキーボードもしくはファイル
    から来ていたかのように処理することができます。</p>

    <p>「特別なフォーマット」はとても単純です。フィールド名と値は
    イコール (=) で結ばれます。そして値の組はアンパサンド (&amp;)
    で結ばれます。スペース、アンパサンド、イコールのような面倒な文字は、
    それらが動作を駄目にしないようにその文字に相当する
    16 進に変換されます。全データ文字列は、以下のようになります:
    </p>

<pre>
     name=Rich%20Bowen&amp;city=Lexington&amp;state=KY&amp;sidekick=Squirrel%20Monkey
</pre>

    <p>時々、このような文字列が URL に付加されるのを見るでしょう。
    その場合、サーバは <code>QUERY_STRING</code>
    という環境変数にその文字列を入れます。それは <code>GET</code>
    リクエストと呼ばれます。HTML フォームでは、データを渡すために
    <code>GET</code> と <code>POST</code> のどちらを使用するかを、
    <code>FORM</code>タグの <code>METHOD</code>
    属誓寮設定で指定します。</p>

    <p>CGI プログラムは、その文字列を役に立つ情報に分割する誓嫻い△蠅泙后
幸いにも、そのデータ処理を助けるライブラリやモジュールが存在します。
    これらは、CGI プログラムの他の面でも同様に役に立ちます。
    </p>
    <hr />

    <h2><a id="cgimoduleslibraries"
    name="cgimoduleslibraries">CGI モジュール/ライブラリ</a></h2>

    <p>CGI プログラムを書くとき、面倒な仕事の大部分をしてくれる
    コードライブラリまたはモジュールを使うことを検討すべきです。
    これはエラーを減らし、早い開発につながります。</p>

    <p>Perl で CGI プログラムを書いているなら、モジュールは
    <a href="http://www.cpan.org/">CPAN</a> で提供されています。
    この目的のための最も普及しているモジュールは CGI.pm です。
    CGI::Lite も検討しましょう。これは、ほとんどのプログラム
    において必要とするすべての機能の最小セットの実装です。</p>

    <p>C で CGI プログラムを書いているなら、いろいろなオプションがあります。
    これらの内の一つは <a href="http://www.boutell.com/cgic/"
    >http://www.boutell.com/cgic/</a> で提供されている CGIC ライブラリです。</p>
    <hr />

    <h2><a id="formoreinformation"
    name="formoreinformation">更なる情報</a></h2>

    <p>CGI に関する情報はウェブで数多く提供されています。
    CGI の問題については Usenet の comp.infosystems.www.authoring.cgi
    で、他のユーザと論正弔垢襪海箸任泙后挽楊鱸鴦粤ぢの -servers
    メーリングリストは、あなたの質問に回答してくれる偉大なリソースです。
    <a href="http://www.hwg.org/lists/hwg-servers/"
    >http://www.hwg.org/lists/hwg-servers/</a> で更に多くを探し出すことができます。</p>

    <p>そしてもちろん、おそらく CGI
    プログラムの動作に関する詳細の全てが記述されている CGI
    の仕様を読むべきです。オリジナルバージョンを <a
    href="http://hoohoo.ncsa.uiuc.edu/cgi/interface.html">NCSA</a> で、
    アップデートされたドラフトを <a
    href="http://web.golux.com/coar/cgi/">Common Gateway Interface RFC
    プロジェクト</a>で参照することができます。</p>

    <p>CGI の問題について、
    加わっているメーリングリストまたはニュースグループに質問を送るとき、
    起こったもの、起こってほしいこと、実際に起こったことがどう違うか、
    使用しているサーバ、CGI
    プログラムを記述している言生譴亡悗垢觸淑幣霾鵑函
可能であれば問題のコードを提供するようにしてくだ世気ぁ
そうすることで、問題がより間単に見つかるようになります。</p>

    <p>Apache
    のソースコードにおいて問題を発見したことを確信していない限り、
    CGI の問題に関する質問を Apache
    バグデータベースに送るべきでないことに注目してくだ世気ぁ鹿霈
取

取瘡蜃扈杜堙劬樵鞜竏挽墅纈帙鴦蜿窺骸馨
釈鱚羹〓昭蜊齟秉〓蜊瘍纉鈔纔蜀瘡鈔纔鹿畩
釈鱚羹〓⊂守辯鱆就轣艱鶩蓖辣蜀瘡闕紜昭

鹿硼糯鹿蔗迪

窺跫蝉蝌瘡矚諷痰闥闔辣鱧瘤諷
繞瘰痺蒹勧迴筰齠豌

誓


窺跫請鞜竏窺凱桶閼燗鼬辣鱧
絶唄
甕碓
次掴痴捐挽楊嫗棉↓彝誰堋塒凱鍋釶豁裏取貍
取縺箴
儒蜚跂樵鞜竏奕鱸瘡断による動的コンテンツ</title>
</head>
<!-- English revision: 1.6 -->
<!-- Background white, links blue (unvisited), navy (visited), red (active) -->
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#000080"
alink="#FF0000">
    <div align="CENTER">
a20 1
<h1 align="CENTER">CGI による動的コンテンツ</h1>
d22 2
a23 2
<a name="__index__"></a> <!-- INDEX BEGIN -->
 
a24 2
<ul>
<li><a href="#dynamiccontentwithcgi">CGI による動的コンテンツ</a></li>
d26 3
a28 2
<li><a href="#configuringapachetopermitcgi">CGI を許可するように Apache を
誓瀋蠅垢鹿畩
箜甞受貍
殊蘊釈鱚羹■黹鱸頸瘡蛛鵞肖竰蜷跚癈鹿畩鹿跚箜甞殊蘊釈鱚羹■竍蜿皷粤閹黹鱸頸瘡蛛黻蜥繝鱸纉⊂噬鱸頸糟蛛ディレクトリ外の
CGI</a>
d37 3
a39 3
<ul>
<li><a href="#explicitlyusingoptionstopermitcgiexecution">CGI の実行を可能に
するために Options を明声忙藩僂垢鹿畩鹿跚箚箚甬殊蘊釈鱚羹■蔗痺竇齠肅跂鵞小蔗痺竇齠ぢファイル</a></li>
</ul>
</li>
</ul>
</li>
d52 2
a53 1
<li><a href="#writingacgiprogram">CGI プログラムを書く</a>
d55 5
a59 4
<ul>
<li><a href="#yourfirstcgiprogram">あなたの最初の CGI プログラム</a></li>
</ul>
</li>
d61 2
a62 1
<li><a href="#butitsstillnotworking">しかし、まだ斉阿覆鹿畩
甼受貍
殊蘊釈鱚羹■肅跂鞳鴉蜩皷闔鵞ぢファイルのパーミッション</a></li>
d65 2
a66 1
<li><a href="#pathinformation">パス情報</a></li>
d68 1
a68 1
<li><a href="#syntaxerrors">構文エラー</a></li>
d70 1
a70 3
<li><a href="#errorlogs">エラーログ</a></li>
</ul>
</li>
d72 3
a74 1
<li><a href="#whatsgoingonbehindthescenes">裏で何が起こっているのか?</a>
d76 3
a78 2
<ul>
<li><a href="#environmentvariables">環境変数</a></li>
d80 2
a81 3
<li><a href="#stdinandstdout">標準入出力</a></li>
</ul>
</li>
a82 1
<li><a href="#cgimoduleslibraries">CGI モジュール/ライブラリ</a></li>
d84 3
a86 2
<li><a href="#formoreinformation">更なる情報</a></li>
</ul>
d88 2
a89 3
<!-- INDEX END -->
<hr>
<h2><a name="dynamiccontentwithcgi">CGI による動的コンテンツ</a></h2>
d91 2
a92 3
<table border="1">
<tr><td valign="top">
<strong>関連モジュール</strong><br><br>
d94 2
a95 2
<a href="../mod/mod_alias.html">mod_alias</a><br>
<a href="../mod/mod_cgi.html">mod_cgi</a><br>
d97 2
a98 2
</td><td valign="top">
<strong>関連ディレクティブ</strong><br><br>
d100 27
a126 28
<a href="../mod/mod_mime.html#addhandler">AddHandler</a><br>
<A HREF="../mod/core.html#options">Options</a><br>
<a href="../mod/mod_alias.html#scriptalias">ScriptAlias</a><br>

</td></tr></table>

<p>CGI (Common Gateway Interface) は、ウェブサーバがコンテンツ誓言成をする
外部プログラムと協調して動作するための方法を定義しています。そのプログラムはしばしば
CGI プログラムや CGI スクリプトと呼ばれます。CGI は、ウェブサイトに
動的なコンテンツを置くための最も簡単で一般的な方法です。このドキュメントは、
Apache ウェブサーバで CGI を誓瀋蠅掘断プログラムを書き始めるための
入門書となるでしょう。</p>

<hr>
<h2><a name="configuringapachetopermitcgi">CGI を許可するように Apache を
誓瀋蠅垢鹿畩鹿莢
腫消派ぢプログラムを誓気靴虻遒気擦襪砲蓮断を許可するように
Apache の誓瀋蠅鮃圓ι廚△蠅泙后海譴鮃圓覆Δ燭瓩諒，い弔
あります。</p>

<h3><a name="scriptalias">ScriptAlias</a></h3>

<p><code>ScriptAlias</code> ディレクティブを使用して、CGI プログラム用の
特別な別ディレクトリを Apache に誓瀋蠅靴泙后
草痺蒹ぢは、このディレクトリ中の全てのファイルを CGI プログラムであると
仮定します。そして、この特別なリソースがクライアントから要求されると、
そのプログラムの実行を試みます。</p>
d128 15
a142 1
<p><code>ScriptAlias</code> ディレクティブは以下のように使用します:</p>
d144 1
d149 47
a195 43
<p>デフォルト位置に Apache をインストールしたならば、
この例はデフォルト状態の <code>httpd.conf</code> 誓瀋螢侫．ぅ
に含まれています。
<code>ScriptAlias</code> ディレクティブは、URL の前に付加するディレクトリを定義する <code>Alias</code> ディレクティブとかなり似ています。
<code>Alias</code> と <code>ScriptAlias</code> は通常、
<code>DocumentRoot</code> ディレクトリ外のディレクトリのために使用されます。
<code>Alias</code> と <code>ScriptAlias</code> との差は、
<code>ScriptAlias</code> が誓榮濃呂泙襪垢戮討厂ぢは CGI プログラムと
みなされるという追加の意味を含んでいることです。従って、
上記の例では、<code>/cgi-bin/</code>
で始まるリソースへのあらゆるリクエストに対して、ディレクトリ
<code>/usr/local/apache/cgi-bin/</code>
から提供し、それらを CGI プログラムとして扱うよう Apache に示します。</p>

<p>例えば、URL <code>http://dev.rcbowen.com/cgi-bin/test.pl</code>
が要求された場合、Apache は ファイル
<code>/usr/local/apache/cgi-bin/test.pl</code> を実行し、その出力を返すことを
試みます。
もちろん、ファイルが存在し、実行可能であり、決められた方法で出力を返します。
そうでなければ、Apache はエラーメッセージを返します。

<h3><a name="cgioutsideofscriptaliasdirectories">
ScriptAlias ディレクトリ外の CGI</a></h3>

<p>CGI プログラムは、セキュリティ上の理由から
<code>ScriptAlias</code> されたディレクトリに誓造気譴襪海箸靴个靴个△蠅泙后
この方法により、CGI プログラムを使用できるユーザを管理者が厳しく誓罎垢
ことができます。
しかしながら、適誓擇淵札絅螢謄安从箸蕕譴襪覆蕕弌断プログラム
を任意のディレクトリで実行できないようにする理由はありません。
例えば、ユーザに <code>UserDir</code> ディレクティブで
彼らのホームディレクトリ配下にウェブコンテンツを持たせたいとします。
もし、彼らが CGI プログラムを持つことを望んでいても、メインの
<code>cgi-bin</code> ディレクトリへのアクセスができない場合、CGI プログラムを
実行することができる他の場所が必要になります。</p>

<h3><a name="explicitlyusingoptionstopermitcgiexecution">
CGI の実行を可能にするために Options を明声忙藩僂垢鹿畩鹿莖
腫ぢサーバのメインの誓瀋螢侫．ぅ訝罎竢粤章頸蜿銖鹿竢粤ディレクティブを
明声忙藩僂垢襪海箸如団蠅離妊譽肇蠻朮爾派ぢの実行を許可するように
指定することができます:<p>

d202 5
a206 6
<p>上記ディレクティブは、CGI ファイルの実行を可能にするよう Apache 
に伝えます。また、どのファイルが CGI ファイルかを
サーバに伝える必要があります。次の <code>AddHandler</code>
ディレクティブの例では、<code>cgi</code> または <code>pl</code> を拡張子に
持つすべてのファイルを CGI プログラムとしてみなすことをサーバに伝えます:<p>

d211 2
a212 14
<h3><a name="htaccessfiles">.htaccess ファイル</a></h3>

<p><code>.htaccess</code> ファイルは、ディレクトリ毎に
ディレクティブを指定する方法です。
Apache は、リソースを提供するときに、提供するファイルが置かれている
ディレクトリ中の <code>.htaccess</code> というファイルを参照します。
そのファイルを発見したら、その中で発見されたディレクティブが適用されます。
<code>.htaccess</code> ファイルは、<code>AllowOverride</code> 
ディレクティブの指定により使えるようになります。
<code>AllowOverride</code> ディレクティブは、<code>.htaccess</code> ファイルで
誓瀋蠅任襯妊譽謄屬離織ぅ廚鮖慊蠅靴泙后
若閼緇糟跫鴪蜆綣閼緇ぢディレクティブの指定がない場合、まったく使えません。
CGI の実行を許可するために必要となるディレクティブを指定可能にするには、
以下の誓瀋蠅機璽个離瓮ぅ鵑寮設定で必要になります:</p>
d214 11
d229 2
a230 3
<p><code>.htaccess</code> ファイルでは、次のディレクティブが必要と
なります:</p>

d235 3
a237 5
<p>この誓瀋蠅任蓮△海離妊譽肇蠅砲韻派ぢプログラムの実行を許可するよう
Apache に伝えます。</p>

<hr>
<h2><a name="writingacgiprogram">CGI プログラムを書く</a></h2>
d239 2
a240 2
<p>通常のプログラミングと CGI プログラミングの間には主に二つの違いが
あります。</p>
d242 2
a243 4
<p>一つは、CGI プログラムのすべての出力には MIME-type
ヘッダ世鯢佞韻覆韻譴个覆蠅泙擦鵝海譴呂匹里茲Δ兵鑪爐離灰鵐謄鵐弔鮗閏茲辰
いるかをクライアントに示す HTTP ヘッダ世任后曚箸鵑匹両豺腓任蓮
次のように出力します:</p>
d245 4
d253 16
a268 14
<p>もう一つは、出力を HTML か、ブラウザが表示することが
できる何か他の形式にする必要があります。
大抵の場合は HTML でしょうが、GIF イメージや他の非 HTML 
コンテンツを出力する CGI プログラムを書くこともあるでしょう。</p>

<p>これら二点整奮阿任蓮断プログラムを書くことは、あなたが書いている
他のプログラムと大いに似ているでしょう。</p>

<h3><a name="yourfirstcgiprogram">あなたの最初の CGI プログラム</a></h3>

<p>次に示すのは、ブラウザに 1 行印字する CGI プログラムの例です。
以下を入力し、<code>first.pl</code> というファイルに保存し、それを
<code>cgi-bin</code> ディレクトリに置いてくだ世気ぁ鹿霈

箍卦甓鹸腫笑纈に誓債未靴討い覆討癲燭海襪
理解することはできるはずです。
1 行目は、<code>/usr/bin/perl</code> で見つけ
られるインタプリタにこのファイルを供給することでこのプログラムが実行されることを
Apache に (シェル上で実行しようとしているならば、そのシェルに ) 示します。
2 行目は、前述したとおり content-type の定義を印字します。
これには復帰改行の二つの組を後に付加します。これにより、
ヘッダ世僚蠅剖圓屬譟挽墅ぢヘッダ世僚蠅肇椒妊了呂泙蠅鮗┐靴泙后
行目は、``Hello, World.'' という文字列を印字し、これで終りとなります。</p>

<p>好みのブラウザを開き、アドレス</p>
d286 1
d291 12
a302 46
<p>あるいはファイルを置いたロケーションを指定すると、
<code>Hello, World.</code> という 1 行がブラウザウィンドに現れるでしょう。
それはあまりエキサイティングなことではありません。
しかし、これがうまく動けば、
他のどのようなものでも動かすことができるようになります。</p>

<hr>
<h2><a name="butitsstillnotworking">しかし、まだ斉阿覆鹿畩鹿莢
腫ぢウェブから CGI プログラムへのアクセスを行なったとき、
ブラウザで見る可能誓△觧佑弔隆靄榲覆海箸△蠅泙瑳
寂貍
寂断プログラムの出力</dt>
<dd>素誓欧蕕靴ぢそれはすべてがうまく動いたことを意味します。<br><br></dd>

<dt>CGI プログラムのソースコード、または "POST Method Not Allowed" 
というメッセージ</dt> 
<dd>これは、CGI プログラムを処理できるよう Apache を適誓擇棒設定して
いなかったことを意味します。
<a href="#configuringapachetopermitcgi">「CGI を許可するように Apache を誓瀋蠅垢襦鹿畩の章を読み直し、あなたが何を間違えたかを
探してみてくだ世気ぁ錫鮠錫鮠鹿粐
寂メッセージが "Forbidden" で始まっている</dt>
<dd>これはパーミッションの問題ということを意味します。
<a href="#errorlogs">Apache のエラーログ</a>と、後述の
<a href="#filepermissions">「ファイルのパーミッション」</a>の章を
チェックしてくだ世気ぁ
錫鮠錫鮠鹿粐
寂銓纈釶嚆鴟纈鴪闥というメッセージ</dt>
<dd><a href="#errorlogs">Apache のエラーログ</a>をチェックすると、
"Premature end of script headers" というログが記録されていると思います。
そして、おそらく CGI プログラムによって誓言成されたエラーメッセージも記録されているでしょう。
この場合、CGI プログラムが適誓擇墺ヘッダ世鮟侘呂任覆じ彊
知るために、以下の各章でチェックしてみてくだ世気ぁ鹿粐鹿粲
取馨釈瘢綵∽蛹辮纈迚齠蜿銖⊂ファイルのパーミッション</a></h3>

<p>サーバはあなたの権限で実行されていないのを忘れないように。
つまり、起動するとき、サーバは特権をもたないユーザ - 通常 ``nobody'' や ``www'' 
の権限で実行されます。したがって、あなたが所有するファイルを
実行するには別のパーミッションが必要となります。
通常、``nobody'' が実行するのに十分なパーミッションを与える方法は、ファイルに
誰でも実行可能とするパーミッションを与えることです:</p>
d304 48
d356 27
a382 28
<p>また、もしあなたのプログラムが他のファイルを読み書きするならば、
それらのファイルは、これが可能となる誓気靴ぅ僉璽潺奪轡腑鵑鮖辰討い詆廚
あります。</p>

<p>これに対する例外は、サーバが <a href="../suexec.html">suexec</a> を
使用するよう誓瀋蠅気譴討い訃豺腓任后
齦纔繝ぢは、CGI プログラムが置かれているバーチャルホストまたはユーザのホーム
ディレクトリによって、異なるユーザ権限で
実行されるようにします。
suexec はとても厳しいパーミッションのチェックがあり、
そのチェックを通過できないと "Internal Server Error" となり、
その CGI プログラムの実行は失敗します。
この場合、どのセキュリティチェックが失敗しているのかを知る
ために suexec ログファイルをチェックする必要があります。</p>

<h3><a name="pathinformation">パス情報</a></h3>

<p>コマンドラインからプログラムを実行するとき、意識しなくても
シェルに渡される情報があります。
例えば、参照するファイルのためにどこを検索したらよいかをシェルに伝えるパスが
あります。</p>

<p>プログラムが CGI プログラムとしてウェブサーバによって実行されるとき、
それはパスを持ちません。
CGI プログラム内で呼び出すあらゆるプログラム (例えば、'sendmail' の
ようなもの) は、フルパスで指定する必要があるでしょう。
それにより、CGI プログラムを実行しようとしたとき、シェルはそのようなプログラムを
見つけることができます。</p>
d384 2
a385 2
<p>同様なことは、スクリプトのインタプリタ (しばしば <code> perl </code>) 
へのパスで、CGI プログラムの 1 行目に次のように示されます:</p>
d391 2
a392 1
<p>これがインタープリタへの実際のパスであることを確実にしておきます。</p>
d394 20
a413 1
<h3><a name="syntaxerrors">構文エラー</a></h3>
d415 2
a416 50
<p>CGI プログラムが失敗するのは大抵、プログラム自身に問題がある場合です。
一度 CGI の使い方を理解し、前述の二つの誤りを犯していないならば、
まず間違いなくそうでしょう。ブラウザを通してテストを行う前に必ず、コマンドライン
からプログラムの実行を試しなさい。これにより、大抵の問題が起こらなくなります。</p>

<h3><a name="errorlogs">エラーログ</a></h3>

<p>エラーログは友達です。全てのうまくいかないことは、エラーログに
メッセージを誓言成します。必ずそれを最初に見るべきです。
もし、あなたがウェブサイトを主催している場所がエラーログの参照を
許していないならば、きっと他のサイトで主催するべきです。
エラーログの読み方を学ぶことで、ほとんど全ての問題が迅速に
確認され、迅速に解決されるということが分かるでしょう。</p>

<hr>
<h2><a name="whatsgoingonbehindthescenes">裏で何が起こっているのか?</a></h2>

<p>CGI プログラミングに熟達すると、裏で起こっている
ことについて更に理解することは有益になるでしょう。ブラウザと
サーバがどのように相互通信するかについては特にそうです。なぜなら、
``Hello, World.'' を印字するプログラムを書くことはまことに結構ですが、
それは特に有益ではありません。</p>

<h3><a name="environmentvariables">環境変数</a></h3>

<p>環境変数は、あなたがコンピュータを使うときに辺りに存在している値です。
それらは、パス (コマンドをタイプしたときに実行する実際のファイルを
探し出すところ)、ユーザ名、端末型などのような便利なものです。
通常の、毎日の環境変数の完全なリストを調べるには、コマンドプロンプトで 
<code>env</code> を入力します。</p>

<p>CGI の処理中、サーバとブラウザも環境変数を誓瀋蠅掘△修譴砲茲
相互に通信することができるようになります。
その環境変数は、ブラウザタイプ (Netscape, IE, Lynx)、
サーバタイプ (Apache, IIS, WebSite)、実行されている CGI プログラムの名前
などのようなものです。</p>

<p>これらの変数は CGI プログラマが使用することができます。そして、
それはクライアントとサーバの通信の話の半分です。必要な変数の完全なリストは
<a href="http://hoohoo.ncsa.uiuc.edu/cgi/env.html">http://hoohoo.ncsa.uiuc.edu/cgi/env.html</a>
にあります。</p>

<p>以下の単純な Perl CGI プログラムは、渡される全ての環境変数を
表示します。同様のプログラムは、Apache ディストリビューションの
<code>cgi-bin</code> ディレクトリに二つ含まれています。
いくつかの変数が必須であり、いくつかは任意であることに注意してくだ世気ぁ
そして、公式のリストにはないいくつかの変数が表示されているかもしれません。
さらに、Apache はデフォルトで用意されている基本的なものに
<a href="../env.html">あなた自身の環境変数を加える</a>
ための、多くの異なる方法を用意してします。</p>
d418 39
d465 2
a466 1
<h3><a name="stdinandstdout">STDIN と STDOUT</a></h3>
d468 19
a486 16
<p>サーバとクライアント間のもう一つの通信は、標準入力 (<code>STDIN</code>)と
標準出力 (<code>STDOUT</code>) を通じて行なわれます。通常の文脈において、
<code>STDIN</code> はキーボードやプログラムが動作するために与えられる
ファイルを意味し、<code>STDOUT</code> は通常コンソールまたはスクリーンを
意味します。</p>

<p>ウェブフォームから CGI プログラムへ<code>POST</code> したとき、
フォームのデータは特別なフォーマットで束ねられ、<code>STDIN</code> を
通して、CGI プログラムに引き渡されます。プログラムはデータがキーボード
もしくはファイルから来ていたかのように処理することができます。</p>

<P>「特別なフォーマット」はとても単純です。フィールド名と値はイコール
(=) で結ばれます。そして値の組はアンパサンド (&amp;) で
結ばれます。スペース、アンパサンド、イコールのような面倒な文字
は、それらが動作を駄目にしないようにその文字に相当する 16 進に変換されます。
全データ文字列は、以下のようになります:</p>
d492 16
a507 56
<p>時々、このような文字列が URL に付加されるのを見るでしょう。
その場合、サーバは <code>QUERY_STRING</code> という環境変数にその
文字列を入れます。それは <code>GET</code> リクエストと呼ばれます。
HTML フォームでは、データを渡すために <code>GET</code> と <code>POST</code> 
のどちらを使用するかを、
<code>FORM</code>タグの <code>METHOD</code> 属誓寮設定で指定します。</p>

<p>CGI プログラムは、その文字列を役に立つ情報に分割する誓嫻い△蠅泙后
幸いにも、そのデータ処理を助けるライブラリやモジュールが存在します。これらは、
CGI プログラムの他の面でも同様に役に立ちます。</p>

<hr>
<h2><a name="cgimoduleslibraries">CGI モジュール/ライブラリ</a></h2>

<p>CGI プログラムを書くとき、面倒な仕事の大部分をしてくれる
コードライブラリまたはモジュールを使うことを検討すべきです。
これはエラーを減らし、早い開発につながります。</p>

<p>Perl で CGI プログラムを書いているなら、モジュールは
<a href="http://www.cpan.org/">CPAN</a> で提供されています。この目的のための
最も普及しているモジュールは CGI.pm です。
CGI::Lite も検討しましょう。これは、ほとんどのプログラムにおいて必要とするすべての機能の最小セットの実装です。</p>

<p>C で CGI プログラムを書いているなら、いろいろな
オプションがあります。これらの内の一つは
<a href="http://www.boutell.com/cgic/">http://www.boutell.com/cgic/</a>
で提供されている CGIC ライブラリです。</p>

<hr>
<h2><a name="formoreinformation">更なる情報</a></h2>

<p>CGI に関する情報はウェブで数多く提供されています。CGI の問題については
Usenet の comp.infosystems.www.authoring.cgi で、他のユーザと
論正弔垢襪海箸任泙后挽楊鱸鴦粤ぢの -serversメーリングリスト
は、あなたの質問に回答してくれる偉大なリソースです。
<a href="http://www.hwg.org/lists/hwg-servers/">http://www.hwg.org/lists/hwg-servers/</a>
で更に多くを探し出すことが
できます。</p>

<p>そしてもちろん、おそらく CGI プログラムの動作に関する詳細の
全てが記述されている CGI の仕様を読むべきです。オリジナルバージョンを
<a href="http://hoohoo.ncsa.uiuc.edu/cgi/interface.html">NCSA</a> で、
アップデートされたドラフトを
<a href="http://web.golux.com/coar/cgi/">Common Gateway Interface RFC
プロジェクト</a>で参照することができます。</p>

<p>CGI の問題について、加わっているメーリングリストまたはニュース
グループに質問を送るとき、起こったもの、起こってほしいこと、
実際に起こったことがどう違うか、使用しているサーバ、
CGI プログラムを記述している言生譴亡悗垢觸淑幣霾鵑函
可能であれば問題のコードを提供するようにしてくだ世気ぁ
そうすることで、問題がより間単に見つかるようになります。</p>

<p>Apache のソースコードにおいて問題を発見したことを確信していない
限り、CGI の問題に関する質問を Apache バグデータベースに送るべきでない
ことに注目してくだ世気ぁ鹿霈
箋姐箋牡箋怯
甬怯

鹿硼糯甬恐



窺跫請鞜竏窺凱厩閼燗鼬纈艱踈痲糂葹鱚碯蛹閹閼煦縺粤鴦
瘤迴籖纔韈鱚

絶碓
甕次ｉ釿跿粤蜥瘡就蒹痲纈譬
箚昂
甬鯵
次ｉ釿跿粤蜥瘡就肬阡纈譬


窺窺窺跫千逅闥瘰痺蒹迴籖齠荻軒碓

絶臼
甕漆鴦蜿扈緕竢粡鈑就蜩鎰屋臆陟疹
次掴痴捐蔗迪嫗棉↓彝誰堋挽楊鱇銖蜚蜿釶豁裏
∵雕鱧勵豈堋蔗迪鵜瘤皷闔瘡⊂
取跪鷭∵雕鱧更康譬迪碕瘤臀∬瓣瘤臀∬瓣取縺箴
箟甕儒蜚跂樵鞜竏奕鱸瘡断による動的コンテンツ</title>
d16 2
a17 7
  </head>
  <!-- English revision: 1.8 -->
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->
  <body bgcolor="#ffffff" text="#000000" link="#0000ff"
  vlink="#000080" alink="#ff0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" /> 
d19 2
a20 2
      <h3>Apache HTTP Server Version 1.3</h3>
    </div>
d22 2
d25 2
d28 3
a30 2
    <h1 align="center">CGI による動的コンテンツ</h1>
    <a id="__index__" name="__index__"></a> <!-- INDEX BEGIN -->
d33 5
a37 3
    <ul>
      <li><a href="#dynamiccontentwithcgi">CGI
      による動的コンテンツ</a></li>
d39 1
a39 3
      <li>
        <a href="#configuringapachetopermitcgi">CGI を許可するように
        Apache を誓瀋蠅垢鹿畩
箚甦受貍
殊蘊釈鱚羹■黹鱸頸瘡蛛鵞肖竰蜷跚癈鹿畩鹿跚箚甦殊蘊
釈鱚羹■竍蜿皷粤閹黹鱸頸瘡蛛黻蜥繝鱸纉肖竰蜷跚癈ぢディレクトリ外の CGI</a>
d48 2
a49 4
            <ul>
              <li><a
              href="#explicitlyusingoptionstopermitcgiexecution">CGI
              の実行を可能にするために Options を明声忙藩僂垢鹿畩鹿跚箋甬殊蘊釈鱚羹■蔗痺竇齠肅跂鵞小蔗痺竇齠ぢファイル</a></li>
            </ul>
          </li>
        </ul>
      </li>
d53 1
a53 2
      <li>
        <a href="#writingacgiprogram">CGI プログラムを書く</a>
d55 3
a57 5
        <ul>
          <li><a href="#yourfirstcgiprogram">あなたの最初の CGI
          プログラム</a></li>
        </ul>
      </li>
d59 1
a59 2
      <li>
        <a href="#butitsstillnotworking">しかし、まだ斉阿覆鹿畩
箒箒甼受貍
殊蘊釈鱚羹■肅跂鞳鴉蜩皷闔鵞ぢファイルのパーミッション</a></li>
d68 1
a68 1
          <li><a href="#pathinformation">パス情報</a></li>
d70 2
a71 1
          <li><a href="#syntaxerrors">構文エラー</a></li>
d73 3
a75 3
          <li><a href="#errorlogs">エラーログ</a></li>
        </ul>
      </li>
d77 3
a79 3
      <li>
        <a href="#whatsgoingonbehindthescenes"
        >裏で何が起こっているのか?</a>
d81 2
a82 2
        <ul>
          <li><a href="#environmentvariables">環境変数</a></li>
d84 2
d87 3
a89 3
          <li><a href="#stdinandstdout">標準入出力</a></li>
        </ul>
      </li>
d91 1
a91 2
      <li><a href="#cgimoduleslibraries">CGI
      モジュール/ライブラリ</a></li>
d93 6
a98 2
      <li><a href="#formoreinformation">更なる情報</a></li>
    </ul>
d100 3
a102 2
    <!-- INDEX END -->
    <hr />
d104 3
a106 2
    <h2><a id="dynamiccontentwithcgi" name="dynamiccontentwithcgi">CGI
    による動的コンテンツ</a></h2>
d108 1
a108 7
    <table border="1">
      <tr>
        <td valign="top"><strong>関連モジュール</strong><br />
         <br />
         <a href="../mod/mod_alias.html">mod_alias</a><br />
         <a href="../mod/mod_cgi.html">mod_cgi</a><br />
         </td>
d110 5
a114 10
        <td valign="top"><strong>関連ディレクティブ</strong><br />
         <br />
         <a
        href="../mod/mod_mime.html#addhandler">AddHandler</a><br />
         <a href="../mod/core.html#options">Options</a><br />
         <a
        href="../mod/mod_alias.html#scriptalias">ScriptAlias</a><br />
         </td>
      </tr>
    </table>
d116 1
a116 8
    <p>CGI (Common Gateway Interface) は、ウェブサーバが
    コンテンツ誓言成をする外部プログラムと協調して動作するための方法を
    定義しています。そのプログラムはしばしば CGI プログラムや CGI
    スクリプトと呼ばれます。CGI は、ウェブサイトに動的なコンテンツを
    置くための最も簡単で一般的な方法です。このドキュメントは、
    Apache ウェブサーバで CGI を誓瀋蠅掘
断プログラムを書き始めるための入門書となるでしょう。</p>
    <hr />
a117 17
    <h2><a id="configuringapachetopermitcgi"
    name="configuringapachetopermitcgi">CGI を許可するように
    Apache を誓瀋蠅垢鹿畩鹿莢
腫消派ぢプログラムを誓気靴虻遒気擦襪砲蓮断を許可するように
    Apache の誓瀋蠅鮃圓ι廚△蠅泙后
これを行なうための方法がいくつかあります。</p>

    <h3><a id="scriptalias" name="scriptalias">ScriptAlias</a></h3>

    <p><code>ScriptAlias</code> ディレクティブを使用して、
    CGI プログラム用の特別な別ディレクトリを Apache に誓瀋蠅靴泙后
草痺蒹ぢは、このディレクトリ中の全てのファイルを CGI
    プログラムであると仮定します。そして、この特別なリソースが
    クライアントから要求されると、そのプログラムの実行を試みます。</p>

    <p><code>ScriptAlias</code> ディレクティブは以下のように使用します:</p>
d122 43
a164 47
    <p>デフォルト位置に Apache をインストールしたならば、
    この例はデフォルト状態の <code>httpd.conf</code>
    誓瀋螢侫．ぅ襪亡泙泙譴討い泙后若閼緇噬鱸頸糟蛛鷦閼緇
ディレクティブは、URL の前に付加するディレクトリを定義する
    <code>Alias</code> ディレクティブとかなり似ています。
    <code>Alias</code> と <code>ScriptAlias</code> は通常、
    <code>DocumentRoot</code>
    ディレクトリ外のディレクトリのために使用されます。
    <code>Alias</code> と <code>ScriptAlias</code> との差は、
    <code>ScriptAlias</code> が誓榮濃呂泙襪垢戮討厂ぢは CGI
    プログラムとみなされるという追加の意味を含んでいることです。
    従って、上記の例では、<code>/cgi-bin/</code>
    で始まるリソースへのあらゆるリクエストに対して、ディレクトリ
    <code>/usr/local/apache/cgi-bin/</code> から提供し、それらを
    CGI プログラムとして扱うよう Apache に示します。</p>

    <p>例えば、URL <code>http://dev.rcbowen.com/cgi-bin/test.pl</code>
    が要求された場合、Apache は ファイル
    <code>/usr/local/apache/cgi-bin/test.pl</code>
    を実行し、その出力を返すことを試みます。
    もちろん、ファイルが存在し、実行可能であり、
    決められた方法で出力を返します。
    そうでなければ、Apache はエラーメッセージを返します。</p>

    <h3><a id="cgioutsideofscriptaliasdirectories"
    name="cgioutsideofscriptaliasdirectories">
    ScriptAlias ディレクトリ外の CGI</a></h3>

    <p>CGI プログラムは、セキュリティ上の理由から <code>ScriptAlias</code>
    されたディレクトリに誓造気譴襪海箸靴个靴个△蠅泙后海諒，砲茲蝓
断プログラムを使用できるユーザを管理者が厳しく誓罎垢襪海箸任泙后
しかしながら、適誓擇淵札絅螢謄安从箸蕕譴襪覆蕕弌断プログラムを任意のディレクトリで実行できないようにする理由はありません。
    例えば、ユーザに <code>UserDir</code> ディレクティブで
    彼らのホームディレクトリ配下にウェブコンテンツを持たせたいとします。
    もし、彼らが CGI プログラムを持つことを望んでいても、メインの
    <code>cgi-bin</code> ディレクトリへのアクセスができない場合、CGI
    プログラムを実行することができる他の場所が必要になります。
    </p>

    <h3><a id="explicitlyusingoptionstopermitcgiexecution"
    name="explicitlyusingoptionstopermitcgiexecution">
    CGI の実行を可能にするために Options を明声忙藩僂垢鹿畩鹿莖
腫ぢサーバのメインの誓瀋螢侫．ぅ訝罎竢粤章頸蜿銖鹿竢粤ディレクティブを明声忙藩僂垢襪海箸如団蠅離妊譽肇蠻朮爾
断の実行を許可するように指定することができます:</p>
d171 6
a176 5
    <p>上記ディレクティブは、CGI ファイルの実行を可能にするよう Apache
    に伝えます。また、どのファイルが CGI ファイルかをサーバに伝える
    必要があります。次の <code>AddHandler</code> ディレクティブの例では、
    <code>cgi</code> または <code>pl</code> を拡張子に持つすべてのファイルを
    CGI プログラムとしてみなすことをサーバに伝えます:</p>
d181 14
a194 2
    <h3><a id="htaccessfiles"
    name="htaccessfiles">.htaccess ファイル</a></h3>
a195 11
    <p><code>.htaccess</code>
    ファイルは、ディレクトリ毎にディレクティブを指定する方法です。Apache
    は、リソースを提供するときに、提供するファイルが置かれているディレクトリ中の
    <code>.htaccess</code> というファイルを参照します。そのファイルを発見したら、
    その中で発見されたディレクティブが適用されます。<code>.htaccess</code>
    ファイルは、<code>AllowOverride</code> ディレクティブの指定により
    使えるようになります。<code>AllowOverride</code>ディレクティブは、
    <code>.htaccess</code> ファイルで誓瀋蠅任襯妊譽謄屬離織ぅ廚鮖慊蠅靴泙后
若閼緇糟跫鴪蜆綣閼緇ぢディレクティブの指定がない場合、まったく使えません。
    CGI の実行を許可するために必要となるディレクティブを指定可能にするには、
    以下の誓瀋蠅機璽个離瓮ぅ鵑寮設定で必要になります:</p>
d200 3
a202 2
    <p><code>.htaccess</code> ファイルでは、次のディレクティブが必要と
    なります:</p>
d207 14
a220 14
    <p>この誓瀋蠅任蓮△海離妊譽肇蠅砲韻
断プログラムの実行を許可するよう Apache に伝えます。</p>
    <hr />

    <h2><a id="writingacgiprogram"
    name="writingacgiprogram">CGI プログラムを書く</a></h2>

    <p>通常のプログラミングと
    CGI プログラミングの間には主に二つの違いがあります。</p>

    <p>一つは、CGI プログラムのすべての出力には MIME-type
    ヘッダ世鯢佞韻覆韻譴个覆蠅泙擦鵝海譴呂匹里茲Δ兵鑪爐離灰鵐謄鵐
を受け取っているかをクライアントに示す HTTP ヘッダ世任后
ほとんどの場合では、次のように出力します:</p>
d225 14
a238 16
    <p>もう一つは、出力を HTML か、
    ブラウザが表示することができる何か他の形式にする必要があります。
    大抵の場合は HTML でしょうが、GIF イメージや他の非 HTML
    コンテンツを出力する CGI プログラムを書くこともあるでしょう。
    </p>

    <p>これら二点整奮阿任蓮断プログラムを書くことは、
    あなたが書いている他のプログラムと大いに似ているでしょう。</p>

    <h3><a id="yourfirstcgiprogram"
    name="yourfirstcgiprogram">あなたの最初の CGI プログラム</a></h3>

    <p>次に示すのは、ブラウザに 1 行印字する CGI プログラムの例です。
    以下を入力し、<code>first.pl</code> というファイルに保存し、
    それを <code>cgi-bin</code> ディレクトリに置いてくだ世気ぁ
鹿霈
箍患甓亀腫笑纈に誓債未靴討い覆討癲
何が起こるかを理解することはできるはずです。
    1 行目は、<code>/usr/bin/perl</code> で見つけられるインタプリタ
    にこのファイルを供給することでこのプログラムが実行されることを
    Apache に (シェル上で実行しようとしているならば、そのシェルに )
    示します。2 行目は、前述したとおり content-type
    の定義を印字します。これには復帰改行の二つの組を後に付加します。
    これにより、ヘッダ世僚蠅剖圓屬譟
挽墅ぢヘッダ世僚蠅肇椒妊了呂泙蠅鮗┐靴泙后行目は、
    ``Hello, World.'' という文字列を印字し、これで終りとなります。</p>
a256 1
    <p>好みのブラウザを開き、アドレス</p>
d261 47
a307 61
    <p>あるいはファイルを置いたロケーションを指定すると、
    <code>Hello, World.</code> という 1 行がブラウザウィンド
    に現れるでしょう。それはあまりエキサイティングなことではありません。
    しかし、これがうまく動けば、
    他のどのようなものでも動かすことができるようになります。</p>
    <hr />

    <h2><a id="butitsstillnotworking"
    name="butitsstillnotworking">しかし、まだ斉阿覆鹿畩鹿莢
腫ぢウェブから CGI プログラムへのアクセスを行なったとき、
    ブラウザで見る可能誓△觧佑弔隆靄榲覆海箸△蠅泙瑳
寂貍
寂断プログラムの出力</dt>

      <dd>素誓欧蕕靴ぢそれはすべてがうまく動いたことを意味します。<br />
      <br />
      </dd>

      <dt>CGI プログラムのソースコード、または
      "POST Method Not Allowed" というメッセージ</dt> 

      <dd>これは、CGI プログラムを処理できるよう
      Apache を適誓擇棒設定していなかったことを意味します。
      <a href="#configuringapachetopermitcgi">「CGI を許可するように
      Apache を誓瀋蠅垢襦鹿畩の章を読み直し、
      あなたが何を間違えたかを探してみてくだ世気ぁ錫
錫
鹿粐
寂メッセージが "Forbidden" で始まっている</dt>

      <dd>これはパーミッションの問題ということを意味します。
      <a href="#errorlogs">Apache のエラーログ</a>と、後述の
      <a href="#filepermissions">「ファイルのパーミッション」</a>の章を
      チェックしてくだ世気ぁ錫
錫
鹿粐
寂銓纈釶嚆鴟纈鴪闥というメッセージ</dt>

      <dd><a href="#errorlogs">Apache のエラーログ</a>をチェックすると、
      "Premature end of script headers" というログが記録されていると思います。
      そして、おそらく CGI プログラムによって誓言成されたエラーメッセージ
      も記録されているでしょう。この場合、CGI プログラムが適誓擇
挽墅ぢヘッダ世鮟侘呂任覆じ彊鮹里襪燭瓩法
以下の各章でチェックしてみてくだ世気ぁ
鹿粐鹿粲
取馨釈篏∽蛹辮纈迚齠蜿銖釶辣就肅跂鞳鴉蜩皷闔鵞ぢファイルのパーミッション</a></h3>

    <p>サーバはあなたの権限で実行されていないのを忘れないように。
    つまり、起動するとき、サーバは特権をもたないユーザ - 通常
    ``nobody'' や ``www'' の権限で実行されます。したがって、
    あなたが所有するファイルを実行するには別のパーミッション
    が必要となります。通常、``nobody'' が実行するのに十分な
    パーミッションを与える方法は、ファイルに誰でも実行可能とする
    パーミッションを与えることです:</p>
d312 28
a339 27
    <p>また、もしあなたのプログラムが他のファイルを読み書きするならば、
    それらのファイルは、これが可能となる誓気靴ぅ僉璽潺奪轡腑
を持っている必要があります。</p>

    <p>これに対する例外は、サーバが <a href="../suexec.html">suexec</a>
    を使用するよう誓瀋蠅気譴討い訃豺腓任后齦纔繝ぢは、CGI
    プログラムが置かれているバーチャルホストまたはユーザの
    ホームディレクトリによって、異なるユーザ権限で実行されるようにします。
    suexec はとても厳しいパーミッションのチェックがあり、
    そのチェックを通過できないと "Internal Server Error" となり、その
    CGI プログラムの実行は失敗します。
    この場合、どのセキュリティチェックが失敗しているのかを知るために
    suexec ログファイルをチェックする必要があります。</p>

    <h3><a id="pathinformation"
    name="pathinformation">パス情報</a></h3>

    <p>コマンドラインからプログラムを実行するとき、
    意識しなくてもシェルに渡される情報があります。
    例えば、参照するファイルのためにどこを検索したらよいかを
    シェルに伝えるパスがあります。</p>

    <p>プログラムが CGI プログラムとしてウェブサーバによって実行されるとき、
    それはパスを持ちません。CGI プログラム内で呼び出すあらゆるプログラム
    (例えば、'sendmail' のようなもの) は、フルパスで指定する必要があるでしょう。
    それにより、CGI プログラムを実行しようとしたとき、
    シェルはそのようなプログラムを見つけることができます。</p>
d341 2
a342 2
    <p>同様なことは、スクリプトのインタプリタ (しばしば <code> perl
    </code>) へのパスで、CGI プログラムの 1 行目に次のように示されます:</p>
d348 1
a348 1
    <p>これがインタープリタへの実際のパスであることを確実にしておきます。</p>
d350 1
d352 50
a401 2
    <h3><a id="syntaxerrors"
    name="syntaxerrors">構文エラー</a></h3>
a402 60
    <p>CGI プログラムが失敗するのは大抵、
    プログラム自身に問題がある場合です。一度 CGI の使い方を理解し、
    前述の二つの誤りを犯していないならば、まず間違いなくそうでしょう。
    ブラウザを通してテストを行う前に必ず、コマンドラインから
    プログラムの実行を試してくだ世気ぁ
これにより、大抵の問題が起こらなくなります。</p>

    <h3><a id="errorlogs" name="errorlogs">エラーログ</a></h3>

    <p>エラーログは友達です。全てのうまくいかないことは、
    エラーログにメッセージを誓言成します。必ずそれを最初に見るべきです。
    もし、あなたがウェブサイトを主催している場所がエラーログの参照を
    許していないならば、きっと他のサイトで主催するべきです。
    エラーログの読み方を学ぶことで、ほとんど全ての問題が迅速に確認され、
    迅速に解決されるということが分かるでしょう。
    </p>
    <hr />

    <h2><a id="whatsgoingonbehindthescenes"
    name="whatsgoingonbehindthescenes">裏で何が起こっているのか?</a></h2>


    <p>CGI プログラミングに熟達すると、
    裏で起こっていることについて更に理解することは有益になるでしょう。
    ブラウザとサーバがどのように相互通信するかについては特にそうです。
    なぜなら、``Hello, World.''
    を印字するプログラムを書くことはまことに結構ですが、
    それは特に有益ではありません。</p>

    <h3><a id="environmentvariables"
    name="environmentvariables">環境変数</a></h3>

    <p>環境変数は、あなたがコンピュータを使うときに辺りに存在している値です。
    それらは、パス
    (コマンドをタイプしたときに実行する実際のファイルを探し出すところ)、
    ユーザ名、端末型などのような便利なものです。
    通常の、毎日の環境変数の完全なリストを調べるには、
    コマンドプロンプトで <code>env</code> を入力します。</p>

    <p>CGI の処理中、サーバとブラウザも環境変数を誓瀋蠅掘
それにより相互に通信することができるようになります。
    その環境変数は、ブラウザタイプ (Netscape, IE, Lynx)、
    サーバタイプ (Apache, IIS, WebSite)、実行されている
    CGI プログラムの名前などのようなものです。</p>

    <p>これらの変数は CGI プログラマが使用することができます。
    そして、それはクライアントとサーバの通信の話の半分です。
    必要な変数の完全なリストは <a
    href="http://hoohoo.ncsa.uiuc.edu/cgi/env.html"
    >http://hoohoo.ncsa.uiuc.edu/cgi/env.html</a> にあります。</p>

    <p>以下の単純な Perl CGI プログラムは、
    渡される全ての環境変数を表示します。同様のプログラムは、
    Apache ディストリビューションの <code>cgi-bin</code>
    ディレクトリに二つ含まれています。いくつかの変数が必須であり、
    いくつかは任意であることに注意してくだ世気ぁ修靴董
公式のリストにはないいくつかの変数が表示されているかもしれません。
    さらに、Apache はデフォルトで用意されている基本的なものに
    <a href="../env.html">あなた自身の環境変数を加える</a>ための、
    多くの異なる方法を用意してします。</p>
d411 1
a411 2
    <h3><a id="stdinandstdout" name="stdinandstdout">STDIN と
    STDOUT</a></h3>
d413 16
a428 19
    <p>サーバとクライアント間のもう一つの通信は、標準入力
    (<code>STDIN</code>)と標準出力 (<code>STDOUT</code>)
    を通じて行なわれます。通常の文脈において、<code>STDIN</code>
    はキーボードやプログラムが動作するために与えられるファイルを意味し、
    <code>STDOUT</code> は通常コンソールまたはスクリーンを意味します。
    </p>

    <p>ウェブフォームから CGI プログラムへ<code>POST</code> したとき、
    フォームのデータは特別なフォーマットで束ねられ、<code>STDIN</code>
    を通して、CGI プログラムに引き渡されます。
    プログラムはデータがキーボードもしくはファイル
    から来ていたかのように処理することができます。</p>

    <p>「特別なフォーマット」はとても単純です。フィールド名と値は
    イコール (=) で結ばれます。そして値の組はアンパサンド (&amp;)
    で結ばれます。スペース、アンパサンド、イコールのような面倒な文字は、
    それらが動作を駄目にしないようにその文字に相当する
    16 進に変換されます。全データ文字列は、以下のようになります:
    </p>
d434 56
a489 67
    <p>時々、このような文字列が URL に付加されるのを見るでしょう。
    その場合、サーバは <code>QUERY_STRING</code>
    という環境変数にその文字列を入れます。それは <code>GET</code>
    リクエストと呼ばれます。HTML フォームでは、データを渡すために
    <code>GET</code> と <code>POST</code> のどちらを使用するかを、
    <code>FORM</code>タグの <code>METHOD</code>
    属誓寮設定で指定します。</p>

    <p>CGI プログラムは、その文字列を役に立つ情報に分割する誓嫻い△蠅泙后
幸いにも、そのデータ処理を助けるライブラリやモジュールが存在します。
    これらは、CGI プログラムの他の面でも同様に役に立ちます。
    </p>
    <hr />

    <h2><a id="cgimoduleslibraries"
    name="cgimoduleslibraries">CGI モジュール/ライブラリ</a></h2>

    <p>CGI プログラムを書くとき、面倒な仕事の大部分をしてくれる
    コードライブラリまたはモジュールを使うことを検討すべきです。
    これはエラーを減らし、早い開発につながります。</p>

    <p>Perl で CGI プログラムを書いているなら、モジュールは
    <a href="http://www.cpan.org/">CPAN</a> で提供されています。
    この目的のための最も普及しているモジュールは CGI.pm です。
    CGI::Lite も検討しましょう。これは、ほとんどのプログラム
    において必要とするすべての機能の最小セットの実装です。</p>

    <p>C で CGI プログラムを書いているなら、いろいろなオプションがあります。
    これらの内の一つは <a href="http://www.boutell.com/cgic/"
    >http://www.boutell.com/cgic/</a> で提供されている CGIC ライブラリです。</p>
    <hr />

    <h2><a id="formoreinformation"
    name="formoreinformation">更なる情報</a></h2>

    <p>CGI に関する情報はウェブで数多く提供されています。
    CGI の問題については Usenet の comp.infosystems.www.authoring.cgi
    で、他のユーザと論正弔垢襪海箸任泙后挽楊鱸鴦粤ぢの -servers
    メーリングリストは、あなたの質問に回答してくれる偉大なリソースです。
    <a href="http://www.hwg.org/lists/hwg-servers/"
    >http://www.hwg.org/lists/hwg-servers/</a> で更に多くを探し出すことができます。</p>

    <p>そしてもちろん、おそらく CGI
    プログラムの動作に関する詳細の全てが記述されている CGI
    の仕様を読むべきです。オリジナルバージョンを <a
    href="http://hoohoo.ncsa.uiuc.edu/cgi/interface.html">NCSA</a> で、
    アップデートされたドラフトを <a
    href="http://web.golux.com/coar/cgi/">Common Gateway Interface RFC
    プロジェクト</a>で参照することができます。</p>

    <p>CGI の問題について、
    加わっているメーリングリストまたはニュースグループに質問を送るとき、
    起こったもの、起こってほしいこと、実際に起こったことがどう違うか、
    使用しているサーバ、CGI
    プログラムを記述している言生譴亡悗垢觸淑幣霾鵑函
可能であれば問題のコードを提供するようにしてくだ世気ぁ
そうすることで、問題がより間単に見つかるようになります。</p>

    <p>Apache
    のソースコードにおいて問題を発見したことを確信していない限り、
    CGI の問題に関する質問を Apache
    バグデータベースに送るべきでないことに注目してくだ世気ぁ鹿霈
取

取瘡蜃扈杜堙劬樵鞜竏挽墅纈帙鴦蜿窺骸馨
釈鱚羹〓昭蜊齟秉〓蜊瘍纉鈔纔蜀瘡鈔纔鹿畩
釈鱚羹〓⊂守辯鱆就轣艱鶩蓖辣蜀瘡闕紜昭箚恒
箚抗
甦抗
鹿硼糯箚控


