head	1.19;
access;
symbols
	OPENBSD_6_1:1.19.0.4
	OPENBSD_6_1_BASE:1.19
	OPENBSD_6_0:1.19.0.2
	OPENBSD_6_0_BASE:1.19
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	NSD_4_1_6:1.1.1.16
	OPENBSD_5_8:1.16.0.4
	OPENBSD_5_8_BASE:1.16
	NSD_4_1_3:1.1.1.15
	OPENBSD_5_7:1.15.0.2
	OPENBSD_5_7_BASE:1.15
	NSD_4_1_1:1.1.1.14
	NSD_4_1_0:1.1.1.13
	OPENBSD_5_6:1.13.0.4
	OPENBSD_5_6_BASE:1.13
	NSD_4_0_3:1.1.1.12
	NSD_4_0_2:1.1.1.11
	OPENBSD_5_5:1.11.0.4
	OPENBSD_5_5_BASE:1.11
	NSD_4_0_1:1.1.1.10
	NSD_4_0_0:1.1.1.9
	NSD_3_2_16:1.1.1.8
	OPENBSD_5_4:1.8.0.4
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	NSD_3_2_15:1.1.1.7
	NSD_3_2_14:1.1.1.6
	NSD_3_2_13:1.1.1.5
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	NSD_3_2_11:1.1.1.4
	NSD_3_2_10:1.1.1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	NSD_3_2_9:1.1.1.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	NSD_3_2_8:1.1.1.1
	NLNETLABS:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2016.06.24.08.34.03;	author florian;	state Exp;
branches;
next	1.18;
commitid	Z9jVKJJMPmC3zw2t;

1.18
date	2015.12.11.12.28.49;	author sthen;	state Exp;
branches;
next	1.17;
commitid	e67Hx722TeF4XpDl;

1.17
date	2015.11.05.21.21.59;	author sthen;	state Exp;
branches;
next	1.16;
commitid	EVDZ1z8bzmTorwSZ;

1.16
date	2015.07.17.17.36.33;	author sthen;	state Exp;
branches;
next	1.15;
commitid	2WtkENMkCz3GhSbE;

1.15
date	2015.02.03.10.40.02;	author brad;	state Exp;
branches;
next	1.14;
commitid	MI9j0d0LR8Dk9lnd;

1.14
date	2014.09.16.17.01.38;	author brad;	state Exp;
branches;
next	1.13;
commitid	5uD1zN2z8VskC3BN;

1.13
date	2014.03.14.16.03.54;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2014.03.13.02.09.34;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2014.02.04.03.07.25;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2013.11.26.12.53.58;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2013.09.03.09.26.52;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2013.02.18.10.18.39;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2012.11.23.20.30.26;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2012.08.28.15.15.02;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2012.07.09.21.56.41;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2012.03.02.08.40.57;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.01.29.11.23.24;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.23.08.16.28;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.21.18.17.24;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.05.21.18.17.24;	author jakob;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2012.01.29.11.15.41;	author jakob;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2012.03.02.08.38.56;	author sthen;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2012.07.09.21.55.08;	author sthen;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2012.08.28.15.11.42;	author sthen;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2012.11.23.20.29.13;	author sthen;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2013.02.18.10.17.43;	author sthen;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2013.09.03.09.21.36;	author sthen;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2013.11.26.12.50.29;	author sthen;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2014.02.04.01.54.09;	author brad;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	2014.03.13.02.00.30;	author brad;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2014.03.14.16.01.58;	author sthen;	state Exp;
branches;
next	1.1.1.13;

1.1.1.13
date	2014.09.16.16.54.06;	author brad;	state Exp;
branches;
next	1.1.1.14;
commitid	BWSdZeElrpYSRdME;

1.1.1.14
date	2015.02.03.10.24.34;	author brad;	state Exp;
branches;
next	1.1.1.15;
commitid	yn8l9RVkmdMVYIfl;

1.1.1.15
date	2015.07.17.17.36.01;	author sthen;	state Exp;
branches;
next	1.1.1.16;
commitid	Jeq5uGP63ff7nS9K;

1.1.1.16
date	2015.11.05.21.21.05;	author sthen;	state Exp;
branches;
next	;
commitid	RXfGmPAh2IZTjnIf;


desc
@@


1.19
log
@Update to 4.1.10
Testing by millert@@, sthen@@ and me.
came up with the same diff & OK sthen@@
@
text
@.TH "nsd\-checkconf" "8" "Jun 14, 2016" "NLnet Labs" "nsd 4.1.10"
.\" Copyright (c) 2001\-2008, NLnet Labs. All rights reserved.
.\" See LICENSE for the license.
.SH "NAME"
.B nsd\-checkconf
\- NSD configuration file checker.
.SH "SYNOPSIS"
.B nsd\-checkconf
.RB [ \-v ]
.RB [ \-f ]
.RB [ \-h ]
.RB [ \-o
.IR option ]
.RB [ \-z
.IR zonename ]
.RB [ \-p
.IR pattern ]
.RB [ \-s
.IR keyname ]
.I configfile
.SH "DESCRIPTION"
.B nsd\-checkconf
reads a configuration file. It prints parse errors to standard 
error, and performs additional checks on the contents. The 
configfile format is described in nsd.conf(5).
.P
The utility of this program is to check a config file for errors before
using it in nsd(8). This program can also be used for shell scripts to
access the nsd config file, using the \-o and \-z options.
.P
.SH "OPTIONS"
.TP
.B \-v
After reading print the options to standard output in configfile 
format. Without this option, only success or parse errors are 
reported.
.TP
.B \-f
Print full pathname when used with files, like with \-o pidfile.
This includes the chroot in the way it is applied to the pidfile.
.TP
.B \-h
Print usage help information and exit.
.TP
.B \-o\fI option
Return only this option from the config file. This option can
be used in conjunction with the 
.B \-z
and the
.B \-p
option, or without them to query the server: section.
The special value 
.I zones
prints out a list of configured zones.
The special value
.I patterns
prints out a list of configured patterns.
.P
.RS
This option can be used to parse the config file from the shell. If the
.B \-z
option is given, but the 
.B \-o 
option is not given, nothing is printed. 
.RE
.TP
.B \-s\fI keyname
Prints the key secret (base64 blob) configured for this key in the 
config file. Used to help shell scripts parse the config file.
.TP
.B \-p\fI pattern
Return the option specified with 
.B \-o
for the given pattern name.
.TP
.B \-z\fI zonename
Return the option specified with 
.B \-o
for zone 'zonename'.
.P
.RS
If this option is not given, the server section of the config file
is used.
.RE
.P
.RS
The \-o, \-s and \-z option print configfile options to standard output. 
.RE
.SH "FILES"
.TP
@@nsdconfigfile@@
default
.B NSD
configuration file
.SH "SEE ALSO"
\fInsd\fR(8), \fInsd.conf\fR(5), \fInsd\-control\fR(8)
.SH "AUTHORS"
.B NSD
was written by NLnet Labs and RIPE NCC joint team. Please see
CREDITS file in the distribution for further details.
@


1.18
log
@update to NSD 4.1.7, ok florian@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Dec 10, 2015" "NLnet Labs" "nsd 4.1.7"
@


1.17
log
@merge
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Oct 22, 2015" "NLnet Labs" "nsd 4.1.6"
@


1.16
log
@merge conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jun 23, 2015" "NLnet Labs" "nsd 4.1.3"
@


1.15
log
@merge conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Feb  3, 2015" "NLnet Labs" "nsd 4.1.1"
@


1.14
log
@merge conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Sep  4, 2014" "NLnet Labs" "nsd 4.1.0"
d10 1
d37 4
@


1.13
log
@merge conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Mar 14, 2014" "NLnet Labs" "nsd 4.0.3"
a4 1
.LP
a7 1
.LP
a20 1
.LP
a90 1
.LP
a92 1
.LP
@


1.12
log
@merge conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Mar 12, 2014" "NLnet Labs" "nsd 4.0.2"
@


1.11
log
@merge conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jan 27, 2014" "NLnet Labs" "nsd 4.0.1"
d58 1
a58 3
This option is primarily used by 
.B nsdc 
to parse the config file from the shell. If the
@


1.10
log
@merge conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Oct 29, 2013" "NLnet Labs" "nsd 4.0.0"
@


1.9
log
@merge NSD 3.2.16
@
text
@d1 2
a2 2
.TH "nsd\-checkconf" "8" "Jul 22, 2013" "NLnet Labs" "nsd 3.2.16"
.\" Copyright (c) 2001\-2011, NLnet Labs. All rights reserved.
d17 2
d29 3
a31 4
The utility of this program is to check a config file for errors 
before using it in nsd(8) or nsd\-zonec(8). This program can also be used 
for shell scripts to access the nsd config file, using the \-o and 
\-z options.
d45 1
a45 1
to be used in conjunction with the 
d47 3
a49 1
option.
d53 3
d71 5
d83 1
a83 3
is used.  This option is primarily used by 
.B nsdc 
to parse the config file from the shell.
d97 1
a97 2
nsd(8), nsdc(8), nsd.conf(5), nsd\-notify(8), nsd\-patch(8), 
nsd-xfer(8), nsd\-zonec(8)
@


1.8
log
@resolve conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Feb  4, 2013" "NLnet Labs" "nsd 3.2.15"
@


1.7
log
@resolve conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Nov  1, 2012" "NLnet Labs" "nsd 3.2.14"
@


1.6
log
@resolve conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jul 27, 2012" "NLnet Labs" "nsd 3.2.13"
@


1.5
log
@resolve conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jul  9, 2012" "NLnet Labs" "nsd 3.2.11"
@


1.4
log
@resolve conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Feb 15, 2012" "NLnet Labs" "nsd 3.2.10"
@


1.3
log
@resolve conflicts
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Nov 23, 2011" "NLnet Labs" "nsd 3.2.9"
@


1.2
log
@make sure nsd-zonec is used instead of zonec
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Mar 22, 2011" "NLnet Labs" "nsd 3.2.8"
@


1.1
log
@Initial revision
@
text
@d28 1
a28 1
before using it in nsd(8) or zonec(8). This program can also be used 
d89 1
a89 1
nsd-xfer(8), zonec(8)
@


1.1.1.1
log
@NSD v3.2.8
@
text
@@


1.1.1.2
log
@NSD v3.2.9
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Nov 23, 2011" "NLnet Labs" "nsd 3.2.9"
@


1.1.1.3
log
@import nsd 3.2.10, "cool" jakob@@, also looked over by Brad
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Feb 15, 2012" "NLnet Labs" "nsd 3.2.10"
@


1.1.1.4
log
@NSD v3.2.11, ok phessler@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jul  9, 2012" "NLnet Labs" "nsd 3.2.11"
@


1.1.1.5
log
@update to NSD 3.2.13

- fix crash in nsd-patch if a zone has been removed from nsd.conf. (difffile.c)

- CVE-2012-2979 DOS fix, this is in optional code which is *not* used with
a standard OpenBSD build. (query.c, server.c)
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jul 27, 2012" "NLnet Labs" "nsd 3.2.13"
@


1.1.1.6
log
@update to NSD 3.2.14, requested by/ok brad@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Nov  1, 2012" "NLnet Labs" "nsd 3.2.14"
@


1.1.1.7
log
@Update to NSD 3.2.15, ok brad@@ phessler@@ deraadt@@ also tested by okan@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Feb  4, 2013" "NLnet Labs" "nsd 3.2.15"
@


1.1.1.8
log
@update to NSD 3.2.16, ok deraadt@@ brad@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jul 22, 2013" "NLnet Labs" "nsd 3.2.16"
@


1.1.1.9
log
@import NSD 4.0.0, tests from Dorian BÃ¼ttner, Patrik Lundin, requested by brad@@
@
text
@d1 2
a2 2
.TH "nsd\-checkconf" "8" "Oct 29, 2013" "NLnet Labs" "nsd 4.0.0"
.\" Copyright (c) 2001\-2008, NLnet Labs. All rights reserved.
a16 2
.RB [ \-p
.IR pattern ]
d27 4
a30 3
The utility of this program is to check a config file for errors before
using it in nsd(8). This program can also be used for shell scripts to
access the nsd config file, using the \-o and \-z options.
d44 1
a44 1
be used in conjunction with the 
d46 1
a46 3
and the
.B \-p
option, or without them to query the server: section.
a49 3
The special value
.I patterns
prints out a list of configured patterns.
a64 5
.B \-p\fI pattern
Return the option specified with 
.B \-o
for the given pattern name.
.TP
d72 3
a74 1
is used.
d88 2
a89 1
\fInsd\fR(8), \fInsd.conf\fR(5), \fInsd\-control\fR(8)
@


1.1.1.10
log
@update to NSD 4.0.1, ok sthen@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jan 27, 2014" "NLnet Labs" "nsd 4.0.1"
@


1.1.1.11
log
@update to NSD 4.0.2, ok sthen@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Mar 12, 2014" "NLnet Labs" "nsd 4.0.2"
d58 3
a60 1
This option can be used to parse the config file from the shell. If the
@


1.1.1.12
log
@Update to NSD 4.0.3, main change is to improve/fix nsd.db database
corruption checks and avoid some causes of corruption. More details at
http://article.gmane.org/gmane.network.dns.nsd.general/1687
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Mar 14, 2014" "NLnet Labs" "nsd 4.0.3"
@


1.1.1.13
log
@update to NSD 4.1.0, ok sthen@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Sep  4, 2014" "NLnet Labs" "nsd 4.1.0"
d5 1
d9 1
d23 1
d94 1
d97 1
@


1.1.1.14
log
@update to NSD 4.1.1, ok sthen@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Feb  3, 2015" "NLnet Labs" "nsd 4.1.1"
a9 1
.RB [ \-f ]
a35 4
.TP
.B \-f
Print full pathname when used with files, like with \-o pidfile.
This includes the chroot in the way it is applied to the pidfile.
@


1.1.1.15
log
@update to NSD 4.1.3, ok florian@@, also tested by brad
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Jun 23, 2015" "NLnet Labs" "nsd 4.1.3"
@


1.1.1.16
log
@update to NSD 4.1.6, ok millert@@ florian@@
@
text
@d1 1
a1 1
.TH "nsd\-checkconf" "8" "Oct 22, 2015" "NLnet Labs" "nsd 4.1.6"
@


