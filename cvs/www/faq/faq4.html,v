head	1.513;
access;
symbols;
locks; strict;
comment	@# @;


1.513
date	2017.08.16.02.04.08;	author tj;	state Exp;
branches;
next	1.512;
commitid	jLrWrIUV1UX2vvYt;

1.512
date	2017.06.26.17.18.58;	author tb;	state Exp;
branches;
next	1.511;
commitid	jKVBuSx5No9bUpg1;

1.511
date	2017.05.17.20.21.22;	author tj;	state Exp;
branches;
next	1.510;
commitid	6P3j5ythjL3nZlh1;

1.510
date	2017.04.14.20.22.12;	author tj;	state Exp;
branches;
next	1.509;
commitid	RUvUCMnq9u1aNUrX;

1.509
date	2017.04.12.01.21.02;	author tb;	state Exp;
branches;
next	1.508;
commitid	GyVjSDId0Se1zjDW;

1.508
date	2017.04.12.00.07.19;	author tj;	state Exp;
branches;
next	1.507;
commitid	QJCd7FqZMNI67gKf;

1.507
date	2017.04.11.03.28.01;	author tj;	state Exp;
branches;
next	1.506;
commitid	86nLlctMwACj6lFT;

1.506
date	2017.03.29.16.57.37;	author tj;	state Exp;
branches;
next	1.505;
commitid	wGBhXwTAO4VSHf1W;

1.505
date	2017.03.25.19.07.05;	author tb;	state Exp;
branches;
next	1.504;
commitid	HspC9U4j3u1PNnAZ;

1.504
date	2017.03.24.20.07.59;	author tj;	state Exp;
branches;
next	1.503;
commitid	zId2jslTDvp2WYLi;

1.503
date	2017.03.16.19.56.07;	author tb;	state Exp;
branches;
next	1.502;
commitid	M6ZDucOFXFn5rAjr;

1.502
date	2017.03.14.18.30.49;	author tb;	state Exp;
branches;
next	1.501;
commitid	TaOClIlsR67FALWp;

1.501
date	2017.03.14.18.21.58;	author tb;	state Exp;
branches;
next	1.500;
commitid	S6tN6p5ZqGgxSaxQ;

1.500
date	2017.03.14.18.19.03;	author tb;	state Exp;
branches;
next	1.499;
commitid	WxiajvtCERuJR2Xi;

1.499
date	2017.03.14.00.09.02;	author tb;	state Exp;
branches;
next	1.498;
commitid	tCb0uoptSBA6kjZo;

1.498
date	2017.03.13.23.06.36;	author tb;	state Exp;
branches;
next	1.497;
commitid	cJpMsySJWOKJZKp4;

1.497
date	2017.03.13.05.08.39;	author tb;	state Exp;
branches;
next	1.496;
commitid	C5k8Diw976zgj7cV;

1.496
date	2017.03.13.02.47.49;	author tb;	state Exp;
branches;
next	1.495;
commitid	AX2fo6hzINcv4GYz;

1.495
date	2017.03.13.00.45.56;	author tj;	state Exp;
branches;
next	1.494;
commitid	UhCDrKVEWulMDwMQ;

1.494
date	2017.03.12.20.45.24;	author tj;	state Exp;
branches;
next	1.493;
commitid	1mKmvUN6in4brUc8;

1.493
date	2017.03.12.04.00.55;	author tj;	state Exp;
branches;
next	1.492;
commitid	FTEtMMzCvqTTfnt9;

1.492
date	2017.03.12.01.08.50;	author tb;	state Exp;
branches;
next	1.491;
commitid	qsUbL0PCikISRQX5;

1.491
date	2017.03.11.21.11.33;	author tj;	state Exp;
branches;
next	1.490;
commitid	TcRpvbZAQqxdB9sr;

1.490
date	2017.03.11.18.46.47;	author tj;	state Exp;
branches;
next	1.489;
commitid	den0vMEZ4oM0sb1I;

1.489
date	2017.03.11.02.57.05;	author tj;	state Exp;
branches;
next	1.488;
commitid	tDES2Wi1Pb3Q7uCn;

1.488
date	2017.03.05.03.54.34;	author danj;	state Exp;
branches;
next	1.487;
commitid	4P107Dyb1iJ0nYqQ;

1.487
date	2017.03.04.21.22.45;	author tb;	state Exp;
branches;
next	1.486;
commitid	NDzuvM4hKpyk2gRW;

1.486
date	2017.03.01.20.15.39;	author tj;	state Exp;
branches;
next	1.485;
commitid	UdxEVD3DMCKreymu;

1.485
date	2017.02.28.04.07.09;	author tb;	state Exp;
branches;
next	1.484;
commitid	OpwbLtOCQoPAUwX4;

1.484
date	2017.02.24.02.07.02;	author tb;	state Exp;
branches;
next	1.483;
commitid	sdzjftvDWGPcXf80;

1.483
date	2017.02.23.02.22.23;	author tb;	state Exp;
branches;
next	1.482;
commitid	8P5nUdg3m0RJI2fj;

1.482
date	2017.02.23.01.42.44;	author tb;	state Exp;
branches;
next	1.481;
commitid	WlIJg480fClLGiL1;

1.481
date	2017.02.09.17.22.19;	author tb;	state Exp;
branches;
next	1.480;
commitid	T7p2qUf6sgevbhcO;

1.480
date	2016.12.20.04.37.27;	author tb;	state Exp;
branches;
next	1.479;
commitid	cFpJMrnd3GU48GS9;

1.479
date	2016.09.03.13.53.40;	author tj;	state Exp;
branches;
next	1.478;
commitid	m6ASQa7doHhu0Xq8;

1.478
date	2016.09.01.16.09.01;	author tj;	state Exp;
branches;
next	1.477;
commitid	szuG3RUW7Xig3iZV;

1.477
date	2016.09.01.12.05.14;	author tj;	state Exp;
branches;
next	1.476;
commitid	246a4S45DY24D3JM;

1.476
date	2016.08.15.02.22.13;	author tb;	state Exp;
branches;
next	1.475;
commitid	3DeixV5YkPOb78RN;

1.475
date	2016.08.10.18.04.55;	author tj;	state Exp;
branches;
next	1.474;
commitid	XDbRqHgAvWoJCfU4;

1.474
date	2016.07.15.22.48.31;	author tb;	state Exp;
branches;
next	1.473;
commitid	PDmCLgTkg12cgGpu;

1.473
date	2016.06.18.22.22.29;	author tj;	state Exp;
branches;
next	1.472;
commitid	MvJ3CtS93kLIrgeV;

1.472
date	2016.06.18.03.40.49;	author tb;	state Exp;
branches;
next	1.471;
commitid	p24yLZklXcRjmt26;

1.471
date	2016.06.18.02.24.32;	author tj;	state Exp;
branches;
next	1.470;
commitid	IZNDXjoQTSwZtVYE;

1.470
date	2016.06.17.10.38.36;	author tb;	state Exp;
branches;
next	1.469;
commitid	XGzhMpfQDTXYNgmj;

1.469
date	2016.06.17.08.04.34;	author tb;	state Exp;
branches;
next	1.468;
commitid	bj7bY0pbbzfNIB7n;

1.468
date	2016.06.17.00.25.33;	author tj;	state Exp;
branches;
next	1.467;
commitid	C6OT4QARoaY1nAFC;

1.467
date	2016.06.16.23.59.26;	author tj;	state Exp;
branches;
next	1.466;
commitid	grd3fK5eGcpapPsA;

1.466
date	2016.06.16.22.50.01;	author tj;	state Exp;
branches;
next	1.465;
commitid	F440HJjauf3xOR5c;

1.465
date	2016.06.16.18.13.56;	author tj;	state Exp;
branches;
next	1.464;
commitid	PaFjTWl73gdttkaj;

1.464
date	2016.06.16.14.40.32;	author tj;	state Exp;
branches;
next	1.463;
commitid	hRSjk1ckKFcaIPJi;

1.463
date	2016.06.15.23.42.55;	author tj;	state Exp;
branches;
next	1.462;
commitid	jTnE25YszWstmOxg;

1.462
date	2016.06.08.18.45.47;	author tb;	state Exp;
branches;
next	1.461;
commitid	P4AzgDaCvrMoW5tj;

1.461
date	2016.06.01.10.27.07;	author tb;	state Exp;
branches;
next	1.460;
commitid	oeEf6eoFhEbmpPRN;

1.460
date	2016.04.27.22.53.06;	author tb;	state Exp;
branches;
next	1.459;
commitid	OgdWcPXevW01EJgO;

1.459
date	2016.04.23.05.36.41;	author tb;	state Exp;
branches;
next	1.458;
commitid	oMuB54snqanOByjG;

1.458
date	2016.04.21.00.47.30;	author tb;	state Exp;
branches;
next	1.457;
commitid	sKLcSVXJQumhAMaJ;

1.457
date	2016.04.16.10.38.40;	author tb;	state Exp;
branches;
next	1.456;
commitid	n0tWgqGQmvuEth95;

1.456
date	2016.04.16.09.15.25;	author tb;	state Exp;
branches;
next	1.455;
commitid	xRcInmYwojS3Jh8C;

1.455
date	2016.04.16.06.26.19;	author tb;	state Exp;
branches;
next	1.454;
commitid	jaGVVlajSuvblG6R;

1.454
date	2016.04.16.06.21.16;	author tb;	state Exp;
branches;
next	1.453;
commitid	ShSaHCTf7VioUT2I;

1.453
date	2016.04.16.06.17.46;	author tb;	state Exp;
branches;
next	1.452;
commitid	1iVc7dKg2HLp1OS2;

1.452
date	2016.04.16.06.11.42;	author tb;	state Exp;
branches;
next	1.451;
commitid	xP8TV1fBKrT9YXkQ;

1.451
date	2016.04.16.00.30.41;	author tj;	state Exp;
branches;
next	1.450;
commitid	rTxoenHHaeutOff1;

1.450
date	2016.04.15.22.19.22;	author tj;	state Exp;
branches;
next	1.449;
commitid	SbVa2HBPaB5JhGVM;

1.449
date	2016.04.15.20.39.49;	author tb;	state Exp;
branches;
next	1.448;
commitid	jwteSMEb4rFzI8UA;

1.448
date	2016.04.15.16.42.34;	author tj;	state Exp;
branches;
next	1.447;
commitid	4iGhbtsBAhiGE70P;

1.447
date	2016.04.02.17.04.31;	author tb;	state Exp;
branches;
next	1.446;
commitid	w75wK4qjRM3sgfkT;

1.446
date	2016.04.02.16.47.18;	author tb;	state Exp;
branches;
next	1.445;
commitid	NXxu0uGwA1OVt1Zx;

1.445
date	2016.04.02.14.58.57;	author tb;	state Exp;
branches;
next	1.444;
commitid	dq0oSJtBCNvFNol0;

1.444
date	2016.04.02.06.00.56;	author tb;	state Exp;
branches;
next	1.443;
commitid	NyZCqIDzqIsBNupQ;

1.443
date	2016.04.02.05.32.19;	author tb;	state Exp;
branches;
next	1.442;
commitid	9UOngZoRyGcm30IW;

1.442
date	2016.04.02.05.22.49;	author tb;	state Exp;
branches;
next	1.441;
commitid	Ies4T6CYXhpE83Bh;

1.441
date	2016.04.02.05.19.47;	author tb;	state Exp;
branches;
next	1.440;
commitid	nCUk3qNYFCe0czqc;

1.440
date	2016.04.02.02.56.35;	author tb;	state Exp;
branches;
next	1.439;
commitid	MN5v4GqtHbpVngTa;

1.439
date	2016.04.01.15.25.47;	author tb;	state Exp;
branches;
next	1.438;
commitid	eltsI29yW9r48hYn;

1.438
date	2016.04.01.11.46.20;	author tb;	state Exp;
branches;
next	1.437;
commitid	L8CAxVX1i8Q5kKwK;

1.437
date	2016.03.31.19.38.51;	author tb;	state Exp;
branches;
next	1.436;
commitid	BwvBHodrMBiBul6b;

1.436
date	2016.03.31.10.42.03;	author tb;	state Exp;
branches;
next	1.435;
commitid	es5PievfwTFUrr6l;

1.435
date	2016.03.31.09.09.26;	author tb;	state Exp;
branches;
next	1.434;
commitid	B0MSTwYSwYYSYwzk;

1.434
date	2016.03.31.00.48.47;	author tb;	state Exp;
branches;
next	1.433;
commitid	FZqGnEcUxp3b0oI4;

1.433
date	2016.03.31.00.34.45;	author tb;	state Exp;
branches;
next	1.432;
commitid	K9hIt5z9LKcxs6q1;

1.432
date	2016.03.30.22.07.41;	author tb;	state Exp;
branches;
next	1.431;
commitid	j2ikak7Ri3cOmG44;

1.431
date	2016.03.30.14.41.06;	author tb;	state Exp;
branches;
next	1.430;
commitid	EwBsFk3vSh64bNEW;

1.430
date	2016.03.30.13.24.44;	author tb;	state Exp;
branches;
next	1.429;
commitid	p33vWwoosxVHJTjN;

1.429
date	2016.03.30.12.39.23;	author tb;	state Exp;
branches;
next	1.428;
commitid	ja9KuM5D6e4xsHWv;

1.428
date	2016.03.30.12.05.25;	author tb;	state Exp;
branches;
next	1.427;
commitid	2WzPHFSysYP168NA;

1.427
date	2016.03.30.10.42.32;	author tb;	state Exp;
branches;
next	1.426;
commitid	Y0kFM4wvbY4kpouF;

1.426
date	2016.03.30.10.01.27;	author tb;	state Exp;
branches;
next	1.425;
commitid	7nrxCHuJDv4bbw0b;

1.425
date	2016.03.30.09.52.51;	author tb;	state Exp;
branches;
next	1.424;
commitid	VbutGWNCsaeOfls4;

1.424
date	2016.03.30.09.42.51;	author tb;	state Exp;
branches;
next	1.423;
commitid	c9gcqAeHTqJoXYJx;

1.423
date	2016.03.30.09.13.52;	author tb;	state Exp;
branches;
next	1.422;
commitid	Ut1YTdIk4eDR2k3d;

1.422
date	2016.03.30.09.05.44;	author tb;	state Exp;
branches;
next	1.421;
commitid	qkt7NMeEeXBuwPWR;

1.421
date	2016.03.30.08.45.07;	author tb;	state Exp;
branches;
next	1.420;
commitid	JSkIHXj8OLmU7Kli;

1.420
date	2016.03.30.00.02.41;	author tb;	state Exp;
branches;
next	1.419;
commitid	ZBWXjpFYJqjlIMer;

1.419
date	2016.03.29.23.47.44;	author tb;	state Exp;
branches;
next	1.418;
commitid	O1X5JlKPQWrIiL39;

1.418
date	2016.03.29.23.36.24;	author tb;	state Exp;
branches;
next	1.417;
commitid	I2bXn1i3MGT9fq3O;

1.417
date	2016.03.29.22.38.56;	author tb;	state Exp;
branches;
next	1.416;
commitid	csOam5GbnzPFslfB;

1.416
date	2016.03.29.22.26.29;	author tb;	state Exp;
branches;
next	1.415;
commitid	jMOEgBi5p3ZnoCXw;

1.415
date	2016.03.29.17.42.58;	author tb;	state Exp;
branches;
next	1.414;
commitid	kO3X3TEOGDp9d6X9;

1.414
date	2016.03.29.17.37.18;	author tb;	state Exp;
branches;
next	1.413;
commitid	MEe46exuxFTIu6d2;

1.413
date	2016.03.29.01.27.39;	author tb;	state Exp;
branches;
next	1.412;
commitid	4Y8oU6GBrSY1UOfW;

1.412
date	2016.03.28.21.31.50;	author tb;	state Exp;
branches;
next	1.411;
commitid	rubxCFFCb3Xpz6ih;

1.411
date	2016.03.28.20.59.37;	author tb;	state Exp;
branches;
next	1.410;
commitid	I32LPrBIUhZhoPPc;

1.410
date	2016.03.28.18.35.24;	author tb;	state Exp;
branches;
next	1.409;
commitid	uRm6wQxIyxsXl63V;

1.409
date	2016.03.28.14.28.25;	author tb;	state Exp;
branches;
next	1.408;
commitid	FD4JiEtjvhEHcqL2;

1.408
date	2016.03.28.14.22.05;	author tb;	state Exp;
branches;
next	1.407;
commitid	buDccSePhHS00UXK;

1.407
date	2016.03.28.14.17.00;	author tb;	state Exp;
branches;
next	1.406;
commitid	XzhyB5ju7xyUelae;

1.406
date	2016.03.28.13.55.32;	author tb;	state Exp;
branches;
next	1.405;
commitid	Hx9w6sY0G4IdxHOn;

1.405
date	2016.03.28.13.24.49;	author tb;	state Exp;
branches;
next	1.404;
commitid	5e2Q18Fj2DFW9ViX;

1.404
date	2016.03.28.13.03.46;	author tb;	state Exp;
branches;
next	1.403;
commitid	OMxPoVMbvuRoGm0E;

1.403
date	2016.03.28.12.16.35;	author tb;	state Exp;
branches;
next	1.402;
commitid	UOfshJFnIznFqqr4;

1.402
date	2016.03.28.12.13.39;	author tb;	state Exp;
branches;
next	1.401;
commitid	ybkgJZedjKYXxNdu;

1.401
date	2016.03.28.11.33.52;	author tb;	state Exp;
branches;
next	1.400;
commitid	MZp3GIvwsN23b5SA;

1.400
date	2016.03.28.11.03.50;	author tb;	state Exp;
branches;
next	1.399;
commitid	cFNrJyi2BR1O37Ht;

1.399
date	2016.03.28.10.49.55;	author tb;	state Exp;
branches;
next	1.398;
commitid	xpsJfrBHE9YfDY8s;

1.398
date	2016.03.28.02.30.47;	author tb;	state Exp;
branches;
next	1.397;
commitid	Hrpw0qzAX3iwB8Ks;

1.397
date	2016.03.28.02.26.10;	author tb;	state Exp;
branches;
next	1.396;
commitid	SDWkZ8GIu7ddtHs6;

1.396
date	2016.03.28.02.01.51;	author tb;	state Exp;
branches;
next	1.395;
commitid	bw5F5bZHlQTqVvtA;

1.395
date	2016.03.28.01.36.56;	author tb;	state Exp;
branches;
next	1.394;
commitid	R34uSlrSC2FXKgSO;

1.394
date	2016.03.27.20.51.04;	author tb;	state Exp;
branches;
next	1.393;
commitid	PkDOhZQuulrKKKSw;

1.393
date	2016.03.27.19.52.09;	author sthen;	state Exp;
branches;
next	1.392;
commitid	hi2ObFv9LGB98JY5;

1.392
date	2016.03.27.18.31.39;	author tb;	state Exp;
branches;
next	1.391;
commitid	18M7kC1qv4gS8B6u;

1.391
date	2016.03.22.10.54.47;	author sthen;	state Exp;
branches;
next	1.390;
commitid	cyODCFvIgxpUoVc0;

1.390
date	2016.03.21.08.24.24;	author tb;	state Exp;
branches;
next	1.389;
commitid	FszPYViUktw26pO0;

1.389
date	2016.03.21.05.46.21;	author beck;	state Exp;
branches;
next	1.388;
commitid	zEx6zFkNSFFExu0v;

1.388
date	2016.03.20.22.24.57;	author tj;	state Exp;
branches;
next	1.387;
commitid	oo3sAEjx5cFwFwEI;

1.387
date	2016.03.14.09.08.04;	author tb;	state Exp;
branches;
next	1.386;
commitid	C9EzSydbtbmB9PyL;

1.386
date	2016.03.14.02.56.24;	author tj;	state Exp;
branches;
next	1.385;
commitid	iUsuzp5xmZyVlrnx;

1.385
date	2016.03.03.18.21.58;	author tb;	state Exp;
branches;
next	1.384;
commitid	eBa0tekfieqW3ICh;

1.384
date	2016.03.03.11.10.17;	author tb;	state Exp;
branches;
next	1.383;
commitid	QK1dLyKpDe2mJHVO;

1.383
date	2016.03.03.01.06.37;	author tb;	state Exp;
branches;
next	1.382;
commitid	BFnQ23ttdmEBu4mS;

1.382
date	2016.03.03.00.25.34;	author tb;	state Exp;
branches;
next	1.381;
commitid	KGYfsHKZiIb4fch5;

1.381
date	2016.03.02.23.50.05;	author tb;	state Exp;
branches;
next	1.380;
commitid	owGmFaVWCm8pLcY6;

1.380
date	2016.02.28.07.24.37;	author tb;	state Exp;
branches;
next	1.379;
commitid	K51WlUhjLIidABfb;

1.379
date	2016.02.26.17.27.05;	author tb;	state Exp;
branches;
next	1.378;
commitid	4HrjksFJov7c4Ezm;

1.378
date	2016.02.25.00.51.48;	author tb;	state Exp;
branches;
next	1.377;
commitid	rsiCXWQ1YDlLAufH;

1.377
date	2016.02.22.20.55.41;	author tj;	state Exp;
branches;
next	1.376;
commitid	MleAbSX5znpDgawj;

1.376
date	2016.02.22.19.10.05;	author tb;	state Exp;
branches;
next	1.375;
commitid	CDp125d8BtAMNNOV;

1.375
date	2016.02.21.02.46.53;	author tb;	state Exp;
branches;
next	1.374;
commitid	9MAFGbRmAOoBGfIM;

1.374
date	2016.02.20.22.59.20;	author tj;	state Exp;
branches;
next	1.373;
commitid	8IPwAs1etKEHjS9q;

1.373
date	2016.02.20.09.32.22;	author tb;	state Exp;
branches;
next	1.372;
commitid	GEeKsXroJldC9gAh;

1.372
date	2016.02.04.21.24.20;	author tb;	state Exp;
branches;
next	1.371;
commitid	Gy0LsXVVygeP5NVh;

1.371
date	2016.01.31.16.17.00;	author tj;	state Exp;
branches;
next	1.370;
commitid	dnjfhmtu4OiaWSeV;

1.370
date	2016.01.24.21.40.35;	author tj;	state Exp;
branches;
next	1.369;
commitid	bFaFSpgHCeTHjIC5;

1.369
date	2016.01.13.18.00.14;	author tb;	state Exp;
branches;
next	1.368;
commitid	IpBV8ayBpHr5e0IB;

1.368
date	2016.01.13.08.00.38;	author tb;	state Exp;
branches;
next	1.367;
commitid	4ZdfDEeiLOjTzQ4E;

1.367
date	2016.01.11.08.53.39;	author sthen;	state Exp;
branches;
next	1.366;
commitid	1gfhQVIPB5zvPjag;

1.366
date	2016.01.11.06.30.13;	author tb;	state Exp;
branches;
next	1.365;
commitid	kpxTb5fPDcXr5p29;

1.365
date	2015.12.22.23.15.37;	author mmcc;	state Exp;
branches;
next	1.364;
commitid	a4xHAkCvZeKSm6um;

1.364
date	2015.12.22.23.13.27;	author mmcc;	state Exp;
branches;
next	1.363;
commitid	375yN6Nw36pISSKo;

1.363
date	2015.11.24.00.28.50;	author sthen;	state Exp;
branches;
next	1.362;
commitid	JUYszWAL3vEaRGpf;

1.362
date	2015.11.24.00.20.25;	author sthen;	state Exp;
branches;
next	1.361;
commitid	sEVz14V7o3QEsl9w;

1.361
date	2015.11.23.03.16.31;	author deraadt;	state Exp;
branches;
next	1.360;
commitid	agWVJvjBEQwPNRmg;

1.360
date	2015.11.16.14.33.35;	author tim;	state Exp;
branches;
next	1.359;
commitid	YwreefOgisCCaHHU;

1.359
date	2015.10.18.19.42.11;	author nick;	state Exp;
branches;
next	1.358;
commitid	HJnmhJAcdZq1TNFu;

1.358
date	2015.08.25.14.48.53;	author nick;	state Exp;
branches;
next	1.357;
commitid	At84MlF97wtqODPs;

1.357
date	2015.07.02.05.49.04;	author bentley;	state Exp;
branches;
next	1.356;
commitid	AP3UllesavMDEUhQ;

1.356
date	2015.06.05.12.00.34;	author nick;	state Exp;
branches;
next	1.355;
commitid	W8Obzct1OWzGawIB;

1.355
date	2015.05.25.15.32.00;	author nick;	state Exp;
branches;
next	1.354;
commitid	x5hD2CxPfV9ReYTa;

1.354
date	2015.05.11.11.18.30;	author sthen;	state Exp;
branches;
next	1.353;
commitid	wRrXxcro6dFYiwF8;

1.353
date	2015.04.30.23.38.57;	author nick;	state Exp;
branches;
next	1.352;
commitid	uIacNW3dhb39XNuY;

1.352
date	2015.04.26.03.51.58;	author nick;	state Exp;
branches;
next	1.351;
commitid	rzEpLxXkGTY0kFhK;

1.351
date	2015.03.05.04.06.28;	author nick;	state Exp;
branches;
next	1.350;
commitid	OVCkJ40gZFm9ijqx;

1.350
date	2015.02.05.11.13.22;	author sthen;	state Exp;
branches;
next	1.349;
commitid	nskOy1R8DhtkXxWd;

1.349
date	2015.02.03.01.45.42;	author nick;	state Exp;
branches;
next	1.348;
commitid	MkJxOmVIjrC3mqqt;

1.348
date	2015.01.13.01.22.12;	author nick;	state Exp;
branches;
next	1.347;
commitid	5ehJzEZWPkwDRAV4;

1.347
date	2014.12.03.11.49.24;	author bentley;	state Exp;
branches;
next	1.346;
commitid	9OyHETPnxZNmDHLF;

1.346
date	2014.12.01.09.49.47;	author bentley;	state Exp;
branches;
next	1.345;
commitid	VffT7s4nM0NK88NG;

1.345
date	2014.11.18.02.36.00;	author bentley;	state Exp;
branches;
next	1.344;
commitid	iddT6Iwkyv3J4Liv;

1.344
date	2014.11.16.16.08.42;	author nick;	state Exp;
branches;
next	1.343;
commitid	p5tKGHmzXxukJ2Cs;

1.343
date	2014.11.08.20.54.29;	author nick;	state Exp;
branches;
next	1.342;
commitid	WdPZIlJPyFLxkRPr;

1.342
date	2014.11.04.02.03.54;	author nick;	state Exp;
branches;
next	1.341;
commitid	DzKUhb3lvibuhyqB;

1.341
date	2014.11.01.13.42.51;	author nick;	state Exp;
branches;
next	1.340;
commitid	ZgANDuwHdulMn8Ng;

1.340
date	2014.10.06.01.49.22;	author nick;	state Exp;
branches;
next	1.339;
commitid	CmtWo5HzuMJumO12;

1.339
date	2014.07.15.00.24.32;	author nick;	state Exp;
branches;
next	1.338;
commitid	0IeT0XC4qChjv8ma;

1.338
date	2014.06.03.10.58.41;	author nick;	state Exp;
branches;
next	1.337;
commitid	68VphAiSL3gYgwkA;

1.337
date	2014.05.10.18.43.31;	author guenther;	state Exp;
branches;
next	1.336;

1.336
date	2014.05.02.20.16.29;	author nick;	state Exp;
branches;
next	1.335;

1.335
date	2014.05.01.15.01.13;	author nick;	state Exp;
branches;
next	1.334;

1.334
date	2014.04.29.17.56.25;	author nick;	state Exp;
branches;
next	1.333;

1.333
date	2014.04.02.20.31.13;	author florian;	state Exp;
branches;
next	1.332;

1.332
date	2014.03.30.19.13.39;	author nick;	state Exp;
branches;
next	1.331;

1.331
date	2013.11.07.00.08.45;	author sobrado;	state Exp;
branches;
next	1.330;

1.330
date	2013.11.06.23.33.21;	author sobrado;	state Exp;
branches;
next	1.329;

1.329
date	2013.11.02.18.04.12;	author nick;	state Exp;
branches;
next	1.328;

1.328
date	2013.11.01.18.40.58;	author jca;	state Exp;
branches;
next	1.327;

1.327
date	2013.11.01.14.05.56;	author nick;	state Exp;
branches;
next	1.326;

1.326
date	2013.10.13.18.27.06;	author rpe;	state Exp;
branches;
next	1.325;

1.325
date	2013.08.14.11.28.38;	author nick;	state Exp;
branches;
next	1.324;

1.324
date	2013.05.19.15.35.46;	author nick;	state Exp;
branches;
next	1.323;

1.323
date	2013.05.05.16.52.39;	author nick;	state Exp;
branches;
next	1.322;

1.322
date	2013.05.01.13.16.32;	author nick;	state Exp;
branches;
next	1.321;

1.321
date	2012.11.01.15.05.30;	author nick;	state Exp;
branches;
next	1.320;

1.320
date	2012.10.18.23.20.05;	author nick;	state Exp;
branches;
next	1.319;

1.319
date	2012.10.15.03.14.00;	author nick;	state Exp;
branches;
next	1.318;

1.318
date	2012.05.01.14.35.14;	author nick;	state Exp;
branches;
next	1.317;

1.317
date	2012.01.27.14.31.12;	author phessler;	state Exp;
branches;
next	1.316;

1.316
date	2011.11.22.02.34.38;	author nick;	state Exp;
branches;
next	1.315;

1.315
date	2011.11.15.18.04.59;	author ajacoutot;	state Exp;
branches;
next	1.314;

1.314
date	2011.11.09.01.47.15;	author nick;	state Exp;
branches;
next	1.313;

1.313
date	2011.11.02.01.30.13;	author nick;	state Exp;
branches;
next	1.312;

1.312
date	2011.11.01.10.52.27;	author nick;	state Exp;
branches;
next	1.311;

1.311
date	2011.05.28.15.08.57;	author lum;	state Exp;
branches;
next	1.310;

1.310
date	2011.05.03.01.53.05;	author nick;	state Exp;
branches;
next	1.309;

1.309
date	2011.05.02.00.53.58;	author nick;	state Exp;
branches;
next	1.308;

1.308
date	2011.05.01.13.08.58;	author nick;	state Exp;
branches;
next	1.307;

1.307
date	2011.04.27.10.36.52;	author jmc;	state Exp;
branches;
next	1.306;

1.306
date	2010.11.07.03.19.36;	author nick;	state Exp;
branches;
next	1.305;

1.305
date	2010.11.01.09.48.45;	author nick;	state Exp;
branches;
next	1.304;

1.304
date	2010.10.31.15.50.14;	author nick;	state Exp;
branches;
next	1.303;

1.303
date	2010.10.18.00.58.25;	author nick;	state Exp;
branches;
next	1.302;

1.302
date	2010.10.17.16.40.43;	author nick;	state Exp;
branches;
next	1.301;

1.301
date	2010.07.03.15.20.12;	author nick;	state Exp;
branches;
next	1.300;

1.300
date	2010.05.24.03.06.42;	author nick;	state Exp;
branches;
next	1.299;

1.299
date	2010.05.24.02.46.25;	author nick;	state Exp;
branches;
next	1.298;

1.298
date	2010.05.21.01.55.18;	author nick;	state Exp;
branches;
next	1.297;

1.297
date	2010.05.19.12.41.02;	author nick;	state Exp;
branches;
next	1.296;

1.296
date	2010.05.02.19.12.03;	author espie;	state Exp;
branches;
next	1.295;

1.295
date	2010.03.07.15.08.22;	author nick;	state Exp;
branches;
next	1.294;

1.294
date	2010.02.12.03.12.21;	author nick;	state Exp;
branches;
next	1.293;

1.293
date	2009.12.16.04.19.53;	author nick;	state Exp;
branches;
next	1.292;

1.292
date	2009.12.16.01.16.04;	author nick;	state Exp;
branches;
next	1.291;

1.291
date	2009.12.06.07.54.39;	author jmc;	state Exp;
branches;
next	1.290;

1.290
date	2009.11.30.03.03.02;	author nick;	state Exp;
branches;
next	1.289;

1.289
date	2009.11.01.15.48.04;	author nick;	state Exp;
branches;
next	1.288;

1.288
date	2009.10.20.00.05.21;	author nick;	state Exp;
branches;
next	1.287;

1.287
date	2009.10.20.00.03.05;	author nick;	state Exp;
branches;
next	1.286;

1.286
date	2009.10.19.06.11.08;	author halex;	state Exp;
branches;
next	1.285;

1.285
date	2009.10.16.19.06.53;	author nick;	state Exp;
branches;
next	1.284;

1.284
date	2009.09.09.02.02.54;	author nick;	state Exp;
branches;
next	1.283;

1.283
date	2009.08.24.10.26.18;	author johan;	state Exp;
branches;
next	1.282;

1.282
date	2009.08.20.01.23.56;	author nick;	state Exp;
branches;
next	1.281;

1.281
date	2009.08.18.23.42.42;	author nick;	state Exp;
branches;
next	1.280;

1.280
date	2009.06.02.01.01.00;	author nick;	state Exp;
branches;
next	1.279;

1.279
date	2009.04.30.17.19.11;	author nick;	state Exp;
branches;
next	1.278;

1.278
date	2009.03.22.03.45.44;	author nick;	state Exp;
branches;
next	1.277;

1.277
date	2009.03.15.02.40.51;	author nick;	state Exp;
branches;
next	1.276;

1.276
date	2009.03.14.02.43.48;	author nick;	state Exp;
branches;
next	1.275;

1.275
date	2009.03.06.03.00.20;	author nick;	state Exp;
branches;
next	1.274;

1.274
date	2009.02.27.03.45.58;	author nick;	state Exp;
branches;
next	1.273;

1.273
date	2009.01.30.22.25.57;	author sthen;	state Exp;
branches;
next	1.272;

1.272
date	2009.01.25.18.09.49;	author jasper;	state Exp;
branches;
next	1.271;

1.271
date	2008.11.30.04.17.07;	author nick;	state Exp;
branches;
next	1.270;

1.270
date	2008.11.30.03.58.34;	author nick;	state Exp;
branches;
next	1.269;

1.269
date	2008.10.31.16.52.29;	author nick;	state Exp;
branches;
next	1.268;

1.268
date	2008.10.22.00.40.56;	author nick;	state Exp;
branches;
next	1.267;

1.267
date	2008.10.21.02.18.41;	author nick;	state Exp;
branches;
next	1.266;

1.266
date	2008.09.15.06.04.10;	author jasper;	state Exp;
branches;
next	1.265;

1.265
date	2008.07.01.11.01.40;	author nick;	state Exp;
branches;
next	1.264;

1.264
date	2008.05.04.05.42.38;	author steven;	state Exp;
branches;
next	1.263;

1.263
date	2008.04.30.21.24.58;	author nick;	state Exp;
branches;
next	1.262;

1.262
date	2008.04.22.01.18.45;	author nick;	state Exp;
branches;
next	1.261;

1.261
date	2008.03.09.08.57.20;	author steven;	state Exp;
branches;
next	1.260;

1.260
date	2008.03.01.11.31.08;	author steven;	state Exp;
branches;
next	1.259;

1.259
date	2008.01.28.12.18.31;	author saad;	state Exp;
branches;
next	1.258;

1.258
date	2007.12.06.22.49.20;	author steven;	state Exp;
branches;
next	1.257;

1.257
date	2007.11.18.17.53.41;	author nick;	state Exp;
branches;
next	1.256;

1.256
date	2007.11.10.14.28.23;	author ajacoutot;	state Exp;
branches;
next	1.255;

1.255
date	2007.11.07.12.04.57;	author nick;	state Exp;
branches;
next	1.254;

1.254
date	2007.11.03.13.51.09;	author tobias;	state Exp;
branches;
next	1.253;

1.253
date	2007.11.02.11.11.20;	author nick;	state Exp;
branches;
next	1.252;

1.252
date	2007.11.01.02.30.57;	author nick;	state Exp;
branches;
next	1.251;

1.251
date	2007.11.01.02.11.00;	author nick;	state Exp;
branches;
next	1.250;

1.250
date	2007.10.28.21.49.18;	author nick;	state Exp;
branches;
next	1.249;

1.249
date	2007.10.24.01.58.47;	author nick;	state Exp;
branches;
next	1.248;

1.248
date	2007.09.23.15.39.12;	author nick;	state Exp;
branches;
next	1.247;

1.247
date	2007.08.17.13.22.44;	author steven;	state Exp;
branches;
next	1.246;

1.246
date	2007.08.07.00.17.50;	author nick;	state Exp;
branches;
next	1.245;

1.245
date	2007.07.26.00.22.57;	author nick;	state Exp;
branches;
next	1.244;

1.244
date	2007.06.13.06.14.02;	author steven;	state Exp;
branches;
next	1.243;

1.243
date	2007.06.12.01.12.30;	author nick;	state Exp;
branches;
next	1.242;

1.242
date	2007.05.25.10.59.50;	author nick;	state Exp;
branches;
next	1.241;

1.241
date	2007.05.01.16.27.46;	author nick;	state Exp;
branches;
next	1.240;

1.240
date	2007.04.25.20.58.43;	author nick;	state Exp;
branches;
next	1.239;

1.239
date	2007.03.01.07.48.19;	author steven;	state Exp;
branches;
next	1.238;

1.238
date	2007.01.06.02.25.24;	author nick;	state Exp;
branches;
next	1.237;

1.237
date	2006.12.03.04.03.00;	author nick;	state Exp;
branches;
next	1.236;

1.236
date	2006.11.14.02.18.05;	author nick;	state Exp;
branches;
next	1.235;

1.235
date	2006.11.11.05.47.54;	author joel;	state Exp;
branches;
next	1.234;

1.234
date	2006.11.04.01.33.05;	author nick;	state Exp;
branches;
next	1.233;

1.233
date	2006.11.04.01.05.08;	author steven;	state Exp;
branches;
next	1.232;

1.232
date	2006.11.04.00.59.14;	author nick;	state Exp;
branches;
next	1.231;

1.231
date	2006.11.01.01.41.18;	author nick;	state Exp;
branches;
next	1.230;

1.230
date	2006.10.22.14.50.07;	author nick;	state Exp;
branches;
next	1.229;

1.229
date	2006.10.22.14.34.07;	author nick;	state Exp;
branches;
next	1.228;

1.228
date	2006.10.13.12.06.28;	author tom;	state Exp;
branches;
next	1.227;

1.227
date	2006.08.20.17.02.12;	author steven;	state Exp;
branches;
next	1.226;

1.226
date	2006.08.19.17.31.58;	author steven;	state Exp;
branches;
next	1.225;

1.225
date	2006.08.15.02.04.33;	author nick;	state Exp;
branches;
next	1.224;

1.224
date	2006.07.15.15.25.45;	author nick;	state Exp;
branches;
next	1.223;

1.223
date	2006.05.01.23.12.21;	author steven;	state Exp;
branches;
next	1.222;

1.222
date	2006.05.01.18.16.30;	author steven;	state Exp;
branches;
next	1.221;

1.221
date	2006.05.01.01.02.59;	author nick;	state Exp;
branches;
next	1.220;

1.220
date	2006.03.15.00.35.57;	author nick;	state Exp;
branches;
next	1.219;

1.219
date	2006.03.03.13.57.23;	author nick;	state Exp;
branches;
next	1.218;

1.218
date	2006.03.02.03.50.55;	author nick;	state Exp;
branches;
next	1.217;

1.217
date	2006.02.08.02.04.10;	author nick;	state Exp;
branches;
next	1.216;

1.216
date	2005.12.27.01.34.47;	author nick;	state Exp;
branches;
next	1.215;

1.215
date	2005.12.24.04.06.56;	author nick;	state Exp;
branches;
next	1.214;

1.214
date	2005.12.24.04.00.48;	author nick;	state Exp;
branches;
next	1.213;

1.213
date	2005.12.11.18.04.21;	author nick;	state Exp;
branches;
next	1.212;

1.212
date	2005.11.26.20.55.38;	author nick;	state Exp;
branches;
next	1.211;

1.211
date	2005.11.10.01.53.17;	author nick;	state Exp;
branches;
next	1.210;

1.210
date	2005.11.02.02.02.07;	author nick;	state Exp;
branches;
next	1.209;

1.209
date	2005.11.01.11.39.56;	author nick;	state Exp;
branches;
next	1.208;

1.208
date	2005.10.09.15.19.21;	author nick;	state Exp;
branches;
next	1.207;

1.207
date	2005.06.27.10.53.52;	author nick;	state Exp;
branches;
next	1.206;

1.206
date	2005.05.24.01.15.46;	author nick;	state Exp;
branches;
next	1.205;

1.205
date	2005.05.21.04.30.27;	author saad;	state Exp;
branches;
next	1.204;

1.204
date	2005.05.19.16.54.27;	author nick;	state Exp;
branches;
next	1.203;

1.203
date	2005.05.14.20.49.12;	author nick;	state Exp;
branches;
next	1.202;

1.202
date	2005.05.14.12.12.58;	author nick;	state Exp;
branches;
next	1.201;

1.201
date	2005.05.14.12.09.36;	author nick;	state Exp;
branches;
next	1.200;

1.200
date	2005.05.14.11.43.27;	author nick;	state Exp;
branches;
next	1.199;

1.199
date	2005.05.13.23.49.38;	author nick;	state Exp;
branches;
next	1.198;

1.198
date	2005.05.10.22.41.22;	author nick;	state Exp;
branches;
next	1.197;

1.197
date	2005.02.26.19.06.21;	author nick;	state Exp;
branches;
next	1.196;

1.196
date	2005.02.12.19.08.41;	author nick;	state Exp;
branches;
next	1.195;

1.195
date	2005.02.09.20.23.51;	author nick;	state Exp;
branches;
next	1.194;

1.194
date	2005.01.03.04.58.46;	author nick;	state Exp;
branches;
next	1.193;

1.193
date	2004.11.30.17.03.44;	author nick;	state Exp;
branches;
next	1.192;

1.192
date	2004.11.10.01.24.12;	author nick;	state Exp;
branches;
next	1.191;

1.191
date	2004.11.09.11.00.03;	author saad;	state Exp;
branches;
next	1.190;

1.190
date	2004.11.06.23.11.26;	author nick;	state Exp;
branches;
next	1.189;

1.189
date	2004.10.29.17.26.01;	author nick;	state Exp;
branches;
next	1.188;

1.188
date	2004.10.20.23.04.26;	author nick;	state Exp;
branches;
next	1.187;

1.187
date	2004.10.19.03.20.04;	author krw;	state Exp;
branches;
next	1.186;

1.186
date	2004.10.08.14.19.48;	author nick;	state Exp;
branches;
next	1.185;

1.185
date	2004.10.07.13.02.27;	author nick;	state Exp;
branches;
next	1.184;

1.184
date	2004.08.15.15.47.16;	author nick;	state Exp;
branches;
next	1.183;

1.183
date	2004.08.06.22.55.49;	author nick;	state Exp;
branches;
next	1.182;

1.182
date	2004.08.06.20.55.24;	author nick;	state Exp;
branches;
next	1.181;

1.181
date	2004.07.31.04.38.54;	author nick;	state Exp;
branches;
next	1.180;

1.180
date	2004.07.26.03.02.56;	author nick;	state Exp;
branches;
next	1.179;

1.179
date	2004.07.24.18.55.05;	author jolan;	state Exp;
branches;
next	1.178;

1.178
date	2004.07.14.23.26.18;	author nick;	state Exp;
branches;
next	1.177;

1.177
date	2004.07.13.15.30.28;	author nick;	state Exp;
branches;
next	1.176;

1.176
date	2004.07.11.14.34.49;	author nick;	state Exp;
branches;
next	1.175;

1.175
date	2004.07.10.21.23.53;	author nick;	state Exp;
branches;
next	1.174;

1.174
date	2004.07.07.14.37.07;	author nick;	state Exp;
branches;
next	1.173;

1.173
date	2004.06.22.17.23.09;	author nick;	state Exp;
branches;
next	1.172;

1.172
date	2004.06.04.03.18.19;	author nick;	state Exp;
branches;
next	1.171;

1.171
date	2004.06.03.17.30.06;	author nick;	state Exp;
branches;
next	1.170;

1.170
date	2004.06.03.16.14.03;	author nick;	state Exp;
branches;
next	1.169;

1.169
date	2004.05.04.03.08.02;	author nick;	state Exp;
branches;
next	1.168;

1.168
date	2004.04.30.18.06.20;	author nick;	state Exp;
branches;
next	1.167;

1.167
date	2004.03.28.02.55.09;	author nick;	state Exp;
branches;
next	1.166;

1.166
date	2004.03.18.23.21.31;	author nick;	state Exp;
branches;
next	1.165;

1.165
date	2004.03.15.18.50.46;	author saad;	state Exp;
branches;
next	1.164;

1.164
date	2004.02.16.22.48.21;	author nick;	state Exp;
branches;
next	1.163;

1.163
date	2004.02.10.03.28.27;	author nick;	state Exp;
branches;
next	1.162;

1.162
date	2004.01.19.00.36.15;	author nick;	state Exp;
branches;
next	1.161;

1.161
date	2004.01.01.04.13.34;	author nick;	state Exp;
branches;
next	1.160;

1.160
date	2003.11.28.18.39.00;	author nick;	state Exp;
branches;
next	1.159;

1.159
date	2003.11.27.17.21.19;	author nick;	state Exp;
branches;
next	1.158;

1.158
date	2003.11.27.15.27.50;	author nick;	state Exp;
branches;
next	1.157;

1.157
date	2003.11.27.14.00.22;	author nick;	state Exp;
branches;
next	1.156;

1.156
date	2003.11.24.15.22.50;	author nick;	state Exp;
branches;
next	1.155;

1.155
date	2003.11.15.02.30.39;	author nick;	state Exp;
branches;
next	1.154;

1.154
date	2003.11.11.19.27.43;	author nick;	state Exp;
branches;
next	1.153;

1.153
date	2003.11.07.22.12.23;	author nick;	state Exp;
branches;
next	1.152;

1.152
date	2003.10.30.22.43.42;	author nick;	state Exp;
branches;
next	1.151;

1.151
date	2003.10.14.02.26.21;	author nick;	state Exp;
branches;
next	1.150;

1.150
date	2003.10.10.18.46.04;	author nick;	state Exp;
branches;
next	1.149;

1.149
date	2003.10.10.02.16.48;	author nick;	state Exp;
branches;
next	1.148;

1.148
date	2003.10.09.17.03.47;	author nick;	state Exp;
branches;
next	1.147;

1.147
date	2003.10.09.16.45.38;	author nick;	state Exp;
branches;
next	1.146;

1.146
date	2003.10.07.18.35.02;	author horacio;	state Exp;
branches;
next	1.145;

1.145
date	2003.10.05.19.25.14;	author nick;	state Exp;
branches;
next	1.144;

1.144
date	2003.08.11.23.28.01;	author nick;	state Exp;
branches;
next	1.143;

1.143
date	2003.07.09.01.27.56;	author nick;	state Exp;
branches;
next	1.142;

1.142
date	2003.06.16.23.48.04;	author david;	state Exp;
branches;
next	1.141;

1.141
date	2003.06.16.17.18.08;	author shell;	state Exp;
branches;
next	1.140;

1.140
date	2003.06.05.02.21.15;	author nick;	state Exp;
branches;
next	1.139;

1.139
date	2003.06.02.17.28.15;	author david;	state Exp;
branches;
next	1.138;

1.138
date	2003.05.01.01.47.41;	author nick;	state Exp;
branches;
next	1.137;

1.137
date	2003.04.04.15.44.53;	author nick;	state Exp;
branches;
next	1.136;

1.136
date	2003.04.02.00.14.45;	author nick;	state Exp;
branches;
next	1.135;

1.135
date	2003.04.01.23.48.18;	author nick;	state Exp;
branches;
next	1.134;

1.134
date	2003.03.25.02.37.10;	author nick;	state Exp;
branches;
next	1.133;

1.133
date	2003.03.18.03.41.04;	author nick;	state Exp;
branches;
next	1.132;

1.132
date	2003.03.17.19.22.51;	author nick;	state Exp;
branches;
next	1.131;

1.131
date	2003.03.07.15.18.21;	author nick;	state Exp;
branches;
next	1.130;

1.130
date	2003.03.06.18.31.31;	author nick;	state Exp;
branches;
next	1.129;

1.129
date	2003.03.06.04.11.12;	author nick;	state Exp;
branches;
next	1.128;

1.128
date	2003.02.28.00.34.27;	author nick;	state Exp;
branches;
next	1.127;

1.127
date	2003.02.27.21.50.56;	author nick;	state Exp;
branches;
next	1.126;

1.126
date	2003.02.26.02.54.48;	author nick;	state Exp;
branches;
next	1.125;

1.125
date	2003.02.25.22.55.44;	author nick;	state Exp;
branches;
next	1.124;

1.124
date	2003.02.25.21.04.15;	author nick;	state Exp;
branches;
next	1.123;

1.123
date	2003.02.25.04.00.10;	author david;	state Exp;
branches;
next	1.122;

1.122
date	2003.02.24.00.39.49;	author kjell;	state Exp;
branches;
next	1.121;

1.121
date	2003.02.20.03.09.55;	author nick;	state Exp;
branches;
next	1.120;

1.120
date	2003.02.03.18.56.50;	author nick;	state Exp;
branches;
next	1.119;

1.119
date	2003.01.01.13.02.00;	author nick;	state Exp;
branches;
next	1.118;

1.118
date	2002.12.27.03.22.45;	author nick;	state Exp;
branches;
next	1.117;

1.117
date	2002.12.27.03.17.34;	author nick;	state Exp;
branches;
next	1.116;

1.116
date	2002.12.11.03.38.17;	author nick;	state Exp;
branches;
next	1.115;

1.115
date	2002.11.10.01.43.04;	author nick;	state Exp;
branches;
next	1.114;

1.114
date	2002.11.01.15.17.30;	author nick;	state Exp;
branches;
next	1.113;

1.113
date	2002.10.04.13.31.11;	author nick;	state Exp;
branches;
next	1.112;

1.112
date	2002.10.01.21.32.14;	author nick;	state Exp;
branches;
next	1.111;

1.111
date	2002.09.03.01.30.29;	author nick;	state Exp;
branches;
next	1.110;

1.110
date	2002.07.22.17.45.16;	author nick;	state Exp;
branches;
next	1.109;

1.109
date	2002.07.22.15.27.21;	author nick;	state Exp;
branches;
next	1.108;

1.108
date	2002.07.15.21.59.28;	author nick;	state Exp;
branches;
next	1.107;

1.107
date	2002.07.12.02.51.35;	author nick;	state Exp;
branches;
next	1.106;

1.106
date	2002.07.02.01.17.58;	author nick;	state Exp;
branches;
next	1.105;

1.105
date	2002.07.02.00.50.06;	author nick;	state Exp;
branches;
next	1.104;

1.104
date	2002.07.02.00.30.16;	author nick;	state Exp;
branches;
next	1.103;

1.103
date	2002.07.01.19.54.14;	author nick;	state Exp;
branches;
next	1.102;

1.102
date	2002.06.07.22.54.21;	author nick;	state Exp;
branches;
next	1.101;

1.101
date	2002.05.20.00.59.27;	author nick;	state Exp;
branches;
next	1.100;

1.100
date	2002.04.24.03.18.41;	author nick;	state Exp;
branches;
next	1.99;

1.99
date	2002.03.11.00.05.13;	author millert;	state Exp;
branches;
next	1.98;

1.98
date	2002.02.22.02.17.21;	author nick;	state Exp;
branches;
next	1.97;

1.97
date	2002.02.21.05.28.23;	author nick;	state Exp;
branches;
next	1.96;

1.96
date	2002.02.03.03.28.31;	author nick;	state Exp;
branches;
next	1.95;

1.95
date	2002.01.25.03.44.01;	author nick;	state Exp;
branches;
next	1.94;

1.94
date	2002.01.21.20.28.25;	author nick;	state Exp;
branches;
next	1.93;

1.93
date	2002.01.14.00.54.14;	author kjell;	state Exp;
branches;
next	1.92;

1.92
date	2002.01.13.00.00.32;	author ericj;	state Exp;
branches;
next	1.91;

1.91
date	2002.01.12.01.39.30;	author ericj;	state Exp;
branches;
next	1.90;

1.90
date	2001.12.07.17.08.39;	author millert;	state Exp;
branches;
next	1.89;

1.89
date	2001.10.20.15.57.31;	author horacio;	state Exp;
branches;
next	1.88;

1.88
date	2001.10.03.14.49.05;	author jufi;	state Exp;
branches;
next	1.87;

1.87
date	2001.10.03.11.31.15;	author jufi;	state Exp;
branches;
next	1.86;

1.86
date	2001.09.10.19.26.32;	author jufi;	state Exp;
branches;
next	1.85;

1.85
date	2001.08.25.09.31.33;	author jufi;	state Exp;
branches;
next	1.84;

1.84
date	2001.08.08.21.06.32;	author jsyn;	state Exp;
branches;
next	1.83;

1.83
date	2001.07.02.20.48.35;	author jufi;	state Exp;
branches;
next	1.82;

1.82
date	2001.05.04.14.14.21;	author reinhard;	state Exp;
branches;
next	1.81;

1.81
date	2001.03.26.17.14.10;	author todd;	state Exp;
branches;
next	1.80;

1.80
date	2001.01.02.20.27.00;	author wvdputte;	state Exp;
branches;
next	1.79;

1.79
date	2000.12.26.17.00.49;	author ericj;	state Exp;
branches;
next	1.78;

1.78
date	2000.12.01.19.32.28;	author reinhard;	state Exp;
branches;
next	1.77;

1.77
date	2000.11.30.05.56.37;	author ericj;	state Exp;
branches;
next	1.76;

1.76
date	2000.11.30.05.50.11;	author ericj;	state Exp;
branches;
next	1.75;

1.75
date	2000.11.30.04.38.24;	author ericj;	state Exp;
branches;
next	1.74;

1.74
date	2000.11.30.03.48.09;	author ericj;	state Exp;
branches;
next	1.73;

1.73
date	2000.09.14.19.19.24;	author ericj;	state Exp;
branches;
next	1.72;

1.72
date	2000.04.26.19.45.02;	author ericj;	state Exp;
branches;
next	1.71;

1.71
date	2000.03.23.13.54.41;	author wvdputte;	state Exp;
branches;
next	1.70;

1.70
date	2000.03.03.12.59.17;	author rohee;	state Exp;
branches;
next	1.69;

1.69
date	2000.02.09.22.11.37;	author ericj;	state Exp;
branches;
next	1.68;

1.68
date	2000.02.01.06.51.05;	author chris;	state Exp;
branches;
next	1.67;

1.67
date	99.12.10.21.20.38;	author ericj;	state Exp;
branches;
next	1.66;

1.66
date	99.12.05.21.35.49;	author chris;	state Exp;
branches;
next	1.65;

1.65
date	99.12.04.20.47.45;	author chris;	state Exp;
branches;
next	1.64;

1.64
date	99.12.04.20.07.04;	author chris;	state Exp;
branches;
next	1.63;

1.63
date	99.12.01.04.14.17;	author ericj;	state Exp;
branches;
next	1.62;

1.62
date	99.11.28.03.26.04;	author ericj;	state Exp;
branches;
next	1.61;

1.61
date	99.10.29.14.37.50;	author ericj;	state Exp;
branches;
next	1.60;

1.60
date	99.10.22.14.11.51;	author chris;	state Exp;
branches;
next	1.59;

1.59
date	99.10.01.19.38.09;	author ericj;	state Exp;
branches;
next	1.58;

1.58
date	99.09.24.02.19.57;	author ericj;	state Exp;
branches;
next	1.57;

1.57
date	99.09.24.01.46.14;	author ericj;	state Exp;
branches;
next	1.56;

1.56
date	99.09.15.05.16.23;	author ericj;	state Exp;
branches;
next	1.55;

1.55
date	99.09.07.20.38.28;	author ericj;	state Exp;
branches;
next	1.54;

1.54
date	99.09.03.03.10.53;	author ericj;	state Exp;
branches;
next	1.53;

1.53
date	99.09.03.01.49.54;	author ericj;	state Exp;
branches;
next	1.52;

1.52
date	99.08.11.13.24.53;	author ericj;	state Exp;
branches;
next	1.51;

1.51
date	99.08.11.05.12.55;	author ericj;	state Exp;
branches;
next	1.50;

1.50
date	99.08.10.16.20.52;	author ericj;	state Exp;
branches;
next	1.49;

1.49
date	99.08.10.15.56.27;	author wvdputte;	state Exp;
branches;
next	1.48;

1.48
date	99.08.10.15.19.15;	author ericj;	state Exp;
branches;
next	1.47;

1.47
date	99.08.09.12.47.57;	author wvdputte;	state Exp;
branches;
next	1.46;

1.46
date	99.07.26.15.10.46;	author ericj;	state Exp;
branches;
next	1.45;

1.45
date	99.07.13.01.34.00;	author ericj;	state Exp;
branches;
next	1.44;

1.44
date	99.07.06.21.53.07;	author deraadt;	state Exp;
branches;
next	1.43;

1.43
date	99.07.05.18.11.01;	author ericj;	state Exp;
branches;
next	1.42;

1.42
date	99.07.03.05.51.35;	author ericj;	state Exp;
branches;
next	1.41;

1.41
date	99.06.30.16.01.27;	author ericj;	state Exp;
branches;
next	1.40;

1.40
date	99.06.28.17.35.55;	author ericj;	state Exp;
branches;
next	1.39;

1.39
date	99.06.28.17.29.27;	author ericj;	state Exp;
branches;
next	1.38;

1.38
date	99.06.25.19.16.29;	author ericj;	state Exp;
branches;
next	1.37;

1.37
date	99.06.22.16.59.44;	author ericj;	state Exp;
branches;
next	1.36;

1.36
date	99.06.22.15.37.48;	author ericj;	state Exp;
branches;
next	1.35;

1.35
date	99.06.17.18.38.07;	author ericj;	state Exp;
branches;
next	1.34;

1.34
date	99.06.16.14.41.20;	author ericj;	state Exp;
branches;
next	1.33;

1.33
date	99.06.16.01.01.43;	author ericj;	state Exp;
branches;
next	1.32;

1.32
date	99.06.16.00.12.37;	author ericj;	state Exp;
branches;
next	1.31;

1.31
date	99.06.09.20.38.58;	author ericj;	state Exp;
branches;
next	1.30;

1.30
date	99.06.08.23.53.21;	author ericj;	state Exp;
branches;
next	1.29;

1.29
date	99.06.08.23.10.01;	author ericj;	state Exp;
branches;
next	1.28;

1.28
date	99.05.29.03.32.10;	author ericj;	state Exp;
branches;
next	1.27;

1.27
date	99.05.28.22.18.21;	author ericj;	state Exp;
branches;
next	1.26;

1.26
date	99.05.21.02.44.00;	author ericj;	state Exp;
branches;
next	1.25;

1.25
date	99.05.20.22.44.56;	author ericj;	state Exp;
branches;
next	1.24;

1.24
date	99.05.07.17.03.50;	author ericj;	state Exp;
branches;
next	1.23;

1.23
date	99.05.05.00.38.06;	author ericj;	state Exp;
branches;
next	1.22;

1.22
date	99.05.03.03.37.04;	author ericj;	state Exp;
branches;
next	1.21;

1.21
date	99.04.19.21.14.15;	author ericj;	state Exp;
branches;
next	1.20;

1.20
date	99.04.09.17.56.20;	author ericj;	state Exp;
branches;
next	1.19;

1.19
date	99.04.08.23.32.08;	author ericj;	state Exp;
branches;
next	1.18;

1.18
date	99.04.08.22.21.23;	author ericj;	state Exp;
branches;
next	1.17;

1.17
date	99.03.17.15.20.55;	author kjell;	state Exp;
branches;
next	1.16;

1.16
date	99.02.28.04.59.19;	author ericj;	state Exp;
branches;
next	1.15;

1.15
date	99.02.21.21.43.02;	author wvdputte;	state Exp;
branches;
next	1.14;

1.14
date	99.02.12.07.59.26;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	99.01.06.23.08.35;	author ericj;	state Exp;
branches;
next	1.12;

1.12
date	99.01.05.02.52.18;	author ericj;	state Exp;
branches;
next	1.11;

1.11
date	99.01.04.22.28.19;	author ericj;	state Exp;
branches;
next	1.10;

1.10
date	99.01.03.00.38.01;	author ericj;	state Exp;
branches;
next	1.9;

1.9
date	99.01.02.20.14.37;	author ericj;	state Exp;
branches;
next	1.8;

1.8
date	99.01.02.18.51.52;	author ericj;	state Exp;
branches;
next	1.7;

1.7
date	99.01.02.17.06.09;	author ericj;	state Exp;
branches;
next	1.6;

1.6
date	99.01.01.21.30.17;	author ericj;	state Exp;
branches;
next	1.5;

1.5
date	98.12.22.07.52.09;	author ericj;	state Exp;
branches;
next	1.4;

1.4
date	98.12.21.21.37.27;	author ericj;	state Exp;
branches;
next	1.3;

1.3
date	98.12.18.03.47.52;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.12.17.22.44.54;	author ericj;	state Exp;
branches;
next	1.1;

1.1
date	98.12.17.21.00.32;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.513
log
@link to the -o section of mount(8) when describing "mount options."
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<style type="text/css">
dt { margin-left: 40px; float: left; }
dd { margin: 0 0 0 10em; }
</style>

<!-- If you make edits to any FAQ documents, please start each sentence
     on a new line, and try to keep the general formatting consistent
     with the rest of the pages -->

<title>OpenBSD FAQ: Installation Guide</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="copyright" content="This document copyright 1998-2017 by OpenBSD.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/faq/faq4.html">
</head>

<body bgcolor= "#ffffff" text= "#000000">

<h2>
<a href="../index.html">
<font color="#0000ff"><i>Open</i></font><font color="#000084">BSD</font></a>
<font color="#e00000">FAQ - Installation Guide</font>
<small>
<a href="index.html" style="font-weight:normal; float:right">[FAQ Index]</a>
</small>
</h2>
<hr>

<ul>
<li><a href="#Overview"    >Overview of the installation procedure</a>
<li><a href="#Checklist"   >Pre-installation checklist</a>
<li><a href="#Download"    >Downloading OpenBSD</a>
<li><a href="#MkInsMedia"  >Creating install media</a>
<li><a href="#Install"     >Performing a simple install</a>
<li><a href="#FilesNeeded" >File sets</a>
<li><a href="#Partitioning">Disk partitioning</a>
<li><a href="#SendDmesg"   >Sending your dmesg after the install</a>
<li><a href="#bsd.rd"      >The ramdisk kernel (bsd.rd)</a>
<li><a href="#site"        >Customizing the install process</a>
<li><a href="#Multibooting">Multibooting</a>
</ul>
<hr>

<h2 id="Overview">Overview of the installation procedure</h2>

The OpenBSD installer (<a href="#bsd.rd">bsd.rd</a>) is actually just
a special kernel, available via a few different methods:

<ul>
  <li>USB drive
  <li>CD-ROM
  <li>Existing partition:
    It can be booted off an existing partition for an upgrade or install.
  <li>Network:
    Some platforms support booting over a network, for example using
    <a href="faq6.html#PXE">PXE</a> or other
    <a href="https://man.openbsd.org/diskless">network boot options</a>.
  <li>Floppy disk
</ul>

Not every <a href="../plat.html">platform</a> supports all boot options.
All platforms can use <tt>bsd.rd</tt> to reinstall or upgrade, however.
The above options are also available for the
<a href="#FilesNeeded">file sets</a>, regardless of how you booted the system.

<h2 id="Checklist">Pre-installation checklist</h2>

You may want to consult your platform's installation notes,
<tt>INSTALL.i386</tt> or <tt>INSTALL.amd64</tt> for example.
They contain detailed installation instructions and any possible caveats.
Before you start, you should have some idea what you want to end up with.
A few things worth considering beforehand:

<ul>
  <li>Machine name
  <li>Hardware installed and available:
    <ul>
      <li>Verify compatibility with your platform's hardware compatibility page.
      <li>If wireless internet is your only option, does your card require
        <a href="http://firmware.openbsd.org/firmware">additional firmware</a>?
        If so, you'll need to manually download it to a USB drive or similar
        device, then use the
        <a href="https://man.openbsd.org/fw_update">fw_update(1)</a> tool to
        enable it after OpenBSD is installed.
    </ul>
  <li>Install method to be used
  <li>Desired disk layout:
    <ul>
      <li>Does existing data need to be saved elsewhere?
      <li>Will OpenBSD coexist on this system with another OS?
        If so, how will each system be booted?
        Will you need to install a boot manager?
      <li>Will the entire disk be used for OpenBSD, or do you want to
        keep an existing partition/OS (or space for a future one)?
      <li>How do you wish to sub-partition the OpenBSD part of your disk?
      <li>Do you want <a href="faq14.html#softraidFDE">disk encryption</a>?
    </ul>
  <li>Network settings, if not using DHCP:
    <ul>
      <li>Domain name and DNS address
      <li>IP address and subnet masks for each NIC
      <li>Gateway address
    </ul>
</ul>

<h2 id="Download">Downloading OpenBSD</h2>

There are numerous international <a href= "../ftp.html">mirror sites</a>
offering access to OpenBSD releases and snapshots.
You should always use a nearby site for the best speed.
The following installation images are available:

<dl>
  <dt><tt>minirootXX.fs</tt>
    <dd>A disk image that can be written to a USB flash drive or similar device.
      The <a href="#FilesNeeded">file sets</a> are not included,
      but they can be pulled down from the internet or another local disk.
  <dt><tt>installXX.fs</tt>
    <dd>The same as above, but also includes the file sets.
  <dt><tt>cdXX.iso</tt>
    <dd>An ISO 9660 image that can be used to create an install CD.
    The file sets are not included.
  <dt><tt>installXX.iso</tt>
    <dd>The same as above, but also includes the file sets.
  <dt><tt>floppyXX.fs</tt>
    <dd>Supports some older machines that lack other booting options.
</dl>

In the same directory as the installation files, each mirror includes an
<tt>SHA256</tt> file that contains checksums of the images.
You can confirm that none of the downloaded files were mangled in transit
using the <a href="https://man.openbsd.org/sha256">sha256(1)</a> command.

<blockquote><pre>
$ <b>sha256 -C SHA256 miniroot*.fs</b>
(SHA256) minirootXX.fs: OK
</pre></blockquote>

Or, if you're using an OS with the GNU coreutils:

<blockquote><pre>
$ <b>sha256sum -c --ignore-missing SHA256</b>
minirootXX.fs: OK
</pre></blockquote>

However, this only checks for <i>accidental</i> corruption.
You can use <a href="https://man.openbsd.org/signify">signify(1)</a> and the
<tt>SHA256.sig</tt> file to cryptographically verify the downloaded image.

<blockquote><pre>
$ <b>signify -Cp /etc/signify/openbsd-XX-base.pub -x SHA256.sig miniroot*.fs</b>
Signature Verified
minirootXX.fs: OK
</pre></blockquote>

The <tt>installXX.iso</tt> and <tt>installXX.fs</tt> images do not contain
an <tt>SHA256.sig</tt> file, and the installer will complain that it can't
check the signatures.
It is not possible for the installer to verify the sets with these images.
After all, if someone were to make a rogue <tt>installXX.iso</tt> file,
they could certainly change the installer to say the files were legitimate.
Thus, you must verify those installer downloads separately.

<h2 id="MkInsMedia">Creating install media</h2>

<h3 id="MkFlash">Flash drives</h3>

A bootable USB flash drive can be created by attaching the target device and
copying over the image with <a href="https://man.openbsd.org/dd">dd(1)</a>.

<p>
Using OpenBSD, assuming the device was recognized as <tt>sd6</tt>:

<blockquote><pre>
# <b>dd if=install*.fs of=/dev/rsd6c bs=1m</b>
</pre></blockquote>

Note that the <b>raw I/O device</b> is used, <tt>rsd6c</tt> rather than
<tt>sd6c</tt>.

<p>
Details of this will vary on other platforms.
The GNU version of <tt>dd</tt> will require <tt>bs=1M</tt> (note the capital M)
instead.
If you're using a different OS, be sure to select the appropriate device
name: <tt>/dev/sdX</tt> on Linux or <tt>/dev/rdiskX</tt> on macOS for example.

<h3 id="MkCD-ROM">CD-ROMs</h3>

You can create a bootable CD-ROM on OpenBSD by using
<a href="https://man.openbsd.org/cdio">cdio(1)</a>.

<blockquote><pre>
# <b>cdio tao cd*.iso</b>
</pre></blockquote>

<h2 id="Install">Performing a simple install</h2>

The installer is designed to install OpenBSD in a very usable default
configuration with a minimum of user intervention.
In fact, you can often just hit <tt>&lt;Enter&gt;</tt> to get a good OpenBSD
install, moving your hands to the rest of the keyboard only to enter the
root password and to reboot at the end.

<p>
The installer will create a partitioning plan based on the size of your
hard disk.
While this will not be a perfect layout for all people, it provides a
good starting point for figuring out what you need.

<p>
If you need instructions on booting from your preferred media, check the
relevant <a href="../plat.html">platform page</a> of your machine.
Whatever your means of booting is, it is now time to use it.
After the <a href="https://man.openbsd.org/dmesg">dmesg(8)</a> is shown,
you will see the first installer question:

<blockquote><pre>
...
root on rd0a swap on rd0b dump on rd0b
erase ^?, werase ^W, kill ^U, intr ^C, status ^T

Welcome to the OpenBSD/amd64 X.X installation program.
(I)nstall, (U)pgrade, (A)utoinstall or (S)hell?
</pre></blockquote>

Choose <tt>(I)nstall</tt> and follow the instructions.

<h2 id="FilesNeeded">File sets</h2>

The complete OpenBSD installation is broken up into a number of file sets:

<dl>
  <dt><tt>bsd</tt>
    <dd>The kernel <b>(required)</b>
  <dt><tt>bsd.mp</tt>
    <dd>The multi-processor kernel (only on some platforms)
  <dt><tt>bsd.rd</tt>
    <dd>The <a href="#bsd.rd">ramdisk kernel</a>
  <dt><tt>baseXX.tgz</tt>
    <dd>The base system <b>(required)</b>
  <dt><tt>compXX.tgz</tt>
    <dd>The compiler collection, headers and libraries
  <dt><tt>manXX.tgz</tt>
    <dd>The man pages
  <dt><tt>gameXX.tgz</tt>
    <dd>Text-based games
  <dt><tt>xbaseXX.tgz</tt>
    <dd>The base libraries and utilities for X11 (requires <tt>xshareXX.tgz</tt>)
  <dt><tt>xfontXX.tgz</tt>
    <dd>Fonts used by X11
  <dt><tt>xservXX.tgz</tt>
    <dd>X11's X servers
  <dt><tt>xshareXX.tgz</tt>
    <dd>X11's man pages, locale settings and includes
</dl>

New users are recommended to install all of them.

<h3>Adding a file set after install</h3>

If you chose to skip some file sets at install time, you might realize later
that you really do need them after all.
Simply boot <a href="#bsd.rd">bsd.rd</a> from your root file system and choose
<tt>(U)pgrade</tt>.
When you get to the list of file sets, select the ones you need.

<h3 id="FilesNeededX">Why do I have to install X for my non-graphical
application?</h3>

Some libraries from <tt>xbaseXX.tgz</tt>, like freetype or fontconfig, can be
used outside of X by programs that manipulate text or graphics.
Such programs will usually need fonts, either from <tt>xfontXX.tgz</tt> or
font packages.
For the sake of simplicity, the developers decided against maintaining a minimal
<tt>xbaseXX.tgz</tt> set that would allow most non-X ports to run.
The <tt>xservXX.tgz</tt> set is rarely needed if you don't intend to run X.

<h2 id="Partitioning">Disk partitioning</h2>

OpenBSD can be installed in as little as 512MB, but using a device that small
is something for advanced users.
Until you have some experience, 8GB or more disk space is recommended.

<p>
Unlike some other operating systems, OpenBSD encourages users to split their
disk into a number of partitions, rather than just one or two large ones.
Some of the reasons for doing so are:

<dl>
  <dt>Security:
  <dd>Some of OpenBSD's default security features rely on filesystem
    <a href="https://man.openbsd.org/mount#o">mount options</a> such as
    <tt>nosuid</tt>, <tt>nodev</tt>, <tt>noexec</tt> or <tt>wxallowed</tt>.
  <dt>Stability:
  <dd>A user or a misbehaved program can fill a filesystem with garbage if they
    have write permissions for it.
    Your critical programs, which hopefully run on a different filesystem,
    do not get interrupted.
  <dt>Integrity:
  <dd>If one filesystem is corrupted for some reason, then your other filesystems
    are most likely still OK.
  <dt><a href="https://man.openbsd.org/fsck">fsck(8)</a>:
  <dd>You can mount partitions that you never or rarely need to write to as
    <tt>readonly</tt> most of the time, which will eliminate the need for
    a filesystem check after a crash or power interruption.
</dl>

Read about disklabel's defaults for
<a href="https://man.openbsd.org/disklabel#AUTOMATIC_DISK_ALLOCATION">
automatic disk allocation</a> and the
<a href="https://man.openbsd.org/hier">hier(7)</a> man page before making
decisions about custom partitioning schemes.

<ul>
  <li>One big root partition and <tt>swap</tt> may be easiest for experimenting
    until you know how much space you need.
  <li>Since some <a href="faq15.html">packages</a> need to be started from a
    <tt>wxallowed</tt> filesystem, it is recommended to have a separate
    <tt>/usr/local</tt> partition.
  <li>Very small partitions can become troublesome when you need to upgrade.
  <li>A <tt>/home</tt> partition can be nice.
    New version of the OS?
    Leave your <tt>/home</tt> partition untouched, wipe and reload
    everything else.
  <li>You may also want to create an
    <a href="faq14.html#altroot">altroot partition</a> for backing up your
    root filesystem.
  <li>A system exposed to the internet should have a separate <tt>/var</tt> and
    maybe even a separate <tt>/var/log</tt>.
  <li>
    Compiling some <a href="faq15.html#Ports">ports</a> from source can take
    huge amounts of space on your <tt>/usr</tt> and <tt>/tmp</tt> partitions.
</ul>

<h2 id= "SendDmesg">Sending your dmesg after the install</h2>

A quote from <tt>/usr/src/etc/root/root.mail</tt>:

<blockquote><pre>
If you wish to ensure that OpenBSD runs better on your machines, please do us
a favor (after you have your mail system configured!) and type something like:

# <b>(dmesg; sysctl hw.sensors) | \
   mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@@openbsd.org</b>

so that we can see what kinds of configurations people are running.  As shown,
including a bit of information about your machine in the subject or the body
can help us even further.  We will use this information to improve device driver
support in future releases.  (Please do this using the supplied GENERIC kernel,
not for a custom compiled kernel, unless you're unable to boot the GENERIC
kernel.  If you have a multi-processor machine, dmesg results of both GENERIC.MP
and GENERIC kernels are appreciated.)  The device driver information we get from
this helps us fix existing drivers. Thank you!
</pre></blockquote>

Alternatively, save your dmesg output to a text file and send us its contents:

<blockquote><pre>
$ <b>(dmesg; sysctl hw.sensors) > ~/dmesg.txt</b>
</pre></blockquote>

Please configure your email client to use plain text.
In particular, do not use HTML formatting or forced line breaks.
Put the dmesg into the body of the mail, not as an attachment.

<h2 id="bsd.rd">The ramdisk kernel (bsd.rd)</h2>

The <tt>bsd.rd</tt> ramdisk kernel is a live OpenBSD environment that runs
entirely in memory.
It contains the install script and a small number of utilities needed to perform
a complete installation.
These utilities can also be useful for disaster recovery.
The installation media automatically boots into <tt>bsd.rd</tt> and starts
the install script for you.

<p>
If you have a running OpenBSD system, <tt>bsd.rd</tt> is all you need to
reinstall or upgrade to a newer version.
To do so, <a href="#Download">download and verify</a> the new <tt>bsd.rd</tt>,
place it on an existing filesystem and boot from it.
The general method of booting <tt>bsd.rd</tt> is to change your boot kernel from
<tt>/bsd</tt> to <tt>/bsd.rd</tt> through whatever means used on your platform.

<p>
For example, booting from <tt>bsd.rd</tt> on an amd64 system:

<blockquote><pre>
Using drive 0, partition 3.
Loading......
probing: pc0 com0 com1 mem[638K 1918M a20=on]
disk: hd0+ hd1+
>> OpenBSD/amd64 BOOT 3.33
boot> <b>boot hd0a:/bsd.rd</b>
</pre></blockquote>

This will boot the kernel named <tt>bsd.rd</tt> from the <tt>a</tt> partition of
the first recognized hard disk.
The OpenBSD boot loaders are documented in the architecture-specific
<a href="https://man.openbsd.org/boot.8">boot(8)</a> man pages.

<h2 id="site">Customizing the install process</h2>

<h3>The <tt>siteXX.tgz</tt> file set</h3>

The OpenBSD install and upgrade scripts allow the selection of a user-created
set called <tt>siteXX.tgz</tt>, where <tt>XX</tt> is the release version.
Like the official <a href="#FilesNeeded">file sets</a>, this is a
<a href="https://man.openbsd.org/tar">tar(1)</a> archive rooted in
<tt>/</tt> and untarred with the <tt>-xzphf</tt> options.
It is installed last, so it can be used to complement and modify the files from
a default install.
Furthermore, it is possible to use hostname-dependent sets named
<tt>siteXX-$(hostname -s).tgz</tt>.

<b>Note:</b>
If you intend to provide the sets over HTTP(s), place <tt>siteXX.tgz</tt>
in your source directory and include it in your <tt>index.txt</tt>.
It will then be an option at install time.

<h3>The <tt>install.site</tt> and <tt>upgrade.site</tt> scripts</h3>

If the <tt>siteXX.tgz</tt> file set contains an executable file
<tt>/install.site</tt>, the installer runs it with
<a href="https://man.openbsd.org/chroot">chroot(8)</a>
based at the freshly installed system's root.
Similarly, the upgrade script runs <tt>/upgrade.site</tt>.
The latter can be placed in the system's root directory before rebooting
for the upgrade.

<p>
Example usage:

<ul>
  <li>Set the system time.
  <li>Do an immediate backup/archive of the new system before you expose it to
    the rest of the world.
  <li>Have a set of arbitrary commands be run after the first boot.
    This will happen if install.site is used to append any such commands to an
    <a href="https://man.openbsd.org/rc.firsttime">rc.firsttime(8)</a>
    file (appending to this file is necessary since the installer itself may
    write to this file).
    At boot time, <tt>rc.firsttime</tt> is executed once then deleted.
</ul>

<h2 id="Multibooting">Multibooting</h2>

Multibooting is having several operating systems on one computer, with some
means of selecting which OS is to boot.
You may want to familiarize yourself with the
<a href="faq14.html#BootAmd64">OpenBSD boot process</a> before you start.
A brief introduction to <a href="https://man.openbsd.org/fdisk">fdisk(8)</a>
is in the section on <a href="faq14.html#fdisk">using OpenBSD's fdisk</a>.

<p>
If you are adding OpenBSD to an existing system, you will probably need to
create some free space before installing OpenBSD.
In addition to your existing system's native tools,
<a href="http://gparted.org/">gparted</a>
may be useful for deleting or resizing existing partitions.
Preferably use one of the four primary MBR partitions for booting OpenBSD.
Extended partitions may not work.

<h3>Boot loaders</h3>

On Macs, <a href="http://www.rodsbooks.com/refind/">rEFInd</a> should work out
of the box.

<p>
You can set up dual booting with
<a href="https://www.gnu.org/software/grub/">GRUB 2</a> as follows.
Assuming OpenBSD is installed on the fourth MBR partition (fdisk partition 3) of
the first hard disk <tt>hd0</tt>, append the following to
<tt>/etc/grub.d/40_custom</tt>.

<blockquote><pre>
menuentry "OpenBSD" {
	set root=(hd0,4)
	chainloader +1
}
</pre></blockquote>

Then regenerate the GRUB 2 configuration file, <tt>/boot/grub/grub.cfg</tt>.
On Debian-based distros, you should run <tt>update-grub</tt>.
Otherwise, do

<blockquote><pre>
# <b>grub-mkconfig -o /boot/grub/grub.cfg</b>
</pre></blockquote>

See the
<a href="https://www.gnu.org/software/grub/manual/grub.html#Invoking-grub_002dmkconfig">
GRUB 2 manual</a> or
<a href="https://manpages.debian.org/jessie/grub2-common/update-grub2.8">
update-grub2(8)</a>
for more information.

<h3>Windows</h3>

The Boot Configuration Data (BCD) store allows multiple versions of Windows
to be booted through <tt>bcdedit</tt>.
A good introduction can be found in
<a href="https://technet.microsoft.com/en-us/library/cc721886%28WS.10%29.aspx">
this article</a>.
If you want a GUI alternative, you may want to try
<a href="https://neosmart.net/EasyBCD/">EasyBCD</a>.

<p>
You will need a copy of your OpenBSD install's
<a href="faq14.html#BootAmd64">Partition Boot Record (PBR)</a>.
You can copy it to a file using a process similar to:
<blockquote><pre>
# <b>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</b>
</pre></blockquote>
where <tt>sd0a</tt> is your boot device, and you will need to get the
file <tt>openbsd.pbr</tt> to your Windows system partition.

<p>
Once OpenBSD's PBR is copied to the Windows system partition, you need a shell
with administrative privileges to run the following commands:

<blockquote><pre>
C:\Windows\system32> <b>bcdedit /create /d "OpenBSD/i386" /application bootsector</b>
The entry {0154a872-3d41-11de-bd67-a7060316bbb1} was successfully created.
C:\Windows\system32> <b>bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device boot</b>
The operation completed successfully.
C:\Windows\system32> <b>bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} path \openbsd.pbr</b>
The operation completed successfully.
C:\Windows\system32> <b>bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device partition=c:</b>
The operation completed successfully.
C:\Windows\system32> <b>bcdedit /displayorder {0154a872-3d41-11de-bd67-7060316bbb1} /addlast</b>
The operation completed successfully.
</pre></blockquote>

Note that OpenBSD expects the computer's real-time clock to be set to
Coordinated Universal Time (UTC).
See <a href="faq8.html#TimeZone">this section</a> for more info.

<p>
</body>
</html>
@


1.512
log
@move man.openbsd.org links from http:// to https://
reduces the number of http:// links in www/ from >33k to <7k

thanks to schwarze for doing the work
@
text
@d298 1
a298 1
    <a href="https://man.openbsd.org/mount">mount(8)</a> options such as
@


1.511
log
@clarify that fw_update should be run post-install, not in the installer,
when wireless networking is your only option.

reported by han on freenode
ok tb
@
text
@d62 1
a62 1
    <a href="http://man.openbsd.org/diskless">network boot options</a>.
d88 1
a88 1
        <a href="http://man.openbsd.org/fw_update">fw_update(1)</a> tool to
d137 1
a137 1
using the <a href="http://man.openbsd.org/sha256">sha256(1)</a> command.
d152 1
a152 1
You can use <a href="http://man.openbsd.org/signify">signify(1)</a> and the
d174 1
a174 1
copying over the image with <a href="http://man.openbsd.org/dd">dd(1)</a>.
d196 1
a196 1
<a href="http://man.openbsd.org/cdio">cdio(1)</a>.
d220 1
a220 1
After the <a href="http://man.openbsd.org/dmesg">dmesg(8)</a> is shown,
d298 1
a298 1
    <a href="http://man.openbsd.org/mount">mount(8)</a> options such as
d308 1
a308 1
  <dt><a href="http://man.openbsd.org/fsck">fsck(8)</a>:
d315 1
a315 1
<a href="http://man.openbsd.org/disklabel#AUTOMATIC_DISK_ALLOCATION">
d317 1
a317 1
<a href="http://man.openbsd.org/hier">hier(7)</a> man page before making
d405 1
a405 1
<a href="http://man.openbsd.org/boot.8">boot(8)</a> man pages.
d414 1
a414 1
<a href="http://man.openbsd.org/tar">tar(1)</a> archive rooted in
d430 1
a430 1
<a href="http://man.openbsd.org/chroot">chroot(8)</a>
d445 1
a445 1
    <a href="http://man.openbsd.org/rc.firsttime">rc.firsttime(8)</a>
d457 1
a457 1
A brief introduction to <a href="http://man.openbsd.org/fdisk">fdisk(8)</a>
@


1.510
log
@in the downloading/verifying section, provide an example sha256 command
for the gnu coreutils as well. also briefly touch on raw device names
for dd and note the "bs=1m" vs "bs=1M" difference.

ok tb
@
text
@d89 1
a89 1
        install it.
@


1.509
log
@avoid linking to the bsd.rd section three times in the same section.  make
one 'file sets' in 'downloading openbsd' a link to the file sets section

idea/input tj
@
text
@d144 7
d183 4
d188 4
a191 4
Note that the <b>raw I/O device</b> is used in its entirety:
<tt>rsd6c</tt> rather than <tt>sd6c</tt>.
If you're using <tt>dd</tt> on a different OS, be sure to select the
appropriate device name.
@


1.508
log
@switch "getting openbsd" link to the faq section describing the different
types of install images. adjust wording on said page to accomodate this.

ok deraadt
@
text
@d51 2
a52 2
The OpenBSD installer is actually just a <a href="#bsd.rd">special kernel</a>,
available via a few different methods:
d58 1
a58 2
    The <a href="#bsd.rd">ramdisk kernel</a> can be booted off an existing
    partition for an upgrade or install.
d67 1
a67 2
All platforms can use <a href="#bsd.rd">bsd.rd</a> to reinstall or upgrade,
however.
d121 2
a122 2
      The file sets are not included, but they can be pulled down from the
      internet or another local disk.
@


1.507
log
@6.1 faq updates:

- syspatch
- less xdm, more xenodm
- less pkg.conf, more installurl
- vmm networking (written by edd)
- signing_params is gone
- pkg_sign flags changed
- build user changes (written by tb)
- https in the installer
- cvs version bumps
- remove ports.html redirect page

ok tb
@
text
@d118 1
@


1.506
log
@fix broken link; spotted by corsah
@
text
@d412 1
a412 1
If you intend to provide the sets over HTTP, place <tt>siteXX.tgz</tt>
@


1.505
log
@a few more links can switch to https.
@
text
@d103 1
a103 1
      <li>Do you want to use <a href="faq14#softraidFDE">disk encryption</a>?
@


1.504
log
@fix spelling; from zachary maurer
@
text
@d487 1
a487 1
<a href="http://www.gnu.org/software/grub/manual/grub.html#Invoking-grub_002dmkconfig">
@


1.503
log
@link directly to the relevant section of disklabel(8) instead of saying
what to read.
@
text
@d360 1
a360 1
Put the dmesg into the body of the mail, not as an attachement.
@


1.502
log
@rename "partitioning options" into "disk partitioning"

ok tj
@
text
@d304 4
a307 3
Read the section on automatic disk allocation in
<a href="http://man.openbsd.org/disklabel">disklabel(8)</a>, and the
<a href="http://man.openbsd.org/hier">hier(7)</a> man page, before making
@


1.501
log
@oops: doubled "as" and missing "or"
@
text
@d41 1
a41 1
<li><a href="#Partitioning">Partitioning options</a>
d274 1
a274 1
<h2 id="Partitioning">Partitioning options</h2>
@


1.500
log
@merge the 'additional thoughts' subsection into its parent. remove some
bullet points that aren't vital and trim some fat from the others.

input/ok tj
@
text
@d288 2
a289 2
    <a href="http://man.openbsd.org/mount">mount(8)</a> options such as as
    <tt>nosuid</tt>, <tt>nodev</tt>, <tt>noexec</tt>, <tt>wxallowed</tt>.
@


1.499
log
@when asking for dmesg mails, ask nicely for plain text, no html and no
forced line breaks.

ok tj
@
text
@d287 1
a287 1
  <dd>You can mark some filesystems with
d289 1
a289 2
    <tt>nosuid</tt>, <tt>nodev</tt>, <tt>noexec</tt>, <tt>wxallowed</tt> or
    <tt>readonly</tt> in <a href="http://man.openbsd.org/fstab">fstab(5)</a>.
a308 2
<h3 id="AddThoughts">Additional thoughts on partitioning</h3>

d310 6
a315 19
  <li>For experimenting, one big <tt>/</tt> partition and <tt>swap</tt> may be
    easiest until you know how much space you need.
    By doing this, you will be sacrificing some of the default security features
    of OpenBSD that require separate filesystems for <tt>/</tt>, <tt>/tmp</tt>,
    <tt>/var</tt>, <tt>/usr</tt> and <tt>/home</tt>.
    Note that some programs installed through <a href="faq15.html">packages</a>
    will require a separate <tt>/usr/local</tt> partition mounted with the
    <tt>wxallowed</tt> option to function properly.
  <li>You do <b>not</b> have to allocate all space when you set the system up.
    If you outgrow a partition, you can allocate a new partition from your
    unused space.
    Then <a href="faq10.html#DupFS">duplicate</a> your existing partition to the
    new partition, change <a href="http://man.openbsd.org/fstab">fstab(5)</a>
    to point to the new partition, remount, you now have more space.
  <li>If you make your partitions too close to the minimum size required, you
    will probably regret it later, when it's time to upgrade your system.
  <li>If you make very large partitions, keep in mind that performing
    filesystem checks using <a href="http://man.openbsd.org/fsck">fsck(8)</a>
    requires about 1MB of RAM per gigabyte of filesystem size.
d318 7
a324 8
    Wipe and reload everything else, leave your <tt>/home</tt> partition
    untouched.
    Remember to save a copy of your configuration files.
  <li>You may also want to create an <tt>/altroot</tt> partition, as
    described in <a href="http://man.openbsd.org/daily">daily(8)</a> and the
    <a href="faq14.html#altroot">altroot</a> section of the FAQ.
  <li>A system exposed to the internet or other hostile forces should have a
    separate <tt>/var</tt> and maybe even a separate <tt>/var/log</tt>.
d326 2
a327 7
    If you wish to <a href="faq5.html">build the system from source</a>, you
    will need room for <tt>/usr/src</tt> and <tt>/usr/obj</tt>.
    Create separate partitions for them or make sure <tt>/usr</tt> is
    sufficiently large.
  <li>Compiling some <a href="faq15.html#Ports">ports</a> from source
    can take huge amounts of space on your <tt>/usr</tt> and <tt>/tmp</tt>
    partitions.
@


1.498
log
@more cleanup:
* convert one more bullet list into a definition list
* don't mention boot loaders that died 10-20 years ago
* no longer mention some cumbersome dual booting options
* vista will officially be dead before 6.1 is out, so stop mentioning it
* compress dual booting with windows section: it's pining for the fjords
* purge fdisk walkthrough that ended up with a 5GB partition for windows

ok tj
@
text
@d373 1
a373 1
Alternatively, save your dmesg output to a text file:
d379 3
a381 13
Then transfer this file to the system you normally use for email.
Since the dmesg output you send in is processed automatically, be sure to
check the following:

<ul>
  <li>Configure your email client to send messages as plain text;
    do not use HTML-formatted email.
  <li>Turn off forced line break features.
  <li>Make sure your email client does not reformat messages into text-flow
    nonsense.
  <li>Do not send the dmesg output as a file attachment.
    Put the dmesg output into the body of the message.
</ul>
@


1.497
log
@all other examples use amd64, so switch this one, too
@
text
@d285 3
a287 3
<ul>
  <li><b>Security:</b>
    You can mark some filesystems with
d291 2
a292 2
  <li><b>Stability:</b>
    A user or a misbehaved program can fill a filesystem with garbage if they
d296 2
a297 2
  <li><b>Integrity:</b>
    If one filesystem is corrupted for some reason, then your other filesystems
d299 2
a300 2
  <li><b><a href="http://man.openbsd.org/fsck">fsck(8)</a>:</b>
    You can mount partitions that you never or rarely need to write to as
d303 1
a303 1
</ul>
d476 4
a479 2
New users are encouraged to start with a blank hard drive on a dedicated
machine.
d482 6
a487 9
More information is in the FAQ section on the
<a href="faq14.html#BootAmd64">OpenBSD boot process</a>.
An example showing how to use the installer to set up a custom
<a href="http://man.openbsd.org/fdisk">fdisk(8)</a> configuration for dual
booting with Windows is provided later in this document.

<p>
Preferably use one of the four <i>primary</i> MBR partitions for booting
OpenBSD.
a489 3
<p>
Here are several ways you might configure multibooting:

d492 2
a493 8
Some boot loaders OpenBSD users have used successfully include
<a href="http://www.rodsbooks.com/refind/">rEFInd</a> and
<a href="https://www.gnu.org/software/grub/">GRUB</a> as well as the
two dormant projects
<a href="http://gag.sourceforge.net/">GAG</a> and the
<a href="http://www.ranish.com/part/">Ranish Partition Manager</a>.

<h3>GRUB 2</h3>
d495 3
d524 1
a524 1
<h3>Setting active partitions</h3>
d526 7
a532 35
Set the active partition in whatever OS you are currently using to be the one
you want to boot by default when you next boot.
Virtually every OS offers a program to do this.
OpenBSD's is <a href="http://man.openbsd.org/fdisk">fdisk(8)</a>,
and similarly named programs are in many other operating systems.
Also see the section on <a href="faq14.html#fdisk">using OpenBSD's fdisk</a>.

<h3>Bootable flash drive</h3>

Make a bootable flash drive.
On that drive, create an <tt>/etc/boot.conf</tt> file with the contents:

<blockquote><pre>
   boot hd0a:/bsd
</pre></blockquote>

This line instructs
<a href="http://man.openbsd.org/OpenBSD-current/i386/boot">boot(8)</a>
to load the system from hard drive 0,
<a href="faq14.html#disklabel">disklabel(8) partition</a> <tt>a</tt> and run the
kernel file <tt>/bsd</tt>.

<p>
Configure your system to boot from the other OS by default.
Booting from the flash drive will load OpenBSD.

<h3>Windows Vista, Windows 7 and 10</h3>

With Vista, Microsoft introduced the Boot Configuration Data (BCD) store used
for controlling the boot environment.
Microsoft has enhanced BCD since releasing Vista to allow multiple
versions of Windows to be booted through <tt>bcdedit</tt>.
For those who find manual configuration daunting,
<a href="https://neosmart.net/EasyBCD/">EasyBCD</a> provides a GUI
alternative.
d545 2
a546 4
Once OpenBSD's PBR is copied to the Windows system partition, issue
the following command to initialize the needed registry hive.
Use a shell with administrative privileges.
Right click on cmd.exe and select "run as administrator".
a550 7
</pre></blockquote>

The <tt>{0154a872-3d41-11de-bd67-a7060316bbb1}</tt> GUID is system-dependent.
Note the value you receive when executing, and copy it into the following
commands:

<blockquote><pre>
a552 1

a554 6
</pre></blockquote>

Windows Vista users are done at this point.
For Windows 7 and 10, finish up with:

<blockquote><pre>
a556 1

d561 1
a561 14
For more information, consult <tt>bcdedit</tt>'s help by issuing:

<blockquote><pre>
C:\Windows\system32> <b>bcdedit /?</b>
</pre></blockquote>

or by searching Microsoft's documentation and Website.
A good introduction can be found in this TechNet
<a href="https://technet.microsoft.com/en-us/library/cc721886%28WS.10%29.aspx">
Frequently Asked Questions</a> article.

<h3>Time zone issues</h3>

OpenBSD expects the computer's real-time clock to be set to
a562 1
Some other operating systems expect the real-time clock to be set to local time.
a563 150

<h3>A custom fdisk layout for dual booting</h3>

Before working with any system that has data you don't wish to lose,
make sure you have a good backup.
If you are adding OpenBSD to an existing system, you will probably need to
create some free space before installing OpenBSD.
In addition to your existing system's native tools,
<a href="http://gparted.org/">gparted</a>
may be useful for deleting or resizing existing partitions.

<p>
A brief introduction to <a href="http://man.openbsd.org/fdisk">fdisk(8)</a>
is in the section on <a href="faq14.html#fdisk">using OpenBSD's fdisk</a>.

<p>
In this example, we will assume we are starting with a blank 40GB disk
and wish to create a multiboot system, reserving 5GB at the beginning
of the disk for Windows, and the rest for OpenBSD.
The process is very much the same for working around an existing
partition, you just need to skip over the parts where we create the
Windows partition and worry about installing the MBR boot code.

<blockquote><pre>
Available disks are: wd0.
Which one is the root disk? (or 'done') [wd0] <b>&lt;Enter&gt;</b>
MBR has invalid signature; not showing it.
Use (W)hole disk or (E)dit the MBR? [whole] <b>e</b>

You will now create a single MBR partition to contain your OpenBSD data. This
partition must have an id of 'A6'; must *NOT* overlap other partitions; and
must be marked as the only active partition.  Inside the fdisk command, the
'manual' command describes all the fdisk commands in detail.

Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0x0
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Enter 'help' for information
fdisk: 1>
</pre></blockquote>

In the <tt>fdisk: 1></tt> prompt, the number <tt>1</tt> indicates the first
level of partition tables.
If you were editing an extended partition, it would be <tt>2</tt> or higher.
<p>
First, we will make partition <tt>0</tt> a 5GB Windows partition using NTFS.
Partition <tt>1</tt> will be our OpenBSD partition using the rest of the disk.

<blockquote><pre>
fdisk: 1> <b>edit 0</b>
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>7</b>
</pre></blockquote>

NTFS has partition id <tt>7</tt> and OpenBSD partition id <tt>a6</tt>.
Consult the help prompt for a full list.

<blockquote><pre>
Do you wish to edit in CHS mode? [n] <b>&lt;Enter&gt;</b>
offset: [0] <b>64</b>
</pre></blockquote>

The fdisk platforms need a gap before the first partition.
The exact amount will not matter on modern machines, OpenBSD defaults
to 64 sectors.

<blockquote><pre>
size: [0] <b>5g</b>
Rounding to nearest cylinder: 10490381
</pre></blockquote>

The <tt>size</tt> is measured in sectors (512 bytes), or the desired capacity
when followed by a <tt>k</tt>, <tt>m</tt>, <tt>g</tt> or <tt>t</tt>.

<p>
We've now created our Windows partition.
Note that this partition is just reserved space on the disk, it isn't formatted.

<p>
Now we create our OpenBSD partition.
Note that the prompt now includes an <tt>*</tt>, this means there are unsaved
changes.

<blockquote><pre>
fdisk:*1> <b>e 1</b>
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
Do you wish to edit in CHS mode? [n] <b>&lt;Enter&gt;</b>
offset: [0] <b>10490445</b>
size: [0] <b>*</b>
fdisk:*1>
</pre></blockquote>

The <tt>offset</tt> we chose is the offset of the previous partition plus
the size of the partition, in this case, 64+10490381 = 10490445.
Entering <tt>*</tt> for <tt>size</tt> means: use the rest of the disk.

<p>
As it was a brand new disk, the disk's <a href="faq14.html#BootAmd64">MBR</a>
is completely blank.
We install MBR bootcode using the <tt>update</tt> command and flag the OpenBSD
partition as the bootable partition.

<blockquote><pre>
fdisk:*1> <b>update</b>
Machine code updated.
fdisk:*1> <b>flag 1</b>
Partition 1 marked active.
fdisk:*1> <b>print</b>
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0xAA55
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   1 -    652 254  63 [          64:    10490381 ] NTFS
*1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
fdisk:*1>
</pre></blockquote>

A checklist of things you want to make sure about before you exit fdisk(8):

<ul>
  <li>Non-overlapping partitions?
  <li>The signature should be <tt>0xAA55</tt>. Otherwise <tt>update</tt>.
  <li>Proper partition flagged bootable with <tt>*</tt> in front of the
    partition <tt>#</tt>?
</ul>

Quit and save current changes:

<blockquote><pre>
fdisk:*1> <b>quit</b>
Writing MBR at offset 0.
</pre></blockquote>

To discard all unwritten changes, use <tt><b>exit</b></tt> instead.
@


1.496
log
@convert two ugly bullet lists into definition lists because that's what
they are.

ok tj
@
text
@d218 1
a218 1
Welcome to the OpenBSD/i386 X.X installation program.
@


1.495
log
@we only need to explain the install files once, so trim dupe examples.
move a few paragraphs around for better clarity and unify the two sha256
example commands.

ok tb
@
text
@d5 5
d119 9
a127 9
<ul>
  <li><tt>minirootXX.fs</tt> is a disk image that can be written to a USB 
    flash drive or similar device.
    The file sets are not included, but they can be pulled down from the
    internet or another local disk.
  <li><tt>installXX.fs</tt> is the same as above, but also includes the file
    sets.
  <li><tt>cdXX.iso</tt> is an ISO 9660 image that can be used to create an
    install CD.
d129 5
a133 5
  <li><tt>installXX.iso</tt> is the same as above, but also includes the file
    sets.
  <li><tt>floppyXX.fs</tt> supports some older machines that lack other
    booting options.
</ul>
d228 24
a251 24
<ul>
  <li><b><tt>bsd</tt></b>
    - the kernel <b>(required)</b>
  <li><b><tt>bsd.mp</tt></b>
    - the multi-processor kernel (only on some platforms)
  <li><b><tt>bsd.rd</tt></b>
    - the <a href="#bsd.rd">ramdisk kernel</a>
  <li><b><tt>baseXX.tgz</tt></b>
    - the base system <b>(required)</b>
  <li><b><tt>compXX.tgz</tt></b>
    - the compiler collection, headers and libraries
  <li><b><tt>manXX.tgz</tt></b>
    - the man pages
  <li><b><tt>gameXX.tgz</tt></b>
    - text-based games
  <li><b><tt>xbaseXX.tgz</tt></b>
    - the base libraries and utilities for X11 (requires <tt>xshareXX.tgz</tt>)
  <li><b><tt>xfontXX.tgz</tt></b>
    - fonts used by X11
  <li><b><tt>xservXX.tgz</tt></b>
    - X11's X servers
  <li><b><tt>xshareXX.tgz</tt></b>
    - X11's man pages, locale settings and includes
</ul>
@


1.494
log
@despite its name, the faq has very few <h2> titles written in the form
of a question. rename these last survivors to the standard "topic" title.
zap a short blurb about df while here.

ok tb
@
text
@d50 3
a52 9
  <li><b>USB drives:</b>
    Raw disk images for creating a bootable USB drive.
    <tt>minirootXX.fs</tt> is just for booting, while <tt>installXX.fs</tt>
    also includes the file sets.
  <li><b>CD-ROM:</b>
    ISO images for creating a bootable CD.
    <tt>cdXX.iso</tt> is just for booting, while <tt>installXX.iso</tt> also
    includes the file sets.
  <li><b>Existing partition:</b>
d55 1
a55 1
  <li><b>Network:</b>
d59 1
a59 2
  <li><b>Floppy disk:</b>
    Images for making bootable floppies.
a88 8
  <li>Should an important bug be found, how will the system be patched?
    <ul>
      <li>If done locally, you will need to have
        <a href="#Partitioning">sufficient space</a> available for the
        source tree and building it. <!-- XXXrelease -->
      <li>Otherwise, you will need access to another machine to build a patched
        <a href="faq5.html#Release">release</a> on.
    </ul>
d114 18
a131 4
<p>
In the same directory as the installation sets, each mirror includes a file
named <tt>SHA256</tt> that contains checksums of the various installation
files.
d136 2
a137 1
$ <b>sha256 -c SHA256</b>
d141 2
a142 2
You can use <a href="http://man.openbsd.org/signify">signify(1)</a>
to cryptographically verify the downloaded files.
d145 1
a145 1
$ <b>signify -Cp /etc/signify/openbsd-XX-base.pub -x SHA256.sig install*.iso</b>
d147 1
a147 1
installXX.iso: OK
a149 3
Replace "XX" with the version of OpenBSD that you're verifying.

<p>
a159 22
As an example, these are the installation images available for the
<a href="../amd64.html">amd64</a> platform:

<ul>
  <li><b><tt>minirootXX.fs</tt></b> is a disk image that can be written to a
    device such as a USB flash drive.
    This image has the widest selection of drivers, and is usually the
    recommended choice if your hardware can boot from USB.
    The file sets are not included in this image, but they can be pulled down
    from the internet or another local disk.
  <li><b><tt>installXX.fs</tt></b> is largely the same as
    <tt>minirootXX.fs</tt>, but also includes all the file sets.
  <li><b><tt>cdXX.iso</tt></b> is an ISO 9660 image that can be used to create
    an install CD.
    Much like <tt>minirootXX.fs</tt>, the install file sets are not included.
  <li><b><tt>installXX.iso</tt></b> is largely the same as <tt>cdXX.iso</tt>, 
    but also includes all the file sets.
    This file can be used to create a CD that can do a standalone install.
  <li><b><tt>floppyXX.fs</tt></b> supports many older machines that lack
    other booting options.
</ul>

d181 1
a181 1
<a href="http://man.openbsd.org/cdio">cdio(1)</a>:
a186 3
If you need instructions on booting from your preferred media, check the
relevant <a href="../plat.html">platform page</a> of your machine.

d202 2
@


1.493
log
@unify/merge similar sections, improve wording and formatting, dedupe some
redundant text.

input/ok tb
@
text
@d36 1
a36 2
<li><a href="#Partitioning">How should I partition my disk?</a>
<li><a href="#AddThoughts" >Additional thoughts on partitioning</a>
d295 1
a295 1
<h2 id="Partitioning">How should I partition my disk?</h2>
d331 1
a331 1
<h2 id="AddThoughts">Additional thoughts on partitioning</h2>
@


1.492
log
@shorten the overview and don't implore the readers to consult the
INSTALL.$ARCH files. simply point out their existence. merge some parts
into other sections where they fit better.

lots of help & ok tj
@
text
@d33 1
a33 1
<li><a href="#MkInsMedia"  >Creating bootable install media</a>
d47 2
a48 1
The OpenBSD installer is a <a href="#bsd.rd">special kernel</a> available on:
d51 4
d56 2
a57 2
    ISO images for creating a <a href="#MkInsMedia">bootable CD</a>.
    <tt>cdXX.iso</tt> is for just booting, while <tt>installXX.iso</tt> also
a58 4
  <li><b>USB drives:</b>
    Raw disk images for creating <a href="#MkInsMedia">bootable USB drives</a>.
    <tt>minirootXX.fs</tt> is for just booting, while <tt>installXX.fs</tt>
    also includes the file sets.
d61 1
a61 1
    partition for an upgrade or reinstall.
d65 1
a65 1
    <a href="http://man.openbsd.org/diskless">network boot</a>.
a77 1
Before you start, you should have some idea what you want to end up with.
d81 2
d101 1
a101 1
        source tree and building it.
a121 1
  <li>Will you be running the X Window System?
d126 3
a128 9
There are numerous international mirror sites offering access to OpenBSD
releases and snapshots.
You should always use the site nearest to you.
Before you begin fetching a release or snapshot, you may wish to use
<a href="http://man.openbsd.org/ping">ping(8)</a> and
<a href="http://man.openbsd.org/traceroute">traceroute(8)</a> to determine
which mirror site is nearest to you, and whether that mirror is performing
adequately.
Access information can be found <a href= "../ftp.html">here</a>.
a150 1
This will verify the <tt>installXX.iso</tt> file, for example.
a160 2
Note that you will need the public key files for OpenBSD's base system
(and the signify program!) in order to do this.
d162 1
a162 1
<h2 id="MkInsMedia">Creating bootable install media</h2>
d165 1
a165 1
<a href="../i386.html">i386</a> platform:
d168 8
d177 5
a181 14
    a bootable CD with most popular CD-ROM creation software on most platforms.
    This image has the widest selection of drivers, and is usually the
    recommended choice if your hardware can boot from a CD-ROM.
    The install file sets are not included and need to be pulled down from the
    network or another disk.
  <li><b><tt>minirootXX.fs</tt></b> is a disk image that can be written to a
    bootable device, such as a USB flash drive, and booted for the install.
    As in <tt>cdXX.iso</tt>, the install file sets are not included.
  <li><b><tt>installXX.iso</tt></b> much like <tt>cdXX.iso</tt>, but also
    includes all the file sets.
    This file can be used to create a CD that can do a stand-alone
    OpenBSD install.
  <li><b><tt>installXX.fs</tt></b> much like <tt>minirootXX.fs</tt>, but also
    includes all the file sets.
d183 1
a183 1
    bootable CD-ROMs.
d195 1
a195 1
# <b>dd if=/location/install*.fs of=/dev/rsd6c bs=1m</b>
d200 3
a202 3
<tt><b>r</b>sd6<b>c</b></tt>.
In some Linux variants, the entire seventh <tt>sd</tt> disk would be
<tt>/dev/sdg</tt>.
d206 2
a207 2
You can create a CD-ROM using the <tt>cdXX.iso</tt> or <tt>installXX.iso</tt>
files using <a href="http://man.openbsd.org/cdio">cdio(1)</a>:
d231 3
a233 15
Installation notes for each platform are on the mirrors, located in the file
<tt>INSTALL.&lt;plat&gt;</tt>, where <tt>&lt;plat&gt;</tt> is your
<a href="../plat.html">platform</a>.
Read it.

<p>
Whatever your means of <a href="#Boot">booting</a> is, it is now time to use it.
When your boot is successful, you will see a lot of text messages scroll by.
This text is the <a href="http://man.openbsd.org/dmesg">dmesg(8)</a>,
the kernel telling you what devices have been found and how they are
hooked to other devices.

<p>
After the <a href="http://man.openbsd.org/dmesg">dmesg(8)</a>, you will see the
first installer question:
d248 1
a248 2
The complete OpenBSD installation is broken up into a number of file sets.
New users are recommended to install all of them.
d258 1
a258 1
    - the base OpenBSD system <b>(required)</b>
d262 1
a262 1
    - man pages
d272 1
a272 1
    - X11's man pages, locale settings, includes
d275 2
a293 2

<p>
a317 3
  <li><b>Speed:</b>
    A filesystem which gets written to frequently may get somewhat fragmented.
    Luckily, the OpenBSD FFS filesystem is not prone to heavy fragmentation.
d324 1
a324 1
    fsck(8) after a crash or power interruption.
d328 2
a329 2
<a href="http://man.openbsd.org/disklabel">disklabel(8)</a> and the
<a href="http://man.openbsd.org/hier">hier(7)</a> man page before making
d350 1
a350 1
    will probably regret it later, when it is time to upgrade your system.
d395 1
a395 1
Alternatively, save your dmesg output to a text file
d401 1
a401 1
and transfer this file to the system you normally use for email.
d428 4
a431 2
To do so, <a href="#Download">download and verify</a> <tt>bsd.rd</tt>, place it
on an existing filesystem and boot from it.
a433 2
The general method of booting <tt>bsd.rd</tt> is to change your boot kernel from
<tt>/bsd</tt> to <tt>/bsd.rd</tt> through whatever means used on your platform.
d446 1
a446 1
the first BIOS recognized hard disk.
d460 3
a462 3
a default install. Furthermore, it is possible to use
<a href="http://man.openbsd.org/hostname">hostname(1)</a>-dependent
sets named <tt>siteXX-$(hostname -s).tgz</tt>.
d476 2
a477 1
The latter can be placed in the system's root before rebooting for the upgrade.
d480 2
a481 1
Example usages:
d491 1
a491 1
    At boot time, rc.firsttime is executed once then deleted.
d496 4
a499 9
Multibooting is having several operating systems on one computer, and
some means of selecting which OS is to boot.
It is <i>not</i> a trivial task!
If you don't understand what you are doing, you may end up deleting
large amounts of data from your computer.

<p>
New OpenBSD users are <i>strongly</i> encouraged to start with a blank hard
drive on a dedicated machine.
d520 1
a520 1
<a href="http://www.gnu.org/software/grub/">GRUB</a> as well as the
d564 2
a565 2
Make a <a href="#MkFlash">bootable flash drive</a>.
On that drive create an <tt>/etc/boot.conf</tt> file with the contents:
a761 1
This disk is not yet bootable.
@


1.491
log
@remove "booting the install media" section; instead just reference plat.html
for architecture-specific boot instructions.

remove section on creating floppies.

move disk encryption link to the disk section.

few other minor wording tweaks.

ok tb
@
text
@a46 5
OpenBSD has long been respected for its simple and straightforward installation
process, which is very consistent across all platforms.
You are urged to read the platform-specific INSTALL document,
<tt>i386/INSTALL.i386</tt> or <tt>amd64/INSTALL.amd64</tt> for example.

d52 2
a53 2
    <tt>cdXX.iso</tt> is for just booting, while <tt>installXX.iso</tt> is for
    the entire install.
d57 1
a57 1
    is for the entire install.
d59 2
a60 2
    The <a href="#bsd.rd">ramdisk kernel</a> can be booted off an already
    existing partition for an upgrade or reinstall.
d72 2
a73 19

<p>
Once the install kernel is booted, you have several options of where to get
the <a href="#FilesNeeded">file sets</a>.
Again, not every platform supports every option.

<ul>
  <li><b>CD-ROM or USB:</b>
    You can use the sets included on the <tt>installXX.iso</tt> or
    <tt>installXX.fs</tt> files.
  <li><b>HTTP:</b>
    Either one of the OpenBSD <a href="../ftp.html#http">mirror sites</a>
    or your own local web server holding the file sets.
  <li><b>Local disk partition:</b>
    In many cases, you can install file sets from another partition on a local
    hard disk.
  <li><b>NFS:</b>
    Some platforms support using NFS mounts for the file sets.
</ul>
d78 3
a133 1
Of course, your OpenBSD release CD is always closer than any mirror.
@


1.490
log
@mention wireless firmware in the pre-installation checklist.

input/ok tb
@
text
@a33 1
<li><a href="#Boot"        >Booting the install media</a>
d35 1
a35 1
<li><a href="#FilesNeeded" >What files are needed for installation?</a>
d56 1
a56 1
    CD-ROM images for creating a <a href="#MkInsMedia">bootable CD-ROM</a>.
d71 1
a71 2
    Images for making <a href="#MkInsMedia">bootable floppies</a>
    are also provided.
d74 3
a76 30
Not every <a href="../plat.html">platform</a> supports all boot options:

<ul>
  <li><a href="../alpha.html"><b>alpha:</b></a>
    CD-ROM, network, writing a floppy image to hard disk, floppy.
  <li><a href="../amd64.html"><b>amd64:</b></a>
    CD-ROM, miniroot, <a href="faq6.html#PXE">network</a>, floppy.
  <li><a href="../hppa.html"><b>hppa:</b></a>
    Network.
  <li><a href="../i386.html"><b>i386:</b></a>
    CD-ROM, miniroot, <a href="faq6.html#PXE">network</a>, floppy.
  <li><a href="../landisk.html"><b>landisk:</b></a>
    Miniroot, installed using another computer.
  <li><a href="../loongson.html"><b>loongson:</b></a>
    Miniroot, existing OS partition.
  <li><a href="../luna88k.html"><b>luna88k:</b></a>
    Network.
  <li><a href="../macppc.html"><b>macppc:</b></a>
    CD-ROM, network.
  <li><a href="../octeon.html"><b>octeon:</b></a>
    Network.
  <li><a href="../sgi.html"><b>sgi:</b></a>
    CD-ROM, network.
  <li><a href="../socppc.html"><b>socppc:</b></a>
    Network.
  <li><a href="../sparc64.html"><b>sparc64:</b></a>
    CD-ROM, network, writing image to existing partition, floppy (U1/U2 only).
</ul>

All platforms can use <a href="#bsd.rd">bsd.rd</a> to reinstall or upgrade.
d80 1
a80 1
the <a href="#FilesNeeded">install file sets</a>.
a99 1
You will want to know the following items, at least:
d102 1
a102 1
  <li>Machine name.
d113 1
a113 1
  <li>Install method to be used.
d131 1
d135 3
a137 4
      <li>Domain name.
      <li>Domain Name Server(s) (DNS) address.
      <li>IP addresses and subnet masks for each NIC.
      <li>Gateway address.
a139 2
  <li>Do you want to set up <a href="faq14.html#softraidFDE">full disk
      encryption</a>?
d236 1
a236 2
files.
In OpenBSD, use <a href="http://man.openbsd.org/cdio">cdio(1)</a>:
d242 2
a243 52
<h3 id="MkFlop">Floppies</h3>

Creating floppies in OpenBSD can be done with
<a href="http://man.openbsd.org/fdformat">fdformat(1)</a> to prep the disk,
<a href="http://man.openbsd.org/dd">dd(1)</a> to write the image, then
<a href="http://man.openbsd.org/cmp">cmp(1)</a> to verify the write was good.
A similar process can be used on other Unix platforms.

<h2 id="Boot">Booting the install media</h2>

<h3>Booting i386/amd64</h3>

Booting install media on the i386 and amd64 PC platforms is nothing new to most
people.
Your system will have to be instructed to boot from whatever media you have
chosen to use, usually through a BIOS setup option.
If you want to boot from CD or a USB device, your system BIOS must be able to
do so.
Some machines are buggy with regard to booting from USB devices;
a BIOS update may help.

<p>
You can also install by booting <a href="#bsd.rd">bsd.rd</a> from an
existing OpenBSD partition, or over the network using the
<a href="faq6.html#PXE">PXE boot process</a>.

<h3>Booting sparc64</h3>

<b>NOTE:</b>
On the <a href="../sparc64.html">sparc64</a> platform, only the SBus
machines (Ultra 1, Ultra 2) are bootable from floppy.

<p>
You will need the system to be at a monitor ROM prompt, which typically looks
like <tt>ok</tt>.
If you are using a Sun keyboard, press and hold <tt>STOP</tt> while tapping
<tt>A</tt>.
If using a serial console, a <tt>BREAK</tt> should return you to the monitor
prompt.

<p>
Use the following commands to boot from a floppy or a CD-ROM:

<blockquote><pre>
ok <b>boot floppy</b>
</pre></blockquote>

or

<blockquote><pre>
ok <b>boot cdrom</b>
</pre></blockquote>
d287 1
a287 1
<h2 id="FilesNeeded">What files are needed for installation?</h2>
d407 1
a407 1
  <li>A system exposed to the Internet or other hostile forces should have a
a408 3
  <li>If you permit users to write to <tt>/var/www</tt> (personal web pages),
    you might wish to put it on a separate partition, so you can use
    <a href="faq10.html#Quotas">quotas</a> to restrict the space they use.
a416 6
    This is another reason we suggest using
    <a href="faq15.html#PkgMgmt">pre-compiled packages</a> instead.
    <li>At least some editors use <tt>/tmp</tt> for scratch space, and
    this often needs to be as big or bigger than the largest file you edit.
    If you plan on editing 500MB files, your <tt>/tmp</tt> partition will
    need to be much larger than you might have planned on.
a508 1
<p>
d510 1
a510 1
If you intend to provide installation sets over HTTP, place <tt>siteXX.tgz</tt>
@


1.489
log
@merge "problems with signatures" text into the main signify section.
remove some ugly formatting in section titles.

ok tb
@
text
@d136 6
@


1.488
log
@Obviously, UTC stands for Coordinated Universal Time not Universal
Coordinated Time

https://www.nist.gov/pml/time-and-frequency-division/nist-time-frequently-asked-questions-faq#cut

While there, kill two trailing spaces

ok tb@@ tj@@
@
text
@d40 1
a40 2
<li><a href="#bsd.rd"      >What is <tt>bsd.rd</tt>?</a>
<li><a href="#Signify"     >Problems with signatures</a>
d65 1
a65 1
    The <a href="#bsd.rd">RAM disk kernel</a> can be booted off an already
d204 9
d375 1
a375 1
    - the <a href="#bsd.rd">RAM disk kernel</a>
d546 1
a546 1
<h2 id="bsd.rd">What is <tt>bsd.rd</tt>?</h2>
d548 1
a548 1
The <tt>bsd.rd</tt> RAM disk kernel is a live OpenBSD environment that runs
a580 15
<h2 id="Signify">Problems with signatures</h2>

The verification process consists of fetching the <tt>SHA256.sig</tt> file,
fetching all the install files to the local hard disk, then verifying
their signatures.

<p>
The <tt>installXX.iso</tt> and <tt>installXX.fs</tt> images do not contain
an <tt>SHA256.sig</tt> file, and the installer will complain that it can't
check the signatures.
It is not possible for the installer to verify the sets with these images.
After all, if someone were to make a rogue <tt>installXX.iso</tt> file,
they could certainly change the installer to say the files were legitimate.
Thus, you must <a href="#Download">verify</a> installer downloads separately.

d613 1
a613 3
  <li>Use
  <a href="http://man.openbsd.org/rdate">rdate(8)</a> to set the system
    time.
@


1.487
log
@use a slightly more modern machine for the bootloader examples
@
text
@d793 1
a793 1
Universal Coordinated Time.
@


1.486
log
@begin removing mentions of the cd sets...
@
text
@d560 6
a565 6
Using Drive: 0 Partition: 3
reading boot.....
probing: pc0 com0 com1 apm mem[639k 255M a20=on]
disk: fd0 hd0+
&gt;&gt; OpenBSD/amd64 BOOT 3.33
boot&gt; <b>boot hd0a:/bsd.rd</b>
@


1.485
log
@better link to debian manpage
@
text
@d51 2
a52 4
<!-- XXXrelease - remove cd mentions for 6.1 -->
You are urged to read the platform-specific INSTALL document on the CD-ROM or
mirror sites.
For example, <tt>i386/INSTALL.i386</tt> or <tt>amd64/INSTALL.amd64</tt>.
d114 3
a116 5
  <li><b>CD-ROM:</b>
    <!-- XXXrelease - remove cd mentions for 6.1 -->
    Of course, we prefer you use the
    <a href="../orders.html">official CD-ROM set</a>, but you can also use
    <tt>installXX.iso</tt> or you can make your own.
a122 4
    For example, on <a href="../i386.html">i386</a>, you can install from a FAT
    partition or a CD-ROM formatted in ISO 9660, Rock Ridge or Joliet format.
    In some cases, you will have to manually mount the file system before using
    it.
d329 3
a331 4
<!-- XXXrelease - remove cd mentions for 6.1 -->
Installation notes for each platform are on the install CDs and the mirrors,
in the file <tt>INSTALL.&lt;plat&gt;</tt>, where <tt>&lt;plat&gt;</tt> is your
<a href="../plat.html">platform</a>, for instance, <tt>i386</tt>.
@


1.484
log
@merge the almost unreferenced bootloader section into the bsd.rd section

ok tj
@
text
@d702 1
a702 1
<a href="http://manpages.debian.net/cgi-bin/man.cgi?query=update-grub2&sektion=8">
@


1.483
log
@merge a 1-sentence paragraph with its 2-sentence successor and drop
some redundant words elsewhere.

ok tj
@
text
@d564 4
a567 1
Booting from <tt>bsd.rd</tt> on an i386 system:
d573 1
a573 1
&gt;&gt; OpenBSD/i386 BOOT 3.26
d577 4
a580 3
The general method of booting <tt>bsd.rd</tt> is to change your boot kernel
from <tt>/bsd</tt> to <tt>/bsd.rd</tt> through whatever means used on your
platform.
@


1.482
log
@remove "i don't want to install the compiler"

ok tj
@
text
@d399 2
a400 4

<p>
Simply boot <a href="#bsd.rd">bsd.rd</a> from your root file system and
choose <tt>(U)pgrade</tt>.
d559 3
a561 4
reinstall or upgrade to a newer version of OpenBSD without the need for
any removable media.
To do so, simply <a href="#Download">download and verify</a> <tt>bsd.rd</tt>,
place it on an existing filesystem and boot from it.
@


1.481
log
@2017
@
text
@a417 10
<h3 id="FilesNeededComp">I don't want to install the compilers</h3>

Ok, don't, but please don't tell yourself this is for security reasons.
By the time someone is far enough into your system that the presence or
absence of the compiler matters, they are far enough in they can install
a compiler themselves.
However, the <tt>compXX.tgz</tt> file set is relatively big and has a lot of
files in it, so it can take a while to install and upgrade.
On slow or small systems, this can matter.

@


1.480
log
@add back instructions on fetching the PBR that were lost during some overly
aggressive pruning by me.  while there, remove a reference to the ntloader.

from nick holland
@
text
@d11 1
a11 2
<meta name="copyright"          content= "This document copyright 1998-2016
                                          by OpenBSD.">
@


1.479
log
@remove zaurus mentions.
@
text
@d746 2
a747 3
With Vista, Microsoft dropped NTLDR support in favor of their newer Boot
Configuration Data (BCD) store used for controlling the boot
environment.
d753 10
@


1.478
log
@remove more sparc mentions and use "sparc64" to refer to ultrasparc.
@
text
@a106 3
  <li><a href="../zaurus.html"><b>zaurus:</b></a>
    Boot <tt>bsd.rd</tt> from Linux partition.
    See <tt>INSTALL.zaurus</tt> for more details.
@


1.477
log
@6.0 faq updates: setenv in doas.conf, proot, wxneeded, bump cvs examples
to -rOPENBSD_6_0 and link to the 6.0 upgrade guide.

ok tb
@
text
@d55 1
a55 1
For example, <tt>i386/INSTALL.i386</tt> or <tt>sparc/INSTALL.sparc</tt>.
a104 2
  <li><a href="../sparc.html"><b>sparc:</b></a>
    CD-ROM, network, writing image to existing swap partition, floppy.
d299 1
a299 1
<h3>Booting sparc/sparc64</h3>
@


1.476
log
@tls on openbsd.org is now real:
- link to https://www.openbsd.org from the sub-projects' pages
- make internal links relative
- switch link rel=canonical to https to please some search engines
"go ahead" from beck, "do it!!!!" tj
@
text
@d52 1
d123 1
d343 1
d407 2
a408 2
Simply boot <a href="#bsd.rd">bsd.rd</a> from your root file system.
Choose <tt>(U)pgrade</tt>.
d481 3
d488 1
a488 2
    new partition, change
    <a href="http://man.openbsd.org/fstab">fstab(5)</a>
@


1.475
log
@remove armish mentions.
@
text
@d15 1
a15 1
<link rel="canonical" href="http://www.openbsd.org/faq/faq4.html">
@


1.474
log
@nstaller verify -> installer to verify

From Larry Hynes, thanks!
@
text
@a85 2
  <li><a href="../armish.html"><b>armish:</b></a>
    Varies by machine.
d446 2
a447 3
    <tt>nosuid</tt>, <tt>nodev</tt>, <tt>noexec</tt> or <tt>readonly</tt> in
    <a href="http://man.openbsd.org/fstab">fstab(5)</a>.
    <!-- XXXrelease maybe mention W^X mount option here for 6.0 -->
@


1.473
log
@switch a few <h2> items to <h3> and reclaim some space on the index.
@
text
@d605 1
a605 1
It is not possible for the installer verify the sets with these images.
@


1.472
log
@Remove a few superfluous "OpenBSD" from section titles.
Apply some lossless compression to the section on the boot loader
and unify the spelling of 'boot loader' throughout the FAQ.

tweaks and ok tj
@
text
@a44 1
<li><a href="#CustomFdisk" >A custom fdisk layout for dual booting</a>
d671 2
a672 3
<a href="http://man.openbsd.org/fdisk">fdisk(8)</a>
configuration for dual booting with Windows is in the
<a href="faq4.html#CustomFdisk">next section</a>.
d675 2
a676 2
Preferably use one of the four <i>primary</i> MBR partitions for
booting OpenBSD.
d810 1
a810 1
<h2 id="CustomFdisk">A custom fdisk layout for dual booting</h2>
a818 1

@


1.471
log
@- shorten a few section titles and fix a title mismatch
- remove "with openbsd" from titles (it should be obvious)
- merge "adding a file set after install" into explanation of file sets
- merge "device not configured" and unsupported hardware sections
- remove invisible <p> tags

ok tb
@
text
@d34 2
a35 2
<li><a href="#MkInsMedia"  >Creating bootable OpenBSD install media</a>
<li><a href="#Boot"        >Booting OpenBSD install media</a>
d44 1
a44 1
<li><a href="#Multibooting">Multibooting OpenBSD</a>
d223 1
a223 1
<h2 id="MkInsMedia">Creating bootable OpenBSD install media</h2>
d284 1
a284 1
<h2 id="Boot">Booting OpenBSD install media</h2>
d656 1
a656 1
<h2 id="Multibooting">Multibooting OpenBSD</h2>
@


1.470
log
@update two links. from validator.w3.org/checklink
@
text
@a40 1
<li><a href="#AddFileSet"  >Adding a file set after install</a>
d401 10
a562 10

<h2 id="AddFileSet">Adding a file set after install</h2>

If you chose to skip some file sets at install time, you might realize later
that you really do need them after all.

<p>
Simply <a href="#bsd.rd">boot bsd.rd</a> from your root file system.
Choose <tt>(U)pgrade</tt>.
When you get to the list of file sets, select the ones you need.
@


1.469
log
@move GRUB config from faq 9 to faq 4 so that there is only one entry
on multi-booting in the FAQ. while there, expand explanations to use
GRUB 2 with instructions on regenerating a config file and add links
to manuals. based on https://www.kariliq.nl/openbsd/grub2.html by tim

ok tim, tj
@
text
@d758 1
a758 1
<a href="http://neosmart.net/dl.php?id=1">EasyBCD</a> provides a GUI
d803 1
a803 1
<a href="http://technet.microsoft.com/en-us/library/cc721886%28WS.10%29.aspx">
@


1.468
log
@remove man page connotations from section titles. there are man page links
directly below them in almost every instance.

ok tb
@
text
@d694 28
@


1.467
log
@fix a link title and remove a reference to 128kbps dsl lines.
@
text
@d46 1
a46 1
<li><a href="#CustomFdisk" >A custom fdisk(8) layout for dual booting</a>
d701 1
a701 2
See also the FAQ section on
<a href="faq14.html#fdisk">using OpenBSD's fdisk(8)</a>.
d785 1
a785 1
<h2 id="CustomFdisk">A custom fdisk(8) layout for dual booting</h2>
d798 1
a798 1
is in the section on <a href="faq14.html#fdisk">using OpenBSD's fdisk(8)</a>.
@


1.466
log
@first pass at cleaning up the new faq1 page:
- rename and reorder sections to make the document flow better as a whole
- merge a few very similar topics to reduce redundant information
- move signify instructions to faq4 (and zap a reference to isa cards)

ok tb
@
text
@d784 1
a784 2
See
<a href="faq8.html#TimeZone">Why is my clock off by several hours?</a>
@


1.465
log
@silence w3 validator warnings.
@
text
@d33 1
a152 2
      <li>If ISA, you also need to know hardware settings, and confirm they are
        as OpenBSD requires.
d185 1
a185 1
<h2 id="MkInsMedia">Creating bootable OpenBSD install media</h2>
d187 10
a196 4
Before creating install media, <a href="faq1.html#Download">verify</a> the
signatures on your downloads.
Consult <tt>INSTALL.&lt;plat&gt;</tt> if the instructions below are insufficient
for your needs.
d199 27
d579 2
a580 2
To do so, simply <a href="faq1.html#Download">download and verify</a>
<tt>bsd.rd</tt>, place it on an existing filesystem and boot from it.
d610 1
a610 2
Thus, you must <a href="faq1.html#Download">verify</a> installer downloads
separately.
@


1.464
log
@fix broken links.
@
text
@d724 1
a724 1
</blockquote></pre>
@


1.463
log
@- merge two very similar questions about signature verification
- remove "common installation problems" section
- add a note about the W^X mount option (commented out until 6.0)
- improve some wording here and there

ok tb
@
text
@d188 1
a188 1
Before creating install media, <a href="faq3.html#Download">verify</a> the
d547 1
a547 1
To do so, simply <a href="faq3.html#Download">download and verify</a>
d578 1
a578 1
Thus, you must <a href="faq3.html#Download">verify</a> installer downloads
@


1.462
log
@Kevin Chadwick reports that the bcdedit stuff also works for Win 10.
Thanks!
@
text
@a41 1
<li><a href="#InstProb"    >Common installation problems</a>
d395 1
a395 1
OpenBSD can be installed in as little as 512MB, but using that small of a device
d400 2
a401 2
Unlike many other OSs, OpenBSD encourages users to partition their disk into a
number of partitions, rather than having just one or two big partitions.
d410 1
d420 1
a420 1
    If one filesystem is corrupted for some reason then your other filesystems
d428 4
a431 4
Read the section on automatic disc allocation in the
<a href="http://man.openbsd.org/disklabel">disklabel(8)</a> manpage and
<a href="http://man.openbsd.org/hier">hier(7)</a> before making decisions about
custom partitioning schemes.
d565 1
a565 1
<h2 id="InstProb">Common installation problems</h2>
d567 3
a569 4
<ul>
  <li><b>The computer won't boot after install.</b>
    Your install seemed to go fine, but on first boot, you see no sign of
    OpenBSD attempting to boot.
d571 9
a579 58
    <p>
    Possible reasons include:
    <ul>
      <li>No partition is flagged bootable.
        To fix this, reboot the machine using the boot media and use
        <a href="http://man.openbsd.org/fdisk">fdisk(8)</a>.
      <li>No valid boot loader was ever put on the disk.
        Boot the install media again, drop to the shell and use
        <a href="http://man.openbsd.org/fdisk">fdisk(8)</a>
        with the <tt>-u</tt> flag.
      <li>Rarely, the second stage boot loader install may have failed.
        Run <a href="http://man.openbsd.org/installboot">installboot(8)</a>.
    </ul>

  <p>
  <li><b>The fdisk partition table is trashed or blank.</b>
    The system works, but with <tt><b>fdisk wd0</b></tt>, the partition table
    seems to be blank or garbage.

    <p>
    This is usually caused by having created an
    <a href="http://man.openbsd.org/fdisk">fdisk(8)</a>
    partition with an offset of zero sectors, rather than the
    <a href="#trackoffset">one track offset</a> that it should have.
    The system then <a href="faq14.html#BootAmd64">boots</a> using the PBR,
    not using the MBR.
    <p>
    While this configuration can work, it can be a maintenance problem and
    should be fixed by recreating the disk's filesystems from scratch.
</ul>

<h2 id="Signify">Problems with signatures</h2>

<ul>
  <li><b>Why aren't downloadable images self-signed?</b>
    <p>
    If you use <tt>installXX.iso</tt> or <tt>installXX.fs</tt>, you will
    find the installer will complain about no <tt>SHA256.sig file</tt>, and
    thus it can't verify the files during the installation.
    <p>
    It is not possible to usefully have the complete installer verify the sets.
    After all, if someone were to make a rogue installXX.iso file, they
    would almost certainly change the installer to say everything verified
    successfully.
    Thus, you must <a href="faq3.html#Download">verify</a> your installer
    downloads separately.
  <li><b>I got a "Continue without verification?" message during install!</b>
    <p>
    The verification process consists of fetching the <tt>SHA256.sig</tt>
    file, then fetching all the install files to the local hard disk and
    verifying their signatures.
    If either the signature file is unavailable or there is insufficient
    disk space for that extra copy of the files, verification will not be
    possible, and you will get that message.
    If you trust your source, this should not be a problem.
    If you do not trust your source, you can manually verify the files as
    detailed <a href="faq3.html#Download">here</a>.
</ul>
a825 2

<a name="trackoffset"></a>
@


1.461
log
@"in the on the" -> "on the"

From Alex Greif, thanks!
@
text
@d742 1
a742 1
<h3>Windows Vista and Windows 7</h3>
d777 1
a777 1
For Windows 7, finish up with:
@


1.460
log
@these pages used a different style of wrapping links. adjust to
the rest of the faq
@
text
@d52 4
a55 4
OpenBSD has long been respected for its simple and straightforward
installation process, which is very consistent across all platforms.
You are urged to read the platform-specific INSTALL document in the
on the CD-ROM or mirror sites.
@


1.459
log
@remove a numbered reference
@
text
@d221 1
a221 2
copying over the image with
<a href="http://man.openbsd.org/dd">dd(1)</a>.
d240 1
a240 2
In OpenBSD, use
<a href="http://man.openbsd.org/cdio">cdio(1)</a>:
d249 3
a251 6
<a href="http://man.openbsd.org/fdformat">fdformat(1)</a>
to prep the disk,
<a href="http://man.openbsd.org/dd">dd(1)</a>
to write the image, then
<a href="http://man.openbsd.org/cmp">cmp(1)</a>
to verify the write was good.
d322 1
a322 2
This text is the
<a href="http://man.openbsd.org/dmesg">dmesg(8)</a>,
d327 2
a328 3
After the
<a href="http://man.openbsd.org/dmesg">dmesg(8)</a>,
you will see the first installer question:
d408 2
a409 3
    <a href="http://man.openbsd.org/mount">mount(8)</a>
    options such as as <tt>nosuid</tt>, <tt>nodev</tt>, <tt>noexec</tt> or
    <tt>readonly</tt> in
d429 3
a431 4
<a href="http://man.openbsd.org/disklabel">disklabel(8)</a>
manpage and
<a href="http://man.openbsd.org/hier">hier(7)</a>
before making decisions about custom partitioning schemes.
d444 1
a444 2
    Then
    <a href="faq10.html#DupFS">duplicate</a> your existing partition to the
d451 1
a451 2
    filesystem checks using
    <a href="http://man.openbsd.org/fsck">fsck(8)</a>
d459 1
a459 2
    described in
    <a href="http://man.openbsd.org/daily">daily(8)</a> and the
d583 1
a583 2
        Run
        <a href="http://man.openbsd.org/installboot">installboot(8)</a>.
d718 1
a718 2
OpenBSD's is
<a href="http://man.openbsd.org/fdisk">fdisk(8)</a>,
d818 2
a819 4
A brief introduction to
<a href="http://man.openbsd.org/fdisk">fdisk(8)</a>
is in the section on
<a href="faq14.html#fdisk">using OpenBSD's fdisk(8)</a>.
@


1.458
log
@delete section numbers. constantly out of sync, not really used.
@
text
@d818 1
a818 1
<a href="faq8.html#TimeZone">FAQ 8 - Why is my clock off by several hours?</a>
@


1.457
log
@grammar fix
@
text
@d9 1
a9 1
<title>4 - OpenBSD Installation Guide</title>
a10 1
<meta name="description"        content= "OpenBSD FAQ 4 - Installation Guide">
d23 1
a23 1
<font color="#e00000">FAQ 4 - OpenBSD Installation Guide</font>
d31 16
a46 19
<li><a href="#Overview"        >4.1 - Overview of the installation procedure</a>
<li><a href="#Checklist"       >4.2 - Pre-installation checklist</a>
<li><a href="#MkInsMedia"      >4.3 - Creating bootable OpenBSD install
                                media</a>
<li><a href="#Boot"            >4.4 - Booting OpenBSD install media</a>
<li><a href="#Install"         >4.5 - Performing a simple install</a>
<li><a href="#FilesNeeded"     >4.6 - What files are needed for
                                installation?</a>
<li><a href="#Partitioning"    >4.7 - How should I partition my disk?</a>
<li><a href="#AddThoughts"     >4.8 - Additional thoughts on partitioning</a>
<li><a href="#SendDmesg"       >4.9 - Sending your dmesg after the install</a>
<li><a href="#AddFileSet"      >4.10 - Adding a file set after install</a>
<li><a href="#bsd.rd"          >4.11 - What is <tt>bsd.rd</tt>?</a>
<li><a href="#InstProb"        >4.12 - Common installation problems</a>
<li><a href="#Signify"         >4.13 - Problems with signatures</a>
<li><a href="#site"            >4.14 - Customizing the install process</a>
<li><a href="#Multibooting"    >4.15 - Multibooting OpenBSD</a>
<li><a href="#CustomFdisk"     >4.16 - A custom fdisk(8) layout for dual
                                booting</a>
d50 1
a50 1
<h2 id="Overview">4.1 - Overview of the installation procedure</h2>
d143 1
a143 1
<h2 id="Checklist">4.2 - Pre-installation checklist</h2>
d187 1
a187 1
<h2 id="MkInsMedia">4.3 - Creating bootable OpenBSD install media</h2>
d259 1
a259 1
<h2 id="Boot">4.4 - Booting OpenBSD install media</h2>
d304 1
a304 1
<h2 id="Install">4.5 - Performing a simple install</h2>
d348 1
a348 1
<h2 id="FilesNeeded">4.6 - What files are needed for installation?</h2>
d401 1
a401 1
<h2 id="Partitioning">4.7 - How should I partition my disk?</h2>
d442 1
a442 1
<h2 id="AddThoughts">4.8 - Additional thoughts on partitioning</h2>
d472 1
a472 1
    <a href="faq14.html#altroot">altroot</a> section of FAQ 14.
d494 1
a494 1
<h2 id= "SendDmesg">4.9 - Sending your dmesg after the install</h2>
d535 1
a535 1
<h2 id="AddFileSet">4.10 - Adding a file set after install</h2>
d545 1
a545 1
<h2 id="bsd.rd">4.11 - What is <tt>bsd.rd</tt>?</h2>
d577 1
a577 1
<h2 id="InstProb">4.12 - Common installation problems</h2>
d616 1
a616 1
<h2 id="Signify">4.13 - Problems with signatures</h2>
d644 1
a644 1
<h2 id="site">4.14 - Customizing the install process</h2>
d689 1
a689 1
<h2 id="Multibooting">4.15 - Multibooting OpenBSD</h2>
d702 1
a702 1
FAQ 14 has information about the
d734 1
a734 1
FAQ 14 contains a section on
d820 1
a820 1
<h2 id="CustomFdisk">4.16 - A custom fdisk(8) layout for dual booting</h2>
d835 1
a835 2
<a href="faq14.html#fdisk">using OpenBSD's fdisk(8)</a>
of FAQ 14.
@


1.456
log
@mention need for admin privs before displaying the cmd
@
text
@d774 1
a774 1
This must be in a shell with administrative privileges.
@


1.455
log
@boldface for commands
@
text
@d772 4
a775 2
After copying OpenBSD's PBR into Windows 7's system partition, issue
the following command to initialize the needed registry hive:
a781 3
This must be run in a shell with administrative privileges.
Once you've located cmd.exe, right click to be able to select
"run as administrator".
@


1.454
log
@lower case Operating System
@
text
@d776 1
a776 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386" /application bootsector
d788 1
a788 1
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device boot
d791 1
a791 1
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} path \openbsd.pbr
d799 1
a799 1
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device partition=c:
d802 1
a802 1
C:\Windows\system32> bcdedit /displayorder {0154a872-3d41-11de-bd67-7060316bbb1} /addlast
d809 1
a809 1
C:\Windows\system32> bcdedit /?
@


1.453
log
@simplify time zone issues
@
text
@d821 1
a821 1
Some other Operating Systems expect the real-time clock to be set to local time.
@


1.452
log
@merge windows vista and windows 7 multibooting instructions
@
text
@d819 5
a823 9
OpenBSD expects the computer's real-time clock to be set to UTC
(Universal Coordinated Time).
Some other OSs expect the real-time clock to be set to local time.
Obviously, this can create a bit of a problem if you are using both
OSs on the same computer.
One or the other is most likely going to have to be adapted.
More info on doing this is in <a href="faq8.html#TimeZone">FAQ 8 - Why
is my clock off by several hours?</a>

@


1.451
log
@tweak [faq index] button and sync the pf user's guide with that style.
@
text
@d760 1
a760 1
<h3>Windows Vista</h3>
d765 2
a766 70
Since <tt>BOOT.INI</tt> is no longer available for customization,
a command-line utility, <tt>bcdedit</tt>, takes its place.

<p>
Once OpenBSD's PBR is copied to Windows' system partition, the following
three commands are required to select and boot OpenBSD when the system
is restarted:

<blockquote><pre>
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386" /application bootsector
The entry {05a763ce-d81b-11db-b3ec-000000000000} was successfully created.

C:\Windows\System32>
</pre></blockquote>

The GUID returned here, <tt>05a763ce-d81b-11db-b3ec-000000000000</tt>,
is shown for illustrative reasons.
Take note of the GUID displayed when you run this command as this value
will need to be copied into the following commands.
Simply copying the GUID shown above will not work.

<p>
The following two commands are also required:

<blockquote><pre>
C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} device boot
The operation completed successfully.

C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} path \openbsd.pbr
The operation completed successfully.

C:\Windows\system32>
</pre></blockquote>

This must be run in a shell with administrative privileges.
Once you've located cmd.exe, right click to be able to select
"run as administrator".

<p>
Note the absolute pathname of the imported PBR file.
Do not add a drive letter as it is assumed that the file is placed
in the system partition.
<tt>bcdedit</tt> will not complain about an explicit drive
specification, but the boot manager will later balk claiming that it
cannot resolve the designated pathname.

<p>
Upon rebooting, Vista will be listed first in the boot manager
ultimately followed by OpenBSD.
Selecting either entry will boot the corresponding operating system.

<p>
If nothing happens, look around in the control panel for boot information.
Most likely, your Windows boot is set up with no delay, so you don't see the
boot menu.
You can also use this to boot OpenBSD by default.

<p>
For more information, consult <tt>bcdedit</tt>'s help by issuing:

<blockquote><pre>
C:\Windows\system32> bcdedit /?
</pre></blockquote>

or by searching Microsoft's documentation and Website.
A good introduction can be found in this TechNet
<a href="http://technet.microsoft.com/en-us/library/cc721886%28WS.10%29.aspx">
Frequently Asked Questions</a> article.

<p>
a770 7
<h3>Windows 7</h3>

Microsoft has enhanced BCD since releasing Vista to allow multiple
versions of Windows to be booted through <tt>bcdedit</tt>.
Because of this greater control, five commands are required to configure a
multiboot environment with OpenBSD.

a777 2

C:\Windows\system32>
d780 4
a783 3
As admonished before, the
<tt>{0154a872-3d41-11de-bd67-a7060316bbb1}</tt> GUID is
system-dependent.
d793 4
d798 1
d804 3
d808 2
a809 1
C:\Windows\system32>
d811 5
@


1.450
log
@save some space by moving the [faq index] button to the top right corner
and removing the <h3> table of contents.
@
text
@d25 3
a27 1
<small><a href= "index.html" style="float:right;">[FAQ Index]</a></small>
@


1.449
log
@use short form man links in the faq and fix a few broken links
@
text
@d25 1
a27 3
<p>
<a href= "index.html">[FAQ Index]</a>
<p>
a28 1
<h3>Table of Contents</h3>
a1046 3
<hr>
<p>
<a href= "index.html">[FAQ Index]</a>
@


1.448
log
@each faq page has header and footer links that look like this:

[faq index] [to section x - some topic] [to section y - another topic]

that can be very useful if the faq you're reading only covers one topic,
or if the pages are meant to be read in order. it makes sense to have
them on the pf and smtpd faq pages, but the main faq contains a variety
of unrelated topics, so they're not actually very useful there. remove.

while here, make a few subject titles more concise.

ok tb
@
text
@d80 1
a80 1
    <a href="http://man.openbsd.org/?query=diskless">network boot</a>.
d227 1
a227 1
<a href="http://man.openbsd.org/?query=dd">dd(1)</a>.
d247 1
a247 1
<a href="http://man.openbsd.org/?query=cdio">cdio(1)</a>:
d256 1
a256 1
<a href="http://man.openbsd.org/?query=fdformat">fdformat(1)</a>
d258 1
a258 1
<a href="http://man.openbsd.org/?query=dd">dd(1)</a>
d260 1
a260 1
<a href="http://man.openbsd.org/?query=cmp">cmp(1)</a>
d333 1
a333 1
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>,
d339 1
a339 1
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>,
d420 1
a420 1
    <a href="http://man.openbsd.org/?query=mount">mount(8)</a>
d423 1
a423 1
    <a href="http://man.openbsd.org/?query=fstab">fstab(5)</a>.
d435 1
a435 1
  <li><b><a href="http://man.openbsd.org/?query=fsck">fsck(8)</a>:</b>
d442 1
a442 1
<a href="http://man.openbsd.org/?query=disklabel">disklabel(8)</a>
d444 1
a444 1
<a href="http://man.openbsd.org/?query=hier">hier(7)</a>
d461 1
a461 1
    <a href="http://man.openbsd.org/?query=fstab">fstab(5)</a>
d467 1
a467 1
    <a href="http://man.openbsd.org/?query=fsck">fsck(8)</a>
d476 1
a476 1
    <a href="http://man.openbsd.org/?query=daily">daily(8)</a> and the
d594 1
a594 1
        <a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>.
d597 1
a597 1
        <a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
d601 1
a601 1
        <a href="http://man.openbsd.org/?query=installboot">installboot(8)</a>.
d611 1
a611 1
    <a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
d656 1
a656 1
<a href="http://man.openbsd.org/?query=tar">tar(1)</a> archive rooted in
d660 1
a660 1
<a href="http://man.openbsd.org/?query=hostname">hostname(1)</a>-dependent
d673 1
a673 1
<a href="http://man.openbsd.org/?query=chroot">chroot(8)</a>
d682 1
a682 1
  <a href="http://man.openbsd.org/?query=rdate">rdate(8)</a> to set the system
d688 1
a688 1
    <a href="http://man.openbsd.org/?query=rc.firsttime">rc.firsttime(8)</a>
d710 1
a710 1
<a href=http://man.openbsd.org/?query=fdisk>fdisk(8)</a>
d737 1
a737 1
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>,
d752 1
a752 1
<a href="http://man.openbsd.org/?query=boot&amp;sec=8&amp;arch=i386">boot(8)</a>
d905 1
a905 1
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
@


1.447
log
@whoops, xservXX.tgz SET, not package
@
text
@a28 2
<a href= "faq3.html">[To Section 3 - Getting Started with OpenBSD]</a>
<a href= "faq5.html">[To Section 5 - Building the System from Source]</a>
d33 1
a33 2
<li><a href="#Overview"        >4.1 - Overview of the OpenBSD installation
                                procedure</a>
d43 1
a43 2
<li><a href="#SendDmesg"       >4.9 - Sending your dmesg to dmesg@@openbsd.org
                                after the install</a>
d46 1
a46 2
<li><a href="#InstProb"        >4.12 - Common installation problems
                                (amd64, i386)</a>
d49 3
a51 3
<li><a href="#Multibooting"    >4.15 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href="#CustomFdisk"     >4.16 - A custom fdisk(8) layout for dual booting
                                (amd64, i386)</a>
d55 1
a55 1
<h2 id="Overview">4.1 - Overview of the OpenBSD installation procedure</h2>
d499 1
a499 2
<h2 id= "SendDmesg">4.9 - Sending your dmesg to dmesg@@openbsd.org after the
install</h2>
d582 1
a582 1
<h2 id="InstProb">4.12 - Common installation problems (amd64, i386)</h2>
d694 1
a694 1
<h2 id="Multibooting">4.15 - Multibooting OpenBSD (amd64, i386)</h2>
d892 1
a892 2
<h2 id="CustomFdisk">4.16 - A custom fdisk(8) layout for dual booting
(amd64, i386)</h2>
a1052 2
<a href= "faq3.html">[To Section 3 - Getting started with OpenBSD]</a>
<a href= "faq5.html">[To Section 5 - Building the System from Source]</a>
@


1.446
log
@Improve accuracy of the answer to "Why do I have to install the X
sets for my non-graphical application?"
- xbase requires xshare
- xfont often needed, too
- xserv can be droppend if you don't want to run X
for the sake of simplicity, no minimal xbase to run non-X ports

With matthieu@@ and tj@@, ok from both.
@
text
@d399 1
a399 1
The <tt>xservXX.tgz</tt> package is rarely needed if you don't intend to run X.
@


1.445
log
@lose some text vaguely describing the black magic of burning
an iso to a CD.

Prompted by a patch from Rob Pierce.
@
text
@d379 1
a379 1
    - the base libraries and utilities for X11
d381 1
a381 1
    - X11's font server and fonts
d391 6
a396 6
Even if you have no intention of running X, many third party
<a href="faq15.html">packages</a> require the libraries or other
utilities in X to be installed on your system.
These applications can sometimes be satisfied simply by installing
just <tt>xbaseXX.tgz</tt> - the rest of X is not always needed.
Many people who resist installing X on their system don't have a valid reason:
d398 2
a399 12
<ul>
<li>By itself, installing X does not cause any program to
execute on the system.
<li>By itself, installing X on a system does not change the
risk of external security issues.
<li>If someone is already ON your system, they can most likely install
whatever they wish, so the presence or absence of the X
does not appreciably change the situation.
<li>The only parts of X that are running are the parts
required by your application.
<li>The space required for X is relatively modest on modern hardware.
</ul>
@


1.444
log
@Remove last subsubsection numbers.
@
text
@d250 2
a251 6
files using the tools at your disposal.
Do note that the goal is to create a CD based on the image file,
not to put the ISO file on a CD as a single file.

<p>
In OpenBSD, you can create a CD from an ISO image using
a256 4

Modern Windows and Macintosh systems can directly create CDs from ISO images.
On Linux or other Unix-like systems, use applications such as
<a href="http://www.cdrkit.org/">cdrkit</a>.
@


1.443
log
@remove some italics and quotation marks
@
text
@a39 5
  <ul>
  <li><a href="#MkFlash"       >4.3.1 - Flash drives</a>
  <li><a href="#MkCD-ROM"      >4.3.2 - CD-ROMs</a>
  <li><a href="#MkFlop"        >4.3.3 - Floppies</a>
  </ul>
d228 1
a228 1
<h3 id="MkFlash">4.3.1 - Flash drives</h3>
d247 1
a247 1
<h3 id="MkCD-ROM">4.3.2 - CD-ROMs</h3>
d266 1
a266 1
<h3 id="MkFlop">4.3.3 - Floppies</h3>
@


1.442
log
@Add some air to breathe.
@
text
@d659 2
a660 3
    It is not possible to <i>usefully</i> have the complete installer verify
    the sets.
    After all, if someone were to make a "rogue" installXX.iso file, they
@


1.441
log
@Space in /usr is an issue to consider, but this doesn't need a full
sentence in bold. Tweak wording a bit and don't forget /usr/obj.
@
text
@d617 2
d632 2
d637 2
@


1.440
log
@rpe@@ pointed out that ntrw.exe is no longer available in the tools/
directory on the mirrors.
@
text
@d512 4
a515 4
    If you wish to <a href="faq5.html">rebuild your system from source</a> for
    any reason, the source will be in <tt>/usr/src</tt>.
    <b>If you don't make a separate partition for <tt>/usr/src</tt>, make sure
    <tt>/usr</tt> has sufficient space.</b>
@


1.439
log
@In the multibooting section, shorten a long sentence and shuffle some
of the surrounding sentences so that the whole thing makes more sense.
Add some cross references that might be helpful.
@
text
@d280 1
a280 6
A similar process and tools can be used on other Unix platforms.

<p>
Creating floppies on Windows can be done with the native low-level
formatting tools, and a program like <tt>ntrw</tt> which can be retrieved
from the <tt>tools</tt> directory on any of the mirror sites.
@


1.438
log
@Simplify and unify the titles of the subsections of
"Creating bootable OpenBSD install media"
@
text
@d733 9
a741 5
drive on a dedicated machine, and then practice their desired configuration on
a non-production system before attempting a multiboot configuration on a
production machine.
FAQ 14 has  more information about
the <a href="faq14.html#BootAmd64">OpenBSD boot process</a>.
@


1.437
log
@fix broken link
@
text
@d41 3
a43 4
  <li><a href="#MkFlash"       >4.3.1 - Creating a bootable install flash drive
                                from Unix</a>
  <li><a href="#MkCD-ROM"      >4.3.2 - Creating a boot CD</a>
  <li><a href="#MkFlop"        >4.3.3 - Creating floppies</a>
d233 1
a233 1
<h3 id="MkFlash">4.3.1 - Creating a bootable install flash drive from Unix</h3>
d235 2
a236 3
A bootable USB flash drive (or an external hard disk, or a CF/SD/other card,
&hellip;) can be created by attaching the target device on a Unix machine and
then copying over the image with
d243 1
a243 1
  # <b>dd if=/location/install*.fs of=/dev/rsd6c bs=1m</b>
d252 1
a252 1
<h3 id="MkCD-ROM">4.3.2 - Making a CD-ROM</h3>
d271 1
a271 1
<h3 id="MkFlop">4.3.3 - Creating floppies</h3>
@


1.436
log
@delete a stray "primary"
@
text
@d781 2
a782 2
<a href="faq/faq14.html#disklabel">disklabel(8) partition</a> <tt>a</tt> and
the kernel file <tt>/bsd</tt>.
@


1.435
log
@Add a brief explanation how a bootable flash drive is useful
@
text
@d785 2
a786 2
Configure your primary system to boot from the other OS by default.
Booting from the flash drive loads OpenBSD.
@


1.434
log
@tweak previous
@
text
@d784 4
@


1.433
log
@Freshen up Multibooting section:
- move section on bootloaders to the top
- tidy up "setting active partitions"
- turn "creating boot floppies" into "creating bootable flash drives"

There remains a section on dual booting with Windows. If a generous
soul is willing to take this on (merge them together, simplify if
possible) please be my guest.

With that I think the rampage has come to an end. Phew.
@
text
@d771 2
a772 2
Make a <a href="#MkFlash">bootable flash drive</a> and create an
<tt>/etc/boot.conf</tt> file with the contents:
@


1.432
log
@Clean up the additional thougths on partitioning and move them
back up to where they came from. Keep two sections on partitioning
and eliminate some duplicated information.
@
text
@d732 2
d735 2
a736 2
drive on a dedicated machine, and then practice your desired configuration on a
non-production system before attempting a multiboot configuration on a
d738 2
a739 2
<a href="faq14.html#BootAmd64">FAQ 14</a> has more information about the OpenBSD
boot process.
d743 2
a744 1
booting OpenBSD (i.e., extended partitions may not work).
d749 9
d760 2
a761 4
This is probably the most overlooked, but yet sometimes the best,
solution for multibooting.
Simply set the active partition in whatever OS you are currently using to
be the one you want to boot by default when you next boot.
d763 10
a772 16
OpenBSD's is <a href="faq14.html#fdisk">fdisk(8)</a>, and similarly
named programs are in many other operating systems.
This can be highly desirable for OSs or systems which take a
long time to shut down and reboot -- you can set it and start the reboot
process, then walk away, grab a cup of coffee, and come back to the system
booted the way you want it -- no waiting for the Magic Moment to select
the next OS.

<h3>Boot floppy</h3>

If you have a system that is used to boot OpenBSD infrequently (or don't
wish other users of the computer to note anything has changed), consider
using a boot floppy.
Simply use one of the <a href="#MkFlop">standard OpenBSD install floppies</a>,
and create an <tt>/etc/boot.conf</tt> file (yes, you will also have to create
an <tt>/etc</tt> directory on the floppy) with the contents:
d778 1
a778 11
to cause the system to boot from hard drive 0, OpenBSD partition 'a',
kernel file <tt>/bsd</tt>.
Note you can also boot from other drives with a line like
<tt>boot hd2a:/bsd</tt> to boot off the third hard drive on your system.
To boot from OpenBSD, slip your floppy in,
reboot.
To boot from the other OS, eject the floppy, reboot.
(You can, of course, use this floppy to make a bootable CD, too.)

<p>
The
d780 3
a782 7
program is loaded from the floppy, it then looks for and reads
<tt>/etc/boot.conf</tt>.
The <tt>boot hd0a:/bsd</tt> line instructs boot(8) where to load the
kernel from -- in this case, the first HD the BIOS sees.
Keep in mind that only a small file (<tt>/boot</tt>) is loaded
from the floppy -- the system loads the entire kernel off the hard disk,
so this only adds about five seconds to the boot process.
a901 8

<h3>Other boot loaders</h3>

Some other bootloaders OpenBSD users have used successfully include
<a href="http://gag.sourceforge.net/">GAG</a>,
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>,
<a href="http://www.rodsbooks.com/refind/">rEFInd</a>,
and <a href="http://www.gnu.org/software/grub/">GRUB</a>.
@


1.431
log
@Remove the long disklabel walkthrough. It really doesn't add much.
Rename the fdisk(8) section to a custom fdisk setup for dual booting
because that's what this section is about.
@
text
@d51 2
a52 1
<li><a href="#SendDmesg"       >4.8 - Sending your dmesg to dmesg@@openbsd.org
d54 3
a56 3
<li><a href="#AddFileSet"      >4.9 - Adding a file set after install</a>
<li><a href="#bsd.rd"          >4.10 - What is <tt>bsd.rd</tt>?</a>
<li><a href="#InstProb"        >4.11 - Common installation problems
d58 4
a61 4
<li><a href="#Signify"         >4.12 - Problems with signatures</a>
<li><a href="#site"            >4.13 - Customizing the install process</a>
<li><a href="#Multibooting"    >4.14 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href="#CustomFdisk"     >4.15 - A custom fdisk(8) layout for dual booting
a62 2
<li><a href="#AddThoughts"     >4.16 - Some additional thoughts on
                                partitioning</a>
a473 2
    fsck(8) requires more RAM for larger partitions and on small-memory systems
    it can end up having to use swap and thus take a very long time.
d482 53
a534 1
<h2 id= "SendDmesg">4.8 - Sending your dmesg to dmesg@@openbsd.org after the
d576 1
a576 1
<h2 id="AddFileSet">4.9 - Adding a file set after install</h2>
d586 1
a586 1
<h2 id="bsd.rd">4.10 - What is <tt>bsd.rd</tt>?</h2>
d618 1
a618 1
<h2 id="InstProb">4.11 - Common installation problems (amd64, i386)</h2>
d651 1
a651 1
<h2 id="Signify">4.12 - Problems with signatures</h2>
d680 1
a680 1
<h2 id="site">4.13 - Customizing the install process</h2>
d725 1
a725 1
<h2 id="Multibooting">4.14 - Multibooting OpenBSD (amd64, i386)</h2>
d933 1
a933 1
<h2 id="CustomFdisk">4.15 - A custom fdisk(8) layout for dual booting
a1090 75
<h2 id="AddThoughts">4.16 - Some additional thoughts on partitioning</h2>

<ul>
 <li>For your first attempt at an experimentation system, one big
 <tt>/</tt> partition and swap may be easiest until you know how much
 space you need.
 By doing this, you will be sacrificing some of the default security
 features of OpenBSD that require separate filesystems for
 <tt>/</tt>, <tt>/tmp</tt>, <tt>/var</tt>, <tt>/usr</tt> and <tt>/home</tt>.
 However, you probably should not be going into production with your
 first OpenBSD install.
 <li>A system exposed to the Internet or other hostile forces should
 have a separate <tt>/var</tt> (and maybe even a separate
 <tt>/var/log</tt>) for logging.
 <li>A <tt>/home</tt> partition can be nice.
 New version of the OS?
 Wipe and reload everything else, leave your <tt>/home</tt> partition
 untouched.
 Remember to save a copy of your configuration files, though!
 <li>A separate partition for anything which may accumulate a large
 quantity of files that may need to be deleted can be faster to
 reformat and recreate than to delete.
 See the <a href="faq5.html#ProbObjPt">building from source FAQ</a>
 for an example (<tt>/usr/obj</tt>).
 <li>If you wish to rebuild your system from source for any reason,
 the source will be in <tt>/usr/src</tt>.
 <b>If you don't make a separate partition for <tt>/usr/src</tt>,
 make sure <tt>/usr</tt> has sufficient space.</b>
 <li>A commonly forgotten fact: you do <b>not</b> have to allocate
 all space on a drive when you set the system up!
 Since you will now find it a challenge to buy a new drive smaller than 100GB,
 it can make sense to leave a chunk of your drive unallocated.
 If you outgrow a partition, you can allocate a new partition from
 your unused space, <a href="faq10.html#DupFS">duplicate</a> your existing
 partition to the new partition, change
 <a href="http://man.openbsd.org/?query=fstab">/etc/fstab</a>
 to point to the new partition, remount, you now have more space.
 <li>If you make your partitions too close to the minimum size required,
 you will probably regret it later, when it is time to upgrade your
 system.
 <li>If you make very large partitions, keep in mind that performing
 filesystem checks using
 <a href="http://man.openbsd.org/?query=fsck">fsck(8)</a>
 requires about 1MB of RAM per gigabyte of filesystem size, and may be
 very time-consuming or not even feasible on older, slower systems.
 <li>If you permit users to write to <tt>/var/www</tt> (i.e., personal
 web pages), you might wish to put it on a separate partition, so you
 can use <a href="faq10.html#Quotas">quotas</a> to restrict the space
 they use, and if they fill the partition, no other parts of your
 system will be impacted.
 <li>You may also want to create an <tt>/altroot</tt> partition, as
 described in
 <a href="http://man.openbsd.org/?query=daily">daily(8)</a>.
 This can make a daily copy of your <tt>/</tt> partition, giving you
 an extra copy of your kernel and <tt>/etc</tt> configuration files should
 something happen to your root partition.
 Obviously, the <tt>/altroot</tt> partition needs to be at least as big
 as <tt>/</tt>.
 If you have a second drive and have something else duplicating the
 rest of your disk, either software
 <a href="http://man.openbsd.org/?query=softraid">softraid(4)</a>
 or a periodic copy using
 <a href="http://man.openbsd.org/?query=dump">dump(8)</a> and
 <a href="http://man.openbsd.org/?query=restore">restore(8)</a>,
 this disk can be bootable after the removal of the primary disk.
 <li>Compiling some <a href="faq15.html#Ports">ports</a> from source
 can take huge amounts of space on your <tt>/usr</tt> and <tt>/tmp</tt>
 partitions.
 This is another reason we suggest using
 <a href="faq15.html#PkgMgmt">pre-compiled packages</a> instead.
 <li>At least some editors use <tt>/tmp</tt> for scratch space, and
 this often needs to be as big or bigger than the largest file you edit.
 If you plan on editing 500MB files, your <tt>/tmp</tt> partition will
 need to be much larger than you might have planned on.
</ul>
@


1.430
log
@Ok, I think I'm done with the fdisk(8) section for now. This will
probably need an update for GPT soon...
@
text
@d60 2
a61 6
<li><a href="#More"            >4.15 - Custom disk layouts</a>
  <ul>
  <li><a href="#Morefdisk"     >4.15.1 - A custom fdisk(8) layout (amd64,
                                i386)</a>
  <li><a href="#Moredisklabel" >4.15.2 - Custom disklabel layout</a>
  </ul>
d884 2
a885 1
<h2 id="More">4.15 - Custom disk layouts</h2>
d889 5
a894 1
<h3 id="Morefdisk">4.15.1 - A custom fdisk(8) layout (amd64, i386)</h3>
d896 1
a903 8
If you are adding OpenBSD to an existing system, you will probably
need to create some free space before installing OpenBSD by
deleting or resizing existing partitions.
In addition to your system's native tools,
<a href="http://gparted.org/">gparted</a>
may be useful.

<p>
d1040 1
a1040 313
<h3 id="Moredisklabel">4.15.2 - Custom disklabel layout</h3>

Inside the OpenBSD fdisk(8) partition, we use
<a href="http://man.openbsd.org/?query=disklabel">disklabel(8)</a>
to create OpenBSD file system partitions.
OpenBSD labels its file system partitions using sixteen letters, "a"
through "p".
Partition "a" on the boot disk is defined as the root partition,
"b" on the boot disk is the default swap partition.
"c" on all disks is the "whole disk" partition, it is used by programs
that have to have raw access to the physical disk, such as fdisk(8)
and disklabel(8).
The "c" partition is created automatically for you, and should not be
deleted or changed.
The remaining letters are available for you to define mount points on.
You may skip letters, you can define them in any order, and they can be
in any order on the disk (although some platforms do have a requirement
for where the "a" partition is).
You can also leave gaps in the disk that are unallocated, and allocate
them later, or potentially enlarge existing partitions later into that
unallocated space using
<a href="http://man.openbsd.org/?query=growfs">growfs(8)</a>.

<p>
All partitions which have native FFS partitions on them should be within
the OpenBSD fdisk(8) partition, however
<a href="faq14.html#foreignfs">non-OpenBSD</a> partitions can (and
usually should) be outside the OpenBSD fdisk partition.

<p>
More information on using disklabel can be found
<a href="faq14.html#disklabel">here</a>.

<p>
More information on the benefits of partitioning and strategies for
creating a good partitioning plan are <a href="#Partitioning">below</a>.

<p>
The OpenBSD installer will attempt to auto-partition your
disk in a usable, "general purpose" configuration, based on the size of
your disk.
If your disk is big enough, unused space will be allocated to the
<tt>/home</tt> partition.
While this is often quite useful, it doesn't satisfy all users' needs.

<p>
For our example, we'll assume we are building a static web server
for some of our friends to use.
We have a machine attached to a modest Internet connection, with a 40GB
disk, with most of it used for OpenBSD (with the same 5GB Windows
partition as the example above.
Why?  Maybe this system has a RAID controller which is supported by
OpenBSD, but manageable only from within Windows.
More likely, because the FAQ editor doesn't feel like maintaining lots
of different example systems).

<p>
The web pages served by an OpenBSD web server will be in
<tt>/var/www</tt>, and very little will be stored in <tt>/home</tt>, so
this indicates a definite change from the default that needs to be made.
For the sake of discussion, we'll also assume that we won't need to
rebuild the OS from source on this machine (we'll do that elsewhere).
The system will not run X, however being that some web applications
<a href="#FilesNeededX">expect X to be installed</a>, we will have X
installed.
The machine is not overly powerful, it can't have more than 1GB RAM in
it, and it is unlikely our application will ever desire more than that.

<p>
So, after a bit of thought, our plan is to partition the system like
this:
<ul>
<li><tt>/ - root</tt>: 100MB.  This will be 'a'.
<li><tt>swap</tt>: 1GB (so we'll always have enough space for a core dump),
 this will be partition 'b'
<li><tt>/usr</tt>: 2GB, partition d
<li><tt>/tmp</tt>: 100MB (we don't anticipate much use of this), partition e
<li><tt>/usr/local</tt>: 2GB, partition f
<li><tt>/usr/X11R6</tt>: 1GB, partition g
<li><tt>/home</tt>: 1GB, partition h
<li><tt>/var</tt>: 1GB (that's a lot of system log files), partition j
<li><tt>/var/www</tt>: rest of disk, partition k
</ul>

<blockquote><pre>
The auto-allocated layout for wd0 is:
#                size           offset  fstype [fsize bsize  cpg]
  a:          1024.0M         10490445  4.2BSD   2048 16384    1 # /
  b:           252.1M         12587597    swap
  c:         39205.7M                0  unused
  d:          2319.3M         13103933  4.2BSD   2048 16384    1 # /tmp
  e:          3653.9M         17853877  4.2BSD   2048 16384    1 # /var
  f:          1149.8M         25337016  4.2BSD   2048 16384    1 # /usr
  g:          1024.0M         27691862  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          3422.6M         29789014  4.2BSD   2048 16384    1 # /usr/local
  i:          5122.3M               63    NTFS
  j:          1848.7M         36798433  4.2BSD   2048 16384    1 # /usr/src
  k:          1848.7M         40584654  4.2BSD   2048 16384    1 # /usr/obj
  l:         17540.2M         44370875  4.2BSD   2048 16384    1 # /home
Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b>c</b>
</pre></blockquote>

If we had only minor revisions, we'd probably opt to "Edit" the custom
layout rather than starting from a clean slate, but we are going to do
things the hard way here.

<blockquote><pre>
You will now create an OpenBSD disklabel inside the OpenBSD MBR
partition. The disklabel defines how OpenBSD splits up the MBR partition
into OpenBSD partitions in which filesystems and swap space are created.
You must provide each filesystem's mountpoint in this program.

The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
start of the disk, NOT the start of the OpenBSD MBR partition.

Label editor (enter '?' for help at any prompt)
> <b>p</b>
OpenBSD area: 10490445-80293248; size: 69802803; free: 69802803
#                size           offset  fstype [fsize bsize  cpg]
  c:         80293248                0  unused
  i:         10490381               64    NTFS
>
</pre></blockquote>

Note there are already two partitions here -- the "c" partition which is
always there and created for you, but disklabel(8) has also noticed the
existing NTFS partition and assigned it a disklabel partition so it
could potentially be accessed by OpenBSD (note, at this time, NTFS
support is experimental and requires a custom kernel but FAT/FAT32
support is quite good).

<p>
We will now create our partitions.
We will start with the "a" partition, our root partition:

<blockquote><pre>
> <b>a a</b>
offset: [10490445] <b>&lt;Enter&gt;</b>
size: [69802803] <b>100m</b>
Rounding to cylinder: 208845
FS type: [4.2BSD]  <b>&lt;Enter&gt;</b>
mount point: [none] <b>/</b>
>
</pre></blockquote>

Note that disklabel defaulted to the first available OpenBSD sector on
the disk, which is what we want.
It also defaulted to a size of all available space, which is NOT what we
want.
Here we overrode it with our preferred size, which can be specified in
sectors, "M" or "G" here.

<p>
You will usually want to use the default FS type of "4.2BSD" for a
FFS (Fast File System) or FFS2 partition, though other types you may find
useful include "swap" and "RAID."

<p>
Finally is the mount point.
Our "a" partition is the root partition, by definition.

<p>
Now, we do swap, which is our 'b' partition (again, this is a
requirement -- 'b' on your boot disk is swap):

<blockquote><pre>
> <b>a b</b>
offset: [10699290] <b>&lt;Enter&gt;</b>
size: [69593958] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [swap] <b>&lt;Enter&gt;</b>
>
</pre></blockquote>

Again, disklabel correctly calculated our starting sector, and presented
us with a suggested size of "entire remaining space", which we again
overrode with our desired size.
Since this is the 'b' partition, disklabel assumed it was to be used
for swap, and when we confirmed that, it didn't bother to ask us a
mount point.

<p>
We are now ready to create the rest of the partitions.

<blockquote><pre>
> <b>a d</b>
offset: [12803805] <b>&lt;Enter&gt;</b>
size: [67489443] <b>2g</b>
Rounding to cylinder: 4209030
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/usr</b>
> <b>a e</b>
offset: [17012835] <b>&lt;Enter&gt;</b>
size: [63280413] <b>100m</b>
Rounding to cylinder: 208845
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/tmp</b>
> <b>a f</b>
offset: [17221680] <b>&lt;Enter&gt;</b>
size: [63071568] <b>2g</b>
Rounding to cylinder: 4209030
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/usr/local</b>
> <b>a g</b>
offset: [21430710] <b>&lt;Enter&gt;</b>
size: [58862538] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/usr/X11R6</b>
> <b>a h</b>
offset: [23535225] <b>&lt;Enter&gt;</b>
size: [56758023] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/home</b>
> <b>a j</b>
offset: [25639740] <b>&lt;Enter&gt;</b>
size: [54653508] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/var</b>
> <b>a k</b>
offset: [27744255] <b>&lt;Enter&gt;</b>
size: [52548993] <b>&lt;Enter&gt;</b>
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/var/www</b>
>
</pre></blockquote>

Note that on the <tt>/var/www</tt> partition ("k"), we just took the
default to use all remaining available disk space.
With modern monstrously huge drives, this is usually a bad idea.
If you know you will never use it, don't allocate it, and save it for
some future use.

<p>
Now, let's look at our results, using the "p" and "p m" commands:

<blockquote><pre>
> <b>p</b>
OpenBSD area: 10490445-80293248; size: 69802803; free: 0
#                size           offset  fstype [fsize bsize  cpg]
  a:           208845         10490445  4.2BSD   2048 16384    1 # /
  b:          2104515         10699290    swap
  c:         80293248                0  unused
  d:          4209030         12803805  4.2BSD   2048 16384    1 # /usr
  e:           208845         17012835  4.2BSD   2048 16384    1 # /tmp
  f:          4209030         17221680  4.2BSD   2048 16384    1 # /usr/local
  g:          2104515         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          2104515         23535225  4.2BSD   2048 16384    1 # /home
  i:         10490381               64    NTFS
  j:          2104515         25639740  4.2BSD   2048 16384    1 # /var
  k:         52548993         27744255  4.2BSD   2048 16384    1 # /var/www
> <b>p m</b>
OpenBSD area: 10490445-80293248; size: 34083.4M; free: 0.0M
  #                size           offset  fstype [fsize bsize  cpg]
  a:           102.0M         10490445  4.2BSD   2048 16384    1 # /
  b:          1027.6M         10699290    swap
  c:         39205.7M                0  unused
  d:          2055.2M         12803805  4.2BSD   2048 16384    1 # /usr
  e:           102.0M         17012835  4.2BSD   2048 16384    1 # /tmp
  f:          2055.2M         17221680  4.2BSD   2048 16384    1 # /usr/local
  g:          1027.6M         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          1027.6M         23535225  4.2BSD   2048 16384    1 # /home
  i:          5122.3M               64    NTFS
  j:          1027.6M         25639740  4.2BSD   2048 16384    1 # /var
  k:         25658.7M         27744255  4.2BSD   2048 16384    1 # /var/www
>
</pre></blockquote>

Like with fdisk, you don't want your OpenBSD disklabel partitions to
overlap (other than the 'c' partition, which overlaps everything, of
course).

<p>
Write your changes and quit disklabel:

<blockquote><pre>
> <b>w</b>
> <b>q</b>
No label changes.
newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
enlarge last cylinder group
/dev/rwd0a: 102.0MB in 208844 sectors of 512 bytes
5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
/dev/rwd0h: 1027.6MB in 2104512 sectors of 512 bytes
6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
enlarge last cylinder group
/dev/rwd0e: 102.0MB in 208844 sectors of 512 bytes
5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
/dev/rwd0d: 2055.2MB in 4209028 sectors of 512 bytes
11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0g: 1027.6MB in 2104512 sectors of 512 bytes
6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0f: 2055.2MB in 4209028 sectors of 512 bytes
11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0j: 1027.6MB in 2104512 sectors of 512 bytes
6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0k: 25658.7MB in 52548992 sectors of 512 bytes
127 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/wd0a on /mnt type ffs (rw, asynchronous, local)
/dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/wd0e on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/wd0d on /mnt/usr type ffs (rw, asynchronous, local, nodev)
/dev/wd0g on /mnt/usr/X11R6 type ffs (rw, asynchronous, local, nodev)
/dev/wd0f on /mnt/usr/local type ffs (rw, asynchronous, local, nodev)
/dev/wd0j on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/wd0k on /mnt/var/www type ffs (rw, asynchronous, local, nodev, nosuid)

Let's install the sets!
...
</pre></blockquote>
@


1.429
log
@Third phase of the diet. First rough form of the section on
a custom fdisk setup is done.
@
text
@a978 1

d989 1
a989 1
fdisk:*1> e 1
d1038 7
@


1.428
log
@More thinning of the fdisk example. We still aren't done yet.
@
text
@d982 1
a982 2
Note that this partition is so far just reserved space on the disk, it
isn't formatted.
d1007 5
a1011 26
Now we look at our partition table:

<blockquote><pre>
fdisk:*1> <b>p</b>
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0x0
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   1 -    652 254  63 [          64:    10490381 ] NTFS
 1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
fdisk:*1>
</pre></blockquote>

<b>WE AREN'T DONE YET!</b><br>
This disk is not yet bootable!
As it was a brand new disk, the disk's
<a href="faq14.html#BootAmd64">MBR</a> was completely blank.
The "Signature: 0x0" message there shows there is not a valid signature
(0xAA55), which indicates there definitely is not a valid boot code.
Of course, you could have a valid signature without valid boot code,
through either random bad luck or damage to the existing boot code, but
an invalid signature pretty well indicates you are lacking boot code, so
we will install it now using the "update" command:
d1016 1
a1016 8
fdisk:*1>
</pre></blockquote>

We also have to "flag" a partition as "active" so the boot ROM knows
what partition to boot from:

<blockquote><pre>
fdisk:*1> <b>f 1</b>
d1018 1
a1018 6
</pre></blockquote>

Now, let's see how it looks:

<blockquote><pre>
fdisk:*1> <b>p</b>
d1031 1
a1031 2
A checklist of things you want to make sure about before you exit
fdisk(8):
d1034 4
a1037 4
<li>Valid signature?
<li>non-overlapping partitions?
<li>OpenBSD partition with an "A6" id?
<li>Proper partition (probably OpenBSD) flagged active?
@


1.427
log
@Start thinning out the custom fdisk section.
Note: "WE AREN'T DONE, YET!"
@
text
@d62 1
a62 1
  <li><a href="#Morefdisk"     >4.15.1 - Custom fdisk(8) layout (amd64,
d485 1
a485 1
manpage and 
d544 1
a544 1
entirely in memory. 
d893 1
a893 1
<h3 id="Morefdisk">4.15.1 - Custom fdisk(8) layout (amd64, i386)</h3>
d895 1
a895 1
A brief introduction to 
d897 1
a897 1
is in the section on 
d941 3
a943 4
First of all notice the <tt>fdisk: 1></tt> prompt.
The number <tt>1</tt> indicates the first level of partition tables
If you were editing an extended partition, it would be <tt>2</tt> or bigger.

d945 2
a946 3
First, we will make partition "0" a 5GB Windows partition (using NTFS),
and partition "1" will be our OpenBSD partition using the rest of the
disk.
d949 1
a949 1
fdisk: 1> <b>e 0</b>
d954 1
a954 1
Partition id ('0' to disable)  [0 - FF]: [0] (? for help)
d957 2
a958 53
Since we don't know by memory what the partition ID is for NTFS, we hit
"?" here to get a list.

<blockquote><pre>
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>?</b>
Choose from the following Partition id values:
00 unused         20 Willowsoft     66 NetWare 386    A9 NetBSD
01 DOS FAT-12     24 NEC DOS        67 Novell         AB MacOS X boot
02 XENIX /        27 Win Recovery   68 Novell         AF MacOS X HFS+
03 XENIX /usr     38 Theos          69 Novell         B7 BSDI filesy*
04 DOS FAT-16     39 Plan 9         70 DiskSecure     B8 BSDI swap
05 Extended DOS   40 VENIX 286      75 PCIX           BF Solaris
06 DOS > 32MB     41 Lin/Minux DR   80 Minix (old)    C0 CTOS
07 NTFS           42 LinuxSwap DR   81 Minix (new)    C1 DRDOSs FAT12
08 AIX fs         43 Linux DR       82 Linux swap     C4 DRDOSs < 32M
09 AIX/Coherent   4D QNX 4.2 Pri    83 Linux files*   C6 DRDOSs >=32M
0A OS/2 Bootmgr   4E QNX 4.2 Sec    84 OS/2 hidden    C7 HPFS Disbled
0B Win95 FAT-32   4F QNX 4.2 Ter    85 Linux ext.     DB CPM/C.DOS/C*
0C Win95 FAT32L   50 DM             86 NT FAT VS      DE Dell Maint
0E DOS FAT-16     51 DM             87 NTFS VS        E1 SpeedStor
0F Extended LBA   52 CP/M or SysV   8E Linux LVM      E3 SpeedStor
10 OPUS           53 DM             93 Amoeba FS      E4 SpeedStor
11 OS/2 hidden    54 Ontrack        94 Amoeba BBT     EB BeOS/i386
12 Compaq Diag.   55 EZ-Drive       99 Mylex          EE EFI GPT
14 OS/2 hidden    56 Golden Bow     9F BSDI           EF EFI Sys
16 OS/2 hidden    5C Priam          A0 NotebookSave   F1 SpeedStor
17 OS/2 hidden    61 SpeedStor      A5 FreeBSD        F2 DOS 3.3+ Sec
18 AST swap       63 ISC, HURD, *   A6 OpenBSD        F4 SpeedStor
19 Willowtech     64 NetWare 2.xx   A7 NEXTSTEP       FF Xenix BBT
1C ThinkPad Rec   65 NetWare 3.xx   A8 MacOS X
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>07</b>
</pre></blockquote>

Now we define its starting and ending points:

<blockquote><pre>
Do you wish to edit in CHS mode? [n]
</pre></blockquote>

CHS mode allows you to specify disk space in Cylinders, Heads and Sectors.
Keep in mind that for modern hard disks, the CHS numbers are completely
bogus, just three numbers that translate to a sector on the disk, which
is translated to your drives physical geometry (which probably varies
across the disk anyway).

<p>
If you answer "y" here, you will be prompted for the starting and
ending cylinder, head and sector.
If you answer "no" here (as we will), you will be prompted for starting
sector and the size.
Editing by CHS is often easier when working around an existing partition,
starting sector and size is often easier when you want to quickly create
a partition of a given size.
d961 1
d966 1
a966 1
<p>
a969 2
This is recommended for performance reasons on modern disks, and does
not matter on older disks.
d976 2
a977 23
The "Size" value can be the number of sectors (512 bytes each), or the
desired capacity when followed by a "k", "m" or "g".
When editing using offset and size, fdisk will round your partition so
it ends on a cylinder boundary (OpenBSD doesn't care about this, and it
is possible no modern OS cares about this, but some might have at one
time).

<p>
Now, let's look at our new partition:

<blockquote><pre>
fdisk:*1> p
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0x0
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   2 -    652 254  63 [          64:    10490381 ] NTFS
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
fdisk:*1>
</pre></blockquote>
a978 2
Note that the prompt now includes an "*", this means there are unsaved
changes.
d983 1
a983 4
isn't formatted; no file system exists here.
You will worry about that when you install Windows; we've accomplished
our goal of reserving space for the Windows partition to be created
later.
d987 2
a988 1
In this case, the partition ID will be "A6".
a997 8
offset: [0]
</pre></blockquote>

Uh-oh!
What's our offset?  Simple -- the offset of the previous partition plus
the size of the partition, in this case, 64+10490381 = 10490445.

<blockquote><pre>
d1003 3
a1005 3
Note that here, we entered "*" as the size, meaning "rest of the disk".
Again, we could have entered the size in sectors, "m" or "g" if we
wanted to leave space for something else.
@


1.426
log
@remove two stale links
@
text
@d62 2
a63 1
  <li><a href="#Morefdisk"     >4.15.1 - Custom fdisk(8) layout</a>
d691 1
a691 1
<a href="faq14.html">FAQ 14</a> has more information about the OpenBSD
d890 2
a891 2
Sometimes you can't just take the defaults.
Here are some more details on parts of the installation process.
d893 1
a893 1
<h3 id="Morefdisk">4.15.1 - Custom fdisk(8) layout</h3>
d895 1
a895 8
Note: only some OpenBSD platforms use fdisk at all, and usually, only
<a href="../i386.html">i386</a> and <a href="../amd64.html">amd64</a>
users will have to worry about getting fancy with fdisk.
Users of most other fdisk(8) using platforms generally don't have to
worry about multibooting or setup/diagnostic partitions.
For this reason, this section is focused on i386 and amd64.

<p>
d897 3
a899 16
is used to mark off the OpenBSD part of your hard disk.
It helps mark off the part of the disk used by OpenBSD from the parts used
by other OSs or system functions.

<p>
If you have a partition on your disk you wish to retain or wish to leave
space for another partition, you will NOT want to chose "(W)hole disk",
but will need to edit the partition table with
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>.
More information on manually running fdisk(8) can be found
<a href="faq14.html#fdisk">here</a>.

<b>Before working with any system that has data you don't wish to lose,
make sure you have a good backup.</b>
It is very easy in this process to clobber important data, so make sure
you are ready to get it back, if need be.
d903 5
a907 6
need to create some free space on your system before installing OpenBSD.
This will usually involve deleting or possibly reducing the size of
existing partitions.
The program <a href="http://gparted.sourceforge.net/">gparted</a>
has been found useful for shrinking the partitions of many popular OSs,
making it possible to install OpenBSD on the freed space.
a912 4
Note that a blank drive has to have valid MBR boot code and signature
written to the disk before it can be booted.

<p>
a920 7
</pre></blockquote>

If the disk had a valid MBR in place, it would show you the existing
partition table, which can be a good way to show if a disk may have
data on it already.

<blockquote><pre>
d941 3
a943 6
First of all notice the fdisk prompt.
The number "1" indicates the first level of partition tables -- if you
were editing an extended partition, it would be "2" (or bigger).
Extended partitions are partitions which have their own sub-partition
table, getting around the IBM AT four partition design limit.
Extended partitions won't be covered here.
@


1.425
log
@validate
@
text
@a1195 2
<a href="#BackMorefdisk">(back to where we may have been)</a>

a1584 1
<a href="#BackMoredisklabel">(back to where we may have been)</a>
@


1.424
log
@remove "setting up the network". the way this is written, this is
pretty pointless. if you know what these configurations do, you'll
be able to figure out how to set them up at install time.
@
text
@d646 1
a646 1
sets named <tt>siteXX-$(hostname -s).tgz</i></tt>.
@


1.423
log
@remove "setting up time zones" subsubsection.
@
text
@d60 1
a60 1
<li><a href="#More"            >4.15 - Details for a more complex install</a>
d62 2
a63 3
  <li><a href="#MoreNetwork"   >4.15.1 - Setting up the network</a>
  <li><a href="#Morefdisk"     >4.15.2 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel" >4.15.3 - Custom disklabel layout</a>
d887 1
a887 1
<h2 id="More">4.15 - Details for a more complex install</h2>
d892 1
a892 74
<h3 id="MoreNetwork">4.15.1 - Setting up the network</h3>

If you don't have a DHCP server available, you will have to set up
your network adapter(s) manually.
Here's an example:

<blockquote><pre>
Which one do you wish to configure? (or 'done') [xl0] <b>&lt;Enter&gt;</b>
IPv4 address for xl0? (or 'dhcp' or 'none') [dhcp] <b>192.168.1.37</b>
Netmask? [255.255.255.0] 255.255.254.0
IPv6 address for xl0? (or 'rtsol' or 'none') [none] <b>&lt;Enter&gt;</b>
</pre></blockquote>

After that set of questions, you will be given a chance to configure any other
network adapters that your machine has.
If you specify another network adapter here, the above questions repeat.

<blockquote><pre>
Available network interfaces are: xl0 vlan0.
Which one do you wish to configure? (or 'done') [done]
</pre></blockquote>

Now, you will set up the default gateway and DNS servers, things that
impact all network adapters:

<blockquote><pre>
Default IPv4 route? (IPv4 address, 'dhcp' or 'none') <b>192.168.1.1</b>
add net default: gateway 192.168.1.1
DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.org</b>
DNS nameservers? (IP address list or 'none') [none] <b>192.168.1.250 192.168.1.251</b>
</pre></blockquote>

Note that multiple DNS servers can be listed, separated by spaces.

<p>
Sometimes you will have to do something more, for example set up a
wireless access key or hard-set a duplex or speed setting (don't do this
unless you absolutely HAVE to, fixing your switch configuration is a
much better idea!).
You are now given a chance to drop to the shell and do any manual configuration
that you would like.

<blockquote><pre>
Do you want to do any manual network configuration? [no] <b>y</b>
Type 'exit' to return to install.
# <b>ifconfig xl0 media</b>
xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        lladdr 00:08:74:2c:df:9c
        groups: egress
        media: Ethernet autoselect (100baseTX full-duplex)
        status: active
        supported media:
                media 10baseT
                media 10baseT mediaopt full-duplex
                media 100baseTX
                media 100baseTX mediaopt full-duplex
                media autoselect
        inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
# <b>ifconfig xl0 media 100baseTX mediaopt full-duplex</b>
# <b>ifconfig xl0</b>
xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        lladdr 00:08:74:2c:df:9c
        groups: egress
        media: Ethernet 100baseTX full-duplex
        status: active
        inet6 fe80::208:74ff:fe2c:df9c%xl0 prefixlen 64 scopeid 0x1
        inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
# <b>exit</b>
<i>...setup resumes...</i>
</pre></blockquote>

<a href="#backMoreNetwork">(back to where we might have been)</a>

<h3 id="Morefdisk">4.15.2 - Custom fdisk(8) layout</h3>
d1198 1
a1198 1
<h3 id="Moredisklabel">4.15.3 - Custom disklabel layout</h3>
@


1.422
log
@one more section that can go. wasn't written or updated in
the last 10 years. it's easy to find this info elsewhere.
@
text
@d63 2
a64 3
  <li><a href="#MoreTimeZone"  >4.15.2 - Setting the time zone</a>
  <li><a href="#Morefdisk"     >4.15.3 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel" >4.15.4 - Custom disklabel layout</a>
d966 1
a966 64
<h3 id="MoreTimeZone">4.15.2 - Setting the Time Zone</h3>

Time in Unix is not a simple thing (or put another way, time in Unix is
a <i>really</i> simple thing and human time is a politically manipulated
mess).
Time zone files help the system convert Unix time (the number of seconds
past midnight GMT, Jan 1, 1970) to human time, taking into account things
like time zones, daylight savings time (DST), DST rule changes, etc.
They also include the history of changes.

<p>
Multiple time zone definition files will sometimes give the same
<i>current</i> time, but may have different history.
For example, EST5EDT and US/Michigan have the same time NOW, but back in
1975, the rules were different, so if you were doing math with dates and
times that involved 1975, you would care about the differences.
You should use the most specific and accurate timezone file you can for
your region, rather than one that just gives the correct time at this
moment.

<p>
OpenBSD's installer will help you find an appropriate time zone file for
you if you are not sure.
Simply hit <tt>?</tt> at each prompt, and the installer will show you options.
If the first level of answers doesn't suit you, pick a continent or
country, and look at your options there:

<blockquote><pre>
What timezone are you in? ('?' for list) [right/EST5EDT] <b>?</b>
Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      UCT
America/     Cuba         GMT          Jamaica      Navajo       US/
Antarctica/  EET          GMT+0        Japan        PRC          UTC
Arctic/      EST          GMT-0        Kwajalein    PST8PDT      Universal
Asia/        EST5EDT      GMT0         Libya        Pacific/     W-SU
Atlantic/    Egypt        Greenwich    MET          Poland       WET
Australia/   Eire         HST          MST          Portugal     Zulu
Brazil/      Etc/         Hongkong     MST7MDT      ROC          posix/
CET          Europe/      Iceland      Mexico/      ROK          posixrules
CST6CDT      Factory      Indian/      Mideast/     Singapore    right/
Canada/      GB           Iran         NZ           Turkey
What timezone are you in? ('?' for list) [right/EST5EDT] <b>US</b>
What sub-timezone of 'US' are you in? ('?' for list) ?
Alaska          Central         Hawaii          Mountain        Samoa
Aleutian        East-Indiana    Indiana-Starke  Pacific
Arizona         Eastern         Michigan        Pacific-New
What sub-timezone of 'US' are you in? ('?' for list) <b>Michigan</b>
</pre></blockquote>

We've now set the time to "US/Michigan." This creates a symbolic link in
<tt>/etc</tt> pointing to the appropriate zoneinfo file in
<tt>/usr/share/zoneinfo</tt>, something like this:

<blockquote><pre>
/etc/localtime -> /usr/share/zoneinfo/US/Michigan
</pre></blockquote>

Note the directory <tt>right/</tt>, this directory includes leap second
adjustments, but otherwise duplicates the standard zoneinfo choices.
More <a href="faq8.html#NTPerror">here</a>.

<p>
<a href="#backMoreTimeZone">(back to where we might have been)</a>

<h3 id="Morefdisk">4.15.3 - Custom fdisk(8) layout</h3>
d1272 1
a1272 1
<h3 id="Moredisklabel">4.15.4 - Custom disklabel layout</h3>
@


1.421
log
@remove 4.14 - how can i install a number of similar systems
@
text
@d59 2
a60 4
<li><a href="#getdmesg"        >4.14 - How can I get a dmesg(8) to report an
                                install problem?</a>
<li><a href="#Multibooting"    >4.15 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href="#More"            >4.16 - Details for a more complex install</a>
d62 4
a65 4
  <li><a href="#MoreNetwork"   >4.16.1 - Setting up the network</a>
  <li><a href="#MoreTimeZone"  >4.16.2 - Setting the time zone</a>
  <li><a href="#Morefdisk"     >4.16.3 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel" >4.16.4 - Custom disklabel layout</a>
d67 1
a67 1
<li><a href="#AddThoughts"     >4.17 - Some additional thoughts on
d681 1
a681 78
<h2 id="getdmesg">4.14 - How can I get a dmesg(8) to report an install
problem?</h2>

When <a href="../report.html">reporting a problem</a>, it is critical to
include the complete system
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>.
However, often when you need to do this, it is because the system is
working improperly or won't install so you may not have disk, network,
or other resources you need to get the dmesg to the appropriate
<a href="../mail.html">mailing list</a>.
There are other ways, however:

<ul>
<li><b>Floppy disk:</b>  The boot disks and CD-ROM have enough tools
to let you record your dmesg to an MSDOS floppy disk for reading on
another machine.
Place an MSDOS formatted floppy in your disk drive and execute the
following commands:

<blockquote><pre>
# <b>mount -t msdos /dev/fd0a /mnt</b>
# <b>dmesg >/mnt/dmesg.txt</b>
# <b>umount /mnt</b>
</pre></blockquote>

If you have another OpenBSD system, you can also write it to an OpenBSD
compatible floppy -- often, the boot floppy has enough room on it to
hold the dmesg.
In that case, leave off the <tt>-t msdos</tt> above.

<p>
<li><b>Serial Console:</b>
Using a serial console and capturing the output on another computer
is often the best way to capture diagnostic information - particularly
if the computer panics immediately after boot.
As well as a second computer, you will need a suitable serial cable
(often a null-modem cable), and a terminal emulator program that can
capture screen output to file.

<p>
General information on setting up a serial console is provided
<a href="faq7.html#SerCon">elsewhere in the FAQ</a>;
in order to capture a log of the install,
the following commands are usually sufficient.

<p>
<b>i386</b>

<p>
At the boot loader prompt, enter

<blockquote><pre>
boot> <b>set tty com0</b>
</pre></blockquote>

This will tell OpenBSD to use the first serial port (often called
COM1 or COMA in PC documentation) as a serial console.
The default baud rate is 9600.

<p>
<b>Sparc/Sparc64</b>

<p>
These machines will automatically use a serial console if started
without a keyboard present.
If you have a keyboard and monitor attached, you can still force the
system to use a serial console with the following invocation at the
<tt>ok</tt> prompt.

<blockquote><pre>
ok <b>setenv input-device ttya</b>
ok <b>setenv output-device ttya</b>
ok <b>reset</b>
</pre></blockquote>

</ul>

<h2 id="Multibooting">4.15 - Multibooting OpenBSD (amd64, i386)</h2>
d889 1
a889 1
<h2 id="More">4.16 - Details for a more complex install</h2>
d894 1
a894 1
<h3 id="MoreNetwork">4.16.1 - Setting up the network</h3>
d967 1
a967 1
<h3 id="MoreTimeZone">4.16.2 - Setting the Time Zone</h3>
d1030 1
a1030 1
<h3 id="Morefdisk">4.16.3 - Custom fdisk(8) layout</h3>
d1336 1
a1336 1
<h3 id="Moredisklabel">4.16.4 - Custom disklabel layout</h3>
d1650 1
a1650 1
<h2 id="AddThoughts">4.17 - Some additional thoughts on partitioning</h2>
@


1.420
log
@tweak previous;
@
text
@d59 1
a59 3
<li><a href="#Multiple"        >4.14 - How can I install a number of similar
                                systems?</a>
<li><a href="#getdmesg"        >4.15 - How can I get a dmesg(8) to report an
d61 2
a62 2
<li><a href="#Multibooting"    >4.16 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href="#More"            >4.17 - Details for a more complex install</a>
d64 4
a67 4
  <li><a href="#MoreNetwork"   >4.17.1 - Setting up the network</a>
  <li><a href="#MoreTimeZone"  >4.17.2 - Setting the time zone</a>
  <li><a href="#Morefdisk"     >4.17.3 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel" >4.17.4 - Custom disklabel layout</a>
d69 1
a69 1
<li><a href="#AddThoughts"     >4.18 - Some additional thoughts on
d683 1
a683 47
<h2 id="Multiple">4.14 - How can I install a number of similar systems?</h2>

Here are some tools you can use when you have to deploy a number
of similar OpenBSD systems.

<h3><tt>siteXX.tgz</tt> and <tt>install/upgrade.site</tt> files</h3>

See the <a href="#site">above</a> article.

<h3>Restore from dump(8)</h3>

On most platforms, the boot media includes the
<a href="http://man.openbsd.org/?query=restore">restore(8)</a>
program, which can be used to restore a backup made by
<a href="http://man.openbsd.org/?query=dump">dump(8)</a>.
Thus, you could boot from a
<a href="#MkFlop">floppy</a>,
<a href="../orders.html">CD</a>, or
<a href="#bsd.rd">bsd.rd</a> file, then
<a href="faq14.html#fdisk">fdisk</a>,
<a href="faq14.html#disklabel">disklabel</a>, and
<a href="http://man.openbsd.org/?query=restore">restore(8)</a>
the desired configuration from tape or other media, and install the
<a href="http://man.openbsd.org/?query=installboot">boot blocks</a>.

<h3>Disk imaging</h3>

Unfortunately, there are no known disk imaging packages which are
FFS-aware and can make an image containing only the active file space.
Most of the major disk imaging solutions will treat an OpenBSD partition
as a "generic" partition, and can make an image of the whole disk.
This often accomplishes your goal, but usually with huge amounts of wasted
space --  an empty 10GB <tt>/home</tt> partition will require 10GB of
space in the image, even if there isn't a single file in it.
While you can typically install a drive image to a larger drive, you would
not be able to directly use the extra space, and you would not be able to
install an image to a smaller drive.

<p>
If this is an acceptable situation, you may find the
<a href="http://man.openbsd.org/?query=dd">dd(1)</a>
command will do what you need, allowing you to copy one disk to another,
sector-for-sector.
This would provide the same functionality as
commercial programs without the cost.

<h2 id="getdmesg">4.15 - How can I get a dmesg(8) to report an install
d760 1
a760 1
<h2 id="Multibooting">4.16 - Multibooting OpenBSD (amd64, i386)</h2>
d968 1
a968 1
<h2 id="More">4.17 - Details for a more complex install</h2>
d973 1
a973 1
<h3 id="MoreNetwork">4.17.1 - Setting up the network</h3>
d1046 1
a1046 1
<h3 id="MoreTimeZone">4.17.2 - Setting the Time Zone</h3>
d1109 1
a1109 1
<h3 id="Morefdisk">4.17.3 - Custom fdisk(8) layout</h3>
d1415 1
a1415 1
<h3 id="Moredisklabel">4.17.4 - Custom disklabel layout</h3>
d1729 1
a1729 1
<h2 id="AddThoughts">4.18 - Some additional thoughts on partitioning</h2>
@


1.419
log
@remove a stray "you will" and rephrase a bit.
@
text
@d655 4
a658 3
<b>Note:</b> For installs from an HTTP server, add the <tt>siteXX.tgz</tt> set
to <tt>index.txt</tt> in the source directory so that it is listed as an option
at install time.
@


1.418
log
@Condense second part of siteXX.tgz and install.site section.
Make this terse since this is for more advanced users.
Trim the example usages a bit and move a piece from the second
section to the first because it belongs there.
@
text
@d655 3
a657 3
<b>Note:</b> For installs from an HTTP server, you will the <tt>siteXX.tgz</tt>
set needs to be added to <tt>index.txt</tt> in the source directory in order
for it to be listed as an option at install time.
@


1.417
log
@more condensation
@
text
@d644 2
a645 2
The OpenBSD install scripts allow the selection of a user-created set called
<tt>siteXX.tgz</tt>, where <tt>XX</tt> is the release version.
a653 19
<h3><tt>install.site</tt>/<tt>upgrade.site</tt> scripts</h3>

As the last step in the install/upgrade process, the scripts look in the
root directory of the newly installed/upgraded system for
<tt>install.site</tt> or <tt>upgrade.site</tt>, as appropriate to the
current process, and runs this script in an environment
<a href="http://man.openbsd.org/?query=chroot">chroot(8)</a>ed
to the installed/upgraded system's root.
Remember, the upgrade is done from a booted file system, so your target
file system is actually mounted on <tt>/mnt</tt>.
However, because of the chroot, your script can be written as if
it is running in the "normal" root of your file system.
Since this script is run after all the files are installed, you have much of the
functionality of the full system when your script runs.
Keep in mind that you are running a minimal kernel and not all features are
available.
Due to space constraints, things that work today may not work in a
future release.

d655 12
a666 4
Note that the <tt>install.site</tt> script would have to be in a
<tt>siteXX.tgz</tt> file, while the <tt>upgrade.site</tt> script could
be put in the root directory before the upgrade, or could be put in a
<tt>siteXX.tgz</tt> file.
d669 1
a669 1
The scripts can be used to do many things:
d671 11
a681 16
<li>Remove files that are installed/upgraded that you don't want present
on the system.
<li> Remove/upgrade/install the
<a href="faq15.html#PkgMgmt">packages</a> you want on the installed
system (may not work for all packages!).
<li> Do an immediate backup/archive of the new system before you expose it
to the rest of the world.
<li>Use
<a href="http://man.openbsd.org/?query=rdate">rdate(8)</a>
to set the system time.
<li>Have a set of arbitrary commands be run after the first boot.
This will happen if install.site is used to append any such commands to an
<a href="http://man.openbsd.org/?query=rc.firsttime"><tt>rc.firsttime(8)</tt></a>
file (appending to this file is necessary since the installer itself may
write to this file).
At boot time, rc.firsttime is executed once then deleted.
a682 13

<p>
The combination of <tt>siteXX.tgz</tt> and
<tt>install.site/upgrade.site</tt> files is intended to give users
broad customization capabilities without having to build their own
custom install sets.

<p>
Note: if you will be doing your install from an HTTP server, you will
need to add your <tt>site*.tgz</tt> file(s) to the file
<tt>index.txt</tt> in the source directory in order for them to be
listed as an option at install time.
This is not needed for other install methods.
@


1.416
log
@Condense first part of 4.13 Customizing the install process.
Let's assume that people thinking about customizing the install
process know why they want to do that. Let's also assume that
they know what a .tgz file is.
@
text
@d650 3
a652 8
a default install.

<p>
You can also create and use hostname-specific install sets, which are
named <tt>siteXX-<i>&lt;hostname&gt;.tgz</i></tt>, for example,
<tt>siteXX-puffy.tgz</tt>.
This allows easy per-host customized installations, upgrades, or
disaster recovery.
@


1.415
log
@Two sentences that said the same. One said the same thing as the other.
@
text
@d642 1
a642 1
<h3><tt>siteXX.tgz</tt> file</h3>
d644 7
a650 16
The OpenBSD install/upgrade scripts allow the selection of a
user-created set called <tt>siteXX.tgz</tt>, where XX is the release
version.
The <tt>siteXX.tgz</tt> file set is, like the other
<a href="#FilesNeeded">file sets</a>, a
<a href="http://man.openbsd.org/?query=gzip">gzip(1)</a>
compressed
<a href="http://man.openbsd.org/?query=tar">tar(1)</a>
archive rooted in '/' and is un-tarred like the other sets with the
options <tt>xzphf</tt>.
This set will be installed last, after all other file sets.

<p>
This file set allows the user to add to and/or override the files
installed in the 'normal' sets and thus customize the installation or
upgrade.
a658 22
<p>
Some example uses of a <tt>siteXX.tgz</tt> file:
<ul>
<li>Create a siteXX.tgz file that contains all the file changes you made
since first installing OpenBSD.
Then, if you have to re-create the system, you simply select siteXX.tgz
during the re-install and all of your changes are replicated on the new system.

<li>Create a series of machine-specific directories that each contain a
siteXX.tgz file that contains files specific to those machine types.
Installation of machines (e.g. boxes with different graphics cards) of a
particular category can be completed by selecting the appropriate
siteXX.tgz file.

<li>Put the files you routinely customize in a same or similar way
in a siteXX.tgz file --
<a href="http://man.openbsd.org/?query=adduser"><tt>/etc/skel</tt></a> files,
<a href="http://man.openbsd.org/?query=pf.conf"><tt>/etc/pf.conf</tt></a>,
<a href="http://man.openbsd.org/?query=rc.conf.local">
<tt>/etc/rc.conf.local</tt></a>, etc.
</ul>

d841 1
a841 1
<h2 id="Multibooting">4.15 - Multibooting OpenBSD (amd64, i386)</h2>
d1810 1
a1810 1
<h2 id="AddThoughts">4.17 - Some additional thoughts on partitioning</h2>
@


1.414
log
@compress the overview a bit more
@
text
@a79 1
All platforms use a very similar installation procedure.
@


1.413
log
@new openbsd faq style. joint with tj and validator.w3.org
@
text
@a79 2

<p>
d83 1
a83 2
For example, <tt>i386/INSTALL.i386</tt>, <tt>macppc/INSTALL.macppc</tt>
or <tt>sparc/INSTALL.sparc</tt>.
d85 1
a85 8
<p>
The OpenBSD installer is a <a href="#bsd.rd">special kernel</a> with a number
of utilities and install scripts embedded in a pre-loaded RAM disk.
After this kernel is booted, the operating system is extracted and installed
from a number of compressed
<a href="http://man.openbsd.org/?query=tar">tar(1)</a>
files.
There are several ways to boot this install kernel:
d89 1
a89 2
    On several platforms, CD-ROM images are provided, allowing creation of a
    bootable CD-ROM.
d93 1
a93 2
    On some platforms, raw disk images are provided for creating bootable
    USB drives.
d104 2
a105 3
    At this point, if you are running a system that only has floppy support,
    we will consider you an advanced user who probably doesn't need this
    FAQ for guidance.
d218 2
@


1.412
log
@Fix previous commit. I changed my mind while writing the commit message
and accidentally committed. Keep the fdisk question on amd64/i386 and
add a new question on signature related problems.
@
text
@d21 1
d23 4
a26 2
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif" border="0">
</a>
a27 1

d29 1
a29 1
<a href= "faq3.html">[To Section 3 - Getting started with OpenBSD]</a>
d31 1
a32 4
<h1><font color="#e00000">4 - OpenBSD Installation Guide</font></h1>
<hr>

<p>
a33 1

d590 1
a590 1
<h2 id="InstProb">4.11 - Common installation problems (amd64/i386)</h2>
@


1.411
log
@"common installation problems":
- 2 mostly fdisk related questions
- 2 signify issues
- ssh-keygen takes too long (here's a nickel, kid...)
- how do i boot without floppy or cd rom. two signify related questions, ssh-keygen taking too long + how to boot
if you don't have a floppy or cdrom. use usb and if you're working with
arm boards or something, you really do need to read INSTALL.<plat>.

the signify questions about self-signed images and verification failures
seem reasonable and I'll happily add something back if so desired.

for now, turn this into a question on fdisk on amd64 and i386 to
simplify the answers and lose the numbering as a bonus.
@
text
@d59 3
a61 2
<li><a href="#site"            >4.12 - Customizing the install process</a>
<li><a href="#Multiple"        >4.13 - How can I install a number of similar
d63 1
a63 1
<li><a href="#getdmesg"        >4.14 - How can I get a dmesg(8) to report an
d65 2
a66 2
<li><a href="#Multibooting"    >4.15 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href="#More"            >4.16 - Details for a more complex install</a>
d68 4
a71 4
  <li><a href="#MoreNetwork"   >4.16.1 - Setting up the network</a>
  <li><a href="#MoreTimeZone"  >4.16.2 - Setting the time zone</a>
  <li><a href="#Morefdisk"     >4.16.3 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel" >4.16.4 - Custom disklabel layout</a>
d73 1
a73 1
<li><a href="#AddThoughts"     >4.17 - Some additional thoughts on
d625 30
a654 1
<h2 id="site">4.12 - Customizing the install process</h2>
d763 1
a763 1
<h2 id="Multiple">4.13 - How can I install a number of similar systems?</h2>
d809 1
a809 1
<h2 id="getdmesg">4.14 - How can I get a dmesg(8) to report an install
d1094 1
a1094 1
<h2 id="More">4.16 - Details for a more complex install</h2>
d1099 1
a1099 1
<h3 id="MoreNetwork">4.16.1 - Setting up the network</h3>
d1172 1
a1172 1
<h3 id="MoreTimeZone">4.16.2 - Setting the Time Zone</h3>
d1235 1
a1235 1
<h3 id="Morefdisk">4.16.3 - Custom fdisk(8) layout</h3>
d1541 1
a1541 1
<h3 id="Moredisklabel">4.16.4 - Custom disklabel layout</h3>
@


1.410
log
@some more shuffling and renumbering.
the multiboot section is going further down, making room for more
polished sections. move a small bit of the verbose installer
walkthrough back up and lose the rest.
@
text
@d57 2
a58 14
<li><a href="#InstProb"        >4.11 - Common installation problems</a>
  <ul>
  <li><a href="#noboot"        >4.11.1 - My i386 won't boot after install</a>
  <li><a href="#sshhang"       >4.11.2 - My machine booted, but hung at the
                                ssh-keygen process</a>
  <li><a href="#noftplist"     >4.11.3 - Why don't the downloadable images
                                include SHA256.sig?</a>
  <li><a href="#blankfdisk"    >4.11.4 - My fdisk partition table is trashed
                                or blank!</a>
  <li><a href="#noflopcd"      >4.11.5 - I have no floppy or CD-ROM on my
                                machine</a>
  <li><a href="#shamismatch"   >4.11.6 - I got the message "Failed to change
                                directory" when doing an install!</a>
  </ul>
d591 1
a591 7
<h2 id="InstProb">4.11 - Common installation problems</h2>

<h3 id="noboot">4.11.1 - My i386 won't boot after install</h3>

Your install seemed to go fine, but on first boot, you see no sign of
OpenBSD attempting to boot.
There are a few common reasons for this problem:
d594 29
a622 144
<li><b>No partition was flagged active in fdisk(8).</b>  To fix this,
reboot the machine using the boot media, and flag a partition as "active"
(bootable) using
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>,
see <a href="faq14.html#fdisk">here</a>.

<li><b>No valid boot loader was ever put on the disk.</b>
If you hit enter or answer "w" to the
"Use (W)hole disk or (E)dit the MBR?" question during the install, or
use the <tt>reinit</tt> option of fdisk(8), the
OpenBSD boot record is installed on the Master Boot Record of the disk;
otherwise, the existing master boot code is untouched.
This will be a problem if no other boot record existed.
One solution is to boot the install media again, drop to the shell and invoke
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
to update the MBR code from the command-line:

<blockquote><pre>
# <b>fdisk -u wd0</b>
</pre></blockquote>

Note: the "update" option within the interactive ("-e") mode of
fdisk will not write the signature bytes required to make the disk
bootable.

<li><b>On some rare occasions, something may go wrong with the second
stage boot loader install.</b>
</ul>

<h3 id="sshhang">4.11.2 - My (older, slower) machine booted, but hung at the
ssh-keygen steps</h3>

It is very likely your machine is running fine, just taking a while
to do the ssh key generation process.
A SPARCStation2 or a slow 80486 may take <i>several hours</i> to complete the
<a href="http://man.openbsd.org/?query=ssh-keygen">ssh-keygen(1)</a>
steps.
Just let it finish; it is only done once per install.

<h3 id="noftplist">4.11.3 - Why aren't the downloadable images self-signed?</h3>

If you use <tt>installXX.iso</tt> or <tt>installXX.fs</tt>, you will
find the installer will complain about no <tt>SHA256.sig file</tt>, and
thus it can't verify the files during the installation.

<p>
It is not possible to <i>usefully</i> have the complete installer verify
the sets.
After all, if someone were to make a "rogue" installXX.iso file, they
would almost certainly change the installer to say everything verified
successfully.
Thus, you must <a href="faq3.html#Download">verify</a> your installer
downloads separately.

<h3 id="blankfdisk">4.11.4 - My fdisk partition table is trashed or blank!</h3>

Occasionally, a user will find a system will work, but when doing an
<tt>fdisk wd0</tt>, they see a completely blank (or sometimes, garbage)
partition table.
This is usually caused by having created a partition in
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
which had an offset of zero sectors, rather than the
<a href="#trackoffset">one track offset</a> it should have
(note: this is assuming the <a href="../i386.html">i386</a> or
<a href="../amd64.html">amd64</a> platform.
Other platforms have different offset requirements, some need NO
offset).
The system then <a href="faq14.html#BootAmd64">boots</a> using the PBR,
not using the MBR.

<p>
While this configuration can work, it can be a maintenance problem and
should be fixed.
To fix this, the disk's file systems must generally be recreated from
scratch (though if you REALLY know what you are doing, you may be able
to recreate just your disklabel and MBR, and only lose and have to
rebuild the first OpenBSD partition on the disk).

<h3 id="noflopcd">4.11.5 - I have no floppy or CD-ROM on my machine</h3>

Some computers people might want to run OpenBSD on lack any obvious way
to install OpenBSD, having no floppy or CD-ROM drive.
Either the machine was designed without it (for example, many laptops
and "flash" based machines, like Soekris and ALIX systems), or the boot
devices have failed or been removed, and would be difficult to replace.
Here are some tips and techniques you can use to get OpenBSD installed
on these systems.
<ul>
<li>Network boot, using <a href="faq6.html#PXE">PXE</a> (i386 or amd64) or
<a href="http://man.openbsd.org/?query=diskless">diskless(8)</a>
(other platforms).

<li>External USB CD-ROM or USB floppy, if your machine can boot from
one.

<li>USB Flash disk or hard disk, again if your computer can boot from
a USB device.
Prepare the device on another computer.
Boot from it, but choose the bsd.rd kernel, then install as normal.
You could also have the file sets pre-loaded on the flash media, as
well.

<li>Worst case, if none of the above is suitable, you can usually pull
the disk out of the target system, use suitable adapters to install it
in a "normal" computer, install OpenBSD, then replace the disk back in
the target system.
OpenBSD will then boot nicely in the target machine, though you will
very possibly have to adjust the network configuration.
You may also have to adjust <tt>/etc/fstab</tt> if you (for example)
did your install using a USB->IDE/SATA adapter or your target or install
machine uses
<a href="http://man.openbsd.org/?query=ahci">ahci(4)</a>
and the other does not.
IDE and some SATA disks will normally be recognized as
<a href="http://man.openbsd.org/?query=wd">wd(4)</a>
devices, but if attached to a USB adapter, will come up as
<a href="http://man.openbsd.org/?query=sd">sd(4)</a>.
A SATA disk attached to a
<a href="http://man.openbsd.org/?query=pciide">pciide(4)</a>
interface will come up as wd(4), but attached to an
<a href="http://man.openbsd.org/?query=ahci">ahci(4)</a>
interface, will come up as a sd(4) device.
However, once you correct the <tt>/etc/fstab</tt> file, the system
will generally boot just fine.
</ul>

In all cases, remember that the machine had an OS installed on it
before, and it was usually intended that the OS could be reloaded in the
field.
How this was originally intended to be done will often provide you a
good idea how you can install OpenBSD now.

<h3 id="shamismatch">4.11.6 - I got a "Continue without verification?" message
during install!</h3>

The verification process consists of fetching the <tt>SHA256.sig</tt>
file, then fetching all the install files to the local hard disk and
verifying their signatures.
If either the signature file is unavailable or there is insufficient
disk space for that extra copy of the files, verification will not be
possible, and you will get that message.
If you trust your source, this should not be a problem.
If you do not trust your source, you can manually verify the files as
detailed <a href="faq3.html#Download">here</a>.
@


1.409
log
@gee. subsubsections need renumbering to.
@
text
@d49 2
a50 1
<li><a href="#FilesNeeded"     >4.5 - What files are needed for
d52 1
a52 2
<li><a href="#Partitioning"    >4.6 - How should I partition my disk?</a>
<li><a href="#Multibooting"    >4.7 - Multibooting OpenBSD (amd64, i386)</a>
d76 1
a76 10
<li><a href="#Install"         >4.15 - Performing a simple install</a>
  <ul>
  <li><a href="#InstStart"     >4.15.1 - Starting the install</a>
  <li><a href="#InstQs"        >4.15.2 - The Install Questions</a>
  <li><a href="#InstDisks"     >4.15.3 - Setting up disks</a>
  <li><a href="#InstMedia"     >4.15.4 - Choosing installation media and file
                                sets</a>
  <li><a href="#Inst1stBoot"   >4.15.5 - First Boot!</a>
  <li><a href="#InstFinish"    >4.15.6 - One Last Thing...</a>
  </ul>
d369 43
d413 1
a413 1
<h2 id="FilesNeeded">4.5 - What files are needed for installation?</h2>
d476 1
a476 1
<h2 id="Partitioning">4.6 - How should I partition my disk?</h2>
d489 1
a489 1
    You can use mark some filesystems with
d509 1
a509 1
    fsck(8) requires more RAM for larger partions and on small-memory systems
a518 208

<h2 id="Multibooting">4.7 - Multibooting OpenBSD (amd64, i386)</h2>

Multibooting is having several operating systems on one computer, and
some means of selecting which OS is to boot.
It is <i>not</i> a trivial task!
If you don't understand what you are doing, you may end up deleting
large amounts of data from your computer.
New OpenBSD users are <i>strongly</i> encouraged to start with a blank hard
drive on a dedicated machine, and then practice your desired configuration on a
non-production system before attempting a multiboot configuration on a
production machine.
<a href="faq14.html">FAQ 14</a> has more information about the OpenBSD
boot process.

<p>
Preferably use one of the four <i>primary</i> MBR partitions for
booting OpenBSD (i.e., extended partitions may not work).

<p>
Here are several ways you might configure multibooting:

<h3>Setting active partitions</h3>

This is probably the most overlooked, but yet sometimes the best,
solution for multibooting.
Simply set the active partition in whatever OS you are currently using to
be the one you want to boot by default when you next boot.
Virtually every OS offers a program to do this.
OpenBSD's is <a href="faq14.html#fdisk">fdisk(8)</a>, and similarly
named programs are in many other operating systems.
This can be highly desirable for OSs or systems which take a
long time to shut down and reboot -- you can set it and start the reboot
process, then walk away, grab a cup of coffee, and come back to the system
booted the way you want it -- no waiting for the Magic Moment to select
the next OS.

<h3>Boot floppy</h3>

If you have a system that is used to boot OpenBSD infrequently (or don't
wish other users of the computer to note anything has changed), consider
using a boot floppy.
Simply use one of the <a href="#MkFlop">standard OpenBSD install floppies</a>,
and create an <tt>/etc/boot.conf</tt> file (yes, you will also have to create
an <tt>/etc</tt> directory on the floppy) with the contents:

<blockquote><pre>
   boot hd0a:/bsd
</pre></blockquote>

to cause the system to boot from hard drive 0, OpenBSD partition 'a',
kernel file <tt>/bsd</tt>.
Note you can also boot from other drives with a line like
<tt>boot hd2a:/bsd</tt> to boot off the third hard drive on your system.
To boot from OpenBSD, slip your floppy in,
reboot.
To boot from the other OS, eject the floppy, reboot.
(You can, of course, use this floppy to make a bootable CD, too.)

<p>
The
<a href="http://man.openbsd.org/?query=boot&amp;sec=8&amp;arch=i386">boot(8)</a>
program is loaded from the floppy, it then looks for and reads
<tt>/etc/boot.conf</tt>.
The <tt>boot hd0a:/bsd</tt> line instructs boot(8) where to load the
kernel from -- in this case, the first HD the BIOS sees.
Keep in mind that only a small file (<tt>/boot</tt>) is loaded
from the floppy -- the system loads the entire kernel off the hard disk,
so this only adds about five seconds to the boot process.

<h3>Windows Vista</h3>

With Vista, Microsoft dropped NTLDR support in favor of their newer Boot
Configuration Data (BCD) store used for controlling the boot
environment.
Since <tt>BOOT.INI</tt> is no longer available for customization,
a command-line utility, <tt>bcdedit</tt>, takes its place.

<p>
Once OpenBSD's PBR is copied to Windows' system partition, the following
three commands are required to select and boot OpenBSD when the system
is restarted:

<blockquote><pre>
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386" /application bootsector
The entry {05a763ce-d81b-11db-b3ec-000000000000} was successfully created.

C:\Windows\System32>
</pre></blockquote>

The GUID returned here, <tt>05a763ce-d81b-11db-b3ec-000000000000</tt>,
is shown for illustrative reasons.
Take note of the GUID displayed when you run this command as this value
will need to be copied into the following commands.
Simply copying the GUID shown above will not work.

<p>
The following two commands are also required:

<blockquote><pre>
C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} device boot
The operation completed successfully.

C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} path \openbsd.pbr
The operation completed successfully.

C:\Windows\system32>
</pre></blockquote>

This must be run in a shell with administrative privileges.
Once you've located cmd.exe, right click to be able to select
"run as administrator".

<p>
Note the absolute pathname of the imported PBR file.
Do not add a drive letter as it is assumed that the file is placed
in the system partition.
<tt>bcdedit</tt> will not complain about an explicit drive
specification, but the boot manager will later balk claiming that it
cannot resolve the designated pathname.

<p>
Upon rebooting, Vista will be listed first in the boot manager
ultimately followed by OpenBSD.
Selecting either entry will boot the corresponding operating system.

<p>
If nothing happens, look around in the control panel for boot information.
Most likely, your Windows boot is set up with no delay, so you don't see the
boot menu.
You can also use this to boot OpenBSD by default.

<p>
For more information, consult <tt>bcdedit</tt>'s help by issuing:

<blockquote><pre>
C:\Windows\system32> bcdedit /?
</pre></blockquote>

or by searching Microsoft's documentation and Website.
A good introduction can be found in this TechNet
<a href="http://technet.microsoft.com/en-us/library/cc721886%28WS.10%29.aspx">
Frequently Asked Questions</a> article.

<p>
For those who find manual configuration daunting,
<a href="http://neosmart.net/dl.php?id=1">EasyBCD</a> provides a GUI
alternative.

<h3>Windows 7</h3>

Microsoft has enhanced BCD since releasing Vista to allow multiple
versions of Windows to be booted through <tt>bcdedit</tt>.
Because of this greater control, five commands are required to configure a
multiboot environment with OpenBSD.

<p>
After copying OpenBSD's PBR into Windows 7's system partition, issue
the following command to initialize the needed registry hive:

<blockquote><pre>
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386" /application bootsector
The entry {0154a872-3d41-11de-bd67-a7060316bbb1} was successfully created.

C:\Windows\system32>
</pre></blockquote>

As admonished before, the
<tt>{0154a872-3d41-11de-bd67-a7060316bbb1}</tt> GUID is
system-dependent.
Note the value you receive when executing, and copy it into the following
commands:

<blockquote><pre>
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device boot
The operation completed successfully.

C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} path \openbsd.pbr
The operation completed successfully.

C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device partition=c:
The operation completed successfully.

C:\Windows\system32> bcdedit /displayorder {0154a872-3d41-11de-bd67-7060316bbb1} /addlast
The operation completed successfully.

C:\Windows\system32>
</pre></blockquote>

<h3>Other boot loaders</h3>

Some other bootloaders OpenBSD users have used successfully include
<a href="http://gag.sourceforge.net/">GAG</a>,
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>,
<a href="http://www.rodsbooks.com/refind/">rEFInd</a>,
and <a href="http://www.gnu.org/software/grub/">GRUB</a>.

<h3>Time zone issues</h3>

OpenBSD expects the computer's real-time clock to be set to UTC
(Universal Coordinated Time).
Some other OSs expect the real-time clock to be set to local time.
Obviously, this can create a bit of a problem if you are using both
OSs on the same computer.
One or the other is most likely going to have to be adapted.
More info on doing this is in <a href="faq8.html#TimeZone">FAQ 8 - Why
is my clock off by several hours?</a>

d575 3
a577 2
Apart from the installer itself, it contains a set of utilities needed for the
install script, but which is also useful for disaster recovery.
d989 1
a989 1
<h2 id="Install">4.15 - Performing a simple install</h2>
d991 11
a1001 5
OpenBSD's installer is designed to install and configure OpenBSD in
a very usable default configuration with a minimum of user intervention.
In fact, you can often just hit <tt>&lt;Enter&gt;</tt> a number of times to get
a good OpenBSD install, moving your hands to the rest of the keyboard only
to enter the root password and to reboot at the end.
d1004 2
a1005 4
The installer will create a partitioning plan based on the size of your
hard disk.
While this will not be a perfect layout for all people, it provides a
good starting point for figuring out what you need.
d1008 1
a1008 3
Installation notes for each platform are on the install CDs and the mirrors,
in the file <tt>INSTALL.&lt;plat&gt;</tt>, where <tt>&lt;plat&gt;</tt> is your
<a href="../plat.html">platform</a>, for instance, <tt>i386</tt>.
d1010 1
a1010 1
<h3 id="InstStart">4.15.1 - Starting the install</h3>
d1012 12
a1023 1
Whatever your means of booting is, it is now time to use it.
d1025 1
a1025 6
<p>
When your boot is successful, you will see a lot of text messages scroll by.
This text is the
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>,
the kernel telling you what devices have been found and how they are
hooked to other devices.
d1027 6
a1032 4
<p>
After the
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>,
you will see the first installer question:
d1035 1
a1035 6
...
root on rd0a swap on rd0b dump on rd0b
erase ^?, werase ^W, kill ^U, intr ^C, status ^T

Welcome to the OpenBSD/i386 X.X installation program.
(I)nstall, (U)pgrade, (A)utoinstall or (S)hell? <b>i</b>
d1038 8
a1045 1
Here's a quick rundown of the four options shown:
d1047 10
a1056 28
<ul>
  <li><b>Install:</b>
    Load OpenBSD onto the system, overwriting whatever may have been there.
    Note that it is possible to leave some partitions untouched in this process,
    such as <tt>/home</tt>.
  <li><b>Upgrade:</b>
    Install a new set of <a href="#FilesNeeded">install files</a> on this
    machine, but do not overwrite any configuration information, user data, or
    <a href="faq15.html">packages</a>.
    No disk formatting is done, nor are the <tt>/etc</tt> or <tt>/var</tt>
    directories overwritten.
    A few important notes:
    <ul>
      <li>After the install, you will have to manually merge some changes
        into your system before you can expect it to be fully functional.
      <li>The Upgrade process is not designed to skip releases.
        While this will sometimes work, it is not supported.
    </ul>
  <li><b>Autoinstall:</b>
    This option causes the installer to attempt to fetch an installer response
    file specified by the local DHCP server.
    This is documented in
    <a href="http://man.openbsd.org/?query=autoinstall">autoinstall(8)</a>.
  <li><b>Shell:</b>
    Sometimes, you need to perform repairs or maintenance to a system
    which will not (or should not) boot to a normal kernel.
    A number of important utilities are available here.
</ul>
d1058 1
a1058 1
We are assuming you choose <tt>(I)nstall</tt> here.
d1060 5
a1064 1
<h3 id="InstQs">4.15.2 - The Install Questions</h3>
d1066 4
a1069 7
Now we start getting the questions that will define how the system
is set up.
You will note that in most cases, all the questions are asked up front,
then the installation takes place.
If you have a slow computer or a slow Internet connection, you will be
able to answer these questions, walk away, come back later and only have
to reboot the system to complete the install.
d1072 2
a1073 4
At any prompt except password prompts you can escape to a shell by
typing '!'. Default answers are shown in []'s and are selected by
pressing RETURN.  You can exit this program at any time by pressing
Control-C, but this can leave your system in an inconsistent state.
d1075 1
a1075 1
Choose your keyboard layout ('?' or 'L' for list) [default] <b>&lt;Enter&gt;</b>
d1078 5
a1082 75
In most cases, the default keyboard layout (or terminal type if a serial
console install is being done) is appropriate; however don't just take
the default, respond appropriately.

<blockquote><pre>
System hostname? (short form, e.g. 'foo') <b>puffy</b>
</pre></blockquote>

This value, along with the DNS domain name (specified
<a href="#MoreNetwork">below</a>), will be saved in the
file <tt>/etc/myname</tt>, which is used during normal boot to set
the hostname of the system.
If you do not set the domain name of the system, the default value of
'my.domain' will be appended to the hostname.

<blockquote><pre>
Available network interfaces are: fxp0 vlan0.
Which one do you wish to configure? (or 'done') [fxp0] <b>&lt;Enter&gt;</b>
</pre></blockquote>

<tt>vlan0</tt> is the VLAN virtual interface.
For our purposes here, we are going to ignore this option and stick
to the physical interfaces.
If you have multiple physical interfaces, they will be listed here.
Note that they are identified by driver name, not generic Ethernet
devices.
In this case, <tt>fxp0</tt> refers to the first device using the
<a href="http://man.openbsd.org/?query=fxp">fxp(4)</a>
driver.
<tt>fxp1</tt> would be the second device, etc.
More on device naming is in <a href="faq6.html#Setup.if">FAQ 6</a>.

<p>
After selecting the device you wish to configure, you will now
configure it.
In many cases, you will want to configure it using DHCP:

<blockquote><pre>
IPv4 address for fxp0? (or 'dhcp' or 'none') [dhcp] <b>&lt;Enter&gt;</b>
DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
DHCPOFFER from 192.168.1.250 (08:00:20:94:0b:c8)
DHCPREQUEST on fxp0 to 255.255.255.255 port 67
DHCPACK from 192.168.1.250 (08:00:20:94:0b:c8)
bound to 192.168.1.199 -- renewal in 43200 seconds.
</pre></blockquote>

DHCP will configure the IP address, subnet mask, default gateway,
DNS domain name and DNS servers.
If you are not using DHCP, you will need to specify all these things
manually.
See the more detailed discussion
<a href="#MoreNetwork" id="backMoreNetwork">below</a>.

If you have any IPv6 configuration to do or there are other interfaces
to configure (or you don't like how you configured the previous one),
you can do that now, but in our case, we are done:

<blockquote><pre>
IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b>&lt;Enter&gt;</b>
Available network interfaces are: fxp0 vlan0.
Which one do you wish to configure? (or 'done') [done] <b>&lt;Enter&gt;</b>
Using DNS domainname example.org
Using DNS nameservers at 192.168.1.252
</pre></blockquote>

Now, we set the root account password:

<blockquote><pre>
Password for root account? (will not echo)
Password for root account? (again)
</pre></blockquote>

Use a secure password for the root account.
Remember, on the Internet, they ARE out to get into your computer, and
they will be trying lots of common passwords people think are really clever.
d1085 1
a1085 3
You will later be given a chance to create an administrative account and
disable remote (SSH) access to the root account, but you still want a
good password on your root account.
d1088 2
a1089 2
Start sshd(8) by default? [yes] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d1091 2
a1092 3
Usually, you will want sshd(8) running.
If your application has no need for sshd(8), there is a small
theoretical security advantage to not having it running.
d1094 1
a1094 2
<blockquote><pre>
Do you expect to run the X Window System? [yes] <b>&lt;Enter&gt;</b>
d1097 3
a1099 61
Not all systems will ask if you expect to run X, but those that do will
require a sysctl to be set in order to use it.
Answering "y" here will modify <tt>/etc/sysctl.conf</tt> to include the
line <tt>machdep.allowaperture=1</tt> or <tt>machdep.allowaperture=2</tt>,
depending on your system.
If your hardware is supported by the
<a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">drm(4)</a> driver,
<tt>machdep.allowaperture</tt> isn't needed and will be left alone.

If you do not intend to run X on this system or are not sure, answer 'no'
here, as you can easily change it by editing <tt>/etc/sysctl.conf</tt>
and rebooting, should you need to later.
There is a potential security advantage to leaving the
<a href="http://man.openbsd.org/?query=xf86">xf86(4)</a>
aperture driver disabled, as the graphics engine on a modern video card could
potentially be used to alter memory beyond the processor's control.
Note that non-graphical applications that require X libraries and
utilities to run do NOT need this sysctl to be set.

<blockquote><pre>
Do you want the X Window System to be started by xdm(1)? [no] <b>y</b>
</pre></blockquote>

<a href="http://man.openbsd.org/?query=xdm">xdm(1)</a>
starts the X environment at system boot.
We'd recommend doing this at install only if you are very confident
that X will work on your system by default.
Otherwise, <a href="faq11.html">configure X</a> before setting up
xdm(1).

<blockquote><pre>
Change the default console to com0? [no] <b>&lt;Enter&gt;</b>
</pre></blockquote>

Sometimes, you want a system to use a serial port as a console instead
of a keyboard and monitor.
Answering "yes" here will cause the installer to prompt you for a
serial bit rate and configure the system to use the serial port for
a console instead of the monitor and keyboard.
Some platforms do this automatically if no keyboard is attached.
These platforms will not ask this question.

<blockquote><pre>
Setup a user? (enter a lower-case loginname, or 'no') [no] <b>nick</b>
Full name for user nick? [nick] Nick Holland
Password for user nick? (will not echo)
Password for user nick? (again)
WARNING: root is targeted by password guessing attacks, pubkeys are safer.
Allow root ssh login? (yes, no, prohibit-password) [no] <b>&lt;Enter&gt;</b>
</pre></blockquote>

You are being given an opportunity to create a user OTHER than
root for system maintenance.
This user will be a member of the "wheel" group so they can run
<a href="http://man.openbsd.org/?query=su">su(1)</a>
and mail addressed to root will be forwarded to them.
If you create a user here, you are given the option of disabling root
logins via SSH, as you can do all administration remotely with the user
you have created.
If you later change your mind, you can edit the <tt>PermitRootLogin</tt>
line in <tt>/etc/ssh/sshd_config</tt>.
d1102 6
a1107 12
Note that if you wish to create the user, enter the user's name, not "y"
or "yes" here.

<blockquote><pre>
What timezone are you in? ('?' for list) [Canada/Mountain] <b>US/Michigan</b>
</pre></blockquote>

OpenBSD assumes your computer's real-time clock (RTC) is set to GMT, but
you also have to specify what time zone you are in.
There may be several valid answers for your physical location.
Hitting "?" at the prompt will help guide you to finding the best
(most specific) time zone name.
d1110 3
a1112 2
Note that the installer will quite often guess correctly for your
time zone, and you can then just hit enter.
d1115 4
a1118 8
More on setting the time zone
<a href="#MoreTimeZone" id="backMoreTimeZone">here</a>.

<h3 id="InstDisks">4.15.3 - Setting up disks</h3>

Laying out your disk appropriately is probably the most difficult part
of an OpenBSD install.
The good news is the default layout works well for learning OpenBSD.
d1121 1
a1121 34
Setting up disks in OpenBSD varies a bit between platforms.
For <a href="../i386.html">i386</a>, <a href="../amd64.html">amd64</a>,
<a href="../macppc.html">macppc</a>, <a href="../zaurus.html">zaurus</a>
and <a href="../armish.html">armish</a>,
disk setup is done in two stages.
First, the OpenBSD slice of the hard disk is defined using fdisk(8),
then that slice is subdivided into OpenBSD partitions using
disklabel(8).

<p>
Some users may be a little confused by the terminology used here.
It will appear we are using the word "partition" in two different ways.
This observation is correct.
There are two layers of partitioning in the above OpenBSD platforms, the
first, one could consider the operating system partitioning, which is
how multiple OSs on one computer mark out their own space on the disk,
and the second one is how the OpenBSD partition is sub-partitioned into
individual filesystems.
The first layer is visible as a disk partition to DOS, Windows, and any
other OS that uses this disk layout system.
The second layer of partitioning is visible only to OpenBSD and those
OSs which can directly read an OpenBSD filesystem.

<p>
OpenBSD's installer attempts to make your disk layout tasks easier
by having a sane default for "general" use.
Note that many people will still want to customize the default, or
use their own disk layout, but new users should probably start with
this configuration until they see what they need to do differently.
Note that the default layout will vary depending on how large your
disk is.

<p>
For now, we'll take the defaults on our 60GB disk.
d1124 1
a1124 13
Available disks are: wd0.
Which one is the root disk? (or 'done') [wd0] <b>&lt;Enter&gt;</b>
Disk: wd0       geometry: 7296/255/63 [117210240 Sectors]
Offset: 0       Signature: 0xAA55
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   1 -   7295 254  63 [           0:   117210177 ] NTFS
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Use (W)hole disk or (E)dit the MBR? [whole] <b>&lt;Enter&gt;</b>
Setting OpenBSD MBR partition to whole wd0...done.
d1127 4
a1130 2
Note that this disk has a pre-existing partition on it -- <i>using "whole"
disk will remove it!</i>
d1133 3
a1135 7
Setting up the "whole" disk for OpenBSD does a number of important things:
<ul>
<li>Erases any existing partitions on the disk.
<li>Creates an MBR and disk signature so the disk can be booted.
<li>Creates an OpenBSD partition using the entire disk.
<li>Sets that partition as "active."
</ul>
d1137 1
a1137 6
There are many times when you won't want to do that, including when...
<ul>
<li>You wish to retain other OS partitions.
<li>You wish to retain "setup," "suspend to disk" or other system partitions.
<li>You wish to build a <a href="#Multibooting">multibooting</a> system.
</ul>
d1139 4
a1142 5
Note that it is critical that a new (or never-used for booting) drive
has a valid MBR, a valid signature, an OpenBSD partition, and a
partition flagged as "active."
If you don't do these things using the "use whole disk" option,
you need to make sure they get done manually.
d1145 2
a1146 7
More information on fdisk partitioning your disk
<a href="#Morefdisk" id="BackMorefdisk">below</a>.

<p>
Now we will break up our OpenBSD fdisk partition into OpenBSD
disk partitions using
<a href="http://man.openbsd.org/?query=disklabel">disklabel(8)</a>:
d1149 2
a1150 16
Setting OpenBSD MBR partition to whole wd0...done.
The auto-allocated layout for wd0 is:
#                size           offset  fstype [fsize bsize  cpg]
  a:          1024.0M               64  4.2BSD   2048 16384    1 # /
  b:           510.5M          2097216    swap
  c:         57231.6M                0  unused
  d:          4096.0M          3142688  4.2BSD   2048 16384    1 # /tmp
  e:          4606.5M         11531264  4.2BSD   2048 16384    1 # /var
  f:          2048.0M         20965312  4.2BSD   2048 16384    1 # /usr
  g:          1024.0M         25159616  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          7054.3M         27256768  4.2BSD   2048 16384    1 # /usr/local
  i:          2025.3M         41704064  4.2BSD   2048 16384    1 # /usr/src
  j:          2048.0M         45851808  4.2BSD   2048 16384    1 # /usr/obj
  k:         32795.0M         50046112  4.2BSD   2048 16384    1 # /home
Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d1152 1
a1152 35
The installer has presented us with its proposed "auto layout" for
OpenBSD partitions on our disk, which we are going to accept.

<p>
If the proposed layout is not appropriate for your needs, you can,
of course, edit the default or customize it completely.
More details on the disklabel partitioning
<a href="#Moredisklabel" id="BackMoredisklabel">below</a>.

<p>
<b>NOTE for re-installs:</b>
The installer will not clear your old disklabel if you chose
"(C)ustom Layout" but you will need to re-specify each mount point
using the 'n' option in disklabel(8).

<p>
The installer now creates those partitions and creates file systems
on them using
<a href="http://man.openbsd.org/?query=newfs">newfs(8)</a>,
and mounts them for installation.

<p>
You will note there is a <i>c</i> partition we seem to have ignored.
This partition is your entire hard disk.
Don't attempt to alter it.

<h3 id="InstMedia">4.15.4 - Choosing installation media and file sets</h3>

Next, you will get a chance to choose your installation media.
In this case, we will install from an HTTP (web) server.

<blockquote><pre>
Location of sets? (cd disk http or 'done') [cd] <b>http</b>
HTTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none] <b>&lt;Enter&gt;</b>
Server? (hostname, list#, 'done' or '?') [ftp5.usa.openbsd.org] <b>mirror.example.org</b>
d1155 5
a1159 5
If you can't remember your favorite (or any) mirror's location, the
installer will often be able to come up with a default of a mirror which
will work well for you.
Otherwise, hit "?" to have a list of mirrors displayed, and select the
number of a mirror that will work well for you.
d1162 2
a1163 2
Server directory? [pub/OpenBSD/X.X/i386] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d1165 2
a1166 1
You can now adjust the list of <a href="#FilesNeeded">file sets</a>.
d1168 2
a1169 9
<blockquote><pre>
Select sets by entering a set name, a file name pattern or 'all'. De-select
sets by prepending a '-' to the set name, file name pattern or 'all'. Selected
sets are labelled '[X]'.
    [X] bsd           [X] baseXX.tgz    [X] gameXX.tgz    [X] xfontXX.tgz
    [X] bsd.rd        [X] compXX.tgz    [X] xbaseXX.tgz   [X] xservXX.tgz
    [ ] bsd.mp        [X] manXX.tgz     [X] xshareXX.tgz
Set name(s)? (or 'abort' or 'done') [done] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d1171 2
a1172 5
At a bare minimum, you need to have a kernel (<tt>bsd</tt>) and
baseXX.tgz file set.
Unless you know what you are doing, stick with the default sets.
You can add and remove file sets using "+" and "-" characters in front
of the file set name, and also use wildcards:
d1174 1
a1174 31
<ul>
<li><tt><b>-comp*</b></tt> removes <tt>compXX.tgz</tt>
<li><tt><b>+bsd.mp</b></tt> adds bsd.mp
<li><tt><b>-x*</b></tt> removes all X components
</ul>

But again, we'll take the default.
This machine is a single-processor system, so bsd.mp is not installed,
but everything else is.
If it could later be upgraded to a multi-processor system, you might
want to install bsd.mp as well (it is relatively very small, but then
it is easy to add later, too).

<p>
And now, we start our install!
This is the point at which you might want to come back later if you have
a slow computer or Internet connection.
With a fast computer and local files, this process may take just
a couple minutes or less!

<p>
If the install process can find the file <tt>SHA256.sig</tt> in the
install source AND it can find sufficient space to pull over the
install file sets to verify the signatures before installation, the file
sets will be verified.
If either of those cases are not true (i.e., installing from an
<tt>installXX.iso</tt> or <tt>installXX.fs</tt>, or your hard disk is
too small to "pre-load" the files), you will be presented with a message:

<blockquote><pre>
Directory does not contain SHA256.sig. Continue without verification? [no]
d1177 1
a1177 1
or
d1179 5
a1183 3
<blockquote><pre>
Cannot determine prefetch area. Continue without verification? [no]
</pre></blockquote>
d1185 1
a1185 5
Note that this is not saying that verification <i>failed</i>, it says
that verification can't be done.
If you are satisfied with your trust of the source of the files, hit "y"
and your install will take place as normal (though without the
"Get/Verify" steps you see below).
d1187 8
a1194 92
<blockquote><pre>
Get/Verify SHA256.sig   100% |**************************|  1534       00:01
Signature Verified
Verifying  bsd          100% |**************************| 10292 KB    00:05
Verifying  bsd.rd       100% |**************************|  6867 KB    00:03
Verifying  baseXX.tgz   100% |**************************| 51721 KB    00:26
Verifying  compXX.tgz   100% |**************************| 45434 KB    00:28
Verifying  manXX.tgz    100% |**************************|  8780 KB    00:06
Verifying  gameXX.tgz   100% |**************************|  2649 KB    00:02
Verifying  xbaseXX.tgz  100% |**************************| 16510 KB    00:06
Verifying  xshareXX.tgz 100% |**************************|  4383 KB    00:04
Verifying  xfontXX.tgz  100% |**************************| 39072 KB    00:17
Verifying  xservXX.tgz  100% |**************************| 18509 KB    00:15
Installing bsd          100% |**************************| 10384 KB    00:00
Installing bsd.rd       100% |**************************|  6803 KB    00:00
Installing baseXX.tgz   100% |**************************| 51618 KB    00:22
Extracting etc.tgz      100% |**************************|   109 KB    00:00
Installing compXX.tgz   100% |**************************| 45434 KB    00:17
Installing manXX.tgz    100% |**************************|  8780 KB    00:06
Installing gameXX.tgz   100% |**************************|  2649 KB    00:00
Installing xbaseXX.tgz  100% |**************************| 16510 KB    00:03
Installing xshareXX.tgz 100% |**************************|  4383 KB    00:05
Installing xfontXX.tgz  100% |**************************| 39072 KB    00:10
Installing xservXX.tgz  100% |**************************| 18509 KB    00:06
Location of sets? (cd disk http or 'done') [done] <b>&lt;Enter&gt;</b>
</pre></blockquote>

Yes, it is asking us again where we wish to install things from.
This is so that missed, forgotten or failed file sets can be
re-installed, and also so <a href="#site">custom file sets</a> can be
installed.

<p>
Again, we just take the default, we are done installing files.

<blockquote><pre>
Time appears wrong.  Set to 'Sat Oct 18 09:21:38 EST 2015'? [yes] <b>&lt;Enter&gt;</b>
</pre></blockquote>

If the system can reach an NTP server, you may get this message to
set the system clock accurately.

<blockquote><pre>
Saving configuration files...
Making all device nodes...done.

CONGRATULATIONS! Your OpenBSD install has been successfully completed!
To boot the new system, enter 'reboot' at the command prompt.
When you login to your new system the first time, please read your mail
using the 'mail' command.

#
</pre></blockquote>

<h3 id="Inst1stBoot">4.15.5 - First boot!</h3>

OpenBSD is now installed on your system and ready for its first
boot, but before you do...

<h4>Before you reboot</h4>

At this point, your system is installed and ready to be rebooted and
configured for service.
Before doing this, however, it would be wise to check out the
<a href="../errata.html">errata page</a> and see if there
are any bugs that would immediately impact you.

<h4>After you reboot</h4>

On your first boot, <a href="http://www.openssh.com">SSH</a> keys will
be generated.
On modern computers, this will take a few seconds - you may not even
notice it happening.
On older systems, it may take many minutes, potentially even an hour
or more for <i>really</i> slow systems.

<p>
One of your first things to read after you install your system is
<a href="http://man.openbsd.org/?query=afterboot">afterboot(8)</a>.

<p>
You may also find the following links useful:
<ul>
<li><a href="faq10.html#AddDelUser">Adding users in OpenBSD</a>
<li><a href="faq6.html#Setup">Initial network setup</a>
<li><a href="faq2.html#ManPages">Man pages of popular/useful commands</a>
<li><a href="http://man.openbsd.org">OpenBSD man pages on the web</a>
<li><a href="faq15.html">The OpenBSD packages and ports system for
installing software</a>
</ul>

<h3 id="InstFinish">4.15.6 - One last thing...</h3>
a1195 3
The OpenBSD developers ask you to <a href="#SendDmesg">Send in a copy of
your dmesg</a>.
This is really appreciated by the developers, and ultimately, all users.
@


1.408
log
@doubled word
@
text
@d59 2
a60 2
  <li><a href="#noboot"        >4.11.2 - My i386 won't boot after install</a>
  <li><a href="#sshhang"       >4.11.3 - My machine booted, but hung at the
d62 1
a62 1
  <li><a href="#noftplist"     >4.11.4 - Why don't the downloadable images
d64 1
a64 1
  <li><a href="#blankfdisk"    >4.11.5 - My fdisk partition table is trashed
d66 1
a66 1
  <li><a href="#noflopcd"      >4.11.6 - I have no floppy or CD-ROM on my
d68 1
a68 1
  <li><a href="#shamismatch"   >4.11.7 - I got the message "Failed to change
d778 1
a778 1
<h3 id="noboot">4.11.2 - My i386 won't boot after install</h3>
d814 1
a814 1
<h3 id="sshhang">4.11.3 - My (older, slower) machine booted, but hung at the
d824 1
a824 1
<h3 id="noftplist">4.11.4 - Why aren't the downloadable images self-signed?</h3>
d839 1
a839 1
<h3 id="blankfdisk">4.11.5 - My fdisk partition table is trashed or blank!</h3>
d863 1
a863 1
<h3 id="noflopcd">4.11.6 - I have no floppy or CD-ROM on my machine</h3>
d917 1
a917 1
<h3 id="shamismatch">4.11.7 - I got a "Continue without verification?" message
@


1.407
log
@renumber
@
text
@d479 1
a479 1
Read the section on automatic disc allocation section in the
@


1.406
log
@I kinda like to keep section 4.8 - How should I partition my disk?
very brief.  Move the "additional thoughts on partitioning"
to the death row at the end of the page for now.
@
text
@d49 1
a49 1
<li><a href="#FilesNeeded"     >4.7 - What files are needed for
d51 3
a53 3
<li><a href="#Partitioning"    >4.8 - How should I partition my disk?</a>
<li><a href="#Multibooting"    >4.9 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href="#SendDmesg"       >4.10 - Sending your dmesg to dmesg@@openbsd.org
d55 3
a57 3
<li><a href="#AddFileSet"      >4.11 - Adding a file set after install</a>
<li><a href="#bsd.rd"          >4.12 - What is <tt>bsd.rd</tt>?</a>
<li><a href="#InstProb"        >4.13 - Common installation problems</a>
d59 2
a60 2
  <li><a href="#noboot"        >4.13.2 - My i386 won't boot after install</a>
  <li><a href="#sshhang"       >4.13.3 - My machine booted, but hung at the
d62 1
a62 1
  <li><a href="#noftplist"     >4.13.4 - Why don't the downloadable images
d64 1
a64 1
  <li><a href="#blankfdisk"    >4.13.5 - My fdisk partition table is trashed
d66 1
a66 1
  <li><a href="#noflopcd"      >4.13.6 - I have no floppy or CD-ROM on my
d68 1
a68 1
  <li><a href="#shamismatch"   >4.13.7 - I got the message "Failed to change
d71 2
a72 2
<li><a href="#site"            >4.14 - Customizing the install process</a>
<li><a href="#Multiple"        >4.15 - How can I install a number of similar
d74 1
a74 1
<li><a href="#getdmesg"        >4.16 - How can I get a dmesg(8) to report an
d76 1
a76 1
<li><a href="#Install"         >4.5 - Performing a simple install</a>
d78 4
a81 4
  <li><a href="#InstStart"     >4.5.1 - Starting the install</a>
  <li><a href="#InstQs"        >4.5.2 - The Install Questions</a>
  <li><a href="#InstDisks"     >4.5.3 - Setting up disks</a>
  <li><a href="#InstMedia"     >4.5.4 - Choosing installation media and file
d83 2
a84 2
  <li><a href="#Inst1stBoot"   >4.5.5 - First Boot!</a>
  <li><a href="#InstFinish"    >4.5.6 - One Last Thing...</a>
d86 1
a86 1
<li><a href="#More"            >4.6 - Details for a more complex install</a>
d88 4
a91 4
  <li><a href="#MoreNetwork"   >4.6.1 - Setting up the network</a>
  <li><a href="#MoreTimeZone"  >4.6.2 - Setting the time zone</a>
  <li><a href="#Morefdisk"     >4.6.3 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel" >4.6.4 - Custom disklabel layout</a>
d93 2
d379 1
a379 1
<h2 id="FilesNeeded">4.7 - What files are needed for installation?</h2>
d442 1
a442 1
<h2 id="Partitioning">4.8 - How should I partition my disk?</h2>
d479 1
a479 1
Read the Automatic Disc Allocation section in the
d486 1
a486 1
<h2 id="Multibooting">4.9 - Multibooting OpenBSD (amd64, i386)</h2>
d693 1
a693 1
<h2 id= "SendDmesg">4.10 - Sending your dmesg to dmesg@@openbsd.org after the
d735 1
a735 1
<h2 id="AddFileSet">4.11 - Adding a file set after install</h2>
d745 1
a745 1
<h2 id="bsd.rd">4.12 - What is <tt>bsd.rd</tt>?</h2>
d776 1
a776 1
<h2 id="InstProb">4.13 - Common installation problems</h2>
d778 1
a778 1
<h3 id="noboot">4.13.2 - My i386 won't boot after install</h3>
d814 1
a814 1
<h3 id="sshhang">4.13.3 - My (older, slower) machine booted, but hung at the
d824 1
a824 1
<h3 id="noftplist">4.13.4 - Why aren't the downloadable images self-signed?</h3>
d839 1
a839 1
<h3 id="blankfdisk">4.13.5 - My fdisk partition table is trashed or blank!</h3>
d863 1
a863 1
<h3 id="noflopcd">4.13.6 - I have no floppy or CD-ROM on my machine</h3>
d917 1
a917 1
<h3 id="shamismatch">4.13.7 - I got a "Continue without verification?" message
d930 1
a930 1
<h2 id="site">4.14 - Customizing the install process</h2>
d1039 1
a1039 1
<h2 id="Multiple">4.15 - How can I install a number of similar systems?</h2>
d1085 1
a1085 1
<h2 id="getdmesg">4.16 - How can I get a dmesg(8) to report an install
d1162 1
a1162 1
<h2 id="Install">4.5 - Performing a simple install</h2>
d1181 1
a1181 1
<h3 id="InstStart">4.5.1 - Starting the install</h3>
d1239 1
a1239 1
<h3 id="InstQs">4.5.2 - The Install Questions</h3>
d1435 1
a1435 1
<h3 id="InstDisks">4.5.3 - Setting up disks</h3>
d1571 1
a1571 1
<h3 id="InstMedia">4.5.4 - Choosing installation media and file sets</h3>
d1709 1
a1709 1
<h3 id="Inst1stBoot">4.5.5 - First boot!</h3>
d1746 1
a1746 1
<h3 id="InstFinish">4.5.6 - One last thing...</h3>
d1752 1
a1752 1
<h2 id="More">4.6 - Details for a more complex install</h2>
d1757 1
a1757 1
<h3 id="MoreNetwork">4.6.1 - Setting up the network</h3>
d1830 1
a1830 1
<h3 id="MoreTimeZone">4.6.2 - Setting the Time Zone</h3>
d1893 1
a1893 1
<h3 id="Morefdisk">4.6.3 - Custom fdisk(8) layout</h3>
d2199 1
a2199 1
<h3 id="Moredisklabel">4.6.4 - Custom disklabel layout</h3>
d2513 1
a2513 1
<h2>Scratchpad: Some additional thoughts on partitioning</h2>
@


1.405
log
@Zap a long list and replace it with a simple reference to
disklabel(8) and hier(7).
@
text
@a482 75
<p>
Some additional thoughts on partitioning:
<ul>
 <li>For your first attempt at an experimentation system, one big
 <tt>/</tt> partition and swap may be easiest until you know how much
 space you need.
 By doing this, you will be sacrificing some of the default security
 features of OpenBSD that require separate filesystems for
 <tt>/</tt>, <tt>/tmp</tt>, <tt>/var</tt>, <tt>/usr</tt> and <tt>/home</tt>.
 However, you probably should not be going into production with your
 first OpenBSD install.
 <li>A system exposed to the Internet or other hostile forces should
 have a separate <tt>/var</tt> (and maybe even a separate
 <tt>/var/log</tt>) for logging.
 <li>A <tt>/home</tt> partition can be nice.
 New version of the OS?
 Wipe and reload everything else, leave your <tt>/home</tt> partition
 untouched.
 Remember to save a copy of your configuration files, though!
 <li>A separate partition for anything which may accumulate a large
 quantity of files that may need to be deleted can be faster to
 reformat and recreate than to delete.
 See the <a href="faq5.html#ProbObjPt">building from source FAQ</a>
 for an example (<tt>/usr/obj</tt>).
 <li>If you wish to rebuild your system from source for any reason,
 the source will be in <tt>/usr/src</tt>.
 <b>If you don't make a separate partition for <tt>/usr/src</tt>,
 make sure <tt>/usr</tt> has sufficient space.</b>
 <li>A commonly forgotten fact: you do <b>not</b> have to allocate
 all space on a drive when you set the system up!
 Since you will now find it a challenge to buy a new drive smaller than 100GB,
 it can make sense to leave a chunk of your drive unallocated.
 If you outgrow a partition, you can allocate a new partition from
 your unused space, <a href="faq10.html#DupFS">duplicate</a> your existing
 partition to the new partition, change
 <a href="http://man.openbsd.org/?query=fstab">/etc/fstab</a>
 to point to the new partition, remount, you now have more space.
 <li>If you make your partitions too close to the minimum size required,
 you will probably regret it later, when it is time to upgrade your
 system.
 <li>If you make very large partitions, keep in mind that performing
 filesystem checks using
 <a href="http://man.openbsd.org/?query=fsck">fsck(8)</a>
 requires about 1MB of RAM per gigabyte of filesystem size, and may be
 very time-consuming or not even feasible on older, slower systems.
 <li>If you permit users to write to <tt>/var/www</tt> (i.e., personal
 web pages), you might wish to put it on a separate partition, so you
 can use <a href="faq10.html#Quotas">quotas</a> to restrict the space
 they use, and if they fill the partition, no other parts of your
 system will be impacted.
 <li>You may also want to create an <tt>/altroot</tt> partition, as
 described in
 <a href="http://man.openbsd.org/?query=daily">daily(8)</a>.
 This can make a daily copy of your <tt>/</tt> partition, giving you
 an extra copy of your kernel and <tt>/etc</tt> configuration files should
 something happen to your root partition.
 Obviously, the <tt>/altroot</tt> partition needs to be at least as big
 as <tt>/</tt>.
 If you have a second drive and have something else duplicating the
 rest of your disk, either software
 <a href="http://man.openbsd.org/?query=softraid">softraid(4)</a>
 or a periodic copy using
 <a href="http://man.openbsd.org/?query=dump">dump(8)</a> and
 <a href="http://man.openbsd.org/?query=restore">restore(8)</a>,
 this disk can be bootable after the removal of the primary disk.
 <li>Compiling some <a href="faq15.html#Ports">ports</a> from source
 can take huge amounts of space on your <tt>/usr</tt> and <tt>/tmp</tt>
 partitions.
 This is another reason we suggest using
 <a href="faq15.html#PkgMgmt">pre-compiled packages</a> instead.
 <li>At least some editors use <tt>/tmp</tt> for scratch space, and
 this often needs to be as big or bigger than the largest file you edit.
 If you plan on editing 500MB files, your <tt>/tmp</tt> partition will
 need to be much larger than you might have planned on.
</ul>
d2511 75
@


1.404
log
@massage first part of 4.8. + some minor tweaks
@
text
@d477 5
a481 87
Given sufficient disk space, OpenBSD's installer will default to the
following partitions:

<ul>
<li><b>/ - root:</b>
In addition to being where the other file systems are mounted,
the root file system holds all the files needed to boot OpenBSD.
This includes the kernel, plus the basic utilities in <tt>/sbin</tt> and
<tt>/bin</tt>, the configuration files in <tt>/etc</tt>, and the device
directory, <tt>/dev</tt> which are all used to bring up the system.
The root file system can be as small as 60MB, though 200MB to 500MB is
easier for a machine that will last through many upgrade cycles.
The 'a' partition of your boot drive becomes your root partition
automatically.
SOME platforms place restrictions on the physical location on the
disk (i.e., must be at start of disk) in order to boot.

<li><b>Swap:</b>
In addition to swap, this partition is also used for storing core dumps
after system crashes, so it is suggested that the swap space (if set
up at all) be bigger than the largest amount of RAM you are likely to
ever install on the machine.

<li><b>/tmp:</b>
This is a world-writeable directory used for (as the name implies!)
temporary storage.
Most systems can get by with very modest amounts of storage here, 50MB is
usually many times what you should ever need, though there are a few
applications which can use much, much more.
While this directory is world-writable, when it is a separate partition,
OpenBSD defaults to mounting it nodev and nosuid, which minimizes how
it can be used to abuse your system.
Files left unattended here will be purged automatically, so this is NOT for
long term storage!

<li><b>/var:</b>
This directory and mount point is used for a LOT of things, and depending
on your uses, may be a prime candidate to subdivide into more partitions.
Some of the things that end up here (and potential additional mount points):
<ul>
<li><tt>/var/log</tt>: System logs
<li><tt>/var/mail</tt>: Incoming mail boxes
<li><tt>/var/spool</tt>: Outgoing mail (and other things)
<li><tt>/var/www</tt>: OpenBSD's web server lives here
<li><tt>/var/crash</tt>: If the system panics, it will attempt to
   save a core dump in the swap partition before rebooting.
   This core dump will then be saved here upon
   reboot, so <tt>/var</tt> will need at least as much free space as
   the system has RAM for this to work automatically.
 </ul>

<li><b>/usr:</b>
This is where most of OpenBSD resides.
Program binaries, libraries, documentation, manual pages, etc. are all
located in the <tt>/usr</tt> directory.
The files in this mount point are relatively unchanging -- in many
cases, you could easily mount the <tt>/usr</tt> partition read-only with
no other system changes until your next upgrade or update.

<li><b>/usr/X11R6:</b>
This is where the X Window system resides.
The X binaries, font files, libraries, etc. all are here.
The only part of X not here is the configuration files.

<li><b>/usr/local:</b>
On a default OpenBSD installation, this mount point/directory is
completely empty.
It is used for locally installed binaries and libraries for local
applications.

<li><b>/usr/src:</b>
This directory holds the basic system source files, excluding X and
ports.
This directory is empty by default.
You have to load it as detailed in <a href="faq5.html#BldGetSrc">FAQ 5</a>.

<li><b>/usr/obj:</b>
This directory is populated during the build process with the object
and binary files.
Having this directory as a separate mount point allows it to be formatted
rather than erased file by file, which can be significantly faster.

<li><b>/home:</b>
This is where user files go.
Having this a separate partition makes it easy to completely reinstall
your system; simply don't format this partition on reload.
</ul>
@


1.403
log
@add missing markup
@
text
@d442 3
a444 6
Obviously, the answer to this question varies tremendously based on your
use of the system.
OpenBSD can be installed in as little as 512MB, but using that
small of a device is something for advanced users.
Until you have some experience, 8GB or more disk space is recommended
to start with.
d447 3
a449 4
Unlike many other OSs, OpenBSD encourages users to partition their
disk into a number of partitions, rather than having just one or two
big partitions.
There are a number of reasons to partition your disk:
d452 23
a474 31
<li><b>Security:</b> You can mark some filesystems as 'nosuid', 'nodev',
'noexec', 'readonly', etc.
This is done for you by the install process if you use the
recommended partitions.
<li><b>Stability:</b> A user, or a misbehaved program, can fill a
filesystem with garbage if they have write permissions for it.
Your critical programs, which hopefully run on a different filesystem,
do not get interrupted.
<li><b>Speed:</b> A filesystem which gets written to frequently may get
somewhat fragmented.
Luckily, the ffs filesystem that OpenBSD uses is not prone to
heavy fragmentation.
<li><b>Integrity:</b> If one filesystem is corrupted for some reason
then your other filesystems are most likely still OK.
<li><b>Size:</b> Many machines have limits on the area of a disk where
the boot ROM can load the kernel from.
In some cases, this limit may be very small (504MB for an older 486),
in other cases, a much larger limit
(for example, 2GB, 8GB, or 128GB on i386 systems).
As the kernel can end up anywhere within the root partition, the entire root
partition should be within this area.
A good guideline might be to keep your <tt>/</tt> partition completely below
2GB, unless you know your platform (and particular machine) can handle more
(or less) than that.
<li><b>Read-only:</b> You can mount partitions that you never or
rarely need to write to as "Read-only" most of the time, which will
eliminate the need for fsck(8) after a crash or power interruption,
and may help prevent unintended data alteration.
<li><b>fsck(8):</b> Very large partitions require more RAM to
fsck(8), and on small-memory systems, you can end up having to use
swap, resulting in very long fsck times.
d851 1
a851 1
A quote from /usr/src/etc/root/root.mail:
d857 2
a858 2
# (dmesg; sysctl hw.sensors) | \
   mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@@openbsd.org
d884 1
a884 1
  <li>Make sure your email client does not reformat messages into "text-flow"
d904 2
a905 2
Apart from the installer itself, it contains a subset of utilities needed
for the install script, but is also useful for disaster recovery.
@


1.402
log
@sending dmesgs is important alright, and the quoted passage from
root.mail is more than clear enough about this.
just keep what actually matters here.
@
text
@d884 3
a886 3
<pre>
$ (dmesg; sysctl hw.sensors) > ~/dmesg.txt
</pre>
@


1.401
log
@rEFIt has been discontinued. Exactly three years ago, they've started
recommending to check out the fork rEFInd instead, which is actively
maintained and works. Time to flip the switch.
@
text
@a848 1

a862 5
Just to remind people, it's important for the OpenBSD developers to keep
track of what hardware works, and what hardware doesn't work perfectly,
including the hardware sensors that are found in machines.

<p>
d882 1
a882 40
Make sure you send email from an account that is able to also receive
email so developers can contact you if they have something they
want you to test or change in order to get your setup working.
It's not important at all to send the email from the same machine that
is running OpenBSD, so if that machine is unable to receive email, just

<blockquote><pre>
$ (dmesg; sysctl hw.sensors) | mail your-account@@yourmail.dom
</pre></blockquote>

and then forward that message to

<blockquote><pre>
 dmesg@@openbsd.org
</pre></blockquote>

where <tt>your-account@@yourmail.dom</tt> is your regular email account.

<p>
<b>NOTES</b>

<ul>
<li>Please send only GENERIC kernel dmesgs.
Custom kernels that have device drivers removed are not helpful.
<li>If you have a supported multiprocessor system and
normally run the GENERIC.MP kernel, it is helpful to developers to see the
dmesg output of both the GENERIC kernel and the GENERIC.MP kernel, so please
send both of them in separate emails.
<li>The dmesgs are received on a computer using the
<a href="http://man.openbsd.org/?query=spamd">spamd(8)</a>
spam rejection system.
This may cause your dmesg to not be accepted by the mail servers for a
period of time.
Be patient, after half an hour to an hour or so, it will get through.
</ul>

<p>
The method above is very easy, but if you have chosen not to configure mail on
your OpenBSD system, you should still send your dmesg to the developers.
Save your dmesg output to a text file.
d888 1
a888 2
Then transfer this file (using scp/USB drive/floppy/carrier-pigeon/...) to the
system you normally use for email.
d890 2
a891 1
check the following when using alternate email clients/systems:
d893 7
a899 9
<li>Configure your email client to send messages as plain text;
  do not use HTML-formatted email.
<li>Turn off any forced line break feature.
  Many email clients are configured to insert line breaks at 72 columns
  (the norm for mailing lists).
<li>Make sure your email client does not reformat messages into "text-flow"
  nonsense.
<li>Do not send the dmesg output as a file attachment.
  Put the dmesg output into the body of the message.
@


1.400
log
@temporarily move 4.5 and 4.6 to the end, they're in the way.
renumber later.
@
text
@d125 1
a125 1
    USB drive.
d846 1
a846 1
<a href="http://refit.sourceforge.net/">rEFIt</a>,
@


1.399
log
@no more VAX + minor tweaks
@
text
@a48 17
<li><a href="#Install"         >4.5 - Performing a simple install</a>
  <ul>
  <li><a href="#InstStart"     >4.5.1 - Starting the install</a>
  <li><a href="#InstQs"        >4.5.2 - The Install Questions</a>
  <li><a href="#InstDisks"     >4.5.3 - Setting up disks</a>
  <li><a href="#InstMedia"     >4.5.4 - Choosing installation media and file
                                sets</a>
  <li><a href="#Inst1stBoot"   >4.5.5 - First Boot!</a>
  <li><a href="#InstFinish"    >4.5.6 - One Last Thing...</a>
  </ul>
<li><a href="#More"            >4.6 - Details for a more complex install</a>
  <ul>
  <li><a href="#MoreNetwork"   >4.6.1 - Setting up the network</a>
  <li><a href="#MoreTimeZone"  >4.6.2 - Setting the time zone</a>
  <li><a href="#Morefdisk"     >4.6.3 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel" >4.6.4 - Custom disklabel layout</a>
  </ul>
d76 17
a375 1
<h2 id="Install">4.5 - Performing a simple install</h2>
d377 4
a380 5
OpenBSD's installer is designed to install and configure OpenBSD in
a very usable default configuration with a minimum of user intervention.
In fact, you can often just hit <tt>&lt;Enter&gt;</tt> a number of times to get
a good OpenBSD install, moving your hands to the rest of the keyboard only
to enter the root password and to reboot at the end.
d382 24
a405 5
<p>
The installer will create a partitioning plan based on the size of your
hard disk.
While this will not be a perfect layout for all people, it provides a
good starting point for figuring out what you need.
d407 2
a408 4
<p>
Installation notes for each platform are on the install CDs and the mirrors,
in the file <tt>INSTALL.&lt;plat&gt;</tt>, where <tt>&lt;plat&gt;</tt> is your
<a href="../plat.html">platform</a>, for instance, <tt>i386</tt>.
d410 6
a415 1
<h3 id="InstStart">4.5.1 - Starting the install</h3>
d417 12
a428 1
Whatever your means of booting is, it is now time to use it.
d430 1
a430 6
<p>
When your boot is successful, you will see a lot of text messages scroll by.
This text is the
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>,
the kernel telling you what devices have been found and how they are
hooked to other devices.
d432 7
a438 4
<p>
After the
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>,
you will see the first installer question:
d440 1
a440 4
<blockquote><pre>
...
root on rd0a swap on rd0b dump on rd0b
erase ^?, werase ^W, kill ^U, intr ^C, status ^T
d442 6
a447 3
Welcome to the OpenBSD/i386 X.X installation program.
(I)nstall, (U)pgrade, (A)utoinstall or (S)hell? <b>i</b>
</pre></blockquote>
d449 5
a453 1
Here's a quick rundown of the four options shown:
d456 31
a486 26
  <li><b>Install:</b>
    Load OpenBSD onto the system, overwriting whatever may have been there.
    Note that it is possible to leave some partitions untouched in this process,
    such as <tt>/home</tt>.
  <li><b>Upgrade:</b>
    Install a new set of <a href="#FilesNeeded">install files</a> on this
    machine, but do not overwrite any configuration information, user data, or
    <a href="faq15.html">packages</a>.
    No disk formatting is done, nor are the <tt>/etc</tt> or <tt>/var</tt>
    directories overwritten.
    A few important notes:
    <ul>
      <li>After the install, you will have to manually merge some changes
        into your system before you can expect it to be fully functional.
      <li>The Upgrade process is not designed to skip releases.
        While this will sometimes work, it is not supported.
    </ul>
  <li><b>Autoinstall:</b>
    This option causes the installer to attempt to fetch an installer response
    file specified by the local DHCP server.
    This is documented in
    <a href="http://man.openbsd.org/?query=autoinstall">autoinstall(8)</a>.
  <li><b>Shell:</b>
    Sometimes, you need to perform repairs or maintenance to a system
    which will not (or should not) boot to a normal kernel.
    A number of important utilities are available here.
d489 2
a490 1
We are assuming you choose <tt>(I)nstall</tt> here.
d492 13
a504 1
<h3 id="InstQs">4.5.2 - The Install Questions</h3>
d506 5
a510 7
Now we start getting the questions that will define how the system
is set up.
You will note that in most cases, all the questions are asked up front,
then the installation takes place.
If you have a slow computer or a slow Internet connection, you will be
able to answer these questions, walk away, come back later and only have
to reboot the system to complete the install.
d512 11
a522 5
<blockquote><pre>
At any prompt except password prompts you can escape to a shell by
typing '!'. Default answers are shown in []'s and are selected by
pressing RETURN.  You can exit this program at any time by pressing
Control-C, but this can leave your system in an inconsistent state.
d524 15
a538 2
Choose your keyboard layout ('?' or 'L' for list) [default] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d540 36
a575 3
In most cases, the default keyboard layout (or terminal type if a serial
console install is being done) is appropriate; however don't just take
the default, respond appropriately.
d577 75
a651 3
<blockquote><pre>
System hostname? (short form, e.g. 'foo') <b>puffy</b>
</pre></blockquote>
d653 1
a653 6
This value, along with the DNS domain name (specified
<a href="#MoreNetwork">below</a>), will be saved in the
file <tt>/etc/myname</tt>, which is used during normal boot to set
the hostname of the system.
If you do not set the domain name of the system, the default value of
'my.domain' will be appended to the hostname.
d655 11
a665 4
<blockquote><pre>
Available network interfaces are: fxp0 vlan0.
Which one do you wish to configure? (or 'done') [fxp0] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d667 3
a669 11
<tt>vlan0</tt> is the VLAN virtual interface.
For our purposes here, we are going to ignore this option and stick
to the physical interfaces.
If you have multiple physical interfaces, they will be listed here.
Note that they are identified by driver name, not generic Ethernet
devices.
In this case, <tt>fxp0</tt> refers to the first device using the
<a href="http://man.openbsd.org/?query=fxp">fxp(4)</a>
driver.
<tt>fxp1</tt> would be the second device, etc.
More on device naming is in <a href="faq6.html#Setup.if">FAQ 6</a>.
d672 3
a674 3
After selecting the device you wish to configure, you will now
configure it.
In many cases, you will want to configure it using DHCP:
d676 12
a687 8
<blockquote><pre>
IPv4 address for fxp0? (or 'dhcp' or 'none') [dhcp] <b>&lt;Enter&gt;</b>
DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
DHCPOFFER from 192.168.1.250 (08:00:20:94:0b:c8)
DHCPREQUEST on fxp0 to 255.255.255.255 port 67
DHCPACK from 192.168.1.250 (08:00:20:94:0b:c8)
bound to 192.168.1.199 -- renewal in 43200 seconds.
</pre></blockquote>
d689 1
a689 6
DHCP will configure the IP address, subnet mask, default gateway,
DNS domain name and DNS servers.
If you are not using DHCP, you will need to specify all these things
manually.
See the more detailed discussion
<a href="#MoreNetwork" id="backMoreNetwork">below</a>.
d691 6
a696 3
If you have any IPv6 configuration to do or there are other interfaces
to configure (or you don't like how you configured the previous one),
you can do that now, but in our case, we are done:
d699 1
a699 5
IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b>&lt;Enter&gt;</b>
Available network interfaces are: fxp0 vlan0.
Which one do you wish to configure? (or 'done') [done] <b>&lt;Enter&gt;</b>
Using DNS domainname example.org
Using DNS nameservers at 192.168.1.252
d702 19
a720 1
Now, we set the root account password:
d722 1
a722 4
<blockquote><pre>
Password for root account? (will not echo)
Password for root account? (again)
</pre></blockquote>
d724 5
a728 3
Use a secure password for the root account.
Remember, on the Internet, they ARE out to get into your computer, and
they will be trying lots of common passwords people think are really clever.
d731 3
a733 3
You will later be given a chance to create an administrative account and
disable remote (SSH) access to the root account, but you still want a
good password on your root account.
d736 4
a739 1
Start sshd(8) by default? [yes] <b>&lt;Enter&gt;</b>
d742 8
a749 3
Usually, you will want sshd(8) running.
If your application has no need for sshd(8), there is a small
theoretical security advantage to not having it running.
d752 7
a758 1
Do you expect to run the X Window System? [yes] <b>&lt;Enter&gt;</b>
d761 3
a763 8
Not all systems will ask if you expect to run X, but those that do will
require a sysctl to be set in order to use it.
Answering "y" here will modify <tt>/etc/sysctl.conf</tt> to include the
line <tt>machdep.allowaperture=1</tt> or <tt>machdep.allowaperture=2</tt>,
depending on your system.
If your hardware is supported by the
<a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">drm(4)</a> driver,
<tt>machdep.allowaperture</tt> isn't needed and will be left alone.
d765 7
a771 9
If you do not intend to run X on this system or are not sure, answer 'no'
here, as you can easily change it by editing <tt>/etc/sysctl.conf</tt>
and rebooting, should you need to later.
There is a potential security advantage to leaving the
<a href="http://man.openbsd.org/?query=xf86">xf86(4)</a>
aperture driver disabled, as the graphics engine on a modern video card could
potentially be used to alter memory beyond the processor's control.
Note that non-graphical applications that require X libraries and
utilities to run do NOT need this sysctl to be set.
d773 4
a776 3
<blockquote><pre>
Do you want the X Window System to be started by xdm(1)? [no] <b>y</b>
</pre></blockquote>
d778 5
a782 6
<a href="http://man.openbsd.org/?query=xdm">xdm(1)</a>
starts the X environment at system boot.
We'd recommend doing this at install only if you are very confident
that X will work on your system by default.
Otherwise, <a href="faq11.html">configure X</a> before setting up
xdm(1).
d784 2
a785 11
<blockquote><pre>
Change the default console to com0? [no] <b>&lt;Enter&gt;</b>
</pre></blockquote>

Sometimes, you want a system to use a serial port as a console instead
of a keyboard and monitor.
Answering "yes" here will cause the installer to prompt you for a
serial bit rate and configure the system to use the serial port for
a console instead of the monitor and keyboard.
Some platforms do this automatically if no keyboard is attached.
These platforms will not ask this question.
d788 1
a788 6
Setup a user? (enter a lower-case loginname, or 'no') [no] <b>nick</b>
Full name for user nick? [nick] Nick Holland
Password for user nick? (will not echo)
Password for user nick? (again)
WARNING: root is targeted by password guessing attacks, pubkeys are safer.
Allow root ssh login? (yes, no, prohibit-password) [no] <b>&lt;Enter&gt;</b>
d791 4
a794 10
You are being given an opportunity to create a user OTHER than
root for system maintenance.
This user will be a member of the "wheel" group so they can run
<a href="http://man.openbsd.org/?query=su">su(1)</a>
and mail addressed to root will be forwarded to them.
If you create a user here, you are given the option of disabling root
logins via SSH, as you can do all administration remotely with the user
you have created.
If you later change your mind, you can edit the <tt>PermitRootLogin</tt>
line in <tt>/etc/ssh/sshd_config</tt>.
d797 3
a799 2
Note that if you wish to create the user, enter the user's name, not "y"
or "yes" here.
d801 1
a801 3
<blockquote><pre>
What timezone are you in? ('?' for list) [Canada/Mountain] <b>US/Michigan</b>
</pre></blockquote>
d803 4
a806 5
OpenBSD assumes your computer's real-time clock (RTC) is set to GMT, but
you also have to specify what time zone you are in.
There may be several valid answers for your physical location.
Hitting "?" at the prompt will help guide you to finding the best
(most specific) time zone name.
d809 2
a810 2
Note that the installer will quite often guess correctly for your
time zone, and you can then just hit enter.
d812 3
a814 3
<p>
More on setting the time zone
<a href="#MoreTimeZone" id="backMoreTimeZone">here</a>.
d816 2
a817 1
<h3 id="InstDisks">4.5.3 - Setting up disks</h3>
d819 5
a823 3
Laying out your disk appropriately is probably the most difficult part
of an OpenBSD install.
The good news is the default layout works well for learning OpenBSD.
d825 3
a827 9
<p>
Setting up disks in OpenBSD varies a bit between platforms.
For <a href="../i386.html">i386</a>, <a href="../amd64.html">amd64</a>,
<a href="../macppc.html">macppc</a>, <a href="../zaurus.html">zaurus</a>
and <a href="../armish.html">armish</a>,
disk setup is done in two stages.
First, the OpenBSD slice of the hard disk is defined using fdisk(8),
then that slice is subdivided into OpenBSD partitions using
disklabel(8).
d829 2
a830 13
<p>
Some users may be a little confused by the terminology used here.
It will appear we are using the word "partition" in two different ways.
This observation is correct.
There are two layers of partitioning in the above OpenBSD platforms, the
first, one could consider the operating system partitioning, which is
how multiple OSs on one computer mark out their own space on the disk,
and the second one is how the OpenBSD partition is sub-partitioned into
individual filesystems.
The first layer is visible as a disk partition to DOS, Windows, and any
other OS that uses this disk layout system.
The second layer of partitioning is visible only to OpenBSD and those
OSs which can directly read an OpenBSD filesystem.
d832 2
a833 8
<p>
OpenBSD's installer attempts to make your disk layout tasks easier
by having a sane default for "general" use.
Note that many people will still want to customize the default, or
use their own disk layout, but new users should probably start with
this configuration until they see what they need to do differently.
Note that the default layout will vary depending on how large your
disk is.
d835 2
a836 2
<p>
For now, we'll take the defaults on our 60GB disk.
d838 1
a838 14
<blockquote><pre>
Available disks are: wd0.
Which one is the root disk? (or 'done') [wd0] <b>&lt;Enter&gt;</b>
Disk: wd0       geometry: 7296/255/63 [117210240 Sectors]
Offset: 0       Signature: 0xAA55
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   1 -   7295 254  63 [           0:   117210177 ] NTFS
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Use (W)hole disk or (E)dit the MBR? [whole] <b>&lt;Enter&gt;</b>
Setting OpenBSD MBR partition to whole wd0...done.
d841 8
a848 2
Note that this disk has a pre-existing partition on it -- <i>using "whole"
disk will remove it!</i>
d850 1
a850 8
<p>
Setting up the "whole" disk for OpenBSD does a number of important things:
<ul>
<li>Erases any existing partitions on the disk.
<li>Creates an MBR and disk signature so the disk can be booted.
<li>Creates an OpenBSD partition using the entire disk.
<li>Sets that partition as "active."
</ul>
d852 8
a859 6
There are many times when you won't want to do that, including when...
<ul>
<li>You wish to retain other OS partitions.
<li>You wish to retain "setup," "suspend to disk" or other system partitions.
<li>You wish to build a <a href="#Multibooting">multibooting</a> system.
</ul>
d861 2
a862 5
Note that it is critical that a new (or never-used for booting) drive
has a valid MBR, a valid signature, an OpenBSD partition, and a
partition flagged as "active."
If you don't do these things using the "use whole disk" option,
you need to make sure they get done manually.
d864 3
a866 3
<p>
More information on fdisk partitioning your disk
<a href="#Morefdisk" id="BackMorefdisk">below</a>.
d869 1
a869 3
Now we will break up our OpenBSD fdisk partition into OpenBSD
disk partitions using
<a href="http://man.openbsd.org/?query=disklabel">disklabel(8)</a>:
d872 2
a873 16
Setting OpenBSD MBR partition to whole wd0...done.
The auto-allocated layout for wd0 is:
#                size           offset  fstype [fsize bsize  cpg]
  a:          1024.0M               64  4.2BSD   2048 16384    1 # /
  b:           510.5M          2097216    swap
  c:         57231.6M                0  unused
  d:          4096.0M          3142688  4.2BSD   2048 16384    1 # /tmp
  e:          4606.5M         11531264  4.2BSD   2048 16384    1 # /var
  f:          2048.0M         20965312  4.2BSD   2048 16384    1 # /usr
  g:          1024.0M         25159616  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          7054.3M         27256768  4.2BSD   2048 16384    1 # /usr/local
  i:          2025.3M         41704064  4.2BSD   2048 16384    1 # /usr/src
  j:          2048.0M         45851808  4.2BSD   2048 16384    1 # /usr/obj
  k:         32795.0M         50046112  4.2BSD   2048 16384    1 # /home
Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d875 2
a876 2
The installer has presented us with its proposed "auto layout" for
OpenBSD partitions on our disk, which we are going to accept.
d878 9
a886 5
<p>
If the proposed layout is not appropriate for your needs, you can,
of course, edit the default or customize it completely.
More details on the disklabel partitioning
<a href="#Moredisklabel" id="BackMoredisklabel">below</a>.
d888 5
a892 5
<p>
<b>NOTE for re-installs:</b>
The installer will not clear your old disklabel if you chose
"(C)ustom Layout" but you will need to re-specify each mount point
using the 'n' option in disklabel(8).
d894 3
a896 5
<p>
The installer now creates those partitions and creates file systems
on them using
<a href="http://man.openbsd.org/?query=newfs">newfs(8)</a>,
and mounts them for installation.
d898 1
a898 9
<p>
You will note there is a <i>c</i> partition we seem to have ignored.
This partition is your entire hard disk.
Don't attempt to alter it.

<h3 id="InstMedia">4.5.4 - Choosing installation media and file sets</h3>

Next, you will get a chance to choose your installation media.
In this case, we will install from an HTTP (web) server.
d901 1
a901 3
Location of sets? (cd disk http or 'done') [cd] <b>http</b>
HTTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none] <b>&lt;Enter&gt;</b>
Server? (hostname, list#, 'done' or '?') [ftp5.usa.openbsd.org] <b>mirror.example.org</b>
d904 1
a904 5
If you can't remember your favorite (or any) mirror's location, the
installer will often be able to come up with a default of a mirror which
will work well for you.
Otherwise, hit "?" to have a list of mirrors displayed, and select the
number of a mirror that will work well for you.
d906 2
a907 3
<blockquote><pre>
Server directory? [pub/OpenBSD/X.X/i386] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d909 14
a922 1
You can now adjust the list of <a href="#FilesNeeded">file sets</a>.
d924 4
a927 9
<blockquote><pre>
Select sets by entering a set name, a file name pattern or 'all'. De-select
sets by prepending a '-' to the set name, file name pattern or 'all'. Selected
sets are labelled '[X]'.
    [X] bsd           [X] baseXX.tgz    [X] gameXX.tgz    [X] xfontXX.tgz
    [X] bsd.rd        [X] compXX.tgz    [X] xbaseXX.tgz   [X] xservXX.tgz
    [ ] bsd.mp        [X] manXX.tgz     [X] xshareXX.tgz
Set name(s)? (or 'abort' or 'done') [done] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d929 3
a931 5
At a bare minimum, you need to have a kernel (<tt>bsd</tt>) and
baseXX.tgz file set.
Unless you know what you are doing, stick with the default sets.
You can add and remove file sets using "+" and "-" characters in front
of the file set name, and also use wildcards:
d933 4
d938 9
a946 3
<li><tt><b>-comp*</b></tt> removes <tt>compXX.tgz</tt>
<li><tt><b>+bsd.mp</b></tt> adds bsd.mp
<li><tt><b>-x*</b></tt> removes all X components
d949 4
a952 6
But again, we'll take the default.
This machine is a single-processor system, so bsd.mp is not installed,
but everything else is.
If it could later be upgraded to a multi-processor system, you might
want to install bsd.mp as well (it is relatively very small, but then
it is easy to add later, too).
d955 12
a966 5
And now, we start our install!
This is the point at which you might want to come back later if you have
a slow computer or Internet connection.
With a fast computer and local files, this process may take just
a couple minutes or less!
d969 5
a973 7
If the install process can find the file <tt>SHA256.sig</tt> in the
install source AND it can find sufficient space to pull over the
install file sets to verify the signatures before installation, the file
sets will be verified.
If either of those cases are not true (i.e., installing from an
<tt>installXX.iso</tt> or <tt>installXX.fs</tt>, or your hard disk is
too small to "pre-load" the files), you will be presented with a message:
d975 2
d978 6
a983 1
Directory does not contain SHA256.sig. Continue without verification? [no]
d986 3
a988 1
or
d990 1
a990 3
<blockquote><pre>
Cannot determine prefetch area. Continue without verification? [no]
</pre></blockquote>
d992 1
a992 5
Note that this is not saying that verification <i>failed</i>, it says
that verification can't be done.
If you are satisfied with your trust of the source of the files, hit "y"
and your install will take place as normal (though without the
"Get/Verify" steps you see below).
d994 3
a996 26
<blockquote><pre>
Get/Verify SHA256.sig   100% |**************************|  1534       00:01
Signature Verified
Verifying  bsd          100% |**************************| 10292 KB    00:05
Verifying  bsd.rd       100% |**************************|  6867 KB    00:03
Verifying  baseXX.tgz   100% |**************************| 51721 KB    00:26
Verifying  compXX.tgz   100% |**************************| 45434 KB    00:28
Verifying  manXX.tgz    100% |**************************|  8780 KB    00:06
Verifying  gameXX.tgz   100% |**************************|  2649 KB    00:02
Verifying  xbaseXX.tgz  100% |**************************| 16510 KB    00:06
Verifying  xshareXX.tgz 100% |**************************|  4383 KB    00:04
Verifying  xfontXX.tgz  100% |**************************| 39072 KB    00:17
Verifying  xservXX.tgz  100% |**************************| 18509 KB    00:15
Installing bsd          100% |**************************| 10384 KB    00:00
Installing bsd.rd       100% |**************************|  6803 KB    00:00
Installing baseXX.tgz   100% |**************************| 51618 KB    00:22
Extracting etc.tgz      100% |**************************|   109 KB    00:00
Installing compXX.tgz   100% |**************************| 45434 KB    00:17
Installing manXX.tgz    100% |**************************|  8780 KB    00:06
Installing gameXX.tgz   100% |**************************|  2649 KB    00:00
Installing xbaseXX.tgz  100% |**************************| 16510 KB    00:03
Installing xshareXX.tgz 100% |**************************|  4383 KB    00:05
Installing xfontXX.tgz  100% |**************************| 39072 KB    00:10
Installing xservXX.tgz  100% |**************************| 18509 KB    00:06
Location of sets? (cd disk http or 'done') [done] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d998 6
a1003 4
Yes, it is asking us again where we wish to install things from.
This is so that missed, forgotten or failed file sets can be
re-installed, and also so <a href="#site">custom file sets</a> can be
installed.
d1005 10
a1014 2
<p>
Again, we just take the default, we are done installing files.
d1017 1
a1017 1
Time appears wrong.  Set to 'Sat Oct 18 09:21:38 EST 2015'? [yes] <b>&lt;Enter&gt;</b>
d1020 3
a1022 2
If the system can reach an NTP server, you may get this message to
set the system clock accurately.
d1024 3
a1026 3
<blockquote><pre>
Saving configuration files...
Making all device nodes...done.
d1028 2
a1029 4
CONGRATULATIONS! Your OpenBSD install has been successfully completed!
To boot the new system, enter 'reboot' at the command prompt.
When you login to your new system the first time, please read your mail
using the 'mail' command.
d1031 6
a1036 2
#
</pre></blockquote>
d1038 1
a1038 1
<h3 id="Inst1stBoot">4.5.5 - First boot!</h3>
d1040 3
a1042 2
OpenBSD is now installed on your system and ready for its first
boot, but before you do...
d1044 8
a1051 1
<h4>Before you reboot</h4>
d1053 1
a1053 5
At this point, your system is installed and ready to be rebooted and
configured for service.
Before doing this, however, it would be wise to check out the
<a href="../errata.html">errata page</a> and see if there
are any bugs that would immediately impact you.
d1055 13
a1067 1
<h4>After you reboot</h4>
d1069 7
a1075 6
On your first boot, <a href="http://www.openssh.com">SSH</a> keys will
be generated.
On modern computers, this will take a few seconds - you may not even
notice it happening.
On older systems, it may take many minutes, potentially even an hour
or more for <i>really</i> slow systems.
d1077 1
a1077 3
<p>
One of your first things to read after you install your system is
<a href="http://man.openbsd.org/?query=afterboot">afterboot(8)</a>.
d1079 7
a1085 2
<p>
You may also find the following links useful:
d1087 3
a1089 7
<li><a href="faq10.html#AddDelUser">Adding users in OpenBSD</a>
<li><a href="faq6.html#Setup">Initial network setup</a>
<li><a href="faq2.html#ManPages">Man pages of popular/useful commands</a>
<li><a href="http://man.openbsd.org">OpenBSD man pages on the web</a>
<li><a href="faq15.html">The OpenBSD packages and ports system for
installing software</a>
</ul>
d1091 2
a1092 1
<h3 id="InstFinish">4.5.6 - One last thing...</h3>
d1094 6
a1099 3
The OpenBSD developers ask you to <a href="#SendDmesg">Send in a copy of
your dmesg</a>.
This is really appreciated by the developers, and ultimately, all users.
d1101 23
a1123 1
<h2 id="More">4.6 - Details for a more complex install</h2>
d1125 5
a1129 2
Sometimes you can't just take the defaults.
Here are some more details on parts of the installation process.
d1131 2
a1132 1
<h3 id="MoreNetwork">4.6.1 - Setting up the network</h3>
d1134 9
a1142 3
If you don't have a DHCP server available, you will have to set up
your network adapter(s) manually.
Here's an example:
d1144 1
a1144 6
<blockquote><pre>
Which one do you wish to configure? (or 'done') [xl0] <b>&lt;Enter&gt;</b>
IPv4 address for xl0? (or 'dhcp' or 'none') [dhcp] <b>192.168.1.37</b>
Netmask? [255.255.255.0] 255.255.254.0
IPv6 address for xl0? (or 'rtsol' or 'none') [none] <b>&lt;Enter&gt;</b>
</pre></blockquote>
d1146 1
a1146 3
After that set of questions, you will be given a chance to configure any other
network adapters that your machine has.
If you specify another network adapter here, the above questions repeat.
d1148 11
a1158 4
<blockquote><pre>
Available network interfaces are: xl0 vlan0.
Which one do you wish to configure? (or 'done') [done]
</pre></blockquote>
d1160 4
a1163 2
Now, you will set up the default gateway and DNS servers, things that
impact all network adapters:
d1165 6
a1170 6
<blockquote><pre>
Default IPv4 route? (IPv4 address, 'dhcp' or 'none') <b>192.168.1.1</b>
add net default: gateway 192.168.1.1
DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.org</b>
DNS nameservers? (IP address list or 'none') [none] <b>192.168.1.250 192.168.1.251</b>
</pre></blockquote>
d1172 7
a1178 1
Note that multiple DNS servers can be listed, separated by spaces.
d1180 5
a1184 7
<p>
Sometimes you will have to do something more, for example set up a
wireless access key or hard-set a duplex or speed setting (don't do this
unless you absolutely HAVE to, fixing your switch configuration is a
much better idea!).
You are now given a chance to drop to the shell and do any manual configuration
that you would like.
d1186 7
a1192 28
<blockquote><pre>
Do you want to do any manual network configuration? [no] <b>y</b>
Type 'exit' to return to install.
# <b>ifconfig xl0 media</b>
xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        lladdr 00:08:74:2c:df:9c
        groups: egress
        media: Ethernet autoselect (100baseTX full-duplex)
        status: active
        supported media:
                media 10baseT
                media 10baseT mediaopt full-duplex
                media 100baseTX
                media 100baseTX mediaopt full-duplex
                media autoselect
        inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
# <b>ifconfig xl0 media 100baseTX mediaopt full-duplex</b>
# <b>ifconfig xl0</b>
xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        lladdr 00:08:74:2c:df:9c
        groups: egress
        media: Ethernet 100baseTX full-duplex
        status: active
        inet6 fe80::208:74ff:fe2c:df9c%xl0 prefixlen 64 scopeid 0x1
        inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
# <b>exit</b>
<i>...setup resumes...</i>
</pre></blockquote>
d1194 1
a1194 1
<a href="#backMoreNetwork">(back to where we might have been)</a>
d1196 16
a1211 1
<h3 id="MoreTimeZone">4.6.2 - Setting the Time Zone</h3>
d1213 5
a1217 7
Time in Unix is not a simple thing (or put another way, time in Unix is
a <i>really</i> simple thing and human time is a politically manipulated
mess).
Time zone files help the system convert Unix time (the number of seconds
past midnight GMT, Jan 1, 1970) to human time, taking into account things
like time zones, daylight savings time (DST), DST rule changes, etc.
They also include the history of changes.
d1220 70
a1289 8
Multiple time zone definition files will sometimes give the same
<i>current</i> time, but may have different history.
For example, EST5EDT and US/Michigan have the same time NOW, but back in
1975, the rules were different, so if you were doing math with dates and
times that involved 1975, you would care about the differences.
You should use the most specific and accurate timezone file you can for
your region, rather than one that just gives the correct time at this
moment.
d1292 9
a1300 5
OpenBSD's installer will help you find an appropriate time zone file for
you if you are not sure.
Simply hit <tt>?</tt> at each prompt, and the installer will show you options.
If the first level of answers doesn't suit you, pick a continent or
country, and look at your options there:
d1302 8
a1309 20
<blockquote><pre>
What timezone are you in? ('?' for list) [right/EST5EDT] <b>?</b>
Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      UCT
America/     Cuba         GMT          Jamaica      Navajo       US/
Antarctica/  EET          GMT+0        Japan        PRC          UTC
Arctic/      EST          GMT-0        Kwajalein    PST8PDT      Universal
Asia/        EST5EDT      GMT0         Libya        Pacific/     W-SU
Atlantic/    Egypt        Greenwich    MET          Poland       WET
Australia/   Eire         HST          MST          Portugal     Zulu
Brazil/      Etc/         Hongkong     MST7MDT      ROC          posix/
CET          Europe/      Iceland      Mexico/      ROK          posixrules
CST6CDT      Factory      Indian/      Mideast/     Singapore    right/
Canada/      GB           Iran         NZ           Turkey
What timezone are you in? ('?' for list) [right/EST5EDT] <b>US</b>
What sub-timezone of 'US' are you in? ('?' for list) ?
Alaska          Central         Hawaii          Mountain        Samoa
Aleutian        East-Indiana    Indiana-Starke  Pacific
Arizona         Eastern         Michigan        Pacific-New
What sub-timezone of 'US' are you in? ('?' for list) <b>Michigan</b>
</pre></blockquote>
d1311 6
a1316 3
We've now set the time to "US/Michigan." This creates a symbolic link in
<tt>/etc</tt> pointing to the appropriate zoneinfo file in
<tt>/usr/share/zoneinfo</tt>, something like this:
d1319 3
a1321 1
/etc/localtime -> /usr/share/zoneinfo/US/Michigan
d1324 4
a1327 3
Note the directory <tt>right/</tt>, this directory includes leap second
adjustments, but otherwise duplicates the standard zoneinfo choices.
More <a href="faq8.html#NTPerror">here</a>.
d1330 7
a1336 1
<a href="#backMoreTimeZone">(back to where we might have been)</a>
d1338 5
a1342 8
<h3 id="Morefdisk">4.6.3 - Custom fdisk(8) layout</h3>

Note: only some OpenBSD platforms use fdisk at all, and usually, only
<a href="../i386.html">i386</a> and <a href="../amd64.html">amd64</a>
users will have to worry about getting fancy with fdisk.
Users of most other fdisk(8) using platforms generally don't have to
worry about multibooting or setup/diagnostic partitions.
For this reason, this section is focused on i386 and amd64.
d1345 1
a1345 4
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
is used to mark off the OpenBSD part of your hard disk.
It helps mark off the part of the disk used by OpenBSD from the parts used
by other OSs or system functions.
d1348 1
a1348 6
If you have a partition on your disk you wish to retain or wish to leave
space for another partition, you will NOT want to chose "(W)hole disk",
but will need to edit the partition table with
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>.
More information on manually running fdisk(8) can be found
<a href="faq14.html#fdisk">here</a>.
d1350 3
a1352 4
<b>Before working with any system that has data you don't wish to lose,
make sure you have a good backup.</b>
It is very easy in this process to clobber important data, so make sure
you are ready to get it back, if need be.
d1354 3
a1356 8
<p>
If you are adding OpenBSD to an existing system, you will probably
need to create some free space on your system before installing OpenBSD.
This will usually involve deleting or possibly reducing the size of
existing partitions.
The program <a href="http://gparted.sourceforge.net/">gparted</a>
has been found useful for shrinking the partitions of many popular OSs,
making it possible to install OpenBSD on the freed space.
d1359 1
a1359 5
In this example, we will assume we are starting with a blank 40GB disk
and wish to create a multiboot system, reserving 5GB at the beginning
of the disk for Windows, and the rest for OpenBSD.
Note that a blank drive has to have valid MBR boot code and signature
written to the disk before it can be booted.
d1362 5
a1366 3
The process is very much the same for working around an existing
partition, you just need to skip over the parts where we create the
Windows partition and worry about installing the MBR boot code.
d1369 3
a1371 3
Available disks are: wd0.
Which one is the root disk? (or 'done') [wd0] <b>&lt;Enter&gt;</b>
MBR has invalid signature; not showing it.
d1374 9
a1382 3
If the disk had a valid MBR in place, it would show you the existing
partition table, which can be a good way to show if a disk may have
data on it already.
d1384 5
a1388 2
<blockquote><pre>
Use (W)hole disk or (E)dit the MBR? [whole] <b>e</b>
d1390 4
a1393 4
You will now create a single MBR partition to contain your OpenBSD data. This
partition must have an id of 'A6'; must *NOT* overlap other partitions; and
must be marked as the only active partition.  Inside the fdisk command, the
'manual' command describes all the fdisk commands in detail.
d1395 1
a1395 12
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0x0
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Enter 'help' for information
fdisk: 1>
</pre></blockquote>
d1397 1
a1397 6
First of all notice the fdisk prompt.
The number "1" indicates the first level of partition tables -- if you
were editing an extended partition, it would be "2" (or bigger).
Extended partitions are partitions which have their own sub-partition
table, getting around the IBM AT four partition design limit.
Extended partitions won't be covered here.
d1400 10
a1409 3
First, we will make partition "0" a 5GB Windows partition (using NTFS),
and partition "1" will be our OpenBSD partition using the rest of the
disk.
d1412 6
a1417 6
fdisk: 1> <b>e 0</b>
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Partition id ('0' to disable)  [0 - FF]: [0] (? for help)
d1420 32
a1451 2
Since we don't know by memory what the partition ID is for NTFS, we hit
"?" here to get a list.
d1453 1
a1453 29
<blockquote><pre>
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>?</b>
Choose from the following Partition id values:
00 unused         20 Willowsoft     66 NetWare 386    A9 NetBSD
01 DOS FAT-12     24 NEC DOS        67 Novell         AB MacOS X boot
02 XENIX /        27 Win Recovery   68 Novell         AF MacOS X HFS+
03 XENIX /usr     38 Theos          69 Novell         B7 BSDI filesy*
04 DOS FAT-16     39 Plan 9         70 DiskSecure     B8 BSDI swap
05 Extended DOS   40 VENIX 286      75 PCIX           BF Solaris
06 DOS > 32MB     41 Lin/Minux DR   80 Minix (old)    C0 CTOS
07 NTFS           42 LinuxSwap DR   81 Minix (new)    C1 DRDOSs FAT12
08 AIX fs         43 Linux DR       82 Linux swap     C4 DRDOSs < 32M
09 AIX/Coherent   4D QNX 4.2 Pri    83 Linux files*   C6 DRDOSs >=32M
0A OS/2 Bootmgr   4E QNX 4.2 Sec    84 OS/2 hidden    C7 HPFS Disbled
0B Win95 FAT-32   4F QNX 4.2 Ter    85 Linux ext.     DB CPM/C.DOS/C*
0C Win95 FAT32L   50 DM             86 NT FAT VS      DE Dell Maint
0E DOS FAT-16     51 DM             87 NTFS VS        E1 SpeedStor
0F Extended LBA   52 CP/M or SysV   8E Linux LVM      E3 SpeedStor
10 OPUS           53 DM             93 Amoeba FS      E4 SpeedStor
11 OS/2 hidden    54 Ontrack        94 Amoeba BBT     EB BeOS/i386
12 Compaq Diag.   55 EZ-Drive       99 Mylex          EE EFI GPT
14 OS/2 hidden    56 Golden Bow     9F BSDI           EF EFI Sys
16 OS/2 hidden    5C Priam          A0 NotebookSave   F1 SpeedStor
17 OS/2 hidden    61 SpeedStor      A5 FreeBSD        F2 DOS 3.3+ Sec
18 AST swap       63 ISC, HURD, *   A6 OpenBSD        F4 SpeedStor
19 Willowtech     64 NetWare 2.xx   A7 NEXTSTEP       FF Xenix BBT
1C ThinkPad Rec   65 NetWare 3.xx   A8 MacOS X
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>07</b>
</pre></blockquote>
d1455 7
a1461 1
Now we define its starting and ending points:
d1464 6
a1469 1
Do you wish to edit in CHS mode? [n]
d1472 3
a1474 14
CHS mode allows you to specify disk space in Cylinders, Heads and Sectors.
Keep in mind that for modern hard disks, the CHS numbers are completely
bogus, just three numbers that translate to a sector on the disk, which
is translated to your drives physical geometry (which probably varies
across the disk anyway).

<p>
If you answer "y" here, you will be prompted for the starting and
ending cylinder, head and sector.
If you answer "no" here (as we will), you will be prompted for starting
sector and the size.
Editing by CHS is often easier when working around an existing partition,
starting sector and size is often easier when you want to quickly create
a partition of a given size.
d1477 1
a1477 1
offset: [0] <b>64</b>
d1480 6
a1485 7
<a name="trackoffset"></a>
<p>
The fdisk platforms need a gap before the first partition.
The exact amount will not matter on modern machines, OpenBSD defaults
to 64 sectors.
This is recommended for performance reasons on modern disks, and does
not matter on older disks.
d1488 2
a1489 2
size: [0] <b>5g</b>
Rounding to nearest cylinder: 10490381
d1492 11
a1502 6
The "Size" value can be the number of sectors (512 bytes each), or the
desired capacity when followed by a "k", "m" or "g".
When editing using offset and size, fdisk will round your partition so
it ends on a cylinder boundary (OpenBSD doesn't care about this, and it
is possible no modern OS cares about this, but some might have at one
time).
d1505 3
a1507 1
Now, let's look at our new partition:
d1510 6
a1515 11
fdisk:*1> p
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0x0
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   2 -    652 254  63 [          64:    10490381 ] NTFS
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
fdisk:*1>
d1518 6
a1523 2
Note that the prompt now includes an "*", this means there are unsaved
changes.
d1525 3
a1527 11
<p>
We've now created our Windows partition.
Note that this partition is so far just reserved space on the disk, it
isn't formatted; no file system exists here.
You will worry about that when you install Windows; we've accomplished
our goal of reserving space for the Windows partition to be created
later.

<p>
Now we create our OpenBSD partition.
In this case, the partition ID will be "A6".
d1530 5
a1534 8
fdisk:*1> e 1
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
Do you wish to edit in CHS mode? [n] <b>&lt;Enter&gt;</b>
offset: [0]
d1537 1
a1537 3
Uh-oh!
What's our offset?  Simple -- the offset of the previous partition plus
the size of the partition, in this case, 64+10490381 = 10490445.
d1540 2
a1541 3
offset: [0] <b>10490445</b>
size: [0] <b>*</b>
fdisk:*1>
d1544 3
a1546 3
Note that here, we entered "*" as the size, meaning "rest of the disk".
Again, we could have entered the size in sectors, "m" or "g" if we
wanted to leave space for something else.
d1549 3
a1551 1
Now we look at our partition table:
d1554 1
a1554 11
fdisk:*1> <b>p</b>
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0x0
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   1 -    652 254  63 [          64:    10490381 ] NTFS
 1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
fdisk:*1>
d1557 3
a1559 10
<b>WE AREN'T DONE YET!</b><br>
This disk is not yet bootable!
As it was a brand new disk, the disk's
<a href="faq14.html#BootAmd64">MBR</a> was completely blank.
The "Signature: 0x0" message there shows there is not a valid signature
(0xAA55), which indicates there definitely is not a valid boot code.
Of course, you could have a valid signature without valid boot code,
through either random bad luck or damage to the existing boot code, but
an invalid signature pretty well indicates you are lacking boot code, so
we will install it now using the "update" command:
d1562 52
a1613 3
fdisk:*1> <b>update</b>
Machine code updated.
fdisk:*1>
d1616 14
a1629 2
We also have to "flag" a partition as "active" so the boot ROM knows
what partition to boot from:
d1632 1
a1632 2
fdisk:*1> <b>f 1</b>
Partition 1 marked active.
d1635 55
a1689 1
Now, let's see how it looks:
d1692 3
a1694 2
fdisk:*1> <b>p</b>
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
d1699 2
a1700 2
 0: 07      0   1   1 -    652 254  63 [          64:    10490381 ] NTFS
*1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
d1703 2
a1704 1
fdisk:*1>
d1707 2
a1708 2
A checklist of things you want to make sure about before you exit
fdisk(8):
d1710 2
d1713 4
a1716 4
<li>Valid signature?
<li>non-overlapping partitions?
<li>OpenBSD partition with an "A6" id?
<li>Proper partition (probably OpenBSD) flagged active?
d1719 6
a1724 1
<a href="#BackMorefdisk">(back to where we may have been)</a>
d1726 5
a1730 1
<h3 id="Moredisklabel">4.6.4 - Custom disklabel layout</h3>
d1732 3
a1734 20
Inside the OpenBSD fdisk(8) partition, we use
<a href="http://man.openbsd.org/?query=disklabel">disklabel(8)</a>
to create OpenBSD file system partitions.
OpenBSD labels its file system partitions using sixteen letters, "a"
through "p".
Partition "a" on the boot disk is defined as the root partition,
"b" on the boot disk is the default swap partition.
"c" on all disks is the "whole disk" partition, it is used by programs
that have to have raw access to the physical disk, such as fdisk(8)
and disklabel(8).
The "c" partition is created automatically for you, and should not be
deleted or changed.
The remaining letters are available for you to define mount points on.
You may skip letters, you can define them in any order, and they can be
in any order on the disk (although some platforms do have a requirement
for where the "a" partition is).
You can also leave gaps in the disk that are unallocated, and allocate
them later, or potentially enlarge existing partitions later into that
unallocated space using
<a href="http://man.openbsd.org/?query=growfs">growfs(8)</a>.
d1737 24
a1760 4
All partitions which have native FFS partitions on them should be within
the OpenBSD fdisk(8) partition, however
<a href="faq14.html#foreignfs">non-OpenBSD</a> partitions can (and
usually should) be outside the OpenBSD fdisk partition.
d1763 4
a1766 2
More information on using disklabel can be found
<a href="faq14.html#disklabel">here</a>.
d1769 4
a1772 2
More information on the benefits of partitioning and strategies for
creating a good partitioning plan are <a href="#Partitioning">below</a>.
d1775 4
a1778 6
The OpenBSD installer will attempt to auto-partition your
disk in a usable, "general purpose" configuration, based on the size of
your disk.
If your disk is big enough, unused space will be allocated to the
<tt>/home</tt> partition.
While this is often quite useful, it doesn't satisfy all users' needs.
d1781 5
a1785 9
For our example, we'll assume we are building a static web server
for some of our friends to use.
We have a machine attached to a modest Internet connection, with a 40GB
disk, with most of it used for OpenBSD (with the same 5GB Windows
partition as the example above.
Why?  Maybe this system has a RAID controller which is supported by
OpenBSD, but manageable only from within Windows.
More likely, because the FAQ editor doesn't feel like maintaining lots
of different example systems).
d1787 2
a1788 27
<p>
The web pages served by an OpenBSD web server will be in
<tt>/var/www</tt>, and very little will be stored in <tt>/home</tt>, so
this indicates a definite change from the default that needs to be made.
For the sake of discussion, we'll also assume that we won't need to
rebuild the OS from source on this machine (we'll do that elsewhere).
The system will not run X, however being that some web applications
<a href="#FilesNeededX">expect X to be installed</a>, we will have X
installed.
The machine is not overly powerful, it can't have more than 1GB RAM in
it, and it is unlikely our application will ever desire more than that.

<p>
So, after a bit of thought, our plan is to partition the system like
this:
<ul>
<li><tt>/ - root</tt>: 100MB.  This will be 'a'.
<li><tt>swap</tt>: 1GB (so we'll always have enough space for a core dump),
 this will be partition 'b'
<li><tt>/usr</tt>: 2GB, partition d
<li><tt>/tmp</tt>: 100MB (we don't anticipate much use of this), partition e
<li><tt>/usr/local</tt>: 2GB, partition f
<li><tt>/usr/X11R6</tt>: 1GB, partition g
<li><tt>/home</tt>: 1GB, partition h
<li><tt>/var</tt>: 1GB (that's a lot of system log files), partition j
<li><tt>/var/www</tt>: rest of disk, partition k
</ul>
d1791 3
a1793 15
The auto-allocated layout for wd0 is:
#                size           offset  fstype [fsize bsize  cpg]
  a:          1024.0M         10490445  4.2BSD   2048 16384    1 # /
  b:           252.1M         12587597    swap
  c:         39205.7M                0  unused
  d:          2319.3M         13103933  4.2BSD   2048 16384    1 # /tmp
  e:          3653.9M         17853877  4.2BSD   2048 16384    1 # /var
  f:          1149.8M         25337016  4.2BSD   2048 16384    1 # /usr
  g:          1024.0M         27691862  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          3422.6M         29789014  4.2BSD   2048 16384    1 # /usr/local
  i:          5122.3M               63    NTFS
  j:          1848.7M         36798433  4.2BSD   2048 16384    1 # /usr/src
  k:          1848.7M         40584654  4.2BSD   2048 16384    1 # /usr/obj
  l:         17540.2M         44370875  4.2BSD   2048 16384    1 # /home
Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b>c</b>
d1796 5
a1800 3
If we had only minor revisions, we'd probably opt to "Edit" the custom
layout rather than starting from a clean slate, but we are going to do
things the hard way here.
d1803 1
a1803 15
You will now create an OpenBSD disklabel inside the OpenBSD MBR
partition. The disklabel defines how OpenBSD splits up the MBR partition
into OpenBSD partitions in which filesystems and swap space are created.
You must provide each filesystem's mountpoint in this program.

The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
start of the disk, NOT the start of the OpenBSD MBR partition.

Label editor (enter '?' for help at any prompt)
> <b>p</b>
OpenBSD area: 10490445-80293248; size: 69802803; free: 69802803
#                size           offset  fstype [fsize bsize  cpg]
  c:         80293248                0  unused
  i:         10490381               64    NTFS
>
d1806 1
a1806 10
Note there are already two partitions here -- the "c" partition which is
always there and created for you, but disklabel(8) has also noticed the
existing NTFS partition and assigned it a disklabel partition so it
could potentially be accessed by OpenBSD (note, at this time, NTFS
support is experimental and requires a custom kernel but FAT/FAT32
support is quite good).

<p>
We will now create our partitions.
We will start with the "a" partition, our root partition:
d1809 7
a1815 7
> <b>a a</b>
offset: [10490445] <b>&lt;Enter&gt;</b>
size: [69802803] <b>100m</b>
Rounding to cylinder: 208845
FS type: [4.2BSD]  <b>&lt;Enter&gt;</b>
mount point: [none] <b>/</b>
>
d1818 11
a1828 6
Note that disklabel defaulted to the first available OpenBSD sector on
the disk, which is what we want.
It also defaulted to a size of all available space, which is NOT what we
want.
Here we overrode it with our preferred size, which can be specified in
sectors, "M" or "G" here.
d1830 6
a1835 4
<p>
You will usually want to use the default FS type of "4.2BSD" for a
FFS (Fast File System) or FFS2 partition, though other types you may find
useful include "swap" and "RAID."
d1838 5
a1842 2
Finally is the mount point.
Our "a" partition is the root partition, by definition.
d1845 7
a1851 2
Now, we do swap, which is our 'b' partition (again, this is a
requirement -- 'b' on your boot disk is swap):
d1854 1
a1854 6
> <b>a b</b>
offset: [10699290] <b>&lt;Enter&gt;</b>
size: [69593958] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [swap] <b>&lt;Enter&gt;</b>
>
d1857 5
a1861 6
Again, disklabel correctly calculated our starting sector, and presented
us with a suggested size of "entire remaining space", which we again
overrode with our desired size.
Since this is the 'b' partition, disklabel assumed it was to be used
for swap, and when we confirmed that, it didn't bother to ask us a
mount point.
d1863 5
a1867 2
<p>
We are now ready to create the rest of the partitions.
d1870 24
a1893 42
> <b>a d</b>
offset: [12803805] <b>&lt;Enter&gt;</b>
size: [67489443] <b>2g</b>
Rounding to cylinder: 4209030
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/usr</b>
> <b>a e</b>
offset: [17012835] <b>&lt;Enter&gt;</b>
size: [63280413] <b>100m</b>
Rounding to cylinder: 208845
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/tmp</b>
> <b>a f</b>
offset: [17221680] <b>&lt;Enter&gt;</b>
size: [63071568] <b>2g</b>
Rounding to cylinder: 4209030
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/usr/local</b>
> <b>a g</b>
offset: [21430710] <b>&lt;Enter&gt;</b>
size: [58862538] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/usr/X11R6</b>
> <b>a h</b>
offset: [23535225] <b>&lt;Enter&gt;</b>
size: [56758023] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/home</b>
> <b>a j</b>
offset: [25639740] <b>&lt;Enter&gt;</b>
size: [54653508] <b>1g</b>
Rounding to cylinder: 2104515
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/var</b>
> <b>a k</b>
offset: [27744255] <b>&lt;Enter&gt;</b>
size: [52548993] <b>&lt;Enter&gt;</b>
FS type: [4.2BSD] <b>&lt;Enter&gt;</b>
mount point: [none] <b>/var/www</b>
>
d1896 4
a1899 5
Note that on the <tt>/var/www</tt> partition ("k"), we just took the
default to use all remaining available disk space.
With modern monstrously huge drives, this is usually a bad idea.
If you know you will never use it, don't allocate it, and save it for
some future use.
d1902 1
a1902 1
Now, let's look at our results, using the "p" and "p m" commands:
d1905 2
a1906 352
> <b>p</b>
OpenBSD area: 10490445-80293248; size: 69802803; free: 0
#                size           offset  fstype [fsize bsize  cpg]
  a:           208845         10490445  4.2BSD   2048 16384    1 # /
  b:          2104515         10699290    swap
  c:         80293248                0  unused
  d:          4209030         12803805  4.2BSD   2048 16384    1 # /usr
  e:           208845         17012835  4.2BSD   2048 16384    1 # /tmp
  f:          4209030         17221680  4.2BSD   2048 16384    1 # /usr/local
  g:          2104515         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          2104515         23535225  4.2BSD   2048 16384    1 # /home
  i:         10490381               64    NTFS
  j:          2104515         25639740  4.2BSD   2048 16384    1 # /var
  k:         52548993         27744255  4.2BSD   2048 16384    1 # /var/www
> <b>p m</b>
OpenBSD area: 10490445-80293248; size: 34083.4M; free: 0.0M
  #                size           offset  fstype [fsize bsize  cpg]
  a:           102.0M         10490445  4.2BSD   2048 16384    1 # /
  b:          1027.6M         10699290    swap
  c:         39205.7M                0  unused
  d:          2055.2M         12803805  4.2BSD   2048 16384    1 # /usr
  e:           102.0M         17012835  4.2BSD   2048 16384    1 # /tmp
  f:          2055.2M         17221680  4.2BSD   2048 16384    1 # /usr/local
  g:          1027.6M         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
  h:          1027.6M         23535225  4.2BSD   2048 16384    1 # /home
  i:          5122.3M               64    NTFS
  j:          1027.6M         25639740  4.2BSD   2048 16384    1 # /var
  k:         25658.7M         27744255  4.2BSD   2048 16384    1 # /var/www
>
</pre></blockquote>

Like with fdisk, you don't want your OpenBSD disklabel partitions to
overlap (other than the 'c' partition, which overlaps everything, of
course).

<p>
Write your changes and quit disklabel:

<blockquote><pre>
> <b>w</b>
> <b>q</b>
No label changes.
newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
enlarge last cylinder group
/dev/rwd0a: 102.0MB in 208844 sectors of 512 bytes
5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
/dev/rwd0h: 1027.6MB in 2104512 sectors of 512 bytes
6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
enlarge last cylinder group
/dev/rwd0e: 102.0MB in 208844 sectors of 512 bytes
5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
/dev/rwd0d: 2055.2MB in 4209028 sectors of 512 bytes
11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0g: 1027.6MB in 2104512 sectors of 512 bytes
6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0f: 2055.2MB in 4209028 sectors of 512 bytes
11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0j: 1027.6MB in 2104512 sectors of 512 bytes
6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/rwd0k: 25658.7MB in 52548992 sectors of 512 bytes
127 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
/dev/wd0a on /mnt type ffs (rw, asynchronous, local)
/dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/wd0e on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/wd0d on /mnt/usr type ffs (rw, asynchronous, local, nodev)
/dev/wd0g on /mnt/usr/X11R6 type ffs (rw, asynchronous, local, nodev)
/dev/wd0f on /mnt/usr/local type ffs (rw, asynchronous, local, nodev)
/dev/wd0j on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)
/dev/wd0k on /mnt/var/www type ffs (rw, asynchronous, local, nodev, nosuid)

Let's install the sets!
...
</pre></blockquote>

<a href="#BackMoredisklabel">(back to where we may have been)</a>

<h2 id="FilesNeeded">4.7 - What files are needed for installation?</h2>

The complete OpenBSD installation is broken up into a number of file sets.
New users are recommended to install all of them.

<ul>
  <li><b><tt>bsd</tt></b>
    - the kernel <b>(required)</b>
  <li><b><tt>bsd.mp</tt></b>
    - the multi-processor kernel (only on some platforms)
  <li><b><tt>bsd.rd</tt></b>
    - the <a href="#bsd.rd">RAM disk kernel</a>
  <li><b><tt>baseXX.tgz</tt></b>
    - the base OpenBSD system <b>(required)</b>
  <li><b><tt>compXX.tgz</tt></b>
    - the compiler collection, headers and libraries
  <li><b><tt>manXX.tgz</tt></b>
    - man pages
  <li><b><tt>gameXX.tgz</tt></b>
    - text-based games
  <li><b><tt>xbaseXX.tgz</tt></b>
    - the base libraries and utilities for X11
  <li><b><tt>xfontXX.tgz</tt></b>
    - X11's font server and fonts
  <li><b><tt>xservXX.tgz</tt></b>
    - X11's X servers
  <li><b><tt>xshareXX.tgz</tt></b>
    - X11's man pages, locale settings, includes
</ul>

<h3 id="FilesNeededX">Why do I have to install X for my non-graphical
application?</h3>

Even if you have no intention of running X, many third party
<a href="faq15.html">packages</a> require the libraries or other
utilities in X to be installed on your system.
These applications can sometimes be satisfied simply by installing
just <tt>xbaseXX.tgz</tt> - the rest of X is not always needed.
Many people who resist installing X on their system don't have a valid reason:

<ul>
<li>By itself, installing X does not cause any program to
execute on the system.
<li>By itself, installing X on a system does not change the
risk of external security issues.
<li>If someone is already ON your system, they can most likely install
whatever they wish, so the presence or absence of the X
does not appreciably change the situation.
<li>The only parts of X that are running are the parts
required by your application.
<li>The space required for X is relatively modest on modern hardware.
</ul>

<h3 id="FilesNeededComp">I don't want to install the compilers</h3>

Ok, don't, but please don't tell yourself this is for security reasons.
By the time someone is far enough into your system that the presence or
absence of the compiler matters, they are far enough in they can install
a compiler themselves.
However, the <tt>compXX.tgz</tt> file set is relatively big and has a lot of
files in it, so it can take a while to install and upgrade.
On slow or small systems, this can matter.

<h2 id="Partitioning">4.8 - How should I partition my disk?</h2>

Obviously, the answer to this question varies tremendously based on your
use of the system.
OpenBSD can be installed in as little as 512MB, but using that
small of a device is something for advanced users.
Until you have some experience, 8GB or more disk space is recommended
to start with.

<p>
Unlike many other OSs, OpenBSD encourages users to partition their
disk into a number of partitions, rather than having just one or two
big partitions.
There are a number of reasons to partition your disk:

<ul>
<li><b>Security:</b> You can mark some filesystems as 'nosuid', 'nodev',
'noexec', 'readonly', etc.
This is done for you by the install process if you use the
recommended partitions.
<li><b>Stability:</b> A user, or a misbehaved program, can fill a
filesystem with garbage if they have write permissions for it.
Your critical programs, which hopefully run on a different filesystem,
do not get interrupted.
<li><b>Speed:</b> A filesystem which gets written to frequently may get
somewhat fragmented.
Luckily, the ffs filesystem that OpenBSD uses is not prone to
heavy fragmentation.
<li><b>Integrity:</b> If one filesystem is corrupted for some reason
then your other filesystems are most likely still OK.
<li><b>Size:</b> Many machines have limits on the area of a disk where
the boot ROM can load the kernel from.
In some cases, this limit may be very small (504MB for an older 486),
in other cases, a much larger limit
(for example, 2GB, 8GB, or 128GB on i386 systems).
As the kernel can end up anywhere within the root partition, the entire root
partition should be within this area.
A good guideline might be to keep your <tt>/</tt> partition completely below
2GB, unless you know your platform (and particular machine) can handle more
(or less) than that.
<li><b>Read-only:</b> You can mount partitions that you never or
rarely need to write to as "Read-only" most of the time, which will
eliminate the need for fsck(8) after a crash or power interruption,
and may help prevent unintended data alteration.
<li><b>fsck(8):</b> Very large partitions require more RAM to
fsck(8), and on small-memory systems, you can end up having to use
swap, resulting in very long fsck times.
</ul>

Given sufficient disk space, OpenBSD's installer will default to the
following partitions:

<ul>
<li><b>/ - root:</b>
In addition to being where the other file systems are mounted,
the root file system holds all the files needed to boot OpenBSD.
This includes the kernel, plus the basic utilities in <tt>/sbin</tt> and
<tt>/bin</tt>, the configuration files in <tt>/etc</tt>, and the device
directory, <tt>/dev</tt> which are all used to bring up the system.
The root file system can be as small as 60MB, though 200MB to 500MB is
easier for a machine that will last through many upgrade cycles.
The 'a' partition of your boot drive becomes your root partition
automatically.
SOME platforms place restrictions on the physical location on the
disk (i.e., must be at start of disk) in order to boot.

<li><b>Swap:</b>
In addition to swap, this partition is also used for storing core dumps
after system crashes, so it is suggested that the swap space (if set
up at all) be bigger than the largest amount of RAM you are likely to
ever install on the machine.

<li><b>/tmp:</b>
This is a world-writeable directory used for (as the name implies!)
temporary storage.
Most systems can get by with very modest amounts of storage here, 50MB is
usually many times what you should ever need, though there are a few
applications which can use much, much more.
While this directory is world-writable, when it is a separate partition,
OpenBSD defaults to mounting it nodev and nosuid, which minimizes how
it can be used to abuse your system.
Files left unattended here will be purged automatically, so this is NOT for
long term storage!

<li><b>/var:</b>
This directory and mount point is used for a LOT of things, and depending
on your uses, may be a prime candidate to subdivide into more partitions.
Some of the things that end up here (and potential additional mount points):
<ul>
<li><tt>/var/log</tt>: System logs
<li><tt>/var/mail</tt>: Incoming mail boxes
<li><tt>/var/spool</tt>: Outgoing mail (and other things)
<li><tt>/var/www</tt>: OpenBSD's web server lives here
<li><tt>/var/crash</tt>: If the system panics, it will attempt to
   save a core dump in the swap partition before rebooting.
   This core dump will then be saved here upon
   reboot, so <tt>/var</tt> will need at least as much free space as
   the system has RAM for this to work automatically.
 </ul>

<li><b>/usr:</b>
This is where most of OpenBSD resides.
Program binaries, libraries, documentation, manual pages, etc. are all
located in the <tt>/usr</tt> directory.
The files in this mount point are relatively unchanging -- in many
cases, you could easily mount the <tt>/usr</tt> partition read-only with
no other system changes until your next upgrade or update.

<li><b>/usr/X11R6:</b>
This is where the X Window system resides.
The X binaries, font files, libraries, etc. all are here.
The only part of X not here is the configuration files.

<li><b>/usr/local:</b>
On a default OpenBSD installation, this mount point/directory is
completely empty.
It is used for locally installed binaries and libraries for local
applications.

<li><b>/usr/src:</b>
This directory holds the basic system source files, excluding X and
ports.
This directory is empty by default.
You have to load it as detailed in <a href="faq5.html#BldGetSrc">FAQ 5</a>.

<li><b>/usr/obj:</b>
This directory is populated during the build process with the object
and binary files.
Having this directory as a separate mount point allows it to be formatted
rather than erased file by file, which can be significantly faster.

<li><b>/home:</b>
This is where user files go.
Having this a separate partition makes it easy to completely reinstall
your system; simply don't format this partition on reload.
</ul>

<p>
Some additional thoughts on partitioning:
<ul>
 <li>For your first attempt at an experimentation system, one big
 <tt>/</tt> partition and swap may be easiest until you know how much
 space you need.
 By doing this, you will be sacrificing some of the default security
 features of OpenBSD that require separate filesystems for
 <tt>/</tt>, <tt>/tmp</tt>, <tt>/var</tt>, <tt>/usr</tt> and <tt>/home</tt>.
 However, you probably should not be going into production with your
 first OpenBSD install.
 <li>A system exposed to the Internet or other hostile forces should
 have a separate <tt>/var</tt> (and maybe even a separate
 <tt>/var/log</tt>) for logging.
 <li>A <tt>/home</tt> partition can be nice.
 New version of the OS?
 Wipe and reload everything else, leave your <tt>/home</tt> partition
 untouched.
 Remember to save a copy of your configuration files, though!
 <li>A separate partition for anything which may accumulate a large
 quantity of files that may need to be deleted can be faster to
 reformat and recreate than to delete.
 See the <a href="faq5.html#ProbObjPt">building from source FAQ</a>
 for an example (<tt>/usr/obj</tt>).
 <li>If you wish to rebuild your system from source for any reason,
 the source will be in <tt>/usr/src</tt>.
 <b>If you don't make a separate partition for <tt>/usr/src</tt>,
 make sure <tt>/usr</tt> has sufficient space.</b>
 <li>A commonly forgotten fact: you do <b>not</b> have to allocate
 all space on a drive when you set the system up!
 Since you will now find it a challenge to buy a new drive smaller than 100GB,
 it can make sense to leave a chunk of your drive unallocated.
 If you outgrow a partition, you can allocate a new partition from
 your unused space, <a href="faq10.html#DupFS">duplicate</a> your existing
 partition to the new partition, change
 <a href="http://man.openbsd.org/?query=fstab">/etc/fstab</a>
 to point to the new partition, remount, you now have more space.
 <li>If you make your partitions too close to the minimum size required,
 you will probably regret it later, when it is time to upgrade your
 system.
 <li>If you make very large partitions, keep in mind that performing
 filesystem checks using
 <a href="http://man.openbsd.org/?query=fsck">fsck(8)</a>
 requires about 1MB of RAM per gigabyte of filesystem size, and may be
 very time-consuming or not even feasible on older, slower systems.
 <li>If you permit users to write to <tt>/var/www</tt> (i.e., personal
 web pages), you might wish to put it on a separate partition, so you
 can use <a href="faq10.html#Quotas">quotas</a> to restrict the space
 they use, and if they fill the partition, no other parts of your
 system will be impacted.
 <li>You may also want to create an <tt>/altroot</tt> partition, as
 described in
 <a href="http://man.openbsd.org/?query=daily">daily(8)</a>.
 This can make a daily copy of your <tt>/</tt> partition, giving you
 an extra copy of your kernel and <tt>/etc</tt> configuration files should
 something happen to your root partition.
 Obviously, the <tt>/altroot</tt> partition needs to be at least as big
 as <tt>/</tt>.
 If you have a second drive and have something else duplicating the
 rest of your disk, either software
 <a href="http://man.openbsd.org/?query=softraid">softraid(4)</a>
 or a periodic copy using
 <a href="http://man.openbsd.org/?query=dump">dump(8)</a> and
 <a href="http://man.openbsd.org/?query=restore">restore(8)</a>,
 this disk can be bootable after the removal of the primary disk.
 <li>Compiling some <a href="faq15.html#Ports">ports</a> from source
 can take huge amounts of space on your <tt>/usr</tt> and <tt>/tmp</tt>
 partitions.
 This is another reason we suggest using
 <a href="faq15.html#PkgMgmt">pre-compiled packages</a> instead.
 <li>At least some editors use <tt>/tmp</tt> for scratch space, and
 this often needs to be as big or bigger than the largest file you edit.
 If you plan on editing 500MB files, your <tt>/tmp</tt> partition will
 need to be much larger than you might have planned on.
</ul>
d1908 2
a1909 1
<h2 id="Multibooting">4.9 - Multibooting OpenBSD (amd64, i386)</h2>
d1911 3
a1913 11
Multibooting is having several operating systems on one computer, and
some means of selecting which OS is to boot.
It is <i>not</i> a trivial task!
If you don't understand what you are doing, you may end up deleting
large amounts of data from your computer.
New OpenBSD users are <i>strongly</i> encouraged to start with a blank hard
drive on a dedicated machine, and then practice your desired configuration on a
non-production system before attempting a multiboot configuration on a
production machine.
<a href="faq14.html">FAQ 14</a> has more information about the OpenBSD
boot process.
d1915 4
a1918 3
<p>
Preferably use one of the four <i>primary</i> MBR partitions for
booting OpenBSD (i.e., extended partitions may not work).
d1920 2
a1921 2
<p>
Here are several ways you might configure multibooting:
d1923 1
a1923 1
<h3>Setting active partitions</h3>
d1925 2
a1926 12
This is probably the most overlooked, but yet sometimes the best,
solution for multibooting.
Simply set the active partition in whatever OS you are currently using to
be the one you want to boot by default when you next boot.
Virtually every OS offers a program to do this.
OpenBSD's is <a href="faq14.html#fdisk">fdisk(8)</a>, and similarly
named programs are in many other operating systems.
This can be highly desirable for OSs or systems which take a
long time to shut down and reboot -- you can set it and start the reboot
process, then walk away, grab a cup of coffee, and come back to the system
booted the way you want it -- no waiting for the Magic Moment to select
the next OS.
d1928 1
a1928 1
<h3>Boot floppy</h3>
d1930 5
a1934 6
If you have a system that is used to boot OpenBSD infrequently (or don't
wish other users of the computer to note anything has changed), consider
using a boot floppy.
Simply use one of the <a href="#MkFlop">standard OpenBSD install floppies</a>,
and create an <tt>/etc/boot.conf</tt> file (yes, you will also have to create
an <tt>/etc</tt> directory on the floppy) with the contents:
d1936 1
a1936 3
<blockquote><pre>
   boot hd0a:/bsd
</pre></blockquote>
d1938 6
a1943 8
to cause the system to boot from hard drive 0, OpenBSD partition 'a',
kernel file <tt>/bsd</tt>.
Note you can also boot from other drives with a line like
<tt>boot hd2a:/bsd</tt> to boot off the third hard drive on your system.
To boot from OpenBSD, slip your floppy in,
reboot.
To boot from the other OS, eject the floppy, reboot.
(You can, of course, use this floppy to make a bootable CD, too.)
d1946 2
a1947 9
The
<a href="http://man.openbsd.org/?query=boot&amp;sec=8&amp;arch=i386">boot(8)</a>
program is loaded from the floppy, it then looks for and reads
<tt>/etc/boot.conf</tt>.
The <tt>boot hd0a:/bsd</tt> line instructs boot(8) where to load the
kernel from -- in this case, the first HD the BIOS sees.
Keep in mind that only a small file (<tt>/boot</tt>) is loaded
from the floppy -- the system loads the entire kernel off the hard disk,
so this only adds about five seconds to the boot process.
d1949 10
a1958 1
<h3>Windows Vista</h3>
d1960 1
a1960 5
With Vista, Microsoft dropped NTLDR support in favor of their newer Boot
Configuration Data (BCD) store used for controlling the boot
environment.
Since <tt>BOOT.INI</tt> is no longer available for customization,
a command-line utility, <tt>bcdedit</tt>, takes its place.
d1962 3
a1964 4
<p>
Once OpenBSD's PBR is copied to Windows' system partition, the following
three commands are required to select and boot OpenBSD when the system
is restarted:
d1966 1
a1966 3
<blockquote><pre>
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386" /application bootsector
The entry {05a763ce-d81b-11db-b3ec-000000000000} was successfully created.
d1968 2
a1969 2
C:\Windows\System32>
</pre></blockquote>
d1971 1
a1971 5
The GUID returned here, <tt>05a763ce-d81b-11db-b3ec-000000000000</tt>,
is shown for illustrative reasons.
Take note of the GUID displayed when you run this command as this value
will need to be copied into the following commands.
Simply copying the GUID shown above will not work.
d1973 3
a1975 2
<p>
The following two commands are also required:
d1978 5
a1982 2
C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} device boot
The operation completed successfully.
d1984 3
a1986 2
C:\Windows\system32> bcdedit /set {05a763ce-d81b-11db-b3ec-000000000000} path \openbsd.pbr
The operation completed successfully.
d1988 3
a1990 1
C:\Windows\system32>
d1993 2
a1994 3
This must be run in a shell with administrative privileges.
Once you've located cmd.exe, right click to be able to select
"run as administrator".
d1996 6
a2001 7
<p>
Note the absolute pathname of the imported PBR file.
Do not add a drive letter as it is assumed that the file is placed
in the system partition.
<tt>bcdedit</tt> will not complain about an explicit drive
specification, but the boot manager will later balk claiming that it
cannot resolve the designated pathname.
d2003 1
a2003 4
<p>
Upon rebooting, Vista will be listed first in the boot manager
ultimately followed by OpenBSD.
Selecting either entry will boot the corresponding operating system.
d2006 6
a2011 7
If nothing happens, look around in the control panel for boot information.
Most likely, your Windows boot is set up with no delay, so you don't see the
boot menu.
You can also use this to boot OpenBSD by default.

<p>
For more information, consult <tt>bcdedit</tt>'s help by issuing:
d2014 26
a2039 1
C:\Windows\system32> bcdedit /?
d2042 3
a2044 4
or by searching Microsoft's documentation and Website.
A good introduction can be found in this TechNet
<a href="http://technet.microsoft.com/en-us/library/cc721886%28WS.10%29.aspx">
Frequently Asked Questions</a> article.
d2046 7
a2052 4
<p>
For those who find manual configuration daunting,
<a href="http://neosmart.net/dl.php?id=1">EasyBCD</a> provides a GUI
alternative.
d2054 9
a2062 6
<h3>Windows 7</h3>

Microsoft has enhanced BCD since releasing Vista to allow multiple
versions of Windows to be booted through <tt>bcdedit</tt>.
Because of this greater control, five commands are required to configure a
multiboot environment with OpenBSD.
d2065 5
a2069 2
After copying OpenBSD's PBR into Windows 7's system partition, issue
the following command to initialize the needed registry hive:
d2072 18
a2089 4
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386" /application bootsector
The entry {0154a872-3d41-11de-bd67-a7060316bbb1} was successfully created.

C:\Windows\system32>
d2092 3
a2094 5
As admonished before, the
<tt>{0154a872-3d41-11de-bd67-a7060316bbb1}</tt> GUID is
system-dependent.
Note the value you receive when executing, and copy it into the following
commands:
d2097 2
a2098 2
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device boot
The operation completed successfully.
d2100 3
a2102 2
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} path \openbsd.pbr
The operation completed successfully.
d2104 2
a2105 2
C:\Windows\system32> bcdedit /set {0154a872-3d41-11de-bd67-a7060316bbb1} device partition=c:
The operation completed successfully.
d2107 1
a2107 2
C:\Windows\system32> bcdedit /displayorder {0154a872-3d41-11de-bd67-7060316bbb1} /addlast
The operation completed successfully.
d2109 6
a2114 2
C:\Windows\system32>
</pre></blockquote>
d2116 5
a2120 1
<h3>Other boot loaders</h3>
d2122 7
a2128 5
Some other bootloaders OpenBSD users have used successfully include
<a href="http://gag.sourceforge.net/">GAG</a>,
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>,
<a href="http://refit.sourceforge.net/">rEFIt</a>,
and <a href="http://www.gnu.org/software/grub/">GRUB</a>.
d2130 4
d2135 8
a2142 1
<h3>Time zone issues</h3>
d2144 6
a2149 15
OpenBSD expects the computer's real-time clock to be set to UTC
(Universal Coordinated Time).
Some other OSs expect the real-time clock to be set to local time.
Obviously, this can create a bit of a problem if you are using both
OSs on the same computer.
One or the other is most likely going to have to be adapted.
More info on doing this is in <a href="faq8.html#TimeZone">FAQ 8 - Why
is my clock off by several hours?</a>

<h2 id= "SendDmesg">4.10 - Sending your dmesg to dmesg@@openbsd.org after the
install</h2>

Just to remind people, it's important for the OpenBSD developers to keep
track of what hardware works, and what hardware doesn't work perfectly,
including the hardware sensors that are found in machines.
d2152 3
a2154 1
A quote from /usr/src/etc/root/root.mail:
d2157 3
a2159 14
If you wish to ensure that OpenBSD runs better on your machines, please do us
a favor (after you have your mail system configured!) and type something like:

# (dmesg; sysctl hw.sensors) | \
   mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@@openbsd.org

so that we can see what kinds of configurations people are running.  As shown,
including a bit of information about your machine in the subject or the body
can help us even further.  We will use this information to improve device driver
support in future releases.  (Please do this using the supplied GENERIC kernel,
not for a custom compiled kernel, unless you're unable to boot the GENERIC
kernel.  If you have a multi-processor machine, dmesg results of both GENERIC.MP
and GENERIC kernels are appreciated.)  The device driver information we get from
this helps us fix existing drivers. Thank you!
d2162 3
a2164 5
Make sure you send email from an account that is able to also receive
email so developers can contact you if they have something they
want you to test or change in order to get your setup working.
It's not important at all to send the email from the same machine that
is running OpenBSD, so if that machine is unable to receive email, just
d2167 1
a2167 2
$ (dmesg; sysctl hw.sensors) | mail your-account@@yourmail.dom
</pre></blockquote>
d2169 4
a2172 1
and then forward that message to
d2174 11
a2184 2
<blockquote><pre>
 dmesg@@openbsd.org
d2187 6
a2192 1
where <tt>your-account@@yourmail.dom</tt> is your regular email account.
d2195 3
a2197 67
<b>NOTES</b>

<ul>
<li>Please send only GENERIC kernel dmesgs.
Custom kernels that have device drivers removed are not helpful.
<li>If you have a supported multiprocessor system and
normally run the GENERIC.MP kernel, it is helpful to developers to see the
dmesg output of both the GENERIC kernel and the GENERIC.MP kernel, so please
send both of them in separate emails.
<li>The dmesgs are received on a computer using the
<a href="http://man.openbsd.org/?query=spamd">spamd(8)</a>
spam rejection system.
This may cause your dmesg to not be accepted by the mail servers for a
period of time.
Be patient, after half an hour to an hour or so, it will get through.
</ul>

<p>
The method above is very easy, but if you have chosen not to configure mail on
your OpenBSD system, you should still send your dmesg to the developers.
Save your dmesg output to a text file.

<pre>
$ (dmesg; sysctl hw.sensors) > ~/dmesg.txt
</pre>

Then transfer this file (using scp/USB drive/floppy/carrier-pigeon/...) to the
system you normally use for email.
Since the dmesg output you send in is processed automatically, be sure to
check the following when using alternate email clients/systems:
<ul>
<li>Configure your email client to send messages as plain text;
  do not use HTML-formatted email.
<li>Turn off any forced line break feature.
  Many email clients are configured to insert line breaks at 72 columns
  (the norm for mailing lists).
<li>Make sure your email client does not reformat messages into "text-flow"
  nonsense.
<li>Do not send the dmesg output as a file attachment.
  Put the dmesg output into the body of the message.
</ul>

<h2 id="AddFileSet">4.11 - Adding a file set after install</h2>

If you chose to skip some file sets at install time, you might realize later
that you really do need them after all.

<p>
Simply <a href="#bsd.rd">boot bsd.rd</a> from your root file system.
Choose <tt>(U)pgrade</tt>.
When you get to the list of file sets, select the ones you need.

<h2 id="bsd.rd">4.12 - What is <tt>bsd.rd</tt>?</h2>

The <tt>bsd.rd</tt> RAM disk kernel is a live OpenBSD environment that runs
entirely in memory. 
Apart from the installer itself, it contains a subset of utilities needed
for the install script, but is also useful for disaster recovery.
The installation media automatically boots into <tt>bsd.rd</tt> and starts
the install script for you.

<p>
If you have a running OpenBSD system, <tt>bsd.rd</tt> is all you need to
reinstall or upgrade to a newer version of OpenBSD without the need for
any removable media.
To do so, simply <a href="faq3.html#Download">download and verify</a>
<tt>bsd.rd</tt>, place it on an existing filesystem and boot from it.
a2198 2
<p>
Booting from <tt>bsd.rd</tt> on an i386 system:
d2200 6
a2205 6
Using Drive: 0 Partition: 3
reading boot.....
probing: pc0 com0 com1 apm mem[639k 255M a20=on]
disk: fd0 hd0+
&gt;&gt; OpenBSD/i386 BOOT 3.26
boot&gt; <b>boot hd0a:/bsd.rd</b>
d2208 2
a2209 3
The general method of booting <tt>bsd.rd</tt> is to change your boot kernel
from <tt>/bsd</tt> to <tt>/bsd.rd</tt> through whatever means used on your
platform.
d2211 29
a2239 1
<h2 id="InstProb">4.13 - Common installation problems</h2>
d2241 1
a2241 1
<h3 id="noboot">4.13.2 - My i386 won't boot after install</h3>
d2243 3
a2245 3
Your install seemed to go fine, but on first boot, you see no sign of
OpenBSD attempting to boot.
There are a few common reasons for this problem:
d2247 5
a2251 6
<ul>
<li><b>No partition was flagged active in fdisk(8).</b>  To fix this,
reboot the machine using the boot media, and flag a partition as "active"
(bootable) using
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>,
see <a href="faq14.html#fdisk">here</a>.
d2253 8
a2260 10
<li><b>No valid boot loader was ever put on the disk.</b>
If you hit enter or answer "w" to the
"Use (W)hole disk or (E)dit the MBR?" question during the install, or
use the <tt>reinit</tt> option of fdisk(8), the
OpenBSD boot record is installed on the Master Boot Record of the disk;
otherwise, the existing master boot code is untouched.
This will be a problem if no other boot record existed.
One solution is to boot the install media again, drop to the shell and invoke
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
to update the MBR code from the command-line:
d2263 1
a2263 1
# <b>fdisk -u wd0</b>
d2266 7
a2272 3
Note: the "update" option within the interactive ("-e") mode of
fdisk will not write the signature bytes required to make the disk
bootable.
d2274 4
a2277 3
<li><b>On some rare occasions, something may go wrong with the second
stage boot loader install.</b>
</ul>
d2279 6
a2284 2
<h3 id="sshhang">4.13.3 - My (older, slower) machine booted, but hung at the
ssh-keygen steps</h3>
d2286 2
a2287 6
It is very likely your machine is running fine, just taking a while
to do the ssh key generation process.
A SPARCStation2 or a slow 80486 may take <i>several hours</i> to complete the
<a href="http://man.openbsd.org/?query=ssh-keygen">ssh-keygen(1)</a>
steps.
Just let it finish; it is only done once per install.
d2289 13
a2301 1
<h3 id="noftplist">4.13.4 - Why aren't the downloadable images self-signed?</h3>
d2303 2
a2304 3
If you use <tt>installXX.iso</tt> or <tt>installXX.fs</tt>, you will
find the installer will complain about no <tt>SHA256.sig file</tt>, and
thus it can't verify the files during the installation.
d2307 6
a2312 23
It is not possible to <i>usefully</i> have the complete installer verify
the sets.
After all, if someone were to make a "rogue" installXX.iso file, they
would almost certainly change the installer to say everything verified
successfully.
Thus, you must <a href="faq3.html#Download">verify</a> your installer
downloads separately.

<h3 id="blankfdisk">4.13.5 - My fdisk partition table is trashed or blank!</h3>

Occasionally, a user will find a system will work, but when doing an
<tt>fdisk wd0</tt>, they see a completely blank (or sometimes, garbage)
partition table.
This is usually caused by having created a partition in
<a href="http://man.openbsd.org/?query=fdisk">fdisk(8)</a>
which had an offset of zero sectors, rather than the
<a href="#trackoffset">one track offset</a> it should have
(note: this is assuming the <a href="../i386.html">i386</a> or
<a href="../amd64.html">amd64</a> platform.
Other platforms have different offset requirements, some need NO
offset).
The system then <a href="faq14.html#BootAmd64">boots</a> using the PBR,
not using the MBR.
d2315 2
a2316 6
While this configuration can work, it can be a maintenance problem and
should be fixed.
To fix this, the disk's file systems must generally be recreated from
scratch (though if you REALLY know what you are doing, you may be able
to recreate just your disklabel and MBR, and only lose and have to
rebuild the first OpenBSD partition on the disk).
d2318 10
a2327 1
<h3 id="noflopcd">4.13.6 - I have no floppy or CD-ROM on my machine</h3>
d2329 3
a2331 11
Some computers people might want to run OpenBSD on lack any obvious way
to install OpenBSD, having no floppy or CD-ROM drive.
Either the machine was designed without it (for example, many laptops
and "flash" based machines, like Soekris and ALIX systems), or the boot
devices have failed or been removed, and would be difficult to replace.
Here are some tips and techniques you can use to get OpenBSD installed
on these systems.
<ul>
<li>Network boot, using <a href="faq6.html#PXE">PXE</a> (i386 or amd64) or
<a href="http://man.openbsd.org/?query=diskless">diskless(8)</a>
(other platforms).
d2333 5
a2337 2
<li>External USB CD-ROM or USB floppy, if your machine can boot from
one.
d2339 3
a2341 6
<li>USB Flash disk or hard disk, again if your computer can boot from
a USB device.
Prepare the device on another computer.
Boot from it, but choose the bsd.rd kernel, then install as normal.
You could also have the file sets pre-loaded on the flash media, as
well.
d2343 2
a2344 23
<li>Worst case, if none of the above is suitable, you can usually pull
the disk out of the target system, use suitable adapters to install it
in a "normal" computer, install OpenBSD, then replace the disk back in
the target system.
OpenBSD will then boot nicely in the target machine, though you will
very possibly have to adjust the network configuration.
You may also have to adjust <tt>/etc/fstab</tt> if you (for example)
did your install using a USB->IDE/SATA adapter or your target or install
machine uses
<a href="http://man.openbsd.org/?query=ahci">ahci(4)</a>
and the other does not.
IDE and some SATA disks will normally be recognized as
<a href="http://man.openbsd.org/?query=wd">wd(4)</a>
devices, but if attached to a USB adapter, will come up as
<a href="http://man.openbsd.org/?query=sd">sd(4)</a>.
A SATA disk attached to a
<a href="http://man.openbsd.org/?query=pciide">pciide(4)</a>
interface will come up as wd(4), but attached to an
<a href="http://man.openbsd.org/?query=ahci">ahci(4)</a>
interface, will come up as a sd(4) device.
However, once you correct the <tt>/etc/fstab</tt> file, the system
will generally boot just fine.
</ul>
d2346 13
a2358 5
In all cases, remember that the machine had an OS installed on it
before, and it was usually intended that the OS could be reloaded in the
field.
How this was originally intended to be done will often provide you a
good idea how you can install OpenBSD now.
d2360 10
a2369 2
<h3 id="shamismatch">4.13.7 - I got a "Continue without verification?" message
during install!</h3>
d2371 5
a2375 9
The verification process consists of fetching the <tt>SHA256.sig</tt>
file, then fetching all the install files to the local hard disk and
verifying their signatures.
If either the signature file is unavailable or there is insufficient
disk space for that extra copy of the files, verification will not be
possible, and you will get that message.
If you trust your source, this should not be a problem.
If you do not trust your source, you can manually verify the files as
detailed <a href="faq3.html#Download">here</a>.
d2377 2
a2378 1
<h2 id="site">4.14 - Customizing the install process</h2>
d2380 4
a2383 1
<h3><tt>siteXX.tgz</tt> file</h3>
d2385 1
a2385 11
The OpenBSD install/upgrade scripts allow the selection of a
user-created set called <tt>siteXX.tgz</tt>, where XX is the release
version.
The <tt>siteXX.tgz</tt> file set is, like the other
<a href="#FilesNeeded">file sets</a>, a
<a href="http://man.openbsd.org/?query=gzip">gzip(1)</a>
compressed
<a href="http://man.openbsd.org/?query=tar">tar(1)</a>
archive rooted in '/' and is un-tarred like the other sets with the
options <tt>xzphf</tt>.
This set will be installed last, after all other file sets.
d2387 13
a2399 4
<p>
This file set allows the user to add to and/or override the files
installed in the 'normal' sets and thus customize the installation or
upgrade.
d2401 2
a2402 6
<p>
You can also create and use hostname-specific install sets, which are
named <tt>siteXX-<i>&lt;hostname&gt;.tgz</i></tt>, for example,
<tt>siteXX-puffy.tgz</tt>.
This allows easy per-host customized installations, upgrades, or
disaster recovery.
a2403 2
<p>
Some example uses of a <tt>siteXX.tgz</tt> file:
d2405 5
a2409 4
<li>Create a siteXX.tgz file that contains all the file changes you made
since first installing OpenBSD.
Then, if you have to re-create the system, you simply select siteXX.tgz
during the re-install and all of your changes are replicated on the new system.
d2411 1
a2411 5
<li>Create a series of machine-specific directories that each contain a
siteXX.tgz file that contains files specific to those machine types.
Installation of machines (e.g. boxes with different graphics cards) of a
particular category can be completed by selecting the appropriate
siteXX.tgz file.
d2413 1
a2413 7
<li>Put the files you routinely customize in a same or similar way
in a siteXX.tgz file --
<a href="http://man.openbsd.org/?query=adduser"><tt>/etc/skel</tt></a> files,
<a href="http://man.openbsd.org/?query=pf.conf"><tt>/etc/pf.conf</tt></a>,
<a href="http://man.openbsd.org/?query=rc.conf.local">
<tt>/etc/rc.conf.local</tt></a>, etc.
</ul>
d2415 20
a2434 1
<h3><tt>install.site</tt>/<tt>upgrade.site</tt> scripts</h3>
d2436 5
a2440 16
As the last step in the install/upgrade process, the scripts look in the
root directory of the newly installed/upgraded system for
<tt>install.site</tt> or <tt>upgrade.site</tt>, as appropriate to the
current process, and runs this script in an environment
<a href="http://man.openbsd.org/?query=chroot">chroot(8)</a>ed
to the installed/upgraded system's root.
Remember, the upgrade is done from a booted file system, so your target
file system is actually mounted on <tt>/mnt</tt>.
However, because of the chroot, your script can be written as if
it is running in the "normal" root of your file system.
Since this script is run after all the files are installed, you have much of the
functionality of the full system when your script runs.
Keep in mind that you are running a minimal kernel and not all features are
available.
Due to space constraints, things that work today may not work in a
future release.
d2443 2
a2444 4
Note that the <tt>install.site</tt> script would have to be in a
<tt>siteXX.tgz</tt> file, while the <tt>upgrade.site</tt> script could
be put in the root directory before the upgrade, or could be put in a
<tt>siteXX.tgz</tt> file.
d2447 2
a2448 19
The scripts can be used to do many things:
<ul>
<li>Remove files that are installed/upgraded that you don't want present
on the system.
<li> Remove/upgrade/install the
<a href="faq15.html#PkgMgmt">packages</a> you want on the installed
system (may not work for all packages!).
<li> Do an immediate backup/archive of the new system before you expose it
to the rest of the world.
<li>Use
<a href="http://man.openbsd.org/?query=rdate">rdate(8)</a>
to set the system time.
<li>Have a set of arbitrary commands be run after the first boot.
This will happen if install.site is used to append any such commands to an
<a href="http://man.openbsd.org/?query=rc.firsttime"><tt>rc.firsttime(8)</tt></a>
file (appending to this file is necessary since the installer itself may
write to this file).
At boot time, rc.firsttime is executed once then deleted.
</ul>
d2451 6
a2456 4
The combination of <tt>siteXX.tgz</tt> and
<tt>install.site/upgrade.site</tt> files is intended to give users
broad customization capabilities without having to build their own
custom install sets.
d2459 9
a2467 5
Note: if you will be doing your install from an HTTP server, you will
need to add your <tt>site*.tgz</tt> file(s) to the file
<tt>index.txt</tt> in the source directory in order for them to be
listed as an option at install time.
This is not needed for other install methods.
d2469 11
a2479 1
<h2 id="Multiple">4.15 - How can I install a number of similar systems?</h2>
d2481 15
a2495 2
Here are some tools you can use when you have to deploy a number
of similar OpenBSD systems.
d2497 17
a2513 19
<h3><tt>siteXX.tgz</tt> and <tt>install/upgrade.site</tt> files</h3>

See the <a href="#site">above</a> article.

<h3>Restore from dump(8)</h3>

On most platforms, the boot media includes the
<a href="http://man.openbsd.org/?query=restore">restore(8)</a>
program, which can be used to restore a backup made by
<a href="http://man.openbsd.org/?query=dump">dump(8)</a>.
Thus, you could boot from a
<a href="#MkFlop">floppy</a>,
<a href="../orders.html">CD</a>, or
<a href="#bsd.rd">bsd.rd</a> file, then
<a href="faq14.html#fdisk">fdisk</a>,
<a href="faq14.html#disklabel">disklabel</a>, and
<a href="http://man.openbsd.org/?query=restore">restore(8)</a>
the desired configuration from tape or other media, and install the
<a href="http://man.openbsd.org/?query=installboot">boot blocks</a>.
d2515 3
a2517 1
<h3>Disk imaging</h3>
d2519 5
a2523 10
Unfortunately, there are no known disk imaging packages which are
FFS-aware and can make an image containing only the active file space.
Most of the major disk imaging solutions will treat an OpenBSD partition
as a "generic" partition, and can make an image of the whole disk.
This often accomplishes your goal, but usually with huge amounts of wasted
space --  an empty 10GB <tt>/home</tt> partition will require 10GB of
space in the image, even if there isn't a single file in it.
While you can typically install a drive image to a larger drive, you would
not be able to directly use the extra space, and you would not be able to
install an image to a smaller drive.
d2525 2
a2526 7
<p>
If this is an acceptable situation, you may find the
<a href="http://man.openbsd.org/?query=dd">dd(1)</a>
command will do what you need, allowing you to copy one disk to another,
sector-for-sector.
This would provide the same functionality as
commercial programs without the cost.
d2528 8
a2535 2
<h2 id="getdmesg">4.16 - How can I get a dmesg(8) to report an install
problem?</h2>
d2537 6
a2542 8
When <a href="../report.html">reporting a problem</a>, it is critical to
include the complete system
<a href="http://man.openbsd.org/?query=dmesg">dmesg(8)</a>.
However, often when you need to do this, it is because the system is
working improperly or won't install so you may not have disk, network,
or other resources you need to get the dmesg to the appropriate
<a href="../mail.html">mailing list</a>.
There are other ways, however:
d2544 3
a2546 6
<ul>
<li><b>Floppy disk:</b>  The boot disks and CD-ROM have enough tools
to let you record your dmesg to an MSDOS floppy disk for reading on
another machine.
Place an MSDOS formatted floppy in your disk drive and execute the
following commands:
d2549 7
a2555 3
# <b>mount -t msdos /dev/fd0a /mnt</b>
# <b>dmesg >/mnt/dmesg.txt</b>
# <b>umount /mnt</b>
d2558 6
a2563 4
If you have another OpenBSD system, you can also write it to an OpenBSD
compatible floppy -- often, the boot floppy has enough room on it to
hold the dmesg.
In that case, leave off the <tt>-t msdos</tt> above.
d2566 3
a2568 7
<li><b>Serial Console:</b>
Using a serial console and capturing the output on another computer
is often the best way to capture diagnostic information - particularly
if the computer panics immediately after boot.
As well as a second computer, you will need a suitable serial cable
(often a null-modem cable), and a terminal emulator program that can
capture screen output to file.
d2571 2
a2572 4
General information on setting up a serial console is provided
<a href="faq7.html#SerCon">elsewhere in the FAQ</a>;
in order to capture a log of the install,
the following commands are usually sufficient.
d2575 18
a2592 1
<b>i386</b>
d2595 1
a2595 1
At the boot loader prompt, enter
d2598 42
a2639 1
boot> <b>set tty com0</b>
d2642 5
a2646 3
This will tell OpenBSD to use the first serial port (often called
COM1 or COMA in PC documentation) as a serial console.
The default baud rate is 9600.
d2649 37
a2685 1
<b>Sparc/Sparc64</b>
d2688 1
a2688 5
These machines will automatically use a serial console if started
without a keyboard present.
If you have a keyboard and monitor attached, you can still force the
system to use a serial console with the following invocation at the
<tt>ok</tt> prompt.
d2691 34
a2724 3
ok <b>setenv input-device ttya</b>
ok <b>setenv output-device ttya</b>
ok <b>reset</b>
d2727 1
a2727 2
</ul>

@


1.398
log
@Some more tweaking of 4.12 on bsd.rd.

From tj@@
@
text
@a171 2
  <li><a href="../vax.html"><b>vax:</b></a>
    Network, floppy.
d387 1
a387 1
While this will <b>not</b> be a perfect layout for all people, it provides a
d420 1
a420 1
Here's quick rundown of the four options shown:
d2304 1
a2304 1
that you really do need them, after all.
d2309 1
a2309 1
When you get to the list of file sets, select the ones you now need.
@


1.397
log
@4.3 Creating install media:
Giving and describing the examples for i386 is probably enough.
Sure, point to the FAQ entry on the signify process, but don't
discuss signify's limitations here.
@
text
@d2315 6
a2320 4
The RAM disk kernel <tt>bsd.rd</tt> is a minimal live system.
Apart from the installer itself, it contains a carefully selected handful of
utilities needed for the installer script and useful for disaster recovery.
Install media boot into <tt>bsd.rd</tt> and run the installer script.
d2323 5
a2327 5
If you have a running OpenBSD system, <tt>bsd.rd</tt> is all you need to be able
to install or upgrade to a newer version of OpenBSD without using any removable
media at all:
<a href="faq3.html#Download">download</a> a new <tt>bsd.rd</tt>, place it on
an existing filesystem and boot from it.
d2340 3
a2342 2
The general rule on booting <tt>bsd.rd</tt> is to change your boot kernel from
<tt>/bsd</tt> to <tt>/bsd.rd</tt> through whatever means used on your platform.
@


1.396
log
@4.11. Adding a missing file set after install:
Don't recommend installing file sets by untarring them by hand.
@
text
@d255 2
a256 11
Note that it is not possible for the downloaded files to directly check
themselves -- an altered download would always say the files validated
perfectly, of course!

<p>
As examples, we will look at the installation images available for the
<a href="../i386.html">i386</a> and <a href="../sparc.html">sparc</a> platforms.

<p>
The <a href="../i386.html">i386</a> platform has five separate
installation disk images to choose from:
a275 15
</ul>

The <a href="../sparc.html">sparc</a> platform has four separate
installation disk images to choose from:

<ul>
  <li><b><tt>cdXX.iso</tt></b> is an ISO image usable to make your own
    CD for booting SPARC systems with a CD-ROM.
  <li><b><tt>installXX.iso</tt></b> is an ISO 9660 image, containing
    all the standard install files.
    This file can be used to create a CD that can do a stand-alone
    OpenBSD install.
  <li><b><tt>floppyXX.fs</tt></b> supports systems with a floppy disk.
  <li><b><tt>minirootXX.fs</tt></b> can be written to a swap partition
    and booted.
@


1.395
log
@polish 4.12: What is bsd.rd?
@
text
@d2329 2
a2330 1
"Oh no!  I forgot to add a file set when I did the install!"
d2333 3
a2335 52
Sometimes, you realize you really DID need <tt>compXX.tgz</tt> (or any
other system component) after all, but you didn't realize this at the
time you installed your system.
Good news: there are two easy ways to add file sets after the initial install.

<h3>Using the upgrade process</h3>

Simply boot your install media (CD-ROM, USB drive, etc.) and choose (U)pgrade
rather than (I)nstall.
When you get to the list of file sets, choose the ones you neglected to
install the first time around and let it install them for you.

<h3>Using tar(1)</h3>

Aside from the kernel(s), the install file sets are simply compressed tar files.
You can expand them manually from the directory in which the file sets reside:

<blockquote><pre>
# <b>tar -C / -xzvphf comp*.tgz</b>
</pre></blockquote>

Do NOT forget the <tt>p</tt> option in the above command in
order to restore the file permissions properly!

<p>
The kernel files - <tt>bsd</tt>, <tt>bsd.rd</tt>, <tt>bsd.mp</tt> and/or
<tt>bsd.sp</tt> - can simply be placed in the root directory and don't
need to be unpacked.

<p>
One common mistake is to think you can use
<a href="http://man.openbsd.org/?query=pkg_add">pkg_add(1)</a>
to add missing file sets.
This does not work.
pkg_add(1) is the <a href="faq15.html#PkgMgmt">package management tool</a>
to install third party software.
It handles package files, not generic tar files like the install sets.

<p>
If you are installing the <tt>xbase</tt> file set on your system for the
first time using tar(1) and without rebooting, the shared library cache
must be updated after the installation using
<a href="http://man.openbsd.org/?query=ldconfig">ldconfig(8)</a>.
To add all the X libraries to the cache:

<blockquote><pre>
# <b>ldconfig -m /usr/X11R6/lib</b>
</pre></blockquote>

Alternatively, you can just reboot your system, and this will be done
automatically by the <a href="http://man.openbsd.org/?query=rc">rc(8)</a>
startup script.
@


1.394
log
@no more xetc.tgz
@
text
@d73 1
a73 1
<li><a href="#bsd.rd"          >4.12 - What is 'bsd.rd'?</a>
d129 1
a129 1
    The <a href="#bsd.rd">RAM disk</a> kernel can be booted off an already
d175 1
a175 1
    Boot bsd.rd from Linux partition.
d2385 1
a2385 1
<h2 id="bsd.rd">4.12 - What is 'bsd.rd'?</h2>
d2387 4
a2390 3
<b><tt>bsd.rd</tt></b> is a RAM disk kernel.
This file can be very useful; many developers are careful to keep it
on the root of their system at all times.
d2393 5
a2397 6
Calling it a "RAM disk kernel" describes the root filesystem of the
kernel -- rather than being a physical drive, the utilities available
after the boot of <tt>bsd.rd</tt> are stored in the kernel, and are run
from a RAM-based filesystem.
<tt>bsd.rd</tt> also includes a healthy set of utilities to allow you to
do system maintenance and installation.
d2400 1
a2400 11
On some platforms, <tt>bsd.rd</tt> is actually the preferred
installation technique -- you place this kernel on an existing
filesystem, boot it, and run the install from it.
On most platforms, if you have a running older version of OpenBSD, you
can download a new version of <tt>bsd.rd</tt>, reboot from it, and
install a new version of OpenBSD without using any removable
media at all.

<p>
Here is an example of booting <tt>bsd.rd</tt> on an i386 system:

a2407 1
<i>. . . normal boot to install . . .</i>
d2410 2
a2411 6
As indicated, you will be brought to the install program, but you
can also drop to the shell to do maintenance on your system.
<p>
The general rule on booting <tt>bsd.rd</tt> is to change your boot
kernel from <tt>/bsd</tt> to <tt>bsd.rd</tt> through whatever
means used on your platform.
@


1.393
log
@add a small sprinkling of css to improve readability in the faq, ok tj@@ tb@@
@
text
@a915 1
Extracting xetc.tgz     100% |**************************|  9156       00:00
@


1.392
log
@faq4 still suffers from a very serious case of tmi.

gently continue removing a little bit, mostly in 4.5.1
update some installer questions, adjust some markup.
@
text
@d14 2
@


1.391
log
@fix URIs, the / before querystring isn't optional, if it isn't fixed up
by the browser the server returns 400 Bad Request
@
text
@d403 3
a405 3
a very usable default configuration with very little user intervention.
In fact, you can often just hit <i>ENTER</i> a number of times to get a
good OpenBSD install, moving your hands to the rest of the keyboard only
d411 2
a412 3
While this will NOT be a perfect layout for all people, it provides a
good starting point and a good overall strategy for figuring out what
you need.
d415 3
a417 10
We will start with a very simple install, with brief discussions of the
options provided.
Using the magic of hypertext links, we'll allow you to read more on the
topics that interest you and explore your options.

<p>
Installation notes for each platform are on the install CDs and HTTP
servers, in the file <tt>INSTALL.<i>&lt;plat&gt;</i></tt>, where
<i>&lt;plat&gt;</i> is your <a href="../plat.html">platform</a>, for
instance, <tt>i386</tt>.
a421 13
During the boot process, the kernel and all of the programs used to install
OpenBSD are loaded into memory.
Once the install kernel is booted, the boot media is no longer needed;
everything runs from the RAM disk.
You can actually remove the CD, flash drive or floppy you booted from at
this point, assuming you don't need it for installation files.

<p>
At almost any point during the OpenBSD install process, you can
terminate the current install attempt by hitting CTRL-C and can restart
it without rebooting by running <tt>install</tt> at the shell prompt.
You can also enter a "!" at most places in the installation to get to
a shell prompt, then <tt>exit</tt> the shell to return to the installer.
d425 1
a425 1
This text, in white on blue on many architectures, is the
a428 1
A copy of this text is saved as <tt>/var/run/dmesg.boot</tt>.
d431 3
a433 1
Then, you will see the following:
d444 1
a444 2
And with that, we reach our first question.
You have the four options shown:
d447 26
a472 42
<li><b>Install:</b> Load OpenBSD onto the system, overwriting whatever
may have been there.
Note that it is possible to leave some partitions untouched in this process,
such as a <tt>/home</tt> directory, but assume everything else is
overwritten otherwise.
<li><b>Upgrade:</b> Install a new set of <a href="#FilesNeeded">install
files</a> on this machine, but do not overwrite any configuration
information, user data, or additional programs.
No disk formatting is done, nor are the <tt>/etc</tt> or <tt>/var</tt>
directories overwritten.
A few important notes:
<ul>
<li>After the install, you will have to manually merge some changes
into your system before you can expect it to be fully functional.
This is an important step which must be done, as otherwise certain key
services (such as
<a href="http://man.openbsd.org/?query=pf">pf(4)</a>)
may not start.
Check the release page for the version of OpenBSD you're installing for a
link to the detailed steps.

<li>The Upgrade process is not designed to skip releases!
While this will often work, it is not supported.
If you have to upgrade from an older version, upgrade to each intermediate
version first, or, if the system is very out-of-date, consider a
complete reinstall.
</ul>

<li><b>Autoinstall:</b> This option causes the installer to attempt to
fetch an installer response file specified by the local DHCP server.
This is documented in
<a href="http://man.openbsd.org/?query=autoinstall">autoinstall(8)</a>.
Autoinstall files can be "one-for-all" or customized by machine's MAC
address.
If the machine boots via <a href="faq6.html#PXE">PXE</a> or other
network booting system, the autoinstall process will start automatically
after a brief pause if configured and no user intervention takes place.

<li><b>Shell:</b> Sometimes, you need to perform repairs or maintenance
to a system which will not (or should not) boot to a normal kernel.
This option will allow you to do maintenance to the system.
A number of important utilities are available on the boot media.
d475 1
a475 1
We are assuming you choose "(I)nstall" here.
d488 2
a489 2
At any prompt (except password prompts) you can escape to a shell by
typing '!'. Default answers are shown in brackets and are selected by
d493 1
a493 1
Choose your keyboard layout ('?' or 'L' for list) [default] <b><i>Enter</i></b>
d513 1
a513 1
Which one do you wish to configure? (or 'done') [fxp0] <i><b>Enter</b></i>
d534 1
a534 1
IPv4 address for fxp0? (or 'dhcp' or 'none') [dhcp] <b><i>Enter</i></b>
d554 1
a554 1
IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
d556 1
a556 1
Which one do you wish to configure? (or 'done') [done] <b><i>Enter</i></b>
d564 2
a565 2
Password for root account? (will not echo) <i><b>er8Eeheix0ei</b></i>
Password for root account? (again) <i><b>er8Eeheix0ei</b></i>
d578 1
a578 1
Start sshd(8) by default? [yes] <b><i>Enter</i></b>
d586 1
a586 1
Do you expect to run the X Window System? [yes] <b><i>Enter</i></b>
d620 1
a620 1
Change the default console to com0? [no] <b><i>Enter</i></b>
d634 2
a635 2
Password for user nick? (will not echo) <b><i>Tu0xie9onahJ</i></b>
Password for user nick? (again) <b><i>Tu0xie9onahJ</i></b>
d637 1
a637 1
Allow root ssh login? (yes, no, prohibit-password) [no] <i><b>Enter</b></i>
d717 1
a717 1
Which one is the root disk? (or 'done') [wd0] <i><b>Enter</b></i>
d727 1
a727 1
Use (W)hole disk or (E)dit the MBR? [whole] <i><b>Enter</b></i>
d780 1
a780 1
Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b><i>Enter</i></b>
d816 1
a816 1
HTTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none] <b><i>Enter</i></b>
d827 1
a827 1
Server directory? [pub/OpenBSD/X.X/i386] <b><i>Enter</i></b>
d839 1
a839 1
Set name(s)? (or 'abort' or 'done') [done] <b><i>Enter</i></b>
d918 1
a918 1
Location of sets? (cd disk http or 'done') [done] <b><i>Enter</i></b>
d930 1
a930 1
Time appears wrong.  Set to 'Sat Oct 18 09:21:38 EST 2015'? [yes] <b><i>Enter</i></b>
d1003 1
a1003 1
Which one do you wish to configure? (or 'done') [xl0] <b><i>Enter</i></b>
d1006 1
a1006 1
IPv6 address for xl0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
d1183 1
a1183 1
Which one is the root disk? (or 'done') [wd0] <b><i>Enter</i></b>
d1350 1
a1350 1
Do you wish to edit in CHS mode? [n] <b><i>Enter</i></b>
d1575 1
a1575 1
offset: [10490445] <b><i>Enter</i></b>
d1578 1
a1578 1
FS type: [4.2BSD]  <b><i>Enter</i></b>
d1605 1
a1605 1
offset: [10699290] <b><i>Enter</i></b>
d1608 1
a1608 1
FS type: [swap] <b><i>Enter</i></b>
d1624 1
a1624 1
offset: [12803805] <b><i>Enter</i></b>
d1627 1
a1627 1
FS type: [4.2BSD] <b><i>Enter</i></b>
d1630 1
a1630 1
offset: [17012835] <b><i>Enter</i></b>
d1633 1
a1633 1
FS type: [4.2BSD] <b><i>Enter</i></b>
d1636 1
a1636 1
offset: [17221680] <b><i>Enter</i></b>
d1639 1
a1639 1
FS type: [4.2BSD] <b><i>Enter</i></b>
d1642 1
a1642 1
offset: [21430710] <b><i>Enter</i></b>
d1645 1
a1645 1
FS type: [4.2BSD] <b><i>Enter</i></b>
d1648 1
a1648 1
offset: [23535225] <b><i>Enter</i></b>
d1651 1
a1651 1
FS type: [4.2BSD] <b><i>Enter</i></b>
d1654 1
a1654 1
offset: [25639740] <b><i>Enter</i></b>
d1657 1
a1657 1
FS type: [4.2BSD] <b><i>Enter</i></b>
d1660 3
a1662 3
offset: [27744255] <b><i>Enter</i></b>
size: [52548993] <b><i>Enter</i></b>
FS type: [4.2BSD] <b><i>Enter</i></b>
@


1.390
log
@Some cleanup after beck@@'s monster man.openbsd.org diff.
@
text
@d111 1
a111 1
<a href="http://man.openbsd.org?query=tar">tar(1)</a>
d132 1
a132 1
    <a href="http://man.openbsd.org?query=diskless">network boot</a>.
d305 1
a305 1
<a href="http://man.openbsd.org?query=dd">dd(1)</a>.
d329 1
a329 1
<a href="http://man.openbsd.org?query=cdio">cdio(1)</a>:
d342 1
a342 1
<a href="http://man.openbsd.org?query=fdformat">fdformat(1)</a>
d344 1
a344 1
<a href="http://man.openbsd.org?query=dd">dd(1)</a>
d346 1
a346 1
<a href="http://man.openbsd.org?query=cmp">cmp(1)</a>
d447 1
a447 1
<a href="http://man.openbsd.org?query=dmesg">dmesg(8)</a>,
d484 1
a484 1
<a href="http://man.openbsd.org?query=pf">pf(4)</a>)
d499 1
a499 1
<a href="http://man.openbsd.org?query=autoinstall">autoinstall(8)</a>.
d560 1
a560 1
<a href="http://man.openbsd.org?query=fxp">fxp(4)</a>
d639 1
a639 1
<a href="http://man.openbsd.org?query=xf86">xf86(4)</a>
d649 1
a649 1
<a href="http://man.openbsd.org?query=xdm">xdm(1)</a>
d680 1
a680 1
<a href="http://man.openbsd.org?query=su">su(1)</a>
d800 1
a800 1
<a href="http://man.openbsd.org?query=disklabel">disklabel(8)</a>:
d838 1
a838 1
<a href="http://man.openbsd.org?query=newfs">newfs(8)</a>,
d1009 1
a1009 1
<a href="http://man.openbsd.org?query=afterboot">afterboot(8)</a>.
d1179 1
a1179 1
<a href="http://man.openbsd.org?query=fdisk">fdisk(8)</a>
d1188 1
a1188 1
<a href="http://man.openbsd.org?query=fdisk">fdisk(8)</a>.
d1478 1
a1478 1
<a href="http://man.openbsd.org?query=disklabel">disklabel(8)</a>
d1496 1
a1496 1
<a href="http://man.openbsd.org?query=growfs">growfs(8)</a>.
d2026 1
a2026 1
 <a href="http://man.openbsd.org?query=fstab">/etc/fstab</a>
d2033 1
a2033 1
 <a href="http://man.openbsd.org?query=fsck">fsck(8)</a>
d2043 1
a2043 1
 <a href="http://man.openbsd.org?query=daily">daily(8)</a>.
d2051 1
a2051 1
 <a href="http://man.openbsd.org?query=softraid">softraid(4)</a>
d2053 2
a2054 2
 <a href="http://man.openbsd.org?query=dump">dump(8)</a> and
 <a href="http://man.openbsd.org?query=restore">restore(8)</a>,
d2127 1
a2127 1
<a href="http://man.openbsd.org?query=boot&amp;sec=8&amp;arch=i386">boot(8)</a>
d2331 1
a2331 1
<a href="http://man.openbsd.org?query=spamd">spamd(8)</a>
d2399 1
a2399 1
<a href="http://man.openbsd.org?query=pkg_add">pkg_add(1)</a>
d2410 1
a2410 1
<a href="http://man.openbsd.org?query=ldconfig">ldconfig(8)</a>.
d2418 1
a2418 1
automatically by the <a href="http://man.openbsd.org?query=rc">rc(8)</a>
d2476 1
a2476 1
<a href="http://man.openbsd.org?query=fdisk">fdisk(8)</a>,
d2487 1
a2487 1
<a href="http://man.openbsd.org?query=fdisk">fdisk(8)</a>
d2508 1
a2508 1
<a href="http://man.openbsd.org?query=ssh-keygen">ssh-keygen(1)</a>
d2533 1
a2533 1
<a href="http://man.openbsd.org?query=fdisk">fdisk(8)</a>
d2562 1
a2562 1
<a href="http://man.openbsd.org?query=diskless">diskless(8)</a>
d2584 1
a2584 1
<a href="http://man.openbsd.org?query=ahci">ahci(4)</a>
d2587 1
a2587 1
<a href="http://man.openbsd.org?query=wd">wd(4)</a>
d2589 1
a2589 1
<a href="http://man.openbsd.org?query=sd">sd(4)</a>.
d2591 1
a2591 1
<a href="http://man.openbsd.org?query=pciide">pciide(4)</a>
d2593 1
a2593 1
<a href="http://man.openbsd.org?query=ahci">ahci(4)</a>
d2627 1
a2627 1
<a href="http://man.openbsd.org?query=gzip">gzip(1)</a>
d2629 1
a2629 1
<a href="http://man.openbsd.org?query=tar">tar(1)</a>
d2662 3
a2664 3
<a href="http://man.openbsd.org?query=adduser"><tt>/etc/skel</tt></a> files,
<a href="http://man.openbsd.org?query=pf.conf"><tt>/etc/pf.conf</tt></a>,
<a href="http://man.openbsd.org?query=rc.conf.local">
d2674 1
a2674 1
<a href="http://man.openbsd.org?query=chroot">chroot(8)</a>ed
d2704 1
a2704 1
<a href="http://man.openbsd.org?query=rdate">rdate(8)</a>
d2708 1
a2708 1
<a href="http://man.openbsd.org?query=rc.firsttime"><tt>rc.firsttime(8)</tt></a>
d2739 1
a2739 1
<a href="http://man.openbsd.org?query=restore">restore(8)</a>
d2741 1
a2741 1
<a href="http://man.openbsd.org?query=dump">dump(8)</a>.
d2748 1
a2748 1
<a href="http://man.openbsd.org?query=restore">restore(8)</a>
d2750 1
a2750 1
<a href="http://man.openbsd.org?query=installboot">boot blocks</a>.
d2767 1
a2767 1
<a href="http://man.openbsd.org?query=dd">dd(1)</a>
d2778 1
a2778 1
<a href="http://man.openbsd.org?query=dmesg">dmesg(8)</a>.
@


1.389
log
@change http://www.openbsd.org/cgi-bin/man.cgi to be http://man.openbsd.org
this points stuff to the new place and gets us ready to deprecate the old
place we did this.
@
text
@d132 1
a132 2
    <a href="http://man.openbsd.org?query=diskless">
    network boot</a>.
d447 1
a447 1
<a href="http://man.openbsd.org?query=dmesg">dmesg</a>,
d499 1
a499 2
<a href="http://man.openbsd.org?query=autoinstall">
autoinstall(8)</a>.
d632 2
a633 3
<a href="http://man.openbsd.org/OpenBSD-current/man4/drm.4">
drm(4)</a> driver, <tt>machdep.allowaperture</tt> isn't needed and will
be left alone.
d800 1
a800 2
<a href="http://man.openbsd.org?query=disklabel">
disklabel(8)</a>:
d1009 1
a1009 2
<a href="http://man.openbsd.org?query=afterboot">
afterboot(8)</a>.
d1017 1
a1017 2
<li><a href="http://man.openbsd.org">OpenBSD man pages on
the web</a>
d1478 1
a1478 2
<a href="http://man.openbsd.org?query=disklabel">
disklabel(8)</a>
d2127 1
a2127 2
<a href="http://man.openbsd.org?query=boot&amp;sec=8&amp;arch=i386">
boot(8)</a>
d2331 1
a2331 1
<a href="http://man.openbsd.org?query=spamd">spamd</a>
d2418 2
a2419 2
automatically by the <a href="http://man.openbsd.org?query=rc">
rc(8)</a> startup script.
d2508 1
a2508 2
<a href="http://man.openbsd.org?query=ssh-keygen">
ssh-keygen(1)</a>
d2662 4
a2665 7
<a href="http://man.openbsd.org?query=adduser"
><tt>/etc/skel</tt></a> files,
<a href="http://man.openbsd.org?query=pf.conf"
><tt>/etc/pf.conf</tt></a>,
<a href="http://man.openbsd.org?query=rc.conf.local"
><tt>/etc/rc.conf.local</tt></a>,
etc.
d2674 1
a2674 1
<a href="http://man.openbsd.org?query=chroot">chroot</a>ed
d2708 1
a2708 2
<a href="http://man.openbsd.org?query=rc.firsttime">
<tt>rc.firsttime(8)</tt></a>
d2748 1
a2748 1
<a href="http://man.openbsd.org?query=restore">restore</a>
d2767 1
a2767 1
<a href="http://man.openbsd.org?query=dd">dd</a>
@


1.388
log
@fix a few broken links; from peter de wachter
@
text
@d111 1
a111 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar">tar(1)</a>
d132 1
a132 1
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless">
d306 1
a306 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd">dd(1)</a>.
d330 1
a330 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio">cdio(1)</a>:
d343 1
a343 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat">fdformat(1)</a>
d345 1
a345 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd">dd(1)</a>
d347 1
a347 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp">cmp(1)</a>
d448 1
a448 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg">dmesg</a>,
d485 1
a485 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf">pf(4)</a>)
d500 1
a500 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=autoinstall">
d562 1
a562 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp">fxp(4)</a>
d634 1
a634 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man4/drm.4">
d642 1
a642 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86">xf86(4)</a>
d652 1
a652 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm">xdm(1)</a>
d683 1
a683 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su">su(1)</a>
d803 1
a803 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel">
d842 1
a842 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs">newfs(8)</a>,
d1013 1
a1013 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot">
d1022 1
a1022 1
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi">OpenBSD man pages on
d1185 1
a1185 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk">fdisk(8)</a>
d1194 1
a1194 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk">fdisk(8)</a>.
d1484 1
a1484 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel">
d1503 1
a1503 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=growfs">growfs(8)</a>.
d2033 1
a2033 1
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab">/etc/fstab</a>
d2040 1
a2040 1
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck">fsck(8)</a>
d2050 1
a2050 1
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daily">daily(8)</a>.
d2058 1
a2058 1
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid">softraid(4)</a>
d2060 2
a2061 2
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump">dump(8)</a> and
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore">restore(8)</a>,
d2134 1
a2134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sec=8&amp;arch=i386">
d2339 1
a2339 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd">spamd</a>
d2407 1
a2407 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add">pkg_add(1)</a>
d2418 1
a2418 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldconfig">ldconfig(8)</a>.
d2426 1
a2426 1
automatically by the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc">
d2484 1
a2484 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk">fdisk(8)</a>,
d2495 1
a2495 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk">fdisk(8)</a>
d2516 1
a2516 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen">
d2542 1
a2542 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk">fdisk(8)</a>
d2571 1
a2571 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless">diskless(8)</a>
d2593 1
a2593 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci">ahci(4)</a>
d2596 1
a2596 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wd">wd(4)</a>
d2598 1
a2598 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd">sd(4)</a>.
d2600 1
a2600 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide">pciide(4)</a>
d2602 1
a2602 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci">ahci(4)</a>
d2636 1
a2636 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip">gzip(1)</a>
d2638 1
a2638 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar">tar(1)</a>
d2671 1
a2671 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser"
d2673 1
a2673 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf"
d2675 1
a2675 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local"
d2686 1
a2686 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot">chroot</a>ed
d2716 1
a2716 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate">rdate(8)</a>
d2720 1
a2720 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.firsttime">
d2752 1
a2752 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore">restore(8)</a>
d2754 1
a2754 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump">dump(8)</a>.
d2761 1
a2761 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore">restore</a>
d2763 1
a2763 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=installboot">boot blocks</a>.
d2780 1
a2780 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd">dd</a>
d2791 1
a2791 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg">dmesg(8)</a>.
@


1.387
log
@reformat and slightly reword section 4.7: what files are needed?
@
text
@a1931 1
Read more about this in <a href="faq14.html#Swap">FAQ 14, Swap</a>.
d2507 1
a2507 2
stage boot loader install.</b>  Reinstalling the second stage boot
loader is discussed <a href="faq14.html#InstBoot">here</a>.
d2533 1
a2533 1
Thus, you must <a href="faq3.html#Verify">verify</a> your installer
d2763 1
a2763 1
<a href="faq14.html#InstBoot">boot blocks</a>.
@


1.386
log
@in the pre-install checklist, add a link to full disk encryption info.

suggested by afresh1
@
text
@d395 1
a395 1
or 
d1800 2
a1801 6
The complete OpenBSD installation is broken up into a number of
separate <i>file sets</i>.
Not every application requires every file set, however new users are
recommended to install ALL of them.

Here is an overview of each:
d1804 22
a1825 22
<li><b><i>bsd</i></b>
 - the kernel <b>(required)</b>
<li><b><i>bsd.mp</i></b>
 - the multi-processor (SMP) kernel (only some platforms)
<li><b><i>bsd.rd</i></b>
 - the <a href="#bsd.rd">RAM disk kernel</a>
<li><b><i>baseXX.tgz</i></b>
- the base OpenBSD system <b>(required)</b>
<li><b><i>compXX.tgz</i></b>
- the compiler and its tools, headers and libraries
<li><b><i>manXX.tgz</i></b>i
- man pages
<li><b><i>gameXX.tgz</i></b>
- (text-based) games
<li><b><i>xbaseXX.tgz</i></b>
- the base libraries and utilities for X11
<li><b><i>xfontXX.tgz</i></b>
- X11's font server and fonts
<li><b><i>xservXX.tgz</i></b>
- X11's X servers
<li><b><i>xshareXX.tgz</i></b>
- man pages, locale settings, includes, etc. for X
d1835 1
a1835 1
just xbaseXX.tgz - the rest of X is not always needed.
a1850 13
People sometimes waste a lot of time and effort trying to pick through
xbaseXX.tgz and pull out just the files they need to install their
application.
This is not only pointless, but an effort that would have to be
repeated for each upgrade cycle, which probably means you will not
upgrade your system properly, creating REAL security problems.

<p>
If you need X, just install it.
It won't hurt you any more than the application you are needing it
for will.


d1853 1
a1853 1
Ok, don't, but please don't tell yourself this is for "security reasons."
d1857 3
a1859 10
However, the compXX.tgz file set is relatively big and has a lot of
files in it, so it can take a while to install and upgrade, and on
slow or small systems, this can matter.

<p>
If you do decide to not install the compiler, you will probably need
another system to maintain and build updated software on.
There are far more systems that have been compromised because of
improper maintenance than there have been because a compiler was
installed.
@


1.385
log
@minor tweaks to 4.4 - booting install media:
some formatting, some dropping of redundant text
@
text
@d244 2
@


1.384
log
@polish 4.2 pre-installation checklist and 4.3 - creating install media
@
text
@d358 2
a359 2
Booting an install media on the i386 and amd64 PC platforms is nothing new
to most people.
d362 3
a364 3
If you want to boot from CD or a USB device, your system BIOS must be
able to and be set to do so.
Note that some machines are buggy with regard to booting from USB devices;
d379 6
a384 6
You will need the system to be at a monitor ROM prompt, which
typically looks like <tt>ok</tt>.
If you are using a Sun keyboard, press and hold "STOP" while
tapping "A".
If using a serial console, a BREAK should return you to the
monitor prompt.
d387 1
a387 1
Use the following command to boot from the floppy:
d393 1
a393 2
Usually, you can boot from the CD-ROM drive of a Sun system from
the boot prompt by typing '<tt>boot cdrom</tt>':
@


1.383
log
@Reformat and slightly rephrase section 4.1 - Overview
@
text
@d101 2
a102 2
Nevertheless you are urged to read the platform-specific INSTALL document in the
<i>platform</i> directory on the CD-ROM or mirror sites.
d206 2
a207 2
Before you start your install, you should have some idea what you
want to end up with.
a208 1
You will want to know the following items, at least:
d210 34
a243 38
<li>Machine name.
<li>Hardware installed and available:
  <ul>
  <li>Verify compatibility with your platform's hardware
      compatibility page.
  <li>If ISA, you also need to know hardware settings, and confirm
      they are as OpenBSD requires.
  </ul>
<li>Install method to be used (CD-ROM, HTTP, etc.).
<li>Should an important bug be found, how will the system be patched?
  <ul>
  <li>If done locally, you will need to have
      <a href="#Partitioning">sufficient space</a> available for the
      source tree and building it.
  <li>Otherwise, you will need access to another machine to build
      a patched
      <a href="faq5.html#Release">release</a>
      on.
  </ul>
<li>Desired disk layout:
  <ul>
  <li>Does existing data need to be saved elsewhere?
  <li>Will OpenBSD coexist on this system with another OS?
      If so, how will each system be booted?
      Will you need to install a boot manager?
  <li>Will the entire disk be used for OpenBSD, or do you want to
      keep an existing partition/OS (or space for a future one)?
  <li>How do you wish to sub-partition the OpenBSD part of your
      disk?
  </ul>
<li>Network settings, if not using DHCP:
  <ul>
  <li>Domain name.
  <li>Domain Name Server(s) (DNS) address.
  <li>IP addresses and subnet masks for each NIC.
  <li>Gateway address.
  </ul>
<li>Will you be running the X Window System?
d248 2
a249 2
Before creating install media, you may wish to
<a href="faq3.html#Download">verify</a> the signatures on your downloads.
a255 1

d258 1
a258 2
<a href="../i386.html">i386</a>
and <a href="../sparc.html">sparc</a> platforms.
d265 17
a281 20
<li><b><tt>cdXX.iso</tt></b> is an ISO 9660 image that can be used to
  create a bootable CD with most popular CD-ROM creation software
  on most platforms.
  This image has the widest selection of drivers, and is usually
  the recommended choice if your hardware can boot from a CD-ROM.
<li><b><tt>installXX.iso</tt></b> is an ISO 9660 image, containing
  all the standard install files.
  This file can be used to create a CD that can do a stand-alone
  OpenBSD install.
<li><b><tt>floppyXX.fs</tt></b> (Desktop PC) supports many
  older machines that lack bootable CD-ROMs.
  Not recommended for modern hardware.
<li><b><tt>minirootXX.fs</tt></b> is a disk image, can be written to a
  bootable device, such as a USB flash drive, and booted for the install.
  This is equivalent to using the <tt>cdXX.iso</tt> for install.
  File sets would then be pulled down via network; they are not on this
  file system.
<li><b><tt>installXX.fs</tt></b> much like minirootXX.fs, but includes
  all the file sets for install.
  This is equivalent to using <tt>installXX.iso</tt>.
d288 9
a296 9
<li><b><tt>floppyXX.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cdXX.iso</tt></b> is an ISO image usable to make your own
  CD for booting SPARC systems with a CD-ROM.
<li><b><tt>minirootXX.fs</tt></b> can be written to a swap partition
  and booted.
<li><b><tt>installXX.iso</tt></b> is an ISO 9660 image, containing
  all the standard install files.
  This file can be used to create a CD that can do a stand-alone
  OpenBSD install.
a298 5
On modern platforms, you are best advised to not use floppy install boot images.
For some of the "bigger" platforms like amd64 and sparc64, the floppy
images have had a lot of drivers and utilities cut out, which can make
installation much more difficult.

d301 4
a304 3
A bootable USB flash drive (or a CF/SD/other card, external hard disk,
etc) can be created by installing the target device on a Unix machine
via any recognized adapters, then copying over the image with dd.
d307 1
a307 1
Here is an OpenBSD example, assuming the device was recognized as "sd6":
d313 5
a317 14
Details of this will vary on other platforms -- the important things are:

<ul>
<li><b><tt>if=</tt></b> the location and name of the image file
<li><b><tt>of=</tt></b> the name of the device being written to -- the
device must be the ENTIRE device (in BSD language, the 'c' partition),
and a raw I/O device (the 'r' in front of the device "sd6"), not a block
mode device.
In some Linux variants, it might be "/dev/sdg" (all of the seventh ("g")
sd disk).
<li><b><tt>bs=1m</tt></b> sets a block size of one megabyte (1024K),
which typically greatly increases the creation speed.
Size is not critical.
</ul>
d321 2
a322 4
You can create a CD-ROM using the <tt>cdXX.iso</tt> or
<tt>installXX.iso</tt> files.
The exact details here are left to the reader to determine with
the tools they have at their disposal.
d335 1
a335 3

<p>
Other Unix-like systems use applications such as
d338 1
a338 1
<h3 id="MkFlop">4.3.2 - Creating floppies</h3>
d351 2
a352 2
formatting tools, and a program like <i>ntrw</i> which can be retrieved
from the "tools" directory on any of the mirror sites.
@


1.382
log
@clean up TOC
@
text
@d41 1
a41 3
  <li><a href="#MkCD-ROM"      >4.3.1 - Creating a boot CD</a>
  <li><a href="#MkFlop"        >4.3.2 - Creating floppies</a>
  <li><a href="#Flash"         >4.3.4 - Creating a bootable install flash drive
d43 2
d100 5
a104 6
All platforms use a very similar installation procedure, however
there are some minor differences in details on a few platforms.
In all cases, you are urged to read the platform-specific INSTALL
document in the <i>platform</i> directory on the CD-ROM or HTTP sites
(for example, <tt>i386/INSTALL.i386</tt>, <tt>macppc/INSTALL.macppc</tt>
or <tt>sparc/INSTALL.sparc</tt>).
d107 4
a110 5
The OpenBSD installer is a <a href="#bsd.rd">special</a> kernel
with a number of utilities and install scripts embedded in a
pre-loaded RAM disk.
After this kernel is booted, the operating system is extracted from
a number of compressed
d112 1
a112 1
(<tt>.tgz</tt>) files from a source other than this pre-loaded RAM disk.
d116 22
a137 22
<li><b>Floppy disk:</b>
At this point, if you are running a system that only has floppy support,
we will consider you an advanced user who probably doesn't need this
FAQ for guidance.

<li><b>CD-ROM:</b> On several platforms, a CD-ROM image
(<tt>cdXX.iso</tt> for just booting, or <tt>installXX.iso</tt> for the
entire install) is provided allowing creation of a bootable CD-ROM.

<li><b>Existing partition:</b> The <a href="#bsd.rd">RAM disk</a> kernel
can be booted off an already existing partition for an upgrade or
reinstall.

<li><b>Network:</b> Some platforms support booting over a network
(for example using <a href="faq6.html#PXE">PXE</a> or other
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless">network
boot</a>).

<li><b>Writing a file system image to disk:</b> On some platforms, a raw
disk image (<tt>minirootXX.fs</tt> for just booting, or <tt>installXX.fs</tt>
for the entire install) is provided for creating a bootable USB drive.

d143 33
a175 42
<li><a href="../alpha.html"><b>alpha:</b></a> Floppy, CD-ROM, network,
writing a floppy image to hard disk.

<li><a href="../amd64.html"><b>amd64:</b></a> Floppy, CD-ROM, miniroot,
<a href="faq6.html#PXE">network</a>.

<li><a href="../armish.html"><b>armish:</b></a>
Varies by machine.

<li><a href="../hppa.html"><b>hppa:</b></a> Network.

<li><a href="../i386.html"><b>i386:</b></a> Floppy, CD-ROM, miniroot,
<a href="faq6.html#PXE">network</a>.

<li><a href="../landisk.html"><b>landisk:</b></a> Miniroot, installed
using another computer.

<li><a href="../loongson.html"><b>loongson:</b></a> Miniroot,
existing OS partition.

<li><a href="../luna88k.html"><b>luna88k:</b></a> Network.

<li><a href="../macppc.html"><b>macppc:</b></a> CD-ROM, network.

<li><a href="../octeon.html"><b>octeon:</b></a> Network.

<li><a href="../sgi.html"><b>sgi:</b></a> Network, CD-ROM.

<li><a href="../socppc.html"><b>socppc:</b></a> Network.

<li><a href="../sparc.html"><b>sparc:</b></a> Floppy, CD-ROM, network,
writing image to existing swap partition.

<li><a href="../sparc64.html"><b>sparc64:</b></a> Floppy (U1/U2 only),
CD-ROM, network, writing image to existing partition.

<li><a href="../vax.html"><b>vax:</b></a> Floppy, network.

<li><a href="../zaurus.html"><b>zaurus:</b></a> Boot bsd.rd from
Linux partition.
See <tt>INSTALL.zaurus</tt> for more details.

d178 1
a178 2
All platforms can also use
<a href="#bsd.rd">bsd.rd</a> to reinstall or upgrade.
d186 16
a201 20
<li><b>CD-ROM:</b> Of course, we prefer you use the
<a href="../orders.html">Official CD-ROM set</a>, but you can also use
<tt>installXX.iso</tt> or you can make your own.

<li><b>HTTP:</b>
Either one of the OpenBSD
<a href="../ftp.html#http">mirror sites</a>
or your own local web server holding the file sets.

<li><b>Local disk partition:</b>
In many cases, you can install file sets from another partition
on a local hard disk.
For example, on <a href="../i386.html">i386</a>,
you can install from a FAT partition or a CD-ROM formatted in ISO 9660,
Rock Ridge or Joliet format.
In some cases, you will have to manually mount the file system before using it.

<li><b>NFS:</b>
Some platforms support using NFS mounts for the file sets.

d309 1
a309 2
On modern platforms, you are best advised to not use floppy install
boot images.
d314 29
a342 1
<h3 id="MkCD-ROM">4.3.1 - Making a CD-ROM</h3>
a379 28

<h3 id="Flash">4.3.3 - Creating a bootable install flash drive from Unix</h3>

A bootable USB flash drive (or a CF/SD/other card, external hard disk,
etc) can be created by installing the target device on a Unix machine
via any recognized adapters, then copying over the image with dd.

<p>
Here is an OpenBSD example, assuming the device was recognized as "sd6":

<blockquote><pre>
  # <b>dd if=/location/install*.fs of=/dev/rsd6c bs=1m</b>
</pre></blockquote>

Details of this will vary on other platforms -- the important things are:

<ul>
<li><b><tt>if=</tt></b> the location and name of the image file
<li><b><tt>of=</tt></b> the name of the device being written to -- the
device must be the ENTIRE device (in BSD language, the 'c' partition),
and a raw I/O device (the 'r' in front of the device "sd6"), not a block
mode device.
In some Linux variants, it might be "/dev/sdg" (all of the seventh ("g")
sd disk).
<li><b><tt>bs=1m</tt></b> sets a block size of one megabyte (1024K),
which typically greatly increases the creation speed.
Size is not critical.
</ul>
@


1.381
log
@Cleanup a bit more:
- remove lots of unneeded <p>'s
- use id attributes instead of empty anchors to link to sections
- more consistent whitespace
- wrap some overly long lines
- clean up links to some man pages
@
text
@d33 1
d35 1
a35 1
<li><a href= "#Overview"       >4.1 - Overview of the OpenBSD installation
d37 1
a37 1
<li><a href= "#Checklist"      >4.2 - Pre-installation checklist</a>
d40 6
a45 6
    <ul>
    <li><a href="#MkCD-ROM"    >4.3.1 - Creating a boot CD</a>
    <li><a href="#MkFlop"      >4.3.2 - Creating floppies</a>
    <li><a href="#Flash"       >4.3.4 - Creating a bootable install flash
                                drive from Unix</a>
    </ul>
d50 1
a50 1
  <li><a href="#InstQuestions" >4.5.2 - The Install Questions</a>
d64 1
a64 1
<li><a href= "#FilesNeeded"    >4.7 - What files are needed for
d66 3
a68 3
<li><a href= "#Partitioning"   >4.8 - How should I partition my disk?</a>
<li><a href= "#Multibooting"   >4.9 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href= "#SendDmesg"      >4.10 - Sending your dmesg to dmesg@@openbsd.org
d70 3
a72 3
<li><a href= "#AddFileSet"     >4.11 - Adding a file set after install</a>
<li><a href= "#bsd.rd"         >4.12 - What is 'bsd.rd'?</a>
<li><a href= "#InstProb"       >4.13 - Common installation problems</a>
d86 2
a87 2
<li><a href= "#site"           >4.14 - Customizing the install process</a>
<li><a href= "#Multiple"       >4.15 - How can I install a number of similar
d559 1
a559 1
<h3 id="InstQuestions">4.5.2 - The Install Questions</h3>
@


1.380
log
@Remove "large drives" and "backup" sections. Extremely verbose,
quite old, largely unmaintained.  If people start asking questions
on the lists, we can always add something back.
@
text
@d161 2
a162 1
<li><a href="../loongson.html"><b>loongson:</b></a> Miniroot, existing OS partition.
a308 1
<p>
d347 2
a348 3
<p>
Modern Windows and Macintosh systems can directly create CDs from ISO
images.
d353 2
a354 4
<p>
<h3 id="MkFlop">
4.3.2 - Creating floppies
</h3>
d369 1
a370 1
<h3 id="Flash">4.3.3 - Creating a bootable install flash drive from Unix</h3>
d377 1
d381 1
d383 1
a394 1

a431 1
<p>
a435 1
<p>
a438 1
<p>
a497 1
<p>
a506 1
<p>
a536 1

d542 2
a543 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=autoinstall">autoinstall(8)</a>.
a567 1
<p>
a576 1
<p>
a580 1
<p>
a584 1
<p>
a591 1
<p>
a596 1
<p>
a613 1
<p>
a622 1
<p>
a633 1
<p>
a641 1
<p>
d643 1
a643 1
<p>
a648 1
<p>
a657 1
<p>
a661 1
<p>
a665 1
<p>
a669 1
<p>
a679 1
<p>
d684 2
a685 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86">xf86(4)</a> aperture driver
disabled, as the graphics engine on a modern video card could
a689 1
<p>
a693 1
<p>
a700 1
<p>
a704 1
<p>
a712 1
<p>
a721 1
<p>
a736 1
<p>
a740 1
<p>
d752 2
a753 1
More on setting the time zone <a href="#MoreTimeZone" id="backMoreTimeZone">here</a>.
a796 1
<p>
a812 1
<p>
d845 2
a846 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel">disklabel(8)</a>:
a847 1
<p>
a865 1
<p>
d872 2
a873 1
More details on the disklabel partitioning <a href="#Moredisklabel" id="BackMoredisklabel">below</a>.
d896 1
a896 1
<p>
a902 1
<p>
a908 1
<p>
a912 1
<p>
a914 1
<p>
a924 2

<p>
a959 1
<p>
d963 1
d965 1
d969 1
a969 1
<p>
a975 1
<p>
a1003 1
<p>
a1011 1
<p>
a1015 1
<p>
a1018 1
<p>
a1029 1
<p>
d1032 1
d1036 1
a1036 1
<p>
a1037 1
<h4>Before you reboot</h4>
d1055 2
a1056 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot">afterboot(8)</a>.
d1077 1
a1086 1
<p>
a1093 1
<p>
a1097 1
<p>
a1102 1
<p>
a1105 1
<p>
a1112 1
<p>
a1122 1
<p>
a1151 1
<p>
d1155 1
d1177 1
a1177 2
Simply hit <tt>?</tt> at each prompt, and the installer will show you
options.
a1180 1
<p>
a1201 1
<p>
a1265 1
<p>
a1271 1
<p>
a1275 1
<p>
a1296 1
<p>
a1308 1
<p>
a1317 1
<p>
a1320 1
<p>
a1350 1
<p>
a1351 1
<p>
a1356 1
<p>
a1371 1
<p>
a1383 1
<p>
a1388 1
<p>
d1398 1
a1398 1
<p>
a1412 1
<p>
a1427 1
<p>
a1438 1
<p>
a1442 1
<p>
a1448 1
<p>
a1455 1
<p>
a1469 1
<p>
a1480 1
<p>
a1486 1
<p>
a1489 1
<p>
a1494 1
<p>
a1496 1
<p>
a1510 1
<p>
a1520 1
<p>
d1523 1
a1523 2
<p>
<a name="Moredisklabel"></a><h3>4.6.4 - Custom disklabel layout</h3>
d1526 2
a1527 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel">disklabel(8)</a>
a1607 1
<p>
a1625 1
<p>
a1629 1
<p>
a1647 1
<p>
a1658 1
<p>
a1668 1
<p>
a1688 1
<p>
a1697 1
<p>
a1707 1
<p>
a1752 1
<p>
a1761 1
<p>
a1793 1
<p>
a1800 1
<p>
a1837 1
<p>
d1840 1
a1840 3
<p>
<a name= "FilesNeeded"></a><h2>4.7 - What files are needed for
installation?</h2>
d1848 1
a1848 1
<p>
d1874 3
a1876 2
<a name="FilesNeededX"></a>
<h3>Why do I have to install X for my non-graphical application?</h3>
d1910 2
a1911 1
<a name="FilesNeededComp"></a><h3>I don't want to install the compilers</h3>
d1927 1
a1927 2
<p>
<a name="Partitioning"></a><h2> 4.8 - How should I partition my disk?</h2>
d2127 2
a2128 2
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump">dump(8)</a
 >/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore">restore(8)</a>,
a2138 1

d2141 1
a2141 2
<p>
<a name= "Multibooting"></a><h2>4.9 - Multibooting OpenBSD (amd64, i386)</h2>
d2163 1
d2178 1
d2201 2
a2202 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot(8)</a>
a2223 1
<p>
a2230 1
<p>
a2239 1
<p>
d2250 1
a2250 1
<p>This must be run in a shell with administrative privileges.
a2275 1
<p>
a2279 1
<p>
a2300 1
<p>
a2307 1
<p>
a2313 1
<p>
d2340 1
d2350 2
a2351 3
<p>
<a name= "SendDmesg"></a><h2>4.10 - Sending your dmesg to
dmesg@@openbsd.org after the install</h2>
a2376 1
<p>
d2386 1
d2388 1
d2392 1
d2438 1
a2439 1
<a name="AddFileSet"></a><h2>4.11 - Adding a file set after install</h2>
d2441 1
d2449 1
d2456 2
a2457 2
Aside from the kernel(s), the install file sets are simply compressed tar
files.
d2496 1
a2496 2
<p>
<a name="bsd.rd"></a><h2>4.12 - What is 'bsd.rd'?</h2>
a2521 1
<p>
a2531 1
<p>
d2539 3
a2541 2
<p>
<a name="InstProb"></a><h2>4.13 - Common installation problems</h2>
a2542 1
<a name="noboot"></a><h3>4.13.2 - My i386 won't boot after install</h3>
d2550 3
a2552 3
(bootable).
See <a href="faq14.html#fdisk">here</a> and
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">here</a>.
d2562 1
a2562 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
d2576 1
d2578 2
a2579 1
</ul>
a2580 2
<a name="sshhang"></a><h3>4.13.3 - My (older, slower) machine booted,
but hung at the ssh-keygen steps</h3>
d2584 2
a2585 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen">ssh-keygen(1)</a>
d2589 1
a2589 3
<p>
<a name="noftplist"></a><h3>4.13.4 - Why aren't the downloadable
images self-signed?</h3>
d2604 2
a2605 3
<p>
<a name="blankfdisk"></a><h3>4.13.5 - My fdisk partition
table is trashed or blank!</h3>
d2610 1
a2610 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
d2628 2
a2629 3
<p>
<a name="noflopcd"></a><h3>4.13.6 - I have no floppy or
CD-ROM on my machine</h3>
a2673 1

d2682 2
a2683 3
<p>
<a name="shamismatch"></a><h3>4.13.7 - I got a "Continue without
verification?" message during install!</h3>
d2695 1
d2697 1
a2697 2
<p>
<a name="site"></a><h2>4.14 - Customizing the install process</h2>
a2698 1
<h3><tt>siteXX.tgz</tt> file</h3>
d2749 1
d2808 2
a2809 3
<p>
<a name="Multiple"></a><h2>4.15 - How can I install a number of
similar systems?</h2>
d2814 1
d2818 1
d2834 1
d2854 3
a2856 3
<p>
<a name="getdmesg"></a><h2>4.16 - How can I get a dmesg(8) to report
an install problem?</h2>
d2899 2
a2900 1
<p><b>i386</b>
d2905 1
a2905 3
<p>
<blockquote>
<pre>
d2907 1
a2907 2
</pre>
</blockquote>
a2908 1
<p>
d2913 2
a2914 1
<p><b>Sparc/Sparc64</b>
d2923 1
a2923 3
<p>
<blockquote>
<pre>
d2927 1
a2927 2
</pre>
</blockquote>
@


1.379
log
@Can I use a flash memory device with OpenBSD?
Yes.
@
text
@a785 7
<i><b>Important Note:</b>
Users with a large hard disk (larger than was commonly available when
your computer was made) will want to see
<a href="faq14.html#LargeDrive">this section</a> before going any
further.</i>

<p>
a2055 1
For more details, see <a href="faq14.html#LargeDrive">FAQ 14</a>.
d2201 1
a2201 2
 very time-consuming or not even feasible on older, slower systems
 (please also refer to <a href="faq14.html#LargeDrive">this section</a>).
d2884 2
a2885 2
<li> Do an <a href="faq14.html#Backup">immediate backup/archive</a> of
the new system before you expose it to the rest of the world.
a2933 1
More details <a href="faq14.html#Backup">here</a>.
@


1.378
log
@Remove very long, at times very outdated, description of boot process
for i386/amd64 and just refer to the relevant man pages. Nuke pointless
extra section on installboot. Don't pretend we document both i386 and
amd64 and just use amd64 as a proxy. Update anchor to reflect this.
@
text
@d2757 1
a2757 2
Prepare the device on another computer as described in
<a href="faq14.html#flashmemLive">FAQ 14</a>.
@


1.377
log
@merge instructions for downloading and verifying releases into one section.
@
text
@d1550 1
a1550 1
<a href="faq14.html#Boot386">MBR</a> was completely blank.
d2726 1
a2726 1
The system then <a href="faq14.html#Boot386">boots</a> using the PBR,
@


1.376
log
@The "Use DUIDs rather than device names in fstab" question is gone.
@
text
@d266 1
d268 1
a268 1
<a href="faq3.html#Verify">verify</a> the signatures on your downloads.
d2797 1
d2806 1
a2806 1
detailed <a href="faq3.html#Verify">here</a>.
@


1.375
log
@Unify spelling of ISO 9660
@
text
@a835 1
Use DUIDs rather than device names in fstab? [yes] <i><b>Enter</b></i>
@


1.374
log
@- remove section 1.9 "what's new in 5.8" (just read the release page)
- remove section 2.1 "web pages of interest"
- amd 64 -> amd64
- mail list -> mailing list
- clean up table of contents
- remove "back" button on index (browsers can do this by themselves now)

ok tb
@
text
@d209 2
a210 2
you can install from a FAT partition or a CD-ROM formatted in
ISO9660, Rock Ridge or Joliet format.
d285 1
a285 1
<li><b><tt>cdXX.iso</tt></b> is an ISO9660 image that can be used to
d290 1
a290 1
<li><b><tt>installXX.iso</tt></b> is an ISO9660 image, containing
d317 1
a317 1
<li><b><tt>installXX.iso</tt></b> is an ISO9660 image, containing
@


1.373
log
@Add lost </a> to fix an issue pointed out by lists () wrant ! com
Remove duplicate anchor to make validator.w3n.org happy again.
@
text
@d4 5
a16 2
<!-- Passes validator.w3.org.  Please keep it this way -->

d2974 1
a2974 1
<a href="../mail.html">mail list</a>.
@


1.372
log
@Next step in the unification process

- strip trailing white space
- new sentence, new line
- simplify man links if possible
- tweak some formulations

help, tweaks and ok tj@@
@
text
@d34 2
a35 1
<li><a href="#MkInsMedia"      >4.3 - Creating bootable OpenBSD install media
a639 1
<p id="backMoreNetwork">
@


1.371
log
@clarify how to handle updated kernels in the -stable file set section,
based on a report from mark carroll <mtbc at ixod.org>

fix a bit of ugly spacing while here.
@
text
@a90 1
<p>
d108 1
a108 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
d128 1
a128 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless&amp;sektion=8">network
d178 2
a179 1
Linux partition.  See <tt>INSTALL.zaurus</tt> for more details.
a215 1
<p>
d262 1
a262 1
Before creating install media, you may wish to 
d320 4
a323 3
boot images. For some of the "bigger" platforms like amd64 and
sparc64, the floppy images have had a lot of drivers and
utilities cut out, which can make installation much more difficult.
a326 1
<p>
d336 1
a336 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>:
d354 1
a354 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&amp;sektion=1">fdformat(1)</a>
d356 1
a356 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>
d358 1
a358 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cmp&amp;sektion=1">cmp(1)</a>
d390 1
a390 1
	
d419 1
a419 1
typically looks like "<tt>ok </tt>".
d459 3
a461 2
options provided. Using the magic of hypertext links, we'll allow you to
read more on the topics that interest you and explore your options.
d470 3
a472 2
Whatever your means of booting is, it is now time to use it.  During
the boot process, the kernel and all of the programs used to install
d489 1
a489 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>,
d508 2
a509 2
And with that, we reach our first question.  You have the four options
shown:
d513 4
a516 3
may have been there.  Note that it is possible to leave some partitions
untouched in this process, such as a <tt>/home</tt>, but assume everything
else is overwritten otherwise.
d519 3
a521 2
information, user data, or additional programs.  No disk formatting is
done, nor are the <tt>/etc</tt> or <tt>/var</tt> directories overwritten.
d528 4
a531 3
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>)
may not start. Check the release page for the version of OpenBSD you're
installing for a link to the detailed steps.
d544 1
a544 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=autoinstall&amp;sektion=8">autoinstall(8)</a>.
d610 4
a613 3
In this case, "<tt>fxp0</tt>" refers to the first device using the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fxp&amp;sektion=4">fxp(4)</a>
driver. <tt>fxp1</tt> would be the second device, etc.
d635 2
a636 1
manually. See the more detailed discussion
d662 3
a664 3
Use a secure password for the root account. Remember, on the Internet,
they ARE out to get into your computer, and they will be trying lots of
common passwords people think are really clever.
d691 2
a692 1
depending on your system. If your hardware is supported by the
d702 1
a702 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">xf86(4)</a> aperture driver
d714 1
a714 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm&amp;sektion=1">xdm(1)</a>
d749 1
a749 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a>
d804 2
a805 2
Some users may be a little confused by the terminology used here. It
will appear we are using the word "partition" in two different ways.
d813 3
a815 3
other OS that uses this disk layout system. The second layer of
partitioning is visible only to OpenBSD and those OSs which can directly
read an OpenBSD filesystem.
d880 1
a880 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>:
d889 1
a889 1
  c:         57231.6M                0  unused                   
d919 1
a919 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8">newfs(8)</a>,
d923 3
a925 2
You will note there is a <i>c</i> partition we seem to have ignored.  This
partition is your entire hard disk. Don't attempt to alter it.
d988 3
a990 2
a slow computer or Internet connection. With a fast computer and
local files, this process may take just a couple minutes or less!
d1085 3
a1087 2
configured for service.  Before doing this, however, it would be wise to
check out the <a href="../errata.html">errata page</a> and see if there
d1101 1
a1101 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>.
d1228 1
a1228 1
Simply hit "<tt>?</tt>" at each prompt, and the installer will show you
d1264 1
a1264 1
Note the directory "<tt>right/</tt>", this directory includes leap second
d1281 1
a1281 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8">fdisk(8)</a>
d1290 1
a1290 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8">fdisk(8)</a>.
d1605 1
a1605 2
<a name="Moredisklabel"></a>
<h3>4.6.4 - Custom disklabel layout</h3>
d1608 1
a1608 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>
d1626 1
a1626 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=growfs&amp;sektion=8">growfs(8)</a>.
d1936 2
a1937 2
<a name= "FilesNeeded"></a>
<h2>4.7 - What files are needed for installation?</h2>
a1938 1
<p>
d2006 1
a2006 2
<a name="FilesNeededComp"></a>
<h3>I don't want to install the compilers</h3>
d2023 1
a2023 2
<a name="Partitioning"></a>
<h2> 4.8 - How should I partition my disk?</h2>
a2024 1
<p>
d2044 3
a2046 3
filesystem with garbage if they have write permissions for it.  Your
critical programs, which hopefully run on a different filesystem, do
not get interrupted.
d2048 3
a2050 2
somewhat fragmented.  (Luckily, the ffs filesystem that OpenBSD uses
is not prone to heavy fragmentation.)
d2054 10
a2063 8
the boot ROM can load the kernel from.  In some cases, this limit may
be very small (504MB for an older 486), in other cases, a much larger
limit (for example, 2GB, 8GB, or 128GB on i386 systems).  As the kernel
can end up anywhere within the root partition, the entire root
partition should be within this area.  For more details, see <a
href="faq14.html#LargeDrive">this section</a>.  A good guideline might
be to keep your / partition completely below 2GB, unless you know your
platform (and particular machine) can handle more (or less) than that.
d2147 2
a2148 2
This directory is empty by default. You have to load it as detailed in
<a href="faq5.html#BldGetSrc">FAQ 5</a>.
d2167 4
a2170 3
 space you need. By doing this you will be sacrificing some of the
 default security features of OpenBSD that require separate
 filesystems for <tt>/, /tmp, /var, /usr</tt> and <tt>/home</tt>.
d2176 2
a2177 1
 <li>A <tt>/home</tt> partition can be nice.  New version of the OS?
d2179 2
a2180 2
 untouched.  Remember to save a copy of your configuration files,
 though!
d2183 3
a2185 3
 reformat and recreate than to delete.  See the <a
 href="faq5.html#ProbObjPt">building by source FAQ</a> for an example
 (<tt>/usr/obj</tt>).
d2187 3
a2189 3
 the source will be in <tt>/usr/src</tt>. <b>If you don't make a
 separate partition for <tt>/usr/src</tt>, make sure <tt>/usr</tt> has
 sufficient space.</b>
d2191 7
a2197 7
 all space on a drive when you set the system up! Since you will now
 find it a challenge to buy a new drive smaller than 100GB, it can make
 sense to leave a chunk of your drive unallocated.  If you outgrow a
 partition, you can allocate a new partition from your unused space,
 <a href="faq10.html#DupFS">duplicate</a> your existing partition to
 the new partition, change
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
d2204 1
a2204 1
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&amp;sektion=8">fsck(8)</a>
d2215 1
a2215 1
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daily&amp;sektion=8">daily(8)</a>.
d2223 1
a2223 1
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&amp;sektion=4">softraid(4)</a>
d2225 2
a2226 2
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a
 >/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>,
a2239 1

d2241 1
a2241 2
<a name= "Multibooting"></a>
<h2>4.9 - Multibooting OpenBSD (amd64, i386)</h2>
d2244 6
a2249 5
some means of selecting which OS is to boot.  It is <i>not</i> a
trivial task!  If you don't understand what you are doing, you may
end up deleting large amounts of data from your computer.  New OpenBSD
users are <i>strongly</i> encouraged to start with a blank hard drive on a
dedicated machine, and then practice your desired configuration on a
d2251 3
a2253 2
production machine.  <a href="faq14.html">FAQ 14</a> has more
information about the OpenBSD boot process.
d2264 5
a2268 4
solution for multibooting.  Simply set the active partition in whatever
OS you are currently using to be the one you want to boot by default
when you next boot.  Virtually every OS offers a program to do
this. OpenBSD's is <a href="faq14.html#fdisk">fdisk(8)</a>, and similarly
d2279 4
a2282 4
using a boot floppy.  Simply use one of the <a href="#MkFlop">standard
OpenBSD install floppies</a>, and create an <tt>/etc/boot.conf</tt> file
(yes, you will also have to create an <tt>/etc</tt> directory on the
floppy) with the contents:
d2284 1
a2284 1
<pre>
d2286 1
a2286 1
</pre>
d2289 6
a2294 4
kernel file <tt>/bsd</tt>.  Note you can also boot from other drives
with a line like: "<tt>boot hd2a:/bsd</tt>" to boot off the third
hard drive on your system.  To boot from OpenBSD, slip your floppy in,
reboot.  To boot from the other OS, eject the floppy, reboot.
d2301 4
a2304 3
<tt>/etc/boot.conf</tt>.  The "<tt>boot hd0a:/bsd</tt>" line instructs
boot(8) where to load the kernel from -- in this case, the first HD the
BIOS sees.  Keep in mind that only a small file (<tt>/boot</tt>) is loaded
a2309 1
<p>
d2312 3
a2314 3
environment.  Since <tt>BOOT.INI</tt> is no longer available for
customization, a command-line utility, <tt>bcdedit</tt>, takes its
place.
d2331 4
a2334 4
is shown for illustrative reasons.  Take note of the GUID displayed
when you run this command as this value will need to be copied into
the following commands.  Simply copying the GUID shown above will not
work.
d2351 1
a2351 1
Once you've located cmd.exe, right click to be able to select 
d2355 3
a2357 2
Note the absolute pathname of the imported PBR file. Do not add a drive
letter as it is assumed that the file is placed in the system partition.
d2364 2
a2365 2
ultimately followed by OpenBSD.  Selecting either entry will boot the
corresponding operating system.
d2370 2
a2371 1
boot menu. You can also use this to boot OpenBSD by default.
d2382 2
a2383 2
or by searching Microsoft's documentation and Website.  A good
introduction can be found in this TechNet
a2393 1
<p>
d2395 2
a2396 2
versions of Windows to be booted through <tt>bcdedit</tt>.  Because of
this greater control, five commands are required to configure a
d2414 3
a2416 2
system-dependent.  Note the value you receive when executing, and copy
it into the following commands:
a2436 1
<p>
d2455 2
a2456 2
<a name= "SendDmesg"></a>
<h2>4.10 - Sending your dmesg to dmesg@@openbsd.org after the install</h2>
a2457 1
<p>
d2485 3
a2487 3
want you to test or change in order to get your setup working. It's not
important at all to send the email from the same machine that is running
OpenBSD, so if that machine is unable to receive email, just
d2489 1
a2489 1
<pre>
d2491 1
a2491 1
</pre>
d2493 1
a2493 1
<pre>
d2495 1
a2495 1
</pre>
d2509 1
a2509 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd</a>
d2542 1
a2542 2
<a name="AddFileSet"></a>
<h2>4.11 - Adding a file set after install</h2>
d2547 2
a2548 2
time you installed your system.  Good news: there are two easy ways to
add file sets after the initial install.
d2552 3
a2554 3
rather than (I)nstall.  When you get to the list of file sets, choose the
ones you neglected to install the first time around and let it install them
for you.
d2558 2
a2559 2
files. You can expand them manually from the directory in which the file
sets reside:
d2576 3
a2578 2
to add missing file sets.  This does not work.  pkg_add(1) is
the <a href="faq15.html#PkgMgmt">package management tool</a>
d2598 1
a2598 2
<a name="bsd.rd"></a>
<h2>4.12 - What is 'bsd.rd'?</h2>
d2600 3
a2602 3
<b><tt>bsd.rd</tt></b> is a RAM disk kernel.  This file can be very
useful; many developers are careful to keep it on the root of their
system at all times.
d2608 3
a2610 2
from a RAM-based filesystem.  <tt>bsd.rd</tt> also includes a healthy set
of utilities to allow you to do system maintenance and installation.
d2615 2
a2616 2
filesystem, boot it, and run the install from it.  On most
platforms, if you have a running older version of OpenBSD, you
d2644 1
a2644 2
<a name="InstProb"></a>
<h2>4.13 - Common installation problems</h2>
d2646 1
a2646 3
<p>
<a name="noboot"></a>
<h3>4.13.2 - My i386 won't boot after install</h3>
d2648 2
a2649 2
OpenBSD attempting to boot.  There are a few common reasons for this
problem:
d2654 2
a2655 2
(bootable). See
<a href="faq14.html#fdisk">here</a> and
d2661 1
a2661 1
use the "<tt>reinit</tt>" option of fdisk(8), the
d2663 2
a2664 2
otherwise, the existing master boot code is untouched.  This will be a
problem if no other boot record existed.
d2667 1
a2667 1
to update the MBR code from the command line:
d2683 2
a2684 3
<a name="sshhang"></a>
<h3>4.13.3 - My (older, slower) machine booted, but hung at the ssh-keygen
steps</h3>
d2686 3
a2688 3
to do the ssh key generation process.  A SPARCStation2 or a slow 80486
may take <i>several hours</i> to complete the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1">ssh-keygen(1)</a>
d2693 2
a2694 2
<a name="noftplist"></a>
<h3>4.13.4 - Why aren't the downloadable images self-signed?</h3>
d2705 3
a2707 2
successfully.  Thus, you must <a href="faq3.html#Verify">verify</a> your
installer downloads separately.
d2710 2
a2711 2
<a name="blankfdisk"></a>
<h3>4.13.5 - My fdisk partition table is trashed or blank!</h3>
d2735 2
a2736 2
<a name="noflopcd"></a>
<h3>4.13.6 - I have no floppy or CD-ROM on my machine</h3>
d2746 1
a2746 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=diskless&amp;sektion=8">diskless(8)</a>
d2769 1
a2769 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&amp;sektion=4">ahci(4)</a>
d2772 1
a2772 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wd&amp;sektion=4">wd(4)</a>
d2774 1
a2774 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sd&amp;sektion=4">sd(4)</a>.
d2776 1
a2776 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pciide&amp;sektion=4">pciide(4)</a>
d2778 1
a2778 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ahci&amp;sektion=4">ahci(4)</a>
d2792 2
a2793 2
<a name="shamismatch"></a>
<h3>4.13.7 - I got a "Continue without verification?" message during install!</h3>
d2806 1
a2806 2
<a name="site"></a>
<h2>4.14 - Customizing the install process</h2>
d2810 3
a2812 2
user-created set called "<tt>siteXX.tgz</tt>", where XX is the release
version.  The <tt>siteXX.tgz</tt> file set is, like the other
d2814 1
a2814 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gzip&amp;sektion=1">gzip(1)</a>
d2816 1
a2816 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>
d2818 2
a2819 2
options <tt>xzphf</tt>.  This set will be installed last, after
all other file sets.
d2829 1
a2829 1
"<tt>siteXX-puffy.tgz</tt>".
d2837 3
a2839 3
since first installing OpenBSD. Then, if you have to re-create the
system, you simply select siteXX.tgz during the re-install and all of
your changes are replicated on the new system.
d2849 1
a2849 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
d2851 1
a2851 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5"
d2853 1
a2853 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf.local&amp;sektion=8"
d2863 4
a2866 4
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=8">chroot</a>ed
to the installed/upgraded system's root.  Remember, the upgrade is done
from a booted file system, so your target file system is actually
mounted on <tt>/mnt</tt>.
d2868 2
a2869 2
it is running in the "normal" root of your file system.  Since this
script is run after all the files are installed, you have much of the
d2872 3
a2874 2
available. Due to space constraints, things that work today may not
work in a future release.
d2893 1
a2893 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rdate&amp;sektion=8">rdate(8)</a>
d2897 2
a2898 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.firsttime&amp;sektion=8">rc.firsttime(8)</a>
d2900 2
a2901 1
write to this file). At boot time, rc.firsttime is executed once then deleted.
d2918 2
a2919 2
<a name="Multiple"></a>
<h2>4.15 - How can I install a number of similar systems?</h2>
d2928 1
a2928 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>
d2930 1
a2930 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a>.
d2937 1
a2937 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore</a>
d2939 2
a2940 2
<a href="faq14.html#InstBoot">boot blocks</a>. More details
<a href="faq14.html#Backup">here</a>.
d2946 2
a2947 2
as a "generic" partition, and can make an image of the whole disk. This
often accomplishes your goal, but usually with huge amounts of wasted
d2949 3
a2951 3
space in the image, even if there isn't a single file in it.  While you
can typically install a drive image to a larger drive, you would not be
able to directly use the extra space, and you would not be able to
d2956 1
a2956 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd</a>
d2958 2
a2959 1
sector-for-sector.  This would provide the same functionality as
d2963 2
a2964 2
<a name="getdmesg"></a>
<h2>4.16 - How can I get a dmesg(8) to report an install problem?</h2>
d2967 1
a2967 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg(8)</a>.
d2971 2
a2972 1
<a href="../mail.html">mail list</a>.  There are other ways, however:
d2977 3
a2979 2
another machine.  Place an MSDOS formatted floppy in your disk drive and
execute the following commands:
d2989 2
a2990 1
hold the dmesg.  In that case, leave off the "<tt>-t msdos</tt>" above.
@


1.370
log
@replace a disorganized assortment of tables and hand-rolled command output
with more standard formatting. while here, run a few less of those commands
as root where it's not needed. the cvs checkout examples were adopted to
use the wsrc group as is done in the ports faq.

input/ok tb
@
text
@d6 3
a8 2
<meta name= "description"   content= "OpenBSD FAQ 4 - Installation Guide">
<meta name= "copyright"     content= "This document copyright 1998-2015 by OpenBSD.">
d31 4
a34 6
<li><a href= "#Overview"    >4.1 - Overview of the OpenBSD installation
                                     procedure</a>
<li><a href= "#Checklist"   >4.2 - Pre-installation checklist</a>

<li><a href="#MkInsMedia"   >4.3 - Creating bootable OpenBSD install
                                     media</a>
d36 4
a39 4
    <li><a href="#MkCD-ROM" >4.3.1 - Creating a boot CD</a>
    <li><a href="#MkFlop"   >4.3.2 - Creating floppies</a>
    <li><a href="#Flash"    >4.3.4 - Creating a bootable install flash
	 drive from Unix</a>
d41 2
a42 2
<li><a href="#Boot"         >4.4 - Booting OpenBSD install media</a>
<li><a href="#Install"      >4.5 - Performing a simple install</a>
d44 7
a50 7
  <li><a href="#InstStart"    >4.5.1 - Starting the install</a>
  <li><a href="#InstQuestions">4.5.2 - The Install Questions</a>
  <li><a href="#InstDisks"    >4.5.3 - Setting up disks</a>
  <li><a href="#InstMedia"    >4.5.4 - Choosing installation media and
    file sets</a>
  <li><a href="#Inst1stBoot"  >4.5.5 - First Boot!</a>
  <li><a href="#InstFinish"   >4.5.6 - One Last Thing...</a>
d52 1
a52 2

<li><a href="#More"         >4.6 - Details for a more complex install</a>
d54 4
a57 4
  <li><a href="#MoreNetwork"  >4.6.1 - Setting up the network</a>
  <li><a href="#MoreTimeZone" >4.6.2 - Setting the time zone</a>
  <li><a href="#Morefdisk"    >4.6.3 - Custom fdisk(8) layout</a>
  <li><a href="#Moredisklabel">4.6.4 - Custom disklabel layout</a>
d59 9
a67 8
<li><a href= "#FilesNeeded" >4.7 - What files are needed for installation?</a>
<li><a href= "#Partitioning">4.8 - How should I partition my disk?</a>
<li><a href= "#Multibooting">4.9 - Multibooting OpenBSD (amd64, i386)</a>
<li><a href= "#SendDmesg"   >4.10 - Sending your dmesg to dmesg@@openbsd.org
                                     after the install</a>
<li><a href= "#AddFileSet"  >4.11 - Adding a file set after install</a>
<li><a href= "#bsd.rd"      >4.12 - What is 'bsd.rd'?</a>
<li><a href= "#InstProb"    >4.13 - Common installation problems</a>
d69 11
a79 11
  <li><a href="#noboot"     >4.13.2 - My i386 won't boot after install</a>
  <li><a href="#sshhang"    >4.13.3 - My machine booted, but hung at the
     ssh-keygen process</a>
  <li><a href="#noftplist"  >4.13.4 - Why don't the downloadable images
     include SHA256.sig?</a>
  <li><a href="#blankfdisk" >4.13.5 - My fdisk partition table is trashed
     or blank!</a>
  <li><a href="#noflopcd"   >4.13.6 - I have no floppy or CD-ROM on my
     machine</a>
  <li><a href="#shamismatch">4.13.7 - I got the message "Failed to change directory"
     when doing an install!</a>
d81 5
a85 5
<li><a href= "#site"        >4.14 - Customizing the install process</a>
<li><a href= "#Multiple"    >4.15 - How can I install a number of similar
     systems?</a>
<li><a href="#getdmesg"     >4.16 - How can I get a dmesg(8) to report an
     install problem?</a>
d2535 2
a2536 2
time you installed your system.  Good news: There are two easy ways to
add file sets after the initial install:
d2539 4
a2542 4
Simply boot your install media (CD-ROM, USB drive, etc.) and choose Upgrade
(rather than Install).  When you get to the lists of file sets to
install, choose the sets you neglected to install first time around,
select your source, and let it install them for you.
d2545 3
a2547 2
The install file sets are simply compressed tar files, and you can
expand them manually from the directory in which the file sets reside:
a2548 1
<p>
d2553 3
d2557 4
a2560 2
Do NOT forget the <tt>'p'</tt> option in the above command in
order to restore the file permissions properly!
d2563 1
a2563 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
d2570 4
a2573 5
If you are installing the <tt>xbase</tt> file set on your system for the first time
using tar(1) and without rebooting, the shared library cache must be
updated after the installation using
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldconfig&amp;sektion=8"
>ldconfig(8)</a>.
d2581 2
a2582 3
automatically by the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8"
>rc(8)</a> startup script.
@


1.369
log
@Last part of the FAQ patches from TJ for the moment.

faq2.html:
- remove link to openbsdsupport.org
- mention that errata notices are sent to announce@@
- remove security-announce@@ description
- mention that src-changes also includes xenocara and www
  commits

faq4.html:
- machdep.allowaperture can also be 0

Thanks a lot, TJ!
@
text
@d340 3
a342 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>cdio tao cd*.iso</b>
</pre></td></tr></table>
d431 3
a433 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot floppy</b>
</pre></td></tr></table>
d440 3
a442 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot cdrom</b>
</pre></td></tr></table>
d498 8
a505 8
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ...
  root on rd0a swap on rd0b dump on rd0b
  erase ^?, werase ^W, kill ^U, intr ^C, status ^T

  Welcome to the OpenBSD/i386 X.X installation program.
  (I)nstall, (U)pgrade, (A)utoinstall or (S)hell? <b>i</b>
</pre></td></tr></table>
d567 5
a571 5
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  At any prompt (except password prompts) you can escape to a shell by
  typing '!'. Default answers are shown in brackets and are selected by
  pressing RETURN.  You can exit this program at any time by pressing
  Control-C, but this can leave your system in an inconsistent state.
d573 2
a574 2
  Choose your keyboard layout ('?' or 'L' for list) [default] <b><i>Enter</i></b>
</pre></td></tr></table>
d582 3
a584 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  System hostname? (short form, e.g. 'foo') <i><b>puffy</b></i>
</pre></td></tr></table>
d595 4
a598 4
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available network interfaces are: fxp0 vlan0.
  Which one do you wish to configure? (or 'done') [fxp0] <i><b>Enter</b></i>
</pre></td></tr></table>
d618 8
a625 8
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  IPv4 address for fxp0? (or 'dhcp' or 'none') [dhcp] <b><i>Enter</i></b>
  DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
  DHCPOFFER from 192.168.1.250 (08:00:20:94:0b:c8)
  DHCPREQUEST on fxp0 to 255.255.255.255 port 67
  DHCPACK from 192.168.1.250 (08:00:20:94:0b:c8)
  bound to 192.168.1.199 -- renewal in 43200 seconds.
</pre></td></tr></table>
d640 7
a646 7
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
  Available network interfaces are: fxp0 vlan0.
  Which one do you wish to configure? (or 'done') [done] <b><i>Enter</i></b>
  Using DNS domainname example.org
  Using DNS nameservers at 192.168.1.252
</pre></td></tr></table>
d651 4
a654 4
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Password for root account? (will not echo) <i><b>er8Eeheix0ei</b></i>
  Password for root account? (again) <i><b>er8Eeheix0ei</b></i>
</pre></td></tr></table>
d667 3
a669 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Start sshd(8) by default? [yes] <b><i>Enter</i></b>
</pre></td></tr></table>
d677 3
a679 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you expect to run the X Window System? [yes] <b><i>Enter</i></b>
</pre></td></tr></table>
d703 3
a705 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you want the X Window System to be started by xdm(1)? [no] <b>y</b>
</pre></td></tr></table>
d716 3
a718 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Change the default console to com0? [no] <b><i>Enter</i></b>
</pre></td></tr></table>
d730 8
a737 8
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Setup a user? (enter a lower-case loginname, or 'no') [no] <b>nick</b>
  Full name for user nick? [nick] Nick Holland
  Password for user nick? (will not echo) <b><i>Tu0xie9onahJ</i></b>
  Password for user nick? (again) <b><i>Tu0xie9onahJ</i></b>
  WARNING: root is targeted by password guessing attacks, pubkeys are safer.
  Allow root ssh login? (yes, no, prohibit-password) [no] <i><b>Enter</b></i>
</pre></td></tr></table> <!-- thanks, nick -->
d756 3
a758 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>US/Michigan</b>
</pre></td></tr></table>
d824 16
a839 16
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available disks are: wd0.
  Which one is the root disk? (or 'done') [wd0] <i><b>Enter</b></i>
  Use DUIDs rather than device names in fstab? [yes] <i><b>Enter</b></i>
  Disk: wd0       geometry: 7296/255/63 [117210240 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 07      0   1   1 -   7295 254  63 [           0:   117210177 ] NTFS
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  Use (W)hole disk or (E)dit the MBR? [whole] <i><b>Enter</b></i>
  Setting OpenBSD MBR partition to whole wd0...done.
</pre></td></tr></table>
d877 17
a893 17
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Setting OpenBSD MBR partition to whole wd0...done.
  The auto-allocated layout for wd0 is:
  #                size           offset  fstype [fsize bsize  cpg]
    a:          1024.0M               64  4.2BSD   2048 16384    1 # /
    b:           510.5M          2097216    swap
    c:         57231.6M                0  unused                   
    d:          4096.0M          3142688  4.2BSD   2048 16384    1 # /tmp
    e:          4606.5M         11531264  4.2BSD   2048 16384    1 # /var
    f:          2048.0M         20965312  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         25159616  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          7054.3M         27256768  4.2BSD   2048 16384    1 # /usr/local
    i:          2025.3M         41704064  4.2BSD   2048 16384    1 # /usr/src
    j:          2048.0M         45851808  4.2BSD   2048 16384    1 # /usr/obj
    k:         32795.0M         50046112  4.2BSD   2048 16384    1 # /home
  Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b><i>Enter</i></b>
</pre></td></tr></table>
d925 5
a929 5
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Location of sets? (cd disk http or 'done') [cd] <b>http</b>
  HTTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none] <b><i>Enter</i></b>
  Server? (hostname, list#, 'done' or '?') [ftp5.usa.openbsd.org] <b>mirror.example.org</b>
</pre></td></tr></table>
d939 3
a941 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Server directory? [pub/OpenBSD/X.X/i386] <b><i>Enter</i></b>
</pre></td></tr></table>
d947 9
a955 9
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Select sets by entering a set name, a file name pattern or 'all'. De-select
  sets by prepending a '-' to the set name, file name pattern or 'all'. Selected
  sets are labelled '[X]'.
      [X] bsd           [X] baseXX.tgz    [X] gameXX.tgz    [X] xfontXX.tgz
      [X] bsd.rd        [X] compXX.tgz    [X] xbaseXX.tgz   [X] xservXX.tgz
      [ ] bsd.mp        [X] manXX.tgz     [X] xshareXX.tgz
  Set name(s)? (or 'abort' or 'done') [done] <b><i>Enter</i></b>
</pre></td></tr></table>
d994 3
a996 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Directory does not contain SHA256.sig. Continue without verification? [no]
</pre></td></tr></table>
d998 3
a1000 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Cannot determine prefetch area. Continue without verification? [no]
</pre></td></tr></table>
d1009 27
a1035 27
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Get/Verify SHA256.sig   100% |**************************|  1534       00:01
  Signature Verified
  Verifying  bsd          100% |**************************| 10292 KB    00:05
  Verifying  bsd.rd       100% |**************************|  6867 KB    00:03
  Verifying  baseXX.tgz   100% |**************************| 51721 KB    00:26
  Verifying  compXX.tgz   100% |**************************| 45434 KB    00:28
  Verifying  manXX.tgz    100% |**************************|  8780 KB    00:06
  Verifying  gameXX.tgz   100% |**************************|  2649 KB    00:02
  Verifying  xbaseXX.tgz  100% |**************************| 16510 KB    00:06
  Verifying  xshareXX.tgz 100% |**************************|  4383 KB    00:04
  Verifying  xfontXX.tgz  100% |**************************| 39072 KB    00:17
  Verifying  xservXX.tgz  100% |**************************| 18509 KB    00:15
  Installing bsd          100% |**************************| 10384 KB    00:00
  Installing bsd.rd       100% |**************************|  6803 KB    00:00
  Installing baseXX.tgz   100% |**************************| 51618 KB    00:22
  Extracting etc.tgz      100% |**************************|   109 KB    00:00
  Installing compXX.tgz   100% |**************************| 45434 KB    00:17
  Installing manXX.tgz    100% |**************************|  8780 KB    00:06
  Installing gameXX.tgz   100% |**************************|  2649 KB    00:00
  Installing xbaseXX.tgz  100% |**************************| 16510 KB    00:03
  Extracting xetc.tgz     100% |**************************|  9156       00:00
  Installing xshareXX.tgz 100% |**************************|  4383 KB    00:05
  Installing xfontXX.tgz  100% |**************************| 39072 KB    00:10
  Installing xservXX.tgz  100% |**************************| 18509 KB    00:06
  Location of sets? (cd disk http or 'done') [done] <b><i>Enter</i></b>
</pre></td></tr></table>
d1047 3
a1049 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Time appears wrong.  Set to 'Sat Oct 18 09:21:38 EST 2015'? [yes] <b><i>Enter</i></b>
</pre></td></tr></table>
d1056 3
a1058 8
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Saving configuration files...
  Making all device nodes...done.

  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter 'reboot' at the command prompt.
  When you login to your new system the first time, please read your mail
  using the 'mail' command.
d1060 7
a1066 2
  #
</pre></td></tr></table>
d1101 1
a1101 1
  the web</a>
d1103 1
a1103 1
  installing software</a>
d1123 6
a1128 6
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Which one do you wish to configure? (or 'done') [xl0] <b><i>Enter</i></b>
  IPv4 address for xl0? (or 'dhcp' or 'none') [dhcp] <b>192.168.1.37</b>
  Netmask? [255.255.255.0] 255.255.254.0
  IPv6 address for xl0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
</pre></td></tr></table>
d1136 4
a1139 4
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available network interfaces are: xl0 vlan0.
  Which one do you wish to configure? (or 'done') [done]
</pre></td></tr></table>
d1146 6
a1151 6
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Default IPv4 route? (IPv4 address, 'dhcp' or 'none') <b>192.168.1.1</b>
  add net default: gateway 192.168.1.1
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.org</b>
  DNS nameservers? (IP address list or 'none') [none] <b>192.168.1.250 192.168.1.251</b>
</pre></td></tr></table>
d1165 26
a1190 26
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you want to do any manual network configuration? [no] <b>y</b>
  Type 'exit' to return to install.
  # <b>ifconfig xl0 media</b>
  xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
          lladdr 00:08:74:2c:df:9c
          groups: egress
          media: Ethernet autoselect (100baseTX full-duplex)
          status: active
          supported media:
                  media 10baseT
                  media 10baseT mediaopt full-duplex
                  media 100baseTX
                  media 100baseTX mediaopt full-duplex
                  media autoselect
          inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
  # <b>ifconfig xl0 media 100baseTX mediaopt full-duplex</b>
  # <b>ifconfig xl0</b>
  xl0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
          lladdr 00:08:74:2c:df:9c
          groups: egress
          media: Ethernet 100baseTX full-duplex
          status: active
          inet6 fe80::208:74ff:fe2c:df9c%xl0 prefixlen 64 scopeid 0x1
          inet 192.168.1.37 netmask 0xfffffe00 broadcast 192.168.1.255
  # <b>exit</b>
d1192 1
a1192 1
</pre></td></tr></table>
d1225 20
a1244 20
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  What timezone are you in? ('?' for list) [right/EST5EDT] <b>?</b>
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      UCT
  America/     Cuba         GMT          Jamaica      Navajo       US/
  Antarctica/  EET          GMT+0        Japan        PRC          UTC
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      Universal
  Asia/        EST5EDT      GMT0         Libya        Pacific/     W-SU
  Atlantic/    Egypt        Greenwich    MET          Poland       WET
  Australia/   Eire         HST          MST          Portugal     Zulu
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          posix/
  CET          Europe/      Iceland      Mexico/      ROK          posixrules
  CST6CDT      Factory      Indian/      Mideast/     Singapore    right/
  Canada/      GB           Iran         NZ           Turkey
  What timezone are you in? ('?' for list) [right/EST5EDT] <b>US</b>
  What sub-timezone of 'US' are you in? ('?' for list) ?
  Alaska          Central         Hawaii          Mountain        Samoa
  Aleutian        East-Indiana    Indiana-Starke  Pacific
  Arizona         Eastern         Michigan        Pacific-New
  What sub-timezone of 'US' are you in? ('?' for list) <b>Michigan</b>
</pre></td></tr></table>
d1252 1
a1252 1
  /etc/localtime -> /usr/share/zoneinfo/US/Michigan
d1312 5
a1316 5
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Available disks are: wd0.
  Which one is the root disk? (or 'done') [wd0] <b><i>Enter</i></b>
  MBR has invalid signature; not showing it.
</pre></td></tr></table>
d1324 2
a1325 2
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Use (W)hole disk or (E)dit the MBR? [whole] <b>e</b>
d1327 14
a1340 14
  You will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.  Inside the fdisk command, the
  'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0x0
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
d1343 1
a1343 1
</pre></td></tr></table>
d1359 8
a1366 8
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk: 1> <b>e 0</b>
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help)
</pre></td></tr></table>
d1373 29
a1401 29
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>?</b>
  Choose from the following Partition id values:
  00 unused         20 Willowsoft     66 NetWare 386    A9 NetBSD
  01 DOS FAT-12     24 NEC DOS        67 Novell         AB MacOS X boot
  02 XENIX /        27 Win Recovery   68 Novell         AF MacOS X HFS+
  03 XENIX /usr     38 Theos          69 Novell         B7 BSDI filesy*
  04 DOS FAT-16     39 Plan 9         70 DiskSecure     B8 BSDI swap
  05 Extended DOS   40 VENIX 286      75 PCIX           BF Solaris
  06 DOS > 32MB     41 Lin/Minux DR   80 Minix (old)    C0 CTOS
  07 NTFS           42 LinuxSwap DR   81 Minix (new)    C1 DRDOSs FAT12
  08 AIX fs         43 Linux DR       82 Linux swap     C4 DRDOSs < 32M
  09 AIX/Coherent   4D QNX 4.2 Pri    83 Linux files*   C6 DRDOSs >=32M
  0A OS/2 Bootmgr   4E QNX 4.2 Sec    84 OS/2 hidden    C7 HPFS Disbled
  0B Win95 FAT-32   4F QNX 4.2 Ter    85 Linux ext.     DB CPM/C.DOS/C*
  0C Win95 FAT32L   50 DM             86 NT FAT VS      DE Dell Maint
  0E DOS FAT-16     51 DM             87 NTFS VS        E1 SpeedStor
  0F Extended LBA   52 CP/M or SysV   8E Linux LVM      E3 SpeedStor
  10 OPUS           53 DM             93 Amoeba FS      E4 SpeedStor
  11 OS/2 hidden    54 Ontrack        94 Amoeba BBT     EB BeOS/i386
  12 Compaq Diag.   55 EZ-Drive       99 Mylex          EE EFI GPT
  14 OS/2 hidden    56 Golden Bow     9F BSDI           EF EFI Sys
  16 OS/2 hidden    5C Priam          A0 NotebookSave   F1 SpeedStor
  17 OS/2 hidden    61 SpeedStor      A5 FreeBSD        F2 DOS 3.3+ Sec
  18 AST swap       63 ISC, HURD, *   A6 OpenBSD        F4 SpeedStor
  19 Willowtech     64 NetWare 2.xx   A7 NEXTSTEP       FF Xenix BBT
  1C ThinkPad Rec   65 NetWare 3.xx   A8 MacOS X
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>07</b>
</pre></td></tr></table>
d1407 3
a1409 3
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Do you wish to edit in CHS mode? [n]
</pre></td></tr></table>
d1428 3
a1430 3
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  offset: [0] <b>64</b>
</pre></td></tr></table>
d1441 4
a1444 4
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  size: [0] <b>5g</b>
  Rounding to nearest cylinder: 10490381
</pre></td></tr></table>
d1457 13
a1469 13
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> p
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0x0
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 07      0   1   2 -    652 254  63 [          64:    10490381 ] NTFS
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>
d1488 10
a1497 10
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> e 1
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b><i>Enter</i></b>
  offset: [0]
</pre></td></tr></table>
d1505 5
a1509 5
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  offset: [0] <b>10490445</b>
  size: [0] <b>*</b>
  fdisk:*1>
</pre></td></tr></table>
d1520 13
a1532 13
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0x0
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 07      0   1   1 -    652 254  63 [          64:    10490381 ] NTFS
   1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>
d1547 5
a1551 5
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>update</b>
  Machine code updated.
  fdisk:*1>
</pre></td></tr></table>
d1558 4
a1561 4
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>f 1</b>
  Partition 1 marked active.
</pre></td></tr></table>
d1567 13
a1579 13
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 07      0   1   1 -    652 254  63 [          64:    10490381 ] NTFS
  *1: A6    653   0   1 -   4998   5  63 [    10490445:    69802803 ] OpenBSD
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
  fdisk:*1>
</pre></td></tr></table>
d1593 1
a1593 1
<a href="#BackMorefdisk">(Back to where we may have been)</a>
d1671 1
a1671 1
   this will be partition 'b'
d1682 17
a1698 17
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  The auto-allocated layout for wd0 is:
  #                size           offset  fstype [fsize bsize  cpg]
    a:          1024.0M         10490445  4.2BSD   2048 16384    1 # /
    b:           252.1M         12587597    swap
    c:         39205.7M                0  unused
    d:          2319.3M         13103933  4.2BSD   2048 16384    1 # /tmp
    e:          3653.9M         17853877  4.2BSD   2048 16384    1 # /var
    f:          1149.8M         25337016  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         27691862  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          3422.6M         29789014  4.2BSD   2048 16384    1 # /usr/local
    i:          5122.3M               63    NTFS
    j:          1848.7M         36798433  4.2BSD   2048 16384    1 # /usr/src
    k:          1848.7M         40584654  4.2BSD   2048 16384    1 # /usr/obj
    l:         17540.2M         44370875  4.2BSD   2048 16384    1 # /home
  Use (A)uto layout, (E)dit auto layout, or create (C)ustom layout? [a] <b>c</b>
</pre></td></tr></table>
d1706 17
a1722 17
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.
  You must provide each filesystem's mountpoint in this program.

  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  Label editor (enter '?' for help at any prompt)
  > <b>p</b>
  OpenBSD area: 10490445-80293248; size: 69802803; free: 69802803
  #                size           offset  fstype [fsize bsize  cpg]
    c:         80293248                0  unused
    i:         10490381               64    NTFS
  >
</pre></td></tr></table>
d1737 9
a1745 9
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>a a</b>
  offset: [10490445] <b><i>Enter</i></b>
  size: [69802803] <b>100m</b>
  Rounding to cylinder: 208845
  FS type: [4.2BSD]  <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  >
</pre></td></tr></table>
d1769 8
a1776 8
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>a b</b>
  offset: [10699290] <b><i>Enter</i></b>
  size: [69593958] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [swap] <b><i>Enter</i></b>
  >
</pre></td></tr></table>
d1790 44
a1833 44
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>a d</b>
  offset: [12803805] <b><i>Enter</i></b>
  size: [67489443] <b>2g</b>
  Rounding to cylinder: 4209030
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  > <b>a e</b>
  offset: [17012835] <b><i>Enter</i></b>
  size: [63280413] <b>100m</b>
  Rounding to cylinder: 208845
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  > <b>a f</b>
  offset: [17221680] <b><i>Enter</i></b>
  size: [63071568] <b>2g</b>
  Rounding to cylinder: 4209030
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr/local</b>
  > <b>a g</b>
  offset: [21430710] <b><i>Enter</i></b>
  size: [58862538] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr/X11R6</b>
  > <b>a h</b>
  offset: [23535225] <b><i>Enter</i></b>
  size: [56758023] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  > <b>a j</b>
  offset: [25639740] <b><i>Enter</i></b>
  size: [54653508] <b>1g</b>
  Rounding to cylinder: 2104515
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  > <b>a k</b>
  offset: [27744255] <b><i>Enter</i></b>
  size: [52548993] <b><i>Enter</i></b>
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var/www</b>
  >
</pre></td></tr></table>
d1846 17
a1862 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>p</b>
  OpenBSD area: 10490445-80293248; size: 69802803; free: 0
d1864 13
a1876 27
    a:           208845         10490445  4.2BSD   2048 16384    1 # /
    b:          2104515         10699290    swap
    c:         80293248                0  unused
    d:          4209030         12803805  4.2BSD   2048 16384    1 # /usr
    e:           208845         17012835  4.2BSD   2048 16384    1 # /tmp
    f:          4209030         17221680  4.2BSD   2048 16384    1 # /usr/local
    g:          2104515         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          2104515         23535225  4.2BSD   2048 16384    1 # /home
    i:         10490381               64    NTFS
    j:          2104515         25639740  4.2BSD   2048 16384    1 # /var
    k:         52548993         27744255  4.2BSD   2048 16384    1 # /var/www
  > <b>p m</b>
  OpenBSD area: 10490445-80293248; size: 34083.4M; free: 0.0M
    #                size           offset  fstype [fsize bsize  cpg]
    a:           102.0M         10490445  4.2BSD   2048 16384    1 # /
    b:          1027.6M         10699290    swap
    c:         39205.7M                0  unused
    d:          2055.2M         12803805  4.2BSD   2048 16384    1 # /usr
    e:           102.0M         17012835  4.2BSD   2048 16384    1 # /tmp
    f:          2055.2M         17221680  4.2BSD   2048 16384    1 # /usr/local
    g:          1027.6M         21430710  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          1027.6M         23535225  4.2BSD   2048 16384    1 # /home
    i:          5122.3M               64    NTFS
    j:          1027.6M         25639740  4.2BSD   2048 16384    1 # /var
    k:         25658.7M         27744255  4.2BSD   2048 16384    1 # /var/www
  >
</pre></td></tr></table>
d1887 32
a1918 32
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  > <b>w</b>
  > <b>q</b>
  No label changes.
  newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
  enlarge last cylinder group
  /dev/rwd0a: 102.0MB in 208844 sectors of 512 bytes
  5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
  /dev/rwd0h: 1027.6MB in 2104512 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  newfs: reduced number of fragments per cylinder group from 13048 to 12992 to
  enlarge last cylinder group
  /dev/rwd0e: 102.0MB in 208844 sectors of 512 bytes
  5 cylinder groups of 25.38MB, 1624 blocks, 3328 inodes each
  /dev/rwd0d: 2055.2MB in 4209028 sectors of 512 bytes
  11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0g: 1027.6MB in 2104512 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0f: 2055.2MB in 4209028 sectors of 512 bytes
  11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0j: 1027.6MB in 2104512 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0k: 25658.7MB in 52548992 sectors of 512 bytes
  127 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0e on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0d on /mnt/usr type ffs (rw, asynchronous, local, nodev)
  /dev/wd0g on /mnt/usr/X11R6 type ffs (rw, asynchronous, local, nodev)
  /dev/wd0f on /mnt/usr/local type ffs (rw, asynchronous, local, nodev)
  /dev/wd0j on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0k on /mnt/var/www type ffs (rw, asynchronous, local, nodev, nosuid)
d1920 1
a1920 1
  Let's install the sets!
d1922 1
a1922 1
</pre></td></tr></table>
d1925 1
a1925 1
<a href="#BackMoredisklabel">(Back to where we may have been)</a>
d1940 22
a1961 16
  <li><b><i>bsd</i></b>          - This is the Kernel - <b>Required</b>
  <li><b><i>bsd.mp</i></b> - Multi-processor (SMP) kernel (only some
     platforms)
  <li><b><i>bsd.rd</i></b> - <a href="#bsd.rd">RAM disk kernel</a>
  <li><b><i>baseXX.tgz</i></b>   - Contains the base OpenBSD system -
    <b>Required</b>
  <li><b><i>compXX.tgz</i></b>    - Contains the compiler and its
    tools, headers and libraries
  <li><b><i>manXX.tgz</i></b>    - Contains man pages
  <li><b><i>gameXX.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbaseXX.tgz</i></b>  - Contains the base libraries and
    utilities for X11
  <li><b><i>xfontXX.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xservXX.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshareXX.tgz</i></b> - Contains manpages, locale settings,
    includes, etc. for X
d2036 3
a2038 3
  'noexec', 'readonly', etc.
  This is done for you by the install process if you use the
  recommended partitions.
d2040 3
a2042 3
  filesystem with garbage if they have write permissions for it.  Your
  critical programs, which hopefully run on a different filesystem, do
  not get interrupted.
d2044 2
a2045 2
  somewhat fragmented.  (Luckily, the ffs filesystem that OpenBSD uses
  is not prone to heavy fragmentation.)
d2047 1
a2047 1
  then your other filesystems are most likely still OK.
d2049 8
a2056 8
  the boot ROM can load the kernel from.  In some cases, this limit may
  be very small (504MB for an older 486), in other cases, a much larger
  limit (for example, 2GB, 8GB, or 128GB on i386 systems).  As the kernel
  can end up anywhere within the root partition, the entire root
  partition should be within this area.  For more details, see <a
  href="faq14.html#LargeDrive">this section</a>.  A good guideline might
  be to keep your / partition completely below 2GB, unless you know your
  platform (and particular machine) can handle more (or less) than that.
d2058 3
a2060 3
  rarely need to write to as "Read-only" most of the time, which will
  eliminate the need for fsck(8) after a crash or power interruption,
  and may help prevent unintended data alteration.
d2062 2
a2063 2
  fsck(8), and on small-memory systems, you can end up having to use
  swap, resulting in very long fsck times.
d2107 10
a2116 10
  <li><tt>/var/log</tt>: System logs.
  <li><tt>/var/mail</tt>: Incoming mail boxes.
  <li><tt>/var/spool</tt>: Outgoing mail (and other things)
  <li><tt>/var/www</tt>: OpenBSD's web server lives here.
  <li><tt>/var/crash</tt>: If the system panics, it will attempt to
     save a core dump in the swap partition before rebooting.
     This core dump will then be saved to <tt>/var/crash</tt> upon
     reboot, so <tt>/var</tt> will need at least as much free space as
     the system has RAM for this to work automatically.
   </ul>
d2159 6
a2164 6
   <tt>/</tt> partition and swap may be easiest until you know how much
   space you need. By doing this you will be sacrificing some of the
   default security features of OpenBSD that require separate
   filesystems for <tt>/, /tmp, /var, /usr</tt> and <tt>/home</tt>.
   However, you probably should not be going into production with your
   first OpenBSD install.
d2166 2
a2167 2
   have a separate <tt>/var</tt> (and maybe even a separate
   <tt>/var/log</tt>) for logging.
d2169 3
a2171 3
   Wipe and reload everything else, leave your <tt>/home</tt> partition
   untouched.  Remember to save a copy of your configuration files,
   though!
d2173 4
a2176 4
   quantity of files that may need to be deleted can be faster to
   reformat and recreate than to delete.  See the <a
   href="faq5.html#ProbObjPt">building by source FAQ</a> for an example
   (<tt>/usr/obj</tt>).
d2178 3
a2180 3
   the source will be in <tt>/usr/src</tt>. <b>If you don't make a
   separate partition for <tt>/usr/src</tt>, make sure <tt>/usr</tt> has
   sufficient space.</b>
d2182 8
a2189 8
   all space on a drive when you set the system up! Since you will now
   find it a challenge to buy a new drive smaller than 100GB, it can make
   sense to leave a chunk of your drive unallocated.  If you outgrow a
   partition, you can allocate a new partition from your unused space,
   <a href="faq10.html#DupFS">duplicate</a> your existing partition to
   the new partition, change
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
   to point to the new partition, remount, you now have more space.
d2191 2
a2192 2
   you will probably regret it later, when it is time to upgrade your
   system.
d2194 5
a2198 5
   filesystem checks using
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&amp;sektion=8">fsck(8)</a>
   requires about 1MB of RAM per gigabyte of filesystem size, and may be
   very time-consuming or not even feasible on older, slower systems
   (please also refer to <a href="faq14.html#LargeDrive">this section</a>).
d2200 4
a2203 4
   web pages), you might wish to put it on a separate partition, so you
   can use <a href="faq10.html#Quotas">quotas</a> to restrict the space
   they use, and if they fill the partition, no other parts of your
   system will be impacted.
d2205 14
a2218 14
   described in
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daily&amp;sektion=8">daily(8)</a>.
   This can make a daily copy of your <tt>/</tt> partition, giving you
   an extra copy of your kernel and <tt>/etc</tt> configuration files should
   something happen to your root partition.
   Obviously, the <tt>/altroot</tt> partition needs to be at least as big
   as <tt>/</tt>.
   If you have a second drive and have something else duplicating the
   rest of your disk, either software
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=softraid&amp;sektion=4">softraid(4)</a>
   or a periodic copy using
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a
   >/<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>,
   this disk can be bootable after the removal of the primary disk.
d2220 4
a2223 4
   can take huge amounts of space on your <tt>/usr</tt> and <tt>/tmp</tt>
   partitions.
   This is another reason we suggest using
   <a href="faq15.html#PkgMgmt">pre-compiled packages</a> instead.
d2225 3
a2227 3
   this often needs to be as big or bigger than the largest file you edit.
   If you plan on editing 500MB files, your <tt>/tmp</tt> partition will
   need to be much larger than you might have planned on.
d2275 1
a2275 1
     boot hd0a:/bsd
d2451 2
a2452 1
A quote from /usr/src/etc/root/root.mail
d2456 4
a2459 2
 # (dmesg; sysctl hw.sensors) | \
        mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@@openbsd.org
d2519 1
a2519 1
    do not use HTML-formatted email.
d2521 2
a2522 2
    Many email clients are configured to insert line breaks at 72 columns
    (the norm for mailing lists).
d2524 1
a2524 1
    nonsense.
d2526 1
a2526 1
    Put the dmesg output into the body of the message.
d2550 3
a2552 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # tar -C / -xzvphf comp*.tgz
</pre></td></tr></table>
d2610 7
a2616 7
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Using Drive: 0 Partition: 3
  reading boot.....
  probing: pc0 com0 com1 apm mem[639k 255M a20=on]
  disk: fd0 hd0+
  &gt;&gt; OpenBSD/i386 BOOT 3.26
  boot&gt; <b>boot hd0a:/bsd.rd</b>
d2618 1
a2618 1
</pre></td></tr></table>
d2656 5
a2660 3
<pre>
    # fdisk -u wd0
</pre>
d2963 6
a2968 5
<pre>
     mount -t msdos /dev/fd0a /mnt
     dmesg >/mnt/dmesg.txt
     umount /mnt
</pre>
@


1.368
log
@One more part of TJ's humungous diff, still more to come
- improve section on install.fs and miniroot.fs usb images
- openbsd's installer is not very "new" anymore
- remove another aviion mention
- change a few references of "8gb disks" to "8gb of disk space"
- remove a paragraph about how to resize partitions in windows (if we're
  making a windows faq too, count me out.)
- remove windows nt/2000/xp bootloader instructions (there are still two
  sections on vista/7 that we might want to remove, but they might be
  useful for some people. left them for now.)
- remove a few 5.8 mentions and instruct people to check the release page
  for a link to upgrade instructions
- why we were using an ugly stretched-out table for a single command is
  beyond me
- replace a couple mentions of floppies with usb drives or a more generic
  term like "boot media"
- few minor tweaks
@
text
@d682 2
a683 2
Not all systems will ask if you expect to run X, those that do ask
require a sysctl to be set to use it.
d685 5
a689 2
line <tt>machdep.allowaperture=1</tt> or
<tt>machdep.allowaperture=2</tt>, depending on your system.
@


1.367
log
@ftp->http conversion went too far; http isn't so useful for copying dmesg
around. since we don't want to promote ftp, drop it from the list and
add USB-drive instead.
@
text
@d120 1
a120 1
<li><b>CD-ROM:</b> On several platforms a CD-ROM image
d133 3
a135 3
<li><b>Writing a file system image to disk (miniroot):</b> 
Typically, these are written to a USB device to boot up the install
kernel.
a150 2
<li><a href="../aviion.html"><b>aviion:</b></a> Network, existing OS partition.

d184 1
a184 1
All platforms can also use a
d199 1
a199 1
<a href="../ftp.html#http">HTTP mirror sites</a>
d247 1
a247 1
      Will you need to install a "boot manager"?
d322 2
a323 2
boot images, as in some of the "bigger" platforms (such as amd64,
sparc64), the floppy images have had to have a lot of drivers and
d377 3
a379 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # dd if=/location/install*.fs of=/dev/rsd6c bs=1m
</pre></td></tr></table>
d446 1
a446 1
OpenBSD's new installer is designed to install and configure OpenBSD in
d450 1
a450 1
to enter the root password.
d461 1
a461 1
options provided, and using the magic of hypertext links, allow you to
d474 1
a474 1
Once the install kernel is booted, the boot media is no longer needed,
d488 1
a488 1
This text, on many architectures in white on blue, is the
d514 2
a515 2
untouched in this process, such as a <tt>/home</tt>, but otherwise,
assume everything else is overwritten.
d522 1
a522 2
<li>After the install, you will have to <!-- XXXrelease -->
<a href="upgrade58.html#etcUpdates">manually merge</a> the changes
d527 2
a528 1
may not start.
a536 3
<!-- XXXrelease -->
More information on upgrading between releases can be found in the
<a href="upgrade58.html">OpenBSD 5.8 Upgrade Guide</a>.
d542 1
a542 1
Autoinstall files can be "one-for-all", or customized by machine's MAC
d554 1
a554 1
We are assuming you are choosing "(I)nstall" here.
d568 2
a569 2
  At any prompt except password prompts you can escape to a shell by
  typing '!'. Default answers are shown in []'s and are selected by
d592 1
a592 1
'my.domain' will be used.
d609 1
a609 1
driver, <tt>fxp1</tt> would be the second device, etc.
d631 1
a631 1
manually; see the more detailed discussion
d683 1
a683 1
require a sysctl to be set to use X.
d689 1
a689 1
If you do not intend to run X on this system or are not sure, answer 'N'
d692 2
a693 2
There is a potential security advantage to leaving this aperture driver
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">xf86(4)</a>
d720 1
a720 1
Answering "y" here will cause the installer to prompt you for a
d723 2
a724 2
Some platforms do this automatically if no keyboard is attached,
these platforms will not ask this question.
d734 1
a734 1
</pre></td></tr></table>
d750 1
a750 1
or "yes".
d766 1
a766 1
time zone, and you can then just hit "Enter".
d799 1
a799 1
first, one could consider the Operating System partitioning, which is
d804 1
a804 1
other OS that uses this disk layout system, the second layer of
d809 1
a809 1
OpenBSD's new installer attempts to make your disk layout tasks easier
d815 1
a815 1
disk system is.
d818 1
a818 1
For now, we'll take the defaults on our 60G disk.
d848 1
a848 1
<li>Sets that partition as "active".
d851 1
a851 1
There are many times when you won't want to do that, including:
d854 2
a855 4
<li>You wish to retain "setup", "suspend to disk", or other system
partitions.
<li>You wish to build a <a href="#Multibooting">multibooting</a>
system.
d860 2
a861 2
partition flagged as "active".
If you don't do these things using the "Use whole disk" option,
d893 1
a893 1
The installer has presented us with its proposed "Auto layout" for
d897 1
a897 1
If the proposed layout is not appropriate for your needs you can,
d902 3
a904 3
<b>NOTE for re-installers:</b>
The new installer will not clear your old disklabel if you chose
"(C)ustom Layout", but you will need to re-specify each mount point
d915 1
a915 1
partition is your entire hard disk; don't attempt to alter it.
d929 1
a929 1
If you can't remember your favorite (or any!) mirror's location, the
d937 1
a937 1
  Server directory? [pub/OpenBSD/5.8/i386] <b><i>Enter</i></b>
d963 1
a963 1
<li><tt><b>-comp*.tgz</b></tt> removes <tt>compXX.tgz</tt>
d978 1
a978 1
a slow computer or Internet connection, though with a fast computer and
a1003 1
Note that on slow hardware, the "Get/Verify" step can take quite a while.
d1041 1
a1041 1
Again, we just take the default, we are done installing files
d1082 1
a1082 1
On modern computers, this will take a few seconds, you may not even
d1085 1
a1085 1
or more for really slow systems.
d1092 1
a1092 1
you may also find the following links useful:
d1095 2
a1096 2
<li><a href="faq6.html#Setup">Initial Network Setup</a>
<li><a href="faq2.html#ManPages">Man Pages of popular/useful commands</a>
d1098 2
a1099 2
  the Web</a>
<li><a href="faq15.html">The OpenBSD Packages and Ports system for
d1154 1
a1154 1
Sometimes, you will have to do something more, for example set up a
d1196 1
a1196 1
a <i>really</i> simple thing, human time is a politically manipulated
d1244 1
a1244 1
We've now set the time to "US/Michigan".  This creates a symbolic link in
d1297 2
a1298 2
In this example, we will assume we are starting with a blank 40G disk
and wish to create a multiboot system, reserving 5G at the beginning
d1351 1
a1351 1
First, we will make partition "0" a 5G Windows partition (using NTFS),
d1642 2
a1643 2
We have a machine attached to a modest Internet connection, with a 40G
disk, with most of it used for OpenBSD (with the same 5G Windows
d1659 1
a1659 1
The machine is not overly powerful, it can't have more than 1G RAM in
d1666 2
a1667 2
<li><tt>/ - root</tt>: 100m.  This will be 'a'.
<li><tt>swap</tt>: 1G (so we'll always have enough space for a core dump),
d1669 6
a1674 6
<li><tt>/usr</tt>: 2g, partition d
<li><tt>/tmp</tt>: 100m (we don't anticipate much use of this), partition e
<li><tt>/usr/local</tt>: 2g, partition f
<li><tt>/usr/X11R6</tt>: 1g, partition g
<li><tt>/home</tt>: 1g, partition h
<li><tt>/var</tt>: 1g (that's a lot of system log files), partition j
d1750 1
a1750 1
sectors, "M" or "G".
d1755 1
a1755 1
useful include "swap" and "RAID".
d1961 1
a1961 1
just xbaseXX.tgz, the rest of X is not always needed.
d1985 1
a1985 1
IF you need X, just install it.
d1992 1
a1992 2
Ok, don't, but please don't tell yourself this is for "security
reasons".
d2014 1
a2014 1
OpenBSD can be installed in as little as 512M, but using that
d2016 1
a2016 1
Until you have some experience, an 8G or larger hard disk is recommended
d2028 1
a2028 1
  This is done for you by the install process, if you use the
d2041 2
a2042 2
  be very small (504M for an older 486), in other cases, a much larger
  limit (for example, 2G, 8G, or 128G on i386 systems).  As the kernel
d2046 1
a2046 1
  be to keep your / partition completely below 2G, unless you know your
d2067 1
a2067 1
The root file system can be as small as 60M, though 200M to 500M is
d2084 1
a2084 1
Most systems can get by with very modest amounts of storage here, 50M is
d2090 1
a2090 1
Files left unattended here will be purged automatically, this is NOT for
d2131 1
a2131 1
This directory is empty by default, you have to load it as detailed in
d2137 1
a2137 1
Having this directory a separate mount point allows it to be formatted
d2169 1
a2169 1
   the source will be in <tt>/usr/src</tt>.  If you don't make a
d2171 1
a2171 1
   sufficient space.
d2173 2
a2174 2
   all space on a drive when you set the system up! Since  you will now
   find it a challenge to buy a new drive smaller than 100G, it can make
d2187 1
a2187 1
   requires about 1M of RAM per gigabyte of filesystem size, and may be
d2217 1
a2217 1
   If you plan on editing 500M files, your <tt>/tmp</tt> partition will
a2241 7
Note that Windows 7 and Vista can resize their system partitions: go
to the Control Panel, search for "partition", and enter the corresponding
system tool.  Right click on a partition, and you will notice you can shrink
it.  Its main limitation is that the Windows Exchange File can't be moved,
so if you need more space, you may have to move/disable it.

<p>
d2245 1
a2245 1
This is probably the most overlooked, and yet, sometimes the best
d2249 3
a2251 3
this; OpenBSD's is <a href="faq14.html#fdisk">fdisk(8)</a>, similar
named programs are in Windows 9x and DOS, and many other operating
systems.  This can be highly desirable for OSs or systems which take a
d2282 1
a2282 1
BIOS sees.  Keep in mind, only a small file (<tt>/boot</tt>) is loaded
a2285 48
<h3>Windows NT/2000/XP NTLDR</h3>

To multiboot OpenBSD and Windows NT/2000/XP, you can use NTLDR, the
boot loader that NT uses. To multiboot with NT,  you need a copy of your
OpenBSD Partition Boot Record (PBR). After running installboot, you can
copy it to a file using
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>,
following a process similar to:

<pre>
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
</pre>

Note: this is a really good time to remind you that blindly typing in
commands that you don't understand is a really bad idea.
This line will not work directly on most computers.
It is left to the reader to adapt it to their machine.

<p>
Now boot NT and put <tt>openbsd.pbr</tt> in C:. Add a line like this to
the end of <tt>C:\BOOT.INI</tt>:

<pre>
	c:\openbsd.pbr="OpenBSD"
</pre>

<p>
When you reboot, you should be able to select OpenBSD from the NT loader
menu. There is much more information available about NTLDR at the
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">NTLDR
Hacking Guide</a>.

<p>
On Windows XP you can also edit the boot information using the GUI; see the
<a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;289022">XP Boot.ini HOWTO</a>.

<p>
Programs that do much of this for you are available, for example,
<a href="http://www.winimage.com/bootpart.htm">BootPart</a>.
This program can be run from Windows NT/2000/XP, and will fetch
the OpenBSD PBR, place it on your NT/2000/XP partition, and will
add it to <tt>C:\BOOT.INI</tt>.

<p>
Note: The Windows NT/2000/XP  boot loader is only capable of booting OSs
from the primary hard drive.
You can not use it to load OpenBSD from the second drive on a system.

d2296 1
a2296 1
Once OpenBSD's PBR is copied to Vista's system partition, the following
d2501 1
a2501 1
Then transfer this file (using scp/USB-drive/floppy/carrier-pigeon/...) to the
d2528 1
a2528 1
Simply boot your install media (CD-ROM or Floppy), and choose Upgrade
d2574 1
a2574 1
<b><tt>bsd.rd</tt></b> is a "RAM Disk" kernel.  This file can be very
d2579 1
a2579 1
Calling it a "RAM Disk kernel" describes the root filesystem of the
d2629 2
a2630 2
reboot the machine using the boot floppy or media, and "flag" a
partition as "active" (bootable).  See
d2635 1
a2635 1
If you hit "Enter" or answer "w" to the
d2641 1
a2641 2
One solution is to boot the
install media again, drop to the shell and invoke
d2673 1
a2673 1
thus, it can't verify the files during the installation.
d2812 1
a2812 1
system you simply select siteXX.tgz during the re-install and all of
d2815 1
a2815 1
<li>Create a series of machine specific directories that each contain a
d2845 2
a2846 2
Keep in mind that you are running a minimal kernel, not all features are
available, and due to space constraints, things that work today may not
d2882 1
a2882 1
Note: if you will be doing your install from an http server, you will
d2919 1
a2919 1
space --  an empty, 10G <tt>/home</tt> partition will require 10G of
@


1.366
log
@TJ's work on the FAQ continues, this time a big diff with lots of small
fixes:

- only specify the current supported "set debug" choices in the options
  section of the pf faq
- clarify ipv4 vs ipv6 configs in the nat section of the pf faq
- mention that usb disk images are available in addition to the cd isos
- don't say that all donors get their name on the donations page anymore
- replace the last few instances of "ftp mirrors" with "http mirrors" or
  just "mirrors" where appropriate
- reword some 5.8 mentions to reduce the amount of version bumps we have
  to do each release
- few minor tweaks

Thanks!
@
text
@d2565 1
a2565 1
Then transfer this file (using HTTP/scp/floppydisk/carrier-pigeon/...)  to the
@


1.365
log
@fix grammar and reword

inspired by ropers@@gmail.com
@
text
@d100 1
a100 1
document in the <i>platform</i> directory on the CD-ROM or FTP sites
d182 1
a182 3
Linux partition.  See
<a href="http://ftp.openbsd.org/pub/OpenBSD/5.8/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
for details. <!-- XXXrelease - bump link -->
d467 1
a467 1
Installation notes for each platform are on the install CDs and FTP
d505 1
a505 1
  Welcome to the OpenBSD/i386 5.8 installation program.
d507 1
a507 1
</pre></td></tr></table> <!-- XXXrelease -->
d955 3
a957 3
      [X] bsd           [X] base58.tgz    [X] game58.tgz    [X] xfont58.tgz
      [X] bsd.rd        [X] comp58.tgz    [X] xbase58.tgz   [X] xserv58.tgz
      [ ] bsd.mp        [X] man58.tgz     [X] xshare58.tgz
d959 1
a959 1
</pre></td></tr></table> <!-- XXXrelease -->
d1019 8
a1026 8
  Verifying  base58.tgz   100% |**************************| 51721 KB    00:26
  Verifying  comp58.tgz   100% |**************************| 45434 KB    00:28
  Verifying  man58.tgz    100% |**************************|  8780 KB    00:06
  Verifying  game58.tgz   100% |**************************|  2649 KB    00:02
  Verifying  xbase58.tgz  100% |**************************| 16510 KB    00:06
  Verifying  xshare58.tgz 100% |**************************|  4383 KB    00:04
  Verifying  xfont58.tgz  100% |**************************| 39072 KB    00:17
  Verifying  xserv58.tgz  100% |**************************| 18509 KB    00:15
d1029 1
a1029 1
  Installing base58.tgz   100% |**************************| 51618 KB    00:22
d1031 4
a1034 4
  Installing comp58.tgz   100% |**************************| 45434 KB    00:17
  Installing man58.tgz    100% |**************************|  8780 KB    00:06
  Installing game58.tgz   100% |**************************|  2649 KB    00:00
  Installing xbase58.tgz  100% |**************************| 16510 KB    00:03
d1036 3
a1038 3
  Installing xshare58.tgz 100% |**************************|  4383 KB    00:05
  Installing xfont58.tgz  100% |**************************| 39072 KB    00:10
  Installing xserv58.tgz  100% |**************************| 18509 KB    00:06
d1040 1
a1040 1
</pre></td></tr></table> <!-- XXXrelease -->
d2565 1
a2565 1
Then transfer this file (using FTP/scp/floppydisk/carrier-pigeon/...)  to the
d2654 1
a2654 1
can FTP  a new version of <tt>bsd.rd</tt>, reboot from it, and
@


1.364
log
@straight forward -> straightforward

From ropers@@gmail.com
@
text
@d1638 1
a1638 1
More information on why partitioning is beneficial and strategy for
@


1.363
log
@various cleanups, mostly from Larry Hynes, slightly tweaked
@
text
@d93 1
a93 1
OpenBSD has long been respected for its simple and straight forward
@


1.362
log
@consistent use of CD-ROM, some from Larry Hynes
@
text
@d359 1
a359 1
Creating floppies in OpenBSD can be done with the
d361 2
a362 2
to prep the disk and
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>.
d366 1
a366 1
Similar process and tools can be used on other Unix platforms.
d377 1
a377 1
via any recognized adapters, then copying over the image with dd
d847 1
a847 1
disk will remove it!</i>.
d906 3
a908 3
If the proposed layout is not appropriate for your needs, you can,
of course, edit the default or customize it completely, more details
on the disklabel partitioning <a href="#Moredisklabel" id="BackMoredisklabel">below</a>.
d1018 1
a1018 1
  Siguature Verified
d1228 1
a1228 1
If the first level of answers doesn't suite you, pick a continent or
d1441 1
a1441 1
The fdisk platforms need gap before the first partition.
d1947 1
a1947 1
  <li><b><i>bsd</i></b>          - This is the Kernel. <b>Required</b>
d1951 1
a1951 1
  <li><b><i>baseXX.tgz</i></b>   - Contains the base OpenBSD system
d1954 1
a1954 1
    tools, headers and libraries.
d1967 1
a1967 1
Even if you have no intention of running X, some third party
d1972 1
a1972 2
Many people resist installing X on their system without valid reason:

d2260 1
a2260 1
Here are several options to multibooting:
d2317 2
a2318 2
Note: this is a really good time to remind you that blindly typing commands
in you don't understand is a really bad idea.
d2579 1
a2579 1
<li>Do not send the dmesg output as file attachment.
d2718 1
a2718 1
<li><b>In some rare occasions, something may go wrong with the second
@


1.361
log
@get rid of some duplicate content; from TJ
@
text
@d169 1
a169 1
<li><a href="../sgi.html"><b>sgi:</b></a> Network, CDROM.
d291 1
a291 1
  the recommended choice if your hardware can boot from a CDROM.
d297 1
a297 1
  older machines that lack bootable CDROMs.
d440 1
a440 1
Usually, you can boot from the CDROM drive of a Sun system from
@


1.360
log
@Remove one reference to /var/tmp and tweak another; "looks good" nick@@
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.8 Installation Guide</title>
d24 1
a24 1
<h1><font color="#e00000">4 - OpenBSD 5.8 Installation Guide</font></h1>
d121 1
a121 1
(<tt>cd58.iso</tt> for just booting, or <tt>install58.iso</tt> for the
d183 2
a184 2
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.8/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
for details.
d199 1
a199 1
<tt>install58.iso</tt> or you can make your own.
d287 1
a287 1
<li><b><tt>cd58.iso</tt></b> is an ISO9660 image that can be used to
d292 1
a292 1
<li><b><tt>install58.iso</tt></b> is an ISO9660 image, containing
d296 1
a296 1
<li><b><tt>floppy58.fs</tt></b> (Desktop PC) supports many
d299 1
a299 1
<li><b><tt>miniroot58.fs</tt></b> is a disk image, can be written to a
d301 1
a301 1
  This is equivalent to using the <tt>cd58.iso</tt> for install.
d304 1
a304 1
<li><b><tt>install58.fs</tt></b> much like miniroot58.fs, but includes
d306 1
a306 1
  This is equivalent to using <tt>install58.iso</tt>.
d314 2
a315 2
<li><b><tt>floppy58.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd58.iso</tt></b> is an ISO image usable to make your own
d317 1
a317 1
<li><b><tt>miniroot58.fs</tt></b> can be written to a swap partition
d319 1
a319 1
<li><b><tt>install58.iso</tt></b> is an ISO9660 image, containing
d333 2
a334 2
You can create a CD-ROM using the <tt>cd58.iso</tt> or
<tt>install58.iso</tt> files.
d345 1
a345 1
  # <b>cdio tao cd58.iso</b>
d371 1
a371 3
from the 
<a href="http://ftp.openbsd.org/pub/OpenBSD/5.8/tools/">tools</a>
directory on any of the FTP mirrors.
d382 1
a382 1
  # dd if=/location/install58.fs of=/dev/rsd6c bs=1m
d509 1
a509 1
</pre></td></tr></table>
d526 1
a526 1
<li>After the install, you will have to
d536 2
a537 3
For OpenBSD 5.8, upgrading 5.7 to 5.8 is the only supported upgrade.
If you have to upgrade from an older version, upgrade to intermediate
versions first, or if the system is very out-of-date, consider a
d541 1
a541 1
<!-- XXXversion -->
d543 1
a543 1
<a href="upgrade58.html">OpenBSD Upgrade Guide 5.8</a>.
d961 1
a961 1
</pre></td></tr></table>
d966 1
a966 1
base58.tgz file set.
d972 1
a972 1
<li><tt><b>-comp58.tgz</b></tt> removes <tt>comp58.tgz</tt>
d996 1
a996 1
<tt>install58.iso</tt> or <tt>install58.fs</tt>, or your hard disk is
d1042 1
a1042 1
</pre></td></tr></table>
d1085 1
a1085 1
check out the <a href="../errata58.html">Errata page</a> to see if there
a1936 1
<!-- XXXrelease -->
d1951 1
a1951 1
  <li><b><i>base58.tgz</i></b>   - Contains the base OpenBSD system
d1953 1
a1953 1
  <li><b><i>comp58.tgz</i></b>    - Contains the compiler and its
d1955 3
a1957 3
  <li><b><i>man58.tgz</i></b>    - Contains man pages
  <li><b><i>game58.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase58.tgz</i></b>  - Contains the base libraries and
d1959 3
a1961 3
  <li><b><i>xfont58.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv58.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare58.tgz</i></b> - Contains manpages, locale settings,
d1971 1
a1971 1
just xbase58.tgz, the rest of X is not always needed.
d1989 1
a1989 1
xbase58.tgz and pull out just the files they need to install their
a2021 1
<!-- XXXrelease -->
a2586 1
<!-- XXXversion -->
d2589 1
a2589 1
Sometimes, you realize you really DID need <tt>comp58.tgz</tt> (or any
d2606 1
a2606 1
  # tar -C / -xzvphf comp58.tgz
d2739 1
a2739 1
If you use <tt>install58.iso</tt> or <tt>install58.fs</tt>, you will
d2746 1
a2746 1
After all, if someone were to make a "rogue" install58.iso file, they
a2849 1
<!-- XXXversion -->
d2854 1
a2854 1
version (e.g. 58).  The <tt>siteXX.tgz</tt> file set is, like the other
d2871 1
a2871 1
"<tt>site58-puffy.tgz</tt>".
@


1.359
log
@
in comes 5.8
@
text
@d2119 1
a2119 9
  <li><tt>/var/tmp</tt>: This is a "persistent" temporary file directory,
     as files placed here are NOT purged on reboot.
     For example, vi(1) uses this directory for temporary storage, so
     if your computer crashes or is rebooted while you are editing a file,
     the files here can be used to recover your editing session.
     Files left here over 24 hours though will be purged by the nightly
     cleanup scripts,
     <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=daily&amp;sektion=8">daily(8)</a>.
   <li><tt>/var/crash</tt>: If the system panics, it will attempt to
d2232 1
a2232 1
 <li>At least some editors use <tt>/var/tmp</tt> for scratch space, and
d2234 2
a2235 3
   If you plan on editing 500M files, your <tt>/var</tt> or
   <tt>/var/tmp</tt> partition will need to be much larger than your
   might have planned on.
@


1.358
log
@
a couple errors pointed out by a friend of Vadim Zhukov (persgray at gmail):
* only one floppy now on i386 (yay!)
* name the mount points using the 'n' command, not 'm'.
thanks!
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.7 Installation Guide</title>
d24 1
a24 1
<h1><font color="#e00000">4 - OpenBSD 5.7 Installation Guide</font></h1>
d121 1
a121 1
(<tt>cd57.iso</tt> for just booting, or <tt>install57.iso</tt> for the
d183 1
a183 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.7/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d199 1
a199 1
<tt>install57.iso</tt> or you can make your own.
d287 1
a287 1
<li><b><tt>cd57.iso</tt></b> is an ISO9660 image that can be used to
d292 1
a292 1
<li><b><tt>install57.iso</tt></b> is an ISO9660 image, containing
d296 1
a296 1
<li><b><tt>floppy57.fs</tt></b> (Desktop PC) supports many
d299 1
a299 1
<li><b><tt>miniroot57.fs</tt></b> is a disk image, can be written to a
d301 1
a301 1
  This is equivalent to using the <tt>cd57.iso</tt> for install.
d304 1
a304 1
<li><b><tt>install57.fs</tt></b> much like miniroot57.fs, but includes
d306 1
a306 1
  This is equivalent to using <tt>install57.iso</tt>.
d314 2
a315 2
<li><b><tt>floppy57.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd57.iso</tt></b> is an ISO image usable to make your own
d317 1
a317 1
<li><b><tt>miniroot57.fs</tt></b> can be written to a swap partition
d319 1
a319 1
<li><b><tt>install57.iso</tt></b> is an ISO9660 image, containing
d333 2
a334 2
You can create a CD-ROM using the <tt>cd57.iso</tt> or
<tt>install57.iso</tt> files.
d345 1
a345 1
  # <b>cdio tao cd57.iso</b>
d372 1
a372 1
<a href="http://ftp.openbsd.org/pub/OpenBSD/5.7/tools/">tools</a>
d384 1
a384 1
  # dd if=/location/install57.fs of=/dev/rsd6c bs=1m
d509 1
a509 1
  Welcome to the OpenBSD/i386 5.7 installation program.
d529 1
a529 1
<a href="upgrade57.html#etcUpdates">manually merge</a> the changes
d538 1
a538 1
For OpenBSD 5.7, upgrading 5.6 to 5.7 is the only supported upgrade.
d546 1
a546 1
<a href="upgrade57.html">OpenBSD Upgrade Guide 5.7</a>.
a687 22
  Start ntpd(8) by default? [no] <b>y</b>
  NTP server? (hostname or 'default') [default] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
You are here given an option of running
<a href="faq6.html#OpenNTPD">OpenNTPD</a>, OpenBSD's NTP implementation.
OpenNTPD is a low-impact way of keeping your computer's clock accurately
synchronized.
The default configuration, using
<a href="http://www.pool.ntp.org">pool.ntp.org</a>, uses a large number
of free-access time servers around the world.

<p>
One reason you may NOT want to run ntpd(8) is if you are running a
<a href="#Multibooting">dual-boot</a> system mostly using another OS
which doesn't use a GMT-set
hardware clock, and you don't want OpenBSD altering the time for your
other OS.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
a723 9
  Do you want to suspend on lid close? [yes] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
If your machine appears to be a laptop, you will be asked if you want
the system to respond to the closing of the lid by suspending.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d742 2
a743 1
  Since you set up a user, disable sshd(8) logins to root? [yes]
d949 1
a949 1
  Server directory? [pub/OpenBSD/5.7/i386] <b><i>Enter</i></b>
d960 3
a962 3
      [X] bsd           [X] base57.tgz    [X] game57.tgz    [X] xfont57.tgz
      [X] bsd.rd        [X] comp57.tgz    [X] xbase57.tgz   [X] xserv57.tgz
      [ ] bsd.mp        [X] man57.tgz     [X] xshare57.tgz
d969 1
a969 1
base57.tgz file set.
d975 1
a975 1
<li><tt><b>-comp57.tgz</b></tt> removes <tt>comp57.tgz</tt>
d999 1
a999 1
<tt>install57.iso</tt> or <tt>install57.fs</tt>, or your hard disk is
d1020 1
a1020 1
  Get/Verify SHA256.sig   100% |**************************|  1888       00:01
d1022 10
a1031 10
  Get/Verify bsd          100% |**************************| 10384 KB    00:05
  Get/Verify bsd.rd       100% |**************************|  6803 KB    00:03
  Get/Verify base57.tgz   100% |**************************| 51618 KB    00:26
  Get/Verify comp57.tgz   100% |**************************| 44999 KB    00:28
  Get/Verify man57.tgz    100% |**************************|  8773 KB    00:06
  Get/Verify game57.tgz   100% |**************************|  2651 KB    00:02
  Get/Verify xbase57.tgz  100% |**************************| 14878 KB    00:06
  Get/Verify xshare57.tgz 100% |**************************|  4413 KB    00:04
  Get/Verify xfont57.tgz  100% |**************************| 38994 KB    00:17
  Get/Verify xserv57.tgz  100% |**************************| 18469 KB    00:15
d1034 10
a1043 8
  Installing base57.tgz   100% |**************************| 51618 KB    00:22
  Installing comp57.tgz   100% |**************************| 44999 KB    00:17
  Installing man57.tgz    100% |**************************|  8773 KB    00:06
  Installing game57.tgz   100% |**************************|  2651 KB    00:00
  Installing xbase57.tgz  100% |**************************| 14878 KB    00:03
  Installing xshare57.tgz 100% |**************************|  4413 KB    00:05
  Installing xfont57.tgz  100% |**************************| 38994 KB    00:10
  Installing xserv57.tgz  100% |**************************| 18469 KB    00:06
d1058 1
a1058 1
  Time appears wrong.  Set to 'Wed Nov  5 09:21:38 EST 2014'? [yes] <b><i>Enter</i></b>
d1062 1
a1062 1
If you configured the system to use NTP, you may get this message to
d1088 1
a1088 1
check out the <a href="../errata57.html">Errata page</a> to see if there
d1955 1
a1955 1
  <li><b><i>base57.tgz</i></b>   - Contains the base OpenBSD system
d1957 1
a1957 1
  <li><b><i>comp57.tgz</i></b>    - Contains the compiler and its
d1959 3
a1961 3
  <li><b><i>man57.tgz</i></b>    - Contains man pages
  <li><b><i>game57.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase57.tgz</i></b>  - Contains the base libraries and
d1963 3
a1965 3
  <li><b><i>xfont57.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv57.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare57.tgz</i></b> - Contains manpages, locale settings,
d1975 1
a1975 1
just xbase57.tgz, the rest of X is not always needed.
d1993 1
a1993 1
xbase57.tgz and pull out just the files they need to install their
d2604 1
a2604 1
Sometimes, you realize you really DID need <tt>comp57.tgz</tt> (or any
d2621 1
a2621 1
  # tar -C / -xzvphf comp57.tgz
d2754 1
a2754 1
If you use <tt>install57.iso</tt> or <tt>install57.fs</tt>, you will
d2761 1
a2761 1
After all, if someone were to make a "rogue" install57.iso file, they
d2870 1
a2870 1
version (e.g. 57).  The <tt>siteXX.tgz</tt> file set is, like the other
d2887 1
a2887 1
"<tt>site57-puffy.tgz</tt>".
@


1.357
log
@Clean up meta tags.

name=distribution, name=keywords, and name=resource-type have no effect
in modern search engines and just clutter up the page source.

From Pavel Plamenov.
@
text
@d283 1
a283 1
The <a href="../i386.html">i386</a> platform has seven separate
d297 2
a298 9
  PCI and ISA NICs, IDE, SATA and simple SCSI adapters and some PCMCIA
  support. Most users will use this image if booting from a
  floppy.
<li><b><tt>floppyB57.fs</tt></b> (Servers) supports many RAID controllers,
  and some of the less common SCSI adapters.  However,
  support for many standard SCSI adapters and many EISA and ISA
  NICS has been removed.
<li><b><tt>floppyC57.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
  devices found in many laptops.
d947 1
a947 1
using the 'm' option in disklabel(8).
@


1.356
log
@
FTP is no longer an install method.  from Raf Czlonka (rczlonka at gmail
dot com) thanks!
@
text
@a5 1
<meta name= "resource-type" content= "document">
a6 2
<meta name= "keywords"      content= "openbsd,faq4">
<meta name= "distribution"  content= "global">
@


1.355
log
@
remove more armv7 references.  if it isn't a supported platform, it
shouldn't be in the FAQ.  I will call it a happy day when I undo this.
@
text
@d238 1
a238 1
<li>Install method to be used (CD-ROM, FTP, etc.).
d1082 1
a1082 1
  Location of sets? (cd disk ftp http or 'done') [done] <b><i>Enter</i></b>
d3008 1
a3008 1
This is not needed for FTP or other installs.
@


1.354
log
@Add 'link rel="canonical"' to pages, acting as a hint to search engines
to list the copies on www.openbsd.org rather than mirrors.

From Carlin Bingham, ok millert@@ nick@@
@
text
@a153 2
<li><a href="../armv7.html"><b>armv7:</b></a> Writing image to SD card.

@


1.353
log
@
updates for 5.7
@
text
@d11 1
@


1.352
log
@
It is 2015.  Floppy installs are a special case I'm not going to
spend a lot of time and space on.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.6 Installation Guide</title>
d26 1
a26 1
<h1><font color="#e00000">4 - OpenBSD 5.6 Installation Guide</font></h1>
d123 1
a123 1
(<tt>cd56.iso</tt> for just booting, or <tt>install56.iso</tt> for the
d187 1
a187 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.6/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d203 1
a203 1
<tt>install56.iso</tt> or you can make your own.
d291 1
a291 1
<li><b><tt>cd56.iso</tt></b> is an ISO9660 image that can be used to
d296 1
a296 1
<li><b><tt>install56.iso</tt></b> is an ISO9660 image, containing
d300 1
a300 1
<li><b><tt>floppy56.fs</tt></b> (Desktop PC) supports many
d304 1
a304 1
<li><b><tt>floppyB56.fs</tt></b> (Servers) supports many RAID controllers,
d308 1
a308 1
<li><b><tt>floppyC56.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d310 1
a310 1
<li><b><tt>miniroot56.fs</tt></b> is a disk image, can be written to a
d312 1
a312 1
  This is equivalent to using the <tt>cd56.iso</tt> for install.
d315 1
a315 1
<li><b><tt>install56.fs</tt></b> much like miniroot56.fs, but includes
d317 1
a317 1
  This is equivalent to using <tt>install56.iso</tt>.
d325 2
a326 2
<li><b><tt>floppy56.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd56.iso</tt></b> is an ISO image usable to make your own
d328 1
a328 1
<li><b><tt>miniroot56.fs</tt></b> can be written to a swap partition
d330 1
a330 1
<li><b><tt>install56.iso</tt></b> is an ISO9660 image, containing
d344 2
a345 2
You can create a CD-ROM using the <tt>cd56.iso</tt> or
<tt>install56.iso</tt> files.
d356 1
a356 1
  # <b>cdio tao cd56.iso</b>
d383 1
a383 1
<a href="http://ftp.openbsd.org/pub/OpenBSD/5.6/tools/">tools</a>
d395 1
a395 1
  # dd if=/location/install56.fs of=/dev/rsd6c bs=1m
d520 1
a520 1
  Welcome to the OpenBSD/i386 5.6 installation program.
d540 1
a540 1
<a href="upgrade56.html#etcUpdates">manually merge</a> the changes
d549 1
a549 1
For OpenBSD 5.6, upgrading 5.5 to 5.6 is the only supported upgrade.
d557 1
a557 1
<a href="upgrade56.html">OpenBSD Upgrade Guide 5.6</a>.
d869 1
a869 1
For now, we'll take the defaults on our 40G disk.
d876 1
a876 1
  Disk: wd0       geometry: 5168/240/63 [78140160 Sectors]
d881 1
a881 1
   0: 07      0   1   1 -   5167 239  63 [           0:    78140097 ] NTFS
d932 10
a941 10
    b:           767.4M          2097216    swap                   
    c:         38154.4M                0  unused                   
    d:          2598.9M          3668800  4.2BSD   2048 16384    1 # /tmp
    e:          4108.2M          8991328  4.2BSD   2048 16384    1 # /var
    f:          2048.0M         17404960  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         21599264  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          5146.6M         23696416  4.2BSD   2048 16384    1 # /usr/local
    i:          1643.7M         34236704  4.2BSD   2048 16384    1 # /usr/src
    j:          2048.0M         37603040  4.2BSD   2048 16384    1 # /usr/obj
    k:         17745.5M         41797344  4.2BSD   2048 16384    1 # /home
d990 1
a990 1
  Server directory? [pub/OpenBSD/5.6/i386] <b><i>Enter</i></b>
d1001 3
a1003 4
      [X] bsd           [X] etc56.tgz     [X] xbase56.tgz   [X] xserv56.tgz
      [X] bsd.rd        [X] comp56.tgz    [X] xetc56.tgz
      [ ] bsd.mp        [X] man56.tgz     [X] xshare56.tgz
      [X] base56.tgz    [X] game56.tgz    [X] xfont56.tgz
d1009 2
a1010 2
At a bare minimum, you need to have a kernel (<tt>bsd</tt>), the
base56.tgz and etc56.tgz file sets.
d1016 1
a1016 1
<li><tt><b>-comp56.tgz</b></tt> removes <tt>comp56.tgz</tt>
d1040 1
a1040 1
<tt>install56.iso</tt> or <tt>install56.fs</tt>, or your hard disk is
d1061 1
a1061 1
  Get/Verify SHA256.sig   100% |**************************|  2240       00:01
d1063 20
a1082 24
  Get/Verify bsd          100% |**************************| 10409 KB    00:05
  Get/Verify bsd.rd       100% |**************************|  6756 KB    00:03
  Get/Verify base56.tgz   100% |**************************| 57500 KB    00:26
  Get/Verify etc56.tgz    100% |**************************|   176 KB    00:00
  Get/Verify comp56.tgz   100% |**************************| 42191 KB    00:28
  Get/Verify man56.tgz    100% |**************************|  8974 KB    00:06
  Get/Verify game56.tgz   100% |**************************|  2650 KB    00:02
  Get/Verify xbase56.tgz  100% |**************************| 14812 KB    00:06
  Get/Verify xetc56.tgz   100% |**************************| 69058       00:00
  Get/Verify xshare56.tgz 100% |**************************|  4449 KB    00:04
  Get/Verify xfont56.tgz  100% |**************************| 38994 KB    00:17
  Get/Verify xserv56.tgz  100% |**************************| 18483 KB    00:15
  Installing bsd          100% |**************************| 10409 KB    00:00
  Installing bsd.rd       100% |**************************|  6756 KB    00:00
  Installing base56.tgz   100% |**************************| 57500 KB    00:22
  Installing etc56.tgz    100% |**************************|   176 KB    00:00
  Installing comp56.tgz   100% |**************************| 42191 KB    00:17
  Installing man56.tgz    100% |**************************|  8974 KB    00:06
  Installing game56.tgz   100% |**************************|  2650 KB    00:00
  Installing xbase56.tgz  100% |**************************| 14812 KB    00:03
  Installing xetc56.tgz   100% |**************************| 69058       00:00
  Installing xshare56.tgz 100% |**************************|  4449 KB    00:05
  Installing xfont56.tgz  100% |**************************| 38994 KB    00:10
  Installing xserv56.tgz  100% |**************************| 18483 KB    00:06
d1106 2
a1107 1
  Saving configuration files...Making all device nodes...done.
d1127 1
a1127 1
check out the <a href="../errata56.html">Errata page</a> to see if there
d1144 1
a1144 1
You may also find the following links useful:
d1994 1
a1994 1
  <li><b><i>base56.tgz</i></b>   - Contains the base OpenBSD system
d1996 1
a1996 3
  <li><b><i>etc56.tgz</i></b>    - Contains all the files in /etc
    <b>Required</b>
  <li><b><i>comp56.tgz</i></b>    - Contains the compiler and its
d1998 3
a2000 3
  <li><b><i>man56.tgz</i></b>    - Contains man pages
  <li><b><i>game56.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase56.tgz</i></b>  - Contains the base libraries and
d2002 3
a2004 5
  <li><b><i>xetc56.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
    configuration files
  <li><b><i>xfont56.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv56.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare56.tgz</i></b> - Contains manpages, locale settings,
a2007 6
The <b>etc56.tgz</b> and <b>xetc56.tgz</b> sets are not installed as
part of an upgrade, only as part of a complete install, so any
customizations you make will not be lost.
You will have to update your <tt>/etc</tt>, <tt>/dev</tt> and
<tt>/var</tt> directories manually.

d2014 1
a2014 1
just xbase56.tgz, the rest of X is not always needed.
d2032 1
a2032 1
xbase56.tgz and pull out just the files they need to install their
d2643 1
a2643 1
Sometimes, you realize you really DID need <tt>comp56.tgz</tt> (or any
d2660 1
a2660 1
  # tar -C / -xzvphf comp56.tgz
d2724 1
a2724 1
  &gt;&gt; OpenBSD/i386 BOOT 3.28
d2793 1
a2793 1
If you use <tt>install56.iso</tt> or <tt>install56.fs</tt>, you will
d2800 1
a2800 1
After all, if someone were to make a "rogue" install56.iso file, they
d2909 1
a2909 1
version (e.g. 56).  The <tt>siteXX.tgz</tt> file set is, like the other
d2926 1
a2926 1
"<tt>site56-puffy.tgz</tt>".
@


1.351
log
@
tedu suggestion from tedu@@: if you are running something old enough to have
this problem ... it's a labor of love, not our problem (at least here)
@
text
@d10 1
a10 1
<meta name= "copyright"     content= "This document copyright 1998-2014 by OpenBSD.">
d40 1
a40 2
    <li><a href="#UnixFlop" >4.3.2 - Creating floppies on Unix</a>
    <li><a href="#DosFlop"  >4.3.3 - Creating floppies on Windows</a>
d96 1
a96 1
installation process, which is consistent across all platforms.
d118 3
a120 16
OpenBSD can be installed on many platforms by booting an installer
from a single floppy disk.
However, due to space constraints, some larger platforms (sparc64,
amd64, alpha) do not have some utilities which may be important to you,
such as a DHCP client to configure the network.
For these platforms, you may do better with the CD install.
However, for platforms like i386 and sparc, you will find the boot
floppy very complete.

<p>
Floppy disk images are provided which can be
used to create an install floppy on another
<a href="#UnixFlop">Unix-like</a> system, or on a
<a href="#DosFlop">Windows</a> system.
Typical file names are <tt>floppy56.fs</tt>, though several platforms
have multiple floppy images available.
d135 3
a137 8
<li><b>Writing a file system image to disk (miniroot):</b> a filesystem
image that can be written to an existing partition, and then can be
booted.
This can be used on some platforms to write an install file system to an
existing disk (i.e., on a sparc, write a miniroot file system to a swap
partition in Solaris, then boot from that to install OpenBSD) or to an
external device, such as a USB thumbdrive to boot an install on some of
the new laptops which lack any kind of removable media.
a156 2
<li><a href="../hp300.html"><b>hp300:</b></a> CD-ROM, network.

a170 4
<li><a href="../mvme68k.html"><b>mvme68k:</b></a> Network.

<li><a href="../mvme88k.html"><b>mvme88k:</b></a> Network.

d360 2
a361 5
Most CD recorders sold for Windows and Macintosh systems come with
software that can burn ISO images to blank media.
If yours does not, there are various no-cost applications that can
do this for you.

d367 6
a372 26
<a name="MkFlop"></a>
<h3 id="UnixFlop">4.3.2 - Creating floppies on Unix</h3>

<p>
Precise details and device names may vary from Unix variant to Unix
variant; use what is appropriate for your system.

<p>
To create a formatted floppy, use the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&amp;sektion=1&amp;arch=i386">fdformat(1)</a>
command to both format and check for bad sectors.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>fdformat /dev/rfd0c</b>
  Format 1440K floppy `/dev/rfd0c'? (y/n): y
  Processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</pre></td></tr></table>

<p>
If your output is like the above example, then the disk is OK.
However, if you do not see ALL "V"'s then the disk is most
likely bad, and you should try a new one.

<p>
To write the image file to the disk, use
d374 1
a374 10
An example usage of <tt>dd(1)</tt> is below:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>dd if=floppy56.fs of=/dev/rfd0c bs=32k</b>
</pre></td></tr></table>

<p>
Once the image is written, check to make sure that the copied image is
the same as the original with the
d376 2
a377 9
command.
If the diskette is identical to the image, you will just see another prompt.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  # <b>cmp /dev/rfd0c floppy56.fs</b>
</pre></td></tr></table>

<h3 id="DosFlop">4.3.3 - Creating floppies on Windows</h3>
d380 3
a382 7
To prepare a floppy in Windows, first use the native
formatting tools to format the disk, verifying that the disk has
no bad sectors.

<p>
To write the installation image to the prepared floppy you can use
<tt>ntrw.exe</tt>, which can be downloaded from the
d387 1
a387 12
<p>
Example usage of <i>ntrw</i>:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>ntrw floppy56.fs a:</strong>
  3.5", 1.44MB, 512 bytes/sector
  bufsize is 9216
  1474560 bytes written
</pre></td></tr></table>

<h3 id="Flash">4.3.4 - Creating a bootable install flash drive from Unix</h3>
d539 3
a541 6
<li> You will not be given the option of installing the
<tt>etc56.tgz</tt> file.
After the install, you will have to
<a href="upgrade56.html#etcUpdates">manually merge</a> the changes of
<tt>etc56.tgz</tt> into your system before you can expect it to be
fully functional.
@


1.350
log
@typo 'unattened'; Ville Valkonen
@
text
@a72 1
  <li><a href="#cpq16m"     >4.13.1 - My Compaq only recognizes 16M RAM</a>
a2835 26

<a name="cpq16m"></a>
<h3>4.13.1 - My Compaq only recognizes 16M RAM</h3>
<i>Some</i> old Compaq systems have an issue where the full system RAM is
not detected by the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">OpenBSD
second stage boot loader</a> properly, and only 16M may be detected
and used by OpenBSD. This can be corrected either by creating/editing
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386"><tt>/etc/boot.conf</tt></a>
file, or by entering commands at the "<tt>boot></tt>" prompt before
OpenBSD loads.  If you had a machine with 64M RAM, but OpenBSD was only
detecting the first 16M, the command you would use would be:

<pre>
     machine mem +0x3000000@@0x1000000
</pre>
to add 48M (<tt>0x3000000</tt>) after the first 16M
(<tt>0x1000000</tt>).  Typically, if you had a machine with this
problem, you would enter the above command first at the install
floppy/CD-ROM's <tt>boot></tt> prompt, load the system, reboot, and
create an <tt>/etc/boot.conf</tt> file with the above line in it so all
future bootings will recognize all available RAM.

<p>
It has also been reported that a ROM update will fix this on <i>some</i>
systems.
@


1.349
log
@
closer to reality about /tmp for current, still accurate for release.
Pointed out by Miod@@
@
text
@d2243 1
a2243 1
Files left unattened here will be purged automatically, this is NOT for
@


1.348
log
@
we don't install from ftp anymore.  Diff from Daniel Jakots (vigdis at
chown dot me), thanks!
@
text
@d2243 2
a2244 2
Note that this directory is cleared on reboot, and files left untouched
over 24 hours are cleared nightly.
@


1.347
log
@Use regular space, not unnecessary non-breaking space.
@
text
@a230 5
<li><b>FTP:</b>
Either one of the OpenBSD
<a href="../ftp.html">FTP mirror sites</a>
or your own local FTP server holding the file sets.

@


1.346
log
@Convert the rest of the FAQ to id="" instead of <a name=""></a>.

prodded by nick@@
@
text
@d1561 1
a1561 1
ending cylinder,head and sector.
@


1.345
log
@Fix closing tags.
@
text
@d94 1
a94 3
<p>
<a name= "Overview"></a>
<h2>4.1 - Overview of the OpenBSD installation procedure</h2>
d254 1
a254 2
<a name="Checklist"></a>
<h2>4.2 - Pre-installation checklist</h2>
d302 1
a302 3

<a name="MkInsMedia"></a>
<h2>4.3 - Creating bootable OpenBSD install media</h2>
d372 1
a372 3
<p>
<a name="MkCD-ROM"></a>
<h3>4.3.1 - Making a CD-ROM</h3>
d402 1
a402 2
<a name="UnixFlop"></a>
<h3>4.3.2 - Creating floppies on Unix</h3>
d447 1
a447 3
<p>
<a name="DosFlop"></a>
<h3>4.3.3 - Creating floppies on Windows</h3>
d472 1
a472 3
<p>
<a name="Flash"></a>
<h3>4.3.4 - Creating a bootable install flash drive from Unix</h3>
d497 1
a497 3
<p>
<a name="Boot"></a>
<h2>4.4 - Booting OpenBSD install media</h2>
d546 1
a546 3
<p>
<a name="Install"></a>
<h2>4.5 - Performing a simple install</h2>
d572 1
a572 3
<p>
<a name="InstStart"></a>
<h3>4.5.1 - Starting the install</h3>
d665 1
a665 3
<p>
<a name="InstQuestions"></a>
<h3>4.5.2 - The Install Questions</h3>
d741 1
a741 2
<a href="#MoreNetwork">below</a>.
<a name="backMoreNetwork"></a>
d743 1
a743 1
<p>
d908 1
a908 2
More on setting the time zone <a href="#MoreTimeZone">here</a>.
<a name="backMoreTimeZone"></a>
d910 1
a910 3

<a name="InstDisks"></a>
<h3>4.5.3 - Setting up disks</h3>
d1007 1
a1007 2
<a href="#Morefdisk">below</a>.
<a name="BackMorefdisk"></a>
d1040 1
a1040 2
on the disklabel partitioning <a href="#Moredisklabel">below</a>.
<a name="BackMoredisklabel"></a>
d1058 1
a1058 3
<p>
<a name="InstMedia"></a>
<h3>4.5.4 - Choosing installation media and file sets</h3>
d1210 1
a1210 2
<a name="Inst1stBoot"></a>
<h3>4.5.5 - First boot!</h3>
d1247 1
a1247 2
<a name="InstFinish"></a>
<h3>4.5.6 - One last thing...</h3>
d1253 1
a1253 3
<p>
<a name="More"></a>
<h2>4.6 - Details for a more complex install</h2>
d1257 1
a1257 3
<p>
<a name="MoreNetwork"></a>
<h3>4.6.1 - Setting up the network</h3>
d1338 1
a1338 3
<p>
<a name="MoreTimeZone"></a>
<h3>4.6.2 - Setting the Time Zone</h3>
d1403 1
a1403 3
<p>
<a name="Morefdisk"></a>
<h3>4.6.3 - Custom fdisk(8) layout</h3>
@


1.344
log
@
INSTALL.linux is no more, remove references to it.
@
text
@d3306 1
a3306 1
</htmi>
@


1.343
log
@
bunch of bad wording pointed out by Nick Permyakov (sticker0 at mail dot ru)
@
text
@a2680 8
<p>
<h3>OpenBSD and Linux (i386)</h3>
<!-- XXXversion -->

<p>
Please refer to
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.6/i386/INSTALL.linux">INSTALL.linux</a>,
which gives in depth instructions on getting OpenBSD working with Linux.
@


1.342
log
@
"I know, I'll add a little here!  Oh what's the exact name?  I'll fill
that in later."  Of course, I didn't, forgot about it and tj at mrsk dot
me keeps me honest, thanks!
@
text
@d871 1
a871 1
the system to respond to the closing of the lid by syspending.
d1129 1
a1129 1
You can add and remove file sets using "+" and "-" chars in front
d1131 1
d1209 1
a1209 1
This is so either missed, forgotten or failed file sets can be
d1679 1
a1679 1
uh-oh!
d1810 2
a1811 2
More information on the why partitioning is good and strategy for
a good partitioning plan are <a href="#Partitioning">below</a>.
d2491 1
a2491 1
program is loaded from the floppy, looks for and reads
@


1.341
log
@
faq updates for 5.6
@
text
@d905 1
a905 1
If you later change your mind, you can edit the <tt>RootLogin=</tt>
@


1.340
log
@
missing TOC entry, pointed out by Wei En Ng (wei2912 dot supp0rt@@gmail.com)
thanks!
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.5 Installation Guide</title>
d26 1
a26 1
<h1><font color="#e00000">4 - OpenBSD 5.5 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy55.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd55.iso</tt> for just booting, or <tt>install55.iso</tt> for the
d215 1
a215 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.5/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d231 1
a231 1
<tt>install55.iso</tt> or you can make your own.
d327 1
a327 1
<li><b><tt>cd55.iso</tt></b> is an ISO9660 image that can be used to
d332 1
a332 1
<li><b><tt>install55.iso</tt></b> is an ISO9660 image, containing
d336 1
a336 1
<li><b><tt>floppy55.fs</tt></b> (Desktop PC) supports many
d340 1
a340 1
<li><b><tt>floppyB55.fs</tt></b> (Servers) supports many RAID controllers,
d344 1
a344 1
<li><b><tt>floppyC55.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d346 1
a346 1
<li><b><tt>miniroot55.fs</tt></b> is a disk image, can be written to a
d348 1
a348 1
  This is equivalent to using the <tt>cd55.iso</tt> for install.
d351 1
a351 1
<li><b><tt>install55.fs</tt></b> much like miniroot55.fs, but includes
d353 1
a353 1
  This is equivalent to using <tt>install55.iso</tt>.
d361 2
a362 2
<li><b><tt>floppy55.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd55.iso</tt></b> is an ISO image usable to make your own
d364 1
a364 1
<li><b><tt>miniroot55.fs</tt></b> can be written to a swap partition
d366 1
a366 1
<li><b><tt>install55.iso</tt></b> is an ISO9660 image, containing
d382 2
a383 2
You can create a CD-ROM using the <tt>cd55.iso</tt> or
<tt>install55.iso</tt> files.
d394 1
a394 1
  # <b>cdio tao cd55.iso</b>
d440 1
a440 1
  # <b>dd if=floppy55.fs of=/dev/rfd0c bs=32k</b>
d452 1
a452 1
  # <b>cmp /dev/rfd0c floppy55.fs</b>
d467 1
a467 1
<a href="http://ftp.openbsd.org/pub/OpenBSD/5.5/tools/">tools</a>
d476 1
a476 1
  C:\> <strong>ntrw floppy55.fs a:</strong>
d492 1
a492 1
  # dd if=/location/install55.fs of=/dev/rsd6c bs=1m
d623 1
a623 1
  Welcome to the OpenBSD/i386 5.5 installation program.
d643 1
a643 1
<tt>etc55.tgz</tt> file.
d645 2
a646 2
<a href="upgrade55.html#etcUpdates">manually merge</a> the changes of
<tt>etc55.tgz</tt> into your system before you can expect it to be
d655 1
a655 1
For OpenBSD 5.5, upgrading 5.4 to 5.5 is the only supported upgrade.
d663 1
a663 1
<a href="upgrade55.html">OpenBSD Upgrade Guide 5.5</a>.
a748 1
  Issuing hostname-associated DHCP request for fxp0.
d782 2
a783 2
  Password for root account? (will not echo) <i>PaSsWoRd</i>
  Password for root account? (again) <i>PaSsWoRd</i>
d834 1
a834 1
Not all platforms will ask if you expect to run X, those that do ask
d838 1
a838 1
<tt>machdep.allowaperture=2</tt>, depending on your platform.
d866 9
d889 5
a893 1
  Setup a user? (enter a lower-case loginname, or 'no') [no] <b><i>Enter</i></b>
d902 5
a906 1
You will be prompted for a password.
d993 1
a993 1
   0: 00      0   1   1 -   5167 239  63 [           0:    78140097 ] NTFS
d1045 10
a1054 10
    b:           199.0M          2097216    swap                   
    c:         40960.0M                0  unused                   
    d:          2822.9M          2504768  4.2BSD   2048 16384    1 # /tmp
    e:          4295.0M          8286112  4.2BSD   2048 16384    1 # /var
    f:          2048.0M         17082240  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         21276544  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          5426.7M         23373696  4.2BSD   2048 16384    1 # /usr/local
    i:          1699.7M         34487520  4.2BSD   2048 16384    1 # /usr/src
    j:          2048.0M         37968576  4.2BSD   2048 16384    1 # /usr/obj
    k:         20367.4M         42162880  4.2BSD   2048 16384    1 # /home
d1078 1
a1078 1
and mounts them for installation:
a1080 40
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  /dev/rwd0a: 1024.0MB in 2097152 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0k: 20367.4MB in 41712448 sectors of 512 bytes
  101 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0d: 2822.9MB in 5781344 sectors of 512 bytes
  14 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0f: 2048.0MB in 4194304 sectors of 512 bytes
  11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0g: 1024.0MB in 2097152 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0h: 5426.7MB in 11113824 sectors of 512 bytes
  27 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0j: 2048.0MB in 4194304 sectors of 512 bytes
  11 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0i: 1699.7MB in 3481056 sectors of 512 bytes
  9 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0e: 4295.0MB in 8796128 sectors of 512 bytes
  22 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/wd0a (c109be3ad535b626.a) on /mnt type ffs (rw, asynchronous, local)
  /dev/wd0k (c109be3ad535b626.k) on /mnt/home type ffs (rw, asynchronous, local, n
  odev, nosuid)
  /dev/wd0d (c109be3ad535b626.d) on /mnt/tmp type ffs (rw, asynchronous, local, no
  dev, nosuid)
  /dev/wd0f (c109be3ad535b626.f) on /mnt/usr type ffs (rw, asynchronous, local, no
  dev)
  /dev/wd0g (c109be3ad535b626.g) on /mnt/usr/X11R6 type ffs (rw, asynchronous, loc
  al, nodev)
  /dev/wd0h (c109be3ad535b626.h) on /mnt/usr/local type ffs (rw, asynchronous, loc
  al, nodev)
  /dev/wd0j (c109be3ad535b626.j) on /mnt/usr/obj type ffs (rw, asynchronous, local
  , nodev, nosuid)
  /dev/wd0i (c109be3ad535b626.i) on /mnt/usr/src type ffs (rw, asynchronous, local
  , nodev, nosuid)
  /dev/wd0e (c109be3ad535b626.e) on /mnt/var type ffs (rw, asynchronous, local, no
  dev, nosuid)</pre>
</td></tr></table>

<p>

d1092 2
a1093 2
  Location of sets? (cd disk ftp http or 'done') [cd] <b>http</b>
  HTTP/FTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none] <b><i>Enter</i></b>
d1106 1
a1106 1
  Server directory? [pub/OpenBSD/5.5/i386] <b><i>Enter</i></b>
a1109 4
The public FTP mirrors all support anonymous downloads, of course,
but you may have a local machine which requires a login and password.

<p>
d1117 4
a1120 4
      [X] bsd           [X] etc55.tgz     [X] xbase55.tgz   [X] xserv55.tgz
      [X] bsd.rd        [X] comp55.tgz    [X] xetc55.tgz
      [ ] bsd.mp        [X] man55.tgz     [X] xshare55.tgz
      [X] base55.tgz    [X] game55.tgz    [X] xfont55.tgz
d1127 1
a1127 1
base55.tgz and etc55.tgz file sets.
d1132 1
a1132 1
<li><tt><b>-comp55.tgz</b></tt> removes <tt>comp55.tgz</tt>
d1156 1
a1156 1
<tt>install55.iso</tt> or <tt>install55.fs</tt>, or your hard disk is
d1177 26
a1202 25
  Get/Verify SHA256.sig   100% |**************************|  2329       00:01
  Get/Verify bsd          100% |**************************| 10263 KB    00:05
  Get/Verify bsd.rd       100% |**************************|  6349 KB    00:03
  Get/Verify base55.tgz   100% |**************************| 58796 KB    00:26
  Get/Verify etc55.tgz    100% |**************************|   513 KB    00:00
  Get/Verify comp55.tgz   100% |**************************| 48489 KB    00:28
  Get/Verify man55.tgz    100% |**************************|  9836 KB    00:06
  Get/Verify game55.tgz   100% |**************************|  2643 KB    00:02
  Get/Verify xbase55.tgz  100% |**************************| 12565 KB    00:06
  Get/Verify xetc55.tgz   100% |**************************| 64910       00:00
  Get/Verify xshare55.tgz 100% |**************************|  4300 KB    00:04
  Get/Verify xfont55.tgz  100% |**************************| 38994 KB    00:17
  Get/Verify xserv55.tgz  100% |**************************| 23534 KB    00:15
  Installing bsd          100% |**************************| 10263 KB    00:00
  Installing bsd.rd       100% |**************************|  6349 KB    00:00
  Installing base55.tgz   100% |**************************| 58796 KB    00:22
  Installing etc55.tgz    100% |**************************|   513 KB    00:00
  Installing comp55.tgz   100% |**************************| 48489 KB    00:17
  Installing man55.tgz    100% |**************************|  9836 KB    00:06
  Installing game55.tgz   100% |**************************|  2643 KB    00:00
  Installing xbase55.tgz  100% |**************************| 12565 KB    00:03
  Installing xetc55.tgz   100% |**************************| 64910       00:00
  Installing xshare55.tgz 100% |**************************|  4300 KB    00:05
  Installing xfont55.tgz  100% |**************************| 38994 KB    00:10
  Installing xserv55.tgz  100% |**************************| 23534 KB    00:06
d1217 10
a1226 3
  Saving configuration files...done.
  Generating initial host.random file...done.
  Making all device nodes...done.
d1247 1
a1247 1
check out the <a href="../errata55.html">Errata page</a> to see if there
d1621 1
a1621 1
  Rounding to nearest cylinder: 10490382
d1642 1
a1642 1
   0: 07      0   1   1 -    652 254  63 [          63:    10490382 ] NTFS
d1680 1
a1680 1
the size of the partition, in this case, 63+10490382 = 10490445.
d1705 1
a1705 1
   0: 07      0   1   1 -    652 254  63 [          63:    10490382 ] NTFS
d1752 1
a1752 1
   0: 07      0   1   1 -    652 254  63 [          63:    10490382 ] NTFS
d1898 1
a1898 1
    i:         10490382               63    NTFS
d2036 1
a2036 1
    i:         10490382               63    NTFS
d2050 1
a2050 1
    i:          5122.3M               63    NTFS
d2123 1
a2123 1
  <li><b><i>base55.tgz</i></b>   - Contains the base OpenBSD system
d2125 1
a2125 1
  <li><b><i>etc55.tgz</i></b>    - Contains all the files in /etc
d2127 1
a2127 1
  <li><b><i>comp55.tgz</i></b>    - Contains the compiler and its
d2129 3
a2131 3
  <li><b><i>man55.tgz</i></b>    - Contains man pages
  <li><b><i>game55.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase55.tgz</i></b>  - Contains the base libraries and
d2133 1
a2133 1
  <li><b><i>xetc55.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2135 3
a2137 3
  <li><b><i>xfont55.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv55.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare55.tgz</i></b> - Contains manpages, locale settings,
d2141 1
a2141 1
The <b>etc55.tgz</b> and <b>xetc55.tgz</b> sets are not installed as
d2153 1
a2153 1
just xbase55.tgz, the rest of X is not always needed.
d2171 1
a2171 1
xbase55.tgz and pull out just the files they need to install their
d2686 1
a2686 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.5/i386/INSTALL.linux">INSTALL.linux</a>,
d2790 1
a2790 1
Sometimes, you realize you really DID need <tt>comp55.tgz</tt> (or any
d2807 1
a2807 1
  # tar -C / -xzvphf comp55.tgz
d2871 1
a2871 1
  &gt;&gt; OpenBSD/i386 BOOT 3.18
d2890 1
a2890 1
<i>Some</i> Compaq systems have an issue where the full system RAM is
d2966 1
a2966 1
If you use <tt>install55.iso</tt> or <tt>install55.fs</tt>, you will
d2973 1
a2973 1
After all, if someone were to make a "rogue" install55.iso file, they
d3082 1
a3082 1
version (e.g. 55).  The <tt>siteXX.tgz</tt> file set is, like the other
d3099 1
a3099 1
"<tt>site55-puffy.tgz</tt>".
a3122 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8&amp;manpath=OpenBSD+5.5"
><tt>/var/www/conf/httpd.conf</tt></a>,
@


1.339
log
@
typo; spotted by Senthil Kumar (senthil dot debian at gmail da com)
@
text
@d42 2
@


1.338
log
@
sync the drive counts.  I think someone pointed this out to me, I think I
thanked them...and forgot to commit the change. :-/
@
text
@d310 1
a310 1
Note that it is not possibly for the downloaded files to directly check
@


1.337
log
@A couple typo fixes from Guido Tschakert (guido.tschakert (at) gmx.de)
@
text
@d499 1
a499 1
In some Linux variants, it might be "/dev/sde" (all of the fifth ("e")
@


1.336
log
@
color of the file doesn't matter one bit if it is rogue. or if it isn't
@
text
@d490 1
a490 1
  # dd if=/location/install55.fs of=/dev/rsd4c bs=1m
@


1.335
log
@
welcome 5.5!
@
text
@d2991 1
a2991 1
After all, if someone were to make a "rouge" install55.iso file, they
@


1.334
log
@
multi-boot to multiboot.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.4 Installation Guide</title>
d26 1
a26 1
<h1><font color="#e00000">4 - OpenBSD 5.4 Installation Guide</font></h1>
d75 2
a76 2
  <li><a href="#noftplist"  >4.13.4 - I got the message "Failed to change
     directory" when doing an install</a>
d81 2
a82 1
  <li><a href="#shamismatch">4.13.7 - I got an SHA256 mismatch during install!</a>
d134 1
a134 1
Typical file names are <tt>floppy54.fs</tt>, though several platforms
d138 1
a138 1
(<tt>cd54.iso</tt> for just booting, or <tt>install54.iso</tt> for the
d153 5
a157 4

<li><b>Bootable Tape:</b> Some platforms support booting from tape.
These tapes can be made following the INSTALL.<i>platform</i>
instructions.
d167 1
a167 1
<li><a href="../amd64.html"><b>amd64:</b></a> Floppy, CD-ROM,
d181 1
a181 1
<li><a href="../i386.html"><b>i386:</b></a> Floppy, CD-ROM,
d189 1
a189 1
<li><a href="../luna88k.html"><b>luna88k:</b></a> Network, tape.
d193 1
a193 1
<li><a href="../mvme68k.html"><b>mvme68k:</b></a> Network, bootable tape.
d195 1
a195 1
<li><a href="../mvme88k.html"><b>mvme88k:</b></a> Network, bootable tape.
d204 1
a204 1
writing image to existing swap partition, bootable tape.
d213 1
a213 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.4/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d229 1
a229 1
<tt>install54.iso</tt> or you can make your own.
a251 4
<li><b>Tape:</b>
File sets can also be read from a supported tape.
Details on creating the tape are in the <tt>INSTALL.</tt><i>platform</i>
document.
d306 8
d321 1
a321 1
The <a href="../i386.html">i386</a> platform has six separate
d325 1
a325 1
<li><b><tt>cd54.iso</tt></b> is an ISO9660 image that can be used to
d330 1
a330 6
<li><b><tt>cdemu54.iso</tt></b> is an ISO9660 image, using
  "floppy emulation" booting, using a 2.88M floppy image.
  It is hoped that few people will need this
  image -- most people will use <tt>cd54.iso</tt>; only use
  <tt>cdemu54.iso</tt> if <tt>cd54.iso</tt> doesn't work for you.
<li><b><tt>install54.iso</tt></b> is an ISO9660 image, containing
d334 1
a334 1
<li><b><tt>floppy54.fs</tt></b> (Desktop PC) supports many
d338 1
a338 1
<li><b><tt>floppyB54.fs</tt></b> (Servers) supports many RAID controllers,
d342 1
a342 1
<li><b><tt>floppyC54.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d344 8
d359 2
a360 2
<li><b><tt>floppy54.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd54.iso</tt></b> is an ISO image usable to make your own
d362 1
a362 1
<li><b><tt>miniroot54.fs</tt></b> can be written to a swap partition
d364 1
a364 1
<li><b><tt>install54.iso</tt></b> is an ISO9660 image, containing
d370 1
a370 1
On modern platforms, you are best advised to use the CDROM
a373 2
Older platforms, such as i386 and sparc, are still quite installable
from floppy.
d380 2
a381 2
You can create a CD-ROM using the <tt>cd54.iso</tt> or
<tt>install54.iso</tt> files.
d384 2
d392 1
a392 1
  # <b>cdio tao cd54.iso</b>
d438 1
a438 1
  # <b>dd if=floppy54.fs of=/dev/rfd0c bs=32k</b>
d450 1
a450 1
  # <b>cmp /dev/rfd0c floppy54.fs</b>
d465 1
a465 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.4/tools/">tools</a>
d474 1
a474 1
  C:\> <strong>ntrw floppy54.fs a:</strong>
d481 27
d517 4
a520 6
If you want to boot from CD, your system BIOS must be able to and be set to
boot from CD.
Some older systems do not have this option, and you must use a floppy
for booting your installation image.
Don't worry though; even if you boot from floppy you can still install
from the CD if it is supported by OpenBSD (i.e., almost all IDE drives).
d594 2
a595 2
You can actually remove the CD or floppy you booted from at this point,
assuming you don't need the CD for installation files.
d602 1
a602 1
a shell prompt, then exit the shell to return to the installer.
d621 2
a622 2
  Welcome to the OpenBSD/i386 5.4 installation program.
  (I)nstall, (U)pgrade or (S)hell? <b>i</b>
d626 1
a626 1
And with that, we reach our first question.  You have the three options
d641 1
a641 1
<tt>etc54.tgz</tt> file.
d643 2
a644 2
<a href="upgrade54.html#etcUpdates">manually merge</a> the changes of
<tt>etc54.tgz</tt> into your system before you can expect it to be
d653 1
a653 1
For OpenBSD 5.4, upgrading 5.3 to 5.4 is the only supported upgrade.
d660 12
a671 2
<li> More information on upgrading between releases can be found in the
<a href="upgrade54.html">OpenBSD Upgrade Guide 5.4</a>.
d863 1
d868 1
d894 1
d896 1
a896 1
What timezone are you in? ('?' for list) [Canada/Mountain] <b>US/Michigan</b>
d970 1
a970 1
  Disk: wd0       geometry: 5221/255/63 [40960 Megabytes]
d975 1
a975 1
   0: 06      0   1   1 -    521 254  63 [          63:     8385867 ] DOS > 32MB
d1082 17
a1098 9
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local)
  /dev/wd0k on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0f on /mnt/usr type ffs (rw, asynchronous, local, nodev)
  /dev/wd0g on /mnt/usr/X11R6 type ffs (rw, asynchronous, local, nodev)
  /dev/wd0h on /mnt/usr/local type ffs (rw, asynchronous, local, nodev)
  /dev/wd0j on /mnt/usr/obj type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0i on /mnt/usr/src type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)</pre>
d1111 1
a1111 1
In this case, we will install from an FTP server.
d1114 1
a1114 1
  Location of sets? (cd disk ftp http or 'done') [cd] <b>ftp</b>
d1128 1
a1128 2
  Server directory? [pub/OpenBSD/5.4/i386] <b><i>Enter</i></b>
  Login? [anonymous] <b><i>Enter</i></b>
d1143 4
a1146 4
      [X] bsd           [X] etc54.tgz     [X] xbase54.tgz   [X] xserv54.tgz
      [X] bsd.rd        [X] comp54.tgz    [X] xetc54.tgz
      [ ] bsd.mp        [X] man54.tgz     [X] xshare54.tgz
      [X] base54.tgz    [X] game54.tgz    [X] xfont54.tgz
d1153 1
a1153 1
base54.tgz and etc54.tgz file sets.
d1158 1
a1158 1
<li><tt><b>-comp54.tgz</b></tt> removes <tt>comp54.tgz</tt>
d1167 2
a1168 1
want to install bsd.mp as well.
d1177 25
d1203 25
a1227 12
  bsd          100% |*************************************|  9399 KB    00:05
  bsd.rd       100% |*************************************|  6350 KB    00:03
  base54.tgz   100% |*************************************| 55803 KB    00:26
  etc54.tgz    100% |*************************************|   511 KB    00:00
  comp54.tgz   100% |*************************************| 47533 KB    00:28
  man54.tgz    100% |*************************************|  9761 KB    00:06
  game54.tgz   100% |*************************************|  2568 KB    00:02
  xbase54.tgz  100% |*************************************| 10562 KB    00:06
  xetc54.tgz   100% |*************************************| 64774       00:00
  xshare54.tgz 100% |*************************************|  4373 KB    00:04
  xfont54.tgz  100% |*************************************| 38869 KB    00:17
  xserv54.tgz  100% |*************************************| 25954 KB    00:15
d1265 1
a1265 1
check out the <a href="../errata54.html">Errata page</a> to see if there
d2141 1
a2141 1
  <li><b><i>base54.tgz</i></b>   - Contains the base OpenBSD system
d2143 1
a2143 1
  <li><b><i>etc54.tgz</i></b>    - Contains all the files in /etc
d2145 1
a2145 1
  <li><b><i>comp54.tgz</i></b>    - Contains the compiler and its
d2147 3
a2149 3
  <li><b><i>man54.tgz</i></b>    - Contains man pages
  <li><b><i>game54.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase54.tgz</i></b>  - Contains the base libraries and
d2151 1
a2151 1
  <li><b><i>xetc54.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2153 3
a2155 3
  <li><b><i>xfont54.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv54.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare54.tgz</i></b> - Contains manpages, locale settings,
d2159 1
a2159 1
The <b>etc54.tgz</b> and <b>xetc54.tgz</b> sets are not installed as
d2171 1
a2171 1
just xbase54.tgz, the rest of X is not always needed.
d2189 1
a2189 1
xbase54.tgz and pull out just the files they need to install their
d2314 1
a2314 3
  <li><tt>/var/www</tt>: OpenBSD's
     <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8&amp;manpath=OpenBSD+5.4">web server</a>
     lives here.
d2704 1
a2704 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.4/i386/INSTALL.linux">INSTALL.linux</a>,
d2808 1
a2808 1
Sometimes, you realize you really DID need <tt>comp54.tgz</tt> (or any
d2825 1
a2825 1
  # tar -C / -xzvphf comp54.tgz
d2974 2
a2975 2
to do the ssh key generation process.  A SPARCStation2 or a Macintosh
Quadra may take <i>several hours</i> to complete the
a2980 5
Users of very slow machines may wish to generate their keys on another
computer, place them in a <a href="#site">site54.tgz</a> file, and
install them with the rest of the file sets.

<p>
d2982 1
a2982 10
<h3>4.13.4 - I got the message "Failed to change directory" when doing an
install</h3>

When doing an FTP install of a
<a href="faq5.html#Flavors">snapshot</a> during the <i>-beta</i>
stage of the OpenBSD development cycle,
you may see this:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d2984 3
a2986 15
  Display the list of known ftp servers? [no] <b>yes</b>
  Getting the list from 192.128.5.191 (ftp.openbsd.org)... FAILED
  Failed to change directory.
  Server IP address or hostname?
</pre></td></tr></table>

<p>
This is normal and expected behavior during this pre-release part of the
cycle.  The install program looks for the FTP list on the primary FTP
server in a directory that won't be available until the
<a href="faq1.html#Next">release date</a>, so you get the above message.

<p>
Simply use the <a href="../ftp.html">FTP mirror list</a> to find your
favorite FTP mirror, and manually enter its name when prompted.
d2989 6
a2994 2
<b>Note: You should not see this if you are installing <i>-release</i>
or from CD-ROM.</b>
d3080 10
a3089 7
<h3>4.13.7 - I got an SHA256 mismatch during install!</h3>
Checksums are embedded in the install kernels for the file sets that
are used for the system install.

<p>
Actual <i>-release</i> file sets should all match their stored
checksums.
a3090 6
<p>
<b>At times, <i>snapshots</i> may not have proper checksums stored with
the install kernels.</b>
This will happen for various reasons on the building side, and is not
reason to panic for development snapshots.
If you are concerned about this, wait for the next snapshot.
d3100 1
a3100 1
version (e.g. 54).  The <tt>siteXX.tgz</tt> file set is, like the other
d3117 1
a3117 1
"<tt>site54-puffy.tgz</tt>".
d3141 1
a3141 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8&amp;manpath=OpenBSD+5.4"
d3187 1
a3187 1
file (appending to this file is neccessary since the installer itself may
d3333 1
a3333 1
</html>
@


1.333
log
@The FAQ talks about the latest release, so link httpd(8) related man
pages to the 5.4 version.
Pointed out by Raf Czlonka <rafal.czlonka AT gmail>, thanks!
OK nick
@
text
@d954 1
a954 1
<li>You wish to build a <a href="#Multibooting">multi-booting</a>
d1404 1
a1404 1
and wish to create a multi-boot system, reserving 5G at the beginning
d2427 1
a2427 1
boot loader that NT uses. To multi-boot with NT,  you need a copy of your
@


1.332
log
@
remove www@@ references, simplify footers on all pages.
@
text
@d2222 1
a2222 1
     <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">web server</a>
d3075 1
a3075 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8"
@


1.331
log
@missing hyphen in previous commit.
@
text
@a4 1
<link rev= "made" href= "mailto:www@@openbsd.org">
d10 1
a10 1
<meta name= "copyright"     content= "This document copyright 1998-2013 by OpenBSD.">
a21 1
<font color= "#0000e0">
a24 1
</font>
d3259 3
a3262 2

<font color= "#0000e0">
a3265 8
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>$OpenBSD: faq4.html,v 1.330 2013/11/06 23:33:21 sobrado Exp $</small>
@


1.330
log
@improve the way file sets are added after install using tar(1) by passing
a positional argument to this command which sets the working directory where
file sets content will be extracted; this change matches what upgrade guide
suggests, seems to be preferred by a number of people, and it is the most
generic way of doing things.

ok nick@@, jmc@@
@
text
@d2737 1
a2737 1
  # tar -C / xzvphf comp54.tgz
d3275 1
a3275 1
<small>$OpenBSD: faq4.html,v 1.329 2013/11/02 18:04:12 nick Exp $</small>
@


1.329
log
@
Wordo, spotted by Henri Keppainen (duclare at guu dot fi), thanks!
@
text
@d2733 1
a2733 1
expand them manually from the root of the filesystem:
d2737 1
a2737 2
  # cd /
  # tar xzvphf comp54.tgz
d3275 1
a3275 1
<small>$OpenBSD: faq4.html,v 1.328 2013/11/01 18:40:58 jca Exp $</small>
@


1.328
log
@Missing .html in loongson and luna88k links.
From sdaoden at gmail dot com, thanks!
@
text
@d2978 1
a2978 1
Boot from it, but chose the bsd.rd kernel, then install as normal.
d3276 1
a3276 1
<small>$OpenBSD: faq4.html,v 1.327 2013/11/01 14:05:56 nick Exp $</small>
@


1.327
log
@
updates for 5.4
@
text
@d188 1
a188 1
<li><a href="../loongson"><b>loongson:</b></a> Miniroot, existing OS partition.
d190 1
a190 1
<li><a href="../luna88k"><b>luna88k:</b></a> Network, tape.
d3276 1
a3276 1
<small>$OpenBSD: faq4.html,v 1.326 2013/10/13 18:27:06 rpe Exp $</small>
@


1.326
log
@Add missing full stop.

ok nick@@
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.3 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 5.3 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy53.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd53.iso</tt> for just booting, or <tt>install53.iso</tt> for the
d174 4
d185 1
a185 1
<li><a href="../landisk.html"><b>landisk:</b></a> miniroot, installed
d188 4
d198 6
d214 1
a214 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.3/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d230 1
a230 1
<tt>install53.iso</tt> or you can make your own.
d322 1
a322 1
<li><b><tt>cd53.iso</tt></b> is an ISO9660 image that can be used to
d327 1
a327 1
<li><b><tt>cdemu53.iso</tt></b> is an ISO9660 image, using
d330 3
a332 3
  image -- most people will use <tt>cd53.iso</tt>; only use
  <tt>cdemu53.iso</tt> if <tt>cd53.iso</tt> doesn't work for you.
<li><b><tt>install53.iso</tt></b> is an ISO9660 image, containing
d336 1
a336 1
<li><b><tt>floppy53.fs</tt></b> (Desktop PC) supports many
d340 1
a340 1
<li><b><tt>floppyB53.fs</tt></b> (Servers) supports many RAID controllers,
d344 1
a344 1
<li><b><tt>floppyC53.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d353 2
a354 2
<li><b><tt>floppy53.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd53.iso</tt></b> is an ISO image usable to make your own
d356 1
a356 1
<li><b><tt>miniroot53.fs</tt></b> can be written to a swap partition
d358 1
a358 1
<li><b><tt>install53.iso</tt></b> is an ISO9660 image, containing
d376 2
a377 2
You can create a CD-ROM using the <tt>cd53.iso</tt> or
<tt>install53.iso</tt> files.
d386 1
a386 1
  # <b>cdio tao cd53.iso</b>
d432 1
a432 1
  # <b>dd if=floppy53.fs of=/dev/rfd0c bs=32k</b>
d444 1
a444 1
  # <b>cmp /dev/rfd0c floppy53.fs</b>
d459 1
a459 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.3/tools/">tools</a>
d468 1
a468 1
  C:\> <strong>ntrw floppy53.fs a:</strong>
d590 1
a590 1
  Welcome to the OpenBSD/i386 5.3 installation program.
d610 1
a610 1
<tt>etc53.tgz</tt> file.
d612 2
a613 2
<a href="upgrade53.html#etcUpdates">manually merge</a> the changes of
<tt>etc53.tgz</tt> into your system before you can expect it to be
d622 1
a622 1
For OpenBSD 5.3, upgrading 5.2 to 5.3 is the only supported upgrade.
d630 1
a630 1
<a href="upgrade53.html">OpenBSD Upgrade Guide 5.3</a>.
d1076 1
a1076 1
  Server directory? [pub/OpenBSD/5.3/i386] <b><i>Enter</i></b>
d1092 4
a1095 4
      [X] bsd           [X] etc53.tgz     [X] xbase53.tgz   [X] xserv53.tgz
      [X] bsd.rd        [X] comp53.tgz    [X] xetc53.tgz
      [ ] bsd.mp        [X] man53.tgz     [X] xshare53.tgz
      [X] base53.tgz    [X] game53.tgz    [X] xfont53.tgz
d1102 1
a1102 1
base53.tgz and etc53.tgz file sets.
d1107 1
a1107 1
<li><tt><b>-comp53.tgz</b></tt> removes <tt>comp53.tgz</tt>
d1126 12
a1137 12
  bsd          100% |*************************************|  8939 KB    00:05
  bsd.rd       100% |*************************************|  6334 KB    00:03
  base53.tgz   100% |*************************************| 55752 KB    00:26
  etc53.tgz    100% |*************************************|   511 KB    00:00
  comp53.tgz   100% |*************************************| 44757 KB    00:28
  man53.tgz    100% |*************************************|  9510 KB    00:06
  game53.tgz   100% |*************************************|  2567 KB    00:02
  xbase53.tgz  100% |*************************************|  9974 KB    00:06
  xetc53.tgz   100% |*************************************| 63695       00:00
  xshare53.tgz 100% |*************************************|  4235 KB    00:04
  xfont53.tgz  100% |*************************************| 38868 KB    00:17
  xserv53.tgz  100% |*************************************| 26388 KB    00:15
d1175 1
a1175 1
check out the <a href="../errata53.html">Errata page</a> to see if there
d2051 1
a2051 1
  <li><b><i>base53.tgz</i></b>   - Contains the base OpenBSD system
d2053 1
a2053 1
  <li><b><i>etc53.tgz</i></b>    - Contains all the files in /etc
d2055 1
a2055 1
  <li><b><i>comp53.tgz</i></b>    - Contains the compiler and its
d2057 3
a2059 3
  <li><b><i>man53.tgz</i></b>    - Contains man pages
  <li><b><i>game53.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase53.tgz</i></b>  - Contains the base libraries and
d2061 1
a2061 1
  <li><b><i>xetc53.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2063 3
a2065 3
  <li><b><i>xfont53.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv53.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare53.tgz</i></b> - Contains manpages, locale settings,
d2069 1
a2069 1
The <b>etc53.tgz</b> and <b>xetc53.tgz</b> sets are not installed as
d2081 1
a2081 1
just xbase53.tgz, the rest of X is not always needed.
d2099 1
a2099 1
xbase53.tgz and pull out just the files they need to install their
d2137 1
a2137 1
OpenBSD can be installed in as little as 512M, but installing to that
d2139 2
a2140 2
Until you have some experience, a 4G to 8G HD is recommended to start
with.
d2190 1
a2190 1
The root file system can be as small as 60M, though 100M to 200M is
d2616 1
a2616 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.3/i386/INSTALL.linux">INSTALL.linux</a>,
d2720 1
a2720 1
Sometimes, you realize you really DID need <tt>comp53.tgz</tt> (or any
d2738 1
a2738 1
  # tar xzvphf comp53.tgz
d2895 1
a2895 1
computer, place them in a <a href="#site">site53.tgz</a> file, and
d3038 1
a3038 1
version (e.g. 53).  The <tt>siteXX.tgz</tt> file set is, like the other
d3055 1
a3055 1
"<tt>site53-puffy.tgz</tt>".
d3276 1
a3276 1
<small>$OpenBSD: faq4.html,v 1.325 2013/08/14 11:28:38 nick Exp $</small>
@


1.325
log
@
misplaced </tt>, spotted by tyr at poczta dot fm, thanks!
@
text
@d2198 1
a2198 1
it can be used to abuse your system
d3262 1
a3262 1
<small>$OpenBSD: faq4.html,v 1.324 2013/05/19 15:35:46 nick Exp $</small>
@


1.324
log
@
missed 52->53, spotted by Maxime Villard (rustyBSD at gmx dot fr), thanks!
@
text
@d3091 1
a3091 1
<tt>siteXX.tgz file</tt>, while the <tt>upgrade.site</tt> script could
d3262 1
a3262 1
<small>$OpenBSD: faq4.html,v 1.323 2013/05/05 16:52:39 nick Exp $</small>
@


1.323
log
@
missed 52 -> 53, spotted by Rod Whitworth, thanks!
@
text
@d3041 1
a3041 1
"<tt>site52-puffy.tgz</tt>".
d3262 1
a3262 1
<small>$OpenBSD: faq4.html,v 1.322 2013/05/01 13:16:32 nick Exp $</small>
@


1.322
log
@
updates for 5.3
@
text
@d3024 1
a3024 1
version (e.g. 52).  The <tt>siteXX.tgz</tt> file set is, like the other
d3262 1
a3262 1
<small>$OpenBSD: faq4.html,v 1.321 2012/11/01 15:05:30 nick Exp $</small>
@


1.321
log
@
enter 5.2!
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.2 Installation Guide</title>
d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2012 by OpenBSD.">
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 5.2 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy52.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd52.iso</tt> for just booting, or <tt>install52.iso</tt> for the
d200 1
a200 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.2/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d216 1
a216 1
<tt>install52.iso</tt> or you can make your own.
d308 1
a308 1
<li><b><tt>cd52.iso</tt></b> is an ISO9660 image that can be used to
d313 1
a313 1
<li><b><tt>cdemu52.iso</tt></b> is an ISO9660 image, using
d316 3
a318 3
  image -- most people will use <tt>cd52.iso</tt>; only use
  <tt>cdemu52.iso</tt> if <tt>cd52.iso</tt> doesn't work for you.
<li><b><tt>install52.iso</tt></b> is an ISO9660 image, containing
d322 1
a322 1
<li><b><tt>floppy52.fs</tt></b> (Desktop PC) supports many
d326 1
a326 1
<li><b><tt>floppyB52.fs</tt></b> (Servers) supports many RAID controllers,
d330 1
a330 1
<li><b><tt>floppyC52.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d339 2
a340 2
<li><b><tt>floppy52.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd52.iso</tt></b> is an ISO image usable to make your own
d342 1
a342 1
<li><b><tt>miniroot52.fs</tt></b> can be written to a swap partition
d344 1
a344 1
<li><b><tt>install52.iso</tt></b> is an ISO9660 image, containing
d362 2
a363 2
You can create a CD-ROM using the <tt>cd52.iso</tt> or
<tt>install52.iso</tt> files.
d372 1
a372 1
  # <b>cdio tao cd52.iso</b>
d418 1
a418 1
  # <b>dd if=floppy52.fs of=/dev/rfd0c bs=32k</b>
d430 1
a430 1
  # <b>cmp /dev/rfd0c floppy52.fs</b>
d445 1
a445 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.2/tools/">tools</a>
d454 1
a454 1
  C:\> <strong>ntrw floppy52.fs a:</strong>
d576 1
a576 1
  Welcome to the OpenBSD/i386 5.2 installation program.
d596 1
a596 1
<tt>etc52.tgz</tt> file.
d598 2
a599 2
<a href="upgrade52.html#etcUpdates">manually merge</a> the changes of
<tt>etc52.tgz</tt> into your system before you can expect it to be
d608 1
a608 1
For OpenBSD 5.2, upgrading 5.1 to 5.2 is the only supported upgrade.
d616 1
a616 1
<a href="upgrade52.html">OpenBSD Upgrade Guide 5.2</a>.
a719 1
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
d723 1
a723 5
If you answer "yes" to the "manual network configuration" question, you
will be placed at a shell prompt, where you can configure anything else
that needs configuration, then type "exit" to return back to the install
program.

d769 1
a769 1
hardware clock, as you wouldn't want OpenBSD altering the time for your
d778 2
a779 2
Not all platforms will ask if you expect to run X, those that do require
a sysctl to be set to use X.
d808 12
d830 2
a831 1
and receive mail addressed to root. You will be prompted for a password.
d837 20
d869 1
d1050 1
a1050 1
  Server? (hostname, list#, 'done' or '?') [mirror.example.org] <b>obsd.cec.mtu.edu</b>
d1062 1
a1062 1
  Server directory? [pub/OpenBSD/5.2/i386] <b><i>Enter</i></b>
d1078 4
a1081 4
      [X] bsd           [X] etc52.tgz     [X] xbase52.tgz   [X] xserv52.tgz
      [X] bsd.rd        [X] comp52.tgz    [X] xetc52.tgz
      [ ] bsd.mp        [X] man52.tgz     [X] xshare52.tgz
      [X] base52.tgz    [X] game52.tgz    [X] xfont52.tgz
d1088 1
a1088 1
base52.tgz and etc52.tgz file sets.
d1093 1
a1093 1
<li><tt><b>-comp52.tgz</b></tt> removes <tt>comp52.tgz</tt>
d1112 12
a1123 12
  bsd          100% |*************************************|  8810 KB    00:05
  bsd.rd       100% |*************************************|  6271 KB    00:03
  base52.tgz   100% |*************************************| 55415 KB    00:26
  etc52.tgz    100% |*************************************|   519 KB    00:00
  comp52.tgz   100% |*************************************| 60165 KB    00:28
  man52.tgz    100% |*************************************|  9497 KB    00:06
  game52.tgz   100% |*************************************|  2567 KB    00:02
  xbase52.tgz  100% |*************************************| 11028 KB    00:06
  xetc52.tgz   100% |*************************************| 63902       00:00
  xshare52.tgz 100% |*************************************|  4511 KB    00:04
  xfont52.tgz  100% |*************************************| 38869 KB    00:17
  xserv52.tgz  100% |*************************************| 25113 KB    00:15
a1137 32
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>US/Michigan</b>
</pre></td></tr></table>

<p>
OpenBSD assumes your computer's real-time clock (RTC) is set to GMT, but
you also have to specify what time zone you are in.
There may be several valid answers for your physical location.
Hitting "?" at the prompt will help guide you to finding a valid
time zone name.

<p>
Note that the installer will quite often guess correctly for your
time zone, and you can then just hit "Enter".

<p>
If you have activated OpenNTPD above, you will likely get a prompt
similar to this:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
Time appears wrong.  Set to 'Thu Nov  1 19:50:15 EDT 2012'? [yes] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
This will set your computer's time accurately.

<p>
More on setting the time zone <a href="#MoreTimeZone">here</a>.
<a name="backMoreTimeZone"></a>

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1161 1
a1161 1
check out the <a href="../errata52.html">Errata page</a> to see if there
d2037 1
a2037 1
  <li><b><i>base52.tgz</i></b>   - Contains the base OpenBSD system
d2039 1
a2039 1
  <li><b><i>etc52.tgz</i></b>    - Contains all the files in /etc
d2041 1
a2041 1
  <li><b><i>comp52.tgz</i></b>    - Contains the compiler and its
d2043 3
a2045 3
  <li><b><i>man52.tgz</i></b>    - Contains man pages
  <li><b><i>game52.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase52.tgz</i></b>  - Contains the base libraries and
d2047 1
a2047 1
  <li><b><i>xetc52.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2049 3
a2051 3
  <li><b><i>xfont52.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv52.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare52.tgz</i></b> - Contains manpages, locale settings,
d2055 1
a2055 1
The <b>etc52.tgz</b> and <b>xetc52.tgz</b> sets are not installed as
d2067 1
a2067 1
just xbase52.tgz, the rest of X is not always needed.
d2085 1
a2085 1
xbase52.tgz and pull out just the files they need to install their
d2602 1
a2602 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.2/i386/INSTALL.linux">INSTALL.linux</a>,
d2706 1
a2706 1
Sometimes, you realize you really DID need <tt>comp52.tgz</tt> (or any
d2724 1
a2724 1
  # tar xzvphf comp52.tgz
d2881 1
a2881 1
computer, place them in a <a href="#site">site52.tgz</a> file, and
d3262 1
a3262 1
<small>$OpenBSD: faq4.html,v 1.320 2012/10/18 23:20:05 nick Exp $</small>
@


1.320
log
@
more corrections and consistency from Rob Pierce, thanks!
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.1 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 5.1 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy51.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd51.iso</tt> for just booting, or <tt>install51.iso</tt> for the
d200 1
a200 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.1/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d216 1
a216 1
<tt>install51.iso</tt> or you can make your own.
d308 1
a308 1
<li><b><tt>cd51.iso</tt></b> is an ISO9660 image that can be used to
d313 1
a313 1
<li><b><tt>cdemu51.iso</tt></b> is an ISO9660 image, using
d316 3
a318 3
  image -- most people will use <tt>cd51.iso</tt>; only use
  <tt>cdemu51.iso</tt> if <tt>cd51.iso</tt> doesn't work for you.
<li><b><tt>install51.iso</tt></b> is an ISO9660 image, containing
d322 1
a322 1
<li><b><tt>floppy51.fs</tt></b> (Desktop PC) supports many
d326 1
a326 1
<li><b><tt>floppyB51.fs</tt></b> (Servers) supports many RAID controllers,
d330 1
a330 1
<li><b><tt>floppyC51.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d339 2
a340 2
<li><b><tt>floppy51.fs</tt></b> supports systems with a floppy disk.
<li><b><tt>cd51.iso</tt></b> is an ISO image usable to make your own
d342 1
a342 1
<li><b><tt>miniroot51.fs</tt></b> can be written to a swap partition
d344 1
a344 1
<li><b><tt>install51.iso</tt></b> is an ISO9660 image, containing
d362 2
a363 2
You can create a CD-ROM using the <tt>cd51.iso</tt> or
<tt>install51.iso</tt> files.
d372 1
a372 1
  # <b>cdio tao cd51.iso</b>
d418 1
a418 1
  # <b>dd if=floppy51.fs of=/dev/rfd0c bs=32k</b>
d430 1
a430 1
  # <b>cmp /dev/rfd0c floppy51.fs</b>
d445 1
a445 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.1/tools/">tools</a>
d454 1
a454 1
  C:\> <strong>ntrw floppy51.fs a:</strong>
d576 1
a576 1
  Welcome to the OpenBSD/i386 5.1 installation program.
d596 1
a596 1
<tt>etc51.tgz</tt> file.
d598 2
a599 2
<a href="upgrade51.html#etcUpdates">manually merge</a> the changes of
<tt>etc51.tgz</tt> into your system before you can expect it to be
d608 1
a608 1
For OpenBSD 5.1, upgrading 5.0 to 5.1 is the only supported upgrade.
d616 1
a616 1
<a href="upgrade51.html">OpenBSD Upgrade Guide 5.1</a>.
a814 13
  Change the default console to com0? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
If you wish to configure a serial console rather than your system's
default (usually a keyboard and monitor), this is your chance.
If you change the default to "y", you will be prompted to set the
bit-rate.
Note that for serial consoles, faster is not always better, taking
your platform's default is highly recommended.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
a828 20
<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>US/Michigan</b>
</pre></td></tr></table>

<p>
OpenBSD assumes your computer's real-time clock (RTC) is set to GMT, but
you also have to specify what time zone you are in.
There may be several valid answers for your physical location.
Hitting "?" at the prompt will help guide you to finding a valid
time zone name.

<p>
Note that the installer will quite often guess correctly for your
time zone, and you can then just hit "Enter".

<p>
More on setting the time zone <a href="#MoreTimeZone">here</a>.
<a name="backMoreTimeZone"></a>

d1033 1
a1033 1
  Server directory? [pub/OpenBSD/5.1/i386] <b><i>Enter</i></b>
d1049 4
a1052 4
      [X] bsd           [X] etc51.tgz     [X] xbase51.tgz   [X] xserv51.tgz
      [X] bsd.rd        [X] comp51.tgz    [X] xetc51.tgz
      [ ] bsd.mp        [X] man51.tgz     [X] xshare51.tgz
      [X] base51.tgz    [X] game51.tgz    [X] xfont51.tgz
d1059 1
a1059 1
base51.tgz and etc51.tgz file sets.
d1064 1
a1064 1
<li><tt><b>-comp51.tgz</b></tt> removes <tt>comp51.tgz</tt>
d1083 12
a1094 12
  bsd          100% |*************************************|  8782 KB    00:05
  bsd.rd       100% |*************************************|  6277 KB    00:03
  base51.tgz   100% |*************************************| 54043 KB    00:26
  etc51.tgz    100% |*************************************|   512 KB    00:00
  comp51.tgz   100% |*************************************| 57250 KB    00:28
  man51.tgz    100% |*************************************|  9494 KB    00:06
  game51.tgz   100% |*************************************|  2568 KB    00:02
  xbase51.tgz  100% |*************************************| 11350 KB    00:06
  xetc51.tgz   100% |*************************************| 63821       00:00
  xshare51.tgz 100% |*************************************|  3363 KB    00:04
  xfont51.tgz  100% |*************************************| 38869 KB    00:17
  xserv51.tgz  100% |*************************************| 25246 KB    00:15
d1109 21
a1129 2
  Saving configuration files...done.
  Generating initial host.random file...done.
d1133 7
d1141 2
d1164 1
a1164 1
check out the <a href="../errata.html">Errata page</a> to see if there
d2040 1
a2040 1
  <li><b><i>base51.tgz</i></b>   - Contains the base OpenBSD system
d2042 1
a2042 1
  <li><b><i>etc51.tgz</i></b>    - Contains all the files in /etc
d2044 1
a2044 1
  <li><b><i>comp51.tgz</i></b>    - Contains the compiler and its
d2046 3
a2048 3
  <li><b><i>man51.tgz</i></b>    - Contains man pages
  <li><b><i>game51.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase51.tgz</i></b>  - Contains the base libraries and
d2050 1
a2050 1
  <li><b><i>xetc51.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2052 3
a2054 3
  <li><b><i>xfont51.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv51.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare51.tgz</i></b> - Contains manpages, locale settings,
d2058 1
a2058 1
The <b>etc51.tgz</b> and <b>xetc51.tgz</b> sets are not installed as
d2070 1
a2070 1
just xbase51.tgz, the rest of X is not always needed.
d2088 1
a2088 1
xbase51.tgz and pull out just the files they need to install their
d2605 1
a2605 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.1/i386/INSTALL.linux">INSTALL.linux</a>,
d2709 1
a2709 1
Sometimes, you realize you really DID need <tt>comp51.tgz</tt> (or any
d2727 1
a2727 1
  # tar xzvphf comp51.tgz
d2791 1
a2791 1
  &gt;&gt; OpenBSD/i386 BOOT 3.17
d2884 1
a2884 1
computer, place them in a <a href="#site">site51.tgz</a> file, and
d3027 1
a3027 1
version (e.g. 51).  The <tt>siteXX.tgz</tt> file set is, like the other
d3044 1
a3044 1
"<tt>site51-puffy.tgz</tt>".
d3265 1
a3265 1
<small>$OpenBSD: faq4.html,v 1.319 2012/10/15 03:14:00 nick Exp $</small>
@


1.319
log
@
Rob Pierce (rob at 2 keys ca) fixed up a bunch of my inconsistencies, thanks!
@
text
@d451 2
d585 1
a585 1
<li><b>Install:</b> load OpenBSD onto the system, overwriting whatever
d615 1
a615 1
More information on upgrading between releases can be found in the
d736 2
a737 2
Use a secure password for the root account, remember: on the Internet,
they ARE out to get into your computer, they will be trying lots of
d928 2
d936 3
a938 3
<li>erases any existing partitions on the disk
<li>creates an MBR and disk signature so the disk can be booted
<li>Creates an OpenBSD partition using the entire disk
d944 1
a944 1
<li>You wish to retain other OS partitions
d946 1
a946 1
partitions
d948 1
a948 1
system
d1056 2
d1070 1
d1417 3
a1419 1
IF the disk had a valid MBR in place, it would show you the existing
d2790 1
d2801 1
d2902 1
d2911 1
d3270 1
a3270 1
<small>$OpenBSD: faq4.html,v 1.318 2012/05/01 14:35:14 nick Exp $</small>
@


1.318
log
@
welcome 5.1!
@
text
@d216 1
a216 1
<tt>install51.iso</tt> or you can also make your own.
d254 2
a255 2
<li>Machine name
<li>Hardware installed and available
d258 1
a258 1
      compatibility page
d262 1
a262 1
<li>Install method to be used (CD-ROM, FTP, etc.)
d273 1
a273 1
<li>Desired disk layout
d277 1
a277 1
      If so, how both will be booted?
d286 4
a289 4
  <li>Domain name
  <li>Domain Name Server(s) (DNS) address
  <li>IP addresses and subnet masks for each NIC
  <li>Gateway address
d316 1
a316 1
  image -- most people will use <tt>cd51.iso</tt>, only use
d325 1
a325 1
  floppy
d339 2
a340 2
<li><b><tt>floppy51.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd51.iso</tt></b> An ISO image usable to make your own
d342 1
a342 1
<li><b><tt>miniroot51.fs</tt></b> Can be written to a swap partition
d3257 1
a3257 1
<small>$OpenBSD: faq4.html,v 1.317 2012/01/27 14:31:12 phessler Exp $</small>
@


1.317
log
@Clarify the title for 4.9-Multiboot, because it is for both amd64
and i386 machines.

OK nick@@
@
text
@d4 1
a4 1
<title>4 - OpenBSD 5.0 Installation Guide</title>
d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2011 by OpenBSD.">
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 5.0 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy50.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd50.iso</tt> for just booting, or <tt>install50.iso</tt> for the
d200 1
a200 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.0/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d216 1
a216 1
<tt>install50.iso</tt> or you can also make your own.
d308 1
a308 1
<li><b><tt>cd50.iso</tt></b> is an ISO9660 image that can be used to
d313 1
a313 1
<li><b><tt>cdemu50.iso</tt></b> is an ISO9660 image, using
d316 3
a318 3
  image -- most people will use <tt>cd50.iso</tt>, only use
  <tt>cdemu50.iso</tt> if <tt>cd50.iso</tt> doesn't work for you.
<li><b><tt>install50.iso</tt></b> is an ISO9660 image, containing
d322 1
a322 1
<li><b><tt>floppy50.fs</tt></b> (Desktop PC) supports many
d326 1
a326 1
<li><b><tt>floppyB50.fs</tt></b> (Servers) supports many RAID controllers,
d330 1
a330 1
<li><b><tt>floppyC50.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d339 2
a340 2
<li><b><tt>floppy50.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd50.iso</tt></b> An ISO image usable to make your own
d342 1
a342 1
<li><b><tt>miniroot50.fs</tt></b> Can be written to a swap partition
d344 1
a344 1
<li><b><tt>install50.iso</tt></b> is an ISO9660 image, containing
d362 2
a363 2
You can create a CD-ROM using the <tt>cd50.iso</tt> or
<tt>install50.iso</tt> files.
d372 1
a372 1
  # <b>cdio tao cd50.iso</b>
d418 1
a418 1
  # <b>dd if=floppy50.fs of=/dev/rfd0c bs=32k</b>
d430 1
a430 1
  # <b>cmp /dev/rfd0c floppy50.fs</b>
d445 1
a445 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.0/tools/">tools</a>
d452 1
a452 1
  C:\> <strong>ntrw floppy50.fs a:</strong>
a541 1
<!-- XXXrelease -->
d574 1
a574 1
  Welcome to the OpenBSD/i386 5.0 installation program.
d594 1
a594 1
<tt>etc50.tgz</tt> file.
d596 2
a597 2
<a href="upgrade50.html#etcUpdates">manually merge</a> the changes of
<tt>etc50.tgz</tt> into your system before you can expect it to be
d606 1
a606 1
For OpenBSD 5.0, upgrading 4.9 to 5.0 is the only supported upgrade.
d614 1
a614 1
<a href="upgrade50.html">OpenBSD Upgrade Guide 5.0</a>.
d1060 1
a1060 1
  Server directory? [pub/OpenBSD/5.0/i386] <b><i>Enter</i></b>
d1075 4
a1078 4
      [X] bsd           [X] etc50.tgz     [X] xbase50.tgz   [X] xserv50.tgz
      [X] bsd.rd        [X] comp50.tgz    [X] xetc50.tgz
      [ ] bsd.mp        [X] man50.tgz     [X] xshare50.tgz
      [X] base50.tgz    [X] game50.tgz    [X] xfont50.tgz
d1085 1
a1085 1
base50.tgz and etc50.tgz file sets.
d1090 1
a1090 1
<li><tt><b>-comp50.tgz</b></tt> removes <tt>comp50.tgz</tt>
d1109 12
a1120 12
  bsd          100% |*************************************|  8764 KB    00:05
  bsd.rd       100% |*************************************|  6268 KB    00:03
  base50.tgz   100% |*************************************| 53928 KB    00:26
  etc50.tgz    100% |*************************************|   513 KB    00:00
  comp50.tgz   100% |*************************************| 57224 KB    00:28
  man50.tgz    100% |*************************************|  9482 KB    00:06
  game50.tgz   100% |*************************************|  2568 KB    00:02
  xbase50.tgz  100% |*************************************| 11331 KB    00:06
  xetc50.tgz   100% |*************************************| 71741       00:00
  xshare50.tgz 100% |*************************************|  3357 KB    00:04
  xfont50.tgz  100% |*************************************| 38868 KB    00:17
  xserv50.tgz  100% |*************************************| 31205 KB    00:15
a1136 1
  Install non-free firmware files on first boot? [no] <b><i>Enter</i></b>
a1138 7
Some systems have devices which require firmware which can not be
distributed as part of OpenBSD for licensing reasons.
If you chose to install the non-free firmware on first boot, the first
time the system is booted, the system will attempt to connect to the
Internet and download the available restricted firmware files.


d2036 1
a2036 1
  <li><b><i>base50.tgz</i></b>   - Contains the base OpenBSD system
d2038 1
a2038 1
  <li><b><i>etc50.tgz</i></b>    - Contains all the files in /etc
d2040 1
a2040 1
  <li><b><i>comp50.tgz</i></b>    - Contains the compiler and its
d2042 3
a2044 3
  <li><b><i>man50.tgz</i></b>    - Contains man pages
  <li><b><i>game50.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase50.tgz</i></b>  - Contains the base libraries and
d2046 1
a2046 1
  <li><b><i>xetc50.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2048 3
a2050 3
  <li><b><i>xfont50.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv50.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare50.tgz</i></b> - Contains manpages, locale settings,
d2054 1
a2054 1
The <b>etc50.tgz</b> and <b>xetc50.tgz</b> sets are not installed as
d2066 1
a2066 1
just xbase50.tgz, the rest of X is not always needed.
d2084 1
a2084 1
xbase50.tgz and pull out just the files they need to install their
d2601 1
a2601 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/5.0/i386/INSTALL.linux">INSTALL.linux</a>,
d2705 1
a2705 1
Sometimes, you realize you really DID need <tt>comp50.tgz</tt> (or any
d2723 1
a2723 1
  # tar xzvphf comp50.tgz
d2878 1
a2878 1
computer, place them in a <a href="#site">site50.tgz</a> file, and
d3019 1
a3019 1
version (e.g. 50).  The <tt>siteXX.tgz</tt> file set is, like the other
d3036 1
a3036 1
"<tt>site50-puffy.tgz</tt>".
d3257 1
a3257 1
<small>$OpenBSD: faq4.html,v 1.316 2011/11/22 02:34:38 nick Exp $</small>
@


1.316
log
@
it's not three keys anymore, and who cares about 3.8?
@
text
@d67 1
a67 1
<li><a href= "#Multibooting">4.9 - Multibooting OpenBSD/i386</a>
d2353 1
a2353 1
<h2>4.9 - Multibooting OpenBSD/i386</h2>
d3266 1
a3266 1
<small>$OpenBSD: faq4.html,v 1.315 2011/11/15 18:04:59 ajacoutot Exp $</small>
@


1.315
log
@Couple of fixes, from Steffen Daode Nurpmeso.

ok nick@@
@
text
@d2880 1
a2880 1
Quadra may take <i>several hours</i> to complete the three
a2885 2
Note that the default key size was increased for OpenBSD 3.8, so
the generation times are much longer than they used to be.
d3266 1
a3266 1
<small>$OpenBSD: faq4.html,v 1.314 2011/11/09 01:47:15 nick Exp $</small>
@


1.314
log
@
SATA disks exist now.
Default disk offset is 64 sectors now, not 63.
@
text
@d9 1
a9 1
<meta name= "keywords"      content= "openbsd,faq4>
d468 1
a468 1
If you want to boot from CD, your system BIOS must able to and be set to
d3268 1
a3268 1
<small>$OpenBSD: faq4.html,v 1.313 2011/11/02 01:30:13 nick Exp $</small>
@


1.313
log
@
Maurice Janssen fixed some ugly stuff, most of which I can only
guess how I did...Thanks!
@
text
@d323 1
a323 1
  PCI and ISA NICs, IDE and simple SCSI adapters and some PCMCIA
d1529 1
a1529 1
  offset: [0] <b>63</b>
d1534 5
a1538 6
The fdisk platforms need a one track gap before the first partition.
One track is one "sectors per track" number of sectors, the last of
the "geometry:" numbers.
It is easy to get in the habit of entering "63" here, as it is common
for modern IDE and SATA disks, but not all disks will use this as
the size of a track, common modern exceptions are SCSI and Flash disks.
d3268 1
a3268 1
<small>$OpenBSD: faq4.html,v 1.312 2011/11/01 10:52:27 nick Exp $</small>
@


1.312
log
@
updates for 5.0 (and some non-version-related improvements).
@
text
@d1007 2
a1008 1
</pre><nder groups of 202.47MB, 12958 blocks, 25984 inodes each
d1033 1
a1033 1
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid)
d1077 1
a1077 1
      [X] bsd.rd XXX    [X] comp50.tgz    [X] xetc50.tgz
d1110 12
a1121 12
  bsd          100% |*************************************|  8764 KB    00:05    
  bsd.rd       100% |*************************************|  6268 KB    00:03    
  base50.tgz   100% |*************************************| 53928 KB    00:26    
  etc50.tgz    100% |*************************************|   513 KB    00:00    
  comp50.tgz   100% |*************************************| 57224 KB    00:28    
  man50.tgz    100% |*************************************|  9482 KB    00:06    
  game50.tgz   100% |*************************************|  2568 KB    00:02    
  xbase50.tgz  100% |*************************************| 11331 KB    00:06    
  xetc50.tgz   100% |*************************************| 71741       00:00    
  xshare50.tgz 100% |*************************************|  3357 KB    00:04    
  xfont50.tgz  100% |*************************************| 38868 KB    00:17     
  xserv50.tgz  100% |*************************************| 31205 KB    00:15    
d3269 1
a3269 1
<small>$OpenBSD: faq4.html,v 1.311 2011/05/28 15:08:57 lum Exp $</small>
@


1.311
log
@Some small things:
1. Make some meta tags more pertinent.
2. "a name" anchors align with top of browser.
3. 'is' -> 'are' (@@ 4.6 Details for a more complex install).
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.9 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.9 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy49.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd49.iso</tt> for just booting, or <tt>install49.iso</tt> for the
d200 1
a200 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.9/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d216 1
a216 1
<tt>install49.iso</tt> or you can also make your own.
d308 1
a308 1
<li><b><tt>cd49.iso</tt></b> is an ISO9660 image that can be used to
d313 1
a313 1
<li><b><tt>cdemu49.iso</tt></b> is an ISO9660 image, using
d316 3
a318 3
  image -- most people will use <tt>cd49.iso</tt>, only use
  <tt>cdemu49.iso</tt> if <tt>cd49.iso</tt> doesn't work for you.
<li><b><tt>install49.iso</tt></b> is an ISO9660 image, containing
d322 1
a322 1
<li><b><tt>floppy49.fs</tt></b> (Desktop PC) supports many
d326 1
a326 1
<li><b><tt>floppyB49.fs</tt></b> (Servers) supports many RAID controllers,
d330 1
a330 1
<li><b><tt>floppyC49.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d339 2
a340 2
<li><b><tt>floppy49.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd49.iso</tt></b> An ISO image usable to make your own
d342 1
a342 1
<li><b><tt>miniroot49.fs</tt></b> Can be written to a swap partition
d344 1
a344 1
<li><b><tt>install49.iso</tt></b> is an ISO9660 image, containing
d362 2
a363 2
You can create a CD-ROM using the <tt>cd49.iso</tt> or
<tt>install49.iso</tt> files.
d372 1
a372 1
  # <b>cdio tao cd49.iso</b>
d418 1
a418 1
  # <b>dd if=floppy49.fs of=/dev/rfd0c bs=32k</b>
d430 1
a430 1
  # <b>cmp /dev/rfd0c floppy49.fs</b>
d445 1
a445 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.9/tools/">tools</a>
d452 1
a452 1
  C:\> <strong>ntrw floppy49.fs a:</strong>
d575 1
a575 1
  Welcome to the OpenBSD/i386 4.9 installation program.
d595 1
a595 1
<tt>etc49.tgz</tt> file.
d597 2
a598 2
<a href="upgrade49.html#etcUpdates">manually merge</a> the changes of
<tt>etc49.tgz</tt> into your system before you can expect it to be
d607 1
a607 1
For OpenBSD 4.9, upgrading 4.8 to 4.9 is the only supported upgrade.
d615 1
a615 1
<a href="upgrade49.html">OpenBSD Upgrade Guide 4.9</a>.
d717 1
a717 1
  Using DNS domainname in.nickh.org
d773 1
a773 1
hardware clock, as you don't want OpenBSD altering the time for your
d835 1
a835 1
and you will be prompted for a password.
d914 2
a915 1
  Disk: wd0       geometry: 4863/255/63 [78125000 Sectors]
d952 1
a952 1
you need to manually make sure they get done.
d969 11
a979 11
    a:          1024.0M               63  4.2BSD   2048 16384    1 # /
    b:           507.1M          2097215    swap                   
    c:         38147.0M                0  unused                   
    d:          2620.4M          3135791  4.2BSD   2048 16384    1 # /tmp
    e:          4143.1M          8502287  4.2BSD   2048 16384    1 # /var
    f:          2048.0M         16987323  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         21181627  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          3610.7M         23278779  4.2BSD   2048 16384    1 # /usr/local
    i:          1961.6M         30673543  4.2BSD   2048 16384    1 # /usr/src
    j:          1961.6M         34690971  4.2BSD   2048 16384    1 # /usr/obj
    k:         19245.9M         38708399  4.2BSD   2048 16384    1 # /home
d1007 5
a1011 6
  /dev/rwd0a: 1024.0MB in 2097152 sectors of 512 bytes
  6 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0k: 19245.9MB in 39415696 sectors of 512 bytes
  96 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0d: 2620.4MB in 5366496 sectors of 512 bytes
  13 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
d1016 8
a1023 8
  /dev/rwd0h: 3610.7MB in 7394764 sectors of 512 bytes
  18 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0j: 1961.6MB in 4017428 sectors of 512 bytes
  10 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0i: 1961.6MB in 4017428 sectors of 512 bytes
  10 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0e: 4143.1MB in 8485036 sectors of 512 bytes
  21 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
d1033 1
a1033 1
</pre></td></tr></table>
d1060 1
a1060 1
  Server directory? [pub/OpenBSD/4.9/i386] <b><i>Enter</i></b>
d1075 4
a1078 4
      [X] bsd           [X] etc49.tgz     [X] xbase49.tgz   [X] xserv49.tgz
      [X] bsd.rd XXX    [X] comp49.tgz    [X] xetc49.tgz
      [ ] bsd.mp        [X] man49.tgz     [X] xshare49.tgz
      [X] base49.tgz    [X] game49.tgz    [X] xfont49.tgz
d1085 1
a1085 1
base49.tgz and etc49.tgz file sets.
d1090 1
a1090 1
<li><tt><b>-comp49.tgz</b></tt> removes <tt>comp49.tgz</tt>
d1109 12
a1120 12
  bsd          100% |*************************************|  8809 KB    00:04
  bsd.rd       100% |*************************************|  6227 KB    00:03
  base49.tgz   100% |*************************************| 53505 KB    01:46
  etc49.tgz    100% |*************************************|   507 KB    00:01
  comp49.tgz   100% |*************************************| 56767 KB    03:08
  man49.tgz    100% |*************************************|  9121 KB    00:21
  game49.tgz   100% |*************************************|  2568 KB    00:04
  xbase49.tgz  100% |*************************************| 11581 KB    00:21
  xetc49.tgz   100% |*************************************| 71655       00:00
  xshare49.tgz 100% |*************************************|  2969 KB    00:12
  xfont49.tgz  100% |*************************************| 38484 KB    00:57
  xserv49.tgz  100% |*************************************| 20720 KB    00:39
d1137 12
d2045 1
a2045 1
  <li><b><i>base49.tgz</i></b>   - Contains the base OpenBSD system
d2047 1
a2047 1
  <li><b><i>etc49.tgz</i></b>    - Contains all the files in /etc
d2049 1
a2049 1
  <li><b><i>comp49.tgz</i></b>    - Contains the compiler and its
d2051 3
a2053 3
  <li><b><i>man49.tgz</i></b>    - Contains man pages
  <li><b><i>game49.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase49.tgz</i></b>  - Contains the base libraries and
d2055 1
a2055 1
  <li><b><i>xetc49.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2057 3
a2059 3
  <li><b><i>xfont49.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv49.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare49.tgz</i></b> - Contains manpages, locale settings,
d2063 1
a2063 1
The <b>etc49.tgz</b> and <b>xetc49.tgz</b> sets are not installed as
d2075 1
a2075 1
just xbase49.tgz, the rest of X is not always needed.
d2093 1
a2093 1
xbase49.tgz and pull out just the files they need to install their
d2485 1
a2485 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.9" /application bootsector
d2566 1
a2566 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.9" /application bootsector
d2610 1
a2610 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.9/i386/INSTALL.linux">INSTALL.linux</a>,
d2714 1
a2714 1
Sometimes, you realize you really DID need <tt>comp49.tgz</tt> (or any
d2732 1
a2732 1
  # tar xzvphf comp49.tgz
d2795 1
a2795 1
  &gt;&gt; OpenBSD/i386 BOOT 3.15
d2889 1
a2889 1
computer, place them in a <a href="#site">site49.tgz</a> file, and
d3030 1
a3030 1
version (e.g. 49).  The <tt>siteXX.tgz</tt> file set is, like the other
d3047 1
a3047 1
"<tt>site49-puffy.tgz</tt>".
d3268 1
a3268 1
<small>$OpenBSD: faq4.html,v 1.310 2011/05/03 01:53:05 nick Exp $</small>
@


1.310
log
@
extra word, from Glen Anderson (g s anderson at gmail com)
@
text
@d8 2
a9 2
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2010 by OpenBSD.">
d357 1
d385 1
a385 1

d433 1
d458 1
a458 1

d511 1
d539 1
a539 1

d625 1
d1040 1
d1193 1
a1193 1

d1197 1
a1197 1
Here is some more details on parts of the installation process.
d1199 1
d1282 1
d1349 1
d1683 1
a1683 1

d2611 1
d2751 1
a2751 1

d2795 1
a2795 1

d2825 1
d2880 1
a2880 1

d2911 1
d2936 1
d2993 1
a2993 1

d3010 1
a3010 1

d3122 1
a3122 1

d3166 1
d3256 1
a3256 1
<small>$OpenBSD: faq4.html,v 1.309 2011/05/02 00:53:58 nick Exp $</small>
@


1.309
log
@
put back in jmc@@'s info about rc.firstime, which got clobbered in the
updating process.
@
text
@d465 1
a465 1
chosen to use, usually either through a BIOS setup option.
d3243 1
a3243 1
<small>$OpenBSD: faq4.html,v 1.308 2011/05/01 13:08:58 nick Exp $</small>
@


1.308
log
@
updates for 4.9
@
text
@d3090 5
d3243 1
a3243 1
<small>$OpenBSD: faq4.html,v 1.306 2010/11/07 03:19:36 nick Exp $</small>
@


1.307
log
@document siteXX.tgz and rc.firsttime interaction; this is really just text
lifted from rc(8), from where i'm about to remove it, and ingo requested
that the info not be lost;

ok schwarze ajacoutot nick
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.8 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.8 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy48.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd48.iso</tt> for just booting, or <tt>install48.iso</tt> for the
d200 1
a200 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.8/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d216 1
a216 1
<tt>install48.iso</tt> or you can also make your own.
d308 1
a308 1
<li><b><tt>cd48.iso</tt></b> is an ISO9660 image that can be used to
d313 1
a313 1
<li><b><tt>cdemu48.iso</tt></b> is an ISO9660 image, using
d316 3
a318 3
  image -- most people will use <tt>cd48.iso</tt>, only use
  <tt>cdemu48.iso</tt> if <tt>cd48.iso</tt> doesn't work for you.
<li><b><tt>install48.iso</tt></b> is an ISO9660 image, containing
d322 1
a322 1
<li><b><tt>floppy48.fs</tt></b> (Desktop PC) supports many
d326 1
a326 1
<li><b><tt>floppyB48.fs</tt></b> (Servers) supports many RAID controllers,
d330 1
a330 1
<li><b><tt>floppyC48.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d339 2
a340 2
<li><b><tt>floppy48.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd48.iso</tt></b> An ISO image usable to make your own
d342 1
a342 1
<li><b><tt>miniroot48.fs</tt></b> Can be written to a swap partition
d344 1
a344 1
<li><b><tt>install48.iso</tt></b> is an ISO9660 image, containing
d361 2
a362 2
You can create a CD-ROM using the <tt>cd48.iso</tt> or
<tt>install48.iso</tt> files.
d371 1
a371 1
  # <b>cdio tao cd48.iso</b>
d417 1
a417 1
  # <b>dd if=floppy48.fs of=/dev/rfd0c bs=32k</b>
d429 1
a429 1
  # <b>cmp /dev/rfd0c floppy48.fs</b>
d443 1
a443 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.8/tools/">tools</a>
d450 1
a450 1
  C:\> <strong>ntrw floppy48.fs a:</strong>
d572 1
a572 1
  Welcome to the OpenBSD/i386 4.8 installation program.
d592 1
a592 1
<tt>etc48.tgz</tt> file.
d594 2
a595 2
<a href="upgrade48.html#etcUpdates">manually merge</a> the changes of
<tt>etc48.tgz</tt> into your system before you can expect it to be
d604 1
a604 1
For OpenBSD 4.8, upgrading 4.7 to 4.8 is the only supported upgrade.
d612 1
a612 1
<a href="upgrade48.html">OpenBSD Upgrade Guide 4.8</a>.
d909 1
a909 1
  Which one is the root disk? (or 'done') [wd0]
d1055 1
a1055 1
  Server directory? [pub/OpenBSD/4.8/i386] <b><i>Enter</i></b>
d1070 4
a1073 4
      [X] bsd           [X] etc48.tgz     [X] game48.tgz    [X] xfont48.tgz
      [X] bsd.rd        [X] misc48.tgz    [X] xbase48.tgz   [X] xserv48.tgz
      [ ] bsd.mp        [X] comp48.tgz    [X] xetc48.tgz
      [X] base48.tgz    [X] man48.tgz     [X] xshare48.tgz
d1080 1
a1080 1
base48.tgz and etc48.tgz file sets.
d1085 1
a1085 1
<li><tt><b>-comp48.tgz</b></tt> removes <tt>comp48.tgz</tt>
d1104 12
a1115 13
  bsd          100% |*************************************|  8647 KB    00:04
  bsd.rd       100% |*************************************|  6179 KB    00:03
  base48.tgz   100% |*************************************| 51606 KB    01:46
  etc48.tgz    100% |*************************************|   507 KB    00:01
  misc48.tgz   100% |*************************************|   356 KB    00:06
  comp48.tgz   100% |*************************************| 55031 KB    03:08
  man48.tgz    100% |*************************************|  9013 KB    00:21
  game48.tgz   100% |*************************************|  2568 KB    00:04
  xbase48.tgz  100% |*************************************| 11516 KB    00:21
  xetc48.tgz   100% |*************************************| 71379       00:00
  xshare48.tgz 100% |*************************************|  3243 KB    00:12
  xfont48.tgz  100% |*************************************| 38485 KB    00:57
  xserv48.tgz  100% |*************************************| 20629 KB    00:39
d2025 1
a2025 1
  <li><b><i>base48.tgz</i></b>   - Contains the base OpenBSD system
d2027 1
a2027 1
  <li><b><i>etc48.tgz</i></b>    - Contains all the files in /etc
d2029 1
a2029 1
  <li><b><i>comp48.tgz</i></b>    - Contains the compiler and its
d2031 3
a2033 4
  <li><b><i>man48.tgz</i></b>    - Contains man pages
  <li><b><i>misc48.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game48.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase48.tgz</i></b>  - Contains the base libraries and
d2035 1
a2035 1
  <li><b><i>xetc48.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2037 3
a2039 3
  <li><b><i>xfont48.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv48.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare48.tgz</i></b> - Contains manpages, locale settings,
d2043 1
a2043 1
The <b>etc48.tgz</b> and <b>xetc48.tgz</b> sets are not installed as
d2055 1
a2055 1
just xbase48.tgz, the rest of X is not always needed.
d2073 1
a2073 1
xbase48.tgz and pull out just the files they need to install their
d2465 1
a2465 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.8" /application bootsector
d2546 1
a2546 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.8" /application bootsector
d2590 1
a2590 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.8/i386/INSTALL.linux">INSTALL.linux</a>,
d2693 1
a2693 1
Sometimes, you realize you really DID need <tt>comp48.tgz</tt> (or any
d2711 1
a2711 1
  # tar xzvphf comp48.tgz
d2774 1
a2774 1
  &gt;&gt; OpenBSD/i386 BOOT 3.02
d2867 1
a2867 1
computer, place them in a <a href="#site">site48.tgz</a> file, and
d3006 1
a3006 1
version (e.g. 48).  The <tt>siteXX.tgz</tt> file set is, like the other
d3023 1
a3023 1
"<tt>site48-puffy.tgz</tt>".
a3089 5
<li>Have a set of arbitrary commands be run after the first boot.
This will happen if install.site is used to append any such commands to an
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.firsttime&amp;sektion=8">rc.firsttime(8)</a>
file (appending to this file is neccessary since the installer itself may
write to this file). At boot time, rc.firsttime is executed once then deleted.
@


1.306
log
@
"please do not suggest" chroot /mnt.  per deraadt@@
@
text
@d3092 5
d3245 1
a3245 1
<small>$OpenBSD: faq4.html,v 1.305 2010/11/01 09:48:45 nick Exp $</small>
@


1.305
log
@
update to 4.8
@
text
@a1156 11
<p>
A trick you can use for some "before first boot" configuration is to run:
<pre>
    # <b>/mnt/usr/sbin/chroot /mnt</b>
</pre>
at the shell prompt.
This will set your mount points to be what they will be on a normal
reboot of your newly installed system.
You can now do some basic system configuration, such as adding users,
changing mount points, etc.

d3240 1
a3240 1
<small>$OpenBSD: faq4.html,v 1.304 2010/10/31 15:50:14 nick Exp $</small>
@


1.304
log
@
missing closing </a>
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.7 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.7 Installation Guide</font></h1>
d136 1
a136 1
Typical file names are <tt>floppy47.fs</tt>, though several platforms
d140 1
a140 1
(<tt>cd47.iso</tt> for just booting, or <tt>install47.iso</tt> for the
d200 1
a200 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.7/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d216 1
a216 1
<tt>install47.iso</tt> or you can also make your own.
d308 1
a308 1
<li><b><tt>cd47.iso</tt></b> is an ISO9660 image that can be used to
d313 1
a313 1
<li><b><tt>cdemu47.iso</tt></b> is an ISO9660 image, using
d316 3
a318 3
  image -- most people will use <tt>cd47.iso</tt>, only use
  <tt>cdemu47.iso</tt> if <tt>cd47.iso</tt> doesn't work for you.
<li><b><tt>install47.iso</tt></b> is an ISO9660 image, containing
d322 1
a322 1
<li><b><tt>floppy47.fs</tt></b> (Desktop PC) supports many
d326 1
a326 1
<li><b><tt>floppyB47.fs</tt></b> (Servers) supports many RAID controllers,
d330 1
a330 1
<li><b><tt>floppyC47.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d339 2
a340 2
<li><b><tt>floppy47.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd47.iso</tt></b> An ISO image usable to make your own
d342 1
a342 1
<li><b><tt>miniroot47.fs</tt></b> Can be written to a swap partition
d344 1
a344 1
<li><b><tt>install47.iso</tt></b> is an ISO9660 image, containing
d361 2
a362 2
You can create a CD-ROM using the <tt>cd47.iso</tt> or
<tt>install47.iso</tt> files.
d371 1
a371 1
  # <b>cdio tao cd47.iso</b>
d417 1
a417 1
  # <b>dd if=floppy47.fs of=/dev/rfd0c bs=32k</b>
d429 1
a429 1
  # <b>cmp /dev/rfd0c floppy47.fs</b>
d443 1
a443 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.7/tools/">tools</a>
d450 1
a450 1
  C:\> <strong>ntrw floppy47.fs a:</strong>
d572 1
a572 1
  Welcome to the OpenBSD/i386 4.7 installation program.
d592 1
a592 1
<tt>etc47.tgz</tt> file.
d594 2
a595 2
<a href="upgrade47.html#etcUpdates">manually merge</a> the changes of
<tt>etc47.tgz</tt> into your system before you can expect it to be
d604 1
a604 1
For OpenBSD 4.7, upgrading 4.6 to 4.7 is the only supported upgrade.
d612 1
a612 1
<a href="upgrade47.html">OpenBSD Upgrade Guide 4.7</a>.
d640 1
a640 1
  Terminal type: [vt220] <b><i>Enter</i></b>
d644 3
a646 3
In most cases, the default terminal type is appropriate; however if you
are using a <a href="faq7.html#SerCon">serial console</a> for install,
don't just take the default, respond appropriately.
d1055 1
a1055 1
  Server directory? [pub/OpenBSD/4.7/i386] <b><i>Enter</i></b>
d1070 4
a1073 4
      [X] bsd           [X] etc47.tgz     [X] game47.tgz    [X] xfont47.tgz
      [X] bsd.rd        [X] misc47.tgz    [X] xbase47.tgz   [X] xserv47.tgz
      [ ] bsd.mp        [X] comp47.tgz    [X] xetc47.tgz
      [X] base47.tgz    [X] man47.tgz     [X] xshare47.tgz
d1080 1
a1080 1
base47.tgz and etc47.tgz file sets.
d1085 1
a1085 1
<li><tt><b>-comp47.tgz</b></tt> removes <tt>comp47.tgz</tt>
d1104 13
a1116 13
  bsd          100% |*************************************|  7404 KB    00:04
  bsd.rd       100% |*************************************|  6147 KB    00:03
  base47.tgz   100% |*************************************| 49365 KB    01:46
  etc47.tgz    100% |*************************************|   510 KB    00:01
  misc47.tgz   100% |*************************************|   356 KB    00:06
  comp47.tgz   100% |*************************************| 90468 KB    03:08
  man47.tgz    100% |*************************************|  9240 KB    00:21
  game47.tgz   100% |*************************************|  2556 KB    00:04
  xbase47.tgz  100% |*************************************| 15185 KB    00:21
  xetc47.tgz   100% |*************************************| 70053       00:00
  xshare47.tgz 100% |*************************************|  2887 KB    00:12
  xfont47.tgz  100% |*************************************| 38754 KB    00:57
  xserv47.tgz  100% |*************************************| 19413 KB    00:39
d2037 1
a2037 1
  <li><b><i>base47.tgz</i></b>   - Contains the base OpenBSD system
d2039 1
a2039 1
  <li><b><i>etc47.tgz</i></b>    - Contains all the files in /etc
d2041 1
a2041 1
  <li><b><i>comp47.tgz</i></b>    - Contains the compiler and its
d2043 4
a2046 4
  <li><b><i>man47.tgz</i></b>    - Contains man pages
  <li><b><i>misc47.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game47.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase47.tgz</i></b>  - Contains the base libraries and
d2048 1
a2048 1
  <li><b><i>xetc47.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2050 3
a2052 3
  <li><b><i>xfont47.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv47.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare47.tgz</i></b> - Contains manpages, locale settings,
d2056 1
a2056 1
The <b>etc47.tgz</b> and <b>xetc47.tgz</b> sets are not installed as
d2068 1
a2068 1
just xbase47.tgz, the rest of X is not always needed.
d2086 1
a2086 1
xbase47.tgz and pull out just the files they need to install their
d2325 1
a2325 1
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&amp;sektion=4">raid(4)</a>
d2478 1
a2478 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.7" /application bootsector
d2559 1
a2559 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.7" /application bootsector
d2603 1
a2603 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.7/i386/INSTALL.linux">INSTALL.linux</a>,
d2706 1
a2706 1
Sometimes, you realize you really DID need <tt>comp47.tgz</tt> (or any
d2724 1
a2724 1
  # tar xzvphf comp47.tgz
d2880 1
a2880 1
computer, place them in a <a href="#site">site47.tgz</a> file, and
d3019 1
a3019 1
version (e.g. 47).  The <tt>siteXX.tgz</tt> file set is, like the other
d3036 1
a3036 1
"<tt>site47-puffy.tgz</tt>".
d3251 1
a3251 1
<small>$OpenBSD: faq4.html,v 1.303 2010/10/18 00:58:25 nick Exp $</small>
@


1.303
log
@
imbedded -> embedded.  Close, but embedded seems a bit better.
Suggested by Seth Wright (seth at crosse dotorg).
@
text
@d2995 1
a2995 1
<a name="shamismatch">
d3251 1
a3251 1
<small>$OpenBSD: faq4.html,v 1.302 2010/10/17 16:40:43 nick Exp $</small>
@


1.302
log
@
+4.13.7 - I got an SHA256 mismatch during install!
@
text
@d2997 1
a2997 1
Checksums are imbedded in the install kernels for the file sets that
d3251 1
a3251 1
<small>$OpenBSD: faq4.html,v 1.301 2010/07/03 15:20:12 nick Exp $</small>
@


1.301
log
@
spotted this a number of times myself at bad times to make the change,
but Nicolas P. M. Legrand kicked me in the butt.  Windows 7 is released
and has now entered the debugging stage, and the process works.
@
text
@d84 1
d2995 17
d3251 1
a3251 1
<small>$OpenBSD: faq4.html,v 1.300 2010/05/24 03:06:42 nick Exp $</small>
@


1.300
log
@
that wasn't the fix I wanted.  Look again prompted by deraadt@@
@
text
@a2586 5
<p>
At the time of writing, Windows 7 had not been officially released.
It would be prudent for users to consult Microsoft's documentation and
Website for more current information.  Details may have changed.

d3233 1
a3233 1
<small>$OpenBSD: faq4.html,v 1.299 2010/05/24 02:46:25 nick Exp $</small>
@


1.299
log
@
choose FTP if that's what we are showing.  From Maurice Janssen, thanks!
@
text
@d1042 1
a1042 1
  Location of sets? (cd disk ftp http or 'done') [ftp] <b><i>Enter</i></b>
d3238 1
a3238 1
<small>$OpenBSD: faq4.html,v 1.298 2010/05/21 01:55:18 nick Exp $</small>
@


1.298
log
@
wrong tag. PR6383, Nathan Rickerby (rickerby at gmail), thanks!
@
text
@d1042 1
a1042 1
  Location of sets? (cd disk ftp http or 'done') [cd] <b><i>Enter</i></b>
d3238 1
a3238 1
<small>$OpenBSD: faq4.html,v 1.297 2010/05/19 12:41:02 nick Exp $</small>
@


1.297
log
@
updates for 4.7
@
text
@d1062 1
a1062 1
You can now adjust the list of <a href="#Filesets">file sets</a>.
d3238 1
a3238 1
<small>$OpenBSD: faq4.html,v 1.296 2010/05/02 19:12:03 espie Exp $</small>
@


1.296
log
@updates: recent windows can resize partitions, openbsd can boot extended,
multibooting on windows 7 requires an admin shell, and maybe adding some
delay to the boot menu so that you can see it.

comments and okay nick@@, jmc@@
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.6 Installation Guide</title>
d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2009 by OpenBSD.">
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.6 Installation Guide</font></h1>
a99 3
For OpenBSD 4.6, this process has improved to be even simpler and faster
for the vast majority of users, while retaining the flexibility and
"one floppy" installer OpenBSD is known for.
d106 1
a106 1
(for example, <tt>i386/INSTALL.i386</tt>, <tt>mac68k/INSTALL.mac68k</tt>
d135 1
a135 1
Typical file names are <tt>floppy46.fs</tt>, though several platforms
d139 1
a139 1
(<tt>cd46.iso</tt> for just booting, or <tt>install46.iso</tt> for the
d199 1
a199 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.6/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d215 1
a215 1
<tt>install46.iso</tt> or you can also make your own.
d307 1
a307 1
<li><b><tt>cd46.iso</tt></b> is an ISO9660 image that can be used to
d312 1
a312 1
<li><b><tt>cdemu46.iso</tt></b> is an ISO9660 image, using
d315 3
a317 3
  image -- most people will use <tt>cd46.iso</tt>, only use
  <tt>cdemu46.iso</tt> if <tt>cd46.iso</tt> doesn't work for you.
<li><b><tt>install46.iso</tt></b> is an ISO9660 image, containing
d321 1
a321 1
<li><b><tt>floppy46.fs</tt></b> (Desktop PC) supports many
d325 1
a325 1
<li><b><tt>floppyB46.fs</tt></b> (Servers) supports many RAID controllers,
d329 1
a329 1
<li><b><tt>floppyC46.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d338 2
a339 2
<li><b><tt>floppy46.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd46.iso</tt></b> An ISO image usable to make your own
d341 1
a341 1
<li><b><tt>miniroot46.fs</tt></b> Can be written to a swap partition
d343 1
a343 1
<li><b><tt>install46.iso</tt></b> is an ISO9660 image, containing
d360 2
a361 2
You can create a CD-ROM using the <tt>cd46.iso</tt> or
<tt>install46.iso</tt> files.
d370 1
a370 1
  # <b>cdio tao cd46.iso</b>
d416 1
a416 1
  # <b>dd if=floppy46.fs of=/dev/rfd0c bs=32k</b>
d428 1
a428 1
  # <b>cmp /dev/rfd0c floppy46.fs</b>
d442 1
a442 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.6/tools/">tools</a>
d449 1
a449 1
  C:\> <strong>ntrw floppy46.fs a:</strong>
d567 1
d570 2
a571 1
  Welcome to the OpenBSD/i386 4.6 installation program.
d591 1
a591 1
<tt>etc46.tgz</tt> file.
d593 2
a594 2
<a href="upgrade46.html#etcUpdates">manually merge</a> the changes of
<tt>etc46.tgz</tt> into your system before you can expect it to be
d603 1
a603 1
For OpenBSD 4.6, upgrading 4.5 to 4.6 is the only supported upgrade.
d611 1
a611 1
<a href="upgrade46.html">OpenBSD Upgrade Guide 4.6</a>.
d745 1
a745 1
Usually, you will want sshd(8) running, but occasionally you may not.
d766 2
a767 1
dual-boot system mostly using another OS which doesn't use a GMT-set
a773 1
  Do you want the X Window System to be started by xdm(1)? [no] <b>y</b>
d796 13
d812 1
d909 1
a909 1
  Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
d964 10
a973 10
    b:           127.2M          2097215    swap
    c:         39205.7M                0  unused
    d:          2729.1M          2357679  4.2BSD   2048 16384    1 # /tmp
    e:          4223.2M          7946823  4.2BSD   2048 16384    1 # /var
    f:          1252.3M         16595895  4.2BSD   2048 16384    1 # /usr
    g:          1024.0M         19160541  4.2BSD   2048 16384    1 # /usr/X11R6
    h:          3678.7M         21257693  4.2BSD   2048 16384    1 # /usr/local
    i:          2002.4M         28791612  4.2BSD   2048 16384    1 # /usr/src
    j:          2002.4M         32892533  4.2BSD   2048 16384    1 # /usr/obj
    k:         21142.3M         36993454  4.2BSD   2048 16384    1 # /home
d1003 6
a1008 6
  /dev/rwd0k: 21142.3MB in 43299416 sectors of 512 bytes
  105 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0d: 2729.1MB in 5589144 sectors of 512 bytes
  14 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0f: 1252.3MB in 2564644 sectors of 512 bytes
  7 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
d1011 3
a1013 3
  /dev/rwd0h: 3678.7MB in 7533916 sectors of 512 bytes
  19 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0j: 2002.4MB in 4100920 sectors of 512 bytes
d1015 1
a1015 1
  /dev/rwd0i: 2002.4MB in 4100920 sectors of 512 bytes
d1017 1
a1017 1
  /dev/rwd0e: 4223.2MB in 8649072 sectors of 512 bytes
d1042 1
a1042 1
  Location of sets? (cd disk ftp http or 'done') [ftp] <b><i>Enter</i></b>
d1054 1
a1054 1
  Server directory? [pub/OpenBSD/4.6/i386] <b><i>Enter</i></b>
d1069 4
a1072 4
      [X] bsd           [X] etc46.tgz     [X] game46.tgz    [X] xfont46.tgz
      [X] bsd.rd        [X] misc46.tgz    [X] xbase46.tgz   [X] xserv46.tgz
      [ ] bsd.mp        [X] comp46.tgz    [X] xetc46.tgz
      [X] base46.tgz    [X] man46.tgz     [X] xshare46.tgz
d1079 1
a1079 1
base46.tgz and etc46.tgz file sets.
d1084 1
a1084 1
<li><tt><b>-comp46.tgz</b></tt> removes <tt>comp46.tgz</tt>
d1103 13
a1115 13
  bsd          100% |*************************************|  7063 KB    00:04
  bsd.rd       100% |*************************************|  5913 KB    00:03
  base46.tgz   100% |*************************************| 47315 KB    01:46
  etc46.tgz    100% |*************************************|   503 KB    00:01
  misc46.tgz   100% |*************************************|  2867 KB    00:06
  comp46.tgz   100% |*************************************| 88555 KB    03:08
  man46.tgz    100% |*************************************|  8047 KB    00:21
  game46.tgz   100% |*************************************|  2558 KB    00:04
  xbase46.tgz  100% |*************************************| 10160 KB    00:21
  xetc46.tgz   100% |*************************************| 69166       00:00
  xshare46.tgz 100% |*************************************|  2861 KB    00:12
  xfont46.tgz  100% |*************************************| 34745 KB    00:57
  xserv46.tgz  100% |*************************************| 19789 KB    00:39
d1128 1
d1141 1
d1341 1
d1403 1
d1412 2
d1435 1
d1517 1
d1537 1
d1547 1
d1562 1
d1578 1
d1590 1
d1726 1
a1726 1
The new (for 4.6) OpenBSD installer will attempt to auto-partition your
d1838 1
d2036 1
a2036 1
  <li><b><i>base46.tgz</i></b>   - Contains the base OpenBSD system
d2038 1
a2038 1
  <li><b><i>etc46.tgz</i></b>    - Contains all the files in /etc
d2040 1
a2040 1
  <li><b><i>comp46.tgz</i></b>    - Contains the compiler and its
d2042 4
a2045 4
  <li><b><i>man46.tgz</i></b>    - Contains man pages
  <li><b><i>misc46.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game46.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase46.tgz</i></b>  - Contains the base libraries and
d2047 1
a2047 1
  <li><b><i>xetc46.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2049 3
a2051 3
  <li><b><i>xfont46.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv46.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare46.tgz</i></b> - Contains manpages, locale settings,
d2055 1
a2055 1
The <b>etc46.tgz</b> and <b>xetc46.tgz</b> sets are not installed as
d2067 1
a2067 1
just xbase46.tgz, the rest of X is not always needed.
d2085 1
a2085 1
xbase46.tgz and pull out just the files they need to install their
d2477 1
a2477 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.6" /application bootsector
d2558 1
a2558 1
C:\Windows\system32> bcdedit /create /d "OpenBSD/i386 4.6" /application bootsector
d2607 1
a2607 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.6/i386/INSTALL.linux">INSTALL.linux</a>,
d2710 1
a2710 1
Sometimes, you realize you really DID need <tt>comp46.tgz</tt> (or any
d2728 1
a2728 1
  # tar xzvphf comp46.tgz
d2884 1
a2884 1
computer, place them in a <a href="#site">site46.tgz</a> file, and
d3006 1
a3006 1
version (e.g. 46).  The <tt>siteXX.tgz</tt> file set is, like the other
d3023 1
a3023 1
"<tt>site46-puffy.tgz</tt>".
d3238 1
a3238 1
<small>$OpenBSD: faq4.html,v 1.295 2010/03/07 15:08:22 nick Exp $</small>
@


1.295
log
@
Add rEFIt as a boot manager, suggested by Lars Nooden (lars dot curator
at gmail), thanks!
@
text
@d2331 9
a2339 2
Only one of the four <i>primary</i> MBR partitions can be used for
booting OpenBSD (i.e., extended partitions will not work).
d2477 4
d2494 5
a2519 3
The following was verified using Windows 7 Release Candidate Build 7100.

<p>
d3211 1
a3211 1
<small>$OpenBSD: faq4.html,v 1.294 2010/02/12 03:12:21 nick Exp $</small>
@


1.294
log
@
missing e, pointed out by support at webarts dot co dot nz, thanks!
@
text
@d2557 2
a2558 1
<a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>
d3198 1
a3198 1
<small>$OpenBSD: faq4.html,v 1.293 2009/12/16 04:19:53 nick Exp $</small>
@


1.293
log
@
More details about what could happen when you move a disk from machine
to machine for install using USB adapters or between ahci(4) and pciide(4).
@
text
@d369 1
a369 1
In OpenBSD, you can creat a CD from an ISO image using
d3197 1
a3197 1
<small>$OpenBSD: faq4.html,v 1.292 2009/12/16 01:16:04 nick Exp $</small>
@


1.292
log
@
dmesg AND sysctl hw.sensors now, please.  Based on gmail-mangled diff
from venture37 at gmail.
@
text
@d2904 4
a2907 1
to install OpenBSD.
d2921 1
a2921 1
<a href="faq14.html#flashmemBoot">FAQ 14</a>.
d2932 16
d3197 1
a3197 1
<small>$OpenBSD: faq4.html,v 1.291 2009/12/06 07:54:39 jmc Exp $</small>
@


1.291
log
@grammar tweak, from Brad Tilley;
@
text
@d2584 2
a2585 1
track of what hardware works, and what hardware doesn't work perfectly.
d2592 2
a2593 1
 # dmesg | mail -s "Sony VAIO 505R laptop, apm works OK" dmesg@@openbsd.org
d2612 1
a2612 1
$ dmesg | mail your-account@@yourmail.dom
d2644 1
a2644 1
$ dmesg > ~/dmesg.txt
d3178 1
a3178 1
<small>$OpenBSD: faq4.html,v 1.290 2009/11/30 03:03:02 nick Exp $</small>
@


1.290
log
@
LOTS of patient cleanup from Alan R. S. Bueno.  Typos, missing indentation,
bad link targets, bad punctuation.  You rock, Alan!
@
text
@d2145 1
a2145 1
the root file system hold all the files needed to boot OpenBSD.
d3176 1
a3176 1
<small>$OpenBSD: faq4.html,v 1.289 2009/11/01 15:48:04 nick Exp $</small>
@


1.289
log
@
Theo pointed out that with the mixing of politics and time zones, using
TZs like EST5EDT is basically wrong now, so provide a better example and
make it more clear why you shouldn't chose the easiest to type TZ.
@
text
@d655 1
a655 1
<a href="#Network">below</a>), will be saved in the
d925 1
a925 1
<li>You wish to build a <a href="#Multiboot">multi-booting</a>
d938 1
d1244 1
a1244 1
  xl0: flags=8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
d1258 1
a1258 1
  xl0: flags=8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> mtu 1500
d1270 1
a1270 1
<a href="#backMoreNetwork">(back to where might have been)</a>
d1394 1
a1394 1
data on it already
d1501 1
d1526 11
a1536 11
fdisk:*1> p
Disk: wd0       geometry: 4998/255/63 [80293248 Sectors]
Offset: 0       Signature: 0x0
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 0: 07      0   1   1 -    652 254  63 [          63:    10490382 ] NTFS
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
 3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
fdisk:*1>
d1555 8
a1562 8
fdisk:*1> e 1
            Starting         Ending         LBA Info:
 #: id      C   H   S -      C   H   S [       start:        size ]
-------------------------------------------------------------------------------
 1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused
Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
Do you wish to edit in CHS mode? [n] <b><i>Enter</i></b>
offset: [0]
d1571 3
a1573 3
offset: [0] <b>10490445</b>
size: [0] <b>*</b>
fdisk:*1>
d1689 1
a1689 1
usually should be) outside the OpenBSD fdisk partition.
d1904 1
a1904 1
some future use..
d1989 1
a1989 1
<a href="#BackMorefdisk">(Back to where we may have been)</a>
d2183 3
a2185 2
  <li><tt>/var/www</tt>: OpenBSD's <a href="XXX">web server</a> lives
     here.
d2198 1
a2198 1
     the system has RAM for this to work automatically..
d2224 1
a2224 1
<a href="faq5.html#BldGetSrc">FAQ 5</a>
d2367 1
a2367 1
(You can, of course, use this floppy to make a bootable CD, too)
d2804 3
a2806 3
If you answer "Y" to the "Use entire disk for OpenBSD?" question during
the install, or use the "<tt>reinit</tt>" option
of fdisk(8), the
d3176 1
a3176 1
<small>$OpenBSD: faq4.html,v 1.288 2009/10/20 00:05:21 nick Exp $</small>
@


1.288
log
@
broken link, spotted by Daniel Melameth (daniel at melameth dot com),
thanks!
@
text
@d825 1
a825 1
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>EST5EDT</b>
d1279 1
d1282 2
a1283 2
Multiple time zone definition files will sometimes give the same current
time, but may have different history.
d1286 4
a1289 1
times that involved 1975, you might care about the differences.
d3173 1
a3173 1
<small>$OpenBSD: faq4.html,v 1.287 2009/10/20 00:03:05 nick Exp $</small>
@


1.287
log
@
lost update to FAQ4 made while I was working on the new one...
spotted and diff from James Hartley (jjhartley at gmail dot com)
@
text
@d970 1
a970 1
on the disklabel partitioning <a href="Moredisklabel">below</a>.
d3169 1
a3169 1
<small>$OpenBSD: faq4.html,v 1.286 2009/10/19 06:11:08 halex Exp $</small>
@


1.286
log
@typo

"please commit" nick@@
@
text
@d2491 1
a2491 1
<a href="http://neosmart.net/dl.php?id=1">EasyBSD</a> provides a GUI
d3169 1
a3169 1
<small>$OpenBSD: faq4.html,v 1.285 2009/10/16 19:06:53 nick Exp $</small>
@


1.285
log
@
rewrite of install instructions for 4.6
@
text
@d1942 1
a1942 1
Write your changes and quite disklabel:
d3169 1
a3169 1
<small>$OpenBSD: faq4.html,v 1.284 2009/09/09 02:02:54 nick Exp $</small>
@


1.284
log
@
bunches of fixes from Alan R. S. Bueno (alan dot bsd at gmail dot com),
many thanks!
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.5 Installation Guide</title>
d19 1
a19 1
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif" border="0">    
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.5 Installation Guide</font></h1>
d42 3
a44 3
    <li><a href="#UnixFlop" >4.3.1 - Creating floppies on Unix</a>
    <li><a href="#DosFlop"  >4.3.2 - Creating floppies on Windows</a>
    <li><a href="#MkCD-ROM" >4.3.3 - Creating a boot CD</a>
d47 1
a47 1
<li><a href="#Install"      >4.5 - Performing an install</a>
d49 7
a55 7
  <li><a href="#Start"      >4.5.1 - Starting the install</a>
  <li><a href="#Disks"      >4.5.2 - Setting up disks</a>
  <li><a href="#Hostname"   >4.5.3 - Setting the system hostname</a>
  <li><a href="#Network"    >4.5.4 - Configuring the network</a>
  <li><a href="#InstMedia"  >4.5.5 - Choosing installation media</a>
  <li><a href="#Filesets"   >4.5.6 - Choosing file sets</a>
  <li><a href="#Finish"     >4.5.7 - Finishing up</a>
d58 11
a68 5
<li><a href= "#FilesNeeded" >4.6 - What files are needed for installation?</a>
<li><a href= "#Partitioning">4.7 - How much space do I need for an
                                     OpenBSD installation?</a>
<li><a href= "#Multibooting">4.8 - Multibooting OpenBSD</a>
<li><a href= "#SendDmesg"   >4.9 - Sending your dmesg to dmesg@@openbsd.org
d70 3
a72 3
<li><a href= "#AddFileSet"  >4.10 - Adding a file set after install</a>
<li><a href= "#bsd.rd"      >4.11 - What is 'bsd.rd'?</a>
<li><a href= "#InstProb"    >4.12 - Common installation problems</a>
d74 3
a76 3
  <li><a href="#cpq16m"     >4.12.1 - My Compaq only recognizes 16M RAM</a>
  <li><a href="#noboot"     >4.12.2 - My i386 won't boot after install</a>
  <li><a href="#sshhang"    >4.12.3 - My machine booted, but hung at the
d78 1
a78 1
  <li><a href="#noftplist"  >4.12.4 - I got the message "Failed to change
d80 1
a80 1
  <li><a href="#blankfdisk" >4.12.5 - My fdisk partition table is trashed
d82 1
a82 1
  <li><a href="#noflopcd"   >4.12.6 - I have no floppy or CD-ROM on my
d85 2
a86 2
<li><a href= "#site"        >4.13 - Customizing the install process</a>
<li><a href= "#Multiple"    >4.14 - How can I install a number of similar
d88 1
a88 1
<li><a href="#getdmesg"     >4.15 - How can I get a dmesg(8) to report an
d98 9
a106 4
OpenBSD has a robust and adaptable text-based installation procedure,
and can be installed from a single floppy disk.
Most platforms follow a similar installation procedure;
however there are some differences in the details.
d113 3
a115 3
The OpenBSD installation process uses a special
kernel with a number of utilities and install scripts embedded in a
preloaded RAM disk.
d119 1
a119 1
(<tt>.tgz</tt>) files from a source other than this preloaded RAM disk.
d124 10
d138 1
a138 1
Typical file names are <tt>floppy45.fs</tt>, though several platforms
d142 1
a142 1
(<tt>cd45.iso</tt> for just booting, or <tt>install45.iso</tt> for the
a185 6
<li><a href="../mac68k.html"><b>mac68k:</b></a> Booted
using utilities running on Mac OS.
See
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.5/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
for details.

d202 1
a202 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.5/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d218 1
a218 1
<tt>install45.iso</tt> or you can also make your own.
d310 1
a310 11
<li><b><tt>floppy45.fs</tt></b> (Desktop PC) supports many
  PCI and ISA NICs, IDE and simple SCSI adapters and some PCMCIA
  support. Most users will use this image if booting from a 
  floppy
<li><b><tt>floppyB45.fs</tt></b> (Servers) supports many RAID controllers,
  and some of the less common SCSI adapters.  However,
  support for many standard SCSI adapters and many EISA and ISA
  NICS has been removed.
<li><b><tt>floppyC45.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
  devices found in many laptops.
<li><b><tt>cd45.iso</tt></b> is an ISO9660 image that can be used to
d315 1
a315 1
<li><b><tt>cdemu45.iso</tt></b> is an ISO9660 image, using
d318 3
a320 3
  image -- most people will use <tt>cd45.iso</tt>, only use
  <tt>cdemu45.iso</tt> if <tt>cd45.iso</tt> doesn't work for you.
<li><b><tt>install45.iso</tt></b> is an ISO9660 image, containing
d324 10
a335 5
Yes, there may be situations where one install disk is required
to support your SCSI adapter and another disk is required to support
your network adapter.
Fortunately, this is a rare event, and can usually be worked around.

d341 2
a342 2
<li><b><tt>floppy45.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd45.iso</tt></b> An ISO image usable to make your own
d344 1
a344 1
<li><b><tt>miniroot45.fs</tt></b> Can be written to a swap partition
d346 1
a346 1
<li><b><tt>install45.iso</tt></b> is an ISO9660 image, containing
d352 35
d389 5
a393 1
<h3>4.3.1 - Creating floppies on Unix</h3>
d413 2
a414 10
Note that some Unix-like systems have different commands for formatting
floppies.
Refer to your system's documentation for the exact procedure.

<p>
Once you have a clean, formatted floppy it is time to write the
installation image to floppy.
For this, you can use the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=0">dd(1)</a>
utility.
d419 1
a419 1
  # <b>dd if=floppy45.fs of=/dev/rfd0c bs=32k</b>
d431 1
a431 1
  # <b>cmp /dev/rfd0c floppy45.fs</b>
d435 1
a435 8
<h3>4.3.2 - Creating floppies on Windows</h3>

<p>
This section describes how to write the installation images to
floppy disk under Windows.
You can get the tools mentioned below from the
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.5/tools/">tools</a>
directory on any of the FTP mirrors.
d444 4
a447 1
<tt>ntrw.exe</tt>.
d452 1
a452 1
  C:\> <strong>ntrw floppy45.fs a:</strong>
a457 19
<a name="MkCD-ROM"></a>
<h3>4.3.3 - Making a CD-ROM</h3>

<p>
You can create a CD-ROM using the <tt>cd45.iso</tt> or
<tt>install45.iso</tt> files.
The exact details here are left to the reader to determine with
the tools they have at their disposal.

<p>
Some of the tools in OpenBSD are:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkhybrid&amp;sektion=8">mkhybrid(8)</a>
<li><a href="http://cdrecord.berlios.de/old/private/cdrecord.html">cdrecord</a>,
part of the cdrtools collection in the <a href="faq15.html">OpenBSD Packages
and Ports System</a>.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cdio&amp;sektion=1">cdio(1)</a>'s
"track at once" (tao) recording option.
</ul>
d464 1
a464 1
Booting an install image on the i386 and amd64 PC platforms is nothing new
d466 5
a470 6
If you are using a floppy disk, simply insert the floppy into
the floppy drive and boot the system.
The install image will then load, provided floppy boot is enabled in your BIOS.
If you want to boot from CD, you must go into your system's BIOS
and set the boot options to allow booting from CD.
Some older BIOSes do not have this option, and you must use a floppy
d487 9
a495 3
To boot from floppy, place the floppy disk with the OpenBSD
installation image on it into the floppy drive.
Then use the following command to boot from the floppy:
a502 1
To boot from CD-ROM, place the OpenBSD CD-ROM disk into the drive.
d511 8
a518 10
<p>
Of course, this will only work in new command mode.
If you are at the old command mode prompt (a right arrow), type 'n'
for the new command mode.
(If you are using an old sparc that is pre-sun4c, you probably
don't have a new command mode.
In this case, you need to experiment.)
If you have multiple CD-ROM devices, you need to boot from the correct one;
try <tt>probe-scsi</tt> (or <tt>probe-ide</tt> on newer systems) from
the new command mode.
d521 5
a525 10
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>probe-scsi</b>

  Target 0
    Unit 0   Disk     QUANTUM LIGHTNING 365S
  Target 1
    Unit 0   Removable Disk     QUANTUM EMPIRE_1080S
  Target 3
    Unit 0   Removable Disk     Joe's CD-ROM
</pre></td></tr></table>
d528 3
a530 2
Figure out which disk is the CD-ROM you want to boot from.  Note the
target number.
d533 4
a536 3
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  ok <b>boot /sbus/esp/sd@@X,0</b>
</pre></td></tr></table>
d539 1
a539 3
<a name="Install"></a>
<h2>4.5 - Performing an install</h2>
<a name="Start"></a>
d542 1
a542 1
Whatever your means of booting is, it is now time to use it.  During 
d544 5
a548 3
OpenBSD are loaded into memory.  The most common problem
when booting is a bad floppy disk or a drive alignment problem.  The
boot floppy is quite tightly packed -- any bad spot will cause problems.
d554 2
d560 4
a563 4
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&amp;sektion=8">dmesg</a>, 
the kernel telling you what devices have been found,
and where. Don't worry about remembering this text, as a copy is saved as
<tt>/var/run/dmesg.boot</tt>.
d572 1
d577 3
a579 2
And with that, we reach our first question.  Most of the time, you have
the three options shown:
d583 1
a583 1
untouched in this process, such as a <tt>/home</tt>, but otherwise, 
d592 4
a595 4
<tt>etc45.tgz</tt> file.
After the install, you will have to 
<a href="upgrade45.html#etcUpdates">manually merge</a> the changes of
<tt>etc45.tgz</tt> into your system before you can expect it to be
d604 1
a604 1
For OpenBSD 4.5, upgrading 4.4 to 4.5 is the only supported upgrade.
d611 2
a612 2
More information on upgrading between releases can be found in the 
<a href="upgrade45.html">OpenBSD Upgrade Guide 4.5</a>.
d615 1
a615 1
to a system which will not (or should not) boot to a normal kernel.  
d620 1
a620 3
On occasion, you will not see the "Upgrade" option listed.
After a <i>flag day</i> event, it is not possible to directly upgrade;
one must reinstall the system from scratch.
d622 10
a631 2
<p>
In this example, we will do an install, but the upgrade process is similar.
d635 4
a638 7
  Welcome to the OpenBSD/i386 4.5 install program.

  This program will help you install OpenBSD. At any prompt except password
  prompts you can escape to a shell by typing '!'. Default answers are shown
  in []'s and are selected by pressing RETURN.  At any time you can exit this
  program by pressing Control-C, but exiting during an install can leave your
  system in an inconsistent state.
a640 1
  kbd(8) mapping? ('L' for list) [none] <b><i>Enter</i></b>
d646 6
a651 2
don't just take the default,
respond appropriately.
d654 6
a659 2
If you do not select a keyboard encoding table, a US keyboard layout
will be assumed.
d663 2
a664 7
  IS YOUR DATA BACKED UP? As with anything that modifies disk contents, this
  program can cause SIGNIFICANT data loss.

  It is often helpful to have the installation notes handy. For complex disk
  configurations, relevant disk hardware manuals and a calculator are useful.

  Proceed with install? [no] <b>y</b>
d668 10
a677 2
If you take the default here, the install process will terminate and
drop you to a shell prompt.
d680 3
a682 4
The installation notes referred to here are on the install CDs and FTP
servers, in the file <tt>INSTALL.<i>&lt;plat&gt;</i></tt>, where
<i>&lt;plat&gt;</i> is your <a href="../plat.html">platform</a>, for
instance, <tt>i386</tt>.
d684 10
a693 8
<a name="Disks"></a>
<h3>4.5.2 - Setting up disks</h3>

<i><b>Important Note:</b>
Users with a large hard disk (larger than was commonly available when your
computer was made) will want to
see <a href="faq14.html#LargeDrive">this section</a> before going any
further.</i>
d696 6
a701 7
Setting up disks in OpenBSD varies a bit between platforms. For
<a href="../i386.html">i386</a>, <a href="../amd64.html">amd64</a>,
<a href="../macppc.html">macppc</a>, <a href="../zaurus.html">zaurus</a>
and <a href="../armish.html">armish</a>,
disk setup is done in two stages.  First, the OpenBSD slice of the hard
disk is defined using fdisk(8), then that slice is subdivided into
OpenBSD partitions using disklabel(8).
d704 3
a706 11
Some users may be a little confused by the terminology used here. It
will appear we are using the word "partition" in two different ways.
This observation is correct. There are two layers of partitioning in
the above OpenBSD platforms, the first, one could consider the Operating
System partitioning, which is how multiple OSs on one computer mark out
their own space on the disk, and the second one is how the OpenBSD
partition is sub-partitioned into individual filesystems.  The first
layer is visible as a disk partition to DOS, Windows, and any other OS
that uses this disk layout system,
the second layer of partitioning is visible only to OpenBSD
and those OSs which can directly read an OpenBSD filesystem.
d710 6
a715 8
  Cool!  Let's get to it.

  You will now initialize the disk(s) that OpenBSD will use. To enable all
  available security features you should configure the disk(s) to allow the
  creation of separate filesystems for /, /tmp, /var, /usr, and /home.

  Available disks are: wd0.
  Which one is the root disk? (or done) [wd0] <b><i>Enter</i></b>
d719 4
a722 6
The root disk is the disk the system will boot from, and normally where
swap space resides.
IDE disks will show up as <tt>wd0</tt>, <tt>wd1</tt>, etc., SCSI disks and
RAID devices will show up as <tt>sd0</tt>, <tt>sd1</tt>, and so on.  All the
disks OpenBSD can find are listed here -- if you have drives which are
not showing up, you have unsupported or improperly configured hardware.
d726 2
a727 1
  Do you want to use *all* of wd0 for OpenBSD? [no] <b><i>Enter</i></b>
d731 8
a738 15
If you say "yes" to this question, the entire disk will be allocated to
OpenBSD.  This will result in a standard Master Boot Record and partition
table being written out to disk -- one partition, the size of the entire
hard disk, set to the OpenBSD partition type, and flagged as the
bootable partition.  This will be a common choice for most production
uses of OpenBSD; however, there are some systems this should not be done
on.  Many Compaq systems, many laptops, some Dell and other systems use a
"maintenance" or "Suspend to Disk" partition, which should be kept intact.
If your system
has any other partitions of any type you do not wish to erase, do not
select "yes" to the above question.
On the other hand, if your system has a brand new disk that has never
been used, you will probably want to say "yes" here (or use the "update"
option of fdisk), so you do get a valid master boot record and signature
in place.
d741 3
a743 6
For the sake of this example, we will assume the disk is to be split
between OpenBSD and a pre-existing Windows 2000 partition, so we
take the default of "no", which will take us into the 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
program.  You can also get more information on fdisk(8)
<a href="faq14.html#fdisk">here</a>.
d746 3
a748 5
<b>Note:</b> If you say "Y" to the "Do you want to use *all* of wd0 for
OpenBSD?" question, or if you are using a platform which does not use
fdisk (for example, sparc64), you will not go through this step, but
will rather jump directly to <a href="#disklabel">creating a
disklabel</a>
d752 3
a754 79
  You will now create a single MBR partition to contain your OpenBSD data. This
  partition must have an id of 'A6'; must *NOT* overlap other partitions; and
  must be marked as the only active partition.

  The 'manual' command describes all the fdisk commands in detail.

  Disk: wd0       geometry: 2434/255/63 [39102336 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
  *0: 0B      0   1   1 -    195 254  63 [          63:     3148677 ] Win95 FAT-32
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  Enter 'help' for information
  fdisk: 1> <b>help</b>
          help            Command help list
          manual          Show entire OpenBSD man page for fdisk
          reinit          Re-initialize loaded MBR (to defaults)
          setpid          Set the identifier of a given table entry
          disk            Edit current drive stats
          edit            Edit given table entry
          flag            Flag given table entry as bootable
          update          Update machine code in loaded MBR
          select          Select extended partition table entry MBR
          swap            Swap two partition entries
          print           Print loaded MBR partition table
          write           Write loaded MBR to disk
          exit            Exit edit of current MBR, without saving changes
          quit            Quit edit of current MBR, saving current changes
          abort           Abort program without saving current changes
  fdisk: 1> 
</pre></td></tr></table>

<p>
A few commands are worthy of elaboration:
<ul>
<li><b><tt>r</tt></b> or <b><tt>reinit</tt>:</b> Clears existing
partition table, makes one big OpenBSD partition covering entire
disk, flags it active,
and installs the OpenBSD MBR code.
Equivalent to saying "yes" to the "<tt>use *all* of ...</tt>" question.
You almost certainly want to do this on a new disk.
<li><b><tt>p</tt></b> or <b><tt>print:</tt></b> Displays the current
partition table in sectors.  "<tt>p m</tt>" will show the partition
table in megabytes, "<tt>p g</tt>" will show it in gigabytes.
<li><b><tt>e</tt></b> or <b><tt>edit:</tt></b> edit or alter a table
entry.
<li><b><tt>f</tt></b> or <b><tt>flag:</tt></b> Marks a partition as the
active partition, the one that will be booted from.
<li><b><tt>u</tt></b> or <b><tt>update:</tt></b> Updates the MBR with
the OpenBSD boot code, similar to "<tt>reinit</tt>", except it doesn't
alter the existing partition table.
<li><b><tt>exit</tt></b> and <b><tt>quit:</tt></b> Careful on these, as
some users are used to "exit" and "quit" having opposite meanings.
</ul>

It is worth pointing out once again, an error here will result in
significant data loss.  If you are going to do this on a drive with
important data, it might be worth practicing on a "disposable" drive, in
addition to having a good backup.

<p>
Our drive here has a 1.5G partition for Windows 2000 (using the FAT 
filesystem).  Looking at the info from the above display, we can see 
that the Windows partition occupies through cylinder 195 on the drive.
So, we are going to allocate the rest of the disk to OpenBSD, starting
at cylinder 196.  You could also calculate OpenBSD's starting sector of
3148740 by adding the existing partition's starting sector (63) and its
size (3148677).

<p>
You can edit the drive layout in either Cylinder/Heads/Sectors
form or just raw sectors.  Which is easier depends upon what you 
are doing; in this case, working around an existing partition, using
CHS format will probably be easier.
If you are creating the first partition on the disk, just using 
raw sectors may be easier.
d757 7
a763 56
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk: 1> <b>e 1</b>
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   1: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  Partition id ('0' to disable)  [0 - FF]: [0] (? for help) <b>a6</b>
  Do you wish to edit in CHS mode? [n] <b>y</b>
  BIOS Starting cylinder [0 - 2433]: [0] <b>196</b>
  BIOS Starting head [0 - 254]: [0] <b><i>Enter</i></b>
  BIOS Starting sector [1 - 63]: [0] <b>1</b>
  BIOS Ending cylinder [0 - 2433]: [0] <b>2433</b>
  BIOS Ending head [0 - 254]: [0] <b>254</b>
  BIOS Ending sector [1 - 63]: [0] <b>63</b>
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2434/255/63 [39102336 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
  *0: 0B      0   1   1 -    195 254  63 [          63:     3148677 ] Win95 FAT-32
   1: A6    196   0   1 -   2433 254  63 [     3148740:    35953470 ] OpenBSD     
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  fdisk:*1> <b>p m</b>
  Disk: wd0       geometry: 2434/255/63 [19093 Megabytes]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
  *0: 0B      0   1   1 -    195 254  63 [          63:        1537M] Win95 FAT-32
   1: A6    196   0   1 -   2433 254  63 [     3148740:       17555M] OpenBSD     
   2: 00      0   0   0 -      0   0   0 [           0:           0M] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0M] unused      
  fdisk:*1> 
</pre></td></tr></table>

<a name="trackoffset"></a>
<p>
On platforms which use fdisk, 
it is important that the first partition skips the first track of the
disk, <i>in this case</i>, starting on sector <tt>63</tt>.
This will vary from machine to machine and disk system to disk system.
If an OpenBSD partition is created starting at offset <tt>0</tt>,
this partition table will end up being overwritten by the OpenBSD
partition's <a href="faq14.html#Boot386">Partition Boot Record</a>.
The system may still be bootable, but it will be very
difficult to maintain, and this configuration is <i>not recommended
or supported</i>.

<p>
Note that the prompt changed to include an asterisk ('<tt>*</tt>') to
indicate you have unsaved changes.  As we can see from the output of 
<tt>p&nbsp;m</tt> we have not altered our Windows partition, we have
successfully allocated the rest of the drive for OpenBSD, and the partitions
do not overlap.  We are in business.  Almost.
d766 4
a769 2
What we haven't done is flagged the partition as active so the machine 
will boot OpenBSD on the next reboot:
d773 2
a774 13
  fdisk:*1> <b>f 1</b>
  Partition 1 marked active.
  fdisk:*1> <b>p</b>
  Disk: wd0       geometry: 2434/255/63 [39102336 Sectors]
  Offset: 0       Signature: 0xAA55
              Starting         Ending         LBA Info:
   #: id      C   H   S -      C   H   S [       start:        size ]
  -------------------------------------------------------------------------------
   0: 0B      0   1   1 -    195 254  63 [          63:     3148677 ] Win95 FAT-32
  *1: A6    196   0   1 -   2433 254  63 [     3148740:    35953470 ] OpenBSD     
   2: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
   3: 00      0   0   0 -      0   0   0 [           0:           0 ] unused      
  fdisk:*1>
d778 5
a782 1
And now, we are ready to save our changes:
d785 9
a793 6
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  fdisk:*1> <b>w</b>
  Writing MBR at offset 0.
  wd0: no disk label
  fdisk: 1> <b>q</b>
</pre></td></tr></table> 
d796 3
d800 6
a805 7
<a name="disklabel"></a>
<h3>Creating a disklabel</h3>
The next step is to use 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a> 
to slice up the OpenBSD partition.  More details on using disklabel(8) 
can be found in 
<a href="faq14.html#disklabel">FAQ 14, disklabel</a>.
d809 2
a810 11
  Here is the partition information you chose:
  
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
  Offset: 0       Signature: 0xAA55
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 0B    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
d812 6
a817 3
  You will now create an OpenBSD disklabel inside the OpenBSD MBR
  partition. The disklabel defines how OpenBSD splits up the MBR partition
  into OpenBSD partitions in which filesystems and swap space are created.
d819 3
a821 114
  The offsets used in the disklabel are ABSOLUTE, i.e. relative to the
  start of the disk, NOT the start of the OpenBSD MBR partition.

  # Inside MBR partition 1: type A6 start 3148740 size 35953470
  Treating sectors 3148740-39102210 as the OpenBSD portion of the disk.
  You can use the 'b' command to change this.

  Initial label editor (enter '?' for help at any prompt)
  > <b>?</b>
  Available commands:
    ? [command] - show help                  n [part] - set mount point
    a [part]    - add partition              p [unit] - print partitions
    b           - set OpenBSD boundaries     q        - quit & save changes
    c [part]    - change partition size      r        - display free space
    D           - reset label to default     s [path] - save label to file
    d [part]    - delete partition           u        - undo last change
    e           - edit drive parameters      w        - write label to disk
    g [d | u]   - [d]isk or [u]ser geometry  X        - toggle expert mode
    l [unit]    - print disk label header    x        - exit & lose changes
    M           - disklabel(8) man page      z        - delete all partitions
    m [part]    - modify partition

  Suffixes can be used to indicate units other than sectors:
          'b' (bytes), 'k' (kilobytes), 'm' (megabytes), 'g' (gigabytes)
          'c' (cylinders), '%' (% of total disk), '&' (% of free space).
  Values in non-sector units are truncated to the nearest cylinder boundary.
  > 
</pre></td></tr></table>

<p>
Again, a few of these commands could use a little elaboration:
<ul>
<li><b><tt>p</tt></b> - displays (prints) the current disklabel to the
screen, and you can use the modifiers <tt>k, m</tt> or <tt>g</tt> for
kilobytes, megabytes or gigabytes.

<li><b><tt>D</tt></b> - Clears any existing disklabel, creates a new
default disklabel which covers just the current OpenBSD partition.  This
can be useful if the disk previously had a disklabel on it, and the
OpenBSD partition was recreated to a different size -- the old disk
label may not get deleted, and may cause confusion.

<li><b><tt>m</tt></b> - Modifies an existing entry in a disklabel.
Do not over estimate what this will do for you. While it may alter the
size of a disklabel partition, it does NOT alter the filesystem on the
drive.
Using this option and expecting it to magically resize existing
partitions is a good way of losing large amounts of data.
However, this option and
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=growfs&amp;sektion=8">growfs(8)</a>
can be used to enlarge a partition.

</ul>

<p>
Slicing up your disk properly is important.  The answer to the question,
"How should I partition my system?" is "Exactly how you need it".  This
will vary from application to application.  There is no universal
answer.  If you are unsure of how you want to partition your system, see
<a href="#Partitioning">this discussion</a>.

<p>
In this system, we have over 17G available for OpenBSD.  That's a lot 
of space, and it isn't likely we will need most of it.  So, we will 
deliberately not use absolute minimum sizes.  We would rather have a 
few hundred megabytes of unused space than a kilobyte too little.  

<p>
On the root disk, an 'a' partition <b>must</b> be created for the 
root filesystem (/).
The installation process can not proceed without it.
Generally, you will want to have a <a href="faq14.html#Swap">swap</a>
partition, 'b', though
if you are sure your system will never exhaust real memory, you can
leave it off.
If a 'b' partition exists on the root disk, it will automatically be
used for swap.
Swap partitions on other disks will have to be manually added to
<i>/etc/fstab</i>.

<p>
After a little thought, we decide to create just enough partitions to
allow the creation of the recommended separate filesystems (<tt>/, /tmp,
/var, /usr, /home</tt>) along with a swap partition:
<ul>
<li><i><b>wd0a: /</b></i> (root) - 150M.  Should be more than enough.
<li><i><b>wd0b: </b></i>(swap) - 300M.
<li><i><b>wd0d: /tmp</b></i> - 120M.  <tt>/tmp</tt> is used for building
  some software, 120M will probably be enough for most things.
<li><i><b>wd0e: /var</b></i> - 80M.  If this were to be a web or mail
  server, we'd have made this partition much larger, but, that's not
  what we are doing.
<li><i><b>wd0g: /usr</b></i> - 6G.  We want this partition to be large
  enough to load a few user applications, plus be able to update
  and rebuild the system by source if desired or needed.  The 
  <a href="faq15.html#Ports">Ports tree</a> will be here as well, which
  will take almost 250M of this space before ports are built.
  If one was planning on building many applications from source using
  <a href="faq15.html#Ports">ports</a> rather than pre-built
  <a href="faq15.html#PkgMgmt">packages</a>, you might want a lot
  more space here.
<li><i><b>wd0h: /home</b></i> - 4G.  This will allow plenty of user file
  space.
</ul>

Now, if you add those up, you will see over 6G of space is unused!
Unused space won't hurt anything, and it gives us flexibility to enlarge
things in the future if need be.  Need more <i>/tmp</i>?
Create a new partition in the unused space, format the new partition with
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&amp;sektion=8"
>newfs(8)</a>, and change
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5"
><i>/etc/fstab</i></a> to mount the new partition onto <i>/tmp</i>.
Problem solved.
d825 1
a825 53
  > <b>p m</b>
  #             size        offset  fstype [fsize bsize  cpg]
  OpenBSD area: 1537.5M-19092.9M; size: 17555.4M; free: 17555.4M
    c:      19092.9M          0.0M  unused      0     0      
    i:       1498.7M          0.0M  MSDOS                   
  > <b>a a</b>
  offset: [3148740] <b><i>Enter</i></b>
  size: [35953470] <b>150m</b>
  Rounding to cylinder: 321300
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/</b>
  > <b>a b</b>
  offset: [3470040] <b><i>Enter</i></b>
  size: [35632170] <b>300m</b>
  Rounding to cylinder: 626535
  FS type: [swap] <b><i>Enter</i></b>
  > <b>a d</b>
  offset: [4096575] <b><i>Enter</i></b>
  size: [35005635] <b>120m</b>
  Rounding to cylinder: 257040
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/tmp</b>
  > <b>a e</b>
  offset: [4353615] <b><i>Enter</i></b>
  size: [34748595] <b>80m</b>
  Rounding to cylinder: 176715
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/var</b>
  > <b>a g</b>
  offset: [4530330] <b><i>Enter</i></b>
  size: [34571880] <b>6g</b>
  Rounding to cylinder: 12594960
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/usr</b>
  > <b>a h</b>
  offset: [17125290] <b><i>Enter</i></b>
  size: [21976920] <b>4g</b>
  Rounding to nearest cylinder: 8401995
  FS type: [4.2BSD] <b><i>Enter</i></b>
  mount point: [none] <b>/home</b>
  > <b>p m</b>
  OpenBSD area: 1537.5M-19092.9M; size: 17555.4M; free: 6628.4M
  #             size        offset  fstype [fsize bsize  cpg]
    a:           156.9M          1537.5M  4.2BSD   2048 16384    1 # /
    b:           305.9M          1694.4M    swap                   
    c:         19092.9M             0.0M  unused      0     0      
    d:           125.5M          2000.3M  4.2BSD   2048 16384    1 # /tmp
    e:            86.3M          2125.8M  4.2BSD   2048 16384    1 # /var
    g:          6149.9M          2212.1M  4.2BSD   2048 16384    1 # /usr
    h:          4102.5M          8362.0M  4.2BSD   2048 16384    1 # /home
    i:          1537.4M             0.0M   MSDOS                   
  > <b>q</b>
  Write new label?: [y] <b><i>Enter</i></b>
d829 5
a833 15
You will note there is a <i>c</i> partition we seem to have ignored.  This
partition is your entire hard disk; don't attempt to alter it.  You will
also note the <i>i</i> partition wasn't defined by us; this is the
pre-existing Windows 2000 partition. Partitions are not assigned any particular letters -- with the exception
of <i>a</i> (root), <i>b</i> (swap) and <i>c</i> (entire disk), the rest
of the partitions (through letter <i>p</i>) are available for use as you
desire.

<h3>Configuring your mount points and formatting your filesystems</h3>

Now comes the final configuration of your mount points.  If you configured the
mount points through 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&amp;sektion=8">disklabel(8)</a>, 
this step consists of just verifying
your selections; otherwise, you can specify them now.
d836 2
a837 40
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Mount point for wd0d (131584 KBytes)? (or 'none' or 'done') [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (90624 KBytes)? (or 'none' or 'done') [/var] <b><i>Enter</i></b>
  Mount point for wd0g (6656 MBytes)? (or 'none' or 'done') [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (4096 MBytes)? (or 'none' or 'done') [/home] <b><i>Enter</i></b>
  Mount point for wd0d (131584 KBytes)? (or 'none' or 'done') [/tmp] <b>done</b>
  No more disks to initialize.
 
  OpenBSD filesystems:
  wd0a /
  wd0d /tmp
  wd0e /var
  wd0g /usr
  wd0h /home

  The next step *DESTROYS* all existing data on these partitions!
  Are you really sure that you're ready to proceed? [no] <b>y</b>
  newfs: reduced number of fragments per cylinder group from 20080 to 19992 to enl
  arge last cylinder group
  /dev/rwd0a: 156.9MB in 321300 sectors of 512 bytes
  5 cylinder groups of 39.05MB, 2499 blocks, 5120 inodes each
  newfs: reduced number of fragments per cylinder group from 16064 to 15992 to enl
  arge last cylinder group
  /dev/rwd0d: 125.5MB in 257040 sectors of 512 bytes
  5 cylinder groups of 31.23MB, 1999 blocks, 4096 inodes each
  newfs: reduced number of fragments per cylinder group from 11040 to 10992 to enl
  arge last cylinder group
  /dev/rwd0e: 86.3MB in 176712 sectors of 512 bytes
  5 cylinder groups of 21.47MB, 1374 blocks, 2816 inodes each
  /dev/rwd0g: 6149.9MB in 12594960 sectors of 512 bytes
  31 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/rwd0h: 4102.5MB in 8401992 sectors of 512 bytes
  21 cylinder groups of 202.47MB, 12958 blocks, 25984 inodes each
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Tue Oct 21 00:36:28 2
  008)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev)
</pre></td></tr></table>
d840 11
a850 10
You may wonder why the installer again asks for mount points.  This
allows you to recover from any errors or omissions in the mount
points specified during the creation of the disklabel. For instance,
the installation process will automatically delete any duplicate
mount points you enter during the configuration of the disklabel. The
disklabel program will allow you to enter such duplicates, and thus
they must be checked for after the disklabel program exits. The
deleted duplicate mount points will result in partitions without mount
points, that you must assign new mount points for if you wish to use
the space.
d853 2
a854 5
Notice the "Are you really sure that you are ready to proceed?" question
defaults to no, so you will have to deliberately tell it to proceed and
format your partitions. If you chose no, you would simply be dropped
into a shell and could start the install again by typing "install", or
just by rebooting again with your boot disk.
d857 8
a864 3
At this point all filesystems will be formatted for you.  This could take
some time depending on the size of the partitions and the speed of the
disk.
a865 2
<a name="Hostname"></a>
<h3>4.5.3 - Setting the system hostname</h3>
d867 21
a887 7
Now you must set the system hostname.
This value, along with the DNS domain name (specified
<a href="#Network">below</a>), will be saved in the
file <tt>/etc/myname</tt>, which is used during normal boot to set
the hostname of the system.
If you do not set the domain name of the system, the default value of
'my.domain' will be used.
d890 1
a890 4
It is important to set this name now, because it will be used when the
cryptographic keys for the system are generated during the first boot
after installation. This generation takes place whether the network is
configured or not.
d892 1
a892 1
<p> 
d894 13
a906 1
  System hostname (short form, e.g. 'foo'): <b>puffy</b>
d908 11
d920 8
a927 2
<a name="Network"></a>
<h3>4.5.4 - Configuring the network</h3>
d929 5
a933 9
<p>
Now it is time to configure your network.  The network must be
configured if you are planning on doing an FTP or NFS based install,
considering it will be based upon the information you are about to
enter. Here is a walk through of the network configuration section of
the install process.
In our example, we will attach one interface (fxp0) to a cable modem,
which will be configured using DHCP, the other will be to our internal
network, and configured statically.
d936 2
a937 33
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Configure the network? [yes] <b><i>Enter</i></b>
  Available interfaces are: fxp0 xl0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b>xl0</b>
  Symbolic (host) name for xl0? [puffy] <b><i>Enter</i></b>
  The media options for xl0 are currently
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the media options? [no] <b><i>Enter</i></b>
  IPv4 address for xl0? (or 'dhcp') <b>192.168.1.254</b>
  Netmask? [255.255.255.0] <b><i>Enter</i></b>
  IPv6 address for xl0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The media options for fxp0 are currently
          media: Ethernet autoselect (10baseT half-duplex)
  Do you want to change the media options? [no] <b><i>Enter</i></b>
  IPv4 address for fxp0? (or 'none' or 'dhcp') <b>dhcp</b>
  Issuing hostname-associated DHCP request for fxp0.
  DHCPDISCOVER on fxp0 to 255.255.255.255 port 67 interval 1
  DHCPOFFER from 73.34.136.1
  DHCPREQUEST on fxp0 to 255.255.255.255 port 67
  DHCPACK from 73.34.136.1
  bound to 69.241.244.76 -- renewal in 1800 seconds.
  IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
  No more interfaces to initialize.
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.com</b>
  DNS nameserver? (IP address or 'none') [68.87.77.130 68.87.72.130 68.87.75.194] <b><i>Enter</i></b>
  Use the nameserver now? [yes] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') [dhcp] <b><i>Enter</i></b>
  Edit hosts with ed? [no] <b><i>Enter</i></b>
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre></td></tr></table>
d940 3
a942 5
<b>NOTE: </b>Only <b>one</b> interface can easily be configured using
DHCP during an install. If you attempt to configure more than one
interface using DHCP you will encounter errors.
You will have to manually
configure the additional DHCP interfaces after the installation.
a944 2
Now, we set the password for the root account:
<p>
d946 15
a960 2
Password for root account? (will not echo) <b><i>pAssWOrd</i></b>
Password for root account? (again) <b><i>pAssWOrd</i></b>
d962 1
d964 2
a965 9
Use a secure password for the root account.  You will create other
user accounts after the system is booted.  From 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=1">passwd(1)</a>:
<pre>
    The new password should be at least six characters long and not purely
    alphabetic.  Its total length must be less than _PASSWORD_LEN (currently
    128 characters).  A mixture of both lower and uppercase letters, numbers,
    and meta-characters is encouraged.
</pre>
d967 5
a971 2
<a name="InstMedia"></a>
<h3>4.5.5 - Choosing installation media</h3>
d974 4
a977 2
After your network is set up, the install script will give you a chance
to make manual adjustments to the configuration.
d980 4
a983 2
Next, you will get a chance to choose your installation media. The
options are listed below.
d987 27
a1013 3
  Let's install the sets!
  Location of sets? (cd disk ftp http or 'done') [cd] <b><i>Enter</i></b>
  Available CD-ROMs are: cd0.
a1016 4
In this example we are installing from CD-ROM. This will bring up a list
of devices on your computer identified as a CD-ROM. Most people will
only have one. If you need to, make sure you pick the device
which you will use to install OpenBSD from. 
d1018 5
a1022 4
<p>
<b>NOTE: </b>Not all platforms support all installation options.
In this case, the OpenBSD/i386 platform does not support NFS installs,
so they are not shown on this list.
d1024 2
d1028 3
a1030 3
  Available CD-ROMs are: cd0.
  Which one contains the install media? (or 'done') [cd0] <b><i>Enter</i></b>
  Pathname to the sets?  (or 'done') [4.5/i386] <b><i>Enter</i></b>
d1032 5
d1039 4
a1042 3
Here, you are prompted for which directory the installation files are,
which is <tt>4.5/i386/</tt> on the official CD-ROM or a CD built
from <tt>install45.iso</tt>.
d1044 2
a1045 2
<a name="Filesets"></a>
<h3>4.5.6 - Choosing file sets.</h3>
d1048 1
a1048 10
Now it's time to choose which file sets you will be installing. You can
get a description of these files in <a href="#FilesNeeded">the next
section</a>. The files that the install program finds will be shown to
you on the screen. Your job is just to specify which files you want. By
default all the non-X file sets are selected; however, some advanced
users may
wish to limit this to the bare minimum required to run OpenBSD, which
would be <tt>base45.tgz</tt>, <tt>etc45.tgz</tt> and <tt>bsd</tt>.
Most people will want to install the default file sets or all file sets.
The example below is that of a full install.
d1054 7
a1060 1
  sets are labeled '[x]'.
a1061 82
          [X] bsd
          [X] bsd.rd
          [ ] bsd.mp
          [X] base45.tgz
          [X] etc45.tgz
          [X] misc45.tgz
          [X] comp45.tgz
          [X] man45.tgz
          [X] game45.tgz
          [ ] xbase45.tgz
          [ ] xetc45.tgz
          [ ] xshare45.tgz
          [ ] xfont45.tgz
          [ ] xserv45.tgz
  Set name? (or 'done') [bsd.mp] <b>all</b>

          [X] bsd
          [X] bsd.rd
          [X] bsd.mp
          [X] base45.tgz
          [X] etc45.tgz
          [X] misc45.tgz
          [X] comp45.tgz
          [X] man45.tgz
          [X] game45.tgz
          [X] xbase45.tgz
          [X] xetc45.tgz
          [X] xshare45.tgz
          [X] xfont45.tgz
          [X] xserv45.tgz
</pre></td></tr></table>

<p>
You can do all kinds of nifty things here -- "<tt>-x*</tt>" would remove
all X components, if you changed your mind.  In this case, we are going
to load all the sets.  While the system will run with fewer sets, either
the starting default or installing all sets is recommended.
More details on selecting sets <a href="#FilesNeeded">here</a>.

<p>
Once you have successfully picked which file sets you want, you will be
prompted to make sure you want to extract these file sets and they will
then be installed. A progress bar will be shown that will keep you
informed on how much time it will take. The times range greatly
depending on what system it is you are installing OpenBSD on, the
file sets installed, and the speed of the source media.  This part may take
from a few minutes to several hours.

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Set name? (or 'done') [done] <b><i>Enter</i></b>
  Ready to install sets? [yes] <b><i>Enter</i></b>
  Getting bsd ...
  100% |**************************************************|  6539 KB    00:01    
  Getting bsd.rd ...
  100% |**************************************************|  5461 KB    00:01    
  Getting bsd.mp ...
  100% |**************************************************|  6558 KB    00:01    
  Getting base45.tgz ...
  100% |**************************************************| 46941 KB    00:29    
  Getting etc45.tgz ...
  100% |**************************************************|   501 KB    00:00    
  Getting misc45.tgz ...
  100% |**************************************************|  2866 KB    00:01    
  Getting comp45.tgz ...
  100% |**************************************************| 87874 KB    00:43    
  Getting man45.tgz ...
  100% |**************************************************|  8032 KB    00:07    
  Getting game45.tgz ...
  100% |**************************************************|  2555 KB    00:01    
  Getting xbase45.tgz ...
  100% |**************************************************|  9761 KB    00:05    
  Getting xetc45.tgz ...
  100% |**************************************************| 75214       00:00    
  Getting xshare45.tgz ...
  100% |**************************************************|  2698 KB    00:05    
  Getting xfont45.tgz ...
  100% |**************************************************| 34745 KB    00:16    
  Getting xserv45.tgz ...
  100% |**************************************************| 19478 KB    00:09    
  Location of sets? (cd disk ftp http or 'done') [done] <b><i>Enter</i></b>
</pre></td></tr></table>
d1064 22
a1085 16
At this point, you can pull additional files from other sources
(including <a href="#site">custom file sets</a>) if
desired, or hit '<tt>done</tt>' if you have installed all the file sets
you need.

<a name="Finish"></a>
<h3>4.5.7 - Finishing up</h3>

Next, you get asked a few questions about settings for your
installed system.
First is whether
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
should be started on boot.
Usually, you will want sshd(8) running, but occasionally you may not.
If your application has no need for sshd(8), there is a small
theoretical security advantage to not having it running.
d1089 15
a1103 2
  Start sshd(8) by default? [yes] <b>y</b>
</pre></td></tr></table> 
d1106 4
a1109 2
(If you change your mind later, alter <a href="faq10.html"
><tt>/etc/rc.conf.local</tt></a> or <tt>/etc/rc.conf</tt>.)
d1112 83
a1194 6
You will be given the option to run
<a href="faq6.html#OpenNTPD">OpenNTPD</a>
on boot.  
OpenNTPD is a low-impact way to keep your computer's clock accurately
synchronized, and the default configuration is sufficient for many
people's use.
d1198 4
a1201 2
  Start ntpd(8) by default? [no] <b>yes</b>
  NTP server? (hostname or 'default') [default] <b><i>Enter</i></b>
d1205 3
a1207 5
If you have a local time server, you can specify it here, if you
chose "default", OpenNTPD will use <tt>pool.ntp.org</tt>, a huge
collection of free access time servers.
(If you change your mind later, alter <a href="faq10.html"
><tt>/etc/rc.conf.local</tt></a> and/or <tt>/etc/ntpd.conf</tt>.)
d1210 8
a1217 13
On some platforms,
you will now be asked if you plan to run X on this system.  If you
answer 'Y', <tt>/etc/sysctl.conf</tt> will be modified to include the
line <tt>machdep.allowaperture=1</tt> or <tt>machdep.allowaperture=2</tt>,
depending on your platform.
Some platforms will not ask this question at all.
If you do not intend to run X on this system or are not sure, answer 'N'
here, as you can easily change it by editing <tt>/etc/sysctl.conf</tt>
should you need to later.
There is a potential security advantage to leaving this aperture driver
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">xf86(4)</a>
disabled, as the graphics engine on a modern video card could
potentially be used to alter memory beyond the processor's control.
d1221 4
a1224 1
  Do you expect to run the X Window System? [no] <b>y</b>
d1228 9
a1236 9
Next, you are asked if you are wanting to use a 
<a href="faq7.html#SerCons">serial console</a> with this computer,
rather than a standard keyboard and monitor.
If you chose "<tt>yes</tt>" and answer a couple other simple questions,
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8">/etc/boot.conf</a></tt>
and 
<tt><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ttys&amp;sektion=5">/etc/ttys</a></tt>
will be edited appropriately for you.
Most users will take the default, <b><tt>no</tt></b> here.
d1240 26
a1265 1
  Change the default console to com0? [no] <b><i>Enter</i></b>
d1269 25
a1293 6
Your last task is to enter the time zone.  Depending on where your
machine lives, there are may be several equally valid answers for the
question.  In the example that follows, we used <tt>US/Eastern</tt>, but
could also have used <tt>EST5EDT</tt> or <tt>US/Michigan</tt> and had
the same result.  Hitting <tt>?</tt> at the prompts will guide you
through your choices.
d1297 1
a1297 3
  Saving configuration files......done.
  Generating initial host.random file ......done.
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>?</b>
d1308 3
a1310 3
  Canada/      GB           Iran         NZ           Turkey       zone.tab
  What timezone are you in? ('?' for list) [Canada/Mountain] <b>US</b>
  What sub-timezone of 'US' are you in? ('?' for list) <b>?</b>
d1314 160
a1473 2
  Select a sub-timezone of 'US' ('?' for list): <b>Eastern</b>
  Setting local timezone to 'US/Eastern'...done.
d1477 5
a1481 2
If you are concerned about very precise time, you may wish to read
<a href="faq8.html#NTPerror">this</a>.
d1484 279
a1762 4
The last steps are for the system to create the <tt>/dev</tt> directory 
(which may take a while on some systems, especially if you have a small
amount of RAM), and install the 
boot blocks. 
d1766 55
a1820 11
  Making all device nodes...done.
  Installing boot block...
  boot: /mnt/boot
  proto: /usr/mdec/biosboot
  device: /dev/rwd0c
  /usr/mdec/biosboot: entry point 0
  proto bootblock size 512
  /mnt/boot is 3 blocks x 16384 bytes
  fs block shift 2; part offset 3148740; inode block 24, offset 1832
  using MBR partition 1: type 166 (0xa6) offset 3148740 (0x300bc4)
  done.
d1822 3
a1824 5
  CONGRATULATIONS! Your OpenBSD install has been successfully completed!
  To boot the new system, enter halt at the command prompt. Once the
  system has halted, reset the machine and boot from the disk.
  # <b>halt</b>
  syncing disks... done
d1826 8
a1833 2
  The operating system has halted.
  Please press any key to reboot.
d1837 55
a1891 2
OpenBSD is now installed on your system and ready for its first
boot, but before you do...
d1894 5
d1900 2
a1901 5
<h4>Before you reboot</h4>
At this point, your system is installed and ready to be rebooted and
configured for service.  Before doing this, however, it would be wise to
check out the <a href="../errata.html">Errata page</a> to see if there
are any bugs that would immediately impact you.
d1904 31
a1934 9
A trick you can use for some "before first boot" configuration is to run:
<pre>
    # <b>/mnt/usr/sbin/chroot /mnt</b>
</pre>
at the shell prompt.
This will set your mount points to be what they will be on a normal
reboot of your newly installed system.
You can now do some basic system configuration, such as adding users,
changing mount points, etc.
d1936 4
a1939 1
<h4>After you reboot</h4>
d1942 1
a1942 2
One of your first things to read after you install your system is
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8">afterboot(8)</a>.
d1945 36
a1980 10
You may also find the following links useful:
<ul>
<li><a href="faq10.html#AddDelUser">Adding users in OpenBSD</a> 
<li><a href="faq6.html#Setup">Initial Network Setup</a>
<li><a href="faq2.html#ManPages">Man Pages of popular/useful commands</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi">OpenBSD man pages on 
  the Web</a>
<li><a href="faq15.html">The OpenBSD Packages and Ports system for 
  installing software</a>
</ul>
d1982 2
a1983 5
<h4>One last thing...</h4>
The OpenBSD developers ask you to
<a href="#SendDmesg">Send in a copy of your dmesg</a>.  This is 
really appreciated by the developers, and ultimately, all 
users.
d1987 1
a1987 1
<h2>4.6 - What files are needed for installation?</h2>
d1991 6
a1996 3
The complete OpenBSD installation is broken up into a number of 
separate <i>file sets</i>.  Not every application requires every
file set.  Here is an overview of each:
d2003 1
a2003 1
  <li><b><i>base45.tgz</i></b>   - Contains the base OpenBSD system 
d2005 1
a2005 1
  <li><b><i>etc45.tgz</i></b>    - Contains all the files in /etc 
d2007 6
a2012 6
  <li><b><i>comp45.tgz</i></b>    - Contains the compiler and its 
    tools, headers and libraries. <b>Recommended</b>
  <li><b><i>man45.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc45.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game45.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase45.tgz</i></b>  - Contains the base libraries and
d2014 1
a2014 1
  <li><b><i>xetc45.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d2016 3
a2018 3
  <li><b><i>xfont45.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv45.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare45.tgz</i></b> - Contains manpages, locale settings,
d2022 1
a2022 1
The <b>etc45.tgz</b> and <b>xetc45.tgz</b> sets are not installed as
d2029 1
a2029 1
<h3>Why do I have to install xbase45.tgz for my application?</h3>
d2032 5
a2036 6
utilities in
<b>xbase45.tgz</b> to be installed on your system.
These applications can usually be satisfied simply by installing
xbase45.tgz, the rest of X is not needed.
Many people resist installing xbase45.tgz on their system without
valid reason:
d2039 1
a2039 1
<li>By itself, installing xbase45.tgz does not cause any program to
d2041 1
a2041 1
<li>By itself, installing xbase45.tgz on a system does not change the
d2044 3
a2046 3
whatever they wish, so the presence or absence of the xbase45.tgz file
set does not appreciably change the situation.
<li>The only parts of xbase45.tgz that are running are the parts
d2048 1
a2048 1
<li>The space required for xbase45.tgz is relatively modest, about 30M.
d2052 1
a2052 1
xbase45.tgz and pull out just the files they need to install their
d2059 1
a2059 1
IF you need xbase45.tgz, just install it.
a2061 2
Note that compiling from source will often require more of X to be
installed, but the above points still apply.
d2064 18
d2084 1
a2084 2
<a name= "SpaceNeeded"></a>  <!-- XXXobsolete tag -->
<h2> 4.7 - How much space do I need for an OpenBSD installation?</h2>
d2090 19
a2108 95
However, these numbers can be used as a <i>starting</i> point:

<blockquote><pre>
(root)             60MB
/usr               500MB (no X) or 660MB (with X)
/var               25MB
/tmp               50MB
swap               32MB
</pre></blockquote>

Those are minimum suggested filesystem sizes for a full system
install.
The numbers include enough extra space to permit you to run a typical
home system that is connected to the Internet, but not much else.

<p>
Keep the following facts in mind, however:
<ul>
<li>These are minimum values.
Disk space is relatively cheap now, trying to squeeze your system into 
the smallest possible disk is rarely worth the effort.
For special purpose applications, the above numbers can be made
smaller, but you will need to experiment with it.
<li>These numbers do NOT include the ports tree.
<li>If you plan to install a significant amount of third party software,
make your <tt>/usr</tt> partition much larger.
How large will depend on your applications, of course.
<li>For a system that handles lots of email or web pages (stored,
respectively, in <tt>/var/mail</tt> and <tt>/var/www</tt>) you will want
to make your <tt>/var</tt> partition significantly larger, or put them
on separate partitions.
<li>For a multiuser system which may generate lots of logs, you will
want to make your <tt>/var</tt> partition significantly larger still,
or create a separate log partition
(<tt>/var/log</tt>).
<li>If you plan to <a href="faq5.html">rebuild the kernel and system from
source</a>, you will
want to make the <tt>/usr</tt> partition significantly larger, 
4G is not a bad size.
<li>Compiling some <a href="faq15.html#Ports">ports</a> from source can
take huge amounts of space on your <tt>/usr</tt> and <tt>/tmp</tt>
partitions. This is another reason we suggest using
<a href="faq15.html#PkgMgmt">pre-compiled packages</a> instead.
<li>The <tt>/tmp</tt> partition is used in the compiling of ports, among
other things, so how big you make it depends on what you do with it.
50M may be plenty for most people, but some large applications may
require 100M or more of <tt>/tmp</tt> space.

<li>The 'b' partition of your root drive automatically becomes your
system swap partition.
Many people follow an old rule of thumb that your swap partition should
be twice the size of your main system RAM.
This rule is nonsense.
On a modern system, that's a LOT of swap, most people prefer that their
systems never swap.
You don't want your system to ever run out of RAM+swap, but you usually
would rather have enough RAM in the system so it doesn't need to swap.
If you are using a flash device for disk, you probably want no swap
partition at all.
Use what is appropriate for your needs.
If you guess wrong, you can add another swap partition in <i>/etc/fstab</i>
or <a href="faq14.html#SwapFile">swap to a file</a> later.
<li>Swap and <tt>/var</tt> spaces are used to store system core dumps
on in the event of a
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crash&amp;sektion=8">crash(8)</a>.
If this is a consideration for you, your swap space should be slightly
larger than the amount of main memory you are likely to ever have in the
system.
Upon reboot, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=savecore&amp;sektion=8">savecore(8)</a>
will attempt to save the contents of the swap partition to a file in
<tt>/var/crash</tt> so again, if this is a priority for you, your
<tt>/var</tt> partition must have enough <i>free space</i> to hold these
dump files.
Be realistic -- few developers will want to look at your 1GB dump file,
so if you aren't planning on investigating a crash locally, this is 
probably not a concern.
<li>At least some editors use <tt>/var/tmp</tt> for scratch space, and
this often needs to be as big or bigger than the largest file you edit.
If you plan on editing 500M files, your <tt>/var</tt> or
<tt>/var/tmp</tt> partition will need to be much larger than you might
have planned on.
</ul>

<p>
There are several reasons for using separate filesystems, instead of
shoving everything into one or two filesystems:

<ul>
<li><b>Security</b>: You can mark some filesystems as 'nosuid', 'nodev', 
  'noexec', 'readonly', etc.  This is done by the install process,
  if you use the above described partitions.
<li><b>Stability</b>: A user, or a misbehaved program, can fill a 
  filesystem with garbage if they have write permissions for it.  Your 
  critical programs, which of course run on a different filesystem, do 
d2110 1
a2110 1
<li><b>Speed</b>: A filesystem which gets written to frequently may get
d2113 3
a2115 3
<li><b>Integrity</b>: If one filesystem is corrupted for some reason
  then your other filesystems are still OK.
<li><b>Size</b>: Many machines have limits on the area of a disk where
d2118 111
a2228 7
  limit (for example, 2G, 8G, or 128G on i386 systems).
  As the kernel can end up anywhere within
  the root partition, the entire root partition should be within this
  area. For more details, see <a href="faq14.html#LargeDrive">this
  section</a>.  A good guideline might be to keep your / partition
  completely below 2G, unless you know your platform (and particular
  machine) can handle more (or less) than that.
d2259 1
a2259 1
   find it a challenge to buy a new drive smaller than 20G, it can make
d2281 1
a2281 1
   described in 
d2295 11
d2311 1
a2311 1
<h2>4.8 - Multibooting OpenBSD</h2>
d2359 2
a2360 1
reboot.  To boot from the other OS, eject the floppy, reboot.  
d2363 1
a2363 1
In this case, the 
d2377 1
a2377 1
copy it to a file using 
d2388 1
a2388 1
It is left to the reader to adapt it to their machine. 
d2400 1
a2400 1
menu. There is much more information available about NTLDR at the 
d2424 4
a2427 4
Configuration Data (BCD) store used for controlling the boot 
environment.  Since <tt>BOOT.INI</tt> is no longer available for 
customization, a command-line utility, <tt>bcdedit</tt>, takes its 
place.  
d2444 3
a2446 3
is shown for illustrative reasons.  Take note of the GUID displayed 
when you run this command as this value will need to be copied into 
the following commands.  Simply copying the GUID shown above will not 
d2466 1
a2466 1
<tt>bcdedit</tt> will not complain about an explicit drive 
d2471 3
a2473 3
Upon rebooting, Vista will be listed first in the boot manager 
ultimately followed by OpenBSD.  Selecting either entry will boot the 
corresponding operating system.  
d2485 1
a2485 1
introduction can be found in this TechNet 
d2488 1
a2488 1
 
d2490 2
a2491 2
For those who find manual configuration daunting, 
<a href="http://neosmart.net/dl.php?id=1">EasyBCD</a> provides a GUI
d2497 3
d2518 3
a2520 3
As admonished before, the 
<tt>{0154a872-3d41-11de-bd67-a7060316bbb1}</tt> GUID is 
system-dependent.  Note the value you receive when executing, and copy 
d2548 1
a2548 1
Some other bootloaders OpenBSD users have used successfully include 
d2551 1
a2551 1
and <a href="http://www.gnu.org/software/grub/">GRUB</a>. 
d2558 2
a2559 2
Please refer to 
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.5/i386/INSTALL.linux">INSTALL.linux</a>,
d2573 1
a2573 1
<h2>4.9 - Sending your dmesg to dmesg@@openbsd.org after the install</h2>
d2621 1
a2621 1
<li>The dmesgs are received on a computer using the 
d2656 1
a2656 1
<h2>4.10 - Adding a file set after install</h2>
d2660 1
a2660 1
Sometimes, you realize you really DID need <tt>comp45.tgz</tt> (or any
d2678 1
a2678 1
  # tar xzvphf comp45.tgz
d2711 1
a2711 1
<h2>4.11 - What is 'bsd.rd'?</h2>
d2713 1
a2713 1
<b><tt>bsd.rd</tt></b> is a "RAM Disk" kernel.  This file can be very 
d2725 6
a2730 6
On some platforms, <tt>bsd.rd</tt> is actually the preferred 
installation technique -- you place this kernel on an existing 
filesystem, boot it, and run the install from it.  On most 
platforms, if you have a running older version of OpenBSD, you 
can FTP  a new version of <tt>bsd.rd</tt>, reboot from it, and 
install a new version of OpenBSD without using any removable 
d2750 2
a2751 2
kernel from <tt>/bsd</tt> to <tt>bsd.rd</tt> through whatever 
means used on your platform.  
d2755 1
a2755 1
<h2>4.12 - Common installation problems</h2>
d2758 1
a2758 1
<h3>4.12.1 - My Compaq only recognizes 16M RAM</h3>
d2784 1
a2784 1
<h3>4.12.2 - My i386 won't boot after install</h3>
d2791 2
a2792 2
reboot the machine using the boot floppy or media, and "flag" a 
partition as "active" (bootable).  See 
d2821 1
a2821 1
<h3>4.12.3 - My (older, slower) machine booted, but hung at the ssh-keygen
d2834 1
a2834 1
computer, place them in a <a href="#site">site45.tgz</a> file, and 
d2839 1
a2839 1
<h3>4.12.4 - I got the message "Failed to change directory" when doing an
d2842 1
a2842 1
When doing an FTP install of a 
d2852 1
a2852 1
  Server IP address or hostname? 
d2869 1
a2869 1
<h3>4.12.5 - My fdisk partition table is trashed or blank!</h3>
d2873 1
a2873 1
This is usually caused by having created a partition in 
d2877 1
a2877 1
(note: this is assuming the <a href="../i386.html">i386</a> or 
d2893 1
a2893 1
<h3>4.12.6 - I have no floppy or CD-ROM on my machine</h3>
d2931 1
a2931 1
<h2>4.13 - Customizing the install process</h2>
d2937 1
a2937 1
version (e.g. 45).  The <tt>siteXX.tgz</tt> file set is, like the other
d2954 2
a2955 2
"<tt>site45-puffy.tgz</tt>".
This allows easy per-host customized installations, upgrades, or 
d2977 1
a2977 1
><tt>/etc/pf.conf</tt></a>, 
d2982 1
a2982 1
etc. 
d3038 2
a3039 2
<h2>4.14 - How can I install a number of similar systems?</h2>
Here are some tools you can use when you have to deploy a number 
d3046 1
a3046 1
On most platforms, the boot media includes the 
d3048 1
a3048 1
program, which can be used to restore a backup made by 
d3050 2
a3051 2
Thus, you could boot from a 
<a href="#MkFlop">floppy</a>, 
d3058 1
a3058 1
<a href="faq14.html#InstBoot">boot blocks</a>. More details 
d3074 1
a3074 1
If this is an acceptable situation, you may find the 
d3081 1
a3081 1
<h2>4.15 - How can I get a dmesg(8) to report an install problem?</h2>
d3166 1
a3166 1
<a href= "index.html"><img height= "24" width= "24" src= "../images/back.gif" border= "0" alt= "[back]"></a> 
d3169 1
a3169 1
<small>$OpenBSD: faq4.html,v 1.283 2009/08/24 10:26:18 johan Exp $</small>
@


1.283
log
@
- multibooting is not i386-specific
- EasyBSD -> EasyBCD
- Multibooting Windows 7 has been tested and works w/ a release version of Windows 7
@
text
@d496 1
a496 1
If you have multiple CD-ROM devices, you need to boot from the correct one.
d1992 1
a1992 1
Hacking Guide.</a>
d2003 1
a2003 1
add it to <tt>C:\BOOT.INI</tt>
d2093 1
a2093 1
After copying OpenBSD's PBR into Window 7's system partition, issue
d2756 1
a2756 1
<small>$OpenBSD: faq4.html,v 1.282 2009/08/20 01:23:56 nick Exp $</small>
@


1.282
log
@
typo correction from dawedawe at gmx dot de, thanks!
@
text
@d61 1
a61 1
<li><a href= "#Multibooting">4.8 - Multibooting OpenBSD/i386</a>
d1902 1
a1902 1
<h2>4.8 - Multibooting OpenBSD/i386</h2>
d2081 1
a2081 1
<a href="http://neosmart.net/dl.php?id=1">EasyBSD</a> provides a GUI
a2086 3
The following was verified using Windows 7 Release Candidate Build 7100.

<p>
d2756 1
a2756 1
<small>$OpenBSD: faq4.html,v 1.281 2009/08/18 23:42:42 nick Exp $</small>
@


1.281
log
@
update #Multibooting with Vista and Windows 7 info.  Guess editing a
text file was too simple.  From James Hartley (jjhartley at gmail dot
com) who has saved me a lot of painful experimentation and buying an
expensive computer and a couple OSs.  Thank you, thank you, THANK YOU!!
@
text
@d2091 1
a2091 1
versions of Windows to be booted though <tt>bcdedit</tt>.  Because of
d2759 1
a2759 1
<small>$OpenBSD: faq4.html,v 1.280 2009/06/02 01:01:00 nick Exp $</small>
@


1.280
log
@
not all system capabilities are available in the install kernel, and
what you can do today is not promised in the future.
@
text
@d1905 1
a1905 1
some means of selecting the which OS is to boot.  It is <i>not</i> a
d2010 120
d2131 4
a2139 1
OS-BS,
d2759 1
a2759 1
<small>$OpenBSD: faq4.html,v 1.279 2009/04/30 17:19:11 nick Exp $</small>
@


1.279
log
@
updates for 4.5
@
text
@d2463 5
a2467 3
script is run after all the files are installed, you have almost full
functionality of your system (though, in single user mode) when your
script runs.
d2482 1
a2482 1
system.
d2636 1
a2636 1
<small>$OpenBSD: faq4.html,v 1.278 2009/03/22 03:45:44 nick Exp $</small>
@


1.278
log
@
+4.12.6 - I have no floppy or CD-ROM on my machine
Asked from time to time, plus a number of new machines lack removable
media, including the one this article was written on.  For the curious,
I used a USB flash drive, same one I used to evaluate the machine in the
store.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.4 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.4 Installation Guide</font></h1>
d117 1
a117 1
Typical file names are <tt>floppy44.fs</tt>, though several platforms
d121 1
a121 1
(<tt>cd44.iso</tt> for just booting, or <tt>install44.iso</tt> for the
d168 1
a168 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
d187 1
a187 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d203 1
a203 1
<tt>install44.iso</tt> or you can also make your own.
d295 1
a295 1
<li><b><tt>floppy44.fs</tt></b> (Desktop PC) supports many
d299 1
a299 1
<li><b><tt>floppyB44.fs</tt></b> (Servers) supports many RAID controllers,
d303 1
a303 1
<li><b><tt>floppyC44.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d305 1
a305 1
<li><b><tt>cd44.iso</tt></b> is an ISO9660 image that can be used to
d310 1
a310 1
<li><b><tt>cdemu44.iso</tt></b> is an ISO9660 image, using
d313 3
a315 3
  image -- most people will use <tt>cd44.iso</tt>, only use
  <tt>cdemu44.iso</tt> if <tt>cd44.iso</tt> doesn't work for you.
<li><b><tt>install44.iso</tt></b> is an ISO9660 image, containing
d331 2
a332 2
<li><b><tt>floppy44.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd44.iso</tt></b> An ISO image usable to make your own
d334 1
a334 1
<li><b><tt>miniroot44.fs</tt></b> Can be written to a swap partition
d336 1
a336 1
<li><b><tt>install44.iso</tt></b> is an ISO9660 image, containing
d378 1
a378 1
  # <b>dd if=floppy44.fs of=/dev/rfd0c bs=32k</b>
d390 1
a390 1
  # <b>cmp /dev/rfd0c floppy44.fs</b>
d400 1
a400 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/tools/">tools</a>
d415 1
a415 1
  C:\> <strong>ntrw floppy44.fs a:</strong>
d425 2
a426 2
You can create a CD-ROM using the <tt>cd44.iso</tt> or
<tt>install44.iso</tt> files.
d571 1
a571 1
<tt>etc44.tgz</tt> file.
d573 2
a574 2
<a href="upgrade44.html#etcUpdates">manually merge</a> the changes of
<tt>etc44.tgz</tt> into your system before you can expect it to be
d583 1
a583 1
For OpenBSD 4.4, upgrading 4.3 to 4.4 is the only supported upgrade.
d591 1
a591 1
<a href="upgrade44.html">OpenBSD Upgrade Guide 4.4</a>.
d608 1
a608 1
  Welcome to the OpenBSD/i386 4.4 install program.
d1164 4
a1167 8
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid, ctime=T
  ue Oct 21 00:36:28 2008)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Tu
  e Oct 21 00:36:28 2008)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Tue Oct 21
   00:36:28 2008)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Tu
  e Oct 21 00:36:28 2008)
d1322 1
a1322 1
  Pathname to the sets?  (or 'done') [4.4/i386] <b><i>Enter</i></b>
d1327 2
a1328 2
which is <tt>4.4/i386/</tt> on the official CD-ROM or a CD built
from <tt>install44.iso</tt>.
d1341 1
a1341 1
would be <tt>base44.tgz</tt>, <tt>etc44.tgz</tt> and <tt>bsd</tt>.
d1354 11
a1364 11
          [X] base44.tgz
          [X] etc44.tgz
          [X] misc44.tgz
          [X] comp44.tgz
          [X] man44.tgz
          [X] game44.tgz
          [ ] xbase44.tgz
          [ ] xetc44.tgz
          [ ] xshare44.tgz
          [ ] xfont44.tgz
          [ ] xserv44.tgz
d1370 11
a1380 11
          [X] base44.tgz
          [X] etc44.tgz
          [X] misc44.tgz
          [X] comp44.tgz
          [X] man44.tgz
          [X] game44.tgz
          [X] xbase44.tgz
          [X] xetc44.tgz
          [X] xshare44.tgz
          [X] xfont44.tgz
          [X] xserv44.tgz
d1404 1
a1404 1
  100% |**************************************************|  6700 KB    00:03    
d1406 1
a1406 1
  100% |**************************************************|  5404 KB    00:01    
d1408 23
a1430 23
  100% |**************************************************|  6750 KB    00:02    
  Getting base44.tgz ...
  100% |**************************************************| 42904 KB    00:27    
  Getting etc44.tgz ...
  100% |**************************************************|   631 KB    00:00    
  Getting misc44.tgz ...
  100% |**************************************************|  2866 KB    00:02    
  Getting comp44.tgz ...
  100% |**************************************************| 78575 KB    00:43    
  Getting man44.tgz ...
  100% |**************************************************|  7552 KB    00:07    
  Getting game44.tgz ...
  100% |**************************************************|  2552 KB    00:01    
  Getting xbase44.tgz ...
  100% |**************************************************|  9486 KB    00:05    
  Getting xetc44.tgz ...
  100% |**************************************************| 75434       00:00    
  Getting xshare44.tgz ...
  100% |**************************************************|  2672 KB    00:05    
  Getting xfont44.tgz ...
  100% |**************************************************| 34747 KB    00:16    
  Getting xserv44.tgz ...
  100% |**************************************************| 19816 KB    00:10    
d1647 1
a1647 1
  <li><b><i>base44.tgz</i></b>   - Contains the base OpenBSD system 
d1649 1
a1649 1
  <li><b><i>etc44.tgz</i></b>    - Contains all the files in /etc 
d1651 1
a1651 1
  <li><b><i>comp44.tgz</i></b>    - Contains the compiler and its 
d1653 4
a1656 4
  <li><b><i>man44.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc44.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game44.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase44.tgz</i></b>  - Contains the base libraries and
d1658 1
a1658 1
  <li><b><i>xetc44.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1660 3
a1662 3
  <li><b><i>xfont44.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv44.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare44.tgz</i></b> - Contains manpages, locale settings,
d1666 1
a1666 1
The <b>etc44.tgz</b> and <b>xetc44.tgz</b> sets are not installed as
d1673 1
a1673 1
<h3>Why do I have to install xbase44.tgz for my application?</h3>
d1677 1
a1677 1
<b>xbase44.tgz</b> to be installed on your system.
d1679 2
a1680 2
xbase44.tgz, the rest of X is not needed.
Many people resist installing xbase44.tgz on their system without
d1684 1
a1684 1
<li>By itself, installing xbase44.tgz does not cause any program to
d1686 1
a1686 1
<li>By itself, installing xbase44.tgz on a system does not change the
d1689 1
a1689 1
whatever they wish, so the presence or absence of the xbase44.tgz file
d1691 1
a1691 1
<li>The only parts of xbase44.tgz that are running are the parts
d1693 1
a1693 1
<li>The space required for xbase44.tgz is relatively modest, about 30M.
d1697 1
a1697 1
xbase44.tgz and pull out just the files they need to install their
d1704 1
a1704 1
IF you need xbase44.tgz, just install it.
d2026 1
a2026 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.4/i386/INSTALL.linux">INSTALL.linux</a>,
d2127 1
a2127 1
Sometimes, you realize you really DID need <tt>comp44.tgz</tt> (or any
d2145 1
a2145 1
  # tar xzvphf comp44.tgz
d2301 1
a2301 1
computer, place them in a <a href="#site">site44.tgz</a> file, and 
d2404 1
a2404 1
version (e.g. 44).  The <tt>siteXX.tgz</tt> file set is, like the other
d2421 1
a2421 1
"<tt>site44-puffy.tgz</tt>".
a2619 6
<p>
<li><b>FTP:</b>  Under some circumstances, and provided you first set up
the network correctly, you may be able to use the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1">ftp(1)</a>
client on the boot disk or CD-ROM to send the dmesg to a local FTP
server, where you can retrieve it later.
d2634 1
a2634 1
<small>$OpenBSD: faq4.html,v 1.277 2009/03/15 02:40:51 nick Exp $</small>
@


1.277
log
@
The "I don't want to install xbase" whin^Wquestion is a FAQ.  Here's an
answer.  Passed todd@@'s sanity check.
@
text
@d76 2
d2363 38
d2644 1
a2644 1
<small>$OpenBSD: faq4.html,v 1.276 2009/03/14 02:43:48 nick Exp $</small>
@


1.276
log
@
stupid-o's...pointed out by and diff from Alan R. S. Bueno, thanks!
@
text
@d1658 2
a1659 1
  <li><b><i>xbase44.tgz</i></b>  - Contains the base files for X11
d1674 2
a1675 1
<p>
d1677 2
a1678 1
<a href="faq15.html">packages</a> require the graphic libraries in
d1681 30
a1710 1
<b>xbase44.tgz</b>, the rest of X is not needed.
d2604 1
a2604 1
<small>$OpenBSD: faq4.html,v 1.275 2009/03/06 03:00:20 nick Exp $</small>
@


1.275
log
@
bring some stuff up-to-date.  Unlikely that users will be making
floppies on MSDOS machines anymore, so just demonstrate NTRW.EXE (which
isn't on the CDs...and none of us noticed!).  Show "probe-ide" for newer
(and sometimes confusing *cough*Blade100*cough*) Sun systems, reference
redone swap article, and a few other wording cleanups.
@
text
@d402 1
a402 1
To prepare a floppy in or Windows, first use the native
a410 1
<p>
d2572 1
a2572 1
<small>$OpenBSD: faq4.html,v 1.274 2009/02/27 03:45:58 nick Exp $</small>
@


1.274
log
@
sync prev/next page links around the renaming I did of faq3.html.
Pointed out by Maurice Janssen (maurice at z74 dit net)
@
text
@d43 1
a43 1
    <li><a href="#DosFlop"  >4.3.2 - Creating floppies on Windows or DOS</a>
d114 1
a114 1
<a href="#DosFlop">DOS/Windows</a> system.
d392 1
a392 1
<h3>4.3.2 - Creating floppies on Windows or DOS</h3>
d396 1
a396 1
floppy disk under Windows or DOS.
d399 1
a399 2
directory on any of the FTP mirrors,
or from the <tt>4.4/tools</tt> directory on CD1 of the OpenBSD CD set.
d402 3
a404 2
To prepare a floppy in MS-DOS or Windows, first use the native
formatting tools to format the disk.
d408 1
a408 2
<i>rawrite</i>, <i>fdimage</i>, or <i>ntrw</i>.
<i>rawrite</i> will not work on Windows NT, 2000 or XP.
a410 25
Note that <tt>FDIMAGE.EXE</tt> and <tt>RAWRITE.EXE</tt> are both
MS-DOS applications, and thus are limited to MS-DOS's "8.3" file naming
convention.
As <tt>floppyB44.fs</tt> and <tt>floppyC44.fs</tt> have longer file names,
you will have to find out how your system stored
the file in "8.3 format" before using <tt>FDIMAGE.EXE</tt> or
<tt>RAWRITE.EXE</tt> to make your boot floppies.

<p>
Example usage of <i>rawrite</i>:
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <b>rawrite</b>
  RaWrite 1.2 - Write disk file to raw floppy diskette

  Enter source file name: <b>floppy44.fs</b>
  Enter destination drive: <b>a</b>
  Please insert a formatted diskette into drive A: and press -ENTER- : <i><b>Enter</b></i>
</pre></td></tr></table>

<p>
Example usage of <i>fdimage</i>:
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  C:\> <strong>fdimage -q floppy44.fs a:</strong>
</pre></td></tr></table>

d455 1
a455 1
from the CD.
d480 2
a481 2
If your Sun only has one CD-ROM drive, then just go to the boot prompt,
where you can '<tt>boot cdrom</tt>':
d496 2
a497 1
Try <tt>probe-scsi</tt> from the new command mode.
d1009 2
a1010 1
Generally, you will want to have a swap partition, 'b', as well, though
d1270 3
a1272 2
interface using DHCP you will encounter errors. You have to manually
configure the additional interfaces after the installation.
d2573 1
a2573 1
<small>$OpenBSD: faq4.html,v 1.273 2009/01/30 22:25:57 sthen Exp $</small>
@


1.273
log
@bump copyright for files edited this year
@
text
@d25 1
a25 1
<a href= "faq3.html">[To Section 3 - Obtaining OpenBSD]</a>
d2587 1
a2587 1
<a href= "faq3.html">[To Section 3 - Obtaining OpenBSD]</a>
d2596 1
a2596 1
<small>$OpenBSD: faq4.html,v 1.272 2009/01/25 18:09:49 jasper Exp $</small>
@


1.272
log
@- fix a bunch of tyop's

from Tom Van Looy, thanks!
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2008 by OpenBSD.">
d2596 1
a2596 1
<small>$OpenBSD: faq4.html,v 1.271 2008/11/30 04:17:07 nick Exp $</small>
@


1.271
log
@
list of potential FTP servers prompt has changed, update.
@
text
@d1701 1
a1701 1
These applications can usually be satisified simply by installing
d2596 1
a2596 1
<small>$OpenBSD: faq4.html,v 1.270 2008/11/30 03:58:34 nick Exp $</small>
@


1.270
log
@
boot(8) is to version 3.02.
@
text
@d2310 1
a2310 1
  Do you want to see a list of potential FTP servers?  [yes] <b><i>Enter</i></b>
d2596 1
a2596 1
<small>$OpenBSD: faq4.html,v 1.269 2008/10/31 16:52:29 nick Exp $</small>
@


1.269
log
@
update for 4.4
@
text
@d2202 1
a2202 1
  &gt;&gt; OpenBSD/i386 BOOT 2.10
d2596 1
a2596 1
<small>$OpenBSD: faq4.html,v 1.268 2008/10/22 00:40:56 nick Exp $</small>
@


1.268
log
@
you can enlarge a partition with growfs(4)
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.3 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.3 Installation Guide</font></h1>
d115 1
a115 1
Typical file names are <tt>floppy43.fs</tt>, though several platforms
d119 1
a119 1
(<tt>cd43.iso</tt> for just booting, or <tt>install43.iso</tt> for the
d166 1
a166 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.3/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
d185 1
a185 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.3/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d201 1
a201 1
<tt>install43.iso</tt> or you can also make your own.
d293 1
a293 1
<li><b><tt>floppy43.fs</tt></b> (Desktop PC) supports many
d297 1
a297 1
<li><b><tt>floppyB43.fs</tt></b> (Servers) supports many RAID controllers,
d301 1
a301 1
<li><b><tt>floppyC43.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d303 1
a303 1
<li><b><tt>cd43.iso</tt></b> is an ISO9660 image that can be used to
d308 1
a308 1
<li><b><tt>cdemu43.iso</tt></b> is an ISO9660 image, using
d311 3
a313 3
  image -- most people will use <tt>cd43.iso</tt>, only use
  <tt>cdemu43.iso</tt> if <tt>cd43.iso</tt> doesn't work for you.
<li><b><tt>install43.iso</tt></b> is an ISO9660 image, containing
d329 2
a330 2
<li><b><tt>floppy43.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd43.iso</tt></b> An ISO image usable to make your own
d332 1
a332 1
<li><b><tt>miniroot43.fs</tt></b> Can be written to a swap partition
d334 1
a334 1
<li><b><tt>install43.iso</tt></b> is an ISO9660 image, containing
d376 1
a376 1
  # <b>dd if=floppy43.fs of=/dev/rfd0c bs=32k</b>
d388 1
a388 1
  # <b>cmp /dev/rfd0c floppy43.fs</b>
d398 1
a398 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.3/tools/">tools</a>
d400 1
a400 1
or from the <tt>4.3/tools</tt> directory on CD1 of the OpenBSD CD set.
d415 1
a415 1
As <tt>floppyB43.fs</tt> and <tt>floppyC43.fs</tt> have longer file names,
d426 1
a426 1
  Enter source file name: <b>floppy43.fs</b>
d434 1
a434 1
  C:\> <strong>fdimage -q floppy43.fs a:</strong>
d440 1
a440 1
  C:\> <strong>ntrw floppy43.fs a:</strong>
d450 2
a451 2
You can create a CD-ROM using the <tt>cd43.iso</tt> or
<tt>install43.iso</tt> files.
d595 1
a595 1
<tt>etc43.tgz</tt> file.
d597 2
a598 2
<a href="upgrade43.html#etcUpdates">manually merge</a> the changes of
<tt>etc43.tgz</tt> into your system before you can expect it to be
d607 1
a607 1
For OpenBSD 4.3, upgrading 4.2 to 4.3 is the only supported upgrade.
d615 1
a615 1
<a href="upgrade43.html">OpenBSD Upgrade Guide 4.3</a>.
d632 1
a632 1
  Welcome to the OpenBSD/i386 4.3 install program.
d966 2
a967 6
  disklabel: no disk label
  WARNING: Disk wd0 has no label. You will be creating a new one.
  
  # using MBR partition 1: type A6 off 3069360 (0x2ed5b0) size 36030960 (0x225c9f0)

  Treating sectors 3069360-39100320 as the OpenBSD portion of the disk.
d973 16
a988 26
          ? [cmnd]  - this message or command specific help.
          a [part]  - add new partition.
          b         - set OpenBSD disk boundaries.
          c [part]  - change partition size.
          D         - set label to default.
          d [part]  - delete partition.
          e         - edit drive parameters.
          g [b|d|u] - use [b]ios, [d]isk or [u]ser geometry.
          M         - show entire OpenBSD man page for disklabel.
          m [part]  - modify existing partition.
          n [part]  - set the mount point for a partition.
          p [unit]  - print label.
          q         - quit and save changes.
          r         - recalculate free space.
          s [path]  - save label to file.
          u         - undo last change.
          w         - write label to disk.
          X         - toggle expert mode.
          x         - exit without saving changes.
          z         - zero out partition table.
  Numeric parameters may use suffixes to indicate units:
          'b' for bytes, 'c' for cylinders, 'k' for kilobytes, 'm' for megabytes,
          'g' for gigabytes or no suffix for sectors (usually 512 bytes).
          '%' for percent of total disk size, '&' for percent of free space.
          Non-sector units will be rounded to the nearest cylinder.
  Entering '?' at most prompts will give you (simple) context sensitive help.
d1058 1
a1058 1
  will take almost 160M of this space before ports are built.
a1079 14
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 36030960
  rpm: 3600
  
  16 partitions:
d1081 1
a1081 1
    a:      17593.2M       1498.7M  unused      0     0      
a1083 1
  > <b>d a</b>
d1120 1
a1120 14
  device: /dev/rwd0c
  type: ESDI
  disk: ESDI/IDE disk
  label: ST320011A
  bytes/sector: 512
  sectors/track: 63
  tracks/cylinder: 240
  sectors/cylinder: 15120
  cylinders: 2586
  total bytes: 19092.9M
  free bytes: 6681.4M
  rpm: 3600
  
  16 partitions:
a1142 6
<p>
If you look closely at the output of the disklabel, you will note that 
your drive RPM rating is probably wrong.  This is historical; the
drive speed is not used in any way by the system. Do not worry about
it.

d1153 5
a1157 5
  Mount point for wd0d (size=131584k)? (or 'none' or 'done') [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=90624k)? (or 'none' or 'done') [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=6815744k)? (or 'none' or 'done') [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4194304k)? (or 'none' or 'done') [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=131584k)? (or 'none' or 'done') [/tmp] <b>done</b>
d1185 2
a1186 2
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Tue Oct 23 00:55:20 2
  007)
d1188 1
a1188 1
  ue Oct 23 00:55:20 2007)
d1190 3
a1192 3
  e Oct 23 00:55:20 2007)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Tue Oct 23
   00:55:20 2007)
d1194 1
a1194 1
  e Oct 23 00:55:20 2007)
d1284 1
a1284 1
  DNS nameserver? (IP address or 'none') [68.87.77.130 68.87.72.130] <b><i>Enter</i></b>
d1348 1
a1348 1
  Pathname to the sets?  (or 'done') [4.3/i386] <b><i>Enter</i></b>
d1353 2
a1354 2
which is <tt>4.3/i386/</tt> on the official CD-ROM or a CD built
from <tt>install43.iso</tt>.
d1367 1
a1367 1
would be <tt>base43.tgz</tt>, <tt>etc43.tgz</tt> and <tt>bsd</tt>.
d1380 11
a1390 11
          [X] base43.tgz
          [X] etc43.tgz
          [X] misc43.tgz
          [X] comp43.tgz
          [X] man43.tgz
          [X] game43.tgz
          [ ] xbase43.tgz
          [ ] xetc43.tgz
          [ ] xshare43.tgz
          [ ] xfont43.tgz
          [ ] xserv43.tgz
d1396 11
a1406 11
          [X] base43.tgz
          [X] etc43.tgz
          [X] misc43.tgz
          [X] comp43.tgz
          [X] man43.tgz
          [X] game43.tgz
          [X] xbase43.tgz
          [X] xetc43.tgz
          [X] xshare43.tgz
          [X] xfont43.tgz
          [X] xserv43.tgz
d1430 1
a1430 1
  100% |**************************************************|  6356 KB    00:09 ETA
d1432 1
a1432 1
  100% |**************************************************|  5003 KB    00:03 ETA
d1434 23
a1456 23
  100% |**************************************************|  6401 KB    00:04 ETA
  Getting base43.tgz ...
  100% |**************************************************| 42854 KB    00:38 ETA
  Getting etc43.tgz ...
  100% |**************************************************|  1190 KB    00:01 ETA
  Getting misc43.tgz ...
  100% |**************************************************|  2252 KB    00:02 ETA
  Getting comp43.tgz ...
  100% |**************************************************| 77563 KB    01:05 ETA
  Getting man43.tgz ...
  100% |**************************************************|  7530 KB    00:08 ETA
  Getting game43.tgz ...
  100% |**************************************************|  2547 KB    00:01 ETA
  Getting xbase43.tgz ...
  100% |**************************************************|  9450 KB    00:08 ETA
  Getting xetc43.tgz ...
  100% |**************************************************| 76180       00:00 ETA
  Getting xshare43.tgz ...
  100% |**************************************************|  2678 KB    00:05 ETA
  Getting xfont43.tgz ...
  100% |**************************************************| 34745 KB    00:27 ETA
  Getting xserv43.tgz ...
  100% |**************************************************|  8543 KB    00:07 ETA
d1497 2
a1498 1
  NTP server? (or 'none' or 'default') [none] <b>default</b>
d1597 2
a1598 2
  fs block shift 2; part offset 3069360; inode block 24, offset 3624
  using MBR partition 1: type 166 (0xa6) offset 3069360 (0x2ed5b0)
d1673 1
a1673 1
  <li><b><i>base43.tgz</i></b>   - Contains the base OpenBSD system 
d1675 1
a1675 1
  <li><b><i>etc43.tgz</i></b>    - Contains all the files in /etc 
d1677 1
a1677 1
  <li><b><i>comp43.tgz</i></b>    - Contains the compiler and its 
d1679 5
a1683 5
  <li><b><i>man43.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc43.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game43.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase43.tgz</i></b>  - Contains the base files for X11
  <li><b><i>xetc43.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1685 3
a1687 3
  <li><b><i>xfont43.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv43.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare43.tgz</i></b> - Contains manpages, locale settings,
d1691 1
a1691 1
The <b>etc43.tgz</b> and <b>xetc43.tgz</b> sets are not installed as
d1700 1
a1700 1
<b>xbase43.tgz</b> to be installed on your system.
d1702 1
a1702 1
<b>xbase43.tgz</b>, the rest of X is not needed.
d2020 1
a2020 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.3/i386/INSTALL.linux">INSTALL.linux</a>,
d2121 1
a2121 1
Sometimes, you realize you really DID need <tt>comp43.tgz</tt> (or any
d2139 1
a2139 1
  # tar xzvphf comp43.tgz
d2295 1
a2295 1
computer, place them in a <a href="#site">site43.tgz</a> file, and 
d2360 1
a2360 1
version (e.g. 43).  The <tt>siteXX.tgz</tt> file set is, like the other
d2377 1
a2377 1
"<tt>site43-puffy.tgz</tt>".
d2596 1
a2596 1
<small>$OpenBSD: faq4.html,v 1.267 2008/10/21 02:18:41 nick Exp $</small>
@


1.267
log
@
after a LOT of years, I've got sick and tired of the (not OpenBSD
related) quirks of the machine I used for many years as my "demo
install" machine, so I replace it with something more normal.  Same disk
but different geometry, so all kinds of gratuitous changes.  Commit now
to make the 4.4 changes less painful later for translation team.
@
text
@d1021 7
a1027 3
size of a disklabel partition, it will NOT alter the filesystem on the
drive.  Using this option and expecting it to resize existing partitions
is a good way of losing large amounts of data.
d2643 1
a2643 1
<small>$OpenBSD: faq4.html,v 1.266 2008/09/15 06:04:10 jasper Exp $</small>
@


1.266
log
@- typo, spotted by thomas pfaff
@
text
@d708 1
a708 1
  Cool!  Let's get to it...
d771 1
a771 1
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
d773 7
a779 7
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 0B    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
d831 1
a831 1
that the Windows partition occupies through cylinder 202 on the drive.
d833 3
a835 3
at cylinder 203.  You could also calculate OpenBSD's starting sector of
3069360 by adding the existing partition's starting sector (63) and its
size (3069297).
d848 4
a851 4
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   1: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
d854 2
a855 2
  BIOS Starting cylinder [0 - 2585]: [0] <b>203</b>
  BIOS Starting head [0 - 239]: [0] <b><i>Enter</i></b>
d857 2
a858 2
  BIOS Ending cylinder [0 - 2585]: [0] <b>2585</b>
  BIOS Ending head [0 - 239]: [0] <b>239</b>
d861 1
a861 1
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
d863 7
a869 7
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 0B    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
d871 1
a871 1
  Disk: wd0       geometry: 2586/240/63 [19092 Megabytes]
d873 7
a879 7
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
  *0: 0B    0   1  1 -  202 239 63 [          63:        1499M] Win95 FAT-32
   1: A6  203   0  1 - 2585 239 63 [     3069360:       17593M] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0M] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0M] unused
d912 1
a912 1
  Disk: wd0       geometry: 2586/240/63 [39100320 Sectors]
d914 7
a920 7
           Starting       Ending       LBA Info:
   #: id    C   H  S -    C   H  S [       start:      size   ]
  ------------------------------------------------------------------------
   0: 0B    0   1  1 -  202 239 63 [          63:     3069297 ] Win95 FAT-32
  *1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
   2: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
   3: 00    0   0  0 -    0   0  0 [           0:           0 ] unused
d1110 3
a1112 3
  offset: [3069360] <b><i>Enter</i></b>
  size: [36030960] <b>150m</b>
  Rounding to cylinder: 317520
d1116 3
a1118 3
  offset: [3386880] <b><i>Enter</i></b>
  size: [35713440] <b>300m</b>
  Rounding to cylinder: 619920
d1121 2
a1122 2
  offset: [4006800] <b><i>Enter</i></b>
  size: [35093520] <b>120m</b>
d1127 3
a1129 3
  offset: [4263840] <b><i>Enter</i></b>
  size: [34836480] <b>80m</b>
  Rounding to cylinder: 166320
d1133 2
a1134 2
  offset: [4430160] <b><i>Enter</i></b>
  size: [34670160] <b>6g</b>
d1139 3
a1141 3
  offset: [17025120] <b><i>Enter</i></b>
  size: [22075200] <b>4g</b>
  Rounding to nearest cylinder: 8391600
d1160 8
a1167 8
    a:           155.0M          1498.7M  4.2BSD   2048 16384   16 # /
    b:           302.7M          1653.8M    swap
    c:         19092.9M             0.0M  unused      0     0
    d:           125.5M          1956.4M  4.2BSD   2048 16384   16 # /tmp
    e:            81.2M          2082.0M  4.2BSD   2048 16384   16 # /var
    g:          6149.9M          2163.2M  4.2BSD   2048 16384   16 # /usr
    h:          4097.5M          8313.0M  4.2BSD   2048 16384   16 # /home
    i:          1498.7M             0.0M   MSDOS
d1197 5
a1201 5
  Mount point for wd0d (size=128520k)? (or 'none' or 'done') [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=83160k)? (or 'none' or 'done') [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=6297480k)? (or 'none' or 'done') [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4195800k)? (or 'none' or 'done') [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=128520k)? (or 'none' or 'done') [/tmp] <b>done</b>
d1213 1
a1213 1
  newfs: reduced number of fragments per cylinder group from 19840 to 19760 to enl
d1215 2
a1216 2
  /dev/rwd0a: 155.0MB in 317520 sectors of 512 bytes
  5 cylinder groups of 38.59MB, 2470 blocks, 4992 inodes each
d1221 1
a1221 1
  newfs: reduced number of fragments per cylinder group from 10392 to 10344 to enl
d1223 2
a1224 2
  /dev/rwd0e: 81.2MB in 166320 sectors of 512 bytes
  5 cylinder groups of 20.20MB, 1293 blocks, 2688 inodes each
d1227 1
a1227 1
  /dev/rwd0h: 4097.5MB in 8391600 sectors of 512 bytes
d2639 1
a2639 1
<small>$OpenBSD: faq4.html,v 1.265 2008/07/01 11:01:40 nick Exp $</small>
@


1.265
log
@
missing word, from Marshall Brannan (jmbrannan at gmail dot com),
kick from jmc@@
@
text
@d2191 1
a2191 1
to add a missing file sets.  This does not work.  pkg_add(1) is
d2639 1
a2639 1
<small>$OpenBSD: faq4.html,v 1.264 2008/05/04 05:42:38 steven Exp $</small>
@


1.264
log
@fix minimum sizes for /usr

ok nick@@
@
text
@d757 1
a757 1
<b>Note:</b> If you say "Y" to "Do you want to use *all* of wd0 for
d2639 1
a2639 1
<small>$OpenBSD: faq4.html,v 1.263 2008/04/30 21:24:58 nick Exp $</small>
@


1.263
log
@
update for 4.3
@
text
@d1761 1
a1761 1
/usr               320MB (no X) or 550MB (with X)
d2639 1
a2639 1
<small>$OpenBSD: faq4.html,v 1.262 2008/04/22 01:18:45 nick Exp $</small>
@


1.262
log
@
Some elaborations on the fdisk elaborations.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.2 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.2 Installation Guide</font></h1>
a75 2
  <li><a href="#42cdboot"   >4.12.6 - My i386 won't boot the official
     CDROM!</a>
d115 1
a115 1
Typical file names are <tt>floppy42.fs</tt>, though several platforms
d119 1
a119 1
(<tt>cd42.iso</tt> for just booting, or <tt>install42.iso</tt> for the
d166 1
a166 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.2/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
d185 1
a185 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.2/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d201 1
a201 1
<tt>install42.iso</tt> or you can also make your own.
d293 1
a293 1
<li><b><tt>floppy42.fs</tt></b> (Desktop PC) supports many
d297 1
a297 1
<li><b><tt>floppyB42.fs</tt></b> (Servers) supports many RAID controllers,
d301 1
a301 1
<li><b><tt>floppyC42.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d303 1
a303 1
<li><b><tt>cd42.iso</tt></b> is an ISO9660 image that can be used to
d308 1
a308 1
<li><b><tt>cdemu42.iso</tt></b> is an ISO9660 image, using
d311 3
a313 3
  image -- most people will use <tt>cd42.iso</tt>, only use
  <tt>cdemu42.iso</tt> if <tt>cd42.iso</tt> doesn't work for you.
<li><b><tt>install42.iso</tt></b> is an ISO9660 image, containing
d329 2
a330 2
<li><b><tt>floppy42.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd42.iso</tt></b> An ISO image usable to make your own
d332 1
a332 1
<li><b><tt>miniroot42.fs</tt></b> Can be written to a swap partition
d334 1
a334 1
<li><b><tt>install42.iso</tt></b> is an ISO9660 image, containing
d376 1
a376 1
  # <b>dd if=floppy42.fs of=/dev/rfd0c bs=32k</b>
d388 1
a388 1
  # <b>cmp /dev/rfd0c floppy42.fs</b>
d398 1
a398 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.2/tools/">tools</a>
d400 1
a400 1
or from the <tt>4.2/tools</tt> directory on CD1 of the OpenBSD CD set.
d415 1
a415 1
As <tt>floppyB42.fs</tt> and <tt>floppyC42.fs</tt> have longer file names,
d426 1
a426 1
  Enter source file name: <b>floppy42.fs</b>
d434 1
a434 1
  C:\> <strong>fdimage -q floppy42.fs a:</strong>
d440 1
a440 1
  C:\> <strong>ntrw floppy42.fs a:</strong>
d450 2
a451 2
You can create a CD-ROM using the <tt>cd42.iso</tt> or
<tt>install42.iso</tt> files.
d595 1
a595 1
<tt>etc42.tgz</tt> file.
d597 2
a598 2
<a href="upgrade42.html#etcUpdates">manually merge</a> the changes of
<tt>etc42.tgz</tt> into your system before you can expect it to be
d607 1
a607 1
For OpenBSD 4.2, upgrading 4.1 to 4.2 is the only supported upgrade.
d615 1
a615 1
<a href="upgrade42.html">OpenBSD Upgrade Guide 4.2</a>.
d632 1
a632 1
  Welcome to the OpenBSD/i386 4.2 install program.
d1392 1
a1392 1
  Pathname to the sets?  (or 'done') [4.2/i386] <b><i>Enter</i></b>
d1397 2
a1398 2
which is <tt>4.2/i386/</tt> on the official CD-ROM or a CD built
from <tt>install42.iso</tt>.
d1411 1
a1411 1
would be <tt>base42.tgz</tt>, <tt>etc42.tgz</tt> and <tt>bsd</tt>.
d1424 11
a1434 11
          [X] base42.tgz
          [X] etc42.tgz
          [X] misc42.tgz
          [X] comp42.tgz
          [X] man42.tgz
          [X] game42.tgz
          [ ] xbase42.tgz
          [ ] xetc42.tgz
          [ ] xshare42.tgz
          [ ] xfont42.tgz
          [ ] xserv42.tgz
d1440 11
a1450 11
          [X] base42.tgz
          [X] etc42.tgz
          [X] misc42.tgz
          [X] comp42.tgz
          [X] man42.tgz
          [X] game42.tgz
          [X] xbase42.tgz
          [X] xetc42.tgz
          [X] xshare42.tgz
          [X] xfont42.tgz
          [X] xserv42.tgz
d1474 1
a1474 1
  100% |**************************************************|  6083 KB    00:06
d1476 1
a1476 1
  100% |**************************************************|  4949 KB    00:03
d1478 23
a1500 23
  100% |**************************************************|  6130 KB    00:04
  Getting base42.tgz ...
  100% |**************************************************| 41604 KB    00:37
  Getting etc42.tgz ...
  100% |**************************************************|  1211 KB    00:01
  Getting misc42.tgz ...
  100% |**************************************************|  2239 KB    00:02
  Getting comp42.tgz ...
  100% |**************************************************| 76957 KB    01:04
  Getting man42.tgz ...
  100% |**************************************************|  7477 KB    00:08
  Getting game42.tgz ...
  100% |**************************************************|  2547 KB    00:02
  Getting xbase42.tgz ...
  100% |**************************************************| 11702 KB    00:10
  Getting xetc42.tgz ...
  100% |**************************************************| 75398       00:00
  Getting xshare42.tgz ...
  100% |**************************************************|  2488 KB    00:04
  Getting xfont42.tgz ...
  100% |**************************************************| 34745 KB    00:27
  Getting xserv42.tgz ...
  100% |**************************************************| 10108 KB    00:08
d1716 1
a1716 1
  <li><b><i>base42.tgz</i></b>   - Contains the base OpenBSD system 
d1718 1
a1718 1
  <li><b><i>etc42.tgz</i></b>    - Contains all the files in /etc 
d1720 1
a1720 1
  <li><b><i>comp42.tgz</i></b>    - Contains the compiler and its 
d1722 5
a1726 5
  <li><b><i>man42.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc42.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game42.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase42.tgz</i></b>  - Contains the base files for X11
  <li><b><i>xetc42.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1728 3
a1730 3
  <li><b><i>xfont42.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv42.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare42.tgz</i></b> - Contains manpages, locale settings,
d1734 1
a1734 1
The <b>etc42.tgz</b> and <b>xetc42.tgz</b> sets are not installed as
d1743 1
a1743 1
<b>xbase42.tgz</b> to be installed on your system.
d1745 1
a1745 1
<b>xbase42.tgz</b>, the rest of X is not needed.
d1761 1
a1761 1
/usr               420MB (no X) or 550MB (with X)
d2063 1
a2063 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.2/i386/INSTALL.linux">INSTALL.linux</a>,
d2164 1
a2164 1
Sometimes, you realize you really DID need <tt>comp42.tgz</tt> (or any
d2182 1
a2182 1
  # tar xzvphf comp42.tgz
d2338 1
a2338 1
computer, place them in a <a href="#site">site42.tgz</a> file, and 
a2395 20
<a name="42cdboot"></a>
<h3>4.12.6 - My i386 won't boot the official CDROM!</h3>
It has been found that some older computers are unable to boot the
official CD1 disk.
This problem does not impact CDs made from <tt>install42.iso</tt>,
<tt>cd42.iso</tt> or <tt>cdemu42.iso</tt>; only the official CD set.
An easy work-around for this problem is to use the amd64's boot loader
available on CD2:
<ol>
<li>Insert CD2 and tell your computer to boot it;<br>
<li>When the <tt>boot></tt> prompt appears, stop the automatic boot
by pressing the space bar;<br>
<li>Remove CD2 and insert CD1;<br>
<li>Erase the character you typed to stop the boot, type<br>
<tt><b>boot /4.2/i386/bsd.rd</b></tt><br>
then press <i>Enter</i>.
</ol>
Yes, this really does work on non-amd64 machines for 4.2!
<p>

d2403 1
a2403 1
version (e.g. 42).  The <tt>siteXX.tgz</tt> file set is, like the other
d2420 1
a2420 1
"<tt>site42-puffy.tgz</tt>".
d2639 1
a2639 1
<small>$OpenBSD: faq4.html,v 1.261 2008/03/09 08:57:20 steven Exp $</small>
@


1.261
log
@& -> &amp;  from alan.bsd at gmail
@
text
@d806 2
a807 1
partition table, makes one big OpenBSD partition, flags it active,
d810 1
d2661 1
a2661 1
<small>$OpenBSD: faq4.html,v 1.260 2008/03/01 11:31:08 steven Exp $</small>
@


1.260
log
@bump copyright year
@
text
@d2210 1
a2210 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&apropos=0&sektion=0"
d2659 1
a2659 1
<small>$OpenBSD: faq4.html,v 1.259 2008/01/28 12:18:31 saad Exp $</small>
@


1.259
log
@typos, consistency, better wording
ok nick@@
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2007 by OpenBSD.">
d2659 1
a2659 1
<small>$OpenBSD: faq4.html,v 1.258 2007/12/06 22:49:20 steven Exp $</small>
@


1.258
log
@relative link and drop unneeded tag
@
text
@d203 1
a203 1
install42.iso or you can also make your own.
d593 1
a593 1
done, nor are the /etc or /var directories overwritten.
d616 2
a617 2
More information on upgrading between releases can be found 
<a href="upgrade42.html">here</a>.
d1923 1
a1923 1
   an extra copy of your kernel and /etc configuration files should
d2197 1
a2197 1
If you are installing the xbase file set on your system for the first time
d2209 3
a2211 1
automatically by the rc(8) startup script.
d2400 2
a2401 2
This problem does not impact CDs made from the <tt>install42.iso</tt>,
<tt>cd42.iso</tt> or <tt>cdemu42.iso</tt>, only the official CD set.
d2403 1
a2403 1
on CD2:
d2659 1
a2659 1
<small>$OpenBSD: faq4.html,v 1.257 2007/11/18 17:53:41 nick Exp $</small>
@


1.257
log
@
missing line in install, excess word.  From tobias@@.
@
text
@d152 1
a152 1
</li><li><a href="http://www.openbsd.org/armish.html"><b>armish:</b></a>
d2657 1
a2657 1
<small>$OpenBSD: faq4.html,v 1.256 2007/11/10 14:28:23 ajacoutot Exp $</small>
@


1.256
log
@- make it clear that altroot:
* can also benefit people with a single drive
* is not to be considered as "backup"

rewording and ok nick@@
@
text
@d1397 1
a1397 1
which is <tt>4.2/i386/</tt> on the official CD-ROM or the a CD built
d1474 1
d2657 1
a2657 1
<small>$OpenBSD: faq4.html,v 1.255 2007/11/07 12:04:57 nick Exp $</small>
@


1.255
log
@
mention /altroot.  Based closely on diff from Jan Stary, (hans at stare
dot cz), with some comments on what you can do with this from me.
@
text
@d1918 2
a1919 2
 <li>If you have a second disk, you might want to create an <tt>/altroot</tt>
   partition on it, as described in 
d1921 3
a1923 2
   This can be used for daily backups of your <tt>/</tt> partition,
   giving you a possibility to recover should your 'a' partition go away.
d1926 2
a1927 2
   If you have something else duplicating the rest of your disk, either
   software
d2656 1
a2656 1
<small>$OpenBSD: faq4.html,v 1.254 2007/11/03 13:51:09 tobias Exp $</small>
@


1.254
log
@Decrease count of installation disk images after zapping cdemu.

OK nick@@
@
text
@d1918 14
d2655 1
a2655 1
<small>$OpenBSD: faq4.html,v 1.253 2007/11/02 11:11:20 nick Exp $</small>
@


1.253
log
@
cdrom42.fs is gone.  Rework accordingly.
two instances of "creat" instead of "create", one spotted by Kennith Mann.
@
text
@d291 1
a291 1
The <a href="../i386.html">i386</a> platform has seven separate
d2641 1
a2641 1
<small>$OpenBSD: faq4.html,v 1.252 2007/11/01 02:30:57 nick Exp $</small>
@


1.252
log
@
figures.  Stare at the thing for days, can't find anything else to change.
Commit it, THEN remember stuff that should have been in there long ago.
Paul Stoeber (x0001 at x dot .de1 dot cc) pointed out that the 'h' option
has been used in the install/update scripts for quite some time.
@
text
@a304 4
<li><b><tt>cdrom42.fs</tt></b> is, in effect a combination of
  all three boot disks. It can be used to make a bootable 2.88M
  floppy, or more commonly, as a boot image for a custom
  recordable CD.
d311 2
a312 2
  "floppy emulation" booting, using the 2.88M image,
  <tt>cdrom42.fs</tt>.  It is hoped that few people will need this
d317 1
a317 1
  This file can be used to creat a CD that can do a stand-alone
d338 1
a338 1
  This file can be used to creat a CD that can do a stand-alone
d452 2
a453 5
You can create a CD-ROM using either the <tt>cd42.iso</tt> file or, in
the case of the i386 and amd64 platforms, you can also use the
<tt>cdrom42.fs</tt>
as the bootable floppy image that is used to boot an i386 system from
CD-ROM.
d2641 1
a2641 1
<small>$OpenBSD: faq4.html,v 1.251 2007/11/01 02:11:00 nick Exp $</small>
@


1.251
log
@
updates for 4.2.
@
text
@d2173 1
a2173 1
  # tar xzvpf comp42.tgz
d2418 1
a2418 1
options <tt>xzpf</tt>.  This set will be installed last, after
d2648 1
a2648 1
<small>$OpenBSD: faq4.html,v 1.250 2007/10/28 21:49:18 nick Exp $</small>
@


1.250
log
@
Relocate large disk advisory to start of this section, and make it much
more clear that those that "use entire disk" and and some other platforms
will not see the fdisk step.  Suggested by Randy Sieb, a.k.a., my boss.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.1 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.1 Installation Guide</font></h1>
d76 2
d117 1
a117 1
Typical file names are <tt>floppy41.fs</tt>, though several platforms
d121 2
a122 5
(<tt>cd41.iso</tt>) is provided allowing creation of a bootable CD-ROM.
This just contains the installation kernel - install files must still be
retrieved via FTP or other source.
You can, of course, build your own CD-ROM with whatever files and
tools you desire.
d168 1
a168 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.1/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
d187 1
a187 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.1/zaurus/INSTALL.zaurus">INSTALL.zaurus</a>
d202 2
a203 2
<a href="../orders.html">Official CD-ROM set</a>, but for special needs,
you can also make your own.
d291 1
a291 1
The <a href="../i386.html">i386</a> platform has six separate
d295 1
a295 1
<li><b><tt>floppy41.fs</tt></b> (Desktop PC) supports many
d299 1
a299 1
<li><b><tt>floppyB41.fs</tt></b> (Servers) supports many RAID controllers,
d303 1
a303 1
<li><b><tt>floppyC41.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d305 1
a305 1
<li><b><tt>cdrom41.fs</tt></b> is, in effect a combination of
d309 1
a309 1
<li><b><tt>cd41.iso</tt></b> is an ISO9660 image that can be used to
d314 1
a314 1
<li><b><tt>cdemu41.iso</tt></b> is an ISO9660 image, using
d316 7
a322 3
  <tt>cdrom41.fs</tt>.  It is hoped that few people will need this
  image -- most people will use <tt>cd41.iso</tt>, only use
  <tt>cdemu41.iso</tt> if <tt>cd41.iso</tt> doesn't work for you.
d331 1
a331 1
The <a href="../sparc.html">sparc</a> platform has three separate
d335 2
a336 2
<li><b><tt>floppy41.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd41.iso</tt></b> An ISO image usable to make your own
d338 1
a338 1
<li><b><tt>miniroot41.fs</tt></b> Can be written to a swap partition
d340 4
d382 1
a382 1
  # <b>dd if=floppy41.fs of=/dev/rfd0c bs=32k</b>
d394 1
a394 1
  # <b>cmp /dev/rfd0c floppy41.fs</b>
d404 1
a404 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.1/tools/">tools</a>
d406 1
a406 1
or from the <tt>4.1/tools</tt> directory on CD1 of the OpenBSD CD set.
d421 1
a421 1
As <tt>floppyB41.fs</tt> and <tt>floppyC41.fs</tt> have longer file names,
d432 1
a432 1
  Enter source file name: <b>floppy41.fs</b>
d440 1
a440 1
  C:\> <strong>fdimage -q floppy41.fs a:</strong>
d446 1
a446 1
  C:\> <strong>ntrw floppy41.fs a:</strong>
d456 1
a456 1
You can create a CD-ROM using either the <tt>cd41.iso</tt> file or, in
d458 1
a458 1
<tt>cdrom41.fs</tt>
d584 1
a584 1
  rootdev=0x1100 rrootdev=0x2f00 rawdev=0x2f02
d604 1
a604 1
<tt>etc41.tgz</tt> file.
d606 2
a607 2
<a href="upgrade41.html#etcUpdates">manually merge</a> the changes of
<tt>etc41.tgz</tt> into your system before you can expect it to be
d616 1
a616 1
For OpenBSD 4.1, upgrading 4.0 to 4.1 is the only supported upgrade.
d624 1
a624 1
<a href="upgrade41.html">here</a>.
d641 1
a641 1
  Welcome to the OpenBSD/i386 4.1 install program.
d1119 1
a1119 1
  Rounding to nearest cylinder: 307440
d1123 3
a1125 3
  offset: [3376800] <b><i>Enter</i></b>
  size: [35723520] <b>300m</b>
  Rounding to nearest cylinder: 614880
d1128 3
a1130 3
  offset: [3991680] <b><i>Enter</i></b>
  size: [35108640] <b>120m</b>
  Rounding to nearest cylinder: 245952
d1134 3
a1136 3
  offset: [4237632] <b><i>Enter</i></b>
  size: [34862688] <b>80m</b>
  Rounding to nearest cylinder: 164304
d1140 3
a1142 3
  offset: [4401936] <b><i>Enter</i></b>
  size: [34698384] <b>6g</b>
  Rounding to nearest cylinder: 12582864
d1146 3
a1148 3
  offset: [16984800] <b><i>Enter</i></b>
  size: [22115520] <b>4g</b>
  Rounding to nearest cylinder: 8388576
d1158 5
a1162 5
  tracks/cylinder: 16
  sectors/cylinder: 1008
  cylinders: 16383
  total sectors: 39102336
  free sectors: 22115520
d1167 8
a1174 8
    a:        150.1M       1498.7M  4.2BSD   2048 16384   16 # /
    b:        300.2M       1648.8M    swap                   
    c:      19092.9M          0.0M  unused      0     0      
    d:        120.1M       1949.1M  4.2BSD   2048 16384   16 # /tmp
    e:         80.2M       2069.2M  4.2BSD   2048 16384   16 # /var
    g:       6144.0M       2149.4M  4.2BSD   2048 16384   16 # /usr
    h:       4096.0M       8293.4M  4.2BSD   2048 16384   16 # /home
    i:       1498.7M          0.0M   MSDOS                   
d1204 5
a1208 5
  Mount point for wd0d (size=122976k)? (or 'none' or 'done') [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=82152k)? (or 'none' or 'done') [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=6291432k)? (or 'none' or 'done') [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4194288k)? (or 'none' or 'done') [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=122976k)? (or 'none' or 'done') [/tmp] <b>done</b>
d1220 18
a1237 12
  /dev/rwd0a:     307440 sectors in 305 cylinders of 16 tracks, 63 sectors
          150.1MB in 1 cyl groups (306 c/g, 150.61MB/g, 19328 i/g)
  /dev/rwd0d:     245952 sectors in 244 cylinders of 16 tracks, 63 sectors
          120.1MB in 1 cyl groups (244 c/g, 120.09MB/g, 15360 i/g)
  /dev/rwd0e:     164304 sectors in 163 cylinders of 16 tracks, 63 sectors
          80.2MB in 1 cyl groups (164 c/g, 80.72MB/g, 10368 i/g)
  /dev/rwd0g:     12582864 sectors in 12483 cylinders of 16 tracks, 63 sectors
          6144.0MB in 39 cyl groups (328 c/g, 161.44MB/g, 20608 i/g)
  /dev/rwd0h:     8388576 sectors in 8322 cylinders of 16 tracks, 63 sectors
          4096.0MB in 26 cyl groups (328 c/g, 161.44MB/g, 20608 i/g)
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Sat Oct  7 19:49:44 2
  006)
d1239 7
a1245 7
  hu Apr 19 00:54:25 2007)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Th
  u Apr 19 00:54:25 2007)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Thu Apr 19
   00:54:25 2007)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Th
  u Apr 19 00:54:25 2007)
d1313 1
a1313 1
  The default media for xl0 is
d1315 1
a1315 1
  Do you want to change the default media? [no] <b><i>Enter</i></b>
d1399 1
a1399 1
  Pathname to the sets?  (or 'done') [4.1/i386] <b><i>Enter</i></b>
d1403 3
a1405 2
Here, you are prompted for which directory the installation files are, 
which is <tt>4.1/i386/</tt> on the official CD-ROM.  
d1418 1
a1418 1
would be <tt>base41.tgz</tt>, <tt>etc41.tgz</tt> and <tt>bsd</tt>.
d1431 11
a1441 11
          [X] base41.tgz
          [X] etc41.tgz
          [X] misc41.tgz
          [X] comp41.tgz
          [X] man41.tgz
          [X] game41.tgz
          [ ] xbase41.tgz
          [ ] xetc41.tgz
          [ ] xshare41.tgz
          [ ] xfont41.tgz
          [ ] xserv41.tgz
d1447 11
a1457 11
          [X] base41.tgz
          [X] etc41.tgz
          [X] misc41.tgz
          [X] comp41.tgz
          [X] man41.tgz
          [X] game41.tgz
          [X] xbase41.tgz
          [X] xetc41.tgz
          [X] xshare41.tgz
          [X] xfont41.tgz
          [X] xserv41.tgz
a1480 1
  100% |**************************************************|  5972 KB    00:03
d1482 1
a1482 1
  100% |**************************************************|  4887 KB    00:03
d1484 23
a1506 23
  100% |**************************************************|  6020 KB    00:03
  Getting base41.tgz ...
  100% |**************************************************| 41437 KB    00:34
  Getting etc41.tgz ...
  100% |**************************************************|  1210 KB    00:01
  Getting misc41.tgz ...
  100% |**************************************************|  2238 KB    00:02
  Getting comp41.tgz ...
  100% |**************************************************| 76666 KB    01:02
  Getting man41.tgz ...
  100% |**************************************************|  7473 KB    00:07
  Getting game41.tgz ...
  100% |**************************************************|  2548 KB    00:02
  Getting xbase41.tgz ...
  100% |**************************************************| 10344 KB    00:08
  Getting xetc41.tgz ...
  100% |**************************************************| 90772       00:00
  Getting xshare41.tgz ...
  100% |**************************************************|  2024 KB    00:03
  Getting xfont41.tgz ...
  100% |**************************************************| 32456 KB    00:24
  Getting xserv41.tgz ...
  100% |**************************************************| 19365 KB    00:15
d1547 1
a1547 1
  Start ntpd(8) by default? [no] <b>y</b>
d1551 3
d1555 1
a1555 1
><tt>/etc/rc.conf.local</tt></a> or <tt>/etc/rc.conf</tt>.)
d1646 1
a1646 1
  fs block shift 2; part offset 3069360; inode block 216, offset 9256
d1722 1
a1722 1
  <li><b><i>base41.tgz</i></b>   - Contains the base OpenBSD system 
d1724 1
a1724 1
  <li><b><i>etc41.tgz</i></b>    - Contains all the files in /etc 
d1726 1
a1726 1
  <li><b><i>comp41.tgz</i></b>    - Contains the compiler and its 
d1728 5
a1732 5
  <li><b><i>man41.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc41.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game41.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase41.tgz</i></b>  - Contains the base files for X11
  <li><b><i>xetc41.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1734 3
a1736 3
  <li><b><i>xfont41.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv41.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare41.tgz</i></b> - Contains manpages, locale settings,
d1740 1
a1740 1
The <b>etc41.tgz</b> and <b>xetc41.tgz</b> sets are not installed as
d1749 1
a1749 1
<b>xbase41.tgz</b> to be installed on your system.
d1751 1
a1751 1
<b>xbase41.tgz</b>, the rest of X is not needed.
d2054 1
a2054 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.1/i386/INSTALL.linux">INSTALL.linux</a>,
d2155 1
a2155 1
Sometimes, you realize you really DID need <tt>comp41.tgz</tt> (or any
d2173 1
a2173 1
  # tar xzvpf comp41.tgz
d2327 1
a2327 1
computer, place them in a <a href="#site">site41.tgz</a> file, and 
d2385 20
d2412 1
a2412 1
version (e.g. 41).  The <tt>siteXX.tgz</tt> file set is, like the other
d2429 1
a2429 1
"<tt>site41-puffy.tgz</tt>".
d2648 1
a2648 1
<small>$OpenBSD: faq4.html,v 1.249 2007/10/24 01:58:47 nick Exp $</small>
@


1.249
log
@
Another use of /var that I have forgotten several times.
Don't make /var 40M in size if you plan on editing 500M files.
Maybe if I document it, I'll remember next time.
@
text
@d680 6
d759 5
a763 5
<b>Important Note:</b>
Users with a large hard disk (larger than was commonly available when your
computer was made) will want to
see <a href="faq14.html#LargeDrive">this section</a> before going any
further.
d2612 1
a2612 1
<small>$OpenBSD: faq4.html,v 1.248 2007/09/23 15:39:12 nick Exp $</small>
@


1.248
log
@
Swap partition is no longer needed for install, and thus, not needed in
OpenBSD.  While at it, remove "recommended" sizes of 32M or 64M for a
swap partition, I can't think of any reason why they are recommeneded,
the issue is far more complicated than any single number can help.
Add reference to swapping to file later if needed.
@
text
@d1818 5
d2606 1
a2606 1
<small>$OpenBSD: faq4.html,v 1.247 2007/08/17 13:22:44 steven Exp $</small>
@


1.247
log
@add info about installing xbase on an existing system.

ok nick@@
@
text
@d1035 10
a1044 4
On the root disk, the two partitions 'a' and 'b' <b>must</b> be 
created. The installation process will not proceed until these two
partitions are available. 'a' will be used for the root filesystem (/)
and 'b' will be used as swap space.
d1789 2
a1790 6
<li>The 'b' partition of your first drive automatically becomes your
system swap partition -- we recommend a minimum of 32MB but if you have
disk to spare make it at least 64MB.  If you have lots of disk space to
spare, make this 256MB, or even 512MB.
On the other hand, if you are using a flash device for disk, you
probably want no swap partition at all.
d1796 4
d1801 2
d2601 1
a2601 1
<small>$OpenBSD: faq4.html,v 1.246 2007/08/07 00:17:50 nick Exp $</small>
@


1.246
log
@
nick@@ got lazy, sync with reality.  cats is gone, zaurus, landisk, armish
now are here.  Inspired by (maurice at z74 dot net)'s posting to tech@@,
though a very different diff.
@
text
@d2152 15
d2593 1
a2593 1
<small>$OpenBSD: faq4.html,v 1.245 2007/07/26 00:22:57 nick Exp $</small>
@


1.245
log
@
make it clear that only primary partitions are supported.
@
text
@d134 3
a136 2
<li><b>Writing a file system image to disk:</b> a filesystem image that
can be written to an existing partition, and then can be booted.
d153 2
a154 1
<li><a href="../cats.html"><b>cats:</b></a> CD-ROM.
d163 3
d186 5
d684 1
a684 1
and <a href="../cats.html">cats</a>,
d2578 1
a2578 1
<small>$OpenBSD: faq4.html,v 1.244 2007/06/13 06:14:02 steven Exp $</small>
@


1.244
log
@typo
@
text
@d1898 4
d2568 1
a2568 1
<small>$OpenBSD: faq4.html,v 1.243 2007/06/12 01:12:30 nick Exp $</small>
@


1.243
log
@
reference the time zone info in the multi-boot section, as either is a
logical place to go looking.
@
text
@d2016 1
a2016 1
is my clock off by serveral hours?</a>
d2564 1
a2564 1
<small>$OpenBSD: faq4.html,v 1.242 2007/05/25 10:59:50 nick Exp $</small>
@


1.242
log
@
Viktor Bojlund (vbojlund at webaid.se) spotted that we specified xl0,
then configured fxp0.  Also change the static IP address to something
more likely, and one that matches my use of the example machine, so
stupid copy/paste errors like this will be more unlikely in the future.
@
text
@d2008 10
d2564 1
a2564 1
<small>$OpenBSD: faq4.html,v 1.241 2007/05/01 16:27:46 nick Exp $</small>
@


1.241
log
@
update for 4.1
@
text
@d1277 2
a1278 2
  Symbolic (host) name for fxp0? [puffy] <b><i>Enter</i></b>
  The default media for fxp0 is
d1281 1
a1281 1
  IPv4 address for fxp0? (or 'dhcp') <b>199.185.137.55</b>
d1283 1
a1283 1
  IPv6 address for fxp0? (or 'rtsol' or 'none') [none] <b><i>Enter</i></b>
d2554 1
a2554 1
<small>$OpenBSD: faq4.html,v 1.240 2007/04/25 20:58:43 nick Exp $</small>
@


1.240
log
@
blockquote looks better around root.mail execrpt.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 4.0 Installation Guide</title>
d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2006 by OpenBSD.">
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 4.0 Installation Guide</font></h1>
d115 1
a115 1
Typical file names are <tt>floppy40.fs</tt>, though several platforms
d119 1
a119 1
(<tt>cd40.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d164 1
a164 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.0/mac68k/INSTALL.mac68k">INSTALL.mac68k</a>
d286 1
a286 1
<li><b><tt>floppy40.fs</tt></b> (Desktop PC) supports many
d290 1
a290 1
<li><b><tt>floppyB40.fs</tt></b> (Servers) supports many RAID controllers,
d294 1
a294 1
<li><b><tt>floppyC40.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d296 1
a296 1
<li><b><tt>cdrom40.fs</tt></b> is, in effect a combination of
d300 1
a300 1
<li><b><tt>cd40.iso</tt></b> is an ISO9660 image that can be used to
d305 1
a305 1
<li><b><tt>cdemu40.iso</tt></b> is an ISO9660 image, using
d307 3
a309 3
  <tt>cdrom40.fs</tt>.  It is hoped that few people will need this
  image -- most people will use <tt>cd40.iso</tt>, only use
  <tt>cdemu40.iso</tt> if <tt>cd40.iso</tt> doesn't work for you.
d322 2
a323 2
<li><b><tt>floppy40.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd40.iso</tt></b> An ISO image usable to make your own
d325 1
a325 1
<li><b><tt>miniroot40.fs</tt></b> Can be written to a swap partition
d365 1
a365 1
  # <b>dd if=floppy40.fs of=/dev/rfd0c bs=32k</b>
d377 1
a377 1
  # <b>cmp /dev/rfd0c floppy40.fs</b>
d387 1
a387 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.0/tools/">tools</a>
d389 1
a389 1
or from the <tt>4.0/tools</tt> directory on CD1 of the OpenBSD CD set.
d404 1
a404 1
As <tt>floppyB40.fs</tt> and <tt>floppyC40.fs</tt> have longer file names,
d415 1
a415 1
  Enter source file name: <b>floppy40.fs</b>
d423 1
a423 1
  C:\> <strong>fdimage -q floppy40.fs a:</strong>
d429 1
a429 1
  C:\> <strong>ntrw floppy40.fs a:</strong>
d439 1
a439 1
You can create a CD-ROM using either the <tt>cd40.iso</tt> file or, in
d441 1
a441 1
<tt>cdrom40.fs</tt>
d455 1
a455 1
new-for-4.0 "track at once" (tao) recording option.
d587 1
a587 1
<tt>etc40.tgz</tt> file.
d589 2
a590 2
<a href="upgrade40.html#etcUpdates">manually merge</a> the changes of
<tt>etc40.tgz</tt> into your system before you can expect it to be
d599 1
a599 1
For OpenBSD 4.0, upgrading 3.9 to 4.0 is the only supported upgrade.
d607 1
a607 1
<a href="upgrade40.html">here</a>.
d624 1
a624 1
  Welcome to the OpenBSD/i386 4.0 install program.
d626 5
a630 6
  This program will help you install OpenBSD in a simple and rational way. At
  any prompt except password prompts you can run a shell command by typing
  '!foo', or escape to a shell by typing '!'. Default answers are shown in []'s
  and are selected by pressing RETURN. At any time you can exit this program by
  pressing Control-C and then RETURN, but quitting during an install can leave
  your system in an inconsistent state.
d632 1
a632 1
  Specify terminal type: [vt220] <b><i>Enter</i></b>
d1203 8
a1210 8
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid, ctime=S
  at Oct  7 19:49:44 2 006)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Sa
  t Oct  7 19:49:44 2006)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Sat Oct  7
   19:49:44 2006)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Sa
  t Oct  7 19:49:44 2006)
d1256 1
a1256 1
  Enter system hostname (short form, e.g. 'foo'): <b>puffy</b>
d1288 1
a1288 1
          media: Ethernet autoselect (10baseT)
d1364 1
a1364 1
  Pathname to the sets?  (or 'done') [4.0/i386] <b><i>Enter</i></b>
d1369 1
a1369 1
which is <tt>4.0/i386/</tt> on the official CD-ROM.  
d1382 1
a1382 1
would be <tt>base40.tgz</tt>, <tt>etc40.tgz</tt> and <tt>bsd</tt>.
d1395 11
a1405 11
          [X] base40.tgz
          [X] etc40.tgz
          [X] misc40.tgz
          [X] comp40.tgz
          [X] man40.tgz
          [X] game40.tgz
          [ ] xbase40.tgz
          [ ] xetc40.tgz
          [ ] xshare40.tgz
          [ ] xfont40.tgz
          [ ] xserv40.tgz
d1411 11
a1421 11
          [X] base40.tgz
          [X] etc40.tgz
          [X] misc40.tgz
          [X] comp40.tgz
          [X] man40.tgz
          [X] game40.tgz
          [X] xbase40.tgz
          [X] xetc40.tgz
          [X] xshare40.tgz
          [X] xfont40.tgz
          [X] xserv40.tgz
d1445 1
a1445 1
  100% |**************************************************|  5904 KB    00:09    
d1447 1
a1447 1
  100% |**************************************************|  4889 KB    00:03    
d1449 23
a1471 23
  100% |**************************************************|  5952 KB    00:03    
  Getting base40.tgz ...
  100% |**************************************************| 40675 KB    00:33    
  Getting etc40.tgz ...
  100% |**************************************************|  1133 KB    00:01    
  Getting misc40.tgz ...
  100% |**************************************************|  2233 KB    00:02    
  Getting comp40.tgz ...
  100% |**************************************************| 77933 KB    01:03    
  Getting man40.tgz ...
  100% |**************************************************|  7427 KB    00:07    
  Getting game40.tgz ...
  100% |**************************************************|  2548 KB    00:02    
  Getting xbase40.tgz ...
  100% |**************************************************| 10341 KB    00:08    
  Getting xetc40.tgz ...
  100% |**************************************************| 90762       00:00    
  Getting xshare40.tgz ...
  100% |**************************************************|  2027 KB    00:03    
  Getting xfont40.tgz ...
  100% |**************************************************| 32455 KB    00:25    
  Getting xserv40.tgz ...
  100% |**************************************************| 19418 KB    00:16
d1608 1
a1608 1
  fs block shift 2; part offset 3069360; inode block 152, offset 4136
d1684 1
a1684 1
  <li><b><i>base40.tgz</i></b>   - Contains the base OpenBSD system 
d1686 1
a1686 1
  <li><b><i>etc40.tgz</i></b>    - Contains all the files in /etc 
d1688 1
a1688 1
  <li><b><i>comp40.tgz</i></b>    - Contains the compiler and its 
d1690 5
a1694 5
  <li><b><i>man40.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc40.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game40.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase40.tgz</i></b>  - Contains the base files for X11
  <li><b><i>xetc40.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1696 3
a1698 3
  <li><b><i>xfont40.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv40.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare40.tgz</i></b> - Contains manpages, locale settings,
d1702 1
a1702 1
The <b>etc40.tgz</b> and <b>xetc40.tgz</b> sets are not installed as
d1711 1
a1711 1
<b>xbase40.tgz</b> to be installed on your system.
d1713 1
a1713 1
<b>xbase40.tgz</b>, the rest of X is not needed.
d2005 1
a2005 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.0/i386/INSTALL.linux">INSTALL.linux</a>,
d2096 1
a2096 1
Sometimes, you realize you really DID need <tt>comp40.tgz</tt> (or any
d2114 1
a2114 1
  # tar xzvpf comp40.tgz
d2253 1
a2253 1
computer, place them in a <a href="#site">site40.tgz</a> file, and 
d2318 1
a2318 1
version (e.g. 40).  The <tt>siteXX.tgz</tt> file set is, like the other
d2335 1
a2335 1
"<tt>site40-puffy.tgz</tt>".
d2554 1
a2554 1
<small>$OpenBSD: faq4.html,v 1.239 2007/03/01 07:48:19 steven Exp $</small>
@


1.239
log
@add some more hints to improve dmesg submission.

based on a diff from jcroberts at designtools.org

ok nick@@
@
text
@d2018 1
a2018 1
<pre>
d2030 1
a2030 1
</pre>
d2555 1
a2555 1
<small>$OpenBSD: faq4.html,v 1.238 2007/01/06 02:25:24 nick Exp $</small>
@


1.238
log
@
More consistant with CD-ROM, Alphas (other than mine) can network boot.
Spotted by Maurice Janssen (maurice at z74 dot net), diff by Marcus Popp.
Wrap an obnoxious long line while I was in the neighborhood.
@
text
@d2027 3
a2029 2
kernel).  The device driver information we get from this helps us fix existing
drivers. Thank you!
a2046 1
(or transfer the dmesg output using FTP/scp/floppydisk/carrier-pigeon/...)
d2049 1
a2049 2
<strong>NOTE</strong> - Please send only GENERIC kernel dmesgs. Custom
kernels that have device drivers removed are not helpful.
d2051 8
a2058 2
<p>
Also note that the dmesgs are received on a computer using the 
d2064 27
d2555 1
a2555 1
<small>$OpenBSD: faq4.html,v 1.237 2006/12/03 04:03:00 nick Exp $</small>
@


1.237
log
@
don't encourage people to install X if they aren't planning on using it.
@
text
@d146 2
a147 2
<li><a href="../alpha.html"><b>alpha:</b></a> Floppy, CD-ROM, writing a
floppy image to hard disk.
d158 1
a158 1
<li><a href="../i386.html"><b>i386:</b></a> Floppy, CD,
d164 2
a165 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/4.0/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d2523 1
a2523 1
<small>$OpenBSD: faq4.html,v 1.236 2006/11/14 02:18:05 nick Exp $</small>
@


1.236
log
@
siteXX*.tgz files mean you got to update index.txt.
@
text
@d1383 1
a1383 1
Most people will want to install all file sets.
d2522 1
a2522 1
<small>$OpenBSD: faq4.html,v 1.235 2006/11/11 05:47:54 joel Exp $</small>
@


1.235
log
@Correct filename for the site40-hostname.tgz example
@
text
@d2376 8
d2522 1
a2522 1
<small>$OpenBSD: faq4.html,v 1.234 2006/11/04 01:33:05 nick Exp $</small>
@


1.234
log
@
this section is describing where the install kernel is coming from, not
what the kernel name is.  Oddity spotted by steven@@, who also helped me
refine the wording a bit.
@
text
@d2302 2
a2303 2
named <tt>siteXX-<i>&&lt;hostname&gt;.tgz</i></tt>, for example,
"<tt>hostname40-puffy.tgz</tt>".
d2514 1
a2514 1
<small>$OpenBSD: faq4.html,v 1.233 2006/11/04 01:05:08 steven Exp $</small>
@


1.233
log
@fix partition size.

ok nick@@
@
text
@d125 3
a127 3
<li><b><a href="#bsd.rd">bsd.rd</a>:</b> The RAM disk kernel
can be booted off an already existing OpenBSD partition (i.e., 
an upgrade or reinstall).
d2514 1
a2514 1
<small>$OpenBSD: faq4.html,v 1.232 2006/11/04 00:59:14 nick Exp $</small>
@


1.232
log
@
Get my tags straight...
@
text
@d1177 1
a1177 1
  Mount point for wd0g (size=4194288k)? (or 'none' or 'done') [/usr] <b><i>Enter</i></b>
d2514 1
a2514 1
<small>$OpenBSD: faq4.html,v 1.231 2006/11/01 01:41:18 nick Exp $</small>
@


1.231
log
@
Updates for OpenBSD v4.0
@
text
@d1276 1
a1276 1
  Which one do you wish to initialize? (or 'done') [fxp0] <b>xl0</i></b>
d2514 1
a2514 1
<small>$OpenBSD: faq4.html,v 1.230 2006/10/22 14:50:07 nick Exp $</small>
@


1.230
log
@
a couple more wording improvements from upcoming 4.0 version which have
nothing to do with OpenBSD 4.0.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.9 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 3.9 Installation Guide</font></h1>
d115 1
a115 1
Typical file names are <tt>floppy39.fs</tt>, though several platforms
d119 1
a119 1
(<tt>cd39.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d164 1
a164 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.9/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d285 1
a285 1
<li><b><tt>floppy39.fs</tt></b> (Desktop PC) supports many
d289 1
a289 1
<li><b><tt>floppyB39.fs</tt></b> (Servers) supports many RAID controllers,
d293 1
a293 1
<li><b><tt>floppyC39.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d295 1
a295 1
<li><b><tt>cdrom39.fs</tt></b> is, in effect a combination of
d299 1
a299 1
<li><b><tt>cd39.iso</tt></b> is an ISO9660 image that can be used to
d304 1
a304 1
<li><b><tt>cdemu39.iso</tt></b> is an ISO9660 image, using
d306 3
a308 3
  <tt>cdrom39.fs</tt>.  It is hoped that few people will need this
  image -- most people will use <tt>cd39.iso</tt>, only use
  <tt>cdemu39.iso</tt> if <tt>cd39.iso</tt> doesn't work for you.
d321 2
a322 2
<li><b><tt>floppy39.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd39.iso</tt></b> An ISO image usable to make your own
d324 1
a324 1
<li><b><tt>miniroot39.fs</tt></b> Can be written to a swap partition
d364 1
a364 1
  # <b>dd if=floppy39.fs of=/dev/rfd0c bs=32k</b>
d376 1
a376 1
  # <b>cmp /dev/rfd0c floppy39.fs</b>
d386 1
a386 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.9/tools/">tools</a>
d388 1
a388 1
or from the <tt>3.9/tools</tt> directory on CD1 of the OpenBSD CD set.
d403 1
a403 1
As <tt>floppyB39.fs</tt> and <tt>floppyC39.fs</tt> have longer file names,
d414 1
a414 1
  Enter source file name: <b>floppy39.fs</b>
d422 1
a422 1
  C:\> <strong>fdimage -q floppy39.fs a:</strong>
d428 1
a428 1
  C:\> <strong>ntrw floppy39.fs a:</strong>
d438 1
a438 1
You can create a CD-ROM using either the <tt>cd39.iso</tt> file or, in
d440 1
a440 1
<tt>cdrom39.fs</tt>
d453 2
d586 1
a586 1
<tt>etc39.tgz</tt> file.
d588 2
a589 2
<a href="upgrade39.html#etcUpdates">manually merge</a> the changes of
<tt>etc39.tgz</tt> into your system before you can expect it to be
d598 1
a598 1
For OpenBSD 3.9, upgrading 3.8 to 3.9 is the only supported upgrade.
d606 1
a606 1
<a href="upgrade39.html">here</a>.
d623 1
a623 1
  Welcome to the OpenBSD/i386 3.9 install program.
d1364 1
a1364 1
  Pathname to the sets?  (or 'done') [3.9/i386] <b><i>Enter</i></b>
d1369 1
a1369 1
which is <tt>3.9/i386/</tt> on the official CD-ROM.  
d1382 1
a1382 1
would be <tt>base39.tgz</tt>, <tt>etc39.tgz</tt> and <tt>bsd</tt>.
d1395 11
a1405 11
          [X] base39.tgz
          [X] etc39.tgz
          [X] misc39.tgz
          [X] comp39.tgz
          [X] man39.tgz
          [X] game39.tgz
          [ ] xbase39.tgz
          [ ] xetc39.tgz
          [ ] xshare39.tgz
          [ ] xfont39.tgz
          [ ] xserv39.tgz
d1411 11
a1421 11
          [X] base39.tgz
          [X] etc39.tgz
          [X] misc39.tgz
          [X] comp39.tgz
          [X] man39.tgz
          [X] game39.tgz
          [X] xbase39.tgz
          [X] xetc39.tgz
          [X] xshare39.tgz
          [X] xfont39.tgz
          [X] xserv39.tgz
d1445 1
a1445 1
  100% |**************************************************|  5332 KB    00:07    
d1447 1
a1447 1
  100% |**************************************************|  4622 KB    00:03    
d1449 23
a1471 23
  100% |**************************************************|  5374 KB    00:04    
  Getting base39.tgz ...
  100% |**************************************************| 39523 KB    00:32    
  Getting etc39.tgz ...
  100% |**************************************************|  1126 KB    00:01    
  Getting misc39.tgz ...
  100% |**************************************************|  2222 KB    00:02  
  Getting comp39.tgz ...
  100% |**************************************************| 73524 KB    01:03    
  Getting man39.tgz ...
  100% |**************************************************|  7258 KB    00:06    
  Getting game39.tgz ...
  100% |**************************************************|  2538 KB    00:02    
  Getting xbase39.tgz ...
  100% |**************************************************| 10313 KB    00:09    
  Getting xetc39.tgz ...
  100% |**************************************************| 90387       00:00    
  Getting xshare39.tgz ...
  100% |**************************************************|  2028 KB    00:02    
  Getting xfont39.tgz ...
  100% |**************************************************| 32457 KB    00:28    
  Getting xserv39.tgz ...
  100% |**************************************************| 19410 KB    00:26
d1536 1
a1536 1
  Do you expect to run the X Window System? [yes] <b>y</b>
d1684 1
a1684 1
  <li><b><i>base39.tgz</i></b>   - Contains the base OpenBSD system 
d1686 1
a1686 1
  <li><b><i>etc39.tgz</i></b>    - Contains all the files in /etc 
d1688 1
a1688 1
  <li><b><i>comp39.tgz</i></b>    - Contains the compiler and its 
d1690 5
a1694 5
  <li><b><i>man39.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc39.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game39.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase39.tgz</i></b>  - Contains the base files for X11
  <li><b><i>xetc39.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1696 3
a1698 3
  <li><b><i>xfont39.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv39.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare39.tgz</i></b> - Contains manpages, locale settings,
d1702 1
a1702 1
The <b>etc39.tgz</b> and <b>xetc39.tgz</b> sets are not installed as
d1711 1
a1711 1
<b>xbase39.tgz</b> to be installed on your system.
d1713 1
a1713 1
<b>xbase39.tgz</b>, the rest of X is not needed.
d2005 1
a2005 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.9/i386/INSTALL.linux">INSTALL.linux</a>,
d2064 1
a2064 1
Sometimes, you realize you really DID need <tt>comp39.tgz</tt> (or any
d2082 1
a2082 1
  # tar xzvpf comp39.tgz
d2221 1
a2221 1
computer, place them in a <a href="#site">site39.tgz</a> file, and 
d2286 1
a2286 1
version (e.g. 39).  The <tt>siteXX.tgz</tt> file set is, like the other
d2301 7
d2514 1
a2514 1
<small>$OpenBSD: faq4.html,v 1.229 2006/10/22 14:34:07 nick Exp $</small>
@


1.229
log
@
minimize size of 4.0 diff, by committing a lot of non-4.0 specific
changes now, hopefully making life easier for translation team:
* Improved wording
* enlarge /usr partition
* two NIC configuration (one static, one DHCP)
@
text
@d597 3
a599 2
If you have to upgrade from an older version, a complete reinstall is
recommended.<br>
d2216 1
a2216 1
Note that the default key size has been increased for OpenBSD 3.8, so
d2505 1
a2505 1
<small>$OpenBSD: faq4.html,v 1.228 2006/10/13 12:06:28 tom Exp $</small>
@


1.228
log
@Clarify a bit about the install.site/upgrade.site scripts.

ok nick@@
@
text
@d100 1
a100 1
On most platforms, the OpenBSD installation uses a special
d106 1
a106 1
(<tt>.tgz</tt>) files.
d125 3
a127 3
<li><b><a href="#bsd.rd">bsd.rd</a>:</b> The RAM disk kernel,
intended for booting off either an already existing OpenBSD partition or
booting over the network.
d218 2
d866 2
a867 1
It is important that the first partition skips the first track of the
d1039 1
a1039 1
<li><i><b>wd0g: /usr</b></i> - 4G.  We want this partition to be large
d1052 1
a1052 1
Now, if you add those up, you will see over 9G of space is unused!
d1109 2
a1110 2
  size: [34698384] <b>4g</b>
  Rounding to nearest cylinder: 8388576
d1114 2
a1115 2
  offset: [12790512] <b><i>Enter</i></b>
  size: [26309808] <b>4g</b>
d1140 2
a1141 2
    g:       4096.0M       2149.4M  4.2BSD   2048 16384   16 # /usr
    h:       4096.0M       6245.4M  4.2BSD   2048 16384   16 # /home
d1194 2
a1195 2
  /dev/rwd0g:     6291936 sectors in 6242 cylinders of 16 tracks, 63 sectors
          3072.2MB in 20 cyl groups (328 c/g, 161.44MB/g, 20608 i/g)
d1198 1
a1198 1
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Thu Mar 30 00:03:14 2
d1200 8
a1207 9
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid, ctime=T
  hu Mar 30 20 00:03:14 2006)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Th
  u Mar 30 00:03:15 2006)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Thu Mar 20
   00:03:15 2006)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Th
  u Mar 30 00:03:15 2006)

d1265 3
d1272 2
a1273 2
  Available interfaces are: fxp0.
  Which one do you wish to initialize? (or 'done') [fxp0] <b><i>Enter</i></b>
d1280 1
a1280 23
  IPv6 address for fxp0? (or 'rtsol' or 'none') [none] 
  No more interfaces to initialize.
  DNS domain name? (e.g. 'bar.com') [my.domain] <b>example.com</b>
  DNS nameserver? (IP address or 'none') [none] <b>199.185.137.1</b>
  Use the nameserver now? [yes] <b><i>Enter</i></b>
  Default route? (IP address, 'dhcp' or 'none') <b>199.185.137.128</b>
  add net default: gateway 199.185.137.128
  Edit hosts with ed? [no] <b><i>Enter</i></b> 
  Do you want to do any manual network configuration? [no] <b><i>Enter</i></b>
</pre></td></tr></table>

<p>
In the above example, we use a static IP address. As indicated, you can
use "<tt>dhcp</tt>" instead on most platforms (not
<a href="../alpha.html">Alpha</a>), assuming your environment supports
it. In the case of DHCP, most of the information will be grabbed from
the remote DHCP server; you will be given a chance to confirm it.
Here is a sample of the network configuration part of the install, this
time done with DHCP:

<p>
<table border=0 width="90%"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Configure the network? [yes] <b><i>Enter</i></b>
d1284 4
a1287 4
  The default media for fxp0 is
          media: Ethernet autoselect (100baseTX full-duplex)
  Do you want to change the default media? [no] <b><i>Enter</i></b>
  IPv4 address for fxp0? (or 'dhcp') <b>dhcp</b>
a1288 1
  Sending on   Socket/fallback/fallback-net
d1290 1
a1290 1
  DHCPOFFER from 199.185.137.128
d1292 2
a1293 2
  DHCPACK from 199.185.137.128 
  bound to 199.185.137.55 -- renewal in 43200 seconds.
d1295 3
a1297 3
  Done - no available interfaces found.
  DNS domain name? (e.g. 'bar.com') [example.org] <b><i>Enter</i></b>
  DNS nameserver? (IP address or 'none') [199.185.137.1] <b><i>Enter</i></b>
d1303 1
d2504 1
a2504 1
<small>$OpenBSD: faq4.html,v 1.227 2006/08/20 17:02:12 steven Exp $</small>
@


1.227
log
@some minor fixes, rewordings, spelling, spacing, html tweaks.

feedback/ok nick@@
@
text
@d2349 2
a2350 1
mounted on <tt>/mnt</tt>.  However, your script can be written as if
d2521 1
a2521 1
<small>$OpenBSD: faq4.html,v 1.226 2006/08/19 17:31:58 steven Exp $</small>
@


1.226
log
@fix spelling of "synchronize" here as well
@
text
@d251 1
a251 1
  <li>Will OpenBSD co-exist on this system with another OS?
d2520 1
a2520 1
<small>$OpenBSD: faq4.html,v 1.225 2006/08/15 02:04:33 nick Exp $</small>
@


1.225
log
@
The way the "gray boxes" mess up the PDF rendering has annoyed me for
years.  This makes it work much better.  I'm still not sure I like 'em,
but the PDFs will be better.  Thanks to Tom@@ for spinning a test PDF for
me (and all the PDFs he's made over the years, too), and for his
constructive suggestion about alternative ways to do this, which I've
ignored. :)
@
text
@d1521 1
a1521 1
syncronized, and the default configuration is sufficient for many
d2520 1
a2520 1
<small>$OpenBSD: faq4.html,v 1.224 2006/07/15 15:25:45 nick Exp $</small>
@


1.224
log
@
sometimes you need baseXX.tgz, even if you don't plan on running X.
fact-check and ok steven@@
@
text
@d336 1
a336 1
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
d340 1
a340 1
</pre></td></tr> </table>
d361 1
a361 1
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
d373 1
a373 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d375 1
a375 1
</pre></td> </tr> </table>
d408 1
a408 1
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
d415 1
a415 1
</pre> </td> </tr> </table>
d419 1
a419 1
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><pre>
d425 1
a425 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d487 1
a487 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d497 1
a497 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d512 1
a512 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d528 1
a528 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d561 1
a561 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d617 1
a617 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d642 1
a642 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d688 1
a688 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d708 1
a708 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d745 1
a745 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d825 1
a825 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d886 1
a886 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d906 1
a906 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d924 1
a924 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1060 1
a1060 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1168 1
a1168 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1250 1
a1250 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1265 1
a1265 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1296 1
a1296 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1330 1
a1330 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1357 1
a1357 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1375 1
a1375 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1401 1
a1401 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1455 1
a1455 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1508 1
a1508 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1525 1
a1525 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1549 1
a1549 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1565 1
a1565 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1578 1
a1578 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1613 1
a1613 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d2094 1
a2094 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d2137 1
a2137 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d2248 1
a2248 1
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d2520 1
a2520 1
<small>$OpenBSD: faq4.html,v 1.223 2006/05/01 23:12:21 steven Exp $</small>
@


1.223
log
@spelling
@
text
@d1707 1
a1707 1
  <li><b><i>xbase39.tgz</i></b>  - Contains the base install for X11
d1723 8
d2520 1
a2520 1
<small>$OpenBSD: faq4.html,v 1.222 2006/05/01 18:16:30 steven Exp $</small>
@


1.222
log
@missing 3.9 bits
@
text
@d657 1
a657 1
The installation notes refered to here are on the install CDs and FTP
d2512 1
a2512 1
<small>$OpenBSD: faq4.html,v 1.221 2006/05/01 01:02:59 nick Exp $</small>
@


1.221
log
@
updates/revisions for 3.9
@
text
@d115 1
a115 1
Typical file names are <tt>floppy38.fs</tt>, though several platforms
d119 1
a119 1
(<tt>cd38.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d283 1
a283 1
<li><b><tt>floppy38.fs</tt></b> (Desktop PC) supports many
d287 1
a287 1
<li><b><tt>floppyB38.fs</tt></b> (Servers) supports many RAID controllers,
d291 1
a291 1
<li><b><tt>floppyC38.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d293 1
a293 1
<li><b><tt>cdrom38.fs</tt></b> is, in effect a combination of
d297 1
a297 1
<li><b><tt>cd38.iso</tt></b> is an ISO9660 image that can be used to
d302 1
a302 1
<li><b><tt>cdemu38.iso</tt></b> is an ISO9660 image, using
d304 3
a306 3
  <tt>cdrom38.fs</tt>.  It is hoped that few people will need this
  image -- most people will use <tt>cd38.iso</tt>, only use
  <tt>cdemu38.iso</tt> if <tt>cd38.iso</tt> doesn't work for you.
d319 2
a320 2
<li><b><tt>floppy38.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd38.iso</tt></b> An ISO image usable to make your own
d322 1
a322 1
<li><b><tt>miniroot38.fs</tt></b> Can be written to a swap partition
d362 1
a362 1
  # <b>dd if=floppy38.fs of=/dev/rfd0c bs=32k</b>
d374 1
a374 1
  # <b>cmp /dev/rfd0c floppy38.fs</b>
d401 1
a401 1
As <tt>floppyB38.fs</tt> and <tt>floppyC38.fs</tt> have longer file names,
d412 1
a412 1
  Enter source file name: <b>floppy38.fs</b>
d420 1
a420 1
  C:\> <strong>fdimage -q floppy38.fs a:</strong>
d426 1
a426 1
  C:\> <strong>ntrw floppy38.fs a:</strong>
d436 1
a436 1
You can create a CD-ROM using either the <tt>cd38.iso</tt> file or, in
d438 1
a438 1
<tt>cdrom38.fs</tt>
d2512 1
a2512 1
<small>$OpenBSD: faq4.html,v 1.220 2006/03/15 00:35:57 nick Exp $</small>
@


1.220
log
@
Encourage people to hit "N" to the "Do you expect to run X ..." question.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.8 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 3.8 Installation Guide</font></h1>
a81 2
<li><a href="#bsdrdaout"    >4.16 - Upgrading/reinstalling OpenBSD/i386
     using <tt>bsd.rd-a.out</tt></a>.
d164 1
a164 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.8/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d384 1
a384 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.8/tools/">tools</a>
d386 1
a386 1
or from the <tt>3.8/tools</tt> directory on CD1 of the OpenBSD CD set.
d555 1
a555 2
<tt>/var/run/dmesg.boot</tt>. On some architectures, SHIFT+PGUP will
let you examine text that has scrolled off the screen.
d582 1
a582 1
<tt>etc38.tgz</tt> file.
d584 2
a585 2
<a href="upgrade38.html#etcUpdates">manually merge</a> the changes of
<tt>etc38.tgz</tt> into your system before you can expect it to be
d594 1
a594 1
For OpenBSD 3.8, upgrading 3.7 to 3.8 is the only supported upgrade.
d601 1
a601 1
<a href="upgrade38.html">here</a>.
d606 1
d618 1
a618 1
  Welcome to the OpenBSD/i386 3.8 install program.
d628 1
a628 1
  kbd(8) mapping? ('?' for list) [none] <b><i>Enter</i></b>
d656 6
d678 1
a678 1
several OpenBSD platforms, the first, one could consider the Operating
d683 2
a684 2
that can coexist with other Operating Systems on the IBM AT descended
machines.  The second layer of partitioning is visible only to OpenBSD
d724 4
d1036 1
a1036 1
<li><i><b>wd0g: /usr</b></i> - 3G.  We want this partition to be large
d1040 1
a1040 1
  will take almost 140M of this space before ports are built.
d1049 1
a1049 1
Now, if you add those up, you will see over 10G of space is unused!
d1106 2
a1107 2
  size: [34698384] <b>3g</b>
  Rounding to nearest cylinder: 6291936
d1111 2
a1112 2
  offset: [10693872] <b><i>Enter</i></b>
  size: [28406448] <b>4g</b>
d1137 2
a1138 2
    g:       2048.0M       2149.4M  4.2BSD   2048 16384   16 # /usr
    h:       4096.0M       4197.4M  4.2BSD   2048 16384   16 # /home
d1171 1
a1171 1
  Mount point for wd0g (size=3145968k)? (or 'none' or 'done') [/usr] <b><i>Enter</i></b>
d1195 2
a1196 2
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Thu Oct 20 00:03:14 2
  005)
d1198 1
a1198 1
  hu Oct 20 00:03:14 2005)
d1200 3
a1202 3
  u Oct 20 00:03:15 2005)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Thu Oct 20
   00:03:15 2005)
d1204 1
a1204 1
  u Oct 20 00:03:15 2005)
d1273 1
a1273 1
  IP address for fxp0? (or 'dhcp') <b>199.185.137.55</b>
d1304 1
a1304 1
  IP address for fxp0? (or 'dhcp') <b>dhcp</b>
a1310 2
  New Network Number: 199.185.137.0
  New Broadcast Address: 199.185.137.255
d1312 1
d1317 1
a1317 1
  Default route? (IP address, 'dhcp' or 'none') [199.185.137.128] <b><i>Enter</i></b>
d1378 1
a1378 1
  Pathname to the sets?  (or 'done') [3.8/i386] <b><i>Enter</i></b>
d1383 1
a1383 1
which is <tt>3.8/i386/</tt> on the official CD-ROM.  
d1393 2
a1394 1
default all the non-X file sets are selected; however, some people may
d1396 3
a1398 3
would be <tt>base38.tgz</tt>, <tt>etc38.tgz</tt> and <tt>bsd</tt>.
Others will wish to install all file sets. The example below is that of a
full install.
d1409 12
a1420 12
          [X] base38.tgz
          [X] etc38.tgz
          [X] misc38.tgz
          [X] comp38.tgz
          [X] man38.tgz
          [X] game38.tgz
          [ ] xbase38.tgz
          [ ] xetc38.tgz
          [ ] xshare38.tgz
          [ ] xfont38.tgz
          [ ] xserv38.tgz
  File Name? (or 'done') [bsd.mp] <b>all</b>
d1425 11
a1435 11
          [X] base38.tgz
          [X] etc38.tgz
          [X] misc38.tgz
          [X] comp38.tgz
          [X] man38.tgz
          [X] game38.tgz
          [X] xbase38.tgz
          [X] xetc38.tgz
          [X] xshare38.tgz
          [X] xfont38.tgz
          [X] xserv38.tgz
d1456 1
a1456 1
  File Name? (or 'done') [done] <b><i>Enter</i></b>
d1459 1
a1459 1
  100% |**************************************************|  5157 KB    00:08
d1461 1
a1461 1
  100% |**************************************************|  4549 KB    00:02
d1463 23
a1485 23
  100% |**************************************************|  5202 KB    00:03
  Getting base38.tgz ...
  100% |**************************************************| 35928 KB    00:25
  Getting etc38.tgz ...
  100% |**************************************************|  1123 KB    00:01
  Getting misc38.tgz ...
  100% |**************************************************|  2222 KB    00:01
  Getting comp38.tgz ...
  100% |**************************************************| 20522 KB    00:17
  Getting man38.tgz ...
  100% |**************************************************|  7234 KB    00:05
  Getting game38.tgz ...
  100% |**************************************************|  2538 KB    00:01
  Getting xbase38.tgz ...
  100% |**************************************************| 10225 KB    00:07
  Getting xetc38.tgz ...
  100% |**************************************************| 93384       00:00
  Getting xshare38.tgz ...
  100% |**************************************************|  1986 KB    00:02
  Getting xfont38.tgz ...
  100% |**************************************************| 32438 KB    00:23
  Getting xserv38.tgz ...
  100% |**************************************************| 18172 KB    00:14
d1534 2
a1535 1
You will now be asked if you plan to run X on this system.  If you
d1541 6
a1546 1
here, as you can easily change it should you need to later.
d1582 11
a1592 11
  Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      Turkey
  America/     Cuba         GMT          Jamaica      Navajo       UCT
  Antarctica/  EET          GMT+0        Japan        PRC          US/
  Arctic/      EST          GMT-0        Kwajalein    PST8PDT      UTC
  Asia/        EST5EDT      GMT0         Libya        Pacific/     Universal
  Atlantic/    Egypt        Greenwich    MET          Poland       W-SU
  Australia/   Eire         HST          MST          Portugal     WET
  Brazil/      Etc/         Hongkong     MST7MDT      ROC          Zulu
  CET          Europe/      Iceland      Mexico/      ROK          posix/
  CST6CDT      Factory      Indian/      Mideast/     Singapore    posixrules
  Canada/      GB           Iran         NZ           SystemV/     right/
d1698 1
a1698 1
  <li><b><i>base38.tgz</i></b>   - Contains the base OpenBSD system 
d1700 1
a1700 1
  <li><b><i>etc38.tgz</i></b>    - Contains all the files in /etc 
d1702 1
a1702 1
  <li><b><i>comp38.tgz</i></b>    - Contains the compiler and its 
d1704 5
a1708 5
  <li><b><i>man38.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc38.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game38.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase38.tgz</i></b>  - Contains the base install for X11
  <li><b><i>xetc38.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1710 3
a1712 3
  <li><b><i>xfont38.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv38.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare38.tgz</i></b> - Contains manpages, locale settings,
d1716 1
a1716 1
The <b>etc38.tgz</b> and <b>xetc38.tgz</b> sets are not installed as
d1734 2
a1735 2
(root)             100MB
/usr               250MB (no X) or 400MB (with X)
d1754 1
d1769 1
a1769 1
3G is not a bad size.
a1990 8
<!-- XXXVersion: issue "expires" after last 3.4 systems are upgraded. -->
The OpenBSD install and upgrade process will re-install the OpenBSD 
<a href="faq14.html#Boot386">boot loader</a>, which has its location
coded in the PBR, so if you re-install or update your OpenBSD
installation, you need to repeat the above process to fetch a new copy
of the OpenBSD PBR.

<p>
d2011 1
a2011 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.8/i386/INSTALL.linux">INSTALL.linux</a>,
d2070 1
a2070 1
Sometimes, you realize you really DID need <tt>comp38.tgz</tt> (or any
d2088 1
a2088 1
  # tar xzvpf comp38.tgz
d2224 2
a2225 2
Note that for 3.8, the default key size has been increased, so the
generation times are much longer than they used to be.
d2227 1
a2227 1
computer, place them in a <a href="#site">site38.tgz</a> file, and 
d2292 1
a2292 1
version (e.g. 38).  The <tt>siteXX.tgz</tt> file set is, like the other
a2500 41
<a name="bsdrdaout"></a>
<h2>4.16 - Upgrading/reinstalling OpenBSD/i386 using
<tt>bsd.rd-a.out</tt></h2>

It is normally possible to perform upgrades and installs using
the <a href="faq4.html#bsd.rd">bsd.rd</a> kernel.
However, with OpenBSD 3.4, the i386 platform switched executable format from
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=a.out&amp;sektion=5"
>a.out</a> to
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=elf&amp;sektion=5"
>ELF</a>,
so older
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386"
>boot
loaders</a> (OpenBSD 3.3 and before) are unable to run the new-format
<tt>bsd.rd</tt> kernel.

<p>
To circumvent this problem, and allow upgrades to be performed using
<tt>bsd.rd</tt>,
an a.out version of <tt>bsd.rd</tt> was  made available as part of the
<a href="../ftp.html">OpenBSD/i386 v3.5 FTP distribution</a>.
This file, <tt>bsd.rd-a.out</tt>,
can be booted by OpenBSD 3.3 and below,
but is a genuine OpenBSD 3.5 kernel, including the new ELF boot loader,
so can be used to bootstrap OpenBSD/i386 3.5 from an older system.

<p>
Simply download <tt>bsd.rd-a.out</tt> and place it in your machine's 
root directory.
Boot it instead of the normal <tt>bsd</tt> or <tt>bsd.rd</tt> kernels as
shown <a href="faq4.html#bsd.rd">here</a> (specifying
<tt>bsd.rd-a.out</tt> as your boot kernel, of course).

<p>
After installing a minimal 3.5 installation (<tt>base35.tgz, etc35.tgz,
bsd</tt>), download the 3.8 (or <i>-snapshot</i>) <tt>bsd.rd</tt>
file and install from that.

<p>

d2512 1
a2512 1
<small>$OpenBSD: faq4.html,v 1.219 2006/03/03 13:57:23 nick Exp $</small>
@


1.219
log
@
Revert title change.  Need to finish the planned changes before this
title change is appropriate.  Target change stays, as things will be
changing.  Beating from steven@@ (who was right, of course).
@
text
@d1531 2
d2546 1
a2546 1
<small>$OpenBSD: faq4.html,v 1.218 2006/03/02 03:50:55 nick Exp $</small>
@


1.218
log
@
Rename (and new #target) for 4.7 - "How should I partition my OpenBSD disk".
Fits content better, easier to find (hopefully).
@
text
@d59 2
a60 2
<li><a href= "#Partitioning">4.7 - How should I partition my
                                     OpenBSD disk?</a>
d1709 1
a1709 1
<h2> 4.7 - How should I partition my OpenBSD disk?</h2>
d2544 1
a2544 1
<small>$OpenBSD: faq4.html,v 1.217 2006/02/08 02:04:10 nick Exp $</small>
@


1.217
log
@
Better wording, appropriate links to previously missing topics.
Directly from Ray Lai (ray at cyth dot net), thanks!
@
text
@d59 2
a60 2
<li><a href= "#SpaceNeeded" >4.7 - How much space do I need for an
                                     OpenBSD installation?</a>
d243 1
a243 1
      <a href="#SpaceNeeded">sufficient space</a> available for the
d1002 1
a1002 1
<a href="#SpaceNeeded">this discussion</a>.
d1707 3
a1709 2
<a name= "SpaceNeeded"></a>
<h2> 4.7 - How much space do I need for an OpenBSD installation?</h2>
d2544 1
a2544 1
<small>$OpenBSD: faq4.html,v 1.216 2005/12/27 01:34:47 nick Exp $</small>
@


1.216
log
@
Do not imply upgrading by source.
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2005 by OpenBSD.">
d1043 7
a1049 3
things in the future if need be.  Need more <i>/tmp</i>?  No problem,
create a new one in the unused space, change <i>/etc/fstab</i> and
problem solved.
d2543 1
a2543 1
<small>$OpenBSD: faq4.html,v 1.215 2005/12/24 04:06:56 nick Exp $</small>
@


1.215
log
@
Another place that upgrade38.html should be linked.  Maybe even a better
place.
@
text
@d240 1
a240 1
<li>How will the system be updated and patched?
d247 1
a247 1
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release</a>
d2539 1
a2539 1
<small>$OpenBSD: faq4.html,v 1.214 2005/12/24 04:00:48 nick Exp $</small>
@


1.214
log
@
reference upgrade38.html when mentioning the upgrade process.
From comment from Karl Pinc (kop at meme.com) on misc@@
@
text
@d586 2
a587 1
After the install, you will have to manually merge the changes of
d2539 1
a2539 1
<small>$OpenBSD: faq4.html,v 1.213 2005/12/11 18:04:21 nick Exp $</small>
@


1.213
log
@
file set message changed for 3.8, and I missed that.  However, Budi Ang
(bang at dm dot co dot id) did not, thanks!
@
text
@d601 3
d2538 1
a2538 1
<small>$OpenBSD: faq4.html,v 1.212 2005/11/26 20:55:38 nick Exp $</small>
@


1.212
log
@
fileset -> file set.
@
text
@d1386 3
a1388 3
  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.
a1403 1

a1405 4
  The following sets are available. Enter a filename, 'all' to select
  all the sets, or 'done'. You may de-select a set by prepending a '-'
  to its name.

d2535 1
a2535 1
<small>$OpenBSD: faq4.html,v 1.211 2005/11/10 01:53:17 nick Exp $</small>
@


1.211
log
@
faq8#ports -> faq15, other improvements directly from Steven Mestdagh.
@
text
@d54 1
a54 1
  <li><a href="#Filesets"   >4.5.6 - Choosing filesets</a>
d1371 1
a1371 1
<h3>4.5.6 - Choosing filesets.</h3>
d1374 1
a1374 1
Now it's time to choose which filesets you will be installing. You can
d1378 1
a1378 1
default all the non-X filesets are selected; however, some people may
d1381 1
a1381 1
Others will wish to install all filesets. The example below is that of a
d1435 2
a1436 2
Once you have successfully picked which filesets you want, you will be
prompted to make sure you want to extract these filesets and they will
d1440 1
a1440 1
filesets installed, and the speed of the source media.  This part may take
d2215 1
a2215 1
install them with the rest of the filesets.
d2540 1
a2540 1
<small>$OpenBSD: faq4.html,v 1.210 2005/11/02 02:02:07 nick Exp $</small>
@


1.210
log
@
typos, wordos, etc.  Fixed by Steven Mestdagh, thanks!
@
text
@d131 4
a134 1
<li><b>Network:</b> Some platforms support booting over a network.
d439 2
a440 1
the case of the i386 platform, you can also use the <tt>cdrom38.fs</tt>
d451 2
a452 2
part of the cdrtools collection in the <a href="faq8.html#Ports">OpenBSD
Ports System</a>.
d458 1
a458 1
<h3>Booting i386</h3>
d460 2
a461 2
Booting an install image on the i386 PC platform is nothing new to most
people.
d659 3
a661 1
<a href="../i386.html">i386</a> and <a href="../macppc.html">macppc</a>,
d1027 1
a1027 1
  <a href="../ports.html">Ports tree</a> will be here as well, which
d1030 2
a1031 2
  <a href="faq8.html#Ports">ports</a> rather than pre-built
  <a href="faq8.html#Packages">packages</a>, you might want a lot
a1189 1

d1443 1
d1654 2
a1655 3
<li><a href="../ports.html">The OpenBSD Ports and Packages system for 
  installing software</a>, as well as 
<a href="faq8.html#Ports">here</a> and <a href="faq8.html#Packages">here</a>
d1730 1
a1730 1
Disk is relatively cheap now, trying to squeeze your system into 
d1745 2
a1746 1
<li>If you plan to rebuild the kernel or system from source, you will
d1749 1
a1749 1
<li>Compiling some <a href="faq8.html#Ports">ports</a> from source can
d1751 2
a1752 2
partitions. This is another reason we suggest using pre-compiled
packages instead.
d1800 1
a1800 1
  somewhat fragmented.  (Luckily, the ffs filesystem, what OpenBSD uses,
d1854 6
d2085 3
a2087 1
for package files, not generic tar files like the install sets.
d2132 1
a2132 2
<p>
<br>
d2346 1
a2346 1
<a href="faq8.html#Packages">packages</a> you want on the installed
d2415 1
a2415 1
<li><b>Floppy disk:</b>  The boot disks and CD-ROM has enough tools
d2480 2
a2481 1
<li><b>FTP:</b>  Under some circumstances, you may be able to use the
d2540 1
a2540 1
<small>$OpenBSD: faq4.html,v 1.209 2005/11/01 11:39:56 nick Exp $</small>
@


1.209
log
@
update for 3.8
@
text
@d2192 1
a2192 1
Quadra may take <i>several hours</i> complete the three
d2526 1
a2526 1
<small>$OpenBSD: faq4.html,v 1.208 2005/10/09 15:19:21 nick Exp $</small>
@


1.208
log
@
I refuse to make this blind, copy-and-paste, but maybe warning people I'm
messing with them slightly is fair...
Playing with the boot process is not trivial.
Multi-booting is not trivial.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.7 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 3.7 Installation Guide</font></h1>
d74 1
a74 3
  <li><a href="#krb4"       >4.12.5 - When I login, I get 
     "login_krb4-or-pwd: Exec format error"</a>
  <li><a href="#blankfdisk" >4.12.6 - My fdisk partition table is trashed
d117 1
a117 1
Typical file names are <tt>floppy37.fs</tt>, though several platforms
d121 1
a121 1
(<tt>cd37.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d163 1
a163 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.7/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d282 1
a282 1
<li><b><tt>floppy37.fs</tt></b> (Desktop PC) supports many
d286 1
a286 1
<li><b><tt>floppyB37.fs</tt></b> (Servers) supports many RAID controllers,
d290 1
a290 1
<li><b><tt>floppyC37.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d292 1
a292 1
<li><b><tt>cdrom37.fs</tt></b> is, in effect a combination of
d296 1
a296 1
<li><b><tt>cd37.iso</tt></b> is an ISO9660 image that can be used to
d301 1
a301 1
<li><b><tt>cdemu37.iso</tt></b> is an ISO9660 image, using
d303 3
a305 3
  <tt>cdrom37.fs</tt>.  It is hoped that few people will need this
  image -- most people will use <tt>cd37.iso</tt>, only use
  <tt>cdemu37.iso</tt> if <tt>cd37.iso</tt> doesn't work for you.
d318 2
a319 2
<li><b><tt>floppy37.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd37.iso</tt></b> An ISO image usable to make your own
d321 1
a321 1
<li><b><tt>miniroot37.fs</tt></b> Can be written to a swap partition
d361 1
a361 1
  # <b>dd if=floppy37.fs of=/dev/rfd0c bs=32k</b>
d373 1
a373 1
  # <b>cmp /dev/rfd0c floppy37.fs</b>
d383 1
a383 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.7/tools/">tools</a>
d385 1
a385 1
or from the <tt>3.7/tools</tt> directory on CD1 of the OpenBSD CD set.
d400 1
a400 1
As <tt>floppyB37.fs</tt> and <tt>floppyC37.fs</tt> have longer file names,
d411 1
a411 1
  Enter source file name: <b>floppy37.fs</b>
d419 1
a419 1
  C:\> <strong>fdimage -q floppy37.fs a:</strong>
d425 1
a425 1
  C:\> <strong>ntrw floppy37.fs a:</strong>
d435 2
a436 2
You can create a CD-ROM using either the <tt>cd37.iso</tt> file or, in
the case of the i386 platform, you can also use the <tt>cdrom37.fs</tt>
d581 1
a581 1
<tt>etc37.tgz</tt> file.
d583 1
a583 1
<tt>etc37.tgz</tt> into your system before you can expect it to be
d592 1
a592 1
For OpenBSD 3.7, upgrading 3.6 to 3.7 is the only supported upgrade.
d612 1
a612 1
  Welcome to the OpenBSD/i386 3.7 install program.
d622 1
a622 1
  Do you wish to select a keyboard encoding table? [no] <b><i>Enter</i></b>
d721 2
a722 2
Users with a large hard disk (larger than 8G on a newer i386, though on
older machines and different platforms, often much smaller) will want to
d847 2
a848 1
disk, in this case, starting on sector <tt>63</tt>.
d1018 1
a1018 1
<li><i><b>wd0g: /usr</b></i> - 2G.  We want this partition to be large
d1022 1
a1022 1
  will take almost 100M of this space before ports are built.
d1061 1
a1061 1
  size: [36030960] <b>150M</b>
d1067 1
a1067 1
  size: [35723520] <b>300M</b>
d1084 2
a1085 2
  size: [34698384] <b>2g</b>
  Rounding to nearest cylinder: 4194288
d1089 2
a1090 2
  offset: [8596224] <b><i>Enter</i></b>
  size: [30504096] <b>4g</b>
d1147 5
a1151 7
  The root filesystem will be mounted on wd0a.
  wd0b will be used for swap space.
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b><i>Enter</i></b>
  Mount point for wd0e (size=82152k), none or done? [/var] <b><i>Enter</i></b>
  Mount point for wd0g (size=2097144k), none or done? [/usr] <b><i>Enter</i></b>
  Mount point for wd0h (size=4194288k), none or done? [/home] <b><i>Enter</i></b>
  Mount point for wd0d (size=122976k), none or done? [/tmp] <b>done</b>
d1169 2
a1170 2
  /dev/rwd0g:     4194288 sectors in 4161 cylinders of 16 tracks, 63 sectors
          2048.0MB in 13 cyl groups (328 c/g, 161.44MB/g, 20608 i/g)
d1173 1
a1173 1
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Mon May  9 22:47:18 2
d1175 9
a1183 8
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid, ctime=M
  on May  9 22:47:18 2005)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Mo
  n May  9 22:47:18 2005)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Mon May  9
   22:47:18 2005)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, ctime=Mo
  n May  9 22:47:18 2005)
d1203 1
a1203 1
into a shell and could start the install again by typing install, or
d1254 2
a1255 1
  Done - no available interfaces found.
d1330 1
a1330 3
to make manual adjustments to the configuration. Then the filesystems you
created will be mounted and a root password set. This will get your
local disks ready for the OpenBSD filesets to be installed upon them.
d1338 2
a1339 8
  You will now specify the location and names of the install sets you want to
  load. You will be able to repeat this step until all of your sets have been
  successfully loaded. If you are not sure what sets to install, refer to the
  installation notes for details on the contents of each.
 
  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets? <b>c</b>
d1350 3
a1352 6
<b>NOTE: </b>All possible sources for install sets are listed, but not
all may be available on your system. e.g. "<tt>(n)fs</tt>" is shown but
not all
architectures allow NFS installations. If you choose a source that is
not available, you will get an error message and be given the chance
to choose another source for your installation sets.
d1358 1
a1358 1
  Pathname to the sets?  (or 'done') [3.7/i386] <b><i>Enter</i></b>
d1363 1
a1363 1
which is <tt>3.7/i386/</tt> on the official CD-ROM.  
d1375 1
a1375 1
would be <tt>base37.tgz</tt>, <tt>etc37.tgz</tt> and <tt>bsd</tt>.
d1388 11
a1398 11
          [X] base37.tgz
          [X] etc37.tgz
          [X] misc37.tgz
          [X] comp37.tgz
          [X] man37.tgz
          [X] game37.tgz
          [ ] xbase37.tgz
          [ ] xetc37.tgz
          [ ] xshare37.tgz
          [ ] xfont37.tgz
          [ ] xserv37.tgz
d1409 11
a1419 11
          [X] base37.tgz
          [X] etc37.tgz
          [X] misc37.tgz
          [X] comp37.tgz
          [X] man37.tgz
          [X] game37.tgz
          [X] xbase37.tgz
          [X] xetc37.tgz
          [X] xshare37.tgz
          [X] xfont37.tgz
          [X] xserv37.tgz
d1442 1
a1442 1
  100% |**************************************************|  5030 KB    00:08
d1444 1
a1444 1
  100% |**************************************************|  4478 KB    00:02
d1446 6
a1451 6
  100% |**************************************************|  5072 KB    00:03
  Getting base37.tgz ...
  100% |**************************************************| 34337 KB    00:24
  Getting etc37.tgz ...
  100% |**************************************************|  1636 KB    00:01
  Getting misc37.tgz ...
d1453 17
a1469 20
  Getting comp37.tgz ...
  100% |**************************************************| 21606 KB    00:17
  Getting man37.tgz ...
  100% |**************************************************|  7199 KB    00:05
  Getting game37.tgz ...
  100% |**************************************************|  2539 KB    00:01
  Getting xbase37.tgz ...
  100% |**************************************************| 10526 KB    00:08
  Getting xetc37.tgz ...
  100% |**************************************************| 96303       00:00
  Getting xshare37.tgz ...
  100% |**************************************************|  1981 KB    00:02
  Getting xfont37.tgz ...
  100% |**************************************************| 32412 KB    00:23
  Getting xserv37.tgz ...
  100% |**************************************************| 18322 KB    00:14

  Sets can be located on a (m)ounted filesystem; a (c)drom, (d)isk or (t)ape
  device; or a (f)tp, (n)fs or (h)ttp server.
  Where are the install sets? (or 'done') [done] <b><i>Enter</i></b>
d1496 4
a1505 5
However, if your network is not properly configured, it may
significantly slow your system's first boot, you can reactivate it
later, by altering the <a href="faq10.html#rc">startup scripts</a>.
However, as we properly configured our network earlier, we'll turn this
on.
d1513 4
d1577 1
d1674 1
a1674 1
  <li><b><i>base37.tgz</i></b>   - Contains the base OpenBSD system 
d1676 1
a1676 1
  <li><b><i>etc37.tgz</i></b>    - Contains all the files in /etc 
d1678 1
a1678 1
  <li><b><i>comp37.tgz</i></b>    - Contains the compiler and its 
d1680 5
a1684 5
  <li><b><i>man37.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc37.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game37.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase37.tgz</i></b>  - Contains the base install for X11
  <li><b><i>xetc37.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1686 3
a1688 3
  <li><b><i>xfont37.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv37.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare37.tgz</i></b> - Contains manpages, locale settings,
d1692 1
a1692 1
The <b>etc37.tgz</b> and <b>xetc37.tgz</b> sets are not installed as
d1730 2
a1731 2
make your <tt>/usr</tt> partition large!  <b>At least</b> triple these
values!
d1741 2
a1742 2
want to make the <tt>/usr</tt> partition significantly larger, <b>at
least</b> 2G larger than indicated above.
d1745 1
a1745 1
partitions, this is another reason we suggest using pre-compiled
d1787 2
a1788 2
  'noexec', 'readonly', etc.  This is now done by the install process,
  in fact, if you use the above described partitions.
d1807 1
a1807 1
  machine!) can handle more (or less!) than that.
d1986 1
a1986 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.7/i386/INSTALL.linux">INSTALL.linux</a>,
d2045 1
a2045 1
Sometimes, you realize you really DID need <tt>comp37.tgz</tt> (or any
d2063 1
a2063 1
  # tar xzvpf comp37.tgz
d2107 1
a2107 1
  &gt;&gt; OpenBSD/i386 BOOT 2.02
d2161 1
a2161 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">here</a>
d2192 1
a2192 1
Quadra may take 45 minutes or more to complete the three
d2194 10
a2203 2
steps, some machines will take even longer.  Just let it finish; it is
only done once per install.
a2234 23
<a name="krb4"></a>
<h3>4.12.5 - When I login, I get "login_krb4-or-pwd: Exec format error"</h3>
Kerberos IV has been removed from OpenBSD 3.4, but if you did an
upgrade, the old Kerberos IV binaries still will be on your system.
This is a problem on the i386 platform, as the old Kerberos files are in
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=a.out&amp;sektion=5">a.out</a>,
format and thus unable to run on the standard ELF kernel (which has
a.out emulations disabled, as mentioned
<a href="faq1.html#WhatsNew">here</a>).
If you have encountered this problem, you need to override the krb4
authentication method when you log in:
<pre>
    OpenBSD/i386 (puffy.openbsd.org) (ttyC0)

    login: joeuser:passwd
    password:
</pre>
You can use the same "<tt><i>username</i>:passwd</tt>" syntax with an
ssh connection and with
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a>
to access your system.
Now edit <tt>/etc/login.conf</tt>, and remove the krb4 references.

d2236 1
a2236 1
<h3>4.12.6 - My fdisk partition table is trashed or blank!</h3>
d2266 1
a2266 1
version (e.g. 37).  The <tt>siteXX.tgz</tt> file set is, like the other
d2337 3
d2510 1
a2510 1
bsd</tt>), download the 3.7 (or <i>-snapshot</i>) <tt>bsd.rd</tt>
d2526 1
a2526 1
<small>$OpenBSD: faq4.html,v 1.207 2005/06/27 10:53:52 nick Exp $</small>
@


1.207
log
@
Ooops.  one CAN install packages from within a install.site/upgrade.site
script.  Pointed out by Navan Carson (navan at netlinkers dot net), thanks
@
text
@d1931 2
a1932 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&amp;sektion=1">dd(1)</a>:
d1938 5
d2549 1
a2549 1
<small>$OpenBSD: faq4.html,v 1.206 2005/05/24 01:15:46 nick Exp $</small>
@


1.206
log
@
HTML validation, from (rfilter at telus dot net)
@
text
@d2352 1
a2352 1
<!-- XXXversion li> Remove/upgrade/install the
d2354 1
a2354 1
system. -->
a2358 4
Unfortunately, it is not possible to use
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1">pkg_add(1)</a>
from within this environment.

d2543 1
a2543 1
<small>$OpenBSD: faq4.html,v 1.205 2005/05/21 04:30:27 saad Exp $</small>
@


1.205
log
@dead link to cdrecord, cure it. also, update a link to a Microsoft KB
article (wasn't wrong but spare a redirect and make it more friendly to
linkchecker)
@
text
@d1755 1
a1755 1
take huge amounts of space on your <tt>/usr</tt> and </tt>/tmp</tt>
d2547 1
a2547 1
<small>$OpenBSD: faq4.html,v 1.204 2005/05/19 16:54:27 nick Exp $</small>
@


1.204
log
@
Welcome 3.7!
@
text
@d448 1
a448 1
<li><a href="http://www.fokus.gmd.de/research/cc/glone/employees/joerg.schilling/private/cdrecord.html">cdrecord</a>,
d1953 1
a1953 2
<a href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q289022">XP 
Boot.ini HOWTO</a>.
d2547 1
a2547 1
<small>$OpenBSD: faq4.html,v 1.203 2005/05/14 20:49:12 nick Exp $</small>
@


1.203
log
@
Steven Mestdagh pointed out that I messed this part up.  'p m' reports MB...
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.6 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 3.6 Installation Guide</font></h1>
d119 1
a119 1
Typical file names are <tt>floppy36.fs</tt>, though several platforms
d123 1
a123 1
(<tt>cd36.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d165 1
a165 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.6/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d284 1
a284 1
<li><b><tt>floppy36.fs</tt></b> (Desktop PC) supports many
d288 1
a288 1
<li><b><tt>floppyB36.fs</tt></b> (Servers) supports many RAID controllers,
d292 1
a292 1
<li><b><tt>floppyC36.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d294 1
a294 1
<li><b><tt>cdrom36.fs</tt></b> is, in effect a combination of
d298 1
a298 1
<li><b><tt>cd36.iso</tt></b> is an ISO9660 image that can be used to
d303 1
a303 1
<li><b><tt>cdemu36.iso</tt></b> is an ISO9660 image, using
d305 3
a307 3
  <tt>cdrom36.fs</tt>.  It is hoped that few people will need this
  image -- most people will use <tt>cd36.iso</tt>, only use
  <tt>cdemu36.iso</tt> if <tt>cd36.iso</tt> doesn't work for you.
d320 2
a321 2
<li><b><tt>floppy36.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd36.iso</tt></b> An ISO image usable to make your own
d323 1
a323 1
<li><b><tt>miniroot36.fs</tt></b> Can be written to a swap partition
d363 1
a363 1
  # <b>dd if=floppy36.fs of=/dev/rfd0c bs=32k</b>
d375 1
a375 1
  # <b>cmp /dev/rfd0c floppy36.fs</b>
d385 1
a385 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.6/tools/">tools</a>
d387 1
a387 1
or from the <tt>3.6/tools</tt> directory on CD1 of the OpenBSD CD set.
d402 1
a402 1
As <tt>floppyB36.fs</tt> and <tt>floppyC36.fs</tt> have longer file names,
d413 1
a413 1
  Enter source file name: <b>floppy36.fs</b>
d421 1
a421 1
  C:\> <strong>fdimage -q floppy36.fs a:</strong>
d427 1
a427 1
  C:\> <strong>ntrw floppy36.fs a:</strong>
d437 2
a438 2
You can create a CD-ROM using either the <tt>cd36.iso</tt> file or, in
the case of the i386 platform, you can also use the <tt>cdrom36.fs</tt>
d583 1
a583 1
<tt>etc36.tgz</tt> file.
d585 1
a585 1
<tt>etc36.tgz</tt> into your system before you can expect it to be
d594 1
a594 1
For OpenBSD 3.6, upgrading 3.5 to 3.6 is the only supported upgrade.
d614 1
a614 1
  Welcome to the OpenBSD/i386 3.6 install program.
d1370 1
a1370 2

  Pathname to the sets?  (or 'done') [3.6/i386] <b><i>Enter</i></b>
d1375 1
a1375 1
which is <tt>3.6/i386/</tt> on the official CD-ROM.  
d1387 1
a1387 1
would be <tt>base36.tgz</tt>, <tt>etc36.tgz</tt> and <tt>bsd</tt>.
d1400 11
a1410 11
          [X] base36.tgz
          [X] etc36.tgz
          [X] misc36.tgz
          [X] comp36.tgz
          [X] man36.tgz
          [X] game36.tgz
          [ ] xbase36.tgz
          [ ] xetc36.tgz
          [ ] xshare36.tgz
          [ ] xfont36.tgz
          [ ] xserv36.tgz
d1421 11
a1431 11
          [X] base36.tgz
          [X] etc36.tgz
          [X] misc36.tgz
          [X] comp36.tgz
          [X] man36.tgz
          [X] game36.tgz
          [X] xbase36.tgz
          [X] xetc36.tgz
          [X] xshare36.tgz
          [X] xfont36.tgz
          [X] xserv36.tgz
d1459 1
a1459 1
  Getting base36.tgz ...
d1461 1
a1461 1
  Getting etc36.tgz ...
d1463 1
a1463 1
  Getting misc36.tgz ...
d1465 1
a1465 1
  Getting comp36.tgz ...
d1467 1
a1467 1
  Getting man36.tgz ...
d1469 1
a1469 1
  Getting game36.tgz ...
d1471 1
a1471 1
  Getting xbase36.tgz ...
d1473 1
a1473 1
  Getting xetc36.tgz ...
d1475 1
a1475 1
  Getting xshare36.tgz ...
d1477 1
a1477 1
  Getting xfont36.tgz ...
d1479 1
a1479 1
  Getting xserv36.tgz ...
d1685 1
a1685 1
  <li><b><i>base36.tgz</i></b>   - Contains the base OpenBSD system 
d1687 1
a1687 1
  <li><b><i>etc36.tgz</i></b>    - Contains all the files in /etc 
d1689 1
a1689 1
  <li><b><i>comp36.tgz</i></b>    - Contains the compiler and its 
d1691 5
a1695 5
  <li><b><i>man36.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc36.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game36.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase36.tgz</i></b>  - Contains the base install for X11
  <li><b><i>xetc36.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
d1697 3
a1699 3
  <li><b><i>xfont36.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv36.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare36.tgz</i></b> - Contains manpages, locale settings,
d1703 1
a1703 1
The <b>etc36.tgz</b> and <b>xetc36.tgz</b> sets are not installed as
d1992 1
a1992 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.6/i386/INSTALL.linux">INSTALL.linux</a>,
d2051 1
a2051 1
Sometimes, you realize you really DID need <tt>comp36.tgz</tt> (or any
d2069 1
a2069 1
  # tar xzvpf comp36.tgz
d2287 1
a2287 1
version (e.g. 36).  The <tt>siteXX.tgz</tt> file set is, like the other
d2532 1
a2532 1
bsd</tt>), download the 3.6 (or <i>-snapshot</i>) <tt>bsd.rd</tt>
d2548 1
a2548 1
<small>$OpenBSD: faq4.html,v 1.202 2005/05/14 12:12:58 nick Exp $</small>
@


1.202
log
@
Gah.  Another forgotten chunk. 8-/
@
text
@d1056 3
a1058 3
    a:      36030960       3069360  unused      0     0      
    c:      39102336             0  unused      0     0      
    i:       3069297            63   MSDOS                   
d2549 1
a2549 1
<small>$OpenBSD: faq4.html,v 1.201 2005/05/14 12:09:36 nick Exp $</small>
@


1.201
log
@
Forgot a piece...
@
text
@d1055 4
a1058 4
  #        size   offset    fstype   [fsize bsize   cpg]
    a: 17593.2M  1498.7M    unused        0     0
    c: 19092.9M     0.0M    unused        0     0
    i:  1498.7M     0.0M     MSDOS
d2549 1
a2549 1
<small>$OpenBSD: faq4.html,v 1.200 2005/05/14 11:43:27 nick Exp $</small>
@


1.200
log
@
plural problem, spotted by Alexandre Anriot, thanks!
@
text
@d1110 9
a1118 9
  #        size   offset    fstype   [fsize bsize   cpg]
    a:   150.1M  1498.7M    4.2BSD     1024  8192    16  # /
    b:   300.2M  1648.8M      swap
    c: 19092.9M     0.0M    unused        0     0
    d:   120.1M  1949.1M    4.2BSD     1024  8192    16  # /tmp
    e:    80.2M  2069.2M    4.2BSD     1024  8192    16  # /var
    g:  2048.0M  2149.4M    4.2BSD     1024  8192    16  # /usr
    h:  4096.0M  4197.4M    4.2BSD     1024  8192    16  # /home
    i:  1498.7M     0.0M     MSDOS
d2549 1
a2549 1
<small>$OpenBSD: faq4.html,v 1.199 2005/05/13 23:49:38 nick Exp $</small>
@


1.199
log
@
Every time I update this file for new release, I see things I want to
change, which makes the translators job more difficult and bigger.  This
is the stuff I changed because I wanted to, not 3.7-release stuff (ok,
I'm giving away file sizes for 3.7... :)
@
text
@d1776 1
a1776 1
<li>Swap and <tt>/var</tt> space is used to store system core dumps
d2549 1
a2549 1
<small>$OpenBSD: faq4.html,v 1.198 2005/05/10 22:41:22 nick Exp $</small>
@


1.198
log
@
Typo, from Tobias Stoeckmann, thanks!
@
text
@d162 1
a162 1
<li><a href="../mac68k.html"><b>mac68k:</b></a> Installed (and booted)
d183 1
a183 1
All platforms other than mac68k can also use a
d741 1
a741 1
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
d756 1
d829 1
a829 1
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
d839 1
a839 1
  *0: 06    0   1  1 -  202 239 63 [          63:        1499M] DOS > 32MB
d878 1
a878 1
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
d915 1
a915 1
   0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
d1155 1
a1155 1
  Done - no available disks found.
d1157 1
a1157 2
  You have configured the following partitions and mount points:

d1164 1
a1164 1
  The next step creates a filesystem on each partition, ERASING existing data.
d1167 1
a1167 1
          150.1MB in 20 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
d1169 1
a1169 1
          120.1MB in 16 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
d1171 1
a1171 1
          80.2MB in 11 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
d1173 1
a1173 1
          2048.0MB in 261 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
d1175 12
a1186 11
          4096.0MB in 521 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
  /dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Thu Oct 10 21:
  50:36 2004)
  /dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, nodev, nosuid,
   ctime=Thu Oct 10 21:50:36 2004)
  /dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Thu Oct 10 21:50:36 2004)
  /dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, nodev, ctime=Th
  u Oct 10 21:50:36 2004)
  /dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, nodev, nosuid, 
  ctime=Th u Oct 10 21:50:36 2004)
d1436 1
a1436 1
You can do all kinds of nifty things here -- <tt>-x*</tt> would remove
d1455 1
a1455 1
  100% |**************************************************|  5232 KB    00:08    
d1457 1
a1457 1
  100% |**************************************************|  4614 KB    00:02    
d1459 1
a1459 1
  100% |**************************************************|  5285 KB    00:03    
d1461 1
a1461 1
  100% |**************************************************| 31396 KB    00:22    
d1463 1
a1463 1
  100% |**************************************************|  1655 KB    00:01    
d1465 1
a1465 1
  100% |**************************************************|  2193 KB    00:01    
d1467 1
a1467 1
  100% |**************************************************| 18232 KB    00:15    
d1469 1
a1469 1
  100% |**************************************************|  6792 KB    00:05    
d1471 1
a1471 1
  100% |**************************************************|  2536 KB    00:01    
d1473 1
a1473 1
  100% |**************************************************| 10121 KB    00:07    
d1475 1
a1475 1
  100% |**************************************************|   430 KB    00:00    
d1477 1
a1477 1
  100% |**************************************************|  1888 KB    00:02    
d1479 1
a1479 1
  100% |**************************************************| 31742 KB    00:22    
d1481 1
a1481 1
  100% |**************************************************| 15460 KB    00:11    
d1508 1
a1508 1
  Started sshd(8) by default? [yes] <b>y</b>
d1512 18
d1569 1
a1569 1
  What timezone are you in? ('?' for list) [US/Pacific] <b>?</b>
d1581 1
a1581 1
  What timezone are you in? ('?' for list) [US/Pacific] <b>US</b>
d1716 16
a1731 3
The following are minimum suggested filesystem sizes for a full system
install.  The numbers include enough extra space to permit you to run a
typical home system that is connected to the Internet.
d1733 2
d1736 5
a1740 1
<li>These are minimum values.  
d1749 2
a1750 1
still want to make your <tt>/var</tt> partition significantly larger
d1754 6
a1759 28
least</b> 2G larger than indicated below.
</ul>

As you read this, keep in mind that <tt>/usr</tt> and
<tt>/usr/X11R6</tt> are usually both parts of the same filesystem, that
is, <tt>/usr</tt>, as there is no big advantage to making them into
separate filesystems.

<blockquote>
<pre>
<b>
SYSTEM          /       /usr    /var    /usr/X11R6
alpha           80M     250M    25M     140M
hp300           80M     250M    25M     140M
hppa           100M     200M    25M     120M
i386            60M     250M    25M     140M
mac68k          80M     250M    25M     100M
macppc          80M     250M    25M     140M
mvme68k         80M     250M    25M     100M
sparc           80M     250M    25M     120M
sparc64         80M     250M    25M     100M
vax            100M     200M    25M     120M
</b>
</pre>
</blockquote>

In addition, it is recommended that a <tt>/tmp</tt> partition be used.
The <tt>/tmp</tt> partition is used in the compiling of ports, among
d1764 1
a1764 7
<p>
When you are in the disklabel editor, you may choose to make your entire
system have just an 'a' (main filesystem) and 'b' (swap) .  The 'a'
filesystem which you set up in disklabel will become your root
partition, which should be the sum of all the 3 main values above
(<tt>/</tt>, <tt>/usr</tt>, and <tt>/var</tt>) plus some space for
<tt>/tmp</tt>.  The 'b' partition you set up automatically becomes your
d1768 10
a1777 3

<p>
Swap space is used to store system core dumps on in the event of a
d1781 2
a1782 1
system.  Note that upon reboot, 
d1788 4
d1830 2
d2549 1
a2549 1
<small>$OpenBSD: faq4.html,v 1.197 2005/02/26 19:06:21 nick Exp $</small>
@


1.197
log
@
add note about possibly doing a chroot after install for some pre-first
boot configuration.
@
text
@d2312 1
a2312 1
mounted on <tt>/mnt</tt>.  However, your script can be written as if it
d2524 1
a2524 1
<small>$OpenBSD: faq4.html,v 1.196 2005/02/12 19:08:41 nick Exp $</small>
@


1.196
log
@
typos, wordos, linkos and other errors spotted by Steven Mestdagh (steven
dot mestdagh at esat dot kuleuven dot ac dot be), thanks!
@
text
@d1616 11
d2524 1
a2524 1
<small>$OpenBSD: faq4.html,v 1.195 2005/02/09 20:23:51 nick Exp $</small>
@


1.195
log
@
change links that used to point to upgrade-minifaq.html
@
text
@d304 1
a304 1
  "floppy emulation" booting, using the the 2.88M image,
d1208 1
a1208 1
At this point all filesystems will formatted for you.  This could take
d1447 1
a1447 1
filesets installed, and the speed of the source media.  This part may
d2148 1
a2148 1
Note: the "update" option within the interactive mode ("-e") mode of
d2331 1
a2331 1
<tt>install.site/upgrade.site</tt> files is intended to give the user
d2513 1
a2513 1
<small>$OpenBSD: faq4.html,v 1.194 2005/01/03 04:58:46 nick Exp $</small>
@


1.194
log
@
correction and suggested improvements from James Herbert (lists at
artyzan dot net).  Makes it a bit more clear that cd36.iso is usually
your best bet, rather than the first floppy.  While I'm at it, nuke
those pesky tabs that have been irritating me for years...
@
text
@d1806 1
a1806 1
   href="upgrade-minifaq.html#1.5">upgrade-minifaq</a> for an example
d2173 2
a2174 2
<a href="upgrade-minifaq.html#1.1">snapshot</a> during the <i>-beta</i>
stage of the <a href="faq5.html#Flavors">OpenBSD development cycle</a>,
d2513 1
a2513 1
<small>$OpenBSD: faq4.html,v 1.193 2004/11/30 17:03:44 nick Exp $</small>
@


1.193
log
@
heh.  building a system in 800M disk space?  Not anymore!
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2004 by OpenBSD.">
d280 1
a280 1
The <a href="../i386.html">i386</a> platform has five separate
d285 3
a287 2
	PCI and ISA NICs, IDE and simple SCSI adapters and some PCMCIA
	support.  <i>Most</i> users will use this image.
d289 3
a291 3
	and some of the less common SCSI adapters.  However,
	support for many standard SCSI adapters and many EISA and ISA
	NICS has been removed.
d293 1
a293 1
	devices found in many laptops.
d295 3
a297 3
	all three boot disks. It can be used to make a bootable 2.88M
	floppy, or more commonly,  as a boot image for a custom
	recordable CD.
d299 4
a302 2
	create a bootable CD with most popular CD-ROM creation software
	on most platforms.
d304 4
a307 5
        "floppy emulation" booting, using the the 2.88M image,
        <tt>cdrom36.fs</tt>.
        It is hoped that few people will need this image -- most people
        will use <tt>cd36.iso</tt>, only use <tt>cdemu36.iso</tt> if
        <tt>cd36.iso</tt> doesn't work for you.
d2513 1
a2513 1
<small>$OpenBSD: faq4.html,v 1.192 2004/11/10 01:24:12 nick Exp $</small>
@


1.192
log
@
Typo, plus bsd.rd-a.out is not part of 3.6, so one has to do an
intermediate 3.5 install (at least until some decisions get made *poke*).
Issue pointed out by Peter Doczy (peter dot doczy at mars dot
elte dot hu), thanks!
@
text
@d1702 1
a1702 1
least</b> 800M-1G larger than indicated below.
d2511 1
a2511 1
<small>$OpenBSD: faq4.html,v 1.191 2004/11/09 11:00:03 saad Exp $</small>
@


1.191
log
@- typos spotted by christophe_dot_plasschaert_at_wanadoo_dot_fr. thanks!
@
text
@d776 1
a776 1
<li><b><tt>u</tt></b> or <b><tt>update:</tt></b>: Updates the MBR with
d2479 2
a2480 2
an a.out version of <tt>bsd.rd</tt> has been made available on the
<a href="../ftp.html">FTP distribution</a>.
d2483 2
a2484 2
but is a genuine OpenBSD 3.6 kernel, including the new ELF boot loader,
so can be used to bootstrap OpenBSD/i386 3.6 from an older system.
d2494 3
a2496 4
If you wish to install <i>-current</i>, it is recommended you first
install a minimal 3.6-release system (<tt>base36.tgz, etc36.tgz,
bsd</tt>), then reinstall using the <i>-snapshot</i> <tt>bsd.rd</tt>
file.
d2511 1
a2511 1
<small>$OpenBSD: faq4.html,v 1.190 2004/11/06 23:11:26 nick Exp $</small>
@


1.190
log
@
can't really do pkg_add from install.site or upgrade.site. :(
Brought to my attention by espie@@
@
text
@d2484 1
a2484 1
so can be used to bootstrap OpenBSD/i386 3.5 from an older system.
d2495 1
a2495 1
install a minimal 3.5-release system (<tt>base36.tgz, etc36.tgz,
d2512 1
a2512 1
<small>$OpenBSD: faq4.html,v 1.189 2004/10/29 17:26:01 nick Exp $</small>
@


1.189
log
@
Updates for 3.6
@
text
@d2312 1
a2312 1
The scripts can be used to do anything possible in a script.
d2316 1
a2316 1
<li> Remove/upgrade/install the
d2318 1
a2318 1
system.
d2323 5
d2512 1
a2512 1
<small>$OpenBSD: faq4.html,v 1.188 2004/10/20 23:04:26 nick Exp $</small>
@


1.188
log
@
make "OpenBSD" logo on top of page a "click back" to the OpenBSD home page.
(about time!)
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.5 Installation Guide</title>
d29 1
a29 1
<h1><font color="#e00000">4 - OpenBSD 3.5 Installation Guide</font></h1>
d119 1
a119 1
Typical file names are <tt>floppy35.fs</tt>, though several platforms
d123 1
a123 1
(<tt>cd35.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d165 1
a165 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.5/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d284 1
a284 1
<li><b><tt>floppy35.fs</tt></b> (Desktop PC) supports many
d287 1
a287 1
<li><b><tt>floppyB35.fs</tt></b> (Servers) supports many RAID controllers,
d291 1
a291 1
<li><b><tt>floppyC35.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d293 1
a293 1
<li><b><tt>cdrom35.fs</tt></b> is, in effect a combination of
d297 1
a297 1
<li><b><tt>cd35.iso</tt></b> is an ISO9660 image that can be used to
d300 6
a305 1
        This is <tt>cdrom35.fs</tt> in a "ready-to-record" format.
d318 2
a319 2
<li><b><tt>floppy35.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd35.iso</tt></b> An ISO image usable to make your own
d321 1
a321 1
<li><b><tt>miniroot35.fs</tt></b> Can be written to a swap partition
d361 1
a361 1
  # <b>dd if=floppy35.fs of=/dev/rfd0c bs=32k</b>
d373 1
a373 1
  # <b>cmp /dev/rfd0c floppy35.fs</b>
d383 1
a383 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.5/tools/">tools</a>
d385 1
a385 1
or from the <tt>3.5/tools</tt> directory on CD1 of the OpenBSD CD set.
d400 1
a400 1
As <tt>floppyB35.fs</tt> and <tt>floppyC35.fs</tt> have longer file names,
d411 1
a411 1
  Enter source file name: <b>floppy35.fs</b>
d419 1
a419 1
  C:\> <strong>fdimage -q floppy35.fs a:</strong>
d425 1
a425 1
  C:\> <strong>ntrw floppy35.fs a:</strong>
d435 2
a436 2
You can create a CD-ROM using either the <tt>cd35.iso</tt> file or, in
the case of the i386 platform, you can also use the <tt>cdrom35.fs</tt>
d581 1
a581 1
<tt>etc35.tgz</tt> file.
d583 1
a583 1
<tt>etc35.tgz</tt> into your system before you can expect it to be
d592 1
a592 1
For OpenBSD 3.5, upgrading 3.4 to 3.5 is the only supported upgrade.
d612 1
a612 1
  Welcome to the OpenBSD/i386 3.5 install program.
d687 2
a688 3
swap space resides.  Usually, this will be the default -- if it isn't, you
will need to know how to force your computer to boot from a non-standard
disk.  IDE disks will show up as <tt>wd0</tt>, <tt>wd1</tt>, etc., SCSI disks and
d775 4
a778 1
active partition, the one that will be booted from
d935 1
a935 3
          p [unit]  - print label.
          M         - show entire OpenBSD man page for disklabel.
          e         - edit drive parameters.
d939 1
d941 3
a943 2
          D         - set label to default.
          g [d|b]   - Use [d]isk or [b]ios geometry.
d946 2
d949 1
a950 1
          s [path]  - save label to file.
d952 1
a952 1
          q         - quit and save changes.
a953 1
          X         - toggle expert mode.
a954 1
          ? [cmnd]  - this message or command specific help.
d958 1
d1017 2
a1018 2
  enough to load quite a few user applications, plus be able to update
  and rebuild the system if desired or needed.  The 
d1021 4
d1175 1
a1175 1
  50:36 2 002)
d1177 1
a1177 1
   ctime=Thu Oct 10 21:50:36 2002)
d1179 1
a1179 1
  ctime=Thu Oct 10 21:50:36 2002)
d1181 1
a1181 1
  u Oct 10 21:50:36 2002)
d1183 1
a1183 1
  ctime=Th u Oct 10 21:50:36 2002)
a1282 3
  Internet Software Consortium DHCP Client 2.0pl5-OpenBSD
  Listening on BPF/fxp0/00:08:c7:77:b4:6b
  Sending on   BPF/fxp0/00:08:c7:77:b4:6b
a1295 1
  add net default: gateway 199.185.137.128
d1357 2
a1358 1
all may be available on your system. e.g. (n)fs is shown but not all
d1368 1
a1368 1
  Pathname to the sets?  (or 'done') [3.5/i386] <b><i>Enter</i></b>
d1373 1
a1373 1
which is <tt>3.5/i386/</tt> on the official CD-ROM.  
d1385 1
a1385 1
would be <tt>base35.tgz</tt>, <tt>etc35.tgz</tt> and <tt>bsd</tt>.
d1396 13
a1408 11
          [ ] bsd.rd
          [X] base35.tgz
          [X] etc35.tgz
          [X] misc35.tgz
          [X] comp35.tgz
          [X] man35.tgz
          [X] game35.tgz
          [ ] xbase35.tgz
          [ ] xshare35.tgz
          [ ] xfont35.tgz
          [ ] xserv35.tgz
d1410 1
a1410 1
  File Name? (or 'done') [bsd.rd] <b>all</b>
d1418 12
a1429 10
          [X] base35.tgz
          [X] etc35.tgz
          [X] misc35.tgz
          [X] comp35.tgz
          [X] man35.tgz
          [X] game35.tgz
          [X] xbase35.tgz
          [X] xshare35.tgz
          [X] xfont35.tgz
          [X] xserv35.tgz
d1452 1
a1452 1
  100% |**************************************************|  4735 KB    00:03
d1454 25
a1478 21
  100% |**************************************************|  4275 KB    00:02
  Getting base35.tgz ...
  100% |**************************************************| 30267 KB    00:21
  Getting etc35.tgz ...
  100% |**************************************************|  1545 KB    00:01
  Getting misc35.tgz ...
  100% |**************************************************|  1909 KB    00:01
  Getting comp35.tgz ...
  100% |**************************************************| 17074 KB    00:13
  Getting man35.tgz ...
  100% |**************************************************|  6139 KB    00:04
  Getting game35.tgz ...
  100% |**************************************************|  2534 KB    00:01
  Getting xbase35.tgz ...
  100% |**************************************************| 10940 KB    00:06
  Getting xshare35.tgz ...
  100% |**************************************************|  1656 KB    00:02
  Getting xfont35.tgz ...
  100% |**************************************************| 31160 KB    00:21
  Getting xserv35.tgz ...
  100% |**************************************************| 15228 KB    00:11
d1482 1
a1482 1
  Where are the install sets? (or 'done')
d1494 1
a1494 1
Next, you get asked a couple of questions about settings for your
d1505 1
a1505 1
  Do you wish sshd(8) to be started by default? [yes] <b>y</b>
d1521 16
d1587 2
a1588 8
  room for 12 filesystem blocks at 0x16f
  Will load 7 blocks of size 8192 each.
  Using disk geometry of 63 sectors and 240 heads.
   0:  9 @@(203 150 55) (3078864-3078872)
   1: 63 @@(203 151 1) (3078873-3078935)
   2: 24 @@(203 152 1) (3078936-3078959)
   3: 16 @@(203 8 47) (3069910-3069925)
  /mnt/boot: 4 entries total
d1590 1
a1590 1
  ...done.
d1652 1
a1652 1
     platforms, <i>-current</i> only)
d1654 1
a1654 1
  <li><b><i>base35.tgz</i></b>   - Contains the base OpenBSD system 
d1656 1
a1656 1
  <li><b><i>etc35.tgz</i></b>    - Contains all the files in /etc 
d1658 1
a1658 1
  <li><b><i>comp35.tgz</i></b>    - Contains the compiler and its 
d1660 9
a1668 9
  <li><b><i>man35.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc35.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game35.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase35.tgz</i></b>  - Contains the base install for X11
  <li><b><i>xetc35.tgz</i></b>   - Contains the /etc/X11 and /etc/fonts
    configuration files (<i>-current</i> only)
  <li><b><i>xfont35.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv35.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare35.tgz</i></b> - Contains manpages, locale settings,
d1672 1
a1672 1
The <b>etc35.tgz</b> and <b>xetc35.tgz</b> sets are not installed as
d1758 1
a1758 1
There are five main reasons for using separate filesystems, instead of
d1955 1
a1955 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.5/i386/INSTALL.linux">INSTALL.linux</a>,
d2014 1
a2014 1
Sometimes, you realize you really DID need <tt>comp35.tgz</tt> (or any
d2032 1
a2032 1
  # tar xzvpf comp35.tgz
d2250 1
a2250 1
version (e.g. 35).  The <tt>siteXX.tgz</tt> file set is, like the other
d2478 1
a2478 1
but is a genuine OpenBSD 3.5 kernel, including the new ELF boot loader,
d2490 1
a2490 1
install a minimal 3.5-release system (<tt>base35.tgz, etc35.tgz,
d2507 1
a2507 1
<small>$OpenBSD: faq4.html,v 1.187 2004/10/19 03:20:04 krw Exp $</small>
@


1.187
log
@Recommend editing rc.conf.local rather than rc.conf, just as it is
recommended in rc.conf(8).

Fix a sektion=5 in one link to rc.conf(8).

ok nick@@
@
text
@d18 3
a20 1
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif">
d2480 1
a2480 1
<small>$OpenBSD: faq4.html,v 1.186 2004/10/08 14:19:48 nick Exp $</small>
@


1.186
log
@
Wrong partition flagged active. From Martin Lexa (martin at martinlexa,cz),
Thanks!
@
text
@d2257 2
a2258 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=5"
><tt>/etc/rc.conf</tt></a>,
d2478 1
a2478 1
<small>$OpenBSD: faq4.html,v 1.185 2004/10/07 13:02:27 nick Exp $</small>
@


1.185
log
@
zero offset often leads to trashed partition table, not just blank.
@
text
@d903 2
a904 2
  *0: 06    0   1  1 -  202 239 63 [          63:     3069297 ] DOS > 32MB
   1: A6  203   0  1 - 2585 239 63 [     3069360:    36030960 ] OpenBSD
d2478 1
a2478 1
<small>$OpenBSD: faq4.html,v 1.184 2004/08/15 15:47:16 nick Exp $</small>
@


1.184
log
@
one downside of sprinkling warnings about a limitation all over the place
so no one will miss it: finding and removing a;; the warnings when the
limitation is removed. Spotted by Reza Muhammad, rezmuh at dtrojans dot org
@
text
@d74 2
a75 1
  <li><a href="#blankfdisk" >4.12.6 - My fdisk partition table is blank!</a>
d2191 1
a2191 1
<h3>4.12.6 - My fdisk partition table is blank!</h3>
d2478 1
a2478 1
<small>$OpenBSD: faq4.html,v 1.183 2004/08/06 22:55:49 nick Exp $</small>
@


1.183
log
@
Another addition from tom@@ from back in *mumble*
@
text
@d1744 1
a1744 1
<li><b>Size</b>: Many platforms have limits on the area of a disk where
d1747 2
a1748 1
  limit (8G on new i386 systems).  As the kernel can end up anywhere in
d2477 1
a2477 1
<small>$OpenBSD: faq4.html,v 1.182 2004/08/06 20:55:24 nick Exp $</small>
@


1.182
log
@
cleaning out mail.  *Sparc -> *SPARC.  From Tom@@ back in *mumble*
@
text
@d2366 48
a2413 2
<li><b>Serial Console:</b> See <a href="faq7.html#SerCon">this article</a>
on setting up the serial console, then capture the output to a file.
a2420 1

d2476 1
a2476 1
<small>$OpenBSD: faq4.html,v 1.181 2004/07/31 04:38:54 nick Exp $</small>
@


1.181
log
@
rebuild -> reinstall.  "build" is a somewhat confusing term, and probably
not my best word choice ever...
@
text
@d2129 1
a2129 1
to do the ssh key generation process.  A SparcStation2 or a Macintosh
d2431 1
a2431 1
<small>$OpenBSD: faq4.html,v 1.180 2004/07/26 03:02:56 nick Exp $</small>
@


1.180
log
@
when you spot one error, look for more.  more a->an's, and a few
ftp/nfs -> FTP/NFSs.
@
text
@d597 1
a597 1
one must rebuild the system from scratch.
d2431 1
a2431 1
<small>$OpenBSD: faq4.html,v 1.179 2004/07/24 18:55:05 jolan Exp $</small>
@


1.179
log
@a->an, pr3863
@
text
@d376 1
a376 1
directory on any of the ftp mirrors,
d1222 1
a1222 1
configured if you are planning on doing a ftp or nfs based install,
d1833 1
a1833 1
OpenBSD install floppies</a>, and create a <tt>/etc/boot.conf</tt> file
d1964 1
a1964 1
(or transfer the dmesg output using ftp/scp/floppydisk/carrier-pigeon/...)
d2081 1
a2081 1
create a <tt>/etc/boot.conf</tt> file with the above line in it so all
d2431 1
a2431 1
<small>$OpenBSD: faq4.html,v 1.178 2004/07/14 23:26:18 nick Exp $</small>
@


1.178
log
@
mention xetc35.tgz.  To answer the inevitable flood of mail: yes,
this is -current only, but there's not a lot of other places to look
for an explaination of what it is.
@
text
@d773 1
a773 1
It is worth pointing out once again, a error here will result in
d2431 1
a2431 1
<small>$OpenBSD: faq4.html,v 1.177 2004/07/13 15:30:28 nick Exp $</small>
@


1.177
log
@
mention spamd may slow sending of dmesg.
@
text
@d1634 2
d1642 6
d2431 1
a2431 1
<small>$OpenBSD: faq4.html,v 1.176 2004/07/11 14:34:49 nick Exp $</small>
@


1.176
log
@
proper proceedure: edit then spellcheck, not spellcheck then (mis)edit.
Spotted by tybollt at solace dit mh dot se, thanks!
@
text
@d1962 8
d2423 1
a2423 1
<small>$OpenBSD: faq4.html,v 1.175 2004/07/10 21:23:53 nick Exp $</small>
@


1.175
log
@
add 4.12.6 - My fdisk partition table is blank!
@
text
@d2185 1
a2185 1
The system then <a href="faq14.html#Boot386">boots</a> uxing the PBR,
d2415 1
a2415 1
<small>$OpenBSD: faq4.html,v 1.174 2004/07/07 14:37:07 nick Exp $</small>
@


1.174
log
@
Typo, spotted by (f5813 at sbcglobal dot net)
@
text
@d74 1
d2172 24
d2415 1
a2415 1
<small>$OpenBSD: faq4.html,v 1.173 2004/06/22 17:23:09 nick Exp $</small>
@


1.173
log
@
Mention bsd.mp as an installable file set.
@
text
@d334 1
a334 1
However, if you do not see ALL "Vr"'s then the disk is most
d2390 1
a2390 1
<small>$OpenBSD: faq4.html,v 1.172 2004/06/04 03:18:19 nick Exp $</small>
@


1.172
log
@
uh...this is a MUCH safer technique for installing a complete and
functional MBR to a new disk.  While here, amd64 can pxeboot as well,
link it.
@
text
@d1620 2
d2390 1
a2390 1
<small>$OpenBSD: faq4.html,v 1.171 2004/06/03 17:30:06 nick Exp $</small>
@


1.171
log
@
fdisk's "update" command does not work in a very useful manner at the
moment, as it doesn't write a valid signature to the disk.  Document a
really ugly work-around for people installing to a new disk.
@
text
@d146 2
a147 1
<li><a href="../amd64.html"><b>amd64:</b></a> Floppy, CD-ROM, network.
d2091 8
a2098 5
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>.
Carefully make note of your existing partitions (the next step is going
to wipe them out, you will want to be able to restore them).
Use the "<tt>reinit</tt>" option to create a complete MBR, and then
restore your partition table as it was before the "<tt>reinit</tt>".
d2388 1
a2388 1
<small>$OpenBSD: faq4.html,v 1.170 2004/06/03 16:14:03 nick Exp $</small>
@


1.170
log
@
Add <a href> to faq6.html#PXE
@
text
@d2083 1
a2083 1
the install, or use the "<tt>reinit</tt>" or "<tt>update</tt>" options
d2087 2
a2088 1
problem if no other boot record existed.  The solution is to boot the
d2090 5
a2094 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8&amp;arch=i386">fdisk(8)</a>
and use the "<tt>update</tt>" option.  
d2384 1
a2384 1
<small>$OpenBSD: faq4.html,v 1.169 2004/05/04 03:08:02 nick Exp $</small>
@


1.169
log
@
OS-BS (cob)website (not updated since 1998 or so) has gone 403.
Spotted by Joel Knight.
@
text
@d154 2
a155 1
<li><a href="../i386.html"><b>i386:</b></a> Floppy, CD, network.
d2380 1
a2380 1
<small>$OpenBSD: faq4.html,v 1.168 2004/04/30 18:06:20 nick Exp $</small>
@


1.168
log
@
FAQ updates for OpenBSD 3.5
@
text
@d1901 1
a1901 1
<a href="http://www.prz.tu-berlin.de/~wolf/os-bs.html">OSBS</a>,
d2379 1
a2379 1
<small>$OpenBSD: faq4.html,v 1.167 2004/03/28 02:55:09 nick Exp $</small>
@


1.167
log
@
Mac OS clarification, elaborate on fdisk 'reinit' and 'update' functions,
when it might be easier to use raw sectors in fdisk, missing <b></b>,
other "spring cleaning before the 3.5 update" stuff.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.4 Installation Guide</title>
d27 1
a27 1
<h1><font color="#e00000">4 - OpenBSD 3.4 Installation Guide</font></h1>
d115 1
a115 1
Typical file names are <tt>floppy34.fs</tt>, though several platforms
d119 1
a119 1
(<tt>cd34.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d146 4
d154 1
a154 1
<li><a href="../i386.html"><b>i386:</b></a> Floppy, CD.
d159 1
a159 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d165 2
d278 1
a278 1
<li><b><tt>floppy34.fs</tt></b> (Desktop PC) supports many
d281 1
a281 1
<li><b><tt>floppyB34.fs</tt></b> (Servers) supports many RAID controllers,
d285 1
a285 1
<li><b><tt>floppyC34.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d287 1
a287 1
<li><b><tt>cdrom34.fs</tt></b> is, in effect a combination of
d291 1
a291 1
<li><b><tt>cd34.iso</tt></b> is an ISO9660 image that can be used to
d294 1
a294 1
        This is <tt>cdrom34.fs</tt> in a "ready-to-record" format.
d307 2
a308 2
<li><b><tt>floppy34.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd34.iso</tt></b> An ISO image usable to make your own
d310 1
a310 1
<li><b><tt>miniroot34.fs</tt></b> Can be written to a swap partition
d350 1
a350 1
  # <b>dd if=floppy34.fs of=/dev/rfd0c bs=32k</b>
d362 1
a362 1
  # <b>cmp /dev/rfd0c floppy34.fs</b>
d372 1
a372 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/tools/">tools</a>
d374 1
a374 1
or from the <tt>3.4/tools</tt> directory on CD1 of the OpenBSD CD set.
d389 1
a389 1
As <tt>floppyB34.fs</tt> and <tt>floppyC34.fs</tt> have longer file names,
d400 1
a400 1
  Enter source file name: <b>floppy34.fs</b>
d408 1
a408 1
  C:\> <strong>fdimage -q floppy34.fs a:</strong>
d414 1
a414 1
  C:\> <strong>ntrw floppy34.fs a:</strong>
d424 2
a425 2
You can create a CD-ROM using either the <tt>cd34.iso</tt> file or, in
the case of the i386 platform, you can also use the <tt>cdrom34.fs</tt>
d457 5
d570 1
a570 1
<tt>etc34.tgz</tt> file.
d572 1
a572 1
<tt>etc34.tgz</tt> into your system before you can expect it to be
d581 1
a581 1
For OpenBSD 3.4, upgrading 3.3 to 3.4 is the only supported upgrade.
a584 5
<li>The i386 platform has switched to the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=elf&amp;sektion=5">ELF</a>
binary format, and will require uninstalling all installed packages and ports
before upgrade.
Reinstallation is <i>highly</i> recommended over upgrade.
d601 1
a601 1
  Welcome to the OpenBSD/i386 3.4 install program.
d610 2
a611 2
  Specify terminal type: [vt220]
  Do you wish to select a keyboard encoding table? [n] <b><i>ENTER</i></b>
d632 1
a632 1
  Proceed with install? [n] <b>y</b>
a758 3
<li><b><tt>u</tt></b> or <b><tt>update</tt>:</b> Replaces the current
MBR code (if any) with the OpenBSD MBR loader.
If your drive has never been used, this may be important.
d837 1
a837 1
The system will probably still be bootable, but it will be very
d1145 1
a1145 1
  Are you really sure that you're ready to proceed? [n] <b>y</b>
d1226 1
a1226 1
  Configure the network? [y] <b><i>Enter</i></b>
d1232 1
a1232 1
  Do you want to change the default media? [n] <b><i>Enter</i></b>
d1238 1
a1238 1
  Use the nameserver now? [y] <b><i>Enter</i></b>
d1241 2
a1242 2
  Edit hosts with ed? [n] <b><i>Enter</i></b> 
  Do you want to do any manual network configuration? [n] <b><i>Enter</i></b>
d1256 1
a1256 1
  Configure the network? [y] <b><i>Enter</i></b>
d1262 1
a1262 1
  Do you want to change the default media? [n] <b><i>Enter</i></b>
d1279 1
a1279 1
  Use the nameserver now? [y] <b><i>Enter</i></b>
d1282 2
a1283 2
  Edit hosts with ed? [n] <b><i>Enter</i></b>
  Do you want to do any manual network configuration? [n] <b><i>Enter</i></b>
d1316 1
a1316 1
local disks ready for the OpenBSD packages to be installed upon them.
d1353 1
a1353 1
  Pathname to the sets?  (or 'done') [3.4/i386] <b><i>Enter</i></b>
d1358 1
a1358 1
which is <tt>3.4/i386/</tt> on the official CD-ROM.  
d1364 1
a1364 1
Now it's time to choose which packages you will be installing. You can
d1368 1
a1368 1
default all the non-X packages are selected; however, some people may
d1370 2
a1371 2
would be <tt>base34.tgz</tt>, <tt>etc34.tgz</tt> and <tt>bsd</tt>.
Others will wish to install all packages. The example below is that of a
d1382 10
a1391 10
          [X] base34.tgz
          [X] etc34.tgz
          [X] misc34.tgz
          [X] comp34.tgz
          [X] man34.tgz
          [X] game34.tgz
          [ ] xbase34.tgz
          [ ] xshare34.tgz
          [ ] xfont34.tgz
          [ ] xserv34.tgz
d1401 10
a1410 10
          [X] base34.tgz
          [X] etc34.tgz
          [X] misc34.tgz
          [X] comp34.tgz
          [X] man34.tgz
          [X] game34.tgz
          [X] xbase34.tgz
          [X] xshare34.tgz
          [X] xfont34.tgz
          [X] xserv34.tgz
d1421 2
a1422 2
Once you have successfully picked which packages you want, you will be
prompted to make sure you want to extract these packages and they will
d1426 1
a1426 1
packages installed, and the speed of the source media.  This part may
d1431 1
a1431 1
  Ready to install sets? [y] <b><i>Enter</i></b>
d1436 1
a1436 1
  Getting base34.tgz ...
d1438 1
a1438 1
  Getting etc34.tgz ...
d1440 1
a1440 1
  Getting misc34.tgz ...
d1442 1
a1442 1
  Getting comp34.tgz ...
d1444 1
a1444 1
  Getting man34.tgz ...
d1446 1
a1446 1
  Getting game34.tgz ...
d1448 1
a1448 1
  Getting xbase34.tgz ...
d1450 1
a1450 1
  Getting xshare34.tgz ...
d1452 1
a1452 1
  Getting xfont34.tgz ...
d1454 1
a1454 1
  Getting xserv34.tgz ...
d1462 1
d1471 15
d1490 1
d1494 1
a1494 1
  Do you expect to run the X Window System? [y] <b>y</b>
d1619 1
a1619 1
  <li><b><i>base34.tgz</i></b>   - Contains the base OpenBSD system 
d1621 1
a1621 1
  <li><b><i>etc34.tgz</i></b>    - Contains all the files in /etc 
d1623 10
a1632 10
  <li><b><i>comp34.tgz</i></b>    - Contains the compiler and its 
    tools, libs. <b>Recommended</b>
  <li><b><i>man34.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc34.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game34.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase34.tgz</i></b>  - Contains the base install for X11
  <li><b><i>xfont34.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv34.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare34.tgz</i></b> - Contains manpages, locale settings,
    includes, etc  for X
d1794 1
a1794 1
users are <i>highly</i> encouraged to start with a blank hard drive on a
a1800 8
When multibooting, the requirements of all operating systems must be met
by your configuration.  People often ask if there is a way around the
<a href="faq14.html#LargeDrive">8G boot limit</a> of OpenBSD.  While
there are some programs that claim to get around various limits of
various operating systems, none of them are known to do this with
current versions of OpenBSD.

<p>
d1891 3
a1893 3
Note: The Windows NT boot loader is only capable of booting OSs from the
primary hard drive.  You can not use it to load OpenBSD from the second drive
on a system.
d1911 1
a1911 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.linux">INSTALL.linux</a>,
d1962 1
a1962 1
Sometimes, you realize you really DID need <tt>comp34.tgz</tt> (or any
d1980 1
a1980 1
  # tar xzvpf comp34.tgz
a2094 18
<li><b>You mixed <i>a.out</i> and <i>ELF</i> boot disk and install
files.</b>  OpenBSD/i386 has transitioned from the older <i>a.out</i>
format to the <i>ELF</i> format for binaries shortly after 3.3-release.
The OpenBSD 3.4
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot&amp;sektion=8&amp;arch=i386">boot
loader</a> can not boot an OpenBSD 3.3-release's kernel, nor can the
3.3-release boot loader boot an OpenBSD 3.4 kernel.  You must use a
boot disk that matches the version of OpenBSD you intend to install.
Failure to follow this will show itself with a message such as
"<tt>failure(79)</tt>" and/or "<tt>Inappropriate file type or
format</tt>".

<li><b>You ignored all the <a href="#Disks">warnings</a> and
<a href="#SpaceNeeded">explanations</a> about the
<a href="faq14.html#LargeDrive">8G boot limit</a>.</b>  This
results in a hang at the very start of the boot process, sometimes with
the message, "<tt>Bad magic</tt>".

d2118 1
a2118 1
  Do you want to see a list of potential FTP servers?  [y] <i>ENTER</i>
d2167 1
a2167 1
version (e.g. 34).  The <tt>siteXX.tgz</tt> file set is, like the other
d2350 2
a2351 2
but is a genuine OpenBSD 3.4 kernel, including the new ELF boot loader,
so can be used to bootstrap OpenBSD/i386 3.4 from an older system.
d2362 1
a2362 1
install a minimal 3.4-release system (<tt>base34.tgz, etc34.tgz,
d2379 1
a2379 1
<small>$OpenBSD: faq4.html,v 1.166 2004/03/18 23:21:31 nick Exp $</small>
@


1.166
log
@
Couple ideas from Todd Miller:
  1) BootPart program, which fetchs OpenBSD PBR for NT/2k/XP systems
  2) point out that reinstalling will reinstall boot, which will make the
saved PBR wrong, so it must be refetched.  millert@@, tom@@ and krw@@ have
made a change which will hopefully render this a non-issue (yay team! 8-)
@
text
@d153 1
a153 1
using Mac OS utilities.
d750 2
a751 1
partition table, makes one big OpenBSD partition, flags it active.
d753 3
d786 2
d1142 1
a1142 1
  Are you really sure that you're ready to proceed? [n] y
d1459 2
a1460 1
At this point, you can pull additional files from other sources if
d1473 5
a1486 1
  Do you expect to run the X Window System? [y] <b>y</b>
d2385 1
a2385 1
<small>$OpenBSD: faq4.html,v 1.165 2004/03/15 18:50:46 saad Exp $</small>
@


1.165
log
@MacOS -> Mac OS. ok nick@@
@
text
@d1853 15
d2374 1
a2374 1
<small>$OpenBSD: faq4.html,v 1.164 2004/02/16 22:48:21 nick Exp $</small>
@


1.164
log
@
We are seeing a lot of people clobbering their MBR durring install for
some reason lately.  Add a note that your first partition should have an
offset of one track.
@
text
@d153 1
a153 1
using MacOS utilities.
d2359 1
a2359 1
<small>$OpenBSD: faq4.html,v 1.163 2004/02/10 03:28:27 nick Exp $</small>
@


1.163
log
@
decsion made: remove section 4.5.8.  The install process is smooth enough
that we don't need to refer to Hale Landis' stuff here anymore.
@
text
@d821 11
d2359 1
a2359 1
<small>$OpenBSD: faq4.html,v 1.162 2004/01/19 00:36:15 nick Exp $</small>
@


1.162
log
@
More than two ways to put an MBR on the disk.
@
text
@a53 1
  <li><a href="#OtherInf"   >4.5.8 - Other Information Resources</a>
a1563 26
<a name="OtherInf"></a>
<h3>4.5.8 - Other information resources</h3>

Additional documents already exist for those of you who might have 
special needs or interests. You can retrieve these from any of
the <a href="../ftp.html">mirror ftp sites</a>.
<ul>
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.i386">INSTALL.i386</a> 
  - Comprehensive installation document. Similar documents exist for all 
platforms.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.linux">INSTALL.linux</a> 
  - Installing OpenBSD along with Linux.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.mbr">INSTALL.mbr</a> 
  - Explaining the Master Boot Record.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.pt">INSTALL.pt</a> 
  - Explaining Partition Tables.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.dbr">INSTALL.dbr</a> 
  - DOS Floppy Disk Boot Sector.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.chs">INSTALL.chs</a> 
  - Explaining CHS Translation.
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.ata">INSTALL.ata</a> 
  - ATA/ATA-1/ATA-2/IDE/EIDE/etc FAQ
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.4/i386/INSTALL.os2br">INSTALL.os2br</a>
 - The os2 Boot Sector.
</ul>

d2348 1
a2348 1
<small>$OpenBSD: faq4.html,v 1.161 2004/01/01 04:13:34 nick Exp $</small>
@


1.161
log
@
bump copyright to 2004
@
text
@d2060 2
a2061 1
the install, or use the "<tt>reinit</tt>" option of fdisk(8), the
d2375 1
a2375 1
<small>$OpenBSD: faq4.html,v 1.160 2003/11/28 18:39:00 nick Exp $</small>
@


1.160
log
@
#SmallRAM section is gone.  Broght to my attention from PR3572 via brad@@.
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
d2374 1
a2374 1
<small>$OpenBSD: faq4.html,v 1.159 2003/11/27 17:21:19 nick Exp $</small>
@


1.159
log
@
make it more clear that you have to have some idea how you will be
upgradind, updating and patching your OpenBSD install.  Inspired
in part by pr3577
@
text
@d1494 2
a1495 2
(which may take a while on some systems, especially if you had to use
the <a href="#SmallRAM">Small RAM</a> trick above), and install the 
d2374 1
a2374 1
<small>$OpenBSD: faq4.html,v 1.158 2003/11/27 15:27:50 nick Exp $</small>
@


1.158
log
@
forgot the dang </a>.
@
text
@d228 10
d2374 1
a2374 1
<small>$OpenBSD: faq4.html,v 1.157 2003/11/27 14:00:22 nick Exp $</small>
@


1.157
log
@
long overdue...  bsd.rd-a.out info.  yay Todd Miller!
Thanks to Tom Cosgrove for a serious rework.
@
text
@d82 1
a82 1
     using <tt>bsd.rd-a.out</tt>.
d2364 1
a2364 1
<small>$OpenBSD: faq4.html,v 1.156 2003/11/24 15:22:50 nick Exp $</small>
@


1.156
log
@
I'd break the fingers of the guy who screwed up validation, 'cept I'd be
unable to fix it.  faq4.html fixes from Tom Cosgrove, faq8.html found on
the "I rarely make a mistake once" principle.
@
text
@d81 2
d2311 42
d2364 1
a2364 1
<small>$OpenBSD: faq4.html,v 1.155 2003/11/15 02:30:39 nick Exp $</small>
@


1.155
log
@
boot 2.x has ":" chars.  Pointed out by John Scarfone (j0 at cox dot net).
@
text
@d74 1
a74 1
     "login_krb4-or-pwd: Exec format error"
d2125 1
a2125 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=a.out&sektion=5">a.out</a>,
d2137 1
a2137 1
You can use the same "</tt><i>username</i>:passwd</tt>" syntax with an
d2320 1
a2320 1
<small>$OpenBSD: faq4.html,v 1.154 2003/11/11 19:27:43 nick Exp $</small>
@


1.154
log
@
millert@@ didn't like my "reboot in single user mode", had better way.
Tom Cosgrove didn't like where I put it... and he's right, so I moved it.
Saad Kadhi noted that it is login.conf, not boot.conf that needs to be
edited.  *sigh*
@
text
@d1988 2
a1989 2
  probing pc0 com0 com1 apm mem[639k 255M a20=on]
  disk fd0 hd0+
d2320 1
a2320 1
<small>$OpenBSD: faq4.html,v 1.153 2003/11/07 22:12:23 nick Exp $</small>
@


1.153
log
@
order_s_.html.  Alerted by Y Fery Wibowo (ferywu at artdico dot or dot id)
actual problem rubbed in my nose by Mike Burden.
@
text
@d73 2
d2120 23
d2320 1
a2320 1
<small>$OpenBSD: faq4.html,v 1.152 2003/10/30 22:43:42 nick Exp $</small>
@


1.152
log
@
FAQ updates for OpenBSD 3.4.  Lots of help from lots of people, but
special thanks to Tom Cosgrove who provided many improvements and
proofreading.
@
text
@d178 1
a178 1
<a href="../order.html">Official CD-ROM set</a>, but for special needs,
d2295 1
a2295 1
<small>$OpenBSD: faq4.html,v 1.151 2003/10/14 02:26:21 nick Exp $</small>
@


1.151
log
@
A few more things bugging me.  Wording improvements, one factual error
or at least, mistatement (on FQDNs), reworked.
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.3 Installation Guide</title>
d27 1
a27 1
<h1><font color="#e00000">4 - OpenBSD 3.3 Installation Guide</font></h1>
d53 2
a54 3
  <li><a href="#SmallRAM"   >4.5.7 - Small RAM procedure</a>
  <li><a href="#Finish"     >4.5.8 - Finishing up</a>
  <li><a href="#OtherInf"   >4.5.9 - Other Information Resources</a>
d67 3
a69 4
  <li><a href="#mkdevhang"  >4.12.1 - Install hangs during MAKEDEV</a>
  <li><a href="#cpq16m"     >4.12.2 - My Compaq only recognizes 16M RAM</a>
  <li><a href="#noboot"     >4.12.3 - My i386 won't boot after install</a>
  <li><a href="#sshhang"    >4.12.4 - My machine booted, but hung at the
d71 1
a71 1
  <li><a href="#noftplist"  >4.12.5 - I got the message "Failed to change
d112 1
a112 1
Typical file names are <tt>floppy33.fs</tt>, though several platforms
d116 1
a116 1
(<tt>cd33.iso</tt>) is provided allowing creation of a bootable CD-ROM.
d152 1
a152 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/mac68k/INSTALL.mac68k">INSTALL.mac68k</a> for details.
d196 1
a196 1
either ISO9660 or Joliet format.
d259 1
a259 1
<li><b><tt>floppy33.fs</tt></b> (Desktop PC) supports many
d262 1
a262 1
<li><b><tt>floppyB33.fs</tt></b> (Servers) supports many RAID controllers,
d266 1
a266 1
<li><b><tt>floppyC33.fs</tt></b> (Laptops) supports the CardBus and PCMCIA
d268 1
a268 1
<li><b><tt>cdrom33.fs</tt></b> is, in effect a combination of
d272 1
a272 1
<li><b><tt>cd33.iso</tt></b> is an ISO9660 image that can be used to
d275 1
a275 1
        This is <tt>cdrom33.fs</tt> in a "ready-to-record" format.
d288 2
a289 2
<li><b><tt>floppy33.fs:</tt></b> Supports systems with a floppy disk.
<li><b><tt>cd33.iso</tt></b> An ISO image usable to make your own
d291 1
a291 1
<li><b><tt>miniroot33.fs</tt></b> Can be written to a swap partition
d331 1
a331 1
  # <b>dd if=floppy33.fs of=/dev/rfd0c bs=32k</b>
d343 1
a343 1
  # <b>cmp /dev/rfd0c floppy33.fs</b>
d353 1
a353 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/tools/">tools</a>
d355 1
a355 1
or from the <tt>3.3/tools</tt> directory on CD1 of the OpenBSD CD set.
d370 1
a370 1
As <tt>floppyB33.fs</tt> and <tt>floppyC33.fs</tt> have longer file names,
d381 1
a381 1
  Enter source file name: <b>floppy33.fs</b>
d389 1
a389 1
  C:\> <strong>fdimage -q floppy33.fs a:</strong>
d395 1
a395 1
  C:\> <strong>ntrw floppy33.fs a:</strong>
d405 2
a406 2
You can create a CD-ROM using either the <tt>cd33.iso</tt> file or, in
the case of the i386 platform, you can also use the <tt>cdrom33.fs</tt>
d542 10
a551 6
done, nor are the /etc or /var directories overwritten.  You will
not be given the option of installing the <tt>etc33.tgz</tt> file.
After the install, you will have to manually merge the changes of 
<tt>etc33.tgz</tt> into your system before you can expect it to be 
fully functional.  This is an important step which must be done, as
otherwise certain key services (such as 
d554 13
a566 5
<br>
<b>NOTE:</b> The Upgrade process is not designed to skip releases! While
this will often work, it is not supported. For OpenBSD 3.3, upgrading
3.2 to 3.3 is the only supported upgrade.  If you have to upgrade from
an older version, a complete reinstall is recommended.
d573 3
a575 7
On occasion, you will not see the "Upgrade" option listed.  After a
<i>flag
day</i> event, it is not possible to directly upgrade; one must rebuild
the system from scratch.  An example of this was the OpenBSD/sparc
platform, which switched executable formats from a.out to ELF between
3.1 and 3.2, so a user
upgrading to 3.2 or 3.3 on their SPARC must completely reload their system.
d582 1
a582 1
  Welcome to the OpenBSD/i386 3.3 install program.
d592 1
a592 1
  Do you wish to select a keyboard encoding table? [n] <b>y</b>
d671 1
a671 1
OpenBSD.  This will result in a simple Master Boot Record and partition
d676 3
a678 2
on.  Many Compaq systems, some Dell and other systems use a
"maintenance" partition, which should be kept intact.  If your system
d1163 1
a1163 1
This value, along with the DNS domain name (specified 
d1320 1
a1320 1
  Pathname to the sets?  (or 'done') [3.3/i386] <b><i>Enter</i></b>
d1325 1
a1325 1
which is <tt>3.3/i386/</tt> on the official CD-ROM.  
d1337 1
a1337 1
would be <tt>base33.tgz</tt>, <tt>etc33.tgz</tt> and <tt>bsd</tt>.
d1349 10
a1358 10
          [X] base33.tgz
          [X] etc33.tgz
          [X] misc33.tgz
          [X] comp33.tgz
          [X] man33.tgz
          [X] game33.tgz
          [ ] xbase33.tgz
          [ ] xshare33.tgz
          [ ] xfont33.tgz
          [ ] xserv33.tgz
d1368 10
a1377 10
          [X] base33.tgz
          [X] etc33.tgz
          [X] misc33.tgz
          [X] comp33.tgz
          [X] man33.tgz
          [X] game33.tgz
          [X] xbase33.tgz
          [X] xshare33.tgz
          [X] xfont33.tgz
          [X] xserv33.tgz
d1400 1
a1400 1
  100% |**************************************************|  4472 KB    00:03
d1402 21
a1422 21
  100% |**************************************************|  4190 KB    00:02
  Getting base33.tgz ...
  100% |**************************************************| 30255 KB    00:21
  Getting etc33.tgz ...
  100% |**************************************************|  1469 KB    00:01
  Getting misc33.tgz ...
  100% |**************************************************|  1828 KB    00:01
  Getting comp33.tgz ...
  100% |**************************************************| 16207 KB    00:13
  Getting man33.tgz ...
  100% |**************************************************|  5921 KB    00:04
  Getting game33.tgz ...
  100% |**************************************************|  2545 KB    00:01
  Getting xbase33.tgz ...
  100% |**************************************************|  9073 KB    00:06
  Getting xshare33.tgz ...
  100% |**************************************************|  1574 KB    00:02
  Getting xfont33.tgz ...
  100% |**************************************************| 30666 KB    00:21
  Getting xserv33.tgz ...
  100% |**************************************************| 14948 KB    00:11
a1432 40
<p>
If your system has a small amount of RAM (less than 20M on i386), do not 
answer that prompt quite yet!

<a name="SmallRAM"></a>
<h3>4.5.7 - Special steps for machines with little RAM</h3>
As OpenBSD has grown, the minimum RAM requirement has grown, and is
likely to continue to increase.  The next step in the install process
will require more than 16M RAM, and will fail on older machines with
less than 20M RAM (again, these are i386 numbers -- some other platforms
will require far less RAM, though this trick can be used with them as
well, if they are running near the lower-limits).

<p>
During the install process, there is normally no swap; the real RAM is
all you have.  The 'MAKEDEV' step that follows will require more than
the rest of the install required.  As a system with small amounts of RAM
can still be very usable for many applications, working around this
limitation is a quite useful trick.

<p>
The solution is to activate swap now.  The swap partition has been
created, the files are installed to the hard disk, the only trick here
is to manually invoke it.  So, do not just hit '<tt>done</tt>' at the above
prompt, but rather, hit '!', which will bring up a shell, and launch 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapon&amp;sektion=8">swapon(8)</a>
from the mounted hard drive:

<p>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
  Where are the install sets? (or 'done') <b>!</b>
  Type 'exit' to return to install.
  # <b>/mnt/sbin/swapon /dev/wd0b</b>
  # <b>exit</b>
  Where are the install sets? (or 'done') <b>done</b>
</pre></td></tr></table>

<p>
You can now resume the normal installation.

d1434 1
a1434 1
<h3>4.5.8 - Finishing up</h3>
a1450 1
  Extract more sets? [n] <b><i>Enter</i></b>
d1552 1
a1552 1
<h3>4.5.9 - Other information resources</h3>
d1558 1
a1558 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.i386">INSTALL.i386</a> 
d1561 1
a1561 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.linux">INSTALL.linux</a> 
d1563 1
a1563 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.mbr">INSTALL.mbr</a> 
d1565 1
a1565 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.pt">INSTALL.pt</a> 
d1567 1
a1567 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.dbr">INSTALL.dbr</a> 
d1569 1
a1569 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.chs">INSTALL.chs</a> 
d1571 1
a1571 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.ata">INSTALL.ata</a> 
d1573 1
a1573 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.os2br">INSTALL.os2br</a>
d1590 1
a1590 1
  <li><b><i>base33.tgz</i></b>   - Contains the base OpenBSD system 
d1592 1
a1592 1
  <li><b><i>etc33.tgz</i></b>    - Contains all the files in /etc 
d1594 1
a1594 1
  <li><b><i>comp33.tgz</i></b>    - Contains the compiler and its 
d1596 7
a1602 7
  <li><b><i>man33.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc33.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game33.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase33.tgz</i></b>  - Contains the base install for X11
  <li><b><i>xfont33.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv33.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare33.tgz</i></b> - Contains manpages, locale settings,
d1875 1
a1875 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/i386/INSTALL.linux">INSTALL.linux</a>,
d1889 9
a1897 7
a favor (after you have your mail system configured!) and type
        dmesg | mail dmesg@@openbsd.org
so that we can see what kinds of configurations people are running.  We will
use this information to improve device driver support in future releases.
(We would be much happier if this information was for the supplied GENERIC
kernel; not for a custom compiled kernel).  The device driver information
we get from this helps us fix existing drivers.
d1902 1
a1902 1
email so developers can contact you back if they have something they
d1926 1
a1926 1
Sometimes, you realize you really DID need <tt>comp33.tgz</tt> (or any
d1944 1
a1944 1
  # tar xzvpf comp33.tgz
d1987 2
a1988 2
  disk fd0 hd0
  &gt;&gt; OpenBSD/i386 BOOT 1.29
a2004 5
<a name="mkdevhang"></a>
<h3>4.12.1 - Install hangs during MAKEDEV</h3>
Usually, this is caused by a lack of physical RAM in the system.
See <a href="#SmallRAM">here</a>.

d2006 1
a2006 1
<h3>4.12.2 - My Compaq only recognizes 16M RAM</h3>
d2032 1
a2032 1
<h3>4.12.3 - My i386 won't boot after install</h3>
d2060 2
a2061 2
format to the <i>ELF</i> format for binaries after 3.3-release.  The
<a href="faq5.html#Flavors">3.3-current snapshot's</a>
d2064 1
a2064 1
3.3-release boot loader boot a <i>-current</i> kernel.  You must use a
d2079 1
a2079 1
<h3>4.12.4 - My (older, slower) machine booted, but hung at the ssh-keygen
d2089 1
a2089 1
<h3>4.12.5 - I got the message "Failed to change directory" when doing an
d2125 1
a2125 1
version (e.g. 33).  The <tt>siteXX.tgz</tt> file set is, like the other
d2295 1
a2295 1
<small>$OpenBSD: faq4.html,v 1.150 2003/10/10 18:46:04 nick Exp $</small>
@


1.150
log
@
Typos, from Tom Cosgrove, Thanks!
@
text
@d668 1
a668 1
bootable partition.  This will be a common option for most production
d743 1
a743 1
It is worth pointing out once again, a screwup here will result in
d1155 7
a1161 6
Now you must set the system hostname. This value will be saved in the
file <tt>/etc/myname</tt>, which is used during normal boots to set the hostname
of the system. As of OpenBSD 3.2 the name stored in <tt>/etc/myname</tt>
includes the fully qualified domain name of the system (FQDN). If you do
not set the FQDN of the system, the default value of 'my.domain' will be
used.
d1376 2
a1377 2
to load all the sets.  While the system will run with fewer sets, the
starting default is recommended.
d2332 1
a2332 1
<small>$OpenBSD: faq4.html,v 1.149 2003/10/10 02:16:48 nick Exp $</small>
@


1.149
log
@
This is the second time since I put this link in that it has changed.
NOT worth the trouble.  Thanks, ESR, for reminding me why I gave up on
That Other OS...
@
text
@d158 1
a158 1
<li><a href="../mvme68k.html"><b>mvme68:</b></a> Network, bootable tape.
d2331 1
a2331 1
<small>$OpenBSD: faq4.html,v 1.148 2003/10/09 17:03:47 nick Exp $</small>
@


1.148
log
@
D'oh.  1) Stupid error.  2) found by another stupid error...accidently
clicked on the link on the way to another task...
@
text
@d564 2
a565 2
<a href="http://www.catb.org/~esr/jargon/html/entry/flag-day.html">flag
day</a> event, it is not possible to directly upgrade; one must rebuild
d2331 1
a2331 1
<small>$OpenBSD: faq4.html,v 1.147 2003/10/09 16:45:38 nick Exp $</small>
@


1.147
log
@
Improvement in wording and headers, inspired by comment from Horacio@@
@
text
@d443 1
a443 1
On the <a href="../sparc6.html">sparc64</a> platform, only the SBus
d2331 1
a2331 1
<small>$OpenBSD: faq4.html,v 1.146 2003/10/07 18:35:02 horacio Exp $</small>
@


1.146
log
@fix link sparc -> sparc.html
@
text
@d426 1
a426 7
<p>
This section is initially broken down into platform-specific
sections for popular platforms that OpenBSD supports.
This is so we can properly instruct each user on what to do on their
respective platform.

<h4>Booting i386</h4>
a427 1
<p>
d440 1
a440 1
<h4>Booting sparc</h4>
a441 1
<p>
d443 2
a444 2
On the sparc64, only the SBus machines (Ultra 1, Ultra 2)
are bootable from floppy.
d2331 1
a2331 1
<small>$OpenBSD: faq4.html,v 1.145 2003/10/05 19:25:14 nick Exp $</small>
@


1.145
log
@
A funny thing happened on the way to reving for 3.4...  I decided I didn't
like the organization of this document.  Enter snowball effect.
Rewrite overview into a true overview.  Better discussion of boot vs.
install media.  Explainations of options, etc.  Lay groundwork for more
platform support.  Renumber document (*sigh*...3.4 will bring another
partial renumber). Sections 4.1 through 4.4 have been substantially
reworked.

Sync TOC with headers, standardize header layout after discussion with
Tom Cosgrove and JMC@@ (first word capitalized, no trailing period.  YES,
this is debatable, no "perfect" answer, but one answer beats the random
way it was).  Lots of constructive input from Tom Cosgrove, thanks!

Note: this is *NOT* the 3.4 document.
@
text
@d286 1
a286 1
The <a href="../sparc">sparc</a> platform has three separate
d2339 1
a2339 1
<small>$OpenBSD: faq4.html,v 1.144 2003/08/11 23:28:01 nick Exp $</small>
@


1.144
log
@
#noftplist: 3.4-Beta brings a new variant on this message...
@
text
@d33 6
a38 7
<li><a href= "#Overview"    >4.1 - Overview of the OpenBSD Installation 
                                     Procedure</a>
  <ul>
  <li><a href="#Plats"      >4.1.1 - Supported OpenBSD Architectures</a>
  <li><a href="#Media"      >4.1.2 - Supported Installation Media</a>
  <li><a href="#MkFlop"     >4.1.3 - Creating bootable OpenBSD install 
                                     floppies</a>
d40 3
a42 2
    <li><a href="#UnixFlop"  >4.1.3.1 - Creating Floppies on Unix</a>
    <li><a href="#DosFlop"   >4.1.3.2 - Creating Floppies on DOS/Windows</a>
d44 2
a45 4
  <li><a href="#Boot"       >4.1.4 - Booting OpenBSD Installation Images</a>
  </ul>
<li><a href= "#Checklist"   >4.2 - Preinstallation Checklist</a>
<li><a href= "#Install"     >4.3 - Doing an install</a>
d47 9
a55 8
  <li><a href="#Disks"      >4.3.1 - Setting up Disks</a>
  <li><a href="#Hostname"   >4.3.2 - Setting the System Hostname</a>
  <li><a href="#Network"    >4.3.3 - Configuring the Network</a>
  <li><a href="#InstMedia"  >4.3.4 - Choosing Installation Media</a>
  <li><a href="#Filesets"   >4.3.5 - Choosing Filesets</a>
  <li><a href="#SmallRAM"   >4.3.6 - Small RAM procedure</a>
  <li><a href="#Finish"     >4.3.7 - Finishing up</a>
  <li><a href="#OtherInf"   >4.3.8 - Other Information Resources</a>
d58 2
a59 2
<li><a href= "#FilesNeeded" >4.4 - What files are needed for Installation?</a>
<li><a href= "#SpaceNeeded" >4.5 - How much space do I need for an
d61 2
a62 2
<li><a href= "#Multibooting">4.6 - Multibooting OpenBSD</a>
<li><a href= "#SendDmesg"   >4.7 - Sending your dmesg to dmesg@@openbsd.org
d64 3
a66 3
<li><a href= "#AddFileSet"  >4.8 - Adding a file set after install</a>
<li><a href= "#bsd.rd"      >4.9 - What is 'bsd.rd'?</a>
<li><a href= "#InstProb"   >4.10 - Common Installation Problems</a>
d68 4
a71 4
  <li><a href="#mkdevhang" >4.10.1 - Install hangs during MAKEDEV</a>
  <li><a href="#cpq16m"    >4.10.2 - My Compaq only recognizes 16M RAM</a>
  <li><a href="#noboot"    >4.10.3 - My i386 won't boot after install</a>
  <li><a href="#sshhang"   >4.10.4 - My machine booted, but hung at the
d73 1
a73 1
  <li><a href="#noftplist" >4.10.5 - I got the message "Failed to change
d76 2
a77 2
<li><a href= "#site"       >4.11 - Customizing the Install Process</a>
<li><a href= "#Multiple"   >4.12 - How can I install a number of similar
d79 1
a79 1
<li><a href="#getdmesg"    >4.13 - How can I get a dmesg(8) to report an
d89 88
a176 18
OpenBSD has a very robust and adaptable  text-based install procedure.
In addition to its robustness, the install procedure can be done using 1
floppy disk. Most architectures have a similar installation procedure;
however there are some differences in details.  In all cases, you are
urged to read the platform-specific INSTALL document in the platform
directory on the CDROM or FTP sites (for example, <tt>INSTALL.i386</tt>,
<tt>INSTALL.mac68k</tt> or <tt>INSTALL.sparc</tt>).

<p>
On most architectures, you have several installation options, including
FTP, CDROM, and local disk files.  One option <b>not</b> supported is 
<a href="faq3.html#ISO">downloading an ISO image</a> to make your own
official CDROM.  CDROMs are available for 
<a href="../orders.html">purchase</a>, however.
Many platforms now have a bootable CD-ROM image (<tt>cd33.iso</tt>)
allowing creation of a bootable CD-ROM for systems which do not support
booting from floppy drives.  This is strictly a boot media, however,
install files must still be retrieved via FTP or other source.
d178 32
a209 4
<a name="Plats"></a>
<h3>4.1.1 - Supported OpenBSD Architectures</h3>
<!-- XXXrelease -->
<!-- XXXversion -  Lots of places. -->
d212 2
a213 63
OpenBSD 3.3 supports a number of architectures listed below in
alphabetical order.  Please refer to each architecture's page for
specific information on what each architecture supports.

<ul>
  <li><a href="../alpha.html">alpha</a> - DEC Alpha-based machines.
  <li><a href="../hp300.html">hp300</a> - Hewlett-Packard HP300/HP400 machines.
  <li><a href="../hppa.html">hppa</a> - HP PA-RISK based systems <i>*new for 3.3*</i>
  <li><a href="../i386.html">i386</a> - Intel i386 compatibles.
  <li><a href="../mac68k.html">mac68k</a> - Most MC680x0-based Apple 
    Macintosh models.
  <li><a href="../mvme68k.html">mvme68k</a> - Motorola MVME147/16x/17x 68K 
    VME cards.
  <li><a href="../macppc.html">macppc</a> - Support for Apple based 
    PowerPC systems.
  <li><a href="../sparc.html">sparc</a> - SPARC Platform by Sun Microsystems.
  <li><a href="../sparc64.html">sparc64</a> - Sun's UltraSPARC systems. 
  <li><a href="../vax.html">vax</a> - DEC's VAX computers.
</ul>

<a name="Media"></a>
<h3>4.1.2 - Supported Installation Media</h3>

<p>
OpenBSD can be installed from multiple media types. The most
common and architecture independent options are laid out below. These
options can be used after booting from an OpenBSD CD-ROM, floppy
disk or <a href="#bsd.rd">ramdisk kernel</a>.

<p>
<table align="center" border="1" width="600">
<tr>
	<td>
		<b>CD-ROM</b>
	</td>
	<td bgcolor="#EEEEEE">
		To do a CD-ROM install, you must have either purchased an 
		<a href="../orders.html">Official OpenBSD CD-ROM</a> or 
		created your own OpenBSD CD. This is usually the easiest
		way to install an OpenBSD system. <br>
		<b>NOTE:</b> Official OpenBSD CDs are bootable if your BIOS
		supports it.
	</td>
</tr><tr>
	<td>
		<b>FTP</b>
	</td>
	<td bgcolor="#EEEEEE">
		This installation option allows you to install OpenBSD
		by downloading the installation packages in realtime over
		the network. 
	</td>
</tr><tr>
	<td>
		<b>Local Filesystem</b>
	</td>
	<td bgcolor="#EEEEEE">
		This option allows you to install from files on a 
		pre-existing filesystem. Support for DOS, EXT2FS and FFS 
               are included on the i386 install disk. 
	</td>
</tr>
</table>
d215 35
a249 2
<a name="MkFlop"></a>
<h3>4.1.3 - Creating bootable OpenBSD install media.</h3>
d252 3
a254 11
To create an installation floppy image you must either download the
correct boot floppy image from one of the OpenBSD distribution sites or
copy the image from an Official OpenBSD CD-ROM.
You can find a list of FTP servers at the <a href="../ftp.html">OpenBSD
FTP Distribution</a> page.  Most architectures have one or more boot
floppy images to choose from; different images are for different
hardware variations.  The differences between the i386 platform
installation floppies will be outlined below. For the other
architectures with multiple boot floppies, see the INSTALL document in
the respective FTP directory.  For those with only one, just download
the respective <tt>floppy33.fs</tt> image.
d263 1
a263 1
	support.
d265 2
a266 2
        and some of the less common SCSI adapters.  However,
	support for many standard SCSI adapters and many EISA and ISA 
d268 3
a270 3
<li><b><tt>floppyC33.fs</tt></b> (Laptops) supports the Cardbus and PCMCIA
        devices found in many laptops.  
<li><b><tt>cdrom33.fs</tt></b> is, in effect a combination of 
d272 2
a273 2
	floppy, or more commonly,  as a boot image for a custom 
        recordable CD. 
d275 3
a277 3
        create a bootable CD with most popular CDR creation software
        on most platforms.  This is <tt>cdrom33.fs</tt> in a "ready to
        record" format.
a279 5
<p>
Most i386 users will just use the <tt>floppy33.fs</tt> installation
floppy.

<p>
d282 2
a283 2
your network adapter.  Fortunately, this is a rare event, and can
usually be worked around.
d286 14
a299 3
Once you have the correct floppy image, you need to get a clean floppy
disk.  If there are ANY bad sectors on the floppy disk, the installation
will most likely fail.
a301 2
<a name="UnixFlop"></a>
<h4>4.1.3.1 - Creating floppies on Unix.</h4>
d314 8
a321 3
If your output is like the above example, then your disk is OK. However,
if you do not see ALL &quot;V&quot;'s then your disk is most likely bad,
and you should try a new one.
d325 2
a326 1
installation image to floppy. For this, you can use the 
d328 2
a329 1
utility.  An example usage of <tt>dd(1)</tt> is below:
d340 2
a341 2
command. If the diskette is identical to the image,
you will just see another prompt.
d349 6
a354 3
<h4>4.1.3.2 - Creating floppies on DOS/Windows.</h4>
If you are creating this image on the Windows/DOS platform you
can get tools mentioned below from the 
d356 2
a357 3
directory on any of the ftp mirrors, or in <tt>3.3/tools</tt> directory on
CD1 of the OpenBSD CD set.  For users of DOS/Windows 9x, <i>rawrite</i>
can be used to write your boot floppy.
d360 2
a361 2
To prepare a floppy in MS-DOS or Windows, simply use the native
formatting tools. 
d365 2
a366 2
<i>rawrite</i>, <i>fdimage</i>, or <i>ntrw</i>. <i>rawrite</i> will not
work on Windows NT, 2000 or XP.
d369 6
a374 5
Note that <tt>FDIMAGE.EXE</tt> and <tt>RAWRITE.EXE</tt> are both 
MS-DOS applications, and thus, are limited to MS-DOS's "8.3" file naming
convention.  As <tt>floppy33B.fs</tt> and <tt>floppy33C.fs</tt> have
longer file names, you will have to find out how your system stored
the file in "8.3 format" before using <tt>FDIMAGE.EXE</tt> or 
d386 1
a386 1
</pre> </td> </tr> </table> 
d389 1
a389 1
Example Usage of <i>fdimage</i>:
d395 1
a395 1
Example Usage of <i>ntrw</i>:
d403 20
d424 1
a424 1
<h3>4.1.4 - Booting OpenBSD Installation Images.</h3>
d427 3
a429 3
This section is initially broken down into architecture dependent
sections for popular architectures that OpenBSD supports. This is
so we can properly instruct each user on what to do on their
d435 11
a445 9
Booting an install image on the i386 architecture is nothing new to most
people. If you are using the floppy disk, simply stick the floppy into
your floppy drive and boot your system. Your install image will
automatically load (assuming floppy boot is enabled in your BIOS).  
If you are planning on booting from CD, you must go
into your systems BIOS and set the boot options to allow booting from
CD. Some older BIOSs do not have this option, and you must use a floppy
for booting your installation image. Don't worry though; even if you
boot from floppy you can still install from the CD.
d450 2
a451 1
<b>NOTE:</b> On the sparc64, only the SBus machines (Ultra 1, Ultra 2)
d455 3
a457 3
To boot from floppy, place your floppy disk with the OpenBSD
installation image on it into your floppy drive. Then use the following
command to boot from your floppy:
d465 1
a465 1
To boot from CD-ROM, place your OpenBSD CD-ROM disk into your drive.
d475 8
a482 6
Of course, this will only work in new command mode.  If you are at the
old command mode prompt (a right arrow), type 'n' for the new command
mode.  (If you are using an old sparc that is pre-sun4c, you probably
don't have a new command mode.  In this case, you need to experiment.)
If you have multiple CD-ROM devices, you need to boot from the correct
one.  Try <tt>probe-scsi</tt> from the new command mode.
d493 1
a493 1
    Unit 0   Removable Disk     Joe's CD ROMs
d497 1
a497 1
Figure out which disk is the CD ROM you want to boot from.  Note the
a504 40
<p>

<a name="Checklist"></a>
<h2>4.2 - Preinstallation Checklist</h2>
Before you start your install, you should have some idea what you
want to end up with.

You will want to know the following items, at least:
<ul>
<li>Machine Name
<li>Hardware installed and available
  <ul>
  <li>Verify compatibility with your platform's hardware
      compatibility page
  <li>If ISA, you also need to know hardware settings, and confirm
      they are as OpenBSD requires.
  </ul>
<li>Install method to be used (CDROM, FTP, etc.)
<li>Desired disk layout
  <ul>
  <li>Does existing data need to be saved elsewhere?
  <li>Will OpenBSD co-exist on this system with another OS?  If so, 
      how both will be booted?  Will you need to install
      a "boot manager"?
  <li>Will the entire disk be used for OpenBSD, or will an existing
      (or future) partition have to be worked around?
  <li>How do you wish to sub-partition the OpenBSD part of your 
      disk?
  </ul>
<li>Network settings, if not using DHCP:
  <ul>
  <li>Domain Name
  <li>Domain Name Server(s) (DNS servers)
  <li>IP addresses and subnet masks for each NIC
  <li>Gateway address
  </ul>
<li>Will you be running X on this system?
</ul>


d507 3
a509 1
<h2>4.3 - Starting the Install</h2>
d623 1
a623 1
<h3>4.3.1 - Setting up disks during installation.</h3>
d1161 1
a1161 1
<h3>4.3.2 - Setting the System Hostname</h3>
d1182 1
a1182 1
<h3>4.3.3 - Configuring your Network</h3>
d1277 1
a1277 1
<h3>4.3.4 - Choosing Installation Media</h3>
d1325 1
a1325 1
which is <tt>3.3/i386/</tt> on the official CDROM.  
d1328 1
a1328 1
<h3>4.3.5 - Choosing Filesets.</h3>
d1438 1
a1438 1
<h3>4.3.6 - Special steps for machines with little RAM</h3>
d1474 1
a1474 1
<h3>4.3.7 - Finishing up</h3>
d1593 1
a1593 1
<h3>4.3.8 - Other Information Resources</h3>
d1620 1
a1620 1
<h2>4.4 - What files are needed for Installation?</h2>
d1649 1
a1649 1
<h2> 4.5 - How much space do I need for an OpenBSD installation?</h2>
d1800 1
a1800 1
<h2>4.6 - Multibooting OpenBSD (i386)</h2>
d1920 1
a1920 1
<h2>4.7 - Sending your dmesg to dmesg@@openbsd.org after the install</h2>
d1961 1
a1961 1
<h2>4.8 - Adding a file set after install</h2>
d1970 1
a1970 1
<h3>Using the Upgrade process</h3>
d1997 1
a1997 1
<h2>4.9 - What is 'bsd.rd'?</h2>
d2042 1
a2042 1
<h2>4.10 - Common Installation Problems</h2>
d2045 1
a2045 1
<h3>4.10.1 - Install hangs during MAKEDEV</h3>
d2050 1
a2050 1
<h3>4.10.2 - My Compaq only recognizes 16M RAM</h3>
d2067 1
a2067 1
floppy/CDROM's <tt>boot></tt> prompt, load the system, reboot, and
d2076 1
a2076 1
<h3>4.10.3 - My i386 won't boot after install</h3>
d2123 1
a2123 1
<h3>4.10.4 - My (older, slower) machine booted, but hung at the ssh-keygen
d2133 1
a2133 1
<h3>4.10.5 - I got the message "Failed to change directory" when doing an
d2160 1
a2160 1
or from CDROM.</b>
d2163 1
a2163 1
<h2>4.11 - Customizing the Install Process</h2>
d2248 1
a2248 1
<h2>4.12 - How can I install a number of similar systems?</h2>
d2255 1
a2255 1
<h3>Restore from Dump</h3>
d2271 1
a2271 1
<h3>Disk Imaging</h3>
d2291 1
a2291 1
<h2>4.13 - How can I get a dmesg(8) to report an install problem?</h2>
d2301 1
a2301 1
<li><b>Floppy disk:</b>  The boot disks and CDROM has enough tools
d2322 1
a2322 1
client on the boot disk or CDROM to send the dmesg to a local FTP
d2339 1
a2339 1
<small>$OpenBSD: faq4.html,v 1.143 2003/07/09 01:27:56 nick Exp $</small>
@


1.143
log
@
Wording improvement, from Sam Smith
@
text
@d74 2
a75 2
  <li><a href="#noftplist" >4.10.5 - I got the message "ftplist: No such
     file" when doing an install</a>
d2071 1
a2071 1
<h3>4.10.5 - I got the message "ftplist: No such file" when doing an
d2082 2
a2083 1
  grep: /tmp/ftplist: No such file or directory
d2277 1
a2277 1
<small>$OpenBSD: faq4.html,v 1.141 2003/06/16 17:18:08 shell Exp $</small>
@


1.142
log
@fix link to OSBS boot loader; reported by David Winfrey <dlw@@patriot.net>
ok nick@@
@
text
@d78 2
a79 1
<li><a href= "#Multiple"   >4.12 - How can I load a number of similar systems?</a>
d2185 1
a2185 1
<h2>4.12 - How can I load a number of similar systems?</h2>
@


1.141
log
@typo, ok nick@@
@
text
@d1843 1
a1843 1
<a href="http://www.freebird.org/sw-map/bootmanager.html">OSBS</a>,
d2275 1
a2275 1
<small>$OpenBSD: faq4.html,v 1.140 2003/06/05 02:21:15 nick Exp $</small>
@


1.140
log
@
Two more reasons a system won't boot after install -- one new (a.out->ELF),
one that should have been there all along (8G limit).
@
text
@d1203 1
a1203 1
Use a secure password for the root account.  You will creat other
d1929 1
a1929 1
to add a missing file sets.  This does not work.  pgk_add(1) is
d2275 1
a2275 1
<small>$OpenBSD: faq4.html,v 1.139 2003/06/02 17:28:15 david Exp $</small>
@


1.139
log
@fdformat should take a raw character device as argument (e.g., /dev/rfd0c)
ok nick@@
@
text
@d2038 19
d2275 1
a2275 1
<small>$OpenBSD: faq4.html,v 1.138 2003/05/01 01:47:41 nick Exp $</small>
@


1.138
log
@
Updated FAQ for OpenBSD 3.3.
@
text
@d242 3
a244 3
  # <b>fdformat /dev/fd0a</b>
  Format 1440K floppy `/dev/fd0a'? (y/n): y
  processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
d2256 1
a2256 1
<small>$OpenBSD: faq4.html,v 1.137 2003/04/04 15:44:53 nick Exp $</small>
@


1.137
log
@
Good idea from Sam Smith (s(a)msmith.net), plan ahead.  Make it easier
to find things that need to be changed for next release if we mark 'em
now.
<!-- XXXrelease --> Release dependent stuff information
<!-- XXXversion --> actual version numbers that need to be changed
@
text
@d4 1
a4 1
<title>4 - OpenBSD 3.2 Installation Guide</title>
d27 1
a27 1
<h1><font color="#e00000">4 - OpenBSD 3.2 Installation Guide</font></h1>
d94 2
a95 2
directory on the CDROM or FTP sites (for example, <i>INSTALL.i386</i>,
<i>INSTALL.mac68k</i> or <i>INSTALL.sparc</i>).
d103 4
d114 1
a114 1
OpenBSD 3.2 supports a number of architectures listed below in
a119 2
  <li><a href="../amiga.html">amiga</a> - Amiga m68k-based models (MMU 
    required).
d121 1
d179 1
a179 1
<h3>4.1.3 - Creating bootable OpenBSD install floppies.</h3>
d192 1
a192 3
the respective <i>floppy32.fs</i> image. <br> <b>NOTE:</b> The
<i>cdrom32.fs</i> image can be used to make a bootable OpenBSD
installation CD-ROM.
d195 1
a195 1
The <a href="../i386.html">i386</a> platform has four separate
d199 1
a199 1
<li><b><i>floppy32.fs</i></b> (Desktop PC) supports many
d202 1
a202 1
<li><b><i>floppyB32.fs</i></b> (Servers) supports many RAID controllers,
d206 1
a206 1
<li><b><i>floppyC32.fs</i></b> (Laptops) supports the Cardbus and PCMCIA
d208 1
a208 1
<li><b><i>cdrom32.fs</i></b> it is, in effect a combination of 
d210 6
a215 1
	floppy, or more commonly,  as a boot image for a recordable CD. 
d219 5
a223 2
Most i386 users will just use the <i>floppy32.fs</i> installation
floppy.  Yes, there may be situations where one install disk is required
d256 1
a256 1
utility.  An example usage of <i>dd(1)</i> is below:
d260 1
a260 1
  # <b>dd if=floppy32.fs of=/dev/rfd0c bs=32k</b>
d272 1
a272 1
  # <b>cmp /dev/rfd0c floppy32.fs</b>
d279 2
a280 2
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/tools/">tools</a>
directory on any of the ftp mirrors, or in <i>3.2/tools</i> directory on
d294 3
a296 3
Note that <i>FDIMAGE.EXE</i> and <i>RAWRITE.EXE</i> are both 
MS-DOS applications, and thus, are limited to DOS's "8.3" file naming
convention.  As <i>floppy32B.fs</i> and <i>floppy32C.fs</i> have
d298 2
a299 2
the file in "8.3 format" before using <i>FDIMAGE.EXE</i> or 
<i>RAWRITE.EXE</i> to make your boot floppies.
d307 1
a307 1
  Enter source file name: <b>floppy32.fs</b>
d315 1
a315 1
  C:\> <strong>fdimage -q floppy32.fs a:</strong>
d321 1
a321 1
  C:\> <strong>ntrw floppy32.fs a:</strong>
d352 1
a352 1
<b>NOTE:</b> On the sparc64, only the sbus machines (Ultra 1, Ultra 2)
d455 5
d465 1
a465 1
/var/run/dmesg.boot. On most architectures, SHIFT+PGUP will
d490 1
a490 1
not be given the option of installing the <i>etc32.tgz</i> file.
d492 1
a492 1
<i>etc32.tgz</i> into your system before you can expect it to be 
d499 2
a500 2
this will often work, it is not supported. For OpenBSD 3.2, upgrading
3.1 to 3.2 is the only supported upgrade.  If you have to upgrade from
d511 4
a514 3
the system from scratch.  An example of this in OpenBSD 3.2 is the Sparc
platform, which switched executable formats from a.out to ELF, and so a user
upgrading to 3.2 on their Sparc must completely reload their system.
d521 1
a521 1
  Welcome to the OpenBSD/i386 3.2 install program.
d536 2
a537 1
are using a serial console for install, don't just take the default,
d897 2
a898 2
allow the creation of the recommended separate filesystems (<i>/, /tmp,
/var, /usr, /home</i>) along with a swap partition:
d902 2
a903 2
<li><i><b>wd0d: /tmp</b></i> - 120M.  /tmp is used for building some
  software, 120M will probably be enough for most things.
d1101 2
a1102 2
file /etc/myname, which is used during normal boots to set the hostname
of the system. As of OpenBSD 3.2 the name stored in <i>/etc/myname</i>
a1130 5

  If any interface will be configured by DHCP, you should not enter
  information that will be supplied via DHCP, e.g. the DNS domain name.

  Enter DNS domain name (e.g. 'bar.com'): [my.domain] <b>example.com</b>
d1132 2
a1133 4
  Which one do you wish to initialize? (or done) [fxp0] <b><i>Enter</i></b>
  IP address for fxp0 (or 'dhcp')? <b>199.185.137.55</b>
  Symbolic (host) name? [puffy] <b><i>Enter</i></b>
  Netmask? [255.255.255.0] <b><i>Enter</i></b>
d1137 2
d1140 7
a1146 4
  Enter IP address of default route: [none] <b>199.185.137.128</b>
  Enter IP address of primary nameserver: [none] <b>199.185.137.1</b>
  Would you like to use the nameserver now? [y] <b><i>Enter</i></b>
  Do you want to do more, manual, network configuration? [n] <b><i>Enter</i></b>
d1150 7
a1156 4
In the above example, we use a static IP address. You can choose to use
dhcp as well if you wish. In the case of DHCP, most of this information
will be grabbed from a remote dhcp server, though you will be given a
chance to confirm it.
d1159 31
d1195 17
d1235 1
a1235 1
  Where are the install sets you want to use? (m, c, f, etc.) <b>c</b>
d1242 1
a1242 1
only have one. If you need to make sure you pick the device
d1255 1
a1255 1
  Which one contains the install media? (or done) [cd0] <b><i>Enter</i></b>
d1257 1
a1257 1
  Enter the pathname where the sets are stored (or '?') [3.2/i386] <b><i>Enter</i></b>
d1262 1
a1262 1
which is <i>3.2/i386/</i> on the official CDROM.  
d1274 1
a1274 1
would be <i>base32.tar.gz</i>, <i>etc32.tar.gz</i> and <i>bsd</i>.
a1283 10
          [X] base32.tgz
          [X] etc32.tgz
          [X] misc32.tgz
          [X] comp32.tgz
          [X] man32.tgz
          [X] game32.tgz
          [ ] xbase32.tgz
          [ ] xshare32.tgz
          [ ] xfont32.tgz
          [ ] xserv32.tgz
d1285 11
d1297 1
a1297 1
  File Name? (or 'done') [xbase32.tgz] <b>all</b>
a1302 10
          [X] base32.tgz
          [X] etc32.tgz
          [X] misc32.tgz
          [X] comp32.tgz
          [X] man32.tgz
          [X] game32.tgz
          [X] xbase32.tgz
          [X] xshare32.tgz
          [X] xfont32.tgz
          [X] xserv32.tgz
d1304 11
d1322 1
d1336 24
d1361 3
a1363 23
  Getting base32.tgz ...
  100% |**************************************************| 23870 KB    00:15
  Getting etc32.tgz ...
  100% |**************************************************|  1447 KB    00:01
  Getting misc32.tgz ...
  100% |**************************************************|  1666 KB    00:00
  Getting comp32.tgz ...
  100% |**************************************************| 16801 KB    00:12
  Getting man32.tgz ...
  100% |**************************************************|  5428 KB    00:04
  Getting game32.tgz ...
  100% |**************************************************|  2702 KB    00:01
  Getting bsd ...
  100% |**************************************************|  4409 KB    00:01
  Getting xbase32.tgz ...
  100% |**************************************************|  8837 KB    00:04
  Getting xshare32.tgz ...
  100% |**************************************************|  1531 KB    00:02
  Getting xfont32.tgz ...
  100% |**************************************************| 30664 KB    00:14
  Getting xserv32.tgz ...
  100% |**************************************************| 14798 KB    00:05
  Extract more sets? [n] 
d1366 4
d1372 1
a1372 1
hit return at that prompt quite yet!
d1393 1
a1393 1
is to manually invoke it.  So, do not just hit 'ENTER' at the above
d1400 1
a1400 1
  Extract more sets? [n] <b>!</b>
a1402 1
  total: 307440k bytes allocated = 0k used, 307440k available
d1404 1
a1404 1
  Extract more sets? [n] <b><i>Enter</i></b>
d1414 1
a1414 1
answer 'Y', <i>/etc/sysctl.conf</i> will be modified to include the
d1445 1
a1445 1
  Select a sub-timezone of 'US' ('?' for list): <b>?</b>
d1450 1
a1450 1
  You have selected timezone 'US/Eastern'.
d1453 3
d1457 1
a1457 1
The last steps are for the system to create the <i>/dev</i> directory 
d1536 1
a1536 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.i386">INSTALL.i386</a> 
d1539 1
a1539 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.linux">INSTALL.linux</a> 
d1541 1
a1541 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.mbr">INSTALL.mbr</a> 
d1543 1
a1543 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.pt">INSTALL.pt</a> 
d1545 1
a1545 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.dbr">INSTALL.dbr</a> 
d1547 1
a1547 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.chs">INSTALL.chs</a> 
d1549 1
a1549 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.ata">INSTALL.ata</a> 
d1551 1
a1551 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.os2br">INSTALL.os2br</a>
d1566 3
a1568 1
  <li><b><i>base32.tgz</i></b>   - Contains the base OpenBSD system 
d1570 1
a1570 1
  <li><b><i>etc32.tgz</i></b>    - Contains all the files in /etc 
d1572 1
a1572 1
  <li><b><i>comp32.tgz</i></b>    - Contains the compiler and its 
d1574 7
a1580 7
  <li><b><i>man32.tgz</i></b>    - Contains man pages <b>Recommended</b>
  <li><b><i>misc32.tgz</i></b>   - Contains misc info, setup documentation
  <li><b><i>game32.tgz</i></b>   - Contains the games for OpenBSD
  <li><b><i>xbase32.tgz</i></b>  - Contains the base install for X11
  <li><b><i>xfont32.tgz</i></b>  - Contains X11's font server and fonts
  <li><b><i>xserv32.tgz</i></b>  - Contains X11's X servers
  <li><b><i>xshare32.tgz</i></b> - Contains manpages, locale settings,
a1581 1
  <li><b><i>bsd</i></b>          - This is the Kernel. <b>Required</b>
d1620 10
a1629 10
alpha           50M     250M    25M     100M
amiga           40M     200M    25M     180M
hp300           40M     200M    25M      80M
i386            40M     200M    25M     140M
mac68k          40M     200M    25M      80M
macppc          50M     200M    25M     100M
mvme68k         40M     200M    25M      80M
sparc           40M     259M    25M      49M
sparc64         50M     200M    25M     100M
vax             75M     125M    25M     180M
d1652 12
d1853 1
a1853 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.2/i386/INSTALL.linux">INSTALL.linux</a>,
d1902 1
a1902 1
Sometimes, you realize you really DID need <i>comp32.tgz</i> (or any
d1920 1
a1920 1
  # tar xzvpf comp32.tgz
d1936 1
a1936 1
<b><i>bsd.rd</i></b> is a "RAM Disk" kernel.  This file can be very 
d1943 2
a1944 2
after the boot of <i>bsd.rd</i> are stored in the kernel, and are run
from a RAM-based filesystem.  <i>bsd.rd</i> also includes a healthy set
d1948 1
a1948 1
On some platforms, <i>bsd.rd</i> is actually the preferred 
d1952 1
a1952 1
can FTP  a new version of <i>bsd.rd</i>, reboot from it, and 
d1957 1
a1957 1
Here is an example of booting <i>bsd.rd</i> on an i386 system:
d1972 2
a1973 2
The general rule on booting <i>bsd.rd</i> is to change your boot
kernel from <tt>/bsd</tt> to <i>bsd.rd</i> through whatever 
d1993 1
a1993 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot.conf&amp;sektion=8&amp;arch=i386"><i>/etc/boot.conf</i></a>
d2005 1
a2005 1
create a <i>/etc/boot.conf</i> file with the above line in it so all
d2086 1
a2086 1
version (e.g. 32).  The <tt>siteXX.tgz</tt> file set is, like the other
d2092 2
a2093 5
options <tt>xzpf</tt>.  This set is intended to be installed last, after
all other file sets
(<i>-current</i> install/upgrade scripts guarantee this, though
3.2-release does not.  Manually select this file set after the primary
installation has been completed).
d2256 1
a2256 1
<small>$OpenBSD: faq4.html,v 1.136 2003/04/02 00:14:45 nick Exp $</small>
@


1.136
log
@
Stick <tt></tt> around partition names in 4.5, and re-wrap the resulting
mess.  No words were (intentionally) changed in the making of this commit.
@
text
@d106 2
d438 1
d1480 1
d1508 1
d1758 1
d1808 1
d1990 1
d2168 1
a2168 1
<small>$OpenBSD: faq4.html,v 1.135 2003/04/01 23:48:18 nick Exp $</small>
@


1.135
log
@
/var/www is a good idea for some people, and a good example, regardless.
Suggested by Sam Smith (S(a)msmith.net).
@
text
@d1513 1
a1513 1
make your /usr partition large!  <strong>At least</strong> triple these
d1515 7
a1521 6
<li>For a system that handles lots of email or web pages (stored, 
respectively, in /var/mail and /var/www) you will want to make your 
/var partition significantly larger, or put them on separate partitions.
<li>For a
multiuser system which may generate lots of logs, you will still
want to make your /var partition significantly larger (/var/log). 
d1523 2
a1524 2
want to make the /usr partition significantly larger, <b>at least</b>
800M-1G larger than indicated below.
d1527 5
a1531 3
As you read this, keep in mind that /usr and /usr/X11R6 are usually
both parts of the same filesystem, that is, /usr, as there is no big
advantage to making them into separate filesystems.
d1550 5
a1554 5
In addition, it is recommended that a <i>/tmp</i> partition be used.
The <i>/tmp</i> partition is used in the compiling of ports, among other
things, so how big you make it depends on what you do with it.  50M may
be plenty for most people, but some large applications may require 100M
or more of <i>/tmp</i> space.
d1560 6
a1565 5
partition, which should be the sum of all the 3 main values above (/,
/usr, and /var) plus some space for /tmp.  The 'b' partition you set up
automatically becomes your system swap partition -- we recommend a
minimum of 32MB but if you have disk to spare make it at least 64MB.  If
you have lots of disk space to spare, make this 256MB, or even 512MB.
d1598 5
a1602 5
 <li>For your first attempt at an experimentation system, one big / 
   partition and swap may be easiest until you know how much space 
   you need. By doing this you will be sacrificing some of the default
   security features of OpenBSD that require separate filesystems for
   /, /tmp, /var, /usr, and /home.
d1604 6
a1609 4
   have a separate /var (and maybe even a separate /var/log) for logging.
 <li>A /home partition can be nice.  New version of the OS?  Wipe and
   reload everything else, leave your /home partition untouched.
   Remember to save a copy of your configuration files, though!
d1611 8
a1618 7
   quantity of files that may need to be deleted can be faster to 
   reformat and recreate than to delete.  See the
   <a href="upgrade-minifaq.html#1.5">upgrade-minifaq</a> for an 
   example (/usr/obj).
 <li>If you wish to rebuild your system from source for any reason, 
   the source will be in /usr/src.  If you don't make a separate 
   partition for /usr/src, make sure /usr has sufficient space.
d1620 7
a1626 7
   all space on a drive when you set the system up! Since  you will 
   now find it a challenge to buy a new drive smaller than 20G, it 
   can make sense to leave a chunk of your drive unallocated.  If you
   outgrow a partition, you can allocate a new partition from your
   unused space, <a href="faq10.html#DupFS">duplicate</a> your 
   existing partition to the new partition, change
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5">/etc/fstab</a>
d1628 3
a1630 3
 <li>If you make your partitions too close to the minimum size required, 
   you will probably regret it later, when it is time to upgrade your 
   system.  
d1634 1
a1634 1
   they use, and if they fill the partition, no other parts of your  
d2160 1
a2160 1
<small>$OpenBSD: faq4.html,v 1.134 2003/03/25 02:37:10 nick Exp $</small>
@


1.134
log
@
typos and corrections of comma abuse.  From Adrian Daigle
(Adrian dot Daigle at Colorado dot EDU), thanks!
@
text
@d1517 1
a1517 1
/var partition significantly larger.
d1603 1
d1624 5
d2153 1
a2153 1
<small>$OpenBSD: faq4.html,v 1.133 2003/03/18 03:41:04 nick Exp $</small>
@


1.133
log
@
* [FAQ Index] [Back] [Next] links at top of page ('bout time.  Finally
decided not having them was worse than the lame ideas I had).
* Top heading changed from <h2> to <h1> throughout
* [Back to Main Index] shortened to [FAQ Index] top and bottom
* Bottoms of faq5.html and faq14.html standardized.
@
text
@d34 1
a34 1
                                     Procedure.</a>
d91 1
a91 1
floppy disk. Most architectures have a similar installation procedure,
d182 1
a182 1
floppy images to choose from, different images are for different
d286 1
a286 1
longer file name, you will have to find out how your system stored 
d335 1
a335 1
for booting your installation image. Don't worry though, even if you
d492 2
a493 2
<a href="http://www.tuxedo.org/~esr/jargon/html/entry/flag-day.html">flag 
day</a> event, it is not possible to directly upgrade, one must rebuild
d517 1
a517 1
In most cases, the default terminal type is appropriate, however if you
d595 1
a595 1
uses of OpenBSD, however, there are some systems this should not be done
d684 1
a684 1
You can edit the drive layout in either by Cylinder/Heads/Sectors 
d686 1
a686 1
are doing, in this case, working around an existing partition, using
d728 1
a728 1
Note that prompt changed to include an asterisk ('<tt>*</tt>') to 
d990 3
a992 3
partition is your entire hard disk, don't attempt to alter it.  You will
also note the <i>i</i> partition wasn't defined by us, this is the
pre-existing Windows 2000 partition. partitions are not assigned any particular letters -- with the exception
d999 2
a1000 2
your drive RPM rating is probably wrong.  This is historical, the 
drive speed is not used in any way by the system, do not worry about
d1009 1
a1009 1
your selections, otherwise, you can specify them now.
d1204 1
a1204 1
default all the non-X packages are selected, however, some people may
d1302 1
a1302 1
well, if they are running near the lower-limits.
d1305 1
a1305 1
During the install process, there is normally no swap, the real RAM is
d1656 1
a1656 1
this, OpenBSD's is <a href="faq14.html#fdisk">fdisk(8)</a>, similar
d1719 1
a1719 1
On Windows XP you can also edit the boot information using the GUI, see the
d1826 1
a1826 1
useful, many developers are careful to keep it on the root of their
d1917 1
a1917 1
OpenBSD boot record is installed on the Master Boot Record of the disk,
d1936 1
a1936 1
steps, some machines will take even longer.  Just let it finish, it is
d2147 1
a2147 1
<small>$OpenBSD: faq4.html,v 1.132 2003/03/17 19:22:51 nick Exp $</small>
@


1.132
log
@
New article, getting a dmesg from a machine that won't install properly.
Based on suggestion from Peter Hessler (phessler at theapt dot org), and
something I have been wanting to do for some time...
@
text
@d20 8
a27 1
<h2><font color="#e00000">4 - OpenBSD 3.2 Installation Guide</font></h2>
d2137 1
a2137 1
<a href= "index.html">[Back to Main Index]</a>
d2147 1
a2147 1
<small>$OpenBSD: faq4.html,v 1.131 2003/03/07 15:18:21 nick Exp $</small>
@


1.131
log
@
to -> too.  Spotted by John L. Scarfone (j0 at cox dot net), thanks!
@
text
@d72 2
d2091 36
d2140 1
a2140 1
<small>$OpenBSD: faq4.html,v 1.130 2003/03/06 18:31:31 nick Exp $</small>
@


1.130
log
@
"I'm committing this thing before I go to bed" is NOT a wise thing to say.
Spotted by  Eduardo Augusto Alvarenga
(eduardo-openbsd dot 81d1ed atthrx dot dyndns dot org)
@
text
@d1611 1
a1611 1
 <li>If you make your partitions to close to the minimum size required, 
d2102 1
a2102 1
<small>$OpenBSD: faq4.html,v 1.129 2003/03/06 04:11:12 nick Exp $</small>
@


1.129
log
@
Started out as one new article, turned into two...  siteXX.tgz,
install.site/upgrade.site.  If you have a bunch of machines to set up or
upgrade, you really should check this out.  Way cool stuff.  Based
HEAVILY on notes sent to me by krw@@
@
text
@d1966 1
a1966 1
<a href="l#FilesNeeded">file sets</a>, a
d2102 1
a2102 1
<small>$OpenBSD: faq4.html,v 1.128 2003/02/28 00:34:27 nick Exp $</small>
@


1.128
log
@
Typo fixes from Tom Cosgrove (tom dot cosgrove at arches-consulting dot com).
Thanks!
@
text
@d70 2
d1959 130
d2102 1
a2102 1
<small>$OpenBSD: faq4.html,v 1.127 2003/02/27 21:50:56 nick Exp $</small>
@


1.127
log
@
Spelling typo, spotted by Christer Solstrand Johannessen (csj at csj dot no)
while in the neighborhood, noticed link to faq5's description didn't match
faq5's title.
@
text
@d84 1
a84 1
<i>INSTALL.mac68k</i> or <i>INSTALL.sparc</i>)
d607 1
a607 1
  Your will now create a single MBR partition to contain your OpenBSD data. This
d1970 1
a1970 1
<small>$OpenBSD: faq4.html,v 1.126 2003/02/26 02:54:48 nick Exp $</small>
@


1.126
log
@
typos, spotted by Tom Cosgrove (tom dot cosgrove at arches-consulting dot com>,
and at least a few weren't made by me!  whoo-hoo!  Thanks!
@
text
@d1092 5
a1096 5
Now it is time to configur your network.  The network must be configured
if you are planning on doing a ftp or nfs based install, considering it
will be based upon the information you are about to enter. Here is a
walk through of the network configuration section of the install
process.
d1962 1
a1962 1
<a href= "faq5.html">[To Section 5 - Kernel configuration and Disk Setup]</a>
d1970 1
a1970 1
<small>$OpenBSD: faq4.html,v 1.125 2003/02/25 22:55:44 nick Exp $</small>
@


1.125
log
@
durring->during, spotted by Eduardo Augusto Alvarenga
(eduardo-openbsd dot 81d1ed at thrx dot dyndns dot org), thanks!
Also removed an obnoxious '!'.  I get too excited when I write, I guess!
@
text
@d182 1
a182 1
installation disk images to choose fromr:
d992 1
a992 1
<h3>Configuring your mount points and formating your filesystems</h3>
d1970 1
a1970 1
<small>$OpenBSD: faq4.html,v 1.124 2003/02/25 21:04:15 nick Exp $</small>
@


1.124
log
@
New article, inspired by...well, the frequently asked question...
@
text
@d62 1
a62 1
  <li><a href="#mkdevhang" >4.10.1 - Install hangs durring MAKEDEV</a>
d64 1
a64 1
  <li><a href="#noboot"    >4.10.3 - My i386 won't boot after install!</a>
d1970 1
a1970 1
<small>$OpenBSD: faq4.html,v 1.123 2003/02/25 04:00:10 david Exp $</small>
@


1.123
log
@remove double word stuttering.
ok nick@@
@
text
@d67 2
d1928 29
d1970 1
a1970 1
<small>$OpenBSD: faq4.html,v 1.122 2003/02/24 00:39:49 kjell Exp $</small>
@


1.122
log
@"setup" is a noun. "set up" is the verb form.
OK nick@@
@
text
@d1161 1
a1161 1
only have one. If you  you need to make sure you pick the device
d1939 1
a1939 1
<small>$OpenBSD: faq4.html,v 1.121 2003/02/20 03:09:55 nick Exp $</small>
@


1.121
log
@
Page name cleanups.  Standardize capitalization, and change
x.0 -> x on titles and on "next/previous" links at bottom of page.
From Tom Cosgrove (tom dot cosgrove at arches-consulting dot com), thanks!
@
text
@d992 1
a992 1
Now comes the final setup of your mount points.  If you configured the
d1136 1
a1136 1
After your network is setup, the install script will give you a chance
d1744 1
a1744 1
a favor (after you have your mail system setup!) and type
d1939 1
a1939 1
<small>$OpenBSD: faq4.html,v 1.120 2003/02/03 18:56:50 nick Exp $</small>
@


1.120
log
@
rework of #Multiboot.  Couple new options, updates and clean up of rest.
@
text
@d1930 2
a1931 2
<a href= "faq3.html">[To Section 3.0 - Obtaining OpenBSD]</a>
<a href= "faq5.html">[To Section 5.0 - Kernel configuration and Disk Setup]</a>
d1939 1
a1939 1
<small>$OpenBSD: faq4.html,v 1.119 2003/01/01 13:02:00 nick Exp $</small>
@


1.119
log
@
Rev copyrights to 2003.
@
text
@d1615 1
a1615 1
<h2>4.6 - Multibooting OpenBSD (i386, alpha)</h2>
d1617 45
a1661 2
<p>
<strong>OpenBSD and Windows NT/2000/XP</strong>
d1663 23
a1685 5
<p>
To multiboot OpenBSD and Windows NT/2000/XP), you can use NTloader, the
bootloader that NT uses. To multi-boot with NT,  you need a copy of your
OpenBSD pbr. After running installboot, you can copy it something like
this:
d1692 2
a1693 3
Now boot NT and put openbsd.pbr in C:. Add a line like this to the end
of <i>C:\BOOT.INI</i>:

d1701 2
a1702 2
menu. There is much more information available about NTloader at the 
<a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm"> NTLDR
d1711 6
a1716 1
<strong>OpenBSD and Windows or DOS (i386)</strong>
d1719 5
a1723 7
To boot OpenBSD along with Windows 3.1, Windows95, or DOS you must use a
boot loader on the system that can handle OpenBSD, Windows, and DOS!
Some bootloaders of choice are 
<a href="http://www.rastersoft.com/gageng.htm">GAG</a>,
<a href="http://www.freebird.org/sw-map/bootmanager.html">osbs20b8.zip</a>
or <a href="http://www.ranish.com/part/">The Ranish Partition
Manager</a>.  Both of these are able to boot OpenBSD partitions.
d1726 1
a1726 1
<strong>OpenBSD and Linux (i386)</strong>
a1732 1
<p>
d1939 1
a1939 1
<small>$OpenBSD: faq4.html,v 1.118 2002/12/27 03:22:45 nick Exp $</small>
@


1.118
log
@
ARGH!!! lost a <p> at the end!  That's what I get for harassing Henning
about taking three commits for one fix...
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2002 by OpenBSD.">
d1877 1
a1877 1
<small>$OpenBSD: faq4.html,v 1.117 2002/12/27 03:17:34 nick Exp $</small>
@


1.117
log
@
New article: Common Installation Problems
@
text
@d1864 1
d1877 1
a1877 1
<small>$OpenBSD: faq4.html,v 1.116 2002/12/11 03:38:17 nick Exp $</small>
@


1.116
log
@
Spelling error, spotted by Jung (pilot at monkey.org)
@
text
@d60 8
d1792 73
d1876 1
a1876 1
<small>$OpenBSD: faq4.html,v 1.115 2002/11/10 01:43:04 nick Exp $</small>
@


1.115
log
@
English demangling, wording improvement, suggested by Horacio@@.
@
text
@d179 1
a179 1
        and some of the less common SCSI adapters.  Hoever,
d1795 1
a1795 1
<small>$OpenBSD: faq4.html,v 1.114 2002/11/01 15:17:30 nick Exp $</small>
@


1.114
log
@
rework of installation guide.  ok krw@@.
BIG Thanks to krw@@ and Margarida Sequeira <niness@@devilness.org> for
their assistance!
@
text
@d658 3
a660 3
at cylinder 203.  You could also calculate that the OpenBSD's starting
sector of 3069360 by adding the starting sector and the size of the 
existing partition.
d1795 1
a1795 1
<small>$OpenBSD: faq4.html,v 1.113 2002/10/04 13:31:11 nick Exp $</small>
@


1.113
log
@
Typo, spotted by Jesse Gordon <jesseg@@suespammers.org>, thanks!
@
text
@d1 1
d4 1
a4 1
<title>4.0 - Installation Guide</title>
d6 1
d14 2
d20 2
a21 1
<h2><font color=#e00000>4.0 - Installation Guide</font><hr></h2>
d24 2
a25 1
<ul><h3>Table of Contents</h3>
d28 26
a53 2
<li><a href= "#FilesNeeded" >4.2 - What files are needed for Installation?</a>
<li><a href= "#SpaceNeeded" >4.3 - How much space do I need for an
d55 2
a56 2
<li><a href= "#Multibooting">4.4 - Multibooting OpenBSD</a>
<li><a href= "#SendDmesg"   >4.5 - Sending your dmesg to dmesg@@openbsd.org
d58 2
a59 2
<li><a href= "#AddFileSet"  >4.6 - Adding a file set after install</a>
<li><a href= "#bsd.rd"      >4.7 - What is 'bsd.rd'?</a>
a64 1
<a name= "4.1"></a>
a67 6
This FAQ now contains installation instructions for OpenBSD 3.1. There
are differences between the 3.1 installation and installation of earlier
versions of OpenBSD, however this guide will help you through recent
releases.

<p>
d73 2
a74 2
directory on the CDROM or FTP sites (for example, <tt>INSTALL.i386</tt>,
<tt>INSTALL.mac68k</tt> or <tt>INSTALL.sparc</tt>)
d80 2
a81 2
CDROM.  CDROMs are available for <a href="../orders.html">purchase</a>,
however.
d83 1
d87 1
a87 1
OpenBSD 3.1 supports a number of architectures listed below in
d96 1
a96 1
  <li><a href="../i386.html">i386</a> - Intel based PC's.
d108 1
d112 1
a112 1
OpenBSD has the ability to install from multiple media types. The most
d114 2
a115 2
options can be used after booting from either an OpenBSD CD-ROM or floppy
disk. 
d117 1
d126 1
a126 1
		created your own OpenBSD CD. This is certainly the easiest
d138 1
a138 2
		the network. With this option you can choose either a 
		static IP for use or grab an IP via DHCP.
d147 1
a147 1
		are included on the install disk. 
d152 1
a152 2
<a name="Overview.3"></a>
<a name="4.1.3"></a>
d156 3
a158 2
To create an installation floppy image you must first download the
correct boot floppy image from one of the OpenBSD distribution sites.
d166 2
a167 2
the respective <i>floppy31.fs</i> image. <br> <b>NOTE:</b> The
<i>cdrom31.fs</i> image can be used to make a bootable OpenBSD
d172 1
a172 2
installation disk images to choose from. The differences between each
are outlined below.
d175 2
a176 2
<li><b>floppy31.fs</b> supports most desktop systems, with supported
	PCI and ISA NICs, IDE and simple SCSI adapters.  Some PCMCIA
d178 2
a179 1
<li><b>floppyB31.fs</b> supports many RAID controllers, however 
d181 4
a184 7
	NICS has been removed.  This would be the boot disk of choice
	for many large servers.  Some more infrequently encountered 
	SCSI adapters are here, as well.
<li><b>floppyC31.fs</b> supports Cardbus and PCMCIA devices found in
	many laptops.  
<li><b>cdrom31.fs</b> supports most of the disk and network drivers
	of the installed system, it is, in effect a combination of 
d190 1
a190 1
Most i386 users will just use the <i>floppy31.fs</i> installation
d199 7
a205 3
will most likely fail. To prepare a floppy from another system running a
UNIX-like operating system (including OpenBSD) use the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&sektion=1&arch=i386">fdformat(1)</a>
d208 6
a213 7
<ul>
<table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
    # <b>fdformat /dev/fd0a</b><br>
    Format 1440K floppy `/dev/fd0a'? (y/n): y<br>
    processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
</tt></td></tr> </table>
</ul>
d221 4
a224 2
If you are formatting in MS-DOS or Windows, simply use the DOS <tt>FORMAT</tt>
 command.
d227 3
a229 11
Once you have a clean, formatted floppy it is time to write the
installation image to floppy. If you are creating this on an OpenBSD
machine or another UNIX-like OS, you can use the 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&sektion=0">dd(1)</a>
utility.  an example usage of dd(1) is below:

<ul>
  <table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
    # <b>dd if=floppy31.fs of=/dev/rfd0c bs=126b</b>
  </tt></td></tr></table>
</ul>
d233 3
a235 1
the same as the original with the following command. If the test passes,
d238 4
a241 5
<ul>
  <table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
    # <b>cmp /dev/rfd0c floppy31.fs</b>
  </tt></td> </tr> </table>
</ul>
d243 6
a248 5
<p>
Again, if you are creating this image on the Windows/DOS platform you
can get tools from the 
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/tools/">tools</a>
directory on any of the ftp mirrors, or in <b>3.1/tools</b> directory on
d252 3
a254 11
<ul>
  Example usage of <i>rawrite</i>:
  <table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
    C:\> <b>rawrite</b><br>
    RaWrite 1.2 - Write disk file to raw floppy diskette<br><br>

    Enter source file name: <b>floppy31.fs</b><br>
    Enter destination drive: <b>a</b><br>
    Please insert a formatted diskette into drive A: and press -ENTER- : </tt><i><b>Enter</b></i><tt>
  </tt> </td> </tr> </table> 
</ul>
d257 3
a259 19
If you use NT, rawrite will not work for you. You can, however, use
<i>fdimage</i> or <i>ntrw</i> to write the boot floppy. Both of which
are available on the ftp sites (linked above), or the OpenBSD CD. Here
are example usages for each program.

<ul>
  Example Usage of <i>fdimage</i>:
  <table border=0 width="650"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
    C:\> <strong>fdimage -q floppy31.fs a:</strong>
  </tt></td></tr></table>

  Example Usage of <i>ntrw</i>:
  <table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
   C:\> <strong>ntrw floppy31.fs a:</strong><br>
   3.5", 1.44MB, 512 bytes/sector<br>
   bufsize is 9216<br>
   1474560 bytes written<br>
  </tt></td></tr></table>
</ul>
d262 1
a262 1
Note that <tt>FDIMAGE.EXE</tt> and <tt>RAWRITE.EXE</tt> are both 
d264 1
a264 1
convention.  As <tt>floppy31B.fs</tt> and <tt>floppy31C.fs</tt> have
d266 2
a267 2
the file in "8.3 format" before using <tt>FDIMAGE.EXE</tt> or 
<tt>RAWRITE.EXE</tt> to make your boot floppies.
d269 27
a305 1
<ul>
d310 2
a311 1
automatically load. If you are planning on booting from CD, you must go
a315 1
</ul>
d319 4
a322 1
<ul>
d328 2
a329 2
<ul>
 <table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d331 1
a331 2
 </tt></td></tr></table>
</ul>
d338 4
a341 5
<ul>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
ok <b>boot cdrom</b>
</tt></td></tr></table>
</ul>
d351 11
a361 11
<ul>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
ok <b>probe-scsi</b><br>
Target 0<br>
  Unit 0   Disk     QUANTUM LIGHTNING 365S<br>
Target 1<br>
  Unit 0   Removable Disk     QUANTUM EMPIRE_1080S<br>
Target 3<br>
  Unit 0   Removable Disk     Joe's CD ROMs<br>
</tt></td></tr></table>
</ul>
d367 42
a408 5
<ul>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
ok <b>boot /sbus/esp/sd@@X,0</b>
</tt></td></tr></table>
</ul>
a410 11
<h3>Starting the Install</h3>
Now that your bootdisk has been created, it's time to boot it.  When you
boot this floppy, the kernel and all of the programs that OpenBSD uses
to install itself are loaded into memory.  If problems arise, and your
bootdisk doesn't boot, the problem is probably due to a bad floppy disk.
This is an extremely common problem!  If your bootdisk fails to boot,
try it a second time, and if it fails again, throw away the floppy and
get a new one.  When your floppy fails to boot, even if the floppy
worked fine for you before, keep in mind that OpenBSD uses nearly every
single bit available from the floppy.  Any error in the disk will
prevent OpenBSD from loading.
d412 13
a424 3
<p>
When your boot is successful, you will see a lot of white on blue text, the 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dmesg&sektion=8">dmesg</a>, 
d426 3
a428 1
and where.  Then, you will see the following:
d430 2
a431 5
<ul>
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
rootdev=0x1100 rrootdev=0x2f00 rawdev=0x2f02<br>
erase ^?, werase ^W, kill ^U, intr ^C, status ^T<br>
(I)nstall, (U)pgrade or (S)hell? <b>i</b><br>
d433 6
a438 1
Welcome to the OpenBSD/i386 3.1 installation program.<br>
d440 19
a458 2
This program is designed to help you put OpenBSD on your disk in a simple and<br>
rational way.<br>
d460 8
a467 17
As with anything which modifies your disk's contents, this program can cause<br>
SIGNIFICANT data loss, and you are advised to make sure your data is backed<br>
up before beginning the installation process.<br>
<br>
Default answers are displayed in brackets after the questions.  You can hit<br>
Control-C at any time to quit, but if you do so at a prompt, you may have<br>
to hit return.  Also, quitting in the middle of installation may leave your<br>
system in an inconsistent state.  If you hit Control-C and restart the<br>
install, the install program will remember many of your old answers.<br>
<br>
Proceed with install? [n] <b>y</b><br>
<br>
Cool!  Let's get to it...<br>
<br>
Specify terminal type [vt220]: </tt><i><b>Enter</b></i><tt><br>
Do you wish to select a keyboard encoding table? [n] </tt><i><b>Enter</b></i><tt><br>
</tt></td></tr></table>
d470 10
d481 37
a517 4
Depending on the architecture you are using, the terminal type you use
might be different. For example, OpenBSD/sparc uses the &quot;sun&quot;
terminal type.
</ul>
d519 2
a520 1
<h3>4.1.5 - Setting up disks during installation.</h3>
d523 1
a523 1
Setting up disks in OpenBSD varies a bit between platforms. For 
d526 1
a526 1
disk is defined using fdisk(8), then that partition is subdivided into
d536 1
a536 1
partition is sub-partitioned into individual file systems.  The first
d540 90
a629 1
and those OSs which can directly read an OpenBSD file system.
d631 2
d634 82
a715 17
<table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
At any prompt except password prompts you can run a shell command by<br>
typing '!foo', or escape to a shell by typing '!'.<br>
<br>
The installation program needs to know which disk to consider the root disk.<br>
Note the unit number may be different than the unit number you used in the<br>
boot program (especially on a PC with multiple disk controllers).<br>
Available disks are:<br>
<br>
wd0<br>
<br>
Which disk is the root disk? [wd0] <i><b>&gt;Enter&lt;</b></i><br>
Do you want to use the *entire* disk for OpenBSD? [no] <b>yes</b><br>
<br>
[...]<br>
</tt></td></tr></table>
</ul>
d718 15
a732 7
This is the section in the install where you choose which disk you want
as your &quot;root&quot; disk. Your root disk will be where the /
filesystem and swap will be. <b>wd0</b> specifies an IDE disk;  if your
disks are SCSI you will most likely see <b>sd0</b>. There will be an
entry for each disk that OpenBSD finds, which is normally every disk in
your system.  If your disks are not showing up here as you expect, you
have improperly configured or unsupported hardware.
d734 2
a735 17
<p> 
In this example, we have chosen to allocate the entire disk to OpenBSD.
This will result in a simple partition table being written out to disk
-- one partition, the size of the entire hard disk, set to the OpenBSD
partition type, and flagged as the bootable partition.  This will be a
common option for most production uses of OpenBSD, however, there are
some systems this should not be done on.  Many Compaq systems, some Dell
and other systems use a "maintenance" partition, which should be kept
intact.  If your system has any other partitions of any type you do not
wish to erase, do not select "yes" to the above question.

<p>
If you choose not to allocate the entire disk to OpenBSD, you will be
placed in the OpenBSD disk partition editor,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&sektion=8&arch=i386">fdisk(8)</a>.
For more information on using fdisk(8), refer to 
<a href="faq14.html#fdisk">FAQ 14, fdisk</a>.
d738 6
a743 4
<b>Important Note:</b>
i386 users with a large hard disk (larger than 8G, though on older machines, 
potentially much smaller) will want to see 
<a href="faq14.html#LargeDrive">this section</a> before going any further.
d745 1
d747 1
d750 1
a750 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8">disklabel(8)</a> 
d756 58
a813 4
NOTE: OpenBSD does NOT support any sort of journaling filesystems like
ReiserFS, IBM's JFS or SGI's XFS.  Instead we use 
<a href="faq14.html#SoftUpdates">Soft Updates</a>. The filesystem for
OpenBSD is FFS.
d815 2
d818 65
d884 81
a964 127
Inside the BIOS 'A6' ('OpenBSD') partition you just created, there resides an
OpenBSD partition table which defines how this BIOS partition is to be split
up. This table declares the offsets and sizes of your / partition, your swap
space, and any other partitions you might create.  (NOTE: The OpenBSD disk
label offsets are absolute, ie. relative to the start of the disk... NOT
relative to the start of the BIOS 'A6' partition).

If this disk is shared with other operating systems, those operating systems
should have a BIOS partition entry that spans the space they occupy completely.
For safety, also make sure all OpenBSD file systems are within the offset and
size specified in the 'A6' BIOS partition table.  (By default, the disklabel
editor will try to enforce this).  If you are unsure of how to use multiple
partitions properly (ie. separating /,  /usr, /tmp, /var, /usr/local, and other
things) just split the space into a root and swap partition for now.

# using MBR partition 3: type A6 off 63 (0x3f) size 12643092 (0xc0eb14)

Treating sectors 63-12658776 as the OpenBSD portion of the disk.
You can use the 'b' command to change this.

Initial label editor (enter '?' for help at any prompt)
> <b>?</b>
Available commands:
        p [unit]  - print label.
        M         - show entire OpenBSD man page for disklabel.
        e         - edit drive parameters.
        a [part]  - add new partition.
        b         - set OpenBSD disk boundaries.
        c [part]  - change partition size.
        d [part]  - delete partition.
        D         - set label to default.
        g [d|b]   - Use [d]isk or [b]ios geometry.
        m [part]  - modify existing partition.
        n [part]  - set the mount point for a partition.
        r         - recalculate free space.
        u         - undo last change.
        s [path]  - save label to file.
        w         - write label to disk.
        q         - quit and save changes.
        x         - exit without saving changes.
        X         - toggle expert mode.
        z         - zero out partition table.
        ? [cmnd]  - this message or command specific help.
Numeric parameters may use suffixes to indicate units:
        'b' for bytes, 'c' for cylinders, 'k' for kilobytes, 'm' for megabytes,
        'g' for gigabytes or no suffix for sectors (usually 512 bytes).
        Non-sector units will be rounded to the nearest cylinder.
Entering '?' at most prompts will give you (simple) context sensitive help.
> <b>p</b>
device: /dev/rwd0c
type: ESDI
disk: ESDI/IDE disk
label: Maxtor 86480D6
bytes/sector: 512
sectors/track: 63
tracks/cylinder: 15
sectors/cylinder: 945
cylinders: 13395
total sectors: 12658776
free sectors: 12658713
rpm: 3600

16 partitions:
#        size   offset    fstype   [fsize bsize   cpg]
  a: 12643092       63    unused        0     0
  c: 12658776        0    unused        0     0
> <b>d a</b>
> <b>a a</b>
offset: [63] <b><i>&gt;Enter&lt;</i></b>
size: [12658713] <b>80m</b>
Rounding to nearest cylinder: 163422
FS type: [4.2BSD] <b><i>&gt;Enter&lt;</i></b>
mount point: [none] <b>/</b>
> <b>a b</b>
offset: [163485] <b><i>&gt;Enter&lt;</i></b>
size: [12495291] <b>300m</b>
Rounding to nearest cylinder: 614250
FS type: [swap] <b><i>&gt;Enter&lt;</i></b>
> <b>a d</b>
offset: [777735] <b><i>&gt;Enter&lt;</i></b>
size: [11881041] <b>80m</b>
Rounding to nearest cylinder: 163485
FS type: [4.2BSD] <b><i>&gt;Enter&lt;</i></b>
mount point: [none] <b>/tmp</b>
> <b>a e</b>
offset: [941220] <b><i>&gt;Enter&lt;</i></b>
size: [11717556] <b>80m</b>
Rounding to nearest cylinder: 163485
FS type: [4.2BSD] <b><i>&gt;Enter&lt;</i></b>
mount point: [none] <b>/var</b>
> <b>a g</b>
offset: [1104705] <b><i>&gt;Enter&lt;</i></b>
size: [11554071] <b>2g</b>
Rounding to nearest cylinder: 4193910
FS type: [4.2BSD] <b><i>&gt;Enter&lt;</i></b>
mount point: [none] <b>/usr</b>
> <b>a h</b>
offset: [5298615] <b><i>&gt;Enter&lt;</i></b>
size: [7360161] <b><i>&gt;Enter&lt;</i></b>
FS type: [4.2BSD] <b><i>&gt;Enter&lt;</i></b>
mount point: [none] <b>/home</b>
> <b>p</b>
device: /dev/rwd0c
type: ESDI
disk: ESDI/IDE disk
label: Maxtor 86480D6
bytes/sector: 512
sectors/track: 63
tracks/cylinder: 15
sectors/cylinder: 945
cylinders: 13395
total sectors: 12658776
free sectors: 0
rpm: 3600

16 partitions:
#        size   offset    fstype   [fsize bsize   cpg]
  a:   163422       63    4.2BSD     1024  8192    16  # /
  b:   614250   163485      swap
  c: 12658776        0    unused        0     0
  d:   163485   777735    4.2BSD     1024  8192    16  # /tmp
  e:   163485   941220    4.2BSD     1024  8192    16  # /var
  g:  4193910  1104705    4.2BSD     1024  8192    16  # /usr
  h:  7360161  5298615    4.2BSD     1024  8192    16  # /home
> <b>w</b>
> <b>q</b>
No label changes.
a965 1
</ul>
d968 7
a974 5
Notice how each mount point is split onto its own partition. For many
applications, it is best to make at least five separate filesystems, one
for your / filesystem, one for swap, one for /var, one for /tmp, and one
for /usr. If users are going to log into the system, you want a separate
/home filesystem too.
d977 4
a980 5
The answer to the question, "How should I partition my system?" is
"Exactly how you need it".  This will vary from application to
application.  There is no universal answer.  If you are unsure of how
you want to partition your system, see <a href="#SpaceNeeded">this
discussion</a>.
d982 1
a982 2

<h3>4.1.6 - Configuring your mount points and formating your filesystems</h3>
d985 3
a987 1
mount points through disklabel(8), this step consists of just verifying
d990 1
a990 1
<ul>
d992 39
a1030 51
You will now have the opportunity to enter filesystem information for wd0.
You will be prompted for the mount point (full path, including the prepending
'/' character) for each BSD partition on wd0. Enter "none" to skip a
partition or "done" when you are finished.

The following partitions will be used for the root filesystem and swap:<br>
        wd0a    /
        wd0b    swap


Mount point for wd0d (size=81742k) [/tmp, RET, none, or done]? <b><i>&gt;Enter&lt;</i></b>
Mount point for wd0e (size=81742k) [/var, RET, none, or done]? <b><i>&gt;Enter&lt;</i></b>
Mount point for wd0g (size=2096955k) [/usr, RET, none, or done]? <b><i>&gt;Enter&lt;</i></b>
Mount point for wd0h (size=3680080k) [/home, RET, none, or done]? <b><i>&gt;Enter&lt;</i></b>
Mount point for wd0d (size=81742k) [/tmp, RET, none, or done]? <b>done</b>

Now you can select another disk to initialize. (Do not re-select a disk
you have already entered information for). Available disks are:

wd0

Which one? [done] <b><i>&gt;Enter&lt;</i></b>

You have configured the following devices and mount points:

wd0a /
wd0h /home
wd0d /tmp
wd0g /usr
wd0e /var

============================================================
The next step will overwrite any existing data on:
        wd0a wd0h wd0d wd0g wd0e

Are you really sure that you're ready to proceed? [n] <b>y</b>
Creating filesystems...
Warning: 63 sector(s) in last cylinder unallocated
/dev/rwd0a:     163422 sectors in 173 cylinders of 15 tracks, 63 sectors
        79.8MB in 11 cyl groups (16 c/g, 7.38MB/g, 1792 i/g)
Warning: 445 sector(s) in last cylinder unallocated
/dev/rwd0h:     7360160 sectors in 7789 cylinders of 15 tracks, 63 sectors
        3593.8MB in 487 cyl groups (16 c/g, 7.38MB/g, 1792 i/g)
Warning: 1 sector(s) in last cylinder unallocated
/dev/rwd0d:     163484 sectors in 173 cylinders of 15 tracks, 63 sectors
        79.8MB in 11 cyl groups (16 c/g, 7.38MB/g, 1792 i/g)
/dev/rwd0g:     4193910 sectors in 4438 cylinders of 15 tracks, 63 sectors
        2047.8MB in 278 cyl groups (16 c/g, 7.38MB/g, 1792 i/g)
Warning: 1 sector(s) in last cylinder unallocated
/dev/rwd0e:     163484 sectors in 173 cylinders of 15 tracks, 63 sectors
        79.8MB in 11 cyl groups (16 c/g, 7.38MB/g, 1792 i/g)
a1031 1
</ul>
d1035 9
a1043 3
is because you can not mount (say) /usr/src before you have mounted /usr.
The "Mount point" dialog is to give you flexibility for the order that 
file systems are mounted in /etc/fstab.
d1050 6
a1055 5
just by rebooting again with your bootdisk. At this point it will format
all filesystems for you.  This could take some time depending on the
size of your disk.

<h3>4.1.7 - Configuring your Network</h3>
d1057 2
d1060 20
a1079 5
Now it's time to setup your network configuration. This is extremely
important if you are planning on doing any network based install,
considering it will be based upon the information you are about to
enter. Here is a walk through of the network configuration section of
the install process.
d1081 8
a1088 1
<ul>
d1090 20
a1109 51
You will now be given the opportunity to configure the network. This will be
useful if you need to transfer the installation sets via FTP, HTTP, or NFS.
Even if you choose not to transfer installation sets that way, this information
will be preserved and copied into the new root filesystem.

Configure the network? [y] <b><i>&gt;Enter&lt;</i></b>
Enter system hostname (short form, e.g. 'foo'): [] <b>puffy</b>

If any interfaces will be configured using a DHCP server
it is recommended that you do not enter a DNS domain name,
a default route, or any name servers.

Enter DNS domain name (e.g. 'bar.com'): [] <b>example.com</b>

You may configure the following network interfaces (the interfaces
marked with [X] have been successfully configured):

        [ ] fxp0

Configure which interface? (or 'done') [fxp0] <b><i>&gt;Enter&lt;</i></b>
IP address (or 'dhcp')? [] <b>199.185.137.55</b>
Symbolic (host) name? [puffy] <b><i>&gt;Enter&lt;</i></b>
Netmask? [255.255.255.0] <b><i>&gt;Enter&lt;</i></b>
Your use of the network interface may require non-default
media directives. The default media is:
        media: Ethernet autoselect (none)
This is a list of supported media:
        media none
        media 10baseT
        media 10baseT mediaopt full-duplex
        media 100baseTX
        media 100baseTX mediaopt full-duplex
        media autoselect
        media none instance 1
        media 100baseTX instance 1
        media 100baseTX mediaopt full-duplex instance 1
        media 100baseT4 instance 1
If the default is not satisfactory, and you wish to use another
media, copy that line from above (e.g. "media 100baseTX")
Media directives? [] <b><i>&gt;Enter&lt;</i></b>

You may configure the following network interfaces (the interfaces
marked with [X] have been successfully configured):

        [X] fxp0

Configure which interface? (or 'done') [done] <b><i>&gt;Enter&lt;</i></b>
Enter IP address of default route: [none] <b>199.185.137.128</b>
Enter IP address of primary nameserver: [none] <b>199.185.137.1</b>
Would you like to use the nameserver now? [y] <b><i>&gt;Enter&lt;</i></b>
</pre></td></tr></table></ul>
d1111 1
d1114 8
a1121 1
will be grabbed from a remote dhcp server.
d1124 2
a1125 1
<h3>4.1.8 - Choosing Installation Media</h3>
d1129 1
a1129 1
to make any changes to your network setup. Then the filesystems you
a1131 3
After your local disks are ready, you will be asked if you plan to run X
on this system.  If you answer 'Y', <tt>/etc/sysctl.conf</tt> will be
modified to include the line <i>machdep.allowaperture=1</i>.
d1137 1
a1137 1
<ul>
d1139 9
a1147 31
You will now be given the opportunity to escape to the command shell to do
any additional network configuration you may need. This may include adding
additional routes, if needed. In addition, you might take this opportunity
to redo the default route in the event that it failed above.
Escape to shell? [n] <b><i>&gt;Enter&lt;</i></b>
/dev/wd0a on /mnt type ffs (rw, asynchronous, local, ctime=Tue Apr 16 15:50:28 2
002)
/dev/wd0h on /mnt/home type ffs (rw, asynchronous, local, ctime=Tue Apr 16 15:50
:28 2002)
/dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local, ctime=Tue Apr 16 15:50:
28 2002)
/dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local, ctime=Tue Apr 16 15:50:
28 2002)
/dev/wd0e on /mnt/var type ffs (rw, asynchronous, local, ctime=Tue Apr 16 15:50:
28 2002)

Please enter the initial password that the root account will have.
Password (will not echo): <b><i>&gt;enter root PW&lt;</i></b>
Password (again): <b><i>&gt;re-enter root PW&lt;</i></b>

Do you expect to run the X Window System? [y] <b><i>&gt;Enter&lt;</i></b>


You must now specify where the install sets you want to use are. They
must either be on a local device (disk, tape, or CD-ROM), an
accessible NFS filesystem or an accessible ftp or http network
server. You will have the chance to repeat this step or to extract
sets from several places, so you do not have to try to load all the
sets in one try and can recover from some errors.

Install from (f)tp, (h)ttp, (t)ape, (C)D-ROM or local (d)isk? <b>c</b>
a1148 1
</ul>
d1151 1
a1151 1
In this example we are installing via CD-ROM. This will bring up a list
d1153 2
a1154 5
only have one; if you don't, you need to make sure you pick the device
which you will use to install OpenBSD from. After choosing the correct
device, you will be prompted for which filesystem the installation files
will reside on. If you are using the OpenBSD CD-ROM you will choose 'c'
here, for 'c' represents the whole disk. Here is an example:
d1156 8
a1163 1
<ul>
d1165 2
a1166 3
The following CD-ROM devices are installed on your system.
Please make sure the CD is in the CD-ROM drive and select
the device containing the CD with the installation sets:
d1168 1
a1168 6
cd0

Which CD-ROM contains the installation media? [cd0] <b><i>&gt;Enter&lt;</i></b>

Enter the directory relative to the mount point that contains
the file: [3.1/i386] <b><i>&gt;Enter&lt;</i></b>
a1169 1
</ul>
d1173 1
a1173 1
which is <tt>/3.1/i386/</tt> on the official CDROM.  
d1175 2
a1176 1
<h3>4.1.9 - Choosing installation packages and finishing the install.</h3>
d1185 1
a1185 1
would be <tt>base31.tar.gz</tt>, <tt>etc31.tar.gz</tt> and <tt>bsd</tt>.
d1187 1
a1187 1
full install, minus the games package.
d1189 1
a1189 1
<ul>
d1191 33
a1223 56
You will now be asked which sets to install. Some of these sets are required
for your install and some are optional. You will want at least the
base and bsd sets. Consult the installation notes if you are not sure
which sets are required!

The following sets are available. Enter a filename, 'all' to select
all the sets, or 'done'. You may de-select a set by prepending a '-'
to its name.

        [X] base31.tgz
        [X] etc31.tgz
        [X] misc31.tgz
        [X] comp31.tgz
        [X] man31.tgz
        [X] game31.tgz
        [ ] xbase31.tgz
        [ ] xshare31.tgz
        [ ] xfont31.tgz
        [ ] xserv31.tgz
        [X] bsd
File name? [xbase31.tgz] <b>*</b>

The following sets are available. Enter a filename, 'all' to select
all the sets, or 'done'. You may de-select a set by prepending a '-'
to its name.

        [X] base31.tgz
        [X] etc31.tgz
        [X] misc31.tgz
        [X] comp31.tgz
        [X] man31.tgz
        [X] game31.tgz
        [X] xbase31.tgz
        [X] xshare31.tgz
        [X] xfont31.tgz
        [X] xserv31.tgz
        [X] bsd
File name? [done] <b>-game31.tgz</b>

The following sets are available. Enter a filename, 'all' to select
all the sets, or 'done'. You may de-select a set by prepending a '-'
to its name.

        [X] base31.tgz
        [X] etc31.tgz
        [X] misc31.tgz
        [X] comp31.tgz
        [X] man31.tgz
        [ ] game31.tgz
        [X] xbase31.tgz
        [X] xshare31.tgz
        [X] xfont31.tgz
        [X] xserv31.tgz
        [X] bsd
File name? [game31.tgz] <b>done</b>
Ready to install sets? [y] <b><i>&gt;Enter&lt;</i></b>
d1225 6
a1230 1
</ul>
a1240 1
<ul>
d1242 2
a1243 22
Ready to install sets? [y] <b><i>&gt;Enter&lt;</i></b>

Getting base31.tgz ...
100% |**************************************************| 23299 KB    00:25
Getting etc31.tgz ...
100% |**************************************************|  1164 KB    00:02
Getting misc31.tgz ...
100% |**************************************************|  1664 KB    00:01
Getting comp31.tgz ...
100% |**************************************************| 16061 KB    00:18
Getting man31.tgz ...
100% |**************************************************|  5412 KB    00:08
Getting bsd ...
100% |**************************************************|  4436 KB    00:02
Getting xbase31.tgz ...
100% |**************************************************|  8520 KB    00:06
Getting xshare31.tgz ...
100% |**************************************************|  1815 KB    00:05
Getting xfont31.tgz ...
100% |**************************************************| 30657 KB    00:31
Getting xserv31.tgz ...
100% |**************************************************| 19339 KB    00:11
d1245 23
a1267 1
Extract more sets? [n] <b><i>&gt;don't answer yet!&lt;</i></b>
a1268 1
</ul>
d1274 2
a1275 2
<a name="SmallRAM">  </a>
<h4>Special steps for machines with little RAM</h4>
d1295 1
a1295 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapon&sektion=8">swapon(8)</a>
d1298 9
a1306 12
<ul><table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><tt>
Extract more sets? [n] <b>!</b><br>
Type 'exit' to return to install.<br>
# <b>/mnt/sbin/swapon /dev/wd0b</b><br>
# <b>exit</b><br>
<b>n</b><br>
</tt></td></tr></table>
</ul>

Note the 'n' as the last step.  Remember, we called up the shell from
the "Extract more sets?" question, that last 'n' is answering that
question.
d1311 7
a1317 55
<h3>Finishing up</h3>
Once this is done, all that's left is to set your timezone and install
the boot blocks. Setting your timezone is straightforward. Just pick the
area you live in and enter the name. That's it!.  After this is done,
just type 'reboot' at the shell prompt and your machine will be booted
with OpenBSD!

<ul><table border=0 width="650"><tr><td nowrap bgcolor="#EEEEEE"><pre>
Extract more sets? [n]

Copying... fstab hostname.fxp0 hosts myname mygate resolv.conf ...done.

Select a time zone for your location. Timezones are represented on the system
by a directory structure rooted in "/usr/share/timezone". Most timezones can
be selected by entering a token like "CET" or "GMT-6". Other zones are
grouped by continent or country, with detailed zone information separated by
a slash ("/"), e.g. "US/Pacific" or "Canada/Mountain".

What timezone are you in? ('?' for list) [US/Pacific] <b>Canada</b>
Select a sub-timezone of 'Canada' ('?' for list): <b>?</b>
Atlantic            Eastern             Pacific
Central             Mountain            Saskatchewan
East-Saskatchewan   Newfoundland        Yukon
Sele of 'Canada' ('?' for list): <b>Mountain</b>
You have selected timezone 'Canada/Mountain'.
Making all device nodes (by running /dev/MAKEDEV all) ...... done.
Installing boot block...
boot: /mnt/boot
proto: /usr/mdec/biosboot
device: /dev/rwd0c
/usr/mdec/biosboot: entry point 0
proto bootblock size 512
room for 12 filesystem blocks at 0x16f
Will load 7 blocks of size 8192 each.
Using disk geometry of 63 sectors and 255 heads.
 0: 56 @@(0 152 8) (9583-9638)
 1: 40 @@(0 153 1) (9639-9678)
 2: 16 @@(0 9 27) (593-608)
/mnt/boot: 3 entries total
using MBR partition 3: type 166 (0xa6) offset 63 (0x3f)

Enabling machdep.allowaperture. Read xf86(4) for more information.


Cleaning up...
/dev/wd0e: unmount from /mnt/var
/dev/wd0g: unmount from /mnt/usr
/dev/wd0d: unmount from /mnt/tmp
/dev/wd0h: unmount from /mnt/home
/dev/wd0a: unmount from /mnt
Done.

CONGRATULATIONS!  You have successfully installed OpenBSD!  To boot the
installed system, enter halt at the command prompt. Once the system has
halted, reset the machine and boot from the disk.
d1319 7
a1325 2
# halt
syncing disks... done
d1327 25
a1351 2
The operating system has halted.
Please press any key to reboot.
a1352 1
</ul>
d1354 43
a1396 1
<h3>Before you reboot</h3>
d1402 1
a1402 1
<h3>After you reboot</h3>
d1405 2
a1406 7
This section will hopefully point you in the right direction for clues
on what to do initially after you have installed your OpenBSD system.
This is basically modeled after the 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&sektion=8&format=html">afterboot(8)</a> 
man page, which should definitely be one of your first steps after 
installing OpenBSD. Here is a table which will point you to relevant
FAQ sections.
d1408 2
d1416 3
a1418 2
<li><a href="faq8.html#Packages">OpenBSD Packages</a> - Precompiled Binary
  Packages.
d1421 1
a1421 1
<h3>One last thing...</h3>
d1427 2
a1428 2
<a name="1.14"></a>
<h2>Other Information Resources</h2>
d1432 1
a1432 1
the mirror ftp sites.
d1434 1
a1434 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.i386">INSTALL.i386</a> 
d1437 1
a1437 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.linux">INSTALL.linux</a> 
d1439 1
a1439 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.mbr">INSTALL.mbr</a> 
d1441 1
a1441 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.pt">INSTALL.pt</a> 
d1443 1
a1443 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.dbr">INSTALL.dbr</a> 
d1445 1
a1445 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.chs">INSTALL.chs</a> 
d1447 1
a1447 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.ata">INSTALL.ata</a> 
d1449 1
a1449 1
<li><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.os2br">INSTALL.os2br</a>
d1455 1
a1455 2
<a name= "4.2"></a>
<h2>4.2 - What files are needed for Installation?</h2>
d1458 3
a1460 4
There are many packages containing the OpenBSD binaries, but which ones do
you need to get your system up and running? Here is an overview of each
package.

d1463 1
a1463 1
  <li><strong>base31.tgz</strong>   - Contains the base OpenBSD system 
d1465 1
a1465 1
  <li><strong>etc31.tgz</strong>    - Contains all the files in /etc 
d1467 1
a1467 1
  <li><strong>comp31.tgz</strong>    - Contains the compiler and its 
d1469 7
a1475 7
  <li><strong>man31.tgz</strong>    - Contains man pages <b>Recommended</b>
  <li><strong>misc31.tgz</strong>   - Contains misc info, setup documentation
  <li><strong>game31.tgz</strong>   - Contains the games for OpenBSD
  <li><strong>xbase31.tgz</strong>  - Contains the base install for X11
  <li><strong>xfont31.tgz</strong>  - Contains X11's font server and fonts
  <li><strong>xserv31.tgz</strong>  - Contains X11's X servers
  <li><strong>xshare31.tgz</strong> - Contains manpages, locale settings,
d1477 1
a1477 1
  <li><strong>bsd</strong>          - This is the Kernel. <b>Required</b>
d1482 1
a1482 2
<a name= "4.3"></a>
<h2> 4.3 - How much space do I need for an OpenBSD installation?</h2>
d1485 1
a1485 1
The following are minimum suggested sub-tree sizes for a full system
d1508 1
a1508 2
<ul>
<strong>
d1510 1
d1522 1
d1524 7
a1530 2
</strong>
</ul>
d1534 7
a1540 7
system have just an 'a' (main filesystem) and 'b' (swap) .  The 'a' filesystem which you set up
in disklabel will become your root partition, which should be the sum of
all the 3 main values above (/, /usr, and /var) plus some space for /tmp.
The 'b' partition you set up automatically becomes your system swap
partition -- we recommend a minimum of 32MB but if you have disk to spare
make it at least 64MB.  If you have lots of disk space to spare, make this
256MB, or even 512MB.  
d1543 3
a1545 2
There are five main reasons for using separate filesystems, instead of shoving
everything into one or two filesystems:
d1548 2
a1549 1
  'noexec', 'readonly', etc..
d1551 1
a1551 1
  filesystem with garbage, if they have write permissions for it.  Your 
d1575 3
a1577 1
   you need.
d1597 1
a1597 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&sektion=5">/etc/fstab</a>
d1607 1
a1607 2
<a name="4.4"></a>
<h2>4.4 - Multibooting OpenBSD (i386, alpha)</h2>
d1610 1
a1610 1
<strong>OpenBSD and NT (or XP)</strong>
d1613 1
a1613 1
To multiboot OpenBSD and NT (or XP), you can use NTloader, the
a1617 1
<ul>
a1620 1
</ul>
d1624 2
a1625 1
of <tt>C:\BOOT.INI</tt>:
a1626 1
<ul>
a1629 1
</ul>
d1649 1
d1659 1
a1659 1
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.linux">INSTALL.linux</a>,
d1664 1
a1664 2
<a name="4.5"></a>
<h2>4.5 - Sending your dmesg to dmesg@@openbsd.org after the install</h2>
d1704 2
a1705 2
<a name= "AddFileSet"></a>
<h2>4.6 - Adding a file set after install</h2>
d1708 1
a1708 1
Sometimes, you realize you really DID need <tt>comp31.tgz</tt> (or any
d1721 3
a1723 2
expand them manually from the root of the file system:
<ul>
d1725 2
a1726 2
# cd /
# tar xzvpf comp31.tgz
d1728 2
a1729 1
</ul>
d1734 1
a1734 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&sektion=1">pkg_add(1)</a>
a1736 1
<p>
d1738 5
a1742 3
<a name="bsd.rd">
<h2>4.7 - What is 'bsd.rd'?</h2>
<b><tt>bsd.rd</tt></b> is a "RAM Disk" kernel.  This file can be very 
d1747 5
a1751 6
Calling it a "RAM Disk kernel" describes the root file
system of the kernel -- rather than being a physical drive, the 
utilities available after the boot of <tt>bsd.rd</tt> are stored 
in the kernel, and are run from a RAM-based file system.  
<tt>bsd.rd</tt> also includes a healthy set of utilities to 
allow you to do system maintenance and installation.
d1754 1
a1754 1
On some platforms, <tt>bsd.rd</tt> is actually the preferred 
d1756 1
a1756 1
file system, boot it, and run the install from it.  On most 
d1758 1
a1758 1
can FTP  a new version of <tt>bsd.rd</tt>, reboot from it, and 
d1763 1
a1763 1
Here is an example of booting <tt>bsd.rd</tt> on an i386 system:
a1764 1
<ul>
d1766 6
a1771 6
Using Drive: 0 Partition: 3
reading boot.....
probing pc0 com0 com1 apm mem[639k 255M a20=on]
disk fd0 hd0
&gt;&gt; OpenBSD/i386 BOOT 1.28
boot&gt; <b>boot hd0a:/bsd.rd</b>
d1774 1
a1774 1
</ul>
d1778 2
a1779 2
The general rule on booting <tt>bsd.rd</tt> is to change your boot
kernel from <tt>/bsd</tt> to <tt>bsd.rd</tt> through whatever 
d1795 1
a1795 1
<small>$OpenBSD: faq4.html,v 1.112 2002/10/01 21:32:14 nick Exp $</small>
@


1.112
log
@
Narrow down "gray boxes" to improve many things...
@
text
@d1158 1
a1158 1
  <li><strong>comp31.tz</strong>    - Contains the compiler and its 
d1480 1
a1480 1
<small>$OpenBSD: faq4.html,v 1.111 2002/09/03 01:30:29 nick Exp $</small>
@


1.111
log
@
Fixes for typos, punctuation, grammar, and added man page links,
from Moritz Jodeit <moritz@@jodeit.org>, thanks!
@
text
@d183 1
a183 1
<table border=0 width="800"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
d207 1
a207 1
  <table border=0 width="800"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
d218 1
a218 1
  <table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d233 1
a233 1
  <table border=0 width="800"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
d251 1
a251 1
  <table border=0 width="800"> <tr> <td nowrap bgcolor="#EEEEEE"><tt>
d256 1
a256 1
  <table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d303 1
a303 1
 <table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d314 1
a314 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d328 1
a328 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d344 1
a344 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d369 1
a369 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d427 1
a427 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d493 1
a493 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d646 1
a646 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d726 1
a726 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d800 1
a800 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d845 1
a845 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d877 1
a877 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d947 1
a947 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1003 1
a1003 1
<ul><table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><tt>
d1026 1
a1026 1
<ul><table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1409 1
a1409 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1450 1
a1450 1
<table border=0 width="800"><tr><td nowrap bgcolor="#EEEEEE"><pre>
d1480 1
a1480 1
<small>$OpenBSD: faq4.html,v 1.110 2002/07/22 17:45:16 nick Exp $</small>
@


1.110
log
@
Wording improvements, remove redundant (and misplaced) reference
to "Do you expect to run X" question.
@
text
@d1228 2
a1229 2
<~P>
There are four main reasons for using separate filesystems, instead of shoving
d1480 1
a1480 1
<small>$OpenBSD: faq4.html,v 1.109 2002/07/22 15:27:21 nick Exp $</small>
@


1.109
log
@
Partial HTML cleanup: wrapping, tags in lower-case.  No wording changes,
should be very minimal visual changes (one space inserted, one missing
tag inserted)
@
text
@d641 3
a643 4
Setting up your mount points is much more simple than it looks. After
you setup your filesystems with disklabel, you will see text like the
one below. This should be done for you automatically if you configured
your mount points via disklabel(8). If you did not, you can do so here.
d1021 4
a1024 9
the boot blocks. Setting your timezone is extremely easy. Just pick the
area you live in and enter the name. That's it!. Only one more question,
which is whether or not you will be running X on this server. If you
plan to ever run X on this server you should choose yes, otherwise you
might have to change machdep.allowaperture=0 into
machdep.allowaperture=1 in your 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl.conf&sektion=5">etc/sysctl.conf(5)</a>.
After this is all done, just type 'reboot' at the shell prompt and your
machine will be booted with OpenBSD!
d1480 1
a1480 1
<small>$OpenBSD: faq4.html,v 1.108 2002/07/15 21:59:28 nick Exp $</small>
@


1.108
log
@
Added "Before you reboot" section, pointing the user at the Eratta page
for any relevant updates.  ok Miod@@
@
text
@a16 1
</p>
d20 3
a22 3
<li><a href= "#Overview"    >4.1 - Overview of the OpenBSD Installation Procedure.</a>
<li><a href= "#FilesNeeded" >4.2 - What files are needed for Installation?
                                   </a></li>
d24 2
a25 2
                                     OpenBSD installation?</a></li>
<li><a href= "#Multibooting">4.4 - Multibooting OpenBSD</a></li>
d27 3
a29 3
                                     after the install</a></li>
<li><a href= "#AddFileSet"  >4.6 - Adding a file set after install</a></li>
<li><a href= "#bsd.rd"      >4.7 - What is 'bsd.rd'?</a></li>
a30 1
</p>
a36 1
</p>
a42 1
</p>
d46 2
a47 2
In addition to its robustness, the install procedure can be done
using 1 floppy disk. Most architectures have a similar installation procedure,
a51 1
</p>
d54 2
a55 2
On most architectures, you have several installation options, 
including FTP, CDROM, and local disk files.  One option <b>not</b> supported is 
d57 2
a58 3
CDROM.  CDROMs are available for 
<a href="../orders.html">purchase</a>, however. 
</p>
d63 3
a65 3
OpenBSD 3.1 supports a number of architectures listed below in alphabetical order.
Please refer to each architecture's page for specific information on what each
architecture supports.
d69 2
a70 1
  <li><a href="../amiga.html">amiga</a> - Amiga m68k-based models (MMU required).
d73 6
a78 3
  <li><a href="../mac68k.html">mac68k</a> - Most MC680x0-based Apple Macintosh models.
  <li><a href="../mvme68k.html">mvme68k</a> -Motorola MVME147/16x/17x 68K VME cards.
  <li><a href="../macppc.html">macppc</a> - Support for Apple based PowerPC systems.
a90 1
</p>
d93 32
a124 32
	<tr>
		<td>
			<b>CD-ROM</b>
		</td>
		<td bgcolor="#EEEEEE">
			To do a CD-ROM install, you must have either purchased an 
			<a href="../orders.html">Official OpenBSD CD-ROM</a> or 
			created your own OpenBSD CD. This is certainly the easiest
			way to install an OpenBSD system. <br>
			<b>NOTE:</b> Official OpenBSD CDs are bootable if your BIOS
			supports it.
		</td>
	</tr><tr>
		<td>
			<b>FTP</b>
		</td>
		<td bgcolor="#EEEEEE">
			This installation option allows you to install OpenBSD
			by downloading the installation packages in realtime over
			the network. With this option you can choose either a 
			static IP for use or grab an IP via DHCP.
		</td>
	</tr><tr>
		<td>
			<b>Local Filesystem</b>
		</td>
		<td bgcolor="#EEEEEE">
			This option allows you to install from files on a 
			pre-existing filesystem. Support for DOS, EXT2FS and FFS 
			are included on the install disk. 
		</td>
	</tr>
d132 17
a148 15
To create an installation floppy image you must first download the correct boot
floppy image from one of the OpenBSD distribution sites. You can find a list of FTP servers
at the <a href="../ftp.html">OpenBSD FTP Distribution</a> page.  Most architectures
have one or more boot floppy images to choose from, different images are for different
hardware variations.  The differences between the i386 platform installation
floppies will be outlined below. For the other architectures with multiple boot floppies,
see the INSTALL document in the respective FTP directory.  For those with only one, just
download the respective <i>floppy31.fs</i> image. <br>
<b>NOTE:</b> The <i>cdrom31.fs</i> image can be used to make a bootable 
OpenBSD installation CD-ROM.
</p>

<p>
The <a href="../i386.html">i386</a> platform has four separate installation 
disk images to choose from. The differences between each are outlined below.
d168 5
a172 6
Most i386 users will just use the <i>floppy31.fs</i> installation floppy. 
Yes, there may be situations where one install disk is required to 
support your SCSI adapter and another disk is required to support your
network adapter.  Fortunately, this is a rare event, and can usually be
worked around.
</p>
d175 4
a178 4
Once you have the correct floppy image, you need to get a clean floppy disk.
If there are ANY bad sectors on the floppy disk, the installation will most
likely fail. To prepare a floppy from another system running a UNIX-like 
operating system (including OpenBSD) use the 
a180 1
</p>
d191 3
a193 2
If your output is like the above example, then your disk is OK. However, if you do not see
ALL &quot;V&quot;'s then your disk is most likely bad, and you should try a new one. 
a197 1
</p>
d200 5
a204 6
Once you have a clean, formatted floppy it is time to write the installation image to
floppy. If you are creating this on an OpenBSD machine or another UNIX-like OS, you can 
use the
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dd&sektion=0">dd(1)</a> utility.
an example usage of dd(1) is below:
</p>
d213 3
a215 3
Once the image is written, check to make sure that the copied image is the same as the
original with the following command. If the test passes, you will just see another prompt.
</p>
d224 6
a229 6
Again, if you are creating this image on the Windows/DOS platform you can get tools from the
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/tools/">tools</a> directory on
any of the ftp mirrors, or in <b>3.1/tools</b> directory on CD1 of the OpenBSD CD set.
For users of DOS/Windows 9x, <i>rawrite</i> can be used to write your 
boot floppy.
</p>
d246 2
a247 3
are available on the ftp sites (linked above), or the OpenBSD CD. Here are
example usages for each program.
</p>
a270 1
</p>
a278 1
</p>
d284 8
a291 9
Booting an install image on the i386 architecture is nothing
new to most people. If you are using the floppy disk, simply stick
the floppy into your floppy drive and boot your system. Your install
image will automatically load. If you are planning on booting from CD,
you must go into your systems BIOS and set the boot options to allow
booting from CD. Some older BIOSs do not have this option, and you
must use a floppy for booting your installation image. Don't worry though,
even if you boot from floppy you can still install from the CD.
</p>
d298 3
a300 4
To boot from floppy, place your floppy disk with the OpenBSD installation
image on it into your floppy drive. Then use the following command to 
boot from your floppy:
</p>
a311 1
</p>
d320 6
a325 7
Of course, this will only work in new command mode.  If you are at the 
old command mode prompt (a right arrow), type 'n' for the new command mode.
(If you are using an old sparc that is pre-sun4c, you probably don't have
a new command mode.  In this case, you need to experiment.)
If you have multiple CD-ROM devices, you need to boot from the correct one.
Try <tt>probe-scsi</tt> from the new command mode.
</p>
a341 1
</p>
d351 10
a360 11
Now that your bootdisk has been created, it's time to boot it.
When you boot this floppy, the kernel and all of the programs
that OpenBSD uses to install itself are loaded into memory.  If problems arise,
and your bootdisk doesn't boot, the problem is probably due to a
bad floppy disk. This is an extremely common problem!  If your bootdisk fails
to boot, try it a second time, and if it fails again, throw away the floppy
and get a new one.  When your floppy fails to boot, even if the floppy worked
fine for you before, keep in mind that OpenBSD uses nearly every single
bit available from the floppy.
Any error in the disk will prevent OpenBSD from loading.
</p>
a366 1
</p>
d399 3
a401 3
Depending on the architecture you are using, the terminal type you use might 
be different. For example, OpenBSD/sparc uses the &quot;sun&quot; terminal type.
</p>
d409 16
a424 17
disk setup is done in two stages.  First, the OpenBSD slice of the 
hard disk is defined using fdisk(8), then that partition is subdivided into 
OpenBSD partitions using disklabel(8). 

<p>
Some users may be a little confused by the terminology used here. It will 
appear we are using the word "partition" in two different ways. This
observation is correct. There are two layers of partitioning 
in several OpenBSD platforms, the first, one could consider 
the Operating System partitioning, which is how multiple OSs
on one computer mark out their own space on the disk, and the second one
is how the OpenBSD partition is sub-partitioned into individual file 
systems.  The first layer is visible as a disk partition to DOS, Windows, 
and any other OS that can coexist with other Operating Systems
on the IBM AT descended machines.  The second layer of partitioning 
is visible only to OpenBSD and those OSs which can directly read an 
OpenBSD file system.
d447 6
a452 6
as your &quot;root&quot; disk. Your root disk will be where the / filesystem
and swap will be. <b>wd0</b> specifies an IDE disk;  if your disks are SCSI you
will most likely see <b>sd0</b>. There will be an entry for each disk that
OpenBSD finds, which is normally every disk in your system.  If your disks are 
not showing up here as you expect, you have improperly configured or 
unsupported hardware.  
d455 9
a463 9
In this example, we have chosen to allocate the entire disk to OpenBSD.  This
will result in a simple partition table being written out to disk -- one 
partition, the size of the entire hard disk, set to the OpenBSD partition
type, and flagged as the bootable partition.  This will be a common option
for most production uses of OpenBSD, however, there are some systems this 
should not be done on.  Many Compaq systems, some Dell and other systems use
a "maintenance" partition, which should be kept intact.  If your system has 
any other partitions of any type you do not wish to erase, do not select 
"yes" to the above question. 
d466 2
a467 2
If you choose not to allocate the entire disk to OpenBSD, you will be placed 
in the OpenBSD disk partition editor, 
d469 2
a470 1
For more information on using fdisk(8), refer to <a href="faq14.html#fdisk">FAQ 14, fdisk</a>.
d485 1
d487 4
a490 4
NOTE: OpenBSD does NOT support any sort of journaling filesystems like ReiserFS, 
IBM's JFS or SGI's XFS.  Instead we use <a href="faq14.html#SoftUpdates">Soft 
Updates</a>. The filesystem for OpenBSD is FFS.
</p>
d625 5
a629 6
Notice how each mount point is split onto its own partition. For many 
applications, it is best to make at least five separate filesystems, one for 
your / filesystem, one for swap, one for /var, one for /tmp, 
and one for /usr. If users are going to log into the system,  
you want a separate /home filesystem too. 
</p>
d632 5
a636 4
The answer to the question, "How should I partition my system?" is 
"Exactly how you need it".  This will vary from application to application.
There is no universal answer.  If you are unsure of how you want to 
partition your system, see <a href="#SpaceNeeded">this discussion</a>.
d641 4
a644 4
<p>
Setting up your mount points is much more simple than it looks. After you setup your filesystems with disklabel, you will see text like the one below. This should 
be done for you automatically if you configured your mount points via disklabel(8). If you did not, you can do so here.
</p>
d709 7
a715 9
Notice the "Are you really sure that you are ready to proceed?" 
question defaults to no, so you will have to deliberately tell it to 
proceed and format your partitions. If you chose no, you would simply 
be dropped 
into a shell and could start the install again by typing install, 
or just by rebooting again with your bootdisk. At this point it 
will format all filesystems for you.  This could take some time 
depending on the size of your disk. 
</p>
d720 5
a724 3
Now it's time to setup your network configuration. This is extremely important if you are planning on doing any network based install, considering it will be based upon the
information you are about to enter. Here is a walk through of the network configuration section of the install process. 
</p>
d780 3
a782 1
In the above example, we use a static IP address. You can choose to use dhcp as well if you wish. In the case of DHCP, most of this information will be grabbed from a remote dhcp server.
d788 7
a794 5
After your network is setup, the install script will give you a chance to make any changes to your network setup. Then the filesystems you
created will be mounted and a root password set. This will get your local disks ready for the OpenBSD packages to be installed upon them. After your 
local disks are ready, you will be asked if you plan to run X on this 
system.  If you answer 'Y', <tt>/etc/sysctl.conf</tt> will be modified to 
include the line <i>machdep.allowaperture=1</i>.  
d797 2
a798 1
Next, you will get a chance to choose your installation media. The options are listed below. 
d837 7
a843 5
In this example we are installing via CD-ROM. This will bring up a list of devices on your computer identified as a CD-ROM. Most
people will only have one; if you don't, you need to make sure you pick the device which you will use to install OpenBSD from. After choosing the correct device, you will be
prompted for which filesystem the installation files will reside on. If you are using the OpenBSD CD-ROM you will choose 'c' here, for 'c' represents the whole disk. Here is an
example: 
</p>
d867 4
a870 4
Now it's time to choose which packages you will be installing. You can 
get a description of these files in <a href="#FilesNeeded">the next 
section</a>. The files that the install program finds will be shown to you 
on the screen. Your job is just to specify which files you want. By 
d873 3
a875 4
would be <tt>base31.tar.gz</tt>, <tt>etc31.tar.gz</tt> and <tt>bsd</tt>. 
Others will wish to install all packages. The example
below is that of a full install, minus the games package. 
</p>
d939 7
a945 6
Once you have successfully picked which packages you want, you will be prompted to make sure you want to extract these packages and they will then be installed. A progress
bar will be shown that will keep you informed on how much time it will 
take. The times range greatly depending on what system it is you are 
installing OpenBSD on, the packages installed, and the speed of the 
source media.  This part may from a few minutes to several hours.
</p>
d982 19
a1000 17
As OpenBSD has grown, the minimum RAM requirement has grown, and is likely to
continue to increase.  The next step in the install process will require more
than 16M RAM, and will fail on older machines with less than 20M RAM (again, 
these are i386 numbers -- some other platforms will require far less RAM, 
though this trick can be used with them as well, if they are running near the 
lower-limits.
<p>
During the install process, there is normally no swap, the real RAM is all 
you have.  The 'MAKEDEV' step that follows will require more than the rest 
of the install required.  As a system with small amounts of RAM can still 
be very usable for many applications, working around this limitation is 
a quite useful trick.
<p>
The solution is to activate swap now.  The swap partition has been created, 
the files are installed to the hard disk, the only trick here is to 
manually invoke it.  So, do not just hit 'ENTER' at the above prompt, but 
rather, hit '!', which will bring up a shell, and launch 
d1013 4
a1016 2
Note the 'n' as the last step.  Remember, we called up the shell from the 
"Extract more sets?" question, that last 'n' is answering that question.
d1021 11
a1031 5
Once this is done, all that's left is to set your timezone and install the boot blocks. Setting your timezone is extremely easy. Just pick the area you live in and enter the name. That's
it!. Only one more question, which is whether or not you will be running X on this server. If you plan to ever run X on this server you should choose yes, otherwise you might have to
change machdep.allowaperture=0 into machdep.allowaperture=1 in your <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl.conf&sektion=5">etc/sysctl.conf(5)</a>. After this is all done, just type 'reboot' at the shell prompt and your machine will
be booted with OpenBSD! 
</p>
d1098 3
a1100 2
This section will hopefully point you in the right direction for clues on what to do initially after you 
have installed your OpenBSD system. This is basically modeled after the 
d1106 9
a1114 7
<UL>
<LI><a href="faq10.html#AddDelUser">Adding users in OpenBSD</a> 
<LI><a href="faq6.html#Setup">Initial Network Setup</a>
<LI><a href="faq2.html#ManPages">Man Pages of popular/useful commands</a>
<LI><a href="http://www.openbsd.org/cgi-bin/man.cgi">OpenBSD man pages on the Web</a>
<li><a href="faq8.html#Packages">OpenBSD Packages</a> - Precompiled Binary Packages.
</UL>
a1120 2
</p>

d1128 19
a1146 10
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.i386">INSTALL.i386</a> 
- Comprehensive installation document. Similar documents exist for all platforms.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.linux">INSTALL.linux</a> - Installing OpenBSD along with Linux.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.mbr">INSTALL.mbr</a> - Explaining the Master Boot Record.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.pt">INSTALL.pt</a> - Explaining Partition Tables.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.dbr">INSTALL.dbr</a> - DOS Floppy Disk Boot Sector.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.chs">INSTALL.chs</a> - Explaining CHS Translation.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.ata">INSTALL.ata</a> - ATA/ATA-1/ATA-2/IDE/EIDE/etc FAQ
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.os2br">INSTALL.os2br</a> - The os2 Boot Sector.
</UL>
a1151 1
</p>
a1156 1
</p>
d1160 15
a1174 11
    <li><strong>base31.tgz</strong>   - Contains the base OpenBSD system <b>Required</b></li>
    <li><strong>etc31.tgz</strong>    - Contains all the files in /etc <b>Required</b></li>
    <li><strong>comp31.tz</strong>    - Contains the compiler and its tools, libs. <b>Recommended</b></li>
    <li><strong>man31.tgz</strong>    - Contains man pages <b>Recommended</b></li>
    <li><strong>misc31.tgz</strong>   - Contains misc info, setup documentation</li>
    <li><strong>game31.tgz</strong>   - Contains the games for OpenBSD</li>
    <li><strong>xbase31.tgz</strong>  - Contains the base install for X11</li>
    <li><strong>xfont31.tgz</strong>  - Contains X11's font server and fonts</li>
    <li><strong>xserv31.tgz</strong>  - Contains X11's X servers</li>
    <li><strong>xshare31.tgz</strong> - Contains manpages, locale settings, includes, etc  for X</li>
    <li><strong>bsd</strong>          - This is the Kernel. <b>Required</b></li>
a1175 1
</p>
a1180 1
</p>
d1183 3
a1185 3
The following are minimum suggested sub-tree sizes for a full system install. 
The numbers include enough extra space to permit you to run a typical home
system that is connected to the Internet.
d1189 3
a1191 2
<li>If you plan to install a significant amount of third party software, 
make your /usr partition large!  <strong>At least</strong> triple these values!
d1199 2
a1200 2
want to make the /usr partition significantly larger, <b>at least</b> 800M-1G 
larger than indicated below.
d1202 1
d1234 1
a1234 1
<P>
d1237 22
a1258 14
<UL>
<LI><b>Security</b>: You can mark some filesystems as 'nosuid', 'nodev', 'noexec', 'readonly', etc..
<LI><b>Stability</b>: A user, or a misbehaved program, can fill a filesystem with garbage, if they have write permissions for it.  Your critical programs, which of course run on a different filesystem, do not get interrupted.
<LI><b>Speed</b>: A filesystem which gets written to frequently may get somewhat fragmented.  (Luckily, the ffs filesystem, what OpenBSD uses, is not prone to heavy fragmentation.)
<LI><b>Integrity</b>: If one filesystem is corrupted for some reason then your other filesystems are still OK.
<li><b>Size</b>: Many platforms have limits on the area of a disk where the
boot ROM can load the kernel from.  In some cases, this limit may be very
small (504M for an older 486), in other cases, a much larger limit (8G on
new i386 systems).  As the kernel can end up anywhere in the root partition,
the entire root partition should be within this area. For more details,
see <a href="faq14.html#LargeDrive">this section</a>.  A good guideline might
be to keep your / partition completely below 2G, unless you know your platform
(and particular machine!) can handle more (or less!) than that.
</UL>
d1263 3
a1265 2
 <li>For your first attempt at an experimentation system, one big / partition
and swap may be easiest until you know how much space you need.
d1267 1
a1267 1
have a separate /var (and maybe even a separate /var/log) for logging.
d1269 1
a1269 1
reload everything else, leave your /home partition untouched.
d1271 7
a1277 6
quantity of files that may need to be deleted can be faster to reformat
and recreate than to delete.  See the
<a href="upgrade-minifaq.html#1.5">upgrade-minifaq</a> for an example (/usr/obj).
 <li>If you wish to rebuild your system from source for any reason, the
source will be in /usr/src.  If you don't make a separate partition
for /usr/src, make sure /usr has sufficient space.
d1279 6
a1284 6
all space on a drive when you set the system up! Since  
you will now find it a challenge to buy a new drive smaller than 20G,
it can make sense to leave a chunk of your drive unallocated.  If you
outgrow a partition, you can allocate a new partition from your
unused space, <a href="faq10.html#DupFS">duplicate</a> your existing
partition to the new partition, change
d1286 1
a1286 1
to point to the new partition, remount, you now have more space.
d1288 2
a1289 1
you will probably regret it later, when it is time to upgrade your system.  
d1293 1
a1293 1
<P>
a1296 1
</p>
a1299 1
</p>
d1302 4
a1305 3
To multiboot OpenBSD and NT (or XP), you can use NTloader, the bootloader that NT uses. To multi-boot with NT,  you
need a copy of your OpenBSD pbr. After running installboot, you can copy it something like this:
</p>
d1314 2
a1315 2
Now boot NT and put openbsd.pbr in C:. Add a line like this to the end of <tt>C:\BOOT.INI</tt>: 
</p>
d1324 5
a1328 4
When you reboot, you should be able to select OpenBSD from the NT loader menu. There is much more
information available about NTloader at the <a href="http://www.tburke.net/info/ntldr/ntldr_hacking_guide.htm">
NTLDR Hacking Guide. </a>
</p>
d1331 2
a1332 2
<a href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q289022">XP Boot.ini HOWTO</a>.
</p>
a1335 1
</p>
d1338 6
a1343 5
To boot OpenBSD along with Windows 3.1, Windows95, or DOS you must use a boot loader on the system
that can handle OpenBSD, Windows, and DOS! Some bootloaders of choice are <a href="http://www.freebird.org/sw-map/bootmanager.html">
osbs20b8.zip</a> or <a href="http://www.ranish.com/part/">The Ranish Partition Manager</a>.
Both of these are able to boot OpenBSD partitions.
</p>
a1346 1
</p>
d1349 3
a1351 3
Please refer to <a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.1/i386/INSTALL.linux">INSTALL.linux</a>, which gives in depth instructions on getting
OpenBSD working with Linux.
</p>
a1356 1
</p>
d1359 2
a1360 3
Just to remind people, it's important for the OpenBSD developers to keep track
of what hardware works, and what hardware doesn't work perfectly..
</p>
d1374 1
a1374 1
</p>
d1377 5
a1381 4
email so developers can contact you back if they have something they want
you to test or change in order to get your setup working. It's not important
at all to send the email from the same machine that is running OpenBSD, so
if that machine is unable to receive email, just
a1390 1
</p>
a1394 1
</p>
d1407 3
a1409 3
(rather than Install).  When you get to the lists of file sets to install,
choose the sets you neglected to install first time around, select
your source, and let it install them for you.
d1431 4
a1434 3
<b><tt>bsd.rd</tt></b> is a "RAM Disk" kernel.  This file can be very useful, many
developers are careful to keep it on the root of their system at all
times.
d1442 1
d1451 1
a1479 1
</p>
d1486 1
a1486 2
<small>$OpenBSD: faq4.html,v 1.107 2002/07/12 02:51:35 nick Exp $</small>
</p>
a1488 3



@


1.107
log
@
Typos, grammar, wording fixes.
From David Krause <openbsd@@davidkrause.com>, thanks!
@
text
@d1085 7
a1091 1
<h3>After your reboot</h3>
d1461 1
a1461 1
<small>$OpenBSD: faq4.html,v 1.106 2002/07/02 01:17:58 nick Exp $</small>
@


1.106
log
@
recommended by EricJ@@ some time ago, done by Sam Smith <S@@mSmith.net>,
standarizing the displayed shell prompts to be either '#' or '$', as
appropriate.  If anyone cares, Sam was even kind enough to list the
sections where changes were made:
   2.2  2.3  4.5  6.6.3  6.9.1  8.3  8.5  8.10  10.12  10.13  13.7
   13.11  14.3  14.4  14.9
Thanks!
@
text
@d283 1
a283 1
so we can properly instruct each user on the what to do on their
d949 1
a949 1
installing OpenBSD on, the packages installed, and the the speed of the 
d1455 1
a1455 1
<small>$OpenBSD: faq4.html,v 1.105 2002/07/02 00:50:06 nick Exp $</small>
@


1.105
log
@
typo and more >'s from Sam Smith <S@@mSmith.net>.
@
text
@d1352 1
a1352 1
 dmesg | mail your-account@@yourmail.dom
d1455 1
a1455 1
<small>$OpenBSD: faq4.html,v 1.104 2002/07/02 00:30:16 nick Exp $</small>
@


1.104
log
@
& -> &amp; (and occassionally, "and")  > -> &gt;   < -> &lt;
work submitted by Sam Smith <S@@mSmith.net>, many thanks!
@
text
@d82 1
a82 1
  <li><a href="../sparc64.html">sparc64</a> - Sun's Ultra SPARC systems. 
d1429 2
a1430 2
>> OpenBSD/i386 BOOT 1.28
boot> <b>boot hd0a:/bsd.rd</b>
d1455 1
a1455 1
<small>$OpenBSD: faq4.html,v 1.103 2002/07/01 19:54:14 nick Exp $</small>
@


1.103
log
@
Wording improvement, from Sam Smith <S@@mSmith.net>.
@
text
@d1267 1
a1267 1
<strong>OpenBSD & NT (or XP)</strong>
d1302 1
a1302 1
<strong>OpenBSD & Windows or DOS (i386)</strong>
d1313 1
a1313 1
<strong>OpenBSD & Linux (i386)</strong>
d1455 1
a1455 1
<small>$OpenBSD: faq4.html,v 1.102 2002/06/07 22:54:21 nick Exp $</small>
@


1.102
log
@
Updates to 14.7 and 4.3 reflecting the fact that many platforms
have boot partition size limitations.  Inspired by posting by
Theo de Raadt on Tech@@ on 5/26/2002.
@
text
@d1142 11
a1152 11
    <li><strong>base31.tgz</strong>    - Has the base OpenBSD system <b>Required</b></li>
    <li><strong>etc31.tgz</strong>     - Has all the files in /etc <b>Required</b></li>
    <li><strong>comp31.tz</strong>    - Has the compiler and its tools, libs. <b>Recommended</b></li>
    <li><strong>man31.tgz</strong>     - Holds man pages <b>Recommended</b></li>
    <li><strong>misc31.tgz</strong>    - Holds misc info, setup docs</li>
    <li><strong>game31.tgz</strong>    - Has the games for OpenBSD</li>
    <li><strong>xbase31.tgz</strong>   - Has the base install for X11</li>
    <li><strong>xfont31.tgz</strong>   - Holds X11's font server and fonts</li>
    <li><strong>xserv31.tgz</strong>   - Has X11's X servers</li>
    <li><strong>xshare31.tgz</strong>  - Has manpages, locale settings, includes, etc  for X</li>
    <li><strong>bsd</strong> 		  - This is the Kernel. <b>Required</b></li>
d1455 1
a1455 1
<small>$OpenBSD: faq4.html,v 1.101 2002/05/20 00:59:27 nick Exp $</small>
@


1.101
log
@
rework for OpenBSD 3.1.  ok Miod@@
@
text
@d1220 8
d1455 1
a1455 1
<small>$OpenBSD: faq4.html,v 1.100 2002/04/24 03:18:41 nick Exp $</small>
@


1.100
log
@
added two new sections:
  4.6: Adding a file set after install
  4.7: What is bsd.rd?
updated index, TOC to reflect new content.  ok ericj@@
@
text
@d42 4
a45 3
This FAQ now contains installation instructions for OpenBSD 3.0. There
may be differences between the 3.0 installation and installation of earlier
versions of OpenBSD.
d49 7
a55 7
OpenBSD has a very robust text-based install procedure. The OpenBSD install
procedure was designed to be adaptable in almost any situation that a user
could face. In addition to its robustness, the install procedure can be done
using 1 floppy disk. Each architecture's installation procedure is very
similar, however a different set of tools will often be required. Below we
will outline the different options that an OpenBSD user has when installing
the system.
a65 6
<p>
The following information is architecture independent. Please refer to each
architecture's installation page or the OpenBSD CD cover for architecture 
dependent installation information.
</p>

d69 1
a69 1
OpenBSD 3.0 supports a number of architectures listed below in alphabetical order.
d74 10
a83 10
        <li><a href="../alpha.html">alpha</a> - DEC Alpha-based machines.
	<li><a href="../amiga.html">amiga</a> - Amiga m68k-based models (MMU required).
	<li><a href="../hp300.html">hp300</a> - Hewlett-Packard HP300/HP400 machines.
	<li><a href="../i386.html">i386</a> - Intel based PC's.
        <li><a href="../mac68k.html">mac68k</a> - Most MC680x0-based Apple Macintosh models.
	<li><a href="../mvme68k.html">mvme68k</a> -Motorola MVME147/16x/17x 68K VME cards.
	<li><a href="../macppc.html">macppc</a> - Support for Apple based PowerPC systems.
	<li><a href="../sparc.html">sparc</a> - SPARC Platform by Sun Microsystems.
	<li><a href="../sun3.html">sun3</a> - Sun's 68020 based Sun3 models. 
	<li><a href="../vax.html">vax</a> - DEC's VAX computers.
d92 1
a92 2
disk. More information on <a href="#Overview.3">creating OpenBSD installdisks </a>
is located later in this FAQ.
d95 1
a95 1
<table align="center" border="1" width="800">
d105 1
a105 1
			<b>NOTE:</b> Official OpenBSD CDs are bootable if your bios
d137 8
a144 7
at the <a href="../ftp.html">OpenBSD FTP Distribution</a> page. Each architecture
has one floppy image for download except the <a href="../i386.html">i386</a> platform, 
which has 3 images to choose from. The differences between the i386 platform installation
floppies will be outlined below. For the other architectures you will just need to
download the respective <i>floppy30.fs</i> image. <br>
<b>NOTE:</b> The <i>cdrom30.fs</i> image can be used to make a bootable OpenBSD installation
CD-ROM.
d148 2
a149 2
The i386 platform has 3 separate installation disks that you must choose from. The differences between
each are outlined below.
d152 1
a152 1
<li><b>floppy30.fs</b> supports most desktop systems, with supported
d155 2
a156 2
<li><b>floppyB30.fs</b> supports many RAID controllers, however, 
	support for many standard SCSI adapters, many EISA and ISA 
d160 1
a160 1
<li><b>floppyC30.fs</b> supports Cardbus and PCMCIA devices found in
d162 1
a162 1
<li><b>cdrom30.fs</b> supports most of the disk and network drivers
d165 1
a165 1
	floppy, or as a boot image for a recordable CD. 
d169 1
a169 1
Most i386 users will just use the <i>floppy30.fs</i> installation floppy. 
d179 2
a180 1
likely fail. If you don't know, use the 
d186 5
a190 9
<table border=0 width="800">
	<tr>
		<td nowrap bgcolor="#EEEEEE">
# <b>fdformat /dev/fd0a</b><br>
Format 1440K floppy `/dev/fd0a'? (y/n): y<br>
Processing VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV done.
		</td>
	</tr>
</table>
d195 5
a199 2
ALL &quot;V&quot;'s then your disk is most likely bad, and you should try a new one. If you
are formatting in MS-DOS, simply use the DOS <i>format</i> command.
d211 3
a213 7
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
# <b>dd if=floppy30.fs of=/dev/rfd0c bs=126b</b>
                </td>
        </tr>
</table>
d222 3
a224 7
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
# <b>cmp /dev/rfd0c floppy30.fs</b>
                </td>
        </tr>
</table>
d229 4
a232 3
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/tools/">tools</a> directory on
any of the ftp mirrors, or in <b>3.0/tools</b> directory on CD1 of the OpenBSD CD set.
For users of DOS/Windows 9x, <i>rawrite</i> will be all you need to write your boot floppy.
d236 9
a244 13
Example usage of <i>rawrite</i>:
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
C:\> <b>rawrite</b><br>
RaWrite 1.2 - Write disk file to raw floppy diskette<br><br>

Enter source file name: <b>floppy30.fs</b><br>
Enter destination drive: <b>a</b><br>
Please insert a formatted diskette into drive A: and press -ENTER- : <b>&gt;Enter&lt;</b>
                </td>
        </tr>
</table>
d255 13
a267 8
Example Usage of <i>fdimage</i>:
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
C:\> <strong>fdimage -q floppy30.fs a:</strong>
                </td>
        </tr>
</table>
d269 8
a276 12
Example Usage of <i>ntrw</i>:
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
C:\> <strong>ntrw floppy30.fs a:</strong><br>
3.5", 1.44MB, 512 bytes/sector<br>
bufsize is 9216<br>
1474560 bytes written<br>
                </td>
        </tr>
</table>
</ul>
d312 3
a314 7
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
ok <b>boot floppy</b>
                </td>
        </tr>
</table>
d324 1
a324 3
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
d326 1
a326 3
                </td>
        </tr>
</table>
d339 1
a339 3
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
d347 1
a347 3
                </td>
        </tr>
</table>
d356 1
a356 3
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
d358 2
a359 3
                </td>
        </tr>
</table>
d362 1
a362 1
<p>
d371 1
a371 1
bit available from the floppy!
d376 3
a378 2
When your boot is successful, you will see a lot of white on blue text,
that text is the kernel telling you what devices have been found,
d383 1
a383 3
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
d385 1
a385 2
Enter pathname of shell or RETURN for sh:<br>
erase ^?, werase ^W, kill ^U, intr ^C<br>
d387 2
a388 2
==================================================<br>
Welcome to the OpenBSD/i386 3.0 installation program.<br><br>
d391 2
a392 2
rational way.<br><br>

d395 2
a396 2
up before beginning the installation process.<br><br>

d401 9
a409 9
install, the install program will remember many of your old answers.<br><br>

You can run a shell command at any prompt via '!foo'<br>
or escape to a shell by simply typing '!'.<br><br>

Specify terminal type [vt220]: <b>&lt;Enter&gt;</b>
                </td>
        </tr>
</table>
d421 25
a445 7
Setting up disks in OpenBSD is fairly similar for each platform. For i386, disk
setup is done in two stages. One is with fdisk(8) and the other with disklabel(8).

<ul>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
d449 9
a457 11
Available disks are:<br><br>

wd0<br><br>

Which disk is the root disk? [wd0] <b>&lt;Enter&gt;</b><br>
Do you want to use the *entire* disk for OpenBSD? [no] <b>yes</b><br><br>

[...]
                </td>
        </tr>
</table>
d464 20
a483 5
will most likely see <b>sd0</b>. There should be an entry for each disk that
OpenBSD finds. If you choose to allot the whole disk to OpenBSD, the installation
program will automatically setup the diskspace for you;  however, if you choose not
to give the whole disk to OpenBSD, you will be placed in a disk editor, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&sektion=8&arch=i386">ie fdisk(8)</a>.
d485 14
a498 1
</p>
d506 15
a520 20
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
Inside the BIOS 'A6' ('OpenBSD') partition you just created, there resides an<br>
OpenBSD partition table which defines how this BIOS partition is to be split<br>
up. This table declares the offsets and sizes of your / partition, your swap<br>
space, and any other partitions you might create.  (NOTE: The OpenBSD disk<br>
label offsets are absolute, ie. relative to the start of the disk... NOT<br>
relative to the start of the BIOS 'A6' partition).<br><br>

disklabel: no disk label<br>
WARNING: Disk wd0 has no label. You will be creating a new one.<br><br>

If this disk is shared with other operating systems, those operating systems<br>
should have a BIOS partition entry that spans the space they occupy completely.<br>
For safety, also make sure all OpenBSD file systems are within the offset and<br>
size specified in the 'A6' BIOS partition table.  (By default, the disklabel<br>
editor will try to enforce this).  If you are unsure of how to use multiple<br>
partitions properly (ie. separating /,  /usr, /tmp, /var, /usr/local, and other<br>
things) just split the space into a root and swap partition for now.<br><br>
d522 1
a522 1
# using MBR partition 3: type A6 off 63 (0x3f) size 16450497 (0xfb03c1)<br><br>
d524 2
a525 2
Treating sectors 63-80041248 as the OpenBSD portion of the disk.<br>
You can use the 'b' command to change this.<br>
d527 2
a528 3
Initial label editor (enter '?' for help at any prompt)<br>
> <strong>?</strong><br>
<pre>
d537 1
d548 1
d554 67
a620 68
</pre>
Entering '?' at most prompts will give you (simple) context sensitive help.<br>
> <strong>p</strong><br>
device: /dev/rwd0c<br>
type: ESDI<br>
disk: ESDI/IDE disk<br>
label: Maxtor 54098U8<br>
bytes/sector: 512<br>
sectors/track: 63<br>
tracks/cylinder: 16<br>
sectors/cylinder: 1008<br>
cylinders: 16383<br>
total sectors: 80041248<br>
free sectors: 80041185<br>
rpm: 3600<br><br>

16 partitions:<br>
#        size   offset    fstype   [fsize bsize   cpg]<br>
  a: 16450497       63    unused        0     0<br>
  c: 80041248        0    unused        0     0<br>
> <strong>d a</strong><br>
> <strong>a a</strong><br>
offset: [63] <strong>&lt;Enter&gt;</strong><br>
size: [80041185] <strong>80m</strong><br>
Rounding to nearest cylinder: 164241<br>
FS type: [4.2BSD] <strong>&lt;Enter&gt;</strong><br>
mount point: [none] <strong>/</strong><br>
> <strong>a b</strong>
offset: [164304] <strong>&lt;Enter&gt;</strong><br>
size: [79876944] <strong>300m</strong><br>
Rounding to nearest cylinder: 614880
FS type: [swap] <strong>&lt;Enter&gt;</strong><br>
> <strong>a d</strong><br>
offset: [779184] <strong>&lt;Enter&gt;</strong><br>
size: [79262064] <strong>80m</strong><br>
Rounding to nearest cylinder: 164304
FS type: [4.2BSD] <strong>&lt;Enter&gt;</strong><br>
mount point: [none] <strong>/tmp</strong><br>
> <strong>a e</strong><br>
offset: [943488] <strong>&lt;Enter&gt;</strong><br>
size: [79097760] <strong>80m</strong><br>
Rounding to nearest cylinder: 164304
FS type: [4.2BSD] <strong>&lt;Enter&gt;</strong><br>
mount point: [none] <strong>/var</strong><br>
> <strong>a g</strong><br>
offset: [1107792] <strong>&lt;Enter&gt;</strong><br>
size: [78933456] <strong>350m</strong><br>
Rounding to nearest cylinder: 716688
FS type: [4.2BSD] <strong>&lt;Enter&gt;</strong><br>
mount point: [none] <strong>/usr</strong><br>
> <strong>a h</strong><br>
offset: [1824480] <strong>&lt;Enter&gt;</strong><br>
size: [78216768] <strong>&lt;Enter&gt;</strong><br>
FS type: [4.2BSD] <strong>&lt;Enter&gt;</strong><br>
mount point: [none] <strong>/home</strong><br>
> <strong>p</strong><br>
device: /dev/rwd0c<br>
type: ESDI<br>
disk: ESDI/IDE disk<br>
label: Maxtor 54098U8<br>
bytes/sector: 512<br>
sectors/track: 63<br>
tracks/cylinder: 16<br>
sectors/cylinder: 1008<br>
cylinders: 16383<br>
total sectors: 80041248<br>
free sectors: 0<br>
rpm: 3600<br><br>
a621 1
<pre>
d624 11
a634 14
  a:   164241       63    4.2BSD     1024  8192    16  # /
  b:   614880   164304      swap
  c: 80041248        0    unused        0     0
  d:   164304   779184    4.2BSD     1024  8192    16  # /tmp
  e:   164304   943488    4.2BSD     1024  8192    16  # /var
  g:   716688  1107792    4.2BSD     1024  8192    16  # /usr
  h: 78216768  1824480    4.2BSD     1024  8192    16  # /home
</pre>
> <strong>w</strong><br>
> <strong>q</strong><br>
No label changes.<br>
                </td>
        </tr>
</table>
d638 2
a639 2
Notice how each mount point is split onto its own partition. For a multiuser 
machine, it is best to make at least five separate filesystems, one for 
d641 2
a642 2
and one for /usr. If your users are going to store files of any significant 
size, you want a separate /home filesystem too. 
d645 5
a649 1
<h3>4.1.6 - Configuring your mount points and formating your filesystems</h3>
a650 3
<p>
There are four main reasons for using separate filesystems, instead of shoving everything into one or two filesystems: 
</p>
d652 1
a652 7
<ul>
<li><strong>Security:</strong> You can mark some filesystems as 'nosuid', 'nodev', 'noexec', 'readonly', etc.. 
<li><strong>Stability:</strong> A user, or a misbehaved program, can fill a filesystem with garbage, if they have write permissions for it.
Your critical programs, which of course run on a different filesystem, do not get interrupted. 
<li><strong>Speed:</strong> A filesystem which gets written to frequently may get somewhat fragmented. (Luckily, the ffs filesystem, what OpenBSD uses, is not prone to heavy fragmentation.) 
<li><strong>Integrity:</strong> If one filesystem is corrupted for some reason then your other filesystems are still OK. 
</ul>
d660 1
a660 4
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
d663 1
a663 1
'/' character) for each BSD partition on wd0.  Enter "none" to skip a
d666 1
a666 1
The following partitions will be used for the root filesystem and swap:
a669 5
Mount point for wd0d (size=82152k) [/tmp, RET, none, or done]? <strong>&lt;Enter&gt;</strong>
Mount point for wd0e (size=82152k) [/var, RET, none, or done]? <strong>&lt;Enter&gt;</strong>
Mount point for wd0g (size=358344k) [/usr, RET, none, or done]? <strong>&lt;Enter&gt;</strong>
Mount point for wd0h (size=39108384k) [/home, RET, none, or done]? <strong>&lt;Enter&gt;</strong>
Mount point for wd0d (size=82002k) [/tmp, RET, none, or done]? done <strong>&lt;Enter&gt;</strong>
d671 8
a678 2
Now you can select another disk to initialize.  (Do not re-select a disk
you have already entered information for).  Available disks are:
d682 1
a682 1
Which one? [done] <strong>&lt;Enter&gt;</strong>
d687 1
d689 1
a690 2
wd0g /usr
wd0h /home
d694 1
a694 1
        wd0a wd0d wd0e wd0g wd0h
d696 1
a696 1
Are you really sure that you're ready to proceed? [n] <strong>y</strong>
d698 15
a712 15
Warning: 64 sector(s) in last cylinder unallocated
/dev/rwd0a:     164240 sectors in 163 cylinders of 16 tracks, 63 sectors
        80.2MB in 11 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
/dev/rwd0d:     164304 sectors in 163 cylinders of 16 tracks, 63 sectors
        80.2MB in 11 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
/dev/rwd0e:     164304 sectors in 163 cylinders of 16 tracks, 63 sectors
        80.2MB in 11 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
/dev/rwd0g:     716688 sectors in 711 cylinders of 16 tracks, 63 sectors
        349.9MB in 45 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
/dev/rwd0h:     78216768 sectors in 77596 cylinders of 16 tracks, 63 sectors
        38191.8MB in 4850 cyl groups (16 c/g, 7.88MB/g, 1920 i/g)
</pre>
                </td>
        </tr>
</table>
d716 14
a729 2
Notice this answer defaults to no, so you will have to directly tell it to format your labels. If you chose no, you would simply be dropped into a shell and could start the install again by
typing install, or just by rebooting again with your bootdisk. At this point it will format all filesystems for you.  This could take some time depending on the size of your disk. 
d736 1
a736 1
information you are about to enter. Here is a walkthrough of the network configuration section of the install process. 
d740 2
a741 5
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
You will now be given the opportunity to configure the network.  This will be
d746 8
a753 7
Configure the network [y] <strong>&lt;Enter&gt;</strong>
Enter system hostname (short form): [] <strong>mybox</strong>
Enter DNS domain name: [] <strong>someisp.com</strong>

If you have any devices being configured by a DHCP server
it is recommended that you do not enter a default route or
any name servers.
d760 4
a763 4
Configure which interface? (or, enter 'done') [fxp0] <strong>&lt;Enter&gt;</strong>
IP address (or 'dhcp') ? [] <strong>199.185.137.55</strong>
Symbolic (host) name? [test2] <strong>&lt;Enter&gt;</strong>
Netmask ? [255.255.255.0] <strong>&lt;Enter&gt;</strong>
d765 2
a766 2
media directives.  The default media is:
        media: Ethernet autoselect (100baseTX full-duplex)
d768 5
d774 4
a777 4
        media 100baseTX mediaopt full-duplex
        media 100baseTX
        media 10baseT mediaopt full-duplex
        media 10baseT
d780 1
a780 1
Media directives? [] <strong>&lt;Enter&gt;</strong>
a785 6
Configure which interface? (or, enter 'done') [done] <strong>&lt;Enter&gt;</strong>
</pre>
                </td>
        </tr>
</table>
</ul>
d787 6
a792 1
<p>
a793 1
</p>
a794 13
<ul>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
Enter IP address of default route: [none] <strong>199.185.137.128</strong>
Enter IP address of primary nameserver: [none] <strong>199.185.137.1</strong>
Would you like to use the nameserver now? [y] <strong>&lt;Enter&gt;</strong>
</pre>
                </td>
        </tr>
</table>
</ul>
d799 8
a806 4
After your network is setup, the install script will give you a chance to make any changes to your network setup. (Mainly if errors were produced.) Then the filesystems you
created will be mounted and a root password set. This will get your local disks ready for the OpenBSD packages to be installed upon them. After your local disks are ready you
will get a chance to choose your installation media. The options are listed below. 
</p>
d809 1
a809 4
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
d811 2
a812 2
any additional network configuration you may need.  This may include adding
additional routes, if needed.  In addition, you might take this opportunity
d814 11
a824 1
Escape to shell? [n] <strong>&lt;Enter&gt;</strong>
d826 3
a828 5
/dev/wd0a on /mnt type ffs (rw, asynchronous, local)
/dev/wd0d on /mnt/tmp type ffs (rw, asynchronous, local)
/dev/wd0e on /mnt/var type ffs (rw, asynchronous, local)
/dev/wd0g on /mnt/usr type ffs (rw, asynchronous, local)
/dev/wd0h on /mnt/home type ffs (rw, asynchronous, local)
d830 1
a830 3
Please enter the initial password that the root account will have.
Password (will not echo): <strong>&lt;Your Password Here!&gt;</strong>
Password (again): <strong>&lt;Your Password Here!&gt;</strong>
a831 1
Do you expect to run the X Window System? [y] <strong>&lt;Enter&gt;</strong>
d833 6
a838 5
It is now time to extract the installation sets onto the hard disk.  Make sure
the sets are either on a local device (i.e. tape, CD-ROM) or on a network
server.  You will have the chance to repeat this step or to extract sets from
several places, so you don't have to try to load all the sets in one try and
can recover from some errors.
d840 2
a841 5
Install from (f)tp, (h)ttp, (t)ape, (C)D-ROM, (N)FS or local (d)isk? <strong>c</strong>
</pre>
                </td>
        </tr>
</table>
d852 4
a855 7
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
The following CD-ROM devices are installed on your system; please make
sure the CD is in the CD-ROM drive and select the device containing
the CD with the installation sets:
d859 5
a863 5
Which CD-ROM contains the installation media? [cd0] <strong>&lt;Enter&gt;</strong>
</pre>
                </td>
        </tr>
</table>
d867 2
a868 4
Now you will be prompted for which filesystem to use when reading the CD-ROM, and in which directory the installation files are. If you are using the official OpenBSD
CD-ROM, you will use 'cd9660' as your filesystem. (Which is the default.) You will then be using '/3.0/i386/' as the directory in which the files reside. (Again, this is the default
option.) After this you will get a list of packages to install. You can get a description of these files in <a href="#FilesNeeded">Files Needed</a>. Here is what you will be seeing: 
</p>
d873 8
a880 3
Now it's time to choose which packages you will be installing. You can get a description of these files in faq4.2. The files that the installdisk finds will be shown to you on the
screen. Your job is just to specify which files you want. By default only 4 packages are selected. These are 'base30.tar.gz', 'etc30.tar.gz', 'man30.tar.gz' and 'bsd'. This is because
these first 3 files MUST be present for you to have any sort of a functional system, the 'bsd' file is the kernel of the system. The rest are left up to your discretion. The example
d885 20
a904 30
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
Enter the directory relative to the mount point that
contains the file. [/3.0/i386] <strong>&lt;Enter&gt;</strong>

You will now be asked for files to extract.  In addition to the
files listed in the selector you may enter any file located in
/mnt2//3.0/i386.  You can also enter 'all' to install all the standard
sets, or 'list' to list the files available in /mnt2//3.0/i386.
When you are done selecting files, enter 'done'.
Some of these sets are required for your install and some are optional --
You will want at least the base and bsd sets.
Consult the installation notes if you are not sure which sets are required!

The following sets are available for extraction.
Enter filename, `list', `all', or `done'.
You may de-select a set by prepending a '-' to its name.

        [X] base30.tgz
        [X] etc30.tgz
        [ ] misc30.tgz
        [ ] comp30.tgz
        [X] man30.tgz
        [ ] game30.tgz
        [ ] xbase30.tgz
        [ ] xshare30.tgz
        [ ] xfont30.tgz
        [ ] xserv30.tgz
d906 1
a906 1
File name? [] <strong>*</strong>
d908 14
a921 14
The following sets are available for extraction.
Enter filename, `list', `all', or `done'.
You may de-select a set by prepending a '-' to its name.

        [X] base30.tgz
        [X] etc30.tgz
        [X] misc30.tgz
        [X] comp30.tgz
        [X] man30.tgz
        [X] game30.tgz
        [X] xbase30.tgz
        [X] xshare30.tgz
        [X] xfont30.tgz
        [X] xserv30.tgz
d923 1
a923 1
File name? [] <strong>-game*</strong>
d925 14
a938 14
The following sets are available for extraction.
Enter filename, `list', `all', or `done'.
You may de-select a set by prepending a '-' to its name.

        [X] base30.tgz
        [X] etc30.tgz
        [X] misc30.tgz
        [X] comp30.tgz
        [X] man30.tgz
        [ ] game30.tgz
        [X] xbase30.tgz
        [X] xshare30.tgz
        [X] xfont30.tgz
        [X] xserv30.tgz
d940 3
a942 5
File name? [] <strong>done</strong>
</pre>
                </td>
        </tr>
</table>
d947 4
a950 2
bar will be shown that will keep you informed on how much time it will take. The times range greatly depending on what system it is you are installing OpenBSD on. After this your
configuration files ( networking and filesystem ) will be moved onto your disks also from the installdisk. 
d954 31
a984 24
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
/mnt2//3.0/i386/base30.tgz:
100% |**************************************************| 21192 KB    00:00 ETA
/mnt2//3.0/i386/etc30.tgz:
100% |**************************************************|   987 KB    00:00 ETA
/mnt2//3.0/i386/man30.tgz:
100% |**************************************************|  4957 KB    00:00 ETA
/mnt2//3.0/i386/bsd:
100% |**************************************************|  3053 KB    00:00 ETA
/mnt2//3.0/i386/misc30.tgz:
100% |**************************************************|  1644 KB    00:00 ETA
/mnt2//3.0/i386/comp30.tgz:
100% |**************************************************| 14406 KB    00:00 ETA
/mnt2//3.0/i386/xbase30.tgz:
100% |**************************************************|  5504 KB    00:00 ETA
/mnt2//3.0/i386/xshare30.tgz:
100% |**************************************************|  1538 KB    00:00 ETA
/mnt2//3.0/i386/xfont30.tgz:
100% |**************************************************|  6019 KB    00:00 ETA
/mnt2//3.0/i386/xserv30.tgz:
100% |**************************************************| 15035 KB    00:00 ETA
d986 29
a1014 5
Extract more sets? [n] <strong>&lt;Enter&gt;</strong>
</pre>
                </td>
        </tr>
</table>
d1017 2
d1020 4
a1023 1
Once this is done, all that's left is to set your timezone and install the bootblocks. Setting your timezone is extremely easy. Just pick the area you live in and enter the name. That's
d1028 2
d1031 1
a1031 6
<ul>
<table border=0 width="800">
        <tr>
                <td nowrap bgcolor="#EEEEEE">
<pre>
Copying fstab, hostname.fxp0, hosts, myname, mygate, resolv.conf,  ...done.
d1035 1
a1035 1
be selected by entering a token like "MET" or "GMT-6".  Other zones are
d1039 2
a1040 18
To get a listing of what's available in /usr/share/zoneinfo, enter "?"
at the prompts below.

What timezone are you in? [`?' for list] [GMT] <strong>?</strong>
Africa/      Chile/       GB-Eire      Israel       NZ-CHAT      Turkey
America/     Cuba         GMT          Jamaica      Navajo       UCT
Antarctica/  EET          GMT+0        Japan        PRC          US/
Arctic/      EST          GMT-0        Kwajalein    PST8PDT      UTC
Asia/        EST5EDT      GMT0         Libya        Pacific/     Universal
Atlantic/    Egypt        Greenwich    MET          Poland       W-SU
Australia/   Eire         HST          MST          Portugal     WET
Brazil/      Etc/         Hongkong     MST7MDT      ROC          Zulu
CET          Europe/      Iceland      Mexico/      ROK          posixrules
CST6CDT      Factory      Indian/      Mideast/     Singapore
Canada/      GB           Iran         NZ           SystemV/
What timezone are you in? [`?' for list] [GMT] <strong>Canada</strong>
There are several timezones available within zone 'Canada'
Select a sub-timezone [`?' for list]: ?
d1044 2
a1045 4
There are several timezones available within zone 'Canada'
Select a sub-timezone [`?' for list]: Mountain
You have selected timezone "Canada/Mountain".
Installing timezone link.
d1056 4
a1059 6
 0: 20 @@(0 108 44) (6847-6866)
 1: 63 @@(0 109 1) (6867-6929)
 2: 13 @@(0 110 1) (6930-6942)
 3:  5 @@(0 9 59) (625-629)
 4: 11 @@(0 10 1) (630-640)
/mnt/boot: 5 entries total
d1064 7
a1070 1
Unmounting filesystems... /mnt/home /mnt/usr /mnt/var /mnt/tmp /mnt ... Done.
d1077 6
a1082 5
# <strong>reboot</strong>
</pre>
                </td>
        </tr>
</table>
d1090 3
a1092 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&sektion=8&format=html">afterboot(8)</a> man page. Which
should definitely be one of your first steps after installing OpenBSD. Here is a table which will point you to relevant
d1117 9
a1125 9
<ul>
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.i386">INSTALL.i386</a> - Comprehensive installation document.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.linux">INSTALL.linux</a> - Installing OpenBSD along with Linux.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.mbr">INSTALL.mbr</a> - Explaining the Master Boot Record.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.pt">INSTALL.pt</a> - Explaining Partition Tables.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.dbr">INSTALL.dbr</a> - DOS Floppy Disk Boot Sector.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.chs">INSTALL.chs</a> - Explaining CHS Translation.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.ata">INSTALL.ata</a> - ATA/ATA-1/ATA-2/IDE/EIDE/etc FAQ
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.os2br">INSTALL.os2br</a> - The os2 Boot Sector.
d1142 10
a1151 10
    <li><strong>base30.tgz</strong>    - Has the base OpenBSD system <b>Required</b></li>
    <li><strong>etc30.tgz</strong>     - Has all the files in /etc <b>Required</b></li>
    <li><strong>comp30.tz</strong>    - Has the compiler and its tools, libs. <b>Recommended</b></li>
    <li><strong>man30.tgz</strong>     - Holds man pages <b>Recommended</b></li>
    <li><strong>misc30.tgz</strong>    - Holds misc info, setup docs</li>
    <li><strong>game30.tgz</strong>    - Has the games for OpenBSD</li>
    <li><strong>xbase30.tgz</strong>   - Has the base install for X11</li>
    <li><strong>xfont30.tgz</strong>   - Holds X11's font server and fonts</li>
    <li><strong>xserv30.tgz</strong>   - Has X11's X servers</li>
    <li><strong>xshare30.tgz</strong>  - Has manpages, locale settings, includes, etc  for X</li>
d1163 1
a1163 1
The following are suggested sub-tree sizes for a full system install. 
d1165 1
a1165 1
system that is connected to the internet.
d1167 8
a1174 7
<UL>
<LI>For a multiuser system,
you probably want to triple these values.
<LI>If you plan to install a significant amount of third party software, make your /usr partition large!  <strong>At least</strong> triple these values!
<LI>For a system that
handles lots of email or web pages (stored, respectively, in /var/mail and /var/www) you will want to make your /var partition significantly larger.
<LI>For a
d1178 1
a1178 1
want to make the /usr partition significantly larger, probably 800M-1G 
d1180 1
a1180 1
</UL>
d1188 10
a1197 8
alpha           56M     540M    27M     161M
amiga           45M     399M    24M      36M
hp300           31M     234M    24M      47M
i386            35M     229M    24M      72M
mac68k          29M     232M    24M      36M
mvme68k         29M     232M    24M       -  (no Xserver)
pmax            50M     355M    24M      60M
sparc           40M     259M    24M      49M
d1222 30
d1274 1
a1274 1
Now boot NT and put openbsd.pbr in c:. Add a line like this to the end of c:\boot.ini: 
d1309 1
a1309 1
Please refer to <a href="ftp://ftp.openbsd.org/pub/OpenBSD/3.0/i386/INSTALL.linux">INSTALL.linux</a>, which gives indepth instructions on getting
d1447 1
a1447 1
<small>$OpenBSD: faq4.html,v 1.99 2002/03/11 00:05:13 millert Exp $</small>
@


1.99
log
@Mention that XP uses the same loader tricks as NT and include a link
to MS's XP Howto on the subject.
@
text
@d29 2
d1315 73
d1389 2
d1403 1
a1403 1
<small>$OpenBSD: faq4.html,v 1.98 2002/02/22 02:17:21 nick Exp $</small>
@


1.98
log
@
updated for v3.0.  ok ericj@@
@
text
@d1213 1
a1213 1
<strong>OpenBSD & NT</strong>
d1217 1
a1217 1
To multiboot OpenBSD and NT, you can use NTloader, the bootloader that NT uses. To multi-boot with NT,  you
d1242 4
d1326 1
a1326 1
<small>$OpenBSD: faq4.html,v 1.97 2002/02/21 05:28:23 nick Exp $</small>
@


1.97
log
@
Removed duplicate "Send in dmesg" in 4.1, added link to #SendDmesg
resolves PR2416 from Piotr Domagalski (szalik@@szalik.net)
Removed ISO question, replaced with link to faq3.html#ISO
ok ericj@@
@
text
@d40 2
a41 2
This FAQ now contains installation instructions for OpenBSD 2.8. There
may be differences between the 2.8 installation and installation of earlier
d72 1
a72 1
OpenBSD 2.9 supports a number of architectures listed below in alphabetical order.
d145 2
a146 2
download the respective <i>floppy28.fs</i> image. <br>
<b>NOTE:</b> The <i>cdrom28.fs</i> image can be used to make a bootable OpenBSD installation
d155 14
a168 40
	<li><b>floppy28.fs</b> supports the following devices XXX -
		<p>
		Ethernet:
		<ul>
			<li>NE2000 PCMCIA
			<li>3com 3c5xx PCMCIA
			<li>Xircom PCMCIA
		</ul>
		Disk:
		<ul>
			<li>ISAPNP/PCMCIA IDE (<i>all floppy images support ISA and PCI IDE</i>)
			<li>BusLogic [57]4X SCSI
			<li>Adaptec 154[02] SCSI
			<li>Adaptec 174[024] SCSI
			<li>Adaptec 274X/284X/2940 SCSI
			<li>NCR 538XX SCSI
			<li>AdvanSys 1200A/B/Ultra/Ultrawide SCSI
			<li>Seagate ST0[12] SCSI
		</ul>
		<p>
		<li><b>floppyB28.fs</b> supports the following devices not supported by floppy28.fs:
		<p>
		Disk:
		<ul>
			<li>Qlogic ISP [12]0x0 SCSI/FibreChannel
			<li>UltraStor [123]4f SCSI
			<li>WD7000/TMC-7000 SCSI
		</ul>
		<p>
		<li><b>floppyC28.fs</b> supports Cardbus and PCIBIOS.
		<p>
		Ethernet:
		   <ul>
			<li>3Com 3C575TX, 3C[CX]FE575BT, and 3C[CX3]FE575CT CardBus 
			<li>3Com 3C[CX]FEM656, 3C[CX]FEM656B, and 3C[CX3]FEM656C CardBus 
			<li>ADMtek AN985 Centaur-C CardBus 
			<li>IBM EtherJet 10/100 CardBus 
			<li>Intel PRO/100 CardBus II 
		   </ul>
		<p>
d172 5
a176 1
Most i386 users will just use the <i>floppy28.fs</i> installation floppy.
d217 1
a217 1
# <b>dd if=floppy28.fs of=/dev/rfd0c bs=126b</b>
d232 1
a232 1
# <b>cmp /dev/rfd0c floppy28.fs</b>
d253 1
a253 1
Enter source file name: <b>floppy28.fs</b><br>
d273 1
a273 1
C:\> <strong>fdimage -q floppy28.fs a:</strong>
d282 1
a282 1
C:\> <strong>ntrw floppy28.fs a:</strong><br>
d418 1
a418 1
Welcome to the OpenBSD/i386 2.8 installation program.<br><br>
d436 1
a436 1
Specify terminal type [pcvt25]: <b>&lt;Enter&gt;</b>
d869 1
a869 1
CD-ROM, you will use 'cd9660' as your filesystem. (Which is the default.) You will then be using '/2.8/i386/' as the directory in which the files reside. (Again, this is the default
d877 1
a877 1
screen. Your job is just to specify which files you want. By default only 4 packages are selected. These are 'base28.tar.gz', 'etc28.tar.gz', 'man28.tar.gz' and 'bsd'. This is because
d888 1
a888 1
contains the file. [/2.8/i386] <strong>&lt;Enter&gt;</strong>
d892 2
a893 2
/mnt2//2.8/i386.  You can also enter 'all' to install all the standard
sets, or 'list' to list the files available in /mnt2//2.8/i386.
d903 10
a912 10
        [X] base28.tgz
        [X] etc28.tgz
        [ ] misc28.tgz
        [ ] comp28.tgz
        [X] man28.tgz
        [ ] game28.tgz
        [ ] xbase28.tgz
        [ ] xshare28.tgz
        [ ] xfont28.tgz
        [ ] xserv28.tgz
d920 10
a929 10
        [X] base28.tgz
        [X] etc28.tgz
        [X] misc28.tgz
        [X] comp28.tgz
        [X] man28.tgz
        [X] game28.tgz
        [X] xbase28.tgz
        [X] xshare28.tgz
        [X] xfont28.tgz
        [X] xserv28.tgz
d937 10
a946 10
        [X] base28.tgz
        [X] etc28.tgz
        [X] misc28.tgz
        [X] comp28.tgz
        [X] man28.tgz
        [ ] game28.tgz
        [X] xbase28.tgz
        [X] xshare28.tgz
        [X] xfont28.tgz
        [X] xserv28.tgz
d966 1
a966 1
/mnt2//2.8/i386/base28.tgz:
d968 1
a968 1
/mnt2//2.8/i386/etc28.tgz:
d970 1
a970 1
/mnt2//2.8/i386/man28.tgz:
d972 1
a972 1
/mnt2//2.8/i386/bsd:
d974 1
a974 1
/mnt2//2.8/i386/misc28.tgz:
d976 1
a976 1
/mnt2//2.8/i386/comp28.tgz:
d978 1
a978 1
/mnt2//2.8/i386/xbase28.tgz:
d980 1
a980 1
/mnt2//2.8/i386/xshare28.tgz:
d982 1
a982 1
/mnt2//2.8/i386/xfont28.tgz:
d984 1
a984 1
/mnt2//2.8/i386/xserv28.tgz:
d1163 3
d1322 1
a1322 1
<small>$OpenBSD: faq4.html,v 1.96 2002/02/03 03:28:31 nick Exp $</small>
@


1.96
log
@
Removed reference to 8M install workaround, as 8M is not sufficient
for a standard 3.0 install.  ok ericj@@
@
text
@d56 8
d1112 5
a1116 34
<p>
<p>
Just to remind people, it's important for the OpenBSD developers to keep track
of what hardware works, and what hardware doesn't work perfectly..
</p>

<p>
A quote from /usr/src/etc/root/root.mail
<pre>
If you wish to ensure that OpenBSD runs better on your machines, please do us
a favor (after you have your mail system setup!) and type
        dmesg | mail dmesg@@openbsd.org
so that we can see what kinds of configurations people are running.  We will
use this information to improve device driver support in future releases.
(We would be much happier if this information was for the supplied GENERIC
kernel; not for a custom compiled kernel).  The device driver information
we get from this helps us fix existing drivers.
</pre>
</p>
<p>
Make sure you send the email from an account that is able to also receive
email, so that developers can contact you back if they have something they want
you to test or change in order to get your setup working. It's not important
at all to send the email from the same machine that is running OpenBSD, so
if that machine is unable to receive email, just
<pre>
 dmesg | mail your-account@@yourmail.dom
</pre>
and then forward that message to
<pre>
 dmesg@@openbsd.org
</pre>
where <tt>your-account@@yourmail.dom</tt> is your regular email account.
(or transfer the dmesg output using ftp/scp/floppydisk/carrier-pigeon/...)
a1118 4
<p>
<strong>NOTE</strong> - Please send only GENERIC kernel dmesgs. Custom
kernels that have device drivers removed are not helpful.
</p>
d1121 1
a1121 1
<h2>Other Information Resources and Popular Questions</h2>
d1123 2
a1124 2
<UL>
Comprehensive documents already exist for those of you who might have different machines. You can retrieve these from any of
d1126 1
a1137 13
<STRONG>Question:</STRONG> - Does OpenBSD provide an ISO image available for download?
</p>

<p>
<STRONG>Answer:</STRONG> - 
No. The official OpenBSD CD-ROM layout is a copyright of Theo de Raadt, as an
incentive for people to buy the CD set.

Note that only the layout is copyrighted, OpenBSD itself is free.
Nothing precludes someone else to just grab OpenBSD and make their own CD.
</p>

<p>
d1341 1
a1341 1
<small>$OpenBSD: faq4.html,v 1.95 2002/01/25 03:44:01 nick Exp $</small>
@


1.95
log
@
Link Cleanup:  Retargeting links, test all links,
man page references, update and repair as needed.
ok ericj@@
@
text
@a28 1
<li><a href= "#8meg"        >My install halts at MAKEDEV all on my i386 system with 8meg of RAM.</a>
a1173 29
<a name="8meg"></a>
<p>
<STRONG>Question:</strong> - I'm having problems installing with 8meg of RAM. What can I do here?
</p>

<p>
<STRONG>Answer:</STRONG> - Many people are having a problem at the end of the install where the 
system stalls on <i>MAKEDEV all ...</i>. There is a workaround for this. Basically you need to turn on swap during the install.
To do this do as described below:
</p>

<ul>
<li>Start the Install as normal
<li>Setup your disks via <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&sektion=8">fdisk(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8">disklabel(8)</a> as described above.
<li>After your disks are setup, and AFTER they've been formatted, type <i>&lt;CNTRL&gt;-C</i> to break into a shell. 
<li>type <i>reboot</i> to reboot the machine.
<li>This time, skip through the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&sektion=8">fdisk(8)</a> and <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8">disklabel(8)</a> sections. You can do this by typing just <i>exit</i> in fdisk(8) and by typing <i>q</i> in disklabel(8).
<li>Proceed through the install until you have completed the <b>Networking Section</b> of the install. <B>NOTE:</B> This is after all packages have been installed. When you get here type <i>&lt;CNTRL&gt;-z</i>, which will put you into a shell.
<li>Here is where swap needs turned on. To do so type <i>/mnt/sbin/swapctl -a  /dev/wd0b</i> or /dev/sd0b, or whatever your swap device is.
<ul>
<li>If this isn't found, mount your root disk at <i>/mnt</i>.
</ul>
<li>Now you can type <i>fg</i> to proceed through the rest of the install.
</ul>

<p>
If you followed these instructions and still have problems mail <a href="mailto:ericj@@openbsd.org">Eric Jackson &lt;ericj@@openbsd.org&gt;</a>.
</p>

d1378 1
a1378 1
<small>$OpenBSD: faq4.html,v 1.94 2002/01/21 20:28:25 nick Exp $</small>
@


1.94
log
@
Update copyright notice to 2002.  ok ericj@@
@
text
@d88 1
a88 1
disk. More information on <a href="#4.1.3">creating OpenBSD installdisks </a>
d127 1
d198 1
a198 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdformat&sektion=0">fdformat(1)</a>
d255 3
a257 3
<a href="ftp://ftp.openbsd.org/pub/OpenBSD/tools/">tools</a> directory on
any of the ftp mirrors, or in <b>2.8/tools</b> directory on CD1 of the OpenBSD CD set.
For users of Windows, <i>rawrite</i> will be all you need to write your boot floppy.
d498 6
a503 4
For more information on using fdisk(8), refer to <a href="faq14.html#14.2">section 14.2</a>.<p>
NOTE: OpenBSD does NOT support any sort of journaling filesystems like ReiserFS, IBM's JFS or SGI's XFS.
Instead we use <a href="faq14.html#14.5">Soft Updates</a>. The filesystem for 
OpenBSD is FFS.
d885 1
a885 1
option.) After this you will get a list of packages to install. You can get a description of these files in <a href="#4.2">section 4.2</a>. Here is what you will be seeing: 
d1098 3
a1100 3
<LI><a href="faq10.html#10.8">Adding users in OpenBSD</a> 
<LI><a href="faq6.html#6.1">Initial Network Setup</a>
<LI><a href="faq2.html#2.3">Man Pages of popular/useful commands</a>
d1102 1
a1102 1
<li><a href="faq8.html#8.7">OpenBSD Packages</a> - Precompiled Binary Packages.
a1122 1
Also check with <a href= "faq14.html#14.7">section 14.7</a>
d1152 8
a1159 8
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.i386">INSTALL.i386</a> - Comprehensive installation document.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.linux">INSTALL.linux</a> - Installing OpenBSD along with Linux.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.mbr">INSTALL.mbr</a> - Explaining the Master Boot Record.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.pt">INSTALL.pt</a> - Explaining Partition Tables.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.dbr">INSTALL.dbr</a> - DOS Floppy Disk Boot Sector.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.chs">INSTALL.chs</a> - Explaining CHS Translation.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.ata">INSTALL.ata</a> - ATA/ATA-1/ATA-2/IDE/EIDE/etc FAQ
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.9/i386/INSTALL.os2br">INSTALL.os2br</a> - The os2 Boot Sector.
d1177 1
a1177 1
<STRONG>Question:</strong> - I'm having problems installing with 8meg of RAM. What can i do here?
d1218 10
a1227 11
    <li><strong>base28.tgz</strong>    - Has the base OpenBSD system <b>Required</b></li>
    <li><strong>etc28.tgz</strong>     - Has all the files in /etc <b>Required</b></li>
    <li><strong>comp28.tz</strong>    - Has the compiler and its tools, libs. <b>Recommended</b></li>
    <li><strong>man28.tgz</strong>     - Holds man pages <b>Recommended</b></li>
    <li><strong>misc28.tgz</strong>    - Holds misc info, setup docs</li>
    <li><strong>game28.tgz</strong>    - Has the games for OpenBSD</li>
    <li><strong>xbase28.tgz</strong>   - Has the base install for X11</li>
    <li><strong>xfont28.tgz</strong>   - Holds X11's font server and fonts</li>
    <li><strong>xlink28.tgz</strong>   - Has the X servers link kit</li>
    <li><strong>xserv28.tgz</strong>   - Has X11's X servers</li>
    <li><strong>xshare28.tgz</strong>  - Has manpages, locale settings, includes, etc  for X</li>
d1336 1
a1336 1
osbs20b8.zip</a> or <a href="http://www.users.intercom.com/~ranish/part/">The Ranish Partition Manager</a>.
d1345 1
a1345 1
Please refer to <a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.linux">INSTALL.linux</a>, which gives indepth instructions on getting
a1371 1
Also check with <a href= "faq14.html#14.7">section 14.7</a>
d1408 1
a1408 1
<small>$OpenBSD: faq4.html,v 1.93 2002/01/14 00:54:14 kjell Exp $</small>
@


1.93
log
@Mix NT/OpenBSD Multiboot instructions. the PBR is on sd0a, not sd0c
@
text
@d9 1
a9 1
<meta name= "copyright"     content= "This document copyright 1998-2001 by OpenBSD.">
d1408 1
a1408 1
<small>$OpenBSD: faq4.html,v 1.92 2002/01/13 00:00:32 ericj Exp $</small>
@


1.92
log
@
change followed link color, so it is more visible in all netscape,
IE, konqueror

from Nick Holland <nick@@holland-consulting.net>
@
text
@d1308 1
a1308 1
	# <strong>dd if=/dev/rsd0c of=openbsd.pbr bs=512 count=1</strong>
d1408 1
a1408 1
<small>$OpenBSD: faq4.html,v 1.91 2002/01/12 01:39:30 ericj Exp $</small>
@


1.91
log
@
re-target the faq.
Change internal links from #10.XX -> #somethingmeaningfull
This will probobly break some external links to us, but will allow
us greater mobility in moving internal things around without breaking
links in the future.

work by Nick Holland <nick@@holland-consulting.net>
@
text
@d12 1
a12 1
<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">
d1408 1
a1408 1
<small>$OpenBSD: faq4.html,v 1.90 2001/12/07 17:08:39 millert Exp $</small>
@


1.90
log
@New link for NTLDR Hacking Guide; Andrey Smagin
@
text
@d21 2
a22 2
<li><a href="faq4.html#4.1">4.1 - Overview of the OpenBSD Installation Procedure.</a>
<li><a href= "faq4.html#4.2">4.2 - What files are needed for Installation?
d24 1
a24 1
<li><a href= "faq4.html#4.3">4.3 - How much space do I need for an
d26 2
a27 2
<li><a href= "faq4.html#4.4">4.4 - Multibooting OpenBSD</a></li>
<li><a href= "faq4.html#4.5">4.5 - Sending your dmesg to dmesg@@openbsd.org
d29 1
a29 1
<li><a href= "#8meg">My install halts at MAKEDEV all on my i386 system with 8meg of RAM.</a>
d35 1
d1203 1
d1232 1
d1292 1
d1349 1
d1408 1
a1408 1
<small>$OpenBSD: faq4.html,v 1.89 2001/10/20 15:57:31 horacio Exp $</small>
@


1.89
log
@grammar and typos
@
text
@d1320 1
a1320 1
information available about NTloader at the <a href="http://www.dorsai.org/~dcl/publications/NTLDR_Hacking/">
d1403 1
a1403 1
<small>$OpenBSD: faq4.html,v 1.88 2001/10/03 14:49:05 jufi Exp $</small>
@


1.88
log
@Soft Updates section enhanced/corrected.
@
text
@d57 1
a57 1
architectures installation page or the OpenBSD CD cover for architecture 
d64 2
a65 2
OpenBSD 2.9 supports X architectures listed below in alphabetical order.
Please refer to each architectures page for specific information on what each
d101 1
a101 1
			<b>NOTE:</b> Official OpenBSD CD's are bootable if your bios
d143 1
a143 1
each is outlined below.
d254 1
a254 1
any of the ftp mirrors, or in <b>2.8/tools</b> directory on CD1 on the OpenBSD CD.
d464 1
a464 1
Setting up disk's in OpenBSD is fairly similar for each platform. For i386 disk
d490 1
a490 1
and swap will be. <b>wd0</b> specifies an IDE disk, if your disks are SCSI you
d493 2
a494 2
program will automatically setup the diskspace for you, however if you choose not
to give the whole disk to OpenBSD you will be placed in a disk editor, 
d496 2
a497 2
For more information on using fdisk(8), <a href="faq14.html#14.2">refer to the FAQ</a>.<p>
NOTE: OpenBSD does NOT support any sort of jounaling filesystems like ReiserFS, IBMs JFS or SGIs XFS.
d651 1
a651 1
<h3>4.1.6 - Configuring your mountpoints and formating your filesystems</h3>
d666 2
a667 2
Setting up your mountpoints is much more simple than it looks. After you setup your filesystems with disklabel, will see text like the text below. This should 
be done for you automatically if you configured mount points via disklabel(8). If you did not, you can do so here.
d729 2
a730 2
Notice this answer defaults to no, so you will have to directly tell it to format your labels. If you chose no you will simply be dropped into a shell and can start the install again by
typing install, or just rebooting again with your bootdisk. At this point it will format all filesystems for you, this could take some time depending on the size of your disk. 
d792 1
a792 1
In the above example, we use a static IP address. You can choose to use dhcp as well if you choose. In the case of DHCP, most of this information will be grabbed from a remote dhcp server.
d855 1
a855 1
people will only have one; if you don't, you need to make sure you pick the device in which you will be installing the OpenBSD from. After choosing the correct device, you will be
d879 1
a879 1
Now you will be prompted for which filesystem to use when reading the CD-ROM, and to what directory the installation files are. If you are using the official OpenBSD
d881 1
a881 1
option.) After this you will get a list of packages to install. You can get a description of these files in <a href="#4.2">FAQ 4.2</a>. Here is what you will be seeing: 
d1006 3
a1008 3
Once this is done, all that's left is to set your timezone and install the bootblocks. Setting your timezone is extremely easy. Just pick the area you live in and enter the name. Thats
it!. Only one more question, which is whether or not you will be running X on this server. If you plan to ever run X on this server you should chose yes, otherwise you might have to
go change machdep.allowaperture=0 into machdep.allowaperture=1 in your /etc/sysctl.conf. After this is all done, just type 'reboot' at the shell prompt and your machine will
d1122 2
a1123 2
Make sure you send email from an account that is able to also receive
email so developers can contact you back if they have something they want
d1165 1
a1165 1
No. The official OpenBSD CD-ROM layout is copyright Theo de Raadt, as an
d1403 1
a1403 1
<small>$OpenBSD: faq4.html,v 1.87 2001/10/03 11:31:15 jufi Exp $</small>
@


1.87
log
@spreading words about Soft Updates and NOT
supporting journaling filesystems.
@
text
@d498 1
a498 1
Instead we use <a href="faq14.html#14.5">Soft Updates</a> to protect our metadata. The filesystem for 
d1403 1
a1403 1
<small>$OpenBSD: faq4.html,v 1.86 2001/09/10 19:26:32 jufi Exp $</small>
@


1.86
log
@
powerpc.html -> macppc.html
copyright notices cleaned up.
All work by David Krause <openbsd@@davidkrause.com>
@
text
@d496 4
a499 1
For more information on using fdisk(8), <a href="faq14.html#14.2">refer to the FAQ</a>.
d1403 1
a1403 1
<small>$OpenBSD: faq4.html,v 1.85 2001/08/25 09:31:33 jufi Exp $</small>
@


1.85
log
@
copyright extended to 2001
@
text
@d9 1
a9 1
<meta name= "copyright"     content= "This document copyright 1998-20019 by OpenBSD.">
d75 1
a75 1
	<li><a href="../powerpc.html">powerpc</a> - Support for Apple based PowerPC systems.
d1400 1
a1400 1
<small>$OpenBSD: faq4.html,v 1.84 2001/08/08 21:06:32 jsyn Exp $</small>
@


1.84
log
@giant spelling/grammar clean-up; ok millert@@
@
text
@d9 1
a9 1
<meta name= "copyright"     content= "This document copyright 1998-1999 by OpenBSD.">
d1400 1
a1400 1
<small>$OpenBSD: faq4.html,v 1.83 2001/07/02 20:48:35 jufi Exp $</small>
@


1.83
log
@
all patches by David Krause <openbsd@@davidkrause.com>
@
text
@d58 1
a58 1
dependant installation information.
d87 1
a87 1
disk. More information on <a href="#4.1.3">creating OpenBSD installdisk's </a>
d307 1
a307 1
This section is initially broken down into architecture dependant
d322 1
a322 1
booting from CD. Some older BIOS's do not have this option, and you
d1136 1
a1136 1
<strong>NOTE</strong> - Please send only GENERIC kernel dmesg's. Custom
d1383 1
a1383 1
<strong>NOTE</strong> - Please send only GENERIC kernel dmesg's. Custom
d1400 1
a1400 1
<small>$OpenBSD: faq4.html,v 1.82 2001/05/04 14:14:21 reinhard Exp $</small>
@


1.82
log
@use full path for swapctl -a swap device; Dirk Lautenschlager <office@@admins.ws>
@
text
@d64 1
a64 1
OpenBSD 2.8 supports X architectures listed below in alphabetical order.
d69 1
d73 1
d1146 8
a1153 8
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.i386">INSTALL.i386</a> - Comprehensive installation document.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.linux">INSTALL.linux</a> - Installing OpenBSD along with Linux.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.mbr">INSTALL.mbr</a> - Explaining the Master Boot Record.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.pt">INSTALL.pt</a> - Explaining Partition Tables.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.dbr">INSTALL.dbr</a> - DOS Floppy Disk Boot Sector.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.chs">INSTALL.chs</a> - Explaining CHS Translation.
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.ata">INSTALL.ata</a> - ATA/ATA-1/ATA-2/IDE/EIDE/etc FAQ
<LI><a href="ftp://ftp.openbsd.org/pub/OpenBSD/2.8/i386/INSTALL.os2br">INSTALL.os2br</a> - The os2 Boot Sector.
d1400 1
a1400 1
<small>$OpenBSD: faq4.html,v 1.81 2001/03/26 17:14:10 todd Exp $</small>
@


1.81
log
@spelling
@
text
@d1185 1
a1185 1
<li>Here is where swap needs turned on. To do so type <i>/mnt/sbin/swapctl -a  wd0b</i> or sd0b, or whatever your swap device is.
d1398 1
a1398 1
<small>$OpenBSD: faq4.html,v 1.80 2001/01/02 20:27:00 wvdputte Exp $</small>
@


1.80
log
@Add missing </ul> tag (Alexander Bostrom)
@
text
@d56 1
a56 1
The following information is architecture independant. Please refer to each
d83 1
a83 1
common and architecture independant options are layed out below. These
d275 1
a275 1
are availible on the ftp sites (linked above), or the OpenBSD CD. Here are
d289 1
a289 1
Example Usge of <i>ntrw</i>:
d307 1
a307 1
so we can properly instruct each user on the what to do on thier
d405 2
a406 2
and your bootdisk doesn't boot, the problem is probobly due to a
bad floppy disk. This is an extremly common problem!  If your bootdisk fails
d490 1
a490 1
OpenBSD finds. If you choose to alot the whole disk to OpenBSD, the installation
d754 1
a754 1
marked with [X] have been succesfully configured):
d776 1
a776 1
marked with [X] have been succesfully configured):
d899 1
a899 1
sets, or 'list' to list the files avilable in /mnt2//2.8/i386.
d1085 1
a1085 1
should definately be one of your first steps after installing OpenBSD. Here is a table which will point you to relevant
d1237 1
a1237 1
<LI>If you plan to install a significant amount of third party software, make your /usr parition large!  <strong>At least</strong> triple these values!
d1398 1
a1398 1
<small>$OpenBSD: faq4.html,v 1.79 2000/12/26 17:00:49 ericj Exp $</small>
@


1.79
log
@fix spelling; from lws@@juiceco.com
@
text
@d457 1
d1398 1
a1398 1
<small>$OpenBSD: faq4.html,v 1.78 2000/12/01 19:32:28 reinhard Exp $</small>
@


1.78
log
@wording,typos,2.6->2.8,..
@
text
@d49 1
a49 1
using 1 floppy disk. Each architecuture's installation procedure is very
d1397 1
a1397 1
<small>$OpenBSD: faq4.html,v 1.77 2000/11/30 05:56:37 ericj Exp $</small>
@


1.77
log
@link INSTALL.linux from the ftp site.
@
text
@d129 1
a129 1
floppy from one of the OpenBSD distribution sites. You can find a list of FTP servers
d134 1
a134 1
download the <i>floppy28.fs</i> image. <br>
d140 1
a140 1
The i386 has 3 seperate installation disks that you must choose from. The differences between
d252 1
a252 1
any of the ftp mirrors, or in <b>2.8/tools</b> on CD1 on the OpenBSD CD.
d254 1
a344 1

a399 1
</ul>
d641 1
a641 1
and one for /usr. If your users are oing to store files of any significant 
d874 1
a874 1
CD-ROM, you will use 'cd9660' as your filesystem. (Which is the default.) You will then be using '/2.6/i386/' as the directory in which the files reside. (Again, this is the default
d1159 1
a1159 1
You can't. The official OpenBSD CD-ROM layout is copyright Theo de Raadt, as an
d1397 1
a1397 1
<small>$OpenBSD: faq4.html,v 1.76 2000/11/30 05:50:11 ericj Exp $</small>
@


1.76
log
@fixes
@
text
@d1335 1
a1335 1
Please refer to <a href="INSTALL.linux">INSTALL.linux</a>, which gives indepth instructions on getting
d1398 1
a1398 1
<small>$OpenBSD: faq4.html,v 1.75 2000/11/30 04:38:24 ericj Exp $</small>
@


1.75
log
@get the numbering right
@
text
@d176 1
d182 1
d1398 1
a1398 1
<small>$OpenBSD: faq4.html,v 1.74 2000/11/30 03:48:09 ericj Exp $</small>
@


1.74
log
@
New install faq for 2.8. Make it so that it deals with multiple arch's better.. however this still needs work. Has a new format that other pages need to change too.. Hopefully more readable.
@
text
@d877 1
a877 1
<h3>4.1.8 - Choosing installation packages and finishing the install.</h3>
d1396 1
a1396 1
<small>$OpenBSD: faq4.html,v 1.73 2000/09/14 19:19:24 ericj Exp $</small>
@


1.73
log
@bump up version
@
text
@d29 1
a29 1
<li><a href= "install-i386.html#8meg">My install halts at MAKEDEV all on my i386 system with 8meg of RAM.</a>
d40 290
a329 4
OpenBSD provides multiple ways of installing a fresh OpenBSD system for 
multiple architectures. This will give almost everyone in most situations the
chance to install an OpenBSD system. The separate ways of installing an 
OpenBSD system are as follows:
d333 7
a339 6
<li><strong>CD-ROM</strong> - For this you will need to have purchased an
OpenBSD CD. You can do so by going to <a href="../orders.html">http://www.openbsd.org/orders.html</a>. This is probably the easiest way of installing OpenBSD.
<li><strong>FTP</strong> - This option requires you know your IP, Netmask, Gateway, etc. If this is so, there is an enormous list of ftp mirrors around the world which make this a speedy way of getting OpenBSD on your system.
<li><strong>DHCP</strong> - This options is the same as <strong>FTP</strong> except that your IP, Netmask, Gateway and Nameservers are retrieved from the DHCP server.
<li><strong>Local Filesystem</strong> - This option allows you to install from files on a pre-existing filesystem. Support for DOS, EXT2FS and FFS are included on the install disk.
<li><strong>NFS</strong> - This allows you to install from files located on an nfs server. Read <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_nfs&sektion=8&format=html">mount_nfs(8)</a> for more information.
d342 1
d344 3
a346 2
All these methods of installation are available on ONE floppy disk. These disks can be downloaded directly from any of the ftp mirrors. ( You can get a list of mirrors on <a href="../ftp.html">http://www.openbsd.org/ftp.html</a>. )
Each architecture has their own disk, so make sure you get the correct disk for your architecture. A list of supported architectures can be found in <a href="faq1.html#1.2">FAQ 1</a>.
d349 10
d360 7
a366 4
Here are detailed, complete walk-through guides of the installation process
for i386 and sparc architectures. Don't forget to look at the
<A HREF="ftp://ftp.openbsd.org/pub/OpenBSD/2.7/i386/INSTALL.i386">INSTALL.i386</a>
and <A HREF="ftp://ftp.openbsd.org/pub/OpenBSD/2.7/sparc/INSTALL.sparc">INSTALL.sparc</a> documents also.
d369 13
a381 2
<li><a href="install-i386.html">install-i386.html</a> for <strong>i386</strong> architecture.
<li><a href="install-sparc.html">install-sparc.html</a> for <strong>sparc</strong> architecture.
a382 3
People using other architectures are urged to look at the INSTALL.<i>arch</i>
document that comes with the OpenBSD distribution for their architecture, as well as this
<A HREF="log26.txt">generic installation walkthrough.</a>
a383 1
<h3>Alpha architecture notes</h3>
d385 4
a388 2
Your alpha must use SRM firmware, as opposed to ARC. With the alpha architechture you can install by booting from the CD using CD2.
You can do this by using a command such as 
d390 7
a396 1
<strong>boot -fi 2.6/alpha/bsd.rd dkaX</strong>
d398 794
a1191 3
Use <strong>show device</strong> to find your CDROM drive identifier. If you are unable to boot from the CD, you can still use the
bootdisk provided at <i>CD2:2.6/alpha/floppy26.fs</i>, and write it using the ways detailed above for the i386 architecture. And
again follow the <a href="log26.txt">install walkthrough guide</a>.
d1207 11
a1217 11
    <li><strong>base26.tar.gz</strong>    - Has the base OpenBSD system <b>Required</b></li>
    <li><strong>etc26.tar.gz</strong>     - Has all the files in /etc <b>Required</b></li>
    <li><strong>comp26.tar.gz</strong>    - Has the compiler and its tools, libs. <b>Recommended</b></li>
    <li><strong>man26.tar.gz</strong>     - Holds man pages <b>Recommended</b></li>
    <li><strong>misc26.tar.gz</strong>    - Holds misc info, setup docs</li>
    <li><strong>game26.tar.gz</strong>    - Has the games for OpenBSD</li>
    <li><strong>xbase26.tar.gz</strong>   - Has the base install for X11</li>
    <li><strong>xfont26.tar.gz</strong>   - Holds X11's font server and fonts</li>
    <li><strong>xlink26.tar.gz</strong>   - Has the X servers link kit</li>
    <li><strong>xserv26.tar.gz</strong>   - Has X11's X servers</li>
    <li><strong>xshare26.tar.gz</strong>  - Has manpages, locale settings, includes, etc  for X</li>
d1396 1
a1396 1
<small>$OpenBSD: faq4.html,v 1.72 2000/04/26 19:45:02 ericj Exp $</small>
@


1.72
log
@wording fix; Rob Isaac <rob@@terabyte.co.nz>
@
text
@d63 2
a64 2
<A HREF="ftp://ftp.openbsd.org/pub/OpenBSD/2.6/i386/INSTALL.i386">INSTALL.i386</a>
and <A HREF="ftp://ftp.openbsd.org/pub/OpenBSD/2.6/sparc/INSTALL.sparc">INSTALL.sparc</a> documents also.
d288 1
a288 1
<small>$OpenBSD: faq4.html,v 1.71 2000/03/23 13:54:41 wvdputte Exp $</small>
@


1.71
log
@changed wording (Horacio)
@
text
@d47 1
a47 1
<li><strong>CD-ROM</strong> - For this you will need to have purchased and
d288 1
a288 1
<small>$OpenBSD: faq4.html,v 1.70 2000/03/03 12:59:17 rohee Exp $</small>
@


1.70
log
@Missing </a> causing layout problems with some browsers (eg Mozilla M14)
@
text
@d40 4
a43 1
OpenBSD provides multiple ways of installing a fresh OpenBSD system for multiple architectures. This will give most everyone in almost any situation to be able to install an OpenBSD system. The seperate ways of installing an OpenBSD system are as follows:
d288 1
a288 1
<small>$OpenBSD: faq4.html,v 1.69 2000/02/09 22:11:37 ericj Exp $</small>
@


1.69
log
@8meg installs, Mention how to get Netscape, and a few more fixes.
@
text
@d171 1
a171 1
<a name="4.4">
d227 1
a227 1
<a name="4.5">
d285 1
a285 1
<small>$OpenBSD: faq4.html,v 1.68 2000/02/01 06:51:05 chris Exp $</small>
@


1.68
log
@Typo
from William Yodlowsky <wyodlows@@route1.nj.devry.edu>
@
text
@d29 1
d285 1
a285 1
<small>$OpenBSD: faq4.html,v 1.67 1999/12/10 21:20:38 ericj Exp $</small>
@


1.67
log
@2.6
@
text
@d185 1
a185 1
	# <strong>dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1</strong>
d284 1
a284 1
<small>$OpenBSD: faq4.html,v 1.66 1999/12/05 21:35:49 chris Exp $</small>
@


1.66
log
@2.6 updates and minor corrections
@
text
@a138 1
arc             47M     268M    20M      60M
d142 1
a142 1
mvme68k         48M     448M    24M       -  (no Xserver)
a144 1
powerpc		39M	423M	26M	124M
d284 1
a284 1
<small>$OpenBSD: faq4.html,v 1.65 1999/12/04 20:47:45 chris Exp $</small>
@


1.65
log
@Cleanup. index.html now fits completely in a smaller browser window.
@
text
@d68 1
a68 1
<A HREF="log25.txt">generic installation walkthrough.</a>
d79 1
a79 1
again follow the <a href="log25.txt">install walkthrough guide</a>.
d286 1
a286 1
<small>$OpenBSD: faq4.html,v 1.64 1999/12/04 20:07:04 chris Exp $</small>
@


1.64
log
@2.5 -> 2.6
@
text
@d35 1
a35 1
<h2>4.1 - Installing from the OpenBSD CD</h2>
d57 4
a60 2
The following is some architecture dependent installation instructions. But for all architectures, you can follow the <a href="log25.txt">Install Walkthrough</a>.
</p>
d66 3
d70 1
a70 1
<h3>Alpha</h3>
d173 1
a173 1
<h2>4.4 - Multibooting OpenBSD</h2>
d208 1
a208 1
<strong>OpenBSD & Windows or DOS</strong>
d219 1
a219 1
<strong>OpenBSD & Linux</strong>
d286 1
a286 1
<small>$OpenBSD: faq4.html,v 1.63 1999/12/01 04:14:17 ericj Exp $</small>
@


1.63
log
@spelling
@
text
@d70 1
a70 1
<strong>boot -fi 2.5/alpha/bsd.rd dkaX</strong>
d73 2
a74 2
bootdisk provided at <i>CD2:2.5/alpha/floppy25.fs</i>, and write it using the ways detailed above for the i386 architecture. And
again follow the <a href= "log25.txt">install walkthrough guide</a>.
d90 11
a100 11
    <li><strong>base25.tar.gz</strong>    - Has the base OpenBSD system <b>Required</b></li>
    <li><strong>etc25.tar.gz</strong>     - Has all the files in /etc <b>Required</b></li>
    <li><strong>comp25.tar.gz</strong>    - Has the compiler and its tools, libs. <b>Recommended</b></li>
    <li><strong>man25.tar.gz</strong>     - Holds man pages <b>Recommended</b></li>
    <li><strong>misc25.tar.gz</strong>    - Holds misc info, setup docs</li>
    <li><strong>game25.tar.gz</strong>    - Has the games for OpenBSD</li>
    <li><strong>xbase25.tar.gz</strong>   - Has the base install for X11</li>
    <li><strong>xfont25.tar.gz</strong>   - Holds X11's font server and fonts</li>
    <li><strong>xlink25.tar.gz</strong>   - Has the X servers link kit</li>
    <li><strong>xserv25.tar.gz</strong>   - Has X11's X servers</li>
    <li><strong>xshare25.tar.gz</strong>  - Has manpages, locale settings, includes, etc  for X</li>
d281 1
a281 1
<small>$OpenBSD: faq4.html,v 1.62 1999/11/28 03:26:04 ericj Exp $</small>
@


1.62
log
@revamp install section
@
text
@d43 2
a44 1
<li><strong>CD-ROM</strong> - For this you will need to have purchased and OpenBSD CD. You can do so by going to <a href="../orders.html">http://www.openbsd.org/orders.html</a>. This is probobly the easiest way of installing OpenBSD.
d73 1
a73 1
bootdisk proviced at <i>CD2:2.5/alpha/floppy25.fs</i>, and write it using the ways detailed above for the i386 architecture. And
d281 1
a281 1
<small>$OpenBSD: faq4.html,v 1.61 1999/10/29 14:37:50 ericj Exp $</small>
@


1.61
log
@fd0c -> rfd0c
@
text
@d21 2
a22 4
<li><a href= "faq4.html#4.1">4.1 - Installing from CD</a></li>
<li><a href= "faq4.html#4.2">4.2 - Installing from FTP</a></li>
<li><a href= "faq4.html#4.3">4.3 - Installing via DHCP</a></li>
<li><a href= "faq4.html#4.4">4.4 - What files are needed for Installation?
d24 1
a24 1
<li><a href= "faq4.html#4.5">4.5 - How much space do I need for an
d26 2
a27 2
<li><a href= "faq4.html#4.6">4.6 - Multibooting OpenBSD</a></li>
<li><a href= "faq4.html#4.7">4.7 - Sending your dmesg to dmesg@@openbsd.org
d39 1
a39 4
Installing from a CD is definitely the BEST choice, but first you must have purchased a CD.
You can obtain a CD from <a href= "../orders.html">http://www.openbsd.org/orders.html</a>.
If you are using either the i386, sparc or alpha platforms, you can boot
directly off the CD. Here we will go into more elaborate instructions for substantial architectures.
a41 7
<h3>i386</h3>

To startup an install for the <i>i386</i> architecture, it's best to try booting off of the CD. Most newer 
BIOS's allow this, and you might have to play with it for a minute. If that isn't an option the bootdisk is 
available on the CD also. The bootdisk is placed in CD1:2.5/i386/floppy25.fs. Ways to write this to a floppy 
vary on what platform you are currently on. 

d43 5
a47 2
Unix Flavor
<li> <strong>dd if=floppy25.fs of=/dev/rfd0c bs=126b</strong></li>
d49 1
a49 9
<ul>
Windows/MS-DOS
<li><strong>rawrite</strong> - Which is available in the tools directory on the CD.</li>
</ul>
<ul>
WindowsNT
<li><strong>fdimage</strong> or <strong>ntrw.exe</strong> - Both are available in the tools directory on the CD.</li>
</ul>
 
d51 2
a52 1
<strong>NOTE</strong> - Make sure you use a floppy with NO BAD BLOCKS or you will have problems.
d56 1
a56 2
Once you disk is made, simply boot off of the disk. To guide you through the rest of the install process use 
<a href= "log25.txt">log25.txt</a>, which is an install walkthrough guide.
a58 14
<h3>SPARC</h3>

<p>
With the SPARC architecture you have the ability to boot from the CD. To do this, use CD1 and type either,

<ul>
<li><strong>boot cdrom 25/sparc/bsd.rd</strong></li>
<li><strong>b sd(0,6,0)2.5/sparc/bsd.rd</strong></li>
</ul>

depending on your ROM version. Then simply follow the <a href= "log25.txt">install walkthrough guide</a>.
Alternatively you can boot using a bootdisk. Write the disk using the ways detailed above for the i386 architecture, and 
boot it using either,

d60 2
a61 2
<li><strong>boot fd()</strong>
<li><strong>boot floppy</strong>
d64 1
a64 5
again depending on your ROM version.
</p>

<h3>ALPHA</h3>

d78 1
a78 54
<h2>4.2 - Installation via FTP</h2>
</p>

<p>
The ftp installation is almost the same as the normal installation. The same
bootdisk will be used.
</p>

<p>
<strong>floppy25.fs</strong>
</p>

<p>
Just like the CD install you will set up your disk, then when you specify
install media you choose (f)tp. You must take care to give the proper settings
when you are asked to configure your network. Have available your IP address,
netmask, nameserver addresses, and default route.  If you are using DHCP,
don't worry, the boot disk knows how to talk to your DHCP server to get all of this (see next section below).
Once your network is configured correctly, you must choose the (f)tp
installation option. You will be asked a few simple questions about proxies
and passive or active transfers, and the you will be presented with a list of
ftp servers.  Select the one closest to you, and you are on your way.
</p>

<p>
Consult the <a href= "log25.txt">install</a> text for help.
</p>

<br>

<p>
<a name= "4.3"></a>
<h2>4.3 - Installation via DHCP</h2> 
</p>

<p>
Installation via DHCP is the same as ftp, except your system will use DHCP
to configure your network.  When you arrive at the network config option,
it will ask for your IP address.  Type "dhcp" (Without the quotes of course)
and your IP address, netmask, gateway, and name servers will be setup
from the values given by the DHCP server.  Then all you have
to do is follow the remainder of the directions from ftp install above
and you will be set.
</p>

<p>
Consult the <a href= "log25.txt">install</a> text for help.
</p>

<br>

<p>
<a name= "4.4"></a>
<h2>4.4 - What files are needed for Installation?</h2>
d105 2
a106 2
<a name= "4.5"></a>
<h2> 4.5 - How much space do I need for an OpenBSD installation?</h2>
d164 1
d166 2
a167 2
<a name="4.6">
<h2>4.6 - Multibooting OpenBSD</h2>
d222 2
a223 2
<a name="4.7">
<h2>4.7 - Sending your dmesg to dmesg@@openbsd.org after the install</h2>
d280 1
a280 1
<small>$OpenBSD: faq4.html,v 1.60 1999/10/22 14:11:51 chris Exp $</small>
@


1.60
log
@add comments to recommended filesystem sizes
@
text
@d56 1
a56 1
<li> <strong>dd if=floppy25.fs of=/dev/fd0c bs=126b</strong></li>
d367 1
a367 1
<small>$OpenBSD: faq4.html,v 1.59 1999/10/01 19:38:09 ericj Exp $</small>
@


1.59
log
@little update to upgrade faq, and link it from advanced users faq. Considering it only talks about upgrading via src.
@
text
@d177 4
a180 4
    <li><strong>base25.tar.gz</strong>    - Has the BASE OpenBSD system  *NEEDED*</li>
    <li><strong>etc25.tar.gz</strong>     - Has all the files in /etc *NEEDED*</li>
    <li><strong>comp25.tar.gz</strong>    - Has the compiler and its tools, libs. *STRONGLY SUGGESTED*</li>
    <li><strong>man25.tar.gz</strong>     - Holds man pages *STRONGLY SUGGESTED*</li>
d182 1
a182 1
    <li><strong>game25.tar.gz</strong>    - Has the Games for OpenBSD *FUN*</li>
d188 1
a188 1
    <li><strong>bsd</strong> 		  - This is the Kernel. *NEEDED*</li>
d198 17
a214 5
The following are suggested sub-tree sizes for a full system install.  The
numbers include enough extra space to permit you to run a typical home
system that is connected to the internet:
</p>

d235 1
a235 1
system have just an 'a' and 'b' partition.  The 'a' partition you set up
d240 2
a241 2
make it at least 64MB.
</p>
d243 10
a252 10
<p>
However, we recommend you use many separate partitions so that users
cannot fill up your important partitions as easily, thus causing nasty denial
of service problems.  If you want to be extra cautious, you should make the
following separate partitions: / swap /usr /var /tmp /var/tmp /home.
</p>

<br>

<p>
d367 1
a367 1
<small>$OpenBSD: faq4.html,v 1.58 1999/09/24 02:19:57 ericj Exp $</small>
@


1.58
log
@correct link
@
text
@a23 2
<li><a href= "upgrade-minifaq.html">4.3.1 - Upgrading from various versions
                                    of Openbsd</a></li>
d355 1
a355 1
<small>$OpenBSD: faq4.html,v 1.57 1999/09/24 01:46:14 ericj Exp $</small>
@


1.57
log
@re-organization of the faq, based greatly on the recent changes to the main web page. This way will hopefully allow for greater expansion and readability. Some of the numbers have changed. sorry.
@
text
@d320 1
a320 1
Also check with <a href= "faq14.html#14.7">section 15.7</a>
d357 1
a357 1
<small>$OpenBSD: faq4.html,v 1.56 1999/09/15 05:16:23 ericj Exp $</small>
@


1.56
log
@move disk information away from faq4 to a new faq15. This will leave room for an expanded installation section. faq14 added also although no information is in there to fill it. Soon it will be the IPsec FAQ
@
text
@d14 1
d16 1
a16 5
<font color= "#0000e0">
<a href= "index.html">[Back to Main Index]</a>
<a href= "faq3.html">[To Section 3.0 - Obtaining OpenBSD]</a>
<a href= "faq5.html">[To Section 5.0 - Kernel configuration and Disk Setup]</a>
</font>
d20 14
a33 1
<h1>4.0 - Installation Guide.</h1>
d35 1
d320 1
a320 1
Also check with <a href= "faq15.html#15.7">section 15.7</a>
d357 1
a357 1
<small>$OpenBSD: faq4.html,v 1.55 1999/09/07 20:38:28 ericj Exp $</small>
@


1.55
log
@conform pages to look the same,, additional installboot info
@
text
@d3 1
a3 1
<title>4.0 - Installation and Disk Setup</title>
d23 1
a23 1
<h1>4.0 - Installation and disk setup.</h1>
d185 1
a185 501
<h2>4.5 - Using the OpenBSD disklabel</h2>
</p>

<p>
Be sure to check the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&sektion=8&format=html">disklabel(8)</a> man page! 
</p>

<p>
Disklabel is used to identify disks and/or partitions. The main idea behind
them is abstraction of disk hardware, since there exists several partitioning
tables. A <b>disklabel</b> is a universal partitioning table. These
labels tell the system everything about the disk, but most of it is irrelevant.
The important parts of the label are both the part that tells the disk
geometry and also the part that actually defines what partitions
exist on your disk.  This label resides on the beginning of the disk, this is to
help bootstrap code use them (since most ROM based booting reads the first sectors of the first disk). 
Disklabel can, on some systems, be used to install bootstrap code.
</p>
<p>
As an additional gain, using disklabel helps overcome architecture limitations
on disk partitioning. For example, on i386, you can only have 4 primary
partitions.  (Partitions that other operating systems, such as Windows NT
or DOS can see.)  With <b>disklabel</b>, you use one of these
'primary' partitions to store *all* of your OpenBSD partitions
(eg. 'swap', '/', '/usr' and '/var'). And you still have 3 more partitions
available for other OSs!
</p>
<p>
You can think of them as 'subpartitions' for installation purposes. But they
are a necessity for kernel disk access based on geometry. And remember to use
'b' for the swap label, and 'a' for root filesystem (default names in kernel).
(Note also that in other FAQ documents we usually refer to these OpenBSD
'subpartitions' as partitions.  Most architectures do not have two layers
of partitions like the i386 does.)
</p>
<p>
To just view the current disklabel for your disk just do:<br>
<ul>
<pre>
# <Strong>disklabel &lt;disk-device name&gt;</strong><br>
</pre>
</ul>
This will give output similar to this:<br>
</p>
<ul>
<pre>
# using MBR partition 3: type A6 off 64 (0x40) size 16777152 (0xffffc0)
# /dev/rwd0c:
type: ESDI
disk: 
label: TOSHIBA MK2720FC
flags:
bytes/sector: 512
sectors/track: 63
tracks/cylinder: 16
sectors/cylinder: 1008
cylinders: 2633
total sectors: 2654064
rpm: 3600
interleave: 1
trackskew: 0
cylinderskew: 0
headswitch: 0           # milliseconds
track-to-track seek: 0  # milliseconds
drivedata: 0 

16 partitions:
#        size   offset    fstype   [fsize bsize   cpg]
  a:  2071440    65583    4.2BSD     1024  8192    16   # (Cyl.   65*- 2120)
  b:    65520       63      swap                        # (Cyl.    0*- 65)
  c:  2654064        0    unused        0     0         # (Cyl.    0 - 2632)
  j:   512001  2137023    4.2BSD     1024  8192    16   # (Cyl. 2120*- 2627*)
</PRE>
</ul>

<p> 
In this example, there are 4 labels - A, B, C, J. A is one main partition, B is swap, and J is another partition.
C in all cases represents the full disk. This is helpful in showing what values in size, cyl, etc you have to work with. But with this
command you cannot change any values, you can just view. 
</p>
<p>
To be able to edit your label's interactively you would use the <b>-E</b> flag.<br>
Example:
</p>

<ul>
<pre>
# <strong>disklabel -E wd0</strong>
# using MBR partition 3: type A6 off 64 (0x40) size 16777152 (0xffffc0)

Treating sectors 64-16777216 as the OpenBSD portion of the disk.
You can use the 'b' command to change this.

Initial label editor (enter '?' for help at any prompt)
> <Strong>?</strong>
Available commands:
        p [unit]  - print label.
        M         - show entire OpenBSD man page for disklabel.
        e         - edit drive parameters.
        a [part]  - add new partition.
        b         - set OpenBSD disk boundaries.
        c [part]  - change partition size.
        d [part]  - delete partition.
        m [part]  - modify existing partition.
        r         - recalculate free space.
        u         - undo last change.
        s [path]  - save label to file.
        w         - write label to disk.
        q         - quit and save changes.
        x         - exit without saving changes.
        ? [cmnd]  - this message or command specific help.
Numeric parameters may use suffixes to indicate units:
        'b' for bytes, 'c' for cylinders, 'k' for kilobytes, 'm' for megabytes,
        'g' for gigabytes or no suffix for sectors (usually 512 bytes).
        Non-sector units will be rounded to the nearest cylinder.
Entering '?' at most prompts will give you (simple) context sensitive help.
> <strong>p</strong>
device: /dev/rwd0c
type: ESDI
disk: 
label: TOSHIBA MK2720FC
bytes/sector: 512
sectors/track: 63
tracks/cylinder: 16
sectors/cylinder: 1008
cylinders: 2633
total sectors: 2654064
free sectors: 14193711
rpm: 3600

16 partitions:
#        size   offset    fstype   [fsize bsize   cpg]
  a:  2071440    65583    4.2BSD     1024  8192    16   # (Cyl.   65*- 2120)
  b:    65520       63      swap                        # (Cyl.    0*- 65)
  c:  2654064        0    unused        0     0         # (Cyl.    0 - 2632)
  j:   512001  2137023    4.2BSD     1024  8192    16   # (Cyl. 2120*- 2627*)
> <strong>q</strong>
No changes.
</pre>
</ul>

<p> 
In this example we get into disklabel's interactive mode. From here we can issue the command "?" asking for help. This
gives us many commands we can use to add, delete, edit existing labels.  
</p> 
<p> 
There is a new feature on disklabel, to help installation. The '-f' flag writes a 'fstab' like file, if given a mount point for a
label. This is only used at installation. 
</p>
<p> 

To see an example install involving disklabel check <a href="log25.txt">log25.txt</a> </p>

<br>

<p>
<a name= "4.6"></a>
<h2>4.6 - Using fdisk</h2>
</p>

<p>
First be sure to check the fdisk main page. 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&apropos=0&sektion=8&format=html">fdisk(8)</a>
</p>
<p>
Fdisk is a program to help with the maintenance of your partitions. This
program is used at install time to set up your OpenBSD partition (this
partition can contain <u>several</u> labels, each with filesystems/swap/etc.).
It can divide space on your drives and set one active. This program will
usually be used in Single User Mode ( boot -s ). Fdisk also sets the MBR on
your various hard disks.
</p>

<p>
For installation purposes, most times you'll only need <b>ONE</b> Openbsd
partition, and then using disklabel to put a swap and a filesystem on it.
</p>

<p>
To just view your partition table using fdisk just use:<br>
<ul>
<pre># <strong>fdisk fd0</strong><br>
</pre>
</ul>

Which will give an output similar to this:
</p>

<ul>
<pre>
         Disk: fd0       geometry: 80/2/18 [2880 sectors]
         Offset: 0       Signatures: 0xAA55,0x0
                  Starting        Ending
          #: id  cyl  hd sec -  cyl  hd sec [     start -       size]
----------------------------------------------------------------------
         *0: A6    0   0   1 -   79   1  18 [         0 -       2880] OpenBSD
          1: 00    0   0   0 -    0   0   0 [         0 -          0] unused
          2: A7    0   0   2 -   79   1  18 [         1 -       2879] NEXTSTEP
          3: 00    0   0   0 -    0   0   0 [         0 -          0] unused
</pre>
</ul>

<p>
In this example we are viewing the fdisk output of floppy drive. We can
see the OpenBSD partition (A6) and its size. The * tells us that the
OpenBSD partition is a bootable partition.
</p>

<p>
In the previous example we just viewed our information. What if we want to
edit our partition table? Well, to do so we must use the <b>-e</b> flag.
This will bring up a command line prompt to interact with fdisk.
</p>

<ul>
<PRE>
# <strong>fdisk -e wd0</strong>
Enter 'help' for information
fdisk: 1> <strong>help</strong>
        help            Command help list
        manual          Show entire OpenBSD man page for fdisk
        reinit          Re-initialize loaded MBR (to defaults)
        disk            Edit current drive stats
        edit            Edit given table entry
        flag            Flag given table entry as bootable
        update          Update machine code in loaded MBR
        select          Select extended partition table entry MBR
        print           Print loaded MBR partition table
        write           Write loaded MBR to disk
        exit            Exit edit of current MBR, without saving changes
        quit            Quit edit of current MBR, saving current changes
        abort           Abort program without saving current changes
fdisk: 1> 
 
</PRE>
</ul>

</p>
<p> It is perfectly safe in fdisk to go in and explore, just make sure to
answer <Strong>N</strong> to saving the changes and *DON'T* use the
<strong>write</strong> command.
</p>
<p>Here is an overview of the commands you can use when you choose the
<b>-e</b> flag.<br>
<ul>
<li><strong>help</strong>    Display a list of commands that fdisk understands in the interactive edit mode.</li>
<li><strong>reinit</strong>  Initialize the currently selected, in-memory copy of the boot block.</li>
<li><strong>disk</strong>    Display the current drive geometry that fdisk has probed. You are given a chance to edit it if you wish.</li>
<li><strong>edit</strong>    Edit a given table entry in the memory copy of the current boot block.  You may edit either in BIOS geometry mode, or in sector offsets and sizes.</li>
<li><strong>flag</strong>    Make the given partition table entry bootable. Only one entry can be marked bootable. If you wish to boot from an extended partition, you will need to mark the partition table entry for the extended partition as bootable.</li>
<li><strong>update</strong>  Update the machine code in the memory copy of the currently selected boot block.</li>
<li><strong>select</strong>  Select and load into memory the boot block pointed to by the extended partition table entry in the current boot block.</li>
<li><strong>print</strong>   Print the currently selected in-memory copy of the boot block and its MBR table to the terminal.</li>
<li><strong>write</strong>   Write the in-memory copy of the boot block to disk. You will be asked to confirm this operation.</li>
<li><strong>exit</strong>    Exit the current level of fdisk, either returning to the previously selected in-memory copy of a boot block, or exiting the program if there is none.</li>
<li><strong>quit</strong>    Exit the current level of fdisk, either returning to the previously selected in-memory copy of a boot block, or exiting the program if there is none.  Unlike exit it does write the modified block out.</li>
<li><strong>abort</strong>   Quit program without saving current changes.</li>
</ul>
</p>
<br>

<p>
<a name= "4.7"></a>
<h2>4.7 - Adding new disks in OpenBSD</h2>
</p>

<p>
Well once you get your disk installed <strong>PROPERLY</strong> you need to use
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&apropos=0&sektion=8&format=html">fdisk(8)</a> (<i>i386 only</i>) and 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&apropos=0&sektion=8&format=html"> disklabel(8)</a> to set up your
disk in OpenBSD.
<P>
For i386 folks, start with fdisk.  Other architectures can ignore this.
<UL><PRE>
# <Strong>fdisk -i sd2</strong>
</ul></pre>
This will initialize the disk's "real" partition table for exclusive use
by OpenBSD.
Next you need to create a disklabel for it.  This will seem confusing.
<UL><PRE>
# <strong>disklabel -e sd2</strong>

<i>(screen goes blank, your $EDITOR comes up)</i>
type: SCSI
<i>...bla...</i>
sectors/track: 63
total sectors: 6185088
<i>...bla...</i>
16 partitions:
#        size   offset    fstype   [fsize bsize   cpg]
  c:  6185088        0    unused        0     0         # (Cyl.    0 - 6135)
  d:  1405080       63    4.2BSD     1024  8192    16   # (Cyl.    0*- 1393*)
  e:  4779945  1405143    4.2BSD     1024  8192    16   # (Cyl. 1393*- 6135)
</PRE></ul>
First, ignore the 'c' partition, it's always there and is for
programs like disklabel to function! 
For normal operations, fsize should always be 1024, bsize should always be 8192,
and cpg should always be 16.  Fstype is 4.2BSD.  Total sectors is
the total size of the disk.
Say this is a 3 gigabyte disk.  Three gigabytes in disk manufacturer
terms is 3000 megabytes.  So divide 6185088/3000 (use bc(1)).  You get 2061.
So to make up partition sizes for a, d, e, f, g, ... just multiply X*2061
to get X megabytes of space on that partition.   The offset for your
first new partition should be the same as the "sectors/track" reported
earlier in disklabel's output.  For us it is 63.  The offset for each
partition afterwards should be a combination of the size of each partition
and the offset of each partition (Except the C partition, since it has no
play into this equation.)
<P>
Or, if you just want one partition on the disk, say you will use the
whole thing for web storage or a home directory or something,
just take the total size of the disk and subtract the sectors per track from it.
6185088-63 = 6185025.  Your partition is
<UL><PRE>
    d:  6185025       63    4.2BSD     1024  8192    16 
</PRE></UL>
<P>
<b>If all this seems needlessly complex, you can just use disklabel -E to get
the same partitioning mode that you got on your install disk!</b>
There, you can just use "96M" to specify "96 megabytes".  (Or, if you have a disk
big enough, 96G for 96 gigs!) Unfortunately,
the -E mode uses the BIOS disk geometry, not the real disk geometry,
and often times the two are not the same.  To get around this limitation,
type 'g d' for 'geometry disk'.  (Other options are 'g b' for 'geometry bios'
and 'g u' for geometry user, or simply, what the label said before
disklabel made any changes.)
<P>
That was a lot.  But you are not finished.  
Finally, you need to create the filesystem on that disk using <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&apropos=0&sektion=8&format=html">newfs(8)</a>.
</p>

<p>
<ul><pre>
bsd# <strong>newfs wd1a </strong></ul></pre>
</p>

<p>
Or whatever your disk was named as per OpenBSD's disk numbering scheme.  (Look at the
output from dmesg(1) to see what your disk was named by OpenBSD.)
</p>

<p>
Now figure out where you are going to mount this new partition you just created.
Say you want to put it on /u.  First, make the directory /u.  Then, mount it.
</p>

<UL><PRE>
mount /dev/wd1a /u
</PRE></UL>

<P>
Finally, add it to /etc/fstab
</p>
<UL><PRE>/dev/wd1a /u ffs rw 1 1</PRE></UL>

<p>
What if you need to migrate an existing directory like /usr/local? You should mount 
the new drive in /mnt and use cpio -pdum to copy /usr/local to the /mnt directory.
Edit the /etc/fstab file to show that the /usr/local partition is now /dev/wd1a
(your freshly formatted partition.) 
Example:
</p>

<ul>
<strong>/dev/wd1a /usr/local ffs rw 1 1</strong>
</ul>

<p>
Reboot into single user mode..<strong>boot -s</strong> Move the existing
/usr/local to /usr/local-backup (or delete it if you feel lucky) and create an
empty directory /usr/local. Then reboot the system, and whala!! the files are there!
</p>

<br>

<p>
<a name= "4.8"></a>
<h2>4.8 - How do I swap to a file?</h2>
</p>

<p>
(Note: if you are looking to swap to a file because you are getting
&quot;virtual memory exhausted&quot; errors, you should try raising
the per-process limits first with 
csh's <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=unlimit&sektion=1&format=html">unlimit(1)</a>, or
sh's <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ulimit&sektion=1&format=html">ulimit(1)</a>.)
</p>

<p>
With OpenBSD 2.5 came the introduction of <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=swapctl&sektion=8&format=html">swapctl(8)</a>, 
which made dealing with swap devices much easier. Swapping to a file doesn't require a 
custom built kernel, although that can still be done, this faq will show you how to add 
swap space both ways.
</p>

<p>
To swap to a file permanently, first make a kernel with vnd0c as swap. If you 
have wd0a as root filesystem, wd0b is the previous swap, use this line in the 
kernel configuration file (refer to compiling a new kernel if in doubt):
</p>

<ul>
<pre>
config          bsd     root on wd0a swap on wd0b and vnd0c dumps on wd0b
</pre>
</ul>

<p>
Second make the file for swap. If you want a 32MB swapfile named /newswap do:
</p>

<ul>
<strong># dd if=/dev/zero of=/newswap bs=1k count=32768</strong>
</ul>

<p>
Add a line to your /etc/fstab file to indicate where the new swap will be.
</p>

<ul>
<strong>/dev/vnd0c none swap sw 0 0</strong>
</ul>

<p>
Now boot with the new kernel. Then create the vnd0 device to use that file
as a device:
</p>

<ul>
<strong># vnconfig -c -v vnd0 /newswap</strong>
</ul>

<p>
And add it now to swap:
</p>

<ul>
<strong># swapon /dev/vnd0c</strong>
</ul>

<p>
You can now see if it is working with:
</p>

<ul>
<strong># pstat -s</strong>
</ul>

<p>
<a name= "4.9"></a>
<h2>4.9 - Softupdates</h2>
<p>
<strong>
Softupdates are experimental and are NOT recomended for regular users.
</strong>
</p>

<p>
Over the last few years Kirk McKusick has been working on something called
"soft updates". This is based on an idea proposed by Greg Ganger and Yale
Patt that imposing a partial ordering on the buffer cache opertions would
permit the requirement for synchronous writing of directory entries to be
removed from the FFS code. Thus, a large performance increase of disk
writing performance.
</p>

<p>
To enable Softupdates your kernel must have option
</p>

<p>
<strong>option FFS_SOFTUPDATES</strong>
</p>

<p>
then you need to boot into single-user mode:
</p>

<ul>
<strong>
<pre>
	boot>boot -s
	[snip]
	bsd# tunefs -s enable &lt;raw device&gt;
	bsd# reboot -n
</pre>
</strong>
</ul>

<p>
GOOD LUCK. Please direct all problem reports with as MUCH information as
possible (kernel coredumps, tracebacks, etc) to <a href="mailto:csapuntz@@openbsd.org">Costa</a>. 
Do not waste his time with any other questions or incomplete problem
reports.
</p>

<br>

<p>
<a name= "4.10"></a>
<h2> 4.10 - How much space do I need for an OpenBSD installation?</h2>
d232 2
a233 149
<a name= "4.11"></a>
<h2>4.11 - How do I get rid of in "partition 3 id 0" error on boot? <i>(i386)</i></h2>
</p>

<p>
This means that your MBR (Master Boot Record) was not installed properly
or that your BIOS is not compatible with your current MBR. To solve this
first try to reinstall the OpenBSD boot blocks. To do so use
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=installboot&sektion=8&format=html">installboot(8)</a>.
For example, the most common usage is:
</p>

<p>
<ul>
<li>Boot from the OpenBSD bootdisk</li>
<ul>
<li># <strong>fsck /dev/rwd0a && mount /dev/wd0a /mnt </li></strong>
<li># <strong>cp /usr/mdec/boot /mnt/boot</li></strong>
<li># <strong>/usr/mdec/installboot -v /mnt/boot /usr/mdec/biosboot wd0</li></strong>
</ul>
<li>Here substitute your disk devices for rwd0a & wd0a. This will install the boot blocks again.</li>
<li>Then Reboot.</li>
</ul>
</p>

<p>
If this doesn't work you still have a few more options. So, luck hasn't
run out yet. The first is to use a bootloader such as OS-BS. The OpenBSD
cd has the os-bs bootloader included in the tools directory. If you didn't
purchase a CD-ROM, you can download os-bs from any of the OpenBSD ftp
sites.
</p>

<p>
<kbd>pub/OpenBSD/2.5/tools/osbs135.exe</kbd>
</p>

<p>
and take some time to look through the web pages at
<a href= "http://www.prz.tu-berlin.de/~wolf/os-bs.html">
          http://www.prz.tu-berlin.de/~wolf/os-bs.html</a>
</p>

<p>
There are also other commercial bootloaders or lilo that you can use for
multi-booting.
</p>

<p>
Here is a simple outline of how to get lilo onto your system.
</p>

<p>
<ul>
<li>Boot a DOS floppy and do a fdisk /MBR. Make sure you do that on the
drive you'll be booting from.</li>
<li>Boot from a linux disk and install LILO & chain it to your OpenBSD
boot block.</li>
</ul>
</p>

<p>
For further instructions read <a href="INSTALL.linux">INSTALL.linux</a>
</p>

<br>

<p>
<a name="4.12"></a>
<h2>4.12 - How do I get a <i>dmesg</i> from a boot floppy?</h2>
</p>

<p>
RAMDISK images (boot floppies) do not ship with the <i>dmesg</i> utility.
They do, however, have the <code>/kern</code> filesystem mounted. To copy 
the dmesg information to a file, do a:
</p>

<pre><ul>
# <strong>cat /kern/msgbuf >mydmesg</strong>
</pre></ul>
<P>
Boot disks also have 'more' to page through the output:
<pre><ul>
# <strong>more /kern/msgbuf</strong>
</ul></pre>

Also check with <a href= "#4.15">section 4.15</a>

<p>
<a name="4.13"></a>
<h2>4.13 - Reinstalling bootblocks <i>(i386 specific)</i></h2>
</p>  
<p>
Older versions of MS-DOS can only deal with disk geometries of 1024 cylinders
or less.  Since virtually all modern disks have more than 1024
cylinders, most SCSI BIOS chips (which come on the SCSI controller card)
and IDE BIOS (which is part of the rest of the PC BIOS)
have an option (sometimes the default) to "translate" the real disk
geometry into something that fits within MS-DOS' ability.
However, not all BIOS chips "translate" the geometry in
the same way.  If you change your BIOS (either with a new motherboard
or a new SCSI controller), and the new one uses a
different "translated" geometry, you will be unable to load the
second stage boot loader (and thus unable to load the kernel).
(This is because the first stage boot loader contains a list of the blocks
that comprise /boot in terms of the original "translated" geometry.)
If you are using IDE disks, and you make changes to your BIOS settings,
you can (unknowingly) change its translation also (most IDE BIOS offer 3 different
translations.) To fix your boot block so that you can boot normally,
just put a boot floppy in your hard drive, and at the boot prompt,
type "b hd0a:/bsd" to force it to boot from the first hard disk (and not the
floppy).  Your machine should come up normally.  You now need
to update the first stage boot loader to see the new geometry
(and re-write the boot block accordingly).
<br>
Our example will assume your boot disk is sd0 (but for IDE it would be wd0, etc..):
</p>
<ul>
<pre>
# <strong>cd /usr/mdec; ./installboot /boot biosboot sd0</strong>
</pre>
</ul>
<p>
If installboot complains that it is unable to read the BIOS geometry, at
the boot> prompt you may issue the &quot;machine diskinfo&quot; (or
&quot;ma di&quot; for short) command to print the information you need.
Feed the &quot;heads&quot; and &quot;secs&quot; values to installboot's -h
and -s flags, respectively, so that the modified installboot command is
the following:
</p>
<ul><pre>
#<strong> cd /usr/mdec; ./installboot -h &lt;heads&gt; -s &lt;secs&gt; /boot biosboot sd0</strong>
</pre></ul>

<p>
If a newer version of bootblocks are required, you will need to compile these yourself. To do so simply.
</p>

<ul><pre>
# <strong>cd /sys/arch/i386/stand/</strong>
# <strong>make && make install </strong>
# <strong>cd /usr/mdec; cp ./boot /boot</strong>
# <strong>./installboot /boot biosboot sd0</strong> (or whatever device your hard disk is)
</pre></ul>

<p>
<a name="4.14">
<h2>4.14 - Multibooting OpenBSD</h2>
d288 2
a289 2
<a name="4.15">
<h2>4.15 - Sending your dmesg to dmesg@@openbsd.org after the install</h2>
d309 1
a309 1
Also check with <a href= "#4.12">section 4.12</a>
d346 1
a346 1
<small>$OpenBSD: faq4.html,v 1.54 1999/09/03 03:10:53 ericj Exp $</small>
@


1.54
log
@additional installboot info. aaron@@
@
text
@d748 3
a750 3
<li># fsck /dev/rwd0a && mount /dev/wd0a /mnt </li>
<li># cp /usr/mdec/boot /mnt/boot</li>
<li># /usr/mdec/installboot -v /mnt/boot /usr/mdec/biosboot wd0</li>
d864 12
a875 1
#<strong> cd /usr/mdec; ./installboot -h <heads> -s <secs> /boot biosboot sd0</strong>
d993 1
a993 1
<small>$OpenBSD: faq4.html,v 1.53 1999/09/03 01:49:54 ericj Exp $</small>
@


1.53
log
@explain ulimit - d@@
@
text
@d856 12
d982 1
a982 1
<small>$OpenBSD: faq4.html,v 1.52 1999/08/11 13:24:53 ericj Exp $</small>
d986 3
@


1.52
log
@typo <jpettit@@raznick.com>
@
text
@d566 8
d970 1
a970 1
<small>$OpenBSD: faq4.html,v 1.51 1999/08/11 05:12:55 ericj Exp $</small>
@


1.51
log
@the kernel is needed upon installation too.
@
text
@d95 1
a95 1
<strong>boot -fi 2.5/alpha/bsd.rc dkaX</strong>
d962 1
a962 1
<small>$OpenBSD: faq4.html,v 1.50 1999/08/10 16:20:52 ericj Exp $</small>
@


1.50
log
@make install section non-i386 specific
@
text
@d179 1
d962 1
a962 1
<small>$OpenBSD: faq4.html,v 1.48 1999/08/10 15:19:15 ericj Exp $</small>
@


1.49
log
@Altered trailing text a bit in 4.15
@
text
@d33 1
a33 3
You can obtain a CD from 
<a href= "../orders.html">
          http://www.openbsd.org/orders.html</a>.
d35 1
a35 3
directly off the CD. If not, you will have to create a bootdisk. You can get the
boot disk from
<kbd>ftp://ftp.openbsd.org/pub/OpenBSD/2.5/$ARCH/floppy25.fs</kbd>
d38 20
d59 1
a59 6
To create this boot disk, use either the unix tool 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=dd&apropos=0&sektion=1&format=html">
dd(1)</a> or from MS-DOS/Windows, use rawrite from the tools directory on the CD.
Rawrite doesn't work if you are an NT user, so you can also use
<strong>fdimage</strong> or <strong>ntrw.exe</strong> which are both also
in the tools directory.
d61 1
d63 9
a71 1
To use dd, do the following:<br>
d73 11
a83 3
<pre>
# <strong>dd if=floppy25.fs of=/dev/fd0c bs=126b</strong>
</pre>
d85 2
a86 5
fd0c is usually your first floppy disk.
</p>
<p>
After that is completed, boot from your media of choice, (cdrom or bootdisk)
and answer the questions accordingly. Here is an example installation.
d88 2
d92 8
a99 1
<a href= "log25.txt">Example Install</a>
a101 2
<br>

d917 1
a917 1
	dmesg | mail dmesg@@openbsd.org
d930 1
a930 1
at all to send the email from the same machine that is running OpenBSD, so 
d935 1
a935 1
and then forward that message to 
@


1.48
log
@send only GENERIC kernel dmesg
@
text
@d895 6
a900 6
(and make sure you send email from an account that is able to also receive
 email so developers can contact you back if they have something they want
 you to test or change in order to get your setup working. It's not important
 at all to send the email from the same machine that is running OpenBSD, so 
 if that machine is unable to receive email, just
 <pre>
d902 3
a904 3
 </pre>
 and then forward that message to 
 <pre>
d906 3
a908 1
 </pre>
d910 1
d929 1
a929 1
<small>$OpenBSD: faq4.html,v 1.47 1999/08/09 12:47:57 wvdputte Exp $</small>
@


1.47
log
@Added 4.15: sending dmesg output to dmesg@@openbsd.org
@
text
@d908 4
d926 1
a926 1
<small>$OpenBSD: faq4.html,v 1.46 1999/07/26 15:10:46 ericj Exp $</small>
@


1.46
log
@simple fix's by <D.H.Davis@@bath.ac.uk>
@
text
@d778 2
d871 39
d922 1
a922 1
<small>$OpenBSD: faq4.html,v 1.45 1999/07/13 01:34:00 ericj Exp $</small>
@


1.45
log
@typos
@
text
@d181 1
a181 1
are a necesity for kernel disk access based on geometry. And remember to use
d229 1
a229 1
C in all cases represents the full disk. This is helpful in showing what valuses in size, cyl, etc you have to work with. But with this
d233 1
a233 1
To be able to edit your label's interactivly you would use the <b>-E</b> flag.<br>
d602 1
a602 1
Over the last few years Krik McKusick has been working on something called
d822 1
a822 1
To multiboot OpenBSD and NT, you can use NTloader, the bootloader the NT uses. To multi-boot with NT,  you
d881 1
a881 1
<small>$OpenBSD: faq4.html,v 1.44 1999/07/06 21:53:07 deraadt Exp $</small>
@


1.44
log
@its vs it's; hal@@sdsi.com
@
text
@d535 1
a535 1
custom built kernel, But that can still be done, this faq will show you how to add 
d564 1
a564 1
<strong>/dev/vnd0c none sw 0 0</strong>
d881 1
a881 1
<small>$OpenBSD: faq4.html,v 1.43 1999/07/05 18:11:01 ericj Exp $</small>
@


1.43
log
@spelling and format fixes. <chris@@dqc.org>
@
text
@d685 1
a685 1
following seperate partitions: / swap /usr /var /tmp /var/tmp /home.
d881 1
a881 1
<small>$OpenBSD: faq4.html,v 1.42 1999/07/03 05:51:35 ericj Exp $</small>
@


1.42
log
@style fixes
@
text
@d52 1
d54 1
a54 1
# dd if=floppy25.fs of=/dev/rfd0a bs=32k 
d56 2
a57 1
or to whichever device you want to write the floppy binary to.
d189 5
a193 1
<strong># disklabel &lt;disk-device name&gt;</strong><br>
a195 1
<strong>
a225 1
</strong>
a237 1
<strong>
d239 1
a239 1
# disklabel -E wd0
d246 1
a246 1
> ?
d268 1
a268 1
> p 
d288 1
a288 1
> q
a291 1
</strong>
d332 5
a336 1
<strong># fdisk fd0</strong><br>
a340 1
<strong>
a351 1
</strong>
a366 1
<strong>
d368 1
a368 1
# fdisk -e wd0
d370 1
a370 1
fdisk: 1> help
a386 1
</strong>
d426 1
a426 1
fdisk -i sd2
d432 1
a432 1
disklabel -e sd2
d484 2
a485 1
<kbd>bsd# newfs wd1a </kbd>
d769 8
a776 3
<pre>
# cat /kern/msgbuf >mydmesg
</pre>
d809 1
a809 1
cd /usr/mdec; ./installboot /boot biosboot sd0
d827 3
a829 3
<strong><pre>
	# dd if=/dev/rsd0a of=openbsd.pbr bs=512 count=1
</pre></strong>
a836 1
<strong>
a839 1
</strong>
d881 1
a881 1
<small>$OpenBSD: faq4.html,v 1.41 1999/06/30 16:01:27 ericj Exp $</small>
@


1.41
log
@spelling fix's <ccsdhd@@bath.ac.uk>
@
text
@d187 1
a187 1
<strong># disklabel &lt; disk-device name &gt;</strong><br>
d875 1
a875 1
<small>$OpenBSD: faq4.html,v 1.40 1999/06/28 17:35:55 ericj Exp $</small>
@


1.40
log
@dd wrong
@
text
@d32 1
a32 1
Installing from a CD is definatly the BEST choice, but first you must have purchased a CD.
d46 1
a46 1
Rawrite doesnt work if you are an NT user, so you can also use
d89 1
a89 1
installation option. You will be asked a few simple questions about proxys
d814 1
a814 1
To multiboot OpenBSD and NT, you can use NTloader. The bootloader the NT uses. To multi-boot with NT, you
d875 1
a875 1
<small>$OpenBSD: faq4.html,v 1.39 1999/06/28 17:29:27 ericj Exp $</small>
@


1.39
log
@Fixes by <chris@@dqc.org> and <pattonme@@ra.pae.osd.mil> Also a kerberos section initially done by jeremie@@monkey.org
@
text
@d53 1
a53 1
# dd if=floppy25.fs of=/dev/fd0a 
d875 1
a875 1
<small>$OpenBSD: faq4.html,v 1.38 1999/06/25 19:16:29 ericj Exp $</small>
@


1.38
log
@format much better and some additions
@
text
@d32 2
a33 2
Installing from a CD is definatly the BEST choice, but first you must have purchased a cd.
You can obtain a cd from 
d36 1
a36 1
If you are using either the i386, SPARC or Alpha platforms you can boot
d45 2
a46 2
dd(1)</a> or MSDOS rawrite from the tools directory on the cd. Rawrite
doesnt work if you are an NT user, so you can also use
d85 3
a87 2
when you are asked to configure your network. Have handy, your ipaddress
(see below for dhcp), netmask, nameserver addresses, and default route.
d91 1
a91 1
ftp servers.  Select the one closest to you, and your on your way.
d108 3
a110 1
choose DHCP and your network will be setup accordingly.  The all you have
d158 1
a158 1
Disklabel is used to identify disk's and/or partitions. The main idea behind
d161 6
a166 5
labels tell the system everything about the disk, from the Maker to rpm's to
track-to-track seek. This label resides on the beginning of the disk, this isto help
bootstrap code use them (since most ROM based booting reads the first sectors of the first disk). It also will show you partitions and their types on
your disk. Disklabel can, on some systems, be used to install bootstrap
code.
d169 5
a173 3
As an additional gain, using disklabels helps overcome architecture limitations
on disk partitioning. For example on i386 you can only have 4 primary
partitions, with <b>disklabel</b> you can put several labels on one partition
d181 3
d187 1
a187 1
<strong># disklabel &lt disk-device name &gt</strong><br>
d418 1
a418 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&apropos=0&sektion=8&format=html">fdisk(8)</a> and 
d420 59
a478 2
disk in OpenBSD. Making sure that the partition ID is &quot;A6&quot;. Once you have done this, OpenBSD will be able to recognize the
new disk, and you need to create the filesystem on that disk using <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&apropos=0&sektion=8&format=html">newfs(8)</a>.
d486 7
a492 1
or so on using OpenBSD's disk numbering scheme
d495 3
a497 9
<ul>
<strong>
<pre>
wd0
wd1
wd2
</pre>
</ul>
</strong>
d499 2
a500 2
<p>
Edit fstab to mount the new disk at a mount point of your choice, and reboot.
d502 1
d505 5
a509 4
If you need to migrate an existing directory like /usr/bin. You should mount 
the new drive in /mnt and use cpio -pdum to copy /usr/bin to the /mnt directory.
Edit the /etc/fstab file to show that /usr/bin will be mounted on the new drive.
example:
d513 1
a513 1
<strong>/dev/wd1a /usr/bin ffs rw 1 1</strong>
d518 2
a519 2
/usr/bin to /usr/bin-backup and create an empty /usr/bin. Then reboot the
system, and whala!! the files are there!
d679 1
a679 1
However, we recommend you use many seperate partitions so that users
d681 1
a681 1
of service problems.  If you are extra cautious, you will make at least the
d689 1
a689 1
<h2>4.11 - How do I get rid of in "partition 3 id 0" error on boot?</h2>
d696 1
a696 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=installboot&sektion=8&format=html">intsallboot(8)</a>.
d772 1
a772 1
<h2>4.13 - Installing bootblocks (i386 specific)</h2>
d775 18
a792 12
PC BIOS's can only deal with disk geometries with 1024 cylinders
or less.  Since most disks these days have more than 1024
cylinders, most PC scsi controllers "translate" the real disk
geometry into something that fits within the BIOS's parameters.
However, not all scsi controllers "translate" the geometry in
the same way.  If you change scsi controllers and they use a
different "translated" geometry you will be unable to load the
second stage boot loader (and thus unable to load the kernel)
because the first stage boot loader contains a list of the blocks
that comprise /boot in terms of the "translated" geometry.  To
fix this, just boot from a boot floppy and at the boot prompt,
type "b hd0a:/bsd" to boot from the first hard disk (and not the
d794 2
a795 3
to update the first stage boot loader (aka the boot block). This is
also the same way to for any disk device, ide disks and scsi disks in
OpenBSD. 
d797 1
a797 1
To do this, assuming your boot disk is sd0:
d799 1
d803 1
a803 1

d819 3
a821 5
<strong>
<pre>
	# dd if=/dev/rsd0a of=openbsd.pbr count=1
</pre>
</strong>
d847 2
a848 2
To boot OpenBSD along with Windows 3.1, Windows95, or DOS you must simply put a boot loader on the system
that can handle these OS's. Some bootloaders of choice are <a href="http://www.freebird.org/sw-map/bootmanager.html">
d850 1
a850 1
Both of these are known to be able to boot OpenBSD partitions.
d875 1
a875 1
<small>$OpenBSD: faq4.html,v 1.37 1999/06/22 16:59:44 ericj Exp $</small>
@


1.37
log
@Multibooting OpenBSD . rees@@umich.edu
@
text
@d131 11
a141 15
    <li><strong>base25.tar.gz</strong> - Has the BASE OpenBSD system 
                                         *NEEDED*</li>
    <li><strong>etc25.tar.gz</strong> - Has all the files in /etc *NEEDED*</li>
    <li><strong>comp25.tar.gz</strong> - Has the compiler and its tools, libs.
                                         *STRONGLY SUGGESTED*</li>
    <li><strong>man25.tar.gz</strong> - Holds man pages *STRONGLY 
                                        SUGGESTED*</li>
    <li><strong>misc25.tar.gz</strong> - Holds misc info, setup docs</li>
    <li><strong>game25.tar.gz</strong> - Has the Games for OpenBSD *FUN*</li>
    <li><strong>xbase25.tar.gz</strong> - Has the base install for X11</li>
    <li><strong>xfont25.tar.gz</strong> - Holds X11's font server and fonts</li>
    <li><strong>xlink25.tar.gz</strong> - Has the X servers link kit</li>
    <li><strong>xserv25.tar.gz</strong> - Has X11's X servers</li>
    <li><strong>xshare25.tar.gz</strong> - Has manpages, locale settings,
                                           includes, etc  for X</li>
d143 1
a143 3
<p>

<br>
d151 1
a151 2
Be sure to check the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&apropos=0&sektion=8&format=html">disklabel(8)</a>
man page! 
d153 1
d180 3
d211 3
a213 1
</p>
d221 5
a225 1
Example:<br> 
d279 10
d290 3
a292 13
<p>
In this example we get into disklabel's interactive mode. From here we can issue the command "?" asking for help.
This gives us many commands we can use to add, delete, edit existing
labels. 
</p>
<p>
There is a new feature on disklabel, to help installation. The '-f' flag
writes a 'fstab' like file, if given a mount point for a label. This is only
used at installation.
</p>
<p>
To see an example install involving disklabel check <a href="log25.txt">log25.txt</a>
</p>
d322 5
a326 1
Which will give an output similar to this:<br>
d338 3
a340 1
</p>
d346 1
d352 3
a354 1
<p>
d375 3
d390 7
a396 18
<li><strong>flag</strong>    Make the given partition table entry
bootable. Only one entry can be marked bootable. If you wish to boot from
an extended partition, you will need to mark the partition table entry for
the extended partition as bootable.</li>
<li><strong>update</strong>  Update the machine code in the memory copy of
the currently selected boot block.</li>
<li><strong>select</strong>  Select and load into memory the boot block
pointed to by the extended partition table entry in the current boot block.</li>
<li><strong>print</strong>   Print the currently selected in-memory copy
of the boot block and its MBR table to the terminal.</li>
<li><strong>write</strong>   Write the in-memory copy of the boot block to
disk. You will be asked to confirm this operation.</li>
<li><strong>exit</strong>    Exit the current level of fdisk, either
returning to the previously selected in-memory copy of a boot block, or exiting the
program if there is none.</li>
<li><strong>quit</strong>    Exit the current level of fdisk, either
returning to the previously selected in-memory copy of a boot block, or exiting the
program if there is none.  Unlike exit it does write the modified block out.</li>
d409 4
a412 9
<a href=
"http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&apropos=0&sektion=8&format=html">
fdisk(8)</a> and 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=disklabel&apropos=0&sektion=8&format=html">
disklabel(8)</a> to set up your disk in OpenBSD. Making sure that the partition
ID is 'A6'. Once you have done this, OpenBSD will be able to recognize the new
disk, and you need to create the filesystem on that disk using 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=newfs&apropos=0&sektion=8&format=html">
newfs(8)</a>.
d421 4
d426 3
a428 3
  wd0
  wd1
  wd2
d430 2
a431 1
</p>
d444 1
a444 1
<p>
d446 1
a446 1
</p>
d474 1
a474 1
<p>
d478 1
a478 1
</p>
d484 1
a484 1
<p>
d486 1
a486 1
</p>
d492 1
a492 1
<p>
d494 1
a494 1
</p>
d501 1
a501 1
<p>
d503 1
a503 1
</p>
d509 1
a509 1
<p>
d511 1
a511 1
</p>
d517 1
a517 1
<p>
d519 1
a519 3
</p>

<br>
d551 2
a552 1
<p>
d554 4
a557 4
boot>boot -s
[snip]
bsd# tunefs -s enable &lt;raw device&gt;
bsd# reboot -n
d559 2
a560 1
</p>
d580 4
a583 1
<p>
d597 2
a598 1
</p>
d744 2
a745 1
<p>
d747 1
a747 1
# dd if=/dev/rsd0a of=openbsd.pbr count=1
d749 2
a750 1
</p>
d756 2
a757 1
<p>
d759 1
a759 1
c:\openbsd.pbr="OpenBSD"
d761 2
a762 1
</p>
d803 1
a803 1
<small>$OpenBSD: faq4.html,v 1.36 1999/06/22 15:37:48 ericj Exp $</small>
@


1.36
log
@set up 4 like the rest
@
text
@d723 56
d791 1
a791 1
<small>$OpenBSD: faq4.html,v 1.35 1999/06/17 18:38:07 ericj Exp $</small>
@


1.35
log
@softupdate update
@
text
@d22 3
a24 1

d735 1
a735 1
<small>$OpenBSD: faq4.html,v 1.34 1999/06/16 14:41:20 ericj Exp $</small>
@


1.34
log
@no text25.tar.gz
@
text
@d527 6
a532 2
Please read <a href= "../softupdate.html">
                     http://www.openbsd.org/softupdate.html</a>
d557 4
a560 1
GOOD LUCK. you just might need it.
d733 1
a733 1
<small>$OpenBSD: faq4.html,v 1.33 1999/06/16 01:01:43 ericj Exp $</small>
@


1.33
log
@sync fs sizes to 2.5
@
text
@a136 2
    <li><strong>text25.tar.gz</strong> - Holds more text files, and setup
                                         documentation</li>
d726 1
a726 1
<small>$OpenBSD: faq4.html,v 1.32 1999/06/16 00:12:37 ericj Exp $</small>
@


1.32
log
@fix up bootloader section. from kjell@@
@
text
@d572 2
a573 2
alpha           50M     433M    20M     160MB
amiga           27M     173M    20M      64M
d575 7
a581 6
hp300           26M     120M    20M      50M
i386            30M     172M    20M      85M
mac68k          26M     172M    20M      75M
mvme68k         26M     173M    20M      60MB (no Xserver)
pmax            44M     267M    20M      60M
sparc           35M     194M    20M      50M
d728 1
a728 1
<small>$OpenBSD: faq4.html,v 1.31 1999/06/09 20:38:58 ericj Exp $</small>
@


1.31
log
@retract this till its corrected
@
text
@d605 1
a605 1
<h2>4.11 - How do I get rid of "partition 3 id 0" error on boot?</h2>
d609 24
a632 2
The solution to this is problem is using a bootloader. The OpenBSD cd
has the os-bs bootloader included in the tools directory. If you didn't
d652 17
d727 1
a727 1
<small>$OpenBSD: faq4.html,v 1.30 1999/06/08 23:53:21 ericj Exp $</small>
@


1.30
log
@oops. mistake
@
text
@a516 25
<p>
The alternative way, which is much easier to undo, and doesnt take a recompile 
of the kernel or even a reboot to get set up is to first create the file.
You do this exactly as it was done above. Here i will create a file /var/swap
and then turn on swapping to that device.
</p>
<p>
<strong>
# dd if=/dev/zero of=/var/swap bs=1k count=32768 <br>
# swapctl -a /var/swap
</strong>
</p>
<p>
After this is done, you can add a line to <strong>/etc/fstab</strong> to have
rc(8) enable the device each time you reboot. If you don't do this, the file will
still exist, but swapping won't be enabled. Here is an example line to have rc(8) start
swapping on /var/swap which is on /dev/wd0a.
</p>
<p>
<pre>
/dev/wd0a / ffs 1 1
/var/swap /var/swap sw 0 0
</pre>
</p>

d688 1
a688 1
<small>$OpenBSD: faq4.html,v 1.29 1999/06/08 23:10:01 ericj Exp $</small>
@


1.29
log
@mention new swapctl(8) and swapping to a file without kernel changes. + other various spelling fixes. oops
@
text
@d538 1
a538 1
/dev/swap /dev/swap sw 0 0
d713 1
a713 1
<small>$OpenBSD: faq4.html,v 1.28 1999/05/29 03:32:10 ericj Exp $</small>
@


1.28
log
@reference 2.5, not 2.4
@
text
@d458 10
a467 3
First make a kernel with vnd0c as swap. If you have wd0a as root filesystem,
wd0b is the previous swap, use this line in the kernel configuration file
(refer to compiling a new kernel if in doubt):
d517 25
d713 1
a713 1
<small>$OpenBSD: faq4.html,v 1.27 1999/05/28 22:18:21 ericj Exp $</small>
@


1.27
log
@mention fdimage and ntrw.exe so NT users know how to create an install floppy
@
text
@d129 1
a129 1
    <li><strong>base24.tar.gz</strong> - Has the BASE OpenBSD system 
d131 2
a132 2
    <li><strong>etc24.tar.gz</strong> - Has all the files in /etc *NEEDED*</li>
    <li><strong>comp24.tar.gz</strong> - Has the compiler and its tools, libs.
d134 1
a134 1
    <li><strong>man24.tar.gz</strong> - Holds man pages *STRONGLY 
d136 2
a137 2
    <li><strong>misc24.tar.gz</strong> - Holds misc info, setup docs</li>
    <li><strong>text24.tar.gz</strong> - Holds more text files, and setup
d139 6
a144 6
    <li><strong>game24.tar.gz</strong> - Has the Games for OpenBSD *FUN*</li>
    <li><strong>xbase24.tar.gz</strong> - Has the base install for X11</li>
    <li><strong>xfont24.tar.gz</strong> - Holds X11's font server and fonts</li>
    <li><strong>xlink24.tar.gz</strong> - Has the X servers link kit</li>
    <li><strong>xserv24.tar.gz</strong> - Has X11's X servers</li>
    <li><strong>xshare24.tar.gz</strong> - Has manpages, locale settings,
d681 1
a681 1
<small>$OpenBSD: faq4.html,v 1.26 1999/05/21 02:44:00 ericj Exp $</small>
@


1.26
log
@Grammer fix's.. kjell@@ start some clean up also
@
text
@d43 4
a46 1
dd(1)</a> or MSDOS rawrite from the tools directory on the cd.
d681 1
a681 1
<small>$OpenBSD: faq4.html,v 1.25 1999/05/20 22:44:56 ericj Exp $</small>
@


1.25
log
@Use the log25 file as the example install script now, and add log24 to 2.4 specific information
@
text
@d451 1
a451 1
<h2>4.8 - How do i swap to a file?</h2>
d552 1
a552 1
<h2> 4.10 - How much space do i need for an OpenBSD installation?</h2>
d595 1
a595 1
<h2>4.11 - How do i get rid of "partition 3 id 0" error on boot?</h2>
d600 1
a600 1
has the os-bs bootloader included in the tools directory. If you didnt
d678 1
a678 1
<small>$OpenBSD: faq4.html,v 1.24 1999/05/07 17:03:50 ericj Exp $</small>
@


1.24
log
@Installing bootblocks .. from millert@@
@
text
@d58 1
a58 1
<a href= "log24.txt">Example Install</a>
d89 1
a89 1
Consult the <a href= "log24.txt">install</a> text for help.
d108 1
a108 1
Consult the <a href= "log24.txt">install</a> text for help.
d285 1
a285 1
To see an example install involving disklabel check <a href="log24.txt">log24.txt</a>
d678 1
a678 1
<small>$OpenBSD: faq4.html,v 1.23 1999/05/05 00:38:06 ericj Exp $</small>
@


1.23
log
@forgot a </b>
@
text
@d637 27
d678 1
a678 1
<small>$OpenBSD: faq4.html,v 1.22 1999/05/03 03:37:04 ericj Exp $</small>
@


1.22
log
@Get some cleanup and fix's for disklabel
@
text
@d309 1
a309 1
For installation purposes, most times you'll only need <b>ONE<b> Openbsd
d651 1
a651 1
<small>$OpenBSD: faq4.html,v 1.21 1999/04/19 21:14:15 ericj Exp $</small>
@


1.21
log
@few changes for 2.5
@
text
@d158 6
a163 3
Disklabel is used to identify disk's and/or partitions. These labels tell
the system everything about the disk, from the Maker to rpm's to
track-to-track seek. It also will show you partitions and their types on
d168 12
d280 5
d301 10
a310 4
program is used at install time to set up your OpenBSD partition. It can
divide space on your drives and set one active. This program will usually
be used in Single User Mode ( boot -s ). Fdisk also sets the MBR on your
various hard disks.
d651 1
a651 1
<small>$OpenBSD: faq4.html,v 1.20 1999/04/09 17:56:20 ericj Exp $</small>
@


1.20
log
@add info about rc 10.3
@
text
@d580 1
a580 1
<kbd>pub/OpenBSD/2.4/tools/osbs135.exe</kbd>
d625 1
a625 1
<small>$OpenBSD: faq4.html,v 1.19 1999/04/08 23:32:08 ericj Exp $</small>
@


1.19
log
@start up disklabel section.
@
text
@d45 7
a51 1

d625 1
a625 1
<small>$OpenBSD: faq4.html,v 1.18 1999/04/08 22:21:23 ericj Exp $</small>
@


1.18
log
@Start gearing the faq up for 2.5 release, move the 2.4 information into its own category. Also start adding fdisk section.
@
text
@d148 112
a259 1
Sorry, this section is not yet completed. Check back soon!
d619 1
a619 1
<small>$OpenBSD: faq4.html,v 1.17 1999/03/17 15:20:55 kjell Exp $</small>
@


1.17
log
@Added 4.13 - How do I get a dmesg from a boot floppy
@
text
@d32 1
a32 1
<a href= "http://www.openbsd.org/orders.html">
d37 1
a37 1
<kbd>ftp://ftp.openbsd.org/pub/OpenBSD/2.4/$ARCH/floppy24.fs</kbd>
d68 1
a68 1
<strong>floppy24.fs</strong>
d159 9
a167 1
Sorry, this section is not yet completed. Check back soon!
d170 80
d259 2
a260 1
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&apropos=0&sektion=8&format=html">
d480 2
a481 116
<a name= "4.12"></a>
<h2>4.12 - Installing at a partition 4GB or higher</h2>
</p>

<p>
The 2.4 cd's shipped with a problem in installboot. A patch can be obtained 
here <a href= "../errata.html#installboot">
              http://www.openbsd.org/errata.html</a>.
This is fixed in -current.
</p>

<p>
To place the partition boot record, installboot used a 32 bit multiplication
for the sectors times the sectorsize which is larger than 2^32 -1 (i.e.
multiplication overflow) when the partition starts at 4 GB or higher. This
means the pbr is installed in the reall partition address modulo 4GB. It's
still possible to install at >= 4GB with some effort:
</p>

<p>
You have 2 Options for doing so with OpenBSD 2.4. If you have Linux or any
other unix like OS, you should back up the sectors first before trying anything.
</p>

<p> 
<ul>
    <li>Suppose the partition starts at cylinder 611, and the drive has
        255 heads, 63 sectors: offset for the obsd partition is 611*255*63 =
        9815715 sectors. multiply this by 512 and you get: 5025646080. 
        5025646080 mod 2^32 = 730678784
        <p>
        (You can just subtract 2^32 on a hand calculator...) dividing by 512
        gives sector 1427107.
        </p>

        <p>
        Ok, suppose were now in linux (where cylinder numbers are 1 higher   
        btw..) and that the obsd partition is DOS partition 4:
        </p>

        <p>
        <strong>
        dd if=/dev/hda of=backup.txt skip=1427107 bs=512 count=1
        </strong>
        </p>

        <p>
        will backup the data that installboot will nuke ..
        </p>

        <p>
        Now install OpenBSD. Return to Linux.
        </p>

        <p>
        Now we're going to copy the partition boot record to the right place.
        </p>

        <p>
        <strong>
        dd if=/dev/hda of=pbr.txt skip=1427107 bs=512 count=1
        <br>        
        dd if=/pbr.txt of=/dev/hda4 bs=512 count=1
        </strong>
        </p>

        <p>
        (adding obsd to lilo should now work)
        </p>

        <p>
        Now write back the nuked sector:
        </p>

        <p>
        <strong>
        dd if=/backup.txt of=/dev/hda seek=1427107 bs=512 count=1
        </strong>
        </p>

        <p>
        Caveat: make sure that whatever gets nuked by installboot isn't
        essential to running dd (and starting the other OS). Backing up the
        affected partition is recommended.
        </p>

    <li>Use a correct version of installboot (compiled for you by another 
        OBSD'er ..):

        <p>
        put it on another partition, e.g. a DOS partition. Suppose wd0j is the
        DOS partition (see disklabel wd0, this is in case of IDE disks), and
        installboot is named installb there.
        </p>

        <p>
        After booting from floppy/CD, press ^C to get into the shell:
        <strong>
        <ul>
            <li> mkdir dos<br>
            <li> mount /dev/wd0j dos<br>
            <li> cp dos/tmp/installb /usr/mdec/installboot<br>
        </ul>
        </strong>
        </p>
</ul>
</p>

<p>
Now enter 'install' and the installation procedure should use the new
installboot.
</p>

<p>
<a name="4.13"></a>
<h2>4.13 - How do I get a <i>dmesg</i> from a boot floppy?</h2>
d508 1
a508 1
<small>$OpenBSD: faq4.html,v 1.16 1999/02/28 04:59:19 ericj Exp $</small>
@


1.16
log
@Few characters werent showing up just right. added &lt; and &gt;
@
text
@d505 16
d533 1
a533 1
<small>$OpenBSD: faq4.html,v 1.15 1999/02/21 21:43:02 wvdputte Exp $</small>
@


1.15
log
@Changed layout and added links
@
text
@d30 2
a31 2
Installing from a CD is definatly the BEST choice. But first you must have a cd
on hand. You can obtain one of those from 
d35 1
a35 1
directly off the CD. Else you will have to create a bootdisk. You can get the
d188 3
a190 3
wd0
wd1
wd2
d517 1
a517 1
<small>$OpenBSD: faq4.html,v 1.14 1999/02/12 07:59:26 deraadt Exp $</small>
@


1.14
log
@typo; fengyue@@bluerose.windmoon.nu
@
text
@d3 25
a27 7
<title> 4.0 - Installation and Disk Setup </title>
<link rev=made href=mailto:www@@openbsd.org>
<meta name="resource-type" content="document">
<meta name="description" content="the main OpenBSD page">
<meta name="keywords" content="openbsd,main">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1998 by OpenBSD.">
a28 4
</head>
<body bgcolor="#ffffff" text="#000000" link="#23238E">
<a name="4.1"></a>
<h2> 4.1 - Installing from the OpenBSD CD </h2>
d31 41
a71 19
on hand. You can obtain one of those from <a href="http://www.openbsd.org/orders
.html">http://www.openbsd.org/orders.html</a>. If you are using either the i386,
 sparc or alpha platforms you can boot directly off the CD. Else you will have t
o create a bootdisk. You can get the boot disk from ftp://ftp.openbsd.org/pub/OpenBSD/2.4/<arch>/floppy24.fs<p>
To create this boot disk, use either the unix tool <a href="http://www.openbsd.o
rg/cgi-bin/man.cgi?query=dd&apropos=0&sektion=1&format=html"
>dd(1)</a> or rawrite from the tools directory on the cd.
<p>
After that is completed boot from your media of choice, (cdrom or
bootdisk) and answer the questions accordingly. Here is an example
installation.<p>
<a href="log24.txt">Example Install</a>
<p>
<a name="4.2"></a>
<h2> 4.2 - Installation via FTP</h2>
<p>
The ftp installation is almost the same as the normal installation. The
same bootdisk will be used. <br>
<strong>floppy24.fs</strong> <br>
d73 19
a91 10
install media you
choose (f)tp. You must take care to give the proper settings when you are
asked to configure
your network. Have handy, your ipaddress(see below for dhcp), netmask,
nameserver addresses, and default route.  Once your network is configured
correctly, you must choose the ftp installation option. You will be asked
a few simple questions about proxys and passive or active transfers, and
the you will be presented with a list of ftp servers.  Select the one
closest to you, and your on your way. <p>
Consult the <a href="log24.txt">install</a> text for help.<p>
a92 2
 <a name="4.3"></a> <h2> 4.3 -
Installation via DHCP </h2> 
d98 13
a110 2
and you will be set. <p>
Consult the <a href="log24.txt">install</a> text for help.<p>
a111 1
<a name="4.4"></a> <h2> 4.4 - What files are needed for Installation?</h2>
d115 4
a118 1
package.<p>
d120 17
a136 15
<li><strong>base24.tar.gz</strong> - Has the BASE OpenBSD system. *NEEDED*
<li><strong>etc24.tar.gz</strong> - Has all the files in /etc *NEEDED*
<li><strong>comp24.tar.gz</strong> - Has the compiler and its tools, libs.
*STRONGLY SUGGESTED*
<li><strong>man24.tar.gz</strong> - Holds man pages *STRONGLY SUGGESTED*
<li><strong>misc24.tar.gz</strong> - Holds misc info, setup docs.
<li><strong>text24.tar.gz</strong> - Holds more text files, and setup
documentation.
<li><strong>game24.tar.gz</strong> - Has the Games for OpenBSD. *FUN*
<li><strong>xbase24.tar.gz</strong> - Has the base install for X11 
<li><strong>xfont24.tar.gz</strong> - Holds X11's font server and fonts.
<li><strong>xlink24.tar.gz</strong> - Has the X servers link kit. 
<li><strong>xserv24.tar.gz</strong> - Has X11's X servers
<li><strong>xshare24.tar.gz</strong> - Has manpages, locale settings,
includes, etc  for X
d139 5
a143 1
<a name="4.5"></a>
d145 2
d149 4
d154 4
a157 2
<a name="4.6"></a>
<h2> 4.6 - Using fdisk</h2>
d160 4
d165 1
a165 1
 <a name="4.7"></a>
d167 2
d170 11
a180 8
Well once you get your disk installed <strong>PROPERLY</strong> you need to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&apropos=0&sektion=8&format=html">fdisk(8)</a> and <a href="http://www.openbsd.or
g/cgi-bin/man.cgi?query=disklabel&apropos=0&sektion=8&format=html">disklabel(8)</a>
to set up your disk in OpenBSD
. Making sure that the
partition ID is 'A6'. Once you have done this, OpenBSD will be able to
recognize the new disk, and you need to create the filesystem on that
disk using <a href="http://www.openbsd.or
g/cgi-bin/man.cgi?query=newfs&apropos=0&sektion=8&format=html">newfs(8)</a>.
d182 3
a184 1
<strong>bsd# newfs wd1a </strong>
d186 2
a187 1
or so on using OpenBSD's disk numbering scheme<br>
d189 26
d216 1
a216 2
wd1<br>
wd2<br>
d218 4
a221 2
edit fstab to mount the new disk at a mount point of your choice.
and reboot.
d223 5
a227 5
If you need to migrate an existing directory like /usr/bin.
You should mount the new drive in /mnt and use cpio -pdum to copy
/usr/bin to the /mnt directory. Edit the /etc/fstab file to show
that /usr/bin will be mounted on the new drive. <br>
example:<br>
d229 4
a232 1
<strong>/dev/wd1a /usr/bin ffs rw 1 1
a233 1
</strong>
d235 3
a237 17
Reboot into single user mode..<strong>boot -s</strong> Move the existing /usr/bi
n to
/usr/bin-backup and create an empty /usr/bin. Then reboot the system, and
whala!! the files are there! <p>
<a name="4.8"></a>
<h2>4.8 - How do i swap to a file? </h2>
<p>
First make a kernel with vnd0c as swap. If you have wd0a as root
filesystem, wd0
b is the previous swap, use this line in the kernel configuration file
(refer to
 compiling a new kernel if in doubt):<br>
<p>
<strong>config          bsd     root on wd0a swap on wd0b and vnd0c dumps
on wd0b </strong><p>
Second make the file for swap. If you want a 32MB swapfile named /newswap
do:
d240 6
a246 2
Add a line to your /etc/fstab file to indicate where the new swap will
be.<br>
d248 2
d252 7
a258 4
as a 
device:<p>
<strong># vnconfig -c -v vnd0 /newswap
</strong>
d261 2
d265 6
a271 1
You can now see if it is working with:<p>
d273 4
d278 1
a278 1
<a name="4.9"></a>
d281 5
a285 1
<strong>Softupdates are experimental and are NOT recomended for regular users.</strong>
d287 8
a294 1
Please read <a href="../softupdate.html">http://www.openbsd.org/softupdate.html</a>
d296 3
a298 1
To enable Softupdates your kernel must have option<br>
d300 8
a307 4
<strong>option FFS_SOFTUPDATES</strong><p>
then you need to boot into single-user mode:<P>
<strong>boot -s<br>
bsd# tunefs -s enable &lt;raw device&gt;<br>
d309 3
a311 1
</strong>
d314 4
d319 1
a319 1
<a name="4.10"></a>
d321 2
d329 13
a341 10
SYSTEM          /       /usr    /var    /usr/X11R6<br>
alpha           50M     433M    20M     160MB<br>
amiga           27M     173M    20M      64M<br>
arc             47M     268M    20M      60M<br>
hp300           26M     120M    20M      50M<br>
i386            30M     172M    20M      85M<br>
mac68k          26M     172M    20M      75M<br>
mvme68k         26M     173M    20M      60MB (no Xserver)<br>
pmax            44M     267M    20M      60M<br>
sparc           35M     194M    20M      50M<br>
a342 1
</pre>
d349 2
a350 1
make it at least 64MB.<p>
d352 1
d354 11
a364 4
cannot
fill up your important partitions as easily, thus causing nasty denial of
service problems.  If you are extra cautious, you will make at least the
following seperate partitions: / swap /usr /var /tmp /var/tmp /home.<p>
a365 2
<a name="4.11"></a>
<h2> 4.11 - How do i get rid of "partition 3 id 0" error on boot?</h2>
d371 12
a382 5
 <p>
pub/OpenBSD/2.4/tools/osbs135.exe<br>
and take some time to look thru the web pages at<br>
<a
href="http://www.prz.tu-berlin.de/~wolf/os-bs.html">http://www.prz.tu-berlin.de/~wolf/os-bs.html</a>
d386 4
d391 1
a391 1
<a name="4.12"></a>
d393 23
a415 15
The 2.4 cd's shipped with a problem in installboot. A patch can be
obtained here <a
href="../errata.html#installboot">www.openbsd.org/errata.html</a>. So this
is fixed in -current.
<p>
To place the partition boot record, installboot used a 32 bit
multiplication for the sectors times the sectorsize which is larger than
2^32 -1 (i.e. multiplication overflow) when the partition starts at 4 GB
or higher. This means the pbr is installed in the reall partition
address modulo 4GB It's still possible to install at >= 4GB with some
effort:<p>
You have 2 Options for doing so with OpenBSD 2.4. If you have linux or any
other unix like OS, you should back up the sectors first before trying
anything.
 <p> 
d417 16
a432 11
<li>Suppose the partition starts at cylinder 611, and the drive has
255 heads, 63 sectors: offset for the obsd partition is 611*255*63 =
9815715 sectors. multiply this by 512 and you get: 5025646080. 5025646080
mod 2^32 = 730678784 <br>
(You can just subtract 2^32 on a hand
calculator...)
        dividing by 512 gives sector 1427107.
<br>
Ok, suppose were now in linux (where cylinder numbers are 1 higher   
btw..) and that the obsd partition is DOS partition 4:
<p><strong>
d434 10
a443 2
</strong><p>
will backup the data that installboot will nuke ..
d445 6
a450 5
<br>Now install OpenBSD.
Return to linux.
<br>
Now we're going to copy the partition boot record to the right place.
<p><strong>
d452 15
a466 8
<br>        
dd if=/pbr.txt of=/dev/hda4 bs=512 count=1
<p></strong>
(adding obsd to lilo should now work)
<br>
Now write back the nuked sector:
<p>
<strong>
d468 31
a498 17
<p></strong>
Caveat: make sure that whatever gets nuked by installboot isn't
essential to running dd (and starting the other OS). Backing up the
affected partition is recommended.
<p>
<li>Use a correct version of installboot (compiled for you by another    
OBSD'er ..):<br>
 put it on another partition, e.g. a DOS partition.
Suppose wd0j is the DOS partition (see disklabel wd0, this is in case of
IDE disks), and installboot is named installb there.
<br>
After booting from floppy/CD, press ^C to get into the shell:
<ul><strong>
       <li> mkdir dos<br>
       <li> mount /dev/wd0j dos<br>
       <li> cp dos/tmp/installb /usr/mdec/installboot<br>
</ul></strong>
d502 10
d513 6
a518 5
Wouter
 <hr>
<a href=index.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a> 
<a href=mailto:www@@openbsd.org>www@@openbsd.org</a>
<br><small>$OpenBSD: faq4.html,v 1.13 1999/01/06 23:08:35 ericj Exp $</small>
@


1.13
log
@ftp dhcp install help.. needs help.. but at least there is something
@
text
@d41 1
a41 1
nameserver addresses, and default route.  One your network is configured
d302 1
a302 1
<br><small>$OpenBSD: faq4.html,v 1.12 1999/01/05 02:52:18 ericj Exp $</small>
@


1.12
log
@pap/chap and correct broken links
@
text
@d33 17
a49 1
Sorry, this section isnt completed yet. Check back soon!
d51 8
a58 7
<a name="4.3"></a>
<h2> 4.3 - Installation via DHCP </h2>
<p>
Sorry, this section isnt completed yet. Check back soon!
<p>
<a name="4.4"></a>
<h2> 4.4 - What files are needed for Installation?</h2>
d302 1
a302 1
<br><small>$OpenBSD: faq4.html,v 1.11 1999/01/04 22:28:19 ericj Exp $</small>
@


1.11
log
@manpath not specified for man.cgi. defaults to -current
@
text
@d20 1
a20 2
o create a bootdisk. You can get the boot disk from ftp://ftp.openbsd.org/pub/Op
enBSD/2.4/<arch>/floppy24.fs<p>
d30 10
d64 10
d285 1
a285 1
<br><small>$OpenBSD: faq4.html,v 1.10 1999/01/03 00:38:01 ericj Exp $</small>
@


1.10
log
@xshare explaination
@
text
@d23 1
a23 1
rg/cgi-bin/man.cgi?query=dd&apropos=0&sektion=1&manpath=OpenBSD+2.4&format=html"
d58 3
a60 4
Well once you get your disk installed <strong>PROPERLY</strong> you need to use <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&apropos=0&sektion=8&
manpath=OpenBSD+2.4&format=html">fdisk(8)</a> and <a href="http://www.openbsd.or
g/cgi-bin/man.cgi?query=disklabel&apropos=0&sektion=8&
manpath=OpenBSD+2.4&format=html">disklabel(8)</a> to set up your disk in OpenBSD
d65 1
a65 2
g/cgi-bin/man.cgi?query=newfs&apropos=0&sektion=8&
manpath=OpenBSD+2.4&format=html">newfs(8)</a>.
d266 1
a266 1
<br><small>$OpenBSD: faq4.html,v 1.9 1999/01/02 20:14:37 ericj Exp $</small>
@


1.9
log
@installboot link to errata.html
@
text
@d51 2
a52 1
<li><strong>xshare24.tar.gz</strong> - 
d268 1
a268 1
<br><small>$OpenBSD: faq4.html,v 1.8 1999/01/02 18:51:52 ericj Exp $</small>
@


1.8
log
@4gb installboot section
@
text
@d196 4
d267 1
a267 1
<br><small>$OpenBSD: faq4.html,v 1.7 1999/01/02 17:06:09 ericj Exp $</small>
@


1.7
log
@additions, changes.. on and on.
@
text
@d193 29
d223 38
a260 1
<hr>
d263 1
a263 1
<br><small>$OpenBSD: faq4.html,v 1.6 1999/01/01 21:30:17 ericj Exp $</small>
@


1.6
log
@re-wording
@
text
@d49 1
a49 1
<li><strong>xlink24.tar.gz</strong> - 
d145 35
a179 1
<h2> 4.10 - How do i get rid of "partition 3 id 0" error on boot?</h2>
d197 1
a197 1
<br><small>$OpenBSD: faq4.html,v 1.5 1998/12/22 07:52:09 ericj Exp $</small>
@


1.5
log
@adding to and correcting the faq
@
text
@d156 3
d163 1
a163 1
<br><small>$OpenBSD: faq4.html,v 1.4 1998/12/21 21:37:27 ericj Exp $</small>
@


1.4
log
@faq additions.
@
text
@d93 33
a125 1

d147 5
a151 4
The solution to this is using a bootloader. The OpenBSD cd comes with a
the os-bs bootloader. You can find that in the tools directory. Or you can
download os-bs off of the openbsd ftp.
<p>
d160 1
a160 1
<br><small>$OpenBSD$</small>
@


1.3
log
@ericj, you messed up the hrefs again
@
text
@d26 30
a55 3
<not finished>
<a name="4.6"></a>
<h2>4.6 - Adding new disks in OpenBSD</h2>
d58 1
a58 1
manpath=OpenBSD+2.3&format=html">fdisk(8)</a> and <a href="http://www.openbsd.or
d60 1
a60 1
manpath=OpenBSD+2.3&format=html">disklabel(8)</a> to set up your disk in OpenBSD
d66 1
a66 1
manpath=OpenBSD+2.3&format=html">newfs(8)</a>.
d94 2
a95 2
<a name="4.8"></a>
<h2>4.8 - Softupdates</h2>
d99 1
a99 1
Please read <a href="http://www.openbsd.org/softupdate.html">http://www.openbsd.org/softupdate.html</a>
d112 12
d127 1
a127 1
<br><small>$OpenBSD</small>
@


1.2
log
@faq fixup
@
text
@d86 1
a86 1
<a href=../index.html><img height=24 width=24 src=../back.gif border=0 alt=OpenBSD></a> 
@


1.1
log
@no extra directories
@
text
@d4 7
d12 1
a12 1
<body>
d16 51
d85 6
a90 1

@

