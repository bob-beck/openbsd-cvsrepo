head	1.62;
access;
symbols;
locks; strict;
comment	@# @;


1.62
date	2005.08.13.08.19.34;	author saad;	state dead;
branches;
next	1.61;

1.61
date	2004.05.09.09.58.22;	author saad;	state Exp;
branches;
next	1.60;

1.60
date	2004.04.17.19.33.21;	author jufi;	state Exp;
branches;
next	1.59;

1.59
date	2004.03.02.14.04.08;	author jufi;	state Exp;
branches;
next	1.58;

1.58
date	2004.02.25.17.40.57;	author jufi;	state Exp;
branches;
next	1.57;

1.57
date	2004.01.01.23.46.18;	author horacio;	state Exp;
branches;
next	1.56;

1.56
date	2003.12.08.23.51.32;	author horacio;	state Exp;
branches;
next	1.55;

1.55
date	2003.11.14.22.51.42;	author horacio;	state Exp;
branches;
next	1.54;

1.54
date	2003.11.10.21.37.51;	author horacio;	state Exp;
branches;
next	1.53;

1.53
date	2003.11.03.16.52.23;	author jufi;	state Exp;
branches;
next	1.52;

1.52
date	2003.11.03.15.07.08;	author horacio;	state Exp;
branches;
next	1.51;

1.51
date	2003.10.26.23.26.52;	author horacio;	state Exp;
branches;
next	1.50;

1.50
date	2003.10.18.23.25.16;	author horacio;	state Exp;
branches;
next	1.49;

1.49
date	2003.09.02.12.54.38;	author jufi;	state Exp;
branches;
next	1.48;

1.48
date	2003.08.22.20.50.03;	author jufi;	state Exp;
branches;
next	1.47;

1.47
date	2003.07.19.12.09.27;	author jufi;	state Exp;
branches;
next	1.46;

1.46
date	2003.06.28.07.15.52;	author jufi;	state Exp;
branches;
next	1.45;

1.45
date	2003.06.27.21.20.02;	author jufi;	state Exp;
branches;
next	1.44;

1.44
date	2003.06.05.13.12.48;	author jufi;	state Exp;
branches;
next	1.43;

1.43
date	2003.05.28.12.54.59;	author jufi;	state Exp;
branches;
next	1.42;

1.42
date	2003.05.10.13.21.29;	author jufi;	state Exp;
branches;
next	1.41;

1.41
date	2003.05.04.18.07.48;	author jufi;	state Exp;
branches;
next	1.40;

1.40
date	2003.04.30.11.10.43;	author jufi;	state Exp;
branches;
next	1.39;

1.39
date	2003.04.18.21.29.05;	author jufi;	state Exp;
branches;
next	1.38;

1.38
date	2003.04.17.19.05.35;	author jufi;	state Exp;
branches;
next	1.37;

1.37
date	2003.04.15.17.18.58;	author jufi;	state Exp;
branches;
next	1.36;

1.36
date	2003.03.26.16.55.00;	author jufi;	state Exp;
branches;
next	1.35;

1.35
date	2003.02.27.17.58.28;	author jufi;	state Exp;
branches;
next	1.34;

1.34
date	2003.02.21.17.24.51;	author jufi;	state Exp;
branches;
next	1.33;

1.33
date	2003.02.11.19.51.48;	author jufi;	state Exp;
branches;
next	1.32;

1.32
date	2003.01.24.09.11.09;	author jufi;	state Exp;
branches;
next	1.31;

1.31
date	2003.01.21.14.38.40;	author jufi;	state Exp;
branches;
next	1.30;

1.30
date	2003.01.19.12.33.37;	author jufi;	state Exp;
branches;
next	1.29;

1.29
date	2003.01.15.18.16.57;	author jufi;	state Exp;
branches;
next	1.28;

1.28
date	2003.01.08.11.59.05;	author jufi;	state Exp;
branches;
next	1.27;

1.27
date	2003.01.07.11.42.06;	author jufi;	state Exp;
branches;
next	1.26;

1.26
date	2003.01.06.13.04.34;	author jufi;	state Exp;
branches;
next	1.25;

1.25
date	2003.01.04.23.29.58;	author jufi;	state Exp;
branches;
next	1.24;

1.24
date	2002.12.31.21.58.57;	author jufi;	state Exp;
branches;
next	1.23;

1.23
date	2002.12.28.14.39.22;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2002.12.17.12.38.37;	author jufi;	state Exp;
branches;
next	1.21;

1.21
date	2002.12.14.23.48.43;	author jufi;	state Exp;
branches;
next	1.20;

1.20
date	2002.11.23.20.11.18;	author jufi;	state Exp;
branches;
next	1.19;

1.19
date	2002.11.06.10.46.18;	author jufi;	state Exp;
branches;
next	1.18;

1.18
date	2002.11.05.19.10.31;	author jufi;	state Exp;
branches;
next	1.17;

1.17
date	2002.10.16.10.10.39;	author jufi;	state Exp;
branches;
next	1.16;

1.16
date	2002.09.18.09.58.17;	author jufi;	state Exp;
branches;
next	1.15;

1.15
date	2002.09.15.10.10.06;	author jufi;	state Exp;
branches;
next	1.14;

1.14
date	2002.08.27.13.35.16;	author jufi;	state Exp;
branches;
next	1.13;

1.13
date	2002.07.22.08.02.28;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2002.07.17.09.06.56;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2002.06.23.06.31.29;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2002.06.17.20.43.52;	author jufi;	state Exp;
branches;
next	1.9;

1.9
date	2002.06.11.08.52.41;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2002.06.10.18.53.35;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2002.06.03.20.00.44;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.27.14.30.25;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2002.05.19.20.26.28;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.17.10.13.19;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.15.07.19.39;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2002.05.14.06.44.56;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.28.10.26.23;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.62
log
@remove unmaintained [ja] translation files. requested by translator.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
    <title>OpenBSD Upgrading Mini-FAQ</title>
  </head>

  <body bgcolor="#FFFFFF" text="#000000" link="#23238E">

    <h1>ミニ FAQ: OpenBSD のアップグレード</h1>

    <h2>OpenBSD 最新リリース - 3.4</h2>

    <address>
      <p>Kjell Wooding 
	&lt;<a href="mailto:kjell@@openbsd.com">kjell@@openbsd.org</a>&gt;<br>
	更新: 
	$OpenBSD: upgrade-minifaq.html,v 1.61 2004/05/09 09:58:22 saad Exp $</p>
    </address>
    <br>

    <blockquote>
      <p>このミニ FAQ は、OpenBSD のリリース間での、あるいはリリースから
      <em>-current</em> へのアップグレードを行おうとする場合に遭遇する、
      最も一般的な問題に対する取り組む試みです。もはや、<em>Mini</em> で
      あることは難しいのですが、このドキュメントは、歴史上の理由から、
      そしてまた、一貫誓陵海薀潺叢ぢという名前のままとなっています。
      古いバージョンのための情報は、<a href="upgrade-old.html">別のドキュメント</a>
      の中にあります。</p>
    </blockquote>

    <p>
      この Upgrade Mini-FAQ は、<b>上級者</b>を対象としています。
      もし、あなたが初心者なら、あるいはコンパイラやツールチェインに
      <b>完全には確信が持てない</b>のでしたら、ソースからのアップグレードは、
      <b>よしておいた方が良い</b>でしょう。バイナリリリースや snapshot を
      お試しいただ世い董焚爾暴劼戮蕕譴討い覺慙△料犧遒鮃圓辰討い燭誓き、
      <tt>/etc</tt> のアップグレードを実施してくだ世気ぁ
鹿霈

取仮一般的なアップグレードについての質問</h2>

    <p>
      <a href="#1.1">1.1: 用語. <em>-current</em> とは ?
	snapshot とは ?  <em>-stable</em> とは ?</a><br>

      <a href="#1.2">1.2: <em>-current</em> にアップグレードするための
	最も良い方法は ?</a><br>

      <a href="#1.3">1.3: 探してみたのですが、FTP サイトには snapshot は
	見つかりませんした。他の方は、どうされているのでしょう ?</a><br>

      <a href="#1.4">1.4: 最新のソースを取得世垢襪砲鹿畩錫鮠

釈鱚羹■窺帰庄ソースツリーは取得世靴泙靴拭任蓮△修譴鬚匹里茲Δ砲靴
	構築するのでしょう ?</a><br>

      <a href="#1.6">1.6: <em>make build</em> が途中で止まってしまったのですが、
	最初からやり直さなければならないのでしょうか ?</a><br>

      <a href="#1.7">1.7: <em>make build</em> の途中でエラーが出ました。
	どうすれば良いのでしょう ?</a><br>

      <a href="#1.8">1.8: <em>gcc</em> コンパイラをアップグレードするための
	標準的な方法はあるのでしょうか ?</a><br>

      <a href="#1.9">1.9: <tt>/etc</tt> や <tt>/var</tt>、<tt>/dev</tt> を
	アップグレードするための最も良い方法とは ?</a><br>

      <a href="#1.10">1.10: 既存のソースツリーから、すべてのゴミをきれいに消去する
	には、どのようにすれば良いのでしょう ?</a><br>

      <a href="#1.11">1.11: <em>make build</em> は root になってから行うべき
	でしょうか ?</a><br>

      <a href="#1.12">1.12: 新しいデバイスが見つからないのですが、どうして
	でしょう ?</a><br>

      <a href="#1.13">1.13: ファイルの階層構造をすべて変更するための簡単な方法は
	あるのでしょうか ?</a><br>

      <a href="#1.14">1.14: アップグレード後、<em>ps</em> コマンドで
       "proc size mismatch." と出てしまうのですが ?</a><br>

      <a href="#1.15">1.15: どのようにして最新の snapshot にアップグレードするのでしょうか ?</a><br>


    </p>

    <h2>3.5 から <i>-current</i> へのアップグレード</h2>
    <p>
      <a href="#3.5.1">3.5.1: pty デバイスのマイナー番号の変更</a><br>
      <a href="#3.5.2">3.5.2: 新しいユーザ/グループ _dhcp</a><br>
      <a href="#3.5.3">3.5.3: 新しいユーザ/グループ _mopd</a><br>
      <a href="#3.5.4">3.5.4: 新しいユーザ/グループ _tftpd</a><br>
    </p>

    <h2>3.4 から 3.5 へのアップグレード</h2>
    <p>
      <a href="#3.4.1">3.4.1: svnd デバイスのマイナー番号の変更</a><br>
      <a href="#3.4.2">3.4.2: 新しいユーザ/グループ _pflogd</a><br>
      <a href="#3.4.3">3.4.3: インターフェイスの複誓鹿畩錫鮠
釈鱚羹■凱堪刈廠新しいユーザ/グループ _bgpd</a><br>
      <a href="#3.4.4">3.4.5: 新しいバージョンの join(1)</a><br>
      <a href="#3.4.5">3.4.6: sudo の構築の変更</a><br>
      <a href="#3.4.7">3.4.7: 新しいユーザ/グループ _tcpdump</a><br>
      <a href="#3.4.8">3.4.8: machdep.c の変更 (i386)</a><br>
      <a href="#3.4.9">3.4.9: GCC3 への移行 (sparc64)</a><br>
    </p>

    <h2>3.3 から 3.4 へのアップグレード</h2>

    <p>
      <a href="#3.3.1">3.3.1: i386 W^X サポート</a><br>
      <a href="#3.3.2">3.3.2: mquery システムコールの変更</a><br>
      <a href="#3.3.3">3.3.3: i386 の記念日、実行形式のアドレス/MAXDSIZ の変更</a><br>
      <a href="#3.3.4">3.3.4: KerberosIV 認証の削除</a><br>
      <a href="#3.3.4">3.3.5: config の変更</a><br>
      <a href="#3.3.5">3.3.6: ある種の関数への __attribute__((bounded))
                の使用</a><br>
      <a href="#3.3.6">3.3.7: 新しいユーザ/グループ _syslogd</a><br>
      <a href="#3.3.7">3.3.8: カーネル用ヘッダ世凌靴靴ぅ侫璽泪奪搬粟性
               __kprintf__</a><br>
    </p>

    <h2>3.2 から 3.3 へのアップグレード</h2>

    <p>
      <a href="#3.2.1">3.2.1: 新しい Perl</a><br>
      <a href="#3.2.2">3.2.2: 新しいグループ _radius、_token および _shadow</a><br>
      <a href="#3.2.3">3.2.3: 重要なコンパイラの変更</a><br>
      <a href="#3.2.4">3.2.4: 新しいユーザ/グループ _spamd</a><br>
      <a href="#3.2.5">3.2.5: ipv6-icmp 用のエイリアス</a><br>
      <a href="#3.2.6">3.2.6: 新しいグループ _lkm</a><br>
      <a href="#3.2.7">3.2.7: 新しい libpthread</a><br>
      <a href="#3.2.8">3.2.8: ELF アーキテクチャ用のリンカの変更</a><br>
      <a href="#3.2.9">3.2.9: /var/at の削除と crontab の変更</a><br>
    </p>

    <h2>それ以前のバージョンからのアップグレード</h2>

    <p>OpenBSD 2.3 〜 3.1 からのアップグレードについての情報は、
      <a href="upgrade-old.html">別のドキュメント</a>に移され
      ました。このドキュメントは、少し大きくなり過ぎてしまった
      ようです。</p>


    &nbsp;<hr width="30%">

    <a name="1.0"></a> 
    <h2>一般的なアップグレードについての質問</h2>

    <a name="1.1"></a> 
    <h3>1.1: 用語. <em>-current</em> とは ?
      snapshot とは ?  <em>-stable</em> とは ?</h3>

    <p>OpenBSD 2.7 より前までは、OpenBSD の開発は、単一の、ブランチの
      ないソースツリーで行われていましたが、2.7 から patch ブランチが
      導入されました。</p>

    <p>おおよそ 6 ヶ月間隔で、OpenBSD の <em>release</em> が
      リリースされています。これは、定型的 (2.x, 3.x) なルール
      にて採番されています。現在の OpenBSD の release は、この
      ドキュメントの誓萋房┐気譴討い襪發里任后鹿霈

腫昭纃将笊鴪緕躱ぢとは <em>openbsd-current</em> の略であり、
      CVS リポジトリの中のソースツリーの、刻々と更新されている
      バージョンを指す用語です。これは、OpenBSD の開発者たちによって、
      最も共通的に使用されているツリーです。<em>-current</em> ツリー
      は、次の release にしようとしているすべてのコードを含むものです。
      ときどき、勇者たちは、誓擬阿繻縺黼ぢを捨てて openbsd-current を
      実行しようとし、それは通常、まだ誓正式な release に含まれていない
      機能の優位誓鮗蠅砲垢襪海箸任泙后靴靴覆蕁△修粒亮造任
ない誓舛里燭瓩法弱躱鱚銓鹿纃へのアップグレードは、技術に
      自信のないユーザには推奨されないものではあります。</p>

    <p>誓擬阿繻縺黼ぢの間に、<em>snapshot</em> シリーズの
      リリースが、
      <a href="ftp://ftp.openbsd.org/pub/OpenBSD/snapshots/">ここ</a>
      で行われています。snapshot は <em>-current</em> ソースツリーの
      試験的なリリースです。これは、開発の現在の状態を反映したもの
      ですので、snapshot のリリースが、誓気靴あるいは、全体として)
      動くだ世蹐Δ海箸鯤歉擇垢襪發里任呂△蠅泙擦鵝齊瘰鼈阡ぢは、
      誓擬阿繻縺黼あるいは、-current の古い目のバージョン) から
      現在のツリーに移行してくる際には、実に役に立つものです。もしも、
      <em>-current</em> を動かす上で問題が出た場合、<em>source-changes</em> 
      <a href="../../ja/mail.html">メーリングリスト</a>の話題の追誓廚魘
推奨します。これは、コミットのメッセージが、最新の偉大な機能の
      追加に関する、価値のある重要な情報をしばしば含んでいるからです。</p>

    <p>OpenBSD 2.7 から、(<em>-stable</em> と呼ばれる)
      <a href="../../ja/stable.html">patch ブランチ</a>が導入されました。
      このブランチは元となる release を含み、これに重要なパッチや修誓気
鴪癆パッチとなる重要なものに加え、その他の errata エントリに
      相当しないような単純明晴鬚覆發里盍泙瓩すべて含まれています。</p>

    <p><a href="../../ja/ports.html">ports ツリー</a>は、システムに不可欠な
      ものとなっています。システムをアップグレードするのと同じタイミング
      で、他のすべてのものをアップグレードするのと同じルールで、ports
      ツリーも更新されるべきものです。たとえば、-stable システムの上では、
      -stable の ports を走らせるべきですし、-current の ports は、
      -current システムの上でのみ走らせるべきです。</p>

    <a name="1.2"></a>
    <h3>1.2: <em>-current</em> にアップグレードするための
      最も良い方法は ?</h3>

    <p>ライブラリの変更の問題があるので、release から <em>-current</em>
      への直誓椶琉楾圓蓮⊂錣亡蔽韻覆錣韻任呂△蠅泙擦鵝任盒貭砲里覆
弱躱鱚銓鹿纃への移行方法は、まず、
      <a href="#1.15">最新の snapshot にアップグレードすることでしょう</a>。
      いったん、snapshot をインストールすれば、最新のソースを
      <a href="#1.4">取得鹿畩して、<a href="#1.5">構築</a> することが
      できます。この方法なら、toolchain やライブラリに関するほとんどの
      問題を回避することができるでしょう。</p>

    <a name="1.3"></a> 
    <h3>1.3: 探してみたのですが、FTP サイトには snapshot は
      見つかりませんした。他の方は、どうされているのでしょう ?</h3>
 
    <p>snapshot は、それが古く (あるいは、もはや適誓擇任覆なれば、
      削除されるかも知れません。もし、有効な snapshot がなくなれば、
      最も最近の release にアップグレードすべきであり、ソースから
      残りを構築すべきでしょう。</p>

    <a name="1.4"></a> 
    <h3>1.4: 最新のソースを取得世垢襪砲鹿莖
腫ぢ短かい回答: 
      <a href="../../ja/anoncvs.html">http://www.openbsd.org/ja/anoncvs.html</a></p>

    <p>たとえば、CVS からツリー全体を取得世垢襪砲この例は ksh を
      使う場合で、それ以外の場合は、<em>export</em> の代わりに
      <em>setenv</em> を使用してくだ世気ぢ、</p>

<pre>
  # export CVSROOT=anoncvs@@anoncvs.ca.openbsd.org:/cvs
  # export CVS_RSH=/usr/bin/ssh
  # cd /usr
  # cvs -q get -P src
</pre>

    <p>この操作は -current のソースを取得世垢襪燭瓩里發里誓ということに注意してくだ世気ぁ
ですので、もし、たとえば 3.2-stable を取得世靴燭ぞ豺腓砲麓，里茲Δ砲靴討誓さい。</p>

<pre>
  # cvs -q get -rOPENBSD_3_2 -P src
</pre>

    <a name="1.5"></a> 
    <h3>1.5: ソースツリーは取得世靴泙靴拭任蓮△修譴鬚匹里茲Δ砲靴胴獣曚垢襪里任靴腓鹿莖
腫ぢ基本的な操作方法は、
      <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/Makefile"
	 ><tt>/usr/src/Makefile</tt></a> の中に記述があります。
      これは、少し拡張されたバージョンです。</p>

    <ol>
      <li>
        <p>古いオブジェクトファイルをきれいに消してしまいましょう。</p>

        <p>もし、個別の /usr/obj ディレクトリを作っているなら、それを消して、
	  シンボリックリンクを再作誓靴泙后鹿霈

腫鱚鴉鱠鬲閧蟄邃鬲齟轣諷礪
鹿頏緇

腫ぢもしも、あなたが何度もこの操作を実行したことがあるのなら、/usr/obj を
	  だ世韻離僉璽謄轡腑鵑箸靴毒枌屬靴討い董弱躱鈬鷦躱ぢを <em>rm</em>
	  の代わりに実行する方が速いということは、もうお気付きかも知れませんね。
	  たとえば、</p>

<pre>
  # umount /usr/obj
  # newfs wd0h
  # mount /usr/obj
  # make obj
</pre>

        <p>もし、ソースツリー中にオブジェクトファイルが作られていないか、
	  ご心配でしたら、次のようにしてみましょう。</p>

<pre>
  # cd /usr/src
  # find . -type l -name obj | xargs rm
  # make cleandir
  # rm -rf /usr/obj/*
  # make obj
</pre>

      </li>

      <li>
        <p>どのような、バージョン固有の構誓儿垢蘯孫圓靴討誓さい。
	  たとえば、2.3 のユーザは、<em>named</em> ユーザとグループを
	  2.4 かそれ以降に移行する前に追加しておかなければなりません。
	  あなたのバージョンに関係するミニ FAQ のセクションをご参照くだ世気ぁ鹿霈
鹿跚
殊蘊
腫ぢすべての適誓擇淵妊譽肇蟾渋い遒蕕譴討い襪海箸魍稜Г靴泙后
	これは、古い目のバージョンからのアップグレードには特に重要な
	  ことですが、ときどき、他の場合にも必要になることがあります。
	  そのための最も簡単な方法は、次のとおりです。</p>
<pre>
  # cd /usr/src/etc &amp;&amp; env DESTDIR=/ make distrib-dirs
</pre>

      </li>

      <li>
        <p>新しいカーネルをコンパイルします。</p>
<pre>
  # cd /usr/src/sys/arch/`machine`/conf
</pre>

        <p>ほとんどのユーザは GENERIC を使用したいと思うでしょうから、</p>
<pre>
  # config GENERIC
  # cd ../compile/GENERIC
</pre>

        <p><strong>注:</strong> 本当のマゾヒストは、代わりに
	  カスタムカーネルをコンパイルしたいと思うかも知れません。
	  そのようなときは、まず GENERIC から始めて、それに修誓気
	施しましょう。代わりに次のような手順を踏んでくだ世気ぁ鹿霈
腫鱚竦杜賭秒挧賭療挧賭療ぢお好きなように MYKERNEL を変更してくだ世気竢鈕蜃挧賭療邃竢逅蛹絲踊謀厠徒
鹿頏緇

腫ぢどちらの場合にも、</p>
<pre>
  # make clean &amp;&amp; make depend &amp;&amp; make
  (arc アーキテクチャの場合のみ) bsd.ecoff を FAT パーティションにコピーします。
  # cp /bsd /bsd.old &amp;&amp; cp bsd /bsd
  # chown root:wheel /bsd (他のユーザ権限でコンパイルしていた場合)
  (reboot)
</pre>
      </li>

      <li>
        <p>システムをコンパイルします。</p>
<pre>
  # cd /usr/src
  # make build
</pre>
      </li>

      <li>
        <p><tt>/etc</tt> と <tt>/dev</tt> とを手動で更新します。
	  これらは自動的には更新されません。/ か /dev、/var、/etc を
	  保持するのに十分なスペースのあるディレクトリを選択してくだ世気ぁ
	この例では、<em>/home/newroot</em> を選択しています。</p>
<pre>
  # mkdir /home/newroot          
  # export DESTDIR=/home/newroot
  # cd /usr/src/etc &amp;&amp; make distribution-etc-root-var
</pre>

        <p>さて、それらのインストールされた相当物と /home/newroot の
	  中のファイルとを比較してくだ世気ぁＩ廚覆覆蕁▲侫．ぅ襪
	置換するか更新してくだ世気ぁ鹿霈
腫鱚鴉鱠蓖辣纓鳫阡作業終了後)
</pre>
      </li>

      <li>
        <p>/etc のファイルが誓気靴い海箸魍稜Г垢襪燭瓠▲螢屐璽箸靴泙后鹿霈
鹿跚鹿闌
釈瘢綵⊂鹿畩取馨窺矯纃壌瘠碯蛹篌躱ぢが途中で止まってしまったのですが、
      最初からやり直さなければならないのでしょうか ?</h3>

    <p>私ならそうするでしょうが、もし、あなたが本当に途中で終了した
      ところから再開したいのなら、次のようにしましょう。</p>
<pre>
  # cd /usr/src
  # make -n build
</pre>

    <p>これは、make build が何をするのかを見せてくれるでしょう。
      たとえば、私のところでは、次のようになります。</p>
<pre>
  (cd /usr/src/share/mk &amp;&amp;  make install)
  (cd /usr/src/include; make prereq;  make includes)
  make cleandir
  (cd /usr/src/lib &amp;&amp; make depend &amp;&amp; make &amp;&amp;   make install)
  (cd /usr/src/gnu/lib &amp;&amp; make depend &amp;&amp; make &amp;&amp;   make install)
  (cd /usr/src/kerberosIV/lib &amp;&amp; make depend &amp;&amp; make &amp;&amp;   make install)
  (cd /usr/src/gnu/usr.bin/perl &amp;&amp;  make -f Makefile.bsd-wrapper config.sh &amp;&amp;  make -f Makefile.bsd-wrapper depend &amp;&amp;  make -f Makefile.bsd-wrapper perl.lib &amp;&amp;
  make -f Makefile.bsd-wrapper install.lib)
  make depend &amp;&amp; make &amp;&amp;  make install
</pre>

    <p>途中で終了したところから再開するために、コンパイルが止ってしまった
      ところからコマンドを発行します。</p>

    <p>もし、この操作を何度も行ったことがあるのでしたら、新しいターゲットを
      Makefile 中に作ろうと思うかも知れませんね。そうするのでしたら、単純に
      <em>build</em> のエントリを (たとえば <em>build-noclean</em> に) 
      コピーして、<em>make cleandir</em> の参照を削除します。</p>

    <a name="1.7"></a> 
    <h3>1.7: <em>make build</em> の途中でエラーが出ました。
      どうすれば良いのでしょう ?</h3>

    <p><em>make build</em> がエラーで終了してしまったら、再構築の前に古い
      オブジェクトの消去を失敗していたということでしょうから、そのチャンス
      だ世箸いΔ海箸砲覆蠅泙后修譴蕕離屮献Д箸鬚譴い望探遒垢襪燭瓩
詳細は、<a href="#1.5">1.5</a> を参照してくだ世気ぁ鹿霈

腫ぢツリーの古いオブジェクトのゴミをきれいにしたことを確認したのに、
      それでも build でエラーが出るようなら、次の 3 つのうちのひとつが
      起きている可能誓△蠅泙后鹿霈

種貍
殊蘊既知のアップグレードの問題に遭遇したのでしょう。このドキュメントの
	適誓擇淵札轡腑鵑鬚舛磴鵑汎匹鵑任い襪匹Δ△修靴董△修海暴颪譴
	いる指示に注意深く従っているかどうか確認してくだ世気ぁ鹿跚
殊蘊新たなアップグレードの問題に遭遇したのでしょう。このままでは、
	アップグレードはうまくいかないかも知れません。可能な代替手段を探すため、
	<a href="../../ja/mail.html">misc@@ や tech@@</a> メーリングリストへの
	最近の投稿を検索しましょう。</li>

      <li>誰かが一時的にソースツリーを壊してしまったのでしょう。この種の
	中断は非常に珍しいことであり、通常は直ちに修復されます。
	少し待ってみて、ソースツリーを取得世慶召靴討澆討誓さい。
	もし、待てない状況なら、1 日前か 2 日前のツリーの取得世
	試みてくだ世気ぁ鹿跚鹿闌
腫ぢもし、上記の代替手段のすべてを試してみて、それでも数日以上も
      問題が解決しないのでしたら、その問題を misc@@openbsd.org に投稿
      してくだ世気ぁ４慙△垢襯┘蕁璽瓮奪察璽犬茲咾△覆燭離札奪肇▲奪廚
どのような特殊誓盍泙泙譴討い襪海箸魍稜Г靴討誓さい。</p>

    <a name="1.8"></a> 
    <h3>1.8: <em>gcc</em> コンパイラを
      アップグレードするための標準的な
      方法はあるのでしょうか ?</h3>

    <p>OpenBSD は、現在、そのツリー中に、ほとんどのプラットフォームで使用されている
      GCC v2.95.3 と、v2.95.3 より良好に動作する一部のプラットフォームで使用されている
      GCC v3.3.2 という、ふたつのコンパイラをサポートしています。

      これらふたつのコンパイラは以下のようにツリーの異なる部分にあります。
       <ul>
       <li>gcc3: <tt>/usr/src/gnu/usr.bin/gcc</tt>
       <li>gcc2: <tt>/usr/src/gnu/egcs/gcc</tt>
       </ul>
      いくつかのプラットフォームでは、将来、GCC3 に移行する予定ですが、
      いくつかのプラットフォームでは、GCC3 がサポートしないため、移行の見込みが立たないものもあります。

    <p>コンパイラのアップグレードは、「鶏と卵」問題の部分がある
      ので、ツリー中のコンパイラの変更は、少々特別な注意を
      要します。一般的には、次のような手順を実行したいと思う
      ことでしょう。</p>

    <p>(そうです。あなたはこれを二度構築することになります。)</p>

<pre>
  <b>GCC 2.95.3 を使用するプラットフォーム:</b>
    # rm -r /usr/obj/gnu/egcs/gcc/*
    # cd /usr/src/gnu/egcs/gcc
        <i>- あるいは -</i>
  <b>GCC 3.3.2 を使用するプラットフォーム:</b>
    # rm -r /usr/obj/gnu/usr.bin/gcc/*
    # cd /usr/src/gnu/usr.bin/gcc

  <b>v3.3.2 と v2.95.3 に共通の構築手順</b>
  # make -f Makefile.bsd-wrapper clean
  # make -f Makefile.bsd-wrapper obj
  # make -f Makefile.bsd-wrapper depend
  # make -f Makefile.bsd-wrapper 
  # make -f Makefile.bsd-wrapper install
  # make -f Makefile.bsd-wrapper clean
  # make -f Makefile.bsd-wrapper depend
  # make -f Makefile.bsd-wrapper 
  # make -f Makefile.bsd-wrapper install
</pre>

    <p>そして、それから通常の <em>make build</em> を実行します。</p>


    <a name="1.9"></a> 
    <h3>1.9: <tt>/etc</tt> や <tt>/var</tt>、<tt>/dev</tt> を
      アップグレードするための最も良い方法とは ?</h3>

    <p><strong>短かい回答</strong>: それは手で行うことです。</p>

    <p><strong>長い回答</strong>:</p>

    <p>ポリシーとして、OpenBSD ツリーのソフトウェアは、<tt>/etc</tt>
      配下のファイルを自動的に変更することはありません。このことは、
      <em>常に</em>システム管理者がそこへの変更を行う必要があるという
      ことを意味しています。アップグレードも例外ではありません。これ
      らのディレクトリ中のファイルの更新は、まず、基本 (配布) ファイル
      にどのような変更がなされたのかを特定し、そして手動で、それらの
      変更点世鯣娠任垢襪海箸砲覆蠅泙后鹿霈

腫ぢたとえば、ごく最近、変更されたツリーの中のファイルを見るには、
      次のようにします。</p>

<pre>
  # cd /usr/src/etc
  # ls -lt |more
</pre>

    <p>OpenBSD の任意のバージョンの間の <tt>/etc</tt> への変更をすべて
      見るのには、<a href="../../ja/anoncvs.html">CVS</a> が使えます。
      たとえば、3.1 と 3.2 の間の変更点世鮓襪燭瓩砲蓮
次のようにしてくだ世気ぁ鹿霈

腫鱚邃鬲齟祚續笆粡聿椀杜帯吊樫椀杜帯吊樫鹿頏緇

腫ぢいったん、変更点世魍稜Г靴燭蕁△修譴蕕鬟蹇璽襪離張蝓爾紡个靴董
適用してくだ世気ぁ匹里茲Δ淵蹇璽襪弊設定でも、それは保存して
      おきましょう。</p>

    <p>リリース間に見られる典型的な <tt>/etc</tt> の変更点世砲蓮⊆，里茲Δ
ものが含まれます。</p>

    <ul>
      <li><tt>/etc/protocols</tt> や <tt>/etc/services</tt> への追加。</li>
      <li>新しい sysctl (<tt>/etc/sysctl.conf</tt> を参照)。</li>
      <li>デフォルトの cron ジョブへの変更。<tt>/etc/daily</tt> や
	<tt>/etc/weekly</tt>、<tt>/etc/monthly</tt>、<tt>/etc/security</tt> を参照。
      </li>
      <li>netstart を含む、すべの rc スクリプト。</li>
      <li>デバイスの変更。
	<a href="#1.12">1.12</a> を参照。
      </li>
      <li><tt>/etc/mtree</tt> のファイル階層構造の変更。
	<a href="#1.13">1.13</a> を参照。
      </li>
      <li>
	新しいユーザ (<tt>/etc/passwd</tt>) とグループ (<tt>/etc/group</tt>)。
      </li>
    </ul>


    <a name="1.10"></a> 
    <h3>1.10: 既存のソースツリーから、すべてのゴミをきれいに消去するには、
      どのようにすれば良いのでしょう ?</h3>

    <p>最も重要なことは、obj ディレクトリの下をきれいに消去してしまうこと
      でしょう。次に、ソースを更新し、残存オブジェクトを消去する手順を
      示します。</p>

<pre>
  # cd /usr/src
  # cvs -q -d anoncvs@@some.anon.server:/cvs up -Pd
  # find . -type l -name obj | xargs rm
  # make -k cleandir
  # rm -rf /usr/obj/*
  # make obj
</pre>

    <p>それでもなお、トラブルに見舞われるようでしたら、CVS でのアップデートの
      際に、<tt>-I ! -I CVS -I obj</tt> を付けて試してみましょう。これにより、
      ソースツリー中のどのようなゴミでも識別されるようになるでしょう。</p>

    <a name="1.11"></a> 
    <h3>1.11: <em>make build</em> は root になってから行うべき
      でしょうか ?</h3>

    <p>make build のプロセスのあるステップでは、root の
      権限が要求されるのですが、build のプロセスには、
      これを比較的容易に行えるようにするため、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
      コマンドへのフックが含まれています。</p>

    <p>もし、<tt>/etc/sudoers</tt> ファイルが誓気靴設定されているなら、
      次のような方法で、sudo へのフックを使用することができます。</p>

    <ul>
      <li>構築を開始する前に、SUDO=/usr/bin/sudo を環境変数に
	セットするか、</li>

      <li>"SUDO=/usr/bin/sudo" という行を 
	<tt>/etc/mk.conf</tt> ファイルに加えます。</li>
    </ul>

    <a name="1.12"></a> 
    <h3>1.12: 新しいデバイスが見つからないのですが、どうしてでしょう ?</h3>

    <p><tt>/dev/MAKEDEV</tt> スクリプトは、<em>make build</em> の
      プロセスでは自動的に更新されません。一般的なルールとしては、
      更新時にこれをソースツリーからコピーして実行することは良い
      方法なのです。</p>

<pre>
  # cd /dev
  # cp /usr/src/etc/etc.`machine`/MAKEDEV ./
  # ./MAKEDEV all
</pre>

    <a name="1.13"></a> 
    <h3>1.13: ファイルの階層構造をすべて変更するための簡単な方法は
      あるのでしょうか ?</h3>

    <p>ときどき、ファイルやディレクトリが、ファイルの階層構造に追加されたり、
      あるいは削除されたりします。同様に、ファイルシステムの一部のオーナーの
      情報が変更されることもあります。ファイルの階層構造を確実に最新に保つ
      ための簡単な方法は、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&amp;sektion=8">mtree(8)</a>
      ユーティリティを使用することです。</p>

    <p>まず、最新のソースを取得世靴泙后修靴董⊆，里茲Δ砲靴泙后鹿霈

腫鱚邃鬲齟祚續祚逕鱚蜴齡瘡鳫阡繞旭鞳竕瘡續祚逕鱚蜴齡瘡鳫阡繞幹帯町粡齡續祚逕鱚逕鱚粤繞帯町粡齡
鹿頏緇

腫ぢこれで、ファイルシステムの階層構造は最新に保たれるでしょう。</p>

    <a name="1.14"></a> 
    <h3>1.14: アップグレード後、<em>ps</em> コマンドで
      "proc size mismatch." と出てしまうのですが ?</h3>

    <p>
      ユーザランドとカーネルとが同期していません。これらの間には、ある種の
      依存関係がありますから、これらは同じソースからコンパイルされなければ
      なりません。この問題に対処するには、カーネルとユーザランドを同じソース
      から再構築し直さなければなりません。
    </p>

    <p>
      既にひとつは失敗してしまったわけですから、他にも失敗したかも
      しれないものを把握するために、このドキュメントの全体を再読する
      のに理想的な時間でしょう。
    </p>


    <a name="1.15"></a>
    <h3>1.15: どのようにして最新の snapshot にアップグレードするのでしょうか ?</h3>

    <p>
      snapshot のインストールは最新のものに保つための良い方法です。
      私たちは、次期バージョンが確実に最高の品質のものとなるよう、
      特にベータの時点世釶頌蓖をテストして欲しいのです。そして
      それは、全体のツリーから構築するよりはずいぶん簡単なことなのです。
    </p>

    <p>
      <em>-current</em> にするための最も簡単な方法は、ブートイメージを取得世靴董
釈鱚羹〓聲餞譬焼叢鹿畩ぢに記述された
      ものを用意することです。単にブートして &quot;(U)pgrade&quot; を選択し、
      その指示に従うだ世韻任后
鹿霈

腫アップグレードプログラムを実行するのには、いくつかの目的があります。
      通常、最も早い方法は、フロッピーや CD-ROM からブートするか、
      -current の <a href="../faq4.html#bsd.rd">bsd.rd</a> を / に置き、
      これを <tt>/bsd</tt> の代わりにブートすることです。
      他のオプションには、ネットワーク経由のブートやテープからのブートが含まれます。
      すべての方法がすべてのアーキテクチャに対して有効になっているわけではありませんので、
      より詳しい情報はインストールの誓睫誓を参照してくだ世気ぁ
鹿霈

腫その場でのアップグレードでも動作することはありますが、これは推奨できません。
      アップグレードを行う場合に唯一安全な方法は、上記の新しいインストール/アップグレード
      用メディアからブートすることです。
    </p>

    <p>
      どのような場合でも、<a href="#1.9">/etc、/var および /dev</a> については
      手でアップグレードする必要があります。
    </p>

    <a name="3.5"></a>
    <h2>
      3.5 から <i>-current</i> へのアップグレード
    </h2>

    <a name="3.5.1"></a>
    <h3>
      3.5.1: pty デバイスのマイナー番号の変更 (2004/04/11)
    </h3>
    <p>
      仮想ターミナルの最大数を 256 から 992 に増加させるため、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pty&amp;sektion=4">pty</a>
      デバイスのマイナー番号が変更されました。
      ですので、新しいカーネルをブートする前に、更新された
      <tt>/dev/MAKEDEV</tt> を実行する必要があります。
        <ul>
          <li>ソースコードツリーを更新
          <li>新しいカーネルを構築してインストール
          <li>システムの残りの部分を構築 (<em>make build</em>)
          <li>新しい MAKEDEV スクリプトを <tt>/dev</tt> ディレクトリにコピーし、
              新しい pty デバイスを誓言成
<pre>
     # cp /usr/src/etc/etc.`machine`/MAKEDEV /dev
     # cd /dev && ./MAKEDEV pty0
</pre>
          <li>新しいカーネルでブート
         <li>最早使用されていない古い pty デバイスを除去
<pre>
     # cd /dev && rm -f [pt]ty[rq]*
</pre>
         <li> また、VAX プラットフォームの場合は、以下の実行します。
<pre>
     # cd /dev && rm -f [pt]tyr*
</pre>
        </ul>

    <a name="3.5.2"></a>
    <h3>
      3.5.2: 新しいユーザ/グループ _dhcp (2004/04/12)
    </h3>
    <p>さまざまな dhcp 関連のデーモンが、その特権を落とすために再度作業が行われ、
      あるいは特権分離が行われるようになりました。このため、新しいユーザ/グループ
      _dhcp が必要となりました。
      以下のように root ユーザで groupadd を実行し、グループを追加してくだ世気ぁ
腫鱚苒阨鞜粐祁粫竦
鹿頏緇
また、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、以下のユーザのエントリを追加してくだ世気ぁ
腫鱚焙蓊雕祁嵯刑紺紺坂蓊頏閾鱇逑痕鬲纃頸砠遲鈿跫芍鹿頏緇
腫
釈瘢綵⊂鹿畩
取馨
凱貴該ぢ新しいユーザ/グループ _mopd (2004/04/14)
    </h3>
    <p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mopd&amp;sektion=8"
      >mopd(8)</a> デーモンは、初期化後に特権を落とすようになりました。
      このため、新しいユーザ/グループ _mopd が必要となりました。
      以下のように root ユーザで groupadd を実行し、グループを追加してくだ世気ぁ
腫鱚苒阨鞜粐係迴鞣
鹿頏緇
また、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、以下のユーザのエントリを追加してくだ世気ぁ
腫鱚熏關篋係嵯減紺紺才椀痳迴邵癇逅痕黷蜴闌閾蜴
鹿頏緇
腫
釈瘢綵⊂鹿畩
取馨
凱貴敢ぢ新しいユーザ/グループ _tftpd (2004/04/17)
    </h3>
    <p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tftpd&amp;sektion=8"
      >tftpd(8)</a> デーモンは、初期化後に特権を落とすようになりました。
      このため、nobody の代わりの新しいユーザ/グループ _mopd が必要となりました。
      以下のように root ユーザで groupadd を実行し、グループを追加してくだ世気ぁ
腫鱚苒阨鞜粐傾鹿頏緇
また、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、以下のユーザのエントリを追加してくだ世気ぁ
腫鱚熹胄鞣昏嵯杭傾査虻虻堝墅痳迴邵癇逅痕黷蜴闌閾蜴
鹿頏緇
腫
釈瘢綵⊂鹿畩
取仮
凱から 3.5 へのアップグレード
    </h2>

    <a name="3.4.1"></a>
    <h3>
      3.4.1: svnd デバイスのマイナー番号の変更 (2003/10/10)
    </h3>
    <p>
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=svnd&amp;sektion=4">svnd</a>
      デバイスのマイナー番号が変更されましたので、
      新しいカーネルのインストール後に、更新された
      <tt>/dev/MAKEDEV</tt> を実行する必要があります。
        <ul>
          <li>ソースコードツリーを更新
          <li>新しいカーネルを構築
          <li>新しい MAKEDEV スクリプトを dev ディレクトリにコピーし、
              既存の svnd(4) と rsvnd デバイスとを消去し、新しいそれを再誓言成
<pre>
     # cp /usr/src/etc/etc.`machine`/MAKEDEV /dev
     # cd /dev
     # rm svnd* rsvnd*
     # ./MAKEDEV vnd
</pre>
          <li>構築およびリリースプロセスを継続
        </ul>

      これは、<tt>make release</tt> などを含む、
      svnd デバイスを使用する人に影響します。
    <p>

    <a name="3.4.2"></a>
    <h3>
      3.4.2: 新しいユーザ/グループ _pflogd (2003/10/23)
    </h3>
    <p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8"
      >pflogd(8)</a> デーモンは特権分離モードで実行されるようになり、そのため、新しい
      ユーザとグループ _pflogd が必要になりました。
      以下のように root ユーザで groupadd を実行し、グループを追加してくだ世気ぁ
腫鱚苒阨鞜粐郡鞴跫舮
鹿頏緇
また、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、以下のユーザのエントリを追加してくだ世気ぁ
腫鱚熕肚閾篋郡嵯敢紺紺咋肚閾頏蝟黼雕癇逅痕黷蜴闌閾蜴
鹿頏緇
腫
釈瘢綵⊂鹿畩
取馨
凱堪該ぢインターフェイスの複誓屋鯵億扱鹿莖腫嘗釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈芍网瘢雹黼謾蜿扈刈丞蜀┫ぢ、
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lo&amp;sektion=4">lo(4)</a> や
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tun&amp;sektion=4">tun(4)</a>
      などの) いくつかの仮想ネットワークドライバは、
      複誓修鬟汽檗璽箸垢襪茲Δ砲覆蝓△燭箸┐弌▲妊丱ぅ垢寮生誓箴探遒
動的に行えるようになりました。もし、あなたが、これらのインターフェイスに
      依存しているのでしたら、新しいカーネルでリブートする前に、更新された
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ifconfig&amp;sektion=8">ifconfig(8)</a>
      や
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=netstart&amp;sektion=8">netstart(8)</a>
      をインストールしておかなければなりません。

    <p>まず、いつものように新しいカーネルを再構築しインストールします。そして、
      <pre>
  # cd /usr/src && make includes
  # cd sbin/ifconfig
  # make obj depend
  # make
  # make install
  # cp /usr/src/etc/netstart /etc
      </pre>
      を実行してマシンをリブートし、新しいユーザランドを構築してくだ世気ぁ
腫
釈瘢綵⊂鹿畩
取馨
新しいユーザ/グループ _bgpd (2003/12/17)
    </h3>
    <p>新しい <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bgpd&amp;sektion=8"
      >bgpd(8)</a> デーモンは特権分離モードで実行されるため、新しい
      ユーザとグループ _bgpd が必要になりました。
      以下のように root ユーザで groupadd を実行し、グループを追加してくだ世気ぁ
腫鱚苒阨鞜粐卦砒鞣
鹿頏緇
また、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、以下のユーザのエントリを追加してくだ世気ぁ
腫鱚烽苣篋卦嵯戯紺紺座俳痳迴邵癇逅痕黷蜴闌閾蜴
鹿頏緇
腫
釈瘢綵⊂鹿畩
取馨
新しいバージョンの join(1) (2003/12/28)
    </h3>
    <p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=join&amp;sektion=1">join(1)</a>
    コマンドは、
    マッチしない行を書く場合に、
    POSIX 標準に従うよう更新されました。
    以下のように
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=security&amp;sektion=8">security(8)</a>
    を更新する必要があります。
     <pre>
  # cp /usr/src/etc/security /etc
     </pre>
    <p>

    <a name="3.4.6"></a>
    <h3>
       3.4.6: sudo の構築の変更 (2004/01/15)
    </h3>
    <p>
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
    コマンドの構築の方法が変更されました。その副作用として、"make build"
    を実行する前に、以下のコマンドを実行しておく必要があります。
     <pre>
  # rm -f /usr/obj/usr.bin/sudo/*
     </pre>
    これを行わなかった場合には、obj ディレクトリを作誓靴茲Δ箸垢襪箸海蹐
構築が異常終了してしまいます。
    <p>

    <a name="3.4.7"></a>
    <h3>
      3.4.7: 新しいユーザ/グループ _tcpdump (2004/01/19)
    </h3>
    <p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8"
      >tcpdump(8)</a> コマンドは特権分離モードで実行されるようになり、そのため、新しい
      ユーザとグループ _tcpdump が必要になりました。
      以下のように root ユーザで groupadd を実行し、グループを追加してくだ世気ぁ
腫鱚苒阨鞜粐袈鞣鹿頏緇
また、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、以下のユーザのエントリを追加してくだ世気ぁ
腫鱚熹竦糒逅昏嵯矯袈査虻虻鞣雕癇逅痕黷蜴闌閾蜴
鹿頏緇

腫釈瘢綵⊂鹿畩
取馨
凱堪減痺葢辮ぢの変更 (i386) (2004/02/01)
    </h3>

    <p>
    <tt>machdep.c</tt> の変更により、カーネルをコンパイルする前に
    binutils を再構築する必要があります。
    これは、i386 にのみ影響します。

<pre>
  # cd /usr/src/gnu/usr.bin/binutils
  # make -f Makefile.bsd-wrapper cleandir
  # make -f Makefile.bsd-wrapper obj
  # make -f Makefile.bsd-wrapper depend
  # make -f Makefile.bsd-wrapper
  # make -f Makefile.bsd-wrapper install
</pre>

    <p> これでカーネルの再構築が可能になりましたので、残りのシステムを
    <a href="#1.5">1.5</a> 章に従って再構築してくだ世気ぁ

腫釈瘢綵⊂鹿畩
取馨
凱堪杭巴坦ぢへの移行 (sparc64) (2004/02/20)
    </h3>

    <p>
    OpenBSD/sparc64 は GCC3 に移行しました。
    アップグレードするため、まず以下を実行してくだ世気ぁ

腫鱚邃鬲齟祚鼈癇絲迢
轣諷銖跛
鴉鱠鬲蜴竚絲腴鹿頏緇
これで、(GCC3 ディレクトリを使用して) <a href="#1.8">GCC3 を構築</a>し、
    カーネルとシステムとを <a href="#1.5">1.5</a> 章に従って再構築してくだ世気ぁ


釈瘢綵⊂鹿畩
取仮
凱から 3.4 へのアップグレード
    </h2>

    <a name="3.3.1"></a>
    <h3>
      3.3.1: i386 W^X サポート (2003/04/16)
    </h3>

    <p>i386 の W^X (Writable xor eXecute) をサポートするために、
      OpenBSD/i386 は a.out の実行形式から ELF に移行しました。ELF は
      W^X のサポートを可能にするなど、ELF は実行形式のレイアウトに対する
      柔斉霎性を持っています。a.out に対する互換誓蓮造蕕譴新舛任靴儖
されません。スタティックリンクされた a.out バイナリは従来と同様に
      動くでしょうが、ダ瀬ぅ淵潺奪螢鵐ぢは<b>サポートされません。</b>
    </p>
     <p><b>a.out から ELF へのソースアップグレードはサポートされません。</b>
      <b>スナップショットをインストール</b>すれば、ソースから再構築できます。
      これは i386 だ世韻亡愀犬垢襪海箸如召離◆璽謄船磴呂海留洞舛鮗韻泙擦鵝
鹿霈

釈瘢綵⊂鹿畩
取馨
凱凱穏髟纈システムコールの変更 (2003/04/28)
    </h3>

    <p>mquery システムコールのパラメータは mmap() にマッチするよう変更されました。
      この変更によって、システムを誓気靴そ臀妊▲奪廛哀譟璽匹垢詆廚△蠅泙后

腫鱚窺ぢ新しいカーネルを再構築し、新しいカーネルでブートしてくだ世気ぁ
荻邃鬲齟Ζ轣諷釿跿粤鶇
凱邃鬲齟祚跚矼祚趙Ζ瘠Ζ轣諷銖跛堪轣諷趙鹿頏緇

薐原ぢアーキテクチャだ世韻髟纈を使用しますので、これ以外のアーキテクチャでは、
      このような厳密な構築順序に従う必要はありません。

    <a name="3.3.3"></a>
    <h3>
      3.3.3: i386 の記念日、実行形式のアドレス/MAXDSIZ の変更 (2003/05/05)
    </h3>

    <p>MAXDSIZ を 1G に戻せるようにするため、すべての実行形式のベースアドレスを
      0 から 0x1c000000 に変更しました。これらの一連の変更のため、
      スナップショットからのアップグレードが必要となります。
      ソースからのアップグレードはサポートされません。これは i386 にのみ影響します。
    </p>

    <a name="3.3.4"></a>
    <h3>
      3.3.4: KerberosIV 認証の削除 (2003/05/13)
    </h3>

    <p>KerberosIV ベースの認証が削除されました。その結果、
       <tt>/etc/login.conf</tt> の中のすべての <tt>krb4</tt> 
       への参照を削除する必要があります。
    </p>

    <a name="3.3.5"></a>
    <h3>
      3.3.5: <tt>config</tt> の変更 (2003/05/23)
    </h3>

    <p>swapgeneric.c の移動により、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
      の変更が必要になりました。新しいカーネルを構築する前に、まず、以下のように、
      更新された config(8) の構築とインストールを行わなければなりません。
<pre>
  # cd /usr/src/usr.sbin/config
  # make clean
  # make obj
  # make
  # make install
</pre>
      そして、<a href="#1.5">上記</a>の詳細に従って、カーネル誓瀋蠅
儒竢鈕蜃鹿を行い、カーネルのコンパイル用ディレクトリで、
      "<tt>make depend</tt>" を行ってくだ世気ぁ

釈瘢綵⊂鹿畩
取馨
ある種の関数への __attribute__((bounded)) の使用 (2003/06/26)
    </h3>

    <p>
      __attribute__((bounded)) は、そのパラメータのひとつとしてバッファ長を取る
      関数への不誓気憤瑤鮓―个垢襪燭瓠∋藩僂気譴襪茲Δ砲覆蠅泙后
錫鮠錫鮠儒轣諷趙鹿に誓茲誓って、ミニ FAQ の
      <a href="#1.8">1.8</a> 章に従って、
      gcc を再構築しなければなりません。
    </p>

    <a name="3.3.7"></a>
    <h3>
      3.3.7: 新しいユーザ/グループ _syslogd (2003/07/31)
    </h3>
    <p>The <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8"
      >syslogd(8)</a> デーモンは特権分離モードで実行されるようになり、そのため、新しい
      ユーザとグループ _syslogd が必要になりました。
      以下のように root ユーザで groupadd を実行し、グループを追加してくだ世気ぁ
腫鱚苒阨鞜粐軍齷鼬閾鹿頏緇
また、<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、以下のユーザのエントリを追加してくだ世気ぁ
腫鱚燗跫舮昏嵯該軍査虻虻囮鼬閾痳迴邵癇逅痕黷蜴闌閾蜴
鹿頏緇
腫
釈瘢綵⊂鹿畩
取馨
凱凱減ぢカーネル用ヘッダ世離侫璽泪奪搬粟性 __kprintf__ の使用 (2003/08/23)
    </h3>
    <p>
      カーネル用 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=printf&amp;sektion=9">printf(9)</a>
      のフォーマット拡張に gcc が注意するよう、新しいフォーマット属誓煖頏蜴烝ぢが
      カーネル用ヘッダ瀬侫．ぅ襪濃藩僂気譴襪茲Δ砲覆蠅泙靴拭
錫鮠錫鮠儒轣諷趙鹿に誓茲誓って、ミニ FAQ の <a href="#1.8">1.8</a>
      章に従って、gcc を再構築しなければなりません。また、<a href="#3.3.5">3.3.5</a>
      章に記述されている __bounded__ 属誓皀汽檗璽箸垢鱚銓ぢのソースからでも、
      一度だ世窿ぢを再構築すれば良いことになります。
    </p>

    <a name="3.2"></a>
    <h2>
      3.2 から 3.3 へのアップグレード
    </h2>

    <a name="3.2.1"></a>
    <h3>
      3.2.1: 新しい Perl (2002/11/05)
    </h3>

    <p>Perl がバージョン 5.8.0 に更新されました。<br>
      Perl 5.8.0 では、XS モジュールの API が、stdio から PerlIO (より詳しくは perldelta
      マニュアルを参照してくだ世気への誓擇蠡悗┐砲箸發覆ぁ∧儿垢気譴泙靴拭海里海箸蓮
インストール済のすべての XS モジュール (perl の .so ファイル) が、<strong>リビルド
      されなければならない</strong>ことを意味します。ですので、もし、<em>Undefined symbol
      "perl_get_sv"</em> のようなエラーが発誓犬靴疹豺腓蓮△海譴呂△覆燭量簑蠅誓ということに
      なります。もし、インストール済のモジュールが packages や ports からインストール
      されたものだ世韻任△譴弌慯ぢモジュールをチェックするには、次のようにします。
      <pre>
       # grep '\.so' /var/db/pkg/p5-*/+CONTENTS | cut -d: -f1 | sort -u
      </pre>
      そして、見つかった古いモジュールを <em>pkg_delete -f</em> で消去して、それらを ports
      ツリーから再構築/インストールしてくだ世気ぁ

釈瘢綵⊂鹿畩
取馨
凱荻穏ぢ新しいグループ _radius、_token および _shadow (2002/11/21)
    </h3>
    <p>以下のいくつかの新しいグループが追加されました。
      <ul>
      <li><em>_radius</em> グループは、
         <tt>/etc/raddb/servers</tt> ファイルに対する読み込み誓賤僂離▲札浩制御用です。
      <li><em>_token</em> グループは、
         <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tokeninit&amp;sektion=8">tokeninit(8)</a>、
         <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tokenadm&amp;sektion=8">tokenadm(8)</a> および
         <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login_token&amp;sektion=8">login_token(8)</a>
         が使用するトークンデータベースに対する読み込み誓賤僂離▲札浩制御用です。
      <li><em>_shadow</em> グループは、
         シャドウパスワードデータベースに対する読み込み誓賤僂離▲札浩制御用です。
      </ul>

      これらのグループの追加やいくつかのファイルに対するパーミッションの調誓阿蓮
轣諷趙ぢの実行前に行う必要があります。root 権限で、
      次のコマンドを実行してくだ世気ぁ
頏緇
鳫痲熬痲蝠蒟鴃鱇粡續祚鱇粐痲籵纈鴦
蓁閼續祚鱇粐蓁閼續祚鱇粐皴黼鴟纈
鳫痲熹闍緕
蒟鴃諷笏蝟鴒頸鎬籵續祚齊覡籵
蓁閼挟笏蝟鴒頸鎬籵續祚齊覡籵

鳫痲燗葹粹蒟鴃鼈痲阯續祚齔蓁閼挟頷筮籵
鱚
ファイルが見つからないというエラーメッセージは気にする必要はありません。
      それは単に、<em>token</em> や <em>radius</em> 認証の誓瀋蠅鮃圓辰討い覆い海箸魄嫐靴討い襪誓けです。

    <a name="3.2.3"></a>
    <h3>
      3.2.3: 重要なコンパイラの変更 (2002/12/02)
    </h3>
    <p><a href="http://www.trl.ibm.com/projects/security/ssp">propolice</a>
      スタック保護拡張機能が
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=gcc-local&amp;sektion=1">gcc</a>
      にマージされました。このため、アップグレード手順が以下のように若干異なります。
      <ul>
      <li>まだ世海了誓では、新しいカーネルを構築しては<b>いけません</b>。
      <li>まだ世海了誓では、新しい gcc を再構築しては<b>いけません</b>。
      <li>シェアードライブラリを持つシステムの場合、新しい ld.so (ダ瀬ぅ淵潺奪蹇璽誓)
        を構築し、インストールします。
        <pre>
         # cd /usr/src
         # make obj
          ELF プラットフォーム (alpha, macppc, sparc, sparc64) の場合、
          # cd /usr/src/libexec/ld.so
          # make depend &amp;&amp; make &amp;&amp; make install
          a.out プラットフォーム (amiga, hp300, i386, mac68k, mvme68k) の場合、
          # cd /usr/src/gnu/usr.bin/ld/rtld
          # make depend &amp;&amp; make &amp;&amp; make install
       </pre>
      <li><i>make build</i> からの、最初の少しのコマンドに従って libc を再構築し、
        インストールします。
        <pre>
          # cd /usr/src/include
          # make prereq &amp;&amp; make includes
          # cd /usr/src/lib/libc
          # make depend &amp;&amp; make NOMAN=1 &amp;&amp; make NOMAN=1 install
        </pre>
        使用中のコンパイラが古過ぎる場合、libc を構築することができない可能誓△襪海箸肪躇佞廚任后
その場合には、snapshot を使用したバイナリアップグレードを実行する必要があります。
      <li><a href="#1.8">1.8</a> 章に従って gcc を再構築し、インストールします。
      <li>ここで、カーネルの再コンパイルを行うことができます。
        カーネル用の Makefile を再誓言成するために、確実に
        <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config</a>
        を再実行してくだ世気ぁ
殊蘊新しいカーネルでリブートし、スタック保護の効果を得世襪燭瓠
守壌瘠碯蛹篌を実行します。
      </ul>

    <a name="3.2.4"></a>
    <h3>
      3.2.4: 新しいユーザ/グループ _spamd (2002/12/24)
    </h3>
    <p>新しいユーザ/グループ _spamd が
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=spamd&amp;sektion=8">spamd(8)</a>
      デーモン用に追加されました。root で以下を実行してグループを追加します。
<pre>
  # groupadd -g 62 _spamd
</pre>
      また、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して次のユーザのエントリを追加してくだ世気ぁ
腫鱚燗鞜辟昏唆穏恐査虻虻嚼瘢痳迴邵癇逅痕黷蜴闌閾蜴
鹿頏緇

釈瘢綵⊂鹿畩
取馨
凱荻戯頡境蜒逅ぢ用のエイリアス (2002/12/30)
    </h3>

    <p>ipv6-icmp 用の新しいエイリアス、<em>icmp6</em> が、
      <tt>/etc/protocols</tt> に追加されました。<em>icmp6</em> エイリアスを使用する場合 (
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8">pfctl(8)</a>
      のリグレッションテストで使用)、
      <tt>/etc/protocols</tt> ファイル中の <em>ipv6-icmp</em> の行を、# の前に <em>icmp6</em> 
      を追加して変更しなければなりません。
      この行は以下のようにしておくべきです。
    </p>
<pre>
  ipv6-icmp 58    IPv6-ICMP icmp6 # ICMP for IPv6
</pre>

    <a name="3.2.6"></a>
    <h3>
      3.2.6: 新しいグループ _lkm (2003/01/05)
    </h3>

    <p><tt>/dev/lkm</tt> へのアクセスを誓罎垢襪燭瓩離哀襦璽
纃醤跌躰躱ぢが追加されました。
         <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=modstat&amp;sektion=8">modstat(8)</a>
         は _lkm に setgid されるようになりました。
    <p>
      &quot;make build&quot; の実行前に、このグループを追加し、
      <tt>/dev/lkm</tt> のパーミッションを調誓阿垢詆廚△蠅泙后
次のコマンドを root で実行することで、これが行われます。
<pre>
  # groupadd -g 61 _lkm
  # chgrp _lkm /dev/lkm
</pre>

    <a name="3.2.7"></a>
    <h3>
      3.2.7: 新しい libpthread (2003/01/14)
    </h3>

     <p><em>libc_r</em> と <em>libnpthread</em> が除去され、<em>libpthread</em>
     で置換されました。スレッドを使用するプログラムは、やはり <em>-pthread</em>
     オプションを使用してコンパイルしてくだ世気ぁ灰鵐僖ぅ蕕諒農正しく処理
     を行います。

     <p><em>libc_r</em> と <em>libnpthread</em> とを消去する前に、スレッドを使用する
     アプリケーションは <em>libpthread</em> を使用して再コンパイルしておかなければ
     なりません。推奨再構築手順は以下のようになります。

    <ol>
      <li>
         <p><a href="#1.8">1.8</a> 章に従って、gcc を再構築してくだ世気ぁ
殊蘊
霈釈鱚羹■窺帰庄鹿畩ぢ章に従って、システムを再構築してくだ世気ぁ
殊蘊
霈すべてのスレッドを使用する ports を再構築してくだ世気ぁ
殊蘊
霈使用されなくなったライブラリを消去してくだ世気ぁ
腫鱚鴉鬲跚皴跚矣熬齟蛯蛯鉋鱚痲鹿頏緇
鹿闌
釈瘢綵⊂鹿畩
取馨
凱荻減牝ぢアーキテクチャ用のリンカの変更 (2003/01/17)
    </h3>

    <p>binutils/ld は、ELF 実行形式に新しいセキュリティ機能を導入するために
       変更されました。これは、実行形式ならびにシェアードライブラリのデータ
       セクションがリンカによってマークされた実行形式になるのを許容する代わりに、
       実行形式としてのプログラムイメージを適誓擇淵札轡腑鵑里潺沺璽気譴襪茲
ぢレイアウトが変更されたものです。この変更は、ELF アーキテクチャである
       alpha、sparc、sparc64、macppc に対してのみ影響があります。
    <p>
     binutils は、残りのシステムの再構築前に構築しておくことをお勧めします。
    <p>
<pre>
  # cd /usr/src/gnu/usr.bin/binutils
  # make -f Makefile.bsd-wrapper cleandir
  # make -f Makefile.bsd-wrapper obj
  # make -f Makefile.bsd-wrapper depend
  # make -f Makefile.bsd-wrapper
  # make -f Makefile.bsd-wrapper install
</pre>
    <p>
    そして、<a href="#1.5">1.5</a> 章に従って、システムを再構築してくだ世気ぁ

釈瘢綵⊂鹿畩
取馨
凱荻杭鬲癆ぢの削除と crontab の変更 (2003/02/19)
    </h3>

    <p><em>at</em> が <em>cron</em> と統合されたことにともない、<tt>/var/at</tt>
    のコンテンツは <tt>/var/cron</tt> にマージされました。さらに、POSIX に準拠するため、
    および at.allow と at.deny との一貫誓琉飮里燭瓠弱躱竰闔鹿纃の allow および
    deny ファイルは、それぞれ cron.allow および cron.deny にリネームされました。
    <p>
    まず、<a href="#1.5">1.5</a> 章に従って、システムを再構築してくだ世気ぁ
そして、次のように既存のファイルを移動させて cron を再起動してくだ世気ぁ
腫腫鱚逍鬲癆鬲竰闔
逍鬲竰闔閧癇鳫遲癆褊碵
逍鬲竰闔跛阯鬲竰闔鳫隨瘡跫逍鬲竰闔緕癇鳫遲竰闔緕鴉鱠鬲癆謇跛竅癇鳫隨韈籥
齟砠遲竰闔
鹿頏緇
腫瘡跫および deny ファイルがなくなったことによる一誓擇侶拗陬瓮奪察璽犬鰐技襪靴討誓さい。
    それらのすべてがデフォルトでインストールされるものというわけではないからです。
    <p>
    もし、まだ鳫隨粤銷ぢファイルがない場合で (このファイルは OpenBSD 3.3 以前の
    バージョンではインストールされません)、<em>crontab</em> をスーパーユーザ以外の
    ユーザ権限で実行したい場合には、このファイルが必要となります。
<pre>
  # install -c -o root -g crontab -m 660 /dev/null /var/cron/cron.deny
</pre>

    <hr>

    <address>
      <p>
	<small>
Originally [OpenBSD: upgrade-minifaq.html,v 1.202 ]
<br>
$Translation: upgrade-minifaq.html,v 1.81 2004/04/28 02:04:15 toshi Exp $
<br>
$OpenBSD: upgrade-minifaq.html,v 1.61 2004/05/09 09:58:22 saad Exp $
	</small>
	<br>
	Copyright &copy; 1998-2004, Kjell Wooding.<br>
	御感想、御質問、御提案等は、
	  <a href="mailto:kjell@@openbsd.org">kjell@@openbsd.org</a> までお願いします。</p>
    </address>
  </body>
</html>
@


1.61
log
@sync with Steelix CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.202 2004/04/18 12:31:52 otto Exp $</p>
d1344 1
a1344 1
$OpenBSD: upgrade-minifaq.html,v 1.202 2004/04/18 12:31:52 otto Exp $
@


1.60
log
@Sync with Steelix CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.198 2004/04/15 00:00:29 henning Exp $</p>
d96 1
d763 18
d1340 1
a1340 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.198 ]
d1342 1
a1342 1
$Translation: upgrade-minifaq.html,v 1.79 2004/04/15 02:20:30 toshi Exp $
d1344 1
a1344 1
$OpenBSD: upgrade-minifaq.html,v 1.198 2004/04/15 00:00:29 henning Exp $
@


1.59
log
@sync with steelix translation CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.193 2004/03/01 05:55:26 nick Exp $</p>
d29 1
a29 1
      古いバージョンのための情報は、<a href="../upgrade-old.html">別のドキュメント</a>
d91 8
a98 1
    <h2>3.4 から <i>-current</i> へのアップグレード</h2>
d143 1
a143 1
      <a href="../upgrade-old.html">別のドキュメント</a>に移され
d690 72
d764 1
a764 1
      3.4 から <i>-current</i> へのアップグレード
d1316 1
a1316 1
    <hr width="30%">
d1320 2
a1321 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.193 ]
d1323 1
a1323 1
$Translation: upgrade-minifaq.html,v 1.75 2004/03/01 10:19:20 toshi Exp $
d1325 2
a1326 1
$OpenBSD: upgrade-minifaq.html,v 1.193 2004/03/01 05:55:26 nick Exp $
@


1.58
log
@sync with steelix translation CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.191 2004/02/24 15:18:29 tom Exp $</p>
d447 1
a447 1
      GCC v2.9.5 と、v2.9.5 より良好に動作する一部のプラットフォームで使用されている
d466 1
a466 1
  <b>GCC 2.9.5 を使用するプラットフォーム:</b>
d474 1
a474 1
  <b>v3.3.2 と v2.9.5 に共通の構築手順</b>
d863 1
d1241 1
a1241 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.191 ]
d1243 1
a1243 1
$Translation: upgrade-minifaq.html,v 1.74 2004/02/24 17:37:58 toshi Exp $
d1245 1
a1245 1
$OpenBSD: upgrade-minifaq.html,v 1.191 2004/02/24 15:18:29 tom Exp $
@


1.57
log
@Sync with Steelix CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.182 2003/12/28 19:54:54 otto Exp $</p>
d91 1
a91 1
    <h2>3.4 からのアップグレード</h2>
d96 6
a101 1
      <a href="#3.4.4">3.4.4: 新しいバージョンの join(1)</a><br>
d104 1
a104 1
    <h2>3.3 からのアップグレード</h2>
d119 1
a119 1
    <h2>3.2 からのアップグレード</h2>
a132 44
    <h2>3.1 からのアップグレード</h2>

    <p>
      <a href="#3.1.1">3.1.1: 新しいユーザ/グループ</a><br>
      <a href="#3.1.2">3.1.2: crontab(1) と at(1) のための新しいグループ</a><br>
      <a href="#3.1.3">3.1.3: 新しい binutils</a><br>
      <a href="#3.1.4">3.1.4: 新しい S/Key の構誓鹿畩錫鮠
釈鱚羹■凱窺帰廠跟のための新しいパーミッション</a><br>
      <a href="#3.1.6">3.1.6: atrun(8) はもはや不要</a><br>
      <a href="#3.1.7">3.1.7: nat.conf の pf.conf へのマージ</a><br>
      <a href="#3.1.8">3.1.8: xdm 用の新しい fbtab 必須エントリ</a><br>
      <a href="#3.1.9">3.1.9: ある種の関数への __attribute__((sentinel))
               の使用</a><br>
    </p>

    <h2>3.0 からのアップグレード</h2>

    <p>
      <a href="#3.0.1">3.0.1: mtree(8) でサポートされる新しいキーワード</a><br>
      <a href="#3.0.2">3.0.2: ELF プラットフォームからの libdl の削除</a><br>
      <a href="#3.0.3">3.0.3: リグレッションテスト用の新しいフレームワーク</a><br>
      <a href="#3.0.4">3.0.4: /etc/ssh/ に移動された ssh の誓瀋螢侫．ぅ鹿畩錫鮠
鹿霈

取仮荻からのアップグレード</h2>

    <p>
      <a href="#2.9.1">2.9.1: 新しいユーザ/グループ - <em>proxy</em> と
	<em>smmsp</em>、<em>popa3d</em></a><br>

      <a href="#2.9.2">2.9.2: 新しいパケットフィルタ: <em>pf</em></a><br>

      <a href="#2.9.3">2.9.3: <em>make</em> への変更</a><br>

      <a href="#2.9.4">2.9.4: KerberosV のエラーが原因の構築の
	失敗</a><br>

      <a href="#2.9.5">2.9.5: 新バージョンの <em>sendmail</em></a><br>

      <a href="#2.9.6">2.9.6: <tt>/etc/primes</tt> の移動</a>

    </p>


d135 1
a135 1
    <p>OpenBSD 2.3 〜 2.8 からのアップグレードについての情報は、
d446 12
d466 9
a474 2
  # rm -r /usr/obj/gnu/egcs/gcc/*
  # cd /usr/src/gnu/egcs/gcc
a487 13
    <p>このプロセスを、次のように BOOTSTRAP の手順によって
      スピードアップすることができます。</p>

<pre>
  # cd /usr/src/gnu/egcs/gcc
  # make -f Makefile.bsd-wrapper clean
  # make -f Makefile.bsd-wrapper obj
  # make -f Makefile.bsd-wrapper -DBOOTSTRAP
  # make -f Makefile.bsd-wrapper -DBOOTSTRAP install
  # make -f Makefile.bsd-wrapper clean
  # make -f Makefile.bsd-wrapper
  # make -f Makefile.bsd-wrapper install
</pre>
d685 1
a685 1
      3.4 からのアップグレード
d763 19
a781 1
       3.4.4: 新しいバージョンの join(1) (2003/12/28)
d795 73
d870 1
a870 1
      3.3 からのアップグレード
d996 1
a996 1
      3.2 からのアップグレード
a1235 654
    <a name="3.1"></a>
    <h2>
      3.1 からのアップグレード
    </h2>

    <a name="3.1.1"></a>
    <h3>
      3.1.1: 新しいユーザ/グループ
    </h3>

    <p>いくつかの新しいユーザ/グループが追加されました。
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a>
      のサポートのため、新しいグループが必要になりました。また、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>
      の特権分離機能のサポートのため、<em>sshd</em> という
      新しいユーザとグループがシステムに追加されました。
      システムサービス用に、さらにいくつかの
      &quot;_&quot; をプレフィクスとして持つ
      新しいユーザが追加されました。
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、次のユーザエントリを追加してくだ世気ぁ
鹿霈
腫鱚齠葢昏魂刑卸査虻虻齠葢鱸辮痕鬲纃頸砠遲鈿跫芍熕闥瘰昏魂減恩査虻虻竟鶯轣雕癇逅痕黷蜴闌閾蜴
煢粤銓篋温魂杭紺紺咲粤銓篋癇逅痕黷蜴闌閾蜴
熬齡癆篋外些虻紺紺昨鞦齡癆篋癇逅痕黷蜴闌閾蜴
熬纈黻昏些穏害査虻虻鴃祟鴣黼鴦篋癇逅痕黷蜴闌閾蜴
煕蜴艱鰾昏些該崖査虻虻肅鈑纈篋癇逅痕黷蜴闌閾蜴
燔臼昏些戯概査虻虻黼鴟纈痕鬲纃頸砠遲鈿跫芍鹿頏緇

腫ぢまた、次のような行を /etc/group に追加します。</p>

<pre>
  sshd:*:27:
  _portmap:*:28:
  _identd:*:29:
  _rstatd:*:30:
  _rusersd:*:32:
  _fingerd:*:33:
  _sshagnt:*:34:
  _x11:*:35:
  authpf:*:72:
</pre>

    <a name="3.1.2"></a>
    <h3>
      3.1.2: crontab(1) と at(1) のための新しいグループ
    </h3>

    <p>
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&amp;sektion=1">
      crontab(1)</a> と
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=at&amp;sektion=1">
      at(1)</a>
      コマンドは、もはや setuid root されたものではなくなり、
      <em>crontab</em> グループに setgid されたものになりました。

    <p>
      &quot;make build&quot; を実行する前に、
      <em>crontab</em> グループを追加する必要があるでしょう。
      <tt>/etc/group</tt> ファイルに次のような行を追加してくだ世気ぁ鹿霈

腫鱚竰闔盧橋鹿頏緇

腫また、&quot;make build&quot; は、パーミッションも更新しますが、
      すべてではありませんので、&quot;make build&quot; の終了後に、
      次のコマンドを手動で実行してくだ世気儒蜴鼈鹿を仮定します)。
</p>

<pre>
  # chgrp crontab /var/at/at.{allow,deny} /var/cron/{allow,deny}
  # chmod 0640 /var/at/at.{allow,deny} /var/cron/{allow,deny}
  # foreach f ( /var/cron/tabs/* )
         set u=`basename $f`
         chown $u:crontab $f
    end
</pre>

<p>
      もっとも、たぶん allow/deny ファイルが全然ないと思いますので、
      これは問題にはならないとは思います。
</p>

    <a name="3.1.3"></a>
    <h3>
      3.1.3: 新しい binutils
    </h3>

<p>
新しい binutils (2.11.2) がツリーに導入されましたが、これは更新済の <em>libiberty</em>
を必要としています。このライブラリを構築するには、次のステップに従ってくだ世気ぁ
鹿霈

腫鱚邃鬲齟祚芬繚笂蛯蛯纈
轣諷浴諷肅跂黻鱇韶纈跂瘤粡轣諷浴諷肅跂黻鱇韶纈礪
轣諷浴諷肅跂黻鱇韶纈辮緕轣諷浴諷肅跂黻鱇韶纈
轣諷浴諷肅跂黻鱇韶纈銖跛
鹿頏緇

釈瘢綵⊂鹿畩
取馨
凱窺敢ぢ新しい S/Key の構誓
鹿莖
腫古い S/Key データベースファイルである <tt>/etc/skeykeys</tt> は、<tt>/etc/skey</tt>
      というディレクトリに置き換えられ、それぞれのレコードは、それが記述しているユーザが
      所有する個々のファイルになりました。<tt>/etc/skeykeys</tt> を (root 権限で) 次の
      コマンドを実行することで新しい形式に変換することができます。
    </p>
<pre>
  # skeyinit -C
  # mv /etc/skeykeys /etc/skeykeys.OLD
</pre>

    <p>
      すべての S/Key ディレクトリを使用するサードパーティープログラムについては、
      再コンパイルする必要があるということに注意してくだ世気ぁ
鹿霈

釈瘢綵⊂鹿畩
取馨
凱窺戯險ぢのための新しいパーミッション
    </h3>

    <p>
      現在では、lpr にファイルをスプール可能にするため、lpd の使用する
      ディレクトリは daemon グループが書き込み可能でなければなりません。
      さらに、スプールディレクトリ中のファイルは、所有者・グループ共に
      daemon でなければなりません。これは、次の方法で変更できます。
    </p>
<pre>
 # find /var/spool/output /var/spool/lpd -type d \
       -execdir chgrp daemon {} \; -execdir chmod g+rwx {} \;
 # find /var/spool/output /var/spool/lpd -type f \
       -execdir chown daemon:daemon {} \;
</pre>

    <a name="3.1.6"></a>
    <h3>
      3.1.6: atrun(8) はもはや不要
    </h3>

    <p>
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=atrun&amp;sektion=8">atrun(8)</a>
      コマンドが、もはや不要のものとなりました。その機能は、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cron&amp;sektion=8">cron(8)</a>.
      に統合されました。次のコマンドを root で実行して、<tt>/usr/libexec/atrun</tt>
      のジョブを root の crontab から削除してくだ世気ぁ
鹿霈
腫鱚竰闔
鹿頏緇

腫また、<tt>/usr/libexec/atrun</tt>、
      <tt>/usr/share/man/cat8/atrun.0</tt> および
      <tt>/var/at/spool</tt> ディレクトリも削除可能です。
    </p>

    <a name="3.1.7"></a>
    <h3>
      3.1.7: nat.conf の pf.conf へのマージ
    </h3>

    <p>
       <tt>/etc/nat.conf</tt> は <tt>/etc/pf.conf</tt> にマージされました。
       NAT ルールは、pf.conf の scrub ルールとフィルタルールとの間に挿入
       してくだ世気ぁ
鹿霈
腫蓿繙就蔗痕鞳鈞黻鱧芍蜴瘤芍髄鴒署聶逅雌繼闔集⊂鞴笏讎県鹿畩
ぢには、ルールセットをロードするための新しいオプション -f が実装され、
       -R および -N オプションには新しい意味が付加されました。man ページを
       確認して、確実に <tt>/etc/rc</tt> を更新するようにしてくだ世気ぁ
鹿霈

釈瘢綵⊂鹿畩
取馨
用の新しい fbtab 必須エントリ
    </h3>

    <p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login&amp;sektion=1">
login(1)</a> は、多くのアーキテクチャで xdm が特権を放棄するために使用する、
新しい _x11 ユーザに /dev/wsmouse を chown する必要があります。<tt>/etc/fbtab</tt>
への変更は、アーキテクチャに依存します。ファイルは (それが /usr/src にあると
仮定して)、以下のプロセスで誓言成してくだ世気ぁ
鹿霈
腫鱚竅齟鱆碪痰縺碪痰
竅齟鱆瘢牆聰松續祚聰竅齟鱆碪痰瘟松續祚聰鹿頏緇
腫もし、あなたが <tt>/etc/fbtab</tt> に特別な変更を施している場合には、それらを
手動で新しいファイルにマージする必要があります。
</p>
   <a name="3.1.9"></a>
   <h3>
    3.1.9: ある種の関数への __attribute__((sentinel)) の使用
   </h3>

   <p>
     __attribute__((sentinel)) は、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=exec&amp;sektion=3">
exec(3)</a> 関数が NULL ポインタで終端していない状態で使用された場合に
     警告を発するために使用されるようになります。
     <br><br><tt>make build</tt> に誓茲誓って、ミニ FAQ の
     <a href="#1.8">1.8</a> 章に従って、
     gcc を再構築しなければなりません。
   </p>

    <a name="3.0"></a>
    <h2>
      3.0 からのアップグレード
    </h2>

    <a name="3.0.1"></a>
    <h3>
      3.0.1: mtree(8) でサポートされる新しいキーワード
    </h3>

    <p>
      &quot;make build&quot; が誓垢襪燭瓩砲蓮⊃靴靴ぅ弌璽献腑鵑
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈逕鱚絋瘢雹黼謾蜿扈権壌繞┯
ユーティリティを構築して、インストールする必要があります。
    </p>
<pre>
  # cd /usr/src/usr.sbin/mtree
  # make cleandir
  # make obj
  # make depend
  # make
  # make install
</pre>

    <a name="3.0.2"></a>
    <h3>
      3.0.2: ELF プラットフォームからの libdl の削除
    </h3>

    <p>
      ELF ベースのプラットフォーム (alpha と macppc、sparc64) では、もう
      libdl は使用されなくなりました。libdl を使用するシステムから使用しない
      システムへのアップグレードは、次のステップで行うのが最も良いでしょう。
    </p>

    <ul>
      <li>
	<p>システムの再コンパイルを行います。</p>
<pre>
  # cd /usr/src
  # make build
</pre>
      </li>

      <li>
	<p>
	  &quot;make build&quot; が誓靴燭覆蕁⊆，離好謄奪廚某覆爐海箸
	でき、libdl も削除することができます。ただ世掘△海譴鬟螢鵐靴討い
	鞜站瘍纉ぢは、その後に再インストールすべきであることに注意して
	  くだ世気ぁ修僚猗任討い覆い覆蕁⊆茲蠅△┐此△海離好謄奪廚
	飛ばすこともできます。誓気靴痺諱艱が用意された snapshot が
	  用意されます。
	</p>
<pre>
  # rm -f /usr/lib/libdl.* /usr/lib/libdl_pic.a
</pre>
	</li>
      <li>
	<p>
	  libdl を削除したら、シェアードライブラリのキャッシュを再誓言成してくだ世気ぁ
	鹿霈

腫鱚趙竢鈕蜃鹿頏緇
鹿跚鹿
釈瘢綵⊂鹿畩
取馨
凱握該ぢリグレッションテスト用の新しいフレームワーク
    </h3>

    <p>
      リグレッションテスト用の新しいインフラストラクチャーが導入され、
      <tt>bsd.regress.mk</tt> が追加されました。<em>make obj</em> を
      実行する前に、このファイルをインストールしておく必要があります。
    </p>

<pre>
  # cd /usr/src/share/mk
  # make install
</pre>

    <a name="3.0.4"></a>
    <h3>
      3.0.4: /etc/ssh/ に移動された ssh の誓瀋螢侫．ぅ
鹿莖
腫まず、/etc/ssh/ を作誓垢詆廚△蠅泙后
釈鱚羹■窺嘘⊂窺嘘鹿畩ぢを参照してくだ世気ぁ
鹿霈

腫システムの再コンパイルを行います。
    </p>
<pre>
  # cd /usr/src
  # make build
</pre>

    <p>
      /etc/ssh*_* ファイルを、新しく作誓靴續祚齠莚ぢディレクトリに移動します。
    </p>
<pre>
  # cd /etc
  # mv ssh*_* ssh/
</pre>

    <p>
      これらの変更を反映するため、
      <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/rc.diff?r1=1.188&amp;r2=1.189">
	<tt>rc</tt> スクリプトを変更</a>
      する必要があります。
    </p>

    <p>
      新しい場所を反映するように、sshd_config ファイルの中の <tt>HostKey</tt>
      の行を更新します。たとえば、
    </p>
<pre>
  HostKey /etc/ssh_host_key
</pre>

    <p>というのは次のように変更します。</p>

<pre>
  HostKey /etc/ssh/ssh_host_key
</pre>

    <p>
      これらの変更後、sshd デーモンを再起動してくだ世気ぁ
鹿霈

釈瘢綵⊂鹿畩取仮荻からのアップグレード</h2>

    <a name="2.9.1"></a> 
    <h3>2.9.1: 新しいユーザ/グループ - <em>proxy</em> と
      <em>smmsp</em>、<em>popa3d</em></h3>

    <p>
      まず、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
      パケットフィルタリングパッケージ、
      および、その構誓覆
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈胄隲頏陂瘢雹黼謾蜿扈権丈鳫┯の追加にともなって、
      <em>proxy</em> という、
      新しいユーザとグループがシステムに追加されました。
      この新しい追加機能をサポートするため、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、次のようなユーザエントリを追加してくだ世気ぁ鹿霈

腫鱚頏陂訓嵯浦紺紺歳鳫纈竇鷓闔纔蜩銓痕黷蜴闌閾蜴
鹿頏緇

腫ぢ同様にして、<em>proxy</em> グループを /etc/group に追加します。</p>

<pre>
proxy:*:71:
</pre>

    <p>次に、sendmail 8.12 のアップグレードにともなって、sendmail は
      もはや setuid root としては実行されなくなりました。<em>smmsp</em>
      という、新しいユーザと新しいグループがシステムに追加されましたので、
      次のような行を <tt>/etc/group</tt> に追加します。</p>

<pre>
smmsp:*:25:
</pre>

    <p>そして、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を実行して、
      <em>smmsp</em> ユーザのための次のような行を
      追加してくだ世気ぁ鹿霈

腫鱚鼾逑雕乙魂戯紺紺采緕粱瘟羅齠瘍囎硴蜩皷闔鳫苒瘢痕鈿鈬齡緕砠遲鈿跫芍鹿頏緇

腫ぢこの行が、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=yp&amp;sektion=8">yp(8)</a>
      を誓瀋蠅垢襪燭瓩旅圓茲蠅眩阿砲△襪海箸魍稜Г靴討誓さい。</p>

    <p>最後に、システムの構誓里劼箸弔箸覆辰拭囂赱偵皷芬纈ぢの
      popa3d サーバのための、新しいユーザと新しいグループが追加されました。
      次のような行を <tt>/etc/group</tt> に追加します。</p>

<pre>
popa3d:*:26:
</pre>

    <p>そして、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>
      を使用して、次の行を追加してくだ世気ぁ鹿霈
腫鱚竟鞜割昏魂矯俺査虻虻佻亞纈鮑癇逅痕黷蜴闌閾蜴
鹿頏緇

釈瘢綵⊂鹿畩取馨荻庚穏ぢ新しいパケットフィルタ: <em>pf</em></h3>

    <p>以前の OpenBSD の release の部品だ世辰
賓パケットフィルタリングパッケージは、
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4">pf(4)</a>
      と呼ばれる、完全に新しいパケットフィルタリング
      パッケージと置き換えられました。その結果として、
      多くの変更を行う必要があります。</p>

    <p>まず、<em>pf</em> には新しいデバイスファイルが必要です。次のようにして、
      この新しいスペシャルデバイスが作誓気譴討い襪海箸魍稜Г靴討誓さい。</p>

<pre>
  # cd /dev
  # cp /usr/src/etc/etc.`machine`/MAKEDEV ./
  # ./MAKEDEV all
</pre>

    <p>次に、多くのファイルの変更が行われました。参考までに、
      次のバイナリが置き換えられました。</p>

<pre>
OLD:
/sbin/ipf /sbin/ipfstat /sbin/ipnat /usr/sbin/ipfs
/usr/sbin/ipftest /usr/sbin/ipmon /usr/sbin/ipresend
/usr/sbin/ipsend /usr/sbin/iptest
NEW:
/sbin/pfctl
/usr/libexec/ftp-proxy
</pre>

    <p>同様に、デバイスの方も次のように置き換えられ、</p>

<pre>
OLD: /dev/ipl /dev/ipnat /dev/ipstate /dev/ipauth
NEW: /dev/pf
</pre>

    <p>そしてフィルタ誓瀋螢侫．ぅ襪蘯，里茲Δ肪屬垢┐蕕譴泙靴拭鹿霈

腫鱚鰐頂續祚蜷罧鴣跂韲癆纉
療弸續祚鞴闔癆闔鹿頏緇
腫ぢ古い IPfilter のサンプル誓瀋螢侫．ぅ襪肋探遒靴討盥修錣覆い任靴腓Α
鹿霈
腫鱚鴉鱠鬲鼈癇絲蜷鹿頏緇
腫昭纃情羲躱ぢを安全に有効化するためのメカニズムが、
      <tt>/etc/rc</tt> と <tt>/etc/rc.conf</tt> ファイルに追加されました。
      新しいフックメカニズムを含むこれらのファイルを、更新する必要が
      あります。<em>pf</em> を有効化するには、<tt>/etc/rc.conf</tt>
      の中に、PF=YES をセットします。</p>

    <a name="2.9.3"></a> 
    <h3>2.9.3: <em>make</em> への変更点鹿莖
腫昭蓿繙就蔗痕鞳鈞黻鱧芍蜴瘤芍髄鴒渚瘠絋瘢雹黼謾蜿扈陰壌瘠紲羽鹿畩
と、そのデータファイルに変更が加えられましたが、
      それが構築のプロセスでの障害の原因となるかも知れません。
      これは通常、構築の際に、<em>bsd.own.mk</em> の中で発誓犬垢
エラーとして現われます。この問題を回避するためには、
      次のデータファイルをまず更新してくだ世気ぁ鹿霈
腫鱚邃鬲齟祚鼈癇絲迢
轣諷銖跛
鹿頏緇

腫ぢそして次に、新しい make を構築し、インストールします。</p>

<pre>
  # cd /usr/src/usr.bin/make
  # make clean &amp;&amp; make obj &amp;&amp; make depend &amp;&amp; make
  # make install
</pre>

    <p>さぁ、アップグレードを継続してくだ世気ぁ鹿霈

釈瘢綵⊂鹿畩
取馨荻庚敢纈矼鳫黏ぢのエラーが原因の構築の失敗</h3>

    <p>システム全体の構築を始める前に、まず、KerberosV の構築を
      行う必要があります。</p>

    <p>まず、<em>/etc</em> の下に新しい KerberosV 用の誓瀋螢侫．ぅ詬僂
が作られました。もし、このディレクトリをまだ精遒辰討い覆い里任靴燭蕁
釈鱚羹■窺嘘⊂窺嘘ぢ章</a> に記述されている
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&amp;sektion=8">mtree(8)</a>
      を使用して作誓靴討誓さい。</p>

    <p>では、KerberosV を構築しましょう。</p>

<pre>
  # cd /usr/src/kerberosV
  # make obj
  # cd lib/roken
  # make 
  # cd ../../usr.bin/asn1_compile
  # make
  # make install
</pre>

    <p><tt>/usr/libexec/auth/login_krb-or-pwd</tt>  は
      <tt>login_krb<strong>4</strong>-or-pwd</tt> に
      ファイル名が変更されましたが、これを反映するよう
      <tt>/etc/login.conf</tt> を更新する必要もあります。</p>

    <a name="2.9.5"></a> 
    <h3>2.9.5: 新バージョンの <em>sendmail</em></h3>

    <p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a>
      は、バージョン 8.12 へとアップグレードされました。
      このバージョンの <em>sendmail</em> は、
      もはや setuid root として実行されなくなりました。
      このため、大きな変更が行われました。</p>

    <ol>
      <li>新しいユーザと新しいグループ (<em>smmsp</em>) が追加されました。
	これらのユーザの作誓泙誓でしたら、<a href="#2.9.1">2.9.1 章</a>
	の手順に従って、作誓靴討誓さい。</li>

      <li><tt>新しい /var/spool/clientmqueue</tt> ディレクトリや
	<tt>/var/spool/mqueue</tt> の新しいパーミッションなど、
	ファイルの階層構造にいくつかの変更が行われました。
	これらの変更には、
	<a href="#1.13">1.13 章</a> に記述されている
	<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&amp;sektion=8">mtree(8)</a>
	を使用することができます。</li>

      <li>
        <p>以下に示す行を、root の
	  <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&amp;sektion=1">crontab(1)</a>
	  に追加してくだ世気ぁ弱躱黼鈔轣蛹鹿纃は、
	  もはや setuid root バイナリではなくなりましたので、
	  その仕事に一部は、これに依存するようになりました。</p>

<pre>
# sendmail clientmqueue runner
*/30    *       *       *       *       /usr/sbin/sendmail -L sm-msp-queue -Ac -q
</pre>

      </li>

      <li>
        <p>sendmail をアップグレードします。</p>

<pre>
  # cd /usr/src/gnu/usr.sbin/sendmail
  # make clean &amp;&amp; make obj &amp;&amp; make depend &amp;&amp; make &amp;&amp; make install
</pre>

        <p><strong>注:</strong> <tt>submit.cf</tt> と
	  <tt>localhost.cf</tt> は、
	  <tt>/etc/mail</tt> ディレクトリにインストールされています。
	  前者の <tt>submit.cf</tt> (これは、現在の sendmail のドキュメンテーション
	  にある、"クライアント" 機能用誓瀋螢侫．ぅ襪箸靴道仮箸気譴泙は、
	  sendmail でローカルにメールを配送しようとするユーザのメーラー (MUA) が
	  使用します。上述のとおり、パーミッションの変更によって、これらは
	  root 権限を必要としなくなり、sendmail のバイナリは、smmsp に
	  setgid されるようになりました。
	  後者の <tt>localhost.cf</tt> は、
	  sendmail がローカルホストからのメールを受信するのに、
	  localhost インターフェースのみを待ち受けるようにして、
	  ネットワークからの誓楝海鮗栄佞韻覆い箸いΑ
	いわゆるひとつの OpenBSD の流儀です (たとえば、
	  外部インターフェースの SMTP ポートを待ち受けるのに、
	  <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&amp;sektion=8">smtpd(8)</a>
	  などを使用しているのなら、間違いなくこれを必要とするでしょう)。
	  より詳しくは、<tt>/usr/src/gnu/usr.sbin/sendmail/sendmail</tt> ディレクトリの下の
	  <tt>SECURITY</tt> ファイルを参照してくだ世気ぁ鹿霈

腫昭少續祚轣蛹鹿の下の sendmail の誓瀋螢侫．ぅ襪鮑得生誓掘
	更新することを強く推奨します。<tt>/usr/share/sendmail/cf</tt>
	  の下に、使えそうな構誓侫．ぅ襪鮓弔韻蕕譴襪眞里譴泙擦鵝
	跫竅跏闢竊ぢは、openbsd-localhost.mc から
	  誓言成されたものだ世箸いΔ海箸肪躇佞靴討誓さい。</p>
      </li>

      <li>
        <p>インストール後のデフォルトの誓瀋蠅修Δ任△襪茲Δ法
	儒祟竢鈕鹿の中で <tt>-bd</tt> オプションを指定せずに
	  sendmail を実行しているのなら、<tt>localhost.cf</tt> を
	  使用する必要があります。次のように、これが使われるよう、
	  <tt>rc.conf</tt> を編集しましょう。</p>
<pre>
# For normal use: "-L sm-mta -bd -q30m"
sendmail_flags="-L sm-mta -C/etc/mail/localhost.cf -bd -q30m"
</pre>
      </li>

      <li>
        <p>誓瀋螢侫．ぅ襪僚猗任燭蕁什濕孫埣罎緕粱瘟を
         <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=kill&amp;sektion=1">kill(1)</a>
         しましょう。</p>
<pre>
  kill `sed 1q /var/run/sendmail.pid`
</pre>

        <p>これで、誓気靴ぅ廛轡腑鵑膿靴靴緕粱瘟が再起動されます。
	  たとえば、外部からのメールを受け付ける場合は、</p>
<pre>
  /usr/sbin/sendmail -L sm-mta -bd -q30m
</pre>

        <p>のようになりますし、また、ローカルのメールのみの誓瀋蠅覆蕁鹿霈

腫鱚齟砠遲黼鈔轣蛹鼾誰續祚轣蛹閭瘡蓖齡外鹿頏緇

腫ぢのようになります。</p>

        <p><strong>注:</strong> <tt>-bd</tt> オプションは、現在は、
	  どちらのケースでも必要とされます。</p>
      </li>
    </ol>

    <p>これで、新しい <em>sendmail</em> が実行されているはずです。</p>

    <a name="2.9.6"></a> 
    <h3>2.9.6: <tt>/etc/primes</tt> の移動</h3>

    <p><tt>/etc/primes</tt> は <tt>/etc/moduli</tt> に
      ファイル名が変更されました。古いファイルをリネームするか、
      または、<tt>/usr/src/etc</tt> から単にコピーしてくだ世気ぁ鹿霈


箟牡甕牡蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺姥箟牡甕牡ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵億外浦妓些鼈祷箟牡甕牡は鞳鄲喞苒痲絖迚鉗聲餉蔗迪顕旭劾渦厩叉敢鬼祷箟牡甕牡	衷顆鱸艾關更賢屋鯵槙繻恟閼蜴膊錫鮠


窺偽
跫績繻蝌嶝

絶厩
甕	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪険旭劾渦欝些減温鴉鹿霈
箙箏拘箟験甕験蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺姥箟験甕験ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵億宛戯乙佐鼈祷箟鹸甕鹸は鞳鄲喞苒痲絖迚鉗聲餉蔗迪険旭劾渦欝些減温鴉


窺亀
跫績繻蝌嶝

絶厩
甕	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪鍵旭劾臼旭紺浦咳癇艨鱸籬鹿霈
箙箏教箟険甕険蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺姥箟顕甕顕ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵丑臼矯崖叉鼈祷箟顕甕顕は鞳鄲喞苒痲絖迚鉗聲餉蔗迪鍵旭劾臼旭紺浦咳癇艨鱸籬


窺鬼
跫績繻蝌嶝

絶厩
甕	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪傾旭劾臼臆魂戯輝蜒祷ぜ箟鯵
甕圧
釈鱚羹■凱凱刈廠竢鈕蜃ぢの変更</a><br>
      <a href="#3.3.5">3.3.5: ある種の関数への __attribute__((bounded))
d107 2
a108 2
      <a href="#3.3.6">3.3.6: 新しいユーザ/グループ _syslogd</a><br>
      <a href="#3.3.7">3.3.7: カーネル用ヘッダ世凌靴靴ぅ侫璽泪奪搬粟性
d817 11
a827 1
      3.3.4: <tt>config</tt> の変更 (2003/05/23)
d845 1
a845 1
    <a name="3.3.5"></a>
d847 1
a847 1
     3.3.5: ある種の関数への __attribute__((bounded)) の使用 (2003/06/26)
d858 1
a858 1
    <a name="3.3.6"></a>
d860 1
a860 1
      3.3.6: 新しいユーザ/グループ _syslogd (2003/07/31)
d876 1
a876 1
    <a name="3.3.7"></a>
d878 1
a878 1
      3.3.7: カーネル用ヘッダ世離侫璽泪奪搬粟性 __kprintf__ の使用 (2003/08/23)
d1790 1
a1790 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.179 ]
d1792 1
a1792 1
$Translation: upgrade-minifaq.html,v 1.63 2003/11/10 14:53:16 toshi Exp $
d1794 1
a1794 1
$OpenBSD: upgrade-minifaq.html,v 1.179 2003/11/07 22:25:51 nick Exp $<br>
@


1.53
log
@sync with steelix translation CVS
@
text
@d13 1
a13 1
    <h2>OpenBSD 最新リリース - 3.3</h2>
d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.178 2003/11/02 22:49:21 david Exp $</p>
d743 1
a743 1
    </p>
d761 1
a761 1
    </p>
d863 1
a863 1
    </p>
d1779 1
a1779 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.178 ]
d1781 1
a1781 1
$Translation: upgrade-minifaq.html,v 1.62 2003/11/03 13:05:50 toshi Exp $
d1783 1
a1783 1
$OpenBSD: upgrade-minifaq.html,v 1.178 2003/11/02 22:49:21 david Exp $<br>
@


1.52
log
@Sync with Steelix CVS
@
text
@@


1.51
log
@Sync with Steelix CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.177 2003/10/23 17:12:26 nick Exp $
d338 1
a338 1
  # cd /usr/src/etc &amp;&amp; DESTDIR=/ make distrib-dirs
d1779 1
a1779 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.177 ]
d1781 1
a1781 1
$Translation: upgrade-minifaq.html,v 1.61 2003/10/25 05:51:37 toshi Exp $
d1783 1
a1783 1
$OpenBSD: upgrade-minifaq.html,v 1.177 2003/10/23 17:12:26 nick Exp $<br>
@


1.50
log
@Sync with Steelix CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.175 2003/10/12 15:59:39 nick Exp $</p>
d93 2
a94 1
      <a href="#3.4.1">3.4.1: svnd デバイスのマイナー番号の変更</a>
d338 1
a338 1
  # cd /usr/src/etc &amp;&amp; make DESTDIR=/ distrib-dirs
d745 17
d1779 1
a1779 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.175 ]
d1781 1
a1781 1
$Translation: upgrade-minifaq.html,v 1.60 2003/10/14 01:21:08 toshi Exp $
d1783 1
a1783 1
$OpenBSD: upgrade-minifaq.html,v 1.175 2003/10/12 15:59:39 nick Exp $
@


1.49
log
@sync with steelix translation CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.174 2003/08/26 04:20:57 avsm Exp $
d91 5
d712 33
d1761 1
a1761 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.174 ]
d1763 1
a1763 1
$Translation: upgrade-minifaq.html,v 1.59 2003/08/27 10:00:36 toshi Exp $
d1765 1
a1765 1
$OpenBSD: upgrade-minifaq.html,v 1.174 2003/08/26 04:20:57 avsm Exp $
@


1.48
log
@sync with steelix translation CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.173 2003/08/03 04:49:28 avsm Exp $</p>
d101 2
d807 15
a821 1
      </p>
d1723 1
a1723 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.173 ]
d1725 1
a1725 1
$Translation: upgrade-minifaq.html,v 1.58 2003/08/17 12:13:18 toshi Exp $
d1727 1
a1727 1
$OpenBSD: upgrade-minifaq.html,v 1.173 2003/08/03 04:49:28 avsm Exp $
@


1.47
log
@sync with steelix translation CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.172 2003/07/14 20:15:56 nick Exp $</p>
d100 1
d789 18
d1063 1
a1063 1
      の権限分離機能のサポートのため、<em>sshd</em> という
d1707 1
a1707 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.172 ]
d1709 1
a1709 1
$Translation: upgrade-minifaq.html,v 1.57 2003/07/14 23:13:56 toshi Exp $
d1711 1
a1711 1
$OpenBSD: upgrade-minifaq.html,v 1.172 2003/07/14 20:15:56 nick Exp $
@


1.46
log
@sync with steelix translation CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.171 2003/06/27 14:21:50 nick Exp $</p>
d598 1
a598 1
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;apropos=0&amp;sektion=8&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html">sudo(8)</a> 
d1688 1
a1688 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.171 ]
d1690 1
a1690 1
$Translation: upgrade-minifaq.html,v 1.56 2003/06/28 04:37:12 toshi Exp $
d1692 1
a1692 1
$OpenBSD: upgrade-minifaq.html,v 1.171 2003/06/27 14:21:50 nick Exp $
@


1.45
log
@sync with steelix translation CVS
@
text
@d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.170 2003/06/26 19:43:03 avsm Exp $</p>
d777 1
a777 1
     3.3.5: ある種の関数への __attribute__((bounded)) の使用
d1688 1
a1688 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.170 ]
d1690 1
a1690 1
$Translation: upgrade-minifaq.html,v 1.54 2003/06/26 23:35:34 toshi Exp $
d1692 1
a1692 1
$OpenBSD: upgrade-minifaq.html,v 1.170 2003/06/26 19:43:03 avsm Exp $
@


1.44
log
@
sync with steelix translation CVS
@
text
@d5 1
a5 3
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-2022-jp">

d19 1
a19 1
	$OpenBSD: upgrade-minifaq.html,v 1.168 2003/06/03 21:44:58 david Exp $
d98 2
d775 4
d780 7
d1688 1
a1688 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.168 ]
d1690 1
a1690 1
$Translation: upgrade-minifaq.html,v 1.52 2003/06/03 23:17:12 toshi Exp $
d1692 1
a1692 1
$OpenBSD: upgrade-minifaq.html,v 1.168 2003/06/03 21:44:58 david Exp $
@


1.43
log
@
sync with steelix translation CVSsync with steelix translation CVSsync with steelix translation CVSsync with steelix translation CVSsync with steelix translation CVSsync with steelix translation CVSsync with steelix translation CVSsync with steelix translation CVSsync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.167 2003/05/25 01:42:45 tedu Exp $</p>
a742 1
    </p>
a774 1
    </p>
a799 1
    </p>
a837 1
    </p>
a879 1
    </p>
a893 1
    </p>
a984 1
    </ol>
d1677 1
a1677 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.167 ]
d1679 1
a1679 1
$Translation: upgrade-minifaq.html,v 1.51 2003/05/25 04:13:23 toshi Exp $
d1681 1
a1681 1
$OpenBSD: upgrade-minifaq.html,v 1.167 2003/05/25 01:42:45 tedu Exp $
@


1.42
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.166 2003/05/06 21:08:25 pvalchev Exp $</p>
d99 1
d756 22
d1684 1
a1684 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.166 ]
d1686 1
a1686 1
$Translation: upgrade-minifaq.html,v 1.50 2003/05/10 01:03:42 toshi Exp $
d1688 1
a1688 1
$OpenBSD: upgrade-minifaq.html,v 1.166 2003/05/06 21:08:25 pvalchev Exp $
@


1.41
log
@
broken links
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.163 2003/04/28 22:10:22 henning Exp $</p>
d98 1
d744 12
d1661 1
a1661 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.163 ]
d1663 1
a1663 1
$Translation: upgrade-minifaq.html,v 1.49 2003/05/04 17:27:29 jufi Exp $
d1665 1
a1665 1
$OpenBSD: upgrade-minifaq.html,v 1.163 2003/04/28 22:10:22 henning Exp $
@


1.40
log
@
sync with steelix translation CVS
@
text
@d205 1
a205 1
      <a href="/ja/mail.html">メーリングリスト</a>の話題の追誓廚魘
箟教甕教ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵姦恩該完魂鼈祷

窺街
跫齷釿蜚齡繞跚瘤鼬癆蜿置
絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪怯旭劾梓嘘魂減唄鱇蓆鹿霈
箙箏牡箟挟甕挟蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺蔚箟教甕教ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵姦鰻穏欝魂鼈祷箟教甕教は鞳鄲喞苒痲絖迚鉗聲餉蔗迪怯旭劾梓嘘魂減唄鱇蓆


窺蓋
跫齷釿蜚齡繞跚瘤鼬癆蜿置
絶蔚恩
甕恐蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺欝箟恭甕恭ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵姦鰻戯患艮鼈祷

窺碍
跫齷釿蜚齡繞跚瘤鼬癆蜿置
絶欝
甕取仮緕帯最新リリース - 3.2</h2>
d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.159 2003/04/14 21:54:43 wilfried Exp $</p>
d93 6
d701 22
d1630 1
a1630 1
$Translation: upgrade-minifaq.html,v 1.45 2003/04/15 03:02:48 toshi Exp $
d1632 1
a1632 1
$OpenBSD: upgrade-minifaq.html,v 1.159 2003/04/14 21:54:43 wilfried Exp $
@


1.36
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.158 2003/03/25 16:45:22 henning Exp $
d208 1
a208 1
    <p><a href="../../ports.html">ports ツリー</a>は、システムに不可欠な
d354 1
a354 1
  # chown root.wheel /bsd (他のユーザ権限でコンパイルしていた場合)
d1021 1
a1021 1
         chown $u.crontab $f
d1600 1
a1600 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.158 ]
d1602 1
a1602 1
$Translation: upgrade-minifaq.html,v 1.43 2003/03/26 01:54:47 toshi Exp $
d1604 1
a1604 1
$OpenBSD: upgrade-minifaq.html,v 1.158 2003/03/25 16:45:22 henning Exp $
@


1.35
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.156 2003/02/26 02:54:48 nick Exp $</p>
d668 2
a669 2
      <em>-current</em> にするための最も簡単な方法は、ブートフロッピーの
      イメージを取ってきて、<a href="../faq4.html">FAQ</a> に記述された
d675 13
a687 11
      また、<tt>.tgz</tt> およびカーネルの配布ファイルをダ瀬Ε鵐蹇璽匹靴董
以下のように / で展開することでも可能です。
<pre>
  # tar pzxf base33.tgz -C /
  # tar pzxf comp33.tgz -C /
  # tar pzxf game33.tgz -C /
  # tar pzxf  man33.tgz -C /
  # tar pzxf misc33.tgz -C /
  # mv /bsd /bsd.old
  # mv bsd /
</pre>
d691 1
a691 1
      いずれのケースにおいても、<a href="#1.9">/etc、/var および /dev</a> については
a694 1

d1600 1
a1600 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.156 ]
d1602 1
a1602 1
$Translation: upgrade-minifaq.html,v 1.41 2003/02/27 01:37:10 toshi Exp $
d1604 1
a1604 1
$OpenBSD: upgrade-minifaq.html,v 1.156 2003/02/26 02:54:48 nick Exp $
@


1.34
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.154 2003/02/20 19:01:25 millert Exp $</p>
d678 5
a682 5
  # tar pzxf base32.tgz -C /
  # tar pzxf comp32.tgz -C /
  # tar pzxf game32.tgz -C /
  # tar pzxf  man32.tgz -C /
  # tar pzxf misc32.tgz -C /
d1599 1
a1599 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.154 ]
d1601 1
a1601 1
$Translation: upgrade-minifaq.html,v 1.39 2003/02/21 00:31:40 toshi Exp $
d1603 1
a1603 1
$OpenBSD: upgrade-minifaq.html,v 1.154 2003/02/20 19:01:25 millert Exp $
@


1.33
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.152 2003/02/10 17:59:21 kjell Exp $</p>
d104 1
d908 33
d1599 1
a1599 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.152 ]
d1601 1
a1601 1
$Translation: upgrade-minifaq.html,v 1.37 2003/02/11 04:10:28 toshi Exp $
d1603 1
a1603 1
$OpenBSD: upgrade-minifaq.html,v 1.152 2003/02/10 17:59:21 kjell Exp $<br>
@


1.32
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.151 2003/01/23 01:01:19 henning Exp $</p>
d410 1
a410 2
  (cd /usr/src/gnu/usr.bin/perl &amp;&amp;  make -f Makefile.bsd-wrapper config.sh &amp;&amp;  mak
e -f Makefile.bsd-wrapper depend &amp;&amp;  make -f Makefile.bsd-wrapper perl.lib &amp;&amp;
d661 1
a661 1
      私たちは、時期バージョンが確実に最高の品質のものとなるよう、
d1565 1
a1565 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.151 ]
d1567 1
a1567 1
$Translation: upgrade-minifaq.html,v 1.36 2003/01/23 05:08:41 toshi Exp $
d1569 1
a1569 1
$OpenBSD: upgrade-minifaq.html,v 1.151 2003/01/23 01:01:19 henning Exp $
@


1.31
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.150 2003/01/20 21:25:36 margarida Exp $</p>
d884 1
a884 1
      3.2.8: ELF アーキテクチャ用のリンカの変更
d1566 1
a1566 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.150 ]
d1568 1
a1568 1
$Translation: upgrade-minifaq.html,v 1.35 2003/01/21 00:46:14 toshi Exp $
d1570 1
a1570 1
$OpenBSD: upgrade-minifaq.html,v 1.150 2003/01/20 21:25:36 margarida Exp $
@


1.30
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.147 2003/01/17 22:31:18 drahn Exp $</p>
d870 1
a870 2
         <p>このミニ FAQ の <a href="#1.8">1.8</a> 章に従って、
         gcc を再構築してくだ世気ぁ
筝群
畍群
霈このミニ FAQ の <a href="#1.5">1.5</a> 章に従って、
         システムを再構築してくだ世気ぁ
筝係
畍係
鴉鬲跚皴跚矣熬鬲跚皴跚碆頸蓿縺筮箟偽甕偽蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺唄箟偽甕偽ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵丑姥減咳魂鼈祷箟儀甕儀は鞳鄲喞苒痲絖迚鉗聲餉蔗迪慣旭劾葦臆些浦姥鱇蓆


窺温
跫齷釿蜚齡繞跚瘤鼬癆蜿置
絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪感旭劾葦憶些敢感癇祷ぜ箟鯵
筝鹸箟偽甕偽蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺唄箟儀甕儀ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋鯵丑欝穏鯵佐鼈祷箟儀甕儀は鞳鄲喞苒痲絖迚鉗聲餉蔗迪感旭劾葦憶些敢感癇祷

窺恩
跫齷釿蜚齡繞跚瘤鼬癆蜿置
絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪患旭劾葦唄魂穏渦緕鉗鈑鹿霈
箜甞この Upgrade-MiniFAQ は、<b>上級者</b>を対象としています。
d102 1
d439 1
a439 1
	いる指示に注意深くしたがっているかどうか確認してくだ世気ぁ鹿跚筝騎畍顕
釈瘢綵⊂鹿畩
箙係
畊係
を必要としています。このライブラリを構築するには、次のステップにしたがってくだ世気ぁ
箟姐甕碓碣昭碣昭壌瘠碯蛹篌ぢに誓茲誓って、Mini-FAQ の
     <a href="#1.8">1.8</a> セクションにしたがって、
d1396 1
a1396 1
      <a href="#1.13">セクション 1.13</a> に記述されている
d1428 2
a1429 2
	これらのユーザの作誓泙誓でしたら、<a href="#2.9.1">セクション 2.9.1</a>
	の手順にしたがって、作誓靴討誓さい。</li>
d1435 1
a1435 1
	<a href="#1.13">セクション 1.13</a> に記述されている
d1541 1
a1541 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.145 ]
d1543 1
a1543 1
$Translation: upgrade-minifaq.html,v 1.32 2003/01/08 01:00:43 toshi Exp $
d1545 1
a1545 1
$OpenBSD: upgrade-minifaq.html,v 1.145 2003/01/07 14:22:12 henning Exp $
@


1.27
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.142 2003/01/07 00:16:55 millert Exp $</p>
d97 1
a97 1
      <a href="#3.2.2">3.2.2: 新しいグループ</a><br>
d99 1
a99 1
      <a href="#3.2.4">3.2.4: 新しいユーザ</a><br>
d101 1
d719 1
a719 1
      3.2.2: 新しいグループ (2002/11/21)
d801 1
a801 1
      3.2.4: 新しいユーザ (2002/12/24)
d803 1
a803 1
    <p>新しいユーザが
d805 5
a809 1
      デーモン用に追加されました。
d834 18
d1511 1
a1511 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.142 ]
d1513 1
a1513 1
$Translation: upgrade-minifaq.html,v 1.31 2003/01/07 08:58:17 toshi Exp $
d1515 1
a1515 1
$OpenBSD: upgrade-minifaq.html,v 1.142 2003/01/07 00:16:55 millert Exp $
@


1.26
log
@
ipv6-icmp
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.141 2003/01/06 00:16:32 mcbride Exp $</p>
d769 2
a772 1
          # make obj
a775 1
          # make obj
d1488 1
a1488 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.141 ]
d1490 1
a1490 1
$Translation: upgrade-minifaq.html,v 1.30 2003/01/06 03:57:57 toshi Exp $
d1492 1
a1492 1
$OpenBSD: upgrade-minifaq.html,v 1.141 2003/01/06 00:16:32 mcbride Exp $
@


1.25
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.140 2003/01/01 13:02:00 nick Exp $</p>
d100 1
d812 18
d1488 1
a1488 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.140 ]
d1490 1
a1490 1
$Translation: upgrade-minifaq.html,v 1.29 2003/01/04 15:40:51 toshi Exp $
d1492 1
a1492 1
$OpenBSD: upgrade-minifaq.html,v 1.140 2003/01/01 13:02:00 nick Exp $
@


1.24
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.139 2002/12/15 15:19:55 nick Exp $</p>
d1469 1
a1469 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.139 ]
d1471 1
a1471 1
$Translation: upgrade-minifaq.html,v 1.28 2002/12/29 18:06:39 toshi Exp $
d1473 1
a1473 1
$OpenBSD: upgrade-minifaq.html,v 1.114 2002/07/21 08:37:56 horacio Exp $
d1475 1
a1475 1
	Copyright &copy; 1998-2002, Kjell Wooding.<br>
@


1.23
log
@
sync with steelix translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.138 2002/12/15 15:19:55 nick Exp $</p>
d1469 1
a1469 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.138 ]
d1471 1
a1471 1
$Translation: upgrade-minifaq.html,v 1.27 2002/12/28 01:55:39 toshi Exp $
@


1.22
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.137 2002/12/15 15:19:55 nick Exp $</p>
d99 1
d797 14
d1469 1
a1469 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.137 ]
d1471 1
a1471 1
$Translation: upgrade-minifaq.html,v 1.26 2002/12/16 14:40:51 toshi Exp $
@


1.21
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.136 2002/12/03 07:14:11 mpech Exp $</p>
d696 1
a696 1
      3.2.1: 新しい Perl
a713 1

d716 1
a716 1
      3.2.2: 新しいグループ
a752 5
    <a name="3.1"></a>
    <h2>
      3.1 からのアップグレード
    </h2>

d755 1
a755 1
      3.2.3: 重要なコンパイラの変更
d796 5
d1454 1
a1454 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.136 ]
d1456 1
a1456 1
$Translation: upgrade-minifaq.html,v 1.25 2002/12/13 16:00:25 toshi Exp $
@


1.20
log
@
sync
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.127 2002/11/05 18:25:37 millert Exp $</p>
d39 2
a40 2
      <b>よしておいた方が良い</b>でしょう。バイナリリリースやスナップショット
      をお試しいただ世い董焚爾暴劼戮蕕譴討い覺慙△料犧遒鮃圓辰討い燭誓き、
d88 3
d98 1
d190 5
a194 1
      現在のツリーに移行してくる際には、実に役に立つものです。</p>
d209 1
a209 1
    <a name="1.2"></a> 
d215 2
a216 2
      <em>-current</em> への移行方法は、まず、最新の snapshot に
      (通常は、FTP インストールによって) アップグレードすることでしょう。
d522 1
a522 1
      たとえば、2.8 と 2.9 の間の変更点世鮓襪燭瓩砲蓮
箋卸
甬卸
笆粡聿椀杜帯吊貨椀杜帯吊貨箒輝箏宜箟患甕患蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺渦箟患甕患ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋芦丑臆虻換叉鼈祷

窺厩
跫齷釿蜚矚粲瘤糂鱇銖赱闔嶝

絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪桶旭億臼姥魂戯碍蛹跂鶯鹿霈
箙箒狂箟涯甕涯蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺渦箟涯甕涯ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋芦丑斡刑宜叉鼈祷

窺姥
跫齷釿蜚矚粲瘤糂鱇銖赱闔嶝

絶欝
甕取仮緕帯最新リリース - 3.1</h2>
d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.122 2002/11/05 13:23:50 henning Exp $</p>
d90 6
d642 25
d1325 1
a1325 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.122 ]
d1327 1
a1327 1
$Translation: upgrade-minifaq.html,v 1.22 2002/11/05 15:15:19 toshi Exp $
@


1.17
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.121 2002/10/14 09:39:51 henning Exp $</p>
d233 7
d1294 1
a1294 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.121 ]
d1296 1
a1296 1
$Translation: upgrade-minifaq.html,v 1.21 2002/10/15 14:11:40 toshi Exp $
@


1.16
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.117 2002/09/15 16:16:59 nick Exp $</p>
d99 4
a104 1

d523 1
a523 1
	<a href="http://www.openbsd.org/faq/upgrade-minifaq.html#1.12">1.12</a> を参照。
d526 1
a526 1
	<a href="http://www.openbsd.org/faq/upgrade-minifaq.html#1.13">1.13</a> を参照。
d797 53
d1287 1
a1287 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.117 ]
d1289 1
a1289 1
$Translation: upgrade-minifaq.html,v 1.20 2002/09/16 01:06:43 toshi Exp $
@


1.15
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.116 2002/09/13 13:20:11 henning Exp $</p>
d1231 1
a1231 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.116 ]
d1233 1
a1233 1
$Translation: upgrade-minifaq.html,v 1.19 2002/09/13 15:08:49 toshi Exp $
@


1.14
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.115 2002/08/17 10:37:41 henning Exp $</p>
d655 1
d668 1
d1231 1
a1231 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.115 ]
d1233 1
a1233 1
$Translation: upgrade-minifaq.html,v 1.18 2002/08/18 09:24:42 toshi Exp $
@


1.13
log
@
sync iwth badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.114 2002/07/21 08:37:56 horacio Exp $</p>
d93 1
a93 2
      <a href="#3.1.1">3.1.1: 新しいユーザ/グループ: <em>sshd</em> および
      <em>authpf</em></a><br>
d633 1
a633 2
      3.1.1: 新しいユーザ/グループ: <em>sshd</em> および
      <em>authpf</em>
d642 3
d650 5
d661 6
d1229 1
a1229 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.114 ]
d1231 1
a1231 1
$Translation: upgrade-minifaq.html,v 1.17 2002/07/21 15:25:24 toshi Exp $
@


1.12
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.113 2002/07/15 19:47:22 millert Exp $</p>
d99 1
a99 1
      <a href="#3.1.5">3.1.6: atrun(8) はもはや不要</a><br>
d639 1
a639 1
      <a href=""http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8">authpf(8)</a>
d1217 1
a1217 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.113 ]
d1219 1
a1219 1
$Translation: upgrade-minifaq.html,v 1.16 2002/07/16 08:35:11 toshi Exp $
d1221 1
a1221 1
$OpenBSD: upgrade-minifaq.html,v 1.113 2002/07/15 19:47:22 millert Exp $
@


1.11
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.112 2002/06/21 13:00:12 mpech Exp $</p>
d99 1
d758 22
d1217 1
a1217 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.112 ]
d1219 1
a1219 1
$Translation: upgrade-minifaq.html,v 1.15 2002/06/22 03:29:36 toshi Exp $
d1221 1
a1221 1
$OpenBSD: upgrade-minifaq.html,v 1.112 2002/06/21 13:00:12 mpech Exp $
@


1.10
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.111 2002/06/13 04:39:24 kjell Exp $</p>
d246 1
a246 2
  # rm -rf /usr/obj
  # mkdir /usr/obj
d257 1
a257 1
  # umount /dev/wd0h                 (/usr/obj だ世韻離僉璽謄轡腑箍宜
甓宜
迴
箍薫
甓薫
鴉鱠鬲閧迢粡齟礪
箒厳
甼厳
竏迴斡彊鬲癆跛阯緕鬲竰闔瘡跫粤銷箟厩甕厩蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺臼箟厩甕厩ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋芦強嘘該渦魂鼈祷箟厩甕厩は鞳鄲喞苒痲絖迚鉗聲餉蔗迪臼旭億斡梓些杭牡裙跛


窺跫齷釿蜚矚粲瘤糂鱇銖赱闔嶝

絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪碓旭億斡屋佐虻臼裙跛鹿霈
甞取仮一般的なアップグレードについての質問</h2>

a35 1
     <blink>
a41 1
      </blink>
d44 2
a98 1
      <a href="#3.1.6">3.1.6: kafs.h ヘッダ瀬侫．ぅ襪琉榮鹿畩
畄妓釈瘢綵⊂鹿畩
取馨
凱窺矯瘋鶤ヘッダ瀬侫．ぅ襪琉榮
鹿莖
腫ヘッダ瀬侫．ぅ鬲蜴竚絲諷鰲纈闢埠瘋鶤は、
      /usr/include/kerberosV/kafs.h に移動されました。古い方のファイルを使用したり
      しないようにするために、次のようにして古い方を消去しておいてくだ世気ぁ
鹿霈

腫鱚鴉鬲蜴竚絲諷鰲纈闢埠瘋鶤鹿頏緇

箟厩甕厩蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺臼箟厩甕厩ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋芦強臼戯蓋叉鼈祷箟屋甕屋は鞳鄲喞苒痲絖迚鉗聲餉蔗迪碓旭億斡屋佐虻臼裙跛


窺跫齷釿蜚矚粲瘤糂鱇銖赱闔嶝

絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪姐旭億斡碓紺浦患裙跛鹿霈
箙畊釈鱚羹■凱窺陰廠弱躱齠葢鹿纃のための新しいユーザとグループ</a><br>

a97 1

a98 1

d100 2
a101 2

      <a href="#3.1.5">3.1.5: lp* のための新しいパーミッション</a>
d635 1
a635 1
    
d638 2
a639 1
      3.1.1: <em>sshd</em> のための新しいユーザとグループ
d642 3
a644 1
    <p>
d654 3
a656 3
    
    <p>同様に <em>sshd</em> グループを /etc/group に追加します。</p>
       
d659 1
d728 6
a733 6
<p>
古い S/Key データベースファイルである <tt>/etc/skeykeys</tt> は、<tt>/etc/skey</tt>
というディレクトリに置き換えられ、それぞれのレコードは、それが記述しているユーザが
所有する個々のファイルになりました。<tt>/etc/skeykeys</tt> を (root 権限で) 次の
コマンドを実行することで新しい形式に変換することができます。
</p>
d739 4
a742 2
すべての S/Key ディレクトリを使用するサードパーティープログラムについては、
再コンパイルする必要があるということに注意してくだ世気ぁ
箏換
畄鬼
腫現在では、lpr にファイルをスプール可能にするため、lpd の使用する
ディレクトリは daemon グループが書き込み可能でなければなりません。
さらに、スプールディレクトリ中のファイルは、所有者・グループ共に
daemon でなければなりません。これは、次の方法で変更できます。
</p>
d762 15
d1214 1
a1214 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.109 ]
d1216 1
a1216 1
$Translation: upgrade-minifaq.html,v 1.12 2002/06/09 15:15:16 toshi Exp $
d1218 1
a1218 1
$OpenBSD: upgrade-minifaq.html,v 1.109 2002/06/09 10:01:45 kjell Exp $
@


1.7
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.107 2002/05/30 22:00:23 kjell Exp $</p>
d38 1
d40 3
a42 3
      もし、あなたが初心者なら、あるいは完全にコンパイラやツールチェインに
      確信が持てないのでしたら、おそらく、ソースからのアップグレードは、
      よしておいた方が良いでしょう。バイナリリリースやスナップショット
d45 1
d101 3
a103 1
      <a href="#3.1.4">3.1.4: 新しい S/Key の構誓鹿畩
箏完箟厩甕厩蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺碓箟厩甕厩ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪屋芦起咳浦慣紺鼈祷箟厩甕厩は鞳鄲喞苒痲絖迚鉗聲餉蔗迪扱旭億圧臆紺虻桶裙跛


窺跫齷釿蜚矚粲瘤糂鱇銖赱闔嶝

絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪鯵旭億圧圧艮敢亀裙跛鹿霈
箜筝箒渦箟鰻甕鰻蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺碓箟鰻甕鰻ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪旭億圧扱紺虻騎闢蓍
箟鰻甕鰻は鞳鄲喞苒痲絖迚鉗聲餉蔗迪鯵旭億圧圧艮敢亀裙跛


窺跫齷釿蜚矚粲瘤糂鱇銖赱闔嶝

絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪芦旭億圧姥魂浦慣蛹跂鶯鹿霈
箙鬼
畊宜

箟唄甕唄蜃蜴瘡踟緕帯頂韃鱇粤蜴蜀瘻讙窺碓箟唄甕唄ぴ鱇銖赱闔苒痲絖迚鉗聲餉蔗迪旭億圧嘘艮虻碓闢蓍
箟唄甕唄は鞳鄲喞苒痲絖迚鉗聲餉蔗迪芦旭億圧姥魂浦慣蛹跂鶯


窺跫齷釿蜚矚粲瘤糂鱇銖赱闔嶝

絶憶
甓	は鞳鄲喞苒痲絖迚鉗聲餉蔗迪屋芦起蔚穏寛艮釶粐祷ぜ筝畍釈鱚羹■凱窺晦廠新しい binutils</a>
d658 2
a659 1
         chown $f.crontab $f
d687 19
d720 1
d1138 1
a1138 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.99 ]
d1140 1
a1140 1
$Translation: upgrade-minifaq.html,v 1.5 2002/05/17 06:18:37 toshi Exp $
d1142 1
a1142 1
$OpenBSD: upgrade-minifaq.html,v 1.99 2002/05/16 22:42:14 naddy Exp $
@


1.3
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.97 2002/05/14 20:34:51 kjell Exp $</p>
d24 1
a24 1
    
d36 1
a36 1
    
d80 5
a84 1
      <a href="#3.1.1">3.1.1: crontab(1) と at(1) のための新しいグループ</a><br>
d87 1
d604 23
a626 1
      3.1.1: crontab(1) と at(1) のための新しいグループ
d643 1
a643 1
crontab:*:66:
d646 1
d649 2
a650 1
      次のコマンドを手動で実行してくだ世気蜴鼈ぢを仮定します)。
d653 5
a657 5
# chgrp crontab /var/at/at.{allow,deny} /var/cron/{allow,deny}
# chmod 0660 /var/at/at.{allow,deny} /var/cron/{allow,deny}
# foreach f ( /var/cron/tabs/* )
       chown $f.crontab $f
  end
d660 1
d663 20
d698 8
a705 8
      <pre>
	# cd /usr/src/usr.sbin/mtree
	# make cleandir
	# make obj
	# make depend
	# make
	# make install
      </pre>
d1115 1
a1115 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.97 ]
d1117 1
a1117 1
$Translation: upgrade-minifaq.html,v 1.3 2002/05/15 00:21:57 toshi Exp $
d1119 1
a1119 1
$OpenBSD: upgrade-minifaq.html,v 1.97 2002/05/14 20:34:51 kjell Exp $
@


1.2
log
@
sync with badlands translation CVS
@
text
@d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.96 2002/05/13 22:45:04 millert Exp $</p>
a110 10
    <h2>2.8 からのアップグレード</h2>

    <p>
      <a href="#2.8.1">2.8.1: 新しい <em>auth</em> グループ</a><br>

      <a href="#2.8.2">2.8.2: 新しい <em>wscons</em> コンソールシステム</a><br>

      <a href="#2.8.3">2.8.3: 未定義のシンボルによるカーネルのコンパイルの
	失敗</a><br>
    </p>
d114 1
a114 1
    <p>OpenBSD 2.3 〜 2.7 からのアップグレードについての情報は、
a1059 59
    <a name="2.8"></a> 
    <h2>2.8 からのアップグレード</h2>


    <a name="2.8.1"></a> 
    <h3>2.8.1: 新しい <em>auth</em> グループ</h3>

    <p>GID が 11 の新しいグループ <em>auth</em> が
      システムに追加されました。次のような行を
      <tt>/etc/group</tt> に追加してくだ世気ぁ鹿霈

腫鱚癜昏艮浦
鹿頏緇

釈瘢綵⊂鹿畩取馨荻軒穏ぢ新しい <em>wscons</em> コンソールシステム</h3>

    <p><em>pcvt</em> コンソールドライバは、<em>wscons</em> システムに
      置き換えられました。wscons を使用する前に、新しい wscons 関連の
      デバイスを誓言成しておく必要があります。最新の MAKEDEV がインストール
      されていることを確認し、次のようにすべてのデバイスを作誓靴泙后鹿霈

腫鱚齟鱆蓋強輿謀津纐阻田砥
纐
阻田砥跛
鹿頏緇

腫ぢもし、X を使用しているなら、<em>XF86Config</em> ファイル
      の中の Pointer セクションを次のように変更しましょう。</p>

<pre>
    Protocol    "wsmouse"
    Device      "/dev/wsmouse"
</pre>

    <a name="2.8.3"></a> 
    <h3>2.8.3: 未定義のシンボルによるカーネルのコンパイルの失敗</h3>

    <p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;apropos=0&amp;sektion=8&amp;manpath=OpenBSD+Current&amp;arch=i386&amp;format=html">config(8)</a>
      が更新されました。
      古い <em>config</em> を使用してのカーネル再構築は、
      次のようなエラーの原因となります。</p>
<pre>
  Undefined symbol `_pdevnames_size' referenced
  Undefined symbol `_pdevnames' referenced
</pre>

    <p>これを修誓気垢襪燭瓩法⊃靴靴纃障闔肅膽躱ぢを
      コンパイルしてインストールしてくだ世気ぁ鹿霈
腫鱚邃鬲齟祚鬯黷蜴闔肅轣諷跂瘤瘢雹逅轣諷辮緕逅殺瘢雹瘠轣諷銖跛
鹿頏緇

腫ぢこれで以前のように、新しいカーネルの再構築ができるようになりました。</p>

d1065 1
a1065 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.96 ]
d1067 1
a1067 1
$Translation: upgrade-minifaq.html,v 1.2 2002/05/14 00:36:58 toshi Exp $
d1069 1
a1069 1
$OpenBSD: upgrade-minifaq.html,v 1.96 2002/05/13 22:45:04 millert Exp $
a1076 1

@


1.1
log
@
sync with badlands translation CVS
@
text
@d15 1
a15 1
    <h2>OpenBSD 最新リリース - 3.0</h2>
d21 1
a21 1
	$OpenBSD: upgrade-minifaq.html,v 1.95 2002/03/08 05:40:29 kjell Exp $</p>
d77 6
d602 42
d1134 1
a1134 1
Originally [OpenBSD: upgrade-minifaq.html,v 1.95 ]
d1136 1
a1136 1
$Translation: upgrade-minifaq.html,v 1.1 2002/04/27 13:21:13 toshi Exp $
d1138 1
a1138 1
$OpenBSD: upgrade-minifaq.html,v 1.95 2002/03/08 05:40:29 kjell Exp $
d1141 2
a1142 2
	Please send any comments, questions, or suggestions to <a
          href="mailto:kjell@@openbsd.org">kjell@@openbsd.org</a></p>
@

