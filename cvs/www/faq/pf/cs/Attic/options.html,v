head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2014.04.01.17.14.10;	author nick;	state dead;
branches;
next	1.6;

1.6
date	2013.06.05.12.30.47;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.11.08.08.49.02;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.01.13.13.42.30;	author tobias;	state dead;
branches;
next	1.3;

1.3
date	2003.11.10.14.42.48;	author horacio;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.10.13.22.18;	author horacio;	state Exp;
branches;
next	1.1;

1.1
date	2003.11.03.14.24.05;	author horacio;	state Exp;
branches;
next	;


desc
@@


1.7
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: ProvoznÃ­ nastavenÃ­</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--
Copyright (c) 2003-2007 Joel Knight <enabled@@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../../cs/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif" border="0">
</a>
<p>
[<a href="../shortcuts.html">PÅ™edchozÃ­: Zkratky pro vytvÃ¡Å™enÃ­ pravidel</a>]
[<a href="index.html">Obsah</a>]
[<a href="../anchors.html">DalÅ¡Ã­: Kotvy</a>]

<p>
<h1><font color="#e00000">PF: ProvoznÃ­ nastavenÃ­</font></h1>

<hr>

<p>
NÃ¡sledujÃ­cÃ­ nastavenÃ­ kontrolujÃ­ provoz PF. Volby se specifikujÃ­ v
<tt>pf.conf</tt> pomocÃ­ <tt>set</tt> direktivy.

<a name="block-policy"></a>
<p>
<dl>
<dt><tt>set block-policy <i>option</i></tt><br>
<dd>Nastavuje defaultnÃ­ chovÃ¡nÃ­ pro <a href="filter.html">filtrovacÃ­</a> 
pravidla, kterÃ¡ majÃ­ nastavenu <tt>block</tt> akci.
<ul>
<li><tt>drop</tt> - paket je tiÅ¡e zahozen.
<li><tt>return</tt> - TCP RST paket je vrÃ¡cen pro blokovanÃ© TCP
pakety a ICMP Unreachable paket je vrÃ¡cen pro vÅ¡echny ostatnÃ­.
</ul>
<dd>NezapomeÅˆte, Å¾e individuÃ¡lnÃ­ filtrovacÃ­ pravidla mohou tuto defaultnÃ­
odpovÄ›Ä pÅ™epsat.
DefaultnÃ­ nastavenÃ­ je <tt>drop</tt>.
</dl>

<a name="debug"></a>
<p>
<dl>
<dt><tt>set debug <i>option</i></tt><br>
<dd>Nastavuje ÃºroveÅˆ detailÅ¯ pro debug.
<ul>
<li><tt>none</tt> - nejsou zobrazeny Å¾Ã¡dnÃ© debug zprÃ¡vy.
<li><tt>urgent</tt> - debug zprÃ¡vy pro vÃ¡Å¾nÃ© chyby.
<li><tt>misc</tt> - debug zprÃ¡vy pro rÅ¯znÃ© chyby (napÅ™.,
pro zobrazenÃ­ stavÅ¯ paket normalizeru/scrubberu a pro selhÃ¡nÃ­ vytvoÅ™enÃ­ stavu).
<li><tt>loud</tt> - debug zprÃ¡vy jsou vytvÃ¡Å™eny pro bÄ›Å¾nÃ© podmÃ­nky
(napÅ™., k zobrazenÃ­ statusu pasivnÃ­ detekce "otiskÅ¯ prstÅ¯" OS).
</ul>
<dd>DefaultnÃ­ nastavenÃ­ je <tt>urgent</tt>.
</dl>

<a name="fingerprints"></a>
<p>
<dl>
<dt><tt>set fingerprints <i>file</i></tt><br>
<dd>Nastavuje soubor z kterÃ©ho naÄÃ­st "otisky prstÅ¯" operaÄnÃ­ch systÃ©mÅ¯.
Pro pouÅ¾itÃ­ s <a href="filter.html#osfp">pasivnÃ­ detekcÃ­ "otiskÅ¯ prstÅ¯" OS</a>.
DefaultnÃ­ nastavenÃ­ je <tt>/etc/pf.os</tt>.

</dl>

<a name="limit"></a>
<p>
<dl>
<dt><tt>set limit <i>option value</i></tt><br>
<dd>Nastavuje rÅ¯znÃ© limity pro PF operace.
<ul>
<li><tt>frags</tt> - maximÃ¡lnÃ­ mnoÅ¾stvÃ­ zÃ¡znamÅ¯ v pamÄ›Å¥ovÃ©m poolu pouÅ¾itÃ©m pro 
znovusestavovÃ¡nÃ­ paketÅ¯ (scrub pravidla). DefaultnÃ­ nastavenÃ­ je 5000.
<li><tt>src-nodes</tt> - maximÃ¡lnÃ­ mnoÅ¾stvÃ­ zÃ¡znamÅ¯ v pamÄ›Å¥ovÃ©m poolu pouÅ¾itÃ©m
pro sledovÃ¡nÃ­ zdrojovÃ½ch adres (generovÃ¡no pomocÃ­
<tt>sticky-address</tt> a <tt>source-track</tt> voleb).
DefaultnÃ­ nastavenÃ­ je 10000.
<li><tt>states</tt> - maximÃ¡lnÃ­ mnoÅ¾stvÃ­ zÃ¡znamÅ¯ v pamÄ›Å¥ovÃ©m poolu pouÅ¾itÃ©m
pro tabulky stavÅ¯
(<a href="filter.html">filtrovacÃ­</a> pravidla, kterÃ¡ specifikujÃ­
 <tt>keep state</tt>). DefaultnÃ­ nastavenÃ­ je 10000.
<li><tt>tables</tt> - maximÃ¡lnÃ­ mnoÅ¾stvÃ­
<a href="tables.html">tabulek</a>, kterÃ© mÅ¯Å¾e bÃ½t vytvoÅ™eno.
DefaultnÃ­ nastavenÃ­ je 1000.
<li><tt>table-entries</tt> - celkovÃ½ limit urÄujÃ­cÃ­ kolik mÅ¯Å¾e bÃ½t maximÃ¡lnÄ›
uloÅ¾eno adres ve vÅ¡ech tabulkÃ¡ch.
DefaultnÃ­ nastavenÃ­ je 200000.
Pokud mÃ¡ systÃ©m mÃ©nÄ› neÅ¾ 100MB fyzickÃ© pamÄ›ti, tak je defaultnÃ­ nastavenÃ­
urÄeno na 100000.
</ul>
</dl>

<a name="loginterface"></a>
<p>
<dl>
<dt><tt>set loginterface <i>interface</i></tt><br>
<dd>Nastavuje rozhranÃ­ pro kterÃ© bude PF sbÃ­rat statistiky jako
pÅ™ijatÃ©/odeslanÃ© byty a propuÅ¡tÄ›nÃ©/blokovanÃ© pakety. Statistiky se mohou
sbÃ­rat pouze pro <i>jedno</i> rozhranÃ­ najednou. NezapomeÅˆte, Å¾e
<tt>match</tt>, <tt>bad-offset</tt>, atd. poÄÃ­tadla a poÄÃ­tadla
stavovÃ½ch tabulek jsou nahrÃ¡vÃ¡na bez ohledu na to, jestli je 
<tt>loginterface</tt> nastaveno nebo ne.
Pro vypnutÃ­ tÃ©to volby ji nastavte na <tt>none</tt>.
DefaultnÃ­ nastavenÃ­ je <tt>none</tt>.
</dl>

<a name="optimization"></a>
<p>
<dl>
<dt><tt>set optimization <i>option</i></tt><br>
<dd>Optimalizuje PF pro jedno z nÃ¡sledujÃ­cÃ­ch sÃ­Å¥ovÃ½ch prostÅ™edÃ­:
<ul>
<li><tt>normal</tt> - vyhovujÃ­cÃ­ pro skoro vÅ¡echny sÃ­tÄ›.
<li><tt>high-latency</tt> -sÃ­tÄ› s vysokou latencÃ­ jako napÅ™Ã­klad satelitnÃ­ 
spojenÃ­.
<li><tt>aggressive</tt> - agresivnÄ›jÅ¡Ã­ zaruÄenÃ­, Å¾e spojenÃ­ ze stavovÃ© tabulky
vyprÅ¡Ã­ dÅ™Ã­ve. Toto mÅ¯Å¾e vÃ½znamnÄ› snÃ­Å¾it pamÄ›Å¥ovou nÃ¡roÄnost na vytÃ­Å¾enÃ©m
firewallu s rizikem, Å¾e neÄinnÃ¡ spojenÃ­ budou ukonÄena mnohem dÅ™Ã­ve neÅ¾ obvykle.
<li><tt>conservative</tt> - extrÃ©mnÄ› konzervativnÃ­ nastavenÃ­. Toto zamezuje
zahazovÃ¡nÃ­ neÄinÃ½ch spojenÃ­ za cenu vÄ›tÅ¡i utilizace pamÄ›ti a lehce
zvÃ½Å¡enÃ© utilizace procesoru.
</ul>
<dd>DefaultnÃ­ nastavenÃ­ je <tt>normal</tt>.
</dl>

<a name="ruleset-optimization"></a>
<p>
<dl>
<dt><tt>set ruleset-optimization <i>option</i></tt>
<dd>Kontroluje funkci optimizÃ¡toru PF pravidel.
<ul>
<li><tt>none</tt> - vypne optimizÃ¡tor ÃºplnÄ›.
<li><tt>basic</tt> - zapÃ­nÃ¡ nÃ¡sledujÃ­cÃ­ optimalizace pravidel:
	<ol>
	<li>odstranÃ­ duplicitnÃ­ pravidla
	<li>odstranÃ­ pravidla, kterÃ¡ jsou podmnoÅ¾inou jinÃ©ho pravidla
	<li>kombinuje vÃ­ce pravidel do tabulky pokud je to vÃ½hodnÃ©
	<li>upravÃ­ poÅ™adÃ­ pravidel pro vylepÅ¡enÃ­ vÃ½konu vyhodnocovÃ¡nÃ­
	</ol>
<li><tt>profile</tt> - pouÅ¾Ã­vÃ¡ aktuÃ¡lnÄ› nahranÃ¡ filtrovacÃ­ pravidla jako
zpÄ›tnou vazbu pro upravenÃ­ poÅ™adÃ­ quick pravidel pro aktuÃ¡lnÃ­ sÃ­Å¥ovÃ½ provoz.
</ul>
<dd>Od OpenBSD 4.2 je defaultnÃ­ nastavenÃ­ <tt>basic</tt>.
PodÃ­vejte se na
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5&amp;manpath=OpenBSD+5.3"
>pf.conf(5)</a> pro mnohem detailnÄ›jÅ¡Ã­ popis.
</dl>

<a name="skip"></a>
<p>
<dl>
<dt><tt>set skip on <i>interface</i></tt><br>
<dd>PÅ™eskoÄÃ­ <i>vÅ¡echno</i> PF zpracovÃ¡vÃ¡nÃ­ na <tt><i>interface</i></tt>.
Toto mÅ¯Å¾e bÃ½t uÅ¾iteÄnÃ© na lokÃ¡lnÃ­ rozhranÃ­ kde filtrovÃ¡nÃ­, normalizace, 
prioritizace provozu a dalÅ¡i nejsou potÅ™eba.
Tato volba mÅ¯Å¾e bÃ½t pouÅ¾ita nÄ›kolikrÃ¡t.
DefaultnÄ› tato volba nastavena nenÃ­.
</dl>

<a name="state-policy"></a>
<p>
<dl>
<dt><tt>set state-policy <i>option</i></tt><br>
<dd>Nastavuje chovÃ¡nÃ­ PF kdyÅ¾ dojde na udrÅ¾ovÃ¡nÃ­ stavÅ¯.
Toto chovÃ¡nÃ­ mÅ¯Å¾e bÃ½t pÅ™epsÃ¡no v jednotlivÃ½ch pravidlech.
PodÃ­vejte se na <a href="filter.html#state">Keeping State</a>.
<ul>
<li><tt>if-bound</tt> - stavy jsou svÃ¡zÃ¡ny s rozhranÃ­m na kterÃ©m jsou
vytvoÅ™eny. 
Pokud provoz odpovÃ­dÃ¡ zÃ¡znamu ve stavovÃ© tabulce, ale nepÅ™ichÃ¡zÃ­ pÅ™es
rozhranÃ­ uloÅ¾enÃ© v tomto stavovÃ©m zÃ¡znamu, tak shoda bude odmÃ­tnuta.
Paket se potÃ© musÃ­ shodovat s filtrovacÃ­m pravidlem nebo jinak bude
kompletnÄ› zahozen/odmÃ­tnut.
<li><tt>floating</tt> - stavy se mohou shodovat s pakety na jakÃ©mkoliv rozhranÃ­.
Dokud paket odpovÃ­dÃ¡ stavovÃ©mu zÃ¡znamu a prochÃ¡zÃ­ ve stejnÃ©m smÄ›ru jako byl
na rozhranÃ­, kdyÅ¾ byl stav vytvoÅ™en, tak nezÃ¡leÅ¾Ã­ pÅ™es kterÃ© rozhranÃ­ prochÃ¡zÃ­ 
a bude propuÅ¡tÄ›n.
</ul>
<dd>DefaultnÃ­ nastavenÃ­ je <tt>floating</tt>.
</dl>

<a name="timeout"></a>
<p>
<dl>
<dt><tt>set timeout <i>option value</i></tt><br>
<dd>Nastavuje rÅ¯znÃ© doby vyprÅ¡enÃ­ (v sekundÃ¡ch).
<ul>
<li><tt>interval</tt> - poÄet sekund mezi vyÄiÅ¡tÄ›nÃ­m vyprÅ¡enÃ½ch stavÅ¯ a
paket fragmentÅ¯.
DefaultnÃ­ nastavenÃ­ je <tt>10</tt>.
<li><tt>frag</tt> - poÄet sekund pÅ™edtÃ­m, neÅ¾ je nesestavenÃ½ fragment vyprÅ¡en.
DefaultnÃ­ nastavenÃ­ je <tt>30</tt>.
<li><tt>src.track</tt> - poÄet sekund jak dlouho drÅ¾et
<a href="filter.html#stateopts">source tracking</a> zÃ¡znam v pamÄ›ti
potÃ© co poslednÃ­ stav vyprÅ¡Ã­.
DefaultnÃ­ nastavenÃ­ je <tt>0</tt> (nula).
</ul>
</dl>

<p>
PÅ™Ã­klad:
<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
set timeout interval 10
set timeout frag 30
set limit { frags 5000, states 2500 }
set optimization high-latency
set block-policy return
set loginterface dc0
set fingerprints "/etc/pf.os.test"
set skip on lo0
set state-policy if-bound
</pre>
</td></tr>
</table>


<p>
[<a href="../shortcuts.html">PÅ™edchozÃ­: Zkratky pro vytvÃ¡Å™enÃ­ pravidel</a>]
[<a href="index.html">Obsah</a>]
[<a href="../anchors.html">DalÅ¡Ã­: Kotvy</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: options.html,v 1.29 ]<br>
$Translation: options.html,v 1.6 2013/06/05 09:28:16 bodie Exp $<br>
-->
$OpenBSD: options.html,v 1.6 2013/06/05 12:30:47 ajacoutot Exp $
</small>

</body>
</html> 
@


1.6
log
@Sync with Steelix CVS
@
text
@d262 1
a262 1
$OpenBSD$
@


1.5
log
@Sync with Steelix CVS
@
text
@d172 1
a172 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5&amp;manpath=OpenBSD+5.2"
d259 2
a260 2
Originally [OpenBSD: options.html,v 1.28 ]<br>
$Translation: options.html,v 1.5 2012/11/07 13:31:10 bodie Exp $<br>
@


1.4
log
@Noone feels responsible for these files (or are not supposed to feel
responsible) anymore.

They are still in Steelix repository, but as long as they are not linked
in and out of date, remove them.

Discussed with saad@@ and wvdputte@@.
@
text
@d4 1
a4 1
<title>PF: Mo¾nosti (options)</title>
d6 1
a6 1
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
a10 1
<meta name="copyright"     content="This document copyright 2002-2003 by OpenBSD.">
d13 17
d34 3
a36 1
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
d38 1
a38 1
[<a href="tables.html">Pøedchozí: Tabulky</a>]
d40 1
a40 1
[<a href="scrub.html">Dále: Scrub</a>]
d43 1
a43 1
<h1><font color="#e00000">PF: Mo¾nosti (options)</font></h1>
d48 2
a49 2
Mo¾nosti (options) se pou¾ívají k ovlivòování èinnosti PF. Specifikují se
v <tt>/etc/pf.conf</tt> pomocí direktivy <tt>set</tt>.
d54 25
a78 8
<dt><b><tt>set block-policy</tt></b><br>
<dd>Nastaví defaultní chování pravidel <a href="filter.html">filtru</a>,
které stanovují akci <tt>block</tt>.
<ul>
<li><tt>drop</tt> - paket je ti¹e zahozen
<li><tt>return</tt> - pro zablokované TCP pakety je vrácen TCP RST paket
a pro zablokované UDP pakety je vrácen ICMP UNREACHABLE. V¹echny ostatní
pakety jsou ti¹e zahozeny.
d80 11
a90 2
<dd>Poznámka: Jednotlivá pravidla filtru mohou specifikovat jinou ne¾
defaultní odpovìï.
d96 22
a117 8
<dt><b><tt>set limit</tt></b>
<dd><tt>frags</tt> - maximální poèet polo¾ek v pamì»ovém poolu
pou¾ívaném pro spojování fragmentovanıch paketù 
(pravidla <a href="scrub.html">scrub</a>). Default je 5000.
<dd><tt>states</tt> - maximální poèet polo¾ek v pamì»ovém poolu
pou¾ívaném pro stavové tabulky (pravidla
<a href="filter.html">filtru</a>,  které pou¾ívají <tt>keep state</tt>).
Default je 10000.
d123 6
a128 6
<dt><b><tt>set loginterface <i>int</i></tt></b><br>
<dd>Urèuje rozhraní, pro které má PF shroma¾ïovat statistiky jako byty
dovnitø/ven a pu¹tìné/zablokované pakety. Statistiky mohou bıt
v danou chvíli shroma¾ïovány pouze pro <i>jedno</i> rozhraní. V¹imnìte
si, ¾e poèitadla <tt>match</tt>, <tt>bad-offset</tt> apod. a poèitadla
tabulky stavù jsou zaznamenávána bez ohledu na to, zda je
d130 2
d137 21
a157 2
<dt><b><tt>set optimization</tt></b><br>
<dd>Optimalizuje PF pro jedno z následujících sí»ovıch prostøedí:
d159 10
a168 10
<li><tt>normal</tt> - vhodné pro témìø v¹echny sítì. Toto je vıchozí
nastavení.
<li><tt>high-latency</tt> - sítì s velkım zpo¾dìním jako jsou satelitní
spojení.
<li><tt>aggressive</tt> - agresivní vypr¹ení platnosti spojení v tabulce
stavù. Toto znaènì sni¾uje pamì»ovou nároènost na vytí¾enıch firewallech
za cenu rizika pøedèasného zahození neèinnıch spojení.
<li><tt>conservative</tt> - extrémnì konzervativní nastavení. Eliminuje
zahození neèinnıch spojení za cenu vy¹¹í pamì»ové nároènosti a tro¹ku
vy¹¹ího zatí¾ení procesoru.
d170 37
d212 13
a224 4
<dt><b><tt>set timeout</tt></b>
<dd><tt>interval</tt> - poèet sekund mezi zahození expirovanıch stavù a
fragmentù paketu.
<dd><tt>frag</tt> - poèet sekund po kterıch nesestavenı fragment expiruje.
d228 1
a228 1
Pøíklad:
d239 3
d248 1
a248 1
[<a href="tables.html">Pøedchozí: Tables</a>]
d250 1
a250 1
[<a href="scrub.html">Dále: Scrub</a>]
d254 1
a254 1
<a href="index.html"><img height="24" width="24" src="../../images/back.gif" border="0" alt="[back]"></a> 
d256 1
d258 5
a262 6
<br>
Originally [OpenBSD: options.html,v 1.4 ]
<br>
$Translation: options.html,v 1.3 2003/11/10 13:34:59 horacio Exp $
<br>
$OpenBSD: options.html,v 1.3 2003/11/10 14:42:48 horacio Exp $
@


1.3
log
@Sync with Steelix CVS
@
text
@d134 1
a134 1
$OpenBSD: options.html,v 1.4 2003/09/22 02:29:03 nick Exp $
@


1.2
log
@Sync with Steelix CVS
@
text
@d130 1
a130 1
Originally: [OpenBSD: options.html,v 1.4 ]
d132 1
a132 1
$Translation: options.html,v 1.2 2003/11/10 13:01:17 horacio Exp $
@


1.1
log
@Sync with Steelix CVS
@
text
@d130 1
a130 1
Originally: [OpenBSD: options.html,v 1.4]
d132 1
a132 1
$Translation: options.html,v 1.1 2003/11/02 21:53:47 certik Exp $
@

