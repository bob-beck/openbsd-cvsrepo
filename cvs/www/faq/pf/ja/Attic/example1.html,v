head	1.14;
access;
symbols;
locks; strict;
comment	@# @;


1.14
date	2005.08.13.08.24.51;	author saad;	state dead;
branches;
next	1.13;

1.13
date	2004.05.09.09.58.22;	author saad;	state Exp;
branches;
next	1.12;

1.12
date	2004.01.04.22.47.55;	author horacio;	state Exp;
branches;
next	1.11;

1.11
date	2003.12.03.21.55.18;	author horacio;	state Exp;
branches;
next	1.10;

1.10
date	2003.11.10.21.40.53;	author horacio;	state Exp;
branches;
next	1.9;

1.9
date	2003.11.03.16.54.43;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2003.09.26.13.21.46;	author horacio;	state Exp;
branches;
next	1.7;

1.7
date	2003.09.19.16.44.17;	author horacio;	state Exp;
branches;
next	1.6;

1.6
date	2003.07.26.13.16.49;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2003.07.11.20.33.06;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.04.22.18.27;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.28.07.16.55;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.21.10.04.16;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.05.13.33.00;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.14
log
@remove unmaintained [ja] translation files.  requested by translator.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Example #1: Firewall for Home or Small Office</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 2003-2004 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
<p>
[<a href="authpf.html">$BA0$KLa$k(B: authpf: $BG'>Z%2!<%H%&%'%$MQ(B
$B%f!<%6%7%'%k(B</a>]
[<a href="index.html">$BL\<!(B</a>]

<p>
<h1><font color="#e00000">PF: $BNc(B #1: $B<+Bp$d>.5,LO;vL3=jMQ%U%!%$%"%&%)!<%k(B</font></h1>
<hr>

<h3>$BL\<!(B</h3>
<ul>
<li><a href="#scenario">$B%7%J%j%*(B</a>
	<ul>
	<li><a href="#network">$B%M%C%H%o!<%/(B</a>
	<li><a href="#objective">$BL\I8(B</a>
	<li><a href="#prep">$B=`Hw(B</a>
	</ul>
<li><a href="#ruleset">$B%k!<%k%;%C%H(B</a>
	<ul>
	<li><a href="#macros">$B%^%/%m(B</a>
	<li><a href="#options">$B%*%W%7%g%s(B</a>
	<li><a href="#scrub">$B%9%/%i%V(B (scrub)</a>
	<li><a href="#nat">$B%M%C%H%o!<%/%"%I%l%9JQ49(B (NAT)</a>
	<li><a href="#rdr">$B%j%@@%$%l%/%7%g%s(B</a>
	<li><a href="#filter">$B%U%#%k%?%k!<%k(B</a>
	</ul>
<li><a href="#allrules">$B40A4$J%k!<%k%;%C%H(B</a>
</ul>

<hr>

<a name="scenario"></a>
<h2>$B%7%J%j%*(B</h2>
$B$3$NNc$G$O!"(BPF $B$O<+Bp$+;vL3=j$N>.5,LO%M%C%H%o!<%/MQ$N%U%!%$%"%&%)!<%k7s(B
NAT $B%2!<%H%&%'%$$H$7$F2TF/Cf$N(B OpenBSD $B%^%7%s>e$G<B9T$5$l$F$$$^$9!#(B
$BA4BN$H$7$F$NL\E*$O!"%$%s%?!<%M%C%H$X$N%"%/%;%9$*$h$S%$%s%?!<%M%C%H$+$i(B
$B%U%!%$%"%&%)!<%k$X$N8BDj$5$l$?%"%/%;%9$rDs6!$9$k$3$H$G$9!#$3$N%I%-%e%a%s%H$G$O!"(B
$B$3$l$r2DG=$K$9$k40A4$J%k!<%k%;%C%H$K$D$$$F8!F$$r2C$($^$9!#(B

<a name="network"></a>
<h3>$B%M%C%H%o!<%/(B</h3>
$B%M%C%H%o!<%/$O0J2<$N$h$&$J9=@@.$H$J$C$F$$$^$9!#(B

<pre>
    
  [ COMP1 ]    [ COMP3 ]
      |            |                               ADSL
   ---+------+-----+------- fxp0 [ OpenBSD ] ep0 -------- ( $B%$%s%?!<%M%C%H(B )
             |
         [ COMP2 ]

</pre>

<p>
$BFbIt%M%C%H%o!<%/$K$OB??t$N%3%s%T%e!<%?$,@@\B3$5$l$F$$$^$9!#>e?^$G$O(B
3 $BBf$K$J$C$F$$$^$9$,!"$3$l$O<B:]$NBf?t$H$OL54X78$G$9!#$3$l$i$N%3%s%T%e!<%?$O!"(B
web $B%5!<%U%#%s!"EE;R%a!<%k!"%A%c%C%H$J$I$NMQES$G;HMQ$5$l$k%o!<%/%9%F!<%7%g%s$G$9!#(B
$BFbIt%M%C%H%o!<%/$O(B 192.168.0.0 $B$r;HMQ$7$F$*$j!"%M%C%H%o!<%/%V%m%C%/$O(B 255.255.255.0 $B$H$J$C$F$$$^$9!#(B

<p>
$B$3$N(B OpenBSD $B%k!<%?$O(B 2 $BKg$N%M%C%H%o!<%/%+!<%I(B 3Com 3c509B (<tt>ep0</tt>)
$B$J$i$S$K(B Intel EtherExpress Pro/100 (<tt>fxp0</tt>) $B$r;}$D(B Pentium 100
$B$N%^%7%s$G$9!#$3$N(B
$B%k!<%?$O%$%s%?!<%M%C%H$X$N(B ADSL $B@@\B3$r;}$C$F$*$j!"$3$N@@\B3$rFbIt%M%C%H%o!<%/$G(B
$B6&M-$9$k$?$a$K(B NAT $B$r;HMQ$7$F$$$^$9!#30It%$%s%?!<%U%'%$%9$N(B IP $B%"%I%l%9$O!"(B
$B%$%s%?!<%M%C%H%5!<%S%9%W%m%P%$%@@(B (ISP) $B$+$iF0E*$K3d$jEv$F$i$l$F$$$^$9!#(B

<a name="objective"></a>
<h3>$BL\I8(B</h3>
$BL\I8$O0J2<$N$H$*$j$G$9!#(B
<ul>
<li>$B$=$l$>$l$NFbIt%3%s%T%e!<%?$+$i$N@@)8B$5$l$J$$%$%s%?!<%M%C%H%"%/%;%9$NDs6!!#(B
<li>$B!V%G%U%)%k%H$G5qH]!W$N%U%#%k%?%k!<%k%;%C%H$N;HMQ!#(B
<li>$B%$%s%?!<%M%C%H$+$i%U%!%$%"%&%)!<%k$X$N!"0J2<$NCe?.%H%i%U%#%C%/$N(B
$B5v2D!#(B
	<ul>
	<li>SSH (TCP $B%]!<%H(B 22): $B$3$l$O%U%!%$%"%&%)!<%k%^%7%s$N30It$+$i$N(B
	$B%a%s%F%J%s%9$N$?$a$K;HMQ$5$l$^$9!#(B
	<li>Auth/Ident (TCP $B%]!<%H(B 113): SMTP $B$d(B IRC $B$N$h$&$J!"$"$k<o$N(B
	$B%5!<%S%9$N$?$a$K;HMQ$5$l$^$9!#(B
	<li>ICMP Echo Requests:
	<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping&amp;sektion=8&amp;manpath=OpenBSD+3.4"
	>ping(8)</a> $B$G;HMQ$5$l$k(B ICMP $B%Q%1%C%H%?%$%W$G$9!#(B
	</ul>
<li>$B30It%$%s%?!<%U%'%$%9$N%U%#%k%?$NE}7W>pJs$N%m%0$r<hF@@$7$^$9!#(B
<li>$B%G%U%)%k%H$G!"%V%m%C%/$7$?%Q%1%C%H$KBP$7$F(B TCP RST $B$d(B ICMP Unreachable
$B1~Ez$rJV$7$^$9!#(B
<li>$B2DG=$J8B$jC1=c$G%a%s%F%J%s%9$,4JC1$K$J$k$h$&$J%k!<%k%;%C%H$H$7$^$9!#(B
</ul>

<a name="prep"></a>
<h3>$B=`Hw(B</h3>
$B$3$N%I%-%e%a%s%H$G$O!"(BOpenBSD $B$N%[%9%H$O!"(B<tt>net.inet.ip.forwarding</tt> $B$,(B "<tt>1</tt>"
$B$K@@_Dj$5$l$F$$$F!"$^$?!"(BIP $B%M%C%H%o!<%/$N@@_Dj$d%$%s%?!<%M%C%H$X$N@@\B3@@-$N8!::$r4^$a$F(B
$B%k!<%?$H$7$FF0:n$G$-$k$h$&!"E,@@Z$K@@_Dj$5$l$F$$$k$b$N$H2>Dj$7$F$$$^$9!#(B

<a name="ruleset"></a>
<h2>$B%k!<%k%;%C%H(B</h2>
$B0J2<$O!">e5-$NL\E*$rC#@@.$9$k$3$H$N$G$-$k%k!<%k%;%C%H$N(B
$B3FItJ,$N2r@@b$G$9!#(B

<a name="macros"></a>
<h3>$B%^%/%m(B</h3>
$B0J2<$N%^%/%m$O!"%a%s%F%J%s%9$H%k!<%k%;%C%H$N2rFI$,$h$j4JC1$K$J$k$h$&!"(B
$BDj5A$5$l$F$$$k$b$N$G$9!#(B
<blockquote>
<tt>
int_if = "fxp0"<br>
ext_if = "ep0"<br>
<br>
tcp_services = "{ 22, 113 }"<br>
icmp_types = "echoreq"<br>
<br>
priv_nets = "{ 127.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12, 10.0.0.0/8 }"
</tt>
</blockquote>

<p>
$B:G=i$N(B 2 $B9T$O!"<B:]$K%U%#%k%?%j%s%0$,9T$o$l$k%M%C%H%o!<%/%$%s%?!<%U%'%$%9$r(B
$BDj5A$7$F$$$^$9!#(B3 $B9TL\$H(B 4 $B9TL\$H$O!"%$%s%?!<%M%C%H$KBP$7$F3+$+$l$?(B TCP
$B%]!<%HHV9f(B (SSH $B$H(B ident/auth) $B$*$h$S!"%U%!%$%"%&%)!<%k$KFO$/$3$H$,5v$5$l$k(B
ICMP $B$N%Q%1%C%H%?%$%W$rDj5A$7$F$$$^$9!#(B
$B:G8e$N9T$O%k!<%W%P%C%/$H(B
<a href="http://www.geektools.com/rfc/rfc1918.txt">RFC 1918</a>
$B$N%W%i%$%Y!<%H%"%I%l%9$N%V%m%C%/$rDj5A$7$F$$$^$9!#(B

<p>
<b>$BCm(B</b>: $B$b$7!"(BADSL $B$K$h$k%$%s%?!<%M%C%H@@\B3$,(B
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&amp;sektion=8&amp;manpath=OpenBSD+3.4"
>PPPoE</a> $B$rI,MW$H$9$k>l9g!"%U%#%k%?%j%s%0$d(B NAT $B$O(B <tt>ep0</tt> $B$KBP$7$F$G$O(B
<i>$B$J$/(B</i>$B!"(B<tt>tun0</tt> $B%$%s%?!<%U%'%$%9$KBP$7$FDj5A$9$kI,MW$,$"$j$^$9!#(B

<a name="options"></a>
<h3>$B%*%W%7%g%s(B</h3>
$B0J2<$N$U$?$D$N%*%W%7%g%s$O!"(B<tt>block</tt> $B%U%#%k%?%k!<%k$KBP$9$k(B
$B%G%U%)%k%H$NH?1~$r@@_Dj$7!"$=$7$F!"30It%$%s%?!<%U%'%$%9$KBP$9$k(B
$BE}7W>pJs$N%m%0$r<hF@@$9$k$h$&$K@@_Dj$7$F$$$^$9!#(B
<blockquote>
<tt>
set block-policy return<br>
set loginterface $ext_if
</tt>
</blockquote>

<a name="scrub"></a>
<h3>$B%9%/%i%V(B (scrub)</h3>
$B$9$Y$F$NCe?.%H%i%U%#%C%/$KBP$9$k!"?d>)$5$l$k%Q%1%C%H:F9=@@.$r9T$o$J$$M}M3$O$J$/!"(B
$B0J2<$OC1=c$J0l9T$NDj5A$G$9!#(B
<blockquote>
<tt>
scrub in all
</tt>
</blockquote>

<a name="nat"></a>
<h3>$B%M%C%H%o!<%/%"%I%l%9JQ49(B (NAT)</h3>
$BFbIt%M%C%H%o!<%/A4BN$KBP$9$k(B NAT $B$r<B9T$9$k$?$a$K$O!"(B
$B0J2<$N$h$&$J(B <tt>nat</tt> $B%k!<%k$r;HMQ$7$^$9!#(B
<blockquote>
<tt>
nat on $ext_if from $int_if:network to any -&gt; ($ext_if)
</tt>
</blockquote>

<p>
$B30It%$%s%?!<%U%'%$%9$N(B IP $B%"%I%l%9$OF0E*$K3d$jEv$F$i$l$^$9$N$G!"(B
$B%"%I%l%9$,JQ2=$7$?>l9g$K(B PF $B$,$3$l$KCm0U$rJ'$&$3$H$,$G$-$k$h$&!"(B
$BJQ49$9$k%$%s%?!<%U%'%$%9$KBP$7$F3g8L$rIUM?$7$F$*$-$^$9!#(B

<a name="rdr"></a>
<h3>$B%j%@@%$%l%/%7%g%s(B</h3>
$B%m!<%+%k%M%C%H%o!<%/>e$N(B FTP $B%/%i%$%"%s%H$,%$%s%?!<%M%C%H>e$N(B FTP
$B%5!<%P$K@@\B3$G$-$k$h$&$K$9$k$?$a$KI,MW$H$5$l$k$?$@@$R$H$D$N%j%@@%$%l%/%7%g%s$O!"(B
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8&amp;manpath=OpenBSD+3.4"
>ftp-proxy(8)</a> $B$G$9!#(B
<blockquote>
<tt>
rdr on $int_if proto tcp from any to any port 21 -&gt; 127.0.0.1 port 8021
</tt>
</blockquote>

<p>
$B$3$N%k!<%k$O!"%]!<%H(B 21 $BHV$X$N(B FTP $B@@\B3$@@$1$rJa$($k$3$H$,$G$-$^$9!#$b$7!"(B
$B%f!<%6$,(B FTP $B%5!<%P$NB>$N%]!<%H$KBP$7$F!"$$$D$b@@\B3$7$F$$$k$N$G$7$?$i!"(B
$B$?$H$($P(B <tt>from any to any port { 21, 2121 }</tt> $B$N$h$&$K!"(B
$B%j%9%H$OAw?.@@h%]!<%H$r;XDj$9$k$?$a$K;HMQ$5$l$k$Y$-$G$9!#(B

<a name="filter"></a>
<h3>$B%U%#%k%?%k!<%k(B</h3>
$B$3$3$+$i$O%U%#%k%?%k!<%k$K$D$$$F$G$9!#$3$N%G%U%)%k%H$O5qH]$G;O$^$j$^$9!#(B
<blockquote>
<tt>
block all<br>
</tt>
</blockquote>

<p>
$B$3$N;~E@@$G$O!"FbIt%M%C%H%o!<%/$+$i$N$b$N$b4^$a$F!"%U%!%$%"%&%)!<%k$r(B
$BDL2a$9$k%Q%1%C%H$O2?$b$"$j$^$;$s!#0J2<$N%k!<%k$K$h$C$F!">e5-$NL\E*$4$H$K(B
$B%U%!%$%"%&%)!<%k$r3+$$$F$$$-!"F1MM$K!"$9$Y$F$NI,MW$J2>A[%$%s%?!<%U%'%$%9(B
$B$b3+$$$F$$$-$^$9!#(B

<p>
$B$I$N(B Unix $B%7%9%F%`$b!"!V%k!<%W%P%C%/!W%$%s%?!<%U%'%$%9$r;}$A$^$9!#$3$l$O!"%7%9%F%`Fb$N(B
$B%"%W%j%1!<%7%g%s$,8_$$$KB>$HDL?.$9$k$N$K;HMQ$5$l$k2>A[E*$J%M%C%H%o!<%/%$%s%?!<%U%'%$%9$G$9!#(B
$B0lHLE*$K!"$9$Y$F$N%H%i%U%#%C%/$O!"$3$N%k!<%W%P%C%/%$%s%?!<%U%'%$%9$K$o$?$5$l$k$Y$-$G$9!#(B
OpenBSD $B$G$O!"%k!<%W%P%C%/%$%s%?!<%U%'%$%9$O(B
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lo&amp;sektion=4&amp;manpath=OpenBSD+3.4"
>lo(4)</a> $B$G$9!#(B
<blockquote>
<tt>
pass quick on lo0 all
</tt>
</blockquote>

<p>
$B<!$K!"(B
<a href="http://www.geektools.com/rfc/rfc1918.txt">RFC 1918</a>
$B$N%W%i%$%Y!<%H%"%I%l%9$O!"8x$N%$%s%?!<%M%C%H$K=P8=$7$F$O$$$1$J$$$N$G!"(B
$B30It%$%s%?!<%U%'%$%9$KF~$C$FMh$?$j!"=P$F9T$C$?$j$9$k$N$r%V%m%C%/$7$^$9!#(B
$B$3$l$i$r%U%#%k%?%j%s%0$9$k$3$H$O!"%k!<%?$,$3$l$i$N%"%I%l%9$,FbIt%M%C%H%o!<%/$+$i(B
$B!VO3$l$F!W=P$F9T$+$J$$$3$H$H!"F1$8$/$3$l$i$N%M%C%H%o!<%/$N$R$H$D$r(B
$BAw?.85%"%I%l%9$H$9$kCe?.%Q%1%C%H$r%V%m%C%/$9$k$3$H$r3N<B$K$7$^$9!#(B
<blockquote>
<tt>
block drop in &nbsp;quick on $ext_if from $priv_nets to any<br>
block drop out quick on $ext_if from any to $priv_nets
</tt>
</blockquote>

<p>
<tt>block drop</tt> $B$O!"(BTCP RST $B$d(B ICMP Unreachable $B%Q%1%C%H$K1~Ez$9$kI,MW$,$J$$$3$H$r(B PF
$B$K;X<($9$k$?$a$K;HMQ$5$l$k$H$$$&$3$H$KCm0U$7$F$/$@@$5$$!#(BRFC 1918 $B$N%W%i%$%Y!<%H%"%I%l%9$O(B
$B%$%s%?!<%M%C%H$KB8:_$7$J$$$N$G!"$3$l$i$N%"%I%l%9$KAw?.@@h$5$l$k%Q%1%C%H$O$9$Y$F!"2?$,$"$m$&$H(B
$B2?$b$7$F$O$$$1$^$;$s!#$^$?!"(B<tt>quick</tt> $B%*%W%7%g%s$O!"$=$3$+$i>e$N%k!<%k$K%Q%1%C%H$,(B
$B%^%C%A$7$?>l9g$K!"(BPF $B$K;D$j$N%U%#%k%?%k!<%k$rI>2A$9$k<j4V$r$+$1$kI,MW$,$J$$$3$H$r;X<($9$k$?$a$K(B
$B;HMQ$5$l$^$9!#(B<tt>$priv_nets</tt> $B%M%C%H%o!<%/$X$N!"$"$k$$$O!"$=$3$+$i$N%Q%1%C%H$O!"(B
$BD>$A$KGQ4~$5$l$^$9!#(B

<p>
$B$3$3$G!"%$%s%?!<%M%C%H$KBP$7$F8x3+$7$F$$$k%M%C%H%o!<%/%5!<%S%9$,;HMQ$9$k(B
$B%]!<%H$r3+$-$^$9!#(B
<blockquote>
<tt>
pass in on $ext_if inet proto tcp from any to ($ext_if) \<br>
&nbsp;&nbsp;&nbsp;port $tcp_services flags S/SA keep state
</tt>
</blockquote>

<p>
<tt>$tcp_services</tt> $B%^%/%m$NCf$K%M%C%H%o!<%/%]!<%H$r;XDj$9$k$3$H$K$h$j!"(B
$BC1$K%^%/%m$rJT=8$7!"%k!<%k%;%C%H$r:F%m!<%I$9$k$3$H$G!"%$%s%?!<%M%C%H$KBP$7$F(B
$BIU2CE*$J%5!<%S%9$r3+$/$3$H$,4JC1$K$G$-$k$h$&$K$J$j$^$9!#F1MM$K!"(BUDP $B$N%5!<%S%9$b(B
<tt>$udp_services</tt> $B%^%/%m$r@@8@@.$7!">e5-$N$h$&$K!"(B<tt>proto udp</tt>
$B$r;XDj$7$?%U%#%k%?%k!<%k$rDI2C$7$F$*$/$3$H$G!"3+$/$3$H$,$G$-$k$h$&$K$J$j$^$9!#(B

<p>
$B$3$N;~E@@$G!"(BICMP $B$N%H%i%U%#%C%/$O0J2<$N$h$&$KDL2a$5$;$F$*$/$Y$-$G$7$g$&!#(B
<blockquote>
<tt>
pass in inet proto icmp all icmp-type $icmp_types keep state
</tt>
</blockquote>

<p>
<tt>$tcp_services</tt> $B%^%/%m$HF1$8$h$&$K!"(B<tt>$icmp_types</tt> $B%^%/%m$b!"(B
$B%U%!%$%"%&%)!<%k$KE~C#$9$k$3$H$,$G$-$k(B ICMP $B%Q%1%C%H$N%?%$%W$NJQ99$9$k$?$a!"(B
$B4JC1$KJT=8$9$k$3$H$,$G$-$^$9!#$3$N%k!<%k$O$9$Y$F$N%M%C%H%o!<%/%$%s%?!<%U%'%$%9$K(B
$BE,MQ$5$l$k$H$$$&$3$H$KCm0U$7$F$/$@@$5$$!#(B

<p>
$B$3$N;~E@@$G!"FbIt%M%C%H%o!<%/$+$i$N%H%i%U%#%C%/$ODL2a$G$-$k$h$&$K$9$Y$-$G$9!#$3$3$G!"(B
$B;d$?$A$O!"FbIt%M%C%H%o!<%/$N%f!<%6$O!"<+J,$?$A$,2?$r$7$h$&$H$7$F$$$k$N$+$rCN$C$F$$$F!"(B
$B%H%i%V%k$r0z$-5/$3$9$D$b$j$J$I$O$J$$$b$N$H2>Dj$7$^$7$g$&!#(B
$B$3$l$OI,$:$7$b@@5Ev$J2>Dj$G$O$J$/!"$$$/$D$+$N4D6-$G$O!"$h$j8BDjE*$J%k!<%k%;%C%H$,(B
$BE,@@Z$G$"$k$+$bCN$l$^$;$s!#(B
<blockquote>
<tt>
pass in on $int_if from $int_if:network to any keep state
</tt>
</blockquote>

<p>
$B>e5-$N%k!<%k$O!"$9$Y$F$NFbIt$N%^%7%s$K!"%U%!%$%"%&%)!<%k$rDL2a$9$k%Q%1%C%H$NAw?.$r(B
$B5v2D$7$F$$$^$9$,!"%U%!%$%"%&%)!<%k$+$iFbIt$N%^%7%s$KBP$7$F@@\B3$7$h$&$H$9$k$3$H$O(B
$B5v2D$7$F(B<i>$B$$$^$;$s(B</i>$B!#$7$+$7!"K\Ev$K$3$l$GNI$$$N$G$7$g$&$+(B ? &nbsp;$B$b$A$m$s!"$=$NEz$O(B
$B%M%C%H%o!<%/9=@@.$N$h$j>\:Y$JItJ,$K0MB8$9$k$3$H$G$9!#$?$H$($P!"%U%!%$%"%&%)!<%k$,(B DHCP
$B%5!<%P$r7s$M$F$$$k>l9g$K$O!"(BIP $B$N3d$jEv$FA0$K%/%i%$%"%s%H$,@@8$-$F$$$k$+$I$&$+$r3NG'$9$k$N$K(B
"ping" $B$r9T$&I,MW$,$"$k$+$bCN$l$^$;$s!#%U%!%$%"%&%)!<%k$,FbIt%M%C%H%o!<%/$K@@\B3$9$k$N$r(B
$B5v2D$9$k$3$H$O$^$?!"%$%s%?!<%M%C%H$+$i%U%!%$%"%&%)!<%k$K(B SSH $B$G@@\B3$7$F$-$?C/$+$K(B
$BFbIt%M%C%H%o!<%/$X$N%"%/%;%9$r5v2D$9$k$3$H$G$b$"$j$^$9!#(B
$B%U%!%$%"%&%)!<%k$,D>@@\FbIt%M%C%H%o!<%/$KDL?.$r9T$&$3$H$r5v2D(B<i>$B$7$J$$(B</i>$B$3$H$,(B
$B%;%-%e%j%F%#>e$NBg$-$JMxE@@$K$J$k$o$1$G$O$J$$$H$$$&$3$H$KN10U$7$F$*$$$F$/$@@$5$$!#(B
$B$b$7!"C/$+$,%U%!%$%"%&%)!<%k$X$N%"%/%;%9$r<j$KF~$l$?$H$9$k$H!"$I$N$_$A%U%#%k%?%k!<%k$b(B
$B$?$$$F$$$OJQ99$5$l$F$7$^$&$+$bCN$l$J$$$+$i$G$9!#0J2<$N%U%#%k%?%k!<%k$rDI2C$9$k$3$H$K$h$C$F!"(B
$B%U%!%$%"%&%)!<%k$+$iFbIt%M%C%H%o!<%/$K@@\B3$7$h$&$H$9$k$3$H$,$G$-$k$h$&$K$J$j$^$9!#(B
<blockquote>
<tt>
pass out on $int_if from any to $int_if:network keep state
</tt>
</blockquote>

<p>
$B$b$7!"$3$l$i$NN>J}$N9T$,5-=R$5$l$F$$$k>l9g$K$O!"(B<tt>keep state</tt> $B%*%W%7%g%s$O(B
$BITMW$G$"$k$3$H$KCm0U$7$F$/$@@$5$$!#$D$^$j!"APJ}8~$K%Q%1%C%H$rDL2a$5$;$k$?$a$N(B
$B%k!<%k$,5-=R$5$l$F$$$k$N$G$9$+$i!"$9$Y$F$N%Q%1%C%H$OFbIt%$%s%?!<%U%'%$%9$r(B
$BDL2a$9$k$3$H$,$G$-$k$o$1$G$9!#$7$+$7!"(B<tt>pass out</tt> $B$N9T$,4^$^$l$F(B<i>$B$$$J$$(B</i>$B>l9g$K$O!"(B
<tt>pass in</tt> $B$N9T$K$O(B <tt>keep state</tt> $B%*%W%7%g%s$,4^$^$l$F$$$k(B<i>$BI,MW$,$"$j$^$9(B</i>$B!#(B
$B$^$?!"$3$N>uBV$NJ];}(B (keep state) $B$K$O!"$$$/$D$+$N@@-G=>e$NMxE@@$b$"$j$^$9!#(B
$B$?$H$($P!">uBV%F!<%V%k$O%k!<%k$NI>2AA0$K%A%'%C%/$5$l!"(B
$B>uBV$N%^%C%A$,$"$C$?>l9g$K$O!"%Q%1%C%H$O%k!<%k%;%C%H$NI>2A$r<u$1$k$3$H$J$/(B
$B%U%!%$%"%&%)!<%k$rDL2a$7$^$9!#$3$l$K$h$C$F!"Ii2Y$N=E$$%U%!%$%"%&%)!<%k$KBP$7$F(B
$B@@-G=>e$NMxE@@$rDs6!$9$k$3$H$,$G$-$^$9$,!"$3$NC1=c$J$3$H$K$h$C$F!"(B
$B%7%9%F%`FbIt$GHs>o$KBg$-$JIi2Y$rH/@@8$7$F$7$^$&$h$&$J$3$H$O9M$($K$/$$$G$7$g$&!#(B

<p>
$B:G=*E*$K!"30It%$%s%?!<%U%'%$%9$+$i=P$F9T$/%H%i%U%#%C%/$rDL2a$5$;$^$9!#(B
<blockquote>
<tt>
pass out on $ext_if proto tcp all modulate state flags S/SA<br>
pass out on $ext_if proto { udp, icmp } all keep state
</tt>
</blockquote>

<p>
$B$3$l$G(B TCP$B!"(BUDP $B$*$h$S(B ICMP $B$N%H%i%U%#%C%/$O%U%!%$%"%&%)!<%k$+$i%$%s%?!<%M%C%H$K8~$+$C$F(B
$B=P$F9T$/$3$H$,$G$-$^$9!#$^$?!"1~Ez%Q%1%C%H$,%U%!%$%"%&%)!<%k$rDL2a$7$FFbIt%M%C%H%o!<%/$K(B
$BF~$l$k$h$&!">uBV>pJs$,J];}$5$l$^$9!#(B

<a name="allrules"></a>
<h2>$B40A4$J%k!<%k%;%C%H(B</h2>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
# macros
int_if = "fxp0"
ext_if = "ep0"

tcp_services = "{ 22, 113 }"
icmp_types = "echoreq"

priv_nets = "{ 127.0.0.0/8, 192.168.0.0/16, 172.16.0.0/12, 10.0.0.0/8 }"
	  
# options
set block-policy return
set loginterface $ext_if

# scrub
scrub in all

# nat/rdr
nat on $ext_if from $int_if:network to any -&gt; ($ext_if)
rdr on $int_if proto tcp from any to any port 21 -&gt; 127.0.0.1 \
   port 8021

# filter rules
block all

pass quick on lo0 all

block drop in  quick on $ext_if from $priv_nets to any
block drop out quick on $ext_if from any to $priv_nets

pass in on $ext_if inet proto tcp from any to ($ext_if) \
   port $tcp_services flags S/SA keep state

pass in inet proto icmp all icmp-type $icmp_types keep state

pass in  on $int_if from $int_if:network to any keep state
pass out on $int_if from any to $int_if:network keep state

pass out on $ext_if proto tcp all modulate state flags S/SA
pass out on $ext_if proto { udp, icmp } all keep state
</pre>
</td></tr>
</table>

<p>
[<a href="authpf.html">$BA0$KLa$k(B: authpf: $BG'>Z%2!<%H%&%'%$MQ(B
$B%f!<%6%7%'%k(B</a>]
[<a href="index.html">$BL\<!(B</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: example1.html,v 1.12 ]
<br>
$Translation: example1.html,v 1.13 2004/01/03 05:12:49 toshi Exp $
<br>
$OpenBSD: example1.html,v 1.13 2004/05/09 09:58:22 saad Exp $
</small>

</body>
</html> 
@


1.13
log
@sync with Steelix CVS
@
text
@d411 1
a411 1
$OpenBSD: example1.html,v 1.12 2004/01/01 04:16:17 nick Exp $
@


1.12
log
@Sync with Steelix CVS
@
text
@@


1.11
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name="copyright"     content="This document copyright 2003 by OpenBSD.">
d407 1
a407 1
Originally [OpenBSD: example1.html,v 1.11 ]
d409 1
a409 1
$Translation: example1.html,v 1.12 2003/12/03 04:48:37 toshi Exp $
d411 1
a411 1
$OpenBSD: example1.html,v 1.11 2003/11/27 15:08:25 nick Exp $
@


1.10
log
@Sync with Steelix CVS
@
text
@d79 3
a81 2
$B$3$N(B OpenBSD $B%k!<%?$O(B 2 $BKg$N%M%C%H%o!<%/%+!<%I(B 3Com 3c509B (ep0) $B$J$i$S$K(B
Intel EtherExpress Pro/100 (fxp0) $B$r;}$D(B Pentium 100 $B$N%^%7%s$G$9!#$3$N(B
d407 1
a407 1
Originally [OpenBSD: example1.html,v 1.10 ]
d409 1
a409 1
$Translation: example1.html,v 1.11 2003/11/10 14:53:17 toshi Exp $
d411 1
a411 1
$OpenBSD: example1.html,v 1.10 2003/11/09 23:29:02 nick Exp $
@


1.9
log
@sync with steelix translation CVS
@
text
@d99 1
a99 1
	<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ping&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d146 1
a146 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pppoe&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d191 1
a191 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp-proxy&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d225 1
a225 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lo&amp;sektion=4&amp;manpath=OpenBSD+3.3"
d406 1
a406 1
Originally [OpenBSD: example1.html,v 1.9 ]
d408 1
a408 1
$Translation: example1.html,v 1.10 2003/09/24 04:31:39 toshi Exp $
d410 1
a410 1
$OpenBSD: example1.html,v 1.9 2003/09/22 02:29:03 nick Exp $
@


1.8
log
@sync with steelix cvs
@
text
@@


1.7
log
@sync with steelix cvs
@
text
@d15 2
d406 1
a406 1
Originally [OpenBSD: example1.html,v 1.8 ]
d408 1
a408 1
$Translation: example1.html,v 1.9 2003/09/18 14:09:44 toshi Exp $
d410 1
a410 1
$OpenBSD: example1.html,v 1.8 2003/09/16 01:23:49 nick Exp $
@


1.6
log
@sync with steelix translation CVS
@
text
@d187 2
a188 1
$B%j%@@%$%l%/%7%g%s$O(B
d190 1
a190 2
>ftp-proxy(8)</a> $B$N$?$a$@@$1$KI,MW$H$5$l$F$$$F!"%m!<%+%k%M%C%H%o!<%/>e$N(B FTP
$B%/%i%$%"%s%H$,%$%s%?!<%M%C%H>e$N(B FTP $B%5!<%P$K@@\B3$G$-$k$h$&$K$9$k$?$a$N$b$N$G$9!#(B
d238 1
a238 1
$BAw?.85%"%I%l%9$H$9$kCe?.%Q%1%C%H$rAK;_$9$k$3$H$r3N<B$K$7$^$9!#(B
d404 1
a404 1
Originally [OpenBSD: example1.html,v 1.7 ]
d406 1
a406 1
$Translation: example1.html,v 1.8 2003/07/25 04:25:43 toshi Exp $
d408 1
a408 1
$OpenBSD: example1.html,v 1.7 2003/06/29 20:28:24 nick Exp $
@


1.5
log
@sync with steelix translation CVS
@
text
@d18 3
a20 3
[<a href="authpf.html">Á°¤ËÌá¤ë: authpf: Ç§¾Ú¥²¡¼¥È¥¦¥§¥¤ÍÑ
¥æ¡¼¥¶¥·¥§¥ë</a>]
[<a href="index.html">ÌÜ¼¡</a>]
d23 1
a23 1
<h1><font color="#e00000">PF: Îã #1: ¼«Âð¤ä¾®µ¬ÌÏ»öÌ³½êÍÑ¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë</font></h1>
d26 1
a26 1
<h3>ÌÜ¼¡</h3>
d28 1
a28 1
<li><a href="#scenario">¥·¥Ê¥ê¥ª</a>
d30 3
a32 3
	<li><a href="#network">¥Í¥Ã¥È¥ï¡¼¥¯</a>
	<li><a href="#objective">ÌÜÉ¸</a>
	<li><a href="#prep">½àÈ÷</a>
d34 1
a34 1
<li><a href="#ruleset">¥ë¡¼¥ë¥»¥Ã¥È</a>
d36 6
a41 6
	<li><a href="#macros">¥Þ¥¯¥í</a>
	<li><a href="#options">¥ª¥×¥·¥ç¥ó</a>
	<li><a href="#scrub">¥¹¥¯¥é¥Ö (scrub)</a>
	<li><a href="#nat">¥Í¥Ã¥È¥ï¡¼¥¯¥¢¥É¥ì¥¹ÊÑ´¹ (NAT)</a>
	<li><a href="#rdr">¥ê¥À¥¤¥ì¥¯¥·¥ç¥ó</a>
	<li><a href="#filter">¥Õ¥£¥ë¥¿¥ë¡¼¥ë</a>
d43 1
a43 1
<li><a href="#allrules">´°Á´¤Ê¥ë¡¼¥ë¥»¥Ã¥È</a>
d49 6
a54 6
<h2>¥·¥Ê¥ê¥ª</h2>
¤³¤ÎÎã¤Ç¤Ï¡¢PF ¤Ï¼«Âð¤«»öÌ³½ê¤Î¾®µ¬ÌÏ¥Í¥Ã¥È¥ï¡¼¥¯ÍÑ¤Î¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë·ó
NAT ¥²¡¼¥È¥¦¥§¥¤¤È¤·¤Æ²ÔÆ¯Ãæ¤Î OpenBSD ¥Þ¥·¥ó¾å¤Ç¼Â¹Ô¤µ¤ì¤Æ¤¤¤Þ¤¹¡£
Á´ÂÎ¤È¤·¤Æ¤ÎÌÜÅª¤Ï¡¢¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤Ø¤Î¥¢¥¯¥»¥¹¤ª¤è¤Ó¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤«¤é
¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤Ø¤Î¸ÂÄê¤µ¤ì¤¿¥¢¥¯¥»¥¹¤òÄó¶¡¤¹¤ë¤³¤È¤Ç¤¹¡£¤³¤Î¥É¥­¥å¥á¥ó¥È¤Ç¤Ï¡¢
¤³¤ì¤ò²ÄÇ½¤Ë¤¹¤ë´°Á´¤Ê¥ë¡¼¥ë¥»¥Ã¥È¤Ë¤Ä¤¤¤Æ¸¡Æ¤¤ò²Ã¤¨¤Þ¤¹¡£
d57 2
a58 2
<h3>¥Í¥Ã¥È¥ï¡¼¥¯</h3>
¥Í¥Ã¥È¥ï¡¼¥¯¤Ï°Ê²¼¤Î¤è¤¦¤Ê¹½À®¤È¤Ê¤Ã¤Æ¤¤¤Þ¤¹¡£
d64 1
a64 1
   ---+------+-----+------- fxp0 [ OpenBSD ] ep0 -------- ( ¥¤¥ó¥¿¡¼¥Í¥Ã¥È )
d71 4
a74 4
ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤Ë¤ÏÂ¿¿ô¤Î¥³¥ó¥Ô¥å¡¼¥¿¤¬ÀÜÂ³¤µ¤ì¤Æ¤¤¤Þ¤¹¡£¾å¿Þ¤Ç¤Ï
3 Âæ¤Ë¤Ê¤Ã¤Æ¤¤¤Þ¤¹¤¬¡¢¤³¤ì¤Ï¼ÂºÝ¤ÎÂæ¿ô¤È¤ÏÌµ´Ø·¸¤Ç¤¹¡£¤³¤ì¤é¤Î¥³¥ó¥Ô¥å¡¼¥¿¤Ï¡¢
web ¥µ¡¼¥Õ¥£¥ó¡¢ÅÅ»Ò¥á¡¼¥ë¡¢¥Á¥ã¥Ã¥È¤Ê¤É¤ÎÍÑÅÓ¤Ç»ÈÍÑ¤µ¤ì¤ë¥ï¡¼¥¯¥¹¥Æ¡¼¥·¥ç¥ó¤Ç¤¹¡£
ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤Ï 192.168.0.0 ¤ò»ÈÍÑ¤·¤Æ¤ª¤ê¡¢¥Í¥Ã¥È¥ï¡¼¥¯¥Ö¥í¥Ã¥¯¤Ï 255.255.255.0 ¤È¤Ê¤Ã¤Æ¤¤¤Þ¤¹¡£
d77 5
a81 5
¤³¤Î OpenBSD ¥ë¡¼¥¿¤Ï 2 Ëç¤Î¥Í¥Ã¥È¥ï¡¼¥¯¥«¡¼¥É 3Com 3c509B (ep0) ¤Ê¤é¤Ó¤Ë
Intel EtherExpress Pro/100 (fxp0) ¤ò»ý¤Ä Pentium 100 ¤Î¥Þ¥·¥ó¤Ç¤¹¡£¤³¤Î
¥ë¡¼¥¿¤Ï¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤Ø¤Î ADSL ÀÜÂ³¤ò»ý¤Ã¤Æ¤ª¤ê¡¢¤³¤ÎÀÜÂ³¤òÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤Ç
¶¦Í­¤¹¤ë¤¿¤á¤Ë NAT ¤ò»ÈÍÑ¤·¤Æ¤¤¤Þ¤¹¡£³°Éô¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤Î IP ¥¢¥É¥ì¥¹¤Ï¡¢
¥¤¥ó¥¿¡¼¥Í¥Ã¥È¥µ¡¼¥Ó¥¹¥×¥í¥Ð¥¤¥À (ISP) ¤«¤éÆ°Åª¤Ë³ä¤êÅö¤Æ¤é¤ì¤Æ¤¤¤Þ¤¹¡£
d84 2
a85 2
<h3>ÌÜÉ¸</h3>
ÌÜÉ¸¤Ï°Ê²¼¤Î¤È¤ª¤ê¤Ç¤¹¡£
d87 4
a90 4
<li>¤½¤ì¤¾¤ì¤ÎÆâÉô¥³¥ó¥Ô¥å¡¼¥¿¤«¤é¤ÎÀ©¸Â¤µ¤ì¤Ê¤¤¥¤¥ó¥¿¡¼¥Í¥Ã¥È¥¢¥¯¥»¥¹¤ÎÄó¶¡¡£
<li>¡Ö¥Ç¥Õ¥©¥ë¥È¤ÇµñÈÝ¡×¤Î¥Õ¥£¥ë¥¿¥ë¡¼¥ë¥»¥Ã¥È¤Î»ÈÍÑ¡£
<li>¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤«¤é¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤Ø¤Î¡¢°Ê²¼¤ÎÃå¿®¥È¥é¥Õ¥£¥Ã¥¯¤Î
µö²Ä¡£
d92 4
a95 4
	<li>SSH (TCP ¥Ý¡¼¥È 22): ¤³¤ì¤Ï¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¥Þ¥·¥ó¤Î³°Éô¤«¤é¤Î
	¥á¥ó¥Æ¥Ê¥ó¥¹¤Î¤¿¤á¤Ë»ÈÍÑ¤µ¤ì¤Þ¤¹¡£
	<li>Auth/Ident (TCP ¥Ý¡¼¥È 113): SMTP ¤ä IRC ¤Î¤è¤¦¤Ê¡¢¤¢¤ë¼ï¤Î
	¥µ¡¼¥Ó¥¹¤Î¤¿¤á¤Ë»ÈÍÑ¤µ¤ì¤Þ¤¹¡£
d98 1
a98 1
	>ping(8)</a> ¤Ç»ÈÍÑ¤µ¤ì¤ë ICMP ¥Ñ¥±¥Ã¥È¥¿¥¤¥×¤Ç¤¹¡£
d100 4
a103 4
<li>³°Éô¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤Î¥Õ¥£¥ë¥¿¤ÎÅý·×¾ðÊó¤Î¥í¥°¤ò¼èÆÀ¤·¤Þ¤¹¡£
<li>¥Ç¥Õ¥©¥ë¥È¤Ç¡¢¥Ö¥í¥Ã¥¯¤·¤¿¥Ñ¥±¥Ã¥È¤ËÂÐ¤·¤Æ TCP RST ¤ä ICMP Unreachable
±þÅú¤òÊÖ¤·¤Þ¤¹¡£
<li>²ÄÇ½¤Ê¸Â¤êÃ±½ã¤Ç¥á¥ó¥Æ¥Ê¥ó¥¹¤¬´ÊÃ±¤Ë¤Ê¤ë¤è¤¦¤Ê¥ë¡¼¥ë¥»¥Ã¥È¤È¤·¤Þ¤¹¡£
d107 4
a110 4
<h3>½àÈ÷</h3>
¤³¤Î¥É¥­¥å¥á¥ó¥È¤Ç¤Ï¡¢OpenBSD ¤Î¥Û¥¹¥È¤Ï¡¢<tt>net.inet.ip.forwarding</tt> ¤¬ "<tt>1</tt>"
¤ËÀßÄê¤µ¤ì¤Æ¤¤¤Æ¡¢¤Þ¤¿¡¢IP ¥Í¥Ã¥È¥ï¡¼¥¯¤ÎÀßÄê¤ä¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤Ø¤ÎÀÜÂ³À­¤Î¸¡ºº¤ò´Þ¤á¤Æ
¥ë¡¼¥¿¤È¤·¤ÆÆ°ºî¤Ç¤­¤ë¤è¤¦¡¢Å¬ÀÚ¤ËÀßÄê¤µ¤ì¤Æ¤¤¤ë¤â¤Î¤È²¾Äê¤·¤Æ¤¤¤Þ¤¹¡£
d113 3
a115 3
<h2>¥ë¡¼¥ë¥»¥Ã¥È</h2>
°Ê²¼¤Ï¡¢¾åµ­¤ÎÌÜÅª¤òÃ£À®¤¹¤ë¤³¤È¤Î¤Ç¤­¤ë¥ë¡¼¥ë¥»¥Ã¥È¤Î
³ÆÉôÊ¬¤Î²òÀâ¤Ç¤¹¡£
d118 3
a120 3
<h3>¥Þ¥¯¥í</h3>
°Ê²¼¤Î¥Þ¥¯¥í¤Ï¡¢¥á¥ó¥Æ¥Ê¥ó¥¹¤È¥ë¡¼¥ë¥»¥Ã¥È¤Î²òÆÉ¤¬¤è¤ê´ÊÃ±¤Ë¤Ê¤ë¤è¤¦¡¢
ÄêµÁ¤µ¤ì¤Æ¤¤¤ë¤â¤Î¤Ç¤¹¡£
d134 5
a138 5
ºÇ½é¤Î 2 ¹Ô¤Ï¡¢¼ÂºÝ¤Ë¥Õ¥£¥ë¥¿¥ê¥ó¥°¤¬¹Ô¤ï¤ì¤ë¥Í¥Ã¥È¥ï¡¼¥¯¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤ò
ÄêµÁ¤·¤Æ¤¤¤Þ¤¹¡£3 ¹ÔÌÜ¤È 4 ¹ÔÌÜ¤È¤Ï¡¢¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤ËÂÐ¤·¤Æ³«¤«¤ì¤¿ TCP
¥Ý¡¼¥ÈÈÖ¹æ (SSH ¤È ident/auth) ¤ª¤è¤Ó¡¢¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤ËÆÏ¤¯¤³¤È¤¬µö¤µ¤ì¤ë
ICMP ¤Î¥Ñ¥±¥Ã¥È¥¿¥¤¥×¤òÄêµÁ¤·¤Æ¤¤¤Þ¤¹¡£
ºÇ¸å¤Î¹Ô¤Ï¥ë¡¼¥×¥Ð¥Ã¥¯¤È
d140 1
a140 1
¤Î¥×¥é¥¤¥Ù¡¼¥È¥¢¥É¥ì¥¹¤Î¥Ö¥í¥Ã¥¯¤òÄêµÁ¤·¤Æ¤¤¤Þ¤¹¡£
d143 1
a143 1
<b>Ãí</b>: ¤â¤·¡¢ADSL ¤Ë¤è¤ë¥¤¥ó¥¿¡¼¥Í¥Ã¥ÈÀÜÂ³¤¬
d145 2
a146 2
>PPPoE</a> ¤òÉ¬Í×¤È¤¹¤ë¾ì¹ç¡¢¥Õ¥£¥ë¥¿¥ê¥ó¥°¤ä NAT ¤Ï <tt>ep0</tt> ¤ËÂÐ¤·¤Æ¤Ç¤Ï
<i>¤Ê¤¯</i>¡¢<tt>tun0</tt> ¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤ËÂÐ¤·¤ÆÄêµÁ¤¹¤ëÉ¬Í×¤¬¤¢¤ê¤Þ¤¹¡£
d149 4
a152 4
<h3>¥ª¥×¥·¥ç¥ó</h3>
°Ê²¼¤Î¤Õ¤¿¤Ä¤Î¥ª¥×¥·¥ç¥ó¤Ï¡¢<tt>block</tt> ¥Õ¥£¥ë¥¿¥ë¡¼¥ë¤ËÂÐ¤¹¤ë
¥Ç¥Õ¥©¥ë¥È¤ÎÈ¿±þ¤òÀßÄê¤·¡¢¤½¤·¤Æ¡¢³°Éô¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤ËÂÐ¤¹¤ë
Åý·×¾ðÊó¤Î¥í¥°¤ò¼èÆÀ¤¹¤ë¤è¤¦¤ËÀßÄê¤·¤Æ¤¤¤Þ¤¹¡£
d161 3
a163 3
<h3>¥¹¥¯¥é¥Ö (scrub)</h3>
¤¹¤Ù¤Æ¤ÎÃå¿®¥È¥é¥Õ¥£¥Ã¥¯¤ËÂÐ¤¹¤ë¡¢¿ä¾©¤µ¤ì¤ë¥Ñ¥±¥Ã¥ÈºÆ¹½À®¤ò¹Ô¤ï¤Ê¤¤ÍýÍ³¤Ï¤Ê¤¯¡¢
°Ê²¼¤ÏÃ±½ã¤Ê°ì¹Ô¤ÎÄêµÁ¤Ç¤¹¡£
d171 3
a173 3
<h3>¥Í¥Ã¥È¥ï¡¼¥¯¥¢¥É¥ì¥¹ÊÑ´¹ (NAT)</h3>
ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯Á´ÂÎ¤ËÂÐ¤¹¤ë NAT ¤ò¼Â¹Ô¤¹¤ë¤¿¤á¤Ë¤Ï¡¢
°Ê²¼¤Î¤è¤¦¤Ê <tt>nat</tt> ¥ë¡¼¥ë¤ò»ÈÍÑ¤·¤Þ¤¹¡£
d181 3
a183 3
³°Éô¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤Î IP ¥¢¥É¥ì¥¹¤ÏÆ°Åª¤Ë³ä¤êÅö¤Æ¤é¤ì¤Þ¤¹¤Î¤Ç¡¢
¥¢¥É¥ì¥¹¤¬ÊÑ²½¤·¤¿¾ì¹ç¤Ë PF ¤¬¤³¤ì¤ËÃí°Õ¤òÊ§¤¦¤³¤È¤¬¤Ç¤­¤ë¤è¤¦¡¢
ÊÑ´¹¤¹¤ë¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤ËÂÐ¤·¤Æ³ç¸Ì¤òÉÕÍ¿¤·¤Æ¤ª¤­¤Þ¤¹¡£
d186 2
a187 2
<h3>¥ê¥À¥¤¥ì¥¯¥·¥ç¥ó</h3>
¥ê¥À¥¤¥ì¥¯¥·¥ç¥ó¤Ï
d189 2
a190 2
>ftp-proxy(8)</a> ¤Î¤¿¤á¤À¤±¤ËÉ¬Í×¤È¤µ¤ì¤Æ¤¤¤Æ¡¢¥í¡¼¥«¥ë¥Í¥Ã¥È¥ï¡¼¥¯¾å¤Î FTP
¥¯¥é¥¤¥¢¥ó¥È¤¬¥¤¥ó¥¿¡¼¥Í¥Ã¥È¾å¤Î FTP ¥µ¡¼¥Ð¤ËÀÜÂ³¤Ç¤­¤ë¤è¤¦¤Ë¤¹¤ë¤¿¤á¤Î¤â¤Î¤Ç¤¹¡£
d198 4
a201 4
¤³¤Î¥ë¡¼¥ë¤Ï¡¢¥Ý¡¼¥È 21 ÈÖ¤Ø¤Î FTP ÀÜÂ³¤À¤±¤òÊá¤¨¤ë¤³¤È¤¬¤Ç¤­¤Þ¤¹¡£¤â¤·¡¢
¥æ¡¼¥¶¤¬ FTP ¥µ¡¼¥Ð¤ÎÂ¾¤Î¥Ý¡¼¥È¤ËÂÐ¤·¤Æ¡¢¤¤¤Ä¤âÀÜÂ³¤·¤Æ¤¤¤ë¤Î¤Ç¤·¤¿¤é¡¢
¤¿¤È¤¨¤Ð <tt>from any to any port { 21, 2121 }</tt> ¤Î¤è¤¦¤Ë¡¢
¥ê¥¹¥È¤ÏÁ÷¿®Àè¥Ý¡¼¥È¤ò»ØÄê¤¹¤ë¤¿¤á¤Ë»ÈÍÑ¤µ¤ì¤ë¤Ù¤­¤Ç¤¹¡£
d204 2
a205 2
<h3>¥Õ¥£¥ë¥¿¥ë¡¼¥ë</h3>
¤³¤³¤«¤é¤Ï¥Õ¥£¥ë¥¿¥ë¡¼¥ë¤Ë¤Ä¤¤¤Æ¤Ç¤¹¡£¤³¤Î¥Ç¥Õ¥©¥ë¥È¤ÏµñÈÝ¤Ç»Ï¤Þ¤ê¤Þ¤¹¡£
d213 4
a216 4
¤³¤Î»þÅÀ¤Ç¤Ï¡¢ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤«¤é¤Î¤â¤Î¤â´Þ¤á¤Æ¡¢¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤ò
ÄÌ²á¤¹¤ë¥Ñ¥±¥Ã¥È¤Ï²¿¤â¤¢¤ê¤Þ¤»¤ó¡£°Ê²¼¤Î¥ë¡¼¥ë¤Ë¤è¤Ã¤Æ¡¢¾åµ­¤ÎÌÜÅª¤´¤È¤Ë
¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤ò³«¤¤¤Æ¤¤¤­¡¢Æ±ÍÍ¤Ë¡¢¤¹¤Ù¤Æ¤ÎÉ¬Í×¤Ê²¾ÁÛ¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹
¤â³«¤¤¤Æ¤¤¤­¤Þ¤¹¡£
d219 4
a222 4
¤É¤Î Unix ¥·¥¹¥Æ¥à¤â¡¢¡Ö¥ë¡¼¥×¥Ð¥Ã¥¯¡×¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤ò»ý¤Á¤Þ¤¹¡£¤³¤ì¤Ï¡¢¥·¥¹¥Æ¥àÆâ¤Î
¥¢¥×¥ê¥±¡¼¥·¥ç¥ó¤¬¸ß¤¤¤ËÂ¾¤ÈÄÌ¿®¤¹¤ë¤Î¤Ë»ÈÍÑ¤µ¤ì¤ë²¾ÁÛÅª¤Ê¥Í¥Ã¥È¥ï¡¼¥¯¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤Ç¤¹¡£
°ìÈÌÅª¤Ë¡¢¤¹¤Ù¤Æ¤Î¥È¥é¥Õ¥£¥Ã¥¯¤Ï¡¢¤³¤Î¥ë¡¼¥×¥Ð¥Ã¥¯¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤Ë¤ï¤¿¤µ¤ì¤ë¤Ù¤­¤Ç¤¹¡£
OpenBSD ¤Ç¤Ï¡¢¥ë¡¼¥×¥Ð¥Ã¥¯¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤Ï
d224 1
a224 1
>lo(4)</a> ¤Ç¤¹¡£
d232 1
a232 1
¼¡¤Ë¡¢
d234 5
a238 5
¤Î¥×¥é¥¤¥Ù¡¼¥È¥¢¥É¥ì¥¹¤Ï¡¢¸ø¤Î¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤Ë½Ð¸½¤·¤Æ¤Ï¤¤¤±¤Ê¤¤¤Î¤Ç¡¢
³°Éô¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤ËÆþ¤Ã¤ÆÍè¤¿¤ê¡¢½Ð¤Æ¹Ô¤Ã¤¿¤ê¤¹¤ë¤Î¤ò¥Ö¥í¥Ã¥¯¤·¤Þ¤¹¡£
¤³¤ì¤é¤ò¥Õ¥£¥ë¥¿¥ê¥ó¥°¤¹¤ë¤³¤È¤Ï¡¢¥ë¡¼¥¿¤¬¤³¤ì¤é¤Î¥¢¥É¥ì¥¹¤¬ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤«¤é
¡ÖÏ³¤ì¤Æ¡×½Ð¤Æ¹Ô¤«¤Ê¤¤¤³¤È¤È¡¢Æ±¤¸¤¯¤³¤ì¤é¤Î¥Í¥Ã¥È¥ï¡¼¥¯¤Î¤Ò¤È¤Ä¤ò
Á÷¿®¸µ¥¢¥É¥ì¥¹¤È¤¹¤ëÃå¿®¥Ñ¥±¥Ã¥È¤òÁË»ß¤¹¤ë¤³¤È¤ò³Î¼Â¤Ë¤·¤Þ¤¹¡£
d247 7
a253 7
<tt>block drop</tt> ¤Ï¡¢TCP RST ¤ä ICMP Unreachable ¥Ñ¥±¥Ã¥È¤Ë±þÅú¤¹¤ëÉ¬Í×¤¬¤Ê¤¤¤³¤È¤ò PF
¤Ë»Ø¼¨¤¹¤ë¤¿¤á¤Ë»ÈÍÑ¤µ¤ì¤ë¤È¤¤¤¦¤³¤È¤ËÃí°Õ¤·¤Æ¤¯¤À¤µ¤¤¡£RFC 1918 ¤Î¥×¥é¥¤¥Ù¡¼¥È¥¢¥É¥ì¥¹¤Ï
¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤ËÂ¸ºß¤·¤Ê¤¤¤Î¤Ç¡¢¤³¤ì¤é¤Î¥¢¥É¥ì¥¹¤ËÁ÷¿®Àè¤µ¤ì¤ë¥Ñ¥±¥Ã¥È¤Ï¤¹¤Ù¤Æ¡¢²¿¤¬¤¢¤í¤¦¤È
²¿¤â¤·¤Æ¤Ï¤¤¤±¤Þ¤»¤ó¡£¤Þ¤¿¡¢<tt>quick</tt> ¥ª¥×¥·¥ç¥ó¤Ï¡¢¤½¤³¤«¤é¾å¤Î¥ë¡¼¥ë¤Ë¥Ñ¥±¥Ã¥È¤¬
¥Þ¥Ã¥Á¤·¤¿¾ì¹ç¤Ë¡¢PF ¤Ë»Ä¤ê¤Î¥Õ¥£¥ë¥¿¥ë¡¼¥ë¤òÉ¾²Á¤¹¤ë¼ê´Ö¤ò¤«¤±¤ëÉ¬Í×¤¬¤Ê¤¤¤³¤È¤ò»Ø¼¨¤¹¤ë¤¿¤á¤Ë
»ÈÍÑ¤µ¤ì¤Þ¤¹¡£<tt>$priv_nets</tt> ¥Í¥Ã¥È¥ï¡¼¥¯¤Ø¤Î¡¢¤¢¤ë¤¤¤Ï¡¢¤½¤³¤«¤é¤Î¥Ñ¥±¥Ã¥È¤Ï¡¢
Ä¾¤Á¤ËÇÑ´þ¤µ¤ì¤Þ¤¹¡£
d256 2
a257 2
¤³¤³¤Ç¡¢¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤ËÂÐ¤·¤Æ¸ø³«¤·¤Æ¤¤¤ë¥Í¥Ã¥È¥ï¡¼¥¯¥µ¡¼¥Ó¥¹¤¬»ÈÍÑ¤¹¤ë
¥Ý¡¼¥È¤ò³«¤­¤Þ¤¹¡£
d266 5
a270 5
<tt>$tcp_services</tt> ¥Þ¥¯¥í¤ÎÃæ¤Ë¥Í¥Ã¥È¥ï¡¼¥¯¥Ý¡¼¥È¤ò»ØÄê¤¹¤ë¤³¤È¤Ë¤è¤ê¡¢
Ã±¤Ë¥Þ¥¯¥í¤òÊÔ½¸¤·¡¢¥ë¡¼¥ë¥»¥Ã¥È¤òºÆ¥í¡¼¥É¤¹¤ë¤³¤È¤Ç¡¢¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤ËÂÐ¤·¤Æ
ÉÕ²ÃÅª¤Ê¥µ¡¼¥Ó¥¹¤ò³«¤¯¤³¤È¤¬´ÊÃ±¤Ë¤Ç¤­¤ë¤è¤¦¤Ë¤Ê¤ê¤Þ¤¹¡£Æ±ÍÍ¤Ë¡¢UDP ¤Î¥µ¡¼¥Ó¥¹¤â
<tt>$udp_services</tt> ¥Þ¥¯¥í¤òÀ¸À®¤·¡¢¾åµ­¤Î¤è¤¦¤Ë¡¢<tt>proto udp</tt>
¤ò»ØÄê¤·¤¿¥Õ¥£¥ë¥¿¥ë¡¼¥ë¤òÄÉ²Ã¤·¤Æ¤ª¤¯¤³¤È¤Ç¡¢³«¤¯¤³¤È¤¬¤Ç¤­¤ë¤è¤¦¤Ë¤Ê¤ê¤Þ¤¹¡£
d273 1
a273 1
¤³¤Î»þÅÀ¤Ç¡¢ICMP ¤Î¥È¥é¥Õ¥£¥Ã¥¯¤Ï°Ê²¼¤Î¤è¤¦¤ËÄÌ²á¤µ¤»¤Æ¤ª¤¯¤Ù¤­¤Ç¤·¤ç¤¦¡£
d281 4
a284 4
<tt>$tcp_services</tt> ¥Þ¥¯¥í¤ÈÆ±¤¸¤è¤¦¤Ë¡¢<tt>$icmp_types</tt> ¥Þ¥¯¥í¤â¡¢
¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤ËÅþÃ£¤¹¤ë¤³¤È¤¬¤Ç¤­¤ë ICMP ¥Ñ¥±¥Ã¥È¤Î¥¿¥¤¥×¤ÎÊÑ¹¹¤¹¤ë¤¿¤á¡¢
´ÊÃ±¤ËÊÔ½¸¤¹¤ë¤³¤È¤¬¤Ç¤­¤Þ¤¹¡£¤³¤Î¥ë¡¼¥ë¤Ï¤¹¤Ù¤Æ¤Î¥Í¥Ã¥È¥ï¡¼¥¯¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤Ë
Å¬ÍÑ¤µ¤ì¤ë¤È¤¤¤¦¤³¤È¤ËÃí°Õ¤·¤Æ¤¯¤À¤µ¤¤¡£
d287 5
a291 5
¤³¤Î»þÅÀ¤Ç¡¢ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤«¤é¤Î¥È¥é¥Õ¥£¥Ã¥¯¤ÏÄÌ²á¤Ç¤­¤ë¤è¤¦¤Ë¤¹¤Ù¤­¤Ç¤¹¡£¤³¤³¤Ç¡¢
»ä¤¿¤Á¤Ï¡¢ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤Î¥æ¡¼¥¶¤Ï¡¢¼«Ê¬¤¿¤Á¤¬²¿¤ò¤·¤è¤¦¤È¤·¤Æ¤¤¤ë¤Î¤«¤òÃÎ¤Ã¤Æ¤¤¤Æ¡¢
¥È¥é¥Ö¥ë¤ò°ú¤­µ¯¤³¤¹¤Ä¤â¤ê¤Ê¤É¤Ï¤Ê¤¤¤â¤Î¤È²¾Äê¤·¤Þ¤·¤ç¤¦¡£
¤³¤ì¤ÏÉ¬¤º¤·¤âÀµÅö¤Ê²¾Äê¤Ç¤Ï¤Ê¤¯¡¢¤¤¤¯¤Ä¤«¤Î´Ä¶­¤Ç¤Ï¡¢¤è¤ê¸ÂÄêÅª¤Ê¥ë¡¼¥ë¥»¥Ã¥È¤¬
Å¬ÀÚ¤Ç¤¢¤ë¤«¤âÃÎ¤ì¤Þ¤»¤ó¡£
d299 13
a311 13
¾åµ­¤Î¥ë¡¼¥ë¤Ï¡¢¤¹¤Ù¤Æ¤ÎÆâÉô¤Î¥Þ¥·¥ó¤Ë¡¢¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤òÄÌ²á¤¹¤ë¥Ñ¥±¥Ã¥È¤ÎÁ÷¿®¤ò
µö²Ä¤·¤Æ¤¤¤Þ¤¹¤¬¡¢¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤«¤éÆâÉô¤Î¥Þ¥·¥ó¤ËÂÐ¤·¤ÆÀÜÂ³¤·¤è¤¦¤È¤¹¤ë¤³¤È¤Ï
µö²Ä¤·¤Æ<i>¤¤¤Þ¤»¤ó</i>¡£¤·¤«¤·¡¢ËÜÅö¤Ë¤³¤ì¤ÇÎÉ¤¤¤Î¤Ç¤·¤ç¤¦¤« ? &nbsp;¤â¤Á¤í¤ó¡¢¤½¤ÎÅú¤Ï
¥Í¥Ã¥È¥ï¡¼¥¯¹½À®¤Î¤è¤ê¾ÜºÙ¤ÊÉôÊ¬¤Ë°ÍÂ¸¤¹¤ë¤³¤È¤Ç¤¹¡£¤¿¤È¤¨¤Ð¡¢¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤¬ DHCP
¥µ¡¼¥Ð¤ò·ó¤Í¤Æ¤¤¤ë¾ì¹ç¤Ë¤Ï¡¢IP ¤Î³ä¤êÅö¤ÆÁ°¤Ë¥¯¥é¥¤¥¢¥ó¥È¤¬À¸¤­¤Æ¤¤¤ë¤«¤É¤¦¤«¤ò³ÎÇ§¤¹¤ë¤Î¤Ë
"ping" ¤ò¹Ô¤¦É¬Í×¤¬¤¢¤ë¤«¤âÃÎ¤ì¤Þ¤»¤ó¡£¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤¬ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤ËÀÜÂ³¤¹¤ë¤Î¤ò
µö²Ä¤¹¤ë¤³¤È¤Ï¤Þ¤¿¡¢¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤«¤é¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤Ë SSH ¤ÇÀÜÂ³¤·¤Æ¤­¤¿Ã¯¤«¤Ë
ÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤Ø¤Î¥¢¥¯¥»¥¹¤òµö²Ä¤¹¤ë¤³¤È¤Ç¤â¤¢¤ê¤Þ¤¹¡£
¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤¬Ä¾ÀÜÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤ËÄÌ¿®¤ò¹Ô¤¦¤³¤È¤òµö²Ä<i>¤·¤Ê¤¤</i>¤³¤È¤¬
¥»¥­¥å¥ê¥Æ¥£¾å¤ÎÂç¤­¤ÊÍøÅÀ¤Ë¤Ê¤ë¤ï¤±¤Ç¤Ï¤Ê¤¤¤È¤¤¤¦¤³¤È¤ËÎ±°Õ¤·¤Æ¤ª¤¤¤Æ¤¯¤À¤µ¤¤¡£
¤â¤·¡¢Ã¯¤«¤¬¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤Ø¤Î¥¢¥¯¥»¥¹¤ò¼ê¤ËÆþ¤ì¤¿¤È¤¹¤ë¤È¡¢¤É¤Î¤ß¤Á¥Õ¥£¥ë¥¿¥ë¡¼¥ë¤â
¤¿¤¤¤Æ¤¤¤ÏÊÑ¹¹¤µ¤ì¤Æ¤·¤Þ¤¦¤«¤âÃÎ¤ì¤Ê¤¤¤«¤é¤Ç¤¹¡£°Ê²¼¤Î¥Õ¥£¥ë¥¿¥ë¡¼¥ë¤òÄÉ²Ã¤¹¤ë¤³¤È¤Ë¤è¤Ã¤Æ¡¢
¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤«¤éÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤ËÀÜÂ³¤·¤è¤¦¤È¤¹¤ë¤³¤È¤¬¤Ç¤­¤ë¤è¤¦¤Ë¤Ê¤ê¤Þ¤¹¡£
d319 11
a329 11
¤â¤·¡¢¤³¤ì¤é¤ÎÎ¾Êý¤Î¹Ô¤¬µ­½Ò¤µ¤ì¤Æ¤¤¤ë¾ì¹ç¤Ë¤Ï¡¢<tt>keep state</tt> ¥ª¥×¥·¥ç¥ó¤Ï
ÉÔÍ×¤Ç¤¢¤ë¤³¤È¤ËÃí°Õ¤·¤Æ¤¯¤À¤µ¤¤¡£¤Ä¤Þ¤ê¡¢ÁÐÊý¸þ¤Ë¥Ñ¥±¥Ã¥È¤òÄÌ²á¤µ¤»¤ë¤¿¤á¤Î
¥ë¡¼¥ë¤¬µ­½Ò¤µ¤ì¤Æ¤¤¤ë¤Î¤Ç¤¹¤«¤é¡¢¤¹¤Ù¤Æ¤Î¥Ñ¥±¥Ã¥È¤ÏÆâÉô¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤ò
ÄÌ²á¤¹¤ë¤³¤È¤¬¤Ç¤­¤ë¤ï¤±¤Ç¤¹¡£¤·¤«¤·¡¢<tt>pass out</tt> ¤Î¹Ô¤¬´Þ¤Þ¤ì¤Æ<i>¤¤¤Ê¤¤</i>¾ì¹ç¤Ë¤Ï¡¢
<tt>pass in</tt> ¤Î¹Ô¤Ë¤Ï <tt>keep state</tt> ¥ª¥×¥·¥ç¥ó¤¬´Þ¤Þ¤ì¤Æ¤¤¤ë<i>É¬Í×¤¬¤¢¤ê¤Þ¤¹</i>¡£
¤Þ¤¿¡¢¤³¤Î¾õÂÖ¤ÎÊÝ»ý (keep state) ¤Ë¤Ï¡¢¤¤¤¯¤Ä¤«¤ÎÀ­Ç½¾å¤ÎÍøÅÀ¤â¤¢¤ê¤Þ¤¹¡£
¤¿¤È¤¨¤Ð¡¢¾õÂÖ¥Æ¡¼¥Ö¥ë¤Ï¥ë¡¼¥ë¤ÎÉ¾²ÁÁ°¤Ë¥Á¥§¥Ã¥¯¤µ¤ì¡¢
¾õÂÖ¤Î¥Þ¥Ã¥Á¤¬¤¢¤Ã¤¿¾ì¹ç¤Ë¤Ï¡¢¥Ñ¥±¥Ã¥È¤Ï¥ë¡¼¥ë¥»¥Ã¥È¤ÎÉ¾²Á¤ò¼õ¤±¤ë¤³¤È¤Ê¤¯
¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤òÄÌ²á¤·¤Þ¤¹¡£¤³¤ì¤Ë¤è¤Ã¤Æ¡¢Éé²Ù¤Î½Å¤¤¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤ËÂÐ¤·¤Æ
À­Ç½¾å¤ÎÍøÅÀ¤òÄó¶¡¤¹¤ë¤³¤È¤¬¤Ç¤­¤Þ¤¹¤¬¡¢¤³¤ÎÃ±½ã¤Ê¤³¤È¤Ë¤è¤Ã¤Æ¡¢
¥·¥¹¥Æ¥àÆâÉô¤ÇÈó¾ï¤ËÂç¤­¤ÊÉé²Ù¤òÈ¯À¸¤·¤Æ¤·¤Þ¤¦¤è¤¦¤Ê¤³¤È¤Ï¹Í¤¨¤Ë¤¯¤¤¤Ç¤·¤ç¤¦¡£
d332 1
a332 1
ºÇ½ªÅª¤Ë¡¢³°Éô¥¤¥ó¥¿¡¼¥Õ¥§¥¤¥¹¤«¤é½Ð¤Æ¹Ô¤¯¥È¥é¥Õ¥£¥Ã¥¯¤òÄÌ²á¤µ¤»¤Þ¤¹¡£
d341 3
a343 3
¤³¤ì¤Ç TCP¡¢UDP ¤ª¤è¤Ó ICMP ¤Î¥È¥é¥Õ¥£¥Ã¥¯¤Ï¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤«¤é¥¤¥ó¥¿¡¼¥Í¥Ã¥È¤Ë¸þ¤«¤Ã¤Æ
½Ð¤Æ¹Ô¤¯¤³¤È¤¬¤Ç¤­¤Þ¤¹¡£¤Þ¤¿¡¢±þÅú¥Ñ¥±¥Ã¥È¤¬¥Õ¥¡¥¤¥¢¥¦¥©¡¼¥ë¤òÄÌ²á¤·¤ÆÆâÉô¥Í¥Ã¥È¥ï¡¼¥¯¤Ë
Æþ¤ì¤ë¤è¤¦¡¢¾õÂÖ¾ðÊó¤¬ÊÝ»ý¤µ¤ì¤Þ¤¹¡£
d346 1
a346 1
<h2>´°Á´¤Ê¥ë¡¼¥ë¥»¥Ã¥È</h2>
d394 3
a396 3
[<a href="authpf.html">Á°¤ËÌá¤ë: authpf: Ç§¾Ú¥²¡¼¥È¥¦¥§¥¤ÍÑ
¥æ¡¼¥¶¥·¥§¥ë</a>]
[<a href="index.html">ÌÜ¼¡</a>]
d406 1
a406 1
$Translation: example1.html,v 1.7 2003/07/10 15:18:32 toshi Exp $
@


1.4
log
@sync with steelix translation CVS
@
text
@d18 3
a20 3
[<a href="../authpf.html">$BA0$KLa$k(B: Authpf: $BG'>Z%2!<%H%&%'%$MQ(B
$B%f!<%6%7%'%k(B</a>]
[<a href="index.html">$BL\<!(B</a>]
d23 1
a23 1
<h1><font color="#e00000">PF: $BNc(B #1: $B<+Bp$d>.5,LO;vL3=jMQ%U%!%$%"%&%)!<%k(B</font></h1>
d26 1
a26 1
<h3>$BL\<!(B</h3>
d28 1
a28 1
<li><a href="#scenario">$B%7%J%j%*(B</a>
d30 3
a32 3
	<li><a href="#network">$B%M%C%H%o!<%/(B</a>
	<li><a href="#objective">$BL\I8(B</a>
	<li><a href="#prep">$B=`Hw(B</a>
d34 1
a34 1
<li><a href="#ruleset">$B%k!<%k%;%C%H(B</a>
d36 6
a41 6
	<li><a href="#macros">$B%^%/%m(B</a>
	<li><a href="#options">$B%*%W%7%g%s(B</a>
	<li><a href="#scrub">$B%9%/%i%V(B (scrub)</a>
	<li><a href="#nat">$B%M%C%H%o!<%/%"%I%l%9JQ49(B (NAT)</a>
	<li><a href="#rdr">$B%j%@@%$%l%/%7%g%s(B</a>
	<li><a href="#filter">$B%U%#%k%?%k!<%k(B</a>
d43 1
a43 1
<li><a href="#allrules">$B40A4$J%k!<%k%;%C%H(B</a>
d49 6
a54 6
<h2>$B%7%J%j%*(B</h2>
$B$3$NNc$G$O!"(BPF $B$O<+Bp$+;vL3=j$N>.5,LO%M%C%H%o!<%/MQ$N%U%!%$%"%&%)!<%k7s(B
NAT $B%2!<%H%&%'%$$H$7$F2TF/Cf$N(B OpenBSD $B%^%7%s>e$G<B9T$5$l$F$$$^$9!#(B
$BA4BN$H$7$F$NL\E*$O!"%$%s%?!<%M%C%H$X$N%"%/%;%9$*$h$S%$%s%?!<%M%C%H$+$i(B
$B%U%!%$%"%&%)!<%k$X$N8BDj$5$l$?%"%/%;%9$rDs6!$9$k$3$H$G$9!#$3$N%I%-%e%a%s%H$G$O!"(B
$B$3$l$r2DG=$K$9$k40A4$J%k!<%k%;%C%H$K$D$$$F8!F$$r2C$($^$9!#(B
d57 2
a58 2
<h3>$B%M%C%H%o!<%/(B</h3>
$B%M%C%H%o!<%/$O0J2<$N$h$&$J9=@@.$H$J$C$F$$$^$9!#(B
d64 1
a64 1
   ---+------+-----+------- fxp0 [ OpenBSD ] ep0 -------- ( $B%$%s%?!<%M%C%H(B )
d71 4
a74 4
$BFbIt%M%C%H%o!<%/$K$OB??t$N%3%s%T%e!<%?$,@@\B3$5$l$F$$$^$9!#>e?^$G$O(B
3 $BBf$K$J$C$F$$$^$9$,!"$3$l$O<B:]$NBf?t$H$OL54X78$G$9!#$3$l$i$N%3%s%T%e!<%?$O!"(B
web $B%5!<%U%#%s!"EE;R%a!<%k!"%A%c%C%H$J$I$NMQES$G;HMQ$5$l$k%o!<%/%9%F!<%7%g%s$G$9!#(B
$BFbIt%M%C%H%o!<%/$O(B 192.168.0.0 $B$r;HMQ$7$F$*$j!"%M%C%H%o!<%/%V%m%C%/$O(B 255.255.255.0 $B$H$J$C$F$$$^$9!#(B
d77 5
a81 5
$B$3$N(B OpenBSD $B%k!<%?$O(B 2 $BKg$N%M%C%H%o!<%/%+!<%I(B 3Com 3c509B (ep0) $B$J$i$S$K(B
Intel EtherExpress Pro/100 (fxp0) $B$r;}$D(B Pentium 100 $B$N%^%7%s$G$9!#$3$N(B
$B%k!<%?$O%$%s%?!<%M%C%H$X$N(B ADSL $B@@\B3$r;}$C$F$*$j!"$3$N@@\B3$rFbIt%M%C%H%o!<%/$G(B
$B6&M-$9$k$?$a$K(B NAT $B$r;HMQ$7$F$$$^$9!#30It%$%s%?!<%U%'%$%9$N(B IP $B%"%I%l%9$O!"(B
$B%$%s%?!<%M%C%H%5!<%S%9%W%m%P%$%@@(B (ISP) $B$+$iF0E*$K3d$jEv$F$i$l$F$$$^$9!#(B
d84 2
a85 2
<h3>$BL\I8(B</h3>
$BL\I8$O0J2<$N$H$*$j$G$9!#(B
d87 4
a90 4
<li>$B$=$l$>$l$NFbIt%3%s%T%e!<%?$+$i$N@@)8B$5$l$J$$%$%s%?!<%M%C%H%"%/%;%9$NDs6!!#(B
<li>$B!V%G%U%)%k%H$G5qH]!W$N%U%#%k%?%k!<%k%;%C%H$N;HMQ!#(B
<li>$B%$%s%?!<%M%C%H$+$i%U%!%$%"%&%)!<%k$X$N!"0J2<$NCe?.%H%i%U%#%C%/$N(B
$B5v2D!#(B
d92 4
a95 4
	<li>SSH (TCP $B%]!<%H(B 22): $B$3$l$O%U%!%$%"%&%)!<%k%^%7%s$N30It$+$i$N(B
	$B%a%s%F%J%s%9$N$?$a$K;HMQ$5$l$^$9!#(B
	<li>Auth/Ident (TCP $B%]!<%H(B 113): SMTP $B$d(B IRC $B$N$h$&$J!"$"$k<o$N(B
	$B%5!<%S%9$N$?$a$K;HMQ$5$l$^$9!#(B
d98 1
a98 1
	>ping(8)</a> $B$G;HMQ$5$l$k(B ICMP $B%Q%1%C%H%?%$%W$G$9!#(B
d100 4
a103 4
<li>$B30It%$%s%?!<%U%'%$%9$N%U%#%k%?$NE}7W>pJs$N%m%0$r<hF@@$7$^$9!#(B
<li>$B%G%U%)%k%H$G!"%V%m%C%/$7$?%Q%1%C%H$KBP$7$F(B TCP RST $B$d(B ICMP Unreachable
$B1~Ez$rJV$7$^$9!#(B
<li>$B2DG=$J8B$jC1=c$G%a%s%F%J%s%9$,4JC1$K$J$k$h$&$J%k!<%k%;%C%H$H$7$^$9!#(B
d107 4
a110 4
<h3>$B=`Hw(B</h3>
$B$3$N%I%-%e%a%s%H$G$O!"(BOpenBSD $B$N%[%9%H$O!"(B<tt>net.inet.ip.forwarding</tt> $B$,(B "<tt>1</tt>"
$B$K@@_Dj$5$l$F$$$F!"$^$?!"(BIP $B%M%C%H%o!<%/$N@@_Dj$d%$%s%?!<%M%C%H$X$N@@\B3@@-$N8!::$r4^$a$F(B
$B%k!<%?$H$7$FF0:n$G$-$k$h$&!"E,@@Z$K@@_Dj$5$l$F$$$k$b$N$H2>Dj$7$F$$$^$9!#(B
d113 3
a115 3
<h2>$B%k!<%k%;%C%H(B</h2>
$B0J2<$O!">e5-$NL\E*$rC#@@.$9$k$3$H$N$G$-$k%k!<%k%;%C%H$N(B
$B3FItJ,$N2r@@b$G$9!#(B
d118 3
a120 3
<h3>$B%^%/%m(B</h3>
$B0J2<$N%^%/%m$O!"%a%s%F%J%s%9$H%k!<%k%;%C%H$N2rFI$,$h$j4JC1$K$J$k$h$&!"(B
$BDj5A$5$l$F$$$k$b$N$G$9!#(B
d134 5
a138 5
$B:G=i$N(B 2 $B9T$O!"<B:]$K%U%#%k%?%j%s%0$,9T$o$l$k%M%C%H%o!<%/%$%s%?!<%U%'%$%9$r(B
$BDj5A$7$F$$$^$9!#(B3 $B9TL\$H(B 4 $B9TL\$H$O!"%$%s%?!<%M%C%H$KBP$7$F3+$+$l$?(B TCP
$B%]!<%HHV9f(B (SSH $B$H(B ident/auth) $B$*$h$S!"%U%!%$%"%&%)!<%k$KFO$/$3$H$,5v$5$l$k(B
ICMP $B$N%Q%1%C%H%?%$%W$rDj5A$7$F$$$^$9!#(B
$B:G8e$N9T$O%k!<%W%P%C%/$H(B
d140 1
a140 1
$B$N%W%i%$%Y!<%H%"%I%l%9$N%V%m%C%/$rDj5A$7$F$$$^$9!#(B
d143 1
a143 1
<b>$BCm(B</b>: $B$b$7!"(BADSL $B$K$h$k%$%s%?!<%M%C%H@@\B3$,(B
d145 2
a146 2
>PPPoE</a> $B$rI,MW$H$9$k>l9g!"%U%#%k%?%j%s%0$d(B NAT $B$O(B <tt>ep0</tt> $B$KBP$7$F$G$O(B
<i>$B$J$/(B</i>$B!"(B<tt>tun0</tt> $B%$%s%?!<%U%'%$%9$KBP$7$FDj5A$9$kI,MW$,$"$j$^$9!#(B
d149 4
a152 4
<h3>$B%*%W%7%g%s(B</h3>
$B0J2<$N$U$?$D$N%*%W%7%g%s$O!"(B<tt>block</tt> $B%U%#%k%?%k!<%k$KBP$9$k(B
$B%G%U%)%k%H$NH?1~$r@@_Dj$7!"$=$7$F!"30It%$%s%?!<%U%'%$%9$KBP$9$k(B
$BE}7W>pJs$N%m%0$r<hF@@$9$k$h$&$K@@_Dj$7$F$$$^$9!#(B
d161 3
a163 3
<h3>$B%9%/%i%V(B (scrub)</h3>
$B$9$Y$F$NCe?.%H%i%U%#%C%/$KBP$9$k!"?d>)$5$l$k%Q%1%C%H:F9=@@.$r9T$o$J$$M}M3$O$J$/!"(B
$B0J2<$OC1=c$J0l9T$NDj5A$G$9!#(B
d171 3
a173 3
<h3>$B%M%C%H%o!<%/%"%I%l%9JQ49(B (NAT)</h3>
$BFbIt%M%C%H%o!<%/A4BN$KBP$9$k(B NAT $B$r<B9T$9$k$?$a$K$O!"(B
$B0J2<$N$h$&$J(B <tt>nat</tt> $B%k!<%k$r;HMQ$7$^$9!#(B
d181 3
a183 3
$B30It%$%s%?!<%U%'%$%9$N(B IP $B%"%I%l%9$OF0E*$K3d$jEv$F$i$l$^$9$N$G!"(B
$B%"%I%l%9$,JQ2=$7$?>l9g$K(B PF $B$,$3$l$KCm0U$rJ'$&$3$H$,$G$-$k$h$&!"(B
$BJQ49$9$k%$%s%?!<%U%'%$%9$KBP$7$F3g8L$rIUM?$7$F$*$-$^$9!#(B
d186 2
a187 2
<h3>$B%j%@@%$%l%/%7%g%s(B</h3>
$B%j%@@%$%l%/%7%g%s$O(B
d189 2
a190 2
>ftp-proxy(8)</a> $B$N$?$a$@@$1$KI,MW$H$5$l$F$$$F!"%m!<%+%k%M%C%H%o!<%/>e$N(B FTP
$B%/%i%$%"%s%H$,%$%s%?!<%M%C%H>e$N(B FTP $B%5!<%P$K@@\B3$G$-$k$h$&$K$9$k$?$a$N$b$N$G$9!#(B
d198 4
a201 4
$B$3$N%k!<%k$O!"%]!<%H(B 21 $BHV$X$N(B FTP $B@@\B3$@@$1$rJa$($k$3$H$,$G$-$^$9!#$b$7!"(B
$B%f!<%6$,(B FTP $B%5!<%P$NB>$N%]!<%H$KBP$7$F!"$$$D$b@@\B3$7$F$$$k$N$G$7$?$i!"(B
$B$?$H$($P(B <tt>from any to any port { 21, 2121 }</tt> $B$N$h$&$K!"(B
$B%j%9%H$OAw?.@@h%]!<%H$r;XDj$9$k$?$a$K;HMQ$5$l$k$Y$-$G$9!#(B
d204 2
a205 2
<h3>$B%U%#%k%?%k!<%k(B</h3>
$B$3$3$+$i$O%U%#%k%?%k!<%k$K$D$$$F$G$9!#$3$N%G%U%)%k%H$O5qH]$G;O$^$j$^$9!#(B
d213 4
a216 4
$B$3$N;~E@@$G$O!"FbIt%M%C%H%o!<%/$+$i$N$b$N$b4^$a$F!"%U%!%$%"%&%)!<%k$r(B
$BDL2a$9$k%Q%1%C%H$O2?$b$"$j$^$;$s!#0J2<$N%k!<%k$K$h$C$F!">e5-$NL\E*$4$H$K(B
$B%U%!%$%"%&%)!<%k$r3+$$$F$$$-!"F1MM$K!"$9$Y$F$NI,MW$J2>A[%$%s%?!<%U%'%$%9(B
$B$b3+$$$F$$$-$^$9!#(B
d219 4
a222 4
$B$I$N(B Unix $B%7%9%F%`$b!"!V%k!<%W%P%C%/!W%$%s%?!<%U%'%$%9$r;}$A$^$9!#$3$l$O!"%7%9%F%`Fb$N(B
$B%"%W%j%1!<%7%g%s$,8_$$$KB>$HDL?.$9$k$N$K;HMQ$5$l$k2>A[E*$J%M%C%H%o!<%/%$%s%?!<%U%'%$%9$G$9!#(B
$B0lHLE*$K!"$9$Y$F$N%H%i%U%#%C%/$O!"$3$N%k!<%W%P%C%/%$%s%?!<%U%'%$%9$KEO$5$l$k$Y$-$G$9!#(B
OpenBSD $B$G$O!"%k!<%W%P%C%/%$%s%?!<%U%'%$%9$O(B
d224 1
a224 1
>lo(4)</a> $B$G$9!#(B
d232 1
a232 1
$B<!$K!"(B
d234 5
a238 5
$B$N%W%i%$%Y!<%H%"%I%l%9$O!"8x$N%$%s%?!<%M%C%H$K=P8=$7$F$O$$$1$J$$$N$G!"(B
$B30It%$%s%?!<%U%'%$%9$KF~$C$FMh$?$j!"=P$F9T$C$?$j$9$k$N$r%V%m%C%/$7$^$9!#(B
$B$3$l$i$r%U%#%k%?%j%s%0$9$k$3$H$O!"%k!<%?$,$3$l$i$N%"%I%l%9$,FbIt%M%C%H%o!<%/$+$i(B
$B!VO3$l$F!W=P$F9T$+$J$$$3$H$H!"F1$8$/$3$l$i$N%M%C%H%o!<%/$N$R$H$D$r(B
$BAw?.85%"%I%l%9$H$9$kCe?.%Q%1%C%H$rAK;_$9$k$3$H$r3N<B$K$7$^$9!#(B
d247 7
a253 7
<tt>block drop</tt> $B$O!"(BTCP RST $B$d(B ICMP Unreachable $B%Q%1%C%H$K1~Ez$9$kI,MW$,$J$$$3$H$r(B PF
$B$K;X<($9$k$?$a$K;HMQ$5$l$k$H$$$&$3$H$KCm0U$7$F$/$@@$5$$!#(BRFC 1918 $B$N%W%i%$%Y!<%H%"%I%l%9$O(B
$B%$%s%?!<%M%C%H$KB8:_$7$J$$$N$G!"$3$l$i$N%"%I%l%9$KAw?.@@h$5$l$k%Q%1%C%H$O$9$Y$F!"2?$,$"$m$&$H(B
$B2?$b$7$F$O$$$1$^$;$s!#$^$?!"(B<tt>quick</tt> $B%*%W%7%g%s$O!"$=$3$+$i>e$N%k!<%k$K%Q%1%C%H$,(B
$B%^%C%A$7$?>l9g$K!"(BPF $B$K;D$j$N%U%#%k%?%k!<%k$rI>2A$9$k<j4V$r$+$1$kI,MW$,$J$$$3$H$r;X<($9$k$?$a$K(B
$B;HMQ$5$l$^$9!#(B<tt>$priv_nets</tt> $B%M%C%H%o!<%/$X$N!"$"$k$$$O!"$=$3$+$i$N%Q%1%C%H$O!"(B
$BD>$A$KGQ4~$5$l$^$9!#(B
d256 2
a257 2
$B$3$3$G!"%$%s%?!<%M%C%H$KBP$7$F8x3+$7$F$$$k%M%C%H%o!<%/%5!<%S%9$,;HMQ$9$k(B
$B%]!<%H$r3+$-$^$9!#(B
d266 5
a270 5
<tt>$tcp_services</tt> $B%^%/%m$NCf$K%M%C%H%o!<%/%]!<%H$r;XDj$9$k$3$H$K$h$j!"(B
$BC1$K%^%/%m$rJT=8$7!"%k!<%k%;%C%H$r:F%m!<%I$9$k$3$H$G!"%$%s%?!<%M%C%H$KBP$7$F(B
$BIU2CE*$J%5!<%S%9$r3+$/$3$H$,4JC1$K$G$-$k$h$&$K$J$j$^$9!#F1MM$K!"(BUDP $B$N%5!<%S%9$b(B
<tt>$udp_services</tt> $B%^%/%m$r@@8@@.$7!">e5-$N$h$&$K!"(B<tt>proto udp</tt>
$B$r;XDj$7$?%U%#%k%?%k!<%k$rDI2C$7$F$*$/$3$H$G!"3+$/$3$H$,$G$-$k$h$&$K$J$j$^$9!#(B
d273 1
a273 1
$B$3$N;~E@@$G!"(BICMP $B$N%H%i%U%#%C%/$O0J2<$N$h$&$KDL2a$5$;$F$*$/$Y$-$G$7$g$&!#(B
d281 4
a284 4
<tt>$tcp_services</tt> $B%^%/%m$HF1$8$h$&$K!"(B<tt>$icmp_types</tt> $B%^%/%m$b!"(B
$B%U%!%$%"%&%)!<%k$KE~C#$9$k$3$H$,$G$-$k(B ICMP $B%Q%1%C%H$N%?%$%W$NJQ99$9$k$?$a!"(B
$B4JC1$KJT=8$9$k$3$H$,$G$-$^$9!#$3$N%k!<%k$O$9$Y$F$N%M%C%H%o!<%/%$%s%?!<%U%'%$%9$K(B
$BE,MQ$5$l$k$H$$$&$3$H$KCm0U$7$F$/$@@$5$$!#(B
d287 5
a291 5
$B$3$N;~E@@$G!"FbIt%M%C%H%o!<%/$+$i$N%H%i%U%#%C%/$ODL2a$G$-$k$h$&$K$9$Y$-$G$9!#$3$3$G!"(B
$B;d$?$A$O!"FbIt%M%C%H%o!<%/$N%f!<%6$O!"<+J,$?$A$,2?$r$7$h$&$H$7$F$$$k$N$+$rCN$C$F$$$F!"(B
$B%H%i%V%k$r0z$-5/$3$9$D$b$j$J$I$O$J$$$b$N$H2>Dj$7$^$7$g$&!#(B
$B$3$l$OI,$:$7$b@@5Ev$J2>Dj$G$O$J$/!"$$$/$D$+$N4D6-$G$O!"$h$j8BDjE*$J%k!<%k%;%C%H$,(B
$BE,@@Z$G$"$k$+$bCN$l$^$;$s!#(B
d299 13
a311 13
$B>e5-$N%k!<%k$O!"$9$Y$F$NFbIt$N%^%7%s$K!"%U%!%$%"%&%)!<%k$rDL2a$9$k%Q%1%C%H$NAw?.$r(B
$B5v2D$7$F$$$^$9$,!"%U%!%$%"%&%)!<%k$+$iFbIt$N%^%7%s$KBP$7$F@@\B3$7$h$&$H$9$k$3$H$O(B
$B5v2D$7$F(B<i>$B$$$^$;$s(B</i>$B!#$7$+$7!"K\Ev$K$3$l$GNI$$$N$G$7$g$&$+(B ? &nbsp;$B$b$A$m$s!"$=$NEz$O(B
$B%M%C%H%o!<%/9=@@.$N$h$j>\:Y$JItJ,$K0MB8$9$k$3$H$G$9!#$?$H$($P!"%U%!%$%"%&%)!<%k$,(B DHCP
$B%5!<%P$r7s$M$F$$$k>l9g$K$O!"(BIP $B$N3d$jEv$FA0$K%/%i%$%"%s%H$,@@8$-$F$$$k$+$I$&$+$r3NG'$9$k$N$K(B
"ping" $B$r9T$&I,MW$,$"$k$+$bCN$l$^$;$s!#%U%!%$%"%&%)!<%k$,FbIt%M%C%H%o!<%/$K@@\B3$9$k$N$r(B
$B5v2D$9$k$3$H$O$^$?!"%$%s%?!<%M%C%H$+$i%U%!%$%"%&%)!<%k$K(B SSH $B$G@@\B3$7$F$-$?C/$+$K(B
$BFbIt%M%C%H%o!<%/$X$N%"%/%;%9$r5v2D$9$k$3$H$G$b$"$j$^$9!#(B
$B%U%!%$%"%&%)!<%k$,D>@@\FbIt%M%C%H%o!<%/$KDL?.$r9T$&$3$H$r5v2D(B<i>$B$7$J$$(B</i>$B$3$H$,(B
$B%;%-%e%j%F%#>e$NBg$-$JMxE@@$K$J$k$o$1$G$O$J$$$H$$$&$3$H$KN10U$7$F$*$$$F$/$@@$5$$!#(B
$B$b$7!"C/$+$,%U%!%$%"%&%)!<%k$X$N%"%/%;%9$r<j$KF~$l$?$H$9$k$H!"$I$N$_$A%U%#%k%?%k!<%k$b(B
$B$?$$$F$$$OJQ99$5$l$F$7$^$&$+$bCN$l$J$$$+$i$G$9!#0J2<$N%U%#%k%?%k!<%k$rDI2C$9$k$3$H$K$h$C$F!"(B
$B%U%!%$%"%&%)!<%k$+$iFbIt%M%C%H%o!<%/$K@@\B3$7$h$&$H$9$k$3$H$,$G$-$k$h$&$K$J$j$^$9!#(B
d319 11
a329 11
$B$b$7!"$3$l$i$NN>J}$N9T$,5-=R$5$l$F$$$k>l9g$K$O!"(B<tt>keep state</tt> $B%*%W%7%g%s$O(B
$BITMW$G$"$k$3$H$KCm0U$7$F$/$@@$5$$!#$D$^$j!"APJ}8~$K%Q%1%C%H$rDL2a$5$;$k$?$a$N(B
$B%k!<%k$,5-=R$5$l$F$$$k$N$G$9$+$i!"$9$Y$F$N%Q%1%C%H$OFbIt%$%s%?!<%U%'%$%9$r(B
$BDL2a$9$k$3$H$,$G$-$k$o$1$G$9!#$7$+$7!"(B<tt>pass out</tt> $B$N9T$,4^$^$l$F(B<i>$B$$$J$$(B</i>$B>l9g$K$O!"(B
<tt>pass in</tt> $B$N9T$K$O(B <tt>keep state</tt> $B%*%W%7%g%s$,4^$^$l$F$$$k(B<i>$BI,MW$,$"$j$^$9(B</i>$B!#(B
$B$^$?!"$3$N>uBV$NJ];}(B (keep state) $B$K$O!"$$$/$D$+$N@@-G=>e$NMxE@@$b$"$j$^$9!#(B
$B$?$H$($P!">uBV%F!<%V%k$O%k!<%k$NI>2AA0$K%A%'%C%/$5$l!"(B
$B>uBV$N%^%C%A$,$"$C$?>l9g$K$O!"%Q%1%C%H$O%k!<%k%;%C%H$NI>2A$r<u$1$k$3$H$J$/(B
$B%U%!%$%"%&%)!<%k$rDL2a$7$^$9!#$3$l$K$h$C$F!"Ii2Y$N=E$$%U%!%$%"%&%)!<%k$KBP$7$F(B
$B@@-G=>e$NMxE@@$rDs6!$9$k$3$H$,$G$-$^$9$,!"$3$NC1=c$J$3$H$K$h$C$F!"(B
$B%7%9%F%`FbIt$GHs>o$KBg$-$JIi2Y$rH/@@8$7$F$7$^$&$h$&$J$3$H$O9M$($K$/$$$G$7$g$&!#(B
d332 1
a332 1
$B:G=*E*$K!"30It%$%s%?!<%U%'%$%9$+$i=P$F9T$/%H%i%U%#%C%/$rDL2a$5$;$^$9!#(B
d341 3
a343 3
$B$3$l$G(B TCP$B!"(BUDP $B$*$h$S(B ICMP $B$N%H%i%U%#%C%/$O%U%!%$%"%&%)!<%k$+$i%$%s%?!<%M%C%H$K8~$+$C$F(B
$B=P$F9T$/$3$H$,$G$-$^$9!#$^$?!"1~Ez%Q%1%C%H$,%U%!%$%"%&%)!<%k$rDL2a$7$FFbIt%M%C%H%o!<%/$K(B
$BF~$l$k$h$&!">uBV>pJs$,J];}$5$l$^$9!#(B
d346 1
a346 1
<h2>$B40A4$J%k!<%k%;%C%H(B</h2>
d394 3
a396 3
[<a href="../authpf.html">$BA0$KLa$k(B: Authpf: $BG'>Z%2!<%H%&%'%$MQ(B
$B%f!<%6%7%'%k(B</a>]
[<a href="index.html">$BL\<!(B</a>]
d406 1
a406 1
$Translation: example1.html,v 1.6 2003/06/30 00:50:05 toshi Exp $
@


1.3
log
@sync with steelix translation CVS
@
text
@d18 2
a19 1
[<a href="ftp.html">$BA0$KLa$k(B: FTP $B$K$*$1$kLdBj(B</a>]
d394 2
a395 1
[<a href="ftp.html">$BA0$KLa$k(B: FTP $B$K$*$1$kLdBj(B</a>]
d404 1
a404 1
Originally [OpenBSD: example1.html,v 1.6 ]
d406 1
a406 1
$Translation: example1.html,v 1.5 2003/06/28 04:20:51 toshi Exp $
d408 1
a408 1
$OpenBSD: example1.html,v 1.6 2003/06/28 02:53:59 nick Exp $
@


1.2
log
@sync with steelix translation CVS
@
text
@d95 1
a95 1
	<li>ICMP $B%?%$%W(B 8:
a97 3
	<li>ICMP $B%?%$%W(B 11:
	<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=traceroute&amp;sektion=8&amp;manpath=OpenBSD+3.3"
	>traceroute(8)</a> $B$G;HMQ$5$l$k(B ICMP $B%Q%1%C%H%?%$%W$G$9!#(B
d126 1
a126 1
icmp_types = "{ 8, 11 }"<br>
d354 1
a354 1
icmp_types = "{ 8, 11 }"
d402 1
a402 1
Originally [OpenBSD: example1.html,v 1.5 ]
d404 1
a404 1
$Translation: example1.html,v 1.4 2003/06/15 23:02:33 toshi Exp $
d406 1
a406 1
$OpenBSD: example1.html,v 1.5 2003/06/15 16:40:06 nick Exp $
@


1.1
log
@
sync with steelix translation CVS
@
text
@d263 1
a263 1
&nbsp;&nbsp;&nbsp;port $tcp_services flags S/SAFR keep state
d337 1
a337 1
pass out on $ext_if proto tcp all modulate state flags S/SAFR<br>
d382 1
a382 1
   port $tcp_services flags S/SAFR keep state
d389 1
a389 1
pass out on $ext_if proto tcp all modulate state flags S/SAFR
d405 1
a405 1
Originally [OpenBSD: example1.html,v 1.4 ]
d407 1
a407 1
$Translation: example1.html,v 1.3 2003/06/04 12:51:12 toshi Exp $
d409 1
a409 1
$OpenBSD: example1.html,v 1.4 2003/05/15 03:03:54 nick Exp $</small>
@

