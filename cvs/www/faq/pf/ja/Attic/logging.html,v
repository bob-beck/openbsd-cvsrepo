head	1.12;
access;
symbols;
locks; strict;
comment	@# @;


1.12
date	2005.08.13.08.24.51;	author saad;	state dead;
branches;
next	1.11;

1.11
date	2004.05.09.09.58.22;	author saad;	state Exp;
branches;
next	1.10;

1.10
date	2004.01.04.22.47.55;	author horacio;	state Exp;
branches;
next	1.9;

1.9
date	2003.12.15.19.44.12;	author horacio;	state Exp;
branches;
next	1.8;

1.8
date	2003.12.03.21.55.18;	author horacio;	state Exp;
branches;
next	1.7;

1.7
date	2003.11.10.21.40.53;	author horacio;	state Exp;
branches;
next	1.6;

1.6
date	2003.11.03.16.54.43;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.26.13.21.47;	author horacio;	state Exp;
branches;
next	1.4;

1.4
date	2003.09.19.16.44.17;	author horacio;	state Exp;
branches;
next	1.3;

1.3
date	2003.07.04.22.18.27;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.13.12.05.29;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.05.13.33.00;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.12
log
@remove unmaintained [ja] translation files.  requested by translator.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Logging</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 2003-2004 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
<p>
[<a href="tagging.html">前に戻る: パケットのタグ付け</a>]
[<a href="index.html">目次</a>]
[<a href="perf.html">次に進む: 誓鹿畩
腫取云惹闔竢跫鮟■絨旭旭⊂估ログの取得鹿肬銓昭云

取鮠

取馨目次</h3>
<ul>
<li><a href="#intro">はじめに</a>
<li><a href="#logfile">ログファイルを読む</a>
<li><a href="#filter">ログ出力のフィルタリング</a>
<li><a href="#syslog">syslog 経由のパケットロギング</a>
</ul>

<hr>

<a name="intro"></a>
<h2>はじめに</h2>
PF におけるパケットのログの取得世蓮
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈鞴跫胼瘢雹黼謾蜿扈侃瘢雹轣鉋癆莉緕帯朝凱刈
情肚閾絢インターフェイスをリスンしている
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.4"
>pflogd(8)</a> によって行われ、パケットはログファイル
(通常は /var/log/pflog) に 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.4"
>tcpdump(8)</a> のバイナリフォーマットで書き込まれます。<tt>log</tt> か <tt>log-all</tt>
キーワードが指定された<a href="filter.html">フィルタ</a>ルールは、
この方法でログを取得世靴泙后

釈瘢綵閾肅跂⊂鹿畩
取仮ログファイルを読む</h2>
pflogd によって書き込まれたログファイルはバイナリフォーマットですので、テキストエディタを使用して
これを読むことはできません。ログを読むためには、tcpdump を使用する必要があります。

<p>
ログを読むためには、以下のようにします。
<blockquote>
<tt>
# tcpdump -n -e -ttt -r /var/log/pflog
</tt>
</blockquote>

<p>
pflog ファイルを見るために tcpdump を使用しても、リアルタイムで表示される<i>わけではない</i>
ことに注意してくだ世気ぁ萋誓されたパケットのログをリアルタイムで表示させるためには、
pflog0 インターフェイスを使用して、以下のようにします。
<blockquote>
<tt>
# tcpdump -n -e -ttt -i pflog0
</tt>
</blockquote>

<p>
<font color="#e00000">注: </font>
ログを調べる場合には、(<tt>-v</tt> コマンドラインオプションによって有効化される)
tcpdump の冗長なプロトコルデコーディングを使用して、
特に注意して行うべきです。tcpdump のプロトコルデコーダ世蓮
完全なセキュリティの履歴を持ちません。少なくとも理論静砲蓮
ログデバイスによって記録される部分的なパケットのペイロードを利用した
遅延攻撃が可能です。この方法でログを調べる前に、ログファイルを
ファイアウォールから移動させておくことを推奨します。

<p>
また、ログに安全にアクセスするためには、さらなる注意が必要です。デフォルトでは、
pflogd は、パケットの 96 バイトをログファイルに記録します。
ログにアクセスするということは、
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1&amp;manpath=OpenBSD+3.4"
>telnet(1)</a> や
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1&amp;manpath=OpenBSD+3.4"
>ftp(1)</a> のユーザ名やパスワードのような)
注意を要するパケットのペイロードに部分的にアクセスすることができてしまうことを意味します。

<a name="filter"></a>
<h2>ログ出力のフィルタリング</h2>
pflogd は tcpdump のバイナリフォーマットでログを記録するので、ログを表示する際に
tcpdump の機能をフルに使用することができます。ですので、たとえば、ある特定の
ポートにマッチするパケットを見たいだ世韻任靴燭蕁焚爾里茲Δ砲垢襪販匹い任靴腓Α
錫跫站髟阡緇
儒
鞣癇閾肚閾闥鍵
鹿鹿碎閭鞫
腫これによって、たとえば以下のように、ある特定のホストとポートの組み合わせによって
パケットの表示を限定することで、より誓気譴辛充┐鮃圓Δ海箸任襪茲Δ砲覆蠅泙后
錫跫站髟阡緇
儒
鞣癇閾肚閾闥鍵鈔闢厩荻蔚軒窺鹿鹿碎閭鞫
腫鞴跫膂ぢインターフェイスから読み込む場合にも、同様のアイディアを適用可能です。
<blockquote>
<tt>
# tcpdump -n -e -ttt -i pflog0 host 192.168.4.2
</tt>
</blockquote>

<p>
これ自体は、pflogd のログファイルにパケットのログを取得世垢觝櫃砲皸貔切のインパクトを
与えてはいないことに注意してくだ世気ぁ綉離灰泪鵐匹蓮▲蹈阿鮗萋誓中のパケットを
表示するだ世韻任后

腫標準的な
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.4"
>tcpdump(8)</a> のフィルタルールだ世韻任覆緕帯の tcpdump フィルタ言生譴蓮
鞴跫舮ぢの出力を読むために拡張されています。
<ul>
<li><tt>ip</tt> - アドレスファミリは IPv4 です。
<li><tt>ip6</tt> - アドレスファミリは IPv6 です。
<li><tt>on <i>int</i></tt> - パケットはインターフェイス
<i>int</i> を通じてわたされます。
<li><tt>ifname <i>int</i></tt> - <tt>on <i>int</i></tt> と同義です。
<li><tt>rulenum <i>num</i></tt> - パケットがマッチしたフィルタルールは、
ルール番号 <i>num</i> のルールです。
<li><tt>action <i>act</i></tt> - パケットに対して指定の動作を適用します。
指定可能な動作は <tt>pass</tt> ならびに <tt>block</tt> です。
<li><tt>reason <i>res</i></tt> - <tt>action</tt> が適用される理由を指定します。
指定可能な理由は <tt>match</tt>、<tt>bad-offset</tt>、
<tt>fragment</tt>、<tt>short</tt>、<tt>normalize</tt> および
<tt>memory</tt> です。
<li><tt>inbound</tt> - パケットは着信パケットです。
<li><tt>outbound</tt> - パケットは送出パケットです。
</ul>

<p>
例:
<blockquote>
<tt>
# tcpdump -n -e -ttt -i pflog0 inbound and action block and on wi0
</tt>
</blockquote>

<p>
これは、インターフェイス wi0 上でブロックされた着信パケットのログを
リアルタイムに表示します。

<a name="syslog"></a>
<h2>syslog 経由のパケットロギング</h2>
多くの場面で、ファイアウォールのログが ASCII フォーマットで存在することが望ましかったり、
そして/あるいは、それをリモートのログ取得斥僖機璽个冒蠅燭ぞ豺腓△辰燭蠅靴泙后海譴蕕
すべて、ふたつの小さなシェルスクリプトを使用し、OpenBSD の誓瀋螢侫．ぅ襪砲い弔両気
変更を加え、そしてログ取得斥僖如璽皀鵑任△
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈齷鼬閾筅瘢雹黼謾蜿扈研瘢雹轣鉋癆莉緕帯朝凱刈
杖跫舮┯があれば可能なことです。syslogd は ASCII でログを取得世靴泙垢掘△泙拭
リモートのログ取得斥僖機璽个縫蹈阿鮗萋誓させることも可能となります。

<p>
まず、ユーザ <tt>pflogger</tt> を、<tt>/sbin/nologin</tt> をシェルとして作誓靴討誓さい。
このユーザを作誓垢襪里忘任盍蔽韻癖，蓮
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈痲糒黼鬢瘢雹黼謾蜿扈研瘢雹轣鉋癆莉緕帯朝凱刈
鍾粐纈┯を使用することでしょう。

<p>
<tt>pflogger</tt> ユーザの作誓紂焚爾里佞燭弔離好螢廛箸
作誓靴討誓さい。

<p>
<tt>/etc/pflogrotate</tt>
<pre>
	FILE=/home/pflogger/pflog5min.$(date "+%Y%m%d%H%M")
	kill -ALRM $(cat /var/run/pflogd.pid)
	if [ $(ls -l /var/log/pflog | cut -d " " -f 8) -gt 24 ]; then
	   mv /var/log/pflog $FILE
	   chown pflogger $FILE
	   kill -HUP $(cat /var/run/pflogd.pid)
	fi
</pre>

<p>
<tt>/home/pflogger/pfl2sysl</tt>
<pre>
	for logfile in /home/pflogger/pflog5min* ; do
	   tcpdump -n -e -ttt -r $logfile | logger -t pf -p local0.info
	   rm $logfile
	done
</pre>

<p>
次に root ユーザの crontab を編集します。
<blockquote>
<tt>
# crontab -u root -e
</tt>
</blockquote>

<p>
以下の 2 行を追加してくだ世気ぁ
錫跫站髟阡緇
儒
鳫跫肅跂鴒蜴纉錫鮠
悪宜砠遲鼈續祚鞴跫苒阡癆鹿鹿碎閭鞫
腫そして、<tt>pflogger</tt> ユーザ用の crontab を誓言成します。
<blockquote>
<tt>
# crontab -u pflogger -e
</tt>
</blockquote>

<p>
こちらには以下の 2 行を追加します。
<blockquote>
<tt>
# feed rotated pflog file(s) to syslog<br>
0-59/5 *       *       *       *       /bin/sh /home/pflogger/pfl2sysl
</tt>
</blockquote>

<p>
また、<tt>/etc/syslog.conf</tt> ファイルに以下の行を追加します。
<blockquote>
<tt>
local0.info &nbsp;&nbsp;&nbsp;&nbsp;/var/log/pflog.txt
</tt>
</blockquote>

<p>
そして、リモートサーバにログを取得世気擦訃豺腓砲蓮焚爾旅圓鯆媛辰靴討い討誓さい。
<blockquote>
<tt>
local0.info &nbsp;&nbsp;&nbsp;&nbsp;@@syslogger
</tt>
</blockquote>

<p>
ここで、ホスト <i>syslogger</i> が
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5&amp;manpath=OpenBSD+3.4"
>hosts(5)</a> ファイル内に定義されていることを確認しておいてくだ世気ぁ

腫上記のファイルに syslog でログを取得世垢襪燭瓠焚爾里茲Δ
儒癇閾肚閾鹿ファイルを誓言成します。
<blockquote>
<tt>
# touch /var/log/pflog.txt
</tt>
</blockquote>

<p>
最後に syslogd に HUP シグナルを送信して、誓瀋蠅諒儿垢鯆銘里靴泙后
錫跫站髟阡緇
儒
謇跛晩え竅癇跫膊韈筴
鹿鹿碎閭鞫
腫これで、すべての取得世靴織僖吋奪箸離蹈阿少鬲跫膀鞴跫膊
に送り込まれるようになります。もし、ふたつ目の行が追加されていれば、
リモートのログ取得斥僖曠好蘊齷鼬閾艱鮗にログを送信します。

<p>
これからは、スクリプト <tt>/etc/pflogrotate</tt> が処理を行うようになりますので、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&amp;sektion=8&amp;manpath=OpenBSD+3.4"
>newsyslog(8)</a> による <tt>pflog</tt> のローテーションは不要になりますので、
これを無効化して、<tt>/var/log/pflog</tt> ファイルも削除してくだ世気ぁ
しかし、<tt>/var/log/pflog.txt</tt> で <tt>/var/log/pflog</tt> が置き換えられますので、
そのローテーションが有効化されなければなりません。
そのためには、<tt>/etc/newsyslog.conf</tt> を以下のように変更してくだ世気ぁ
腫鱚鬲跫膀鞴跫彊乙畋鬲鴣遲鞴跫舮蜆
癇閾肚閾彊鹿頏緇

腫これで、PF は ASCII で <tt>/var/log/pflog.txt</tt> にログを取得世垢襪茲Δ砲覆蠅泙靴拭
もし、<tt>/etc/syslog.conf</tt> 内にそのように誓瀋蠅垢譴弌估ぢはリモートサーバにログを
送信します。ログの取得世歪召舛帽圓錣譴襪錣韻任呂△蠅泙擦鵑⊆萋誓したパケットのログが
ファイルに記録されるまでの遅延時間は、(cron ジョブの間隔である)
およそ 5 〜 6 分程度でしょう。

<p>
[<a href="tagging.html">前に戻る: パケットのタグ付け</a>]
[<a href="index.html">目次</a>]
[<a href="perf.html">次に進む: 誓鹿畩
腫取鮠
釈鱚羹∫鈔纔譬昭蜊蒹蜃蔗就牡糘莉刈鱆就轣艱鶩矚站蜀硼鰾纈就唖踉就桙痺諫⊂鹿畩釈鱚羹瘟踉鏈戦鞳鈞黻鱧⊂戦鞳鈞黻鱧鹿畩
錫鮠
首轣跛蜃蜴瘡踟緕帯頂閾芍鈑讙窺嘘
錫鮠
ぴ鱇銖赱闔跫艸蜴膊蔗迪屋梓丑鯵戯渦佐鼈祷錫鮠
は鞳鄲喞跫艸蜴膊蔗迪屋梓起姐杭妓魂黶痲
鹿鼾瘡貍

鹿硼糯鹿蔗迪


窺臼
跫栴繻蝌嶝

絶咳甞蔚
は鞳鄲喞跫艸蜴膊蔗迪屋梓丑葦敢蔚艮鉗站


窺碓
跫績繻蝌嶝

誓


窺跫績繻蝌嶝

絶臼
甕狩續釶辣就竢顆鱸艾槇闔銓就壽蜩閭緕竢顆鱸艾屋鯵緕帯町⊂
箍彊
箜渦
甞渦
蜃蜴瘡踟緕帯頂閾芍鈑讙窺臼
箜唄
甞唄
ぴ鱇銖赱闔跫艸蜴膊蔗迪屋鯵億欝該旭艮鼈祷箜蔚
甞蔚
は鞳鄲喞跫艸蜴膊蔗迪屋鯵丑外該姥紺鉗站


窺跫績繻蝌嶝

絶屋
甓杣蓿繙就瘍芍鈑譬ぢ前に戻る: パケットのタグ付け</a>]
d293 1
a293 1
[<a href="../tagging.html">前に戻る: パケットのタグ付け</a>]
d305 1
a305 1
$Translation: logging.html,v 1.9 2003/12/03 04:48:37 toshi Exp $
@


1.7
log
@Sync with Steelix CVS
@
text
@d20 1
a20 1
[<a href="filter.html">前に戻る: パケットフィルタリング</a>]
d22 1
a22 1
[<a href="anchors.html">次に進む: アンカーと名前付きルールセット</a>]
d293 1
a293 1
[<a href="filter.html">前に戻る: パケットフィルタリング</a>]
d295 1
a295 1
[<a href="anchors.html">次に進む: アンカーと名前付きルールセット</a>]
d303 1
a303 1
Originally [OpenBSD: logging.html,v 1.9 ]
d305 1
a305 1
$Translation: logging.html,v 1.8 2003/11/10 14:53:17 toshi Exp $
d307 1
a307 1
$OpenBSD: logging.html,v 1.9 2003/11/09 23:29:02 nick Exp $
@


1.6
log
@sync with steelix translation CVS
@
text
@d42 1
a42 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflog&amp;sektion=4&amp;manpath=OpenBSD+3.3"
d44 1
a44 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d47 1
a47 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d89 1
a89 1
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1&amp;manpath=OpenBSD+3.3"
d91 1
a91 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1&amp;manpath=OpenBSD+3.3"
d130 1
a130 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d169 1
a169 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d176 1
a176 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d256 1
a256 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5&amp;manpath=OpenBSD+3.3"
d274 1
a274 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newsyslog&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d303 1
a303 1
Originally [OpenBSD: logging.html,v 1.8 ]
d305 1
a305 1
$Translation: logging.html,v 1.7 2003/09/24 04:31:39 toshi Exp $
d307 1
a307 1
$OpenBSD: logging.html,v 1.8 2003/09/22 02:29:03 nick Exp $
@


1.5
log
@sync with steelix cvs
@
text
@@


1.4
log
@sync with steelix cvs
@
text
@d54 2
a55 6
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3"
>pflogd(8)</a> によって書き込まれたログファイルは、
バイナリフォーマットですので、テキストエディタを
使用してこれを読むことはできません。ログを読むためには、
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3"
>tcpdump(8)</a> を使用する必要があります。
d66 2
a67 4
pflog ファイルを見るために
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3"
>tcpdump(8)</a> を使用しても、リアルタイムで表示される<i>わけではない</i>ことに
注意してくだ世気ぁ萋誓されたパケットのログをリアルタイムで表示させるためには、
d77 1
a77 2
ログを調べる場合には、
(<tt>-v</tt> コマンドラインオプションによって有効化される)
d87 1
a87 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3"
>pflogd</a> は、パケットの 96 バイトをログファイルに記録します。
d97 3
a99 7
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3"
>pflogd(8)</a> は
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3"
>tcpdump(8)</a> のバイナリフォーマットでログを記録するので、
ログを表示する際に tcpdump の機能がフルに使用される可能誓△蠅泙后
ですので、たとえば、ある特定のポートにマッチするパケットのみを
見たいだ世韻任靴燭蕁焚爾里茲Δ砲垢襪販匹い任靴腓Α
箟薫
甕薫
杖跫舮┯があれば可能なことです。syslogd(8) は ASCII でログを取得世靴泙垢掘△泙拭
箍寛
甓寛
跫竅谿鈕鬲跫膀鞴跫膊箍軌
甓軌
跫竅谿鈕栴跫艸纈
箍儀
甓儀
少續祚蓖齡鶉稀鹿畩ぢファイル内に定義されていることを確認しておいてくだ世気ぁ
箍彊
甓彊
最後に syslogd(8) に HUP シグナルを送信して、誓瀋蠅諒儿垢鯆銘里靴泙后
箍鍵
甓験
錫跫站髟阡緇
儒
鬲跫膀鞴跫彊乙畋鬲鴣遲鞴跫舮蜆錫鮠
癇閾肚閾彊鹿鹿碎閭鞫箜鯵
甞鯵
蜃蜴瘡踟緕帯頂閾芍鈑讙窺箜圧
甞圧
ぴ鱇銖赱闔跫艸蜴膊蔗迪旭劾姐唄紺杭幹闢蓍
箜扱
甞扱
は鞳鄲喞跫艸蜴膊蔗迪旭劾姐葦魂該換蜒祷

窺跫栴繻蝌鱇銖赱闔嶝

絶咳甞鰻
蜃蜴瘡踟緕帯頂閾芍鈑讙窺箜厩
甞厩
ぴ鱇銖赱闔跫艸蜴膊蔗迪旭劾扱欝艮穏蓋闢蓍
箜憶
甞憶
は鞳鄲喞跫艸蜴膊蔗迪旭劾扱唄紺浦宛蜒祷

窺跫栴繻蝌鱇銖赱闔嶝

絶換
甦キーワードが指定された<a name="filter.html">フィルタ</a>ルールは、
d287 2
a288 2
>newsyslogd(8)</a> による <tt>pflog</tt> は不要になりますので、これを無効化して、
<tt>/var/log/pflog</tt> ファイルも削除してくだ世気ぁ
箜鰻
甞鰻
蜃蜴瘡踟緕帯頂閾芍鈑讙窺箜厩
甞厩
ぴ鱇銖赱闔跫艸蜴膊蔗迪旭劾斡梓叉刑宛闢蓍
箜憶
甞憶
は鞳鄲喞跫艸蜴膊蔗迪旭劾斡芦叉敢宛蜒祷

窺跫齷釿蜚齡繞跚瘤鼬癆蜿置
絶寛
甦釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈鞴跫胼瘢雹黼謾蜿扈侃瘢雹轣鉋癆莉緕帯朝凱晦鞴跫膂鹿畩ぢインターフェイスをリスンしている
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3">
pflogd(8)</a> によって行われ、パケットはログファイル
d47 2
a48 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3">
tcpdump(8)</a> のバイナリフォーマットで書き込まれます。<tt>log</tt> か <tt>log-all</tt>
d54 2
a55 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3">
pflogd(8)</a> によって書き込まれたログファイルは、
d58 2
a59 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3">
tcpdump(8)</a> を使用する必要があります。
d71 2
a72 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3">
tcpdump(8)</a> を使用しても、リアルタイムで表示される<i>わけではない</i>ことに
d94 2
a95 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3">
pflogd</a> は、パケットの 96 バイトをログファイルに記録します。
d97 4
a100 4
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=telnet&amp;sektion=1&amp;manpath=OpenBSD+3.3">
telnet(1)</a> や
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftp&amp;sektion=1&amp;manpath=OpenBSD+3.3">
ftp(1)</a> のユーザ名やパスワードのような)
d105 4
a108 4
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pflogd&amp;sektion=8&amp;manpath=OpenBSD+3.3">
pflogd(8)</a> は
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3">
tcpdump(8)</a> のバイナリフォーマットでログを記録するので、
d142 2
a143 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tcpdump&amp;sektion=8&amp;manpath=OpenBSD+3.3">
tcpdump(8)</a> のフィルタルールだ世韻任覆緕帯の tcpdump フィルタ言生譴蓮
箟険
甕顕
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈齷鼬閾筅瘢雹黼謾蜿扈研瘢雹轣鉋癆莉緕帯朝凱晦齷鼬閾筥県鹿畩ぢがあれば可能なことです。syslogd(8) は ASCII でログを取得世靴泙垢掘△泙拭
箟幻
甕弦
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈痲糒黼鬢瘢雹黼謾蜿扈研瘢雹轣鉋癆莉緕帯朝凱晦痲糒黼鬥県鹿畩ぢを使用することでしょう。
d268 2
a269 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hosts&amp;sektion=5&amp;manpath=OpenBSD+3.3">
/etc/hosts(5)</a> ファイル内に定義されていることを確認しておいてくだ世気ぁ
箍原
甓厳
釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈鈬跫胼瘢雹黼謾蜿扈研瘢雹轣鉋癆莉緕帯朝凱晦鈬跫舮┯による <tt>pflog</tt> は不要になりますので、これを無効化して、
d317 1
a317 1
Originally [OpenBSD: logging.html,v 1.3 ]
d319 1
a319 1
$Translation: logging.html,v 1.2 2003/06/04 12:51:12 toshi Exp $
d321 1
a321 1
$OpenBSD: logging.html,v 1.3 2003/05/15 03:03:54 nick Exp $
@

