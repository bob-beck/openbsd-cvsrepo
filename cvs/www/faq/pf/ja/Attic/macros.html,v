head	1.10;
access;
symbols;
locks; strict;
comment	@# @;


1.10
date	2005.08.13.08.24.51;	author saad;	state dead;
branches;
next	1.9;

1.9
date	2004.05.09.09.58.22;	author saad;	state Exp;
branches;
next	1.8;

1.8
date	2004.01.04.22.47.55;	author horacio;	state Exp;
branches;
next	1.7;

1.7
date	2003.12.03.21.55.18;	author horacio;	state Exp;
branches;
next	1.6;

1.6
date	2003.11.10.21.40.53;	author horacio;	state Exp;
branches;
next	1.5;

1.5
date	2003.11.03.16.54.43;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2003.09.26.13.21.47;	author horacio;	state Exp;
branches;
next	1.3;

1.3
date	2003.09.19.16.44.17;	author horacio;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.13.12.05.29;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.30.10.20.57;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.10
log
@remove unmaintained [ja] translation files.  requested by translator.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Lists and Macros</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
<meta name="copyright"     content="This document copyright 2002-2004 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
<p>
[<a href="config.html">前に戻る: はじめに</a>]
[<a href="index.html">目次</a>]
[<a href="tables.html">次に進む: テーブル</a>]

<h1><font color="#e00000">PF: リストとマクロ</font></h1>
<hr>

<h3>目次</h3>
<ul>
<li><a href="#lists">リスト</a>
<li><a href="#macros">マクロ</a>
</ul>

<hr>

<a name="lists"></a>
<h2>リスト</h2>
リストは、ルールの中に同様の判断基準を複数記述することを許しています。
たとえば、複数のプロトコル、ポート番号、アドレスなどです。
ですので、ブロックする必要のある各 IP アドレス用にそれぞれ
フィルタルールを書く代わりに、リスト中に複数の IP アドレスを
指定することで、ひとつのルールを書くことができます。リストは、
その要素を <tt>{ }</tt> の中に記述することで定義されます。

<p>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4"
>pfctl(8)</a> がルールセットをロード中にリストを見つけると、
これをひとつひとつがリストのそれぞれの要素に対応する、
複数のルールに展開します。たとえば、
<blockquote>
<tt>
block out on fxp0 from { 192.168.0.1, 10.5.32.6 } to any
</tt>
</blockquote>

<p>
は次のように展開されます。
<blockquote>
<tt>
block out on fxp0 from 192.168.0.1 to any<br>
block out on fxp0 from 10.5.32.6 to any
</tt>
</blockquote>

<p>
ルール中に複数のリストを指定することが可能で、
また、以下の例のようにフィルタルールだ世韻妨堕蠅気譴泙擦鵝
錫跫站髟阡緇
儒
鰾闔頏阡胙闕銷瘤竟鶯鍵錫鮠
碵雹碵雹碵雹厩荻蔚軒握脅碣碎閭阨闔頏阡胙闕慌狂楴碣
碵雹碵雹碵雹碓荻銷闥齠跪續
鹿鹿碎閭鞫
腫リストの要素の間のカンマはオプショナルであることに注意してくだ世気ぁ

釈瘢綵痺鳫鵞昭取仮マクロ</h2>
マクロは、IP アドレス、ポート番号、インターフェイス名などを保持する、
ユーザ定義の変数です。マクロは PF のルール集合の複雑さを軽減し、
ルールセットをより簡単にメンテナンスすることができるようにしてくれるものです。

<p>
マクロ名は英文字から始まり、英数字とアンダ澄璽好灰△魎泙瀑誓るものです。
マクロ名には <tt>pass</tt>、<tt>out</tt> や <tt>queue</tt> のような
予約語を使用することはできません。
<blockquote>
<tt>
ext_if = "fxp0"<br>
<br>
block in on $ext_if from any to any<br>
</tt>
</blockquote>

<p>
上記は、<tt>ext_if</tt> という名前のマクロを誓言成します。マクロがその誓言成後に
参照されると、その名前の誓萋召鹿文字が付与されます。

<p>
マクロは以下のようなリストに展開することもできます。
<blockquote>
<tt>
friends = "{ 192.168.1.1, 10.0.2.5, 192.168.43.53 }"
</tt>
</blockquote>

<p>
マクロは再帰的に定義することができます。クウォートで囲まれたマクロは
展開されませんので、次のようなシンタクスを使用する必要があります。
<blockquote>
<tt>
host1      = "192.168.1.1"<br>
host2      = "192.168.1.2"<br>
all_hosts  = "{" $host1 $host2 "}"<br>
</tt>
</blockquote>

<p>
このマクロ <tt>$all_hosts</tt> 場合、192.168.1.1、192.168.1.2 に展開されます。

<p>
[<a href="config.html">前に戻る: はじめに</a>]
[<a href="index.html">目次</a>]
[<a href="tables.html">次に進む: テーブル</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: macros.html,v 1.9 ]
<br>
$Translation: macros.html,v 1.7 2004/01/03 05:24:39 toshi Exp $
<br>
$OpenBSD: macros.html,v 1.9 2004/05/09 09:58:22 saad Exp $
</small>

</body>
</html> 
@


1.9
log
@sync with Steelix CVS
@
text
@d138 1
a138 1
$OpenBSD: macros.html,v 1.9 2004/01/01 04:16:17 nick Exp $
@


1.8
log
@Sync with Steelix CVS
@
text
@@


1.7
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name="copyright"     content="This document copyright 2002-2003 by OpenBSD.">
d134 1
a134 1
Originally [OpenBSD: macros.html,v 1.8 ]
d136 1
a136 1
$Translation: macros.html,v 1.6 2003/12/03 04:48:37 toshi Exp $
d138 1
a138 1
$OpenBSD: macros.html,v 1.8 2003/11/27 15:08:25 nick Exp $
@


1.6
log
@Sync with Steelix CVS
@
text
@d20 1
a20 1
[<a href="config.html">前に戻る: 誓瀋鹿畩箟牡
甕牡
杣蓿繙就竢鈕蜃譬ぢ前に戻る: 誓瀋鹿畩箟慨
甕慨
蜃蜴瘡踟緕帯頂痺鳫鶤蔗迪
箟涯
甕涯
ぴ鱇銖赱闔轣竰闢讙窺屋鯵丑碓敢騎艮鼈祷箟蓋
甕蓋
は鞳鄲喞轣竰闢讙窺屋鯵丑姐該温紺鉗站


窺跫栴繻蝌鱇銖赱闔嶝

絶患
甦釈鱚羹∵雕關緕碵筮闥膀竍薛砠遲轣隨竍蘓髟纈鞴笏讀瘢雹黼謾蜿扈研瘢雹轣鉋癆莉緕帯朝凱晦
箟慨
甕慨
蜃蜴瘡踟緕帯頂痺鳫鶤蔗迪
箟涯
甕涯
ぴ鱇銖赱闔轣竰闢讙窺屋鯵康牡敢咳些鼈祷箟蓋
甕蓋
は鞳鄲喞轣竰闢讙窺屋鯵康臆穏温紺鉗站


窺跫栴繻蝌

誓


窺跫栴繻蝌

絶欝
箟慨
甕慨
蜃蜴瘡踟緕帯頂痺鳫鶤蔗迪
箟涯
甕涯
ぴ鱇銖赱闔轣竰闢讙窺屋鯵康姥敢姐佐鼈祷箟蓋
甕蓋
は鞳鄲喞轣竰闢讙窺屋鯵康蔚浦桶佐鉗站


窺跫栴繻蝌鱇銖赱闔嶝

絶挟
甼また、以下の例のようにフィルタルールに限定されません。
d85 1
a85 1
マクロ名には <tt>pass</tt>、<tt>out</tt>、<tt>queue</tt> などのような
d132 1
a132 1
Originally [OpenBSD: macros.html,v 1.4 ]
d134 1
a134 1
$Translation: macros.html,v 1.2 2003/06/13 04:57:08 toshi Exp $
d136 1
a136 1
$OpenBSD: macros.html,v 1.4 2003/06/13 02:54:08 nick Exp $
@


1.1
log
@
sync with steelix translation CVS
@
text
@d43 2
a44 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.3">pfctl(8)</a>
がルールセットをロード中にリストを見つけると、
d132 1
a132 1
Originally [OpenBSD: macros.html,v 1.3 ]
d134 1
a134 1
$Translation: macros.html,v 1.1 2003/05/29 12:35:12 toshi Exp $
d136 1
a136 1
$OpenBSD: macros.html,v 1.3 2003/05/15 03:03:54 nick Exp $
@

