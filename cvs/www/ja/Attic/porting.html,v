head	1.18;
access;
symbols;
locks; strict;
comment	@# @;


1.18
date	2008.03.31.20.01.46;	author tobias;	state dead;
branches;
next	1.17;

1.17
date	2006.11.04.17.38.44;	author saad;	state Exp;
branches;
next	1.16;

1.16
date	2006.05.03.14.48.28;	author saad;	state Exp;
branches;
next	1.15;

1.15
date	2005.12.11.05.56.09;	author saad;	state Exp;
branches;
next	1.14;

1.14
date	2005.09.28.19.46.30;	author saad;	state Exp;
branches;
next	1.13;

1.13
date	2005.09.01.16.30.40;	author saad;	state Exp;
branches;
next	1.12;

1.12
date	2005.01.28.14.07.57;	author saad;	state Exp;
branches;
next	1.11;

1.11
date	2005.01.20.19.41.29;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2004.05.09.09.58.23;	author saad;	state Exp;
branches;
next	1.9;

1.9
date	2004.02.19.11.35.31;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2004.02.15.18.18.42;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2003.11.03.16.46.37;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2003.10.02.12.03.09;	author horacio;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.19.16.27.12;	author horacio;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.27.21.14.44;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2003.05.05.09.39.08;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2003.04.15.17.16.33;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2003.02.05.19.43.39;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.18
log
@Sync with Steelix CVS
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
 <head>
  <meta http-equiv="Content-Type"
        content="text/html; charset=iso-2022-jp">
  <meta name="resource-type"
        content="document">
  <meta name="description"
        CONTENT="How to make an OpenBSD port">
  <meta name="keywords"
        content="openbsd,ports">
  <meta name="distribution"
        content="global">
  <meta name="copyright"
        content="This document copyright 1997-2006 by OpenBSD.">
  <title>OpenBSD の ports のビルド</title>

  <link rev="made" HREF="mailto:www@@openbsd.org">
 </head>
 <body text="#000000" bgcolor="#FFFFFF" link="#23238E">
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>

  <h2><font color="#e00000">OpenBSD の ports のビルド</font></h2>

   気に入ったソフトウェアを OpenBSD マシン上でコンパイルしたとしましょう。
   そして努力の結果を標準の ports として共有したくなりました。
   さて、どうすれば良いのでしょう ?
  <p>
   そのとき最も重要なのは<strong>会話すること</strong>です。まず
   <a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a> の人たちに、同じ
   ports で作業していないかどうか聞いてみましょう。次に、<em>ソフトウェアの
   作者に伝えましょう。</em>その際、あなたが見つけた問題点世盍泙瓩襪茲Δ
ぢします。ライセンス情報が誓気靴覆い茲Δ覆蕁舛┐泙靴腓ΑＤ召気覆い
闥ぢがビルドできないような問題があれば、修誓喫，鮹里蕕擦泙后
ぢもしも作者たちが Linux 上でのみ開発していて、その他の Unix の誓こΔ
ぢ無視しているようなら、彼らの見方を変えるように努力してみましょう。
  <p>

   <strong>会話こそ</strong>、誓垢闥ぢと
   徐々に廃れていく ports の違いなのです。
  <p>
   まず、このページにある移植のための情報に目を通してくだ世気ぁ修靴董
ぢ参照ドキュメント、特に OpenBSD への移植に関する
   <a href="checklist.html">チェックリスト</a>もチェックしてくだ世気ぁ
腫ぢテストしてくだ世気ぁ，法▲謄好箸鬚靴討誓さい。最後に、もう一度テストしてくだ世気
腫ぢそして ports を投稿します。まずディレクトリの gzip 圧縮 tar ボールを
   作誓靴泙靴腓Α修譴蕁瀞か HTTP の公開サーバに置いてその場所を
   <a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a> 宛に送るか、
   あるいは ports を MIME エンコードして同じアドレスに送るかしてくだ世気ぁ
ぢどちらでも、都合のよい方を選んでくだ世気ぁ


取馨惹闔竢跫鮟■旭旭絨⊂移植ドキュメントの目次</font></h3>
<ul>
<li><a href="#Avail">移植について得世蕕譴訃霾鹿畩鹿跚殊蘊釈鱚羹■倆跚笙⊂緕帯の移植ポリシー</a></li>
<li><a href="#Security">セキュリティ上の推奨</a></li>
<li><a href="#Generic">一般的な移植のヒント</a></li>
<li><a href="#Other">その他の役に立つヒント</a></li>
</ul>

  <h3><font color="#0000e0"><a name="Avail">移植について得世蕕譴訃霾鹿畩鹿肬銓昭馨

受貍
跚章鞳鄲喞ぢの移植<a href="checklist.html">チェックリスト</a>。
   <li>マニュアルページ、
   <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=bsd.port.mk&amp;sektion=5">bsd.port.mk(5)</a>。
       これは、各 ports の makefile 末尾に書かれる、ports
       のインフラストラクチャーとなる makefile について誓睫誓しています。
       このファイル自体には誓萋望轡灰瓮鵐箸△襪誓けですが、
       役に立つ情報は既にほとんど
       ドキュメント化されています。
   <li>他 BSD の ports システムとの差異。ほとんどは
   <a href="../porting/ja/diffs.html">インフラストラクチャーの差異</a>に要約されています。
   <li><a href="../porting/ja/libraries.html">OpenBSD ports での共有ライブラリ
   の使用について</a>。ここにある規則は、共有ライブラリを使う最初の段階から
   <strong>非常に重要</strong>です。
   <li><a href="../porting/autoconf.html">GNU autoconf 関連の注意点鹿畩。
   これは、OpenBSD ports における GNU autoconf の使い方を扱ったものです。
   <li><a href="../porting/config.html">誓瀋螢侫．ぅ鹿畩という、
   慣れていない開発者がつまずきやすい点澄△修靴得設定ファイルを扱う
   OpenBSD ports 独自ツールについて。
   <li><a href="audio-port.html">オーディオアプリケーションの OpenBSD への移植法</a>。
   <li>

       <a href="http://www.netbsd.org/Documentation/software/packages.html">
       NetBSD パッケージシステム</a>の資料。この文書は NetBSD 版の FreeBSD
       ports システムというようなものについて誓睫誓してあり、かなり役立ちます。
   <li><a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/porters-handbook/index.html">FreeBSD
       port 作誓圓里燭瓩離魯鵐疋屮奪鹿畩訳注: <a href="http://www.freebsd.org/doc/ja_JP.eucJP/books/porters-handbook/">和訳もあります</a>)。
       これは FreeBSD への移植のバイブルです。
   <li>OpenBSD ports メーリングリスト
       <a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a>。
  </ul>
  <h3><font color="#0000e0"><a name="Policy">OpenBSD の移植ポリシー</a></font></h3>

  <ul>
   <li>OpenBSD では <code>/usr/local/etc/rc.d</code> を使用<strong>しません</strong>。
       <code>/usr/local</code> は、しばしば NFS を利用していくつかの
         マシン間で共有されていることがあるため、各マシン誓賤僂
ぢ誓瀋螢侫．ぅ襪鮹屬海箸任此
竢粤少續禺閼緇ぢがマシンごとの誓瀋螢侫．ぅ襪垢戮討涼崗譴箸覆辰討い泙后
ぢさらに、OpenBSD のポリシーでは、<code>/etc</code> の下のファイルは
         決して自動更新されません。起動のために特別な誓瀋蠅鰺廚垢闥ぢは、
         勝手にファイルをインストールするのではなく、誓瀋蠎蟒腓魎浜圓
ぢ提案するべきなのです。
   <li>OpenBSD は man ページを圧縮<strong>しません</strong>。
   <li>OpenBSD は <code>-lcrypt</code> を必要と<strong>しません</strong>。<br>

       DES による暗号化は標準 <code>libc</code> の一部となっています。
   <li>OpenBSD では、ports によって誓言成されるユーザおよびグループの名前空間を分けています。
       詳細は、<code>/usr/ports/infrastructure/db/user.list</code> を参照してくだ世気ぁ
跚章鞳鄲喞ぢは強力なセキュリティ指向に立脚しています。このページの
       <a href="#Security">セキュリティの章</a>を読んで理解しておいてくだ世気ぁ
跚祥瘠繙蛹中に <code>&#36;OpenBSD&#36;</code> CVS タグを入れるのを
       忘れないようにしてくだ世気ぁ泙拭召離轡好謄爐闥ぢを持ってくる
       場合には、そのシステムのタグも残しておくようにしてくだ世気ぁ
跚ぢ目標は、すべての移植済アプリケーションを OpenBSD に対応させることです。
       これを達誓垢襪燭瓠▲▲廛螢院璽轡腑鵑離瓮鵐謄覆鞳鄲喞ぢ用のパッチを
       フィードバックする<strong>必要があります。</strong>

  </ul>
  <h3><font color="#0000e0"><a name="Security">セキュリティ上の推奨</a></font></h3>
  気を付けるべきセキュリティ上の問題が多数あります。これらについて、
       大丈夫だ世箸い絶対の確信が持てない場合は、どうぞ
       <a href="mailto:ports@@openbsd.org">ports</a>
       メーリングリストに援助を求めてくだ世気ぁ

受貍
跚情闥ぢを用意する際に、アルファやベータバージョンのコードは使用<em>しない</em>で
       くだ世気ぁ膿靴猟名錺弌璽献腑鵑僖奪船弌璽献腑鵑鮖藩僂垢襪茲Δ砲靴討誓さい。

   <li>サーバとしてインストールされるいかなるソフトウェアに対しても、
       バッファオーバーフロー、特に <code>strcat/strcpy/strcmp/sprintf</code>

       の安全でない使用法について検査を行うべきです。また、一般的に、
       <code>sprintf</code> は <code>snprintf</code> に置き換えるべきです。

   <li>安易にファイル名を使用して本当のセキュリティを犠誓靴砲靴覆い海箸任后正当に誓
ぢされていない部分には数多くの競合状態が発誓犬憩誓ます。たとえば、あなたのマシン上
       のユーザ権限を既に手に入れた攻撃者は、<code>/tmp</code> の下のファイルを、
       <code>/etc/master.passwd</code> のような、より重要なファイルへの
       シンボリックリンクに置き換えてしまうかも知れません。

   <li>たとえば、<code>fopen</code> および <code>freopen</code> のどちらも、書き込み時に
       <strong>新しいファイルを作誓垢襪犬離侫．ぅ襪鬟璽廛鵑垢鹿齡鳫鈑ぢものです。
       攻撃者は、<code>/etc/master.passwd</code> へのシンボリックリンクを
       <code>/tmp/addrpool_dump</code> として作誓垢襪眞里譴泙擦鵝海譴鬟璽廛鵑靴
ぢその瞬間に、パスワードファイルはきれいさっぱり消えてしまいます。
       そうです、直前に <code>unlink</code> しても同じことです。それは危険誓
ぢ小さくするに過ぎません。代わりに、<code>open</code> を <code>O_CREAT|O_EXCL</code>

       付きで使って <code>fdopen</code> してくだ世気ぁ
跚ぢもうひとつ非常によくある問題として、<code>mktemp</code> 関数があります。
       これを使っているときの BSD リンカの警告に注意してくだ世気ぁ
齡鳫鈑ぢこれは修誓気靴覆韻譴个覆蕕覆い發里覆里任鹿齡鳫鈑ぢ。
       <code>s/mktemp/mkstemp/g</code> という単純なものではありません。<br>
       詳しい指示については、
	   <a href="http://www.openbsd.org/cgi-bin/man.cgi?sektion=3&amp;query=mktemp"
	   ><code>mktemp(3)</code></a> を参照してくだ世気ぁ竢粤壌謫逅鹿竢粤を使用する誓気靴ぅ魁璽匹領磴箸靴董
竢粤上篌閼緇ぢや <code>mail</code> のソースがあります。
       <code>mktemp</code> を誓気靴藩僂垢訖覆ぅ魁璽匹亮体磴蓮
竢粤条齷釿鹿竢粤の ports に見ることができます。

   <li>読めるからといって、読んでいいということにはなりません。この種の良く知られた穴は
       <code>startx</code> 問題です。setuid プログラムでありながら、startx は起動時に
       どのようなファイルでもスクリプトとして受け取ることができました。そのファイルが
       誓気靴ぅ轡Д襯好螢廛箸任覆辰浸砲魯轡鵐織好┘蕁璽瓮奪察璽犬个燭里任垢
ぢそこでパーミッションチェックをせずにファイルの最初の行が表示されてしまっていました。
       シャドウパスワードファイルは最初の行がしばしば root ユーザのエントリですから、
       そこを盗み出せるというのは攻撃者にとって実に便利なことなのです。ファイルをオープン
       してしまった後で「オープンしても良かったのか」と確認するためディスクリプタを
       <code>fstat</code> するのではなく (それでは攻撃者が /dev/rst0 でいたずらをすれば
       テープが巻き戻されてしまいます)、誓気靴蜆蜆鳫跚齡ぢを使用してオープンしましょう。

   <li>特権を落とす前の setuid プログラムからは、いかなるシェルも
       フォークしてはいけません。これには、<code>popen</code> や
       <code>system</code> も含まれます。代わりに、<code>fork</code>、
       <code>pipe</code> や <code>execve</code> を使用するようにしましょう。

   <li>競合状態を避けるため、他のプログラムにはファイル名ではなくオープンした
       ディスクリプタをわたすようにしましょう。プログラムがファイルディスクリプタを
       受け取ることができない場合でも、<code>/dev/fd/0</code> なら使用できるはずです。

   <li>アクセス権限はファイルディスクリプタに割り付けられます。ファイルをオープン
       するために setuid の権限が必要なら、ファイルをオープンした後に特権を落としてくだ世気ぁ
ぢオープン済のディスクリプタに対してはまだ瀬▲札慌椎修任垢坩尊猯舛聾困蠅泙后
ぢしかし、これは両刃の剣です。特権を落とした後でも、これらの
       ディスクリプタに注意を払っておく必要があるのです。

   <li>できる限り、root の setuid は避けてくだ世気ぁ４靄榲闖は何でもできますが、
       おそらく、1024 未満の番号のソケットポートを誓言成する場合を除けば、root 権限が
       必要となることは非常に稀なことなのです。そのようなことは、<code>inetd</code>

       の誓罎硫爾肪屬い討里修蕕茲衫匹な，任△蝓△海譴話韻
ぢ関連するエントリを <code>inetd.conf</code> に追加するだ世韻任后
ぢそのためには、デーモンを書くための適誓気塀僂鮹里辰討廚△蠅泙后
ぢもし、そのようにするための方法を御存知ないのであれば、setuid プログラムを
       書くのはあなたの仕事ではないと言世┐襪眞里譴泙擦鵝

跚杖續の代わりに setgid を使用してくだ世気ぁ黼蜆ぢプログラムが必要とする特定の
       ファイルを除けば、ほとんどのファイルはグループ書き込み可能にはなっていません。
       ですので、setgid プログラムのセキュリティの問題は、あまりシステムの脅威には
       ならないはずです。ただ世掘▲哀襦璽廚慮造任癲∈念両豺腓砲蓮⊃圓魯押璽爐
ぢスコアテーブルをハックしたり、まぁその程度のことができる場合があります。
       そのような変更の実例としては、ports の <code>xkobo</code> を参照してくだ世気ぁ

跚ぢグループ書き込み可能なファイルを信用してはいけません。
       監査されているとしても、setgid プログラムは重大な誓濺札絅螢謄曄璽襪箸
ぢ考えられていないのです。よって、そうしたプログラムで改変することのできる情報を
       確実なものとみなすべきではありません。

   <li>環境変数を信用してはいけません !  これは <code>PATH</code> のような単純なものでも
       関係のあることで (決して誓査困気譴討覆ぬ樵阿竢粤杖躰閼緇ぢを使用してはいけませんし、
       <code>execvp</code> の使用は避けましょう)、locale、timezone、termcap などのような微妙なもの
       についても同様です。プログラムが他のプログラムを実行することもあるという点世肪躇佞靴泙靴腓Α
ぢあなた自身が直誓楔討喀个垢箸砲匹譴曚漂擔瓦涼躇佞鯤Г辰燭箸靴討癲△修離廛蹈哀薀爐召
ぢプログラムを呼び出すときに注意を払ってくれるとは限りません。<strong>決して</strong>、
       特権を持つプログラム上で <code>system</code> を呼び出してはいけません。コマンドラインを作誓掘
ぢ誓羃椎修粉超竸瑤鰺儖佞靴疹紊如樟接 <code>execve</code> を呼び出します。
       <code>perlsec</code> の man ページは、このような問題に対する良い手引書です。

   <li>setuid されたシェルスクリプトは決して使用してはいけません。このようなものは本質的
       に安全ではありません。それらは誓掬粉超竸瑤鯤歉擇垢襪燭瓩ぢコードでラップして
       使用しましょう。これに対して、OpenBSD には安全な Perl スクリプトがあります。

   <li>ダ瀬ぅ淵潺奪蹇璽誓にも注意が必要です。setuid プログラムを実行しているなら、
       ldconfig がスキャンした信用できるライブラリのみを使用してくれます。
       しかし、setgid にはそのような仕組みはありません。

   <li>ダ瀬ぅ淵潺奪薀ぅ屮薀蠅魯肇螢奪爾任后谷のコードにも同様の問題があります。
       基本的に言世辰謄薀ぅ屮薀蠅蓮▲瓮ぅ鵐廛蹈哀薀犲箸續をチェックする前
       でさえ、その環境に基づいてある種の動きをするかも知れません。
       OpenBSD の <code>issetugid</code> は、ライブラリを書く側の観点世蕁△海量簑蠅
ぢ解決してくれます。この問題を完全に理解できるまで、ライブラリは
       移植しようとしない方が良いでしょう。
  </ul>

  <h3><font color="#0000e0"><a name="Generic">一般的な移植のヒント</a></font></h3>
  <ul>
   <li>使うとしても、<code>__OpenBSD__</code> は慎重に使うべきです。
       次のような構文、
       <pre>
            #if defined(__NetBSD__) || defined(__FreeBSD__)
       </pre>
       は、しばしば適誓擇任呂△蠅泙擦鵝任垢里如燭盥佑┐困竢粤醤瀟鞳鄲喞烝鹿竢粤
ぢを追加してはいけません。その代わりに、それが何をしようとしているのか、実際に何が
       必要なのかの理解に努めてくだ世気ぁＢ燭両豺隋▲泪縫絅▲襯據璽犬鯲舛泙后
ぢ特殊な機能がいつ BSD に組み込まれたかなどの記述や歴史的なコメントを含んでいるからです。
       知られているリリース番号と <code>BSD</code> の数値を比較する
       のが誓気靴い海箸眤燭い任靴腓Α茲蠑椶靴ぞ霾鵑蓮
蓿繙就蔗痕續碵筮闥膀弟笊辣銓癆蜿遲韜苴鱆称續帯パッケージガイド</a>
       を参照してくだ世気ぁ
跚昭竢粤沼喞鹿竢粤を定義するのは良い考えではありません。<code>sys/param.h</code>
       をインクルードしてみてくだ世気ぁ修海砲竢粤沼喞鹿竢粤が定義されているだ世
ぢではなく、適誓気蔽佑睛燭┐蕕譴討い泙后正しいコード例の一部を以下に示します。
       <pre>

           #if (defined(__unix__) || defined(unix)) &amp;&amp; !defined(USG)
           #include &lt;sys/param.h&gt;
           #endif
       </pre>
   <li>OS の種類ではなく、機能の有無をテストしてくだ世気ぁＤ垢ぬ椶埜譴弌
竢粤浄竍續癆鹿竢粤が動作するかどうかをテストするほうが、BSD 4.3 以降
       や SystemV R4 で実行しているかどうかをテストするより、とても有用です。
       後者のテストは、ただ戚簑蠅鯤┐砲垢襪誓けです。行くべき道は、たとえば、
       ある特定のシステムをテストするために <code>HAVE_TCGETATTR</code> のような
       定義を多数用意して、それから次のシステムのテストに進むというものです。
       この技法は特定の OS から機能テストを分離することができるものです。
       そして容易に別の移植者が <code>-DHAVE_XXX</code> の全セットを Makefile 中に
       加えることもできるようになります。また、ある人は、configure スクリプトに
       その機能をチェックし、そして自動的にその機能を追加するためのスクリプトを
       追加したり書き起こしたりすることもできるのです。真似してはいけない例として
       nethack 3.2.2 のソースをチェックしてみてくだ世気ぁ轡好謄爐離織ぅ廚亡陲鼎い董
ぢロードするものを仮定するようになっています。そして、このような仮定のほとんどは
       既に時代遅れで実態を反映していません。POSIX 関数の有無は、誓里喞ぢと SystemV
       との違い以上に役立つものであり、伝統的な BSD 関数は今や互換ライブラリを
       通してサポートされるだ世韻噺誓えるほどなのです。

   <li>他のインクルードファイルをインクルードするインクルードファイルをインクルードする...
       というのは避けてくだ世気ぁ泙此△海譴枠鷂任垢掘△笋討海離廛蹈献Д箸蓮
ぢ何もかもをインクルードするファイルをインクルードするようになってしまうでしょう。また、
       解決が困難な問題を起こしたり、ある場所で特定のファイルをインクルード<em>しない</em>

       ようにするのが困難になってしまったりします。

   <li>マクロを使用した奇抜なトリックは避けてくだ世気ぁ悒奪誓ファイルで定義されたマクロを
       未定義にするのは良い考えではありません。また、インクルードファイルの特定の挙動の
       ためだ世韻縫泪蹐鯆蟲舛垢襪海箸睥匹す佑┐任呂△蠅泙擦鵝灰鵐僖ぅ襯癲璽匹
ぢグローバルであるべきなのです。POSIX の挙動にしたい場合にはそう誓觚誓しましょう。
       ただ世掘△修里茲Δ砲靴燭い隼廚辰浸誓けではなく、プロジェクト全体を通して
       <code>#define POSIX_C_SOURCE</code> を定義してくだ世気ぁ

跚ぢシステム関数のプロトタイプ誓觚誓は誓簑个暴颪覆い任誓さい。OpenBSD を含む、現代的な
       すべてのシステムでは、このようなプロトタイプ誓觚誓を標準的な場所に持っているからです。
       これらはたとえば、<code>unistd.h</code>、<code>fcntl.h</code> や
       <code>termios.h</code> といった場所のことです。
       man ページには、このようなプロトタイプ誓觚誓がどこにあるのか繰り返し書かれています。
       また、これとは別に、誓気靴ぅ侫．ぅ襪鯑誓るための <code>HAVE_XXX</code> マクロが大量に
       必要になるかも知れません。インクルードファイルは、あらゆる厄介ごとを防止する
       仕組みを持っていますので、同じファイルを二度インクルードしても心配はありません。<br>

       ある種の壊れたシステム用にプロトタイプ誓觚誓を書かなければならないかも知れませんが、
       他のシステムには見せないようにしてくだ世気ぁ蟶遒蠅離廛蹈肇織ぅ彑宣言世若閼緇皷熹鹿竢粤の
       代わりの <code>unsigned long</code> のように)、あなたのシステム上では等価な型を使用している
       かも知れませんが、他のシステムには移植できないかも知れませんし、いくつかの <code>const</code>
       のステータスが間違っているかも知れないなど、いずれ破綻することになるでしょう。
       また、OpenBSD に附属する gcc のようなコンパイラでは、誓気靴ぅ悒奪誓
       ファイルが使用されていれば、<code>strlen</code> のような、いくつかの非常に頻繁に
       使用される関数で、より良い誓修鯣靴燭蠅靴泙后

跚ぢ標準システム関数の名前を他のどのようなものにも使用してはいけません。
       独自の関数が必要なら、独自の名前を使用して、それを各所で呼び出すように
       しましょう。そうしておけば、デフォルトのシステム関数に戻したくなった場合には、
       独自関数のコードをコメントアウトした上で、その独自の名前をシステム関数に
       #define で定義し直すことが必要になるだ世韻任后海谿奮阿諒，任蝋圓錣覆い
ぢくだ世気ぁ海離魁璽匹領磴蓮焚爾里茲Δ覆發里砲覆襪任靴腓Α
腫鱚
頏阡阡鞜鶯蜀粤孑冬累巴嶬
葹闖熈笆粹跂矼鬪蝴縷鈔蜃蜚竏癇碯罘繻黼
蜴竚竢鴪繝肅跂蜴竚齡粲蛯
齷齡纃笏蜿
粤肅鈬闖熈笆笆緕粡
粤肅鉗闔癇
蜀粤孑冬累巴嶬
葹闖熈笆粹跂矼鬪蝴縷鈔蜃蜚竏癇碯罘
鳫鞳粤肅鉗闔
韈竅
闖熈笆遯規
鱚鹿取馨惹闔竢跫鮟■旭旭絨⊂釈瘢綵∀纈⊂その他の役に立つヒント</a></font></h3>
  <ul>
   <li>最近のバージョンの <code>bsd.port.mk</code> はインストーラのパスを
       セットします。特に、<code>/usr/bin</code> と <code>/bin</code> が
       <code>/usr/local/bin</code> や <code>/usr/X11R6/bin</code> よりも
       <em>誓茲鹿纃ぢ検索されるようになっています。
   <li><code>${NO_SHARED_LIBS}</code> が yes に誓瀋蠅気譴討い訃豺腓砲蓮ν薀ぅ屮薀蠅
ぢ誓言成<em>しないで</em>くだ世気これは <code>bsd.port.mk</code> のインクルード後
       にのみ定義可能であることに注意してくだ世気ぢ。GNU configure を持つ ports の場合は、
       単に Makefile に
       <code>CONFIGURE_ARGS += ${CONFIGURE_SHARED}</code> という行を追加するだ世韻任后
跚ぢユーザは <code>bsd.port.mk</code> を含めて ports ツリー全体を
       更新するでしょうから、<code>bsd.port.mk</code> の最近の
       バージョンで出た機能に依存しても構いません。
       NEED_VERSION は現在は使用されなくなりました。
   <li>パックリストを誓言成・更新する時には、手動でやるのではなく
       <code>update-plist</code> を使いましょう。
       入れたくないものはコメントアウトすることができます。
       ほとんどの場合、<code>update-plist</code> はファイルの種類を検出して、
       必要な情報を誓気靴灰圈爾靴討譴泙后
跚ぢ動作がおかしいスクリプトや makefile などを検出するために、
       <code>/etc/mk.conf</code> に <code>USE_SYSTRACE=Yes</code> を追加しましょう。
   <li>OpenBSD では、<code>curses.h/libcurses/libtermlib</code> が
       ``new curses'' ですので、以下のように変更してくだ世気ぁ錫鮠

竢粤嬢笊鴦纉拾苳笊鴦纉鹿竢粤昭碣竢粤障黼鶤莠閼緇ぢをインクルードする前に、(通常は Makefile 中で)
       <code>_USE_OLD_CURSES_</code>
       を定義し、<code>-locurses</code> としてリンクを行うことによって、
       ``old (BSD) curses'' を利用することもできます。
   <li>OpenBSD では、ターミナルディシプリンが、以前の BSD <code>sgtty</code> から、
       新しい POSIX <code>tcgetattr</code> ファミリにアップグレードされています。
       新しいコードでは、古いスタイルを避けてくだ世気ぁい弔離魁璽匹任蓮
ぢ古い <code>sgtty</code> の同義語として <code>tcgetattr</code> を定義している
       かも知れませんが、これは OpenBSD では、せいぜい間に合わせの手段でしかありません。
       <code>xterm</code> のソースコードは、してはいけないことを非常に良く示す
       例です。システムの機能誓鮴正しい状態にするよう努力しましょう。そのためには
       ターミナルの状態を記憶しておくための型 (おそらく typedef) が必要ですし、
       現在の状態を取得世垢襪燭瓩隆愎瑤筺⊃靴靴屬鮴設定するための
       関数も必要になるでしょう。
       ターミナルの状態を変更する関数の実装はとりわけ困難です。そうした
       関数はシステムによって異なるものだ世蕕任后泙拭▲拭璽潺淵襪
ぢ誓楝海靴討い覆ぞ賁未砲弔い討皸靴錣覆討呂覆蕕覆い海箸筺⊇
ぢだ世韻任呂覆丱奪哀薀Ε鵐匹離轡哀淵若閼緇喇敗嘖仄閼緇ぢも扱う必要があるということを忘れないでくだ世気ぁい捗擦垢襪
ぢしても、ターミナルを健全な状態に戻すべきです。sh のように、
       プログラムが終了しても一誓撻拭璽潺淵襪鮟藉修靴覆い茲Δ
ぢ古いシェルでテストを行ってくだ世気ぁ
跚章鞳鄲喞ぢに含まれている新しい termcap/terminfo および curses は、
       カラーターミナルを誓罎垢襪燭瓩良現狹淵掘璽吋鵐垢魎泙鵑任い泙后
ぢ可能ならこれらを使用すべきであり、他のシステムでは標準の ANSI カラー
       シーケンスに戻してくだ世気ぁ靴掘△い弔離拭璽潺淵襪竜劼呂泙誓
       更新されていませんので、これらのシーケンスを手動で指定する必要がある
       かも知れません。これは vim に実装されている方法でもあります。これは、
       厳密には必要なことではありません。特権を持つプログラムを除いて、一般的には
       <code>TERMCAP</code> 環境変数を通して termcap の定義を上書きすることが
       可能であり、それによって誓気靴て阿鬚気擦襪海箸椎修砲覆蠅泙后
跚ぢややこしいことに、シグナルの用法はシステムによって違います。
       <code>sigaction</code> およびその man ページで参照されている他の
       システムコールを使って、確実に意図通りのシグナルになるようにしてくだ世気ぁ
鹿
取鮠
釈鱚羹∫鈔纔譬昭蜊蒹蜃蔗就牡糘莉刈鱆就痺覡芍罌闥粤鮟瘡∀鞳鄲喞⊂鹿畩釈鱚羹瘟踉鏈戦鞳鈞黻鱧⊂戦鞳鈞黻鱧鹿畩
錫鮠首轣跛次蜃蜴瘡踟緕帯頂闥鈑讙窺亀錫鮠
ぴ鱇銖赱闔竟鶯蜴膊蔗迪屋斡渥渦刑換魂謇迚諷錫鮠
は鞳鄲喞竟鶯蜴膊蔗迪屋斡丑梓刑蓋佐黶痲
鹿鼾瘡貍
鹿硼糯鹿蔗迪

窺鰻
跫栴繻蝌嶝

絶官甦蔚
は鞳鄲喞

窺蔚
跫栴繻蝌嶝

絶温甓更
跚ぢシステム関数のプロトタイプ誓觚誓は誓簑里暴颪覆い任誓さい。OpenBSD を含む、現代的な
d414 1
a414 1
$Translation: porting.html,v 1.14 2006/05/03 01:35:12 kimitake Exp $<br>
@


1.15
log
@sync with Steelix CVS
@
text
@d15 1
a15 1
        content="This document copyright 1997-2004 by OpenBSD.">
d161 3
a163 2
       詳しい指示については、<code>mktemp(3)</code> の man ページ
       を OpenBSD -current 版で参照してくだ世気ぁ
箚嘘
甦唄
蜃蜴瘡踟緕帯頂闥鈑讙窺騎錫鮠
ぴ鱇銖赱闔竟鶯蜴膊蔗迪屋圧億碓減宜艮謇迚諷錫鮠


窺唄
跫栴繻蝌嶝

絶鰻
箍甓ぢあなたはお好みのソフトウェアパッケージをあなたの OpenBSD マシン上で
   コンパイルしたので、その努力の結果を標準の ports として共有したく
   なりました。さて、それにはどうすれば良いのでしょう ?
d29 8
a36 8
   そのとき、あなたがすべき最も重要なことは<strong>会話すること</strong>です。まず、
   <a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a> で、人々に同じ ports について
   作業している人がいないかどうか聞いてみましょう。そして、あなたが見つけた問題点世魎泙瓠
纃ぢ元のソフトウェアの著作者にそのことを伝えましょう。</em> もし、ライセンス情報が
   誓気靴覆い茲Δ妨┐燭覆蕁爐砲修里海箸鯏舛┐泙靴腓Α泙拭△發掘竟鶯のビルドの
   際にループを飛び越えなければならなかったなら、彼にどうすれば修誓飢椎修鯏舛┐泙靴腓Α
ぢさらに、もし、彼らが Linux 上でのみ開発していて、残りの Unix の誓こΔ鯡技襪靴討い襪茲Δ
ぢ見えたなら、彼らの見方を変えるように努力してみましょう。
d38 3
a40 2
   <strong>会話することで</strong>、誓垢闥ぢと、皆からゆっくりと
   避けられていく ports との違いが出てくるのです。
d42 1
a42 1
   まず、このページの移植のための情報に目を通してくだ世気ぁ修靴董
箚甦ぢテストして、またテストして、そして最終テストをもう一度行ってくだ世気
箚甬闥ぢを投稿します。ports のディレクトリの gzip 圧縮をかけた tar ボールを
   作誓靴泙后修靴董△修譴鮓気譴討い墅ぢまたは HTTP サーバに置いて、
   それを <a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a> 宛に送るか、
   あるいは ports を MIME エンコードして上記のアドレスに送るかしてくだ世気ぁ
ぢこれらの方法から、あなたにとって最も都合のよい方を選んでくだ世気ぁ
箋甬殊蘊釈鱚羹■走瘟譬ぢ利用可能な移植ドキュメント</a></li>
d64 2
a65 1
  <h3><font color="#0000e0"><a name="Avail">利用可能な移植ドキュメント</a></font></h3>
d67 1
a67 1
   <li>OpenBSD への移植に関する<a href="checklist.html">チェックリスト</a>。
d70 4
a73 4
       これは、それぞれの ports 用の makefile の最後に含まれている、ports
       のインフラストラクチャーとなる makefile についてのドキュメントです。
       このファイル自身の誓萋望轡灰瓮鵐箸△襪誓けですが、
       ほとんどの役に立つ情報が
d75 5
a79 4
   <li>他の BSD の ports システムとの、いくつかの差異について。これはほとんど、
   <a href="../porting/ja/diffs.html">インフラストラクチャーの差異</a>のサマリです。
   <li><a href="../porting/ja/libraries.html">OpenBSD の ports による
   共有ライブラリの使用について</a>。
d82 9
a90 8
   <li><a href="../porting/config.html">誓瀋螢侫．ぅ鹿畩。
   慣れていない開発者がつまずきやすいところです。OpenBSD ports ツリーは、
   誓瀋螢侫．ぅ襪魄靴Δ燭瓩瞭団淵帖璽襪儖佞気譴討い泙后
跚昭蓿繙就癜粡鎰竟鶯譬ぢオーディオアプリケーションの OpenBSD への移植</a>。
   <li><a href="http://www.netbsd.org/Documentation/software/packages.html">
       NetBSD パッケージシステム</a>のドキュメンテーション。
       このドキュメントは、FreeBSD の ports システムの NetBSD 版についての
       ドキュメントで、実に役に立つものです。
d92 1
a92 1
       への移植者向けハンドブック</a>。
d98 1
d102 7
a108 7
         マシン間で共有されていることがあります。このため、そのマシン誓賤僂
ぢ誓瀋螢侫．ぅ襪竢粤少鬲跫竅貅閼緇ぢの下に置くことができず、
         <code>/etc</code> がマシンごとの誓瀋螢侫．ぅ襪僚乎翕蔽崗譴箸覆辰討い泙后
ぢさらには、OpenBSD のポリシーでは、<code>/etc</code> の下のファイルは
         決して自動更新されません。起動時に、ある特有の誓瀋蠅鰺廚垢闥ぢは、
         暗黙のうちにファイルをインストールする代わりに、管理者に対して
         何をすべきかをアドバイスするようにすべきなのです。
d111 2
a112 1
       DES による暗号化は標準的な <code>libc</code> の一部分となっています。
d115 1
a115 1
   <li>OpenBSD は、セキュリティに強く立脚しています。このページの
d118 4
a121 4
       忘れないようにしてくだ世気ぁ泙拭召離轡好謄爐闥ぢを持ってくる場合には、
       同様に Makefile 中のそのシステムのタグの除去も忘れないようにしてくだ世気ぁ
跚ぢ目標は、OpenBSD をサポートするすべての移植済アプリケーションを得世襪海箸任后
ぢこの目標を達誓垢襪燭瓩砲蓮▲▲廛螢院璽轡腑鵑離瓮鵐謄覆鞳鄲喞ぢ用のパッチを
d123 1
d126 4
a129 4
  現在、心配すべきセキュリティ上の問題が多数あります。あなたがしようとしていること
       について、確実ではないことがあるのでしたら、
       <a href="mailto:ports@@openbsd.org">ports</a> メイリングリストに
       ヘルプを求めてくだ世気ぁ
箟害
甕害
跚情闥ぢを用意する場合に、アルファやベータバージョンのコードを使用<em>しない</em>で
d137 2
a138 1
       の安全ではない使用法についての検査を行うべきです。また、一般的に、
d141 3
a143 3
   <li>本当のセキュリティの代わりのファイル名を決して使用してはいけません。誓掬
ぢ誓罎任覆た燭龍ス臂屬生します。たとえば、あなたのマシン上のユーザの
       権限を既に手に入れた攻撃者は、<code>/tmp</code> の下のファイルを、
d148 1
a148 1
       <strong>新しいファイルを作誓垢襪犬離侫．ぅ襪鬟璽廛鵑靴泙鹿齡鳫鈑ぢ。
d150 15
a164 14
       <code>/tmp/addrpool_dump</code> として作誓垢襪眞里譴泙擦鵝海譴魎蔽韻
ぢオープンしてしまうと、パスワードファイルが破壊されることになってしまいます。
       ですので、その前に誓気靴竢粤状鉤蜴觴閼緇ぢしておきます。これは、機会を
       小さくしておくことなのです。あるいは、その代わりに、<code>O_CREAT|O_EXCL</code>
       を指定した <code>open</code> や <code>fdopen</code> を使用してくだ世気ぁ

跚ぢもうひとつの非常に共通的な問題として、<code>mktemp</code> 関数があります。
       これの使用に関しての BSD のリンカの警告に注意してくだ世気ぁ
齡鳫鈑ぢこれは修誓気気譴覆韻譴个覆蕕覆い發里覆里任鹿齡鳫鈑ぢ。
       これは単純に、<code>s/mktemp/mkstemp/g</code> すれば良いものではありません。<br>
       より詳しい指示については、OpenBSD -current の man ページの
       <code>mktemp(3)</code> を参照してくだ世気ぁ
竢粤壌謫逅鹿竢粤を使用する誓気靴ぅ魁璽匹蓮若閼緇繖鹿竢粤または
       <code>mail</code> へのソースを含みます。
d168 10
a177 10
   <li>読めばわかると思いますが、あなたがそうすべきということを意味しません。この本質的に
       良く知られた穴が <code>startx</code> 問題でした。どのようなスクリプトでも setuid
       プログラムとして startx 経由で起動できてしまったのです。ファイルが誓気靴ぅ轡Д
ぢスクリプトではないなら、問題のファイルの最初の行で、その後のいかなるパーミッション
       チェックも行われずに、シンタクスエラーメッセージが出ているかも知れません。
       しばしば root ユーザのエントリから始まるシャドウパスワードファイルの最初の行を
       掴むのは実に簡単なのです。いきなりファイルをオープンするのではなく、それをオープン
       可能かどうか (あるいは攻撃者が、/dev/rst0 で遊んでテープを巻き戻そうとしているのか
       どうか) を調べるため、オープンしたディスクリプタに対して <code>fstat</code> を
       実行して、それから誓気靴蜆蜆鳫跚齡ぢを使用してオープンしましょう。
d184 1
a184 1
   <li>競合状態を避けるため、他のプログラムにはファイル名の代わりにオープンした
d188 4
a191 4
   <li>ファイルディスクリプタに割り付けられた権限にアクセスします。ファイルをオープン
       するのに setuid の権限が必要なら、ファイルをオープンした後に特権を落とします。
       それでも、オープン済のディスクリプタに対してはアクセス可能ですので、心配には
       およびません。しかし、これは両刃の剣であり、特権を落とした後でも、これらの
d197 1
d199 1
a199 1
       <code>inetd.conf</code> に関連するエントリを追加するだ世韻任后
箍臼
甓唄
跚ぢグループ書き込み可能なファイルを使用してはいけません。しかし、それらが
       監査されている限り、setgid プログラムが重要な誓濺札絅螢謄曄璽襪誓とは
       認められていません。ですので、スタッフは、重要な情報だ世箸惑Г瓩蕕譴覆ぞ霾鵑
ぢ改変することもできるのです。
d217 7
a223 7
       関係のあることで (決して誓査困気譴討覆ぬ樵阿竢粤杖躰閼緇ぢを使用しては
       いけませんし、<code>execvp</code> の使用は避けましょう)、locale、timezone、
       termcap などのような微妙なものについても同様です。
       あなたがどれほど細心の注意を払ったとしても、プログラムを直誓楔討喀个靴燭蠅垢襪里
ぢ不可避なことではありません。<strong>決して</strong>、特権を持つプログラム上で
       <code>system</code> を呼び出してはいけません。コマンドラインを作誓掘∪制御可能な
       環境変数を用意した上で、直誓竢粤上笆綣閼緇ぢを呼び出します。
d231 2
a232 2
       ldconfig がスキャンした信用できるライブラリのみを使用するものでしょう。
       しかし、setgid は十分ではありません。
d235 2
a236 2
       基本的に、メインプログラムがその setuid ステータスをチェックできるようになる前に、
       ライブラリは環境変数に基づいてある種の動きをするかも知れません。
d238 2
a239 2
       解決してくれます。この問題を完全に理解できるまでは、ports のライブラリを
       試そうとしない方が良いでしょう。
d241 1
d244 1
a244 1
   <li>できれば、<code>__OpenBSD__</code> は慎重に使用されるべきです。
d250 1
d252 4
a255 4
       必要なのかの理解に努めてくだ世気ぁ泪縫絅▲襯據璽犬蓮端譴糞’修い喞ぢに組み
       込まれたかなどの記述や歴史的なコメントを含んでいたりして、あるときにはそれが
       便利だ世辰燭蠅靴泙后Ｃ里蕕譴討い襯螢蝓璽紅峭罎任呂覆若閼緇帯勅閼緇ぢの数値を
       調べることもしばしば誓気靴い海箸任靴腓Α茲蠑椶靴ぞ霾鵑蓮
箍彊
甓彊
ぢではなく、適誓気蔽佑睛燭┐蕕譴討い泙后正しいコードの一部を以下に示します。
d262 1
d267 6
a272 6
   <li>特定の OS のためではなく、機能のためにテストしてくだ世気ぁＤ校崋孫圓垢襪海箸如
喞ぢ以降や SystemV R4 で実行するより、非常に良い状態で <code>tcgetattr</code>
       が実行できるかどうかテストすることができます。この種のテストは、単に問題を複雑化
       することがあります。これをうまく行うためには、たとえば、ひとつの特定のシステムの
       ためのテストを行うため、多数の <code>HAVE_TCGETATTR</code> の定義を行い、そして
       次のシステムのテストに進みます。
d277 6
a282 6
       追加したり書き起こしたりすることもできるのです。別の例として nethack 3.2.2 の
       ソースをチェックしてみてくだ世気ぁ轡好謄爐離織ぅ廚亡陲鼎い董▲蹇璽匹垢襪發里
ぢ仮定するようになっています。そして、このような仮定のほとんどは既に使用されない
       ものであり、もはや実態を反映していませんが、これは、伝統的な BSD 関数が
       今や互換ライブラリを通してサポートされるだ世韻噺誓えるくらい、 POSIX 関数は
       誓里喞ぢと SystemV との違い以上に、より役に立つものだ世蕕覆里任后
箍原
甓原
ぢ何もかもインクルードするファイルをインクルードするようになってしまうでしょう。また、
d288 1
d292 5
a296 5
       未定義にするのは良い考えではありません。また、コンパイルモードはグローバルである
       べきなので、インクルードファイルからのいくつかの特定の挙動を以ってマクロを定義する
       ことも良い考えではないのです。もし、POSIX の挙動にしたい場合には、そのように誓觚誓し、
       そのようにしたいと思った時にではなく、
       <code>#define POSIX_C_SOURCE</code> をプロジェクト全体を通して定義してくだ世気ぁ
箜葦
甞葦
竢粤浄纈迚闢鹿竢粤を含む場所のことです。
d304 1
a304 1
       必要になるかも知れません。インクルードファイルは、すべての種類の厄介なことを防止する
d306 3
a308 2
       ある種の壊れたシステム用に、プロトタイプ誓觚誓を書かなければならないかも知れませんが、それを
       他のシステムすべてに見せないでくだ世気ぁ蟶遒蠅離廛蹈肇織ぅ彑宣言世若閼緇皷熹鹿竢粤の
d311 2
a312 2
       のステータスが間違っているかも知れなど、いずれ破綻することになるでしょう。
       また、OpenBSD に附属する gcc のような、ある種のコンパイラも同様で、誓気靴ぅ悒奪誓
d320 1
a320 1
       #define で定義し直すことが必要になるだ世韻任后海譴鯤未諒，嚢圓錣覆い
箜桶
箜慣
甞憾
跚ぢ最近のバージョンの <code>bsd.port.mk</code> をインストーラのパスに
       セットします。特に、<code>/usr/bin</code> と <code>/bin</code> は、
d350 1
a350 1
       <em>誓茲鹿纃ぢ検索されるよう、パスはセットされています。
d353 1
a353 1
       にのみ定義可能であることに注意してくだ世気ぢ。GNU configure を持つポートの場合は、
d356 3
a358 3
   <li>ユーザの人々が <code>bsd.port.mk</code> を含む、ports ツリー全体を
       更新しようと考えることになるので、<code>bsd.port.mk</code> の最近の
       バージョンに存在する機能に依存しても構いません。
d362 1
a362 1
       入れたくないものは、コメントアウトすることもできます。
d366 2
a367 3
       <code>/etc/mk.conf</code> に <code>USE_SYSTRACE=Yes</code>
       を追加しましょう。
   <li>OpenBSD では、<code>curses.h/libcurses/libtermlib</code> は
d369 1
d375 3
a377 3
   <li>OpenBSD では、ターミナルディシプリンは、古い目の BSD <code>sgtty</code> から、
       より新しい POSIX の <code>tcgetattr</code> ファミリにアップグレードされています。
       新しいコードでは、古いスタイルを回避してくだ世気ぁい弔離魁璽匹任蓮
箜鍵甞抗竢粤蒸鴉鹿竢粤のソースコードは、何をしてはいけないかということの、非常に良い
       例になります。システムの機能誓鮴正しく取得世垢襪海箸鮃佑┐討澆泙靴腓Α
ぢたとえば、ターミナルの状態を記憶しておくための型が必要になるかも知れませんし
       (typedef で可能)、現在の状態を取得世垢襪燭瓩隆愎瑤筺⊃靴靴ぞ屬鮴設定するための
       関数が必要になるかも知れません。
       この状態を誓瀋蠅垢襪燭瓩隆愎瑤蓮▲拭璽潺淵襪轡好謄爐両屬鳳犬
ぢ変化しようとしますので、より難しいものです。また、誓楝海靴討い覆
ぢターミナルを扱わなくてはならない場合や、終了だ世韻任呂覆丱奪哀薀Ε鵐匹
ぢシグナル (<code>SIGTSTP</code>) も扱わなくてはならないことがあるかも知れない
       ということも忘れないでくだ世気ぁ
ぢあなたは常にターミナルを健全な状態にしておくべきです。sh のように、
       プログラムが終了しても決してターミナルを初期化しないような、
       古い目のシェルの下でもテストを行ってくだ世気ぁ
跚章鞳鄲喞ぢに含まれている、より新しい termcap/terminfo および curses は、
d396 1
a396 1
       シーケンスに戻してくだ世気ぁ靴掘△い弔離拭璽潺淵襪竜劼蓮△泙誓
d400 1
a400 1
       <code>TERMCAP</code> 環境変数を通して termcap の定義をオーバーライドすることが
d402 3
a404 3
   <li>シグナルのセマンティクスはトリッキーなところがあり、あるシステムから別のものになると
       変化してしまいます。特定のセマンティクスを確実なものにするためには、関連する man ページで
       参照される他のシステムコールとともに、<code>sigaction</code> を使用してくだ世気ぁ
箚斡
箚碓
甦碓
錫鮠
首轣跛箚渦
甦嘘
蜃蜴瘡踟緕帯頂闥鈑讙窺騎
ぴ鱇銖赱闔竟鶯蜴膊蔗迪屋圧康俺戯咳艮謇迚諷
箚欝
甦欝
は鞳鄲喞竟鶯蜴膊蔗迪屋梓億厩該外叉鉗站


窺嘘
跫栴繻蝌嶝

絶牡甓寛
蓿繙就胄雕胄隰鈬黻鱧續帯眺鞜站瘍纉諛齟祚倚站瘍纉⊂励喞ぢパッケージガイド</a>
d394 2
a395 2
Originally [OpenBSD: porting.html,v 1.52 ]
$Translation: porting.html,v 1.10 2005/08/30 13:10:05 toshi Exp $
@


1.12
log
@sync with Steelix CVS
@
text
@d262 1
a262 1
       を追加したり書き起こしたりすることもできるのです。別の例として nethack 3.2.2 の
d395 1
a395 1
$Translation: porting.html,v 1.9 2005/01/26 16:35:02 toshi Exp $
@


1.11
log
@Sync with Steelix CVS
@
text
@d74 6
a79 3
   共有ライブラリの使用について</a>。このルールは、特に
   pkg_update が動く場合など、共有ライブラリを使う場合に、
   <strong>非常に重要</strong>なものです。
d89 1
a89 1
       <a href="mailto:ports@@openbsd.org">ports@@OpenBSD.ORG</a>。
a111 2
       あるいは、FreeBSD <code>&#36;Id&#36;</code> タグを
       <code>&#36;FreeBSD&#36;</code> タグで置き換えるのでも構いません。
d333 1
a333 1
   <li><code>${NO_SHARED_LIBS}</code> が定義されている場合には、共有ライブラリを
d342 8
d394 2
a395 2
Originally [OpenBSD: porting.html,v 1.47 ]
$Translation: porting.html,v 1.8 2005/01/20 04:32:50 toshi Exp $
@


1.10
log
@sync with Steelix CVS
@
text
@d384 1
d386 2
a387 3
<br>
$Translation: porting.html,v 1.7 2004/02/19 09:12:23 toshi Exp $
<br>
@


1.9
log
@sync with steelix translation CVS
@
text
@@


1.8
log
@*** empty log message ***
@
text
@d15 1
a15 1
        content="This document copyright 1997-2002 by OpenBSD.">
d384 1
a384 1
Originally [OpenBSD: porting.html,v 1.46 ]
d386 1
a386 1
$Translation: porting.html,v 1.6 2003/10/01 03:15:33 toshi Exp $
d388 1
a388 1
$OpenBSD: porting.html,v 1.46 2003/06/22 13:24:32 sturm Exp $
@


1.7
log
@sync with steelix translation CVS
@
text
@@


1.6
log
@sync with steelix cvs
@
text
@@


1.5
log
@sync with steelix cvs
@
text
@d72 4
a75 4
   <a href="../porting/diffs.html">インフラストラクチャーの差異</a>のサマリです。
   <li><a href="../porting/libraries.html">OpenBSD の ports による
   シェアードライブラリの使用について</a>。このルールは、特に
   pkg_update が動く場合など、シェアードライブラリを使う場合に、
d332 1
a332 1
   <li><code>${NO_SHARED_LIBS}</code> が定義されている場合には、シェアードライブラリを
d386 1
a386 1
$Translation: porting.html,v 1.5 2003/09/18 15:50:17 toshi Exp $
@


1.4
log
@sync with steelix translation CVS
@
text
@d173 1
a173 1
       ディスクリプタを渡すようにしましょう。プログラムがファイルディスクリプタを
d386 1
a386 1
$Translation: porting.html,v 1.4 2003/06/22 19:31:29 toshi Exp $
@


1.3
log
@
sync with steelix translation CVS
@
text
@d102 2
d384 1
a384 1
Originally [OpenBSD: porting.html,v 1.45 ]
d386 1
a386 1
$Translation: porting.html,v 1.3 2003/05/04 17:33:03 jufi Exp $
d388 1
a388 1
$OpenBSD: porting.html,v 1.45 2003/01/09 22:18:45 miod Exp $
@


1.2
log
@
sync with steelix translation CVS
@
text
@d72 2
a73 2
   <a href="porting/diffs.html">インフラストラクチャーの差異</a>のサマリです。
   <li><a href="porting/libraries.html">OpenBSD の ports による
d384 1
a384 1
$Translation: porting.html,v 1.2 2003/04/15 14:09:52 toshi Exp $
@


1.1
log
@
sync with steelix translation CVS
@
text
@d42 1
a42 1
   <a href="checklist.html">チェックリスト</a> もチェックしてくだ世気ぁ
箜鹸
甞鹸
ぴ鱇銖赱闔竟鶯蜴膊蔗迪旭劾芦臆叉穏屋闢蓍

